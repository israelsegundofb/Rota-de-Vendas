(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Sp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $g={exports:{}},rf={};var GT;function BD(){if(GT)return rf;GT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return rf.Fragment=e,rf.jsx=n,rf.jsxs=n,rf}var qT;function zD(){return qT||(qT=1,$g.exports=BD()),$g.exports}var E=zD(),Kg={exports:{}},yt={};var jT;function HD(){if(jT)return yt;jT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function T(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function P(W,V,X){this.props=W,this.context=V,this.refs=C,this.updater=X||S}P.prototype.isReactComponent={},P.prototype.setState=function(W,V){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,V,"setState")},P.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function B(){}B.prototype=P.prototype;function k(W,V,X){this.props=W,this.context=V,this.refs=C,this.updater=X||S}var H=k.prototype=new B;H.constructor=k,A(H,P.prototype),H.isPureReactComponent=!0;var G=Array.isArray;function K(){}var R={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function b(W,V,X){var ee=X.ref;return{$$typeof:t,type:W,key:V,ref:ee!==void 0?ee:null,props:X}}function F(W,V){return b(W.type,V,W.props)}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function D(W){var V={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(X){return V[X]})}var U=/\/+/g;function fe(W,V){return typeof W=="object"&&W!==null&&W.key!=null?D(""+W.key):V.toString(36)}function ie(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(K,K):(W.status="pending",W.then(function(V){W.status==="pending"&&(W.status="fulfilled",W.value=V)},function(V){W.status==="pending"&&(W.status="rejected",W.reason=V)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function se(W,V,X,ee,ne){var he=typeof W;(he==="undefined"||he==="boolean")&&(W=null);var me=!1;if(W===null)me=!0;else switch(he){case"bigint":case"string":case"number":me=!0;break;case"object":switch(W.$$typeof){case t:case e:me=!0;break;case h:return me=W._init,se(me(W._payload),V,X,ee,ne)}}if(me)return ne=ne(W),me=ee===""?"."+fe(W,0):ee,G(ne)?(X="",me!=null&&(X=me.replace(U,"$&/")+"/"),se(ne,V,X,"",function(ke){return ke})):ne!=null&&(O(ne)&&(ne=F(ne,X+(ne.key==null||W&&W.key===ne.key?"":(""+ne.key).replace(U,"$&/")+"/")+me)),V.push(ne)),1;me=0;var Ne=ee===""?".":ee+":";if(G(W))for(var Ce=0;Ce<W.length;Ce++)ee=W[Ce],he=Ne+fe(ee,Ce),me+=se(ee,V,X,he,ne);else if(Ce=T(W),typeof Ce=="function")for(W=Ce.call(W),Ce=0;!(ee=W.next()).done;)ee=ee.value,he=Ne+fe(ee,Ce++),me+=se(ee,V,X,he,ne);else if(he==="object"){if(typeof W.then=="function")return se(ie(W),V,X,ee,ne);throw V=String(W),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return me}function le(W,V,X){if(W==null)return W;var ee=[],ne=0;return se(W,ee,"","",function(he){return V.call(X,he,ne++)}),ee}function ce(W){if(W._status===-1){var V=W._result;V=V(),V.then(function(X){(W._status===0||W._status===-1)&&(W._status=1,W._result=X)},function(X){(W._status===0||W._status===-1)&&(W._status=2,W._result=X)}),W._status===-1&&(W._status=0,W._result=V)}if(W._status===1)return W._result.default;throw W._result}var ae=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Me={map:le,forEach:function(W,V,X){le(W,function(){V.apply(this,arguments)},X)},count:function(W){var V=0;return le(W,function(){V++}),V},toArray:function(W){return le(W,function(V){return V})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return yt.Activity=g,yt.Children=Me,yt.Component=P,yt.Fragment=n,yt.Profiler=i,yt.PureComponent=k,yt.StrictMode=r,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,yt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return R.H.useMemoCache(W)}},yt.cache=function(W){return function(){return W.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(W,V,X){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ee=A({},W.props),ne=W.key;if(V!=null)for(he in V.key!==void 0&&(ne=""+V.key),V)!N.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(ee[he]=V[he]);var he=arguments.length-2;if(he===1)ee.children=X;else if(1<he){for(var me=Array(he),Ne=0;Ne<he;Ne++)me[Ne]=arguments[Ne+2];ee.children=me}return b(W.type,ne,ee)},yt.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:s,_context:W},W},yt.createElement=function(W,V,X){var ee,ne={},he=null;if(V!=null)for(ee in V.key!==void 0&&(he=""+V.key),V)N.call(V,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ne[ee]=V[ee]);var me=arguments.length-2;if(me===1)ne.children=X;else if(1<me){for(var Ne=Array(me),Ce=0;Ce<me;Ce++)Ne[Ce]=arguments[Ce+2];ne.children=Ne}if(W&&W.defaultProps)for(ee in me=W.defaultProps,me)ne[ee]===void 0&&(ne[ee]=me[ee]);return b(W,he,ne)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(W){return{$$typeof:c,render:W}},yt.isValidElement=O,yt.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:ce}},yt.memo=function(W,V){return{$$typeof:d,type:W,compare:V===void 0?null:V}},yt.startTransition=function(W){var V=R.T,X={};R.T=X;try{var ee=W(),ne=R.S;ne!==null&&ne(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(K,ae)}catch(he){ae(he)}finally{V!==null&&X.types!==null&&(V.types=X.types),R.T=V}},yt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},yt.use=function(W){return R.H.use(W)},yt.useActionState=function(W,V,X){return R.H.useActionState(W,V,X)},yt.useCallback=function(W,V){return R.H.useCallback(W,V)},yt.useContext=function(W){return R.H.useContext(W)},yt.useDebugValue=function(){},yt.useDeferredValue=function(W,V){return R.H.useDeferredValue(W,V)},yt.useEffect=function(W,V){return R.H.useEffect(W,V)},yt.useEffectEvent=function(W){return R.H.useEffectEvent(W)},yt.useId=function(){return R.H.useId()},yt.useImperativeHandle=function(W,V,X){return R.H.useImperativeHandle(W,V,X)},yt.useInsertionEffect=function(W,V){return R.H.useInsertionEffect(W,V)},yt.useLayoutEffect=function(W,V){return R.H.useLayoutEffect(W,V)},yt.useMemo=function(W,V){return R.H.useMemo(W,V)},yt.useOptimistic=function(W,V){return R.H.useOptimistic(W,V)},yt.useReducer=function(W,V,X){return R.H.useReducer(W,V,X)},yt.useRef=function(W){return R.H.useRef(W)},yt.useState=function(W){return R.H.useState(W)},yt.useSyncExternalStore=function(W,V,X){return R.H.useSyncExternalStore(W,V,X)},yt.useTransition=function(){return R.H.useTransition()},yt.version="19.2.4",yt}var $T;function q1(){return $T||($T=1,Kg.exports=HD()),Kg.exports}var de=q1();const kn=Sp(de);var Jg={exports:{}},sf={},Yg={exports:{}},Wg={};var KT;function GD(){return KT||(KT=1,(function(t){function e(se,le){var ce=se.length;se.push(le);e:for(;0<ce;){var ae=ce-1>>>1,Me=se[ae];if(0<i(Me,le))se[ae]=le,se[ce]=Me,ce=ae;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var le=se[0],ce=se.pop();if(ce!==le){se[0]=ce;e:for(var ae=0,Me=se.length,W=Me>>>1;ae<W;){var V=2*(ae+1)-1,X=se[V],ee=V+1,ne=se[ee];if(0>i(X,ce))ee<Me&&0>i(ne,X)?(se[ae]=ne,se[ee]=ce,ae=ee):(se[ae]=X,se[V]=ce,ae=V);else if(ee<Me&&0>i(ne,ce))se[ae]=ne,se[ee]=ce,ae=ee;else break e}}return le}function i(se,le){var ce=se.sortIndex-le.sortIndex;return ce!==0?ce:se.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var f=[],d=[],h=1,g=null,v=3,T=!1,S=!1,A=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function H(se){for(var le=n(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=se)r(d),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(d)}}function G(se){if(A=!1,H(se),!S)if(n(f)!==null)S=!0,K||(K=!0,D());else{var le=n(d);le!==null&&ie(G,le.startTime-se)}}var K=!1,R=-1,N=5,b=-1;function F(){return C?!0:!(t.unstable_now()-b<N)}function O(){if(C=!1,K){var se=t.unstable_now();b=se;var le=!0;try{e:{S=!1,A&&(A=!1,B(R),R=-1),T=!0;var ce=v;try{t:{for(H(se),g=n(f);g!==null&&!(g.expirationTime>se&&F());){var ae=g.callback;if(typeof ae=="function"){g.callback=null,v=g.priorityLevel;var Me=ae(g.expirationTime<=se);if(se=t.unstable_now(),typeof Me=="function"){g.callback=Me,H(se),le=!0;break t}g===n(f)&&r(f),H(se)}else r(f);g=n(f)}if(g!==null)le=!0;else{var W=n(d);W!==null&&ie(G,W.startTime-se),le=!1}}break e}finally{g=null,v=ce,T=!1}le=void 0}}finally{le?D():K=!1}}}var D;if(typeof k=="function")D=function(){k(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,fe=U.port2;U.port1.onmessage=O,D=function(){fe.postMessage(null)}}else D=function(){P(O,0)};function ie(se,le){R=P(function(){se(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(se){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var ce=v;v=le;try{return se()}finally{v=ce}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(se,le){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ce=v;v=se;try{return le()}finally{v=ce}},t.unstable_scheduleCallback=function(se,le,ce){var ae=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ae+ce:ae):ce=ae,se){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=ce+Me,se={id:h++,callback:le,priorityLevel:se,startTime:ce,expirationTime:Me,sortIndex:-1},ce>ae?(se.sortIndex=ce,e(d,se),n(f)===null&&se===n(d)&&(A?(B(R),R=-1):A=!0,ie(G,ce-ae))):(se.sortIndex=Me,e(f,se),S||T||(S=!0,K||(K=!0,D()))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var le=v;return function(){var ce=v;v=le;try{return se.apply(this,arguments)}finally{v=ce}}}})(Wg)),Wg}var JT;function qD(){return JT||(JT=1,Yg.exports=GD()),Yg.exports}var Zg={exports:{}},kr={};var YT;function jD(){if(YT)return kr;YT=1;var t=q1();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,h)},kr.flushSync=function(f){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=h,r.d.f()}},kr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},kr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},kr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:T}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},kr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},kr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},kr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},kr.requestFormReset=function(f){r.d.r(f)},kr.unstable_batchedUpdates=function(f,d){return f(d)},kr.useFormState=function(f,d,h){return o.H.useFormState(f,d,h)},kr.useFormStatus=function(){return o.H.useHostTransitionStatus()},kr.version="19.2.4",kr}var WT;function BC(){if(WT)return Zg.exports;WT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zg.exports=jD(),Zg.exports}var ZT;function $D(){if(ZT)return sf;ZT=1;var t=qD(),e=q1(),n=BC();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var u=a,p=l;;){var _=u.return;if(_===null)break;var w=_.alternate;if(w===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===u)return f(_),a;if(w===p)return f(_),l;w=w.sibling}throw Error(r(188))}if(u.return!==p.return)u=_,p=w;else{for(var M=!1,q=_.child;q;){if(q===u){M=!0,u=_,p=w;break}if(q===p){M=!0,p=_,u=w;break}q=q.sibling}if(!M){for(q=w.child;q;){if(q===u){M=!0,u=w,p=_;break}if(q===p){M=!0,p=w,u=_;break}q=q.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),k=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(a){return a===null||typeof a!="object"?null:(a=O&&a[O]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function fe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case P:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case K:return"SuspenseList";case b:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case k:return a.displayName||"Context";case B:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return l=a.displayName||null,l!==null?l:fe(a.type)||"Memo";case N:l=a._payload,a=a._init;try{return fe(a(l))}catch{}}return null}var ie=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ae=[],Me=-1;function W(a){return{current:a}}function V(a){0>Me||(a.current=ae[Me],ae[Me]=null,Me--)}function X(a,l){Me++,ae[Me]=a.current,a.current=l}var ee=W(null),ne=W(null),he=W(null),me=W(null);function Ne(a,l){switch(X(he,l),X(ne,a),X(ee,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?dT(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=dT(l),a=hT(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(ee),X(ee,a)}function Ce(){V(ee),V(ne),V(he)}function ke(a){a.memoizedState!==null&&X(me,a);var l=ee.current,u=hT(l,a.type);l!==u&&(X(ne,a),X(ee,u))}function $e(a){ne.current===a&&(V(ee),V(ne)),me.current===a&&(V(me),Qu._currentValue=ce)}var re,ht;function Ye(a){if(re===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);re=l&&l[1]||"",ht=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+a+ht}var Ge=!1;function He(a,l){if(!a||Ge)return"";Ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(be){var we=be}Reflect.construct(a,[],Pe)}else{try{Pe.call()}catch(be){we=be}a.call(Pe.prototype)}}else{try{throw Error()}catch(be){we=be}(Pe=a())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(be){if(be&&we&&typeof be.stack=="string")return[be.stack,we.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),M=w[0],q=w[1];if(M&&q){var oe=M.split(`
`),_e=q.split(`
`);for(_=p=0;p<oe.length&&!oe[p].includes("DetermineComponentFrameRoot");)p++;for(;_<_e.length&&!_e[_].includes("DetermineComponentFrameRoot");)_++;if(p===oe.length||_===_e.length)for(p=oe.length-1,_=_e.length-1;1<=p&&0<=_&&oe[p]!==_e[_];)_--;for(;1<=p&&0<=_;p--,_--)if(oe[p]!==_e[_]){if(p!==1||_!==1)do if(p--,_--,0>_||oe[p]!==_e[_]){var Re=`
`+oe[p].replace(" at new "," at ");return a.displayName&&Re.includes("<anonymous>")&&(Re=Re.replace("<anonymous>",a.displayName)),Re}while(1<=p&&0<=_);break}}}finally{Ge=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ye(u):""}function Be(a,l){switch(a.tag){case 26:case 27:case 5:return Ye(a.type);case 16:return Ye("Lazy");case 13:return a.child!==l&&l!==null?Ye("Suspense Fallback"):Ye("Suspense");case 19:return Ye("SuspenseList");case 0:case 15:return He(a.type,!1);case 11:return He(a.type.render,!1);case 1:return He(a.type,!0);case 31:return Ye("Activity");default:return""}}function nt(a){try{var l="",u=null;do l+=Be(a,u),u=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var rt=Object.prototype.hasOwnProperty,ft=t.unstable_scheduleCallback,un=t.unstable_cancelCallback,Sn=t.unstable_shouldYield,zn=t.unstable_requestPaint,gt=t.unstable_now,Ut=t.unstable_getCurrentPriorityLevel,Ct=t.unstable_ImmediatePriority,fn=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,Mn=t.unstable_LowPriority,it=t.unstable_IdlePriority,Ft=t.log,Wt=t.unstable_setDisableYieldValue,bt=null,Kt=null;function pr(a){if(typeof Ft=="function"&&Wt(a),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(bt,a)}catch{}}var mn=Math.clz32?Math.clz32:Hs,wa=Math.log,Yi=Math.LN2;function Hs(a){return a>>>=0,a===0?32:31-(wa(a)/Yi|0)|0}var Gr=256,Wi=262144,yn=4194304;function mr(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ti(a,l,u){var p=a.pendingLanes;if(p===0)return 0;var _=0,w=a.suspendedLanes,M=a.pingedLanes;a=a.warmLanes;var q=p&134217727;return q!==0?(p=q&~w,p!==0?_=mr(p):(M&=q,M!==0?_=mr(M):u||(u=q&~a,u!==0&&(_=mr(u))))):(q=p&~w,q!==0?_=mr(q):M!==0?_=mr(M):u||(u=p&~a,u!==0&&(_=mr(u)))),_===0?0:l!==0&&l!==_&&(l&w)===0&&(w=_&-_,u=l&-l,w>=u||w===32&&(u&4194048)!==0)?l:_}function qr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function ko(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(){var a=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),a}function Nr(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function ar(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Xn(a,l,u,p,_,w){var M=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,oe=a.expirationTimes,_e=a.hiddenUpdates;for(u=M&~u;0<u;){var Re=31-mn(u),Pe=1<<Re;q[Re]=0,oe[Re]=-1;var we=_e[Re];if(we!==null)for(_e[Re]=null,Re=0;Re<we.length;Re++){var be=we[Re];be!==null&&(be.lane&=-536870913)}u&=~Pe}p!==0&&hi(a,p,0),w!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=w&~(M&~l))}function hi(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-mn(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Ie(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var p=31-mn(u),_=1<<p;_&l|a[p]&l&&(a[p]|=l),u&=~_}}function Xe(a,l){var u=l&-l;return u=(u&42)!==0?1:Qe(u),(u&(a.suspendedLanes|l))!==0?0:u}function Qe(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ct(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function z(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:OT(a.type))}function Z(a,l){var u=le.p;try{return le.p=a,l()}finally{le.p=u}}var j=Math.random().toString(36).slice(2),J="__reactFiber$"+j,Q="__reactProps$"+j,te="__reactContainer$"+j,ge="__reactEvents$"+j,Se="__reactListeners$"+j,ve="__reactHandles$"+j,Ee="__reactResources$"+j,Te="__reactMarker$"+j;function Ve(a){delete a[J],delete a[Q],delete a[ge],delete a[Se],delete a[ve]}function ze(a){var l=a[J];if(l)return l;for(var u=a.parentNode;u;){if(l=u[te]||u[J]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=_T(a);a!==null;){if(u=a[J])return u;a=_T(a)}return l}a=u,u=a.parentNode}return null}function Ke(a){if(a=a[J]||a[te]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ue(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function je(a){var l=a[Ee];return l||(l=a[Ee]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function et(a){a[Te]=!0}var Xt=new Set,Qt={};function dn(a,l){Ir(a,l),Ir(a+"Capture",l)}function Ir(a,l){for(Qt[a]=l,a=0;a<l.length;a++)Xt.add(l[a])}var Zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xi={},pi={};function Aa(a){return rt.call(pi,a)?!0:rt.call(Xi,a)?!1:Zi.test(a)?pi[a]=!0:(Xi[a]=!0,!1)}function Rr(a,l,u){if(Aa(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function mi(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function Hn(a,l,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+p)}}function or(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ca(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fu(a,l,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,w=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return _.call(this)},set:function(M){u=""+M,w.call(this,M)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(M){u=""+M},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function en(a){if(!a._valueTracker){var l=Ca(a)?"checked":"value";a._valueTracker=fu(a,l,""+a[l])}}function Do(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return a&&(p=Ca(a)?a.checked?"true":"false":a.value),a=p,a!==u?(l.setValue(a),!0):!1}function xs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Mo=/[\n"\\]/g;function ni(a){return a.replace(Mo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Pl(a,l,u,p,_,w,M,q){a.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.type=M:a.removeAttribute("type"),l!=null?M==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+or(l)):a.value!==""+or(l)&&(a.value=""+or(l)):M!=="submit"&&M!=="reset"||a.removeAttribute("value"),l!=null?du(a,M,or(l)):u!=null?du(a,M,or(u)):p!=null&&a.removeAttribute("value"),_==null&&w!=null&&(a.defaultChecked=!!w),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+or(q):a.removeAttribute("name")}function bd(a,l,u,p,_,w,M,q){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),l!=null||u!=null){if(!(w!=="submit"&&w!=="reset"||l!=null)){en(a);return}u=u!=null?""+or(u):"",l=l!=null?""+or(l):u,q||l===a.value||(a.value=l),a.defaultValue=l}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=q?a.checked:!!p,a.defaultChecked=!!p,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.name=M),en(a)}function du(a,l,u){l==="number"&&xs(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ba(a,l,u,p){if(a=a.options,l){l={};for(var _=0;_<u.length;_++)l["$"+u[_]]=!0;for(u=0;u<a.length;u++)_=l.hasOwnProperty("$"+a[u].value),a[u].selected!==_&&(a[u].selected=_),_&&p&&(a[u].defaultSelected=!0)}else{for(u=""+or(u),l=null,_=0;_<a.length;_++){if(a[_].value===u){a[_].selected=!0,p&&(a[_].defaultSelected=!0);return}l!==null||a[_].disabled||(l=a[_])}l!==null&&(l.selected=!0)}}function Nd(a,l,u){if(l!=null&&(l=""+or(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+or(u):""}function Na(a,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(r(92));if(ie(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=or(l),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),en(a)}function ri(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var Id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(a,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,u):typeof u!="number"||u===0||Id.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function pu(a,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var _ in l)p=l[_],l.hasOwnProperty(_)&&u[_]!==p&&hu(a,_,p)}else for(var w in l)l.hasOwnProperty(w)&&hu(a,w,l[w])}function Fl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ia=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(a){return Ia.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qi(){}var mu=null;function Ni(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ra=null,ys=null;function Po(a){var l=Ke(a);if(l&&(a=l.stateNode)){var u=a[Q]||null;e:switch(a=l.stateNode,l.type){case"input":if(Pl(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ni(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==a&&p.form===a.form){var _=p[Q]||null;if(!_)throw Error(r(90));Pl(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===a.form&&Do(p)}break e;case"textarea":Nd(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&ba(a,!!u.multiple,l,!1)}}}var Ll=!1;function ka(a,l,u){if(Ll)return a(l,u);Ll=!0;try{var p=a(l);return p}finally{if(Ll=!1,(Ra!==null||ys!==null)&&(wh(),Ra&&(l=Ra,a=ys,ys=Ra=null,Po(l),a)))for(l=0;l<a.length;l++)Po(a[l])}}function es(a,l){var u=a.stateNode;if(u===null)return null;var p=u[Q]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(Ii)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Fo=!1}var _s=null,gu=null,Oo=null;function vu(){if(Oo)return Oo;var a,l=gu,u=l.length,p,_="value"in _s?_s.value:_s.textContent,w=_.length;for(a=0;a<u&&l[a]===_[a];a++);var M=u-a;for(p=1;p<=M&&l[u-p]===_[w-p];p++);return Oo=_.slice(a,1<p?1-p:void 0)}function Lo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Gs(){return!0}function ts(){return!1}function gr(a){function l(u,p,_,w,M){this._reactName=u,this._targetInst=_,this.type=p,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(w):w[q]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Gs:ts,this.isPropagationStopped=ts,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),l}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=gr(qs),Da=g({},qs,{view:0,detail:0}),xu=gr(Da),Ma,Ul,Ts,Vl=g({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ts&&(Ts&&a.type==="mousemove"?(Ma=a.screenX-Ts.screenX,Ul=a.screenY-Ts.screenY):Ul=Ma=0,Ts=a),Ma)},movementY:function(a){return"movementY"in a?a.movementY:Ul}}),yu=gr(Vl),Uo=g({},Vl,{dataTransfer:0}),kd=gr(Uo),Dd=g({},Da,{relatedTarget:0}),Vo=gr(Dd),_u=g({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Md=gr(_u),Bl=g({},qs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pd=gr(Bl),Fd=g({},qs,{data:0}),ws=gr(Fd),Od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ud={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Ud[a])?!!l[a]:!1}function Pa(){return Vd}var jr=g({},Da,{key:function(a){if(a.key){var l=Od[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Lo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ld[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(a){return a.type==="keypress"?Lo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Lo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bd=gr(jr),zd=g({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=gr(zd),y=g({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),I=gr(y),L=g({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y=gr(L),xe=g({},Vl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ae=gr(xe),qe=g({},qs,{newState:0,oldState:0}),Tt=gr(qe),Pn=[9,13,27,32],Jt=Ii&&"CompositionEvent"in window,_n=null;Ii&&"documentMode"in document&&(_n=document.documentMode);var Ri=Ii&&"TextEvent"in window&&!_n,Ss=Ii&&(!Jt||_n&&8<_n&&11>=_n),ns=" ",rs=!1;function Bo(a,l){switch(a){case"keyup":return Pn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hl=!1;function u4(a,l){switch(a){case"compositionend":return zl(l);case"keypress":return l.which!==32?null:(rs=!0,ns);case"textInput":return a=l.data,a===ns&&rs?null:a;default:return null}}function f4(a,l){if(Hl)return a==="compositionend"||!Jt&&Bo(a,l)?(a=vu(),Oo=gu=_s=null,Hl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ss&&l.locale!=="ko"?null:l.data;default:return null}}var d4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wy(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!d4[a.type]:l==="textarea"}function Sy(a,l,u,p){Ra?ys?ys.push(p):ys=[p]:Ra=p,l=Rh(l,"onChange"),0<l.length&&(u=new Es("onChange","change",null,u,p),a.push({event:u,listeners:l}))}var Eu=null,Tu=null;function h4(a){aT(a,0)}function Hd(a){var l=Ue(a);if(Do(l))return a}function Ay(a,l){if(a==="change")return l}var Cy=!1;if(Ii){var Qp;if(Ii){var em="oninput"in document;if(!em){var by=document.createElement("div");by.setAttribute("oninput","return;"),em=typeof by.oninput=="function"}Qp=em}else Qp=!1;Cy=Qp&&(!document.documentMode||9<document.documentMode)}function Ny(){Eu&&(Eu.detachEvent("onpropertychange",Iy),Tu=Eu=null)}function Iy(a){if(a.propertyName==="value"&&Hd(Tu)){var l=[];Sy(l,Tu,a,Ni(a)),ka(h4,l)}}function p4(a,l,u){a==="focusin"?(Ny(),Eu=l,Tu=u,Eu.attachEvent("onpropertychange",Iy)):a==="focusout"&&Ny()}function m4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Hd(Tu)}function g4(a,l){if(a==="click")return Hd(l)}function v4(a,l){if(a==="input"||a==="change")return Hd(l)}function x4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var gi=typeof Object.is=="function"?Object.is:x4;function wu(a,l){if(gi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!rt.call(l,_)||!gi(a[_],l[_]))return!1}return!0}function Ry(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ky(a,l){var u=Ry(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=l&&p>=l)return{node:u,offset:l-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ry(u)}}function Dy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Dy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function My(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=xs(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=xs(a.document)}return l}function tm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var y4=Ii&&"documentMode"in document&&11>=document.documentMode,Gl=null,nm=null,Su=null,rm=!1;function Py(a,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;rm||Gl==null||Gl!==xs(p)||(p=Gl,"selectionStart"in p&&tm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Su&&wu(Su,p)||(Su=p,p=Rh(nm,"onSelect"),0<p.length&&(l=new Es("onSelect","select",null,l,u),a.push({event:l,listeners:p}),l.target=Gl)))}function zo(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var ql={animationend:zo("Animation","AnimationEnd"),animationiteration:zo("Animation","AnimationIteration"),animationstart:zo("Animation","AnimationStart"),transitionrun:zo("Transition","TransitionRun"),transitionstart:zo("Transition","TransitionStart"),transitioncancel:zo("Transition","TransitionCancel"),transitionend:zo("Transition","TransitionEnd")},im={},Fy={};Ii&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function Ho(a){if(im[a])return im[a];if(!ql[a])return a;var l=ql[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in Fy)return im[a]=l[u];return a}var Oy=Ho("animationend"),Ly=Ho("animationiteration"),Uy=Ho("animationstart"),_4=Ho("transitionrun"),E4=Ho("transitionstart"),T4=Ho("transitioncancel"),Vy=Ho("transitionend"),By=new Map,sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sm.push("scrollEnd");function is(a,l){By.set(a,l),dn(l,[a])}var Gd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ki=[],jl=0,am=0;function qd(){for(var a=jl,l=am=jl=0;l<a;){var u=ki[l];ki[l++]=null;var p=ki[l];ki[l++]=null;var _=ki[l];ki[l++]=null;var w=ki[l];if(ki[l++]=null,p!==null&&_!==null){var M=p.pending;M===null?_.next=_:(_.next=M.next,M.next=_),p.pending=_}w!==0&&zy(u,_,w)}}function jd(a,l,u,p){ki[jl++]=a,ki[jl++]=l,ki[jl++]=u,ki[jl++]=p,am|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function om(a,l,u,p){return jd(a,l,u,p),$d(a)}function Go(a,l){return jd(a,null,null,l),$d(a)}function zy(a,l,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var _=!1,w=a.return;w!==null;)w.childLanes|=u,p=w.alternate,p!==null&&(p.childLanes|=u),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(_=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,_&&l!==null&&(_=31-mn(u),a=w.hiddenUpdates,p=a[_],p===null?a[_]=[l]:p.push(l),l.lane=u|536870912),w):null}function $d(a){if(50<$u)throw $u=0,gg=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var $l={};function w4(a,l,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(a,l,u,p){return new w4(a,l,u,p)}function lm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $s(a,l){var u=a.alternate;return u===null?(u=vi(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Hy(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Kd(a,l,u,p,_,w){var M=0;if(p=a,typeof a=="function")lm(a)&&(M=1);else if(typeof a=="string")M=ND(a,u,ee.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case b:return a=vi(31,u,l,_),a.elementType=b,a.lanes=w,a;case A:return qo(u.children,_,w,l);case C:M=8,_|=24;break;case P:return a=vi(12,u,l,_|2),a.elementType=P,a.lanes=w,a;case G:return a=vi(13,u,l,_),a.elementType=G,a.lanes=w,a;case K:return a=vi(19,u,l,_),a.elementType=K,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:M=10;break e;case B:M=9;break e;case H:M=11;break e;case R:M=14;break e;case N:M=16,p=null;break e}M=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return l=vi(M,u,l,_),l.elementType=a,l.type=p,l.lanes=w,l}function qo(a,l,u,p){return a=vi(7,a,p,l),a.lanes=u,a}function cm(a,l,u){return a=vi(6,a,null,l),a.lanes=u,a}function Gy(a){var l=vi(18,null,null,0);return l.stateNode=a,l}function um(a,l,u){return l=vi(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var qy=new WeakMap;function Di(a,l){if(typeof a=="object"&&a!==null){var u=qy.get(a);return u!==void 0?u:(l={value:a,source:l,stack:nt(l)},qy.set(a,l),l)}return{value:a,source:l,stack:nt(l)}}var Kl=[],Jl=0,Jd=null,Au=0,Mi=[],Pi=0,Fa=null,As=1,Cs="";function Ks(a,l){Kl[Jl++]=Au,Kl[Jl++]=Jd,Jd=a,Au=l}function jy(a,l,u){Mi[Pi++]=As,Mi[Pi++]=Cs,Mi[Pi++]=Fa,Fa=a;var p=As;a=Cs;var _=32-mn(p)-1;p&=~(1<<_),u+=1;var w=32-mn(l)+_;if(30<w){var M=_-_%5;w=(p&(1<<M)-1).toString(32),p>>=M,_-=M,As=1<<32-mn(l)+_|u<<_|p,Cs=w+a}else As=1<<w|u<<_|p,Cs=a}function fm(a){a.return!==null&&(Ks(a,1),jy(a,1,0))}function dm(a){for(;a===Jd;)Jd=Kl[--Jl],Kl[Jl]=null,Au=Kl[--Jl],Kl[Jl]=null;for(;a===Fa;)Fa=Mi[--Pi],Mi[Pi]=null,Cs=Mi[--Pi],Mi[Pi]=null,As=Mi[--Pi],Mi[Pi]=null}function $y(a,l){Mi[Pi++]=As,Mi[Pi++]=Cs,Mi[Pi++]=Fa,As=l.id,Cs=l.overflow,Fa=a}var vr=null,gn=null,Ot=!1,Oa=null,Fi=!1,hm=Error(r(519));function La(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cu(Di(l,a)),hm}function Ky(a){var l=a.stateNode,u=a.type,p=a.memoizedProps;switch(l[J]=a,l[Q]=p,u){case"dialog":It("cancel",l),It("close",l);break;case"iframe":case"object":case"embed":It("load",l);break;case"video":case"audio":for(u=0;u<Ju.length;u++)It(Ju[u],l);break;case"source":It("error",l);break;case"img":case"image":case"link":It("error",l),It("load",l);break;case"details":It("toggle",l);break;case"input":It("invalid",l),bd(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":It("invalid",l);break;case"textarea":It("invalid",l),Na(l,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||uT(l.textContent,u)?(p.popover!=null&&(It("beforetoggle",l),It("toggle",l)),p.onScroll!=null&&It("scroll",l),p.onScrollEnd!=null&&It("scrollend",l),p.onClick!=null&&(l.onclick=Qi),l=!0):l=!1,l||La(a,!0)}function Jy(a){for(vr=a.return;vr;)switch(vr.tag){case 5:case 31:case 13:Fi=!1;return;case 27:case 3:Fi=!0;return;default:vr=vr.return}}function Yl(a){if(a!==vr)return!1;if(!Ot)return Jy(a),Ot=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||kg(a.type,a.memoizedProps)),u=!u),u&&gn&&La(a),Jy(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));gn=yT(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));gn=yT(a)}else l===27?(l=gn,Za(a.type)?(a=Og,Og=null,gn=a):gn=l):gn=vr?Li(a.stateNode.nextSibling):null;return!0}function jo(){gn=vr=null,Ot=!1}function pm(){var a=Oa;return a!==null&&(oi===null?oi=a:oi.push.apply(oi,a),Oa=null),a}function Cu(a){Oa===null?Oa=[a]:Oa.push(a)}var mm=W(null),$o=null,Js=null;function Ua(a,l,u){X(mm,l._currentValue),l._currentValue=u}function Ys(a){a._currentValue=mm.current,V(mm)}function gm(a,l,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===u)break;a=a.return}}function vm(a,l,u,p){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var w=_.dependencies;if(w!==null){var M=_.child;w=w.firstContext;e:for(;w!==null;){var q=w;w=_;for(var oe=0;oe<l.length;oe++)if(q.context===l[oe]){w.lanes|=u,q=w.alternate,q!==null&&(q.lanes|=u),gm(w.return,u,a),p||(M=null);break e}w=q.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(r(341));M.lanes|=u,w=M.alternate,w!==null&&(w.lanes|=u),gm(M,u,a),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===a){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function Wl(a,l,u,p){a=null;for(var _=l,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var q=_.type;gi(_.pendingProps.value,M.value)||(a!==null?a.push(q):a=[q])}}else if(_===me.current){if(M=_.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(Qu):a=[Qu])}_=_.return}a!==null&&vm(l,a,u,p),l.flags|=262144}function Yd(a){for(a=a.firstContext;a!==null;){if(!gi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ko(a){$o=a,Js=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function xr(a){return Yy($o,a)}function Wd(a,l){return $o===null&&Ko(a),Yy(a,l)}function Yy(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Js===null){if(a===null)throw Error(r(308));Js=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Js=Js.next=l;return u}var S4=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},A4=t.unstable_scheduleCallback,C4=t.unstable_NormalPriority,Gn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new S4,data:new Map,refCount:0}}function bu(a){a.refCount--,a.refCount===0&&A4(C4,function(){a.controller.abort()})}var Nu=null,ym=0,Zl=0,Xl=null;function b4(a,l){if(Nu===null){var u=Nu=[];ym=0,Zl=Tg(),Xl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return ym++,l.then(Wy,Wy),l}function Wy(){if(--ym===0&&Nu!==null){Xl!==null&&(Xl.status="fulfilled");var a=Nu;Nu=null,Zl=0,Xl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function N4(a,l){var u=[],p={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var _=0;_<u.length;_++)(0,u[_])(l)},function(_){for(p.status="rejected",p.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),p}var Zy=se.S;se.S=function(a,l){PE=gt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&b4(a,l),Zy!==null&&Zy(a,l)};var Jo=W(null);function _m(){var a=Jo.current;return a!==null?a:hn.pooledCache}function Zd(a,l){l===null?X(Jo,Jo.current):X(Jo,l.pool)}function Xy(){var a=_m();return a===null?null:{parent:Gn._currentValue,pool:a}}var Ql=Error(r(460)),Em=Error(r(474)),Xd=Error(r(542)),Qd={then:function(){}};function Qy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function e_(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(Qi,Qi),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,n_(a),a;default:if(typeof l.status=="string")l.then(Qi,Qi);else{if(a=hn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=p}},function(p){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,n_(a),a}throw Wo=l,Ql}}function Yo(a){try{var l=a._init;return l(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Wo=u,Ql):u}}var Wo=null;function t_(){if(Wo===null)throw Error(r(459));var a=Wo;return Wo=null,a}function n_(a){if(a===Ql||a===Xd)throw Error(r(483))}var ec=null,Iu=0;function eh(a){var l=Iu;return Iu+=1,ec===null&&(ec=[]),e_(ec,a,l)}function Ru(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function th(a,l){throw l.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function r_(a){function l(pe,ue){if(a){var ye=pe.deletions;ye===null?(pe.deletions=[ue],pe.flags|=16):ye.push(ue)}}function u(pe,ue){if(!a)return null;for(;ue!==null;)l(pe,ue),ue=ue.sibling;return null}function p(pe){for(var ue=new Map;pe!==null;)pe.key!==null?ue.set(pe.key,pe):ue.set(pe.index,pe),pe=pe.sibling;return ue}function _(pe,ue){return pe=$s(pe,ue),pe.index=0,pe.sibling=null,pe}function w(pe,ue,ye){return pe.index=ye,a?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<ue?(pe.flags|=67108866,ue):ye):(pe.flags|=67108866,ue)):(pe.flags|=1048576,ue)}function M(pe){return a&&pe.alternate===null&&(pe.flags|=67108866),pe}function q(pe,ue,ye,De){return ue===null||ue.tag!==6?(ue=cm(ye,pe.mode,De),ue.return=pe,ue):(ue=_(ue,ye),ue.return=pe,ue)}function oe(pe,ue,ye,De){var at=ye.type;return at===A?Re(pe,ue,ye.props.children,De,ye.key):ue!==null&&(ue.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&Yo(at)===ue.type)?(ue=_(ue,ye.props),Ru(ue,ye),ue.return=pe,ue):(ue=Kd(ye.type,ye.key,ye.props,null,pe.mode,De),Ru(ue,ye),ue.return=pe,ue)}function _e(pe,ue,ye,De){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==ye.containerInfo||ue.stateNode.implementation!==ye.implementation?(ue=um(ye,pe.mode,De),ue.return=pe,ue):(ue=_(ue,ye.children||[]),ue.return=pe,ue)}function Re(pe,ue,ye,De,at){return ue===null||ue.tag!==7?(ue=qo(ye,pe.mode,De,at),ue.return=pe,ue):(ue=_(ue,ye),ue.return=pe,ue)}function Pe(pe,ue,ye){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=cm(""+ue,pe.mode,ye),ue.return=pe,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case T:return ye=Kd(ue.type,ue.key,ue.props,null,pe.mode,ye),Ru(ye,ue),ye.return=pe,ye;case S:return ue=um(ue,pe.mode,ye),ue.return=pe,ue;case N:return ue=Yo(ue),Pe(pe,ue,ye)}if(ie(ue)||D(ue))return ue=qo(ue,pe.mode,ye,null),ue.return=pe,ue;if(typeof ue.then=="function")return Pe(pe,eh(ue),ye);if(ue.$$typeof===k)return Pe(pe,Wd(pe,ue),ye);th(pe,ue)}return null}function we(pe,ue,ye,De){var at=ue!==null?ue.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return at!==null?null:q(pe,ue,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case T:return ye.key===at?oe(pe,ue,ye,De):null;case S:return ye.key===at?_e(pe,ue,ye,De):null;case N:return ye=Yo(ye),we(pe,ue,ye,De)}if(ie(ye)||D(ye))return at!==null?null:Re(pe,ue,ye,De,null);if(typeof ye.then=="function")return we(pe,ue,eh(ye),De);if(ye.$$typeof===k)return we(pe,ue,Wd(pe,ye),De);th(pe,ye)}return null}function be(pe,ue,ye,De,at){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return pe=pe.get(ye)||null,q(ue,pe,""+De,at);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case T:return pe=pe.get(De.key===null?ye:De.key)||null,oe(ue,pe,De,at);case S:return pe=pe.get(De.key===null?ye:De.key)||null,_e(ue,pe,De,at);case N:return De=Yo(De),be(pe,ue,ye,De,at)}if(ie(De)||D(De))return pe=pe.get(ye)||null,Re(ue,pe,De,at,null);if(typeof De.then=="function")return be(pe,ue,ye,eh(De),at);if(De.$$typeof===k)return be(pe,ue,ye,Wd(ue,De),at);th(ue,De)}return null}function Ze(pe,ue,ye,De){for(var at=null,qt=null,tt=ue,At=ue=0,Dt=null;tt!==null&&At<ye.length;At++){tt.index>At?(Dt=tt,tt=null):Dt=tt.sibling;var jt=we(pe,tt,ye[At],De);if(jt===null){tt===null&&(tt=Dt);break}a&&tt&&jt.alternate===null&&l(pe,tt),ue=w(jt,ue,At),qt===null?at=jt:qt.sibling=jt,qt=jt,tt=Dt}if(At===ye.length)return u(pe,tt),Ot&&Ks(pe,At),at;if(tt===null){for(;At<ye.length;At++)tt=Pe(pe,ye[At],De),tt!==null&&(ue=w(tt,ue,At),qt===null?at=tt:qt.sibling=tt,qt=tt);return Ot&&Ks(pe,At),at}for(tt=p(tt);At<ye.length;At++)Dt=be(tt,pe,At,ye[At],De),Dt!==null&&(a&&Dt.alternate!==null&&tt.delete(Dt.key===null?At:Dt.key),ue=w(Dt,ue,At),qt===null?at=Dt:qt.sibling=Dt,qt=Dt);return a&&tt.forEach(function(no){return l(pe,no)}),Ot&&Ks(pe,At),at}function dt(pe,ue,ye,De){if(ye==null)throw Error(r(151));for(var at=null,qt=null,tt=ue,At=ue=0,Dt=null,jt=ye.next();tt!==null&&!jt.done;At++,jt=ye.next()){tt.index>At?(Dt=tt,tt=null):Dt=tt.sibling;var no=we(pe,tt,jt.value,De);if(no===null){tt===null&&(tt=Dt);break}a&&tt&&no.alternate===null&&l(pe,tt),ue=w(no,ue,At),qt===null?at=no:qt.sibling=no,qt=no,tt=Dt}if(jt.done)return u(pe,tt),Ot&&Ks(pe,At),at;if(tt===null){for(;!jt.done;At++,jt=ye.next())jt=Pe(pe,jt.value,De),jt!==null&&(ue=w(jt,ue,At),qt===null?at=jt:qt.sibling=jt,qt=jt);return Ot&&Ks(pe,At),at}for(tt=p(tt);!jt.done;At++,jt=ye.next())jt=be(tt,pe,At,jt.value,De),jt!==null&&(a&&jt.alternate!==null&&tt.delete(jt.key===null?At:jt.key),ue=w(jt,ue,At),qt===null?at=jt:qt.sibling=jt,qt=jt);return a&&tt.forEach(function(VD){return l(pe,VD)}),Ot&&Ks(pe,At),at}function ln(pe,ue,ye,De){if(typeof ye=="object"&&ye!==null&&ye.type===A&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case T:e:{for(var at=ye.key;ue!==null;){if(ue.key===at){if(at=ye.type,at===A){if(ue.tag===7){u(pe,ue.sibling),De=_(ue,ye.props.children),De.return=pe,pe=De;break e}}else if(ue.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&Yo(at)===ue.type){u(pe,ue.sibling),De=_(ue,ye.props),Ru(De,ye),De.return=pe,pe=De;break e}u(pe,ue);break}else l(pe,ue);ue=ue.sibling}ye.type===A?(De=qo(ye.props.children,pe.mode,De,ye.key),De.return=pe,pe=De):(De=Kd(ye.type,ye.key,ye.props,null,pe.mode,De),Ru(De,ye),De.return=pe,pe=De)}return M(pe);case S:e:{for(at=ye.key;ue!==null;){if(ue.key===at)if(ue.tag===4&&ue.stateNode.containerInfo===ye.containerInfo&&ue.stateNode.implementation===ye.implementation){u(pe,ue.sibling),De=_(ue,ye.children||[]),De.return=pe,pe=De;break e}else{u(pe,ue);break}else l(pe,ue);ue=ue.sibling}De=um(ye,pe.mode,De),De.return=pe,pe=De}return M(pe);case N:return ye=Yo(ye),ln(pe,ue,ye,De)}if(ie(ye))return Ze(pe,ue,ye,De);if(D(ye)){if(at=D(ye),typeof at!="function")throw Error(r(150));return ye=at.call(ye),dt(pe,ue,ye,De)}if(typeof ye.then=="function")return ln(pe,ue,eh(ye),De);if(ye.$$typeof===k)return ln(pe,ue,Wd(pe,ye),De);th(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,ue!==null&&ue.tag===6?(u(pe,ue.sibling),De=_(ue,ye),De.return=pe,pe=De):(u(pe,ue),De=cm(ye,pe.mode,De),De.return=pe,pe=De),M(pe)):u(pe,ue)}return function(pe,ue,ye,De){try{Iu=0;var at=ln(pe,ue,ye,De);return ec=null,at}catch(tt){if(tt===Ql||tt===Xd)throw tt;var qt=vi(29,tt,null,pe.mode);return qt.lanes=De,qt.return=pe,qt}}}var Zo=r_(!0),i_=r_(!1),Va=!1;function Tm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ba(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function za(a,l,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Yt&2)!==0){var _=p.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),p.pending=l,l=$d(a),zy(a,null,u),l}return jd(a,p,l,u),$d(a)}function ku(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,Ie(a,u)}}function Sm(a,l){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};w===null?_=w=M:w=w.next=M,u=u.next}while(u!==null);w===null?_=w=l:w=w.next=l}else _=w=l;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var Am=!1;function Du(){if(Am){var a=Xl;if(a!==null)throw a}}function Mu(a,l,u,p){Am=!1;var _=a.updateQueue;Va=!1;var w=_.firstBaseUpdate,M=_.lastBaseUpdate,q=_.shared.pending;if(q!==null){_.shared.pending=null;var oe=q,_e=oe.next;oe.next=null,M===null?w=_e:M.next=_e,M=oe;var Re=a.alternate;Re!==null&&(Re=Re.updateQueue,q=Re.lastBaseUpdate,q!==M&&(q===null?Re.firstBaseUpdate=_e:q.next=_e,Re.lastBaseUpdate=oe))}if(w!==null){var Pe=_.baseState;M=0,Re=_e=oe=null,q=w;do{var we=q.lane&-536870913,be=we!==q.lane;if(be?(kt&we)===we:(p&we)===we){we!==0&&we===Zl&&(Am=!0),Re!==null&&(Re=Re.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ze=a,dt=q;we=l;var ln=u;switch(dt.tag){case 1:if(Ze=dt.payload,typeof Ze=="function"){Pe=Ze.call(ln,Pe,we);break e}Pe=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=dt.payload,we=typeof Ze=="function"?Ze.call(ln,Pe,we):Ze,we==null)break e;Pe=g({},Pe,we);break e;case 2:Va=!0}}we=q.callback,we!==null&&(a.flags|=64,be&&(a.flags|=8192),be=_.callbacks,be===null?_.callbacks=[we]:be.push(we))}else be={lane:we,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Re===null?(_e=Re=be,oe=Pe):Re=Re.next=be,M|=we;if(q=q.next,q===null){if(q=_.shared.pending,q===null)break;be=q,q=be.next,be.next=null,_.lastBaseUpdate=be,_.shared.pending=null}}while(!0);Re===null&&(oe=Pe),_.baseState=oe,_.firstBaseUpdate=_e,_.lastBaseUpdate=Re,w===null&&(_.shared.lanes=0),$a|=M,a.lanes=M,a.memoizedState=Pe}}function s_(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function a_(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)s_(u[a],l)}var tc=W(null),nh=W(0);function o_(a,l){a=ia,X(nh,a),X(tc,l),ia=a|l.baseLanes}function Cm(){X(nh,ia),X(tc,tc.current)}function bm(){ia=nh.current,V(tc),V(nh)}var xi=W(null),Oi=null;function Ha(a){var l=a.alternate;X(Fn,Fn.current&1),X(xi,a),Oi===null&&(l===null||tc.current!==null||l.memoizedState!==null)&&(Oi=a)}function Nm(a){X(Fn,Fn.current),X(xi,a),Oi===null&&(Oi=a)}function l_(a){a.tag===22?(X(Fn,Fn.current),X(xi,a),Oi===null&&(Oi=a)):Ga()}function Ga(){X(Fn,Fn.current),X(xi,xi.current)}function yi(a){V(xi),Oi===a&&(Oi=null),V(Fn)}var Fn=W(0);function rh(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Pg(u)||Fg(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ws=0,wt=null,an=null,qn=null,ih=!1,nc=!1,Xo=!1,sh=0,Pu=0,rc=null,I4=0;function Nn(){throw Error(r(321))}function Im(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!gi(a[u],l[u]))return!1;return!0}function Rm(a,l,u,p,_,w){return Ws=w,wt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,se.H=a===null||a.memoizedState===null?j_:jm,Xo=!1,w=u(p,_),Xo=!1,nc&&(w=u_(l,u,p,_)),c_(a),w}function c_(a){se.H=Lu;var l=an!==null&&an.next!==null;if(Ws=0,qn=an=wt=null,ih=!1,Pu=0,rc=null,l)throw Error(r(300));a===null||jn||(a=a.dependencies,a!==null&&Yd(a)&&(jn=!0))}function u_(a,l,u,p){wt=a;var _=0;do{if(nc&&(rc=null),Pu=0,nc=!1,25<=_)throw Error(r(301));if(_+=1,qn=an=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}se.H=$_,w=l(u,p)}while(nc);return w}function R4(){var a=se.H,l=a.useState()[0];return l=typeof l.then=="function"?Fu(l):l,a=a.useState()[0],(an!==null?an.memoizedState:null)!==a&&(wt.flags|=1024),l}function km(){var a=sh!==0;return sh=0,a}function Dm(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function Mm(a){if(ih){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}ih=!1}Ws=0,qn=an=wt=null,nc=!1,Pu=sh=0,rc=null}function $r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?wt.memoizedState=qn=a:qn=qn.next=a,qn}function On(){if(an===null){var a=wt.alternate;a=a!==null?a.memoizedState:null}else a=an.next;var l=qn===null?wt.memoizedState:qn.next;if(l!==null)qn=l,an=a;else{if(a===null)throw wt.alternate===null?Error(r(467)):Error(r(310));an=a,a={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},qn===null?wt.memoizedState=qn=a:qn=qn.next=a}return qn}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fu(a){var l=Pu;return Pu+=1,rc===null&&(rc=[]),a=e_(rc,a,l),l=wt,(qn===null?l.memoizedState:qn.next)===null&&(l=l.alternate,se.H=l===null||l.memoizedState===null?j_:jm),a}function oh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Fu(a);if(a.$$typeof===k)return xr(a)}throw Error(r(438,String(a)))}function Pm(a){var l=null,u=wt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=wt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=ah(),wt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),p=0;p<a;p++)u[p]=F;return l.index++,u}function Zs(a,l){return typeof l=="function"?l(a):l}function lh(a){var l=On();return Fm(l,an,a)}function Fm(a,l,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var _=a.baseQueue,w=p.pending;if(w!==null){if(_!==null){var M=_.next;_.next=w.next,w.next=M}l.baseQueue=_=w,p.pending=null}if(w=a.baseState,_===null)a.memoizedState=w;else{l=_.next;var q=M=null,oe=null,_e=l,Re=!1;do{var Pe=_e.lane&-536870913;if(Pe!==_e.lane?(kt&Pe)===Pe:(Ws&Pe)===Pe){var we=_e.revertLane;if(we===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Pe===Zl&&(Re=!0);else if((Ws&we)===we){_e=_e.next,we===Zl&&(Re=!0);continue}else Pe={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},oe===null?(q=oe=Pe,M=w):oe=oe.next=Pe,wt.lanes|=we,$a|=we;Pe=_e.action,Xo&&u(w,Pe),w=_e.hasEagerState?_e.eagerState:u(w,Pe)}else we={lane:Pe,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},oe===null?(q=oe=we,M=w):oe=oe.next=we,wt.lanes|=Pe,$a|=Pe;_e=_e.next}while(_e!==null&&_e!==l);if(oe===null?M=w:oe.next=q,!gi(w,a.memoizedState)&&(jn=!0,Re&&(u=Xl,u!==null)))throw u;a.memoizedState=w,a.baseState=M,a.baseQueue=oe,p.lastRenderedState=w}return _===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Om(a){var l=On(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,_=u.pending,w=l.memoizedState;if(_!==null){u.pending=null;var M=_=_.next;do w=a(w,M.action),M=M.next;while(M!==_);gi(w,l.memoizedState)||(jn=!0),l.memoizedState=w,l.baseQueue===null&&(l.baseState=w),u.lastRenderedState=w}return[w,p]}function f_(a,l,u){var p=wt,_=On(),w=Ot;if(w){if(u===void 0)throw Error(r(407));u=u()}else u=l();var M=!gi((an||_).memoizedState,u);if(M&&(_.memoizedState=u,jn=!0),_=_.queue,Vm(p_.bind(null,p,_,a),[a]),_.getSnapshot!==l||M||qn!==null&&qn.memoizedState.tag&1){if(p.flags|=2048,ic(9,{destroy:void 0},h_.bind(null,p,_,u,l),null),hn===null)throw Error(r(349));w||(Ws&127)!==0||d_(p,l,u)}return u}function d_(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=wt.updateQueue,l===null?(l=ah(),wt.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function h_(a,l,u,p){l.value=u,l.getSnapshot=p,m_(l)&&g_(a)}function p_(a,l,u){return u(function(){m_(l)&&g_(a)})}function m_(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!gi(a,u)}catch{return!0}}function g_(a){var l=Go(a,2);l!==null&&li(l,a,2)}function Lm(a){var l=$r();if(typeof a=="function"){var u=a;if(a=u(),Xo){pr(!0);try{u()}finally{pr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},l}function v_(a,l,u,p){return a.baseState=u,Fm(a,an,typeof p=="function"?p:Zs)}function k4(a,l,u,p,_){if(fh(a))throw Error(r(485));if(a=l.action,a!==null){var w={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){w.listeners.push(M)}};se.T!==null?u(!0):w.isTransition=!1,p(w),u=l.pending,u===null?(w.next=l.pending=w,x_(l,w)):(w.next=u.next,l.pending=u.next=w)}}function x_(a,l){var u=l.action,p=l.payload,_=a.state;if(l.isTransition){var w=se.T,M={};se.T=M;try{var q=u(_,p),oe=se.S;oe!==null&&oe(M,q),y_(a,l,q)}catch(_e){Um(a,l,_e)}finally{w!==null&&M.types!==null&&(w.types=M.types),se.T=w}}else try{w=u(_,p),y_(a,l,w)}catch(_e){Um(a,l,_e)}}function y_(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){__(a,l,p)},function(p){return Um(a,l,p)}):__(a,l,u)}function __(a,l,u){l.status="fulfilled",l.value=u,E_(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,x_(a,u)))}function Um(a,l,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,E_(l),l=l.next;while(l!==p)}a.action=null}function E_(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function T_(a,l){return l}function w_(a,l){if(Ot){var u=hn.formState;if(u!==null){e:{var p=wt;if(Ot){if(gn){t:{for(var _=gn,w=Fi;_.nodeType!==8;){if(!w){_=null;break t}if(_=Li(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){gn=Li(_.nextSibling),p=_.data==="F!";break e}}La(p)}p=!1}p&&(l=u[0])}}return u=$r(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T_,lastRenderedState:l},u.queue=p,u=H_.bind(null,wt,p),p.dispatch=u,p=Lm(!1),w=qm.bind(null,wt,!1,p.queue),p=$r(),_={state:l,dispatch:null,action:a,pending:null},p.queue=_,u=k4.bind(null,wt,_,w,u),_.dispatch=u,p.memoizedState=a,[l,u,!1]}function S_(a){var l=On();return A_(l,an,a)}function A_(a,l,u){if(l=Fm(a,l,T_)[0],a=lh(Zs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Fu(l)}catch(M){throw M===Ql?Xd:M}else p=l;l=On();var _=l.queue,w=_.dispatch;return u!==l.memoizedState&&(wt.flags|=2048,ic(9,{destroy:void 0},D4.bind(null,_,u),null)),[p,w,a]}function D4(a,l){a.action=l}function C_(a){var l=On(),u=an;if(u!==null)return A_(l,u,a);On(),l=l.memoizedState,u=On();var p=u.queue.dispatch;return u.memoizedState=a,[l,p,!1]}function ic(a,l,u,p){return a={tag:a,create:u,deps:p,inst:l,next:null},l=wt.updateQueue,l===null&&(l=ah(),wt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,l.lastEffect=a),a}function b_(){return On().memoizedState}function ch(a,l,u,p){var _=$r();wt.flags|=a,_.memoizedState=ic(1|l,{destroy:void 0},u,p===void 0?null:p)}function uh(a,l,u,p){var _=On();p=p===void 0?null:p;var w=_.memoizedState.inst;an!==null&&p!==null&&Im(p,an.memoizedState.deps)?_.memoizedState=ic(l,w,u,p):(wt.flags|=a,_.memoizedState=ic(1|l,w,u,p))}function N_(a,l){ch(8390656,8,a,l)}function Vm(a,l){uh(2048,8,a,l)}function M4(a){wt.flags|=4;var l=wt.updateQueue;if(l===null)l=ah(),wt.updateQueue=l,l.events=[a];else{var u=l.events;u===null?l.events=[a]:u.push(a)}}function I_(a){var l=On().memoizedState;return M4({ref:l,nextImpl:a}),function(){if((Yt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function R_(a,l){return uh(4,2,a,l)}function k_(a,l){return uh(4,4,a,l)}function D_(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function M_(a,l,u){u=u!=null?u.concat([a]):null,uh(4,4,D_.bind(null,l,a),u)}function Bm(){}function P_(a,l){var u=On();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&Im(l,p[1])?p[0]:(u.memoizedState=[a,l],a)}function F_(a,l){var u=On();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&Im(l,p[1]))return p[0];if(p=a(),Xo){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[p,l],p}function zm(a,l,u){return u===void 0||(Ws&1073741824)!==0&&(kt&261930)===0?a.memoizedState=l:(a.memoizedState=u,a=OE(),wt.lanes|=a,$a|=a,u)}function O_(a,l,u,p){return gi(u,l)?u:tc.current!==null?(a=zm(a,u,p),gi(a,l)||(jn=!0),a):(Ws&42)===0||(Ws&1073741824)!==0&&(kt&261930)===0?(jn=!0,a.memoizedState=u):(a=OE(),wt.lanes|=a,$a|=a,l)}function L_(a,l,u,p,_){var w=le.p;le.p=w!==0&&8>w?w:8;var M=se.T,q={};se.T=q,qm(a,!1,l,u);try{var oe=_(),_e=se.S;if(_e!==null&&_e(q,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Re=N4(oe,p);Ou(a,l,Re,Ti(a))}else Ou(a,l,p,Ti(a))}catch(Pe){Ou(a,l,{then:function(){},status:"rejected",reason:Pe},Ti())}finally{le.p=w,M!==null&&q.types!==null&&(M.types=q.types),se.T=M}}function P4(){}function Hm(a,l,u,p){if(a.tag!==5)throw Error(r(476));var _=U_(a).queue;L_(a,_,l,ce,u===null?P4:function(){return V_(a),u(p)})}function U_(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:ce},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function V_(a){var l=U_(a);l.next===null&&(l=a.alternate.memoizedState),Ou(a,l.next.queue,{},Ti())}function Gm(){return xr(Qu)}function B_(){return On().memoizedState}function z_(){return On().memoizedState}function F4(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=Ti();a=Ba(u);var p=za(l,a,u);p!==null&&(li(p,l,u),ku(p,l,u)),l={cache:xm()},a.payload=l;return}l=l.return}}function O4(a,l,u){var p=Ti();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fh(a)?G_(l,u):(u=om(a,l,u,p),u!==null&&(li(u,a,p),q_(u,l,p)))}function H_(a,l,u){var p=Ti();Ou(a,l,u,p)}function Ou(a,l,u,p){var _={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(fh(a))G_(l,_);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=l.lastRenderedReducer,w!==null))try{var M=l.lastRenderedState,q=w(M,u);if(_.hasEagerState=!0,_.eagerState=q,gi(q,M))return jd(a,l,_,0),hn===null&&qd(),!1}catch{}if(u=om(a,l,_,p),u!==null)return li(u,a,p),q_(u,l,p),!0}return!1}function qm(a,l,u,p){if(p={lane:2,revertLane:Tg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},fh(a)){if(l)throw Error(r(479))}else l=om(a,u,p,2),l!==null&&li(l,a,2)}function fh(a){var l=a.alternate;return a===wt||l!==null&&l===wt}function G_(a,l){nc=ih=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function q_(a,l,u){if((u&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,Ie(a,u)}}var Lu={readContext:xr,use:oh,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};Lu.useEffectEvent=Nn;var j_={readContext:xr,use:oh,useCallback:function(a,l){return $r().memoizedState=[a,l===void 0?null:l],a},useContext:xr,useEffect:N_,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,ch(4194308,4,D_.bind(null,l,a),u)},useLayoutEffect:function(a,l){return ch(4194308,4,a,l)},useInsertionEffect:function(a,l){ch(4,2,a,l)},useMemo:function(a,l){var u=$r();l=l===void 0?null:l;var p=a();if(Xo){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[p,l],p},useReducer:function(a,l,u){var p=$r();if(u!==void 0){var _=u(l);if(Xo){pr(!0);try{u(l)}finally{pr(!1)}}}else _=l;return p.memoizedState=p.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},p.queue=a,a=a.dispatch=O4.bind(null,wt,a),[p.memoizedState,a]},useRef:function(a){var l=$r();return a={current:a},l.memoizedState=a},useState:function(a){a=Lm(a);var l=a.queue,u=H_.bind(null,wt,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:Bm,useDeferredValue:function(a,l){var u=$r();return zm(u,a,l)},useTransition:function(){var a=Lm(!1);return a=L_.bind(null,wt,a.queue,!0,!1),$r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var p=wt,_=$r();if(Ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),hn===null)throw Error(r(349));(kt&127)!==0||d_(p,l,u)}_.memoizedState=u;var w={value:u,getSnapshot:l};return _.queue=w,N_(p_.bind(null,p,w,a),[a]),p.flags|=2048,ic(9,{destroy:void 0},h_.bind(null,p,w,u,l),null),u},useId:function(){var a=$r(),l=hn.identifierPrefix;if(Ot){var u=Cs,p=As;u=(p&~(1<<32-mn(p)-1)).toString(32)+u,l="_"+l+"R_"+u,u=sh++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=I4++,l="_"+l+"r_"+u.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Gm,useFormState:w_,useActionState:w_,useOptimistic:function(a){var l=$r();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=qm.bind(null,wt,!0,u),u.dispatch=l,[a,l]},useMemoCache:Pm,useCacheRefresh:function(){return $r().memoizedState=F4.bind(null,wt)},useEffectEvent:function(a){var l=$r(),u={impl:a};return l.memoizedState=u,function(){if((Yt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},jm={readContext:xr,use:oh,useCallback:P_,useContext:xr,useEffect:Vm,useImperativeHandle:M_,useInsertionEffect:R_,useLayoutEffect:k_,useMemo:F_,useReducer:lh,useRef:b_,useState:function(){return lh(Zs)},useDebugValue:Bm,useDeferredValue:function(a,l){var u=On();return O_(u,an.memoizedState,a,l)},useTransition:function(){var a=lh(Zs)[0],l=On().memoizedState;return[typeof a=="boolean"?a:Fu(a),l]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:Gm,useFormState:S_,useActionState:S_,useOptimistic:function(a,l){var u=On();return v_(u,an,a,l)},useMemoCache:Pm,useCacheRefresh:z_};jm.useEffectEvent=I_;var $_={readContext:xr,use:oh,useCallback:P_,useContext:xr,useEffect:Vm,useImperativeHandle:M_,useInsertionEffect:R_,useLayoutEffect:k_,useMemo:F_,useReducer:Om,useRef:b_,useState:function(){return Om(Zs)},useDebugValue:Bm,useDeferredValue:function(a,l){var u=On();return an===null?zm(u,a,l):O_(u,an.memoizedState,a,l)},useTransition:function(){var a=Om(Zs)[0],l=On().memoizedState;return[typeof a=="boolean"?a:Fu(a),l]},useSyncExternalStore:f_,useId:B_,useHostTransitionStatus:Gm,useFormState:C_,useActionState:C_,useOptimistic:function(a,l){var u=On();return an!==null?v_(u,an,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Pm,useCacheRefresh:z_};$_.useEffectEvent=I_;function $m(a,l,u,p){l=a.memoizedState,u=u(p,l),u=u==null?l:g({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Km={enqueueSetState:function(a,l,u){a=a._reactInternals;var p=Ti(),_=Ba(p);_.payload=l,u!=null&&(_.callback=u),l=za(a,_,p),l!==null&&(li(l,a,p),ku(l,a,p))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var p=Ti(),_=Ba(p);_.tag=1,_.payload=l,u!=null&&(_.callback=u),l=za(a,_,p),l!==null&&(li(l,a,p),ku(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=Ti(),p=Ba(u);p.tag=2,l!=null&&(p.callback=l),l=za(a,p,u),l!==null&&(li(l,a,u),ku(l,a,u))}};function K_(a,l,u,p,_,w,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,M):l.prototype&&l.prototype.isPureReactComponent?!wu(u,p)||!wu(_,w):!0}function J_(a,l,u,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==a&&Km.enqueueReplaceState(l,l.state,null)}function Qo(a,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(a=a.defaultProps){u===l&&(u=g({},u));for(var _ in a)u[_]===void 0&&(u[_]=a[_])}return u}function Y_(a){Gd(a)}function W_(a){console.error(a)}function Z_(a){Gd(a)}function dh(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function X_(a,l,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Jm(a,l,u){return u=Ba(u),u.tag=3,u.payload={element:null},u.callback=function(){dh(a,l)},u}function Q_(a){return a=Ba(a),a.tag=3,a}function eE(a,l,u,p){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var w=p.value;a.payload=function(){return _(w)},a.callback=function(){X_(l,u,p)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){X_(l,u,p),typeof _!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function L4(a,l,u,p,_){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&Wl(l,u,_,!0),u=xi.current,u!==null){switch(u.tag){case 31:case 13:return Oi===null?Sh():u.alternate===null&&In===0&&(In=3),u.flags&=-257,u.flags|=65536,u.lanes=_,p===Qd?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),yg(a,p,_)),!1;case 22:return u.flags|=65536,p===Qd?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),yg(a,p,_)),!1}throw Error(r(435,u.tag))}return yg(a,p,_),Sh(),!1}if(Ot)return l=xi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,p!==hm&&(a=Error(r(422),{cause:p}),Cu(Di(a,u)))):(p!==hm&&(l=Error(r(423),{cause:p}),Cu(Di(l,u))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,p=Di(p,u),_=Jm(a.stateNode,p,_),Sm(a,_),In!==4&&(In=2)),!1;var w=Error(r(520),{cause:p});if(w=Di(w,u),ju===null?ju=[w]:ju.push(w),In!==4&&(In=2),l===null)return!0;p=Di(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=_&-_,u.lanes|=a,a=Jm(u.stateNode,p,a),Sm(u,a),!1;case 1:if(l=u.type,w=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ka===null||!Ka.has(w))))return u.flags|=65536,_&=-_,u.lanes|=_,_=Q_(_),eE(_,a,u,p),Sm(u,_),!1}u=u.return}while(u!==null);return!1}var Ym=Error(r(461)),jn=!1;function yr(a,l,u,p){l.child=a===null?i_(l,null,u,p):Zo(l,a.child,u,p)}function tE(a,l,u,p,_){u=u.render;var w=l.ref;if("ref"in p){var M={};for(var q in p)q!=="ref"&&(M[q]=p[q])}else M=p;return Ko(l),p=Rm(a,l,u,M,w,_),q=km(),a!==null&&!jn?(Dm(a,l,_),Xs(a,l,_)):(Ot&&q&&fm(l),l.flags|=1,yr(a,l,p,_),l.child)}function nE(a,l,u,p,_){if(a===null){var w=u.type;return typeof w=="function"&&!lm(w)&&w.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=w,rE(a,l,w,p,_)):(a=Kd(u.type,null,p,l,l.mode,_),a.ref=l.ref,a.return=l,l.child=a)}if(w=a.child,!rg(a,_)){var M=w.memoizedProps;if(u=u.compare,u=u!==null?u:wu,u(M,p)&&a.ref===l.ref)return Xs(a,l,_)}return l.flags|=1,a=$s(w,p),a.ref=l.ref,a.return=l,l.child=a}function rE(a,l,u,p,_){if(a!==null){var w=a.memoizedProps;if(wu(w,p)&&a.ref===l.ref)if(jn=!1,l.pendingProps=p=w,rg(a,_))(a.flags&131072)!==0&&(jn=!0);else return l.lanes=a.lanes,Xs(a,l,_)}return Wm(a,l,u,p,_)}function iE(a,l,u,p){var _=p.children,w=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(w=w!==null?w.baseLanes|u:u,a!==null){for(p=l.child=a.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~w}else p=0,l.child=null;return sE(a,l,w,u,p)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Zd(l,w!==null?w.cachePool:null),w!==null?o_(l,w):Cm(),l_(l);else return p=l.lanes=536870912,sE(a,l,w!==null?w.baseLanes|u:u,u,p)}else w!==null?(Zd(l,w.cachePool),o_(l,w),Ga(),l.memoizedState=null):(a!==null&&Zd(l,null),Cm(),Ga());return yr(a,l,_,u),l.child}function Uu(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function sE(a,l,u,p,_){var w=_m();return w=w===null?null:{parent:Gn._currentValue,pool:w},l.memoizedState={baseLanes:u,cachePool:w},a!==null&&Zd(l,null),Cm(),l_(l),a!==null&&Wl(a,l,p,!0),l.childLanes=_,null}function hh(a,l){return l=mh({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function aE(a,l,u){return Zo(l,a.child,null,u),a=hh(l,l.pendingProps),a.flags|=2,yi(l),l.memoizedState=null,a}function U4(a,l,u){var p=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Ot){if(p.mode==="hidden")return a=hh(l,p),l.lanes=536870912,Uu(null,a);if(Nm(l),(a=gn)?(a=xT(a,Fi),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:As,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},u=Gy(a),u.return=l,l.child=u,vr=l,gn=null)):a=null,a===null)throw La(l);return l.lanes=536870912,null}return hh(l,p)}var w=a.memoizedState;if(w!==null){var M=w.dehydrated;if(Nm(l),_)if(l.flags&256)l.flags&=-257,l=aE(a,l,u);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(jn||Wl(a,l,u,!1),_=(u&a.childLanes)!==0,jn||_){if(p=hn,p!==null&&(M=Xe(p,u),M!==0&&M!==w.retryLane))throw w.retryLane=M,Go(a,M),li(p,a,M),Ym;Sh(),l=aE(a,l,u)}else a=w.treeContext,gn=Li(M.nextSibling),vr=l,Ot=!0,Oa=null,Fi=!1,a!==null&&$y(l,a),l=hh(l,p),l.flags|=4096;return l}return a=$s(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function ph(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function Wm(a,l,u,p,_){return Ko(l),u=Rm(a,l,u,p,void 0,_),p=km(),a!==null&&!jn?(Dm(a,l,_),Xs(a,l,_)):(Ot&&p&&fm(l),l.flags|=1,yr(a,l,u,_),l.child)}function oE(a,l,u,p,_,w){return Ko(l),l.updateQueue=null,u=u_(l,p,u,_),c_(a),p=km(),a!==null&&!jn?(Dm(a,l,w),Xs(a,l,w)):(Ot&&p&&fm(l),l.flags|=1,yr(a,l,u,w),l.child)}function lE(a,l,u,p,_){if(Ko(l),l.stateNode===null){var w=$l,M=u.contextType;typeof M=="object"&&M!==null&&(w=xr(M)),w=new u(p,w),l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Km,l.stateNode=w,w._reactInternals=l,w=l.stateNode,w.props=p,w.state=l.memoizedState,w.refs={},Tm(l),M=u.contextType,w.context=typeof M=="object"&&M!==null?xr(M):$l,w.state=l.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&($m(l,u,M,p),w.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(M=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),M!==w.state&&Km.enqueueReplaceState(w,w.state,null),Mu(l,p,w,_),Du(),w.state=l.memoizedState),typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){w=l.stateNode;var q=l.memoizedProps,oe=Qo(u,q);w.props=oe;var _e=w.context,Re=u.contextType;M=$l,typeof Re=="object"&&Re!==null&&(M=xr(Re));var Pe=u.getDerivedStateFromProps;Re=typeof Pe=="function"||typeof w.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,Re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(q||_e!==M)&&J_(l,w,p,M),Va=!1;var we=l.memoizedState;w.state=we,Mu(l,p,w,_),Du(),_e=l.memoizedState,q||we!==_e||Va?(typeof Pe=="function"&&($m(l,u,Pe,p),_e=l.memoizedState),(oe=Va||K_(l,u,oe,p,we,_e,M))?(Re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(l.flags|=4194308)):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=_e),w.props=p,w.state=_e,w.context=M,p=oe):(typeof w.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{w=l.stateNode,wm(a,l),M=l.memoizedProps,Re=Qo(u,M),w.props=Re,Pe=l.pendingProps,we=w.context,_e=u.contextType,oe=$l,typeof _e=="object"&&_e!==null&&(oe=xr(_e)),q=u.getDerivedStateFromProps,(_e=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(M!==Pe||we!==oe)&&J_(l,w,p,oe),Va=!1,we=l.memoizedState,w.state=we,Mu(l,p,w,_),Du();var be=l.memoizedState;M!==Pe||we!==be||Va||a!==null&&a.dependencies!==null&&Yd(a.dependencies)?(typeof q=="function"&&($m(l,u,q,p),be=l.memoizedState),(Re=Va||K_(l,u,Re,p,we,be,oe)||a!==null&&a.dependencies!==null&&Yd(a.dependencies))?(_e||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,be,oe),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,be,oe)),typeof w.componentDidUpdate=="function"&&(l.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof w.componentDidUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=be),w.props=p,w.state=be,w.context=oe,p=Re):(typeof w.componentDidUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&we===a.memoizedState||(l.flags|=1024),p=!1)}return w=p,ph(a,l),p=(l.flags&128)!==0,w||p?(w=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:w.render(),l.flags|=1,a!==null&&p?(l.child=Zo(l,a.child,null,_),l.child=Zo(l,null,u,_)):yr(a,l,u,_),l.memoizedState=w.state,a=l.child):a=Xs(a,l,_),a}function cE(a,l,u,p){return jo(),l.flags|=256,yr(a,l,u,p),l.child}var Zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xm(a){return{baseLanes:a,cachePool:Xy()}}function Qm(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=Ei),a}function uE(a,l,u){var p=l.pendingProps,_=!1,w=(l.flags&128)!==0,M;if((M=w)||(M=a!==null&&a.memoizedState===null?!1:(Fn.current&2)!==0),M&&(_=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ot){if(_?Ha(l):Ga(),(a=gn)?(a=xT(a,Fi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:As,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},u=Gy(a),u.return=l,l.child=u,vr=l,gn=null)):a=null,a===null)throw La(l);return Fg(a)?l.lanes=32:l.lanes=536870912,null}var q=p.children;return p=p.fallback,_?(Ga(),_=l.mode,q=mh({mode:"hidden",children:q},_),p=qo(p,_,u,null),q.return=l,p.return=l,q.sibling=p,l.child=q,p=l.child,p.memoizedState=Xm(u),p.childLanes=Qm(a,M,u),l.memoizedState=Zm,Uu(null,p)):(Ha(l),eg(l,q))}var oe=a.memoizedState;if(oe!==null&&(q=oe.dehydrated,q!==null)){if(w)l.flags&256?(Ha(l),l.flags&=-257,l=tg(a,l,u)):l.memoizedState!==null?(Ga(),l.child=a.child,l.flags|=128,l=null):(Ga(),q=p.fallback,_=l.mode,p=mh({mode:"visible",children:p.children},_),q=qo(q,_,u,null),q.flags|=2,p.return=l,q.return=l,p.sibling=q,l.child=p,Zo(l,a.child,null,u),p=l.child,p.memoizedState=Xm(u),p.childLanes=Qm(a,M,u),l.memoizedState=Zm,l=Uu(null,p));else if(Ha(l),Fg(q)){if(M=q.nextSibling&&q.nextSibling.dataset,M)var _e=M.dgst;M=_e,p=Error(r(419)),p.stack="",p.digest=M,Cu({value:p,source:null,stack:null}),l=tg(a,l,u)}else if(jn||Wl(a,l,u,!1),M=(u&a.childLanes)!==0,jn||M){if(M=hn,M!==null&&(p=Xe(M,u),p!==0&&p!==oe.retryLane))throw oe.retryLane=p,Go(a,p),li(M,a,p),Ym;Pg(q)||Sh(),l=tg(a,l,u)}else Pg(q)?(l.flags|=192,l.child=a.child,l=null):(a=oe.treeContext,gn=Li(q.nextSibling),vr=l,Ot=!0,Oa=null,Fi=!1,a!==null&&$y(l,a),l=eg(l,p.children),l.flags|=4096);return l}return _?(Ga(),q=p.fallback,_=l.mode,oe=a.child,_e=oe.sibling,p=$s(oe,{mode:"hidden",children:p.children}),p.subtreeFlags=oe.subtreeFlags&65011712,_e!==null?q=$s(_e,q):(q=qo(q,_,u,null),q.flags|=2),q.return=l,p.return=l,p.sibling=q,l.child=p,Uu(null,p),p=l.child,q=a.child.memoizedState,q===null?q=Xm(u):(_=q.cachePool,_!==null?(oe=Gn._currentValue,_=_.parent!==oe?{parent:oe,pool:oe}:_):_=Xy(),q={baseLanes:q.baseLanes|u,cachePool:_}),p.memoizedState=q,p.childLanes=Qm(a,M,u),l.memoizedState=Zm,Uu(a.child,p)):(Ha(l),u=a.child,a=u.sibling,u=$s(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,a!==null&&(M=l.deletions,M===null?(l.deletions=[a],l.flags|=16):M.push(a)),l.child=u,l.memoizedState=null,u)}function eg(a,l){return l=mh({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function mh(a,l){return a=vi(22,a,null,l),a.lanes=0,a}function tg(a,l,u){return Zo(l,a.child,null,u),a=eg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function fE(a,l,u){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),gm(a.return,l,u)}function ng(a,l,u,p,_,w){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_,treeForkCount:w}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=p,M.tail=u,M.tailMode=_,M.treeForkCount=w)}function dE(a,l,u){var p=l.pendingProps,_=p.revealOrder,w=p.tail;p=p.children;var M=Fn.current,q=(M&2)!==0;if(q?(M=M&1|2,l.flags|=128):M&=1,X(Fn,M),yr(a,l,p,u),p=Ot?Au:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&fE(a,u,l);else if(a.tag===19)fE(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(u=l.child,_=null;u!==null;)a=u.alternate,a!==null&&rh(a)===null&&(_=u),u=u.sibling;u=_,u===null?(_=l.child,l.child=null):(_=u.sibling,u.sibling=null),ng(l,!1,_,u,w,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=l.child,l.child=null;_!==null;){if(a=_.alternate,a!==null&&rh(a)===null){l.child=_;break}a=_.sibling,_.sibling=u,u=_,_=a}ng(l,!0,u,null,w,p);break;case"together":ng(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Xs(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),$a|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(Wl(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,u=$s(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=$s(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function rg(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Yd(a)))}function V4(a,l,u){switch(l.tag){case 3:Ne(l,l.stateNode.containerInfo),Ua(l,Gn,a.memoizedState.cache),jo();break;case 27:case 5:ke(l);break;case 4:Ne(l,l.stateNode.containerInfo);break;case 10:Ua(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Nm(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ha(l),l.flags|=128,null):(u&l.child.childLanes)!==0?uE(a,l,u):(Ha(l),a=Xs(a,l,u),a!==null?a.sibling:null);Ha(l);break;case 19:var _=(a.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(Wl(a,l,u,!1),p=(u&l.childLanes)!==0),_){if(p)return dE(a,l,u);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),X(Fn,Fn.current),p)break;return null;case 22:return l.lanes=0,iE(a,l,u,l.pendingProps);case 24:Ua(l,Gn,a.memoizedState.cache)}return Xs(a,l,u)}function hE(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)jn=!0;else{if(!rg(a,u)&&(l.flags&128)===0)return jn=!1,V4(a,l,u);jn=(a.flags&131072)!==0}else jn=!1,Ot&&(l.flags&1048576)!==0&&jy(l,Au,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=Yo(l.elementType),l.type=a,typeof a=="function")lm(a)?(p=Qo(a,p),l.tag=1,l=lE(null,l,a,p,u)):(l.tag=0,l=Wm(null,l,a,p,u));else{if(a!=null){var _=a.$$typeof;if(_===H){l.tag=11,l=tE(null,l,a,p,u);break e}else if(_===R){l.tag=14,l=nE(null,l,a,p,u);break e}}throw l=fe(a)||a,Error(r(306,l,""))}}return l;case 0:return Wm(a,l,l.type,l.pendingProps,u);case 1:return p=l.type,_=Qo(p,l.pendingProps),lE(a,l,p,_,u);case 3:e:{if(Ne(l,l.stateNode.containerInfo),a===null)throw Error(r(387));p=l.pendingProps;var w=l.memoizedState;_=w.element,wm(a,l),Mu(l,p,null,u);var M=l.memoizedState;if(p=M.cache,Ua(l,Gn,p),p!==w.cache&&vm(l,[Gn],u,!0),Du(),p=M.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=w,l.memoizedState=w,l.flags&256){l=cE(a,l,p,u);break e}else if(p!==_){_=Di(Error(r(424)),l),Cu(_),l=cE(a,l,p,u);break e}else for(a=l.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,gn=Li(a.firstChild),vr=l,Ot=!0,Oa=null,Fi=!0,u=i_(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(jo(),p===_){l=Xs(a,l,u);break e}yr(a,l,p,u)}l=l.child}return l;case 26:return ph(a,l),a===null?(u=ST(l.type,null,l.pendingProps,null))?l.memoizedState=u:Ot||(u=l.type,a=l.pendingProps,p=kh(he.current).createElement(u),p[J]=l,p[Q]=a,_r(p,u,a),et(p),l.stateNode=p):l.memoizedState=ST(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return ke(l),a===null&&Ot&&(p=l.stateNode=ET(l.type,l.pendingProps,he.current),vr=l,Fi=!0,_=gn,Za(l.type)?(Og=_,gn=Li(p.firstChild)):gn=_),yr(a,l,l.pendingProps.children,u),ph(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ot&&((_=p=gn)&&(p=mD(p,l.type,l.pendingProps,Fi),p!==null?(l.stateNode=p,vr=l,gn=Li(p.firstChild),Fi=!1,_=!0):_=!1),_||La(l)),ke(l),_=l.type,w=l.pendingProps,M=a!==null?a.memoizedProps:null,p=w.children,kg(_,w)?p=null:M!==null&&kg(_,M)&&(l.flags|=32),l.memoizedState!==null&&(_=Rm(a,l,R4,null,null,u),Qu._currentValue=_),ph(a,l),yr(a,l,p,u),l.child;case 6:return a===null&&Ot&&((a=u=gn)&&(u=gD(u,l.pendingProps,Fi),u!==null?(l.stateNode=u,vr=l,gn=null,a=!0):a=!1),a||La(l)),null;case 13:return uE(a,l,u);case 4:return Ne(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Zo(l,null,p,u):yr(a,l,p,u),l.child;case 11:return tE(a,l,l.type,l.pendingProps,u);case 7:return yr(a,l,l.pendingProps,u),l.child;case 8:return yr(a,l,l.pendingProps.children,u),l.child;case 12:return yr(a,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,Ua(l,l.type,p.value),yr(a,l,p.children,u),l.child;case 9:return _=l.type._context,p=l.pendingProps.children,Ko(l),_=xr(_),p=p(_),l.flags|=1,yr(a,l,p,u),l.child;case 14:return nE(a,l,l.type,l.pendingProps,u);case 15:return rE(a,l,l.type,l.pendingProps,u);case 19:return dE(a,l,u);case 31:return U4(a,l,u);case 22:return iE(a,l,u,l.pendingProps);case 24:return Ko(l),p=xr(Gn),a===null?(_=_m(),_===null&&(_=hn,w=xm(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=u),_=w),l.memoizedState={parent:p,cache:_},Tm(l),Ua(l,Gn,_)):((a.lanes&u)!==0&&(wm(a,l),Mu(l,null,null,u),Du()),_=a.memoizedState,w=l.memoizedState,_.parent!==p?(_={parent:p,cache:p},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Ua(l,Gn,p)):(p=w.cache,Ua(l,Gn,p),p!==_.cache&&vm(l,[Gn],u,!0))),yr(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Qs(a){a.flags|=4}function ig(a,l,u,p,_){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(BE())a.flags|=8192;else throw Wo=Qd,Em}else a.flags&=-16777217}function pE(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!IT(l))if(BE())a.flags|=8192;else throw Wo=Qd,Em}function gh(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Sa():536870912,a.lanes|=l,lc|=l)}function Vu(a,l){if(!Ot)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function vn(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(l)for(var _=a.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=p,a.childLanes=u,l}function B4(a,l,u){var p=l.pendingProps;switch(dm(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(l),null;case 1:return vn(l),null;case 3:return u=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Ys(Gn),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Yl(l)?Qs(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,pm())),vn(l),null;case 26:var _=l.type,w=l.memoizedState;return a===null?(Qs(l),w!==null?(vn(l),pE(l,w)):(vn(l),ig(l,_,null,p,u))):w?w!==a.memoizedState?(Qs(l),vn(l),pE(l,w)):(vn(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&Qs(l),vn(l),ig(l,_,a,p,u)),null;case 27:if($e(l),u=he.current,_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return vn(l),null}a=ee.current,Yl(l)?Ky(l):(a=ET(_,p,u),l.stateNode=a,Qs(l))}return vn(l),null;case 5:if($e(l),_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return vn(l),null}if(w=ee.current,Yl(l))Ky(l);else{var M=kh(he.current);switch(w){case 1:w=M.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:w=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":w=M.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":w=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":w=M.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?M.createElement("select",{is:p.is}):M.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?M.createElement(_,{is:p.is}):M.createElement(_)}}w[J]=l,w[Q]=p;e:for(M=l.child;M!==null;){if(M.tag===5||M.tag===6)w.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===l)break e;for(;M.sibling===null;){if(M.return===null||M.return===l)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}l.stateNode=w;e:switch(_r(w,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Qs(l)}}return vn(l),ig(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,u),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(a=he.current,Yl(l)){if(a=l.stateNode,u=l.memoizedProps,p=null,_=vr,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}a[J]=l,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||uT(a.nodeValue,u)),a||La(l,!0)}else a=kh(a).createTextNode(p),a[J]=l,l.stateNode=a}return vn(l),null;case 31:if(u=l.memoizedState,a===null||a.memoizedState!==null){if(p=Yl(l),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[J]=l}else jo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vn(l),a=!1}else u=pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return l.flags&256?(yi(l),l):(yi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return vn(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=Yl(l),p!==null&&p.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[J]=l}else jo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vn(l),_=!1}else _=pm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(yi(l),l):(yi(l),null)}return yi(l),(l.flags&128)!==0?(l.lanes=u,l):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=l.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==_&&(p.flags|=2048)),u!==a&&u&&(l.child.flags|=8192),gh(l,l.updateQueue),vn(l),null);case 4:return Ce(),a===null&&Cg(l.stateNode.containerInfo),vn(l),null;case 10:return Ys(l.type),vn(l),null;case 19:if(V(Fn),p=l.memoizedState,p===null)return vn(l),null;if(_=(l.flags&128)!==0,w=p.rendering,w===null)if(_)Vu(p,!1);else{if(In!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(w=rh(a),w!==null){for(l.flags|=128,Vu(p,!1),a=w.updateQueue,l.updateQueue=a,gh(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)Hy(u,a),u=u.sibling;return X(Fn,Fn.current&1|2),Ot&&Ks(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&gt()>Eh&&(l.flags|=128,_=!0,Vu(p,!1),l.lanes=4194304)}else{if(!_)if(a=rh(w),a!==null){if(l.flags|=128,_=!0,a=a.updateQueue,l.updateQueue=a,gh(l,a),Vu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ot)return vn(l),null}else 2*gt()-p.renderingStartTime>Eh&&u!==536870912&&(l.flags|=128,_=!0,Vu(p,!1),l.lanes=4194304);p.isBackwards?(w.sibling=l.child,l.child=w):(a=p.last,a!==null?a.sibling=w:l.child=w,p.last=w)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=gt(),a.sibling=null,u=Fn.current,X(Fn,_?u&1|2:u&1),Ot&&Ks(l,p.treeForkCount),a):(vn(l),null);case 22:case 23:return yi(l),bm(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(vn(l),l.subtreeFlags&6&&(l.flags|=8192)):vn(l),u=l.updateQueue,u!==null&&gh(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),a!==null&&V(Jo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Ys(Gn),vn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function z4(a,l){switch(dm(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ys(Gn),Ce(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return $e(l),null;case 31:if(l.memoizedState!==null){if(yi(l),l.alternate===null)throw Error(r(340));jo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(yi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));jo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return V(Fn),null;case 4:return Ce(),null;case 10:return Ys(l.type),null;case 22:case 23:return yi(l),bm(),a!==null&&V(Jo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ys(Gn),null;case 25:return null;default:return null}}function mE(a,l){switch(dm(l),l.tag){case 3:Ys(Gn),Ce();break;case 26:case 27:case 5:$e(l);break;case 4:Ce();break;case 31:l.memoizedState!==null&&yi(l);break;case 13:yi(l);break;case 19:V(Fn);break;case 10:Ys(l.type);break;case 22:case 23:yi(l),bm(),a!==null&&V(Jo);break;case 24:Ys(Gn)}}function Bu(a,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&a)===a){p=void 0;var w=u.create,M=u.inst;p=w(),M.destroy=p}u=u.next}while(u!==_)}}catch(q){nn(l,l.return,q)}}function qa(a,l,u){try{var p=l.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var w=_.next;p=w;do{if((p.tag&a)===a){var M=p.inst,q=M.destroy;if(q!==void 0){M.destroy=void 0,_=l;var oe=u,_e=q;try{_e()}catch(Re){nn(_,oe,Re)}}}p=p.next}while(p!==w)}}catch(Re){nn(l,l.return,Re)}}function gE(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{a_(l,u)}catch(p){nn(a,a.return,p)}}}function vE(a,l,u){u.props=Qo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){nn(a,l,p)}}function zu(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(_){nn(a,l,_)}}function bs(a,l){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(_){nn(a,l,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){nn(a,l,_)}else u.current=null}function xE(a){var l=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(_){nn(a,a.return,_)}}function sg(a,l,u){try{var p=a.stateNode;cD(p,a.type,u,l),p[Q]=l}catch(_){nn(a,a.return,_)}}function yE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Za(a.type)||a.tag===4}function ag(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||yE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function og(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Qi));else if(p!==4&&(p===27&&Za(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(og(a,l,u),a=a.sibling;a!==null;)og(a,l,u),a=a.sibling}function vh(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(p!==4&&(p===27&&Za(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(vh(a,l,u),a=a.sibling;a!==null;)vh(a,l,u),a=a.sibling}function _E(a){var l=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);_r(l,p,u),l[J]=a,l[Q]=u}catch(w){nn(a,a.return,w)}}var ea=!1,$n=!1,lg=!1,EE=typeof WeakSet=="function"?WeakSet:Set,lr=null;function H4(a,l){if(a=a.containerInfo,Ig=Uh,a=My(a),tm(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var _=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var M=0,q=-1,oe=-1,_e=0,Re=0,Pe=a,we=null;t:for(;;){for(var be;Pe!==u||_!==0&&Pe.nodeType!==3||(q=M+_),Pe!==w||p!==0&&Pe.nodeType!==3||(oe=M+p),Pe.nodeType===3&&(M+=Pe.nodeValue.length),(be=Pe.firstChild)!==null;)we=Pe,Pe=be;for(;;){if(Pe===a)break t;if(we===u&&++_e===_&&(q=M),we===w&&++Re===p&&(oe=M),(be=Pe.nextSibling)!==null)break;Pe=we,we=Pe.parentNode}Pe=be}u=q===-1||oe===-1?null:{start:q,end:oe}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rg={focusedElem:a,selectionRange:u},Uh=!1,lr=l;lr!==null;)if(l=lr,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,lr=a;else for(;lr!==null;){switch(l=lr,w=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)_=a[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,u=l,_=w.memoizedProps,w=w.memoizedState,p=u.stateNode;try{var Ze=Qo(u.type,_);a=p.getSnapshotBeforeUpdate(Ze,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(dt){nn(u,u.return,dt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)Mg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Mg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,lr=a;break}lr=l.return}}function TE(a,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:na(a,u),p&4&&Bu(5,u);break;case 1:if(na(a,u),p&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(M){nn(u,u.return,M)}else{var _=Qo(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(_,l,a.__reactInternalSnapshotBeforeUpdate)}catch(M){nn(u,u.return,M)}}p&64&&gE(u),p&512&&zu(u,u.return);break;case 3:if(na(a,u),p&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{a_(a,l)}catch(M){nn(u,u.return,M)}}break;case 27:l===null&&p&4&&_E(u);case 26:case 5:na(a,u),l===null&&p&4&&xE(u),p&512&&zu(u,u.return);break;case 12:na(a,u);break;case 31:na(a,u),p&4&&AE(a,u);break;case 13:na(a,u),p&4&&CE(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=Z4.bind(null,u),vD(a,u))));break;case 22:if(p=u.memoizedState!==null||ea,!p){l=l!==null&&l.memoizedState!==null||$n,_=ea;var w=$n;ea=p,($n=l)&&!w?ra(a,u,(u.subtreeFlags&8772)!==0):na(a,u),ea=_,$n=w}break;case 30:break;default:na(a,u)}}function wE(a){var l=a.alternate;l!==null&&(a.alternate=null,wE(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Ve(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var En=null,ii=!1;function ta(a,l,u){for(u=u.child;u!==null;)SE(a,l,u),u=u.sibling}function SE(a,l,u){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(bt,u)}catch{}switch(u.tag){case 26:$n||bs(u,l),ta(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$n||bs(u,l);var p=En,_=ii;Za(u.type)&&(En=u.stateNode,ii=!1),ta(a,l,u),Wu(u.stateNode),En=p,ii=_;break;case 5:$n||bs(u,l);case 6:if(p=En,_=ii,En=null,ta(a,l,u),En=p,ii=_,En!==null)if(ii)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(u.stateNode)}catch(w){nn(u,l,w)}else try{En.removeChild(u.stateNode)}catch(w){nn(u,l,w)}break;case 18:En!==null&&(ii?(a=En,gT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),gc(a)):gT(En,u.stateNode));break;case 4:p=En,_=ii,En=u.stateNode.containerInfo,ii=!0,ta(a,l,u),En=p,ii=_;break;case 0:case 11:case 14:case 15:qa(2,u,l),$n||qa(4,u,l),ta(a,l,u);break;case 1:$n||(bs(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&vE(u,l,p)),ta(a,l,u);break;case 21:ta(a,l,u);break;case 22:$n=(p=$n)||u.memoizedState!==null,ta(a,l,u),$n=p;break;default:ta(a,l,u)}}function AE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{gc(a)}catch(u){nn(l,l.return,u)}}}function CE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{gc(a)}catch(u){nn(l,l.return,u)}}function G4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new EE),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new EE),l;default:throw Error(r(435,a.tag))}}function xh(a,l){var u=G4(a);l.forEach(function(p){if(!u.has(p)){u.add(p);var _=X4.bind(null,a,p);p.then(_,_)}})}function si(a,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p],w=a,M=l,q=M;e:for(;q!==null;){switch(q.tag){case 27:if(Za(q.type)){En=q.stateNode,ii=!1;break e}break;case 5:En=q.stateNode,ii=!1;break e;case 3:case 4:En=q.stateNode.containerInfo,ii=!0;break e}q=q.return}if(En===null)throw Error(r(160));SE(w,M,_),En=null,ii=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)bE(l,a),l=l.sibling}var ss=null;function bE(a,l){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:si(l,a),ai(a),p&4&&(qa(3,a,a.return),Bu(3,a),qa(5,a,a.return));break;case 1:si(l,a),ai(a),p&512&&($n||u===null||bs(u,u.return)),p&64&&ea&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var _=ss;if(si(l,a),ai(a),p&512&&($n||u===null||bs(u,u.return)),p&4){var w=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Te]||w[J]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(p),_.head.insertBefore(w,_.querySelector("head > title"))),_r(w,p,u),w[J]=a,et(w),p=w;break e;case"link":var M=bT("link","href",_).get(p+(u.href||""));if(M){for(var q=0;q<M.length;q++)if(w=M[q],w.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&w.getAttribute("rel")===(u.rel==null?null:u.rel)&&w.getAttribute("title")===(u.title==null?null:u.title)&&w.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(q,1);break t}}w=_.createElement(p),_r(w,p,u),_.head.appendChild(w);break;case"meta":if(M=bT("meta","content",_).get(p+(u.content||""))){for(q=0;q<M.length;q++)if(w=M[q],w.getAttribute("content")===(u.content==null?null:""+u.content)&&w.getAttribute("name")===(u.name==null?null:u.name)&&w.getAttribute("property")===(u.property==null?null:u.property)&&w.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&w.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(q,1);break t}}w=_.createElement(p),_r(w,p,u),_.head.appendChild(w);break;default:throw Error(r(468,p))}w[J]=a,et(w),p=w}a.stateNode=p}else NT(_,a.type,a.stateNode);else a.stateNode=CT(_,p,a.memoizedProps);else w!==p?(w===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):w.count--,p===null?NT(_,a.type,a.stateNode):CT(_,p,a.memoizedProps)):p===null&&a.stateNode!==null&&sg(a,a.memoizedProps,u.memoizedProps)}break;case 27:si(l,a),ai(a),p&512&&($n||u===null||bs(u,u.return)),u!==null&&p&4&&sg(a,a.memoizedProps,u.memoizedProps);break;case 5:if(si(l,a),ai(a),p&512&&($n||u===null||bs(u,u.return)),a.flags&32){_=a.stateNode;try{ri(_,"")}catch(Ze){nn(a,a.return,Ze)}}p&4&&a.stateNode!=null&&(_=a.memoizedProps,sg(a,_,u!==null?u.memoizedProps:_)),p&1024&&(lg=!0);break;case 6:if(si(l,a),ai(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Ze){nn(a,a.return,Ze)}}break;case 3:if(Ph=null,_=ss,ss=Dh(l.containerInfo),si(l,a),ss=_,ai(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{gc(l.containerInfo)}catch(Ze){nn(a,a.return,Ze)}lg&&(lg=!1,NE(a));break;case 4:p=ss,ss=Dh(a.stateNode.containerInfo),si(l,a),ai(a),ss=p;break;case 12:si(l,a),ai(a);break;case 31:si(l,a),ai(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,xh(a,p)));break;case 13:si(l,a),ai(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(_h=gt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,xh(a,p)));break;case 22:_=a.memoizedState!==null;var oe=u!==null&&u.memoizedState!==null,_e=ea,Re=$n;if(ea=_e||_,$n=Re||oe,si(l,a),$n=Re,ea=_e,ai(a),p&8192)e:for(l=a.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(u===null||oe||ea||$n||el(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){oe=u=l;try{if(w=oe.stateNode,_)M=w.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{q=oe.stateNode;var Pe=oe.memoizedProps.style,we=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;q.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Ze){nn(oe,oe.return,Ze)}}}else if(l.tag===6){if(u===null){oe=l;try{oe.stateNode.nodeValue=_?"":oe.memoizedProps}catch(Ze){nn(oe,oe.return,Ze)}}}else if(l.tag===18){if(u===null){oe=l;try{var be=oe.stateNode;_?vT(be,!0):vT(oe.stateNode,!1)}catch(Ze){nn(oe,oe.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,xh(a,u))));break;case 19:si(l,a),ai(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,xh(a,p)));break;case 30:break;case 21:break;default:si(l,a),ai(a)}}function ai(a){var l=a.flags;if(l&2){try{for(var u,p=a.return;p!==null;){if(yE(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,w=ag(a);vh(a,w,_);break;case 5:var M=u.stateNode;u.flags&32&&(ri(M,""),u.flags&=-33);var q=ag(a);vh(a,q,M);break;case 3:case 4:var oe=u.stateNode.containerInfo,_e=ag(a);og(a,_e,oe);break;default:throw Error(r(161))}}catch(Re){nn(a,a.return,Re)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function NE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;NE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function na(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)TE(a,l.alternate,l),l=l.sibling}function el(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:qa(4,l,l.return),el(l);break;case 1:bs(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&vE(l,l.return,u),el(l);break;case 27:Wu(l.stateNode);case 26:case 5:bs(l,l.return),el(l);break;case 22:l.memoizedState===null&&el(l);break;case 30:el(l);break;default:el(l)}a=a.sibling}}function ra(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,_=a,w=l,M=w.flags;switch(w.tag){case 0:case 11:case 15:ra(_,w,u),Bu(4,w);break;case 1:if(ra(_,w,u),p=w,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(_e){nn(p,p.return,_e)}if(p=w,_=p.updateQueue,_!==null){var q=p.stateNode;try{var oe=_.shared.hiddenCallbacks;if(oe!==null)for(_.shared.hiddenCallbacks=null,_=0;_<oe.length;_++)s_(oe[_],q)}catch(_e){nn(p,p.return,_e)}}u&&M&64&&gE(w),zu(w,w.return);break;case 27:_E(w);case 26:case 5:ra(_,w,u),u&&p===null&&M&4&&xE(w),zu(w,w.return);break;case 12:ra(_,w,u);break;case 31:ra(_,w,u),u&&M&4&&AE(_,w);break;case 13:ra(_,w,u),u&&M&4&&CE(_,w);break;case 22:w.memoizedState===null&&ra(_,w,u),zu(w,w.return);break;case 30:break;default:ra(_,w,u)}l=l.sibling}}function cg(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&bu(u))}function ug(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&bu(a))}function as(a,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)IE(a,l,u,p),l=l.sibling}function IE(a,l,u,p){var _=l.flags;switch(l.tag){case 0:case 11:case 15:as(a,l,u,p),_&2048&&Bu(9,l);break;case 1:as(a,l,u,p);break;case 3:as(a,l,u,p),_&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&bu(a)));break;case 12:if(_&2048){as(a,l,u,p),a=l.stateNode;try{var w=l.memoizedProps,M=w.id,q=w.onPostCommit;typeof q=="function"&&q(M,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(oe){nn(l,l.return,oe)}}else as(a,l,u,p);break;case 31:as(a,l,u,p);break;case 13:as(a,l,u,p);break;case 23:break;case 22:w=l.stateNode,M=l.alternate,l.memoizedState!==null?w._visibility&2?as(a,l,u,p):Hu(a,l):w._visibility&2?as(a,l,u,p):(w._visibility|=2,sc(a,l,u,p,(l.subtreeFlags&10256)!==0||!1)),_&2048&&cg(M,l);break;case 24:as(a,l,u,p),_&2048&&ug(l.alternate,l);break;default:as(a,l,u,p)}}function sc(a,l,u,p,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var w=a,M=l,q=u,oe=p,_e=M.flags;switch(M.tag){case 0:case 11:case 15:sc(w,M,q,oe,_),Bu(8,M);break;case 23:break;case 22:var Re=M.stateNode;M.memoizedState!==null?Re._visibility&2?sc(w,M,q,oe,_):Hu(w,M):(Re._visibility|=2,sc(w,M,q,oe,_)),_&&_e&2048&&cg(M.alternate,M);break;case 24:sc(w,M,q,oe,_),_&&_e&2048&&ug(M.alternate,M);break;default:sc(w,M,q,oe,_)}l=l.sibling}}function Hu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,p=l,_=p.flags;switch(p.tag){case 22:Hu(u,p),_&2048&&cg(p.alternate,p);break;case 24:Hu(u,p),_&2048&&ug(p.alternate,p);break;default:Hu(u,p)}l=l.sibling}}var Gu=8192;function ac(a,l,u){if(a.subtreeFlags&Gu)for(a=a.child;a!==null;)RE(a,l,u),a=a.sibling}function RE(a,l,u){switch(a.tag){case 26:ac(a,l,u),a.flags&Gu&&a.memoizedState!==null&&ID(u,ss,a.memoizedState,a.memoizedProps);break;case 5:ac(a,l,u);break;case 3:case 4:var p=ss;ss=Dh(a.stateNode.containerInfo),ac(a,l,u),ss=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Gu,Gu=16777216,ac(a,l,u),Gu=p):ac(a,l,u));break;default:ac(a,l,u)}}function kE(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function qu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];lr=p,ME(p,a)}kE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)DE(a),a=a.sibling}function DE(a){switch(a.tag){case 0:case 11:case 15:qu(a),a.flags&2048&&qa(9,a,a.return);break;case 3:qu(a);break;case 12:qu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,yh(a)):qu(a);break;default:qu(a)}}function yh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];lr=p,ME(p,a)}kE(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:qa(8,l,l.return),yh(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,yh(l));break;default:yh(l)}a=a.sibling}}function ME(a,l){for(;lr!==null;){var u=lr;switch(u.tag){case 0:case 11:case 15:qa(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:bu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,lr=p;else e:for(u=a;lr!==null;){p=lr;var _=p.sibling,w=p.return;if(wE(p),p===u){lr=null;break e}if(_!==null){_.return=w,lr=_;break e}lr=w}}}var q4={getCacheForType:function(a){var l=xr(Gn),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u},cacheSignal:function(){return xr(Gn).controller.signal}},j4=typeof WeakMap=="function"?WeakMap:Map,Yt=0,hn=null,Nt=null,kt=0,tn=0,_i=null,ja=!1,oc=!1,fg=!1,ia=0,In=0,$a=0,tl=0,dg=0,Ei=0,lc=0,ju=null,oi=null,hg=!1,_h=0,PE=0,Eh=1/0,Th=null,Ka=null,Qn=0,Ja=null,cc=null,sa=0,pg=0,mg=null,FE=null,$u=0,gg=null;function Ti(){return(Yt&2)!==0&&kt!==0?kt&-kt:se.T!==null?Tg():z()}function OE(){if(Ei===0)if((kt&536870912)===0||Ot){var a=Wi;Wi<<=1,(Wi&3932160)===0&&(Wi=262144),Ei=a}else Ei=536870912;return a=xi.current,a!==null&&(a.flags|=32),Ei}function li(a,l,u){(a===hn&&(tn===2||tn===9)||a.cancelPendingCommit!==null)&&(uc(a,0),Ya(a,kt,Ei,!1)),ar(a,u),((Yt&2)===0||a!==hn)&&(a===hn&&((Yt&2)===0&&(tl|=u),In===4&&Ya(a,kt,Ei,!1)),Ns(a))}function LE(a,l,u){if((Yt&6)!==0)throw Error(r(327));var p=!u&&(l&127)===0&&(l&a.expiredLanes)===0||qr(a,l),_=p?J4(a,l):xg(a,l,!0),w=p;do{if(_===0){oc&&!p&&Ya(a,l,0,!1);break}else{if(u=a.current.alternate,w&&!$4(u)){_=xg(a,l,!1),w=!1;continue}if(_===2){if(w=l,a.errorRecoveryDisabledLanes&w)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;e:{var q=a;_=ju;var oe=q.current.memoizedState.isDehydrated;if(oe&&(uc(q,M).flags|=256),M=xg(q,M,!1),M!==2){if(fg&&!oe){q.errorRecoveryDisabledLanes|=w,tl|=w,_=4;break e}w=oi,oi=_,w!==null&&(oi===null?oi=w:oi.push.apply(oi,w))}_=M}if(w=!1,_!==2)continue}}if(_===1){uc(a,0),Ya(a,l,0,!0);break}e:{switch(p=a,w=_,w){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ya(p,l,Ei,!ja);break e;case 2:oi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=_h+300-gt(),10<_)){if(Ya(p,l,Ei,!ja),ti(p,0,!0)!==0)break e;sa=l,p.timeoutHandle=pT(UE.bind(null,p,u,oi,Th,hg,l,Ei,tl,lc,ja,w,"Throttled",-0,0),_);break e}UE(p,u,oi,Th,hg,l,Ei,tl,lc,ja,w,null,-0,0)}}break}while(!0);Ns(a)}function UE(a,l,u,p,_,w,M,q,oe,_e,Re,Pe,we,be){if(a.timeoutHandle=-1,Pe=l.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},RE(l,w,Pe);var Ze=(w&62914560)===w?_h-gt():(w&4194048)===w?PE-gt():0;if(Ze=RD(Pe,Ze),Ze!==null){sa=w,a.cancelPendingCommit=Ze($E.bind(null,a,l,w,u,p,_,M,q,oe,Re,Pe,null,we,be)),Ya(a,w,M,!_e);return}}$E(a,l,w,u,p,_,M,q,oe)}function $4(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var _=u[p],w=_.getSnapshot;_=_.value;try{if(!gi(w(),_))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ya(a,l,u,p){l&=~dg,l&=~tl,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var _=l;0<_;){var w=31-mn(_),M=1<<w;p[w]=-1,_&=~M}u!==0&&hi(a,u,l)}function wh(){return(Yt&6)===0?(Ku(0),!1):!0}function vg(){if(Nt!==null){if(tn===0)var a=Nt.return;else a=Nt,Js=$o=null,Mm(a),ec=null,Iu=0,a=Nt;for(;a!==null;)mE(a.alternate,a),a=a.return;Nt=null}}function uc(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,dD(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),sa=0,vg(),hn=a,Nt=u=$s(a.current,null),kt=l,tn=0,_i=null,ja=!1,oc=qr(a,l),fg=!1,lc=Ei=dg=tl=$a=In=0,oi=ju=null,hg=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var _=31-mn(p),w=1<<_;l|=a[_],p&=~w}return ia=l,qd(),u}function VE(a,l){wt=null,se.H=Lu,l===Ql||l===Xd?(l=t_(),tn=3):l===Em?(l=t_(),tn=4):tn=l===Ym?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,_i=l,Nt===null&&(In=1,dh(a,Di(l,a.current)))}function BE(){var a=xi.current;return a===null?!0:(kt&4194048)===kt?Oi===null:(kt&62914560)===kt||(kt&536870912)!==0?a===Oi:!1}function zE(){var a=se.H;return se.H=Lu,a===null?Lu:a}function HE(){var a=se.A;return se.A=q4,a}function Sh(){In=4,ja||(kt&4194048)!==kt&&xi.current!==null||(oc=!0),($a&134217727)===0&&(tl&134217727)===0||hn===null||Ya(hn,kt,Ei,!1)}function xg(a,l,u){var p=Yt;Yt|=2;var _=zE(),w=HE();(hn!==a||kt!==l)&&(Th=null,uc(a,l)),l=!1;var M=In;e:do try{if(tn!==0&&Nt!==null){var q=Nt,oe=_i;switch(tn){case 8:vg(),M=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(l=!0);var _e=tn;if(tn=0,_i=null,fc(a,q,oe,_e),u&&oc){M=0;break e}break;default:_e=tn,tn=0,_i=null,fc(a,q,oe,_e)}}K4(),M=In;break}catch(Re){VE(a,Re)}while(!0);return l&&a.shellSuspendCounter++,Js=$o=null,Yt=p,se.H=_,se.A=w,Nt===null&&(hn=null,kt=0,qd()),M}function K4(){for(;Nt!==null;)GE(Nt)}function J4(a,l){var u=Yt;Yt|=2;var p=zE(),_=HE();hn!==a||kt!==l?(Th=null,Eh=gt()+500,uc(a,l)):oc=qr(a,l);e:do try{if(tn!==0&&Nt!==null){l=Nt;var w=_i;t:switch(tn){case 1:tn=0,_i=null,fc(a,l,w,1);break;case 2:case 9:if(Qy(w)){tn=0,_i=null,qE(l);break}l=function(){tn!==2&&tn!==9||hn!==a||(tn=7),Ns(a)},w.then(l,l);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Qy(w)?(tn=0,_i=null,qE(l)):(tn=0,_i=null,fc(a,l,w,7));break;case 5:var M=null;switch(Nt.tag){case 26:M=Nt.memoizedState;case 5:case 27:var q=Nt;if(M?IT(M):q.stateNode.complete){tn=0,_i=null;var oe=q.sibling;if(oe!==null)Nt=oe;else{var _e=q.return;_e!==null?(Nt=_e,Ah(_e)):Nt=null}break t}}tn=0,_i=null,fc(a,l,w,5);break;case 6:tn=0,_i=null,fc(a,l,w,6);break;case 8:vg(),In=6;break e;default:throw Error(r(462))}}Y4();break}catch(Re){VE(a,Re)}while(!0);return Js=$o=null,se.H=p,se.A=_,Yt=u,Nt!==null?0:(hn=null,kt=0,qd(),In)}function Y4(){for(;Nt!==null&&!Sn();)GE(Nt)}function GE(a){var l=hE(a.alternate,a,ia);a.memoizedProps=a.pendingProps,l===null?Ah(a):Nt=l}function qE(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=oE(u,l,l.pendingProps,l.type,void 0,kt);break;case 11:l=oE(u,l,l.pendingProps,l.type.render,l.ref,kt);break;case 5:Mm(l);default:mE(u,l),l=Nt=Hy(l,ia),l=hE(u,l,ia)}a.memoizedProps=a.pendingProps,l===null?Ah(a):Nt=l}function fc(a,l,u,p){Js=$o=null,Mm(l),ec=null,Iu=0;var _=l.return;try{if(L4(a,_,l,u,kt)){In=1,dh(a,Di(u,a.current)),Nt=null;return}}catch(w){if(_!==null)throw Nt=_,w;In=1,dh(a,Di(u,a.current)),Nt=null;return}l.flags&32768?(Ot||p===1?a=!0:oc||(kt&536870912)!==0?a=!1:(ja=a=!0,(p===2||p===9||p===3||p===6)&&(p=xi.current,p!==null&&p.tag===13&&(p.flags|=16384))),jE(l,a)):Ah(l)}function Ah(a){var l=a;do{if((l.flags&32768)!==0){jE(l,ja);return}a=l.return;var u=B4(l.alternate,l,ia);if(u!==null){Nt=u;return}if(l=l.sibling,l!==null){Nt=l;return}Nt=l=a}while(l!==null);In===0&&(In=5)}function jE(a,l){do{var u=z4(a.alternate,a);if(u!==null){u.flags&=32767,Nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){Nt=a;return}Nt=a=u}while(a!==null);In=6,Nt=null}function $E(a,l,u,p,_,w,M,q,oe){a.cancelPendingCommit=null;do Ch();while(Qn!==0);if((Yt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(w=l.lanes|l.childLanes,w|=am,Xn(a,u,w,M,q,oe),a===hn&&(Nt=hn=null,kt=0),cc=l,Ja=a,sa=u,pg=w,mg=_,FE=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Q4(Rt,function(){return ZE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=se.T,se.T=null,_=le.p,le.p=2,M=Yt,Yt|=4;try{H4(a,l,u)}finally{Yt=M,le.p=_,se.T=p}}Qn=1,KE(),JE(),YE()}}function KE(){if(Qn===1){Qn=0;var a=Ja,l=cc,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=se.T,se.T=null;var p=le.p;le.p=2;var _=Yt;Yt|=4;try{bE(l,a);var w=Rg,M=My(a.containerInfo),q=w.focusedElem,oe=w.selectionRange;if(M!==q&&q&&q.ownerDocument&&Dy(q.ownerDocument.documentElement,q)){if(oe!==null&&tm(q)){var _e=oe.start,Re=oe.end;if(Re===void 0&&(Re=_e),"selectionStart"in q)q.selectionStart=_e,q.selectionEnd=Math.min(Re,q.value.length);else{var Pe=q.ownerDocument||document,we=Pe&&Pe.defaultView||window;if(we.getSelection){var be=we.getSelection(),Ze=q.textContent.length,dt=Math.min(oe.start,Ze),ln=oe.end===void 0?dt:Math.min(oe.end,Ze);!be.extend&&dt>ln&&(M=ln,ln=dt,dt=M);var pe=ky(q,dt),ue=ky(q,ln);if(pe&&ue&&(be.rangeCount!==1||be.anchorNode!==pe.node||be.anchorOffset!==pe.offset||be.focusNode!==ue.node||be.focusOffset!==ue.offset)){var ye=Pe.createRange();ye.setStart(pe.node,pe.offset),be.removeAllRanges(),dt>ln?(be.addRange(ye),be.extend(ue.node,ue.offset)):(ye.setEnd(ue.node,ue.offset),be.addRange(ye))}}}}for(Pe=[],be=q;be=be.parentNode;)be.nodeType===1&&Pe.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Pe.length;q++){var De=Pe[q];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Uh=!!Ig,Rg=Ig=null}finally{Yt=_,le.p=p,se.T=u}}a.current=l,Qn=2}}function JE(){if(Qn===2){Qn=0;var a=Ja,l=cc,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=se.T,se.T=null;var p=le.p;le.p=2;var _=Yt;Yt|=4;try{TE(a,l.alternate,l)}finally{Yt=_,le.p=p,se.T=u}}Qn=3}}function YE(){if(Qn===4||Qn===3){Qn=0,zn();var a=Ja,l=cc,u=sa,p=FE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Qn=5:(Qn=0,cc=Ja=null,WE(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(Ka=null),ct(u),l=l.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(bt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=se.T,_=le.p,le.p=2,se.T=null;try{for(var w=a.onRecoverableError,M=0;M<p.length;M++){var q=p[M];w(q.value,{componentStack:q.stack})}}finally{se.T=l,le.p=_}}(sa&3)!==0&&Ch(),Ns(a),_=a.pendingLanes,(u&261930)!==0&&(_&42)!==0?a===gg?$u++:($u=0,gg=a):$u=0,Ku(0)}}function WE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,bu(l)))}function Ch(){return KE(),JE(),YE(),ZE()}function ZE(){if(Qn!==5)return!1;var a=Ja,l=pg;pg=0;var u=ct(sa),p=se.T,_=le.p;try{le.p=32>u?32:u,se.T=null,u=mg,mg=null;var w=Ja,M=sa;if(Qn=0,cc=Ja=null,sa=0,(Yt&6)!==0)throw Error(r(331));var q=Yt;if(Yt|=4,DE(w.current),IE(w,w.current,M,u),Yt=q,Ku(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(bt,w)}catch{}return!0}finally{le.p=_,se.T=p,WE(a,l)}}function XE(a,l,u){l=Di(u,l),l=Jm(a.stateNode,l,2),a=za(a,l,2),a!==null&&(ar(a,2),Ns(a))}function nn(a,l,u){if(a.tag===3)XE(a,a,u);else for(;l!==null;){if(l.tag===3){XE(l,a,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ka===null||!Ka.has(p))){a=Di(u,a),u=Q_(2),p=za(l,u,2),p!==null&&(eE(u,p,l,a),ar(p,2),Ns(p));break}}l=l.return}}function yg(a,l,u){var p=a.pingCache;if(p===null){p=a.pingCache=new j4;var _=new Set;p.set(l,_)}else _=p.get(l),_===void 0&&(_=new Set,p.set(l,_));_.has(u)||(fg=!0,_.add(u),a=W4.bind(null,a,l,u),l.then(a,a))}function W4(a,l,u){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,hn===a&&(kt&u)===u&&(In===4||In===3&&(kt&62914560)===kt&&300>gt()-_h?(Yt&2)===0&&uc(a,0):dg|=u,lc===kt&&(lc=0)),Ns(a)}function QE(a,l){l===0&&(l=Sa()),a=Go(a,l),a!==null&&(ar(a,l),Ns(a))}function Z4(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),QE(a,u)}function X4(a,l){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,_=a.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),QE(a,u)}function Q4(a,l){return ft(a,l)}var bh=null,dc=null,_g=!1,Nh=!1,Eg=!1,Wa=0;function Ns(a){a!==dc&&a.next===null&&(dc===null?bh=dc=a:dc=dc.next=a),Nh=!0,_g||(_g=!0,tD())}function Ku(a,l){if(!Eg&&Nh){Eg=!0;do for(var u=!1,p=bh;p!==null;){if(a!==0){var _=p.pendingLanes;if(_===0)var w=0;else{var M=p.suspendedLanes,q=p.pingedLanes;w=(1<<31-mn(42|a)+1)-1,w&=_&~(M&~q),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(u=!0,rT(p,w))}else w=kt,w=ti(p,p===hn?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||qr(p,w)||(u=!0,rT(p,w));p=p.next}while(u);Eg=!1}}function eD(){eT()}function eT(){Nh=_g=!1;var a=0;Wa!==0&&fD()&&(a=Wa);for(var l=gt(),u=null,p=bh;p!==null;){var _=p.next,w=tT(p,l);w===0?(p.next=null,u===null?bh=_:u.next=_,_===null&&(dc=u)):(u=p,(a!==0||(w&3)!==0)&&(Nh=!0)),p=_}Qn!==0&&Qn!==5||Ku(a),Wa!==0&&(Wa=0)}function tT(a,l){for(var u=a.suspendedLanes,p=a.pingedLanes,_=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var M=31-mn(w),q=1<<M,oe=_[M];oe===-1?((q&u)===0||(q&p)!==0)&&(_[M]=ko(q,l)):oe<=l&&(a.expiredLanes|=q),w&=~q}if(l=hn,u=kt,u=ti(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===l&&(tn===2||tn===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&un(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||qr(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(p!==null&&un(p),ct(u)){case 2:case 8:u=fn;break;case 32:u=Rt;break;case 268435456:u=it;break;default:u=Rt}return p=nT.bind(null,a),u=ft(u,p),a.callbackPriority=l,a.callbackNode=u,l}return p!==null&&p!==null&&un(p),a.callbackPriority=2,a.callbackNode=null,2}function nT(a,l){if(Qn!==0&&Qn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Ch()&&a.callbackNode!==u)return null;var p=kt;return p=ti(a,a===hn?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(LE(a,p,l),tT(a,gt()),a.callbackNode!=null&&a.callbackNode===u?nT.bind(null,a):null)}function rT(a,l){if(Ch())return null;LE(a,l,!0)}function tD(){hD(function(){(Yt&6)!==0?ft(Ct,eD):eT()})}function Tg(){if(Wa===0){var a=Zl;a===0&&(a=Gr,Gr<<=1,(Gr&261888)===0&&(Gr=256)),Wa=a}return Wa}function iT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ol(""+a)}function sT(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function nD(a,l,u,p,_){if(l==="submit"&&u&&u.stateNode===_){var w=iT((_[Q]||null).action),M=p.submitter;M&&(l=(l=M[Q]||null)?iT(l.formAction):M.getAttribute("formAction"),l!==null&&(w=l,M=null));var q=new Es("action","action",null,p,_);a.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Wa!==0){var oe=M?sT(_,M):new FormData(_);Hm(u,{pending:!0,data:oe,method:_.method,action:w},null,oe)}}else typeof w=="function"&&(q.preventDefault(),oe=M?sT(_,M):new FormData(_),Hm(u,{pending:!0,data:oe,method:_.method,action:w},w,oe))},currentTarget:_}]})}}for(var wg=0;wg<sm.length;wg++){var Sg=sm[wg],rD=Sg.toLowerCase(),iD=Sg[0].toUpperCase()+Sg.slice(1);is(rD,"on"+iD)}is(Oy,"onAnimationEnd"),is(Ly,"onAnimationIteration"),is(Uy,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(_4,"onTransitionRun"),is(E4,"onTransitionStart"),is(T4,"onTransitionCancel"),is(Vy,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function aT(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],_=p.event;p=p.listeners;e:{var w=void 0;if(l)for(var M=p.length-1;0<=M;M--){var q=p[M],oe=q.instance,_e=q.currentTarget;if(q=q.listener,oe!==w&&_.isPropagationStopped())break e;w=q,_.currentTarget=_e;try{w(_)}catch(Re){Gd(Re)}_.currentTarget=null,w=oe}else for(M=0;M<p.length;M++){if(q=p[M],oe=q.instance,_e=q.currentTarget,q=q.listener,oe!==w&&_.isPropagationStopped())break e;w=q,_.currentTarget=_e;try{w(_)}catch(Re){Gd(Re)}_.currentTarget=null,w=oe}}}}function It(a,l){var u=l[ge];u===void 0&&(u=l[ge]=new Set);var p=a+"__bubble";u.has(p)||(oT(l,a,2,!1),u.add(p))}function Ag(a,l,u){var p=0;l&&(p|=4),oT(u,a,p,l)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function Cg(a){if(!a[Ih]){a[Ih]=!0,Xt.forEach(function(u){u!=="selectionchange"&&(sD.has(u)||Ag(u,!1,a),Ag(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Ih]||(l[Ih]=!0,Ag("selectionchange",!1,l))}}function oT(a,l,u,p){switch(OT(l)){case 2:var _=MD;break;case 8:_=PD;break;default:_=zg}u=_.bind(null,l,u,a),_=void 0,!Fo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),p?_!==void 0?a.addEventListener(l,u,{capture:!0,passive:_}):a.addEventListener(l,u,!0):_!==void 0?a.addEventListener(l,u,{passive:_}):a.addEventListener(l,u,!1)}function bg(a,l,u,p,_){var w=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var M=p.tag;if(M===3||M===4){var q=p.stateNode.containerInfo;if(q===_)break;if(M===4)for(M=p.return;M!==null;){var oe=M.tag;if((oe===3||oe===4)&&M.stateNode.containerInfo===_)return;M=M.return}for(;q!==null;){if(M=ze(q),M===null)return;if(oe=M.tag,oe===5||oe===6||oe===26||oe===27){p=w=M;continue e}q=q.parentNode}}p=p.return}ka(function(){var _e=w,Re=Ni(u),Pe=[];e:{var we=By.get(a);if(we!==void 0){var be=Es,Ze=a;switch(a){case"keypress":if(Lo(u)===0)break e;case"keydown":case"keyup":be=Bd;break;case"focusin":Ze="focus",be=Vo;break;case"focusout":Ze="blur",be=Vo;break;case"beforeblur":case"afterblur":be=Vo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=I;break;case Oy:case Ly:case Uy:be=Md;break;case Vy:be=Y;break;case"scroll":case"scrollend":be=xu;break;case"wheel":be=Ae;break;case"copy":case"cut":case"paste":be=Pd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=js;break;case"toggle":case"beforetoggle":be=Tt}var dt=(l&4)!==0,ln=!dt&&(a==="scroll"||a==="scrollend"),pe=dt?we!==null?we+"Capture":null:we;dt=[];for(var ue=_e,ye;ue!==null;){var De=ue;if(ye=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||ye===null||pe===null||(De=es(ue,pe),De!=null&&dt.push(Yu(ue,De,ye))),ln)break;ue=ue.return}0<dt.length&&(we=new be(we,Ze,null,u,Re),Pe.push({event:we,listeners:dt}))}}if((l&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",we&&u!==mu&&(Ze=u.relatedTarget||u.fromElement)&&(ze(Ze)||Ze[te]))break e;if((be||we)&&(we=Re.window===Re?Re:(we=Re.ownerDocument)?we.defaultView||we.parentWindow:window,be?(Ze=u.relatedTarget||u.toElement,be=_e,Ze=Ze?ze(Ze):null,Ze!==null&&(ln=s(Ze),dt=Ze.tag,Ze!==ln||dt!==5&&dt!==27&&dt!==6)&&(Ze=null)):(be=null,Ze=_e),be!==Ze)){if(dt=yu,De="onMouseLeave",pe="onMouseEnter",ue="mouse",(a==="pointerout"||a==="pointerover")&&(dt=js,De="onPointerLeave",pe="onPointerEnter",ue="pointer"),ln=be==null?we:Ue(be),ye=Ze==null?we:Ue(Ze),we=new dt(De,ue+"leave",be,u,Re),we.target=ln,we.relatedTarget=ye,De=null,ze(Re)===_e&&(dt=new dt(pe,ue+"enter",Ze,u,Re),dt.target=ye,dt.relatedTarget=ln,De=dt),ln=De,be&&Ze)t:{for(dt=aD,pe=be,ue=Ze,ye=0,De=pe;De;De=dt(De))ye++;De=0;for(var at=ue;at;at=dt(at))De++;for(;0<ye-De;)pe=dt(pe),ye--;for(;0<De-ye;)ue=dt(ue),De--;for(;ye--;){if(pe===ue||ue!==null&&pe===ue.alternate){dt=pe;break t}pe=dt(pe),ue=dt(ue)}dt=null}else dt=null;be!==null&&lT(Pe,we,be,dt,!1),Ze!==null&&ln!==null&&lT(Pe,ln,Ze,dt,!0)}}e:{if(we=_e?Ue(_e):window,be=we.nodeName&&we.nodeName.toLowerCase(),be==="select"||be==="input"&&we.type==="file")var qt=Ay;else if(wy(we))if(Cy)qt=v4;else{qt=m4;var tt=p4}else be=we.nodeName,!be||be.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?_e&&Fl(_e.elementType)&&(qt=Ay):qt=g4;if(qt&&(qt=qt(a,_e))){Sy(Pe,qt,u,Re);break e}tt&&tt(a,we,_e),a==="focusout"&&_e&&we.type==="number"&&_e.memoizedProps.value!=null&&du(we,"number",we.value)}switch(tt=_e?Ue(_e):window,a){case"focusin":(wy(tt)||tt.contentEditable==="true")&&(Gl=tt,nm=_e,Su=null);break;case"focusout":Su=nm=Gl=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,Py(Pe,u,Re);break;case"selectionchange":if(y4)break;case"keydown":case"keyup":Py(Pe,u,Re)}var At;if(Jt)e:{switch(a){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Hl?Bo(a,u)&&(Dt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ss&&u.locale!=="ko"&&(Hl||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Hl&&(At=vu()):(_s=Re,gu="value"in _s?_s.value:_s.textContent,Hl=!0)),tt=Rh(_e,Dt),0<tt.length&&(Dt=new ws(Dt,a,null,u,Re),Pe.push({event:Dt,listeners:tt}),At?Dt.data=At:(At=zl(u),At!==null&&(Dt.data=At)))),(At=Ri?u4(a,u):f4(a,u))&&(Dt=Rh(_e,"onBeforeInput"),0<Dt.length&&(tt=new ws("onBeforeInput","beforeinput",null,u,Re),Pe.push({event:tt,listeners:Dt}),tt.data=At)),nD(Pe,a,_e,u,Re)}aT(Pe,l)})}function Yu(a,l,u){return{instance:a,listener:l,currentTarget:u}}function Rh(a,l){for(var u=l+"Capture",p=[];a!==null;){var _=a,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=es(a,u),_!=null&&p.unshift(Yu(a,_,w)),_=es(a,l),_!=null&&p.push(Yu(a,_,w))),a.tag===3)return p;a=a.return}return[]}function aD(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function lT(a,l,u,p,_){for(var w=l._reactName,M=[];u!==null&&u!==p;){var q=u,oe=q.alternate,_e=q.stateNode;if(q=q.tag,oe!==null&&oe===p)break;q!==5&&q!==26&&q!==27||_e===null||(oe=_e,_?(_e=es(u,w),_e!=null&&M.unshift(Yu(u,_e,oe))):_||(_e=es(u,w),_e!=null&&M.push(Yu(u,_e,oe)))),u=u.return}M.length!==0&&a.push({event:l,listeners:M})}var oD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function cT(a){return(typeof a=="string"?a:""+a).replace(oD,`
`).replace(lD,"")}function uT(a,l){return l=cT(l),cT(a)===l}function on(a,l,u,p,_,w){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||ri(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&ri(a,""+p);break;case"className":mi(a,"class",p);break;case"tabIndex":mi(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(a,u,p);break;case"style":pu(a,p,w);break;case"data":if(l!=="object"){mi(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Ol(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(u==="formAction"?(l!=="input"&&on(a,l,"name",_.name,_,null),on(a,l,"formEncType",_.formEncType,_,null),on(a,l,"formMethod",_.formMethod,_,null),on(a,l,"formTarget",_.formTarget,_,null)):(on(a,l,"encType",_.encType,_,null),on(a,l,"method",_.method,_,null),on(a,l,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Ol(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=Qi);break;case"onScroll":p!=null&&It("scroll",a);break;case"onScrollEnd":p!=null&&It("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=Ol(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":It("beforetoggle",a),It("toggle",a),Rr(a,"popover",p);break;case"xlinkActuate":Hn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Hn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Hn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Hn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Hn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Hn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Rr(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Rd.get(u)||u,Rr(a,u,p))}}function Ng(a,l,u,p,_,w){switch(u){case"style":pu(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?ri(a,p):(typeof p=="number"||typeof p=="bigint")&&ri(a,""+p);break;case"onScroll":p!=null&&It("scroll",a);break;case"onScrollEnd":p!=null&&It("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),l=u.slice(2,_?u.length-7:void 0),w=a[Q]||null,w=w!=null?w[u]:null,typeof w=="function"&&a.removeEventListener(l,w,_),typeof p=="function")){typeof w!="function"&&w!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,p,_);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Rr(a,u,p)}}}function _r(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",a),It("load",a);var p=!1,_=!1,w;for(w in u)if(u.hasOwnProperty(w)){var M=u[w];if(M!=null)switch(w){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:on(a,l,w,M,u,null)}}_&&on(a,l,"srcSet",u.srcSet,u,null),p&&on(a,l,"src",u.src,u,null);return;case"input":It("invalid",a);var q=w=M=_=null,oe=null,_e=null;for(p in u)if(u.hasOwnProperty(p)){var Re=u[p];if(Re!=null)switch(p){case"name":_=Re;break;case"type":M=Re;break;case"checked":oe=Re;break;case"defaultChecked":_e=Re;break;case"value":w=Re;break;case"defaultValue":q=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,l));break;default:on(a,l,p,Re,u,null)}}bd(a,w,q,oe,_e,M,_,!1);return;case"select":It("invalid",a),p=M=w=null;for(_ in u)if(u.hasOwnProperty(_)&&(q=u[_],q!=null))switch(_){case"value":w=q;break;case"defaultValue":M=q;break;case"multiple":p=q;default:on(a,l,_,q,u,null)}l=w,u=M,a.multiple=!!p,l!=null?ba(a,!!p,l,!1):u!=null&&ba(a,!!p,u,!0);return;case"textarea":It("invalid",a),w=_=p=null;for(M in u)if(u.hasOwnProperty(M)&&(q=u[M],q!=null))switch(M){case"value":p=q;break;case"defaultValue":_=q;break;case"children":w=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:on(a,l,M,q,u,null)}Na(a,p,_,w);return;case"option":for(oe in u)u.hasOwnProperty(oe)&&(p=u[oe],p!=null)&&(oe==="selected"?a.selected=p&&typeof p!="function"&&typeof p!="symbol":on(a,l,oe,p,u,null));return;case"dialog":It("beforetoggle",a),It("toggle",a),It("cancel",a),It("close",a);break;case"iframe":case"object":It("load",a);break;case"video":case"audio":for(p=0;p<Ju.length;p++)It(Ju[p],a);break;case"image":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"embed":case"source":case"link":It("error",a),It("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in u)if(u.hasOwnProperty(_e)&&(p=u[_e],p!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:on(a,l,_e,p,u,null)}return;default:if(Fl(l)){for(Re in u)u.hasOwnProperty(Re)&&(p=u[Re],p!==void 0&&Ng(a,l,Re,p,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(p=u[q],p!=null&&on(a,l,q,p,u,null))}function cD(a,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,M=null,q=null,oe=null,_e=null,Re=null;for(be in u){var Pe=u[be];if(u.hasOwnProperty(be)&&Pe!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":oe=Pe;default:p.hasOwnProperty(be)||on(a,l,be,null,p,Pe)}}for(var we in p){var be=p[we];if(Pe=u[we],p.hasOwnProperty(we)&&(be!=null||Pe!=null))switch(we){case"type":w=be;break;case"name":_=be;break;case"checked":_e=be;break;case"defaultChecked":Re=be;break;case"value":M=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,l));break;default:be!==Pe&&on(a,l,we,be,p,Pe)}}Pl(a,M,q,oe,_e,Re,w,_);return;case"select":be=M=q=we=null;for(w in u)if(oe=u[w],u.hasOwnProperty(w)&&oe!=null)switch(w){case"value":break;case"multiple":be=oe;default:p.hasOwnProperty(w)||on(a,l,w,null,p,oe)}for(_ in p)if(w=p[_],oe=u[_],p.hasOwnProperty(_)&&(w!=null||oe!=null))switch(_){case"value":we=w;break;case"defaultValue":q=w;break;case"multiple":M=w;default:w!==oe&&on(a,l,_,w,p,oe)}l=q,u=M,p=be,we!=null?ba(a,!!u,we,!1):!!p!=!!u&&(l!=null?ba(a,!!u,l,!0):ba(a,!!u,u?[]:"",!1));return;case"textarea":be=we=null;for(q in u)if(_=u[q],u.hasOwnProperty(q)&&_!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:on(a,l,q,null,p,_)}for(M in p)if(_=p[M],w=u[M],p.hasOwnProperty(M)&&(_!=null||w!=null))switch(M){case"value":we=_;break;case"defaultValue":be=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==w&&on(a,l,M,_,p,w)}Nd(a,we,be);return;case"option":for(var Ze in u)we=u[Ze],u.hasOwnProperty(Ze)&&we!=null&&!p.hasOwnProperty(Ze)&&(Ze==="selected"?a.selected=!1:on(a,l,Ze,null,p,we));for(oe in p)we=p[oe],be=u[oe],p.hasOwnProperty(oe)&&we!==be&&(we!=null||be!=null)&&(oe==="selected"?a.selected=we&&typeof we!="function"&&typeof we!="symbol":on(a,l,oe,we,p,be));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in u)we=u[dt],u.hasOwnProperty(dt)&&we!=null&&!p.hasOwnProperty(dt)&&on(a,l,dt,null,p,we);for(_e in p)if(we=p[_e],be=u[_e],p.hasOwnProperty(_e)&&we!==be&&(we!=null||be!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,l));break;default:on(a,l,_e,we,p,be)}return;default:if(Fl(l)){for(var ln in u)we=u[ln],u.hasOwnProperty(ln)&&we!==void 0&&!p.hasOwnProperty(ln)&&Ng(a,l,ln,void 0,p,we);for(Re in p)we=p[Re],be=u[Re],!p.hasOwnProperty(Re)||we===be||we===void 0&&be===void 0||Ng(a,l,Re,we,p,be);return}}for(var pe in u)we=u[pe],u.hasOwnProperty(pe)&&we!=null&&!p.hasOwnProperty(pe)&&on(a,l,pe,null,p,we);for(Pe in p)we=p[Pe],be=u[Pe],!p.hasOwnProperty(Pe)||we===be||we==null&&be==null||on(a,l,Pe,we,p,be)}function fT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uD(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var _=u[p],w=_.transferSize,M=_.initiatorType,q=_.duration;if(w&&q&&fT(M)){for(M=0,q=_.responseEnd,p+=1;p<u.length;p++){var oe=u[p],_e=oe.startTime;if(_e>q)break;var Re=oe.transferSize,Pe=oe.initiatorType;Re&&fT(Pe)&&(oe=oe.responseEnd,M+=Re*(oe<q?1:(q-_e)/(oe-_e)))}if(--p,l+=8*(w+M)/(_.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ig=null,Rg=null;function kh(a){return a.nodeType===9?a:a.ownerDocument}function dT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hT(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function kg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Dg=null;function fD(){var a=window.event;return a&&a.type==="popstate"?a===Dg?!1:(Dg=a,!0):(Dg=null,!1)}var pT=typeof setTimeout=="function"?setTimeout:void 0,dD=typeof clearTimeout=="function"?clearTimeout:void 0,mT=typeof Promise=="function"?Promise:void 0,hD=typeof queueMicrotask=="function"?queueMicrotask:typeof mT<"u"?function(a){return mT.resolve(null).then(a).catch(pD)}:pT;function pD(a){setTimeout(function(){throw a})}function Za(a){return a==="head"}function gT(a,l){var u=l,p=0;do{var _=u.nextSibling;if(a.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(_),gc(l);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Wu(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Wu(u);for(var w=u.firstChild;w;){var M=w.nextSibling,q=w.nodeName;w[Te]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=M}}else u==="body"&&Wu(a.ownerDocument.body);u=_}while(u);gc(l)}function vT(a,l){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function Mg(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Mg(u),Ve(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function mD(a,l,u,p){for(;a.nodeType===1;){var _=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Te])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Li(a.nextSibling),a===null)break}return null}function gD(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Li(a.nextSibling),a===null))return null;return a}function xT(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Li(a.nextSibling),a===null))return null;return a}function Pg(a){return a.data==="$?"||a.data==="$~"}function Fg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function vD(a,l){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||u.readyState!=="loading")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Li(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var Og=null;function yT(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(l===0)return Li(a.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}a=a.nextSibling}return null}function _T(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return a;l--}else u!=="/$"&&u!=="/&"||l++}a=a.previousSibling}return null}function ET(a,l,u){switch(l=kh(u),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Wu(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Ve(a)}var Ui=new Map,TT=new Set;function Dh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var aa=le.d;le.d={f:xD,r:yD,D:_D,C:ED,L:TD,m:wD,X:AD,S:SD,M:CD};function xD(){var a=aa.f(),l=wh();return a||l}function yD(a){var l=Ke(a);l!==null&&l.tag===5&&l.type==="form"?V_(l):aa.r(a)}var hc=typeof document>"u"?null:document;function wT(a,l,u){var p=hc;if(p&&typeof l=="string"&&l){var _=ni(l);_='link[rel="'+a+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),TT.has(_)||(TT.add(_),a={rel:a,crossOrigin:u,href:l},p.querySelector(_)===null&&(l=p.createElement("link"),_r(l,"link",a),et(l),p.head.appendChild(l)))}}function _D(a){aa.D(a),wT("dns-prefetch",a,null)}function ED(a,l){aa.C(a,l),wT("preconnect",a,l)}function TD(a,l,u){aa.L(a,l,u);var p=hc;if(p&&a&&l){var _='link[rel="preload"][as="'+ni(l)+'"]';l==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+ni(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+ni(u.imageSizes)+'"]')):_+='[href="'+ni(a)+'"]';var w=_;switch(l){case"style":w=pc(a);break;case"script":w=mc(a)}Ui.has(w)||(a=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Ui.set(w,a),p.querySelector(_)!==null||l==="style"&&p.querySelector(Zu(w))||l==="script"&&p.querySelector(Xu(w))||(l=p.createElement("link"),_r(l,"link",a),et(l),p.head.appendChild(l)))}}function wD(a,l){aa.m(a,l);var u=hc;if(u&&a){var p=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+ni(p)+'"][href="'+ni(a)+'"]',w=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=mc(a)}if(!Ui.has(w)&&(a=g({rel:"modulepreload",href:a},l),Ui.set(w,a),u.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Xu(w)))return}p=u.createElement("link"),_r(p,"link",a),et(p),u.head.appendChild(p)}}}function SD(a,l,u){aa.S(a,l,u);var p=hc;if(p&&a){var _=je(p).hoistableStyles,w=pc(a);l=l||"default";var M=_.get(w);if(!M){var q={loading:0,preload:null};if(M=p.querySelector(Zu(w)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Ui.get(w))&&Lg(a,u);var oe=M=p.createElement("link");et(oe),_r(oe,"link",a),oe._p=new Promise(function(_e,Re){oe.onload=_e,oe.onerror=Re}),oe.addEventListener("load",function(){q.loading|=1}),oe.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Mh(M,l,p)}M={type:"stylesheet",instance:M,count:1,state:q},_.set(w,M)}}}function AD(a,l){aa.X(a,l);var u=hc;if(u&&a){var p=je(u).hoistableScripts,_=mc(a),w=p.get(_);w||(w=u.querySelector(Xu(_)),w||(a=g({src:a,async:!0},l),(l=Ui.get(_))&&Ug(a,l),w=u.createElement("script"),et(w),_r(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(_,w))}}function CD(a,l){aa.M(a,l);var u=hc;if(u&&a){var p=je(u).hoistableScripts,_=mc(a),w=p.get(_);w||(w=u.querySelector(Xu(_)),w||(a=g({src:a,async:!0,type:"module"},l),(l=Ui.get(_))&&Ug(a,l),w=u.createElement("script"),et(w),_r(w,"link",a),u.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(_,w))}}function ST(a,l,u,p){var _=(_=he.current)?Dh(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=pc(u.href),u=je(_).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=pc(u.href);var w=je(_).hoistableStyles,M=w.get(a);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,M),(w=_.querySelector(Zu(a)))&&!w._p&&(M.instance=w,M.state.loading=5),Ui.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ui.set(a,u),w||bD(_,a,u,M.state))),l&&p===null)throw Error(r(528,""));return M}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=mc(u),u=je(_).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function pc(a){return'href="'+ni(a)+'"'}function Zu(a){return'link[rel="stylesheet"]['+a+"]"}function AT(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function bD(a,l,u,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),_r(l,"link",u),et(l),a.head.appendChild(l))}function mc(a){return'[src="'+ni(a)+'"]'}function Xu(a){return"script[async]"+a}function CT(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+ni(u.href)+'"]');if(p)return l.instance=p,et(p),p;var _=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),et(p),_r(p,"style",_),Mh(p,u.precedence,a),l.instance=p;case"stylesheet":_=pc(u.href);var w=a.querySelector(Zu(_));if(w)return l.state.loading|=4,l.instance=w,et(w),w;p=AT(u),(_=Ui.get(_))&&Lg(p,_),w=(a.ownerDocument||a).createElement("link"),et(w);var M=w;return M._p=new Promise(function(q,oe){M.onload=q,M.onerror=oe}),_r(w,"link",p),l.state.loading|=4,Mh(w,u.precedence,a),l.instance=w;case"script":return w=mc(u.src),(_=a.querySelector(Xu(w)))?(l.instance=_,et(_),_):(p=u,(_=Ui.get(w))&&(p=g({},u),Ug(p,_)),a=a.ownerDocument||a,_=a.createElement("script"),et(_),_r(_,"link",p),a.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Mh(p,u.precedence,a));return l.instance}function Mh(a,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,w=_,M=0;M<p.length;M++){var q=p[M];if(q.dataset.precedence===l)w=q;else if(w!==_)break}w?w.parentNode.insertBefore(a,w.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function Lg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function Ug(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ph=null;function bT(a,l,u){if(Ph===null){var p=new Map,_=Ph=new Map;_.set(u,p)}else _=Ph,p=_.get(u),p||(p=new Map,_.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),_=0;_<u.length;_++){var w=u[_];if(!(w[Te]||w[J]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var M=w.getAttribute(l)||"";M=a+M;var q=p.get(M);q?q.push(w):p.set(M,[w])}}return p}function NT(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function ND(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(a=l.disabled,typeof l.precedence=="string"&&a==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function IT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function ID(a,l,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=pc(p.href),w=l.querySelector(Zu(_));if(w){l=w._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Fh.bind(a),l.then(a,a)),u.state.loading|=4,u.instance=w,et(w);return}w=l.ownerDocument||l,p=AT(p),(_=Ui.get(_))&&Lg(p,_),w=w.createElement("link"),et(w);var M=w;M._p=new Promise(function(q,oe){M.onload=q,M.onerror=oe}),_r(w,"link",p),u.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Fh.bind(a),l.addEventListener("load",u),l.addEventListener("error",u))}}var Vg=0;function RD(a,l){return a.stylesheets&&a.count===0&&Lh(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&Lh(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+l);0<a.imgBytes&&Vg===0&&(Vg=62500*uD());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Lh(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>Vg?50:800)+l);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function Fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Oh=null;function Lh(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Oh=new Map,l.forEach(kD,a),Oh=null,Fh.call(a))}function kD(a,l){if(!(l.state.loading&4)){var u=Oh.get(a);if(u)var p=u.get(null);else{u=new Map,Oh.set(a,u);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var M=_[w];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),p=M)}p&&u.set(null,p)}_=l.instance,M=_.getAttribute("data-precedence"),w=u.get(M)||p,w===p&&u.set(null,_),u.set(M,_),this.count++,p=Fh.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),w?w.parentNode.insertBefore(_,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),l.state.loading|=4}}var Qu={$$typeof:k,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function DD(a,l,u,p,_,w,M,q,oe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function RT(a,l,u,p,_,w,M,q,oe,_e,Re,Pe){return a=new DD(a,l,u,M,oe,_e,Re,Pe,q),l=1,w===!0&&(l|=24),w=vi(3,null,null,l),a.current=w,w.stateNode=a,l=xm(),l.refCount++,a.pooledCache=l,l.refCount++,w.memoizedState={element:p,isDehydrated:u,cache:l},Tm(w),a}function kT(a){return a?(a=$l,a):$l}function DT(a,l,u,p,_,w){_=kT(_),p.context===null?p.context=_:p.pendingContext=_,p=Ba(l),p.payload={element:u},w=w===void 0?null:w,w!==null&&(p.callback=w),u=za(a,p,l),u!==null&&(li(u,a,l),ku(u,a,l))}function MT(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function Bg(a,l){MT(a,l),(a=a.alternate)&&MT(a,l)}function PT(a){if(a.tag===13||a.tag===31){var l=Go(a,67108864);l!==null&&li(l,a,67108864),Bg(a,67108864)}}function FT(a){if(a.tag===13||a.tag===31){var l=Ti();l=Qe(l);var u=Go(a,l);u!==null&&li(u,a,l),Bg(a,l)}}var Uh=!0;function MD(a,l,u,p){var _=se.T;se.T=null;var w=le.p;try{le.p=2,zg(a,l,u,p)}finally{le.p=w,se.T=_}}function PD(a,l,u,p){var _=se.T;se.T=null;var w=le.p;try{le.p=8,zg(a,l,u,p)}finally{le.p=w,se.T=_}}function zg(a,l,u,p){if(Uh){var _=Hg(p);if(_===null)bg(a,l,p,Vh,u),LT(a,p);else if(OD(_,a,l,u,p))p.stopPropagation();else if(LT(a,p),l&4&&-1<FD.indexOf(a)){for(;_!==null;){var w=Ke(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var M=mr(w.pendingLanes);if(M!==0){var q=w;for(q.pendingLanes|=2,q.entangledLanes|=2;M;){var oe=1<<31-mn(M);q.entanglements[1]|=oe,M&=~oe}Ns(w),(Yt&6)===0&&(Eh=gt()+500,Ku(0))}}break;case 31:case 13:q=Go(w,2),q!==null&&li(q,w,2),wh(),Bg(w,2)}if(w=Hg(p),w===null&&bg(a,l,p,Vh,u),w===_)break;_=w}_!==null&&p.stopPropagation()}else bg(a,l,p,null,u)}}function Hg(a){return a=Ni(a),Gg(a)}var Vh=null;function Gg(a){if(Vh=null,a=ze(a),a!==null){var l=s(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===31){if(a=c(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Vh=a,null}function OT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case Ct:return 2;case fn:return 8;case Rt:case Mn:return 32;case it:return 268435456;default:return 32}default:return 32}}var qg=!1,Xa=null,Qa=null,eo=null,ef=new Map,tf=new Map,to=[],FD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LT(a,l){switch(a){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":ef.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(l.pointerId)}}function nf(a,l,u,p,_,w){return a===null||a.nativeEvent!==w?(a={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[_]},l!==null&&(l=Ke(l),l!==null&&PT(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),a)}function OD(a,l,u,p,_){switch(l){case"focusin":return Xa=nf(Xa,a,l,u,p,_),!0;case"dragenter":return Qa=nf(Qa,a,l,u,p,_),!0;case"mouseover":return eo=nf(eo,a,l,u,p,_),!0;case"pointerover":var w=_.pointerId;return ef.set(w,nf(ef.get(w)||null,a,l,u,p,_)),!0;case"gotpointercapture":return w=_.pointerId,tf.set(w,nf(tf.get(w)||null,a,l,u,p,_)),!0}return!1}function UT(a){var l=ze(a.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,Z(a.priority,function(){FT(u)});return}}else if(l===31){if(l=c(u),l!==null){a.blockedOn=l,Z(a.priority,function(){FT(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Bh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=Hg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);mu=p,u.target.dispatchEvent(p),mu=null}else return l=Ke(u),l!==null&&PT(l),a.blockedOn=u,!1;l.shift()}return!0}function VT(a,l,u){Bh(a)&&u.delete(l)}function LD(){qg=!1,Xa!==null&&Bh(Xa)&&(Xa=null),Qa!==null&&Bh(Qa)&&(Qa=null),eo!==null&&Bh(eo)&&(eo=null),ef.forEach(VT),tf.forEach(VT)}function zh(a,l){a.blockedOn===l&&(a.blockedOn=null,qg||(qg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,LD)))}var Hh=null;function BT(a){Hh!==a&&(Hh=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Hh===a&&(Hh=null);for(var l=0;l<a.length;l+=3){var u=a[l],p=a[l+1],_=a[l+2];if(typeof p!="function"){if(Gg(p||u)===null)continue;break}var w=Ke(u);w!==null&&(a.splice(l,3),l-=3,Hm(w,{pending:!0,data:_,method:u.method,action:p},p,_))}}))}function gc(a){function l(oe){return zh(oe,a)}Xa!==null&&zh(Xa,a),Qa!==null&&zh(Qa,a),eo!==null&&zh(eo,a),ef.forEach(l),tf.forEach(l);for(var u=0;u<to.length;u++){var p=to[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<to.length&&(u=to[0],u.blockedOn===null);)UT(u),u.blockedOn===null&&to.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var _=u[p],w=u[p+1],M=_[Q]||null;if(typeof w=="function")M||BT(u);else if(M){var q=null;if(w&&w.hasAttribute("formAction")){if(_=w,M=w[Q]||null)q=M.formAction;else if(Gg(_)!==null)continue}else q=M.action;typeof q=="function"?u[p+1]=q:(u.splice(p,3),p-=3),BT(u)}}}function zT(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(M){return _=M})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function jg(a){this._internalRoot=a}Gh.prototype.render=jg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,p=Ti();DT(u,p,a,l,null,null)},Gh.prototype.unmount=jg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;DT(a.current,2,null,a,null,null),wh(),l[te]=null}};function Gh(a){this._internalRoot=a}Gh.prototype.unstable_scheduleHydration=function(a){if(a){var l=z();a={blockedOn:null,target:a,priority:l};for(var u=0;u<to.length&&l!==0&&l<to[u].priority;u++);to.splice(u,0,a),u===0&&UT(a)}};var HT=e.version;if(HT!=="19.2.4")throw Error(r(527,HT,"19.2.4"));le.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var UD={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{bt=qh.inject(UD),Kt=qh}catch{}}return sf.createRoot=function(a,l){if(!i(a))throw Error(r(299));var u=!1,p="",_=Y_,w=W_,M=Z_;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError)),l=RT(a,1,!1,null,null,u,p,null,_,w,M,zT),a[te]=l.current,Cg(a),new jg(l)},sf.hydrateRoot=function(a,l,u){if(!i(a))throw Error(r(299));var p=!1,_="",w=Y_,M=W_,q=Z_,oe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(oe=u.formState)),l=RT(a,1,!0,l,u??null,p,_,oe,w,M,q,zT),l.context=kT(null),u=l.current,p=Ti(),p=Qe(p),_=Ba(p),_.callback=null,za(u,_,p),u=p,l.current.lanes=u,ar(l,u),Ns(l),a[te]=l.current,Cg(a),new Gh(l)},sf.version="19.2.4",sf}var XT;function KD(){if(XT)return Jg.exports;XT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jg.exports=$D(),Jg.exports}var JD=KD();const YD=Sp(JD);const zC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const WD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const ZD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const QT=t=>{const e=ZD(t);return e.charAt(0).toUpperCase()+e.slice(1)};var XD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const eM=de.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},f)=>de.createElement("svg",{ref:f,...XD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zC("lucide",i),...!s&&!QD(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,h])=>de.createElement(d,h)),...Array.isArray(s)?s:[s]]));const lt=(t,e)=>{const n=de.forwardRef(({className:r,...i},s)=>de.createElement(eM,{ref:s,iconNode:e,className:zC(`lucide-${WD(QT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=QT(t),n};const tM=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],nM=lt("arrow-down",tM);const rM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],iM=lt("arrow-left",rM);const sM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],aM=lt("arrow-right",sM);const oM=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lM=lt("arrow-up",oM);const cM=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],HC=lt("briefcase",cM);const uM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fM=lt("calendar",uM);const dM=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hM=lt("camera",dM);const pM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O0=lt("check",pM);const mM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gM=lt("chevron-right",mM);const vM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ha=lt("circle-alert",vM);const xM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rc=lt("circle-check-big",xM);const yM=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],kv=lt("cloud",yM);const _M=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],EM=lt("cookie",_M);const TM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],wM=lt("download",TM);const SM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],e2=lt("external-link",SM);const AM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],g0=lt("file-spreadsheet",AM);const CM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],t2=lt("file-text",CM);const bM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],L0=lt("file-up",bM);const NM=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],GC=lt("funnel",NM);const IM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],j1=lt("globe",IM);const RM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xg=lt("key",RM);const kM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],qC=lt("layers",kM);const DM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],n2=lt("layout-dashboard",DM);const MM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wf=lt("loader-circle",MM);const PM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dv=lt("lock",PM);const FM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OM=lt("log-out",FM);const LM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],UM=lt("mail",LM);const VM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hc=lt("map-pin",VM);const BM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],zM=lt("map",BM);const HM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],GM=lt("maximize-2",HM);const qM=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jM=lt("menu",qM);const $M=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],KM=lt("minimize-2",$M);const JM=[["path",{d:"M5 12h14",key:"1ays0h"}]],YM=lt("minus",JM);const WM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],kc=lt("package",WM);const ZM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],XM=lt("pen",ZM);const QM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Qg=lt("pencil",QM);const e3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],t3=lt("phone",e3);const n3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$1=lt("plus",n3);const r3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pd=lt("save",r3);const i3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bf=lt("search",i3);const s3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],r2=lt("send",s3);const a3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],o3=lt("shield-check",a3);const l3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],jC=lt("shield",l3);const c3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Gc=lt("shopping-bag",c3);const u3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],i2=lt("sparkles",u3);const f3=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],zf=lt("store",f3);const d3=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],h3=lt("table",d3);const p3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],K1=lt("tag",p3);const m3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dl=lt("trash-2",m3);const g3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],v3=lt("upload",g3);const x3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],s2=lt("user-plus",x3);const y3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ms=lt("user",y3);const _3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mv=lt("users",_3);const E3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pa=lt("x",E3),$C={admin_dev:" Admin DEV",admin_general:" Admin Geral",general_manager:" Gerente Geral",sales_manager:" Gerente de Vendas",sales_supervisor:" Supervisor de Vendas",sales_internal:" Vendedor Interno",sales_external:" Vendedor Externo",admin:" Admin (Legado)",salesperson:" Vendedor (Legado)"},fi={admin_dev:1,admin:1,admin_general:2,general_manager:3,sales_manager:4,sales_supervisor:5,sales_internal:6,sales_external:7,salesperson:7},a2=t=>$C[t]||t,T3=t=>t==="admin"?"admin_dev":t==="salesperson"?"sales_external":t,w3=t=>{const e=fi[t],n=["admin_dev","admin_general","general_manager","sales_manager","sales_supervisor","sales_internal","sales_external"];return e===1?n:n.filter(r=>fi[r]>e)},ev=(t,e)=>{const n=fi[t],r=fi[e];return r===1?n===1:n<r},vc=t=>fi[t]<=2,Sf=t=>fi[t]>=3,Pv=t=>fi[t]<=5,Ap=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],Hf=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],S3={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},J1=t=>{const e=t.toUpperCase().trim();return S3[e]||"Indefinido"};var v0={exports:{}};var A3=v0.exports,o2;function C3(){return o2||(o2=1,(function(t,e){((n,r)=>{t.exports=r()})(A3,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,c={},f=0,d={};function h(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var F=G(b);F.chunkSize=parseInt(F.chunkSize),b.step||b.chunk||(F.chunkSize=null),this._handle=new A(F),(this._handle.streamer=this)._config=F}).call(this,N),this.parseChunk=function(b,F){var O=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<O){let U=this._config.newline;U||(D=this._config.quoteChar||'"',U=this._handle.guessLineEndings(b,D)),b=[...b.split(U).slice(O)].join(U)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(b))!==void 0&&(b=D),this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+b,D=(this._partialLine="",this._handle.parse(O,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=D.meta.cursor,O=(this._finished||(this._partialLine=O.substring(b-this._baseIndex),this._baseIndex=b),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:D,workerId:d.WORKER_ID,finished:O});else if(R(this._config.chunk)&&!F){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!O||!R(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(b){R(this._config.error)?this._config.error(b):o&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:b,finished:!1})}}function g(N){var b;(N=N||{}).chunkSize||(N.chunkSize=d.RemoteChunkSize),h.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),s||(b.onload=K(this._chunkLoaded,this),b.onerror=K(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var F,O=this._config.downloadRequestHeaders;for(F in O)b.setRequestHeader(F,O[F])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+D));try{b.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}s&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(F=>(F=F.getResponseHeader("Content-Range"))!==null?parseInt(F.substring(F.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(F){F=b.statusText||F,this._sendError(new Error(F))}}function v(N){(N=N||{}).chunkSize||(N.chunkSize=d.LocalChunkSize),h.call(this,N);var b,F,O=typeof FileReader<"u";this.stream=function(D){this._input=D,F=D.slice||D.webkitSlice||D.mozSlice,O?((b=new FileReader).onload=K(this._chunkLoaded,this),b.onerror=K(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),D=F.call(D,this._start,U)),b.readAsText(D,this._config.encoding));O||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(b.error)}}function T(N){var b;h.call(this,N=N||{}),this.stream=function(F){return b=F,this._nextChunk()},this._nextChunk=function(){var F,O;if(!this._finished)return F=this._config.chunkSize,b=F?(O=b.substring(0,F),b.substring(F)):(O=b,""),this._finished=!b,this.parseChunk(O)}}function S(N){h.call(this,N=N||{});var b=[],F=!0,O=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):F=!0},this._streamData=K(function(D){try{b.push(typeof D=="string"?D:D.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(U){this._streamError(U)}},this),this._streamError=K(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=K(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(N){var b,F,O,D,U=Math.pow(2,53),fe=-U,ie=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,se=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,le=this,ce=0,ae=0,Me=!1,W=!1,V=[],X={data:[],errors:[],meta:{}};function ee(Ne){return N.skipEmptyLines==="greedy"?Ne.join("").trim()==="":Ne.length===1&&Ne[0].length===0}function ne(){if(X&&O&&(me("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),O=!1),N.skipEmptyLines&&(X.data=X.data.filter(function(re){return!ee(re)})),he()){let re=function(ht,Ye){R(N.transformHeader)&&(ht=N.transformHeader(ht,Ye)),V.push(ht)};var $e=re;if(X)if(Array.isArray(X.data[0])){for(var Ne=0;he()&&Ne<X.data.length;Ne++)X.data[Ne].forEach(re);X.data.splice(0,1)}else X.data.forEach(re)}function Ce(re,ht){for(var Ye=N.header?{}:[],Ge=0;Ge<re.length;Ge++){var He=Ge,Be=re[Ge],Be=((nt,rt)=>(ft=>(N.dynamicTypingFunction&&N.dynamicTyping[ft]===void 0&&(N.dynamicTyping[ft]=N.dynamicTypingFunction(ft)),(N.dynamicTyping[ft]||N.dynamicTyping)===!0))(nt)?rt==="true"||rt==="TRUE"||rt!=="false"&&rt!=="FALSE"&&((ft=>{if(ie.test(ft)&&(ft=parseFloat(ft),fe<ft&&ft<U))return 1})(rt)?parseFloat(rt):se.test(rt)?new Date(rt):rt===""?null:rt):rt)(He=N.header?Ge>=V.length?"__parsed_extra":V[Ge]:He,Be=N.transform?N.transform(Be,He):Be);He==="__parsed_extra"?(Ye[He]=Ye[He]||[],Ye[He].push(Be)):Ye[He]=Be}return N.header&&(Ge>V.length?me("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Ge,ae+ht):Ge<V.length&&me("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Ge,ae+ht)),Ye}var ke;X&&(N.header||N.dynamicTyping||N.transform)&&(ke=1,!X.data.length||Array.isArray(X.data[0])?(X.data=X.data.map(Ce),ke=X.data.length):X.data=Ce(X.data,0),N.header&&X.meta&&(X.meta.fields=V),ae+=ke)}function he(){return N.header&&V.length===0}function me(Ne,Ce,ke,$e){Ne={type:Ne,code:Ce,message:ke},$e!==void 0&&(Ne.row=$e),X.errors.push(Ne)}R(N.step)&&(D=N.step,N.step=function(Ne){X=Ne,he()?ne():(ne(),X.data.length!==0&&(ce+=Ne.data.length,N.preview&&ce>N.preview?F.abort():(X.data=X.data[0],D(X,le))))}),this.parse=function(Ne,Ce,ke){var $e=N.quoteChar||'"',$e=(N.newline||(N.newline=this.guessLineEndings(Ne,$e)),O=!1,N.delimiter?R(N.delimiter)&&(N.delimiter=N.delimiter(Ne),X.meta.delimiter=N.delimiter):(($e=((re,ht,Ye,Ge,He)=>{var Be,nt,rt,ft;He=He||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var un=0;un<He.length;un++){for(var Sn,zn=He[un],gt=0,Ut=0,Ct=0,fn=(rt=void 0,new P({comments:Ge,delimiter:zn,newline:ht,preview:10}).parse(re)),Rt=0;Rt<fn.data.length;Rt++)Ye&&ee(fn.data[Rt])?Ct++:(Sn=fn.data[Rt].length,Ut+=Sn,rt===void 0?rt=Sn:0<Sn&&(gt+=Math.abs(Sn-rt),rt=Sn));0<fn.data.length&&(Ut/=fn.data.length-Ct),(nt===void 0||gt<=nt)&&(ft===void 0||ft<Ut)&&1.99<Ut&&(nt=gt,Be=zn,ft=Ut)}return{successful:!!(N.delimiter=Be),bestDelimiter:Be}})(Ne,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=$e.bestDelimiter:(O=!0,N.delimiter=d.DefaultDelimiter),X.meta.delimiter=N.delimiter),G(N));return N.preview&&N.header&&$e.preview++,b=Ne,F=new P($e),X=F.parse(b,Ce,ke),ne(),Me?{meta:{paused:!0}}:X||{meta:{paused:!1}}},this.paused=function(){return Me},this.pause=function(){Me=!0,F.abort(),b=R(N.chunk)?"":b.substring(F.getCharIndex())},this.resume=function(){le.streamer._halted?(Me=!1,le.streamer.parseChunk(b,!0)):setTimeout(le.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,F.abort(),X.meta.aborted=!0,R(N.complete)&&N.complete(X),b=""},this.guessLineEndings=function(re,$e){re=re.substring(0,1048576);var $e=new RegExp(C($e)+"([^]*?)"+C($e),"gm"),ke=(re=re.replace($e,"")).split("\r"),$e=re.split(`
`),re=1<$e.length&&$e[0].length<ke[0].length;if(ke.length===1||re)return`
`;for(var ht=0,Ye=0;Ye<ke.length;Ye++)ke[Ye][0]===`
`&&ht++;return ht>=ke.length/2?`\r
`:"\r"}}function C(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(N){var b=(N=N||{}).delimiter,F=N.newline,O=N.comments,D=N.step,U=N.preview,fe=N.fastMode,ie=null,se=!1,le=N.quoteChar==null?'"':N.quoteChar,ce=le;if(N.escapeChar!==void 0&&(ce=N.escapeChar),(typeof b!="string"||-1<d.BAD_DELIMITERS.indexOf(b))&&(b=","),O===b)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<d.BAD_DELIMITERS.indexOf(O))&&(O=!1),F!==`
`&&F!=="\r"&&F!==`\r
`&&(F=`
`);var ae=0,Me=!1;this.parse=function(W,V,X){if(typeof W!="string")throw new Error("Input must be a string");var ee=W.length,ne=b.length,he=F.length,me=O.length,Ne=R(D),Ce=[],ke=[],$e=[],re=ae=0;if(!W)return gt();if(fe||fe!==!1&&W.indexOf(le)===-1){for(var ht=W.split(F),Ye=0;Ye<ht.length;Ye++){if($e=ht[Ye],ae+=$e.length,Ye!==ht.length-1)ae+=F.length;else if(X)return gt();if(!O||$e.substring(0,me)!==O){if(Ne){if(Ce=[],ft($e.split(b)),Ut(),Me)return gt()}else ft($e.split(b));if(U&&U<=Ye)return Ce=Ce.slice(0,U),gt(!0)}}return gt()}for(var Ge=W.indexOf(b,ae),He=W.indexOf(F,ae),Be=new RegExp(C(ce)+C(le),"g"),nt=W.indexOf(le,ae);;)if(W[ae]===le)for(nt=ae,ae++;;){if((nt=W.indexOf(le,nt+1))===-1)return X||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ce.length,index:ae}),Sn();if(nt===ee-1)return Sn(W.substring(ae,nt).replace(Be,le));if(le===ce&&W[nt+1]===ce)nt++;else if(le===ce||nt===0||W[nt-1]!==ce){Ge!==-1&&Ge<nt+1&&(Ge=W.indexOf(b,nt+1));var rt=un((He=He!==-1&&He<nt+1?W.indexOf(F,nt+1):He)===-1?Ge:Math.min(Ge,He));if(W.substr(nt+1+rt,ne)===b){$e.push(W.substring(ae,nt).replace(Be,le)),W[ae=nt+1+rt+ne]!==le&&(nt=W.indexOf(le,ae)),Ge=W.indexOf(b,ae),He=W.indexOf(F,ae);break}if(rt=un(He),W.substring(nt+1+rt,nt+1+rt+he)===F){if($e.push(W.substring(ae,nt).replace(Be,le)),zn(nt+1+rt+he),Ge=W.indexOf(b,ae),nt=W.indexOf(le,ae),Ne&&(Ut(),Me))return gt();if(U&&Ce.length>=U)return gt(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ce.length,index:ae}),nt++}}else if(O&&$e.length===0&&W.substring(ae,ae+me)===O){if(He===-1)return gt();ae=He+he,He=W.indexOf(F,ae),Ge=W.indexOf(b,ae)}else if(Ge!==-1&&(Ge<He||He===-1))$e.push(W.substring(ae,Ge)),ae=Ge+ne,Ge=W.indexOf(b,ae);else{if(He===-1)break;if($e.push(W.substring(ae,He)),zn(He+he),Ne&&(Ut(),Me))return gt();if(U&&Ce.length>=U)return gt(!0)}return Sn();function ft(Ct){Ce.push(Ct),re=ae}function un(Ct){var fn=0;return fn=Ct!==-1&&(Ct=W.substring(nt+1,Ct))&&Ct.trim()===""?Ct.length:fn}function Sn(Ct){return X||(Ct===void 0&&(Ct=W.substring(ae)),$e.push(Ct),ae=ee,ft($e),Ne&&Ut()),gt()}function zn(Ct){ae=Ct,ft($e),$e=[],He=W.indexOf(F,ae)}function gt(Ct){if(N.header&&!V&&Ce.length&&!se){var fn=Ce[0],Rt=Object.create(null),Mn=new Set(fn);let it=!1;for(let Ft=0;Ft<fn.length;Ft++){let Wt=fn[Ft];if(Rt[Wt=R(N.transformHeader)?N.transformHeader(Wt,Ft):Wt]){let bt,Kt=Rt[Wt];for(;bt=Wt+"_"+Kt,Kt++,Mn.has(bt););Mn.add(bt),fn[Ft]=bt,Rt[Wt]++,it=!0,(ie=ie===null?{}:ie)[bt]=Wt}else Rt[Wt]=1,fn[Ft]=Wt;Mn.add(Wt)}it&&console.warn("Duplicate headers found and renamed."),se=!0}return{data:Ce,errors:ke,meta:{delimiter:b,linebreak:F,aborted:Me,truncated:!!Ct,cursor:re+(V||0),renamedHeaders:ie}}}function Ut(){D(gt()),Ce=[],ke=[]}},this.abort=function(){Me=!0},this.getCharIndex=function(){return ae}}function B(N){var b=N.data,F=c[b.workerId],O=!1;if(b.error)F.userError(b.error,b.file);else if(b.results&&b.results.data){var D={abort:function(){O=!0,k(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(R(F.userStep)){for(var U=0;U<b.results.data.length&&(F.userStep({data:b.results.data[U],errors:b.results.errors,meta:b.results.meta},D),!O);U++);delete b.results}else R(F.userChunk)&&(F.userChunk(b.results,D,b.file),delete b.results)}b.finished&&!O&&k(b.workerId,b.results)}function k(N,b){var F=c[N];R(F.userComplete)&&F.userComplete(b),F.terminate(),delete c[N]}function H(){throw new Error("Not implemented.")}function G(N){if(typeof N!="object"||N===null)return N;var b,F=Array.isArray(N)?[]:{};for(b in N)F[b]=G(N[b]);return F}function K(N,b){return function(){N.apply(b,arguments)}}function R(N){return typeof N=="function"}return d.parse=function(N,b){var F=(b=b||{}).dynamicTyping||!1;if(R(F)&&(b.dynamicTypingFunction=F,F={}),b.dynamicTyping=F,b.transform=!!R(b.transform)&&b.transform,!b.worker||!d.WORKERS_SUPPORTED)return F=null,d.NODE_STREAM_INPUT,typeof N=="string"?(N=(O=>O.charCodeAt(0)!==65279?O:O.slice(1))(N),F=new(b.download?g:T)(b)):N.readable===!0&&R(N.read)&&R(N.on)?F=new S(b):(r.File&&N instanceof File||N instanceof Object)&&(F=new v(b)),F.stream(N);(F=(()=>{var O;return!!d.WORKERS_SUPPORTED&&(O=(()=>{var D=r.URL||r.webkitURL||null,U=n.toString();return d.BLOB_URL||(d.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(O=new r.Worker(O)).onmessage=B,O.id=f++,c[O.id]=O)})()).userStep=b.step,F.userChunk=b.chunk,F.userComplete=b.complete,F.userError=b.error,b.step=R(b.step),b.chunk=R(b.chunk),b.complete=R(b.complete),b.error=R(b.error),delete b.worker,F.postMessage({input:N,config:b,workerId:F.id})},d.unparse=function(N,b){var F=!1,O=!0,D=",",U=`\r
`,fe='"',ie=fe+fe,se=!1,le=null,ce=!1,ae=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||d.BAD_DELIMITERS.filter(function(V){return b.delimiter.indexOf(V)!==-1}).length||(D=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(F=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(se=b.skipEmptyLines),typeof b.newline=="string"&&(U=b.newline),typeof b.quoteChar=="string"&&(fe=b.quoteChar),typeof b.header=="boolean"&&(O=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");le=b.columns}b.escapeChar!==void 0&&(ie=b.escapeChar+fe),b.escapeFormulae instanceof RegExp?ce=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(fe),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return Me(null,N,se);if(typeof N[0]=="object")return Me(le||Object.keys(N[0]),N,se)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||le),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),Me(N.fields||[],N.data||[],se);throw new Error("Unable to serialize unrecognized input");function Me(V,X,ee){var ne="",he=(typeof V=="string"&&(V=JSON.parse(V)),typeof X=="string"&&(X=JSON.parse(X)),Array.isArray(V)&&0<V.length),me=!Array.isArray(X[0]);if(he&&O){for(var Ne=0;Ne<V.length;Ne++)0<Ne&&(ne+=D),ne+=W(V[Ne],Ne);0<X.length&&(ne+=U)}for(var Ce=0;Ce<X.length;Ce++){var ke=(he?V:X[Ce]).length,$e=!1,re=he?Object.keys(X[Ce]).length===0:X[Ce].length===0;if(ee&&!he&&($e=ee==="greedy"?X[Ce].join("").trim()==="":X[Ce].length===1&&X[Ce][0].length===0),ee==="greedy"&&he){for(var ht=[],Ye=0;Ye<ke;Ye++){var Ge=me?V[Ye]:Ye;ht.push(X[Ce][Ge])}$e=ht.join("").trim()===""}if(!$e){for(var He=0;He<ke;He++){0<He&&!re&&(ne+=D);var Be=he&&me?V[He]:He;ne+=W(X[Ce][Be],He)}Ce<X.length-1&&(!ee||0<ke&&!re)&&(ne+=U)}}return ne}function W(V,X){var ee,ne;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(ne=!1,ce&&typeof V=="string"&&ce.test(V)&&(V="'"+V,ne=!0),ee=V.toString().replace(ae,ie),(ne=ne||F===!0||typeof F=="function"&&F(V,X)||Array.isArray(F)&&F[X]||((he,me)=>{for(var Ne=0;Ne<me.length;Ne++)if(-1<he.indexOf(me[Ne]))return!0;return!1})(ee,d.BAD_DELIMITERS)||-1<ee.indexOf(D)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?fe+ee+fe:ee)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=P,d.ParserHandle=A,d.NetworkStreamer=g,d.FileStreamer=v,d.StringStreamer=T,d.ReadableStreamStreamer=S,r.jQuery&&((i=r.jQuery).fn.parse=function(N){var b=N.config||{},F=[];return this.each(function(U){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var fe=0;fe<this.files.length;fe++)F.push({file:this.files[fe],inputElem:this,instanceConfig:i.extend({},b)})}),O(),this;function O(){if(F.length===0)R(N.complete)&&N.complete();else{var U,fe,ie,se,le=F[0];if(R(N.before)){var ce=N.before(le.file,le.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return U="AbortError",fe=le.file,ie=le.inputElem,se=ce.reason,void(R(N.error)&&N.error({name:U},fe,ie,se));if(ce.action==="skip")return void D();typeof ce.config=="object"&&(le.instanceConfig=i.extend(le.instanceConfig,ce.config))}else if(ce==="skip")return void D()}var ae=le.instanceConfig.complete;le.instanceConfig.complete=function(Me){R(ae)&&ae(Me,le.file,le.inputElem),D()},d.parse(le.file,le.instanceConfig)}}function D(){F.splice(0,1),O()}}),o&&(r.onmessage=function(N){N=N.data,d.WORKER_ID===void 0&&N&&(d.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=d.parse(N.input,N.config))&&r.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(v.prototype=Object.create(h.prototype)).constructor=v,(T.prototype=Object.create(T.prototype)).constructor=T,(S.prototype=Object.create(h.prototype)).constructor=S,d})})(v0)),v0.exports}var b3=C3();const KC=Sp(b3);function Fe(t,e,n){function r(c,f){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:f,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,f);const d=o.prototype,h=Object.keys(d);for(let g=0;g<h.length;g++){const v=h[g];v in c||(c[v]=d[v].bind(c))}}const i=n?.Parent??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function o(c){var f;const d=n?.Parent?new s:this;r(d,c),(f=d._zod).deferred??(f.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(o,"name",{value:t}),o}class Dc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class JC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const YC={};function hl(t){return YC}function WC(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Fv(t,e){return typeof e=="bigint"?e.toString():e}function Y1(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function W1(t){return t==null}function Z1(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function N3(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f?.[1]&&(i=Number.parseInt(f[1]))}const s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return o%c/10**s}const l2=Symbol("evaluating");function rn(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==l2)return r===void 0&&(r=l2,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Tl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function bo(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function c2(t){return JSON.stringify(t)}function I3(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ZC="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function U0(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const R3=Y1(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Gf(t){if(U0(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(U0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function XC(t){return Gf(t)?{...t}:Array.isArray(t)?[...t]:t}const k3=new Set(["string","number","symbol"]);function qc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function No(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(r._zod.parent=t),r}function ot(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function D3(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const M3={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function P3(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=bo(t._zod.def,{get shape(){const o={};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&(o[c]=n.shape[c])}return Tl(this,"shape",o),o},checks:[]});return No(t,s)}function F3(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=bo(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&delete o[c]}return Tl(this,"shape",o),o},checks:[]});return No(t,s)}function O3(t,e){if(!Gf(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const s=t._zod.def.shape;for(const o in e)if(Object.getOwnPropertyDescriptor(s,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=bo(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return Tl(this,"shape",s),s}});return No(t,i)}function L3(t,e){if(!Gf(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=bo(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return Tl(this,"shape",r),r}});return No(t,n)}function U3(t,e){const n=bo(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Tl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return No(t,n)}function V3(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=bo(e._zod.def,{get shape(){const c=e._zod.def.shape,f={...c};if(n)for(const d in n){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(f[d]=t?new t({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)f[d]=t?new t({type:"optional",innerType:c[d]}):c[d];return Tl(this,"shape",f),f},checks:[]});return No(e,o)}function B3(t,e,n){const r=bo(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new t({type:"nonoptional",innerType:i[o]});return Tl(this,"shape",s),s}});return No(e,r)}function Ac(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function QC(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function jh(t){return typeof t=="string"?t:t?.message}function pl(t,e,n){const r={...t,path:t.path??[]};if(!t.message){const i=jh(t.inst?._zod.def?.error?.(t))??jh(e?.error?.(t))??jh(n.customError?.(t))??jh(n.localeError?.(t))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function X1(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function qf(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const eb=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Fv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},tb=Fe("$ZodError",eb),nb=Fe("$ZodError",eb,{Parent:Error});function z3(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function H3(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let o=n,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(e(s))):o[f]=o[f]||{_errors:[]},o=o[f],c++}}};return r(t),n}const Q1=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Dc;if(o.issues.length){const c=new(i?.Err??t)(o.issues.map(f=>pl(f,s,hl())));throw ZC(c,i?.callee),c}return o.value},ex=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(i?.Err??t)(o.issues.map(f=>pl(f,s,hl())));throw ZC(c,i?.callee),c}return o.value},Cp=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Dc;return s.issues.length?{success:!1,error:new(t??tb)(s.issues.map(o=>pl(o,i,hl())))}:{success:!0,data:s.value}},G3=Cp(nb),bp=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>pl(o,i,hl())))}:{success:!0,data:s.value}},q3=bp(nb),j3=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Q1(t)(e,n,i)},$3=t=>(e,n,r)=>Q1(t)(e,n,r),K3=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ex(t)(e,n,i)},J3=t=>async(e,n,r)=>ex(t)(e,n,r),Y3=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Cp(t)(e,n,i)},W3=t=>(e,n,r)=>Cp(t)(e,n,r),Z3=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bp(t)(e,n,i)},X3=t=>async(e,n,r)=>bp(t)(e,n,r),Q3=/^[cC][^\s-]{8,}$/,eP=/^[0-9a-z]+$/,tP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,nP=/^[0-9a-vA-V]{20}$/,rP=/^[A-Za-z0-9]{27}$/,iP=/^[a-zA-Z0-9_-]{21}$/,sP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,aP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,u2=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,oP=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,lP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function cP(){return new RegExp(lP,"u")}const uP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,dP=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,hP=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pP=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rb=/^[A-Za-z0-9_-]*$/,mP=/^\+[1-9]\d{6,14}$/,ib="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gP=new RegExp(`^${ib}$`);function sb(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function vP(t){return new RegExp(`^${sb(t)}$`)}function xP(t){const e=sb({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${ib}T(?:${r})$`)}const yP=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},_P=/^-?\d+$/,EP=/^-?\d+(?:\.\d+)?$/,TP=/^[^A-Z]*$/,wP=/^[^a-z]*$/,di=Fe("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),ab={number:"number",bigint:"bigint",object:"date"},ob=Fe("$ZodCheckLessThan",(t,e)=>{di.init(t,e);const n=ab[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),lb=Fe("$ZodCheckGreaterThan",(t,e)=>{di.init(t,e);const n=ab[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),SP=Fe("$ZodCheckMultipleOf",(t,e)=>{di.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):N3(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),AP=Fe("$ZodCheckNumberFormat",(t,e)=>{di.init(t,e),e.format=e.format||"float64";const n=e.format?.includes("int"),r=n?"int":"number",[i,s]=M3[e.format];t._zod.onattach.push(o=>{const c=o._zod.bag;c.format=e.format,c.minimum=i,c.maximum=s,n&&(c.pattern=_P)}),t._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}c<i&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),c>s&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inclusive:!0,inst:t,continue:!e.abort})}}),CP=Fe("$ZodCheckMaxLength",(t,e)=>{var n;di.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!W1(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const o=X1(i);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),bP=Fe("$ZodCheckMinLength",(t,e)=>{var n;di.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!W1(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const o=X1(i);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),NP=Fe("$ZodCheckLengthEquals",(t,e)=>{var n;di.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!W1(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const o=X1(i),c=s>e.length;r.issues.push({origin:o,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),Np=Fe("$ZodCheckStringFormat",(t,e)=>{var n,r;di.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),IP=Fe("$ZodCheckRegex",(t,e)=>{Np.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),RP=Fe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=TP),Np.init(t,e)}),kP=Fe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=wP),Np.init(t,e)}),DP=Fe("$ZodCheckIncludes",(t,e)=>{di.init(t,e);const n=qc(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),MP=Fe("$ZodCheckStartsWith",(t,e)=>{di.init(t,e);const n=new RegExp(`^${qc(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),PP=Fe("$ZodCheckEndsWith",(t,e)=>{di.init(t,e);const n=new RegExp(`.*${qc(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),FP=Fe("$ZodCheckOverwrite",(t,e)=>{di.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class OP{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this?.args,i=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const LP={major:4,minor:3,patch:6},Vn=Fe("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=LP;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const i of r)for(const s of i._zod.onattach)s(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const i=(o,c,f)=>{let d=Ac(o),h;for(const g of c){if(g._zod.def.when){if(!g._zod.def.when(o))continue}else if(d)continue;const v=o.issues.length,T=g._zod.check(o);if(T instanceof Promise&&f?.async===!1)throw new Dc;if(h||T instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await T,o.issues.length!==v&&(d||(d=Ac(o,v)))});else{if(o.issues.length===v)continue;d||(d=Ac(o,v))}}return h?h.then(()=>o):o},s=(o,c,f)=>{if(Ac(o))return o.aborted=!0,o;const d=i(c,r,f);if(d instanceof Promise){if(f.async===!1)throw new Dc;return d.then(h=>t._zod.parse(h,f))}return t._zod.parse(d,f)};t._zod.run=(o,c)=>{if(c.skipChecks)return t._zod.parse(o,c);if(c.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(h=>s(h,o,c)):s(d,o,c)}const f=t._zod.parse(o,c);if(f instanceof Promise){if(c.async===!1)throw new Dc;return f.then(d=>i(d,r,c))}return i(f,r,c)}}rn(t,"~standard",()=>({validate:i=>{try{const s=G3(t,i);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return q3(t,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}))}),tx=Fe("$ZodString",(t,e)=>{Vn.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??yP(t._zod.bag),t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),wn=Fe("$ZodStringFormat",(t,e)=>{Np.init(t,e),tx.init(t,e)}),UP=Fe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=aP),wn.init(t,e)}),VP=Fe("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=u2(r))}else e.pattern??(e.pattern=u2());wn.init(t,e)}),BP=Fe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=oP),wn.init(t,e)}),zP=Fe("$ZodURL",(t,e)=>{wn.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),HP=Fe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=cP()),wn.init(t,e)}),GP=Fe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=iP),wn.init(t,e)}),qP=Fe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Q3),wn.init(t,e)}),jP=Fe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=eP),wn.init(t,e)}),$P=Fe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=tP),wn.init(t,e)}),KP=Fe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=nP),wn.init(t,e)}),JP=Fe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=rP),wn.init(t,e)}),YP=Fe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=xP(e)),wn.init(t,e)}),WP=Fe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=gP),wn.init(t,e)}),ZP=Fe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=vP(e)),wn.init(t,e)}),XP=Fe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=sP),wn.init(t,e)}),QP=Fe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=uP),wn.init(t,e),t._zod.bag.format="ipv4"}),e6=Fe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=fP),wn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),t6=Fe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=dP),wn.init(t,e)}),n6=Fe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=hP),wn.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function cb(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const r6=Fe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=pP),wn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{cb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function i6(t){if(!rb.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return cb(n)}const s6=Fe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=rb),wn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{i6(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),a6=Fe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=mP),wn.init(t,e)});function o6(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const l6=Fe("$ZodJWT",(t,e)=>{wn.init(t,e),t._zod.check=n=>{o6(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),ub=Fe("$ZodNumber",(t,e)=>{Vn.init(t,e),t._zod.pattern=t._zod.bag.pattern??EP,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),c6=Fe("$ZodNumberFormat",(t,e)=>{AP.init(t,e),ub.init(t,e)}),u6=Fe("$ZodUnknown",(t,e)=>{Vn.init(t,e),t._zod.parse=n=>n}),f6=Fe("$ZodNever",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function f2(t,e,n){t.issues.length&&e.issues.push(...QC(n,t.issues)),e.value[n]=t.value}const d6=Fe("$ZodArray",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const c=i[o],f=e.element._zod.run({value:c,issues:[]},r);f instanceof Promise?s.push(f.then(d=>f2(d,n,o))):f2(f,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function V0(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...QC(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function fb(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=D3(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function db(t,e,n,r,i,s){const o=[],c=i.keySet,f=i.catchall._zod,d=f.def.type,h=f.optout==="optional";for(const g in e){if(c.has(g))continue;if(d==="never"){o.push(g);continue}const v=f.run({value:e[g],issues:[]},r);v instanceof Promise?t.push(v.then(T=>V0(T,n,g,e,h))):V0(v,n,g,e,h)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const h6=Fe("$ZodObject",(t,e)=>{if(Vn.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...c};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=Y1(()=>fb(e));rn(t._zod,"propValues",()=>{const c=e.shape,f={};for(const d in c){const h=c[d]._zod;if(h.values){f[d]??(f[d]=new Set);for(const g of h.values)f[d].add(g)}}return f});const i=U0,s=e.catchall;let o;t._zod.parse=(c,f)=>{o??(o=r.value);const d=c.value;if(!i(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),c;c.value={};const h=[],g=o.shape;for(const v of o.keys){const T=g[v],S=T._zod.optout==="optional",A=T._zod.run({value:d[v],issues:[]},f);A instanceof Promise?h.push(A.then(C=>V0(C,c,v,d,S))):V0(A,c,v,d,S)}return s?db(h,d,c,f,r.value,t):h.length?Promise.all(h).then(()=>c):c}}),p6=Fe("$ZodObjectJIT",(t,e)=>{h6.init(t,e);const n=t._zod.parse,r=Y1(()=>fb(e)),i=v=>{const T=new OP(["shape","payload","ctx"]),S=r.value,A=k=>{const H=c2(k);return`shape[${H}]._zod.run({ value: input[${H}], issues: [] }, ctx)`};T.write("const input = payload.value;");const C=Object.create(null);let P=0;for(const k of S.keys)C[k]=`key_${P++}`;T.write("const newResult = {};");for(const k of S.keys){const H=C[k],G=c2(k),R=v[k]?._zod?.optout==="optional";T.write(`const ${H} = ${A(k)};`),R?T.write(`
        if (${H}.issues.length) {
          if (${G} in input) {
            payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${G}, ...iss.path] : [${G}]
            })));
          }
        }
        
        if (${H}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${H}.value;
        }
        
      `):T.write(`
        if (${H}.issues.length) {
          payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${G}, ...iss.path] : [${G}]
          })));
        }
        
        if (${H}.value === undefined) {
          if (${G} in input) {
            newResult[${G}] = undefined;
          }
        } else {
          newResult[${G}] = ${H}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const B=T.compile();return(k,H)=>B(v,k,H)};let s;const o=U0,c=!YC.jitless,d=c&&R3.value,h=e.catchall;let g;t._zod.parse=(v,T)=>{g??(g=r.value);const S=v.value;return o(S)?c&&d&&T?.async===!1&&T.jitless!==!0?(s||(s=i(e.shape)),v=s(v,T),h?db([],S,v,T,g,t):v):n(v,T):(v.issues.push({expected:"object",code:"invalid_type",input:S,inst:t}),v)}});function d2(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!Ac(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>pl(o,r,hl())))}),e)}const m6=Fe("$ZodUnion",(t,e)=>{Vn.init(t,e),rn(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),rn(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),rn(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),rn(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>Z1(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const c=[];for(const f of e.options){const d=f._zod.run({value:i.value,issues:[]},s);if(d instanceof Promise)c.push(d),o=!0;else{if(d.issues.length===0)return d;c.push(d)}}return o?Promise.all(c).then(f=>d2(f,i,t,s)):d2(c,i,t,s)}}),g6=Fe("$ZodIntersection",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),o=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([f,d])=>h2(n,f,d)):h2(n,s,o)}});function Ov(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Gf(t)&&Gf(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const o=Ov(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],o=Ov(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function h2(t,e,n){const r=new Map;let i;for(const c of e.issues)if(c.code==="unrecognized_keys"){i??(i=c);for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else t.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else t.issues.push(c);const s=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(s.length&&i&&t.issues.push({...i,keys:s}),Ac(t))return t;const o=Ov(e.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return t.value=o.data,t}const v6=Fe("$ZodEnum",(t,e)=>{Vn.init(t,e);const n=WC(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>k3.has(typeof i)).map(i=>typeof i=="string"?qc(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:t}),i}}),x6=Fe("$ZodLiteral",(t,e)=>{if(Vn.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?qc(r):r?qc(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),r}}),y6=Fe("$ZodTransform",(t,e)=>{Vn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new JC(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new Dc;return n.value=i,n}});function p2(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const hb=Fe("$ZodOptional",(t,e)=>{Vn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",rn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),rn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Z1(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>p2(s,n.value)):p2(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),_6=Fe("$ZodExactOptional",(t,e)=>{hb.init(t,e),rn(t._zod,"values",()=>e.innerType._zod.values),rn(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),E6=Fe("$ZodNullable",(t,e)=>{Vn.init(t,e),rn(t._zod,"optin",()=>e.innerType._zod.optin),rn(t._zod,"optout",()=>e.innerType._zod.optout),rn(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Z1(n.source)}|null)$`):void 0}),rn(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),T6=Fe("$ZodDefault",(t,e)=>{Vn.init(t,e),t._zod.optin="optional",rn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>m2(s,e)):m2(i,e)}});function m2(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const w6=Fe("$ZodPrefault",(t,e)=>{Vn.init(t,e),t._zod.optin="optional",rn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),S6=Fe("$ZodNonOptional",(t,e)=>{Vn.init(t,e),rn(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>g2(s,t)):g2(i,t)}});function g2(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const A6=Fe("$ZodCatch",(t,e)=>{Vn.init(t,e),rn(t._zod,"optin",()=>e.innerType._zod.optin),rn(t._zod,"optout",()=>e.innerType._zod.optout),rn(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>pl(o,r,hl()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>pl(s,r,hl()))},input:n.value}),n.issues=[]),n)}}),C6=Fe("$ZodPipe",(t,e)=>{Vn.init(t,e),rn(t._zod,"values",()=>e.in._zod.values),rn(t._zod,"optin",()=>e.in._zod.optin),rn(t._zod,"optout",()=>e.out._zod.optout),rn(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>$h(o,e.in,r)):$h(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>$h(s,e.out,r)):$h(i,e.out,r)}});function $h(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const b6=Fe("$ZodReadonly",(t,e)=>{Vn.init(t,e),rn(t._zod,"propValues",()=>e.innerType._zod.propValues),rn(t._zod,"values",()=>e.innerType._zod.values),rn(t._zod,"optin",()=>e.innerType?._zod?.optin),rn(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(v2):v2(i)}});function v2(t){return t.value=Object.freeze(t.value),t}const N6=Fe("$ZodCustom",(t,e)=>{di.init(t,e),Vn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>x2(s,n,r,t));x2(i,n,r,t)}});function x2(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(qf(i))}}var y2;class I6{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function R6(){return new I6}(y2=globalThis).__zod_globalRegistry??(y2.__zod_globalRegistry=R6());const df=globalThis.__zod_globalRegistry;function k6(t,e){return new t({type:"string",...ot(e)})}function D6(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...ot(e)})}function _2(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...ot(e)})}function M6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...ot(e)})}function P6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ot(e)})}function F6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ot(e)})}function O6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ot(e)})}function L6(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...ot(e)})}function U6(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...ot(e)})}function V6(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...ot(e)})}function B6(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...ot(e)})}function z6(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...ot(e)})}function H6(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...ot(e)})}function G6(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...ot(e)})}function q6(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...ot(e)})}function j6(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...ot(e)})}function $6(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...ot(e)})}function K6(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ot(e)})}function J6(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ot(e)})}function Y6(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...ot(e)})}function W6(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...ot(e)})}function Z6(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...ot(e)})}function X6(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...ot(e)})}function Q6(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ot(e)})}function eF(t,e){return new t({type:"string",format:"date",check:"string_format",...ot(e)})}function tF(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...ot(e)})}function nF(t,e){return new t({type:"string",format:"duration",check:"string_format",...ot(e)})}function rF(t,e){return new t({type:"number",checks:[],...ot(e)})}function iF(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...ot(e)})}function sF(t){return new t({type:"unknown"})}function aF(t,e){return new t({type:"never",...ot(e)})}function E2(t,e){return new ob({check:"less_than",...ot(e),value:t,inclusive:!1})}function tv(t,e){return new ob({check:"less_than",...ot(e),value:t,inclusive:!0})}function T2(t,e){return new lb({check:"greater_than",...ot(e),value:t,inclusive:!1})}function nv(t,e){return new lb({check:"greater_than",...ot(e),value:t,inclusive:!0})}function w2(t,e){return new SP({check:"multiple_of",...ot(e),value:t})}function pb(t,e){return new CP({check:"max_length",...ot(e),maximum:t})}function B0(t,e){return new bP({check:"min_length",...ot(e),minimum:t})}function mb(t,e){return new NP({check:"length_equals",...ot(e),length:t})}function oF(t,e){return new IP({check:"string_format",format:"regex",...ot(e),pattern:t})}function lF(t){return new RP({check:"string_format",format:"lowercase",...ot(t)})}function cF(t){return new kP({check:"string_format",format:"uppercase",...ot(t)})}function uF(t,e){return new DP({check:"string_format",format:"includes",...ot(e),includes:t})}function fF(t,e){return new MP({check:"string_format",format:"starts_with",...ot(e),prefix:t})}function dF(t,e){return new PP({check:"string_format",format:"ends_with",...ot(e),suffix:t})}function Xc(t){return new FP({check:"overwrite",tx:t})}function hF(t){return Xc(e=>e.normalize(t))}function pF(){return Xc(t=>t.trim())}function mF(){return Xc(t=>t.toLowerCase())}function gF(){return Xc(t=>t.toUpperCase())}function vF(){return Xc(t=>I3(t))}function xF(t,e,n){return new t({type:"array",element:e,...ot(n)})}function yF(t,e,n){return new t({type:"custom",check:"custom",fn:e,...ot(n)})}function _F(t){const e=EF(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(qf(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(qf(i))}},t(n.value,n)));return e}function EF(t,e){const n=new di({check:"custom",...ot(e)});return n._zod.check=t,n}function gb(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??df,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Cr(t,e,n={path:[],schemaPath:[]}){var r;const i=t._zod.def,s=e.seen.get(t);if(s)return s.count++,n.schemaPath.includes(t)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,o);const c=t._zod.toJSONSchema?.();if(c)o.schema=c;else{const h={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,h);else{const v=o.schema,T=e.processors[i.type];if(!T)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);T(t,e,v,h)}const g=t._zod.parent;g&&(o.ref||(o.ref=g),Cr(g,e,h),e.seen.get(g).isParent=!0)}const f=e.metadataRegistry.get(t);return f&&Object.assign(o.schema,f),e.io==="input"&&Kr(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function vb(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of t.seen.entries()){const c=t.metadataRegistry.get(o[0])?.id;if(c){const f=r.get(c);if(f&&f!==o[0])throw new Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(c,o[0])}}const i=o=>{const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const g=t.external.registry.get(o[0])?.id,v=t.external.uri??(S=>S);if(g)return{ref:v(g)};const T=o[1].defId??o[1].schema.id??`schema${t.counter++}`;return o[1].defId=T,{defId:T,ref:`${v("__shared")}#/${c}/${T}`}}if(o[1]===n)return{ref:"#"};const d=`#/${c}/`,h=o[1].schema.id??`__schema${t.counter++}`;return{defId:h,ref:d+h}},s=o=>{if(o[1].schema.$ref)return;const c=o[1],{ref:f,defId:d}=i(o);c.def={...c.schema},d&&(c.defId=d);const h=c.schema;for(const g in h)delete h[g];h.$ref=f};if(t.cycles==="throw")for(const o of t.seen.entries()){const c=o[1];if(c.cycle)throw new Error(`Cycle detected: #/${c.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of t.seen.entries()){const c=o[1];if(e===o[0]){s(o);continue}if(t.external){const d=t.external.registry.get(o[0])?.id;if(e!==o[0]&&d){s(o);continue}}if(t.metadataRegistry.get(o[0])?.id){s(o);continue}if(c.cycle){s(o);continue}if(c.count>1&&t.reused==="ref"){s(o);continue}}}function xb(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=o=>{const c=t.seen.get(o);if(c.ref===null)return;const f=c.def??c.schema,d={...f},h=c.ref;if(c.ref=null,h){r(h);const v=t.seen.get(h),T=v.schema;if(T.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(T)):Object.assign(f,T),Object.assign(f,d),o._zod.parent===h)for(const A in f)A==="$ref"||A==="allOf"||A in d||delete f[A];if(T.$ref&&v.def)for(const A in f)A==="$ref"||A==="allOf"||A in v.def&&JSON.stringify(f[A])===JSON.stringify(v.def[A])&&delete f[A]}const g=o._zod.parent;if(g&&g!==h){r(g);const v=t.seen.get(g);if(v?.schema.$ref&&(f.$ref=v.schema.$ref,v.def))for(const T in f)T==="$ref"||T==="allOf"||T in v.def&&JSON.stringify(f[T])===JSON.stringify(v.def[T])&&delete f[T]}t.override({zodSchema:o,jsonSchema:f,path:c.path??[]})};for(const o of[...t.seen.entries()].reverse())r(o[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const o=t.external.registry.get(e)?.id;if(!o)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(o)}Object.assign(i,n.def??n.schema);const s=t.external?.defs??{};for(const o of t.seen.entries()){const c=o[1];c.def&&c.defId&&(s[c.defId]=c.def)}t.external||Object.keys(s).length>0&&(t.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const o=JSON.parse(JSON.stringify(i));return Object.defineProperty(o,"~standard",{value:{...e["~standard"],jsonSchema:{input:z0(e,"input",t.processors),output:z0(e,"output",t.processors)}},enumerable:!1,writable:!1}),o}catch{throw new Error("Error converting schema to JSON.")}}function Kr(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Kr(r.element,n);if(r.type==="set")return Kr(r.valueType,n);if(r.type==="lazy")return Kr(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Kr(r.innerType,n);if(r.type==="intersection")return Kr(r.left,n)||Kr(r.right,n);if(r.type==="record"||r.type==="map")return Kr(r.keyType,n)||Kr(r.valueType,n);if(r.type==="pipe")return Kr(r.in,n)||Kr(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Kr(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Kr(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Kr(i,n))return!0;return!!(r.rest&&Kr(r.rest,n))}return!1}const TF=(t,e={})=>n=>{const r=gb({...n,processors:e});return Cr(t,r),vb(r,t),xb(r,t)},z0=(t,e,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},o=gb({...i??{},target:s,io:e,processors:n});return Cr(t,o),vb(o,t),xb(o,t)},wF={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},SF=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:o,format:c,patterns:f,contentEncoding:d}=t._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof o=="number"&&(i.maxLength=o),c&&(i.format=wF[c]??c,i.format===""&&delete i.format,c==="time"&&delete i.format),d&&(i.contentEncoding=d),f&&f.size>0){const h=[...f];h.length===1?i.pattern=h[0].source:h.length>1&&(i.allOf=[...h.map(g=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},AF=(t,e,n,r)=>{const i=n,{minimum:s,maximum:o,format:c,multipleOf:f,exclusiveMaximum:d,exclusiveMinimum:h}=t._zod.bag;typeof c=="string"&&c.includes("int")?i.type="integer":i.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=h,i.exclusiveMinimum=!0):i.exclusiveMinimum=h),typeof s=="number"&&(i.minimum=s,typeof h=="number"&&e.target!=="draft-04"&&(h>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=d,i.exclusiveMaximum=!0):i.exclusiveMaximum=d),typeof o=="number"&&(i.maximum=o,typeof d=="number"&&e.target!=="draft-04"&&(d<=o?delete i.maximum:delete i.exclusiveMaximum)),typeof f=="number"&&(i.multipleOf=f)},CF=(t,e,n,r)=>{n.not={}},bF=(t,e,n,r)=>{},NF=(t,e,n,r)=>{const i=t._zod.def,s=WC(i.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},IF=(t,e,n,r)=>{const i=t._zod.def,s=[];for(const o of i.values)if(o===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(o))}else s.push(o);if(s.length!==0)if(s.length===1){const o=s[0];n.type=o===null?"null":typeof o,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[o]:n.const=o}else s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),s.every(o=>typeof o=="boolean")&&(n.type="boolean"),s.every(o=>o===null)&&(n.type="null"),n.enum=s},RF=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},kF=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},DF=(t,e,n,r)=>{const i=n,s=t._zod.def,{minimum:o,maximum:c}=t._zod.bag;typeof o=="number"&&(i.minItems=o),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=Cr(s.element,e,{...r,path:[...r.path,"items"]})},MF=(t,e,n,r)=>{const i=n,s=t._zod.def;i.type="object",i.properties={};const o=s.shape;for(const d in o)i.properties[d]=Cr(o[d],e,{...r,path:[...r.path,"properties",d]});const c=new Set(Object.keys(o)),f=new Set([...c].filter(d=>{const h=s.shape[d]._zod;return e.io==="input"?h.optin===void 0:h.optout===void 0}));f.size>0&&(i.required=Array.from(f)),s.catchall?._zod.def.type==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=Cr(s.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},PF=(t,e,n,r)=>{const i=t._zod.def,s=i.inclusive===!1,o=i.options.map((c,f)=>Cr(c,e,{...r,path:[...r.path,s?"oneOf":"anyOf",f]}));s?n.oneOf=o:n.anyOf=o},FF=(t,e,n,r)=>{const i=t._zod.def,s=Cr(i.left,e,{...r,path:[...r.path,"allOf",0]}),o=Cr(i.right,e,{...r,path:[...r.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,f=[...c(s)?s.allOf:[s],...c(o)?o.allOf:[o]];n.allOf=f},OF=(t,e,n,r)=>{const i=t._zod.def,s=Cr(i.innerType,e,r),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},LF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},UF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},VF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},BF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType;let o;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},zF=(t,e,n,r)=>{const i=t._zod.def,s=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Cr(s,e,r);const o=e.seen.get(t);o.ref=s},HF=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.readOnly=!0},yb=(t,e,n,r)=>{const i=t._zod.def;Cr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},GF=Fe("ZodISODateTime",(t,e)=>{YP.init(t,e),bn.init(t,e)});function qF(t){return Q6(GF,t)}const jF=Fe("ZodISODate",(t,e)=>{WP.init(t,e),bn.init(t,e)});function $F(t){return eF(jF,t)}const KF=Fe("ZodISOTime",(t,e)=>{ZP.init(t,e),bn.init(t,e)});function JF(t){return tF(KF,t)}const YF=Fe("ZodISODuration",(t,e)=>{XP.init(t,e),bn.init(t,e)});function WF(t){return nF(YF,t)}const ZF=(t,e)=>{tb.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>H3(t,n)},flatten:{value:n=>z3(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Fv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Fv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ki=Fe("ZodError",ZF,{Parent:Error}),XF=Q1(Ki),QF=ex(Ki),eO=Cp(Ki),tO=bp(Ki),nO=j3(Ki),rO=$3(Ki),iO=K3(Ki),sO=J3(Ki),aO=Y3(Ki),oO=W3(Ki),lO=Z3(Ki),cO=X3(Ki),Bn=Fe("ZodType",(t,e)=>(Vn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:z0(t,"input"),output:z0(t,"output")}}),t.toJSONSchema=TF(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(bo(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>No(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>XF(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>eO(t,n,r),t.parseAsync=async(n,r)=>QF(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>tO(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>nO(t,n,r),t.decode=(n,r)=>rO(t,n,r),t.encodeAsync=async(n,r)=>iO(t,n,r),t.decodeAsync=async(n,r)=>sO(t,n,r),t.safeEncode=(n,r)=>aO(t,n,r),t.safeDecode=(n,r)=>oO(t,n,r),t.safeEncodeAsync=async(n,r)=>lO(t,n,r),t.safeDecodeAsync=async(n,r)=>cO(t,n,r),t.refine=(n,r)=>t.check(n5(n,r)),t.superRefine=n=>t.check(r5(n)),t.overwrite=n=>t.check(Xc(n)),t.optional=()=>b2(t),t.exactOptional=()=>GO(t),t.nullable=()=>N2(t),t.nullish=()=>b2(N2(t)),t.nonoptional=n=>YO(t,n),t.array=()=>Tb(t),t.or=n=>FO([t,n]),t.and=n=>LO(t,n),t.transform=n=>I2(t,zO(n)),t.default=n=>$O(t,n),t.prefault=n=>JO(t,n),t.catch=n=>ZO(t,n),t.pipe=n=>I2(t,n),t.readonly=()=>e5(t),t.describe=n=>{const r=t.clone();return df.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){return df.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return df.get(t);const r=t.clone();return df.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),_b=Fe("_ZodString",(t,e)=>{tx.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>SF(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(oF(...r)),t.includes=(...r)=>t.check(uF(...r)),t.startsWith=(...r)=>t.check(fF(...r)),t.endsWith=(...r)=>t.check(dF(...r)),t.min=(...r)=>t.check(B0(...r)),t.max=(...r)=>t.check(pb(...r)),t.length=(...r)=>t.check(mb(...r)),t.nonempty=(...r)=>t.check(B0(1,...r)),t.lowercase=r=>t.check(lF(r)),t.uppercase=r=>t.check(cF(r)),t.trim=()=>t.check(pF()),t.normalize=(...r)=>t.check(hF(...r)),t.toLowerCase=()=>t.check(mF()),t.toUpperCase=()=>t.check(gF()),t.slugify=()=>t.check(vF())}),uO=Fe("ZodString",(t,e)=>{tx.init(t,e),_b.init(t,e),t.email=n=>t.check(D6(fO,n)),t.url=n=>t.check(L6(dO,n)),t.jwt=n=>t.check(X6(bO,n)),t.emoji=n=>t.check(U6(hO,n)),t.guid=n=>t.check(_2(S2,n)),t.uuid=n=>t.check(M6(Kh,n)),t.uuidv4=n=>t.check(P6(Kh,n)),t.uuidv6=n=>t.check(F6(Kh,n)),t.uuidv7=n=>t.check(O6(Kh,n)),t.nanoid=n=>t.check(V6(pO,n)),t.guid=n=>t.check(_2(S2,n)),t.cuid=n=>t.check(B6(mO,n)),t.cuid2=n=>t.check(z6(gO,n)),t.ulid=n=>t.check(H6(vO,n)),t.base64=n=>t.check(Y6(SO,n)),t.base64url=n=>t.check(W6(AO,n)),t.xid=n=>t.check(G6(xO,n)),t.ksuid=n=>t.check(q6(yO,n)),t.ipv4=n=>t.check(j6(_O,n)),t.ipv6=n=>t.check($6(EO,n)),t.cidrv4=n=>t.check(K6(TO,n)),t.cidrv6=n=>t.check(J6(wO,n)),t.e164=n=>t.check(Z6(CO,n)),t.datetime=n=>t.check(qF(n)),t.date=n=>t.check($F(n)),t.time=n=>t.check(JF(n)),t.duration=n=>t.check(WF(n))});function ks(t){return k6(uO,t)}const bn=Fe("ZodStringFormat",(t,e)=>{wn.init(t,e),_b.init(t,e)}),fO=Fe("ZodEmail",(t,e)=>{BP.init(t,e),bn.init(t,e)}),S2=Fe("ZodGUID",(t,e)=>{UP.init(t,e),bn.init(t,e)}),Kh=Fe("ZodUUID",(t,e)=>{VP.init(t,e),bn.init(t,e)}),dO=Fe("ZodURL",(t,e)=>{zP.init(t,e),bn.init(t,e)}),hO=Fe("ZodEmoji",(t,e)=>{HP.init(t,e),bn.init(t,e)}),pO=Fe("ZodNanoID",(t,e)=>{GP.init(t,e),bn.init(t,e)}),mO=Fe("ZodCUID",(t,e)=>{qP.init(t,e),bn.init(t,e)}),gO=Fe("ZodCUID2",(t,e)=>{jP.init(t,e),bn.init(t,e)}),vO=Fe("ZodULID",(t,e)=>{$P.init(t,e),bn.init(t,e)}),xO=Fe("ZodXID",(t,e)=>{KP.init(t,e),bn.init(t,e)}),yO=Fe("ZodKSUID",(t,e)=>{JP.init(t,e),bn.init(t,e)}),_O=Fe("ZodIPv4",(t,e)=>{QP.init(t,e),bn.init(t,e)}),EO=Fe("ZodIPv6",(t,e)=>{e6.init(t,e),bn.init(t,e)}),TO=Fe("ZodCIDRv4",(t,e)=>{t6.init(t,e),bn.init(t,e)}),wO=Fe("ZodCIDRv6",(t,e)=>{n6.init(t,e),bn.init(t,e)}),SO=Fe("ZodBase64",(t,e)=>{r6.init(t,e),bn.init(t,e)}),AO=Fe("ZodBase64URL",(t,e)=>{s6.init(t,e),bn.init(t,e)}),CO=Fe("ZodE164",(t,e)=>{a6.init(t,e),bn.init(t,e)}),bO=Fe("ZodJWT",(t,e)=>{l6.init(t,e),bn.init(t,e)}),Eb=Fe("ZodNumber",(t,e)=>{ub.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>AF(t,r,i),t.gt=(r,i)=>t.check(T2(r,i)),t.gte=(r,i)=>t.check(nv(r,i)),t.min=(r,i)=>t.check(nv(r,i)),t.lt=(r,i)=>t.check(E2(r,i)),t.lte=(r,i)=>t.check(tv(r,i)),t.max=(r,i)=>t.check(tv(r,i)),t.int=r=>t.check(A2(r)),t.safe=r=>t.check(A2(r)),t.positive=r=>t.check(T2(0,r)),t.nonnegative=r=>t.check(nv(0,r)),t.negative=r=>t.check(E2(0,r)),t.nonpositive=r=>t.check(tv(0,r)),t.multipleOf=(r,i)=>t.check(w2(r,i)),t.step=(r,i)=>t.check(w2(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Lv(t){return rF(Eb,t)}const NO=Fe("ZodNumberFormat",(t,e)=>{c6.init(t,e),Eb.init(t,e)});function A2(t){return iF(NO,t)}const IO=Fe("ZodUnknown",(t,e)=>{u6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>bF()});function C2(){return sF(IO)}const RO=Fe("ZodNever",(t,e)=>{f6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>CF(t,n,r)});function kO(t){return aF(RO,t)}const DO=Fe("ZodArray",(t,e)=>{d6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>DF(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(B0(n,r)),t.nonempty=n=>t.check(B0(1,n)),t.max=(n,r)=>t.check(pb(n,r)),t.length=(n,r)=>t.check(mb(n,r)),t.unwrap=()=>t.element});function Tb(t,e){return xF(DO,t,e)}const MO=Fe("ZodObject",(t,e)=>{p6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>MF(t,n,r,i),rn(t,"shape",()=>e.shape),t.keyof=()=>Sb(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:C2()}),t.loose=()=>t.clone({...t._zod.def,catchall:C2()}),t.strict=()=>t.clone({...t._zod.def,catchall:kO()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>O3(t,n),t.safeExtend=n=>L3(t,n),t.merge=n=>U3(t,n),t.pick=n=>P3(t,n),t.omit=n=>F3(t,n),t.partial=(...n)=>V3(Ab,t,n[0]),t.required=(...n)=>B3(Cb,t,n[0])});function wb(t,e){const n={type:"object",shape:t??{},...ot(e)};return new MO(n)}const PO=Fe("ZodUnion",(t,e)=>{m6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>PF(t,n,r,i),t.options=e.options});function FO(t,e){return new PO({type:"union",options:t,...ot(e)})}const OO=Fe("ZodIntersection",(t,e)=>{g6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>FF(t,n,r,i)});function LO(t,e){return new OO({type:"intersection",left:t,right:e})}const Uv=Fe("ZodEnum",(t,e)=>{v6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>NF(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Uv({...e,checks:[],...ot(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new Uv({...e,checks:[],...ot(i),entries:s})}});function Sb(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new Uv({type:"enum",entries:n,...ot(e)})}const UO=Fe("ZodLiteral",(t,e)=>{x6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>IF(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function VO(t,e){return new UO({type:"literal",values:Array.isArray(t)?t:[t],...ot(e)})}const BO=Fe("ZodTransform",(t,e)=>{y6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>kF(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new JC(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(qf(s,n.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(qf(o))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function zO(t){return new BO({type:"transform",transform:t})}const Ab=Fe("ZodOptional",(t,e)=>{hb.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>yb(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function b2(t){return new Ab({type:"optional",innerType:t})}const HO=Fe("ZodExactOptional",(t,e)=>{_6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>yb(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function GO(t){return new HO({type:"optional",innerType:t})}const qO=Fe("ZodNullable",(t,e)=>{E6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>OF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function N2(t){return new qO({type:"nullable",innerType:t})}const jO=Fe("ZodDefault",(t,e)=>{T6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>UF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function $O(t,e){return new jO({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():XC(e)}})}const KO=Fe("ZodPrefault",(t,e)=>{w6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>VF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function JO(t,e){return new KO({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():XC(e)}})}const Cb=Fe("ZodNonOptional",(t,e)=>{S6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>LF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function YO(t,e){return new Cb({type:"nonoptional",innerType:t,...ot(e)})}const WO=Fe("ZodCatch",(t,e)=>{A6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>BF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function ZO(t,e){return new WO({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const XO=Fe("ZodPipe",(t,e)=>{C6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>zF(t,n,r,i),t.in=e.in,t.out=e.out});function I2(t,e){return new XO({type:"pipe",in:t,out:e})}const QO=Fe("ZodReadonly",(t,e)=>{b6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>HF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function e5(t){return new QO({type:"readonly",innerType:t})}const t5=Fe("ZodCustom",(t,e)=>{N6.init(t,e),Bn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>RF(t,n)});function n5(t,e={}){return yF(t5,t,e)}function r5(t){return _F(t)}wb({companyName:ks().min(1,"Nome da empresa  obrigatrio"),address:ks().min(5,"Endereo invlido"),contactName:ks().optional(),phone:ks().optional(),email:ks().email("Email invlido").optional().or(VO("")),category:ks().or(Tb(ks())).optional(),status:Sb(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:Lv().optional(),lng:Lv().optional()});const i5=wb({name:ks().min(1),price:Lv().positive(),category:ks().min(1),sku:ks().optional()}),R2=t=>{if(!t)return null;const e=t.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(e)return{lat:parseFloat(e[1]),lng:parseFloat(e[2])};const n=t.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return n?{lat:parseFloat(n[1]),lng:parseFloat(n[2])}:null},s5=t=>{if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("query")||e.searchParams.get("q");if(n&&!n.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return n}catch{const n=t.match(/[?&]query=([^&]+)/)||t.match(/[?&]q=([^&]+)/);if(n)return decodeURIComponent(n[1].replace(/\+/g," "))}return null},H0=t=>{if(t==null)return{address:""};const e=String(t).trim(),n=e.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(n){const i=n[1].replace(/""/g,'"').trim(),s=n[2].replace(/""/g,'"').trim(),o=R2(i);return{link:i,address:s,...o}}const r=bb(e);if(r.includes("google.com/maps")||r.includes("maps.app.goo.gl")){const i=s5(r),s=R2(r);return{link:r,address:i||r,...s}}return{address:r}},bb=t=>{if(t==null)return"";const e=String(t),n=e.match(/"([^"]+)"\)$/);return n&&n[1]?n[1].trim():e.startsWith("=")?e.replace(/[="()]/g,"").trim():e.trim()},a5=t=>{const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},k2=t=>{if(!t)return 0;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},Nb=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Ib=t=>new Promise((e,n)=>{KC.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:r=>{const i=r.data,s=[];i.forEach((o,c)=>{const f={};Object.keys(o).forEach(k=>{f[Nb(k)]=o[k]});const d=f["numero do sku"]||f.sku||"",h=f.marca||f.fabricante||"Genrico",g=f["cod.fabrica"]||f["cod fabrica"]||f["codigo fabrica"]||"",v=f.descricao||f.nome||f.produto||"",T=a5(f["preco de venda"]||f.preco||"0"),S=f.categoria||h,A=k2(f.margem||"0"),C=k2(f.desconto||f.discount||"0"),P={category:S,sku:d,brand:h,factoryCode:g,name:v,price:T,margin:A,discount:C},B=i5.safeParse(P);B.success?s.push(B.data):console.warn(`Row ${c+1} invalid:`,B.error.issues)}),e(s)},error:r=>n(r)})}),o5=t=>new Promise((e,n)=>{KC.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:r=>r.trim().replace(/^\ufeff/,""),complete:r=>{const i=r.data,s=[];if(i.forEach(o=>{const c={};Object.keys(o).forEach(C=>{c[Nb(C)]=o[C]});const f=c.endereco||c.logradouro||c.localizacao||c["endereco cobranca"]||c["link google maps"]||"";let{address:d,link:h,lat:g,lng:v}=H0(f);const T=c.cep||c.zip||c["codigo postal"]||"";T&&d&&!d.toLowerCase().includes(T.toLowerCase())&&(d=`${d}, ${T}`);const S=c.link||c.mapa||c["google maps"]||c.url||c.maps||c.coordenadas||c.geolocalizacao;if(S){const C=H0(S);C.link&&(h=C.link),C.lat&&(g=C.lat),C.lng&&(v=C.lng)}const A={companyName:c["razao social"]||c.cliente||c["nome fantasia"]||c.fantasia||c.empresa||c["nome comercial"]||"",ownerName:c["nome do proprietario"]||c.proprietario||c.dono||c["contato principal"]||"",phone:c.contato||c.telefone||c.celular||c.whatsapp||"",address:d,googleMapsLink:h,latitude:g,longitude:v};(A.companyName||A.address)&&s.push(A)}),s.length>0){const o=s[0];!o.companyName&&!o.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}e(s)},error:r=>{n(r)}})});var Rb=1252,l5=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],nx={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},rx=function(t){l5.indexOf(t)!=-1&&(Rb=nx[0]=t)};function c5(){rx(1252)}var us=function(t){rx(t)};function kb(){us(1200),c5()}function D2(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function u5(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function Db(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var hf=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?u5(t.slice(2)):e==254&&n==255?Db(t.slice(2)):e==65279?t.slice(1):t},Jh=function(e){return String.fromCharCode(e)},M2=function(e){return String.fromCharCode(e)},jf,oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function P2(t){for(var e="",n=0,r=0,i=0,s=0,o=0,c=0,f=0,d=0;d<t.length;)n=t.charCodeAt(d++),s=n>>2,r=t.charCodeAt(d++),o=(n&3)<<4|r>>4,i=t.charCodeAt(d++),c=(r&15)<<2|i>>6,f=i&63,isNaN(r)?c=f=64:isNaN(i)&&(f=64),e+=oo.charAt(s)+oo.charAt(o)+oo.charAt(c)+oo.charAt(f);return e}function bi(t){var e="",n=0,r=0,i=0,s=0,o=0,c=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=oo.indexOf(t.charAt(d++)),o=oo.indexOf(t.charAt(d++)),n=s<<2|o>>4,e+=String.fromCharCode(n),c=oo.indexOf(t.charAt(d++)),r=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=oo.indexOf(t.charAt(d++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Lt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),wl=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function xo(t){return Lt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function F2(t){return Lt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var cs=function(e){return Lt?wl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Sl(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function ix(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return ix(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ao=Lt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:wl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function f5(t){for(var e=[],n=0,r=t.length+250,i=xo(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|c>>6&15|(o&3)<<4,i[n++]=128|c&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=xo(65535),r=65530)}return e.push(i.slice(0,n)),ao(e)}var Xr=/\u0000/g,pf=/[\u0001-\u0006]/g;function Mc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function fs(t,e){var n=""+t;return n.length>=e?n:Rn("0",e-n.length)+n}function sx(t,e){var n=""+t;return n.length>=e?n:Rn(" ",e-n.length)+n}function G0(t,e){var n=""+t;return n.length>=e?n:n+Rn(" ",e-n.length)}function d5(t,e){var n=""+Math.round(t);return n.length>=e?n:Rn("0",e-n.length)+n}function h5(t,e){var n=""+t;return n.length>=e?n:Rn("0",e-n.length)+n}var O2=Math.pow(2,32);function xc(t,e){if(t>O2||t<-O2)return d5(t,e);var n=Math.round(t);return h5(n,e)}function q0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var L2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],rv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function p5(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var St={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},U2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},m5={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function j0(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,c=0,f=1,d=0,h=0,g=Math.floor(i);d<e&&(g=Math.floor(i),c=g*o+s,h=g*d+f,!(i-g<5e-8));)i=1/(i-g),s=o,o=c,f=d,d=h;if(h>e&&(d>e?(h=f,c=s):(h=d,c=o)),!n)return[0,r*c,h];var v=Math.floor(r*c/h);return[v,r*c-v*h,h]}function ol(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=E5(f,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var Mb=new Date(1899,11,31,0,0,0),g5=Mb.getTime(),v5=new Date(1900,2,1,0,0,0);function Pb(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=v5&&(n+=1440*60*1e3),(n-(g5+(t.getTimezoneOffset()-Mb.getTimezoneOffset())*6e4))/(1440*60*1e3)}function ax(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function x5(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function y5(t){var e=t<0?12:11,n=ax(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function _5(t){var e=ax(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function $f(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=y5(t):e===10?n=t.toFixed(10).substr(0,12):n=_5(t),ax(x5(n.toUpperCase()))}function ml(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):$f(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ji(14,Pb(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function E5(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function T5(t,e,n,r){var i="",s=0,o=0,c=n.y,f,d=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,d=2;break;default:f=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,d=e.length;break;case 3:return rv[n.m-1][1];case 5:return rv[n.m-1][0];default:return rv[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,d=e.length;break;case 3:return L2[n.q][0];default:return L2[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?fs(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=fs(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=c,d=1;break}var h=d>0?fs(f,d):"";return h}function lo(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var Fb=/%/g;function w5(t,e,n){var r=e.replace(Fb,""),i=e.length-r.length;return ca(t,r,n*Math.pow(10,2*i))+Rn("%",i)}function S5(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ca(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Ob(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Ob(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Lb=/# (\?+)( ?)\/( ?)(\d+)/;function A5(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,c=r;return n+(s===0?"":""+s)+" "+(o===0?Rn(" ",t[1].length+1+t[4].length):sx(o,t[1].length)+t[2]+"/"+t[3]+fs(c,t[4].length))}function C5(t,e,n){return n+(e===0?"":""+e)+Rn(" ",t[1].length+2+t[4].length)}var Ub=/^#*0*\.([0#]+)/,Vb=/\).*[0#]/,Bb=/\(###\) ###\\?-####/;function Yr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function V2(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function B2(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function b5(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function N5(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Bi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Vb)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Bi("n",r,n):"("+Bi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return S5(t,e,n);if(e.indexOf("%")!==-1)return w5(t,e,n);if(e.indexOf("E")!==-1)return Ob(e,n);if(e.charCodeAt(0)===36)return"$"+Bi(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+xc(f,e.length);if(e.match(/^[#?]+$/))return i=xc(n,0),i==="0"&&(i=""),i.length>e.length?i:Yr(e.substr(0,e.length-i.length))+i;if(s=e.match(Lb))return A5(s,f,d);if(e.match(/^#+0+$/))return d+xc(f,e.length-e.indexOf("0"));if(s=e.match(Ub))return i=V2(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Yr(s[1])).replace(/\.$/,"."+Yr(s[1])).replace(/\.(\d*)$/,function(S,A){return"."+A+Rn("0",Yr(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+V2(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+lo(xc(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Bi(t,e,-n):lo(""+(Math.floor(n)+b5(n,s[1].length)))+"."+fs(B2(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Bi(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mc(Bi(t,e.replace(/[\\-]/g,""),n)),o=0,Mc(Mc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(e.match(Bb))return i=Bi(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=j0(f,Math.pow(10,o)-1,!1),i=""+d,h=ca("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=G0(c[2],o),h.length<s[4].length&&(h=Yr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=j0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?sx(c[1],o)+s[2]+"/"+s[3]+G0(c[2],o):Rn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=xc(n,0),e.length<=i.length?i:Yr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,v=e.length-i.length-g;return Yr(e.substr(0,g)+i+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=B2(n,s[1].length),n<0?"-"+Bi(t,e,-n):lo(N5(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?fs(0,3-S.length):"")+S})+"."+fs(o,s[1].length);switch(e){case"###,##0.00":return Bi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var T=lo(xc(f,0));return T!=="0"?d+T:"";case"###,###.00":return Bi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Bi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function I5(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ca(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function R5(t,e,n){var r=e.replace(Fb,""),i=e.length-r.length;return ca(t,r,n*Math.pow(10,2*i))+Rn("%",i)}function zb(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+zb(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Rs(t,e,n){if(t.charCodeAt(0)===40&&!e.match(Vb)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Rs("n",r,n):"("+Rs("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return I5(t,e,n);if(e.indexOf("%")!==-1)return R5(t,e,n);if(e.indexOf("E")!==-1)return zb(e,n);if(e.charCodeAt(0)===36)return"$"+Rs(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+fs(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Yr(e.substr(0,e.length-i.length))+i;if(s=e.match(Lb))return C5(s,f,d);if(e.match(/^#+0+$/))return d+fs(f,e.length-e.indexOf("0"));if(s=e.match(Ub))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Yr(s[1])).replace(/\.$/,"."+Yr(s[1])),i=i.replace(/\.(\d*)$/,function(S,A){return"."+A+Rn("0",Yr(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+lo(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Rs(t,e,-n):lo(""+n)+"."+Rn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Rs(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mc(Rs(t,e.replace(/[\\-]/g,""),n)),o=0,Mc(Mc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(e.match(Bb))return i=Rs(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=j0(f,Math.pow(10,o)-1,!1),i=""+d,h=ca("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=G0(c[2],o),h.length<s[4].length&&(h=Yr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=j0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?sx(c[1],o)+s[2]+"/"+s[3]+G0(c[2],o):Rn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Yr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,v=e.length-i.length-g;return Yr(e.substr(0,g)+i+e.substr(e.length-v))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Rs(t,e,-n):lo(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?fs(0,3-S.length):"")+S})+"."+fs(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=lo(""+f);return T!=="0"?d+T:"";default:if(e.match(/\.[0#?]*$/))return Rs(t,e.slice(0,e.lastIndexOf(".")),n)+Yr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ca(t,e,n){return(n|0)===n?Rs(t,e,n):Bi(t,e,n)}function k5(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Hb=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Qc(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":q0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(Hb))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function D5(t,e,n,r){for(var i=[],s="",o=0,c="",f="t",d,h,g,v="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!q0(t,o))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++o;break;case"\\":var T=t.charAt(++o),S=T==="("||T===")"?T:"t";i[i.length]={t:S,v:T},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=ol(e,n,t.charAt(o+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},f=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=ol(e,n),d==null))return"";for(s=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=v),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var A={t:c,v:c};if(d==null&&(d=ol(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(A.v=d.H>=12?"P":"A"),A.t="T",v="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(A.v=d.H>=12?"PM":"AM"),A.t="T",o+=5,v="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(A.v=d.H>=12?"":""),A.t="T",o+=5,v="h"):(A.t="t",++o),d==null&&A.t==="T")return"";i[i.length]=A,f=c;break;case"[":for(s=c;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Hb)){if(d==null&&(d=ol(e,n),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Qc(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++o<t.length&&(c=t.charAt(o))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++o)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++o;break}var C=0,P=0,B;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=v,f="h",C<1&&(C=1);break;case"s":(B=i[o].v.match(/\.0+$/))&&(P=Math.max(P,B[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var k="",H;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=T5(i[o].t.charCodeAt(0),i[o].v,d,P),i[o].t="t";break;case"n":case"?":for(H=o+1;i[H]!=null&&((c=i[H].t)==="?"||c==="D"||(c===" "||c==="t")&&i[H+1]!=null&&(i[H+1].t==="?"||i[H+1].t==="t"&&i[H+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[H].v==="/"||i[H].v===" "&&i[H+1]!=null&&i[H+1].t=="?"));)i[o].v+=i[H].v,i[H]={v:"",t:";"},++H;k+=i[o].v,o=H-1;break;case"G":i[o].t="t",i[o].v=ml(e,n);break}var G="",K,R;if(k.length>0){k.charCodeAt(0)==40?(K=e<0&&k.charCodeAt(0)===45?-e:e,R=ca("n",k,K)):(K=e<0&&r>1?-e:e,R=ca("n",k,K),K<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),H=R.length-1;var N=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){N=o;break}var b=i.length;if(N===i.length&&R.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(H>=i[o].v.length-1?(H-=i[o].v.length,i[o].v=R.substr(H+1,i[o].v.length)):H<0?i[o].v="":(i[o].v=R.substr(0,H+1),H=-1),i[o].t="t",b=o);H>=0&&b<i.length&&(i[b].v=R.substr(0,H+1)+i[b].v)}else if(N!==i.length&&R.indexOf("E")===-1){for(H=R.indexOf(".")-1,o=N;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(h=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")-1:i[o].v.length-1,G=i[o].v.substr(h+1);h>=0;--h)H>=0&&(i[o].v.charAt(h)==="0"||i[o].v.charAt(h)==="#")&&(G=R.charAt(H--)+G);i[o].v=G,i[o].t="t",b=o}for(H>=0&&b<i.length&&(i[b].v=R.substr(0,H+1)+i[b].v),H=R.indexOf(".")+1,o=N;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==N)){for(h=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")+1:0,G=i[o].v.substr(0,h);h<i[o].v.length;++h)H<R.length&&(G+=R.charAt(H++));i[o].v=G,i[o].t="t",b=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(K=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=ca(i[o].t,i[o].v,K),i[o].t="t");var F="";for(o=0;o!==i.length;++o)i[o]!=null&&(F+=i[o].v);return F}var z2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function H2(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function M5(t,e){var n=k5(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(z2),c=n[1].match(z2);return H2(e,o)?[r,n[0]]:H2(e,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,s]}function ji(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:St)[t],r==null&&(r=n.table&&n.table[U2[t]]||St[U2[t]]),r==null&&(r=m5[t]||"General");break}if(q0(r,0))return ml(e,n);e instanceof Date&&(e=Pb(e,n.date1904));var i=M5(r,e);if(q0(i[1]))return ml(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return D5(i[1],e,n,i[0])}function cl(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(St[n]==null){e<0&&(e=n);continue}if(St[n]==t){e=n;break}}e<0&&(e=391)}return St[e]=t,e}function Gb(){St=p5()}var P5={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},qb=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function F5(t){var e=typeof t=="number"?St[t]:t;return e=e.replace(qb,"(\\d+)"),new RegExp("^"+e+"$")}function O5(t,e,n){var r=-1,i=-1,s=-1,o=-1,c=-1,f=-1;(e.match(qb)||[]).forEach(function(g,v){var T=parseInt(n[v+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=T;break;case"d":s=T;break;case"h":o=T;break;case"s":f=T;break;case"m":o>=0?c=T:i=T;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&c==-1&&f==-1?d:r==-1&&i==-1&&s==-1?h:d+"T"+h}var L5=(function(){var t={};t.version="1.2.0";function e(){for(var R=0,N=new Array(256),b=0;b!=256;++b)R=b,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,N[b]=R;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(R){var N=0,b=0,F=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)O[F]=R[F];for(F=0;F!=256;++F)for(b=R[F],N=256+F;N<4096;N+=256)b=O[N]=b>>>8^R[b&255];var D=[];for(F=1;F!=16;++F)D[F-1]=typeof Int32Array<"u"?O.subarray(F*256,F*256+256):O.slice(F*256,F*256+256);return D}var i=r(n),s=i[0],o=i[1],c=i[2],f=i[3],d=i[4],h=i[5],g=i[6],v=i[7],T=i[8],S=i[9],A=i[10],C=i[11],P=i[12],B=i[13],k=i[14];function H(R,N){for(var b=N^-1,F=0,O=R.length;F<O;)b=b>>>8^n[(b^R.charCodeAt(F++))&255];return~b}function G(R,N){for(var b=N^-1,F=R.length-15,O=0;O<F;)b=k[R[O++]^b&255]^B[R[O++]^b>>8&255]^P[R[O++]^b>>16&255]^C[R[O++]^b>>>24]^A[R[O++]]^S[R[O++]]^T[R[O++]]^v[R[O++]]^g[R[O++]]^h[R[O++]]^d[R[O++]]^f[R[O++]]^c[R[O++]]^o[R[O++]]^s[R[O++]]^n[R[O++]];for(F+=15;O<F;)b=b>>>8^n[(b^R[O++])&255];return~b}function K(R,N){for(var b=N^-1,F=0,O=R.length,D=0,U=0;F<O;)D=R.charCodeAt(F++),D<128?b=b>>>8^n[(b^D)&255]:D<2048?(b=b>>>8^n[(b^(192|D>>6&31))&255],b=b>>>8^n[(b^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,U=R.charCodeAt(F++)&1023,b=b>>>8^n[(b^(240|D>>8&7))&255],b=b>>>8^n[(b^(128|D>>2&63))&255],b=b>>>8^n[(b^(128|U>>6&15|(D&3)<<4))&255],b=b>>>8^n[(b^(128|U&63))&255]):(b=b>>>8^n[(b^(224|D>>12&15))&255],b=b>>>8^n[(b^(128|D>>6&63))&255],b=b>>>8^n[(b^(128|D&63))&255]);return~b}return t.table=n,t.bstr=H,t.buf=G,t.str=K,t})(),zt=(function(){var e={};e.version="1.2.1";function n(z,Z){for(var j=z.split("/"),J=Z.split("/"),Q=0,te=0,ge=Math.min(j.length,J.length);Q<ge;++Q){if(te=j[Q].length-J[Q].length)return te;if(j[Q]!=J[Q])return j[Q]<J[Q]?-1:1}return j.length-J.length}function r(z){if(z.charAt(z.length-1)=="/")return z.slice(0,-1).indexOf("/")===-1?z:r(z.slice(0,-1));var Z=z.lastIndexOf("/");return Z===-1?z:z.slice(0,Z+1)}function i(z){if(z.charAt(z.length-1)=="/")return i(z.slice(0,-1));var Z=z.lastIndexOf("/");return Z===-1?z:z.slice(Z+1)}function s(z,Z){typeof Z=="string"&&(Z=new Date(Z));var j=Z.getHours();j=j<<6|Z.getMinutes(),j=j<<5|Z.getSeconds()>>>1,z.write_shift(2,j);var J=Z.getFullYear()-1980;J=J<<4|Z.getMonth()+1,J=J<<5|Z.getDate(),z.write_shift(2,J)}function o(z){var Z=z.read_shift(2)&65535,j=z.read_shift(2)&65535,J=new Date,Q=j&31;j>>>=5;var te=j&15;j>>>=4,J.setMilliseconds(0),J.setFullYear(j+1980),J.setMonth(te-1),J.setDate(Q);var ge=Z&31;Z>>>=5;var Se=Z&63;return Z>>>=6,J.setHours(Z),J.setMinutes(Se),J.setSeconds(ge<<1),J}function c(z){Tr(z,0);for(var Z={},j=0;z.l<=z.length-4;){var J=z.read_shift(2),Q=z.read_shift(2),te=z.l+Q,ge={};J===21589&&(j=z.read_shift(1),j&1&&(ge.mtime=z.read_shift(4)),Q>5&&(j&2&&(ge.atime=z.read_shift(4)),j&4&&(ge.ctime=z.read_shift(4))),ge.mtime&&(ge.mt=new Date(ge.mtime*1e3))),z.l=te,Z[J]=ge}return Z}var f;function d(){return f||(f={})}function h(z,Z){if(z[0]==80&&z[1]==75)return Gr(z,Z);if((z[0]|32)==109&&(z[1]|32)==105)return ar(z,Z);if(z.length<512)throw new Error("CFB file size "+z.length+" < 512");var j=3,J=512,Q=0,te=0,ge=0,Se=0,ve=0,Ee=[],Te=z.slice(0,512);Tr(Te,0);var Ve=g(Te);switch(j=Ve[0],j){case 3:J=512;break;case 4:J=4096;break;case 0:if(Ve[1]==0)return Gr(z,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+j)}J!==512&&(Te=z.slice(0,J),Tr(Te,28));var ze=z.slice(0,J);v(Te,j);var Ke=Te.read_shift(4,"i");if(j===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);Te.l+=4,ge=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Se=Te.read_shift(4,"i"),Q=Te.read_shift(4,"i"),ve=Te.read_shift(4,"i"),te=Te.read_shift(4,"i");for(var Ue=-1,je=0;je<109&&(Ue=Te.read_shift(4,"i"),!(Ue<0));++je)Ee[je]=Ue;var et=T(z,J);C(ve,te,et,J,Ee);var Xt=B(et,ge,Ee,J);Xt[ge].name="!Directory",Q>0&&Se!==U&&(Xt[Se].name="!MiniFAT"),Xt[Ee[0]].name="!FAT",Xt.fat_addrs=Ee,Xt.ssz=J;var Qt={},dn=[],Ir=[],Zi=[];k(ge,Xt,et,dn,Q,Qt,Ir,Se),S(Ir,Zi,dn),dn.shift();var Xi={FileIndex:Ir,FullPaths:Zi};return Z&&Z.raw&&(Xi.raw={header:ze,sectors:et}),Xi}function g(z){if(z[z.l]==80&&z[z.l+1]==75)return[0,0];z.chk(fe,"Header Signature: "),z.l+=16;var Z=z.read_shift(2,"u");return[z.read_shift(2,"u"),Z]}function v(z,Z){var j=9;switch(z.l+=2,j=z.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+j);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+j);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+j)}z.chk("0600","Mini Sector Shift: "),z.chk("000000000000","Reserved: ")}function T(z,Z){for(var j=Math.ceil(z.length/Z)-1,J=[],Q=1;Q<j;++Q)J[Q-1]=z.slice(Q*Z,(Q+1)*Z);return J[j-1]=z.slice(j*Z),J}function S(z,Z,j){for(var J=0,Q=0,te=0,ge=0,Se=0,ve=j.length,Ee=[],Te=[];J<ve;++J)Ee[J]=Te[J]=J,Z[J]=j[J];for(;Se<Te.length;++Se)J=Te[Se],Q=z[J].L,te=z[J].R,ge=z[J].C,Ee[J]===J&&(Q!==-1&&Ee[Q]!==Q&&(Ee[J]=Ee[Q]),te!==-1&&Ee[te]!==te&&(Ee[J]=Ee[te])),ge!==-1&&(Ee[ge]=J),Q!==-1&&J!=Ee[J]&&(Ee[Q]=Ee[J],Te.lastIndexOf(Q)<Se&&Te.push(Q)),te!==-1&&J!=Ee[J]&&(Ee[te]=Ee[J],Te.lastIndexOf(te)<Se&&Te.push(te));for(J=1;J<ve;++J)Ee[J]===J&&(te!==-1&&Ee[te]!==te?Ee[J]=Ee[te]:Q!==-1&&Ee[Q]!==Q&&(Ee[J]=Ee[Q]));for(J=1;J<ve;++J)if(z[J].type!==0){if(Se=J,Se!=Ee[Se])do Se=Ee[Se],Z[J]=Z[Se]+"/"+Z[J];while(Se!==0&&Ee[Se]!==-1&&Se!=Ee[Se]);Ee[J]=-1}for(Z[0]+="/",J=1;J<ve;++J)z[J].type!==2&&(Z[J]+="/")}function A(z,Z,j){for(var J=z.start,Q=z.size,te=[],ge=J;j&&Q>0&&ge>=0;)te.push(Z.slice(ge*D,ge*D+D)),Q-=D,ge=sl(j,ge*4);return te.length===0?er(0):ao(te).slice(0,z.size)}function C(z,Z,j,J,Q){var te=U;if(z===U){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(z!==-1){var ge=j[z],Se=(J>>>2)-1;if(!ge)return;for(var ve=0;ve<Se&&(te=sl(ge,ve*4))!==U;++ve)Q.push(te);C(sl(ge,J-4),Z-1,j,J,Q)}}function P(z,Z,j,J,Q){var te=[],ge=[];Q||(Q=[]);var Se=J-1,ve=0,Ee=0;for(ve=Z;ve>=0;){Q[ve]=!0,te[te.length]=ve,ge.push(z[ve]);var Te=j[Math.floor(ve*4/J)];if(Ee=ve*4&Se,J<4+Ee)throw new Error("FAT boundary crossed: "+ve+" 4 "+J);if(!z[Te])break;ve=sl(z[Te],Ee)}return{nodes:te,data:X2([ge])}}function B(z,Z,j,J){var Q=z.length,te=[],ge=[],Se=[],ve=[],Ee=J-1,Te=0,Ve=0,ze=0,Ke=0;for(Te=0;Te<Q;++Te)if(Se=[],ze=Te+Z,ze>=Q&&(ze-=Q),!ge[ze]){ve=[];var Ue=[];for(Ve=ze;Ve>=0;){Ue[Ve]=!0,ge[Ve]=!0,Se[Se.length]=Ve,ve.push(z[Ve]);var je=j[Math.floor(Ve*4/J)];if(Ke=Ve*4&Ee,J<4+Ke)throw new Error("FAT boundary crossed: "+Ve+" 4 "+J);if(!z[je]||(Ve=sl(z[je],Ke),Ue[Ve]))break}te[ze]={nodes:Se,data:X2([ve])}}return te}function k(z,Z,j,J,Q,te,ge,Se){for(var ve=0,Ee=J.length?2:0,Te=Z[z].data,Ve=0,ze=0,Ke;Ve<Te.length;Ve+=128){var Ue=Te.slice(Ve,Ve+128);Tr(Ue,64),ze=Ue.read_shift(2),Ke=fx(Ue,0,ze-Ee),J.push(Ke);var je={name:Ke,type:Ue.read_shift(1),color:Ue.read_shift(1),L:Ue.read_shift(4,"i"),R:Ue.read_shift(4,"i"),C:Ue.read_shift(4,"i"),clsid:Ue.read_shift(16),state:Ue.read_shift(4,"i"),start:0,size:0},et=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);et!==0&&(je.ct=H(Ue,Ue.l-8));var Xt=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);Xt!==0&&(je.mt=H(Ue,Ue.l-8)),je.start=Ue.read_shift(4,"i"),je.size=Ue.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=U,je.name=""),je.type===5?(ve=je.start,Q>0&&ve!==U&&(Z[ve].name="!StreamData")):je.size>=4096?(je.storage="fat",Z[je.start]===void 0&&(Z[je.start]=P(j,je.start,Z.fat_addrs,Z.ssz)),Z[je.start].name=je.name,je.content=Z[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:ve!==U&&je.start!==U&&Z[ve]&&(je.content=A(je,Z[ve].data,(Z[Se]||{}).data))),je.content&&Tr(je.content,0),te[Ke]=je,ge.push(je)}}function H(z,Z){return new Date((Si(z,Z+4)/1e7*Math.pow(2,32)+Si(z,Z)/1e7-11644473600)*1e3)}function G(z,Z){return d(),h(f.readFileSync(z),Z)}function K(z,Z){var j=Z&&Z.type;switch(j||Lt&&Buffer.isBuffer(z)&&(j="buffer"),j||"base64"){case"file":return G(z,Z);case"base64":return h(cs(bi(z)),Z);case"binary":return h(cs(z),Z)}return h(z,Z)}function R(z,Z){var j=Z||{},J=j.root||"Root Entry";if(z.FullPaths||(z.FullPaths=[]),z.FileIndex||(z.FileIndex=[]),z.FullPaths.length!==z.FileIndex.length)throw new Error("inconsistent CFB structure");z.FullPaths.length===0&&(z.FullPaths[0]=J+"/",z.FileIndex[0]={name:J,type:5}),j.CLSID&&(z.FileIndex[0].clsid=j.CLSID),N(z)}function N(z){var Z="Sh33tJ5";if(!zt.find(z,"/"+Z)){var j=er(4);j[0]=55,j[1]=j[3]=50,j[2]=54,z.FileIndex.push({name:Z,type:2,content:j,size:4,L:69,R:69,C:69}),z.FullPaths.push(z.FullPaths[0]+Z),b(z)}}function b(z,Z){R(z);for(var j=!1,J=!1,Q=z.FullPaths.length-1;Q>=0;--Q){var te=z.FileIndex[Q];switch(te.type){case 0:J?j=!0:(z.FileIndex.pop(),z.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(te.R*te.L*te.C)&&(j=!0),te.R>-1&&te.L>-1&&te.R==te.L&&(j=!0);break;default:j=!0;break}}if(!(!j&&!Z)){var ge=new Date(1987,1,19),Se=0,ve=Object.create?Object.create(null):{},Ee=[];for(Q=0;Q<z.FullPaths.length;++Q)ve[z.FullPaths[Q]]=!0,z.FileIndex[Q].type!==0&&Ee.push([z.FullPaths[Q],z.FileIndex[Q]]);for(Q=0;Q<Ee.length;++Q){var Te=r(Ee[Q][0]);J=ve[Te],J||(Ee.push([Te,{name:i(Te).replace("/",""),type:1,clsid:se,ct:ge,mt:ge,content:null}]),ve[Te]=!0)}for(Ee.sort(function(Ke,Ue){return n(Ke[0],Ue[0])}),z.FullPaths=[],z.FileIndex=[],Q=0;Q<Ee.length;++Q)z.FullPaths[Q]=Ee[Q][0],z.FileIndex[Q]=Ee[Q][1];for(Q=0;Q<Ee.length;++Q){var Ve=z.FileIndex[Q],ze=z.FullPaths[Q];if(Ve.name=i(ze).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||se,Q===0)Ve.C=Ee.length>1?1:-1,Ve.size=0,Ve.type=5;else if(ze.slice(-1)=="/"){for(Se=Q+1;Se<Ee.length&&r(z.FullPaths[Se])!=ze;++Se);for(Ve.C=Se>=Ee.length?-1:Se,Se=Q+1;Se<Ee.length&&r(z.FullPaths[Se])!=r(ze);++Se);Ve.R=Se>=Ee.length?-1:Se,Ve.type=1}else r(z.FullPaths[Q+1]||"")==r(ze)&&(Ve.R=Q+1),Ve.type=2}}}function F(z,Z){var j=Z||{};if(j.fileType=="mad")return Xn(z,j);if(b(z),j.fileType==="zip")return yn(z,j);var J=(function(Ke){for(var Ue=0,je=0,et=0;et<Ke.FileIndex.length;++et){var Xt=Ke.FileIndex[et];if(Xt.content){var Qt=Xt.content.length;Qt>0&&(Qt<4096?Ue+=Qt+63>>6:je+=Qt+511>>9)}}for(var dn=Ke.FullPaths.length+3>>2,Ir=Ue+7>>3,Zi=Ue+127>>7,Xi=Ir+je+dn+Zi,pi=Xi+127>>7,Aa=pi<=109?0:Math.ceil((pi-109)/127);Xi+pi+Aa+127>>7>pi;)Aa=++pi<=109?0:Math.ceil((pi-109)/127);var Rr=[1,Aa,pi,Zi,dn,je,Ue,0];return Ke.FileIndex[0].size=Ue<<6,Rr[7]=(Ke.FileIndex[0].start=Rr[0]+Rr[1]+Rr[2]+Rr[3]+Rr[4]+Rr[5])+(Rr[6]+7>>3),Rr})(z),Q=er(J[7]<<9),te=0,ge=0;{for(te=0;te<8;++te)Q.write_shift(1,ie[te]);for(te=0;te<8;++te)Q.write_shift(2,0);for(Q.write_shift(2,62),Q.write_shift(2,3),Q.write_shift(2,65534),Q.write_shift(2,9),Q.write_shift(2,6),te=0;te<3;++te)Q.write_shift(2,0);for(Q.write_shift(4,0),Q.write_shift(4,J[2]),Q.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),Q.write_shift(4,0),Q.write_shift(4,4096),Q.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:U),Q.write_shift(4,J[3]),Q.write_shift(-4,J[1]?J[0]-1:U),Q.write_shift(4,J[1]),te=0;te<109;++te)Q.write_shift(-4,te<J[2]?J[1]+te:-1)}if(J[1])for(ge=0;ge<J[1];++ge){for(;te<236+ge*127;++te)Q.write_shift(-4,te<J[2]?J[1]+te:-1);Q.write_shift(-4,ge===J[1]-1?U:ge+1)}var Se=function(Ke){for(ge+=Ke;te<ge-1;++te)Q.write_shift(-4,te+1);Ke&&(++te,Q.write_shift(-4,U))};for(ge=te=0,ge+=J[1];te<ge;++te)Q.write_shift(-4,le.DIFSECT);for(ge+=J[2];te<ge;++te)Q.write_shift(-4,le.FATSECT);Se(J[3]),Se(J[4]);for(var ve=0,Ee=0,Te=z.FileIndex[0];ve<z.FileIndex.length;++ve)Te=z.FileIndex[ve],Te.content&&(Ee=Te.content.length,!(Ee<4096)&&(Te.start=ge,Se(Ee+511>>9)));for(Se(J[6]+7>>3);Q.l&511;)Q.write_shift(-4,le.ENDOFCHAIN);for(ge=te=0,ve=0;ve<z.FileIndex.length;++ve)Te=z.FileIndex[ve],Te.content&&(Ee=Te.content.length,!(!Ee||Ee>=4096)&&(Te.start=ge,Se(Ee+63>>6)));for(;Q.l&511;)Q.write_shift(-4,le.ENDOFCHAIN);for(te=0;te<J[4]<<2;++te){var Ve=z.FullPaths[te];if(!Ve||Ve.length===0){for(ve=0;ve<17;++ve)Q.write_shift(4,0);for(ve=0;ve<3;++ve)Q.write_shift(4,-1);for(ve=0;ve<12;++ve)Q.write_shift(4,0);continue}Te=z.FileIndex[te],te===0&&(Te.start=Te.size?Te.start-1:U);var ze=te===0&&j.root||Te.name;if(Ee=2*(ze.length+1),Q.write_shift(64,ze,"utf16le"),Q.write_shift(2,Ee),Q.write_shift(1,Te.type),Q.write_shift(1,Te.color),Q.write_shift(-4,Te.L),Q.write_shift(-4,Te.R),Q.write_shift(-4,Te.C),Te.clsid)Q.write_shift(16,Te.clsid,"hex");else for(ve=0;ve<4;++ve)Q.write_shift(4,0);Q.write_shift(4,Te.state||0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(4,Te.start),Q.write_shift(4,Te.size),Q.write_shift(4,0)}for(te=1;te<z.FileIndex.length;++te)if(Te=z.FileIndex[te],Te.size>=4096)if(Q.l=Te.start+1<<9,Lt&&Buffer.isBuffer(Te.content))Te.content.copy(Q,Q.l,0,Te.size),Q.l+=Te.size+511&-512;else{for(ve=0;ve<Te.size;++ve)Q.write_shift(1,Te.content[ve]);for(;ve&511;++ve)Q.write_shift(1,0)}for(te=1;te<z.FileIndex.length;++te)if(Te=z.FileIndex[te],Te.size>0&&Te.size<4096)if(Lt&&Buffer.isBuffer(Te.content))Te.content.copy(Q,Q.l,0,Te.size),Q.l+=Te.size+63&-64;else{for(ve=0;ve<Te.size;++ve)Q.write_shift(1,Te.content[ve]);for(;ve&63;++ve)Q.write_shift(1,0)}if(Lt)Q.l=Q.length;else for(;Q.l<Q.length;)Q.write_shift(1,0);return Q}function O(z,Z){var j=z.FullPaths.map(function(ve){return ve.toUpperCase()}),J=j.map(function(ve){var Ee=ve.split("/");return Ee[Ee.length-(ve.slice(-1)=="/"?2:1)]}),Q=!1;Z.charCodeAt(0)===47?(Q=!0,Z=j[0].slice(0,-1)+Z):Q=Z.indexOf("/")!==-1;var te=Z.toUpperCase(),ge=Q===!0?j.indexOf(te):J.indexOf(te);if(ge!==-1)return z.FileIndex[ge];var Se=!te.match(pf);for(te=te.replace(Xr,""),Se&&(te=te.replace(pf,"!")),ge=0;ge<j.length;++ge)if((Se?j[ge].replace(pf,"!"):j[ge]).replace(Xr,"")==te||(Se?J[ge].replace(pf,"!"):J[ge]).replace(Xr,"")==te)return z.FileIndex[ge];return null}var D=64,U=-2,fe="d0cf11e0a1b11ae1",ie=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(z,Z,j){d();var J=F(z,j);f.writeFileSync(Z,J)}function ae(z){for(var Z=new Array(z.length),j=0;j<z.length;++j)Z[j]=String.fromCharCode(z[j]);return Z.join("")}function Me(z,Z){var j=F(z,Z);switch(Z&&Z.type||"buffer"){case"file":return d(),f.writeFileSync(Z.filename,j),j;case"binary":return typeof j=="string"?j:ae(j);case"base64":return P2(typeof j=="string"?j:ae(j));case"buffer":if(Lt)return Buffer.isBuffer(j)?j:wl(j);case"array":return typeof j=="string"?cs(j):j}return j}var W;function V(z){try{var Z=z.InflateRaw,j=new Z;if(j._processChunk(new Uint8Array([3,0]),j._finishFlushFlag),j.bytesRead)W=z;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function X(z,Z){if(!W)return Yi(z,Z);var j=W.InflateRaw,J=new j,Q=J._processChunk(z.slice(z.l),J._finishFlushFlag);return z.l+=J.bytesRead,Q}function ee(z){return W?W.deflateRawSync(z):it(z)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(z){var Z=(z<<1|z<<11)&139536|(z<<5|z<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var Ce=typeof Uint8Array<"u",ke=Ce?new Uint8Array(256):[],$e=0;$e<256;++$e)ke[$e]=Ne($e);function re(z,Z){var j=ke[z&255];return Z<=8?j>>>8-Z:(j=j<<8|ke[z>>8&255],Z<=16?j>>>16-Z:(j=j<<8|ke[z>>16&255],j>>>24-Z))}function ht(z,Z){var j=Z&7,J=Z>>>3;return(z[J]|(j<=6?0:z[J+1]<<8))>>>j&3}function Ye(z,Z){var j=Z&7,J=Z>>>3;return(z[J]|(j<=5?0:z[J+1]<<8))>>>j&7}function Ge(z,Z){var j=Z&7,J=Z>>>3;return(z[J]|(j<=4?0:z[J+1]<<8))>>>j&15}function He(z,Z){var j=Z&7,J=Z>>>3;return(z[J]|(j<=3?0:z[J+1]<<8))>>>j&31}function Be(z,Z){var j=Z&7,J=Z>>>3;return(z[J]|(j<=1?0:z[J+1]<<8))>>>j&127}function nt(z,Z,j){var J=Z&7,Q=Z>>>3,te=(1<<j)-1,ge=z[Q]>>>J;return j<8-J||(ge|=z[Q+1]<<8-J,j<16-J)||(ge|=z[Q+2]<<16-J,j<24-J)||(ge|=z[Q+3]<<24-J),ge&te}function rt(z,Z,j){var J=Z&7,Q=Z>>>3;return J<=5?z[Q]|=(j&7)<<J:(z[Q]|=j<<J&255,z[Q+1]=(j&7)>>8-J),Z+3}function ft(z,Z,j){var J=Z&7,Q=Z>>>3;return j=(j&1)<<J,z[Q]|=j,Z+1}function un(z,Z,j){var J=Z&7,Q=Z>>>3;return j<<=J,z[Q]|=j&255,j>>>=8,z[Q+1]=j,Z+8}function Sn(z,Z,j){var J=Z&7,Q=Z>>>3;return j<<=J,z[Q]|=j&255,j>>>=8,z[Q+1]=j&255,z[Q+2]=j>>>8,Z+16}function zn(z,Z){var j=z.length,J=2*j>Z?2*j:Z+5,Q=0;if(j>=Z)return z;if(Lt){var te=F2(J);if(z.copy)z.copy(te);else for(;Q<z.length;++Q)te[Q]=z[Q];return te}else if(Ce){var ge=new Uint8Array(J);if(ge.set)ge.set(z);else for(;Q<j;++Q)ge[Q]=z[Q];return ge}return z.length=J,z}function gt(z){for(var Z=new Array(z),j=0;j<z;++j)Z[j]=0;return Z}function Ut(z,Z,j){var J=1,Q=0,te=0,ge=0,Se=0,ve=z.length,Ee=Ce?new Uint16Array(32):gt(32);for(te=0;te<32;++te)Ee[te]=0;for(te=ve;te<j;++te)z[te]=0;ve=z.length;var Te=Ce?new Uint16Array(ve):gt(ve);for(te=0;te<ve;++te)Ee[Q=z[te]]++,J<Q&&(J=Q),Te[te]=0;for(Ee[0]=0,te=1;te<=J;++te)Ee[te+16]=Se=Se+Ee[te-1]<<1;for(te=0;te<ve;++te)Se=z[te],Se!=0&&(Te[te]=Ee[Se+16]++);var Ve=0;for(te=0;te<ve;++te)if(Ve=z[te],Ve!=0)for(Se=re(Te[te],J)>>J-Ve,ge=(1<<J+4-Ve)-1;ge>=0;--ge)Z[Se|ge<<Ve]=Ve&15|te<<4;return J}var Ct=Ce?new Uint16Array(512):gt(512),fn=Ce?new Uint16Array(32):gt(32);if(!Ce){for(var Rt=0;Rt<512;++Rt)Ct[Rt]=0;for(Rt=0;Rt<32;++Rt)fn[Rt]=0}(function(){for(var z=[],Z=0;Z<32;Z++)z.push(5);Ut(z,fn,32);var j=[];for(Z=0;Z<=143;Z++)j.push(8);for(;Z<=255;Z++)j.push(9);for(;Z<=279;Z++)j.push(7);for(;Z<=287;Z++)j.push(8);Ut(j,Ct,288)})();var Mn=(function(){for(var Z=Ce?new Uint8Array(32768):[],j=0,J=0;j<me.length-1;++j)for(;J<me[j+1];++J)Z[J]=j;for(;J<32768;++J)Z[J]=29;var Q=Ce?new Uint8Array(259):[];for(j=0,J=0;j<he.length-1;++j)for(;J<he[j+1];++J)Q[J]=j;function te(Se,ve){for(var Ee=0;Ee<Se.length;){var Te=Math.min(65535,Se.length-Ee),Ve=Ee+Te==Se.length;for(ve.write_shift(1,+Ve),ve.write_shift(2,Te),ve.write_shift(2,~Te&65535);Te-- >0;)ve[ve.l++]=Se[Ee++]}return ve.l}function ge(Se,ve){for(var Ee=0,Te=0,Ve=Ce?new Uint16Array(32768):[];Te<Se.length;){var ze=Math.min(65535,Se.length-Te);if(ze<10){for(Ee=rt(ve,Ee,+(Te+ze==Se.length)),Ee&7&&(Ee+=8-(Ee&7)),ve.l=Ee/8|0,ve.write_shift(2,ze),ve.write_shift(2,~ze&65535);ze-- >0;)ve[ve.l++]=Se[Te++];Ee=ve.l*8;continue}Ee=rt(ve,Ee,+(Te+ze==Se.length)+2);for(var Ke=0;ze-- >0;){var Ue=Se[Te];Ke=(Ke<<5^Ue)&32767;var je=-1,et=0;if((je=Ve[Ke])&&(je|=Te&-32768,je>Te&&(je-=32768),je<Te))for(;Se[je+et]==Se[Te+et]&&et<250;)++et;if(et>2){Ue=Q[et],Ue<=22?Ee=un(ve,Ee,ke[Ue+1]>>1)-1:(un(ve,Ee,3),Ee+=5,un(ve,Ee,ke[Ue-23]>>5),Ee+=3);var Xt=Ue<8?0:Ue-4>>2;Xt>0&&(Sn(ve,Ee,et-he[Ue]),Ee+=Xt),Ue=Z[Te-je],Ee=un(ve,Ee,ke[Ue]>>3),Ee-=3;var Qt=Ue<4?0:Ue-2>>1;Qt>0&&(Sn(ve,Ee,Te-je-me[Ue]),Ee+=Qt);for(var dn=0;dn<et;++dn)Ve[Ke]=Te&32767,Ke=(Ke<<5^Se[Te])&32767,++Te;ze-=et-1}else Ue<=143?Ue=Ue+48:Ee=ft(ve,Ee,1),Ee=un(ve,Ee,ke[Ue]),Ve[Ke]=Te&32767,++Te}Ee=un(ve,Ee,0)-1}return ve.l=(Ee+7)/8|0,ve.l}return function(ve,Ee){return ve.length<8?te(ve,Ee):ge(ve,Ee)}})();function it(z){var Z=er(50+Math.floor(z.length*1.1)),j=Mn(z,Z);return Z.slice(0,j)}var Ft=Ce?new Uint16Array(32768):gt(32768),Wt=Ce?new Uint16Array(32768):gt(32768),bt=Ce?new Uint16Array(128):gt(128),Kt=1,pr=1;function mn(z,Z){var j=He(z,Z)+257;Z+=5;var J=He(z,Z)+1;Z+=5;var Q=Ge(z,Z)+4;Z+=4;for(var te=0,ge=Ce?new Uint8Array(19):gt(19),Se=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ve=1,Ee=Ce?new Uint8Array(8):gt(8),Te=Ce?new Uint8Array(8):gt(8),Ve=ge.length,ze=0;ze<Q;++ze)ge[ne[ze]]=te=Ye(z,Z),ve<te&&(ve=te),Ee[te]++,Z+=3;var Ke=0;for(Ee[0]=0,ze=1;ze<=ve;++ze)Te[ze]=Ke=Ke+Ee[ze-1]<<1;for(ze=0;ze<Ve;++ze)(Ke=ge[ze])!=0&&(Se[ze]=Te[Ke]++);var Ue=0;for(ze=0;ze<Ve;++ze)if(Ue=ge[ze],Ue!=0){Ke=ke[Se[ze]]>>8-Ue;for(var je=(1<<7-Ue)-1;je>=0;--je)bt[Ke|je<<Ue]=Ue&7|ze<<3}var et=[];for(ve=1;et.length<j+J;)switch(Ke=bt[Be(z,Z)],Z+=Ke&7,Ke>>>=3){case 16:for(te=3+ht(z,Z),Z+=2,Ke=et[et.length-1];te-- >0;)et.push(Ke);break;case 17:for(te=3+Ye(z,Z),Z+=3;te-- >0;)et.push(0);break;case 18:for(te=11+Be(z,Z),Z+=7;te-- >0;)et.push(0);break;default:et.push(Ke),ve<Ke&&(ve=Ke);break}var Xt=et.slice(0,j),Qt=et.slice(j);for(ze=j;ze<286;++ze)Xt[ze]=0;for(ze=J;ze<30;++ze)Qt[ze]=0;return Kt=Ut(Xt,Ft,286),pr=Ut(Qt,Wt,30),Z}function wa(z,Z){if(z[0]==3&&!(z[1]&3))return[xo(Z),2];for(var j=0,J=0,Q=F2(Z||1<<18),te=0,ge=Q.length>>>0,Se=0,ve=0;(J&1)==0;){if(J=Ye(z,j),j+=3,J>>>1)J>>1==1?(Se=9,ve=5):(j=mn(z,j),Se=Kt,ve=pr);else{j&7&&(j+=8-(j&7));var Ee=z[j>>>3]|z[(j>>>3)+1]<<8;if(j+=32,Ee>0)for(!Z&&ge<te+Ee&&(Q=zn(Q,te+Ee),ge=Q.length);Ee-- >0;)Q[te++]=z[j>>>3],j+=8;continue}for(;;){!Z&&ge<te+32767&&(Q=zn(Q,te+32767),ge=Q.length);var Te=nt(z,j,Se),Ve=J>>>1==1?Ct[Te]:Ft[Te];if(j+=Ve&15,Ve>>>=4,(Ve>>>8&255)===0)Q[te++]=Ve;else{if(Ve==256)break;Ve-=257;var ze=Ve<8?0:Ve-4>>2;ze>5&&(ze=0);var Ke=te+he[Ve];ze>0&&(Ke+=nt(z,j,ze),j+=ze),Te=nt(z,j,ve),Ve=J>>>1==1?fn[Te]:Wt[Te],j+=Ve&15,Ve>>>=4;var Ue=Ve<4?0:Ve-2>>1,je=me[Ve];for(Ue>0&&(je+=nt(z,j,Ue),j+=Ue),!Z&&ge<Ke&&(Q=zn(Q,Ke+100),ge=Q.length);te<Ke;)Q[te]=Q[te-je],++te}}}return Z?[Q,j+7>>>3]:[Q.slice(0,te),j+7>>>3]}function Yi(z,Z){var j=z.slice(z.l||0),J=wa(j,Z);return z.l+=J[1],J[0]}function Hs(z,Z){if(z)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function Gr(z,Z){var j=z;Tr(j,0);var J=[],Q=[],te={FileIndex:J,FullPaths:Q};R(te,{root:Z.root});for(var ge=j.length-4;(j[ge]!=80||j[ge+1]!=75||j[ge+2]!=5||j[ge+3]!=6)&&ge>=0;)--ge;j.l=ge+4,j.l+=4;var Se=j.read_shift(2);j.l+=6;var ve=j.read_shift(4);for(j.l=ve,ge=0;ge<Se;++ge){j.l+=20;var Ee=j.read_shift(4),Te=j.read_shift(4),Ve=j.read_shift(2),ze=j.read_shift(2),Ke=j.read_shift(2);j.l+=8;var Ue=j.read_shift(4),je=c(j.slice(j.l+Ve,j.l+Ve+ze));j.l+=Ve+ze+Ke;var et=j.l;j.l=Ue+4,Wi(j,Ee,Te,te,je),j.l=et}return te}function Wi(z,Z,j,J,Q){z.l+=2;var te=z.read_shift(2),ge=z.read_shift(2),Se=o(z);if(te&8257)throw new Error("Unsupported ZIP encryption");for(var ve=z.read_shift(4),Ee=z.read_shift(4),Te=z.read_shift(4),Ve=z.read_shift(2),ze=z.read_shift(2),Ke="",Ue=0;Ue<Ve;++Ue)Ke+=String.fromCharCode(z[z.l++]);if(ze){var je=c(z.slice(z.l,z.l+ze));(je[21589]||{}).mt&&(Se=je[21589].mt),((Q||{})[21589]||{}).mt&&(Se=Q[21589].mt)}z.l+=ze;var et=z.slice(z.l,z.l+Ee);switch(ge){case 8:et=X(z,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ge)}var Xt=!1;te&8&&(ve=z.read_shift(4),ve==134695760&&(ve=z.read_shift(4),Xt=!0),Ee=z.read_shift(4),Te=z.read_shift(4)),Ee!=Z&&Hs(Xt,"Bad compressed size: "+Z+" != "+Ee),Te!=j&&Hs(Xt,"Bad uncompressed size: "+j+" != "+Te),Ie(J,Ke,et,{unsafe:!0,mt:Se})}function yn(z,Z){var j=Z||{},J=[],Q=[],te=er(1),ge=j.compression?8:0,Se=0,ve=0,Ee=0,Te=0,Ve=0,ze=z.FullPaths[0],Ke=ze,Ue=z.FileIndex[0],je=[],et=0;for(ve=1;ve<z.FullPaths.length;++ve)if(Ke=z.FullPaths[ve].slice(ze.length),Ue=z.FileIndex[ve],!(!Ue.size||!Ue.content||Ke=="Sh33tJ5")){var Xt=Te,Qt=er(Ke.length);for(Ee=0;Ee<Ke.length;++Ee)Qt.write_shift(1,Ke.charCodeAt(Ee)&127);Qt=Qt.slice(0,Qt.l),je[Ve]=L5.buf(Ue.content,0);var dn=Ue.content;ge==8&&(dn=ee(dn)),te=er(30),te.write_shift(4,67324752),te.write_shift(2,20),te.write_shift(2,Se),te.write_shift(2,ge),Ue.mt?s(te,Ue.mt):te.write_shift(4,0),te.write_shift(-4,je[Ve]),te.write_shift(4,dn.length),te.write_shift(4,Ue.content.length),te.write_shift(2,Qt.length),te.write_shift(2,0),Te+=te.length,J.push(te),Te+=Qt.length,J.push(Qt),Te+=dn.length,J.push(dn),te=er(46),te.write_shift(4,33639248),te.write_shift(2,0),te.write_shift(2,20),te.write_shift(2,Se),te.write_shift(2,ge),te.write_shift(4,0),te.write_shift(-4,je[Ve]),te.write_shift(4,dn.length),te.write_shift(4,Ue.content.length),te.write_shift(2,Qt.length),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(4,0),te.write_shift(4,Xt),et+=te.l,Q.push(te),et+=Qt.length,Q.push(Qt),++Ve}return te=er(22),te.write_shift(4,101010256),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,Ve),te.write_shift(2,Ve),te.write_shift(4,et),te.write_shift(4,Te),te.write_shift(2,0),ao([ao(J),ao(Q),te])}var mr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ti(z,Z){if(z.ctype)return z.ctype;var j=z.name||"",J=j.match(/\.([^\.]+)$/);return J&&mr[J[1]]||Z&&(J=(j=Z).match(/[\.\\]([^\.\\])+$/),J&&mr[J[1]])?mr[J[1]]:"application/octet-stream"}function qr(z){for(var Z=P2(z),j=[],J=0;J<Z.length;J+=76)j.push(Z.slice(J,J+76));return j.join(`\r
`)+`\r
`}function ko(z){var Z=z.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ee){var Te=Ee.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var j=[],J=Z.split(`\r
`),Q=0;Q<J.length;++Q){var te=J[Q];if(te.length==0){j.push("");continue}for(var ge=0;ge<te.length;){var Se=76,ve=te.slice(ge,ge+Se);ve.charAt(Se-1)=="="?Se--:ve.charAt(Se-2)=="="?Se-=2:ve.charAt(Se-3)=="="&&(Se-=3),ve=te.slice(ge,ge+Se),ge+=Se,ge<te.length&&(ve+="="),j.push(ve)}}return j.join(`\r
`)}function Sa(z){for(var Z=[],j=0;j<z.length;++j){for(var J=z[j];j<=z.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+z[++j];Z.push(J)}for(var Q=0;Q<Z.length;++Q)Z[Q]=Z[Q].replace(/[=][0-9A-Fa-f]{2}/g,function(te){return String.fromCharCode(parseInt(te.slice(1),16))});return cs(Z.join(`\r
`))}function Nr(z,Z,j){for(var J="",Q="",te="",ge,Se=0;Se<10;++Se){var ve=Z[Se];if(!ve||ve.match(/^\s*$/))break;var Ee=ve.match(/^(.*?):\s*([^\s].*)$/);if(Ee)switch(Ee[1].toLowerCase()){case"content-location":J=Ee[2].trim();break;case"content-type":te=Ee[2].trim();break;case"content-transfer-encoding":Q=Ee[2].trim();break}}switch(++Se,Q.toLowerCase()){case"base64":ge=cs(bi(Z.slice(Se).join("")));break;case"quoted-printable":ge=Sa(Z.slice(Se));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Q)}var Te=Ie(z,J.slice(j.length),ge,{unsafe:!0});te&&(Te.ctype=te)}function ar(z,Z){if(ae(z.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var j=Z&&Z.root||"",J=(Lt&&Buffer.isBuffer(z)?z.toString("binary"):ae(z)).split(`\r
`),Q=0,te="";for(Q=0;Q<J.length;++Q)if(te=J[Q],!!/^Content-Location:/i.test(te)&&(te=te.slice(te.indexOf("file")),j||(j=te.slice(0,te.lastIndexOf("/")+1)),te.slice(0,j.length)!=j))for(;j.length>0&&(j=j.slice(0,j.length-1),j=j.slice(0,j.lastIndexOf("/")+1),te.slice(0,j.length)!=j););var ge=(J[1]||"").match(/boundary="(.*?)"/);if(!ge)throw new Error("MAD cannot find boundary");var Se="--"+(ge[1]||""),ve=[],Ee=[],Te={FileIndex:ve,FullPaths:Ee};R(Te);var Ve,ze=0;for(Q=0;Q<J.length;++Q){var Ke=J[Q];Ke!==Se&&Ke!==Se+"--"||(ze++&&Nr(Te,J.slice(Ve,Q),j),Ve=Q)}return Te}function Xn(z,Z){var j=Z||{},J=j.boundary||"SheetJS";J="------="+J;for(var Q=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],te=z.FullPaths[0],ge=te,Se=z.FileIndex[0],ve=1;ve<z.FullPaths.length;++ve)if(ge=z.FullPaths[ve].slice(te.length),Se=z.FileIndex[ve],!(!Se.size||!Se.content||ge=="Sh33tJ5")){ge=ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(et){return"_x"+et.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(et){return"_u"+et.charCodeAt(0).toString(16)+"_"});for(var Ee=Se.content,Te=Lt&&Buffer.isBuffer(Ee)?Ee.toString("binary"):ae(Ee),Ve=0,ze=Math.min(1024,Te.length),Ke=0,Ue=0;Ue<=ze;++Ue)(Ke=Te.charCodeAt(Ue))>=32&&Ke<128&&++Ve;var je=Ve>=ze*4/5;Q.push(J),Q.push("Content-Location: "+(j.root||"file:///C:/SheetJS/")+ge),Q.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),Q.push("Content-Type: "+ti(Se,ge)),Q.push(""),Q.push(je?ko(Te):qr(Te))}return Q.push(J+`--\r
`),Q.join(`\r
`)}function hi(z){var Z={};return R(Z,z),Z}function Ie(z,Z,j,J){var Q=J&&J.unsafe;Q||R(z);var te=!Q&&zt.find(z,Z);if(!te){var ge=z.FullPaths[0];Z.slice(0,ge.length)==ge?ge=Z:(ge.slice(-1)!="/"&&(ge+="/"),ge=(ge+Z).replace("//","/")),te={name:i(Z),type:2},z.FileIndex.push(te),z.FullPaths.push(ge),Q||zt.utils.cfb_gc(z)}return te.content=j,te.size=j?j.length:0,J&&(J.CLSID&&(te.clsid=J.CLSID),J.mt&&(te.mt=J.mt),J.ct&&(te.ct=J.ct)),te}function Xe(z,Z){R(z);var j=zt.find(z,Z);if(j){for(var J=0;J<z.FileIndex.length;++J)if(z.FileIndex[J]==j)return z.FileIndex.splice(J,1),z.FullPaths.splice(J,1),!0}return!1}function Qe(z,Z,j){R(z);var J=zt.find(z,Z);if(J){for(var Q=0;Q<z.FileIndex.length;++Q)if(z.FileIndex[Q]==J)return z.FileIndex[Q].name=i(j),z.FullPaths[Q]=j,!0}return!1}function ct(z){b(z,!0)}return e.find=O,e.read=K,e.parse=h,e.write=Me,e.writeFile=ce,e.utils={cfb_new:hi,cfb_add:Ie,cfb_del:Xe,cfb_mov:Qe,cfb_gc:ct,ReadShift:Af,CheckField:dN,prep_blob:Tr,bconcat:ao,use_zlib:V,_deflateRaw:it,_inflateRaw:Yi,consts:le},e})();function U5(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ls(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function ox(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var $0=new Date(1899,11,30,0,0,0);function Qr(t,e){var n=t.getTime(),r=$0.getTime()+(t.getTimezoneOffset()-$0.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var jb=new Date,V5=$0.getTime()+(jb.getTimezoneOffset()-$0.getTimezoneOffset())*6e4,G2=jb.getTimezoneOffset();function Ip(t){var e=new Date;return e.setTime(t*24*60*60*1e3+V5),e.getTimezoneOffset()!==G2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-G2)*6e4),e}function B5(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var q2=new Date("2017-02-19T19:06:09.000Z"),$b=isNaN(q2.getFullYear())?new Date("2/19/17"):q2,z5=$b.getFullYear()==2017;function fr(t,e){var n=new Date(t);if(z5)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if($b.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function gl(t,e){if(Lt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return gf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return gf(Db(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return gf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return gf(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Sr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Sr(t[n]));return e}function Rn(t,e){for(var n="";n.length<e;)n+=t;return n}function hs(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var H5=["january","february","march","april","may","june","july","august","september","october","november","december"];function jc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&H5.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var G5=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],c=1;c<s.length;++c)o.push(i),o.push(s[c]);return o}})();function Kb(t){return t?t.content&&t.type?gl(t.content,!0):t.data?hf(t.data):t.asNodeBuffer&&Lt?hf(t.asNodeBuffer().toString("binary")):t.asBinary?hf(t.asBinary()):t._data&&t._data.getContent?hf(gl(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Jb(t){if(!t)return null;if(t.data)return D2(t.data);if(t.asNodeBuffer&&Lt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?D2(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function q5(t){return t&&t.name.slice(-4)===".bin"?Jb(t):Kb(t)}function zi(t,e){for(var n=t.FullPaths||Ls(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function lx(t,e){var n=zi(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Yn(t,e,n){if(!n)return q5(lx(t,e));if(!e)return null;try{return Yn(t,e)}catch{return null}}function Ci(t,e,n){if(!n)return Kb(lx(t,e));if(!e)return null;try{return Ci(t,e)}catch{return null}}function j5(t,e,n){return Jb(lx(t,e))}function j2(t){for(var e=t.FullPaths||Ls(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function $5(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Lt?r=wl(n):r=f5(n),zt.utils.cfb_add(t,e,r)}zt.utils.cfb_add(t,e,n)}else t.file(e,n)}function Yb(t,e){switch(e.type){case"base64":return zt.read(t,{type:"base64"});case"binary":return zt.read(t,{type:"binary"});case"buffer":case"array":return zt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function mf(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Wb=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,K5=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,$2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,J5=/<[^>]*>/g,Hr=Wb.match($2)?$2:J5,Y5=/<\w*:/,W5=/<(\/?)\w+:/;function mt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(K5),c=0,f="",d=0,h="",g="",v=1;if(o)for(d=0;d!=o.length;++d){for(g=o[d],s=0;s!=g.length&&g.charCodeAt(s)!==61;++s);for(h=g.slice(0,s).trim();g.charCodeAt(s+1)==32;)++s;for(v=(i=g.charCodeAt(s+1))==34||i==39?1:0,f=g.slice(s+1+v,g.length-v),c=0;c!=h.length&&h.charCodeAt(c)!==58;++c);if(c===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=f,r[h.toLowerCase()]=f;else{var T=(c===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(c+1);if(r[T]&&h.slice(c-3,c)=="ext")continue;r[T]=f,r[T.toLowerCase()]=f}}return r}function Bs(t){return t.replace(W5,"<$1")}var Zb={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Z5=ox(Zb),Gt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,f){return Zb[c]||String.fromCharCode(parseInt(f,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,f){return String.fromCharCode(parseInt(f,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}})(),X5=/[&<>'"]/g,Q5=/[\u0000-\u001f]/g;function cx(t){var e=t+"";return e.replace(X5,function(n){return Z5[n]}).replace(/\n/g,"<br/>").replace(Q5,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var K2=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function Tn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function iv(t){for(var e="",n=0,r=0,i=0,s=0,o=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function J2(t){var e=xo(2*t.length),n,r,i=1,s=0,o=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function Y2(t){return wl(t,"binary").toString("utf8")}var Yh="foo bar baz",pn=Lt&&(Y2(Yh)==iv(Yh)&&Y2||J2(Yh)==iv(Yh)&&J2)||iv,gf=Lt?function(t){return wl(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Kf=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),Xb=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),eL=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),tL=/<\/?(?:vt:)?variant>/g,nL=/<(?:vt:)([^>]*)>([\s\S]*)</;function W2(t,e){var n=mt(t),r=t.match(eL(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(tL,"").match(nL);o&&i.push({v:pn(o[2]),t:o[1]})}),i}var rL=/(^\s|\s$|\n)/;function iL(t){return Ls(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function sL(t,e,n){return"<"+t+(n!=null?iL(n):"")+(e!=null?(e.match(rL)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function ux(t){if(Lt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return pn(Sl(ix(t)));throw new Error("Bad input format: expected Buffer or string")}var Jf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,aL={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},oL=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function lL(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function cL(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[n+c]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var Z2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},X2=Lt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:wl(e)})):Z2(t)}:Z2,Q2=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(la(t,i)));return r.join("").replace(Xr,"")},fx=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Xr,""):Q2(t,e,n)}:Q2,ew=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},Qb=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):ew(t,e,n)}:ew,tw=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(yc(t,i)));return r.join("")},md=Lt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):tw(e,n,r)}:tw,eN=function(t,e){var n=Si(t,e);return n>0?md(t,e+4,e+4+n-1):""},tN=eN,nN=function(t,e){var n=Si(t,e);return n>0?md(t,e+4,e+4+n-1):""},rN=nN,iN=function(t,e){var n=2*Si(t,e);return n>0?md(t,e+4,e+4+n-1):""},sN=iN,aN=function(e,n){var r=Si(e,n);return r>0?fx(e,n+4,n+4+r):""},oN=aN,lN=function(t,e){var n=Si(t,e);return n>0?md(t,e+4,e+4+n):""},cN=lN,uN=function(t,e){return lL(t,e)},K0=uN,fN=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Lt&&(tN=function(e,n){if(!Buffer.isBuffer(e))return eN(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},rN=function(e,n){if(!Buffer.isBuffer(e))return nN(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},sN=function(e,n){if(!Buffer.isBuffer(e))return iN(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},oN=function(e,n){if(!Buffer.isBuffer(e))return aN(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},cN=function(e,n){if(!Buffer.isBuffer(e))return lN(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},K0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):uN(e,n)},fN=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var yc=function(t,e){return t[e]},la=function(t,e){return t[e+1]*256+t[e]},uL=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Si=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},sl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},fL=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Af(t,e){var n="",r,i,s=[],o,c,f,d;switch(e){case"dbcs":if(d=this.l,Lt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(la(this,d)),d+=2;t*=2;break;case"utf8":n=md(this,this.l,this.l+t);break;case"utf16le":t*=2,n=fx(this,this.l,this.l+t);break;case"wstr":return Af.call(this,t,"dbcs");case"lpstr-ansi":n=tN(this,this.l),t=4+Si(this,this.l);break;case"lpstr-cp":n=rN(this,this.l),t=4+Si(this,this.l);break;case"lpwstr":n=sN(this,this.l),t=4+2*Si(this,this.l);break;case"lpp4":t=4+Si(this,this.l),n=oN(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Si(this,this.l),n=cN(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=yc(this,this.l+t++))!==0;)s.push(Jh(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=la(this,this.l+t))!==0;)s.push(Jh(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",d=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=yc(this,d),this.l=d+1,c=Af.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Jh(la(this,d))),d+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=yc(this,d),this.l=d+1,c=Af.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(Jh(yc(this,d))),d+=1}n=s.join("");break;default:switch(t){case 1:return r=yc(this,this.l),this.l++,r;case 2:return r=(e==="i"?uL:la)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?sl:fL)(this,this.l),this.l+=4,r):(i=Si(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=K0(this,this.l):i=K0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=Qb(this,this.l,t);break}}return this.l+=t,n}var dL=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},hL=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},pL=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function mL(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)pL(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,dL(this,e,this.l);break;case 8:if(r=8,n==="f"){cL(this,e,this.l);break}case 16:break;case-4:r=4,hL(this,e,this.l);break}return this.l+=r,this}function dN(t,e){var n=Qb(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Tr(t,e){t.l=e,t.read_shift=Af,t.chk=dN,t.write_shift=mL}function zr(t,e){t.l+=e}function er(t){var e=xo(t);return Tr(e,0),e}function _a(t,e,n){if(t){var r,i,s;Tr(t,t.l||0);for(var o=t.length,c=0,f=0;t.l<o;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=Q0[c]||Q0[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;f=t.l+s;var h=d.f&&d.f(t,s,n);if(t.l=f,e(h,d,c))return}}}function Vv(){var t=[],e=Lt?256:2048,n=function(d){var h=er(d);return Tr(h,0),h},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=n(Math.max(d+1,e)))},o=function(){return i(),ao(t)},c=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:o,_bufs:t}}function Cf(t,e,n){var r=Sr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function nw(t,e,n){var r=Sr(t);return r.s=Cf(r.s,e.s,n),r.e=Cf(r.e,e.s,n),r}function bf(t,e){if(t.cRel&&t.c<0)for(t=Sr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Sr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=_t(t);return!t.cRel&&t.cRel!=null&&(n=xL(n)),!t.rRel&&t.rRel!=null&&(n=gL(n)),n}function sv(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+nr(t.s.c)+":"+(t.e.cRel?"":"$")+nr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ar(t.s.r)+":"+(t.e.rRel?"":"$")+Ar(t.e.r):bf(t.s,e.biff)+":"+bf(t.e,e.biff)}function dx(t){return parseInt(vL(t),10)-1}function Ar(t){return""+(t+1)}function gL(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vL(t){return t.replace(/\$(\d+)$/,"$1")}function hx(t){for(var e=yL(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function nr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function xL(t){return t.replace(/^([A-Z])/,"$$$1")}function yL(t){return t.replace(/^\$([A-Z])/,"$1")}function _L(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Zr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function _t(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function eu(t){var e=t.indexOf(":");return e==-1?{s:Zr(t),e:Zr(t)}:{s:Zr(t.slice(0,e)),e:Zr(t.slice(e+1))}}function Ht(t,e){return typeof e>"u"||typeof e=="number"?Ht(t.s,t.e):(typeof t!="string"&&(t=_t(t)),typeof e!="string"&&(e=_t(e)),t==e?t:t+":"+e)}function Dn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function rw(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ji(t.z,n?Qr(e):e)}catch{}try{return t.w=ji((t.XF||{}).numFmtId||(n?14:0),n?Qr(e):e)}catch{return""+e}}function ma(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?bl[t.v]||t.v:e==null?rw(t,t.v):rw(t,e))}function Io(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function hN(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),o=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Zr(r.origin):r.origin;o=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Dn(s["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(d.e.r=o=h.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var v=0;v!=e[g].length;++v)if(!(typeof e[g][v]>"u")){var T={v:e[g][v]},S=o+g,A=c+v;if(d.s.r>S&&(d.s.r=S),d.s.c>A&&(d.s.c=A),d.e.r<S&&(d.e.r=S),d.e.c<A&&(d.e.c=A),e[g][v]&&typeof e[g][v]=="object"&&!Array.isArray(e[g][v])&&!(e[g][v]instanceof Date))T=e[g][v];else if(Array.isArray(T.v)&&(T.f=e[g][v][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else if(r.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=r.dateNF||St[14],r.cellDates?(T.t="d",T.w=ji(T.z,Qr(T.v))):(T.t="n",T.v=Qr(T.v),T.w=ji(T.z,T.v))):T.t="s";if(i)s[S]||(s[S]=[]),s[S][A]&&s[S][A].z&&(T.z=s[S][A].z),s[S][A]=T;else{var C=_t({c:A,r:S});s[C]&&s[C].z&&(T.z=s[C].z),s[C]=T}}}return d.s.c<1e7&&(s["!ref"]=Ht(d)),s}function tu(t,e){return hN(null,t,e)}function EL(t){return t.read_shift(4,"i")}function Br(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function TL(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function px(t,e){var n=t.l,r=t.read_shift(1),i=Br(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),f=0;f!=c;++f)s.push(TL(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var wL=px;function Ji(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Al(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var SL=Br;function mx(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var AL=Br,Bv=mx;function gx(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?K0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):sl(e,0)>>2;return n?i/100:i}function pN(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Cl=pN;function Lr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function CL(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=ul[i];d&&(e.rgb=Wf(d));break;case 2:e.rgb=Wf([o,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function bL(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function mN(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function NL(t){return mN(t,1)}function IL(t){return mN(t,2)}var vx=2,ci=3,Wh=11,iw=12,J0=19,Zh=64,RL=65,kL=71,DL=4108,ML=4126,cr=80,gN=81,PL=[cr,gN],FL={1:{n:"CodePage",t:vx},2:{n:"Category",t:cr},3:{n:"PresentationFormat",t:cr},4:{n:"ByteCount",t:ci},5:{n:"LineCount",t:ci},6:{n:"ParagraphCount",t:ci},7:{n:"SlideCount",t:ci},8:{n:"NoteCount",t:ci},9:{n:"HiddenCount",t:ci},10:{n:"MultimediaClipCount",t:ci},11:{n:"ScaleCrop",t:Wh},12:{n:"HeadingPairs",t:DL},13:{n:"TitlesOfParts",t:ML},14:{n:"Manager",t:cr},15:{n:"Company",t:cr},16:{n:"LinksUpToDate",t:Wh},17:{n:"CharacterCount",t:ci},19:{n:"SharedDoc",t:Wh},22:{n:"HyperlinksChanged",t:Wh},23:{n:"AppVersion",t:ci,p:"version"},24:{n:"DigSig",t:RL},26:{n:"ContentType",t:cr},27:{n:"ContentStatus",t:cr},28:{n:"Language",t:cr},29:{n:"Version",t:cr},255:{},2147483648:{n:"Locale",t:J0},2147483651:{n:"Behavior",t:J0},1919054434:{}},OL={1:{n:"CodePage",t:vx},2:{n:"Title",t:cr},3:{n:"Subject",t:cr},4:{n:"Author",t:cr},5:{n:"Keywords",t:cr},6:{n:"Comments",t:cr},7:{n:"Template",t:cr},8:{n:"LastAuthor",t:cr},9:{n:"RevNumber",t:cr},10:{n:"EditTime",t:Zh},11:{n:"LastPrinted",t:Zh},12:{n:"CreatedDate",t:Zh},13:{n:"ModifiedDate",t:Zh},14:{n:"PageCount",t:ci},15:{n:"WordCount",t:ci},16:{n:"CharCount",t:ci},17:{n:"Thumbnail",t:kL},18:{n:"Application",t:cr},19:{n:"DocSecurity",t:ci},255:{},2147483648:{n:"Locale",t:J0},2147483651:{n:"Behavior",t:J0},1919054434:{}},sw={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},LL=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function UL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var VL=UL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ul=Sr(VL),bl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},vN={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},aw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function BL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zL(t){var e=BL();if(!t||!t.match)return e;var n={};if((t.match(Hr)||[]).forEach(function(r){var i=mt(r);switch(i[0].replace(Y5,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[aw[i.ContentType]]!==void 0&&e[aw[i.ContentType]].push(i.PartName);break}}),e.xmlns!==aL.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Cc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function zv(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Nf(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Hr)||[]).forEach(function(i){var s=mt(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:mf(s.Target,e);n[c]=o,r[s.Id]=o}}),n["!id"]=r,n}var HL="application/vnd.oasis.opendocument.spreadsheet";function GL(t,e){for(var n=ux(t),r,i;r=Jf.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=mt(r[0],!1),i.path=="/"&&i.type!==HL)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var If=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],qL=(function(){for(var t=new Array(If.length),e=0;e<If.length;++e){var n=If[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function xN(t){var e={};t=pn(t);for(var n=0;n<If.length;++n){var r=If[n],i=t.match(qL[n]);i!=null&&i.length>0&&(e[r[1]]=Gt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=fr(e[r[1]]))}return e}var jL=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function yN(t,e,n,r){var i=[];if(typeof t=="string")i=W2(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(h){return{v:h}}));var o=typeof e=="string"?W2(e,r).map(function(h){return h.v}):e,c=0,f=0;if(o.length>0)for(var d=0;d!==i.length;d+=2){switch(f=+i[d+1].v,i[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=o.slice(c,c+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=f,n.DefinedNames=o.slice(c,c+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=o.slice(c,c+f);break}c+=f}}function $L(t,e,n){var r={};return e||(e={}),t=pn(t),jL.forEach(function(i){var s=(t.match(Kf(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Gt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&yN(r.HeadingPairs,r.TitlesOfParts,e,n),e}var KL=/<[^>]+>[^<]*/g;function JL(t,e){var n={},r="",i=t.match(KL);if(i)for(var s=0;s!=i.length;++s){var o=i[s],c=mt(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Gt(c.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var f=o.split(">"),d=f[0].slice(4),h=f[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[r]=Gt(h);break;case"bool":n[r]=Tn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=fr(h);break;case"cy":case"error":n[r]=Gt(h);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,f)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}var YL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},av;function WL(t,e,n){av||(av=ox(YL)),e=av[e]||e,t[e]=n}function xx(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function _N(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function EN(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function TN(t,e,n){return e===31?EN(t):_N(t,e,n)}function Hv(t,e,n){return TN(t,e,n===!1?0:4)}function ZL(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return TN(t,e,0)}function XL(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Xr,""),t.l-i&2&&(t.l+=2)}return n}function QL(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Xr,"");return n}function e8(t){var e=t.l,n=Y0(t,gN);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=Y0(t,ci);return[n,r]}function t8(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(e8(t));return n}function ow(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Xr,"").replace(pf,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function wN(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function n8(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Y0(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==iw&&r!==e&&PL.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===iw?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return _N(t,r,4).replace(Xr,"");case 31:return EN(t);case 64:return xx(t);case 65:return wN(t);case 71:return n8(t);case 80:return Hv(t,r,!s.raw).replace(Xr,"");case 81:return ZL(t,r).replace(Xr,"");case 4108:return t8(t);case 4126:case 4127:return r==4127?XL(t):QL(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function lw(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,c=0,f=-1,d={};for(o=0;o!=i;++o){var h=t.read_shift(4),g=t.read_shift(4);s[o]=[h,g+n]}s.sort(function(B,k){return B[1]-k[1]});var v={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var T=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,T=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],T=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],T=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(T=!1,t.l=s[o][1]),T)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var S=e[s[o][0]];if(v[S.n]=Y0(t,S.t,{raw:!0}),S.p==="version"&&(v[S.n]=String(v[S.n]>>16)+"."+("0000"+String(v[S.n]&65535)).slice(-4)),S.n=="CodePage")switch(v[S.n]){case 0:v[S.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:us(c=v[S.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+v[S.n])}}else if(s[o][0]===1){if(c=v.CodePage=Y0(t,vx),us(c),f!==-1){var A=t.l;t.l=s[f][1],d=ow(t,c),t.l=A}}else if(s[o][0]===0){if(c===0){f=o,t.l=s[o+1][1];continue}d=ow(t,c)}else{var C=d[s[o][0]],P;switch(t[t.l]){case 65:t.l+=4,P=wN(t);break;case 30:t.l+=4,P=Hv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,P=Hv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,P=t.read_shift(4,"i");break;case 19:t.l+=4,P=t.read_shift(4);break;case 5:t.l+=4,P=t.read_shift(8,"f");break;case 11:t.l+=4,P=Ln(t,4);break;case 64:t.l+=4,P=fr(xx(t));break;default:throw new Error("unparsed value: "+t[t.l])}v[C]=P}}return t.l=n+r,v}function cw(t,e,n){var r=t.content;if(!r)return{};Tr(r,0);var i,s,o,c,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),h=r.read_shift(16);if(h!==zt.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),c=r.read_shift(4),i===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);i===2&&(o=r.read_shift(16),f=r.read_shift(4));var g=lw(r,e),v={SystemIdentifier:d};for(var T in g)v[T]=g[T];if(v.FMTID=s,i===1)return v;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var S;try{S=lw(r,null)}catch{}for(T in S)v[T]=S[T];return v.FMTID=[s,o],v}function ro(t,e){return t.read_shift(e),null}function r8(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Ln(t,e){return t.read_shift(e)===1}function Wn(t){return t.read_shift(2,"u")}function SN(t,e){return r8(t,e,Wn)}function i8(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function gd(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function s8(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,c,f={};i&&(o=t.read_shift(2)),r&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,d);return i&&(t.l+=4*o),r&&(t.l+=c),f.t=h,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function vl(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function vd(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):vl(t,r,n)}function Nl(t,e,n){if(n.biff>5)return vd(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function a8(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function o8(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Xr,"");return r&&(t.l+=24),i}function l8(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(Xr,"");return n+o}function c8(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return o8(t);case"0303000000000000c000000000000046":return l8(t);default:throw new Error("Unsupported Moniker "+n)}}function Xh(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Xr,""):"";return n}function u8(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,c,f,d="",h,g;i&16&&(s=Xh(t,n-t.l)),i&128&&(o=Xh(t,n-t.l)),(i&257)===257&&(c=Xh(t,n-t.l)),(i&257)===1&&(f=c8(t,n-t.l)),i&8&&(d=Xh(t,n-t.l)),i&32&&(h=t.read_shift(16)),i&64&&(g=xx(t)),t.l=n;var v=o||c||f||"";v&&d&&(v+="#"+d),v||(v="#"+d),i&2&&v.charAt(0)=="/"&&v.charAt(1)!="/"&&(v="file://"+v);var T={Target:v};return h&&(T.guid=h),g&&(T.time=g),s&&(T.Tooltip=s),T}function AN(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function CN(t,e){var n=AN(t);return n[3]=0,n}function zs(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function f8(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function d8(t,e,n){return e===0?"":Nl(t,e,n)}function h8(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function bN(t){var e=t.read_shift(2),n=gx(t);return[e,n]}function p8(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=gd(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function Rp(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function NN(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var m8=NN;function IN(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function g8(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function v8(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Dr(t){t.l+=2,t.l+=t.read_shift(2)}var x8={0:Dr,4:Dr,5:Dr,6:Dr,7:v8,8:Dr,9:Dr,10:Dr,11:Dr,12:Dr,13:g8,14:Dr,15:Dr,16:Dr,17:Dr,18:Dr,19:Dr,20:Dr,21:IN};function y8(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(x8[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Qh(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function _8(t,e){return e===0||t.read_shift(2),1200}function E8(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Nl(t,0,n);return t.read_shift(e+r-t.l),i}function T8(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function w8(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=gd(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function S8(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(s8(t));return s.Count=r,s.Unique=i,s}function A8(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function C8(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function b8(t){var e=f8(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function N8(t){return t.read_shift(2),t.read_shift(4)}function uw(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function I8(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:c,Selected:f,TabRatio:d}}function R8(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function k8(){}function D8(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=gd(t,0,n),r}function M8(t){var e=zs(t);return e.isst=t.read_shift(4),e}function P8(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=zs(t);n.biff==2&&t.l++;var s=vd(t,r-t.l,n);return i.val=s,i}function F8(t,e,n){var r=t.read_shift(2),i=Nl(t,0,n);return[r,i]}var O8=Nl;function fw(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),c=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:s,c},e:{r:o,c:f}}}function L8(t){var e=t.read_shift(2),n=t.read_shift(2),r=bN(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function U8(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(bN(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function V8(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function B8(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(4),f=t.read_shift(2);return i.patternType=LL[c>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=f&127,i.icvBack=f>>7&127,i.fsxButton=f>>14&1),i}function z8(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=B8(t,e,r.fStyle,n),r}function H8(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function dw(t,e,n){var r=zs(t);(n.biff==2||e==9)&&++t.l;var i=i8(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function G8(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=zs(t),i=Lr(t);return r.val=i,r}var hw=d8;function q8(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=vl(t,s),c=[];r>t.l;)c.push(vd(t));return[s,i,o,c]}function pw(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=p8(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var j8=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function mw(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var d=vl(t,o,n);i&32&&(d=j8[d.charCodeAt(0)]);var h=r-t.l;n&&n.biff==2&&--h;var g=r==t.l||c===0||!(h>0)?[]:C7(t,h,n,c);return{chKey:s,Name:d,itab:f,rgce:g}}function RN(t,e,n){if(n.biff<8)return $8(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(h8(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function $8(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=gd(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function K8(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=vl(t,r,n),o=vl(t,i,n);return[s,o]}function J8(t,e,n){var r=NN(t);t.l++;var i=t.read_shift(1);return e-=8,[b7(t,e,n),i,r]}function gw(t,e,n){var r=m8(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,S7(t,e,n)]}function Y8(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function W8(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=Nl(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},c,o,s]}}function Z8(t,e,n){return W8(t,e,n)}function X8(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(Rp(t));return n}function Q8(t,e,n){if(n&&n.biff<8)return tU(t,e,n);var r=IN(t),i=y8(t,e-22,r[1]);return{cmo:r,ft:i}}var eU={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function tU(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((eU[r]||zr)(t,e,n)),{cmo:[i,r,s],ft:o}}function nU(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=a8(t,6,n);var c=t.read_shift(2);t.read_shift(2),Wn(t,2);var f=t.read_shift(2);t.l+=f;for(var d=1;d<t.lens.length-1;++d){if(t.l-r!=t.lens[d])throw new Error("TxO: bad continue record");var h=t[t.l],g=vl(t,t.lens[d+1]-t.lens[d]-1);if(i+=g,i.length>=(h?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function rU(t,e){var n=Rp(t);t.l+=16;var r=u8(t,e-24);return[n,r]}function iU(t,e){t.read_shift(2);var n=Rp(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Xr,""),[n,r]}function sU(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=sw[n]||n,n=t.read_shift(2),e[1]=sw[n]||n,e}function aU(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(CN(t));return n}function oU(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(CN(t));return n}function lU(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function kN(t,e,n){if(!n.cellStyles)return zr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var d={s:i,e:s,w:o,ixfe:c,flags:f};return(n.biff>=5||!n.biff)&&(d.level=f>>8&7),d}function cU(t,e){var n={};return e<32||(t.l+=16,n.header=Lr(t),n.footer=Lr(t),t.l+=2),n}function uU(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var fU=zs,dU=SN,hU=vd;function pU(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function mU(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=zs(t);++t.l;var i=Nl(t,e-7,n);return r.t="str",r.val=i,r}function gU(t){var e=zs(t);++t.l;var n=Lr(t);return e.t="n",e.val=n,e}function vU(t){var e=zs(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function xU(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function yU(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function _U(t,e,n){var r=t.l+e,i=zs(t),s=t.read_shift(2),o=vl(t,s,n);return t.l=r,i.t="str",i.val=o,i}var EU=[2,3,48,49,131,139,140,245],vw=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ox({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,f){var d=[],h=xo(1);switch(f.type){case"base64":h=cs(bi(c));break;case"binary":h=cs(c);break;case"buffer":case"array":h=c;break}Tr(h,0);var g=h.read_shift(1),v=!!(g&136),T=!1,S=!1;switch(g){case 2:break;case 3:break;case 48:T=!0,v=!0;break;case 49:T=!0,v=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var A=0,C=521;g==2&&(A=h.read_shift(2)),h.l+=3,g!=2&&(A=h.read_shift(4)),A>1048576&&(A=1e6),g!=2&&(C=h.read_shift(2));var P=h.read_shift(2),B=f.codepage||1252;g!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(B=t[h[h.l]]),h.l+=1,h.l+=2),S&&(h.l+=36);for(var k=[],H={},G=Math.min(h.length,g==2?521:C-10-(T?264:0)),K=S?32:11;h.l<G&&h[h.l]!=13;)switch(H={},H.name=jf.utils.decode(B,h.slice(h.l,h.l+K)).replace(/[\u0000\r\n].*$/g,""),h.l+=K,H.type=String.fromCharCode(h.read_shift(1)),g!=2&&!S&&(H.offset=h.read_shift(4)),H.len=h.read_shift(1),g==2&&(H.offset=h.read_shift(2)),H.dec=h.read_shift(1),H.name.length&&k.push(H),g!=2&&(h.l+=S?13:14),H.type){case"B":(!T||H.len!=8)&&f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+H.type)}if(h[h.l]!==13&&(h.l=C-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=C;var R=0,N=0;for(d[0]=[],N=0;N!=k.length;++N)d[0][N]=k[N].name;for(;A-- >0;){if(h[h.l]===42){h.l+=P;continue}for(++h.l,d[++R]=[],N=0,N=0;N!=k.length;++N){var b=h.slice(h.l,h.l+k[N].len);h.l+=k[N].len,Tr(b,0);var F=jf.utils.decode(B,b);switch(k[N].type){case"C":F.trim().length&&(d[R][N]=F.replace(/\s+$/,""));break;case"D":F.length===8?d[R][N]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):d[R][N]=F;break;case"F":d[R][N]=parseFloat(F.trim());break;case"+":case"I":d[R][N]=S?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":d[R][N]=!0;break;case"N":case"F":d[R][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!v)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));d[R][N]="##MEMO##"+(S?parseInt(F.trim(),10):b.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(d[R][N]=+F||0);break;case"@":d[R][N]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":d[R][N]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":d[R][N]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[R][N]=-b.read_shift(-8,"f");break;case"B":if(T&&k[N].len==8){d[R][N]=b.read_shift(8,"f");break}case"G":case"P":b.l+=k[N].len;break;case"0":if(k[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[N].type)}}}if(g!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=k,d}function r(c,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var h=tu(n(c,d),d);return h["!cols"]=d.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete d.DBF,h}function i(c,f){try{return Io(r(c,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,f){var d=f||{};if(+d.codepage>=0&&us(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=Vv(),g=Jv(c,{header:1,raw:!0,cellDates:!0}),v=g[0],T=g.slice(1),S=c["!cols"]||[],A=0,C=0,P=0,B=1;for(A=0;A<v.length;++A){if(((S[A]||{}).DBF||{}).name){v[A]=S[A].DBF.name,++P;continue}if(v[A]!=null){if(++P,typeof v[A]=="number"&&(v[A]=v[A].toString(10)),typeof v[A]!="string")throw new Error("DBF Invalid column name "+v[A]+" |"+typeof v[A]+"|");if(v.indexOf(v[A])!==A){for(C=0;C<1024;++C)if(v.indexOf(v[A]+"_"+C)==-1){v[A]+="_"+C;break}}}}var k=Dn(c["!ref"]),H=[],G=[],K=[];for(A=0;A<=k.e.c-k.s.c;++A){var R="",N="",b=0,F=[];for(C=0;C<T.length;++C)T[C][A]!=null&&F.push(T[C][A]);if(F.length==0||v[A]==null){H[A]="?";continue}for(C=0;C<F.length;++C){switch(typeof F[C]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=F[C]instanceof Date?"D":"C";break;default:N="C"}b=Math.max(b,String(F[C]).length),R=R&&R!=N?"C":N}b>250&&(b=250),N=((S[A]||{}).DBF||{}).type,N=="C"&&S[A].DBF.len>b&&(b=S[A].DBF.len),R=="B"&&N=="N"&&(R="N",K[A]=S[A].DBF.dec,b=S[A].DBF.len),G[A]=R=="C"||N=="N"?b:s[R]||0,B+=G[A],H[A]=R}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,T.length),O.write_shift(2,296+32*P),O.write_shift(2,B),A=0;A<4;++A)O.write_shift(4,0);for(O.write_shift(4,0|(+e[Rb]||3)<<8),A=0,C=0;A<v.length;++A)if(v[A]!=null){var D=h.next(32),U=(v[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,U,"sbcs"),D.write_shift(1,H[A]=="?"?"C":H[A],"sbcs"),D.write_shift(4,C),D.write_shift(1,G[A]||s[H[A]]||0),D.write_shift(1,K[A]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),C+=G[A]||s[H[A]]||0}var fe=h.next(264);for(fe.write_shift(4,13),A=0;A<65;++A)fe.write_shift(4,0);for(A=0;A<T.length;++A){var ie=h.next(B);for(ie.write_shift(1,0),C=0;C<v.length;++C)if(v[C]!=null)switch(H[C]){case"L":ie.write_shift(1,T[A][C]==null?63:T[A][C]?84:70);break;case"B":ie.write_shift(8,T[A][C]||0,"f");break;case"N":var se="0";for(typeof T[A][C]=="number"&&(se=T[A][C].toFixed(K[C]||0)),P=0;P<G[C]-se.length;++P)ie.write_shift(1,32);ie.write_shift(1,se,"sbcs");break;case"D":T[A][C]?(ie.write_shift(4,("0000"+T[A][C].getFullYear()).slice(-4),"sbcs"),ie.write_shift(2,("00"+(T[A][C].getMonth()+1)).slice(-2),"sbcs"),ie.write_shift(2,("00"+T[A][C].getDate()).slice(-2),"sbcs")):ie.write_shift(8,"00000000","sbcs");break;case"C":var le=String(T[A][C]!=null?T[A][C]:"").slice(0,G[C]);for(ie.write_shift(1,le,"sbcs"),P=0;P<G[C]-le.length;++P)ie.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),TU=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ls(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(v,T){var S=t[T];return typeof S=="number"?M2(S):S},r=function(v,T,S){var A=T.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return A==59?v:M2(A)};t["|"]=254;function i(v,T){switch(T.type){case"base64":return s(bi(v),T);case"binary":return s(v,T);case"buffer":return s(Lt&&Buffer.isBuffer(v)?v.toString("binary"):Sl(v),T);case"array":return s(gl(v),T)}throw new Error("Unrecognized type "+T.type)}function s(v,T){var S=v.split(/[\n\r]+/),A=-1,C=-1,P=0,B=0,k=[],H=[],G=null,K={},R=[],N=[],b=[],F=0,O;for(+T.codepage>=0&&us(+T.codepage);P!==S.length;++P){F=0;var D=S[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=D.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),fe=U[0],ie;if(D.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&H.push(D.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,le=!1,ce=!1,ae=!1,Me=-1,W=-1;for(B=1;B<U.length;++B)switch(U[B].charAt(0)){case"A":break;case"X":C=parseInt(U[B].slice(1))-1,le=!0;break;case"Y":for(A=parseInt(U[B].slice(1))-1,le||(C=0),O=k.length;O<=A;++O)k[O]=[];break;case"K":ie=U[B].slice(1),ie.charAt(0)==='"'?ie=ie.slice(1,ie.length-1):ie==="TRUE"?ie=!0:ie==="FALSE"?ie=!1:isNaN(hs(ie))?isNaN(jc(ie).getDate())||(ie=fr(ie)):(ie=hs(ie),G!==null&&Qc(G)&&(ie=Ip(ie))),se=!0;break;case"E":ae=!0;var V=Pc(U[B].slice(1),{r:A,c:C});k[A][C]=[k[A][C],V];break;case"S":ce=!0,k[A][C]=[k[A][C],"S5S"];break;case"G":break;case"R":Me=parseInt(U[B].slice(1))-1;break;case"C":W=parseInt(U[B].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+D)}if(se&&(k[A][C]&&k[A][C].length==2?k[A][C][0]=ie:k[A][C]=ie,G=null),ce){if(ae)throw new Error("SYLK shared formula cannot have own formula");var X=Me>-1&&k[Me][W];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");k[A][C][1]=zN(X[1],{r:A-Me,c:C-W})}break;case"F":var ee=0;for(B=1;B<U.length;++B)switch(U[B].charAt(0)){case"X":C=parseInt(U[B].slice(1))-1,++ee;break;case"Y":for(A=parseInt(U[B].slice(1))-1,O=k.length;O<=A;++O)k[O]=[];break;case"M":F=parseInt(U[B].slice(1))/20;break;case"F":break;case"G":break;case"P":G=H[parseInt(U[B].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=U[B].slice(1).split(" "),O=parseInt(b[0],10);O<=parseInt(b[1],10);++O)F=parseInt(b[2],10),N[O-1]=F===0?{hidden:!0}:{wch:F},$c(N[O-1]);break;case"C":C=parseInt(U[B].slice(1))-1,N[C]||(N[C]={});break;case"R":A=parseInt(U[B].slice(1))-1,R[A]||(R[A]={}),F>0?(R[A].hpt=F,R[A].hpx=Zf(F)):F===0&&(R[A].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+D)}ee<1&&(G=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+D)}}return R.length>0&&(K["!rows"]=R),N.length>0&&(K["!cols"]=N),T&&T.sheetRows&&(k=k.slice(0,T.sheetRows)),[k,K]}function o(v,T){var S=i(v,T),A=S[0],C=S[1],P=tu(A,T);return Ls(C).forEach(function(B){P[B]=C[B]}),P}function c(v,T){return Io(o(v,T),T)}function f(v,T,S,A){var C="C;Y"+(S+1)+";X"+(A+1)+";K";switch(v.t){case"n":C+=v.v||0,v.f&&!v.F&&(C+=";E"+lV(v.f,{r:S,c:A}));break;case"b":C+=v.v?"TRUE":"FALSE";break;case"e":C+=v.w||v.v;break;case"d":C+='"'+(v.w||v.v)+'"';break;case"s":C+='"'+v.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function d(v,T){T.forEach(function(S,A){var C="F;W"+(A+1)+" "+(A+1)+" ";S.hidden?C+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Z0(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=X0(S.wpx)),typeof S.wch=="number"&&(C+=Math.round(S.wch))),C.charAt(C.length-1)!=" "&&v.push(C)})}function h(v,T){T.forEach(function(S,A){var C="F;";S.hidden?C+="M0;":S.hpt?C+="M"+20*S.hpt+";":S.hpx&&(C+="M"+20*UN(S.hpx)+";"),C.length>2&&v.push(C+"R"+(A+1))})}function g(v,T){var S=["ID;PWXL;N;E"],A=[],C=Dn(v["!ref"]),P,B=Array.isArray(v),k=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),v["!cols"]&&d(S,v["!cols"]),v["!rows"]&&h(S,v["!rows"]),S.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var H=C.s.r;H<=C.e.r;++H)for(var G=C.s.c;G<=C.e.c;++G){var K=_t({r:H,c:G});P=B?(v[H]||[])[G]:v[K],!(!P||P.v==null&&(!P.f||P.F))&&A.push(f(P,v,H,G))}return S.join(k)+k+A.join(k)+k+"E"+k}return{to_workbook:c,to_sheet:o,from_sheet:g}})(),wU=(function(){function t(s,o){switch(o.type){case"base64":return e(bi(s),o);case"binary":return e(s,o);case"buffer":return e(Lt&&Buffer.isBuffer(s)?s.toString("binary"):Sl(s),o);case"array":return e(gl(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),f=-1,d=-1,h=0,g=[];h!==c.length;++h){if(c[h].trim()==="BOT"){g[++f]=[],d=0;continue}if(!(f<0)){var v=c[h].trim().split(","),T=v[0],S=v[1];++h;for(var A=c[h]||"";(A.match(/["]/g)||[]).length&1&&h<c.length-1;)A+=`
`+c[++h];switch(A=A.trim(),+T){case-1:if(A==="BOT"){g[++f]=[],d=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?g[f][d]=!0:A==="FALSE"?g[f][d]=!1:isNaN(hs(S))?isNaN(jc(S).getDate())?g[f][d]=S:g[f][d]=fr(S):g[f][d]=hs(S),++d;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),g[f][d++]=A!==""?A:null;break}if(A==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(s,o){return tu(t(s,o),o)}function r(s,o){return Io(n(s,o),o)}var i=(function(){var s=function(f,d,h,g,v){f.push(d),f.push(h+","+g),f.push('"'+v.replace(/"/g,'""')+'"')},o=function(f,d,h,g){f.push(d+","+h),f.push(d==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var d=[],h=Dn(f["!ref"]),g,v=Array.isArray(f);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,h.e.r-h.s.r+1,""),s(d,"TUPLES",0,h.e.c-h.s.c+1,""),s(d,"DATA",0,0,"");for(var T=h.s.r;T<=h.e.r;++T){o(d,-1,0,"BOT");for(var S=h.s.c;S<=h.e.c;++S){var A=_t({r:T,c:S});if(g=v?(f[T]||[])[S]:f[A],!g){o(d,1,0,"");continue}switch(g.t){case"n":var C=g.w;!C&&g.v!=null&&(C=g.v),C==null?g.f&&!g.F?o(d,1,0,"="+g.f):o(d,1,0,""):o(d,0,C,"V");break;case"b":o(d,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=ji(g.z||St[14],Qr(fr(g.v)))),o(d,0,g.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var P=`\r
`,B=d.join(P);return B}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),SU=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,v){for(var T=g.split(`
`),S=-1,A=-1,C=0,P=[];C!==T.length;++C){var B=T[C].trim().split(":");if(B[0]==="cell"){var k=Zr(B[1]);if(P.length<=k.r)for(S=P.length;S<=k.r;++S)P[S]||(P[S]=[]);switch(S=k.r,A=k.c,B[2]){case"t":P[S][A]=t(B[3]);break;case"v":P[S][A]=+B[3];break;case"vtf":var H=B[B.length-1];case"vtc":B[3]==="nl"?P[S][A]=!!+B[4]:P[S][A]=+B[4],B[2]=="vtf"&&(P[S][A]=[P[S][A],H])}}}return v&&v.sheetRows&&(P=P.slice(0,v.sheetRows)),P}function r(g,v){return tu(n(g,v),v)}function i(g,v){return Io(r(g,v),v)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(g){if(!g||!g["!ref"])return"";for(var v=[],T=[],S,A="",C=eu(g["!ref"]),P=Array.isArray(g),B=C.s.r;B<=C.e.r;++B)for(var k=C.s.c;k<=C.e.c;++k)if(A=_t({r:B,c:k}),S=P?(g[B]||[])[k]:g[A],!(!S||S.v==null||S.t==="z")){switch(T=["cell",A,"t"],S.t){case"s":case"str":T.push(e(S.v));break;case"n":S.f?(T[2]="vtf",T[3]="n",T[4]=S.v,T[5]=e(S.f)):(T[2]="v",T[3]=S.v);break;case"b":T[2]="vt"+(S.f?"f":"c"),T[3]="nl",T[4]=S.v?"1":"0",T[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var H=Qr(fr(S.v));T[2]="vtc",T[3]="nd",T[4]=""+H,T[5]=S.w||ji(S.z||St[14],H);break;case"e":continue}v.push(T.join(":"))}return v.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),v.push("valueformat:1:text-wiki"),v.join(`
`)}function h(g){return[s,o,c,o,d(g),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),Yf=(function(){function t(h,g,v,T,S){S.raw?g[v][T]=h:h===""||(h==="TRUE"?g[v][T]=!0:h==="FALSE"?g[v][T]=!1:isNaN(hs(h))?isNaN(jc(h).getDate())?g[v][T]=h:g[v][T]=fr(h):g[v][T]=hs(h))}function e(h,g){var v=g||{},T=[];if(!h||h.length===0)return T;for(var S=h.split(/[\r\n]/),A=S.length-1;A>=0&&S[A].length===0;)--A;for(var C=10,P=0,B=0;B<=A;++B)P=S[B].indexOf(" "),P==-1?P=S[B].length:P++,C=Math.max(C,P);for(B=0;B<=A;++B){T[B]=[];var k=0;for(t(S[B].slice(0,C).trim(),T,B,k,v),k=1;k<=(S[B].length-C)/10+1;++k)t(S[B].slice(C+(k-1)*10,C+k*10).trim(),T,B,k,v)}return v.sheetRows&&(T=T.slice(0,v.sheetRows)),T}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var g={},v=!1,T=0,S=0;T<h.length;++T)(S=h.charCodeAt(T))==34?v=!v:!v&&S in n&&(g[S]=(g[S]||0)+1);S=[];for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&S.push([g[T],T]);if(!S.length){g=r;for(T in g)Object.prototype.hasOwnProperty.call(g,T)&&S.push([g[T],T])}return S.sort(function(A,C){return A[0]-C[0]||r[A[1]]-r[C[1]]}),n[S.pop()[1]]||44}function s(h,g){var v=g||{},T="",S=v.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(T=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(T=h.charAt(4),h=h.slice(6)):T=i(h.slice(0,1024)):v&&v.FS?T=v.FS:T=i(h.slice(0,1024));var C=0,P=0,B=0,k=0,H=0,G=T.charCodeAt(0),K=!1,R=0,N=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var b=v.dateNF!=null?F5(v.dateNF):null;function F(){var O=h.slice(k,H),D={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)D.t="z";else if(v.raw)D.t="s",D.v=O;else if(O.trim().length===0)D.t="s",D.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(D.t="s",D.v=O.slice(2,-1).replace(/""/g,'"')):uV(O)?(D.t="n",D.f=O.slice(1)):(D.t="s",D.v=O);else if(O=="TRUE")D.t="b",D.v=!0;else if(O=="FALSE")D.t="b",D.v=!1;else if(!isNaN(B=hs(O)))D.t="n",v.cellText!==!1&&(D.w=O),D.v=B;else if(!isNaN(jc(O).getDate())||b&&O.match(b)){D.z=v.dateNF||St[14];var U=0;b&&O.match(b)&&(O=O5(O,v.dateNF,O.match(b)||[]),U=1),v.cellDates?(D.t="d",D.v=fr(O,U)):(D.t="n",D.v=Qr(fr(O,U))),v.cellText!==!1&&(D.w=ji(D.z,D.v instanceof Date?Qr(D.v):D.v)),v.cellNF||delete D.z}else D.t="s",D.v=O;if(D.t=="z"||(v.dense?(S[C]||(S[C]=[]),S[C][P]=D):S[_t({c:P,r:C})]=D),k=H+1,N=h.charCodeAt(k),A.e.c<P&&(A.e.c=P),A.e.r<C&&(A.e.r=C),R==G)++P;else if(P=0,++C,v.sheetRows&&v.sheetRows<=C)return!0}e:for(;H<h.length;++H)switch(R=h.charCodeAt(H)){case 34:N===34&&(K=!K);break;case G:case 10:case 13:if(!K&&F())break e;break}return H-k>0&&F(),S["!ref"]=Ht(A),S}function o(h,g){return!(g&&g.PRN)||g.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,g):tu(e(h,g),g)}function c(h,g){var v="",T=g.type=="string"?[0,0,0,0]:Cx(h,g);switch(g.type){case"base64":v=bi(h);break;case"binary":v=h;break;case"buffer":g.codepage==65001?v=h.toString("utf8"):g.codepage&&typeof jf<"u"||(v=Lt&&Buffer.isBuffer(h)?h.toString("binary"):Sl(h));break;case"array":v=gl(h);break;case"string":v=h;break;default:throw new Error("Unrecognized type "+g.type)}return T[0]==239&&T[1]==187&&T[2]==191?v=pn(v.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?v=pn(v):g.type=="binary"&&typeof jf<"u",v.slice(0,19)=="socialcalc:version:"?SU.to_sheet(g.type=="string"?v:pn(v),g):o(v,g)}function f(h,g){return Io(c(h,g),g)}function d(h){for(var g=[],v=Dn(h["!ref"]),T,S=Array.isArray(h),A=v.s.r;A<=v.e.r;++A){for(var C=[],P=v.s.c;P<=v.e.c;++P){var B=_t({r:A,c:P});if(T=S?(h[A]||[])[P]:h[B],!T||T.v==null){C.push("          ");continue}for(var k=(T.w||(ma(T),T.w)||"").slice(0,10);k.length<10;)k+=" ";C.push(k+(P===0?" ":""))}g.push(C.join(""))}return g.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:d}})();function AU(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=TU.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Yf.to_workbook(t,e)}}var Rf=(function(){function t(V,X,ee){if(V){Tr(V,V.l||0);for(var ne=ee.Enum||Me;V.l<V.length;){var he=V.read_shift(2),me=ne[he]||ne[65535],Ne=V.read_shift(2),Ce=V.l+Ne,ke=me.f&&me.f(V,Ne,ee);if(V.l=Ce,X(ke,me,he))return}}}function e(V,X){switch(X.type){case"base64":return n(cs(bi(V)),X);case"binary":return n(cs(V),X);case"buffer":case"array":return n(V,X)}throw"Unsupported type "+X.type}function n(V,X){if(!V)return V;var ee=X||{},ne=ee.dense?[]:{},he="Sheet1",me="",Ne=0,Ce={},ke=[],$e=[],re={s:{r:0,c:0},e:{r:0,c:0}},ht=ee.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)ee.Enum=Me,t(V,function(Be,nt,rt){switch(rt){case 0:ee.vers=Be,Be>=4096&&(ee.qpro=!0);break;case 6:re=Be;break;case 204:Be&&(me=Be);break;case 222:me=Be;break;case 15:case 51:ee.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:rt==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=ee.dateNF||St[14],ee.cellDates&&(Be[1].t="d",Be[1].v=Ip(Be[1].v))),ee.qpro&&Be[3]>Ne&&(ne["!ref"]=Ht(re),Ce[he]=ne,ke.push(he),ne=ee.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Ne=Be[3],he=me||"Sheet"+(Ne+1),me="");var ft=ee.dense?(ne[Be[0].r]||[])[Be[0].c]:ne[_t(Be[0])];if(ft){ft.t=Be[1].t,ft.v=Be[1].v,Be[1].z!=null&&(ft.z=Be[1].z),Be[1].f!=null&&(ft.f=Be[1].f);break}ee.dense?(ne[Be[0].r]||(ne[Be[0].r]=[]),ne[Be[0].r][Be[0].c]=Be[1]):ne[_t(Be[0])]=Be[1];break}},ee);else if(V[2]==26||V[2]==14)ee.Enum=W,V[2]==14&&(ee.qpro=!0,V.l=0),t(V,function(Be,nt,rt){switch(rt){case 204:he=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>Ne&&(ne["!ref"]=Ht(re),Ce[he]=ne,ke.push(he),ne=ee.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Ne=Be[3],he="Sheet"+(Ne+1)),ht>0&&Be[0].r>=ht)break;ee.dense?(ne[Be[0].r]||(ne[Be[0].r]=[]),ne[Be[0].r][Be[0].c]=Be[1]):ne[_t(Be[0])]=Be[1],re.e.c<Be[0].c&&(re.e.c=Be[0].c),re.e.r<Be[0].r&&(re.e.r=Be[0].r);break;case 27:Be[14e3]&&($e[Be[14e3][0]]=Be[14e3][1]);break;case 1537:$e[Be[0]]=Be[1],Be[0]==Ne&&(he=Be[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(ne["!ref"]=Ht(re),Ce[me||he]=ne,ke.push(me||he),!$e.length)return{SheetNames:ke,Sheets:Ce};for(var Ye={},Ge=[],He=0;He<$e.length;++He)Ce[ke[He]]?(Ge.push($e[He]||ke[He]),Ye[$e[He]]=Ce[$e[He]]||Ce[ke[He]]):(Ge.push($e[He]),Ye[$e[He]]={"!ref":"A1"});return{SheetNames:Ge,Sheets:Ye}}function r(V,X){var ee=X||{};if(+ee.codepage>=0&&us(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=Vv(),he=Dn(V["!ref"]),me=Array.isArray(V),Ne=[];ls(ne,0,s(1030)),ls(ne,6,f(he));for(var Ce=Math.min(he.e.r,8191),ke=he.s.r;ke<=Ce;++ke)for(var $e=Ar(ke),re=he.s.c;re<=he.e.c;++re){ke===he.s.r&&(Ne[re]=nr(re));var ht=Ne[re]+$e,Ye=me?(V[ke]||[])[re]:V[ht];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")(Ye.v|0)==Ye.v&&Ye.v>=-32768&&Ye.v<=32767?ls(ne,13,T(ke,re,Ye.v)):ls(ne,14,A(ke,re,Ye.v));else{var Ge=ma(Ye);ls(ne,15,g(ke,re,Ge.slice(0,239)))}}return ls(ne,1),ne.end()}function i(V,X){var ee=X||{};if(+ee.codepage>=0&&us(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=Vv();ls(ne,0,o(V));for(var he=0,me=0;he<V.SheetNames.length;++he)(V.Sheets[V.SheetNames[he]]||{})["!ref"]&&ls(ne,27,ae(V.SheetNames[he],me++));var Ne=0;for(he=0;he<V.SheetNames.length;++he){var Ce=V.Sheets[V.SheetNames[he]];if(!(!Ce||!Ce["!ref"])){for(var ke=Dn(Ce["!ref"]),$e=Array.isArray(Ce),re=[],ht=Math.min(ke.e.r,8191),Ye=ke.s.r;Ye<=ht;++Ye)for(var Ge=Ar(Ye),He=ke.s.c;He<=ke.e.c;++He){Ye===ke.s.r&&(re[He]=nr(He));var Be=re[He]+Ge,nt=$e?(Ce[Ye]||[])[He]:Ce[Be];if(!(!nt||nt.t=="z"))if(nt.t=="n")ls(ne,23,F(Ye,He,Ne,nt.v));else{var rt=ma(nt);ls(ne,22,R(Ye,He,Ne,rt.slice(0,239)))}}++Ne}}return ls(ne,1),ne.end()}function s(V){var X=er(2);return X.write_shift(2,V),X}function o(V){var X=er(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var ee=0,ne=0,he=0,me=0;me<V.SheetNames.length;++me){var Ne=V.SheetNames[me],Ce=V.Sheets[Ne];if(!(!Ce||!Ce["!ref"])){++he;var ke=eu(Ce["!ref"]);ee<ke.e.r&&(ee=ke.e.r),ne<ke.e.c&&(ne=ke.e.c)}}return ee>8191&&(ee=8191),X.write_shift(2,ee),X.write_shift(1,he),X.write_shift(1,ne),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function c(V,X,ee){var ne={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&ee.qpro?(ne.s.c=V.read_shift(1),V.l++,ne.s.r=V.read_shift(2),ne.e.c=V.read_shift(1),V.l++,ne.e.r=V.read_shift(2),ne):(ne.s.c=V.read_shift(2),ne.s.r=V.read_shift(2),X==12&&ee.qpro&&(V.l+=2),ne.e.c=V.read_shift(2),ne.e.r=V.read_shift(2),X==12&&ee.qpro&&(V.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function f(V){var X=er(8);return X.write_shift(2,V.s.c),X.write_shift(2,V.s.r),X.write_shift(2,V.e.c),X.write_shift(2,V.e.r),X}function d(V,X,ee){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(ne[0].c=V.read_shift(1),ne[3]=V.read_shift(1),ne[0].r=V.read_shift(2),V.l+=2):(ne[2]=V.read_shift(1),ne[0].c=V.read_shift(2),ne[0].r=V.read_shift(2)),ne}function h(V,X,ee){var ne=V.l+X,he=d(V,X,ee);if(he[1].t="s",ee.vers==20768){V.l++;var me=V.read_shift(1);return he[1].v=V.read_shift(me,"utf8"),he}return ee.qpro&&V.l++,he[1].v=V.read_shift(ne-V.l,"cstr"),he}function g(V,X,ee){var ne=er(7+ee.length);ne.write_shift(1,255),ne.write_shift(2,X),ne.write_shift(2,V),ne.write_shift(1,39);for(var he=0;he<ne.length;++he){var me=ee.charCodeAt(he);ne.write_shift(1,me>=128?95:me)}return ne.write_shift(1,0),ne}function v(V,X,ee){var ne=d(V,X,ee);return ne[1].v=V.read_shift(2,"i"),ne}function T(V,X,ee){var ne=er(7);return ne.write_shift(1,255),ne.write_shift(2,X),ne.write_shift(2,V),ne.write_shift(2,ee,"i"),ne}function S(V,X,ee){var ne=d(V,X,ee);return ne[1].v=V.read_shift(8,"f"),ne}function A(V,X,ee){var ne=er(13);return ne.write_shift(1,255),ne.write_shift(2,X),ne.write_shift(2,V),ne.write_shift(8,ee,"f"),ne}function C(V,X,ee){var ne=V.l+X,he=d(V,X,ee);if(he[1].v=V.read_shift(8,"f"),ee.qpro)V.l=ne;else{var me=V.read_shift(2);H(V.slice(V.l,V.l+me),he),V.l+=me}return he}function P(V,X,ee){var ne=X&32768;return X&=-32769,X=(ne?V:0)+(X>=8192?X-16384:X),(ne?"":"$")+(ee?nr(X):Ar(X))}var B={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function H(V,X){Tr(V,0);for(var ee=[],ne=0,he="",me="",Ne="",Ce="";V.l<V.length;){var ke=V[V.l++];switch(ke){case 0:ee.push(V.read_shift(8,"f"));break;case 1:me=P(X[0].c,V.read_shift(2),!0),he=P(X[0].r,V.read_shift(2),!1),ee.push(me+he);break;case 2:{var $e=P(X[0].c,V.read_shift(2),!0),re=P(X[0].r,V.read_shift(2),!1);me=P(X[0].c,V.read_shift(2),!0),he=P(X[0].r,V.read_shift(2),!1),ee.push($e+re+":"+me+he)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(V.read_shift(2));break;case 6:{for(var ht="";ke=V[V.l++];)ht+=String.fromCharCode(ke);ee.push('"'+ht.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:Ce=ee.pop(),Ne=ee.pop(),ee.push(["AND","OR"][ke-20]+"("+Ne+","+Ce+")");break;default:if(ke<32&&k[ke])Ce=ee.pop(),Ne=ee.pop(),ee.push(Ne+k[ke]+Ce);else if(B[ke]){if(ne=B[ke][1],ne==69&&(ne=V[V.l++]),ne>ee.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+ee.join("|")+"|");return}var Ye=ee.slice(-ne);ee.length-=ne,ee.push(B[ke][0]+"("+Ye.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}ee.length==1?X[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function G(V){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=V.read_shift(2),X[3]=V[V.l++],X[0].c=V[V.l++],X}function K(V,X){var ee=G(V);return ee[1].t="s",ee[1].v=V.read_shift(X-4,"cstr"),ee}function R(V,X,ee,ne){var he=er(6+ne.length);he.write_shift(2,V),he.write_shift(1,ee),he.write_shift(1,X),he.write_shift(1,39);for(var me=0;me<ne.length;++me){var Ne=ne.charCodeAt(me);he.write_shift(1,Ne>=128?95:Ne)}return he.write_shift(1,0),he}function N(V,X){var ee=G(V);ee[1].v=V.read_shift(2);var ne=ee[1].v>>1;if(ee[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return ee[1].v=ne,ee}function b(V,X){var ee=G(V),ne=V.read_shift(4),he=V.read_shift(4),me=V.read_shift(2);if(me==65535)return ne===0&&he===3221225472?(ee[1].t="e",ee[1].v=15):ne===0&&he===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var Ne=me&32768;return me=(me&32767)-16446,ee[1].v=(1-Ne*2)*(he*Math.pow(2,me+32)+ne*Math.pow(2,me)),ee}function F(V,X,ee,ne){var he=er(14);if(he.write_shift(2,V),he.write_shift(1,ee),he.write_shift(1,X),ne==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var me=0,Ne=0,Ce=0,ke=0;return ne<0&&(me=1,ne=-ne),Ne=Math.log2(ne)|0,ne/=Math.pow(2,Ne-31),ke=ne>>>0,(ke&2147483648)==0&&(ne/=2,++Ne,ke=ne>>>0),ne-=ke,ke|=2147483648,ke>>>=0,ne*=Math.pow(2,32),Ce=ne>>>0,he.write_shift(4,Ce),he.write_shift(4,ke),Ne+=16383+(me?32768:0),he.write_shift(2,Ne),he}function O(V,X){var ee=b(V);return V.l+=X-14,ee}function D(V,X){var ee=G(V),ne=V.read_shift(4);return ee[1].v=ne>>6,ee}function U(V,X){var ee=G(V),ne=V.read_shift(8,"f");return ee[1].v=ne,ee}function fe(V,X){var ee=U(V);return V.l+=X-10,ee}function ie(V,X){return V[V.l+X-1]==0?V.read_shift(X,"cstr"):""}function se(V,X){var ee=V[V.l++];ee>X-1&&(ee=X-1);for(var ne="";ne.length<ee;)ne+=String.fromCharCode(V[V.l++]);return ne}function le(V,X,ee){if(!(!ee.qpro||X<21)){var ne=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var he=V.read_shift(X-21,"cstr");return[ne,he]}}function ce(V,X){for(var ee={},ne=V.l+X;V.l<ne;){var he=V.read_shift(2);if(he==14e3){for(ee[he]=[0,""],ee[he][0]=V.read_shift(2);V[V.l];)ee[he][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return ee}function ae(V,X){var ee=er(5+V.length);ee.write_shift(2,14e3),ee.write_shift(2,X);for(var ne=0;ne<V.length;++ne){var he=V.charCodeAt(ne);ee[ee.l++]=he>127?95:he}return ee[ee.l++]=0,ee}var Me={0:{n:"BOF",f:Wn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:v},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ie},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function CU(t){var e={},n=t.match(Hr),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=mt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=nx[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var bU=(function(){var t=Kf("t"),e=Kf("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var c={t:"s",v:Gt(o[1])},f=s.match(e);return f&&(c.s=CU(f[1])),c}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(c){return c.v})}})(),NU=(function(){var e=/(\r\n|\n)/g;function n(i,s,o){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var f=i.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(s.push("<"+f+">"),o.push("</"+f+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),IU=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,RU=/<(?:\w+:)?r>/,kU=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function yx(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Gt(pn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=pn(t),n&&(r.h=cx(r.t))):t.match(RU)&&(r.r=pn(t),r.t=Gt(pn((t.replace(kU,"").match(IU)||[]).join("").replace(Hr,""))),n&&(r.h=NU(bU(r.r)))),r):{t:""}}var DU=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,MU=/<(?:\w+:)?(?:si|sstItem)>/g,PU=/<\/(?:\w+:)?(?:si|sstItem)>/;function FU(t,e){var n=[],r="";if(!t)return n;var i=t.match(DU);if(i){r=i[2].replace(MU,"").split(PU);for(var s=0;s!=r.length;++s){var o=yx(r[s].trim(),e);o!=null&&(n[n.length]=o)}i=mt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function OU(t){return[t.read_shift(4),t.read_shift(4)]}function LU(t,e){var n=[],r=!1;return _a(t,function(s,o,c){switch(c){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function DN(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function ua(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function UU(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=ua(t,4),e.U=ua(t,4),e.W=ua(t,4),e}function VU(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function BU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(VU(t));return e}function zU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function HU(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=ua(t,4),e.U=ua(t,4),e.W=ua(t,4),e}function GU(t){var e=HU(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function MN(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function PN(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function qU(t){var e=ua(t);switch(e.Minor){case 2:return[e.Minor,jU(t)];case 3:return[e.Minor,$U()];case 4:return[e.Minor,KU(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function jU(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=MN(t,n),i=PN(t,t.length-t.l);return{t:"Std",h:r,v:i}}function $U(){throw new Error("File is password-protected: ECMA-376 Extensible")}function KU(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Hr,function(s){var o=mt(s);switch(Bs(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){r[c]=o[c]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function JU(t,e){var n={},r=n.EncryptionVersionInfo=ua(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=MN(t,i),e-=i,n.EncryptionVerifier=PN(t,e),n}function YU(t){var e={},n=e.EncryptionVersionInfo=ua(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function WU(t){var e=0,n,r=DN(t),i=r.length+1,s,o,c,f,d;for(n=xo(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],c=(e&16384)===0?0:1,f=e<<1&32767,d=c|f,e=d^o;return e^52811}var FN=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,c){return r(o^c)},s=function(o){for(var c=e[o.length-1],f=104,d=o.length-1;d>=0;--d)for(var h=o[d],g=0;g!=7;++g)h&64&&(c^=n[f]),h*=2,--f;return c};return function(o){for(var c=DN(o),f=s(c),d=c.length,h=xo(16),g=0;g!=16;++g)h[g]=0;var v,T,S;for((d&1)===1&&(v=f>>8,h[d]=i(t[0],v),--d,v=f&255,T=c[c.length-1],h[d]=i(T,v));d>0;)--d,v=f>>8,h[d]=i(c[d],v),--d,v=f&255,h[d]=i(c[d],v);for(d=15,S=15-c.length;S>0;)v=f>>8,h[d]=i(t[S],v),--d,--S,v=f&255,h[d]=i(c[d],v),--d,--S;return h}})(),ZU=function(t,e,n,r,i){i||(i=e),r||(r=FN(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},XU=function(t){var e=0,n=FN(t);return function(r){var i=ZU("",r,e,n);return e=i[1],i[0]}};function QU(t,e,n,r){var i={key:Wn(t),verificationBytes:Wn(t)};return n.password&&(i.verifier=WU(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=XU(n.password)),i}function e9(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=YU(t):r.Data=JU(t,e),r}function t9(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?e9(t,e-2,r):QU(t,n.biff>=8?e:e-2,n,r),r}var n9=(function(){function t(i,s){switch(s.type){case"base64":return e(bi(i),s);case"binary":return e(i,s);case"buffer":return e(Lt&&Buffer.isBuffer(i)?i.toString("binary"):Sl(i),s);case"array":return e(gl(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},c=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(h,g){Array.isArray(c)&&(c[g]=[]);for(var v=/\\\w+\b/g,T=0,S,A=-1;S=v.exec(h);){switch(S[0]){case"\\cell":var C=h.slice(T,v.lastIndex-S[0].length);if(C[0]==" "&&(C=C.slice(1)),++A,C.length){var P={v:C,t:"s"};Array.isArray(c)?c[g][A]=P:c[_t({r:g,c:A})]=P}break}T=v.lastIndex}A>d.e.c&&(d.e.c=A)}),c["!ref"]=Ht(d),c}function n(i,s){return Io(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Dn(i["!ref"]),c,f=Array.isArray(i),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var g=_t({r:d,c:h});c=f?(i[d]||[])[h]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(ma(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function r9(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Wf(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function i9(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(o===0)return[0,0,e];var c=0,f=0,d=i+s;switch(f=o/(d>1?2-d:d),i){case e:c=((n-r)/o+6)%6;break;case n:c=(r-e)/o+2;break;case r:c=(e-n)/o+4;break}return[c/6,f,d/2]}function s9(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],c=6*e,f;if(n!==0)switch(c|0){case 0:case 6:f=i*c,o[0]+=i,o[1]+=f;break;case 1:f=i*(2-c),o[0]+=f,o[1]+=i;break;case 2:f=i*(c-2),o[1]+=i,o[2]+=f;break;case 3:f=i*(4-c),o[1]+=f,o[2]+=i;break;case 4:f=i*(c-4),o[2]+=i,o[0]+=f;break;case 5:f=i*(6-c),o[2]+=f,o[0]+=i;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function W0(t,e){if(e===0)return t;var n=i9(r9(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Wf(s9(n))}var ON=6,a9=15,o9=1,Wr=ON;function Z0(t){return Math.floor((t+Math.round(128/Wr)/256)*Wr)}function X0(t){return Math.floor((t-5)/Wr*100+.5)/100}function Gv(t){return Math.round((t*Wr+5)/Wr*256)/256}function ov(t){return Gv(X0(Z0(t)))}function _x(t){var e=Math.abs(t-ov(t)),n=Wr;if(e>.005)for(Wr=o9;Wr<a9;++Wr)Math.abs(t-ov(t))<=e&&(e=Math.abs(t-ov(t)),n=Wr);Wr=n}function $c(t){t.width?(t.wpx=Z0(t.width),t.wch=X0(t.wpx),t.MDW=Wr):t.wpx?(t.wch=X0(t.wpx),t.width=Gv(t.wch),t.MDW=Wr):typeof t.wch=="number"&&(t.width=Gv(t.wch),t.wpx=Z0(t.width),t.MDW=Wr),t.customWidth&&delete t.customWidth}var l9=96,LN=l9;function UN(t){return t*96/LN}function Zf(t){return t*LN/96}var c9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function u9(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Hr)||[]).forEach(function(o){var c=mt(o);switch(Bs(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=Tn(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=Tn(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function f9(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Hr)||[]).forEach(function(o){var c=mt(o);switch(Bs(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function d9(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Hr)||[]).forEach(function(o){var c=mt(o);switch(Bs(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=pn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?Tn(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?Tn(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?Tn(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?Tn(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?Tn(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?Tn(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?Tn(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=nx[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=Tn(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var f=ul[i.color.index];i.color.index==81&&(f=ul[1]),f||(f=ul[1]),i.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=W0(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function h9(t,e,n){e.NumberFmt=[];for(var r=Ls(St),i=0;i<r.length;++i)e.NumberFmt[r[i]]=St[r[i]];var s=t[0].match(Hr);if(s)for(i=0;i<s.length;++i){var o=mt(s[i]);switch(Bs(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Gt(pn(o.formatCode)),f=parseInt(o.numFmtId,10);if(e.NumberFmt[f]=c,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=c}cl(c,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var e0=["numFmtId","fillId","fontId","borderId","xfId"],t0=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function p9(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Hr)||[]).forEach(function(s){var o=mt(s),c=0;switch(Bs(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],c=0;c<e0.length;++c)r[e0[c]]&&(r[e0[c]]=parseInt(r[e0[c]],10));for(c=0;c<t0.length;++c)r[t0[c]]&&(r[t0[c]]=Tn(r[t0[c]]));if(e.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[c]){r.numFmtId=c;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};o.vertical&&(f.vertical=o.vertical),o.horizontal&&(f.horizontal=o.horizontal),o.textRotation!=null&&(f.textRotation=o.textRotation),o.indent&&(f.indent=o.indent),o.wrapText&&(f.wrapText=Tn(o.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var m9=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,f,d){var h={};if(!c)return h;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=c.match(e))&&h9(g,h,d),(g=c.match(i))&&d9(g,h,f,d),(g=c.match(r))&&f9(g,h,f,d),(g=c.match(s))&&u9(g,h,f,d),(g=c.match(n))&&p9(g,h,d),h}})();function g9(t,e){var n=t.read_shift(2),r=Br(t);return[n,r]}function v9(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=bL(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var c=t.read_shift(1);c>0&&(r.family=c);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=CL(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Br(t),r}var x9=zr;function y9(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var _9=zr;function E9(t,e,n){var r={};r.NumberFmt=[];for(var i in St)r.NumberFmt[i]=St[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return _a(t,function(f,d,h){switch(h){case 44:r.NumberFmt[f[0]]=f[1],cl(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=W0(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(h),o=!0;break;case 38:s.pop(),o=!1;break;default:if(d.T>0)s.push(h);else if(d.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}var T9=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function w9(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Hr)||[]).forEach(function(i){var s=mt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[T9.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function S9(){}function A9(){}var C9=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,b9=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,N9=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function I9(t,e,n){e.themeElements={};var r;[["clrScheme",C9,w9],["fontScheme",b9,S9],["fmtScheme",N9,A9]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var R9=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function VN(t,e){(!t||t.length===0)&&(t=k9());var n,r={};if(!(n=t.match(R9)))throw new Error("themeElements not found in theme");return I9(n[0],r,e),r.raw=t,r}function k9(t,e){var n=[Wb];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function D9(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var o;try{o=Yb(s,{type:"array"})}catch{return}var c=Ci(o,"theme/theme/theme1.xml",!0);if(c)return VN(c,n)}}function M9(t){return t.read_shift(4)}function P9(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=F9(t,4);break;case 2:e.xclrValue=AN(t);break;case 3:e.xclrValue=M9(t);break;case 4:t.l+=4;break}return t.l+=8,e}function F9(t,e){return zr(t,e)}function O9(t,e){return zr(t,e)}function L9(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=P9(t);break;case 6:r[1]=O9(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function U9(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(L9(t,n-t.l));return{ixfe:r,ext:s}}function V9(t,e){e.forEach(function(n){n[0]})}function B9(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Br(t)}}function z9(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function H9(t){return t.l+=4,t.read_shift(4)!=0}function G9(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,c=2;return _a(t,function(f,d,h){switch(h){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(g){c==1?r.Cell.push({type:r.Types[g[0]-1].name,index:g[1]}):c==0&&r.Value.push({type:r.Types[g[0]-1].name,index:g[1]})});break;case 337:c=f?1:0;break;case 338:c=2;break;case 35:s.push(h),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!d.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function q9(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,o;return t.replace(Hr,function(c){var f=mt(c);switch(Bs(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==f.name&&(o=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):s==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+f.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return c}),r}function j9(t){var e=[];if(!t)return e;var n=1;return(t.match(Hr)||[]).forEach(function(r){var i=mt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function $9(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=_t(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function K9(t,e,n){var r=[];return _a(t,function(s,o,c){switch(c){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function J9(t,e,n,r){if(!t)return t;var i=r||{},s=!1;_a(t,function(c,f,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!f.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},i)}function Y9(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function xw(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(o){var c=Zr(o.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[o.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[o.ref]=s;var f=Dn(t["!ref"]||"BDWGO1000001:A1");f.s.r>c.r&&(f.s.r=c.r),f.e.r<c.r&&(f.e.r=c.r),f.s.c>c.c&&(f.s.c=c.c),f.e.c<c.c&&(f.e.c=c.c);var d=Ht(f);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var h={a:o.author,t:o.t,r:o.r,T:n};o.h&&(h.h=o.h);for(var g=s.c.length-1;g>=0;--g){if(!n&&s.c[g].T)return;n&&!s.c[g].T&&s.c.splice(g,1)}if(n&&r){for(g=0;g<r.length;++g)if(h.a==r[g].id){h.a=r[g].name||h.a;break}}s.c.push(h)})}function W9(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var f=mt(c[0]),d={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},h=Zr(f.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),v=!!g&&!!g[1]&&yx(g[1])||{r:"",t:"",h:""};d.r=v.r,v.r=="<t></t>"&&(v.t=v.h=""),d.t=(v.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=v.h),r.push(d)}}}}),r}function Z9(t,e){var n=[],r=!1,i={},s=0;return t.replace(Hr,function(c,f){var d=mt(c);switch(Bs(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=f+c.length;break;case"</text>":i.t=t.slice(s,f).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function X9(t,e){var n=[],r=!1;return t.replace(Hr,function(s){var o=mt(s);switch(Bs(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function Q9(t){var e={};e.iauthor=t.read_shift(4);var n=Cl(t);return e.rfx=n.s,e.ref=_t(n.s),t.l+=16,e}var eV=Br;function tV(t,e){var n=[],r=[],i={},s=!1;return _a(t,function(c,f,d){switch(d){case 632:r.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var nV="application/vnd.ms-office.vbaProject";function rV(t){var e=zt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");zt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),zt.write(e)}function iV(){return{"!type":"dialog"}}function sV(){return{"!type":"dialog"}}function aV(){return{"!type":"macro"}}function oV(){return{"!type":"macro"}}var Pc=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return c?h+=e.c:--h,f?d+=e.r:--d,i+(c?"":"$")+nr(h)+(f?"":"$")+Ar(d)}return function(i,s){return e=s,i.replace(t,n)}})(),BN=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,lV=(function(){return function(e,n){return e.replace(BN,function(r,i,s,o,c,f){var d=hx(o)-(s?0:n.c),h=dx(f)-(c?0:n.r),g=h==0?"":c?h+1:"["+h+"]",v=d==0?"":s?d+1:"["+d+"]";return i+"R"+g+"C"+v})}})();function zN(t,e){return t.replace(BN,function(n,r,i,s,o,c){return r+(i=="$"?i+s:nr(hx(s)+e.c))+(o=="$"?o+c:Ar(dx(c)+e.r))})}function cV(t,e,n){var r=eu(e),i=r.s,s=Zr(n),o={r:s.r-i.r,c:s.c-i.c};return zN(t,o)}function uV(t){return t.length!=1}function yw(t){return t.replace(/_xlfn\./g,"")}function Kn(t){t.l+=1}function yo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function HN(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return GN(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=yo(t),c=yo(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function GN(t){var e=yo(t),n=yo(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function fV(t,e,n){if(n.biff<8)return GN(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=yo(t),o=yo(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function qN(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return dV(t);var r=t.read_shift(n&&n.biff==12?4:2),i=yo(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function dV(t){var e=yo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function hV(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function pV(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return mV(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:c}}function mV(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function gV(t,e,n){var r=(t[t.l++]&96)>>5,i=HN(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function vV(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=HN(t,s,n);return[r,i,o]}function xV(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function yV(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function _V(t,e,n){var r=(t[t.l++]&96)>>5,i=fV(t,e-1,n);return[r,i]}function EV(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function _w(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function TV(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function wV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function SV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function AV(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function CV(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function jN(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function bV(t){return t.read_shift(2),jN(t)}function NV(t){return t.read_shift(2),jN(t)}function IV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=qN(t,0,n);return[r,i]}function RV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=pV(t,0,n);return[r,i]}function kV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=qN(t,0,n);return[r,i,s]}function DV(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[M7[i],JN[i],r]}function MV(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:PV(t);return[i,(s[0]===0?JN:D7)[s[1]]]}function PV(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function FV(t,e,n){t.l+=n&&n.biff==2?3:4}function OV(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function LV(t){return t.l++,bl[t.read_shift(1)]}function UV(t){return t.l++,t.read_shift(2)}function VV(t){return t.l++,t.read_shift(1)!==0}function BV(t){return t.l++,Lr(t)}function zV(t,e,n){return t.l++,gd(t,e-1,n)}function HV(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Ln(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=bl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Lr(t);break;case 2:n[1]=Nl(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function GV(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Cl:Rp)(t));return i}function qV(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var c=0;c!=i;++c)o[s][c]=HV(t,n.biff);return o}function jV(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function $V(t,e,n){if(n.biff==5)return KV(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function KV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function JV(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function YV(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function WV(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function ZV(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var XV=zr,QV=zr,e7=zr;function xd(t,e,n){return t.l+=2,[hV(t)]}function Ex(t){return t.l+=6,[]}var t7=xd,n7=Ex,r7=Ex,i7=xd;function $N(t){return t.l+=2,[Wn(t),t.read_shift(2)&1]}var s7=xd,a7=$N,o7=Ex,l7=xd,c7=xd,u7=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function f7(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=u7[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function d7(t){return t.l+=2,[t.read_shift(4)]}function h7(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function p7(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function m7(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function g7(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function v7(t){return t.l+=4,[0,0]}var Ew={1:{n:"PtgExp",f:OV},2:{n:"PtgTbl",f:e7},3:{n:"PtgAdd",f:Kn},4:{n:"PtgSub",f:Kn},5:{n:"PtgMul",f:Kn},6:{n:"PtgDiv",f:Kn},7:{n:"PtgPower",f:Kn},8:{n:"PtgConcat",f:Kn},9:{n:"PtgLt",f:Kn},10:{n:"PtgLe",f:Kn},11:{n:"PtgEq",f:Kn},12:{n:"PtgGe",f:Kn},13:{n:"PtgGt",f:Kn},14:{n:"PtgNe",f:Kn},15:{n:"PtgIsect",f:Kn},16:{n:"PtgUnion",f:Kn},17:{n:"PtgRange",f:Kn},18:{n:"PtgUplus",f:Kn},19:{n:"PtgUminus",f:Kn},20:{n:"PtgPercent",f:Kn},21:{n:"PtgParen",f:Kn},22:{n:"PtgMissArg",f:Kn},23:{n:"PtgStr",f:zV},26:{n:"PtgSheet",f:h7},27:{n:"PtgEndSheet",f:p7},28:{n:"PtgErr",f:LV},29:{n:"PtgBool",f:VV},30:{n:"PtgInt",f:UV},31:{n:"PtgNum",f:BV},32:{n:"PtgArray",f:EV},33:{n:"PtgFunc",f:DV},34:{n:"PtgFuncVar",f:MV},35:{n:"PtgName",f:jV},36:{n:"PtgRef",f:IV},37:{n:"PtgArea",f:gV},38:{n:"PtgMemArea",f:JV},39:{n:"PtgMemErr",f:XV},40:{n:"PtgMemNoMem",f:QV},41:{n:"PtgMemFunc",f:YV},42:{n:"PtgRefErr",f:WV},43:{n:"PtgAreaErr",f:xV},44:{n:"PtgRefN",f:RV},45:{n:"PtgAreaN",f:_V},46:{n:"PtgMemAreaN",f:m7},47:{n:"PtgMemNoMemN",f:g7},57:{n:"PtgNameX",f:$V},58:{n:"PtgRef3d",f:kV},59:{n:"PtgArea3d",f:vV},60:{n:"PtgRefErr3d",f:ZV},61:{n:"PtgAreaErr3d",f:yV},255:{}},x7={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},y7={1:{n:"PtgElfLel",f:$N},2:{n:"PtgElfRw",f:l7},3:{n:"PtgElfCol",f:t7},6:{n:"PtgElfRwV",f:c7},7:{n:"PtgElfColV",f:i7},10:{n:"PtgElfRadical",f:s7},11:{n:"PtgElfRadicalS",f:o7},13:{n:"PtgElfColS",f:n7},15:{n:"PtgElfColSV",f:r7},16:{n:"PtgElfRadicalLel",f:a7},25:{n:"PtgList",f:f7},29:{n:"PtgSxName",f:d7},255:{}},_7={0:{n:"PtgAttrNoop",f:v7},1:{n:"PtgAttrSemi",f:CV},2:{n:"PtgAttrIf",f:SV},4:{n:"PtgAttrChoose",f:TV},8:{n:"PtgAttrGoto",f:wV},16:{n:"PtgAttrSum",f:FV},32:{n:"PtgAttrBaxcel",f:_w},33:{n:"PtgAttrBaxcel",f:_w},64:{n:"PtgAttrSpace",f:bV},65:{n:"PtgAttrSpaceSemi",f:NV},128:{n:"PtgAttrIfError",f:AV},255:{}};function yd(t,e,n,r){if(r.biff<8)return zr(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=qV(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=GV(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&s.push(zr(t,e)),s}function _d(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=Ew[s]||Ew[x7[s]],(s===24||s===25)&&(i=(s===24?y7:_7)[t[t.l+1]]),!i||!i.f?zr(t,e):o.push([i.n,i.f(t,e,n)]);return o}function E7(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];o?o[0]===2?i.push('"'+o[1].replace(/"/g,'""')+'"'):i.push(o[1]):i.push("")}e.push(i.join(","))}return e.join(";")}var T7={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function w7(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function KN(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Tw(t,e,n){var r=KN(t,e,n);return r=="#REF"?r:w7(r,n)}function Fr(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},c=[],f,d,h,g=0,v=0,T,S="";if(!t[0]||!t[0][0])return"";for(var A=-1,C="",P=0,B=t[0].length;P<B;++P){var k=t[0][P];switch(k[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),d=c.pop(),A>=0){switch(t[0][A][1][0]){case 0:C=Rn(" ",t[0][A][1][1]);break;case 1:C=Rn("\r",t[0][A][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}d=d+C,A=-1}c.push(d+T7[k[0]]+f);break;case"PtgIsect":f=c.pop(),d=c.pop(),c.push(d+" "+f);break;case"PtgUnion":f=c.pop(),d=c.pop(),c.push(d+","+f);break;case"PtgRange":f=c.pop(),d=c.pop(),c.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Cf(k[1][1],o,i),c.push(bf(h,s));break;case"PtgRefN":h=n?Cf(k[1][1],n,i):k[1][1],c.push(bf(h,s));break;case"PtgRef3d":g=k[1][1],h=Cf(k[1][2],o,i),S=Tw(r,g,i),c.push(S+"!"+bf(h,s));break;case"PtgFunc":case"PtgFuncVar":var H=k[1][0],G=k[1][1];H||(H=0),H&=127;var K=H==0?[]:c.slice(-H);c.length-=H,G==="User"&&(G=K.shift()),c.push(G+"("+K.join(",")+")");break;case"PtgBool":c.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(k[1]);break;case"PtgNum":c.push(String(k[1]));break;case"PtgStr":c.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(k[1]);break;case"PtgAreaN":T=nw(k[1][1],n?{s:n}:o,i),c.push(sv(T,i));break;case"PtgArea":T=nw(k[1][1],o,i),c.push(sv(T,i));break;case"PtgArea3d":g=k[1][1],T=k[1][2],S=Tw(r,g,i),c.push(S+"!"+sv(T,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":v=k[1][2];var R=(r.names||[])[v-1]||(r[0]||[])[v],N=R?R.Name:"SH33TJSNAME"+String(v);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),c.push(N);break;case"PtgNameX":var b=k[1][1];v=k[1][2];var F;if(i.biff<=5)b<0&&(b=-b),r[b]&&(F=r[b][v]);else{var O="";if(((r[b]||[])[0]||[])[0]==14849||(((r[b]||[])[0]||[])[0]==1025?r[b][v]&&r[b][v].itab>0&&(O=r.SheetNames[r[b][v].itab-1]+"!"):O=r.SheetNames[v-1]+"!"),r[b]&&r[b][v])O+=r[b][v].Name;else if(r[0]&&r[0][v])O+=r[0][v].Name;else{var D=(KN(r,b,i)||"").split(";;");D[v-1]?O=D[v-1]:O+="SH33TJSERRX"}c.push(O);break}F||(F={Name:"SH33TJSERRY"}),c.push(F.Name);break;case"PtgParen":var U="(",fe=")";if(A>=0){switch(C="",t[0][A][1][0]){case 2:U=Rn(" ",t[0][A][1][1])+U;break;case 3:U=Rn("\r",t[0][A][1][1])+U;break;case 4:fe=Rn(" ",t[0][A][1][1])+fe;break;case 5:fe=Rn("\r",t[0][A][1][1])+fe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}c.push(U+c.pop()+fe);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:k[1][1],r:k[1][0]};var ie={c:n.c,r:n.r};if(r.sharedf[_t(h)]){var se=r.sharedf[_t(h)];c.push(Fr(se,o,ie,r,i))}else{var le=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){c.push(Fr(d[1],o,ie,r,i)),le=!0;break}le||c.push(k[1])}break;case"PtgArray":c.push("{"+E7(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=P;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&A>=0&&ce.indexOf(t[0][P][0])==-1){k=t[0][A];var ae=!0;switch(k[1][0]){case 4:ae=!1;case 0:C=Rn(" ",k[1][1]);break;case 5:ae=!1;case 1:C=Rn("\r",k[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}c.push((ae?C:"")+c.pop()+(ae?"":C)),A=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function S7(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],zr(t,e-2)];var c=_d(t,o,n);return e!==o+i&&(s=yd(t,e-o-i,c,n)),t.l=r,[c,s]}function A7(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],zr(t,e-2)];var c=_d(t,o,n);return e!==o+i&&(s=yd(t,e-o-i,c,n)),t.l=r,[c,s]}function C7(t,e,n,r){var i=t.l+e,s=_d(t,r,n),o;return i!==t.l&&(o=yd(t,i-t.l,s,n)),[s,o]}function b7(t,e,n){var r=t.l+e,i,s=t.read_shift(2),o=_d(t,s,n);return s==65535?[[],zr(t,e-2)]:(e!==s+2&&(i=yd(t,r-s-2,o,n)),[o,i])}function N7(t){var e;if(la(t,t.l+6)!==65535)return[Lr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function lv(t,e,n){var r=t.l+e,i=zs(t);n.biff==2&&++t.l;var s=N7(t),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var c=A7(t,r-t.l,n);return{cell:i,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function kp(t,e,n){var r=t.read_shift(4),i=_d(t,r,n),s=t.read_shift(4),o=s>0?yd(t,s,i,n):null;return[i,o]}var I7=kp,Dp=kp,R7=kp,k7=kp,D7={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},JN={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},M7={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ww(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function cv(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var kf={},Fc={};function Df(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function YN(t,e,n,r,i,s){try{r.cellNF&&(t.z=St[e])}catch(c){if(r.WTF)throw c}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=fr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(St[e]==null&&cl(P5[e]||"General",e),t.t==="e")t.w=t.w||bl[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=$f(t.v);else if(t.t==="d"){var o=Qr(t.v);(o|0)===o?t.w=o.toString(10):t.w=$f(o)}else{if(t.v===void 0)return"";t.w=ml(t.v,Fc)}else t.t==="d"?t.w=ji(e,Qr(t.v),Fc):t.w=ji(e,t.v,Fc)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=W0(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=W0(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&s.Fills)throw c}}}function P7(t,e){var n=Dn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Ht(n))}var F7=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,O7=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,L7=/<(?:\w:)?hyperlink [^>]*>/mg,U7=/"(\w*:\w*)"/,V7=/<(?:\w:)?col\b[^>]*[\/]?>/g,B7=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,z7=/<(?:\w:)?pageMargins[^>]*\/>/g,WN=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,H7=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,G7=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function q7(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}});var c=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",g=t.match(O7);g?(d=t.slice(0,g.index),h=t.slice(g.index+g[0].length)):d=h=t;var v=d.match(WN);v?Tx(v[0],c,i,n):(v=d.match(H7))&&j7(v[0],v[1]||"",c,i,n);var T=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(T>0){var S=d.slice(T,T+50).match(U7);S&&P7(c,S[1])}var A=d.match(G7);A&&A[1]&&Z7(A[1],i);var C=[];if(e.cellStyles){var P=d.match(V7);P&&J7(C,P)}g&&X7(g[1],c,e,f,s,o);var B=h.match(B7);B&&(c["!autofilter"]=Y7(B[0]));var k=[],H=h.match(F7);if(H)for(T=0;T!=H.length;++T)k[T]=Dn(H[T].slice(H[T].indexOf('"')+1));var G=h.match(L7);G&&$7(c,G,r);var K=h.match(z7);if(K&&(c["!margins"]=K7(mt(K[0]))),!c["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(c["!ref"]=Ht(f)),e.sheetRows>0&&c["!ref"]){var R=Dn(c["!ref"]);e.sheetRows<=+R.e.r&&(R.e.r=e.sheetRows-1,R.e.r>f.e.r&&(R.e.r=f.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>f.e.c&&(R.e.c=f.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ht(R))}return C.length>0&&(c["!cols"]=C),k.length>0&&(c["!merges"]=k),c}function Tx(t,e,n,r){var i=mt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Gt(pn(i.codeName)))}function j7(t,e,n,r,i){Tx(t.slice(0,t.indexOf(">")),n,r,i)}function $7(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=mt(pn(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Gt(s.location))):(s.Target="#"+Gt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=Dn(s.ref),f=c.s.r;f<=c.e.r;++f)for(var d=c.s.c;d<=c.e.c;++d){var h=_t({c:d,r:f});r?(t[f]||(t[f]=[]),t[f][d]||(t[f][d]={t:"z",v:void 0}),t[f][d].l=s):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=s)}}}function K7(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function J7(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=mt(e[r],!0);i.hidden&&(i.hidden=Tn(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,_x(i.width)),$c(i);s<=o;)t[s++]=Sr(i)}}function Y7(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var W7=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Z7(t,e){e.Views||(e.Views=[{}]),(t.match(W7)||[]).forEach(function(n,r){var i=mt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Tn(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var X7=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Kf("v"),o=Kf("f");return function(f,d,h,g,v,T){for(var S=0,A="",C=[],P=[],B=0,k=0,H=0,G="",K,R,N=0,b=0,F,O,D=0,U=0,fe=Array.isArray(T.CellXf),ie,se=[],le=[],ce=Array.isArray(d),ae=[],Me={},W=!1,V=!!h.sheetStubs,X=f.split(e),ee=0,ne=X.length;ee!=ne;++ee){A=X[ee].trim();var he=A.length;if(he!==0){var me=0;e:for(S=0;S<he;++S)switch(A[S]){case">":if(A[S-1]!="/"){++S;break e}if(h&&h.cellStyles){if(R=mt(A.slice(me,S),!0),N=R.r!=null?parseInt(R.r,10):N+1,b=-1,h.sheetRows&&h.sheetRows<N)continue;Me={},W=!1,R.ht&&(W=!0,Me.hpt=parseFloat(R.ht),Me.hpx=Zf(Me.hpt)),R.hidden=="1"&&(W=!0,Me.hidden=!0),R.outlineLevel!=null&&(W=!0,Me.level=+R.outlineLevel),W&&(ae[N-1]=Me)}break;case"<":me=S;break}if(me>=S)break;if(R=mt(A.slice(me,S),!0),N=R.r!=null?parseInt(R.r,10):N+1,b=-1,!(h.sheetRows&&h.sheetRows<N)){g.s.r>N-1&&(g.s.r=N-1),g.e.r<N-1&&(g.e.r=N-1),h&&h.cellStyles&&(Me={},W=!1,R.ht&&(W=!0,Me.hpt=parseFloat(R.ht),Me.hpx=Zf(Me.hpt)),R.hidden=="1"&&(W=!0,Me.hidden=!0),R.outlineLevel!=null&&(W=!0,Me.level=+R.outlineLevel),W&&(ae[N-1]=Me)),C=A.slice(S).split(t);for(var Ne=0;Ne!=C.length&&C[Ne].trim().charAt(0)=="<";++Ne);for(C=C.slice(Ne),S=0;S!=C.length;++S)if(A=C[S].trim(),A.length!==0){if(P=A.match(n),B=S,k=0,H=0,A="<c "+(A.slice(0,1)=="<"?">":"")+A,P!=null&&P.length===2){for(B=0,G=P[1],k=0;k!=G.length&&!((H=G.charCodeAt(k)-64)<1||H>26);++k)B=26*B+H;--B,b=B}else++b;for(k=0;k!=A.length&&A.charCodeAt(k)!==62;++k);if(++k,R=mt(A.slice(0,k),!0),R.r||(R.r=_t({r:N-1,c:b})),G=A.slice(k),K={t:""},(P=G.match(s))!=null&&P[1]!==""&&(K.v=Gt(P[1])),h.cellFormula){if((P=G.match(o))!=null&&P[1]!==""){if(K.f=Gt(pn(P[1])).replace(/\r\n/g,`
`),h.xlfn||(K.f=yw(K.f)),P[0].indexOf('t="array"')>-1)K.F=(G.match(i)||[])[1],K.F.indexOf(":")>-1&&se.push([Dn(K.F),K.F]);else if(P[0].indexOf('t="shared"')>-1){O=mt(P[0]);var Ce=Gt(pn(P[1]));h.xlfn||(Ce=yw(Ce)),le[parseInt(O.si,10)]=[O,Ce,R.r]}}else(P=G.match(/<f[^>]*\/>/))&&(O=mt(P[0]),le[O.si]&&(K.f=cV(le[O.si][1],le[O.si][2],R.r)));var ke=Zr(R.r);for(k=0;k<se.length;++k)ke.r>=se[k][0].s.r&&ke.r<=se[k][0].e.r&&ke.c>=se[k][0].s.c&&ke.c<=se[k][0].e.c&&(K.F=se[k][1])}if(R.t==null&&K.v===void 0)if(K.f||K.F)K.v=0,K.t="n";else if(V)K.t="z";else continue;else K.t=R.t||"n";switch(g.s.c>b&&(g.s.c=b),g.e.c<b&&(g.e.c=b),K.t){case"n":if(K.v==""||K.v==null){if(!V)continue;K.t="z"}else K.v=parseFloat(K.v);break;case"s":if(typeof K.v>"u"){if(!V)continue;K.t="z"}else F=kf[parseInt(K.v,10)],K.v=F.t,K.r=F.r,h.cellHTML&&(K.h=F.h);break;case"str":K.t="s",K.v=K.v!=null?pn(K.v):"",h.cellHTML&&(K.h=cx(K.v));break;case"inlineStr":P=G.match(r),K.t="s",P!=null&&(F=yx(P[1]))?(K.v=F.t,h.cellHTML&&(K.h=F.h)):K.v="";break;case"b":K.v=Tn(K.v);break;case"d":h.cellDates?K.v=fr(K.v,1):(K.v=Qr(fr(K.v,1)),K.t="n");break;case"e":(!h||h.cellText!==!1)&&(K.w=K.v),K.v=vN[K.v];break}if(D=U=0,ie=null,fe&&R.s!==void 0&&(ie=T.CellXf[R.s],ie!=null&&(ie.numFmtId!=null&&(D=ie.numFmtId),h.cellStyles&&ie.fillId!=null&&(U=ie.fillId))),YN(K,D,U,h,v,T),h.cellDates&&fe&&K.t=="n"&&Qc(St[D])&&(K.t="d",K.v=Ip(K.v)),R.cm&&h.xlmeta){var $e=(h.xlmeta.Cell||[])[+R.cm-1];$e&&$e.type=="XLDAPR"&&(K.D=!0)}if(ce){var re=Zr(R.r);d[re.r]||(d[re.r]=[]),d[re.r][re.c]=K}else d[R.r]=K}}}}ae.length>0&&(d["!rows"]=ae)}})();function Q7(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var eB=Cl;function tB(){}function nB(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=SL(t),n}function rB(t){var e=Ji(t);return[e]}function iB(t){var e=Al(t);return[e]}function sB(t){var e=Ji(t),n=t.read_shift(1);return[e,n,"b"]}function aB(t){var e=Al(t),n=t.read_shift(1);return[e,n,"b"]}function oB(t){var e=Ji(t),n=t.read_shift(1);return[e,n,"e"]}function lB(t){var e=Al(t),n=t.read_shift(1);return[e,n,"e"]}function cB(t){var e=Ji(t),n=t.read_shift(4);return[e,n,"s"]}function uB(t){var e=Al(t),n=t.read_shift(4);return[e,n,"s"]}function fB(t){var e=Ji(t),n=Lr(t);return[e,n,"n"]}function ZN(t){var e=Al(t),n=Lr(t);return[e,n,"n"]}function dB(t){var e=Ji(t),n=gx(t);return[e,n,"n"]}function hB(t){var e=Al(t),n=gx(t);return[e,n,"n"]}function pB(t){var e=Ji(t),n=px(t);return[e,n,"is"]}function mB(t){var e=Ji(t),n=Br(t);return[e,n,"str"]}function gB(t){var e=Al(t),n=Br(t);return[e,n,"str"]}function vB(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var c=Dp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}function xB(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var c=Dp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}function yB(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=Lr(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var c=Dp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}function _B(t,e,n){var r=t.l+e,i=Ji(t);i.r=n["!row"];var s=Br(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var c=Dp(t,r-t.l,n);o[3]=Fr(c,null,i,n.supbooks,n)}else t.l=r;return o}var EB=Cl;function TB(t,e){var n=t.l+e,r=Cl(t),i=mx(t),s=Br(t),o=Br(t),c=Br(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:c};return o&&(f.Tooltip=o),f}function wB(){}function SB(t,e,n){var r=t.l+e,i=pN(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var c=I7(t,r-t.l,n);o[1]=c}else t.l=r;return o}function AB(t,e,n){var r=t.l+e,i=Cl(t),s=[i];if(n.cellFormula){var o=k7(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}var CB=["left","right","top","bottom","header","footer"];function bB(t){var e={};return CB.forEach(function(n){e[n]=Lr(t)}),e}function NB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function IB(){}function RB(){}function kB(t,e,n,r,i,s,o){if(!t)return t;var c=e||{};r||(r={"!id":{}});var f=c.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,v=!1,T,S,A,C,P,B,k,H,G,K=[];c.biff=12,c["!row"]=0;var R=0,N=!1,b=[],F={},O=c.supbooks||i.supbooks||[[]];if(O.sharedf=F,O.arrayf=b,O.SheetNames=i.SheetNames||i.Sheets.map(function(ce){return ce.name}),!c.supbooks&&(c.supbooks=O,i.Names))for(var D=0;D<i.Names.length;++D)O[0][D+1]=i.Names[D];var U=[],fe=[],ie=!1;Q0[16]={n:"BrtShortReal",f:ZN};var se;if(_a(t,function(ae,Me,W){if(!v)switch(W){case 148:d=ae;break;case 0:T=ae,c.sheetRows&&c.sheetRows<=T.r&&(v=!0),H=Ar(C=T.r),c["!row"]=T.r,(ae.hidden||ae.hpt||ae.level!=null)&&(ae.hpt&&(ae.hpx=Zf(ae.hpt)),fe[ae.r]=ae);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(S={t:ae[2]},ae[2]){case"n":S.v=ae[1];break;case"s":k=kf[ae[1]],S.v=k.t,S.r=k.r;break;case"b":S.v=!!ae[1];break;case"e":S.v=ae[1],c.cellText!==!1&&(S.w=bl[S.v]);break;case"str":S.t="s",S.v=ae[1];break;case"is":S.t="s",S.v=ae[1].t;break}if((A=o.CellXf[ae[0].iStyleRef])&&YN(S,A.numFmtId,null,c,s,o),P=ae[0].c==-1?P+1:ae[0].c,c.dense?(f[C]||(f[C]=[]),f[C][P]=S):f[nr(P)+H]=S,c.cellFormula){for(N=!1,R=0;R<b.length;++R){var V=b[R];T.r>=V[0].s.r&&T.r<=V[0].e.r&&P>=V[0].s.c&&P<=V[0].e.c&&(S.F=Ht(V[0]),N=!0)}!N&&ae.length>3&&(S.f=ae[3])}if(h.s.r>T.r&&(h.s.r=T.r),h.s.c>P&&(h.s.c=P),h.e.r<T.r&&(h.e.r=T.r),h.e.c<P&&(h.e.c=P),c.cellDates&&A&&S.t=="n"&&Qc(St[A.numFmtId])){var X=ol(S.v);X&&(S.t="d",S.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}se&&(se.type=="XLDAPR"&&(S.D=!0),se=void 0);break;case 1:case 12:if(!c.sheetStubs||g)break;S={t:"z",v:void 0},P=ae[0].c==-1?P+1:ae[0].c,c.dense?(f[C]||(f[C]=[]),f[C][P]=S):f[nr(P)+H]=S,h.s.r>T.r&&(h.s.r=T.r),h.s.c>P&&(h.s.c=P),h.e.r<T.r&&(h.e.r=T.r),h.e.c<P&&(h.e.c=P),se&&(se.type=="XLDAPR"&&(S.D=!0),se=void 0);break;case 176:K.push(ae);break;case 49:se=((c.xlmeta||{}).Cell||[])[ae-1];break;case 494:var ee=r["!id"][ae.relId];for(ee?(ae.Target=ee.Target,ae.loc&&(ae.Target+="#"+ae.loc),ae.Rel=ee):ae.relId==""&&(ae.Target="#"+ae.loc),C=ae.rfx.s.r;C<=ae.rfx.e.r;++C)for(P=ae.rfx.s.c;P<=ae.rfx.e.c;++P)c.dense?(f[C]||(f[C]=[]),f[C][P]||(f[C][P]={t:"z",v:void 0}),f[C][P].l=ae):(B=_t({c:P,r:C}),f[B]||(f[B]={t:"z",v:void 0}),f[B].l=ae);break;case 426:if(!c.cellFormula)break;b.push(ae),G=c.dense?f[C][P]:f[nr(P)+H],G.f=Fr(ae[1],h,{r:T.r,c:P},O,c),G.F=Ht(ae[0]);break;case 427:if(!c.cellFormula)break;F[_t(ae[0].s)]=ae[1],G=c.dense?f[C][P]:f[nr(P)+H],G.f=Fr(ae[1],h,{r:T.r,c:P},O,c);break;case 60:if(!c.cellStyles)break;for(;ae.e>=ae.s;)U[ae.e--]={width:ae.w/256,hidden:!!(ae.flags&1),level:ae.level},ie||(ie=!0,_x(ae.w/256)),$c(U[ae.e+1]);break;case 161:f["!autofilter"]={ref:Ht(ae)};break;case 476:f["!margins"]=ae;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ae.name&&(i.Sheets[n].CodeName=ae.name),(ae.above||ae.left)&&(f["!outline"]={above:ae.above,left:ae.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ae.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!Me.T){if(!g||c.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},c),delete c.supbooks,delete c["!row"],!f["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(f["!ref"]=Ht(d||h)),c.sheetRows&&f["!ref"]){var le=Dn(f["!ref"]);c.sheetRows<=+le.e.r&&(le.e.r=c.sheetRows-1,le.e.r>h.e.r&&(le.e.r=h.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>h.e.c&&(le.e.c=h.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Ht(le))}return K.length>0&&(f["!merges"]=K),U.length>0&&(f["!cols"]=U),fe.length>0&&(f["!rows"]=fe),f}function DB(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=Gt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function MB(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var c=0,f=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var v=DB(g);h.s.r=h.s.c=0,h.e.c=c,d=nr(c),v[0].forEach(function(T,S){o[d+Ar(S)]={t:"n",v:T,z:v[1]},f=S}),h.e.r<f&&(h.e.r=f),++c}),c>0&&(o["!ref"]=Ht(h)),o}function PB(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=t.match(WN);return c&&Tx(c[0],s,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function FB(t,e){t.l+=10;var n=Br(t);return{name:n}}function OB(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return _a(t,function(f,d,h){switch(h){case 550:s["!rel"]=f;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),f.name&&(i.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var XN=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],LB=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],UB=[],VB=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Sw(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Tn(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function Aw(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=Tn(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function QN(t){Aw(t.WBProps,XN),Aw(t.CalcPr,VB),Sw(t.WBView,LB),Sw(t.Sheets,UB),Fc.date1904=Tn(t.WBProps.date1904)}var BB="][*?/\\".split("");function zB(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return BB.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var HB=/<\w+:workbook/;function GB(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace(Hr,function(f,d){var h=mt(f);switch(Bs(h[0])){case"<?xml":break;case"<workbook":f.match(HB)&&(i="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":XN.forEach(function(g){if(h[g[0]]!=null)switch(g[2]){case"bool":n.WBProps[g[0]]=Tn(h[g[0]]);break;case"int":n.WBProps[g[0]]=parseInt(h[g[0]],10);break;default:n.WBProps[g[0]]=h[g[0]]}}),h.codeName&&(n.WBProps.CodeName=pn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Gt(pn(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=pn(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),Tn(h.hidden||"0")&&(s.Hidden=!0),o=d+f.length;break;case"</definedName>":s.Ref=Gt(pn(t.slice(o,d))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return f}),oL.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return QN(n),n}function qB(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Bv(t),n.name=Br(t),n}function jB(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Br(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function $B(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function KB(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=AL(t),o=R7(t,0,n),c=mx(t);t.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function JB(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Q0[16]={n:"BrtFRTArchID$",f:$B},_a(t,function(f,d,h){switch(h){case 156:o.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=Fr(f.Ptg,null,null,o,e),delete e.SID,delete f.Ptg,s.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([h,f]):o[0]=[h,f],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(f),o.XTI=o.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!d.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),QN(n),n.Names=s,n.supbooks=o,n}function YB(t,e,n){return e.slice(-4)===".bin"?JB(t,n):GB(t,n)}function WB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?kB(t,r,n,i,s,o,c):q7(t,r,n,i,s,o,c)}function ZB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?OB(t,r,n,i,s):PB(t,r,n,i,s)}function XB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?aV():oV()}function QB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?iV():sV()}function ez(t,e,n,r){return e.slice(-4)===".bin"?E9(t,n,r):m9(t,n,r)}function tz(t,e,n){return VN(t,n)}function nz(t,e,n){return e.slice(-4)===".bin"?LU(t,n):FU(t,n)}function rz(t,e,n){return e.slice(-4)===".bin"?tV(t,n):W9(t,n)}function iz(t,e,n){return e.slice(-4)===".bin"?K9(t):j9(t)}function sz(t,e,n,r){return n.slice(-4)===".bin"?J9(t,e,n,r):void 0}function az(t,e,n){return e.slice(-4)===".bin"?G9(t,e,n):q9(t,e,n)}var eI=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,tI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function os(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(eI),s,o,c,f;if(i)for(f=0;f!=i.length;++f)s=i[f].match(tI),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),r[c]=s[2].slice(1,s[2].length-1));return r}function oz(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(eI),i,s,o,c;if(r)for(c=0;c!=r.length;++c)i=r[c].match(tI),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Mf;function lz(t,e){var n=Mf[t]||Gt(t);return n==="General"?ml(e):ji(n,e)}function cz(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Tn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=fr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Gt(e)]=i}function uz(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||bl[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=$f(t.v):t.w=ml(t.v):t.w=lz(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Mf[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Qc(r)){var i=ol(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function fz(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=c9[r.Pattern]||r.Pattern)}t[e.ID]=e}function dz(t,e,n,r,i,s,o,c,f,d){var h="General",g=r.StyleID,v={};d=d||{};var T=[],S=0;for(g===void 0&&c&&(g=c.StyleID),g===void 0&&o&&(g=o.StyleID);s[g]!==void 0&&(s[g].nf&&(h=s[g].nf),s[g].Interior&&T.push(s[g].Interior),!!s[g].Parent);)g=s[g].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Tn(t);break;case"String":r.t="s",r.r=K2(Gt(t)),r.v=t.indexOf("<")>-1?Gt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(fr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Gt(t):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=vN[t],d.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=K2(e||t));break}if(uz(r,h,d),d.cellFormula!==!1)if(r.Formula){var A=Gt(r.Formula);A.charCodeAt(0)==61&&(A=A.slice(1)),r.f=Pc(A,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Pc("RC:RC",i):r.ArrayRange&&(r.F=Pc(r.ArrayRange,i),f.push([Dn(r.F),r.F]))}else for(S=0;S<f.length;++S)i.r>=f[S][0].s.r&&i.r<=f[S][0].e.r&&i.c>=f[S][0].s.c&&i.c<=f[S][0].e.c&&(r.F=f[S][1]);d.cellStyles&&(T.forEach(function(C){!v.patternType&&C.patternType&&(v.patternType=C.patternType)}),r.s=v),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function hz(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function uv(t,e){var n=e||{};Gb();var r=hf(ux(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=pn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=Sr(n);return o.type="string",Yf.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(s=!0)}),s)return Tz(r,n);Mf={"General Number":"General","General Date":St[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":St[15],"Short Date":St[14],"Long Time":St[19],"Medium Time":St[18],"Short Time":St[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:St[2],Standard:St[4],Percent:St[10],Scientific:St[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,f=[],d,h={},g=[],v=n.dense?[]:{},T="",S={},A={},C=os('<Data ss:Type="String">'),P=0,B=0,k=0,H={s:{r:2e6,c:2e6},e:{r:0,c:0}},G={},K={},R="",N=0,b=[],F={},O={},D=0,U=[],fe=[],ie={},se=[],le,ce=!1,ae=[],Me=[],W={},V=0,X=0,ee={Sheets:[],WBProps:{date1904:!1}},ne={};Jf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";c=Jf.exec(r);)switch(c[3]=(he=c[3]).toLowerCase()){case"data":if(he=="data"){if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break}if(f[f.length-1][1])break;c[1]==="/"?dz(r.slice(P,c.index),R,C,f[f.length-1][0]=="comment"?ie:S,{c:B,r:k},G,se[B],A,ae,n):(R="",C=os(c[0]),P=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(fe.length>0&&(S.c=fe),(!n.sheetRows||n.sheetRows>k)&&S.v!==void 0&&(n.dense?(v[k]||(v[k]=[]),v[k][B]=S):v[nr(B)+Ar(k)]=S),S.HRef&&(S.l={Target:Gt(S.HRef)},S.HRefScreenTip&&(S.l.Tooltip=S.HRefScreenTip),delete S.HRef,delete S.HRefScreenTip),(S.MergeAcross||S.MergeDown)&&(V=B+(parseInt(S.MergeAcross,10)|0),X=k+(parseInt(S.MergeDown,10)|0),b.push({s:{c:B,r:k},e:{c:V,r:X}})),!n.sheetStubs)S.MergeAcross?B=V+1:++B;else if(S.MergeAcross||S.MergeDown){for(var me=B;me<=V;++me)for(var Ne=k;Ne<=X;++Ne)(me>B||Ne>k)&&(n.dense?(v[Ne]||(v[Ne]=[]),v[Ne][me]={t:"z"}):v[nr(me)+Ar(Ne)]={t:"z"});B=V+1}else++B;else S=oz(c[0]),S.Index&&(B=+S.Index-1),B<H.s.c&&(H.s.c=B),B>H.e.c&&(H.e.c=B),c[0].slice(-2)==="/>"&&++B,fe=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(k<H.s.r&&(H.s.r=k),k>H.e.r&&(H.e.r=k),c[0].slice(-2)==="/>"&&(A=os(c[0]),A.Index&&(k=+A.Index-1)),B=0,++k):(A=os(c[0]),A.Index&&(k=+A.Index-1),W={},(A.AutoFitHeight=="0"||A.Height)&&(W.hpx=parseInt(A.Height,10),W.hpt=UN(W.hpx),Me[k]=W),A.Hidden=="1"&&(W.hidden=!0,Me[k]=W));break;case"worksheet":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));g.push(T),H.s.r<=H.e.r&&H.s.c<=H.e.c&&(v["!ref"]=Ht(H),n.sheetRows&&n.sheetRows<=H.e.r&&(v["!fullref"]=v["!ref"],H.e.r=n.sheetRows-1,v["!ref"]=Ht(H))),b.length&&(v["!merges"]=b),se.length>0&&(v["!cols"]=se),Me.length>0&&(v["!rows"]=Me),h[T]=v}else H={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=B=0,f.push([c[3],!1]),d=os(c[0]),T=Gt(d.Name),v=n.dense?[]:{},b=[],ae=[],Me=[],ne={name:T,Hidden:0},ee.Sheets.push(ne);break;case"table":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;f.push([c[3],!1]),se=[],ce=!1}break;case"style":c[1]==="/"?fz(G,K,n):K=os(c[0]);break;case"numberformat":K.nf=Gt(os(c[0]).Format||"General"),Mf[K.nf]&&(K.nf=Mf[K.nf]);for(var Ce=0;Ce!=392&&St[Ce]!=K.nf;++Ce);if(Ce==392){for(Ce=57;Ce!=392;++Ce)if(St[Ce]==null){cl(K.nf,Ce);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(le=os(c[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!ce&&le.wpx>10){ce=!0,Wr=ON;for(var ke=0;ke<se.length;++ke)se[ke]&&$c(se[ke])}ce&&$c(le),se[le.Index-1||se.length]=le;for(var $e=0;$e<+le.Span;++$e)se[se.length]=Sr(le);break;case"namedrange":if(c[1]==="/")break;ee.Names||(ee.Names=[]);var re=mt(c[0]),ht={Name:re.Name,Ref:Pc(re.RefersTo.slice(1),{r:0,c:0})};ee.Sheets.length>0&&(ht.Sheet=ee.Sheets.length-1),ee.Names.push(ht);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?R+=r.slice(N,c.index):N=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;K.Interior=os(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?WL(F,he,r.slice(D,c.index)):D=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else f.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));hz(ie),fe.push(ie)}else f.push([c[3],!1]),d=os(c[0]),ie={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Ye=os(c[0]);v["!autofilter"]={ref:Pc(Ye.Range).replace(/\$/g,"")},f.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"null":break;default:if(f.length==0&&c[3]=="document"||f.length==0&&c[3]=="uof")return kw(r,n);var Ge=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ge=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ge=!1}break;case"excelworkbook":switch(c[3]){case"date1904":ee.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ge=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Ge=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(D,c.index)){case"SheetHidden":ne.Hidden=1;break;case"SheetVeryHidden":ne.Hidden=2;break}else D=c.index+c[0].length;break;case"header":v["!margins"]||Df(v["!margins"]={},"xlml"),isNaN(+mt(c[0]).Margin)||(v["!margins"].header=+mt(c[0]).Margin);break;case"footer":v["!margins"]||Df(v["!margins"]={},"xlml"),isNaN(+mt(c[0]).Margin)||(v["!margins"].footer=+mt(c[0]).Margin);break;case"pagemargins":var He=mt(c[0]);v["!margins"]||Df(v["!margins"]={},"xlml"),isNaN(+He.Top)||(v["!margins"].top=+He.Top),isNaN(+He.Left)||(v["!margins"].left=+He.Left),isNaN(+He.Right)||(v["!margins"].right=+He.Right),isNaN(+He.Bottom)||(v["!margins"].bottom=+He.Bottom);break;case"displayrighttoleft":ee.Views||(ee.Views=[]),ee.Views[0]||(ee.Views[0]={}),ee.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":v["!outline"]||(v["!outline"]={}),v["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ge=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ge=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ge=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ge=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ge=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ge=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ge=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ge=!1}break;case"smarttags":break;default:Ge=!1;break}if(Ge||c[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?cz(O,he,U,r.slice(D,c.index)):(U=c,D=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+f.join("|")}var Be={};return!n.bookSheets&&!n.bookProps&&(Be.Sheets=h),Be.SheetNames=g,Be.Workbook=ee,Be.SSF=Sr(St),Be.Props=F,Be.Custprops=O,Be}function qv(t,e){switch(Ax(e=e||{}),e.type||"base64"){case"base64":return uv(bi(t),e);case"binary":case"buffer":case"file":return uv(t,e);case"array":return uv(Sl(t),e)}}function pz(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=NL(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=IL(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var mz=[60,1084,2066,2165,2175];function gz(t,e,n,r,i){var s=r,o=[],c=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}o.push(c),n.l+=s;for(var f=la(n,n.l),d=jv[f],h=0;d!=null&&mz.indexOf(f)>-1;)s=la(n,n.l+2),h=n.l+4,f==2066?h+=4:(f==2165||f==2175)&&(h+=12),c=n.slice(h,n.l+4+s),o.push(c),n.l+=4+s,d=jv[f=la(n,n.l)];var g=ao(o);Tr(g,0);var v=0;g.lens=[];for(var T=0;T<o.length;++T)g.lens.push(v),v+=o[T].length;if(g.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+g.length+" < "+r;return e.f(g,g.length,i)}function Is(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=St[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||bl[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=$f(t.v):t.w=ml(t.v):t.w=ji(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&Qc(St[r]||String(r))){var i=ol(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function n0(t,e,n){return{v:t,ixfe:e,t:n}}function vz(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},o={},c=null,f=[],d="",h={},g,v="",T,S,A,C,P={},B=[],k,H,G=[],K=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},b=function(it){return it<8?ul[it]:it<64&&K[it-8]||ul[it]},F=function(it,Ft,Wt){var bt=Ft.XF.data;if(!(!bt||!bt.patternType||!Wt||!Wt.cellStyles)){Ft.s={},Ft.s.patternType=bt.patternType;var Kt;(Kt=Wf(b(bt.icvFore)))&&(Ft.s.fgColor={rgb:Kt}),(Kt=Wf(b(bt.icvBack)))&&(Ft.s.bgColor={rgb:Kt})}},O=function(it,Ft,Wt){if(!(W>1)&&!(Wt.sheetRows&&it.r>=Wt.sheetRows)){if(Wt.cellStyles&&Ft.XF&&Ft.XF.data&&F(it,Ft,Wt),delete Ft.ixfe,delete Ft.XF,g=it,v=_t(it),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),it.r<o.s.r&&(o.s.r=it.r),it.c<o.s.c&&(o.s.c=it.c),it.r+1>o.e.r&&(o.e.r=it.r+1),it.c+1>o.e.c&&(o.e.c=it.c+1),Wt.cellFormula&&Ft.f){for(var bt=0;bt<B.length;++bt)if(!(B[bt][0].s.c>it.c||B[bt][0].s.r>it.r)&&!(B[bt][0].e.c<it.c||B[bt][0].e.r<it.r)){Ft.F=Ht(B[bt][0]),(B[bt][0].s.c!=it.c||B[bt][0].s.r!=it.r)&&delete Ft.f,Ft.f&&(Ft.f=""+Fr(B[bt][1],o,it,ae,D));break}}Wt.dense?(i[it.r]||(i[it.r]=[]),i[it.r][it.c]=Ft):i[v]=Ft}},D={enc:!1,sbcch:0,snames:[],sharedf:P,arrayf:B,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(D.password=e.password);var U,fe=[],ie=[],se=[],le=[],ce=!1,ae=[];ae.SheetNames=D.snames,ae.sharedf=D.sharedf,ae.arrayf=D.arrayf,ae.names=[],ae.XTI=[];var Me=0,W=0,V=0,X=[],ee=[],ne;D.codepage=1200,us(1200);for(var he=!1;t.l<t.length-1;){var me=t.l,Ne=t.read_shift(2);if(Ne===0&&Me===10)break;var Ce=t.l===t.length?0:t.read_shift(2),ke=jv[Ne];if(ke&&ke.f){if(e.bookSheets&&Me===133&&Ne!==133)break;if(Me=Ne,ke.r===2||ke.r==12){var $e=t.read_shift(2);if(Ce-=2,!D.enc&&$e!==Ne&&(($e&255)<<8|$e>>8)!==Ne)throw new Error("rt mismatch: "+$e+"!="+Ne);ke.r==12&&(t.l+=10,Ce-=10)}var re={};if(Ne===10?re=ke.f(t,Ce,D):re=gz(Ne,ke,t,Ce,D),W==0&&[9,521,1033,2057].indexOf(Me)===-1)continue;switch(Ne){case 34:n.opts.Date1904=R.WBProps.date1904=re;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(D.enc||(t.l=0),D.enc=re,!e.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:D.lastuser=re;break;case 66:var ht=Number(re);switch(ht){case 21010:ht=1200;break;case 32768:ht=1e4;break;case 32769:ht=1252;break}us(D.codepage=ht),he=!0;break;case 317:D.rrtabid=re;break;case 25:D.winlocked=re;break;case 439:n.opts.RefreshAll=re;break;case 12:n.opts.CalcCount=re;break;case 16:n.opts.CalcDelta=re;break;case 17:n.opts.CalcIter=re;break;case 13:n.opts.CalcMode=re;break;case 14:n.opts.CalcPrecision=re;break;case 95:n.opts.CalcSaveRecalc=re;break;case 15:D.CalcRefMode=re;break;case 2211:n.opts.FullCalc=re;break;case 129:re.fDialog&&(i["!type"]="dialog"),re.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),re.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:G.push(re);break;case 430:ae.push([re]),ae[ae.length-1].XTI=[];break;case 35:case 547:ae[ae.length-1].push(re);break;case 24:case 536:ne={Name:re.Name,Ref:Fr(re.rgce,o,null,ae,D)},re.itab>0&&(ne.Sheet=re.itab-1),ae.names.push(ne),ae[0]||(ae[0]=[],ae[0].XTI=[]),ae[ae.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(ee[re.itab-1]={ref:Ht(re.rgce[0][0][1][2])});break;case 22:D.ExternCount=re;break;case 23:ae.length==0&&(ae[0]=[],ae[0].XTI=[]),ae[ae.length-1].XTI=ae[ae.length-1].XTI.concat(re),ae.XTI=ae.XTI.concat(re);break;case 2196:if(D.biff<8)break;ne!=null&&(ne.Comment=re[1]);break;case 18:i["!protect"]=re;break;case 19:re!==0&&D.WTF&&console.error("Password verifier: "+re);break;case 133:s[re.pos]=re,D.snames.push(re.name);break;case 10:{if(--W)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Ht(o),e.sheetRows&&e.sheetRows<=o.e.r){var Ye=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ht(o),o.e.r=Ye}o.e.r++,o.e.c++}fe.length>0&&(i["!merges"]=fe),ie.length>0&&(i["!objects"]=ie),se.length>0&&(i["!cols"]=se),le.length>0&&(i["!rows"]=le),R.Sheets.push(N)}d===""?h=i:r[d]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(D.biff===8&&(D.biff={9:2,521:3,1033:4}[Ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),D.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(D.biff=5,he=!0,us(D.codepage=28591)),D.biff==8&&re.BIFFVer==0&&re.dt==16&&(D.biff=2),W++)break;if(i=e.dense?[]:{},D.biff<8&&!he&&(he=!0,us(D.codepage=e.codepage||1252)),D.biff<5||re.BIFFVer==0&&re.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ge={pos:t.l-Ce,name:d};s[Ge.pos]=Ge,D.snames.push(d)}else d=(s[me]||{name:""}).name;re.dt==32&&(i["!type"]="chart"),re.dt==64&&(i["!type"]="macro"),fe=[],ie=[],D.arrayf=B=[],se=[],le=[],ce=!1,N={Hidden:(s[me]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[re.r]||[])[re.c]:i[_t({c:re.c,r:re.r})])&&++re.c,k={ixfe:re.ixfe,XF:G[re.ixfe]||{},v:re.val,t:"n"},V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:re.c,r:re.r},k,e);break;case 5:case 517:k={ixfe:re.ixfe,XF:G[re.ixfe],v:re.val,t:re.t},V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:re.c,r:re.r},k,e);break;case 638:k={ixfe:re.ixfe,XF:G[re.ixfe],v:re.rknum,t:"n"},V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:re.c,r:re.r},k,e);break;case 189:for(var He=re.c;He<=re.C;++He){var Be=re.rkrec[He-re.c][0];k={ixfe:Be,XF:G[Be],v:re.rkrec[He-re.c][1],t:"n"},V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:He,r:re.r},k,e)}break;case 6:case 518:case 1030:{if(re.val=="String"){c=re;break}if(k=n0(re.val,re.cell.ixfe,re.tt),k.XF=G[k.ixfe],e.cellFormula){var nt=re.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var rt=nt[0][0][1][0],ft=nt[0][0][1][1],un=_t({r:rt,c:ft});P[un]?k.f=""+Fr(re.formula,o,re.cell,ae,D):k.F=((e.dense?(i[rt]||[])[ft]:i[un])||{}).F}else k.f=""+Fr(re.formula,o,re.cell,ae,D)}V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O(re.cell,k,e),c=re}break;case 7:case 519:if(c)c.val=re,k=n0(re,c.cell.ixfe,"s"),k.XF=G[k.ixfe],e.cellFormula&&(k.f=""+Fr(c.formula,o,c.cell,ae,D)),V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O(c.cell,k,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{B.push(re);var Sn=_t(re[0].s);if(T=e.dense?(i[re[0].s.r]||[])[re[0].s.c]:i[Sn],e.cellFormula&&T){if(!c||!Sn||!T)break;T.f=""+Fr(re[1],o,re[0],ae,D),T.F=Ht(re[0])}}break;case 1212:{if(!e.cellFormula)break;if(v){if(!c)break;P[_t(c.cell)]=re[0],T=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[_t(c.cell)],(T||{}).f=""+Fr(re[0],o,g,ae,D)}}break;case 253:k=n0(f[re.isst].t,re.ixfe,"s"),f[re.isst].h&&(k.h=f[re.isst].h),k.XF=G[k.ixfe],V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:re.c,r:re.r},k,e);break;case 513:e.sheetStubs&&(k={ixfe:re.ixfe,XF:G[re.ixfe],t:"z"},V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:re.c,r:re.r},k,e));break;case 190:if(e.sheetStubs)for(var zn=re.c;zn<=re.C;++zn){var gt=re.ixfe[zn-re.c];k={ixfe:gt,XF:G[gt],t:"z"},V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:zn,r:re.r},k,e)}break;case 214:case 516:case 4:k=n0(re.val,re.ixfe,"s"),k.XF=G[k.ixfe],V>0&&(k.z=X[k.ixfe>>8&63]),Is(k,e,n.opts.Date1904),O({c:re.c,r:re.r},k,e);break;case 0:case 512:W===1&&(o=re);break;case 252:f=re;break;case 1054:if(D.biff==4){X[V++]=re[1];for(var Ut=0;Ut<V+163&&St[Ut]!=re[1];++Ut);Ut>=163&&cl(re[1],V+163)}else cl(re[1],re[0]);break;case 30:{X[V++]=re;for(var Ct=0;Ct<V+163&&St[Ct]!=re;++Ct);Ct>=163&&cl(re,V+163)}break;case 229:fe=fe.concat(re);break;case 93:ie[re.cmo[0]]=D.lastobj=re;break;case 438:D.lastobj.TxO=re;break;case 127:D.lastobj.ImData=re;break;case 440:for(C=re[0].s.r;C<=re[0].e.r;++C)for(A=re[0].s.c;A<=re[0].e.c;++A)T=e.dense?(i[C]||[])[A]:i[_t({c:A,r:C})],T&&(T.l=re[1]);break;case 2048:for(C=re[0].s.r;C<=re[0].e.r;++C)for(A=re[0].s.c;A<=re[0].e.c;++A)T=e.dense?(i[C]||[])[A]:i[_t({c:A,r:C})],T&&T.l&&(T.l.Tooltip=re[1]);break;case 28:{if(D.biff<=5&&D.biff>=2)break;T=e.dense?(i[re[0].r]||[])[re[0].c]:i[_t(re[0])];var fn=ie[re[2]];T||(e.dense?(i[re[0].r]||(i[re[0].r]=[]),T=i[re[0].r][re[0].c]={t:"z"}):T=i[_t(re[0])]={t:"z"},o.e.r=Math.max(o.e.r,re[0].r),o.s.r=Math.min(o.s.r,re[0].r),o.e.c=Math.max(o.e.c,re[0].c),o.s.c=Math.min(o.s.c,re[0].c)),T.c||(T.c=[]),S={a:re[1],t:fn.TxO.t},T.c.push(S)}break;case 2173:V9(G[re.ixfe],re.ext);break;case 125:{if(!D.cellStyles)break;for(;re.e>=re.s;)se[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},ce||(ce=!0,_x(re.w/256)),$c(se[re.e+1])}break;case 520:{var Rt={};re.level!=null&&(le[re.r]=Rt,Rt.level=re.level),re.hidden&&(le[re.r]=Rt,Rt.hidden=!0),re.hpt&&(le[re.r]=Rt,Rt.hpt=re.hpt,Rt.hpx=Zf(re.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Df(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ne]]=re;break;case 161:i["!margins"]||Df(i["!margins"]={}),i["!margins"].header=re.header,i["!margins"].footer=re.footer;break;case 574:re.RTL&&(R.Views[0].RTL=!0);break;case 146:K=re;break;case 2198:U=re;break;case 140:H=re;break;case 442:d?N.CodeName=re||N.name:R.WBProps.CodeName=re||"ThisWorkbook";break}}else ke||console.error("Missing Info for XLS Record 0x"+Ne.toString(16)),t.l+=Ce}return n.SheetNames=Ls(s).sort(function(Mn,it){return Number(Mn)-Number(it)}).map(function(Mn){return s[Mn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&ee.forEach(function(Mn,it){n.Sheets[n.SheetNames[it]]["!autofilter"]=Mn}),n.Strings=f,n.SSF=Sr(St),D.enc&&(n.Encryption=D.enc),U&&(n.Themes=U),n.Metadata={},H!==void 0&&(n.Metadata.Country=H),ae.names.length>0&&(R.Names=ae.names),n.Workbook=R,n}var Cw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xz(t,e,n){var r=zt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=cw(r,FL,Cw.DSI);for(var s in i)e[s]=i[s]}catch(d){if(n.WTF)throw d}var o=zt.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var c=cw(o,OL,Cw.SI);for(var f in c)e[f]==null&&(e[f]=c[f])}catch(d){if(n.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(yN(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function nI(t,e){e||(e={}),Ax(e),kb(),e.codepage&&rx(e.codepage);var n,r;if(t.FullPaths){if(zt.find(t,"/encryption"))throw new Error("File is password-protected");n=zt.find(t,"!CompObj"),r=zt.find(t,"/Workbook")||zt.find(t,"/Book")}else{switch(e.type){case"base64":t=cs(bi(t));break;case"binary":t=cs(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Tr(t,0),r={content:t}}var i,s;if(n&&pz(n),e.bookProps&&!e.bookSheets)i={};else{var o=Lt?"buffer":"array";if(r&&r.content)i=vz(r.content,e);else if((s=zt.find(t,"PerfectOffice_MAIN"))&&s.content)i=Rf.to_workbook(s.content,(e.type=o,e));else if((s=zt.find(t,"NativeContent_MAIN"))&&s.content)i=Rf.to_workbook(s.content,(e.type=o,e));else throw(s=zt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&zt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=rV(t))}var c={};return t.FullPaths&&xz(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var Q0={0:{f:Q7},1:{f:rB},2:{f:dB},3:{f:oB},4:{f:sB},5:{f:fB},6:{f:mB},7:{f:cB},8:{f:_B},9:{f:yB},10:{f:vB},11:{f:xB},12:{f:iB},13:{f:hB},14:{f:lB},15:{f:aB},16:{f:ZN},17:{f:gB},18:{f:uB},19:{f:px},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:KB},40:{},42:{},43:{f:v9},44:{f:g9},45:{f:x9},46:{f:_9},47:{f:y9},48:{},49:{f:EL},50:{},51:{f:z9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:kN},62:{f:pB},63:{f:$9},64:{f:IB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:zr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:NB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:nB},148:{f:eB,p:16},151:{f:wB},152:{},153:{f:jB},154:{},155:{},156:{f:qB},157:{},158:{},159:{T:1,f:OU},160:{T:-1},161:{T:1,f:Cl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:EB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:B9},336:{T:-1},337:{f:H9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Bv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:RN},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:SB},427:{f:AB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:TB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Bv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eV},633:{T:1},634:{T:-1},635:{T:1,f:Q9},636:{T:-1},637:{f:wL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:FB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:RB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},jv={6:{f:lv},10:{f:ro},12:{f:Wn},13:{f:Wn},14:{f:Ln},15:{f:Ln},16:{f:Lr},17:{f:Ln},18:{f:Ln},19:{f:Wn},20:{f:hw},21:{f:hw},23:{f:RN},24:{f:mw},25:{f:Ln},26:{},27:{},28:{f:Z8},29:{},34:{f:Ln},35:{f:pw},38:{f:Lr},39:{f:Lr},40:{f:Lr},41:{f:Lr},42:{f:Ln},43:{f:Ln},47:{f:t9},49:{f:D8},51:{f:Wn},60:{},61:{f:I8},64:{f:Ln},65:{f:k8},66:{f:Wn},77:{},80:{},81:{},82:{},85:{f:Wn},89:{},90:{},91:{},92:{f:E8},93:{f:Q8},94:{},95:{f:Ln},96:{},97:{},99:{f:Ln},125:{f:kN},128:{f:H8},129:{f:T8},130:{f:Wn},131:{f:Ln},132:{f:Ln},133:{f:w8},134:{},140:{f:sU},141:{f:Wn},144:{},146:{f:oU},151:{},152:{},153:{},154:{},155:{},156:{f:Wn},157:{},158:{},160:{f:dU},161:{f:cU},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:U8},190:{f:V8},193:{f:ro},197:{},198:{},199:{},200:{},201:{},202:{f:Ln},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Wn},220:{},221:{f:Ln},222:{},224:{f:z8},225:{f:_8},226:{f:ro},227:{},229:{f:X8},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:S8},253:{f:M8},255:{f:A8},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:SN},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ln},353:{f:ro},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:q8},431:{f:Ln},432:{},433:{},434:{},437:{},438:{f:nU},439:{f:Ln},440:{f:rU},441:{},442:{f:vd},443:{},444:{f:Wn},445:{},446:{},448:{f:ro},449:{f:N8,r:2},450:{f:ro},512:{f:fw},513:{f:fU},515:{f:G8},516:{f:P8},517:{f:dw},519:{f:hU},520:{f:C8},523:{},545:{f:gw},549:{f:uw},566:{},574:{f:R8},638:{f:L8},659:{},1048:{},1054:{f:F8},1084:{},1212:{f:J8},2048:{f:iU},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Qh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ro},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:lU,r:12},2173:{f:U9,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ln,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:K8,r:12},2197:{},2198:{f:D9,r:12},2199:{},2200:{},2201:{},2202:{f:Y8,r:12},2203:{f:ro},2204:{},2205:{},2206:{},2207:{},2211:{f:b8},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Wn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:uU},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:aU},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:fw},1:{},2:{f:vU},3:{f:gU},4:{f:mU},5:{f:dw},7:{f:xU},8:{},9:{f:Qh},11:{},22:{f:Wn},30:{f:O8},31:{},32:{},33:{f:gw},36:{},37:{f:uw},50:{f:yU},62:{},52:{},67:{},68:{f:Wn},69:{},86:{},126:{},127:{f:pU},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:_U},223:{},234:{},354:{},421:{},518:{f:lv},521:{f:Qh},536:{f:mw},547:{f:pw},561:{},579:{},1030:{f:lv},1033:{f:Qh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ls(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&fN(n)&&t.push(n)}}function bw(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,c=s&&s.index||t.length,f=G5(t.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,g=0,v=0,T={s:{r:1e7,c:1e7},e:{r:0,c:0}},S=[];for(o=0;o<f.length;++o){var A=f[o].trim(),C=A.slice(0,3).toLowerCase();if(C=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}h=0;continue}if(!(C!="<td"&&C!="<th")){var P=A.split(/<\/t[dh]>/i);for(c=0;c<P.length;++c){var B=P[c].trim();if(B.match(/<t[dh]/i)){for(var k=B,H=0;k.charAt(0)=="<"&&(H=k.indexOf(">"))>-1;)k=k.slice(H+1);for(var G=0;G<S.length;++G){var K=S[G];K.s.c==h&&K.s.r<d&&d<=K.e.r&&(h=K.e.c+1,G=-1)}var R=mt(B.slice(0,B.indexOf(">")));v=R.colspan?+R.colspan:1,((g=+R.rowspan)>1||v>1)&&S.push({s:{r:d,c:h},e:{r:d+(g||1)-1,c:h+v-1}});var N=R.t||R["data-t"]||"";if(!k.length){h+=v;continue}if(k=Xb(k),T.s.r>d&&(T.s.r=d),T.e.r<d&&(T.e.r=d),T.s.c>h&&(T.s.c=h),T.e.c<h&&(T.e.c=h),!k.length){h+=v;continue}var b={t:"s",v:k};n.raw||!k.trim().length||N=="s"||(k==="TRUE"?b={t:"b",v:!0}:k==="FALSE"?b={t:"b",v:!1}:isNaN(hs(k))?isNaN(jc(k).getDate())||(b={t:"d",v:fr(k)},n.cellDates||(b={t:"n",v:Qr(b.v)}),b.z=n.dateNF||St[14]):b={t:"n",v:hs(k)}),n.dense?(r[d]||(r[d]=[]),r[d][h]=b):r[_t({r:d,c:h})]=b,h+=v}}}}return r["!ref"]=Ht(T),S.length&&(r["!merges"]=S),r}function yz(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,f=0,d=0;d<i.length;++d)if(!(i[d].s.r>n||i[d].s.c>o)&&!(i[d].e.r<n||i[d].e.c<o)){if(i[d].s.r<n||i[d].s.c<o){c=-1;break}c=i[d].e.r-i[d].s.r+1,f=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var h=_t({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[h],v=g&&g.v!=null&&(g.h||cx(g.w||(ma(g),g.w)||""))||"",T={};c>1&&(T.rowspan=c),f>1&&(T.colspan=f),r.editable?v='<span contenteditable="true">'+v+"</span>":g&&(T["data-t"]=g&&g.t||"z",g.v!=null&&(T["data-v"]=g.v),g.z!=null&&(T["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(v='<a href="'+g.l.Target+'">'+v+"</a>")),T.id=(r.id||"sjs")+"-"+h,s.push(sL("td",v,T))}}var S="<tr>";return S+s.join("")+"</tr>"}var _z='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Ez="</body></html>";function Tz(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Io(bw(n[0],e),e);var r=bx();return n.forEach(function(i,s){Nx(r,bw(i,e),"Sheet"+(s+1))}),r}function wz(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function Sz(t,e){var n=e||{},r=n.header!=null?n.header:_z,i=n.footer!=null?n.footer:Ez,s=[r],o=eu(t["!ref"]);n.dense=Array.isArray(t),s.push(wz(t,o,n));for(var c=o.s.r;c<=o.e.r;++c)s.push(yz(t,o,c,n));return s.push("</table>"+i),s.join("")}function rI(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Zr(r.origin):r.origin;i=o.r,s=o.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=eu(t["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),i==-1&&(d.e.r=i=h.e.r+1)}var g=[],v=0,T=t["!rows"]||(t["!rows"]=[]),S=0,A=0,C=0,P=0,B=0,k=0;for(t["!cols"]||(t["!cols"]=[]);S<c.length&&A<f;++S){var H=c[S];if(Nw(H)){if(r.display)continue;T[A]={hidden:!0}}var G=H.children;for(C=P=0;C<G.length;++C){var K=G[C];if(!(r.display&&Nw(K))){var R=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):Xb(K.innerHTML),N=K.getAttribute("data-z")||K.getAttribute("z");for(v=0;v<g.length;++v){var b=g[v];b.s.c==P+s&&b.s.r<A+i&&A+i<=b.e.r&&(P=b.e.c+1-s,v=-1)}k=+K.getAttribute("colspan")||1,((B=+K.getAttribute("rowspan")||1)>1||k>1)&&g.push({s:{r:A+i,c:P+s},e:{r:A+i+(B||1)-1,c:P+s+(k||1)-1}});var F={t:"s",v:R},O=K.getAttribute("data-t")||K.getAttribute("t")||"";R!=null&&(R.length==0?F.t=O||"z":r.raw||R.trim().length==0||O=="s"||(R==="TRUE"?F={t:"b",v:!0}:R==="FALSE"?F={t:"b",v:!1}:isNaN(hs(R))?isNaN(jc(R).getDate())||(F={t:"d",v:fr(R)},r.cellDates||(F={t:"n",v:Qr(F.v)}),F.z=r.dateNF||St[14]):F={t:"n",v:hs(R)})),F.z===void 0&&N!=null&&(F.z=N);var D="",U=K.getElementsByTagName("A");if(U&&U.length)for(var fe=0;fe<U.length&&!(U[fe].hasAttribute("href")&&(D=U[fe].getAttribute("href"),D.charAt(0)!="#"));++fe);D&&D.charAt(0)!="#"&&(F.l={Target:D}),r.dense?(t[A+i]||(t[A+i]=[]),t[A+i][P+s]=F):t[_t({c:P+s,r:A+i})]=F,d.e.c<P+s&&(d.e.c=P+s),P+=k}}++A}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,A-1+i),t["!ref"]=Ht(d),A>=f&&(t["!fullref"]=Ht((d.e.r=c.length-S+A-1+i,d))),t}function iI(t,e){var n=e||{},r=n.dense?[]:{};return rI(r,t,e)}function Az(t,e){return Io(iI(t,e),e)}function Nw(t){var e="",n=Cz(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Cz(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function bz(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Gt(e.replace(/<[^>]*>/g,""));return[n]}var Iw={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function sI(t,e){var n=e||{},r=ux(t),i=[],s,o,c={name:""},f="",d=0,h,g,v={},T=[],S=n.dense?[]:{},A,C,P={value:""},B="",k=0,H=[],G=-1,K=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,b={},F=[],O={},D=0,U=0,fe=[],ie=1,se=1,le=[],ce={Names:[]},ae={},Me=["",""],W=[],V={},X="",ee=0,ne=!1,he=!1,me=0;for(Jf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");A=Jf.exec(r);)switch(A[3]=A[3].replace(/_.*$/,"")){case"table":case"":A[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?S["!ref"]=Ht(R):S["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=R.e.r&&(S["!fullref"]=S["!ref"],R.e.r=n.sheetRows-1,S["!ref"]=Ht(R)),F.length&&(S["!merges"]=F),fe.length&&(S["!rows"]=fe),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),T.push(h.name),v[h.name]=S,he=!1):A[0].charAt(A[0].length-2)!=="/"&&(h=mt(A[0],!1),G=K=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,S=n.dense?[]:{},F=[],fe=[],he=!0);break;case"table-row-group":A[1]==="/"?--N:++N;break;case"table-row":case"":if(A[1]==="/"){G+=ie,ie=1;break}if(g=mt(A[0],!1),g.?G=g.-1:G==-1&&(G=0),ie=+g["number-rows-repeated"]||1,ie<10)for(me=0;me<ie;++me)N>0&&(fe[G+me]={level:N});K=-1;break;case"covered-table-cell":A[1]!=="/"&&++K,n.sheetStubs&&(n.dense?(S[G]||(S[G]=[]),S[G][K]={t:"z"}):S[_t({r:G,c:K})]={t:"z"}),B="",H=[];break;case"table-cell":case"":if(A[0].charAt(A[0].length-2)==="/")++K,P=mt(A[0],!1),se=parseInt(P["number-columns-repeated"]||"1",10),C={t:"z",v:null},P.formula&&n.cellFormula!=!1&&(C.f=ww(Gt(P.formula))),(P.||P["value-type"])=="string"&&(C.t="s",C.v=Gt(P["string-value"]||""),n.dense?(S[G]||(S[G]=[]),S[G][K]=C):S[_t({r:G,c:K})]=C),K+=se-1;else if(A[1]!=="/"){++K,B="",k=0,H=[],se=1;var Ne=ie?G+ie-1:G;if(K>R.e.c&&(R.e.c=K),K<R.s.c&&(R.s.c=K),G<R.s.r&&(R.s.r=G),Ne>R.e.r&&(R.e.r=Ne),P=mt(A[0],!1),W=[],V={},C={t:P.||P["value-type"],v:null},n.cellFormula)if(P.formula&&(P.formula=Gt(P.formula)),P["number-matrix-columns-spanned"]&&P["number-matrix-rows-spanned"]&&(D=parseInt(P["number-matrix-rows-spanned"],10)||0,U=parseInt(P["number-matrix-columns-spanned"],10)||0,O={s:{r:G,c:K},e:{r:G+D-1,c:K+U-1}},C.F=Ht(O),le.push([O,C.F])),P.formula)C.f=ww(P.formula);else for(me=0;me<le.length;++me)G>=le[me][0].s.r&&G<=le[me][0].e.r&&K>=le[me][0].s.c&&K<=le[me][0].e.c&&(C.F=le[me][1]);switch((P["number-columns-spanned"]||P["number-rows-spanned"])&&(D=parseInt(P["number-rows-spanned"],10)||0,U=parseInt(P["number-columns-spanned"],10)||0,O={s:{r:G,c:K},e:{r:G+D-1,c:K+U-1}},F.push(O)),P["number-columns-repeated"]&&(se=parseInt(P["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=Tn(P["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(P.value);break;case"percentage":C.t="n",C.v=parseFloat(P.value);break;case"currency":C.t="n",C.v=parseFloat(P.value);break;case"date":C.t="d",C.v=fr(P["date-value"]),n.cellDates||(C.t="n",C.v=Qr(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=B5(P["time-value"])/86400,n.cellDates&&(C.t="d",C.v=Ip(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(P.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",P["string-value"]!=null&&(B=Gt(P["string-value"]),H=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(ne=!1,C.t==="s"&&(C.v=B||"",H.length&&(C.R=H),ne=k==0),ae.Target&&(C.l=ae),W.length>0&&(C.c=W,W=[]),B&&n.cellText!==!1&&(C.w=B),ne&&(C.t="z",delete C.v),(!ne||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=G))for(var Ce=0;Ce<ie;++Ce){if(se=parseInt(P["number-columns-repeated"]||"1",10),n.dense)for(S[G+Ce]||(S[G+Ce]=[]),S[G+Ce][K]=Ce==0?C:Sr(C);--se>0;)S[G+Ce][K+se]=Sr(C);else for(S[_t({r:G+Ce,c:K})]=C;--se>0;)S[_t({r:G+Ce,c:K+se})]=Sr(C);R.e.c<=K&&(R.e.c=K)}se=parseInt(P["number-columns-repeated"]||"1",10),K+=se-1,se=0,C={},B="",H=[]}ae={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!0]);break;case"annotation":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s;V.t=B,H.length&&(V.R=H),V.a=X,W.push(V)}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!1]);X="",ee=0,B="",k=0,H=[];break;case"creator":A[1]==="/"?X=r.slice(ee,A.index):ee=A.index+A[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!1]);B="",k=0,H=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(A[1]==="/"){if(b[c.name]=f,(s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&(f="",c=mt(A[0],!1),i.push([A[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=mt(A[0],!1),f+=Iw[A[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=mt(A[0],!1),f+=Iw[A[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(A[0].slice(-2)==="/>")break;if(A[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(d,A.index);break}else d=A.index+A[0].length;break;case"named-range":o=mt(A[0],!1),Me=cv(o["cell-range-address"]);var ke={Name:o.name,Ref:Me[0]+"!"+Me[1]};he&&(ke.Sheet=T.length),ce.Names.push(ke);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(A[1]==="/"&&(!P||!P["string-value"])){var $e=bz(r.slice(k,A.index));B=(B.length>0?B+`
`:"")+$e[0]}else mt(A[0],!1),k=A.index+A[0].length;break;case"s":break;case"database-range":if(A[1]==="/")break;try{Me=cv(mt(A[0])["target-range-address"]),v[Me[0]]["!autofilter"]={ref:Me[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(A[1]!=="/"){if(ae=mt(A[0],!1),!ae.href)break;ae.Target=Gt(ae.href),delete ae.href,ae.Target.charAt(0)=="#"&&ae.Target.indexOf(".")>-1?(Me=cv(ae.Target.slice(1)),ae.Target="#"+Me[0]+"!"+Me[1]):ae.Target.match(/^\.\.[\\\/]/)&&(ae.Target=ae.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(A[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(A)}}var re={Sheets:v,SheetNames:T,Workbook:ce};return n.bookSheets&&delete re.Sheets,re}function Rw(t,e){e=e||{},zi(t,"META-INF/manifest.xml")&&GL(Yn(t,"META-INF/manifest.xml"),e);var n=Ci(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=sI(pn(n),e);return zi(t,"meta.xml")&&(r.Props=xN(Yn(t,"meta.xml"))),r}function kw(t,e){return sI(t,e)}function wx(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function $v(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):pn(Sl(t))}function Kv(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function Dw(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Nz(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function Xf(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function ir(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ur(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Xf(t,n),s=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);c=t.slice(f,n[0])}break;case 5:o=4,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=Xf(t,n),c=t.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Sx(t,e){return t?.map(function(n){return e(n.data)})||[]}function Iz(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Xf(t,r),s=Ur(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:ir(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=Ur(c.data),d=ir(f[3][0].data);o.messages.push({meta:f,data:t.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=ir(s[3][0].data)>>>0>0),n.push(o)}return n}function Rz(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Xf(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[n[0]],c>1&&(o|=e[n[0]+1]<<8),c>2&&(o|=e[n[0]+2]<<16),c>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var f=0,d=0;if(s==1?(d=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(d=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Kv(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(i.push(i[0].slice(-f)),d-=f;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-f,-f+d))}}var h=Kv(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function kz(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(Rz(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Kv(e)}function Dz(t,e,n,r){var i=wx(t),s=i.getUint32(4,!0),o=(r>1?12:8)+Dw(s&(r>1?3470:398))*4,c=-1,f=-1,d=NaN,h=new Date(2001,0,1);s&512&&(c=i.getUint32(o,!0),o+=4),o+=Dw(s&(r>1?12288:4096))*4,s&16&&(f=i.getUint32(o,!0),o+=4),s&32&&(d=i.getFloat64(o,!0),o+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var g;switch(t[2]){case 0:break;case 2:g={t:"n",v:d};break;case 3:g={t:"s",v:e[f]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(c>-1)g={t:"s",v:n[c]};else if(f>-1)g={t:"s",v:e[f]};else if(!isNaN(d))g={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return g}function Mz(t,e,n){var r=wx(t),i=r.getUint32(8,!0),s=12,o=-1,c=-1,f=NaN,d=NaN,h=new Date(2001,0,1);i&1&&(f=Nz(t,s),s+=16),i&2&&(d=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var g;switch(t[1]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:e[c]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:g={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return g}function Pz(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return Dz(t,e,n,t[0]);case 5:return Mz(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function fo(t){var e=Ur(t);return Xf(e[1][0].data)}function Mw(t,e){var n=Ur(e.data),r=ir(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var c=Ur(o.data),f=ir(c[1][0].data)>>>0;switch(r){case 1:s[f]=$v(c[3][0].data);break;case 8:{var d=t[fo(c[9][0].data)][0],h=Ur(d.data),g=t[fo(h[1][0].data)][0],v=ir(g.meta[1][0].data);if(v!=2001)throw new Error("2000 unexpected reference to ".concat(v));var T=Ur(g.data);s[f]=T[3].map(function(S){return $v(S.data)}).join("")}break}}),s}function Fz(t,e){var n,r,i,s,o,c,f,d,h,g,v,T,S,A,C=Ur(t),P=ir(C[1][0].data)>>>0,B=ir(C[2][0].data)>>>0,k=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&ir(C[8][0].data)>0||!1,H,G;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&e!=0)H=(c=(o=C[7])==null?void 0:o[0])==null?void 0:c.data,G=(d=(f=C[6])==null?void 0:f[0])==null?void 0:d.data;else if((g=(h=C[4])==null?void 0:h[0])!=null&&g.data&&e!=1)H=(T=(v=C[4])==null?void 0:v[0])==null?void 0:T.data,G=(A=(S=C[3])==null?void 0:S[0])==null?void 0:A.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var K=k?4:1,R=wx(H),N=[],b=0;b<H.length/2;++b){var F=R.getUint16(b*2,!0);F<65535&&N.push([b,F])}if(N.length!=B)throw"Expected ".concat(B," cells, found ").concat(N.length);var O=[];for(b=0;b<N.length-1;++b)O[N[b][0]]=G.subarray(N[b][1]*K,N[b+1][1]*K);return N.length>=1&&(O[N[N.length-1][0]]=G.subarray(N[N.length-1][1]*K)),{R:P,cells:O}}function Oz(t,e){var n,r=Ur(e.data),i=(n=r?.[7])!=null&&n[0]?ir(r[7][0].data)>>>0>0?1:0:-1,s=Sx(r[5],function(o){return Fz(o,i)});return{nrows:ir(r[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(f,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=f}),o},[])}}function Lz(t,e,n){var r,i=Ur(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ir(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(ir(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Ht(s);var o=Ur(i[4][0].data),c=Mw(t,t[fo(o[4][0].data)][0]),f=(r=o[17])!=null&&r[0]?Mw(t,t[fo(o[17][0].data)][0]):[],d=Ur(o[3][0].data),h=0;d[1].forEach(function(g){var v=Ur(g.data),T=t[fo(v[2][0].data)][0],S=ir(T.meta[1][0].data);if(S!=6002)throw new Error("6001 unexpected reference to ".concat(S));var A=Oz(t,T);A.data.forEach(function(C,P){C.forEach(function(B,k){var H=_t({r:h+P,c:k}),G=Pz(B,c,f);G&&(n[H]=G)})}),h+=A.nrows})}function Uz(t,e){var n=Ur(e.data),r={"!ref":"A1"},i=t[fo(n[2][0].data)],s=ir(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Lz(t,i[0],r),r}function Vz(t,e){var n,r=Ur(e.data),i={name:(n=r[1])!=null&&n[0]?$v(r[1][0].data):"",sheets:[]},s=Sx(r[2],fo);return s.forEach(function(o){t[o].forEach(function(c){var f=ir(c.meta[1][0].data);f==6e3&&i.sheets.push(Uz(t,c))})}),i}function Bz(t,e){var n=bx(),r=Ur(e.data),i=Sx(r[1],fo);if(i.forEach(function(s){t[s].forEach(function(o){var c=ir(o.meta[1][0].data);if(c==2){var f=Vz(t,o);f.sheets.forEach(function(d,h){Nx(n,d,h==0?f.name:f.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function fv(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var d;try{d=kz(f.content)}catch(g){return console.log("?? "+f.content.length+" "+(g.message||g))}var h;try{h=Iz(d)}catch(g){return console.log("## "+(g.message||g))}h.forEach(function(g){s[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var c=((i=(r=(n=(e=s?.[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&ir(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(f){s[f].forEach(function(d){var h=ir(d.meta[1][0].data)>>>0;if(h==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return Bz(s,c)}function zz(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Ax(t){zz([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Hz(t){return Cc.WS.indexOf(t)>-1?"sheet":t==Cc.CS?"chart":t==Cc.DS?"dialog":t==Cc.MS?"macro":t&&t.length?t:"sheet"}function Gz(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,Hz(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function qz(t,e,n,r,i,s,o,c,f,d,h,g){try{s[r]=Nf(Ci(t,n,!0),e);var v=Yn(t,e),T;switch(c){case"sheet":T=WB(v,e,i,f,s[r],d,h,g);break;case"chart":if(T=ZB(v,e,i,f,s[r],d,h,g),!T||!T["!drawel"])break;var S=mf(T["!drawel"].Target,e),A=zv(S),C=Y9(Ci(t,S,!0),Nf(Ci(t,A,!0),S)),P=mf(C,S),B=zv(P);T=MB(Ci(t,P,!0),P,f,Nf(Ci(t,B,!0),P),d,T);break;case"macro":T=XB(v,e,i,f,s[r],d,h,g);break;case"dialog":T=QB(v,e,i,f,s[r],d,h,g);break;default:throw new Error("Unrecognized sheet type "+c)}o[r]=T;var k=[];s&&s[r]&&Ls(s[r]).forEach(function(H){var G="";if(s[r][H].Type==Cc.CMNT){G=mf(s[r][H].Target,e);var K=rz(Yn(t,G,!0),G,f);if(!K||!K.length)return;xw(T,K,!1)}s[r][H].Type==Cc.TCMNT&&(G=mf(s[r][H].Target,e),k=k.concat(Z9(Yn(t,G,!0),f)))}),k&&k.length&&xw(T,k,!0,f.people||[])}catch(H){if(f.WTF)throw H}}function Vi(t){return t.charAt(0)=="/"?t.slice(1):t}function jz(t,e){if(Gb(),e=e||{},Ax(e),zi(t,"META-INF/manifest.xml")||zi(t,"objectdata.xml"))return Rw(t,e);if(zi(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof fv<"u"){if(t.FileIndex)return fv(t);var n=zt.utils.cfb_new();return j2(t).forEach(function(fe){$5(n,fe,j5(t,fe))}),fv(n)}throw new Error("Unsupported NUMBERS file")}if(!zi(t,"[Content_Types].xml"))throw zi(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zi(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=j2(t),i=zL(Ci(t,"[Content_Types].xml")),s=!1,o,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",Yn(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!Yn(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},d={};if(!e.bookSheets&&!e.bookProps){if(kf=[],i.sst)try{kf=nz(Yn(t,Vi(i.sst)),i.sst,e)}catch(fe){if(e.WTF)throw fe}e.cellStyles&&i.themes.length&&(f=tz(Ci(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(d=ez(Yn(t,Vi(i.style)),i.style,f,e))}i.links.map(function(fe){try{var ie=Nf(Ci(t,zv(Vi(fe))),fe);return sz(Yn(t,Vi(fe)),ie,fe,e)}catch{}});var h=YB(Yn(t,Vi(i.workbooks[0])),i.workbooks[0],e),g={},v="";i.coreprops.length&&(v=Yn(t,Vi(i.coreprops[0]),!0),v&&(g=xN(v)),i.extprops.length!==0&&(v=Yn(t,Vi(i.extprops[0]),!0),v&&$L(v,g,e)));var T={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(v=Ci(t,Vi(i.custprops[0]),!0),v&&(T=JL(v,e)));var S={};if((e.bookSheets||e.bookProps)&&(h.Sheets?o=h.Sheets.map(function(ie){return ie.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),e.bookProps&&(S.Props=g,S.Custprops=T),e.bookSheets&&typeof o<"u"&&(S.SheetNames=o),e.bookSheets?S.SheetNames:e.bookProps))return S;o={};var A={};e.bookDeps&&i.calcchain&&(A=iz(Yn(t,Vi(i.calcchain)),i.calcchain));var C=0,P={},B,k;{var H=h.Sheets;g.Worksheets=H.length,g.SheetNames=[];for(var G=0;G!=H.length;++G)g.SheetNames[G]=H[G].name}var K=s?"bin":"xml",R=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,R+1)+"_rels/"+i.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");zi(t,N)||(N="xl/_rels/workbook."+K+".rels");var b=Nf(Ci(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=az(Yn(t,Vi(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=X9(Yn(t,Vi(i.people[0])),e)),b&&(b=Gz(b,h.Sheets));var F=Yn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=g.Worksheets;++C){var O="sheet";if(b&&b[C]?(B="xl/"+b[C][1].replace(/[\/]?xl\//,""),zi(t,B)||(B=b[C][1]),zi(t,B)||(B=N.replace(/_rels\/.*$/,"")+b[C][1]),O=b[C][2]):(B="xl/worksheets/sheet"+(C+1-F)+"."+K,B=B.replace(/sheet0\./,"sheet.")),k=B.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(g.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var D=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==C&&(D=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==g.SheetNames[C].toLowerCase()&&(D=1);if(!D)continue e}}qz(t,B,k,g.SheetNames[C],C,P,o,O,e,h,f,d)}return S={Directory:i,Workbook:h,Props:g,Custprops:T,Deps:A,Sheets:o,SheetNames:g.SheetNames,Strings:kf,Styles:d,Themes:f,SSF:Sr(St)},e&&e.bookFiles&&(t.files?(S.keys=r,S.files=t.files):(S.keys=[],S.files={},t.FullPaths.forEach(function(fe,ie){fe=fe.replace(/^Root Entry[\/]/,""),S.keys.push(fe),S.files[fe]=t.FileIndex[ie]}))),e&&e.bookVBA&&(i.vba.length>0?S.vbaraw=Yn(t,Vi(i.vba[0]),!0):i.defaults&&i.defaults.bin===nV&&(S.vbaraw=Yn(t,"xl/vbaProject.bin",!0))),S}function $z(t,e){var n=e||{},r="Workbook",i=zt.find(t,r);try{if(r="/!DataSpaces/Version",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(UU(i.content),r="/!DataSpaces/DataSpaceMap",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=BU(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=zU(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);GU(i.content)}catch{}if(r="/EncryptionInfo",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=qU(i.content);if(r="/EncryptedPackage",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function Cx(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=bi(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Kz(t,e){return zt.find(t,"EncryptedPackage")?$z(t,e):nI(t,e)}function Jz(t,e){var n,r=t,i=e||{};return i.type||(i.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n=Yb(r,i),jz(n,i)}function aI(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return qv(t.slice(n),e);default:break e}return Yf.to_workbook(t,e)}function Yz(t,e){var n="",r=Cx(t,e);switch(e.type){case"base64":n=bi(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=gl(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=pn(n)),e.type="binary",aI(n,e)}function Wz(t,e){var n=t;return e.type=="base64"&&(n=bi(n)),n=jf.utils.decode(1200,n.slice(2),"str"),e.type="binary",aI(n,e)}function Zz(t){return t.match(/[^\x00-\x7F]/)?gf(t):t}function dv(t,e,n,r){return r?(n.type="string",Yf.to_workbook(t,n)):Yf.to_workbook(e,n)}function ep(t,e){kb();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return ep(new Uint8Array(t),(n=Sr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Fc={},n.dateNF&&(Fc.dateNF=n.dateNF),n.type||(n.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Lt?"buffer":"binary",r=U5(t),typeof Uint8Array<"u"&&!Lt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=Zz(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=Sr(n),n.type="array",ep(ix(r),n)}switch((i=Cx(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Kz(zt.read(r,n),n);break;case 9:if(i[1]<=8)return nI(r,n);break;case 60:return qv(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return AU(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return wU.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Jz(r,n):dv(t,r,n,s);case 239:return i[3]===60?qv(r,n):dv(t,r,n,s);case 255:if(i[1]===254)return Wz(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Rf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Rf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return vw.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return n9.to_workbook(r,n);break;case 10:case 13:case 32:return Yz(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return EU.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?vw.to_workbook(r,n):dv(t,r,n,s)}function Xz(t,e,n,r,i,s,o,c){var f=Ar(n),d=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,v=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(v,"__rowNum__",{value:n,enumerable:!1})}catch{v.__rowNum__=n}else v.__rowNum__=n;if(!o||t[n])for(var T=e.s.c;T<=e.e.c;++T){var S=o?t[n][T]:t[r[T]+f];if(S===void 0||S.t===void 0){if(d===void 0)continue;s[T]!=null&&(v[s[T]]=d);continue}var A=S.v;switch(S.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[T]!=null){if(A==null)if(S.t=="e"&&A===null)v[s[T]]=null;else if(d!==void 0)v[s[T]]=d;else if(h&&A===null)v[s[T]]=null;else continue;else v[s[T]]=h&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?A:ma(S,A,c);A!=null&&(g=!1)}}return{row:v,isempty:g}}function Jv(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},h=d.range!=null?d.range:t["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof h){case"string":f=Dn(h);break;case"number":f=Dn(t["!ref"]),f.s.r=h;break;default:f=h}r>0&&(i=0);var g=Ar(f.s.r),v=[],T=[],S=0,A=0,C=Array.isArray(t),P=f.s.r,B=0,k={};C&&!t[P]&&(t[P]=[]);var H=d.skipHidden&&t["!cols"]||[],G=d.skipHidden&&t["!rows"]||[];for(B=f.s.c;B<=f.e.c;++B)if(!(H[B]||{}).hidden)switch(v[B]=nr(B),n=C?t[P][B]:t[v[B]+g],r){case 1:s[B]=B-f.s.c;break;case 2:s[B]=v[B];break;case 3:s[B]=d.header[B-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=ma(n,null,d),A=k[o]||0,!A)k[o]=1;else{do c=o+"_"+A++;while(k[c]);k[o]=A,k[c]=1}s[B]=c}for(P=f.s.r+i;P<=f.e.r;++P)if(!(G[P]||{}).hidden){var K=Xz(t,f,P,v,r,s,C,d);(K.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(T[S++]=K.row)}return T.length=S,T}var Pw=/"/g;function Qz(t,e,n,r,i,s,o,c){for(var f=!0,d=[],h="",g=Ar(n),v=e.s.c;v<=e.e.c;++v)if(r[v]){var T=c.dense?(t[n]||[])[v]:t[r[v]+g];if(T==null)h="";else if(T.v!=null){f=!1,h=""+(c.rawNumbers&&T.t=="n"?T.v:ma(T,null,c));for(var S=0,A=0;S!==h.length;++S)if((A=h.charCodeAt(S))===i||A===s||A===34||c.forceQuotes){h='"'+h.replace(Pw,'""')+'"';break}h=="ID"&&(h='"ID"')}else T.f!=null&&!T.F?(f=!1,h="="+T.f,h.indexOf(",")>=0&&(h='"'+h.replace(Pw,'""')+'"')):h="";d.push(h)}return c.blankrows===!1&&f?null:d.join(o)}function oI(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Dn(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),h="",g=[];r.dense=Array.isArray(t);for(var v=r.skipHidden&&t["!cols"]||[],T=r.skipHidden&&t["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(v[S]||{}).hidden||(g[S]=nr(S));for(var A=0,C=i.s.r;C<=i.e.r;++C)(T[C]||{}).hidden||(h=Qz(t,i,C,g,o,f,s,r),h!=null&&(r.strip&&(h=h.replace(d,"")),(h||r.blankrows!==!1)&&n.push((A++?c:"")+h)));return delete r.dense,n.join("")}function eH(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=oI(t,e);return n}function tH(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Dn(t["!ref"]),s="",o=[],c,f=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)o[c]=nr(c);for(var h=i.s.r;h<=i.e.r;++h)for(s=Ar(h),c=i.s.c;c<=i.e.c;++c)if(e=o[c]+s,n=d?(t[h]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function lI(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Zr(r.origin):r.origin;o=f.r,c=f.c}var d,h={s:{c:0,r:0},e:{c,r:o+e.length-1+i}};if(s["!ref"]){var g=Dn(s["!ref"]);h.e.c=Math.max(h.e.c,g.e.c),h.e.r=Math.max(h.e.r,g.e.r),o==-1&&(o=g.e.r+1,h.e.r=o+e.length-1+i)}else o==-1&&(o=0,h.e.r=e.length-1+i);var v=r.header||[],T=0;e.forEach(function(A,C){Ls(A).forEach(function(P){(T=v.indexOf(P))==-1&&(v[T=v.length]=P);var B=A[P],k="z",H="",G=_t({c:c+T,r:o+C+i});d=Qf(s,G),B&&typeof B=="object"&&!(B instanceof Date)?s[G]=B:(typeof B=="number"?k="n":typeof B=="boolean"?k="b":typeof B=="string"?k="s":B instanceof Date?(k="d",r.cellDates||(k="n",B=Qr(B)),H=r.dateNF||St[14]):B===null&&r.nullError&&(k="e",B=0),d?(d.t=k,d.v=B,delete d.w,delete d.R,H&&(d.z=H)):s[G]=d={t:k,v:B},H&&(d.z=H))})}),h.e.c=Math.max(h.e.c,c+v.length-1);var S=Ar(o);if(i)for(T=0;T<v.length;++T)s[nr(T+c)+S]={t:"s",v:v[T]};return s["!ref"]=Ht(h),s}function nH(t,e){return lI(null,t,e)}function Qf(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Zr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Qf(t,_t(e)):Qf(t,_t({r:e,c:n||0}))}function rH(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function bx(){return{SheetNames:[],Sheets:{}}}function Nx(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(zB(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function iH(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=rH(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function sH(t,e){return t.z=e,t}function cI(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function aH(t,e,n){return cI(t,"#"+e,n)}function oH(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function lH(t,e,n,r){for(var i=typeof e!="string"?e:Dn(e),s=typeof e=="string"?e:Ht(e),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var f=Qf(t,o,c);f.t="n",f.F=s,delete f.v,o==i.s.r&&c==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var vf={encode_col:nr,encode_row:Ar,encode_cell:_t,encode_range:Ht,decode_col:hx,decode_row:dx,split_cell:_L,decode_cell:Zr,decode_range:eu,format_cell:ma,sheet_add_aoa:hN,sheet_add_json:lI,sheet_add_dom:rI,aoa_to_sheet:tu,json_to_sheet:nH,table_to_sheet:iI,table_to_book:Az,sheet_to_csv:oI,sheet_to_txt:eH,sheet_to_json:Jv,sheet_to_html:Sz,sheet_to_formulae:tH,sheet_to_row_object_array:Jv,sheet_get_cell:Qf,book_new:bx,book_append_sheet:Nx,book_set_sheet_visibility:iH,cell_set_number_format:sH,cell_set_hyperlink:cI,cell_set_internal_link:aH,cell_add_comment:oH,sheet_set_array_formula:lH,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const uI=t=>String(t).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),cH=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},Fw=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},uH=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{try{const s=i.target?.result,o=ep(s,{type:"binary"}),c=o.SheetNames[0],f=o.Sheets[c];if(!f["!ref"]){e([]);return}const d=vf.decode_range(f["!ref"]),h=[],g=[],v=d.s.r;for(let T=d.s.c;T<=d.e.c;++T){const S=vf.encode_cell({c:T,r:v}),A=f[S];if(A&&A.v){const C=String(A.v);g.push({index:T,name:C,normalized:uI(C)})}}for(let T=v+1;T<=d.e.r;++T){const S={};let A;if(g.forEach(D=>{const U=vf.encode_cell({c:D.index,r:T}),fe=f[U];fe&&(S[D.normalized]=fe.v,!A&&(D.normalized.includes("endereco")||D.normalized.includes("logradouro")||D.normalized.includes("localizacao")||D.normalized==="rua"||D.normalized==="mapa"||D.normalized==="link")&&fe.l&&fe.l.Target&&(A=fe.l.Target))}),Object.keys(S).length===0)continue;const C=S.endereco||S.logradouro||S.localizacao||S["endereco completo"]||S.rua||S.end||"";let{address:P,link:B,lat:k,lng:H}=H0(C),G=A||B;const K=S.link||S.mapa||S["google maps"]||S.url||S.maps||S.coordenadas||S.geolocalizacao;let R;g.forEach(D=>{if(["link","mapa","google maps","url","maps","coordenadas","geolocalizacao"].includes(D.normalized)){const U=vf.encode_cell({c:D.index,r:T}),fe=f[U];fe&&fe.l&&fe.l.Target&&(R=fe.l.Target)}});const N=R||K;if(N){const D=H0(N);D.link&&(G=D.link),D.lat&&(k=D.lat),D.lng&&(H=D.lng)}const b=S["razao social"]||S.cliente||S["nome fantasia"]||S.empresa||S.nome||S["nome cliente"]||S.parceiro||S.loja||"",F=S["nome do proprietario"]||S.proprietario||S.dono||S["contato principal"]||S.responsavel||S.socio||"",O=String(S.contato||S.telefone||S.celular||S.whatsapp||S.tel||S.fone||"");(b||P||C)&&h.push({companyName:b,ownerName:F,phone:O,address:P,googleMapsLink:G,latitude:k,longitude:H})}e(h)}catch(s){console.error("Excel Parsing Error:",s),n(s)}},r.onerror=i=>n(i),r.readAsBinaryString(t)}),fI=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{try{const s=i.target?.result,o=ep(s,{type:"binary"}),c=o.SheetNames[0],f=o.Sheets[c],d=[];vf.sheet_to_json(f,{defval:""}).forEach(g=>{const v={};Object.keys(g).forEach(G=>{v[uI(G)]=g[G]});const T=String(v["numero do sku"]||v.sku||""),S=v.marca||v.fabricante||"Genrico",A=String(v["cod.fabrica"]||v["cod fabrica"]||v["codigo fabrica"]||""),C=v.descricao||v.nome||v.produto||"",P=cH(v["preco de venda"]||v.preco||0),B=v.categoria||S||"Geral",k=Fw(v.margem||0),H=Fw(v.desconto||v.discount||0);(T||C)&&d.push({category:B,sku:T,brand:S,factoryCode:A,name:C,price:P,margin:k,discount:H})}),e(d)}catch(s){console.error("Product Excel Parsing Error:",s),n(s)}},r.onerror=i=>n(i),r.readAsBinaryString(t)});var fH={};let dH,hH;function pH(){return{geminiUrl:dH,vertexUrl:hH}}function mH(t,e,n,r){var i,s;if(!t?.baseUrl){const o=pH();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}class Ea{}function Je(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function x(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];x(h,e.slice(s+1),n[d])}else for(const d of f)x(d,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];x(f[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function gH(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&s.length>c)for(let f=c;f<s.length;f++){const d=s[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}Yv(t,i,s,0,o)}}function Yv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),c=t;if(o in c&&Array.isArray(c[o]))for(const f of c[o])Yv(f,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,c=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=o[d];for(const[d,h]of Object.entries(f)){const g=[];for(const v of n.slice(r))v==="*"?g.push(d):g.push(v);x(o,g,h)}for(const d of c)delete o[d]}}else{const o=t;s in o&&Yv(o[s],e,n,r+1,i)}}function Ix(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function vH(t){const e={},n=m(t,["operationName"]);n!=null&&x(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&x(e,["_url","resourceName"],r),e}function xH(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response","generateVideoResponse"]);return o!=null&&x(e,["response"],_H(o)),e}function yH(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],EH(o)),e}function _H(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>TH(o))),x(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function EH(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>wH(o))),x(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&x(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&x(e,["raiMediaFilteredReasons"],i),e}function TH(t){const e={},n=m(t,["video"]);return n!=null&&x(e,["video"],IH(n)),e}function wH(t){const e={},n=m(t,["_self"]);return n!=null&&x(e,["video"],RH(n)),e}function SH(t){const e={},n=m(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function AH(t){const e={},n=m(t,["operationName"]);return n!=null&&x(e,["_url","operationName"],n),e}function CH(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],bH(o)),e}function bH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function dI(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],NH(o)),e}function NH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function IH(t){const e={},n=m(t,["uri"]);n!=null&&x(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&x(e,["videoBytes"],Ix(r));const i=m(t,["encoding"]);return i!=null&&x(e,["mimeType"],i),e}function RH(t){const e={},n=m(t,["gcsUri"]);n!=null&&x(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&x(e,["videoBytes"],Ix(r));const i=m(t,["mimeType"]);return i!=null&&x(e,["mimeType"],i),e}var Ow;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ow||(Ow={}));var Lw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Lw||(Lw={}));var Uw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Uw||(Uw={}));var co;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(co||(co={}));var Vw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Vw||(Vw={}));var Bw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Bw||(Bw={}));var zw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zw||(zw={}));var Hw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Hw||(Hw={}));var Gw;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Gw||(Gw={}));var qw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qw||(qw={}));var jw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(jw||(jw={}));var $w;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})($w||($w={}));var Kw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Kw||(Kw={}));var Jw;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Jw||(Jw={}));var Yw;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Yw||(Yw={}));var Ww;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Ww||(Ww={}));var Zw;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Zw||(Zw={}));var Xw;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xw||(Xw={}));var Qw;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Qw||(Qw={}));var eS;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(eS||(eS={}));var tS;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tS||(tS={}));var tp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(tp||(tp={}));var nS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nS||(nS={}));var rS;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rS||(rS={}));var iS;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iS||(iS={}));var Wv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Wv||(Wv={}));var sS;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sS||(sS={}));var aS;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(aS||(aS={}));var Zv;(function(t){t.COLLECTION="COLLECTION"})(Zv||(Zv={}));var oS;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(oS||(oS={}));var lS;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(lS||(lS={}));var cS;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cS||(cS={}));var uS;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(uS||(uS={}));var fS;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(fS||(fS={}));var dS;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(dS||(dS={}));var hS;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hS||(hS={}));var pS;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(pS||(pS={}));var mS;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(mS||(mS={}));var gS;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(gS||(gS={}));var vS;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(vS||(vS={}));var xS;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(xS||(xS={}));var yS;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(yS||(yS={}));var _S;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(_S||(_S={}));var ES;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ES||(ES={}));var TS;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(TS||(TS={}));var wS;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(wS||(wS={}));var SS;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(SS||(SS={}));var AS;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(AS||(AS={}));var CS;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(CS||(CS={}));var bS;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(bS||(bS={}));var NS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(NS||(NS={}));var IS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(IS||(IS={}));var RS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(RS||(RS={}));var kS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kS||(kS={}));var DS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(DS||(DS={}));var MS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(MS||(MS={}));var bc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(bc||(bc={}));class Xv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class af{get text(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const g=[];for(const v of(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[T,S]of Object.entries(v))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(T);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const g of(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[v,T]of Object.entries(g))v!=="inlineData"&&(T!==null||T!==void 0)&&h.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,r,i,s,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if(h?.length!==0)return(d=h?.[0])===null||d===void 0?void 0:d.output}}class PS{}class FS{}class kH{}class DH{}class MH{}class PH{}class OS{}class LS{}class US{}class FH{}class np{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new np;let i;const s=e;return n?i=yH(s):i=xH(s),Object.assign(r,i),r}}class VS{}class BS{}class zS{}class HS{}class OH{}class LH{}class UH{}class Rx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Rx,s=CH(e);return Object.assign(r,s),r}}class VH{}class BH{}class zH{}class HH{}class GS{}class GH{get text(){var e,n,r;let i="",s=!1;const o=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&o.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="inlineData"&&f!==null&&s.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class qH{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class kx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new kx,s=dI(e);return Object.assign(r,s),r}}function $t(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function hI(t,e){const n=$t(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function pI(t){return Array.isArray(t)?t.map(e=>rp(e)):[rp(t)]}function rp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mI(t){const e=rp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gI(t){const e=rp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>qS(e)):[qS(t)]}function Qv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function jS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function $S(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Vr(t){if(t==null)throw new Error("ContentUnion is required");return Qv(t)?t:{role:"user",parts:vI(t)}}function Dx(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Vr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Vr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Vr(n)):[Vr(e)]}function qi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(jS(t)||$S(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Vr(t)]}const e=[],n=[],r=Qv(t[0]);for(const i of t){const s=Qv(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(jS(i)||$S(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:vI(n)}),e}function jH(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(co).includes(n[0].toUpperCase())?n[0].toUpperCase():co.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(co).includes(r.toUpperCase())?r.toUpperCase():co.TYPE_UNSPECIFIED})}}function Oc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&jH(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(co).includes(c.toUpperCase())?c.toUpperCase():co.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Oc(c);else if(r.includes(o)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(Oc(d))}e[o]=f}else if(i.includes(o)){const f={};for(const[d,h]of Object.entries(c))f[d]=Oc(h);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=c}return e}function Mx(t){return Oc(t)}function Px(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Fx(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function nu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Oc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Oc(e.response));return t}function ru(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function $H(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ta(t,e){if(typeof e!="string")throw new Error("name must be a string");return $H(t,e,"cachedContents")}function xI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ro(t){return Ix(t)}function KH(t){return t!=null&&typeof t=="object"&&"name"in t}function JH(t){return t!=null&&typeof t=="object"&&"video"in t}function YH(t){return t!=null&&typeof t=="object"&&"uri"in t}function yI(t){var e;let n;if(KH(t)&&(n=t.name),!(YH(t)&&(n=t.uri,n===void 0))&&!(JH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _I(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function EI(t){for(const e of["models","tunedModels","publisherModels"])if(WH(t,e))return t[e];return[]}function WH(t,e){return t!==null&&typeof t=="object"&&e in t}function ZH(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function XH(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=ZH(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function TI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function QH(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function wI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function iu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function SI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function eG(t){const e={},n=m(t,["responsesFile"]);n!=null&&x(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>PG(o))),x(e,["inlinedResponses"],s)}const i=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["inlinedEmbedContentResponses"],s)}return e}function tG(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&x(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&x(e,["gcsUri"],r);const i=m(t,["bigqueryDestination","outputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function nG(t){const e={},n=m(t,["format"]);n!=null&&x(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&x(e,["gcsDestination","outputUriPrefix"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&x(e,["bigqueryDestination","outputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function x0(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&x(e,["displayName"],r);const i=m(t,["metadata","state"]);i!=null&&x(e,["state"],SI(i));const s=m(t,["metadata","createTime"]);s!=null&&x(e,["createTime"],s);const o=m(t,["metadata","endTime"]);o!=null&&x(e,["endTime"],o);const c=m(t,["metadata","updateTime"]);c!=null&&x(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&x(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&x(e,["dest"],eG(wI(d))),e}function e1(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["displayName"]);r!=null&&x(e,["displayName"],r);const i=m(t,["state"]);i!=null&&x(e,["state"],SI(i));const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["createTime"]);o!=null&&x(e,["createTime"],o);const c=m(t,["startTime"]);c!=null&&x(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&x(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(e,["updateTime"],d);const h=m(t,["model"]);h!=null&&x(e,["model"],h);const g=m(t,["inputConfig"]);g!=null&&x(e,["src"],rG(g));const v=m(t,["outputConfig"]);v!=null&&x(e,["dest"],tG(wI(v)));const T=m(t,["completionStats"]);return T!=null&&x(e,["completionStats"],T),e}function rG(t){const e={},n=m(t,["instancesFormat"]);n!=null&&x(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&x(e,["gcsUri"],r);const i=m(t,["bigquerySource","inputUri"]);return i!=null&&x(e,["bigqueryUri"],i),e}function iG(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&x(n,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>MG(t,o))),x(n,["requests","requests"],s)}return n}function sG(t){const e={},n=m(t,["format"]);n!=null&&x(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&x(e,["gcsSource","uris"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&x(e,["bigquerySource","inputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function aG(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function oG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function lG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function cG(t){const e={},n=m(t,["content"]);n!=null&&x(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&x(e,["citationMetadata"],uG(r));const i=m(t,["tokenCount"]);i!=null&&x(e,["tokenCount"],i);const s=m(t,["finishReason"]);s!=null&&x(e,["finishReason"],s);const o=m(t,["avgLogprobs"]);o!=null&&x(e,["avgLogprobs"],o);const c=m(t,["groundingMetadata"]);c!=null&&x(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&x(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&x(e,["logprobsResult"],d);const h=m(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(T=>T)),x(e,["safetyRatings"],v)}const g=m(t,["urlContextMetadata"]);return g!=null&&x(e,["urlContextMetadata"],g),e}function uG(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["citations"],r)}return e}function AI(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zG(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function fG(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&x(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function dG(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&x(e,["displayName"],r);const i=m(t,["dest"]);return e!==void 0&&i!=null&&x(e,["outputConfig"],nG(QH(i))),n}function KS(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["_url","model"],$t(t,r));const i=m(e,["src"]);i!=null&&x(n,["batch","inputConfig"],iG(t,TI(t,i)));const s=m(e,["config"]);return s!=null&&fG(s,n),n}function hG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],$t(t,r));const i=m(e,["src"]);i!=null&&x(n,["inputConfig"],sG(TI(t,i)));const s=m(e,["config"]);return s!=null&&dG(s,n),n}function pG(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["batch","displayName"],r),n}function mG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["_url","model"],$t(t,r));const i=m(e,["src"]);i!=null&&x(n,["batch","inputConfig"],TG(t,i));const s=m(e,["config"]);return s!=null&&pG(s,n),n}function gG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function vG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function xG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);return s!=null&&x(e,["error"],s),e}function yG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);return s!=null&&x(e,["error"],s),e}function _G(t,e){const n={},r=m(e,["contents"]);if(r!=null){let s=Dx(t,r);Array.isArray(s)&&(s=s.map(o=>o)),x(n,["requests[]","request","content"],s)}const i=m(e,["config"]);return i!=null&&(x(n,["_self"],EG(i,n)),gH(n,{"requests[].*":"requests[].request.*"})),n}function EG(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&x(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&x(e,["requests[]","title"],i);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&x(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function TG(t,e){const n={},r=m(e,["fileName"]);r!=null&&x(n,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&x(n,["requests"],_G(t,i)),n}function wG(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function SG(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function AG(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&x(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function CG(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&x(n,["systemInstruction"],AI(Vr(i)));const s=m(e,["temperature"]);s!=null&&x(r,["temperature"],s);const o=m(e,["topP"]);o!=null&&x(r,["topP"],o);const c=m(e,["topK"]);c!=null&&x(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&x(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&x(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&x(r,["stopSequences"],h);const g=m(e,["responseLogprobs"]);g!=null&&x(r,["responseLogprobs"],g);const v=m(e,["logprobs"]);v!=null&&x(r,["logprobs"],v);const T=m(e,["presencePenalty"]);T!=null&&x(r,["presencePenalty"],T);const S=m(e,["frequencyPenalty"]);S!=null&&x(r,["frequencyPenalty"],S);const A=m(e,["seed"]);A!=null&&x(r,["seed"],A);const C=m(e,["responseMimeType"]);C!=null&&x(r,["responseMimeType"],C);const P=m(e,["responseSchema"]);P!=null&&x(r,["responseSchema"],Mx(P));const B=m(e,["responseJsonSchema"]);if(B!=null&&x(r,["responseJsonSchema"],B),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=m(e,["safetySettings"]);if(n!==void 0&&k!=null){let U=k;Array.isArray(U)&&(U=U.map(fe=>HG(fe))),x(n,["safetySettings"],U)}const H=m(e,["tools"]);if(n!==void 0&&H!=null){let U=ru(H);Array.isArray(U)&&(U=U.map(fe=>qG(nu(fe)))),x(n,["tools"],U)}const G=m(e,["toolConfig"]);if(n!==void 0&&G!=null&&x(n,["toolConfig"],GG(G)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=m(e,["cachedContent"]);n!==void 0&&K!=null&&x(n,["cachedContent"],Ta(t,K));const R=m(e,["responseModalities"]);R!=null&&x(r,["responseModalities"],R);const N=m(e,["mediaResolution"]);N!=null&&x(r,["mediaResolution"],N);const b=m(e,["speechConfig"]);if(b!=null&&x(r,["speechConfig"],Px(b)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=m(e,["thinkingConfig"]);F!=null&&x(r,["thinkingConfig"],F);const O=m(e,["imageConfig"]);O!=null&&x(r,["imageConfig"],DG(O));const D=m(e,["enableEnhancedCivicAnswers"]);if(D!=null&&x(r,["enableEnhancedCivicAnswers"],D),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function bG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>cG(d))),x(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&x(e,["modelVersion"],i);const s=m(t,["promptFeedback"]);s!=null&&x(e,["promptFeedback"],s);const o=m(t,["responseId"]);o!=null&&x(e,["responseId"],o);const c=m(t,["usageMetadata"]);return c!=null&&x(e,["usageMetadata"],c),e}function NG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function IG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],iu(t,r)),n}function RG(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function kG(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function DG(t){const e={},n=m(t,["aspectRatio"]);n!=null&&x(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&x(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function MG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["request","model"],$t(t,r));const i=m(e,["contents"]);if(i!=null){let c=qi(i);Array.isArray(c)&&(c=c.map(f=>AI(f))),x(n,["request","contents"],c)}const s=m(e,["metadata"]);s!=null&&x(n,["metadata"],s);const o=m(e,["config"]);return o!=null&&x(n,["request","generationConfig"],CG(t,o,m(n,["request"],{}))),n}function PG(t){const e={},n=m(t,["response"]);n!=null&&x(e,["response"],bG(n));const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["error"]);return i!=null&&x(e,["error"],i),e}function FG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);if(e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function OG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&x(e,["_query","pageToken"],i);const s=m(t,["filter"]);return e!==void 0&&s!=null&&x(e,["_query","filter"],s),n}function LG(t){const e={},n=m(t,["config"]);return n!=null&&FG(n,e),e}function UG(t){const e={},n=m(t,["config"]);return n!=null&&OG(n,e),e}function VG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>x0(o))),x(e,["batchJobs"],s)}return e}function BG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>e1(o))),x(e,["batchJobs"],s)}return e}function zG(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],wG(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],SG(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],aG(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function HG(t){const e={},n=m(t,["category"]);if(n!=null&&x(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&x(e,["threshold"],r),e}function GG(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],AG(r)),e}function qG(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],RG(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],kG(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}var ga;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ga||(ga={}));class Il{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class jG extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Il(ga.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=KS(this.apiClient,e),r=n._url,i=Je("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const h of f){const g=Object.assign({},h);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const T=g.request;T.systemInstruction=v,g.request=T}d.push(g)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=hG(this.apiClient,e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>e1(h))}else{const d=KS(this.apiClient,e);return c=Je("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>x0(h))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mG(this.apiClient,e);return s=Je("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>x0(f))}}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=IG(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>e1(h))}else{const d=NG(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>x0(h))}}async cancel(e){var n,r,i,s;let o="",c={};if(this.apiClient.isVertexAI()){const f=lG(this.apiClient,e);o=Je("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=oG(this.apiClient,e);o=Je("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=UG(e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=BG(h),v=new GS;return Object.assign(v,g),v})}else{const d=LG(e);return c=Je("batches",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=VG(h),v=new GS;return Object.assign(v,g),v})}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=vG(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>yG(h))}else{const d=gG(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>xG(h))}}}function $G(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function JS(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>mq(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function KG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&x(e,["displayName"],s);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let h=qi(o);Array.isArray(h)&&(h=h.map(g=>JS(g))),x(e,["contents"],h)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],JS(Vr(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>vq(g))),x(e,["tools"],h)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&x(e,["toolConfig"],gq(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function JG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&x(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&x(e,["displayName"],s);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let g=qi(o);Array.isArray(g)&&(g=g.map(v=>v)),x(e,["contents"],g)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&x(e,["systemInstruction"],Vr(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>xq(v))),x(e,["tools"],g)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&x(e,["toolConfig"],d);const h=m(t,["kmsKeyName"]);return e!==void 0&&h!=null&&x(e,["encryption_spec","kmsKeyName"],h),n}function YG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],hI(t,r));const i=m(e,["config"]);return i!=null&&KG(i,n),n}function WG(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["model"],hI(t,r));const i=m(e,["config"]);return i!=null&&JG(i,n),n}function ZG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function XG(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function QG(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function eq(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function tq(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function nq(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rq(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&x(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&x(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function iq(t){const e={},n=m(t,["description"]);n!=null&&x(e,["description"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["parameters"]);i!=null&&x(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&x(e,["parametersJsonSchema"],s);const o=m(t,["response"]);o!=null&&x(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&x(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sq(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function aq(t,e){const n={},r=m(e,["name"]);return r!=null&&x(n,["_url","name"],Ta(t,r)),n}function oq(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function lq(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function cq(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function uq(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function fq(t){const e={},n=m(t,["config"]);return n!=null&&cq(n,e),e}function dq(t){const e={},n=m(t,["config"]);return n!=null&&uq(n,e),e}function hq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["cachedContents"],s)}return e}function pq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["cachedContents"],s)}return e}function mq(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],tq(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],nq(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],$G(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function gq(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&x(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&x(e,["functionCallingConfig"],rq(r)),e}function vq(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],oq(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],lq(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function xq(t){const e={},n=m(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&x(e,["enterpriseWebSearch"],s);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>iq(v))),x(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function yq(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function _q(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&x(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&x(e,["expireTime"],i),n}function Eq(t,e){const n={},r=m(e,["name"]);r!=null&&x(n,["_url","name"],Ta(t,r));const i=m(e,["config"]);return i!=null&&yq(i,n),n}function Tq(t,e){const n={},r=m(e,["name"]);r!=null&&x(n,["_url","name"],Ta(t,r));const i=m(e,["config"]);return i!=null&&_q(i,n),n}class wq extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Il(ga.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=WG(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=YG(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=aq(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=sq(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=XG(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=eq(h),v=new zS;return Object.assign(v,g),v})}else{const d=ZG(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=QG(h),v=new zS;return Object.assign(v,g),v})}}async update(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Tq(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=Eq(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=dq(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=pq(h),v=new HS;return Object.assign(v,g),v})}else{const d=fq(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=hq(h),v=new HS;return Object.assign(v,g),v})}}}function ip(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(t){return this instanceof vt?(this.v=t,this):new vt(t)}function ps(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(T){return function(S){return Promise.resolve(S).then(T,g)}}function c(T,S){r[T]&&(i[T]=function(A){return new Promise(function(C,P){s.push([T,A,C,P])>1||f(T,A)})},S&&(i[T]=S(i[T])))}function f(T,S){try{d(r[T](S))}catch(A){v(s[0][3],A)}}function d(T){T.value instanceof vt?Promise.resolve(T.value.v).then(h,g):v(s[0][2],T)}function h(T){f("next",T)}function g(T){f("throw",T)}function v(T,S){T(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function ms(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof YS=="function"?YS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,f){o=t[s](o),i(c,f,o.done,o.value)})}}function i(s,o,c,f){Promise.resolve(f).then(function(d){s({value:d,done:c})},o)}}function Sq(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:CI(n)}function CI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Aq(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function WS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!CI(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class Cq{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new bq(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class bq{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Aq(s)}async sendMessage(e){var n;await this.sendPromise;const r=Vr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,c;const f=await i,d=(o=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,h=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];h!=null&&(v=(c=h.slice(g))!==null&&c!==void 0?c:[]);const T=d?[d]:[];this.recordHistory(r,T,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Vr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?WS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ps(this,arguments,function*(){var i,s,o,c,f,d;const h=[];try{for(var g=!0,v=ms(e),T;T=yield vt(v.next()),i=T.done,!i;g=!0){c=T.value,g=!1;const S=c;if(Sq(S)){const A=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;A!==void 0&&h.push(A)}yield yield vt(S)}}catch(S){s={error:S}}finally{try{!g&&!i&&(o=v.return)&&(yield vt(o.call(v)))}finally{if(s)throw s.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...WS(r)):this.history.push(e),this.history.push(...i)}}class ed extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ed.prototype)}}function Nq(t){const e={},n=m(t,["file"]);return n!=null&&x(e,["file"],n),e}function Iq(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Rq(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","file"],yI(n)),e}function kq(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}function Dq(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","file"],yI(n)),e}function Mq(t){const e={},n=m(t,["uris"]);return n!=null&&x(e,["uris"],n),e}function Pq(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function Fq(t){const e={},n=m(t,["config"]);return n!=null&&Pq(n,e),e}function Oq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["files"],s)}return e}function Lq(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),x(e,["files"],i)}return e}class Uq extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Il(ga.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Fq(e);return s=Je("files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Oq(f),h=new VH;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Nq(e);return s=Je("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Iq(f),h=new BH;return Object.assign(h,d),h})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Dq(e);return s=Je("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Rq(e);return s=Je("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=kq(f),h=new zH;return Object.assign(h,d),h})}}async registerFilesInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Mq(e);return s=Je("files:register",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Lq(f),h=new HH;return Object.assign(h,d),h})}}}function y0(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function Vq(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>tj(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function Bq(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function zq(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hq(t){const e={},n=m(t,["description"]);n!=null&&x(e,["description"],n);const r=m(t,["name"]);r!=null&&x(e,["name"],r);const i=m(t,["parameters"]);i!=null&&x(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&x(e,["parametersJsonSchema"],s);const o=m(t,["response"]);o!=null&&x(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&x(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Gq(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&x(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&x(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&x(e,["audioTimestamp"],i);const s=m(t,["candidateCount"]);s!=null&&x(e,["candidateCount"],s);const o=m(t,["enableAffectiveDialog"]);o!=null&&x(e,["enableAffectiveDialog"],o);const c=m(t,["frequencyPenalty"]);c!=null&&x(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&x(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&x(e,["maxOutputTokens"],d);const h=m(t,["mediaResolution"]);h!=null&&x(e,["mediaResolution"],h);const g=m(t,["presencePenalty"]);g!=null&&x(e,["presencePenalty"],g);const v=m(t,["responseLogprobs"]);v!=null&&x(e,["responseLogprobs"],v);const T=m(t,["responseMimeType"]);T!=null&&x(e,["responseMimeType"],T);const S=m(t,["responseModalities"]);S!=null&&x(e,["responseModalities"],S);const A=m(t,["responseSchema"]);A!=null&&x(e,["responseSchema"],A);const C=m(t,["routingConfig"]);C!=null&&x(e,["routingConfig"],C);const P=m(t,["seed"]);P!=null&&x(e,["seed"],P);const B=m(t,["speechConfig"]);B!=null&&x(e,["speechConfig"],B);const k=m(t,["stopSequences"]);k!=null&&x(e,["stopSequences"],k);const H=m(t,["temperature"]);H!=null&&x(e,["temperature"],H);const G=m(t,["thinkingConfig"]);G!=null&&x(e,["thinkingConfig"],G);const K=m(t,["topK"]);K!=null&&x(e,["topK"],K);const R=m(t,["topP"]);if(R!=null&&x(e,["topP"],R),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qq(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function jq(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function $q(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],Fx(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],Vq(Vr(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let K=ru(A);Array.isArray(K)&&(K=K.map(R=>rj(nu(R)))),x(e,["setup","tools"],K)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],nj(C));const P=m(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&x(e,["setup","inputAudioTranscription"],P);const B=m(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&x(e,["setup","outputAudioTranscription"],B);const k=m(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&x(e,["setup","realtimeInputConfig"],k);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&x(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Kq(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],Gq(r));const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],Fx(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],Vr(S));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let R=ru(A);Array.isArray(R)&&(R=R.map(N=>ij(nu(N)))),x(e,["setup","tools"],R)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],C);const P=m(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&x(e,["setup","inputAudioTranscription"],P);const B=m(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&x(e,["setup","outputAudioTranscription"],B);const k=m(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&x(e,["setup","realtimeInputConfig"],k);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);e!==void 0&&G!=null&&x(e,["setup","proactivity"],G);const K=m(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&x(e,["setup","explicitVadSignal"],K),n}function Jq(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],$t(t,r));const i=m(e,["config"]);return i!=null&&x(n,["config"],$q(i,n)),n}function Yq(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],$t(t,r));const i=m(e,["config"]);return i!=null&&x(n,["config"],Kq(i,n)),n}function Wq(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&x(e,["musicGenerationConfig"],n),e}function Zq(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),x(e,["weightedPrompts"],r)}return e}function Xq(t){const e={},n=m(t,["media"]);if(n!=null){let d=pI(n);Array.isArray(d)&&(d=d.map(h=>y0(h))),x(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&x(e,["audio"],y0(gI(r)));const i=m(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&x(e,["video"],y0(mI(s)));const o=m(t,["text"]);o!=null&&x(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function Qq(t){const e={},n=m(t,["media"]);if(n!=null){let d=pI(n);Array.isArray(d)&&(d=d.map(h=>h)),x(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&x(e,["audio"],gI(r));const i=m(t,["audioStreamEnd"]);i!=null&&x(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&x(e,["video"],mI(s));const o=m(t,["text"]);o!=null&&x(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&x(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&x(e,["activityEnd"],f),e}function ej(t){const e={},n=m(t,["setupComplete"]);n!=null&&x(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&x(e,["serverContent"],r);const i=m(t,["toolCall"]);i!=null&&x(e,["toolCall"],i);const s=m(t,["toolCallCancellation"]);s!=null&&x(e,["toolCallCancellation"],s);const o=m(t,["usageMetadata"]);o!=null&&x(e,["usageMetadata"],sj(o));const c=m(t,["goAway"]);c!=null&&x(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);f!=null&&x(e,["sessionResumptionUpdate"],f);const d=m(t,["voiceActivityDetectionSignal"]);d!=null&&x(e,["voiceActivityDetectionSignal"],d);const h=m(t,["voiceActivity"]);return h!=null&&x(e,["voiceActivity"],aj(h)),e}function tj(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],Bq(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],zq(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],y0(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function nj(t){const e={},n=m(t,["handle"]);if(n!=null&&x(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rj(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],qq(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],jq(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function ij(t){const e={},n=m(t,["retrieval"]);n!=null&&x(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&x(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&x(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&x(e,["enterpriseWebSearch"],s);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>Hq(v))),x(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&x(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&x(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(e,["urlContext"],h),e}function sj(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&x(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&x(e,["cachedContentTokenCount"],r);const i=m(t,["candidatesTokenCount"]);i!=null&&x(e,["responseTokenCount"],i);const s=m(t,["toolUsePromptTokenCount"]);s!=null&&x(e,["toolUsePromptTokenCount"],s);const o=m(t,["thoughtsTokenCount"]);o!=null&&x(e,["thoughtsTokenCount"],o);const c=m(t,["totalTokenCount"]);c!=null&&x(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["promptTokensDetails"],T)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["cacheTokensDetails"],T)}const h=m(t,["candidatesTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["responseTokensDetails"],T)}const g=m(t,["toolUsePromptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),x(e,["toolUsePromptTokensDetails"],T)}const v=m(t,["trafficType"]);return v!=null&&x(e,["trafficType"],v),e}function aj(t){const e={},n=m(t,["type"]);return n!=null&&x(e,["voiceActivityType"],n),e}function oj(t,e){const n={},r=m(t,["data"]);if(r!=null&&x(n,["data"],r),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function lj(t,e){const n={},r=m(t,["content"]);r!=null&&x(n,["content"],r);const i=m(t,["citationMetadata"]);i!=null&&x(n,["citationMetadata"],cj(i));const s=m(t,["tokenCount"]);s!=null&&x(n,["tokenCount"],s);const o=m(t,["finishReason"]);o!=null&&x(n,["finishReason"],o);const c=m(t,["avgLogprobs"]);c!=null&&x(n,["avgLogprobs"],c);const f=m(t,["groundingMetadata"]);f!=null&&x(n,["groundingMetadata"],f);const d=m(t,["index"]);d!=null&&x(n,["index"],d);const h=m(t,["logprobsResult"]);h!=null&&x(n,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),x(n,["safetyRatings"],T)}const v=m(t,["urlContextMetadata"]);return v!=null&&x(n,["urlContextMetadata"],v),n}function cj(t,e){const n={},r=m(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),x(n,["citations"],i)}return n}function uj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["contents"]);if(s!=null){let o=qi(s);Array.isArray(o)&&(o=o.map(c=>c)),x(r,["contents"],o)}return r}function fj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(n,["tokensInfo"],s)}return n}function dj(t,e){const n={},r=m(t,["values"]);r!=null&&x(n,["values"],r);const i=m(t,["statistics"]);return i!=null&&x(n,["statistics"],hj(i)),n}function hj(t,e){const n={},r=m(t,["truncated"]);r!=null&&x(n,["truncated"],r);const i=m(t,["token_count"]);return i!=null&&x(n,["tokenCount"],i),n}function Mp(t,e){const n={},r=m(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>T$(o))),x(n,["parts"],s)}const i=m(t,["role"]);return i!=null&&x(n,["role"],i),n}function pj(t,e){const n={},r=m(t,["controlType"]);r!=null&&x(n,["controlType"],r);const i=m(t,["enableControlImageComputation"]);return i!=null&&x(n,["computeControl"],i),n}function mj(t,e){const n={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function gj(t,e,n){const r={},i=m(t,["systemInstruction"]);e!==void 0&&i!=null&&x(e,["systemInstruction"],Vr(i));const s=m(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>RI(f))),x(e,["tools"],c)}const o=m(t,["generationConfig"]);return e!==void 0&&o!=null&&x(e,["generationConfig"],o$(o)),r}function vj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>Mp(f))),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&mj(o),r}function xj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&gj(o,r),r}function yj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);i!=null&&x(n,["totalTokens"],i);const s=m(t,["cachedContentTokenCount"]);return s!=null&&x(n,["cachedContentTokenCount"],s),n}function _j(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);return i!=null&&x(n,["totalTokens"],i),n}function Ej(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],$t(t,i)),r}function Tj(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],$t(t,i)),r}function wj(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Sj(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function Aj(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&x(e,["parameters","negativePrompt"],s);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&x(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&x(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&x(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","compressionQuality"],C);const P=m(t,["addWatermark"]);e!==void 0&&P!=null&&x(e,["parameters","addWatermark"],P);const B=m(t,["labels"]);e!==void 0&&B!=null&&x(e,["labels"],B);const k=m(t,["editMode"]);e!==void 0&&k!=null&&x(e,["parameters","editMode"],k);const H=m(t,["baseSteps"]);return e!==void 0&&H!=null&&x(e,["parameters","editConfig","baseSteps"],H),r}function Cj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>N$(d))),x(r,["instances[0]","referenceImages"],f)}const c=m(e,["config"]);return c!=null&&Aj(c,r),r}function bj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Pp(o))),x(n,["generatedImages"],s)}return n}function Nj(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&x(e,["requests[]","taskType"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&x(e,["requests[]","title"],s);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&x(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Ij(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&x(e,["instances[]","task_type"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&x(e,["instances[]","title"],s);const o=m(t,["outputDimensionality"]);e!==void 0&&o!=null&&x(e,["parameters","outputDimensionality"],o);const c=m(t,["mimeType"]);e!==void 0&&c!=null&&x(e,["instances[]","mimeType"],c);const f=m(t,["autoTruncate"]);return e!==void 0&&f!=null&&x(e,["parameters","autoTruncate"],f),r}function Rj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["contents"]);if(s!=null){let f=Dx(t,s);Array.isArray(f)&&(f=f.map(d=>d)),x(r,["requests[]","content"],f)}const o=m(e,["config"]);o!=null&&Nj(o,r);const c=m(e,["model"]);return c!==void 0&&x(r,["requests[]","model"],$t(t,c)),r}function kj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["contents"]);if(s!=null){let c=Dx(t,s);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["instances[]","content"],c)}const o=m(e,["config"]);return o!=null&&Ij(o,r),r}function Dj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>c)),x(n,["embeddings"],o)}const s=m(t,["metadata"]);return s!=null&&x(n,["metadata"],s),n}function Mj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>dj(c))),x(n,["embeddings"],o)}const s=m(t,["metadata"]);return s!=null&&x(n,["metadata"],s),n}function Pj(t,e){const n={},r=m(t,["endpoint"]);r!=null&&x(n,["name"],r);const i=m(t,["deployedModelId"]);return i!=null&&x(n,["deployedModelId"],i),n}function Fj(t,e){const n={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["fileUri"]);r!=null&&x(n,["fileUri"],r);const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function Oj(t,e){const n={},r=m(t,["id"]);r!=null&&x(n,["id"],r);const i=m(t,["args"]);i!=null&&x(n,["args"],i);const s=m(t,["name"]);if(s!=null&&x(n,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Lj(t,e){const n={},r=m(t,["allowedFunctionNames"]);r!=null&&x(n,["allowedFunctionNames"],r);const i=m(t,["mode"]);if(i!=null&&x(n,["mode"],i),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Uj(t,e){const n={},r=m(t,["description"]);r!=null&&x(n,["description"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["parameters"]);s!=null&&x(n,["parameters"],s);const o=m(t,["parametersJsonSchema"]);o!=null&&x(n,["parametersJsonSchema"],o);const c=m(t,["response"]);c!=null&&x(n,["response"],c);const f=m(t,["responseJsonSchema"]);if(f!=null&&x(n,["responseJsonSchema"],f),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Vj(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],Mp(Vr(s)));const o=m(e,["temperature"]);o!=null&&x(i,["temperature"],o);const c=m(e,["topP"]);c!=null&&x(i,["topP"],c);const f=m(e,["topK"]);f!=null&&x(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&x(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&x(i,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&x(i,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&x(i,["responseLogprobs"],v);const T=m(e,["logprobs"]);T!=null&&x(i,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&x(i,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&x(i,["seed"],C);const P=m(e,["responseMimeType"]);P!=null&&x(i,["responseMimeType"],P);const B=m(e,["responseSchema"]);B!=null&&x(i,["responseSchema"],Mx(B));const k=m(e,["responseJsonSchema"]);if(k!=null&&x(i,["responseJsonSchema"],k),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=m(e,["safetySettings"]);if(n!==void 0&&H!=null){let fe=H;Array.isArray(fe)&&(fe=fe.map(ie=>I$(ie))),x(n,["safetySettings"],fe)}const G=m(e,["tools"]);if(n!==void 0&&G!=null){let fe=ru(G);Array.isArray(fe)&&(fe=fe.map(ie=>O$(nu(ie)))),x(n,["tools"],fe)}const K=m(e,["toolConfig"]);if(n!==void 0&&K!=null&&x(n,["toolConfig"],F$(K)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=m(e,["cachedContent"]);n!==void 0&&R!=null&&x(n,["cachedContent"],Ta(t,R));const N=m(e,["responseModalities"]);N!=null&&x(i,["responseModalities"],N);const b=m(e,["mediaResolution"]);b!=null&&x(i,["mediaResolution"],b);const F=m(e,["speechConfig"]);if(F!=null&&x(i,["speechConfig"],Px(F)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=m(e,["thinkingConfig"]);O!=null&&x(i,["thinkingConfig"],O);const D=m(e,["imageConfig"]);D!=null&&x(i,["imageConfig"],d$(D));const U=m(e,["enableEnhancedCivicAnswers"]);if(U!=null&&x(i,["enableEnhancedCivicAnswers"],U),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function Bj(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&x(n,["systemInstruction"],Vr(s));const o=m(e,["temperature"]);o!=null&&x(i,["temperature"],o);const c=m(e,["topP"]);c!=null&&x(i,["topP"],c);const f=m(e,["topK"]);f!=null&&x(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&x(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&x(i,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&x(i,["stopSequences"],g);const v=m(e,["responseLogprobs"]);v!=null&&x(i,["responseLogprobs"],v);const T=m(e,["logprobs"]);T!=null&&x(i,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&x(i,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&x(i,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&x(i,["seed"],C);const P=m(e,["responseMimeType"]);P!=null&&x(i,["responseMimeType"],P);const B=m(e,["responseSchema"]);B!=null&&x(i,["responseSchema"],Mx(B));const k=m(e,["responseJsonSchema"]);k!=null&&x(i,["responseJsonSchema"],k);const H=m(e,["routingConfig"]);H!=null&&x(i,["routingConfig"],H);const G=m(e,["modelSelectionConfig"]);G!=null&&x(i,["modelConfig"],G);const K=m(e,["safetySettings"]);if(n!==void 0&&K!=null){let ce=K;Array.isArray(ce)&&(ce=ce.map(ae=>ae)),x(n,["safetySettings"],ce)}const R=m(e,["tools"]);if(n!==void 0&&R!=null){let ce=ru(R);Array.isArray(ce)&&(ce=ce.map(ae=>RI(nu(ae)))),x(n,["tools"],ce)}const N=m(e,["toolConfig"]);n!==void 0&&N!=null&&x(n,["toolConfig"],N);const b=m(e,["labels"]);n!==void 0&&b!=null&&x(n,["labels"],b);const F=m(e,["cachedContent"]);n!==void 0&&F!=null&&x(n,["cachedContent"],Ta(t,F));const O=m(e,["responseModalities"]);O!=null&&x(i,["responseModalities"],O);const D=m(e,["mediaResolution"]);D!=null&&x(i,["mediaResolution"],D);const U=m(e,["speechConfig"]);U!=null&&x(i,["speechConfig"],Px(U));const fe=m(e,["audioTimestamp"]);fe!=null&&x(i,["audioTimestamp"],fe);const ie=m(e,["thinkingConfig"]);ie!=null&&x(i,["thinkingConfig"],ie);const se=m(e,["imageConfig"]);if(se!=null&&x(i,["imageConfig"],h$(se)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const le=m(e,["modelArmorConfig"]);return n!==void 0&&le!=null&&x(n,["modelArmorConfig"],le),i}function ZS(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>Mp(f))),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&x(r,["generationConfig"],Vj(t,o,r)),r}function XS(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>f)),x(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&x(r,["generationConfig"],Bj(t,o,r)),r}function QS(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>lj(h))),x(n,["candidates"],d)}const s=m(t,["modelVersion"]);s!=null&&x(n,["modelVersion"],s);const o=m(t,["promptFeedback"]);o!=null&&x(n,["promptFeedback"],o);const c=m(t,["responseId"]);c!=null&&x(n,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&x(n,["usageMetadata"],f),n}function eA(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),x(n,["candidates"],h)}const s=m(t,["createTime"]);s!=null&&x(n,["createTime"],s);const o=m(t,["modelVersion"]);o!=null&&x(n,["modelVersion"],o);const c=m(t,["promptFeedback"]);c!=null&&x(n,["promptFeedback"],c);const f=m(t,["responseId"]);f!=null&&x(n,["responseId"],f);const d=m(t,["usageMetadata"]);return d!=null&&x(n,["usageMetadata"],d),n}function zj(t,e,n){const r={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const s=m(t,["aspectRatio"]);e!==void 0&&s!=null&&x(e,["parameters","aspectRatio"],s);const o=m(t,["guidanceScale"]);if(e!==void 0&&o!=null&&x(e,["parameters","guidanceScale"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&x(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f);const d=m(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&x(e,["parameters","includeSafetyAttributes"],d);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&x(e,["parameters","includeRaiReason"],h);const g=m(t,["language"]);e!==void 0&&g!=null&&x(e,["parameters","language"],g);const v=m(t,["outputMimeType"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","mimeType"],v);const T=m(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&x(e,["parameters","outputOptions","compressionQuality"],T),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(t,["imageSize"]);if(e!==void 0&&S!=null&&x(e,["parameters","sampleImageSize"],S),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Hj(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&x(e,["parameters","negativePrompt"],s);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&x(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&x(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&x(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&x(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&x(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&x(e,["parameters","includeSafetyAttributes"],v);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&x(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&x(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&x(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&x(e,["parameters","outputOptions","compressionQuality"],C);const P=m(t,["addWatermark"]);e!==void 0&&P!=null&&x(e,["parameters","addWatermark"],P);const B=m(t,["labels"]);e!==void 0&&B!=null&&x(e,["labels"],B);const k=m(t,["imageSize"]);e!==void 0&&k!=null&&x(e,["parameters","sampleImageSize"],k);const H=m(t,["enhancePrompt"]);return e!==void 0&&H!=null&&x(e,["parameters","enhancePrompt"],H),r}function Gj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&zj(o,r),r}function qj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&Hj(o,r),r}function jj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>r$(c))),x(n,["generatedImages"],o)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&x(n,["positivePromptSafetyAttributes"],NI(s)),n}function $j(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>Pp(c))),x(n,["generatedImages"],o)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&x(n,["positivePromptSafetyAttributes"],II(s)),n}function Kj(t,e,n){const r={},i=m(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(t,["durationSeconds"]);if(e!==void 0&&s!=null&&x(e,["parameters","durationSeconds"],s),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&x(e,["parameters","aspectRatio"],o);const c=m(t,["resolution"]);e!==void 0&&c!=null&&x(e,["parameters","resolution"],c);const f=m(t,["personGeneration"]);if(e!==void 0&&f!=null&&x(e,["parameters","personGeneration"],f),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(t,["negativePrompt"]);e!==void 0&&d!=null&&x(e,["parameters","negativePrompt"],d);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&x(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(t,["lastFrame"]);e!==void 0&&g!=null&&x(e,["instances[0]","lastFrame"],Fp(g));const v=m(t,["referenceImages"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>Y$(S))),x(e,["instances[0]","referenceImages"],T)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Jj(t,e,n){const r={},i=m(t,["numberOfVideos"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&x(e,["parameters","storageUri"],s);const o=m(t,["fps"]);e!==void 0&&o!=null&&x(e,["parameters","fps"],o);const c=m(t,["durationSeconds"]);e!==void 0&&c!=null&&x(e,["parameters","durationSeconds"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&x(e,["parameters","seed"],f);const d=m(t,["aspectRatio"]);e!==void 0&&d!=null&&x(e,["parameters","aspectRatio"],d);const h=m(t,["resolution"]);e!==void 0&&h!=null&&x(e,["parameters","resolution"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&x(e,["parameters","personGeneration"],g);const v=m(t,["pubsubTopic"]);e!==void 0&&v!=null&&x(e,["parameters","pubsubTopic"],v);const T=m(t,["negativePrompt"]);e!==void 0&&T!=null&&x(e,["parameters","negativePrompt"],T);const S=m(t,["enhancePrompt"]);e!==void 0&&S!=null&&x(e,["parameters","enhancePrompt"],S);const A=m(t,["generateAudio"]);e!==void 0&&A!=null&&x(e,["parameters","generateAudio"],A);const C=m(t,["lastFrame"]);e!==void 0&&C!=null&&x(e,["instances[0]","lastFrame"],vs(C));const P=m(t,["referenceImages"]);if(e!==void 0&&P!=null){let H=P;Array.isArray(H)&&(H=H.map(G=>W$(G))),x(e,["instances[0]","referenceImages"],H)}const B=m(t,["mask"]);e!==void 0&&B!=null&&x(e,["instances[0]","mask"],J$(B));const k=m(t,["compressionQuality"]);return e!==void 0&&k!=null&&x(e,["parameters","compressionQuality"],k),r}function Yj(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["metadata"]);i!=null&&x(n,["metadata"],i);const s=m(t,["done"]);s!=null&&x(n,["done"],s);const o=m(t,["error"]);o!=null&&x(n,["error"],o);const c=m(t,["response","generateVideoResponse"]);return c!=null&&x(n,["response"],Qj(c)),n}function Wj(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["metadata"]);i!=null&&x(n,["metadata"],i);const s=m(t,["done"]);s!=null&&x(n,["done"],s);const o=m(t,["error"]);o!=null&&x(n,["error"],o);const c=m(t,["response"]);return c!=null&&x(n,["response"],e$(c)),n}function Zj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["image"]);o!=null&&x(r,["instances[0]","image"],Fp(o));const c=m(e,["video"]);c!=null&&x(r,["instances[0]","video"],kI(c));const f=m(e,["source"]);f!=null&&t$(f,r);const d=m(e,["config"]);return d!=null&&Kj(d,r),r}function Xj(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["prompt"]);s!=null&&x(r,["instances[0]","prompt"],s);const o=m(e,["image"]);o!=null&&x(r,["instances[0]","image"],vs(o));const c=m(e,["video"]);c!=null&&x(r,["instances[0]","video"],DI(c));const f=m(e,["source"]);f!=null&&n$(f,r);const d=m(e,["config"]);return d!=null&&Jj(d,r),r}function Qj(t,e){const n={},r=m(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>s$(c))),x(n,["generatedVideos"],o)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&x(n,["raiMediaFilteredReasons"],s),n}function e$(t,e){const n={},r=m(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>a$(c))),x(n,["generatedVideos"],o)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&x(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&x(n,["raiMediaFilteredReasons"],s),n}function t$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&x(e,["instances[0]","image"],Fp(s));const o=m(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],kI(o)),r}function n$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&x(e,["instances[0]","image"],vs(s));const o=m(t,["video"]);return e!==void 0&&o!=null&&x(e,["instances[0]","video"],DI(o)),r}function r$(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["image"],p$(r));const i=m(t,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const s=m(t,["_self"]);return s!=null&&x(n,["safetyAttributes"],NI(s)),n}function Pp(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["image"],bI(r));const i=m(t,["raiFilteredReason"]);i!=null&&x(n,["raiFilteredReason"],i);const s=m(t,["_self"]);s!=null&&x(n,["safetyAttributes"],II(s));const o=m(t,["prompt"]);return o!=null&&x(n,["enhancedPrompt"],o),n}function i$(t,e){const n={},r=m(t,["_self"]);r!=null&&x(n,["mask"],bI(r));const i=m(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(n,["labels"],s)}return n}function s$(t,e){const n={},r=m(t,["video"]);return r!=null&&x(n,["video"],$$(r)),n}function a$(t,e){const n={},r=m(t,["_self"]);return r!=null&&x(n,["video"],K$(r)),n}function o$(t,e){const n={},r=m(t,["modelSelectionConfig"]);r!=null&&x(n,["modelConfig"],r);const i=m(t,["responseJsonSchema"]);i!=null&&x(n,["responseJsonSchema"],i);const s=m(t,["audioTimestamp"]);s!=null&&x(n,["audioTimestamp"],s);const o=m(t,["candidateCount"]);o!=null&&x(n,["candidateCount"],o);const c=m(t,["enableAffectiveDialog"]);c!=null&&x(n,["enableAffectiveDialog"],c);const f=m(t,["frequencyPenalty"]);f!=null&&x(n,["frequencyPenalty"],f);const d=m(t,["logprobs"]);d!=null&&x(n,["logprobs"],d);const h=m(t,["maxOutputTokens"]);h!=null&&x(n,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&x(n,["mediaResolution"],g);const v=m(t,["presencePenalty"]);v!=null&&x(n,["presencePenalty"],v);const T=m(t,["responseLogprobs"]);T!=null&&x(n,["responseLogprobs"],T);const S=m(t,["responseMimeType"]);S!=null&&x(n,["responseMimeType"],S);const A=m(t,["responseModalities"]);A!=null&&x(n,["responseModalities"],A);const C=m(t,["responseSchema"]);C!=null&&x(n,["responseSchema"],C);const P=m(t,["routingConfig"]);P!=null&&x(n,["routingConfig"],P);const B=m(t,["seed"]);B!=null&&x(n,["seed"],B);const k=m(t,["speechConfig"]);k!=null&&x(n,["speechConfig"],k);const H=m(t,["stopSequences"]);H!=null&&x(n,["stopSequences"],H);const G=m(t,["temperature"]);G!=null&&x(n,["temperature"],G);const K=m(t,["thinkingConfig"]);K!=null&&x(n,["thinkingConfig"],K);const R=m(t,["topK"]);R!=null&&x(n,["topK"],R);const N=m(t,["topP"]);if(N!=null&&x(n,["topP"],N),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function l$(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],$t(t,i)),r}function c$(t,e,n){const r={},i=m(e,["model"]);return i!=null&&x(r,["_url","name"],$t(t,i)),r}function u$(t,e){const n={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=m(t,["enableWidget"]);return r!=null&&x(n,["enableWidget"],r),n}function f$(t,e){const n={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=m(t,["timeRangeFilter"]);return r!=null&&x(n,["timeRangeFilter"],r),n}function d$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=m(t,["imageSize"]);if(i!=null&&x(n,["imageSize"],i),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function h$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&x(n,["aspectRatio"],r);const i=m(t,["imageSize"]);i!=null&&x(n,["imageSize"],i);const s=m(t,["personGeneration"]);s!=null&&x(n,["personGeneration"],s);const o=m(t,["outputMimeType"]);o!=null&&x(n,["imageOutputOptions","mimeType"],o);const c=m(t,["outputCompressionQuality"]);return c!=null&&x(n,["imageOutputOptions","compressionQuality"],c),n}function p$(t,e){const n={},r=m(t,["bytesBase64Encoded"]);r!=null&&x(n,["imageBytes"],Ro(r));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function bI(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&x(n,["imageBytes"],Ro(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function Fp(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(t,["imageBytes"]);r!=null&&x(n,["bytesBase64Encoded"],Ro(r));const i=m(t,["mimeType"]);return i!=null&&x(n,["mimeType"],i),n}function vs(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["gcsUri"],r);const i=m(t,["imageBytes"]);i!=null&&x(n,["bytesBase64Encoded"],Ro(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function m$(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],_I(t,f)),i}function g$(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&x(n,["_query","pageSize"],s);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&x(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&x(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&x(n,["_url","models_url"],_I(t,f)),i}function v$(t,e,n){const r={},i=m(e,["config"]);return i!=null&&m$(t,i,r),r}function x$(t,e,n){const r={},i=m(e,["config"]);return i!=null&&g$(t,i,r),r}function y$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let o=EI(s);Array.isArray(o)&&(o=o.map(c=>t1(c))),x(n,["models"],o)}return n}function _$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let o=EI(s);Array.isArray(o)&&(o=o.map(c=>n1(c))),x(n,["models"],o)}return n}function E$(t,e){const n={},r=m(t,["maskMode"]);r!=null&&x(n,["maskMode"],r);const i=m(t,["segmentationClasses"]);i!=null&&x(n,["maskClasses"],i);const s=m(t,["maskDilation"]);return s!=null&&x(n,["dilation"],s),n}function t1(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["displayName"]);i!=null&&x(n,["displayName"],i);const s=m(t,["description"]);s!=null&&x(n,["description"],s);const o=m(t,["version"]);o!=null&&x(n,["version"],o);const c=m(t,["_self"]);c!=null&&x(n,["tunedModelInfo"],L$(c));const f=m(t,["inputTokenLimit"]);f!=null&&x(n,["inputTokenLimit"],f);const d=m(t,["outputTokenLimit"]);d!=null&&x(n,["outputTokenLimit"],d);const h=m(t,["supportedGenerationMethods"]);h!=null&&x(n,["supportedActions"],h);const g=m(t,["temperature"]);g!=null&&x(n,["temperature"],g);const v=m(t,["maxTemperature"]);v!=null&&x(n,["maxTemperature"],v);const T=m(t,["topP"]);T!=null&&x(n,["topP"],T);const S=m(t,["topK"]);S!=null&&x(n,["topK"],S);const A=m(t,["thinking"]);return A!=null&&x(n,["thinking"],A),n}function n1(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["name"],r);const i=m(t,["displayName"]);i!=null&&x(n,["displayName"],i);const s=m(t,["description"]);s!=null&&x(n,["description"],s);const o=m(t,["versionId"]);o!=null&&x(n,["version"],o);const c=m(t,["deployedModels"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>Pj(T))),x(n,["endpoints"],v)}const f=m(t,["labels"]);f!=null&&x(n,["labels"],f);const d=m(t,["_self"]);d!=null&&x(n,["tunedModelInfo"],U$(d));const h=m(t,["defaultCheckpointId"]);h!=null&&x(n,["defaultCheckpointId"],h);const g=m(t,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(T=>T)),x(n,["checkpoints"],v)}return n}function T$(t,e){const n={},r=m(t,["mediaResolution"]);r!=null&&x(n,["mediaResolution"],r);const i=m(t,["codeExecutionResult"]);i!=null&&x(n,["codeExecutionResult"],i);const s=m(t,["executableCode"]);s!=null&&x(n,["executableCode"],s);const o=m(t,["fileData"]);o!=null&&x(n,["fileData"],Fj(o));const c=m(t,["functionCall"]);c!=null&&x(n,["functionCall"],Oj(c));const f=m(t,["functionResponse"]);f!=null&&x(n,["functionResponse"],f);const d=m(t,["inlineData"]);d!=null&&x(n,["inlineData"],oj(d));const h=m(t,["text"]);h!=null&&x(n,["text"],h);const g=m(t,["thought"]);g!=null&&x(n,["thought"],g);const v=m(t,["thoughtSignature"]);v!=null&&x(n,["thoughtSignature"],v);const T=m(t,["videoMetadata"]);return T!=null&&x(n,["videoMetadata"],T),n}function w$(t,e){const n={},r=m(t,["productImage"]);return r!=null&&x(n,["image"],vs(r)),n}function S$(t,e,n){const r={},i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&x(e,["parameters","sampleCount"],i);const s=m(t,["baseSteps"]);e!==void 0&&s!=null&&x(e,["parameters","baseSteps"],s);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&x(e,["parameters","storageUri"],o);const c=m(t,["seed"]);e!==void 0&&c!=null&&x(e,["parameters","seed"],c);const f=m(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&x(e,["parameters","safetySetting"],f);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&x(e,["parameters","personGeneration"],d);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&x(e,["parameters","addWatermark"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&x(e,["parameters","outputOptions","mimeType"],g);const v=m(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&x(e,["parameters","outputOptions","compressionQuality"],v);const T=m(t,["enhancePrompt"]);e!==void 0&&T!=null&&x(e,["parameters","enhancePrompt"],T);const S=m(t,["labels"]);return e!==void 0&&S!=null&&x(e,["labels"],S),r}function A$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["source"]);s!=null&&b$(s,r);const o=m(e,["config"]);return o!=null&&S$(o,r),r}function C$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Pp(s))),x(n,["generatedImages"],i)}return n}function b$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["personImage"]);e!==void 0&&s!=null&&x(e,["instances[0]","personImage","image"],vs(s));const o=m(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>w$(f))),x(e,["instances[0]","productImages"],c)}return r}function N$(t,e){const n={},r=m(t,["referenceImage"]);r!=null&&x(n,["referenceImage"],vs(r));const i=m(t,["referenceId"]);i!=null&&x(n,["referenceId"],i);const s=m(t,["referenceType"]);s!=null&&x(n,["referenceType"],s);const o=m(t,["maskImageConfig"]);o!=null&&x(n,["maskImageConfig"],E$(o));const c=m(t,["controlImageConfig"]);c!=null&&x(n,["controlImageConfig"],pj(c));const f=m(t,["styleImageConfig"]);f!=null&&x(n,["styleImageConfig"],f);const d=m(t,["subjectImageConfig"]);return d!=null&&x(n,["subjectImageConfig"],d),n}function NI(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&x(n,["contentType"],s),n}function II(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&x(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&x(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&x(n,["contentType"],s),n}function I$(t,e){const n={},r=m(t,["category"]);if(r!=null&&x(n,["category"],r),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(t,["threshold"]);return i!=null&&x(n,["threshold"],i),n}function R$(t,e){const n={},r=m(t,["image"]);return r!=null&&x(n,["image"],vs(r)),n}function k$(t,e,n){const r={},i=m(t,["mode"]);e!==void 0&&i!=null&&x(e,["parameters","mode"],i);const s=m(t,["maxPredictions"]);e!==void 0&&s!=null&&x(e,["parameters","maxPredictions"],s);const o=m(t,["confidenceThreshold"]);e!==void 0&&o!=null&&x(e,["parameters","confidenceThreshold"],o);const c=m(t,["maskDilation"]);e!==void 0&&c!=null&&x(e,["parameters","maskDilation"],c);const f=m(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&x(e,["parameters","binaryColorThreshold"],f);const d=m(t,["labels"]);return e!==void 0&&d!=null&&x(e,["labels"],d),r}function D$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["source"]);s!=null&&P$(s,r);const o=m(e,["config"]);return o!=null&&k$(o,r),r}function M$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>i$(s))),x(n,["generatedMasks"],i)}return n}function P$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&x(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&x(e,["instances[0]","image"],vs(s));const o=m(t,["scribbleImage"]);return e!==void 0&&o!=null&&x(e,["instances[0]","scribble"],R$(o)),r}function F$(t,e){const n={},r=m(t,["retrievalConfig"]);r!=null&&x(n,["retrievalConfig"],r);const i=m(t,["functionCallingConfig"]);return i!=null&&x(n,["functionCallingConfig"],Lj(i)),n}function O$(t,e){const n={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["computerUse"]);r!=null&&x(n,["computerUse"],r);const i=m(t,["fileSearch"]);i!=null&&x(n,["fileSearch"],i);const s=m(t,["codeExecution"]);if(s!=null&&x(n,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>v)),x(n,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&x(n,["googleMaps"],u$(c));const f=m(t,["googleSearch"]);f!=null&&x(n,["googleSearch"],f$(f));const d=m(t,["googleSearchRetrieval"]);d!=null&&x(n,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&x(n,["urlContext"],h),n}function RI(t,e){const n={},r=m(t,["retrieval"]);r!=null&&x(n,["retrieval"],r);const i=m(t,["computerUse"]);if(i!=null&&x(n,["computerUse"],i),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=m(t,["codeExecution"]);s!=null&&x(n,["codeExecution"],s);const o=m(t,["enterpriseWebSearch"]);o!=null&&x(n,["enterpriseWebSearch"],o);const c=m(t,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>Uj(T))),x(n,["functionDeclarations"],v)}const f=m(t,["googleMaps"]);f!=null&&x(n,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&x(n,["googleSearch"],d);const h=m(t,["googleSearchRetrieval"]);h!=null&&x(n,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&x(n,["urlContext"],g),n}function L$(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&x(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&x(n,["updateTime"],s),n}function U$(t,e){const n={},r=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&x(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&x(n,["updateTime"],s),n}function V$(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),r}function B$(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&x(e,["description"],s);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&x(e,["defaultCheckpointId"],o),r}function z$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","name"],$t(t,i));const s=m(e,["config"]);return s!=null&&V$(s,r),r}function H$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["config"]);return s!=null&&B$(s,r),r}function G$(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&x(e,["parameters","storageUri"],i);const s=m(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&x(e,["parameters","safetySetting"],s);const o=m(t,["personGeneration"]);e!==void 0&&o!=null&&x(e,["parameters","personGeneration"],o);const c=m(t,["includeRaiReason"]);e!==void 0&&c!=null&&x(e,["parameters","includeRaiReason"],c);const f=m(t,["outputMimeType"]);e!==void 0&&f!=null&&x(e,["parameters","outputOptions","mimeType"],f);const d=m(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&x(e,["parameters","outputOptions","compressionQuality"],d);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&x(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&x(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const v=m(t,["labels"]);e!==void 0&&v!=null&&x(e,["labels"],v);const T=m(t,["numberOfImages"]);e!==void 0&&T!=null&&x(e,["parameters","sampleCount"],T);const S=m(t,["mode"]);return e!==void 0&&S!=null&&x(e,["parameters","mode"],S),r}function q$(t,e,n){const r={},i=m(e,["model"]);i!=null&&x(r,["_url","model"],$t(t,i));const s=m(e,["image"]);s!=null&&x(r,["instances[0]","image"],vs(s));const o=m(e,["upscaleFactor"]);o!=null&&x(r,["parameters","upscaleConfig","upscaleFactor"],o);const c=m(e,["config"]);return c!=null&&G$(c,r),r}function j$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Pp(o))),x(n,["generatedImages"],s)}return n}function $$(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["uri"],r);const i=m(t,["encodedVideo"]);i!=null&&x(n,["videoBytes"],Ro(i));const s=m(t,["encoding"]);return s!=null&&x(n,["mimeType"],s),n}function K$(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["uri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&x(n,["videoBytes"],Ro(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function J$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["_self"],vs(r));const i=m(t,["maskMode"]);return i!=null&&x(n,["maskMode"],i),n}function Y$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["image"],Fp(r));const i=m(t,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function W$(t,e){const n={},r=m(t,["image"]);r!=null&&x(n,["image"],vs(r));const i=m(t,["referenceType"]);return i!=null&&x(n,["referenceType"],i),n}function kI(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["uri"],r);const i=m(t,["videoBytes"]);i!=null&&x(n,["encodedVideo"],Ro(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["encoding"],s),n}function DI(t,e){const n={},r=m(t,["uri"]);r!=null&&x(n,["gcsUri"],r);const i=m(t,["videoBytes"]);i!=null&&x(n,["bytesBase64Encoded"],Ro(i));const s=m(t,["mimeType"]);return s!=null&&x(n,["mimeType"],s),n}function Z$(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&x(e,["displayName"],r),n}function X$(t){const e={},n=m(t,["config"]);return n!=null&&Z$(n,e),e}function Q$(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function eK(t){const e={},n=m(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&Q$(r,e),e}function tK(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function nK(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["customMetadata"],s)}const i=m(t,["chunkingConfig"]);return e!==void 0&&i!=null&&x(e,["chunkingConfig"],i),n}function rK(t){const e={},n=m(t,["name"]);n!=null&&x(e,["name"],n);const r=m(t,["metadata"]);r!=null&&x(e,["metadata"],r);const i=m(t,["done"]);i!=null&&x(e,["done"],i);const s=m(t,["error"]);s!=null&&x(e,["error"],s);const o=m(t,["response"]);return o!=null&&x(e,["response"],sK(o)),e}function iK(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&x(e,["fileName"],r);const i=m(t,["config"]);return i!=null&&nK(i,e),e}function sK(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&x(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&x(e,["documentName"],i),e}function aK(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function oK(t){const e={},n=m(t,["config"]);return n!=null&&aK(n,e),e}function lK(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["fileSearchStores"],s)}return e}function MI(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&x(e,["mimeType"],r);const i=m(t,["displayName"]);e!==void 0&&i!=null&&x(e,["displayName"],i);const s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),x(e,["customMetadata"],c)}const o=m(t,["chunkingConfig"]);return e!==void 0&&o!=null&&x(e,["chunkingConfig"],o),n}function cK(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&x(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&MI(r,e),e}function uK(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&x(e,["sdkHttpResponse"],n),e}const fK="Content-Type",dK="X-Server-Timeout",hK="User-Agent",r1="x-goog-api-client",pK="1.40.0",mK=`google-genai-sdk/${pK}`,gK="v1beta1",vK="v1beta";class xK{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:gK}else{if(!this.clientOptions.apiKey)throw new ed({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:vK,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Zv.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))i.searchParams.append(o,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&n?.timeout>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&yK(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tA(i),new Xv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await tA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ps(this,arguments,function*(){var r;const i=(r=e?.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield vt(i.read());if(d){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=s.decode(h,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),C=A.status,P=A.code,B=`got status: ${C}. ${JSON.stringify(S)}`;if(P>=400&&P<600)throw new ed({message:B,status:P})}}catch(S){if(S.name==="ApiError")throw S}o+=g;let v=-1,T=0;for(;;){v=-1,T=0;for(const C of f){const P=o.indexOf(C);P!==-1&&(v===-1||P<v)&&(v=P,T=C.length)}if(v===-1)break;const S=o.substring(0,v);o=o.substring(v+T);const A=S.trim();if(A.startsWith(c)){const C=A.substring(c.length).trim();try{const P=new Response(C,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield vt(new Xv(P))}catch(P){throw new Error(`exception parsing stream chunk ${C}. ${P}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=mK+" "+this.clientOptions.userAgentExtra;return e[hK]=n,e[r1]=n,e[fK]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(dK,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const c=(r=n?.mimeType)!==null&&r!==void 0?r:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),h=Je("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n?.httpOptions);return s.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),c=String(o.size),f=(i=r?.mimeType)!==null&&i!==void 0?i:o.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&MI(r,g);const v=await this.fetchUploadUrl(d,c,f,h,g,r?.httpOptions);return s.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var c;let f={};o?f=o:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(c=d?.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function tA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ed({message:i,status:n}):new Error(i)}}function yK(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const c=Object.assign({},s);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=o[f],h=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,e);t.body=JSON.stringify(i)}const _K="mcp_used/unknown";let EK=!1;function PI(t){for(const e of t)if(TK(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EK}function FI(t){var e;const n=(e=t[r1])!==null&&e!==void 0?e:"";t[r1]=(n+` ${_K}`).trimStart()}function TK(t){return t!==null&&typeof t=="object"&&t instanceof Ox}function wK(t){return ps(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield vt(n.listTools({cursor:i}));for(const c of o.tools)yield yield vt(c),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class Ox{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ox(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const h of this.mcpClients)try{for(var c=!0,f=(n=void 0,ms(wK(h))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const g=i;o.push(g);const v=g.name;if(s[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);s[v]=h}}catch(g){n={error:g}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),XH(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}async function SK(t,e,n){const r=new qH;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class AK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=NK(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(k=>{d=k}),g=e.callbacks,v=function(){d({})},T=this.apiClient,S={onopen:v,onmessage:k=>{SK(T,g.onmessage,k)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=g?.onclose)!==null&&r!==void 0?r:function(k){}},A=this.webSocketFactory.create(f,bK(o),S);A.connect(),await h;const B={setup:{model:$t(this.apiClient,e.model)}};return A.send(JSON.stringify(B)),new CK(A,this.apiClient)}}class CK{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Zq(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Wq(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(bc.PLAY)}pause(){this.sendPlaybackControl(bc.PAUSE)}stop(){this.sendPlaybackControl(bc.STOP)}resetContext(){this.sendPlaybackControl(bc.RESET_CONTEXT)}close(){this.conn.close()}}function bK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function NK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const IK="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function RK(t,e,n){const r=new GH;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=ej(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class kK{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new AK(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&PI(e.config.tools)&&FI(g);const v=FK(g);if(this.apiClient.isVertexAI()){const b=this.apiClient.getProject(),F=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),D=!!b&&!!F||!!O;this.apiClient.getCustomBaseUrl()&&!D?h=f:(h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const b=this.apiClient.getApiKey();let F="BidiGenerateContent",O="key";b?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",O="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${O}=${b}`}let T=()=>{};const S=new Promise(b=>{T=b}),A=e.callbacks,C=function(){var b;(b=A?.onopen)===null||b===void 0||b.call(A),T({})},P=this.apiClient,B={onopen:C,onmessage:b=>{RK(P,A.onmessage,b)},onerror:(n=A?.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=A?.onclose)!==null&&r!==void 0?r:function(b){}},k=this.webSocketFactory.create(h,PK(v),B);k.connect(),await S;let H=$t(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const b=this.apiClient.getProject(),F=this.apiClient.getLocation();b&&F&&(H=`projects/${b}/locations/${F}/`+H)}let G={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[tp.AUDIO]}:e.config.responseModalities=[tp.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],R=[];for(const b of K)if(this.isCallableTool(b)){const F=b;R.push(await F.tool())}else R.push(b);R.length>0&&(e.config.tools=R);const N={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=Yq(this.apiClient,N):G=Jq(this.apiClient,N),delete G.config,k.send(JSON.stringify(G)),new MK(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const DK={turnComplete:!0};class MK{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=qi(n.turns),e.isVertexAI()||(r=r.map(i=>Mp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(IK)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},DK),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Qq(e)}:n={realtimeInput:Xq(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PK(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function FK(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}const nA=10;function rA(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t?.tools)!==null&&n!==void 0?n:[])if(Lc(o)){i=!0;break}if(!i)return!0;const s=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Lc(t){return"callTool"in t&&typeof t.callTool=="function"}function OK(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Lc(i)))!==null&&r!==void 0?r:!1}function iA(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Lc(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function sA(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class LK extends Ea{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!OK(n)||rA(n.config))return await this.generateContentInternal(f);const d=iA(n);if(d.length>0){const A=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,g;const v=qi(f.contents),T=(s=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:nA;let S=0;for(;S<T&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,C=[];for(const P of(c=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Lc(P)){const k=await P.callTool(h.functionCalls);C.push(...k)}S++,g={role:"user",parts:C},f.contents=qi(f.contents),f.contents.push(A),f.contents.push(g),sA(f.config)&&(v.push(A),v.push(g))}return sA(f.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,s,o,c;if(this.maybeMoveToResponseJsonSchem(n),rA(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=iA(n);if(f.length>0){const g=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(c=(o=n?.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r?.generatedImages)for(const f of r.generatedImages)f&&f?.safetyAttributes&&((i=f?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f?.safetyAttributes:o.push(f);let c;return s?c={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Il(ga.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async f=>Lc(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&PI(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),FI(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Lc(o)){const c=o,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,c)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:nA;let o=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,h,g){return ps(this,arguments,function*(){for(var v,T,S,A,C,P;c<s;){o&&(c++,o=!1);const G=yield vt(d.processParamsMaybeAddMcpUsage(g)),K=yield vt(d.generateContentStreamInternal(G)),R=[],N=[];try{for(var B=!0,k=(T=void 0,ms(K)),H;H=yield vt(k.next()),v=H.done,!v;B=!0){A=H.value,B=!1;const b=A;if(yield yield vt(b),b.candidates&&(!((C=b.candidates[0])===null||C===void 0)&&C.content)){N.push(b.candidates[0].content);for(const F of(P=b.candidates[0].content.parts)!==null&&P!==void 0?P:[])if(c<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const O=yield vt(h.get(F.functionCall.name).callTool([F.functionCall]));R.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(b){T={error:b}}finally{try{!B&&!v&&(S=k.return)&&(yield vt(S.call(k)))}finally{if(T)throw T.error}}if(R.length>0){o=!0;const b=new af;b.candidates=[{content:{role:"user",parts:R}}],yield yield vt(b);const F=[];F.push(...N),F.push({role:"user",parts:R});const O=qi(g.contents).concat(F);g.contents=O}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=XS(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=eA(h),v=new af;return Object.assign(v,g),v})}else{const d=ZS(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=QS(h),v=new af;return Object.assign(v,g),v})}}async generateContentStreamInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=XS(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return ps(this,arguments,function*(){var v,T,S,A;try{for(var C=!0,P=ms(g),B;B=yield vt(P.next()),v=B.done,!v;C=!0){A=B.value,C=!1;const k=A,H=eA(yield vt(k.json()),e);H.sdkHttpResponse={headers:k.headers};const G=new af;Object.assign(G,H),yield yield vt(G)}}catch(k){T={error:k}}finally{try{!C&&!v&&(S=P.return)&&(yield vt(S.call(P)))}finally{if(T)throw T.error}}})})}else{const d=ZS(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(g){return ps(this,arguments,function*(){var v,T,S,A;try{for(var C=!0,P=ms(g),B;B=yield vt(P.next()),v=B.done,!v;C=!0){A=B.value,C=!1;const k=A,H=QS(yield vt(k.json()),e);H.sdkHttpResponse={headers:k.headers};const G=new af;Object.assign(G,H),yield yield vt(G)}}catch(k){T={error:k}}finally{try{!C&&!v&&(S=P.return)&&(yield vt(S.call(P)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=kj(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Mj(h),v=new PS;return Object.assign(v,g),v})}else{const d=Rj(this.apiClient,e);return c=Je("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Dj(h),v=new PS;return Object.assign(v,g),v})}}async generateImagesInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=qj(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=$j(h),v=new FS;return Object.assign(v,g),v})}else{const d=Gj(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=jj(h),v=new FS;return Object.assign(v,g),v})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Cj(this.apiClient,e);return s=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=bj(f),h=new kH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=q$(this.apiClient,e);return s=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=j$(f),h=new DH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=A$(this.apiClient,e);return s=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=C$(f),h=new MH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=D$(this.apiClient,e);return s=Je("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=M$(f),h=new PH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=c$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>n1(h))}else{const d=l$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>t1(h))}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=x$(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=_$(h),v=new OS;return Object.assign(v,g),v})}else{const d=v$(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=y$(h),v=new OS;return Object.assign(v,g),v})}}async update(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=H$(this.apiClient,e);return c=Je("{model}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>n1(h))}else{const d=z$(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>t1(h))}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Tj(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=Sj(h),v=new LS;return Object.assign(v,g),v})}else{const d=Ej(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=wj(h),v=new LS;return Object.assign(v,g),v})}}async countTokens(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=xj(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=_j(h),v=new US;return Object.assign(v,g),v})}else{const d=vj(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=yj(h),v=new US;return Object.assign(v,g),v})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=uj(this.apiClient,e);return s=Je("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=fj(f),h=new FH;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Xj(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Wj(h),v=new np;return Object.assign(v,g),v})}else{const d=Zj(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const g=Yj(h),v=new np;return Object.assign(v,g),v})}}}class UK extends Ea{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=AH(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o}else{const d=SH(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=vH(e);return s=Je("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function VK(t){const e={},n=m(t,["data"]);if(n!=null&&x(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function BK(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>YK(s))),x(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&x(e,["role"],r),e}function zK(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&x(n,["expireTime"],i);const s=m(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&x(n,["newSessionExpireTime"],s);const o=m(e,["uses"]);n!==void 0&&o!=null&&x(n,["uses"],o);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&x(n,["bidiGenerateContentSetup"],JK(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&x(n,["fieldMask"],f),r}function HK(t,e){const n={},r=m(e,["config"]);return r!=null&&x(n,["config"],zK(t,r,n)),n}function GK(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&x(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&x(e,["mimeType"],r),e}function qK(t){const e={},n=m(t,["id"]);n!=null&&x(e,["id"],n);const r=m(t,["args"]);r!=null&&x(e,["args"],r);const i=m(t,["name"]);if(i!=null&&x(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jK(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&x(e,["enableWidget"],n),e}function $K(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&x(e,["timeRangeFilter"],n),e}function KK(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&x(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&x(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&x(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&x(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&x(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&x(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&x(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&x(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&x(e,["setup","generationConfig","speechConfig"],Fx(g));const v=m(t,["thinkingConfig"]);e!==void 0&&v!=null&&x(e,["setup","generationConfig","thinkingConfig"],v);const T=m(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&x(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&x(e,["setup","systemInstruction"],BK(Vr(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let K=ru(A);Array.isArray(K)&&(K=K.map(R=>ZK(nu(R)))),x(e,["setup","tools"],K)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&x(e,["setup","sessionResumption"],WK(C));const P=m(t,["inputAudioTranscription"]);e!==void 0&&P!=null&&x(e,["setup","inputAudioTranscription"],P);const B=m(t,["outputAudioTranscription"]);e!==void 0&&B!=null&&x(e,["setup","outputAudioTranscription"],B);const k=m(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&x(e,["setup","realtimeInputConfig"],k);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&x(e,["setup","contextWindowCompression"],H);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&x(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function JK(t,e){const n={},r=m(e,["model"]);r!=null&&x(n,["setup","model"],$t(t,r));const i=m(e,["config"]);return i!=null&&x(n,["config"],KK(i,n)),n}function YK(t){const e={},n=m(t,["mediaResolution"]);n!=null&&x(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&x(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&x(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&x(e,["fileData"],GK(s));const o=m(t,["functionCall"]);o!=null&&x(e,["functionCall"],qK(o));const c=m(t,["functionResponse"]);c!=null&&x(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&x(e,["inlineData"],VK(f));const d=m(t,["text"]);d!=null&&x(e,["text"],d);const h=m(t,["thought"]);h!=null&&x(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&x(e,["thoughtSignature"],g);const v=m(t,["videoMetadata"]);return v!=null&&x(e,["videoMetadata"],v),e}function WK(t){const e={},n=m(t,["handle"]);if(n!=null&&x(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function ZK(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&x(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&x(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&x(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),x(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&x(e,["googleMaps"],jK(o));const c=m(t,["googleSearch"]);c!=null&&x(e,["googleSearch"],$K(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&x(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&x(e,["urlContext"],d),e}function XK(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function QK(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=XK(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)s?t.fieldMask=s:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const f=[];s&&f.push(s),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class eJ extends Ea{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=HK(this.apiClient,e);s=Je("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const f=QK(c,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}function tJ(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&x(e,["_query","force"],r),n}function nJ(t){const e={},n=m(t,["name"]);n!=null&&x(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&tJ(r,e),e}function rJ(t){const e={},n=m(t,["name"]);return n!=null&&x(e,["_url","name"],n),e}function iJ(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&x(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&x(e,["_query","pageToken"],i),n}function sJ(t){const e={},n=m(t,["parent"]);n!=null&&x(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&iJ(r,e),e}function aJ(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&x(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&x(e,["nextPageToken"],r);const i=m(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),x(e,["documents"],s)}return e}class oJ extends Ea{constructor(e){super(),this.apiClient=e,this.list=async n=>new Il(ga.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rJ(e);return s=Je("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nJ(e);i=Je("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=sJ(e);return s=Je("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=aJ(f),h=new OH;return Object.assign(h,d),h})}}}class lJ extends Ea{constructor(e,n=new oJ(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Il(ga.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=X$(e);return s=Je("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tK(e);return s=Je("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=eK(e);i=Je("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=oK(e);return s=Je("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=lK(f),h=new LH;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=cK(e);return s=Je("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=uK(f),h=new UH;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iK(e);return s=Je("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=rK(f),h=new Rx;return Object.assign(h,d),h})}}}let OI=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return OI=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const cJ=()=>OI();function i1(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const s1=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class $i extends Error{}class ei extends $i{constructor(e,n,r,i){super(`${ei.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Op({message:r,cause:s1(n)});const s=n;return e===400?new UI(e,s,r,i):e===401?new VI(e,s,r,i):e===403?new BI(e,s,r,i):e===404?new zI(e,s,r,i):e===409?new HI(e,s,r,i):e===422?new GI(e,s,r,i):e===429?new qI(e,s,r,i):e>=500?new jI(e,s,r,i):new ei(e,s,r,i)}}class a1 extends ei{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Op extends ei{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class LI extends Op{constructor({message:e}={}){super({message:e??"Request timed out."})}}class UI extends ei{}class VI extends ei{}class BI extends ei{}class zI extends ei{}class HI extends ei{}class GI extends ei{}class qI extends ei{}class jI extends ei{}const uJ=/^[a-z][a-z0-9+.-]*:/i,fJ=t=>uJ.test(t);let o1=t=>(o1=Array.isArray,o1(t));const dJ=o1;let hJ=dJ;const aA=hJ;function pJ(t){if(!t)return!0;for(const e in t)return!1;return!0}function mJ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const gJ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new $i(`${t} must be an integer`);if(e<0)throw new $i(`${t} must be a positive integer`);return e},vJ=t=>{try{return JSON.parse(t)}catch{return}};const xJ=t=>new Promise(e=>setTimeout(e,t));const _c="0.0.1";function yJ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _J=()=>{var t,e,n,r,i;const s=yJ();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_c,"X-Stainless-OS":lA(Deno.build.os),"X-Stainless-Arch":oA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_c,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_c,"X-Stainless-OS":lA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":oA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=EJ();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_c,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_c,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function EJ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const oA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",lA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let r0;const TJ=()=>r0??(r0=_J());function wJ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $I(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function SJ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return $I({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function KI(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function AJ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}const CJ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const JI=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function hv(t,e,n){return JI(),new File(t,e??"unknown_file",n)}function bJ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const NJ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const YI=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",IJ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&YI(t),RJ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function kJ(t,e,n){if(JI(),t=await t,IJ(t))return t instanceof File?t:hv([await t.arrayBuffer()],t.name);if(RJ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),hv(await l1(i),e,n)}const r=await l1(t);if(e||(e=bJ(t)),!n?.type){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return hv(r,e,n)}async function l1(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(YI(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(NJ(t))try{for(var c=!0,f=ms(t),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const h=i;o.push(...await l1(h))}}catch(h){n={error:h}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(s=t?.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${DJ(t)}`)}return o}function DJ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class WI{constructor(e){this._client=e}}WI._key=[];function ZI(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const cA=Object.freeze(Object.create(null)),MJ=(t=ZI)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((h,g,v)=>{var T,S,A;/[?#]/.test(g)&&(i=!0);const C=r[v];let P=(i?encodeURIComponent:t)(""+C);return v!==r.length&&(C==null||typeof C=="object"&&C.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((T=C.hasOwnProperty)!==null&&T!==void 0?T:cA))!==null&&S!==void 0?S:cA))===null||A===void 0?void 0:A.toString))&&(P=C+"",s.push({start:h.length+g.length,length:P.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),h+g+(v===r.length?"":P)},""),c=o.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((h,g)=>h.start-g.start),s.length>0){let h=0;const g=s.reduce((v,T)=>{const S=" ".repeat(T.start-h),A="^".repeat(T.length);return h=T.start+T.length,v+S+A},"");throw new $i(`Path parameters result in path with invalid segments:
${s.map(v=>v.error).join(`
`)}
${o}
${g}`)}return o}),i0=MJ(ZI);class XI extends WI{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=ip(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new $i("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new $i("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(i0`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(i0`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(i0`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,c=ip(s,["api_version"]);return this._client.get(i0`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n?.stream)!==null&&i!==void 0?i:!1}))}}XI._key=Object.freeze(["interactions"]);class QI extends XI{}function PJ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let s0;function Lx(t){let e;return(s0??(e=new globalThis.TextEncoder,s0=e.encode.bind(e)))(t)}let a0;function uA(t){let e;return(a0??(e=new globalThis.TextDecoder,a0=e.decode.bind(e)))(t)}class Lp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Lx(e):e;this.buffer=PJ([this.buffer,n]);const r=[];let i;for(;(i=FJ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(uA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=uA(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Lp.NEWLINE_CHARS=new Set([`
`,"\r"]);Lp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function FJ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function OJ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}const sp={off:0,error:200,warn:300,info:400,debug:500},fA=(t,e,n)=>{if(t){if(mJ(sp,t))return t;Jr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(sp))}`)}};function xf(){}function o0(t,e,n){return!e||sp[t]>sp[n]?xf:e[t].bind(e)}const LJ={error:xf,warn:xf,info:xf,debug:xf};let dA=new WeakMap;function Jr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return LJ;const i=dA.get(n);if(i&&i[0]===r)return i[1];const s={error:o0("error",n,r),warn:o0("warn",n,r),info:o0("info",n,r),debug:o0("debug",n,r)};return dA.set(n,[r,s]),s}const rl=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class Nc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?Jr(r):console;function o(){return ps(this,arguments,function*(){var f,d,h,g;if(i)throw new $i("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var T=!0,S=ms(UJ(e,n)),A;A=yield vt(S.next()),f=A.done,!f;T=!0){g=A.value,T=!1;const C=g;if(!v)if(C.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield vt(JSON.parse(C.data))}catch(P){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),P}}}catch(C){d={error:C}}finally{try{!T&&!f&&(h=S.return)&&(yield vt(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(C){if(i1(C))return yield vt(void 0);throw C}finally{v||n.abort()}})}return new Nc(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return ps(this,arguments,function*(){var f,d,h,g;const v=new Lp,T=KI(e);try{for(var S=!0,A=ms(T),C;C=yield vt(A.next()),f=C.done,!f;S=!0){g=C.value,S=!1;const P=g;for(const B of v.decode(P))yield yield vt(B)}}catch(P){d={error:P}}finally{try{!S&&!f&&(h=A.return)&&(yield vt(h.call(A)))}finally{if(d)throw d.error}}for(const P of v.flush())yield yield vt(P)})}function o(){return ps(this,arguments,function*(){var f,d,h,g;if(i)throw new $i("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var T=!0,S=ms(s()),A;A=yield vt(S.next()),f=A.done,!f;T=!0){g=A.value,T=!1;const C=g;v||C&&(yield yield vt(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!T&&!f&&(h=S.return)&&(yield vt(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(C){if(i1(C))return yield vt(void 0);throw C}finally{v||n.abort()}})}return new Nc(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Nc(()=>i(e),this.controller,this.client),new Nc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return $I({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=Lx(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function UJ(t,e){return ps(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $i("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $i("Attempted to iterate over a response with no body");const c=new BJ,f=new Lp,d=KI(t.body);try{for(var h=!0,g=ms(VJ(d)),v;v=yield vt(g.next()),r=v.done,!r;h=!0){o=v.value,h=!1;const T=o;for(const S of f.decode(T)){const A=c.decode(S);A&&(yield yield vt(A))}}}catch(T){i={error:T}}finally{try{!h&&!r&&(s=g.return)&&(yield vt(s.call(g)))}finally{if(i)throw i.error}}for(const T of f.flush()){const S=c.decode(T);S&&(yield yield vt(S))}})}function VJ(t){return ps(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var c=!0,f=ms(t),d;d=yield vt(f.next()),n=d.done,!n;c=!0){s=d.value,c=!1;const h=s;if(h==null)continue;const g=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Lx(h):h;let v=new Uint8Array(o.length+g.length);v.set(o),v.set(g,o.length),o=v;let T;for(;(T=OJ(o))!==-1;)yield yield vt(o.slice(0,T)),o=o.slice(T)}}catch(h){r={error:h}}finally{try{!c&&!n&&(i=f.return)&&(yield vt(i.call(f)))}finally{if(r)throw r.error}}o.length>0&&(yield yield vt(o))})}class BJ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=zJ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function zJ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function HJ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var c;if(e.options.stream)return Jr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Nc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f?.split(";")[0])===null||c===void 0?void 0:c.trim();return d?.includes("application/json")||d?.endsWith("+json")?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Jr(t).debug(`[${r}] response parsed`,rl({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}class Ux extends Promise{constructor(e,n,r=HJ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Ux(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const eR=Symbol("brand.privateNullableHeaders");function*GJ(t){if(!t)return;if(eR in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():aA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=aA(r[1])?r[1]:[r[1]];let o=!1;for(const c of s)c!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,c])}}const of=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of GJ(r)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),o===null?(e.delete(s),n.add(c)):(e.append(s,o),n.delete(c))}}return{[eR]:!0,values:e,nulls:n}};const pv=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=fH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};var tR;class Up{constructor(e){var n,r,i,s,o,c,f,{baseURL:d=pv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=pv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=e,v=ip(e,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:h,apiVersion:g},v),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(r=T.timeout)!==null&&r!==void 0?r:Up.DEFAULT_TIMEOUT,this.logger=(i=T.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(o=(s=fA(T.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:fA(pv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:S,this.fetchOptions=T.fetchOptions,this.maxRetries=(c=T.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=T.fetch)!==null&&f!==void 0?f:wJ(),this.encoder=CJ,this._options=T,this.apiKey=h,this.apiVersion=g,this.clientAdapter=T.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=of([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return of([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return of([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new $i(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_c}`}defaultIdempotencyKey(){return`stainless-node-retry-${cJ()}`}makeStatusError(e,n,r,i){return ei.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=fJ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return pJ(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Ux(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const c=await e,f=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:h,timeout:g}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),T=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Jr(this).debug(`[${v}] sending request`,rl({retryOfRequestLogID:r,method:c.method,url:h,options:c,headers:d.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new a1;const A=new AbortController,C=await this.fetchWithTimeout(h,d,g,A).catch(s1),P=Date.now();if(C instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new a1;const H=i1(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Jr(this).info(`[${v}] connection ${H?"timed out":"failed"} - ${k}`),Jr(this).debug(`[${v}] connection ${H?"timed out":"failed"} (${k})`,rl({retryOfRequestLogID:r,url:h,durationMs:P-S,message:C.message})),this.retryRequest(c,n,r??v);throw Jr(this).info(`[${v}] connection ${H?"timed out":"failed"} - error; no more retries left`),Jr(this).debug(`[${v}] connection ${H?"timed out":"failed"} (error; no more retries left)`,rl({retryOfRequestLogID:r,url:h,durationMs:P-S,message:C.message})),H?new LI:new Op({cause:C})}const B=`[${v}${T}] ${d.method} ${h} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${P-S}ms`;if(!C.ok){const k=await this.shouldRetry(C);if(n&&k){const b=`retrying, ${n} attempts remaining`;return await AJ(C.body),Jr(this).info(`${B} - ${b}`),Jr(this).debug(`[${v}] response error (${b})`,rl({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:P-S})),this.retryRequest(c,n,r??v,C.headers)}const H=k?"error; no more retries left":"error; not retryable";Jr(this).info(`${B} - ${H}`);const G=await C.text().catch(b=>s1(b).message),K=vJ(G),R=K?void 0:G;throw Jr(this).debug(`[${v}] response error (${H})`,rl({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:R,durationMs:Date.now()-S})),this.makeStatusError(C.status,K,R,C.headers)}return Jr(this).info(B),Jr(this).debug(`[${v}] response start`,rl({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:P-S})),{response:C,options:c,controller:A,requestLogID:v,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:c}=s,f=ip(s,["signal","method"]),d=i.abort.bind(i);o&&o.addEventListener("abort",d,{once:!0});const h=setTimeout(d,r),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},g?{duplex:"half"}:{}),{method:"GET"}),f);c&&(v.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const c=i?.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(o=d)}const f=i?.get("retry-after");if(f&&!o){const d=parseFloat(f);Number.isNaN(d)?o=Date.parse(f)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,d)}return await xJ(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:c,path:f,query:d,defaultBaseURL:h}=o,g=this.buildURL(f,d,h);"timeout"in o&&gJ("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:T}=this.buildBody({options:o}),S=await this.buildHeaders({options:e,method:c,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&T instanceof globalThis.ReadableStream&&{duplex:"half"}),T&&{body:T}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:g,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=of([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),TJ()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=of([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:SJ(e)}:this.encoder({body:e,headers:r})}}Up.DEFAULT_TIMEOUT=6e4;class dr extends Up{constructor(){super(...arguments),this.interactions=new QI(this)}}tR=dr;dr.GeminiNextGenAPIClient=tR;dr.GeminiNextGenAPIClientError=$i;dr.APIError=ei;dr.APIConnectionError=Op;dr.APIConnectionTimeoutError=LI;dr.APIUserAbortError=a1;dr.NotFoundError=zI;dr.ConflictError=HI;dr.RateLimitError=qI;dr.BadRequestError=UI;dr.AuthenticationError=VI;dr.InternalServerError=jI;dr.PermissionDeniedError=BI;dr.UnprocessableEntityError=GI;dr.toFile=kJ;dr.Interactions=QI;function qJ(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function jJ(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function $J(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function KJ(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&x(n,["sdkHttpResponse"],r),n}function JJ(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&x(e,["displayName"],i),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(t,["epochCount"]);e!==void 0&&s!=null&&x(e,["tuningTask","hyperparameters","epochCount"],s);const o=m(t,["learningRateMultiplier"]);if(o!=null&&x(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(m(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(m(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&x(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&x(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(m(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(m(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(m(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(m(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function YJ(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec"],mv(G))}else if(i==="PREFERENCE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec"],mv(G))}else if(i==="DISTILLATION"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&x(e,["distillationSpec"],mv(G))}const s=m(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&x(e,["tunedModelDisplayName"],s);const o=m(t,["description"]);e!==void 0&&o!=null&&x(e,["description"],o);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(c==="PREFERENCE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(c==="DISTILLATION"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","epochCount"],G)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="PREFERENCE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="DISTILLATION"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(d==="PREFERENCE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(d==="DISTILLATION"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&x(e,["distillationSpec","exportLastCheckpointOnly"],G)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(h==="PREFERENCE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(h==="DISTILLATION"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&x(e,["distillationSpec","hyperParameters","adapterSize"],G)}let g=m(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const G=m(t,["tuningMode"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","tuningMode"],G)}const v=m(t,["customBaseModel"]);e!==void 0&&v!=null&&x(e,["customBaseModel"],v);let T=m(n,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const G=m(t,["batchSize"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let S=m(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRate"]);e!==void 0&&G!=null&&x(e,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const A=m(t,["labels"]);e!==void 0&&A!=null&&x(e,["labels"],A);const C=m(t,["beta"]);e!==void 0&&C!=null&&x(e,["preferenceOptimizationSpec","hyperParameters","beta"],C);const P=m(t,["baseTeacherModel"]);e!==void 0&&P!=null&&x(e,["distillationSpec","baseTeacherModel"],P);const B=m(t,["tunedTeacherModelSource"]);e!==void 0&&B!=null&&x(e,["distillationSpec","tunedTeacherModelSource"],B);const k=m(t,["sftLossWeightMultiplier"]);e!==void 0&&k!=null&&x(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const H=m(t,["outputUri"]);return e!==void 0&&H!=null&&x(e,["outputUri"],H),r}function WJ(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&oY(s);const o=m(t,["config"]);return o!=null&&JJ(o,n),n}function ZJ(t,e){const n={},r=m(t,["baseModel"]);r!=null&&x(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&x(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&lY(s,n,e);const o=m(t,["config"]);return o!=null&&YJ(o,n,e),n}function XJ(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function QJ(t,e){const n={},r=m(t,["name"]);return r!=null&&x(n,["_url","name"],r),n}function eY(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&x(e,["_query","pageToken"],s);const o=m(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function tY(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&x(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&x(e,["_query","pageToken"],s);const o=m(t,["filter"]);return e!==void 0&&o!=null&&x(e,["_query","filter"],o),r}function nY(t,e){const n={},r=m(t,["config"]);return r!=null&&eY(r,n),n}function rY(t,e){const n={},r=m(t,["config"]);return r!=null&&tY(r,n),n}function iY(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>nR(c))),x(n,["tuningJobs"],o)}return n}function sY(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&x(n,["nextPageToken"],i);const s=m(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>c1(c))),x(n,["tuningJobs"],o)}return n}function aY(t,e){const n={},r=m(t,["name"]);r!=null&&x(n,["model"],r);const i=m(t,["name"]);return i!=null&&x(n,["endpoint"],i),n}function oY(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),x(n,["examples","examples"],i)}return n}function lY(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&x(e,["distillationSpec","promptDatasetUri"],o)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&x(e,["distillationSpec","promptDatasetUri"],o)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function nR(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["state"]);s!=null&&x(n,["state"],xI(s));const o=m(t,["createTime"]);o!=null&&x(n,["createTime"],o);const c=m(t,["tuningTask","startTime"]);c!=null&&x(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&x(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=m(t,["description"]);h!=null&&x(n,["description"],h);const g=m(t,["baseModel"]);g!=null&&x(n,["baseModel"],g);const v=m(t,["_self"]);return v!=null&&x(n,["tunedModel"],aY(v)),n}function c1(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["state"]);s!=null&&x(n,["state"],xI(s));const o=m(t,["createTime"]);o!=null&&x(n,["createTime"],o);const c=m(t,["startTime"]);c!=null&&x(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&x(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&x(n,["updateTime"],d);const h=m(t,["error"]);h!=null&&x(n,["error"],h);const g=m(t,["description"]);g!=null&&x(n,["description"],g);const v=m(t,["baseModel"]);v!=null&&x(n,["baseModel"],v);const T=m(t,["tunedModel"]);T!=null&&x(n,["tunedModel"],T);const S=m(t,["preTunedModel"]);S!=null&&x(n,["preTunedModel"],S);const A=m(t,["supervisedTuningSpec"]);A!=null&&x(n,["supervisedTuningSpec"],A);const C=m(t,["preferenceOptimizationSpec"]);C!=null&&x(n,["preferenceOptimizationSpec"],C);const P=m(t,["distillationSpec"]);P!=null&&x(n,["distillationSpec"],P);const B=m(t,["tuningDataStats"]);B!=null&&x(n,["tuningDataStats"],B);const k=m(t,["encryptionSpec"]);k!=null&&x(n,["encryptionSpec"],k);const H=m(t,["partnerModelTuningSpec"]);H!=null&&x(n,["partnerModelTuningSpec"],H);const G=m(t,["customBaseModel"]);G!=null&&x(n,["customBaseModel"],G);const K=m(t,["experiment"]);K!=null&&x(n,["experiment"],K);const R=m(t,["labels"]);R!=null&&x(n,["labels"],R);const N=m(t,["outputUri"]);N!=null&&x(n,["outputUri"],N);const b=m(t,["pipelineJob"]);b!=null&&x(n,["pipelineJob"],b);const F=m(t,["serviceAccount"]);F!=null&&x(n,["serviceAccount"],F);const O=m(t,["tunedModelDisplayName"]);O!=null&&x(n,["tunedModelDisplayName"],O);const D=m(t,["veoTuningSpec"]);return D!=null&&x(n,["veoTuningSpec"],D),n}function cY(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&x(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&x(n,["name"],i);const s=m(t,["metadata"]);s!=null&&x(n,["metadata"],s);const o=m(t,["done"]);o!=null&&x(n,["done"],o);const c=m(t,["error"]);return c!=null&&x(n,["error"],c),n}function mv(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&x(n,["validationDatasetUri"],r);const i=m(t,["vertexDatasetResource"]);return i!=null&&x(n,["validationDatasetUri"],i),n}class uY extends Ea{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Il(ga.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Wv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=QJ(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>c1(h))}else{const d=XJ(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>nR(h))}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=rY(e);return c=Je("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=sY(h),v=new VS;return Object.assign(v,g),v})}else{const d=nY(e);return c=Je("tunedModels",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=iY(h),v=new VS;return Object.assign(v,g),v})}}async cancel(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=jJ(e);return c=Je("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=KJ(h),v=new BS;return Object.assign(v,g),v})}else{const d=qJ(e);return c=Je("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),o.then(h=>{const g=$J(h),v=new BS;return Object.assign(v,g),v})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=ZJ(e,e);return s=Je("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>c1(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WJ(e);return s=Je("tunedModels",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>cY(f))}}}class fY{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const dY=1024*1024*8,hY=3,pY=1e3,mY=2,ap="x-goog-upload-status";async function gY(t,e,n){var r;const i=await rR(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[ap])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function vY(t,e,n){var r;const i=await rR(t,e,n),s=await i?.json();if(((r=i?.headers)===null||r===void 0?void 0:r[ap])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=dI(s),c=new kx;return Object.assign(c,o),c}async function rR(t,e,n){var r,i;let s=0,o=0,c=new Xv(new Response),f="upload";for(s=t.size;o<s;){const d=Math.min(dY,s-o),h=t.slice(o,o+d);o+d>=s&&(f+=", finalize");let g=0,v=pY;for(;g<hY&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=c?.headers)===null||r===void 0)&&r[ap]));)g++,await yY(v),v=v*mY;if(o+=d,((i=c?.headers)===null||i===void 0?void 0:i[ap])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function xY(t){return{size:t.size,type:t.type}}function yY(t){return new Promise(e=>setTimeout(e,t))}class _Y{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gY(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vY(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xY(e)}}class EY{create(e,n,r){return new TY(e,n,r)}}class TY{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const hA="x-goog-api-key";class wY{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(hA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hA,this.apiKey)}}}const SY="gl-node/";class iR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new dr({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=mH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new wY(this.apiKey);this.apiClient=new xK({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:SY+"web",uploader:new _Y,downloader:new fY}),this.models=new LK(this.apiClient),this.live=new kK(this.apiClient,i,new EY),this.batches=new jG(this.apiClient),this.chats=new Cq(this.models,this.apiClient),this.caches=new wq(this.apiClient),this.files=new Uq(this.apiClient),this.operations=new UK(this.apiClient),this.authTokens=new eJ(this.apiClient),this.tunings=new uY(this.apiClient),this.fileSearchStores=new lJ(this.apiClient)}}const u1=async(t,e)=>{if(!t||!e)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${e}`,s=await(await fetch(r)).json();if(s.status==="OK"&&s.results&&s.results.length>0){const o=s.results[0],c=o.geometry.location;return{lat:c.lat,lng:c.lng,formattedAddress:o.formatted_address,locationType:o.geometry.location_type,addressComponents:o.address_components}}else return console.warn(`Geocoding failed for address "${t}":`,s.status,s.error_message),null}catch(n){return console.error(`Geocoding fetch error for address "${t}":`,n),null}};class AY{value;next;constructor(e){this.value=e}}class CY{#e;#t;#n;constructor(){this.clear()}enqueue(e){const n=new AY(e);this.#e?(this.#t.next=n,this.#t=n):(this.#e=n,this.#t=n),this.#n++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#n--,this.#e||(this.#t=void 0),e.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#n=0}get size(){return this.#n}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}*drain(){for(;this.#e;)yield this.dequeue()}}function bY(t){let e=!1;if(typeof t=="object"&&({concurrency:t,rejectOnClear:e=!1}=t),pA(t),typeof e!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const n=new CY;let r=0;const i=()=>{r<t&&n.size>0&&(r++,n.dequeue().run())},s=()=>{r--,i()},o=async(d,h,g)=>{const v=(async()=>d(...g))();h(v);try{await v}catch{}s()},c=(d,h,g,v)=>{const T={reject:g};new Promise(S=>{T.run=S,n.enqueue(T)}).then(o.bind(void 0,d,h,v)),r<t&&i()},f=(d,...h)=>new Promise((g,v)=>{c(d,g,v,h)});return Object.defineProperties(f,{activeCount:{get:()=>r},pendingCount:{get:()=>n.size},clearQueue:{value(){if(!e){n.clear();return}const d=AbortSignal.abort().reason;for(;n.size>0;)n.dequeue().reject(d)}},concurrency:{get:()=>t,set(d){pA(d),t=d,queueMicrotask(()=>{for(;r<t&&n.size>0;)i()})}},map:{async value(d,h){const g=Array.from(d,(v,T)=>this(h,v,T));return Promise.all(g)}}}),f}function pA(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const f1=t=>new Promise(e=>setTimeout(e,t)),NY=t=>{const e=t.replace(/\D/g,"");if(e.length<5)return"Indefinido";const n=parseInt(e.substring(0,1)),r=parseInt(e.substring(0,2));return n===0||n===1||n===2||n===3?"Sudeste":n===8||n===9?"Sul":n===4||n===5?"Nordeste":n===6?r>=60&&r<=65?"Nordeste":"Norte":n===7?r===77||r===76?"Norte":"Centro-Oeste":"Indefinido"},IY=t=>{const e=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],n=["AC","AP","AM","PA","RO","RR","TO"],r=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],s=["PR","SC","RS"],o=t.toUpperCase().trim();return e.includes(o)?"Nordeste":n.includes(o)?"Norte":r.includes(o)?"Centro-Oeste":i.includes(o)?"Sudeste":s.includes(o)?"Sul":"Indefinido"},RY=t=>{let e="Desconhecido",n="BR",r="Indefinido";if(Array.isArray(t)){const i=t.find(o=>o.types.includes("administrative_area_level_1"));i&&(n=i.short_name);const s=t.find(o=>o.types.includes("administrative_area_level_2")||o.types.includes("locality"));s&&(e=s.long_name),r=IY(n)}return{city:e,state:n,region:r}},kY=async(t,e,n,r,i,s)=>{const o=new iR({apiKey:n||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),c=bY(3),f=t.length;let d=0;const h=i.map(S=>`"${S}"`).join(" | "),g=async(S,A)=>{if(!S)return d++,s&&s(d,f),null;const C=S.address||"",P=bb(C),B=S.companyName||"Empresa Desconhecida",k=S.ownerName||"",H=S.phone||"",G=P.match(/\d{5}[-]?\d{3}/),K=G?G[0]:"",R=`${e}-${Date.now()}-${A}`;if(!P&&B==="Empresa Desconhecida")return d++,s&&s(d,f),null;const N=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${B}" localizada EXATAMENTE em "${P}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${h} | "Outros".

      IMPORTANTE: Use o endereo "${P}" como ncora principal para a busca.

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let b=0;const F=5;let O=null,D=!1,U={},fe="";for(;!D&&b<=F;)try{const ie=await o.models.generateContent({model:"gemini-2.5-flash",contents:N,config:{tools:[{googleMaps:{}}]}});let se=ie.text||"{}";se=se.replace(/```json/g,"").replace(/```/g,"").trim();try{U=JSON.parse(se)}catch{const ae=se.match(/\{[\s\S]*\}/);if(ae)try{U=JSON.parse(ae[0])}catch{}}const le=ie.candidates?.[0]?.groundingMetadata?.groundingChunks;if(le&&Array.isArray(le)){const ce=le.find(ae=>ae.maps?.uri);ce&&(fe=ce.maps.uri)}D=!0}catch(ie){const se=ie.status===429||ie.code===429||ie.message&&(ie.message.includes("quota")||ie.message.includes("429")),le=ie.status===503||ie.code===503;if((se||le)&&b<F){b++;const ce=2e3*Math.pow(2,b);console.warn(`Retry ${b}/${F} for client ${A}`),await f1(ce)}else{console.error(`Failed to process client with AI ${A} (continuing to manual geocode)`,ie);break}}try{let ie=S.latitude||(typeof U.lat=="number"?U.lat:0),se=S.longitude||(typeof U.lng=="number"?U.lng:0),le=U.cleanAddress||P,ce=U.city||"Desconhecido",ae=U.state||"BR",Me=U.region||"Indefinido";const W=ie!==0&&se!==0;if(!W||ce==="Desconhecido"||ae==="BR"){const ne=C||le;if(ne&&ne.length>5&&r)try{const he=await u1(ne,r);if(he){if(W||(ie=he.lat,se=he.lng),he.addressComponents){const me=RY(he.addressComponents);ce=me.city,ae=me.state,Me=me.region}(!Me||Me==="Indefinido")&&K&&(Me=NY(K)),he.formattedAddress&&(le=he.formattedAddress)}}catch(he){console.warn(`Geocoding failed for ${B}`,he)}}const X=ne=>Array.isArray(ne)?ne:typeof ne=="string"?[ne]:["Outros"];let ee=H;U.phone&&(ee=ee?`${ee} | Maps: ${U.phone}`:U.phone),U.website&&(ee=ee?`${ee} | Site: ${U.website}`:`Site: ${U.website}`),O={id:R,salespersonId:e,companyName:B,ownerName:k,contact:ee,originalAddress:C,cleanAddress:le,category:X(U.category),region:Me,state:ae,city:ce,lat:ie,lng:se,googleMapsUri:S.googleMapsLink||fe}}catch(ie){console.error("Critical error in client finalization",ie),O={id:R,salespersonId:e,companyName:B,ownerName:k,contact:H,originalAddress:C,cleanAddress:C,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Critico",lat:0,lng:0,googleMapsUri:S.googleMapsLink}}return d++,s&&s(d,f),await f1(500),O},v=t.map((S,A)=>c(()=>g(S,A)));return(await Promise.all(v)).filter(S=>S!==null)},DY=async(t,e,n)=>{const r=new iR({apiKey:e||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),i=10,s=t.length;let o=0;const c=[...t];for(let f=0;f<s;f+=i){const d=t.slice(f,f+i),g=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${d.map(v=>`- ID: ${v.sku} | Nome: ${v.name} | Marca: ${v.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let T=(await r.models.generateContent({model:"gemini-2.5-flash",contents:g})).text||"[]";T=T.replace(/```json/g,"").replace(/```/g,"").trim();let S=[];try{S=JSON.parse(T)}catch{console.error("Failed to parse AI response",T);const C=T.match(/\[.*\]/s);if(C)try{S=JSON.parse(C[0])}catch{}}Array.isArray(S)&&S.forEach(A=>{const C=c.findIndex(P=>String(P.sku)===String(A.sku));C!==-1&&(c[C]={...c[C],category:A.category})})}catch(v){console.error("Batch classification failed",v)}o+=d.length,n&&n(o,s),await f1(1e3)}return c},MY=()=>{};var mA={};const sR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},aR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|d>>6,T=d&63;f||(T=64,o||(v=64)),r.push(n[h],n[g],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new FY;const v=s<<2|c>>4;if(r.push(v),d!==64){const T=c<<4&240|d>>2;if(r.push(T),g!==64){const S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OY=function(t){const e=sR(t);return aR.encodeByteArray(e,!0)},op=function(t){return OY(t).replace(/\./g,"")},LY=function(t){try{return aR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VY=()=>UY().__FIREBASE_DEFAULTS__,BY=()=>{if(typeof process>"u"||typeof mA>"u")return;const t=mA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LY(t[1]);return e&&JSON.parse(e)},Vx=()=>{try{return MY()||VY()||BY()||zY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HY=t=>Vx()?.emulatorHosts?.[t],GY=t=>{const e=HY(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oR=()=>Vx()?.config;class qY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Bx(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jY(t){return(await fetch(t,{credentials:"include"})).ok}function $Y(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[op(JSON.stringify(n)),op(JSON.stringify(o)),""].join(".")}const Pf={};function KY(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pf))Pf[e]?t.emulator.push(e):t.prod.push(e);return t}function JY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let gA=!1;function YY(t,e){if(typeof window>"u"||typeof document>"u"||!Bx(window.location.host)||Pf[t]===e||Pf[t]||gA)return;Pf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=KY().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{gA=!0,o()},v}function h(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=JY(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),P=n("preprendIcon"),B=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;c(k),h(C,A);const H=d();f(B,P),k.append(B,S,C,H),document.body.appendChild(k)}s?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function WY(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZY(){const t=Vx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XY(){return!ZY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QY(){try{return typeof indexedDB=="object"}catch{return!1}}function eW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const tW="FirebaseError";class su extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tW,Object.setPrototypeOf(this,su.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lR.prototype.create)}}class lR{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?nW(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new su(i,c,r)}}function nW(t,e){return t.replace(rW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rW=/\{\$([^}]+)}/g;function lp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vA(s)&&vA(o)){if(!lp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vA(t){return t!==null&&typeof t=="object"}function td(t){return t&&t._delegate?t._delegate:t}class nd{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const il="[DEFAULT]";class iW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aW(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=il){return this.instances.has(e)}getOptions(e=il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=il){return this.component?this.component.multipleInstances?e:il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sW(t){return t===il?void 0:t}function aW(t){return t.instantiationMode==="EAGER"}class oW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const lW={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},cW=Bt.INFO,uW={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},fW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=uW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cR{constructor(e){this.name=e,this._logLevel=cW,this._logHandler=fW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const dW=(t,e)=>e.some(n=>t instanceof n);let xA,yA;function hW(){return xA||(xA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pW(){return yA||(yA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uR=new WeakMap,d1=new WeakMap,fR=new WeakMap,gv=new WeakMap,zx=new WeakMap;function mW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uR.set(n,t)}).catch(()=>{}),zx.set(e,t),e}function gW(t){if(d1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});d1.set(t,e)}let h1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return d1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vW(t){h1=t(h1)}function xW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vv(this),e,...n);return fR.set(r,e.sort?e.sort():[e]),ho(r)}:pW().includes(t)?function(...e){return t.apply(vv(this),e),ho(uR.get(this))}:function(...e){return ho(t.apply(vv(this),e))}}function yW(t){return typeof t=="function"?xW(t):(t instanceof IDBTransaction&&gW(t),dW(t,hW())?new Proxy(t,h1):t)}function ho(t){if(t instanceof IDBRequest)return mW(t);if(gv.has(t))return gv.get(t);const e=yW(t);return e!==t&&(gv.set(t,e),zx.set(e,t)),e}const vv=t=>zx.get(t);function _W(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=ho(o);return r&&o.addEventListener("upgradeneeded",f=>{r(ho(o.result),f.oldVersion,f.newVersion,ho(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const EW=["get","getKey","getAll","getAllKeys","count"],TW=["put","add","delete","clear"],xv=new Map;function _A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xv.get(e))return xv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EW.includes(n)))return;const s=async function(o,...c){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return xv.set(e,s),s}vW(t=>({...t,get:(e,n,r)=>_A(e,n)||t.get(e,n,r),has:(e,n)=>!!_A(e,n)||t.has(e,n)}));class wW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SW(t){return t.getComponent()?.type==="VERSION"}const p1="@firebase/app",EA="0.14.8";const va=new cR("@firebase/app"),AW="@firebase/app-compat",CW="@firebase/analytics-compat",bW="@firebase/analytics",NW="@firebase/app-check-compat",IW="@firebase/app-check",RW="@firebase/auth",kW="@firebase/auth-compat",DW="@firebase/database",MW="@firebase/data-connect",PW="@firebase/database-compat",FW="@firebase/functions",OW="@firebase/functions-compat",LW="@firebase/installations",UW="@firebase/installations-compat",VW="@firebase/messaging",BW="@firebase/messaging-compat",zW="@firebase/performance",HW="@firebase/performance-compat",GW="@firebase/remote-config",qW="@firebase/remote-config-compat",jW="@firebase/storage",$W="@firebase/storage-compat",KW="@firebase/firestore",JW="@firebase/ai",YW="@firebase/firestore-compat",WW="firebase",ZW="12.9.0";const m1="[DEFAULT]",XW={[p1]:"fire-core",[AW]:"fire-core-compat",[bW]:"fire-analytics",[CW]:"fire-analytics-compat",[IW]:"fire-app-check",[NW]:"fire-app-check-compat",[RW]:"fire-auth",[kW]:"fire-auth-compat",[DW]:"fire-rtdb",[MW]:"fire-data-connect",[PW]:"fire-rtdb-compat",[FW]:"fire-fn",[OW]:"fire-fn-compat",[LW]:"fire-iid",[UW]:"fire-iid-compat",[VW]:"fire-fcm",[BW]:"fire-fcm-compat",[zW]:"fire-perf",[HW]:"fire-perf-compat",[GW]:"fire-rc",[qW]:"fire-rc-compat",[jW]:"fire-gcs",[$W]:"fire-gcs-compat",[KW]:"fire-fst",[YW]:"fire-fst-compat",[JW]:"fire-vertex","fire-js":"fire-js",[WW]:"fire-js-all"};const rd=new Map,QW=new Map,g1=new Map;function TA(t,e){try{t.container.addComponent(e)}catch(n){va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cp(t){const e=t.name;if(g1.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;g1.set(e,t);for(const n of rd.values())TA(n,t);for(const n of QW.values())TA(n,t);return!0}function eZ(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function tZ(t){return t==null?!1:t.settings!==void 0}const nZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new lR("app","Firebase",nZ);class rZ{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}const iZ=ZW;function dR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:m1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=oR()),!n)throw po.create("no-options");const s=rd.get(i);if(s){if(lp(n,s.options)&&lp(r,s.config))return s;throw po.create("duplicate-app",{appName:i})}const o=new oW(i);for(const f of g1.values())o.addComponent(f);const c=new rZ(n,r,o);return rd.set(i,c),c}function hR(t=m1){const e=rd.get(t);if(!e&&t===m1&&oR())return dR();if(!e)throw po.create("no-app",{appName:t});return e}function sZ(){return Array.from(rd.values())}function Uc(t,e,n){let r=XW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),va.warn(o.join(" "));return}cp(new nd(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const aZ="firebase-heartbeat-database",oZ=1,id="firebase-heartbeat-store";let yv=null;function pR(){return yv||(yv=_W(aZ,oZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(id)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),yv}async function lZ(t){try{const n=(await pR()).transaction(id),r=await n.objectStore(id).get(mR(t));return await n.done,r}catch(e){if(e instanceof su)va.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e?.message});va.warn(n.message)}}}async function wA(t,e){try{const r=(await pR()).transaction(id,"readwrite");await r.objectStore(id).put(e,mR(t)),await r.done}catch(n){if(n instanceof su)va.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n?.message});va.warn(r.message)}}}function mR(t){return`${t.name}!${t.options.appId}`}const cZ=1024,uZ=30;class fZ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=SA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>uZ){const i=pZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){va.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=SA(),{heartbeatsToSend:n,unsentEntries:r}=dZ(this._heartbeatsCache.heartbeats),i=op(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return va.warn(e),""}}}function SA(){return new Date().toISOString().substring(0,10)}function dZ(t,e=cZ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QY()?eW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lZ(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AA(t){return op(JSON.stringify({version:2,heartbeats:t})).length}function pZ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function mZ(t){cp(new nd("platform-logger",e=>new wW(e),"PRIVATE")),cp(new nd("heartbeat",e=>new fZ(e),"PRIVATE")),Uc(p1,EA,t),Uc(p1,EA,"esm2020"),Uc("fire-js","")}mZ("");var gZ="firebase",vZ="12.9.0";Uc(gZ,vZ,"app");var CA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mo,gR;(function(){var t;function e(R,N){function b(){}b.prototype=N.prototype,R.F=N.prototype,R.prototype=new b,R.prototype.constructor=R,R.D=function(F,O,D){for(var U=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)U[fe-2]=arguments[fe];return N.prototype[O].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,N,b){b||(b=0);const F=Array(16);if(typeof N=="string")for(var O=0;O<16;++O)F[O]=N.charCodeAt(b++)|N.charCodeAt(b++)<<8|N.charCodeAt(b++)<<16|N.charCodeAt(b++)<<24;else for(O=0;O<16;++O)F[O]=N[b++]|N[b++]<<8|N[b++]<<16|N[b++]<<24;N=R.g[0],b=R.g[1],O=R.g[2];let D=R.g[3],U;U=N+(D^b&(O^D))+F[0]+3614090360&4294967295,N=b+(U<<7&4294967295|U>>>25),U=D+(O^N&(b^O))+F[1]+3905402710&4294967295,D=N+(U<<12&4294967295|U>>>20),U=O+(b^D&(N^b))+F[2]+606105819&4294967295,O=D+(U<<17&4294967295|U>>>15),U=b+(N^O&(D^N))+F[3]+3250441966&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(D^b&(O^D))+F[4]+4118548399&4294967295,N=b+(U<<7&4294967295|U>>>25),U=D+(O^N&(b^O))+F[5]+1200080426&4294967295,D=N+(U<<12&4294967295|U>>>20),U=O+(b^D&(N^b))+F[6]+2821735955&4294967295,O=D+(U<<17&4294967295|U>>>15),U=b+(N^O&(D^N))+F[7]+4249261313&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(D^b&(O^D))+F[8]+1770035416&4294967295,N=b+(U<<7&4294967295|U>>>25),U=D+(O^N&(b^O))+F[9]+2336552879&4294967295,D=N+(U<<12&4294967295|U>>>20),U=O+(b^D&(N^b))+F[10]+4294925233&4294967295,O=D+(U<<17&4294967295|U>>>15),U=b+(N^O&(D^N))+F[11]+2304563134&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(D^b&(O^D))+F[12]+1804603682&4294967295,N=b+(U<<7&4294967295|U>>>25),U=D+(O^N&(b^O))+F[13]+4254626195&4294967295,D=N+(U<<12&4294967295|U>>>20),U=O+(b^D&(N^b))+F[14]+2792965006&4294967295,O=D+(U<<17&4294967295|U>>>15),U=b+(N^O&(D^N))+F[15]+1236535329&4294967295,b=O+(U<<22&4294967295|U>>>10),U=N+(O^D&(b^O))+F[1]+4129170786&4294967295,N=b+(U<<5&4294967295|U>>>27),U=D+(b^O&(N^b))+F[6]+3225465664&4294967295,D=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(D^N))+F[11]+643717713&4294967295,O=D+(U<<14&4294967295|U>>>18),U=b+(D^N&(O^D))+F[0]+3921069994&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(O^D&(b^O))+F[5]+3593408605&4294967295,N=b+(U<<5&4294967295|U>>>27),U=D+(b^O&(N^b))+F[10]+38016083&4294967295,D=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(D^N))+F[15]+3634488961&4294967295,O=D+(U<<14&4294967295|U>>>18),U=b+(D^N&(O^D))+F[4]+3889429448&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(O^D&(b^O))+F[9]+568446438&4294967295,N=b+(U<<5&4294967295|U>>>27),U=D+(b^O&(N^b))+F[14]+3275163606&4294967295,D=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(D^N))+F[3]+4107603335&4294967295,O=D+(U<<14&4294967295|U>>>18),U=b+(D^N&(O^D))+F[8]+1163531501&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(O^D&(b^O))+F[13]+2850285829&4294967295,N=b+(U<<5&4294967295|U>>>27),U=D+(b^O&(N^b))+F[2]+4243563512&4294967295,D=N+(U<<9&4294967295|U>>>23),U=O+(N^b&(D^N))+F[7]+1735328473&4294967295,O=D+(U<<14&4294967295|U>>>18),U=b+(D^N&(O^D))+F[12]+2368359562&4294967295,b=O+(U<<20&4294967295|U>>>12),U=N+(b^O^D)+F[5]+4294588738&4294967295,N=b+(U<<4&4294967295|U>>>28),U=D+(N^b^O)+F[8]+2272392833&4294967295,D=N+(U<<11&4294967295|U>>>21),U=O+(D^N^b)+F[11]+1839030562&4294967295,O=D+(U<<16&4294967295|U>>>16),U=b+(O^D^N)+F[14]+4259657740&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(b^O^D)+F[1]+2763975236&4294967295,N=b+(U<<4&4294967295|U>>>28),U=D+(N^b^O)+F[4]+1272893353&4294967295,D=N+(U<<11&4294967295|U>>>21),U=O+(D^N^b)+F[7]+4139469664&4294967295,O=D+(U<<16&4294967295|U>>>16),U=b+(O^D^N)+F[10]+3200236656&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(b^O^D)+F[13]+681279174&4294967295,N=b+(U<<4&4294967295|U>>>28),U=D+(N^b^O)+F[0]+3936430074&4294967295,D=N+(U<<11&4294967295|U>>>21),U=O+(D^N^b)+F[3]+3572445317&4294967295,O=D+(U<<16&4294967295|U>>>16),U=b+(O^D^N)+F[6]+76029189&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(b^O^D)+F[9]+3654602809&4294967295,N=b+(U<<4&4294967295|U>>>28),U=D+(N^b^O)+F[12]+3873151461&4294967295,D=N+(U<<11&4294967295|U>>>21),U=O+(D^N^b)+F[15]+530742520&4294967295,O=D+(U<<16&4294967295|U>>>16),U=b+(O^D^N)+F[2]+3299628645&4294967295,b=O+(U<<23&4294967295|U>>>9),U=N+(O^(b|~D))+F[0]+4096336452&4294967295,N=b+(U<<6&4294967295|U>>>26),U=D+(b^(N|~O))+F[7]+1126891415&4294967295,D=N+(U<<10&4294967295|U>>>22),U=O+(N^(D|~b))+F[14]+2878612391&4294967295,O=D+(U<<15&4294967295|U>>>17),U=b+(D^(O|~N))+F[5]+4237533241&4294967295,b=O+(U<<21&4294967295|U>>>11),U=N+(O^(b|~D))+F[12]+1700485571&4294967295,N=b+(U<<6&4294967295|U>>>26),U=D+(b^(N|~O))+F[3]+2399980690&4294967295,D=N+(U<<10&4294967295|U>>>22),U=O+(N^(D|~b))+F[10]+4293915773&4294967295,O=D+(U<<15&4294967295|U>>>17),U=b+(D^(O|~N))+F[1]+2240044497&4294967295,b=O+(U<<21&4294967295|U>>>11),U=N+(O^(b|~D))+F[8]+1873313359&4294967295,N=b+(U<<6&4294967295|U>>>26),U=D+(b^(N|~O))+F[15]+4264355552&4294967295,D=N+(U<<10&4294967295|U>>>22),U=O+(N^(D|~b))+F[6]+2734768916&4294967295,O=D+(U<<15&4294967295|U>>>17),U=b+(D^(O|~N))+F[13]+1309151649&4294967295,b=O+(U<<21&4294967295|U>>>11),U=N+(O^(b|~D))+F[4]+4149444226&4294967295,N=b+(U<<6&4294967295|U>>>26),U=D+(b^(N|~O))+F[11]+3174756917&4294967295,D=N+(U<<10&4294967295|U>>>22),U=O+(N^(D|~b))+F[2]+718787259&4294967295,O=D+(U<<15&4294967295|U>>>17),U=b+(D^(O|~N))+F[9]+3951481745&4294967295,R.g[0]=R.g[0]+N&4294967295,R.g[1]=R.g[1]+(O+(U<<21&4294967295|U>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+D&4294967295}r.prototype.v=function(R,N){N===void 0&&(N=R.length);const b=N-this.blockSize,F=this.C;let O=this.h,D=0;for(;D<N;){if(O==0)for(;D<=b;)i(this,R,D),D+=this.blockSize;if(typeof R=="string"){for(;D<N;)if(F[O++]=R.charCodeAt(D++),O==this.blockSize){i(this,F),O=0;break}}else for(;D<N;)if(F[O++]=R[D++],O==this.blockSize){i(this,F),O=0;break}}this.h=O,this.o+=N},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var N=1;N<R.length-8;++N)R[N]=0;N=this.o*8;for(var b=R.length-8;b<R.length;++b)R[b]=N&255,N/=256;for(this.v(R),R=Array(16),N=0,b=0;b<4;++b)for(let F=0;F<32;F+=8)R[N++]=this.g[b]>>>F&255;return R};function s(R,N){var b=c;return Object.prototype.hasOwnProperty.call(b,R)?b[R]:b[R]=N(R)}function o(R,N){this.h=N;const b=[];let F=!0;for(let O=R.length-1;O>=0;O--){const D=R[O]|0;F&&D==N||(b[O]=D,F=!1)}this.g=b}var c={};function f(R){return-128<=R&&R<128?s(R,function(N){return new o([N|0],N<0?-1:0)}):new o([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return C(d(-R));const N=[];let b=1;for(let F=0;R>=b;F++)N[F]=R/b|0,b*=4294967296;return new o(N,0)}function h(R,N){if(R.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R.charAt(0)=="-")return C(h(R.substring(1),N));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(N,8));let F=g;for(let D=0;D<R.length;D+=8){var O=Math.min(8,R.length-D);const U=parseInt(R.substring(D,D+O),N);O<8?(O=d(Math.pow(N,O)),F=F.j(O).add(d(U))):(F=F.j(b),F=F.add(d(U)))}return F}var g=f(0),v=f(1),T=f(16777216);t=o.prototype,t.m=function(){if(A(this))return-C(this).m();let R=0,N=1;for(let b=0;b<this.g.length;b++){const F=this.i(b);R+=(F>=0?F:4294967296+F)*N,N*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(A(this))return"-"+C(this).toString(R);const N=d(Math.pow(R,6));var b=this;let F="";for(;;){const O=H(b,N).g;b=P(b,O.j(N));let D=((b.g.length>0?b.g[0]:b.h)>>>0).toString(R);if(b=O,S(b))return D+F;for(;D.length<6;)D="0"+D;F=D+F}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(let N=0;N<R.g.length;N++)if(R.g[N]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=P(this,R),A(R)?-1:S(R)?0:1};function C(R){const N=R.g.length,b=[];for(let F=0;F<N;F++)b[F]=~R.g[F];return new o(b,~R.h).add(v)}t.abs=function(){return A(this)?C(this):this},t.add=function(R){const N=Math.max(this.g.length,R.g.length),b=[];let F=0;for(let O=0;O<=N;O++){let D=F+(this.i(O)&65535)+(R.i(O)&65535),U=(D>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);F=U>>>16,D&=65535,U&=65535,b[O]=U<<16|D}return new o(b,b[b.length-1]&-2147483648?-1:0)};function P(R,N){return R.add(C(N))}t.j=function(R){if(S(this)||S(R))return g;if(A(this))return A(R)?C(this).j(C(R)):C(C(this).j(R));if(A(R))return C(this.j(C(R)));if(this.l(T)<0&&R.l(T)<0)return d(this.m()*R.m());const N=this.g.length+R.g.length,b=[];for(var F=0;F<2*N;F++)b[F]=0;for(F=0;F<this.g.length;F++)for(let O=0;O<R.g.length;O++){const D=this.i(F)>>>16,U=this.i(F)&65535,fe=R.i(O)>>>16,ie=R.i(O)&65535;b[2*F+2*O]+=U*ie,B(b,2*F+2*O),b[2*F+2*O+1]+=D*ie,B(b,2*F+2*O+1),b[2*F+2*O+1]+=U*fe,B(b,2*F+2*O+1),b[2*F+2*O+2]+=D*fe,B(b,2*F+2*O+2)}for(R=0;R<N;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=N;R<2*N;R++)b[R]=0;return new o(b,0)};function B(R,N){for(;(R[N]&65535)!=R[N];)R[N+1]+=R[N]>>>16,R[N]&=65535,N++}function k(R,N){this.g=R,this.h=N}function H(R,N){if(S(N))throw Error("division by zero");if(S(R))return new k(g,g);if(A(R))return N=H(C(R),N),new k(C(N.g),C(N.h));if(A(N))return N=H(R,C(N)),new k(C(N.g),N.h);if(R.g.length>30){if(A(R)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var b=v,F=N;F.l(R)<=0;)b=G(b),F=G(F);var O=K(b,1),D=K(F,1);for(F=K(F,2),b=K(b,2);!S(F);){var U=D.add(F);U.l(R)<=0&&(O=O.add(b),D=U),F=K(F,1),b=K(b,1)}return N=P(R,O.j(N)),new k(O,N)}for(O=g;R.l(N)>=0;){for(b=Math.max(1,Math.floor(R.m()/N.m())),F=Math.ceil(Math.log(b)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),D=d(b),U=D.j(N);A(U)||U.l(R)>0;)b-=F,D=d(b),U=D.j(N);S(D)&&(D=v),O=O.add(D),R=P(R,U)}return new k(O,R)}t.B=function(R){return H(this,R).h},t.and=function(R){const N=Math.max(this.g.length,R.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)&R.i(F);return new o(b,this.h&R.h)},t.or=function(R){const N=Math.max(this.g.length,R.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)|R.i(F);return new o(b,this.h|R.h)},t.xor=function(R){const N=Math.max(this.g.length,R.g.length),b=[];for(let F=0;F<N;F++)b[F]=this.i(F)^R.i(F);return new o(b,this.h^R.h)};function G(R){const N=R.g.length+1,b=[];for(let F=0;F<N;F++)b[F]=R.i(F)<<1|R.i(F-1)>>>31;return new o(b,R.h)}function K(R,N){const b=N>>5;N%=32;const F=R.g.length-b,O=[];for(let D=0;D<F;D++)O[D]=N>0?R.i(D+b)>>>N|R.i(D+b+1)<<32-N:R.i(D+b);return new o(O,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,mo=o}).apply(typeof CA<"u"?CA:typeof self<"u"?self:typeof window<"u"?window:{});var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var vR,yf,xR,_0,v1,yR,_R,ER;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof l0=="object"&&l0];for(var I=0;I<y.length;++I){var L=y[I];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(y,I){if(I)e:{var L=r;y=y.split(".");for(var Y=0;Y<y.length-1;Y++){var xe=y[Y];if(!(xe in L))break e;L=L[xe]}y=y[y.length-1],Y=L[y],I=I(Y),I!=Y&&I!=null&&e(L,y,{configurable:!0,writable:!0,value:I})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(I){var L=[],Y;for(Y in I)Object.prototype.hasOwnProperty.call(I,Y)&&L.push([Y,I[Y]]);return L}});var s=s||{},o=this||self;function c(y){var I=typeof y;return I=="object"&&y!=null||I=="function"}function f(y,I,L){return y.call.apply(y.bind,arguments)}function d(y,I,L){return d=f,d.apply(null,arguments)}function h(y,I){var L=Array.prototype.slice.call(arguments,1);return function(){var Y=L.slice();return Y.push.apply(Y,arguments),y.apply(this,Y)}}function g(y,I){function L(){}L.prototype=I.prototype,y.Z=I.prototype,y.prototype=new L,y.prototype.constructor=y,y.Ob=function(Y,xe,Ae){for(var qe=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)qe[Tt-2]=arguments[Tt];return I.prototype[xe].apply(Y,qe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function T(y){const I=y.length;if(I>0){const L=Array(I);for(let Y=0;Y<I;Y++)L[Y]=y[Y];return L}return[]}function S(y,I){for(let Y=1;Y<arguments.length;Y++){const xe=arguments[Y];var L=typeof xe;if(L=L!="object"?L:xe?Array.isArray(xe)?"array":L:"null",L=="array"||L=="object"&&typeof xe.length=="number"){L=y.length||0;const Ae=xe.length||0;y.length=L+Ae;for(let qe=0;qe<Ae;qe++)y[L+qe]=xe[qe]}else y.push(xe)}}class A{constructor(I,L){this.i=I,this.j=L,this.h=0,this.g=null}get(){let I;return this.h>0?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function C(y){o.setTimeout(()=>{throw y},0)}function P(){var y=R;let I=null;return y.g&&(I=y.g,y.g=y.g.next,y.g||(y.h=null),I.next=null),I}class B{constructor(){this.h=this.g=null}add(I,L){const Y=k.get();Y.set(I,L),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var k=new A(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(I,L){this.h=I,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let G,K=!1,R=new B,N=()=>{const y=Promise.resolve(void 0);G=()=>{y.then(b)}};function b(){for(var y;y=P();){try{y.h.call(y.g)}catch(L){C(L)}var I=k;I.j(y),I.h<100&&(I.h++,y.next=I.g,I.g=y)}K=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(y,I){this.type=y,this.g=this.target=I,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,I=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const L=()=>{};o.addEventListener("test",L,I),o.removeEventListener("test",L,I)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function fe(y,I){O.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,I)}g(fe,O),fe.prototype.init=function(y,I){const L=this.type=y.type,Y=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=I,I=y.relatedTarget,I||(L=="mouseover"?I=y.fromElement:L=="mouseout"&&(I=y.toElement)),this.relatedTarget=I,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),se=0;function le(y,I,L,Y,xe){this.listener=y,this.proxy=null,this.src=I,this.type=L,this.capture=!!Y,this.ha=xe,this.key=++se,this.da=this.fa=!1}function ce(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ae(y,I,L){for(const Y in y)I.call(L,y[Y],Y,y)}function Me(y,I){for(const L in y)I.call(void 0,y[L],L,y)}function W(y){const I={};for(const L in y)I[L]=y[L];return I}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(y,I){let L,Y;for(let xe=1;xe<arguments.length;xe++){Y=arguments[xe];for(L in Y)y[L]=Y[L];for(let Ae=0;Ae<V.length;Ae++)L=V[Ae],Object.prototype.hasOwnProperty.call(Y,L)&&(y[L]=Y[L])}}function ee(y){this.src=y,this.g={},this.h=0}ee.prototype.add=function(y,I,L,Y,xe){const Ae=y.toString();y=this.g[Ae],y||(y=this.g[Ae]=[],this.h++);const qe=he(y,I,Y,xe);return qe>-1?(I=y[qe],L||(I.fa=!1)):(I=new le(I,this.src,Ae,!!Y,xe),I.fa=L,y.push(I)),I};function ne(y,I){const L=I.type;if(L in y.g){var Y=y.g[L],xe=Array.prototype.indexOf.call(Y,I,void 0),Ae;(Ae=xe>=0)&&Array.prototype.splice.call(Y,xe,1),Ae&&(ce(I),y.g[L].length==0&&(delete y.g[L],y.h--))}}function he(y,I,L,Y){for(let xe=0;xe<y.length;++xe){const Ae=y[xe];if(!Ae.da&&Ae.listener==I&&Ae.capture==!!L&&Ae.ha==Y)return xe}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Ne={};function Ce(y,I,L,Y,xe){if(Array.isArray(I)){for(let Ae=0;Ae<I.length;Ae++)Ce(y,I[Ae],L,Y,xe);return null}return L=nt(L),y&&y[ie]?y.J(I,L,c(Y)?!!Y.capture:!1,xe):ke(y,I,L,!1,Y,xe)}function ke(y,I,L,Y,xe,Ae){if(!I)throw Error("Invalid event type");const qe=c(xe)?!!xe.capture:!!xe;let Tt=He(y);if(Tt||(y[me]=Tt=new ee(y)),L=Tt.add(I,L,Y,qe,Ae),L.proxy)return L;if(Y=$e(),L.proxy=Y,Y.src=y,Y.listener=L,y.addEventListener)D||(xe=qe),xe===void 0&&(xe=!1),y.addEventListener(I.toString(),Y,xe);else if(y.attachEvent)y.attachEvent(Ye(I.toString()),Y);else if(y.addListener&&y.removeListener)y.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return L}function $e(){function y(L){return I.call(y.src,y.listener,L)}const I=Ge;return y}function re(y,I,L,Y,xe){if(Array.isArray(I))for(var Ae=0;Ae<I.length;Ae++)re(y,I[Ae],L,Y,xe);else Y=c(Y)?!!Y.capture:!!Y,L=nt(L),y&&y[ie]?(y=y.i,Ae=String(I).toString(),Ae in y.g&&(I=y.g[Ae],L=he(I,L,Y,xe),L>-1&&(ce(I[L]),Array.prototype.splice.call(I,L,1),I.length==0&&(delete y.g[Ae],y.h--)))):y&&(y=He(y))&&(I=y.g[I.toString()],y=-1,I&&(y=he(I,L,Y,xe)),(L=y>-1?I[y]:null)&&ht(L))}function ht(y){if(typeof y!="number"&&y&&!y.da){var I=y.src;if(I&&I[ie])ne(I.i,y);else{var L=y.type,Y=y.proxy;I.removeEventListener?I.removeEventListener(L,Y,y.capture):I.detachEvent?I.detachEvent(Ye(L),Y):I.addListener&&I.removeListener&&I.removeListener(Y),(L=He(I))?(ne(L,y),L.h==0&&(L.src=null,I[me]=null)):ce(y)}}}function Ye(y){return y in Ne?Ne[y]:Ne[y]="on"+y}function Ge(y,I){if(y.da)y=!0;else{I=new fe(I,this);const L=y.listener,Y=y.ha||y.src;y.fa&&ht(y),y=L.call(Y,I)}return y}function He(y){return y=y[me],y instanceof ee?y:null}var Be="__closure_events_fn_"+(Math.random()*1e9>>>0);function nt(y){return typeof y=="function"?y:(y[Be]||(y[Be]=function(I){return y.handleEvent(I)}),y[Be])}function rt(){F.call(this),this.i=new ee(this),this.M=this,this.G=null}g(rt,F),rt.prototype[ie]=!0,rt.prototype.removeEventListener=function(y,I,L,Y){re(this,y,I,L,Y)};function ft(y,I){var L,Y=y.G;if(Y)for(L=[];Y;Y=Y.G)L.push(Y);if(y=y.M,Y=I.type||I,typeof I=="string")I=new O(I,y);else if(I instanceof O)I.target=I.target||y;else{var xe=I;I=new O(Y,y),X(I,xe)}xe=!0;let Ae,qe;if(L)for(qe=L.length-1;qe>=0;qe--)Ae=I.g=L[qe],xe=un(Ae,Y,!0,I)&&xe;if(Ae=I.g=y,xe=un(Ae,Y,!0,I)&&xe,xe=un(Ae,Y,!1,I)&&xe,L)for(qe=0;qe<L.length;qe++)Ae=I.g=L[qe],xe=un(Ae,Y,!1,I)&&xe}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var y=this.i;for(const I in y.g){const L=y.g[I];for(let Y=0;Y<L.length;Y++)ce(L[Y]);delete y.g[I],y.h--}}this.G=null},rt.prototype.J=function(y,I,L,Y){return this.i.add(String(y),I,!1,L,Y)},rt.prototype.K=function(y,I,L,Y){return this.i.add(String(y),I,!0,L,Y)};function un(y,I,L,Y){if(I=y.i.g[String(I)],!I)return!0;I=I.concat();let xe=!0;for(let Ae=0;Ae<I.length;++Ae){const qe=I[Ae];if(qe&&!qe.da&&qe.capture==L){const Tt=qe.listener,Pn=qe.ha||qe.src;qe.fa&&ne(y.i,qe),xe=Tt.call(Pn,Y)!==!1&&xe}}return xe&&!Y.defaultPrevented}function Sn(y,I){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(I)>2147483647?-1:o.setTimeout(y,I||0)}function zn(y){y.g=Sn(()=>{y.g=null,y.i&&(y.i=!1,zn(y))},y.l);const I=y.h;y.h=null,y.m.apply(null,I)}class gt extends F{constructor(I,L){super(),this.m=I,this.l=L,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ut(y){F.call(this),this.h=y,this.g={}}g(Ut,F);var Ct=[];function fn(y){ae(y.g,function(I,L){this.g.hasOwnProperty(L)&&ht(I)},y),y.g={}}Ut.prototype.N=function(){Ut.Z.N.call(this),fn(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=o.JSON.stringify,Mn=o.JSON.parse,it=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function Ft(){}function Wt(){}var bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){O.call(this,"d")}g(Kt,O);function pr(){O.call(this,"c")}g(pr,O);var mn={},wa=null;function Yi(){return wa=wa||new rt}mn.Ia="serverreachability";function Hs(y){O.call(this,mn.Ia,y)}g(Hs,O);function Gr(y){const I=Yi();ft(I,new Hs(I))}mn.STAT_EVENT="statevent";function Wi(y,I){O.call(this,mn.STAT_EVENT,y),this.stat=I}g(Wi,O);function yn(y){const I=Yi();ft(I,new Wi(I,y))}mn.Ja="timingevent";function mr(y,I){O.call(this,mn.Ja,y),this.size=I}g(mr,O);function ti(y,I){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},I)}function qr(){this.g=!0}qr.prototype.ua=function(){this.g=!1};function ko(y,I,L,Y,xe,Ae){y.info(function(){if(y.g)if(Ae){var qe="",Tt=Ae.split("&");for(let Jt=0;Jt<Tt.length;Jt++){var Pn=Tt[Jt].split("=");if(Pn.length>1){const _n=Pn[0];Pn=Pn[1];const Ri=_n.split("_");qe=Ri.length>=2&&Ri[1]=="type"?qe+(_n+"="+Pn+"&"):qe+(_n+"=redacted&")}}}else qe=null;else qe=Ae;return"XMLHTTP REQ ("+Y+") [attempt "+xe+"]: "+I+`
`+L+`
`+qe})}function Sa(y,I,L,Y,xe,Ae,qe){y.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+xe+"]: "+I+`
`+L+`
`+Ae+" "+qe})}function Nr(y,I,L,Y){y.info(function(){return"XMLHTTP TEXT ("+I+"): "+Xn(y,L)+(Y?" "+Y:"")})}function ar(y,I){y.info(function(){return"TIMEOUT: "+I})}qr.prototype.info=function(){};function Xn(y,I){if(!y.g)return I;if(!I)return null;try{const Ae=JSON.parse(I);if(Ae){for(y=0;y<Ae.length;y++)if(Array.isArray(Ae[y])){var L=Ae[y];if(!(L.length<2)){var Y=L[1];if(Array.isArray(Y)&&!(Y.length<1)){var xe=Y[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(let qe=1;qe<Y.length;qe++)Y[qe]=""}}}}return Rt(Ae)}catch{return I}}var hi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ie={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xe;function Qe(){}g(Qe,Ft),Qe.prototype.g=function(){return new XMLHttpRequest},Xe=new Qe;function ct(y){return encodeURIComponent(String(y))}function z(y){var I=1;y=y.split(":");const L=[];for(;I>0&&y.length;)L.push(y.shift()),I--;return y.length&&L.push(y.join(":")),L}function Z(y,I,L,Y){this.j=y,this.i=I,this.l=L,this.S=Y||1,this.V=new Ut(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new j}function j(){this.i=null,this.g="",this.h=!1}var J={},Q={};function te(y,I,L){y.M=1,y.A=Do(Hn(I)),y.u=L,y.R=!0,ge(y,null)}function ge(y,I){y.F=Date.now(),Te(y),y.B=Hn(y.A);var L=y.B,Y=y.S;Array.isArray(Y)||(Y=[String(Y)]),Fl(L.i,"t",Y),y.C=0,L=y.j.L,y.h=new j,y.g=Ud(y.j,L?I:null,!y.u),y.P>0&&(y.O=new gt(d(y.Y,y,y.g),y.P)),I=y.V,L=y.g,Y=y.ba;var xe="readystatechange";Array.isArray(xe)||(xe&&(Ct[0]=xe.toString()),xe=Ct);for(let Ae=0;Ae<xe.length;Ae++){const qe=Ce(L,xe[Ae],Y||I.handleEvent,!1,I.h||I);if(!qe)break;I.g[qe.key]=qe}I=y.J?W(y.J):{},y.u?(y.v||(y.v="POST"),I["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,I)):(y.v="GET",y.g.ea(y.B,y.v,null,I)),Gr(),ko(y.i,y.v,y.B,y.l,y.S,y.u)}Z.prototype.ba=function(y){y=y.target;const I=this.O;I&&ts(y)==3?I.j():this.Y(y)},Z.prototype.Y=function(y){try{if(y==this.g)e:{const Tt=ts(this.g),Pn=this.g.ya(),Jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||gr(this.g)))){this.K||Tt!=4||Pn==7||(Pn==8||Jt<=0?Gr(3):Gr(2)),ze(this);var I=this.g.ca();this.X=I;var L=Se(this);if(this.o=I==200,Sa(this.i,this.v,this.B,this.l,this.S,Tt,I),this.o){if(this.U&&!this.L){t:{if(this.g){var Y,xe=this.g;if((Y=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Y)){var Ae=Y;break t}}Ae=null}if(y=Ae)Nr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,je(this,y);else{this.o=!1,this.m=3,yn(12),Ue(this),Ke(this);break e}}if(this.R){y=!0;let _n;for(;!this.K&&this.C<L.length;)if(_n=Ee(this,L),_n==Q){Tt==4&&(this.m=4,yn(14),y=!1),Nr(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==J){this.m=4,yn(15),Nr(this.i,this.l,L,"[Invalid Chunk]"),y=!1;break}else Nr(this.i,this.l,_n,null),je(this,_n);if(ve(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||L.length!=0||this.h.h||(this.m=1,yn(16),y=!1),this.o=this.o&&y,!y)Nr(this.i,this.l,L,"[Invalid Chunked Response]"),Ue(this),Ke(this);else if(L.length>0&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.aa&&!qe.P&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),_u(qe),qe.P=!0,yn(11))}}else Nr(this.i,this.l,L,null),je(this,L);Tt==4&&Ue(this),this.o&&!this.K&&(Tt==4?Pd(this.j,this):(this.o=!1,Te(this)))}else qs(this.g),I==400&&L.indexOf("Unknown SID")>0?(this.m=3,yn(12)):(this.m=0,yn(13)),Ue(this),Ke(this)}}}catch{}};function Se(y){if(!ve(y))return y.g.la();const I=gr(y.g);if(I==="")return"";let L="";const Y=I.length,xe=ts(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ue(y),Ke(y),"";y.h.i=new o.TextDecoder}for(let Ae=0;Ae<Y;Ae++)y.h.h=!0,L+=y.h.i.decode(I[Ae],{stream:!(xe&&Ae==Y-1)});return I.length=0,y.h.g+=L,y.C=0,y.h.g}function ve(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Ee(y,I){var L=y.C,Y=I.indexOf(`
`,L);return Y==-1?Q:(L=Number(I.substring(L,Y)),isNaN(L)?J:(Y+=1,Y+L>I.length?Q:(I=I.slice(Y,Y+L),y.C=Y+L,I)))}Z.prototype.cancel=function(){this.K=!0,Ue(this)};function Te(y){y.T=Date.now()+y.H,Ve(y,y.H)}function Ve(y,I){if(y.D!=null)throw Error("WatchDog timer not null");y.D=ti(d(y.aa,y),I)}function ze(y){y.D&&(o.clearTimeout(y.D),y.D=null)}Z.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ar(this.i,this.B),this.M!=2&&(Gr(),yn(17)),Ue(this),this.m=2,Ke(this)):Ve(this,this.T-y)};function Ke(y){y.j.I==0||y.K||Pd(y.j,y)}function Ue(y){ze(y);var I=y.O;I&&typeof I.dispose=="function"&&I.dispose(),y.O=null,fn(y.V),y.g&&(I=y.g,y.g=null,I.abort(),I.dispose())}function je(y,I){try{var L=y.j;if(L.I!=0&&(L.g==y||Ir(L.h,y))){if(!y.L&&Ir(L.h,y)&&L.I==3){try{var Y=L.Ba.g.parse(I)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var xe=Y;if(xe[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<y.F)Bl(L),Ma(L);else break e;Vo(L),yn(18)}}else L.xa=xe[1],0<L.xa-L.K&&xe[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=ti(d(L.Va,L),6e3));dn(L.h)<=1&&L.ta&&(L.ta=void 0)}else ws(L,11)}else if((y.L||L.g==y)&&Bl(L),!U(I))for(xe=L.Ba.g.parse(I),I=0;I<xe.length;I++){let Jt=xe[I];const _n=Jt[0];if(!(_n<=L.K))if(L.K=_n,Jt=Jt[1],L.I==2)if(Jt[0]=="c"){L.M=Jt[1],L.ba=Jt[2];const Ri=Jt[3];Ri!=null&&(L.ka=Ri,L.j.info("VER="+L.ka));const Ss=Jt[4];Ss!=null&&(L.za=Ss,L.j.info("SVER="+L.za));const ns=Jt[5];ns!=null&&typeof ns=="number"&&ns>0&&(Y=1.5*ns,L.O=Y,L.j.info("backChannelRequestTimeoutMs_="+Y)),Y=L;const rs=y.g;if(rs){const Bo=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var Ae=Y.h;Ae.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(Zi(Ae,Ae.h),Ae.h=null))}if(Y.G){const zl=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(Y.wa=zl,en(Y.J,Y.G,zl))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-y.F,L.j.info("Handshake RTT: "+L.T+"ms")),Y=L;var qe=y;if(Y.na=Ld(Y,Y.L?Y.ba:null,Y.W),qe.L){Xi(Y.h,qe);var Tt=qe,Pn=Y.O;Pn&&(Tt.H=Pn),Tt.D&&(ze(Tt),Te(Tt)),Y.g=qe}else Dd(Y);L.i.length>0&&Ts(L)}else Jt[0]!="stop"&&Jt[0]!="close"||ws(L,7);else L.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?ws(L,7):xu(L):Jt[0]!="noop"&&L.l&&L.l.qa(Jt),L.A=0)}}Gr(4)}catch{}}var et=class{constructor(y,I){this.g=y,this.map=I}};function Xt(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qt(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function dn(y){return y.h?1:y.g?y.g.size:0}function Ir(y,I){return y.h?y.h==I:y.g?y.g.has(I):!1}function Zi(y,I){y.g?y.g.add(I):y.h=I}function Xi(y,I){y.h&&y.h==I?y.h=null:y.g&&y.g.has(I)&&y.g.delete(I)}Xt.prototype.cancel=function(){if(this.i=pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function pi(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let I=y.i;for(const L of y.g.values())I=I.concat(L.G);return I}return T(y.i)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rr(y,I){if(y){y=y.split("&");for(let L=0;L<y.length;L++){const Y=y[L].indexOf("=");let xe,Ae=null;Y>=0?(xe=y[L].substring(0,Y),Ae=y[L].substring(Y+1)):xe=y[L],I(xe,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function mi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let I;y instanceof mi?(this.l=y.l,or(this,y.j),this.o=y.o,this.g=y.g,Ca(this,y.u),this.h=y.h,fu(this,Rd(y.i)),this.m=y.m):y&&(I=String(y).match(Aa))?(this.l=!1,or(this,I[1]||"",!0),this.o=xs(I[2]||""),this.g=xs(I[3]||"",!0),Ca(this,I[4]),this.h=xs(I[5]||"",!0),fu(this,I[6]||"",!0),this.m=xs(I[7]||"")):(this.l=!1,this.i=new Na(null,this.l))}mi.prototype.toString=function(){const y=[];var I=this.j;I&&y.push(Mo(I,Pl,!0),":");var L=this.g;return(L||I=="file")&&(y.push("//"),(I=this.o)&&y.push(Mo(I,Pl,!0),"@"),y.push(ct(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&y.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&y.push("/"),y.push(Mo(L,L.charAt(0)=="/"?du:bd,!0))),(L=this.i.toString())&&y.push("?",L),(L=this.m)&&y.push("#",Mo(L,Nd)),y.join("")},mi.prototype.resolve=function(y){const I=Hn(this);let L=!!y.j;L?or(I,y.j):L=!!y.o,L?I.o=y.o:L=!!y.g,L?I.g=y.g:L=y.u!=null;var Y=y.h;if(L)Ca(I,y.u);else if(L=!!y.h){if(Y.charAt(0)!="/")if(this.g&&!this.h)Y="/"+Y;else{var xe=I.h.lastIndexOf("/");xe!=-1&&(Y=I.h.slice(0,xe+1)+Y)}if(xe=Y,xe==".."||xe==".")Y="";else if(xe.indexOf("./")!=-1||xe.indexOf("/.")!=-1){Y=xe.lastIndexOf("/",0)==0,xe=xe.split("/");const Ae=[];for(let qe=0;qe<xe.length;){const Tt=xe[qe++];Tt=="."?Y&&qe==xe.length&&Ae.push(""):Tt==".."?((Ae.length>1||Ae.length==1&&Ae[0]!="")&&Ae.pop(),Y&&qe==xe.length&&Ae.push("")):(Ae.push(Tt),Y=!0)}Y=Ae.join("/")}else Y=xe}return L?I.h=Y:L=y.i.toString()!=="",L?fu(I,Rd(y.i)):L=!!y.m,L&&(I.m=y.m),I};function Hn(y){return new mi(y)}function or(y,I,L){y.j=L?xs(I,!0):I,y.j&&(y.j=y.j.replace(/:$/,""))}function Ca(y,I){if(I){if(I=Number(I),isNaN(I)||I<0)throw Error("Bad port number "+I);y.u=I}else y.u=null}function fu(y,I,L){I instanceof Na?(y.i=I,Ol(y.i,y.l)):(L||(I=Mo(I,ba)),y.i=new Na(I,y.l))}function en(y,I,L){y.i.set(I,L)}function Do(y){return en(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function xs(y,I){return y?I?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Mo(y,I,L){return typeof y=="string"?(y=encodeURI(y).replace(I,ni),L&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ni(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Pl=/[#\/\?@]/g,bd=/[#\?:]/g,du=/[#\?]/g,ba=/[#\?@]/g,Nd=/#/g;function Na(y,I){this.h=this.g=null,this.i=y||null,this.j=!!I}function ri(y){y.g||(y.g=new Map,y.h=0,y.i&&Rr(y.i,function(I,L){y.add(decodeURIComponent(I.replace(/\+/g," ")),L)}))}t=Na.prototype,t.add=function(y,I){ri(this),this.i=null,y=Ia(this,y);let L=this.g.get(y);return L||this.g.set(y,L=[]),L.push(I),this.h+=1,this};function Id(y,I){ri(y),I=Ia(y,I),y.g.has(I)&&(y.i=null,y.h-=y.g.get(I).length,y.g.delete(I))}function hu(y,I){return ri(y),I=Ia(y,I),y.g.has(I)}t.forEach=function(y,I){ri(this),this.g.forEach(function(L,Y){L.forEach(function(xe){y.call(I,xe,Y,this)},this)},this)};function pu(y,I){ri(y);let L=[];if(typeof I=="string")hu(y,I)&&(L=L.concat(y.g.get(Ia(y,I))));else for(y=Array.from(y.g.values()),I=0;I<y.length;I++)L=L.concat(y[I]);return L}t.set=function(y,I){return ri(this),this.i=null,y=Ia(this,y),hu(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[I]),this.h+=1,this},t.get=function(y,I){return y?(y=pu(this,y),y.length>0?String(y[0]):I):I};function Fl(y,I,L){Id(y,I),L.length>0&&(y.i=null,y.g.set(Ia(y,I),T(L)),y.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],I=Array.from(this.g.keys());for(let Y=0;Y<I.length;Y++){var L=I[Y];const xe=ct(L);L=pu(this,L);for(let Ae=0;Ae<L.length;Ae++){let qe=xe;L[Ae]!==""&&(qe+="="+ct(L[Ae])),y.push(qe)}}return this.i=y.join("&")};function Rd(y){const I=new Na;return I.i=y.i,y.g&&(I.g=new Map(y.g),I.h=y.h),I}function Ia(y,I){return I=String(I),y.j&&(I=I.toLowerCase()),I}function Ol(y,I){I&&!y.j&&(ri(y),y.i=null,y.g.forEach(function(L,Y){const xe=Y.toLowerCase();Y!=xe&&(Id(this,Y),Fl(this,xe,L))},y)),y.j=I}function Qi(y,I){const L=new qr;if(o.Image){const Y=new Image;Y.onload=h(Ni,L,"TestLoadImage: loaded",!0,I,Y),Y.onerror=h(Ni,L,"TestLoadImage: error",!1,I,Y),Y.onabort=h(Ni,L,"TestLoadImage: abort",!1,I,Y),Y.ontimeout=h(Ni,L,"TestLoadImage: timeout",!1,I,Y),o.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=y}else I(!1)}function mu(y,I){const L=new qr,Y=new AbortController,xe=setTimeout(()=>{Y.abort(),Ni(L,"TestPingServer: timeout",!1,I)},1e4);fetch(y,{signal:Y.signal}).then(Ae=>{clearTimeout(xe),Ae.ok?Ni(L,"TestPingServer: ok",!0,I):Ni(L,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(xe),Ni(L,"TestPingServer: error",!1,I)})}function Ni(y,I,L,Y,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),Y(L)}catch{}}function Ra(){this.g=new it}function ys(y){this.i=y.Sb||null,this.h=y.ab||!1}g(ys,Ft),ys.prototype.g=function(){return new Po(this.i,this.h)};function Po(y,I){rt.call(this),this.H=y,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Po,rt),t=Po.prototype,t.open=function(y,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=I,this.readyState=1,es(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const I={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(I.body=y),(this.H||o).fetch(new Request(this.D,I)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ll(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ll(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var I=y.value?y.value:new Uint8Array(0);(I=this.B.decode(I,{stream:!y.done}))&&(this.response=this.responseText+=I)}y.done?ka(this):es(this),this.readyState==3&&Ll(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,ka(this))},t.Na=function(y){this.g&&(this.response=y,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(y){y.readyState=4,y.l=null,y.j=null,y.B=null,es(y)}t.setRequestHeader=function(y,I){this.A.append(y,I)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],I=this.h.entries();for(var L=I.next();!L.done;)L=L.value,y.push(L[0]+": "+L[1]),L=I.next();return y.join(`\r
`)};function es(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ii(y){let I="";return ae(y,function(L,Y){I+=Y,I+=":",I+=L,I+=`\r
`}),I}function Fo(y,I,L){e:{for(Y in L){var Y=!1;break e}Y=!0}Y||(L=Ii(L),typeof y=="string"?L!=null&&ct(L):en(y,I,L))}function sn(y){rt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(sn,rt);var _s=/^https?$/i,gu=["POST","PUT"];t=sn.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,I,L,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);I=I?I.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xe.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(I,String(y),!0),this.B=!1}catch(Ae){Oo(this,Ae);return}if(y=L||"",L=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var xe in Y)L.set(xe,Y[xe]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Ae of Y.keys())L.set(Ae,Y.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(L.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),xe=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(gu,I,void 0)>=0)||Y||xe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,qe]of L)this.g.setRequestHeader(Ae,qe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(Ae){Oo(this,Ae)}};function Oo(y,I){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=I,y.o=5,vu(y),Gs(y)}function vu(y){y.A||(y.A=!0,ft(y,"complete"),ft(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,ft(this,"complete"),ft(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Lo(this):this.Xa())},t.Xa=function(){Lo(this)};function Lo(y){if(y.h&&typeof s<"u"){if(y.v&&ts(y)==4)setTimeout(y.Ca.bind(y),0);else if(ft(y,"readystatechange"),ts(y)==4){y.h=!1;try{const Ae=y.ca();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var L;if(!(L=I)){var Y;if(Y=Ae===0){let qe=String(y.D).match(Aa)[1]||null;!qe&&o.self&&o.self.location&&(qe=o.self.location.protocol.slice(0,-1)),Y=!_s.test(qe?qe.toLowerCase():"")}L=Y}if(L)ft(y,"complete"),ft(y,"success");else{y.o=6;try{var xe=ts(y)>2?y.g.statusText:""}catch{xe=""}y.l=xe+" ["+y.ca()+"]",vu(y)}}finally{Gs(y)}}}}function Gs(y,I){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const L=y.g;y.g=null,I||ft(y,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ts(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var I=this.g.responseText;return y&&I.indexOf(y)==0&&(I=I.substring(y.length)),Mn(I)}};function gr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function qs(y){const I={};y=(y.g&&ts(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<y.length;Y++){if(U(y[Y]))continue;var L=z(y[Y]);const xe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Ae=I[xe]||[];I[xe]=Ae,Ae.push(L)}Me(I,function(Y){return Y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(y,I,L){return L&&L.internalChannelParams&&L.internalChannelParams[y]||I}function Da(y){this.za=0,this.i=[],this.j=new qr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Es("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Es("baseRetryDelayMs",5e3,y),this.Za=Es("retryDelaySeedMs",1e4,y),this.Ta=Es("forwardChannelMaxRetries",2,y),this.va=Es("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Xt(y&&y.concurrentRequestLimit),this.Ba=new Ra,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Da.prototype,t.ka=8,t.I=1,t.connect=function(y,I,L,Y){yn(0),this.W=y,this.H=I||{},L&&Y!==void 0&&(this.H.OSID=L,this.H.OAID=Y),this.F=this.X,this.J=Ld(this,null,this.W),Ts(this)};function xu(y){if(Ul(y),y.I==3){var I=y.V++,L=Hn(y.J);if(en(L,"SID",y.M),en(L,"RID",I),en(L,"TYPE","terminate"),Uo(y,L),I=new Z(y,y.j,I),I.M=2,I.A=Do(Hn(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(I.A.toString(),"")}catch{}!L&&o.Image&&(new Image().src=I.A,L=!0),L||(I.g=Ud(I.j,null),I.g.ea(I.A)),I.F=Date.now(),Te(I)}Od(y)}function Ma(y){y.g&&(_u(y),y.g.cancel(),y.g=null)}function Ul(y){Ma(y),y.v&&(o.clearTimeout(y.v),y.v=null),Bl(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Ts(y){if(!Qt(y.h)&&!y.m){y.m=!0;var I=y.Ea;G||N(),K||(G(),K=!0),R.add(I,y),y.D=0}}function Vl(y,I){return dn(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=I.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=ti(d(y.Ea,y,I),Fd(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const xe=new Z(this,this.j,y);let Ae=this.o;if(this.U&&(Ae?(Ae=W(Ae),X(Ae,this.U)):Ae=this.U),this.u!==null||this.R||(xe.J=Ae,Ae=null),this.S)e:{for(var I=0,L=0;L<this.i.length;L++){t:{var Y=this.i[L];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(I+=Y,I>4096){I=L;break e}if(I===4096||L===this.i.length-1){I=L+1;break e}}I=1e3}else I=1e3;I=kd(this,xe,I),L=Hn(this.J),en(L,"RID",y),en(L,"CVER",22),this.G&&en(L,"X-HTTP-Session-Id",this.G),Uo(this,L),Ae&&(this.R?I="headers="+ct(Ii(Ae))+"&"+I:this.u&&Fo(L,this.u,Ae)),Zi(this.h,xe),this.Ra&&en(L,"TYPE","init"),this.S?(en(L,"$req",I),en(L,"SID","null"),xe.U=!0,te(xe,L,null)):te(xe,L,I),this.I=2}}else this.I==3&&(y?yu(this,y):this.i.length==0||Qt(this.h)||yu(this))};function yu(y,I){var L;I?L=I.l:L=y.V++;const Y=Hn(y.J);en(Y,"SID",y.M),en(Y,"RID",L),en(Y,"AID",y.K),Uo(y,Y),y.u&&y.o&&Fo(Y,y.u,y.o),L=new Z(y,y.j,L,y.D+1),y.u===null&&(L.J=y.o),I&&(y.i=I.G.concat(y.i)),I=kd(y,L,1e3),L.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Zi(y.h,L),te(L,Y,I)}function Uo(y,I){y.H&&ae(y.H,function(L,Y){en(I,Y,L)}),y.l&&ae({},function(L,Y){en(I,Y,L)})}function kd(y,I,L){L=Math.min(y.i.length,L);const Y=y.l?d(y.l.Ka,y.l,y):null;e:{var xe=y.i;let Tt=-1;for(;;){const Pn=["count="+L];Tt==-1?L>0?(Tt=xe[0].g,Pn.push("ofs="+Tt)):Tt=0:Pn.push("ofs="+Tt);let Jt=!0;for(let _n=0;_n<L;_n++){var Ae=xe[_n].g;const Ri=xe[_n].map;if(Ae-=Tt,Ae<0)Tt=Math.max(0,xe[_n].g-100),Jt=!1;else try{Ae="req"+Ae+"_"||"";try{var qe=Ri instanceof Map?Ri:Object.entries(Ri);for(const[Ss,ns]of qe){let rs=ns;c(ns)&&(rs=Rt(ns)),Pn.push(Ae+Ss+"="+encodeURIComponent(rs))}}catch(Ss){throw Pn.push(Ae+"type="+encodeURIComponent("_badmap")),Ss}}catch{Y&&Y(Ri)}}if(Jt){qe=Pn.join("&");break e}}qe=void 0}return y=y.i.splice(0,L),I.G=y,qe}function Dd(y){if(!y.g&&!y.v){y.Y=1;var I=y.Da;G||N(),K||(G(),K=!0),R.add(I,y),y.A=0}}function Vo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=ti(d(y.Da,y),Fd(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Md(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=ti(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yn(10),Ma(this),Md(this))};function _u(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function Md(y){y.g=new Z(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var I=Hn(y.na);en(I,"RID","rpc"),en(I,"SID",y.M),en(I,"AID",y.K),en(I,"CI",y.F?"0":"1"),!y.F&&y.ia&&en(I,"TO",y.ia),en(I,"TYPE","xmlhttp"),Uo(y,I),y.u&&y.o&&Fo(I,y.u,y.o),y.O&&(y.g.H=y.O);var L=y.g;y=y.ba,L.M=1,L.A=Do(Hn(I)),L.u=null,L.R=!0,ge(L,y)}t.Va=function(){this.C!=null&&(this.C=null,Ma(this),Vo(this),yn(19))};function Bl(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function Pd(y,I){var L=null;if(y.g==I){Bl(y),_u(y),y.g=null;var Y=2}else if(Ir(y.h,I))L=I.G,Xi(y.h,I),Y=1;else return;if(y.I!=0){if(I.o)if(Y==1){L=I.u?I.u.length:0,I=Date.now()-I.F;var xe=y.D;Y=Yi(),ft(Y,new mr(Y,L)),Ts(y)}else Dd(y);else if(xe=I.m,xe==3||xe==0&&I.X>0||!(Y==1&&Vl(y,I)||Y==2&&Vo(y)))switch(L&&L.length>0&&(I=y.h,I.i=I.i.concat(L)),xe){case 1:ws(y,5);break;case 4:ws(y,10);break;case 3:ws(y,6);break;default:ws(y,2)}}}function Fd(y,I){let L=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(L*=2),L*I}function ws(y,I){if(y.j.info("Error code "+I),I==2){var L=d(y.bb,y),Y=y.Ua;const xe=!Y;Y=new mi(Y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||or(Y,"https"),Do(Y),xe?Qi(Y.toString(),L):mu(Y.toString(),L)}else yn(2);y.I=0,y.l&&y.l.pa(I),Od(y),Ul(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Od(y){if(y.I=0,y.ja=[],y.l){const I=pi(y.h);(I.length!=0||y.i.length!=0)&&(S(y.ja,I),S(y.ja,y.i),y.h.i.length=0,T(y.i),y.i.length=0),y.l.oa()}}function Ld(y,I,L){var Y=L instanceof mi?Hn(L):new mi(L);if(Y.g!="")I&&(Y.g=I+"."+Y.g),Ca(Y,Y.u);else{var xe=o.location;Y=xe.protocol,I=I?I+"."+xe.hostname:xe.hostname,xe=+xe.port;const Ae=new mi(null);Y&&or(Ae,Y),I&&(Ae.g=I),xe&&Ca(Ae,xe),L&&(Ae.h=L),Y=Ae}return L=y.G,I=y.wa,L&&I&&en(Y,L,I),en(Y,"VER",y.ka),Uo(y,Y),Y}function Ud(y,I,L){if(I&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return I=y.Aa&&!y.ma?new sn(new ys({ab:L})):new sn(y.ma),I.Fa(y.L),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vd(){}t=Vd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pa(){}Pa.prototype.g=function(y,I){return new jr(y,I)};function jr(y,I){rt.call(this),this.g=new Da(I),this.l=y,this.h=I&&I.messageUrlParams||null,y=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(y?y["X-WebChannel-Content-Type"]=I.messageContentType:y={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.sa&&(y?y["X-WebChannel-Client-Profile"]=I.sa:y={"X-WebChannel-Client-Profile":I.sa}),this.g.U=y,(y=I&&I.Qb)&&!U(y)&&(this.g.u=y),this.A=I&&I.supportsCrossDomainXhr||!1,this.v=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!U(I)&&(this.g.G=I,y=this.h,y!==null&&I in y&&(y=this.h,I in y&&delete y[I])),this.j=new js(this)}g(jr,rt),jr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){xu(this.g)},jr.prototype.o=function(y){var I=this.g;if(typeof y=="string"){var L={};L.__data__=y,y=L}else this.v&&(L={},L.__data__=Rt(y),y=L);I.i.push(new et(I.Ya++,y)),I.I==3&&Ts(I)},jr.prototype.N=function(){this.g.l=null,delete this.j,xu(this.g),delete this.g,jr.Z.N.call(this)};function Bd(y){Kt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var I=y.__sm__;if(I){e:{for(const L in I){y=L;break e}y=void 0}(this.i=y)&&(y=this.i,I=I!==null&&y in I?I[y]:void 0),this.data=I}else this.data=y}g(Bd,Kt);function zd(){pr.call(this),this.status=1}g(zd,pr);function js(y){this.g=y}g(js,Vd),js.prototype.ra=function(){ft(this.g,"a")},js.prototype.qa=function(y){ft(this.g,new Bd(y))},js.prototype.pa=function(y){ft(this.g,new zd)},js.prototype.oa=function(){ft(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,ER=function(){return new Pa},_R=function(){return Yi()},yR=mn,v1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,_0=hi,Ie.COMPLETE="complete",xR=Ie,Wt.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",rt.prototype.listen=rt.prototype.J,yf=Wt,sn.prototype.listenOnce=sn.prototype.K,sn.prototype.getLastError=sn.prototype.Ha,sn.prototype.getLastErrorCode=sn.prototype.ya,sn.prototype.getStatus=sn.prototype.ca,sn.prototype.getResponseJson=sn.prototype.La,sn.prototype.getResponseText=sn.prototype.la,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Fa,vR=sn}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});class Pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");let au="12.9.0";function xZ(t){au=t}const xl=new cR("@firebase/firestore");function Ec(){return xl.logLevel}function We(t,...e){if(xl.logLevel<=Bt.DEBUG){const n=e.map(Hx);xl.debug(`Firestore (${au}): ${t}`,...n)}}function xa(t,...e){if(xl.logLevel<=Bt.ERROR){const n=e.map(Hx);xl.error(`Firestore (${au}): ${t}`,...n)}}function yl(t,...e){if(xl.logLevel<=Bt.WARN){const n=e.map(Hx);xl.warn(`Firestore (${au}): ${t}`,...n)}}function Hx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function pt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TR(t,r,n)}function TR(t,e,n){let r=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xa(r),new Error(r)}function Zt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||TR(e,i,r)}function Et(t,e){return t}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends su{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class go{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class wR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pr.UNAUTHENTICATED)))}shutdown(){}}class _Z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EZ{constructor(e){this.t=e,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Zt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new go;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new go,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new go)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new wR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string",2055,{h:e}),new Pr(e)}}class TZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class wZ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TZ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SZ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tZ(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Zt(this.o===void 0,3512);const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Zt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Gx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=AZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function x1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return _v(i)===_v(s)?Mt(i,s):_v(i)?1:-1}return Mt(t.length,e.length)}const CZ=55296,bZ=57343;function _v(t){const e=t.charCodeAt(0);return e>=CZ&&e<=bZ}function Kc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const NA="__name__";class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&pt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ds.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Mt(e.length,n.length)}static compareSegments(e,n){const r=Ds.isNumericId(e),i=Ds.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ds.extractNumericId(e).compare(Ds.extractNumericId(n)):x1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mo.fromString(e.substring(4,e.length-2))}}class An extends Ds{construct(e,n,r){return new An(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new An(n)}static emptyPath(){return new An([])}}const NZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends Ds{construct(e,n,r){return new wr(e,n,r)}static isValidIdentifier(e){return NZ.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NA}static keyField(){return new wr([NA])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new st(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new st(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new st(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new st(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(n)}static emptyPath(){return new wr([])}}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(An.fromString(e))}static fromName(e){return new ut(An.fromString(e).popFirst(5))}static empty(){return new ut(An.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&An.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return An.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new An(e.slice()))}}function IZ(t,e,n){if(!n)throw new st(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RZ(t,e,n,r){if(e===!0&&r===!0)throw new st(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IA(t){if(!ut.isDocumentKey(t))throw new st(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pt(12329,{type:typeof t})}function vo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qx(t);throw new st(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ed(t,e){if(!SR(t))throw new st(Le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new st(Le.INVALID_ARGUMENT,n);return!0}const RA=-62135596800,kA=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kA);return new xn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RA)throw new st(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kA}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ed(e,xn._jsonSchema))return new xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xn._jsonSchemaVersion="firestore/timestamp/1.0",xn._jsonSchema={type:Zn("string",xn._jsonSchemaVersion),seconds:Zn("number"),nanoseconds:Zn("number")};class xt{static fromTimestamp(e){return new xt(e)}static min(){return new xt(new xn(0,0))}static max(){return new xt(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const sd=-1;function kZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new _o(i,ut.empty(),e)}function DZ(t){return new _o(t.readTime,t.key,sd)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(xt.min(),ut.empty(),sd)}static max(){return new _o(xt.max(),ut.empty(),sd)}}function MZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ut.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}const PZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ou(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==PZ)throw t;We("LocalStore","Unexpectedly lost primary lease")}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Oe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Oe?n:Oe.resolve(n)}catch(n){return Oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Oe.reject(n)}static resolve(e){return new Oe(((n,r)=>{n(e)}))}static reject(e){return new Oe(((n,r)=>{r(e)}))}static waitFor(e){return new Oe(((n,r)=>{let i=0,s=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++s,o&&s===i&&n()}),(f=>r(f)))})),o=!0,s===i&&n()}))}static or(e){let n=Oe.resolve(!1);for(const r of e)n=n.next((i=>i?Oe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Oe(((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;n(e[d]).next((h=>{o[d]=h,++c,c===s&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new Oe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function OZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lu(t){return t.name==="IndexedDbTransactionError"}class Vp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vp.ce=-1;const jx=-1;function Bp(t){return t==null}function up(t){return t===0&&1/t==-1/0}function LZ(t){return typeof t=="number"&&Number.isInteger(t)&&!up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const AR="";function UZ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DA(e)),e=VZ(t.get(n),e);return DA(e)}function VZ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case AR:n+="";break;default:n+=s}}return n}function DA(t){return t+AR+""}function MA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Cn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new Cn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new c0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new c0(this.root,e,this.comparator,!1)}getReverseIterator(){return new c0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new c0(this.root,e,this.comparator,!0)}}class c0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sr{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PA(this.data.getIterator())}getIteratorFrom(e){return new PA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof sr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new sr(this.comparator);return n.data=e,n}}class PA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ds{constructor(e){this.fields=e,e.sort(wr.comparator)}static empty(){return new ds([])}unionWith(e){let n=new sr(wr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class bR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new bR("Invalid base64 string: "+s):s}})(e);return new br(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const BZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(t){if(Zt(!!t,39018),typeof t=="string"){let e=0;const n=BZ.exec(t);if(Zt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(t.seconds),nanos:Un(t.nanos)}}function Un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}const NR="server_timestamp",IR="__type__",RR="__previous_value__",kR="__local_write_time__";function $x(t){return(t?.mapValue?.fields||{})[IR]?.stringValue===NR}function zp(t){const e=t.mapValue.fields[RR];return $x(e)?zp(e):e}function ad(t){const e=Eo(t.mapValue.fields[kR].timestampValue);return new xn(e.seconds,e.nanos)}class zZ{constructor(e,n,r,i,s,o,c,f,d,h,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=g}}const fp="(default)";class od{constructor(e,n){this.projectId=e,this.database=n||fp}static empty(){return new od("","")}get isDefaultDatabase(){return this.database===fp}isEqual(e){return e instanceof od&&e.projectId===this.projectId&&e.database===this.database}}function HZ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new st(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(t.options.projectId,e)}const DR="__type__",GZ="__max__",u0={mapValue:{}},MR="__vector__",dp="value";function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$x(t)?4:jZ(t)?9007199254740991:qZ(t)?10:11:pt(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ad(t).isEqual(ad(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Eo(i.timestampValue),c=Eo(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return To(i.bytesValue).isEqual(To(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Un(i.geoPointValue.latitude)===Un(s.geoPointValue.latitude)&&Un(i.geoPointValue.longitude)===Un(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Un(i.integerValue)===Un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Un(i.doubleValue),c=Un(s.doubleValue);return o===c?up(o)===up(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Kc(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(MA(o)!==MA(c))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(c[f]===void 0||!Us(o[f],c[f])))return!1;return!0})(t,e);default:return pt(52216,{left:t})}}function ld(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function Jc(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=Un(s.integerValue||s.doubleValue),f=Un(o.integerValue||o.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return FA(t.timestampValue,e.timestampValue);case 4:return FA(ad(t),ad(e));case 5:return x1(t.stringValue,e.stringValue);case 6:return(function(s,o){const c=To(s),f=To(o);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),f=o.split("/");for(let d=0;d<c.length&&d<f.length;d++){const h=Mt(c[d],f[d]);if(h!==0)return h}return Mt(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=Mt(Un(s.latitude),Un(o.latitude));return c!==0?c:Mt(Un(s.longitude),Un(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return OA(t.arrayValue,e.arrayValue);case 10:return(function(s,o){const c=s.fields||{},f=o.fields||{},d=c[dp]?.arrayValue,h=f[dp]?.arrayValue,g=Mt(d?.values?.length||0,h?.values?.length||0);return g!==0?g:OA(d,h)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===u0.mapValue&&o===u0.mapValue)return 0;if(s===u0.mapValue)return 1;if(o===u0.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=o.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let g=0;g<f.length&&g<h.length;++g){const v=x1(f[g],h[g]);if(v!==0)return v;const T=Jc(c[f[g]],d[h[g]]);if(T!==0)return T}return Mt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw pt(23264,{he:n})}}function FA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=Eo(t),r=Eo(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function OA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Jc(n[i],r[i]);if(s)return s}return Mt(n.length,r.length)}function Yc(t){return y1(t)}function y1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Eo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return To(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ut.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=y1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${y1(n.fields[o])}`;return i+"}"})(t.mapValue):pt(61005,{value:t})}function E0(t){switch(wo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zp(t);return e?16+E0(e):16;case 5:return 2*t.stringValue.length;case 6:return To(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+E0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Rl(r.fields,((s,o)=>{i+=s.length+E0(o)})),i})(t.mapValue);default:throw pt(13486,{value:t})}}function _1(t){return!!t&&"integerValue"in t}function Kx(t){return!!t&&"arrayValue"in t}function LA(t){return!!t&&"nullValue"in t}function UA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function T0(t){return!!t&&"mapValue"in t}function qZ(t){return(t?.mapValue?.fields||{})[DR]?.stringValue===MR}function Ff(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Rl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ff(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ff(t.arrayValue.values[n]);return e}return{...t}}function jZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GZ}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!T0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ff(n)}setAll(e){let n=wr.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Ff(o):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());T0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];T0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Hi(Ff(this.value))}}function PR(t){const e=[];return Rl(t.fields,((n,r)=>{const i=new wr([n]);if(T0(r)){const s=PR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new ds(e)}class Or{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Or(e,0,xt.min(),xt.min(),xt.min(),Hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Or(e,1,n,xt.min(),r,i,0)}static newNoDocument(e,n){return new Or(e,2,n,xt.min(),xt.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,xt.min(),xt.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hp{constructor(e,n){this.position=e,this.inclusive=n}}function VA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ut.comparator(ut.fromName(o.referenceValue),n.key):r=Jc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}class pp{constructor(e,n="asc"){this.field=e,this.dir=n}}function $Z(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FR{}class tr extends FR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JZ(e,n,r):n==="array-contains"?new ZZ(e,r):n==="in"?new XZ(e,r):n==="not-in"?new QZ(e,r):n==="array-contains-any"?new eX(e,r):new tr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YZ(e,r):new WZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jc(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(Jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends FR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vs(e,n)}matches(e){return OR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OR(t){return t.op==="and"}function LR(t){return KZ(t)&&OR(t)}function KZ(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function E1(t){if(t instanceof tr)return t.field.canonicalString()+t.op.toString()+Yc(t.value);if(LR(t))return t.filters.map((e=>E1(e))).join(",");{const e=t.filters.map((n=>E1(n))).join(",");return`${t.op}(${e})`}}function UR(t,e){return t instanceof tr?(function(r,i){return i instanceof tr&&r.op===i.op&&r.field.isEqual(i.field)&&Us(r.value,i.value)})(t,e):t instanceof Vs?(function(r,i){return i instanceof Vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,c)=>s&&UR(o,i.filters[c])),!0):!1})(t,e):void pt(19439)}function VR(t){return t instanceof tr?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yc(n.value)}`})(t):t instanceof Vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(VR).join(" ,")+"}"})(t):"Filter"}class JZ extends tr{constructor(e,n,r){super(e,n,r),this.key=ut.fromName(r.referenceValue)}matches(e){const n=ut.comparator(e.key,this.key);return this.matchesComparison(n)}}class YZ extends tr{constructor(e,n){super(e,"in",n),this.keys=BR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WZ extends tr{constructor(e,n){super(e,"not-in",n),this.keys=BR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function BR(t,e){return(e.arrayValue?.values||[]).map((n=>ut.fromName(n.referenceValue)))}class ZZ extends tr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kx(n)&&ld(n.arrayValue,this.value)}}class XZ extends tr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ld(this.value.arrayValue,n)}}class QZ extends tr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ld(this.value.arrayValue,n)}}class eX extends tr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ld(this.value.arrayValue,r)))}}class tX{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function zA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tX(t,e,n,r,i,s,o)}function Jx(t){const e=Et(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>E1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Bp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yc(r))).join(",")),e.Te=n}return e.Te}function Yx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$Z(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BA(t.startAt,e.startAt)&&BA(t.endAt,e.endAt)}function T1(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Hp{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nX(t,e,n,r,i,s,o,c){return new Hp(t,e,n,r,i,s,o,c)}function Gp(t){return new Hp(t)}function HA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rX(t){return ut.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function iX(t){return t.collectionGroup!==null}function Of(t){const e=Et(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new sr(wr.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new pp(s,r))})),n.has(wr.keyField().canonicalString())||e.Ie.push(new pp(wr.keyField(),r))}return e.Ie}function Ps(t){const e=Et(t);return e.Ee||(e.Ee=sX(e,Of(t))),e.Ee}function sX(t,e){if(t.limitType==="F")return zA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new pp(i.field,s)}));const n=t.endAt?new hp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hp(t.startAt.position,t.startAt.inclusive):null;return zA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function w1(t,e,n){return new Hp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qp(t,e){return Yx(Ps(t),Ps(e))&&t.limitType===e.limitType}function zR(t){return`${Jx(Ps(t))}|lt:${t.limitType}`}function Tc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>VR(i))).join(", ")}]`),Bp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Yc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Yc(i))).join(",")),`Target(${r})`})(Ps(t))}; limitType=${t.limitType})`}function jp(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ut.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Of(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,f){const d=VA(o,c,f);return o.inclusive?d<=0:d<0})(r.startAt,Of(r),i)||r.endAt&&!(function(o,c,f){const d=VA(o,c,f);return o.inclusive?d>=0:d>0})(r.endAt,Of(r),i))})(t,e)}function aX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HR(t){return(e,n)=>{let r=!1;for(const i of Of(t)){const s=oX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oX(t,e,n){const r=t.field.isKeyField()?ut.comparator(e.key,n.key):(function(s,o,c){const f=o.data.field(s),d=c.data.field(s);return f!==null&&d!==null?Jc(f,d):pt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:t.dir})}}class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return CR(this.inner)}size(){return this.innerSize}}const lX=new Cn(ut.comparator);function ya(){return lX}const GR=new Cn(ut.comparator);function _f(...t){let e=GR;for(const n of t)e=e.insert(n.key,n);return e}function qR(t){let e=GR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ll(){return Lf()}function jR(){return Lf()}function Lf(){return new kl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cX=new Cn(ut.comparator),uX=new sr(ut.comparator);function Pt(...t){let e=uX;for(const n of t)e=e.add(n);return e}const fX=new sr(Mt);function dX(){return fX}function Wx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:up(e)?"-0":e}}function $R(t){return{integerValue:""+t}}function hX(t,e){return LZ(e)?$R(e):Wx(t,e)}class $p{constructor(){this._=void 0}}function pX(t,e,n){return t instanceof mp?(function(i,s){const o={fields:{[IR]:{stringValue:NR},[kR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$x(s)&&(s=zp(s)),s&&(o.fields[RR]=s),{mapValue:o}})(n,e):t instanceof cd?JR(t,e):t instanceof ud?YR(t,e):(function(i,s){const o=KR(i,s),c=GA(o)+GA(i.Ae);return _1(o)&&_1(i.Ae)?$R(c):Wx(i.serializer,c)})(t,e)}function mX(t,e,n){return t instanceof cd?JR(t,e):t instanceof ud?YR(t,e):n}function KR(t,e){return t instanceof gp?(function(r){return _1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class mp extends $p{}class cd extends $p{constructor(e){super(),this.elements=e}}function JR(t,e){const n=WR(e);for(const r of t.elements)n.some((i=>Us(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ud extends $p{constructor(e){super(),this.elements=e}}function YR(t,e){let n=WR(e);for(const r of t.elements)n=n.filter((i=>!Us(i,r)));return{arrayValue:{values:n}}}class gp extends $p{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GA(t){return Un(t.integerValue||t.doubleValue)}function WR(t){return Kx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof cd&&i instanceof cd||r instanceof ud&&i instanceof ud?Kc(r.elements,i.elements,Us):r instanceof gp&&i instanceof gp?Us(r.Ae,i.Ae):r instanceof mp&&i instanceof mp})(t.transform,e.transform)}class vX{constructor(e,n){this.version=e,this.transformResults=n}}class fa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function w0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kp{}function ZR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QR(t.key,fa.none()):new Td(t.key,t.data,fa.none());{const n=t.data,r=Hi.empty();let i=new sr(wr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dl(t.key,r,new ds(i.toArray()),fa.none())}}function xX(t,e,n){t instanceof Td?(function(i,s,o){const c=i.value.clone(),f=jA(i.fieldTransforms,s,o.transformResults);c.setAll(f),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Dl?(function(i,s,o){if(!w0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=jA(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(XR(i)),f.setAll(c),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Uf(t,e,n,r){return t instanceof Td?(function(s,o,c,f){if(!w0(s.precondition,o))return c;const d=s.value.clone(),h=$A(s.fieldTransforms,f,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Dl?(function(s,o,c,f){if(!w0(s.precondition,o))return c;const d=$A(s.fieldTransforms,f,o),h=o.data;return h.setAll(XR(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,o,c){return w0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function yX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KR(r.transform,i||null);s!=null&&(n===null&&(n=Hi.empty()),n.set(r.field,s))}return n||null}function qA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kc(r,i,((s,o)=>gX(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Td extends Kp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Dl extends Kp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function XR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function jA(t,e,n){const r=new Map;Zt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,mX(o,c,n[i]))}return r}function $A(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,pX(s,o,e))}return r}class QR extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _X extends Kp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Uf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jR();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const f=ZR(o,c);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(xt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pt())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,((n,r)=>qA(n,r)))&&Kc(this.baseMutations,e.baseMutations,((n,r)=>qA(n,r)))}}class Zx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Zt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return cX})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Zx(e,n,r,i)}}class TX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wX{constructor(e,n){this.count=e,this.unchangedNames=n}}var Jn,Vt;function SX(t){switch(t){case Le.OK:return pt(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return pt(15467,{code:t})}}function ek(t){if(t===void 0)return xa("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Jn.OK:return Le.OK;case Jn.CANCELLED:return Le.CANCELLED;case Jn.UNKNOWN:return Le.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return Le.INTERNAL;case Jn.UNAVAILABLE:return Le.UNAVAILABLE;case Jn.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Jn.NOT_FOUND:return Le.NOT_FOUND;case Jn.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Jn.ABORTED:return Le.ABORTED;case Jn.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Jn.DATA_LOSS:return Le.DATA_LOSS;default:return pt(39323,{code:t})}}(Vt=Jn||(Jn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";function AX(){return new TextEncoder}const CX=new mo([4294967295,4294967295],0);function KA(t){const e=AX().encode(t),n=new gR;return n.update(e),new Uint8Array(n.digest())}function JA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,s],0)]}class Xx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ef(`Invalid padding: ${n}`);if(r<0)throw new Ef(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ef(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ef(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=mo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(CX)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KA(e),[r,i]=JA(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Xx(s,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=KA(e),[r,i]=JA(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ef extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jp(xt.min(),i,new Cn(Mt),ya(),Pt())}}class wd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wd(r,n,Pt(),Pt(),Pt())}}class S0{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class tk{constructor(e,n){this.targetId=e,this.Ce=n}}class nk{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YA{constructor(){this.ve=0,this.Fe=WA(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pt(),n=Pt(),r=Pt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pt(38017,{changeType:s})}})),new wd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=WA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class bX{constructor(e){this.Ge=e,this.ze=new Map,this.je=ya(),this.He=f0(),this.Je=f0(),this.Ze=new Cn(Mt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(T1(s))if(r===0){const o=new ut(s.path);this.et(n,o,Or.newNoDocument(o,xt.min()))}else Zt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),f=c?this.ct(c,e,o):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=To(r).toUint8Array()}catch(f){if(f instanceof bR)return yl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Xx(o,i,s)}catch(f){return yl(f instanceof Ef?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&T1(c.target)){const f=new ut(c.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Or.newNoDocument(f,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}}));let r=Pt();this.Je.forEach(((s,o)=>{let c=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Jp(e,n,this.Ze,this.je,r);return this.je=ya(),this.He=f0(),this.Je=f0(),this.Ze=new Cn(Mt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new YA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new sr(Mt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new sr(Mt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function f0(){return new Cn(ut.comparator)}function WA(){return new Cn(ut.comparator)}const NX={asc:"ASCENDING",desc:"DESCENDING"},IX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RX={and:"AND",or:"OR"};class kX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function S1(t,e){return t.useProto3Json||Bp(e)?e:{value:e}}function vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DX(t,e){return vp(t,e.toTimestamp())}function Fs(t){return Zt(!!t,49232),xt.fromTimestamp((function(n){const r=Eo(n);return new xn(r.seconds,r.nanos)})(t))}function Qx(t,e){return A1(t,e).canonicalString()}function A1(t,e){const n=(function(i){return new An(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ik(t){const e=An.fromString(t);return Zt(ck(e),10190,{key:e.toString()}),e}function C1(t,e){return Qx(t.databaseId,e.path)}function Ev(t,e){const n=ik(e);if(n.get(1)!==t.databaseId.projectId)throw new st(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new st(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ut(ak(n))}function sk(t,e){return Qx(t.databaseId,e)}function MX(t){const e=ik(t);return e.length===4?An.emptyPath():ak(e)}function b1(t){return new An(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ak(t){return Zt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZA(t,e,n){return{name:C1(t,e),fields:n.value.mapValue.fields}}function PX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:pt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,h){return d.useProto3Json?(Zt(h===void 0||typeof h=="string",58123),br.fromBase64String(h||"")):(Zt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),br.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(d){const h=d.code===void 0?Le.UNKNOWN:ek(d.code);return new st(h,d.message||"")})(o);n=new nk(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ev(t,r.document.name),s=Fs(r.document.updateTime),o=r.document.createTime?Fs(r.document.createTime):xt.min(),c=new Hi({mapValue:{fields:r.document.fields}}),f=Or.newFoundDocument(i,s,o,c),d=r.targetIds||[],h=r.removedTargetIds||[];n=new S0(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ev(t,r.document),s=r.readTime?Fs(r.readTime):xt.min(),o=Or.newNoDocument(i,s),c=r.removedTargetIds||[];n=new S0([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ev(t,r.document),s=r.removedTargetIds||[];n=new S0([],s,i,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wX(i,s),c=r.targetId;n=new tk(c,o)}}return n}function FX(t,e){let n;if(e instanceof Td)n={update:ZA(t,e.key,e.value)};else if(e instanceof QR)n={delete:C1(t,e.key)};else if(e instanceof Dl)n={update:ZA(t,e.key,e.data),updateMask:qX(e.fieldMask)};else{if(!(e instanceof _X))return pt(16599,{dt:e.type});n={verify:C1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const c=o.transform;if(c instanceof mp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof cd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ud)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gp)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw pt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:DX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pt(27497)})(t,e.precondition)),n}function OX(t,e){return t&&t.length>0?(Zt(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Fs(i.updateTime):Fs(s);return o.isEqual(xt.min())&&(o=Fs(s)),new vX(o,i.transformResults||[])})(n,e)))):[]}function LX(t,e){return{documents:[sk(t,e.path)]}}function UX(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sk(t,i);const s=(function(d){if(d.length!==0)return lk(Vs.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((h=>(function(v){return{field:wc(v.field),direction:zX(v.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=S1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function VX(t){let e=MX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=(function(g){const v=ok(g);return v instanceof Vs&&LR(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((v=>(function(S){return new pp(Sc(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,Bp(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(g){const v=!!g.before,T=g.values||[];return new hp(T,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const v=!g.before,T=g.values||[];return new hp(T,v)})(n.endAt)),nX(e,i,o,s,c,"F",f,d)}function BX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ok(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sc(n.unaryFilter.field);return tr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sc(n.unaryFilter.field);return tr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Sc(n.unaryFilter.field);return tr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sc(n.unaryFilter.field);return tr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tr.create(Sc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vs.create(n.compositeFilter.filters.map((r=>ok(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(t):pt(30097,{filter:t})}function zX(t){return NX[t]}function HX(t){return IX[t]}function GX(t){return RX[t]}function wc(t){return{fieldPath:t.canonicalString()}}function Sc(t){return wr.fromServerFormat(t.fieldPath)}function lk(t){return t instanceof tr?(function(n){if(n.op==="=="){if(UA(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NAN"}};if(LA(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UA(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NAN"}};if(LA(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(n.field),op:HX(n.op),value:n.value}}})(t):t instanceof Vs?(function(n){const r=n.getFilters().map((i=>lk(i)));return r.length===1?r[0]:{compositeFilter:{op:GX(n.op),filters:r}}})(t):pt(54877,{filter:t})}function qX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function uk(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class uo{constructor(e,n,r,i,s=xt.min(),o=xt.min(),c=br.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jX{constructor(e){this.yt=e}}function $X(t){const e=VX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w1(e,e.limit,"L"):e}class KX{constructor(){this.Sn=new JX}addToCollectionParentIndex(e,n){return this.Sn.add(n),Oe.resolve()}getCollectionParents(e,n){return Oe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Oe.resolve()}deleteFieldIndex(e,n){return Oe.resolve()}deleteAllFieldIndexes(e){return Oe.resolve()}createTargetIndexes(e,n){return Oe.resolve()}getDocumentsMatchingTarget(e,n){return Oe.resolve(null)}getIndexType(e,n){return Oe.resolve(0)}getFieldIndexes(e,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(e){return Oe.resolve(null)}getMinOffset(e,n){return Oe.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return Oe.resolve(_o.min())}updateCollectionGroup(e,n,r){return Oe.resolve()}updateIndexEntries(e,n){return Oe.resolve()}}class JX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sr(An.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sr(An.comparator)).toArray()}}const XA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fk=41943040;class ui{static withCacheSize(e){return new ui(e,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}ui.DEFAULT_COLLECTION_PERCENTILE=10,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ui.DEFAULT=new ui(fk,ui.DEFAULT_COLLECTION_PERCENTILE,ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ui.DISABLED=new ui(-1,0,0);class Wc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Wc(0)}static ar(){return new Wc(-1)}}const QA="LruGarbageCollector",YX=1048576;function eC([t,e],[n,r]){const i=Mt(t,n);return i===0?Mt(e,r):i}class WX{constructor(e){this.Pr=e,this.buffer=new sr(eC),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){We(QA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lu(n)?We(QA,"Ignoring IndexedDB error during garbage collection: ",n):await ou(n)}await this.Ar(3e5)}))}}class XX{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Oe.resolve(Vp.ce);const r=new WX(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(XA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XA):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,c,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Ec()<=Bt.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function QX(t,e){return new XX(t,e)}class eQ{constructor(){this.changes=new kl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Uf(r.mutation,i,ds.empty(),xn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pt()){const i=ll();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=_f();return s.forEach(((c,f)=>{o=o.insert(c,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=ll();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let s=ya();const o=Lf(),c=(function(){return Lf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Dl)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Uf(h.mutation,d,h.mutation.getFieldMask(),xn.now())):o.set(d.key,ds.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,h)=>o.set(d,h))),n.forEach(((d,h)=>c.set(d,new tQ(h,o.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Lf();let i=new Cn(((o,c)=>o-c)),s=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||ds.empty();h=c.applyToLocalView(d,h),r.set(f,h);const g=(i.get(c.batchId)||Pt()).add(f);i=i.insert(c.batchId,g)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,h=f.value,g=jR();h.forEach((v=>{if(!s.has(v)){const T=ZR(n.get(v),r.get(v));T!==null&&g.set(v,T),s=s.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Oe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return rX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iX(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Oe.resolve(ll());let c=sd,f=s;return o.next((d=>Oe.forEach(d,((h,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(h)?Oe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{f=f.insert(h,v)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Pt()))).next((h=>({batchId:c,changes:qR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ut(n)).next((r=>{let i=_f();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=_f();return this.indexManager.getCollectionParents(e,s).next((c=>Oe.forEach(c,(f=>{const d=(function(g,v){return new Hp(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((g,v)=>{o=o.insert(g,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((f,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Or.newInvalidDocument(h)))}));let c=_f();return o.forEach(((f,d)=>{const h=s.get(f);h!==void 0&&Uf(h.mutation,d,ds.empty(),xn.now()),jp(n,d)&&(c=c.insert(f,d))})),c}))}}class rQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Oe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fs(i.createTime)}})(n)),Oe.resolve()}getNamedQuery(e,n){return Oe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:$X(i.bundledQuery),readTime:Fs(i.readTime)}})(n)),Oe.resolve()}}class iQ{constructor(){this.overlays=new Cn(ut.comparator),this.Lr=new Map}getOverlay(e,n){return Oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ll();return Oe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),Oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),Oe.resolve()}getOverlaysForCollection(e,n,r){const i=ll(),s=n.length+1,o=new ut(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Cn(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=ll(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const c=ll(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>c.set(d,h))),!(c.size()>=i)););return Oe.resolve(c)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new TX(n,r));let s=this.Lr.get(n);s===void 0&&(s=Pt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class sQ{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return Oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Oe.resolve()}}class ey{constructor(){this.kr=new sr(ur.Kr),this.qr=new sr(ur.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ur(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ur(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ut(new An([])),r=new ur(n,e),i=new ur(n,e+1),s=[];return this.qr.forEachInRange([r,i],(o=>{this.Wr(o),s.push(o.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ut(new An([])),r=new ur(n,e),i=new ur(n,e+1);let s=Pt();return this.qr.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new ur(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ut.comparator(e.key,n.key)||Mt(e.Hr,n.Hr)}static Ur(e,n){return Mt(e.Hr,n.Hr)||ut.comparator(e.key,n.key)}}class aQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new sr(ur.Kr)}checkEmpty(e){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EX(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Jr=this.Jr.add(new ur(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(e,n){return Oe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?jx:this.Yn-1)}getAllMutationBatches(e){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(o=>{const c=this.Zr(o.Hr);s.push(c)})),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sr(Mt);return n.forEach((i=>{const s=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],(c=>{r=r.add(c.Hr)}))})),Oe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ut.isDocumentKey(s)||(s=s.child(""));const o=new ur(new ut(s),0);let c=new sr(Mt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Hr)),!0)}),o),Oe.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Zt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Oe.forEach(n.mutations,(i=>{const s=new ur(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ur(n,0),i=this.Jr.firstAfterOrEqual(r);return Oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Oe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class oQ{constructor(e){this.ti=e,this.docs=(function(){return new Cn(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Oe.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let r=ya();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Or.newInvalidDocument(i))})),Oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ya();const o=n.path,c=new ut(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||MZ(DZ(h),r)<=0||(i.has(h.key)||jp(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pt(9500)}ni(e,n){return Oe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new lQ(this)}getSize(e){return Oe.resolve(this.size)}}class lQ extends eQ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Oe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class cQ{constructor(e){this.persistence=e,this.ri=new kl((n=>Jx(n)),Yx),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ii=0,this.si=new ey,this.targetCount=0,this.oi=Wc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Oe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Wc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Oe.resolve()}updateTargetData(e,n){return this.lr(n),Oe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Oe.waitFor(s).next((()=>i))}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Oe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Oe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Oe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Oe.resolve(r)}containsKey(e,n){return Oe.resolve(this.si.containsKey(n))}}class dk{constructor(e,n){this._i={},this.overlays={},this.ai=new Vp(0),this.ui=!1,this.ui=!0,this.ci=new sQ,this.referenceDelegate=e(this),this.li=new cQ(this),this.indexManager=new KX,this.remoteDocumentCache=(function(i){return new oQ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new jX(n),this.Pi=new rQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new aQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new uQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return Oe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class uQ extends FZ{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Ri=new ey,this.Ai=null}static Vi(e){return new ty(e)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Oe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Oe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.di,(r=>{const i=ut.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,xt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Oe.or([()=>Oe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class xp{constructor(e,n){this.persistence=e,this.fi=new kl((r=>UZ(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=QX(this,n)}static Vi(e,n){return new xp(e,n)}Ti(){}Ii(e){return Oe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Oe.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?Oe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(o=>this.wr(e,o,n).next((c=>{c||(r++,s.removeEntry(o,xt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Oe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Oe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Oe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Oe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=E0(e.data.value)),n}wr(e,n,r){return Oe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Oe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ny{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Pt(),i=Pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ny(e,n.fromCache,r,i)}}class fQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dQ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return XY()?8:OZ(WY())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new fQ;return this.ys(e,n,o).next((c=>{if(s.result=c,this.As)return this.ws(e,n,o,c.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Ec()<=Bt.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",Tc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Oe.resolve()):(Ec()<=Bt.DEBUG&&We("QueryEngine","Query:",Tc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ec()<=Bt.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",Tc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):Oe.resolve())}gs(e,n){if(HA(n))return Oe.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=w1(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Pt(...s);return this.fs.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,c);return this.Ss(n,d,o,f.readTime)?this.gs(e,w1(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,i){return HA(n)||i.isEqual(xt.min())?Oe.resolve(null):this.fs.getDocuments(e,r).next((s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?Oe.resolve(null):(Ec()<=Bt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tc(n)),this.Ds(e,o,n,kZ(i,sd)).next((c=>c)))}))}bs(e,n){let r=new sr(HR(e));return n.forEach(((i,s)=>{jp(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Ec()<=Bt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",Tc(n)),this.fs.getDocumentsMatchingQuery(e,n,_o.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}const ry="LocalStore",hQ=3e8;class pQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Cn(Mt),this.Fs=new kl((s=>Jx(s)),Yx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nQ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function mQ(t,e,n,r){return new pQ(t,e,n,r)}async function hk(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],c=[];let f=Pt();for(const d of i){o.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of s){c.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:o,addedBatchIds:c})))}))}))}function gQ(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,h){const g=d.batch,v=g.keys();let T=Oe.resolve();return v.forEach((S=>{T=T.next((()=>h.getEntry(f,S))).next((A=>{const C=d.docVersions.get(S);Zt(C!==null,48541),A.version.compareTo(C)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),h.addEntry(A)))}))})),T.next((()=>c.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Pt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function pk(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function vQ(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const c=[];e.targetChanges.forEach(((h,g)=>{const v=i.get(g);if(!v)return;c.push(n.li.removeMatchingKeys(s,h.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,h.addedDocuments,g))));let T=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(br.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(g,T),(function(A,C,P){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=hQ?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,T,h)&&c.push(n.li.updateTargetData(s,T))}));let f=ya(),d=Pt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))})),c.push(xQ(s,o,e.documentUpdates).next((h=>{f=h.Bs,d=h.Ls}))),!r.isEqual(xt.min())){const h=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(h)}return Oe.waitFor(c).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(n.vs=i,s)))}function xQ(t,e,n){let r=Pt(),i=Pt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=ya();return n.forEach(((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(xt.min())?(e.removeEntry(c,f.readTime),o=o.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(c,f)):We(ry,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:o,Ls:i}}))}function yQ(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=jx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _Q(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,Oe.resolve(i)):n.li.allocateTargetId(r).next((o=>(i=new uo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function N1(t,e,n){const r=Et(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!lu(o))throw o;We(ry,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function tC(t,e,n){const r=Et(t);let i=xt.min(),s=Pt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,h){const g=Et(f),v=g.Fs.get(h);return v!==void 0?Oe.resolve(g.vs.get(v)):g.li.getTargetData(d,h)})(r,o,Ps(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,c.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:xt.min(),n?s:Pt()))).next((c=>(EQ(r,aX(e),c),{documents:c,ks:s})))))}function EQ(t,e,n){let r=t.Ms.get(e)||xt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class nC{constructor(){this.activeTargetIds=dX()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TQ{constructor(){this.vo=new nC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new nC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wQ{Mo(e){}shutdown(){}}const rC="ConnectivityMonitor";class iC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){We(rC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){We(rC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let d0=null;function I1(){return d0===null?d0=(function(){return 268435456+Math.round(2147483648*Math.random())})():d0++,"0x"+d0.toString(16)}const Tv="RestConnection",SQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class AQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===fp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=I1(),c=this.Qo(e,n.toUriEncodedString());We(Tv,`Sending RPC '${e}' ${o}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:d}=new URL(c),h=Bx(d);return this.zo(e,c,f,r,h).then((g=>(We(Tv,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw yl(Tv,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+au})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=SQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class CQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Mr="WebChannelConnection",lf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Vc extends AQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vc.c_){const e=_R();lf(e,yR.STAT_EVENT,(n=>{n.stat===v1.PROXY?We(Mr,"STAT_EVENT: detected buffering proxy"):n.stat===v1.NOPROXY&&We(Mr,"STAT_EVENT: detected no buffering proxy")})),Vc.c_=!0}}zo(e,n,r,i,s){const o=I1();return new Promise(((c,f)=>{const d=new vR;d.setWithCredentials(!0),d.listenOnce(xR.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case _0.NO_ERROR:const g=d.getResponseJson();We(Mr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case _0.TIMEOUT:We(Mr,`RPC '${e}' ${o} timed out`),f(new st(Le.DEADLINE_EXCEEDED,"Request time out"));break;case _0.HTTP_ERROR:const v=d.getStatus();if(We(Mr,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const A=(function(P){const B=P.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(B)>=0?B:Le.UNKNOWN})(S.status);f(new st(A,S.message))}else f(new st(Le.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new st(Le.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{We(Mr,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);We(Mr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=I1(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");We(Mr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let g=!1,v=!1;const T=new CQ({Ho:S=>{v?We(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(We(Mr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),We(Mr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return lf(h,yf.EventType.OPEN,(()=>{v||(We(Mr,`RPC '${e}' stream ${i} transport opened.`),T.i_())})),lf(h,yf.EventType.CLOSE,(()=>{v||(v=!0,We(Mr,`RPC '${e}' stream ${i} transport closed`),T.o_(),this.E_(h))})),lf(h,yf.EventType.ERROR,(S=>{v||(v=!0,yl(Mr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),T.o_(new st(Le.UNAVAILABLE,"The operation could not be completed")))})),lf(h,yf.EventType.MESSAGE,(S=>{if(!v){const A=S.data[0];Zt(!!A,16349);const C=A,P=C?.error||C[0]?.error;if(P){We(Mr,`RPC '${e}' stream ${i} received error:`,P);const B=P.status;let k=(function(K){const R=Jn[K];if(R!==void 0)return ek(R)})(B),H=P.message;B==="NOT_FOUND"&&H.includes("database")&&H.includes("does not exist")&&H.includes(this.databaseId.database)&&yl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),k===void 0&&(k=Le.INTERNAL,H="Unknown error status: "+B+" with message "+P.message),v=!0,T.o_(new st(k,H)),h.close()}else We(Mr,`RPC '${e}' stream ${i} received:`,A),T.__(A)}})),Vc.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ER()}}function bQ(t){return new Vc(t)}function wv(){return typeof document<"u"?document:null}function Yp(t){return new kX(t,!0)}Vc.c_=!1;class mk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sC="PersistentStream";class gk{constructor(e,n,r,i,s,o,c,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(xa(n.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new st(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return We(sC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(We(sC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NQ extends gk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=PX(this.serializer,e),r=(function(s){if(!("targetChange"in s))return xt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xt.min():o.readTime?Fs(o.readTime):xt.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=b1(this.serializer),n.addTarget=(function(s,o){let c;const f=o.target;if(c=T1(f)?{documents:LX(s,f)}:{query:UX(s,f).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=rk(s,o.resumeToken);const d=S1(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(xt.min())>0){c.readTime=vp(s,o.snapshotVersion.toTimestamp());const d=S1(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=BX(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=b1(this.serializer),n.removeTarget=e,this.K_(n)}}class IQ extends gk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OX(e.writeResults,e.commitTime),r=Fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=b1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>FX(this.serializer,r)))};this.K_(n)}}class RQ{}class kQ extends RQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new st(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Wo(e,A1(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new st(Le.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.jo(e,A1(n,r),i,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function DQ(t,e,n,r){return new kQ(t,e,n,r)}class MQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xa(n),this.aa=!1):We("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _l="RemoteStore";class PQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((o=>{r.enqueueAndForget((async()=>{Ml(this)&&(We(_l,"Restarting streams for network reachability change."),await(async function(f){const d=Et(f);d.Ea.add(4),await Sd(d),d.Va.set("Unknown"),d.Ea.delete(4),await Wp(d)})(this))}))})),this.Va=new MQ(r,i)}}async function Wp(t){if(Ml(t))for(const e of t.Ra)await e(!0)}async function Sd(t){for(const e of t.Ra)await e(!1)}function vk(t,e){const n=Et(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),oy(n)?ay(n):cu(n).O_()&&sy(n,e))}function iy(t,e){const n=Et(t),r=cu(n);n.Ia.delete(e),r.O_()&&xk(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ml(n)&&n.Va.set("Unknown"))}function sy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cu(t).Z_(e)}function xk(t,e){t.da.$e(e),cu(t).X_(e)}function ay(t){t.da=new bX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),cu(t).start(),t.Va.ua()}function oy(t){return Ml(t)&&!cu(t).x_()&&t.Ia.size>0}function Ml(t){return Et(t).Ea.size===0}function yk(t){t.da=void 0}async function FQ(t){t.Va.set("Online")}async function OQ(t){t.Ia.forEach(((e,n)=>{sy(t,e)}))}async function LQ(t,e){yk(t),oy(t)?(t.Va.ha(e),ay(t)):t.Va.set("Unknown")}async function UQ(t,e,n){if(t.Va.set("Online"),e instanceof nk&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.da.removeTarget(c))})(t,e)}catch(r){We(_l,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yp(t,r)}else if(e instanceof S0?t.da.Xe(e):e instanceof tk?t.da.st(e):t.da.tt(e),!n.isEqual(xt.min()))try{const r=await pk(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const c=s.da.Tt(o);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=s.Ia.get(d);h&&s.Ia.set(d,h.withResumeToken(f.resumeToken,o))}})),c.targetMismatches.forEach(((f,d)=>{const h=s.Ia.get(f);if(!h)return;s.Ia.set(f,h.withResumeToken(br.EMPTY_BYTE_STRING,h.snapshotVersion)),xk(s,f);const g=new uo(h.target,f,d,h.sequenceNumber);sy(s,g)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){We(_l,"Failed to raise snapshot:",r),await yp(t,r)}}async function yp(t,e,n){if(!lu(e))throw e;t.Ea.add(1),await Sd(t),t.Va.set("Offline"),n||(n=()=>pk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{We(_l,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wp(t)}))}function _k(t,e){return e().catch((n=>yp(t,n,e)))}async function Zp(t){const e=Et(t),n=So(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jx;for(;VQ(e);)try{const i=await yQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,BQ(e,i)}catch(i){await yp(e,i)}Ek(e)&&Tk(e)}function VQ(t){return Ml(t)&&t.Ta.length<10}function BQ(t,e){t.Ta.push(e);const n=So(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Ek(t){return Ml(t)&&!So(t).x_()&&t.Ta.length>0}function Tk(t){So(t).start()}async function zQ(t){So(t).ra()}async function HQ(t){const e=So(t);for(const n of t.Ta)e.ea(n.mutations)}async function GQ(t,e,n){const r=t.Ta.shift(),i=Zx.from(r,e,n);await _k(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Zp(t)}async function qQ(t,e){e&&So(t).Y_&&await(async function(r,i){if((function(o){return SX(o)&&o!==Le.ABORTED})(i.code)){const s=r.Ta.shift();So(r).B_(),await _k(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Zp(r)}})(t,e),Ek(t)&&Tk(t)}async function aC(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),We(_l,"RemoteStore received new credentials");const r=Ml(n);n.Ea.add(3),await Sd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wp(n)}async function jQ(t,e){const n=Et(t);e?(n.Ea.delete(2),await Wp(n)):e||(n.Ea.add(2),await Sd(n),n.Va.set("Unknown"))}function cu(t){return t.ma||(t.ma=(function(n,r,i){const s=Et(n);return s.sa(),new NQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:FQ.bind(null,t),Yo:OQ.bind(null,t),t_:LQ.bind(null,t),J_:UQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),oy(t)?ay(t):t.Va.set("Unknown")):(await t.ma.stop(),yk(t))}))),t.ma}function So(t){return t.fa||(t.fa=(function(n,r,i){const s=Et(n);return s.sa(),new IQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zQ.bind(null,t),t_:qQ.bind(null,t),ta:HQ.bind(null,t),na:GQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Zp(t)):(await t.fa.stop(),t.Ta.length>0&&(We(_l,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class ly{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new go,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,c=new ly(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(xa("AsyncQueue",`${e}: ${t}`),lu(t))return new st(Le.UNAVAILABLE,`${e}: ${t}`);throw t}class Bc{static emptySet(e){return new Bc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ut.comparator(n.key,r.key):(n,r)=>ut.comparator(n.key,r.key),this.keyedMap=_f(),this.sortedSet=new Cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class oC{constructor(){this.ga=new Cn(ut.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Zc{constructor(e,n,r,i,s,o,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Zc(e,n,Bc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class $Q{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class KQ{constructor(){this.queries=lC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Et(n),s=i.queries;i.queries=lC(),s.forEach(((o,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new st(Le.ABORTED,"Firestore shutting down"))}}function lC(){return new kl((t=>zR(t)),qp)}async function wk(t,e){const n=Et(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new $Q,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=cy(o,`Initialization of query '${Tc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&uy(n)}async function Sk(t,e){const n=Et(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JQ(t,e){const n=Et(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.ba)c.Fa(i)&&(r=!0);o.wa=i}}r&&uy(n)}function YQ(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function uy(t){t.Ca.forEach((e=>{e.next()}))}var R1,cC;(cC=R1||(R1={})).Ma="default",cC.Cache="cache";class Ak{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==R1.Cache}}class Ck{constructor(e){this.key=e}}class bk{constructor(e){this.key=e}}class WQ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=HR(e),this.tu=new Bc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new oC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,g)=>{const v=i.get(h),T=jp(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;v&&T?v.data.isEqual(T.data)?S!==A&&(r.track({type:3,doc:T}),C=!0):this.su(v,T)||(r.track({type:2,doc:T}),C=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(c=!0)):!v&&T?(r.track({type:0,doc:T}),C=!0):v&&!T&&(r.track({type:1,doc:v}),C=!0,(f||d)&&(c=!0)),C&&(T?(o=o.add(T),s=A?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,g)=>(function(T,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:C})}};return A(T)-A(S)})(h.type,g.type)||this.eu(h.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,d=f!==this.Xa;return this.Xa=f,o.length!==0||d?{snapshot:new Zc(this.query,e.tu,s,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new bk(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Ck(r))})),n}cu(e){this.Za=e.ks,this.Ya=Pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fy="SyncEngine";class ZQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XQ{constructor(e){this.key=e,this.hu=!1}}class QQ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new kl((c=>zR(c)),qp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Cn(ut.comparator),this.Au=new Map,this.Vu=new ey,this.du={},this.mu=new Map,this.fu=Wc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eee(t,e,n=!0){const r=Mk(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Nk(r,e,n,!0),i}async function tee(t,e){const n=Mk(t);await Nk(n,e,!0,!1)}async function Nk(t,e,n,r){const i=await _Q(t.localStore,Ps(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await nee(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&vk(t.remoteStore,i),c}async function nee(t,e,n,r,i){t.pu=(g,v,T)=>(async function(A,C,P,B){let k=C.view.ru(P);k.Ss&&(k=await tC(A.localStore,C.query,!1).then((({documents:R})=>C.view.ru(R,k))));const H=B&&B.targetChanges.get(C.targetId),G=B&&B.targetMismatches.get(C.targetId)!=null,K=C.view.applyChanges(k,A.isPrimaryClient,H,G);return fC(A,C.targetId,K.au),K.snapshot})(t,g,v,T);const s=await tC(t.localStore,e,!0),o=new WQ(e,s.ks),c=o.ru(s.documents),f=wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(c,t.isPrimaryClient,f);fC(t,n,d.au);const h=new ZQ(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function ree(t,e,n){const r=Et(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!qp(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await N1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iy(r.remoteStore,i.targetId),k1(r,i.targetId)})).catch(ou)):(k1(r,i.targetId),await N1(r.localStore,i.targetId,!0))}async function iee(t,e){const n=Et(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function see(t,e,n){const r=dee(t);try{const i=await(function(o,c){const f=Et(o),d=xn.now(),h=c.reduce(((T,S)=>T.add(S.key)),Pt());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let S=ya(),A=Pt();return f.xs.getEntries(T,h).next((C=>{S=C,S.forEach(((P,B)=>{B.isValidDocument()||(A=A.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,S))).next((C=>{g=C;const P=[];for(const B of c){const k=yX(B,g.get(B.key).overlayedDocument);k!=null&&P.push(new Dl(B.key,k,PR(k.value.mapValue),fa.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,P,c)})).next((C=>{v=C;const P=C.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(T,C.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:qR(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,f){let d=o.du[o.currentUser.toKey()];d||(d=new Cn(Mt)),d=d.insert(c,f),o.du[o.currentUser.toKey()]=d})(r,i.batchId,n),await Ad(r,i.changes),await Zp(r.remoteStore)}catch(i){const s=cy(i,"Failed to persist write");n.reject(s)}}async function Ik(t,e){const n=Et(t);try{const r=await vQ(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Zt(o.hu,14607):i.removedDocuments.size>0&&(Zt(o.hu,42227),o.hu=!1))})),await Ad(n,r,e)}catch(r){await ou(r)}}function uC(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const f=Et(o);f.onlineState=c;let d=!1;f.queries.forEach(((h,g)=>{for(const v of g.ba)v.va(c)&&(d=!0)})),d&&uy(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aee(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Cn(ut.comparator);o=o.insert(s,Or.newNoDocument(s,xt.min()));const c=Pt().add(s),f=new Jp(xt.min(),new Map,new Cn(Mt),o,c);await Ik(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),dy(r)}else await N1(r.localStore,e,!1).then((()=>k1(r,e,n))).catch(ou)}async function oee(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await gQ(n.localStore,e);kk(n,r,null),Rk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ad(n,i)}catch(i){await ou(i)}}async function lee(t,e,n){const r=Et(t);try{const i=await(function(o,c){const f=Et(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,c).next((g=>(Zt(g!==null,37113),h=g.keys(),f.mutationQueue.removeMutationBatch(d,g)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);kk(r,e,n),Rk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ad(r,i)}catch(i){await ou(i)}}function Rk(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function kk(t,e,n){const r=Et(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function k1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Dk(t,r)}))}function Dk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(iy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),dy(t))}function fC(t,e,n){for(const r of n)r instanceof Ck?(t.Vu.addReference(r.key,e),cee(t,r)):r instanceof bk?(We(fy,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Dk(t,r.key)):pt(19791,{wu:r})}function cee(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(We(fy,"New document in limbo: "+n),t.Eu.add(r),dy(t))}function dy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ut(An.fromString(e)),r=t.fu.next();t.Au.set(r,new XQ(n)),t.Ru=t.Ru.insert(n,r),vk(t.remoteStore,new uo(Ps(Gp(n.path)),r,"TargetPurposeLimboResolution",Vp.ce))}}async function Ad(t,e,n){const r=Et(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{o.push(r.pu(f,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const h=d?!d.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,h?"current":"not-current")}if(d){i.push(d);const h=ny.Es(f.targetId,d);s.push(h)}})))})),await Promise.all(o),r.Pu.J_(i),await(async function(f,d){const h=Et(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Oe.forEach(d,(v=>Oe.forEach(v.Ts,(T=>h.persistence.referenceDelegate.addReference(g,v.targetId,T))).next((()=>Oe.forEach(v.Is,(T=>h.persistence.referenceDelegate.removeReference(g,v.targetId,T)))))))))}catch(g){if(!lu(g))throw g;We(ry,"Failed to update sequence numbers: "+g)}for(const g of d){const v=g.targetId;if(!g.fromCache){const T=h.vs.get(v),S=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(v,A)}}})(r.localStore,s))}async function uee(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){We(fy,"User change. New user:",e.toKey());const r=await hk(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new st(Le.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ad(n,r.Ns)}}function fee(t,e){const n=Et(t),r=n.Au.get(e);if(r&&r.hu)return Pt().add(r.key);{let i=Pt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function Mk(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aee.bind(null,e),e.Pu.J_=JQ.bind(null,e.eventManager),e.Pu.yu=YQ.bind(null,e.eventManager),e}function dee(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lee.bind(null,e),e}class _p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mQ(this.persistence,new dQ,e.initialUser,this.serializer)}Cu(e){return new dk(ty.Vi,this.serializer)}Du(e){return new TQ}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_p.provider={build:()=>new _p};class hee extends _p{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Zt(this.persistence.referenceDelegate instanceof xp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ui.withCacheSize(this.cacheSizeBytes):ui.DEFAULT;return new dk((r=>xp.Vi(r,n)),this.serializer)}}class D1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uee.bind(null,this.syncEngine),await jQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KQ})()}createDatastore(e){const n=Yp(e.databaseInfo.databaseId),r=bQ(e.databaseInfo);return DQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,c){return new PQ(r,i,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>uC(this.syncEngine,n,0)),(function(){return iC.v()?new iC:new wQ})())}createSyncEngine(e,n){return(function(i,s,o,c,f,d,h){const g=new QQ(i,s,o,c,f,d);return h&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Et(n);We(_l,"RemoteStore shutting down."),r.Ea.add(5),await Sd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}D1.provider={build:()=>new D1};class Pk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ao="FirestoreClient";class pee{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=Gx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{We(Ao,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(We(Ao,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new go;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Sv(t,e){t.asyncQueue.verifyOperationInProgress(),We(Ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await hk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mee(t);We(Ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>aC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>aC(e.remoteStore,i))),t._onlineComponents=e}async function mee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We(Ao,"Using user provided OfflineComponentProvider");try{await Sv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await Sv(t,new _p)}}else We(Ao,"Using default OfflineComponentProvider"),await Sv(t,new hee(void 0));return t._offlineComponents}async function Fk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We(Ao,"Using user provided OnlineComponentProvider"),await dC(t,t._uninitializedComponentsProvider._online)):(We(Ao,"Using default OnlineComponentProvider"),await dC(t,new D1))),t._onlineComponents}function gee(t){return Fk(t).then((e=>e.syncEngine))}async function M1(t){const e=await Fk(t),n=e.eventManager;return n.onListen=eee.bind(null,e.syncEngine),n.onUnlisten=ree.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tee.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iee.bind(null,e.syncEngine),n}function vee(t,e,n,r){const i=new Pk(r),s=new Ak(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>wk(await M1(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>Sk(await M1(t),s)))}}function xee(t,e,n={}){const r=new go;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,f,d){const h=new Pk({next:v=>{h.Nu(),o.enqueueAndForget((()=>Sk(s,g)));const T=v.docs.has(c);!T&&v.fromCache?d.reject(new st(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&v.fromCache&&f&&f.source==="server"?d.reject(new st(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),g=new Ak(Gp(c.path),h,{includeMetadataChanges:!0,Ka:!0});return wk(s,g)})(await M1(t),t.asyncQueue,e,n,r))),r.promise}function yee(t,e){const n=new go;return t.asyncQueue.enqueueAndForget((async()=>see(await gee(t),e,n))),n.promise}function Ok(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const _ee="ComponentProvider",hC=new Map;function Eee(t,e,n,r,i){return new zZ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Ok(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Lk="firestore.googleapis.com",pC=!0;class mC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Lk,this.ssl=pC}else this.host=e.host,this.ssl=e.ssl??pC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YX)throw new st(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ok(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new st(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new st(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new st(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yZ;switch(r.type){case"firstParty":return new wZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new st(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hC.get(n);r&&(We(_ee,"Removing Datastore"),hC.delete(n),r.terminate())})(this),Promise.resolve()}}function Tee(t,e,n,r={}){t=vo(t,hy);const i=Bx(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(jY(`https://${c}`),YY("Firestore",!0)),s.host!==Lk&&s.host!==c&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!lp(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Pr.MOCK_USER;else{d=$Y(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new st(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pr(g)}t._authCredentials=new _Z(new wR(d,h))}}class Xp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xp(this.firestore,e,this._query)}}class rr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}toJSON(){return{type:rr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ed(n,rr._jsonSchema))return new rr(e,r||null,new ut(An.fromString(n.referencePath)))}}rr._jsonSchemaVersion="firestore/documentReference/1.0",rr._jsonSchema={type:Zn("string",rr._jsonSchemaVersion),referencePath:Zn("string")};class fd extends Xp{constructor(e,n,r){super(e,n,Gp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new ut(e))}withConverter(e){return new fd(this.firestore,e,this._path)}}function py(t,e,...n){if(t=td(t),arguments.length===1&&(e=Gx.newId()),IZ("doc","path",e),t instanceof hy){const r=An.fromString(e,...n);return IA(r),new rr(t,null,new ut(r))}{if(!(t instanceof rr||t instanceof fd))throw new st(Le.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(An.fromString(e,...n));return IA(r),new rr(t.firestore,t instanceof fd?t.converter:null,new ut(r))}}const gC="AsyncQueue";class vC{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mk(this,"async_queue_retry"),this._c=()=>{const r=wv();r&&We(gC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new go;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!lu(e))throw e;We(gC,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xa("INTERNAL UNHANDLED ERROR: ",xC(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ly.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&pt(47125,{Pc:xC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class dd extends hy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vC(e),this._firestoreClient=void 0,await e}}}function wee(t,e){const n=typeof t=="object"?t:hR(),r=typeof t=="string"?t:fp,i=eZ(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=GY("firestore");s&&Tee(i,...s)}return i}function my(t){if(t._terminated)throw new st(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||See(t),t._firestoreClient}function See(t){const e=t._freezeSettings(),n=Eee(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gi(br.fromBase64String(e))}catch(n){throw new st(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gi(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ed(e,Gi._jsonSchema))return Gi.fromBase64String(e.bytes)}}Gi._jsonSchemaVersion="firestore/bytes/1.0",Gi._jsonSchema={type:Zn("string",Gi._jsonSchemaVersion),bytes:Zn("string")};class Uk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new st(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vk{constructor(e){this._methodName=e}}class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(Ed(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Zn("string",Os._jsonSchemaVersion),latitude:Zn("number"),longitude:Zn("number")};class gs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ed(e,gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gs(e.vectorValues);throw new st(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:Zn("string",gs._jsonSchemaVersion),vectorValues:Zn("object")};const Aee=/^__.*__$/;class Cee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Td(e,this.data,n,this.fieldTransforms)}}function Bk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:t})}}class gy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new gy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ep(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Bk(this.dataSource)&&Aee.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class bee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yp(e)}createContext(e,n,r,i=!1){return new gy({dataSource:e,methodName:n,targetDoc:r,path:wr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nee(t){const e=t._freezeSettings(),n=Yp(t._databaseId);return new bee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Iee(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);qk("Data must be an object, but it was:",o,r);const c=Hk(r,o);let f,d;if(s.merge)f=new ds(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const v=vy(e,g,n);if(!o.contains(v))throw new st(Le.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Dee(h,v)||h.push(v)}f=new ds(h),d=o.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,d=o.fieldTransforms;return new Cee(new Hi(c),f,d)}function zk(t,e){if(Gk(t=td(t)))return qk("Unsupported field value:",e,t),Hk(t,e);if(t instanceof Vk)return(function(r,i){if(!Bk(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const c of r){let f=zk(c,i.childContextForArray(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=td(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xn.fromDate(r);return{timestampValue:vp(i.serializer,s)}}if(r instanceof xn){const s=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vp(i.serializer,s)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gi)return{bytesValue:rk(i.serializer,r._byteString)};if(r instanceof rr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gs)return(function(o,c){const f=o instanceof gs?o.toArray():o;return{mapValue:{fields:{[DR]:{stringValue:MR},[dp]:{arrayValue:{values:f.map((h=>{if(typeof h!="number")throw c.createError("VectorValues must only contain numeric values.");return Wx(c.serializer,h)}))}}}}}})(r,i);if(uk(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${qx(r)}`)})(t,e)}function Hk(t,e){const n={};return CR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rl(t,((r,i)=>{const s=zk(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Gk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof Os||t instanceof Gi||t instanceof rr||t instanceof Vk||t instanceof gs||uk(t))}function qk(t,e,n){if(!Gk(n)||!SR(n)){const r=qx(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function vy(t,e,n){if((e=td(e))instanceof Uk)return e._internalPath;if(typeof e=="string")return kee(t,e);throw Ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ree=new RegExp("[~\\*/\\[\\]]");function kee(t,e,n){if(e.search(Ree)>=0)throw Ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uk(...e.split("."))._internalPath}catch{throw Ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ep(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new st(Le.INVALID_ARGUMENT,c+t+f)}function Dee(t,e){return t.some((n=>n.isEqual(e)))}class Mee{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[dp].arrayValue?.values?.map((r=>Un(r.doubleValue)));return new gs(n)}convertGeoPoint(e){return new Os(Un(e.latitude),Un(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){const n=Eo(e);return new xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=An.fromString(e);Zt(ck(r),9688,{name:e});const i=new od(r.get(1),r.get(3)),s=new ut(r.popFirst(5));return i.isEqual(n)||xa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class jk extends Mee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,n)}}const yC="@firebase/firestore",_C="4.11.0";function EC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class $k{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(vy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Pee extends $k{data(){return super.data()}}function Fee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new st(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Oee(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Tf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fl extends $k{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new A0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",fl._jsonSchema={type:Zn("string",fl._jsonSchemaVersion),bundleSource:Zn("string","DocumentSnapshot"),bundleName:Zn("string"),bundle:Zn("string")};class A0 extends fl{data(e={}){return super.data(e)}}class zc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new A0(this._firestore,this._userDataWriter,r.key,r,new Tf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const f=new A0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Tf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new A0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Tf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:Lee(c.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:t})}}zc._jsonSchemaVersion="firestore/querySnapshot/1.0",zc._jsonSchema={type:Zn("string",zc._jsonSchemaVersion),bundleSource:Zn("string","QuerySnapshot"),bundleName:Zn("string"),bundle:Zn("string")};function Uee(t){t=vo(t,rr);const e=vo(t.firestore,dd),n=my(e);return xee(n,t._key).then((r=>Kk(e,t,r)))}function Vee(t,e,n){t=vo(t,rr);const r=vo(t.firestore,dd),i=Oee(t.converter,e),s=Nee(r);return zee(r,[Iee(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fa.none())])}function Bee(t,...e){t=td(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||EC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(EC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,o,c;if(t instanceof rr)o=vo(t.firestore,dd),c=Gp(t._key.path),s={next:d=>{e[r]&&e[r](Kk(o,t,d))},error:e[r+1],complete:e[r+2]};else{const d=vo(t,Xp);o=vo(d.firestore,dd),c=d._query;const h=new jk(o);s={next:g=>{e[r]&&e[r](new zc(o,h,d,g))},error:e[r+1],complete:e[r+2]},Fee(t._query)}const f=my(o);return vee(f,c,i,s)}function zee(t,e){const n=my(t);return yee(n,e)}function Kk(t,e,n){const r=n.docs.get(e._key),i=new jk(t);return new fl(t,i,e._key,r,new Tf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){xZ(iZ),cp(new nd("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new dd(new EZ(r.getProvider("auth-internal")),new SZ(o,r.getProvider("app-check-internal")),HZ(o,i),o);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Uc(yC,_C,e),Uc(yC,_C,"esm2020")})();const xy=()=>{const t=localStorage.getItem("firebase_config");return t?JSON.parse(t):{apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}},Hee=t=>{localStorage.setItem("firebase_config",JSON.stringify(t))},Gee=()=>{localStorage.removeItem("firebase_config")};let Av,Co;const yy=async t=>{try{const e=t||xy();return e?(sZ().length>0?Av=hR():Av=dR(e),Co=wee(Av),!0):!1}catch(e){return console.error("Error initializing Firebase:",e),!1}},qee=()=>!!Co,al=t=>{if(t==null)return null;if(Array.isArray(t))return t.map(al);if(typeof t!="object")return t;const e={};for(const n in t){const r=t[n];r===void 0?e[n]=null:r!==null&&typeof r=="object"?e[n]=al(r):e[n]=r}return e},Tp=async(t,e,n,r,i=[])=>{if(Co)try{const s={clients:al(t),products:al(e),categories:al(n),users:al(r),uploadedFiles:al(i),lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await Vee(py(Co,"rota-vendas","master-data"),s),console.log(" Data saved to cloud successfully")}catch(s){throw console.error("Error saving to cloud:",s),s}},Jk=async()=>{if(!Co)return null;try{const t=py(Co,"rota-vendas","master-data"),e=await Uee(t);return e.exists()?e.data():null}catch(t){return console.error("Error loading from cloud:",t),null}},jee=t=>Co?Bee(py(Co,"rota-vendas","master-data"),e=>{e.exists()&&t(e.data())}):()=>{},$ee=Object.freeze(Object.defineProperty({__proto__:null,initializeFirebase:yy,isFirebaseInitialized:qee,loadFromCloud:Jk,saveToCloud:Tp,subscribeToCloudChanges:jee},Symbol.toStringTag,{value:"Module"}));var P1=BC(),Cv,TC;function Kee(){return TC||(TC=1,Cv=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),Cv}var Jee=Kee();const F1=Sp(Jee);function Yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Wee(t){var e=Yee(t,"string");return typeof e=="symbol"?e:String(e)}function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}function El(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const oa={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},Zee="https://maps.googleapis.com/maps/api/js";class hd{static async load(e,n){var r;const i=e.libraries?e.libraries.split(","):[],s=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=oa.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=s,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==s&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const o=["maps",...i];await Promise.all(o.map(c=>google.maps.importLibrary(c)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((i,s)=>{var o;const c=document.createElement("script"),f=new URLSearchParams;for(const[d,h]of Object.entries(e)){const g=d.replace(/[A-Z]/g,v=>"_"+v[0].toLowerCase());f.set(g,h)}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),c.async=!0,c.src=Zee+"?"+f.toString(),c.nonce=((o=document.querySelector("script[nonce]"))==null?void 0:o.nonce)||"",c.onerror=()=>{this.loadingStatus=oa.FAILED,this.notifyLoadingStatusListeners(),s(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=oa.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=oa.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=oa.LOADING,this.notifyLoadingStatusListeners(),document.head.append(c)}),n);google.maps.importLibrary=i=>r().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}hd.loadingStatus=oa.NOT_LOADED;hd.serializedApiParams=void 0;hd.listeners=[];const Xee=["onLoad","apiKey","version","libraries"],Qee=["children"],ete="GMP_visgl_rgmlibrary_v1_default",Cd=kn.createContext(null);function tte(){const[t,e]=de.useState({});return{mapInstances:t,addMapInstance:(s,o="default")=>{e(c=>da({},c,{[o]:s}))},removeMapInstance:(s="default")=>{e(o=>El(o,[s].map(Wee)))},clearMapInstances:()=>{e({})}}}function nte(t){const{onLoad:e,apiKey:n,version:r,libraries:i=[]}=t,s=El(t,Xee),[o,c]=de.useState(hd.loadingStatus),[f,d]=de.useReducer((T,S)=>da({},T,{[S.name]:S.value}),{}),h=de.useMemo(()=>i?.join(","),[i]),g=de.useMemo(()=>JSON.stringify(da({apiKey:n,version:r},s)),[n,r,s]),v=de.useCallback(async T=>{var S;if(f[T])return f[T];if(!((S=google)!=null&&(S=S.maps)!=null&&S.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const A=await window.google.maps.importLibrary(T);return d({name:T,value:A}),A},[f]);return de.useEffect(()=>{(async()=>{try{const T=da({key:n},s);r&&(T.v=r),h?.length>0&&(T.libraries=h),T.solutionChannel===void 0?T.solutionChannel=ete:T.solutionChannel===""&&delete T.solutionChannel,await hd.load(T,S=>c(S));for(const S of["core","maps",...i])await v(S);e&&e()}catch(T){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",T)}})()},[n,h,g]),{status:o,loadedLibraries:f,importLibrary:v}}const rte=t=>{const{children:e}=t,n=El(t,Qee),{mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:o}=tte(),{status:c,loadedLibraries:f,importLibrary:d}=nte(n),h=de.useMemo(()=>({mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:o,status:c,loadedLibraries:f,importLibrary:d}),[r,i,s,o,c,f,d]);return kn.createElement(Cd.Provider,{value:h},e)};function ite(t,e){for(const n of lte){const r=e[n],i=Yk[n];de.useEffect(()=>{if(!t||!r)return;const s=google.maps.event.addListener(t,i,o=>{r(ste(i,t,o))});return()=>s.remove()},[t,i,r])}}function ste(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(ate.includes(t)){const s=r,o=e.getCenter(),c=e.getZoom(),f=e.getHeading()||0,d=e.getTilt()||0,h=e.getBounds();return(!o||!h||!Number.isFinite(c))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),s.detail={center:o?.toJSON()||{lat:0,lng:0},zoom:c||0,heading:f,tilt:d,bounds:h?.toJSON()||{north:90,east:180,south:-90,west:-180}},s}else if(ote.includes(t)){var i;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const s=r;return s.domEvent=n.domEvent,s.stoppable=!0,s.stop=()=>n.stop(),s.detail={latLng:((i=n.latLng)==null?void 0:i.toJSON())||null,placeId:n.placeId},s}return r}const Yk={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},ate=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],ote=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],lte=Object.keys(Yk);function Wk(t,e){const n=de.useRef(void 0);(!n.current||!F1(e,n.current))&&(n.current=e),de.useEffect(t,n.current)}const cte=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function ute(t,e){const n={},r=Object.keys(e);for(const i of r)cte.has(i)&&(n[i]=e[i]);Wk(()=>{t&&t.setOptions(n)},[n])}function Zk(){var t;return((t=de.useContext(Cd))==null?void 0:t.status)||oa.NOT_LOADED}function fte(t,e){const{viewport:n,viewState:r}=e,i=!!n;return de.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:s,longitude:o,bearing:c,pitch:f,zoom:d}=r;t.moveCamera({center:{lat:s,lng:o},heading:c,tilt:f,zoom:d+1})},[t,r]),i}function dte(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function Xk(t){return dte(t)?t:t.toJSON()}function hte(t,e,n){const r=n.center?Xk(n.center):null;let i=null,s=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(i=r.lat,s=r.lng);const o=Number.isFinite(n.zoom)?n.zoom:null,c=Number.isFinite(n.heading)?n.heading:null,f=Number.isFinite(n.tilt)?n.tilt:null;de.useLayoutEffect(()=>{if(!t)return;const d={};let h=!1;i!==null&&s!==null&&(e.current.center.lat!==i||e.current.center.lng!==s)&&(d.center={lat:i,lng:s},h=!0),o!==null&&e.current.zoom!==o&&(d.zoom=o,h=!0),c!==null&&e.current.heading!==c&&(d.heading=c,h=!0),f!==null&&e.current.tilt!==f&&(d.tilt=f,h=!0),h&&t.moveCamera(d)})}const pte=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return kn.createElement("div",{style:t},kn.createElement("h2",null,"Error: AuthFailure"),kn.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",kn.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function mte(){const[t,e]=de.useState(null),n=de.useCallback(r=>e(r),[e]);return[t,n]}function Qk(){return Zk()===oa.LOADED}function gte(){const[,t]=de.useReducer(e=>e+1,0);return t}function vte(t,e){const n=t.getCenter(),r=t.getZoom(),i=t.getHeading()||0,s=t.getTilt()||0,o=t.getBounds();(!n||!o||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:n?.toJSON()||{lat:0,lng:0},zoom:r||0,heading:i,tilt:s})}function xte(t){const e=gte(),n=de.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return de.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{vte(t,n),e()});return()=>r.remove()},[t,e]),n}const yte=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],_te=["padding"];class C0{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}C0.entries={};function Ete(t,e){const n=Qk(),[r,i]=de.useState(null),[s,o]=mte(),c=xte(r),{id:f,defaultBounds:d,defaultCenter:h,defaultZoom:g,defaultHeading:v,defaultTilt:T,reuseMaps:S}=t,A=El(t,yte),C=t.zoom!==void 0||t.defaultZoom!==void 0,P=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!C||!P)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!A.center&&h&&(A.center=h),!A.zoom&&Number.isFinite(g)&&(A.zoom=g),!A.heading&&Number.isFinite(v)&&(A.heading=v),!A.tilt&&Number.isFinite(T)&&(A.tilt=T);for(const k of Object.keys(A))A[k]===void 0&&delete A[k];const B=de.useRef();return de.useEffect(()=>{if(!s||!n)return;const{addMapInstance:k,removeMapInstance:H}=e,G=t.mapId,K=G||"default";let R,N;if(S&&C0.has(K)?(N=C0.pop(K),R=N.getDiv(),s.appendChild(R),N.setOptions(A),setTimeout(()=>N.setCenter(N.getCenter()),0)):(R=document.createElement("div"),R.style.height="100%",s.appendChild(R),N=new google.maps.Map(R,A)),i(N),k(N,f),d){const{padding:b}=d,F=El(d,_te);N.fitBounds(F,b)}else(!C||!P)&&N.fitBounds({east:180,west:-180,south:-90,north:90});if(B.current){const{mapId:b,cameraState:F}=B.current;b!==G&&N.setOptions(F)}return()=>{B.current={mapId:G,cameraState:c.current},R.remove(),S?C0.push(K,N):google.maps.event.clearInstanceListeners(N),i(null),H(f)}},[s,n,f,t.mapId]),[r,o,c]}const e4=kn.createContext(null),t4=t=>{const{children:e,id:n,className:r,style:i}=t,s=de.useContext(Cd),o=Zk();if(!s)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[c,f,d]=Ete(t,s);hte(c,d,t),ite(c,t),ute(c,t);const h=fte(c,t),g=!!t.controlled;de.useEffect(()=>{if(c)return h&&c.setOptions({disableDefaultUI:!0}),(h||g)&&c.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{c.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[c,h,g,t.gestureHandling,t.keyboardShortcuts]);const v=t.center?Xk(t.center):null;let T=null,S=null;v&&Number.isFinite(v.lat)&&Number.isFinite(v.lng)&&(T=v.lat,S=v.lng);const A=de.useMemo(()=>{var B,k,H,G,K;return{center:{lat:(B=T)!=null?B:0,lng:(k=S)!=null?k:0},zoom:(H=t.zoom)!=null?H:0,heading:(G=t.heading)!=null?G:0,tilt:(K=t.tilt)!=null?K:0}},[T,S,t.zoom,t.heading,t.tilt]);de.useLayoutEffect(()=>{if(!c||!g)return;c.moveCamera(A);const B=c.addListener("bounds_changed",()=>{c.moveCamera(A)});return()=>B.remove()},[c,g,A]);const C=de.useMemo(()=>da({width:"100%",height:"100%",position:"relative",zIndex:h?-1:0},i),[i,h]),P=de.useMemo(()=>({map:c}),[c]);return o===oa.AUTH_FAILURE?kn.createElement("div",{style:da({position:"relative"},r?{}:C),className:r},kn.createElement(pte,null)):kn.createElement("div",da({ref:f,"data-testid":"map",style:r?void 0:C,className:r},n?{id:n}:{}),c?kn.createElement(e4.Provider,{value:P},e):null)};t4.deckGLViewProps=!0;const wC=new Set;function Tte(...t){const e=JSON.stringify(t);wC.has(e)||(wC.add(e),console.error(...t))}const uu=(t=null)=>{const e=de.useContext(Cd),{map:n}=de.useContext(e4)||{};if(e===null)return Tte("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function n4(t){const e=Qk(),n=de.useContext(Cd);return de.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),n?.loadedLibraries[t]||null}function r4(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(n==null){if(e==null)return;for(const i in e)e.hasOwnProperty(i)&&SC(r,i,e[i]);return}for(const i in n)n.hasOwnProperty(i)&&(e==null||!e.hasOwnProperty(i))&&(i.indexOf("--")===0?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="");if(e!=null)for(const i in e){const s=e[i];e.hasOwnProperty(i)&&n[i]!==s&&SC(r,i,s)}}function SC(t,e,n){const r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n=="number"&&n!==0&&!Ste(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const wte=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function Ste(t){return wte.has(t)}function Ic(t,e,n){de.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function cf(t,e,n){de.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}const Ate=kn.createContext(null);function Cte(t){const[e,n]=de.useState(null),[r,i]=de.useState(null),s=de.useRef(null),o=uu(),c=n4("marker"),{children:f,className:d,style:h,onClick:g,onDrag:v,onDragStart:T,onDragEnd:S,collisionBehavior:A,clickable:C,draggable:P,position:B,title:k,zIndex:H}=t,G=de.Children.count(f);return de.useEffect(()=>{if(!o||!c)return;const K=new c.AdvancedMarkerElement;K.map=o,n(K);let R=null;return G>0&&(R=document.createElement("div"),K.content=R,i(R)),()=>{var N;K.map=null,(N=R)==null||N.remove(),n(null),i(null)}},[o,c,G]),de.useEffect(()=>{!e||!e.content||(e.content.className=d||"")},[e,d]),cf(r,"className",d??""),de.useEffect(()=>{r&&(r4(r,h||null,s.current),s.current=h||null)},[r,d,h]),cf(e,"position",B),cf(e,"title",k??""),cf(e,"zIndex",H),cf(e,"collisionBehavior",A),de.useEffect(()=>{e&&(P!==void 0?e.gmpDraggable=P:v||T||S?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,P,v,S,T]),de.useEffect(()=>{e&&(C!==void 0?e.gmpClickable=C:g?e.gmpClickable=!0:e.gmpClickable=!1)},[e,C,g]),Ic(e,"click",g),Ic(e,"drag",v),Ic(e,"dragstart",T),Ic(e,"dragend",S),[e,r]}de.forwardRef((t,e)=>{const{children:n}=t,[r,i]=Cte(t),s=de.useMemo(()=>r?{marker:r}:null,[r]);return de.useImperativeHandle(e,()=>r,[r]),i?kn.createElement(Ate.Provider,{value:s},P1.createPortal(n,i)):null});const bte=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],Nte=t=>{const{children:e,headerContent:n,style:r,className:i,pixelOffset:s,anchor:o,shouldFocus:c,onClose:f,onCloseClick:d}=t,h=El(t,bte),g=n4("maps"),[v,T]=de.useState(null),S=de.useRef(null),A=de.useRef(null);de.useEffect(()=>{if(!g)return;S.current=document.createElement("div"),A.current=document.createElement("div");const B=h;s&&(B.pixelOffset=new google.maps.Size(s[0],s[1])),n&&(B.headerContent=typeof n=="string"?n:A.current);const k=new google.maps.InfoWindow(h);return k.setContent(S.current),T(k),()=>{var H,G;k.setContent(null),(H=S.current)==null||H.remove(),(G=A.current)==null||G.remove(),S.current=null,A.current=null,T(null)}},[g]);const C=de.useRef(null);de.useEffect(()=>{!v||!S.current||(r4(S.current,r||null,C.current),C.current=r||null,i!==S.current.className&&(S.current.className=i||""))},[v,i,r]),Wk(()=>{if(!v)return;const B=h;s?B.pixelOffset=new google.maps.Size(s[0],s[1]):B.pixelOffset=null,n?B.headerContent=typeof n=="string"?n:A.current:B.headerContent=null,v.setOptions(h)},[h,s,n]),Ic(v,"close",f),Ic(v,"closeclick",d);const P=uu();return de.useEffect(()=>{if(!P||!v||o===null)return;const B=!!o,k={map:P};return o&&(k.anchor=o),c!==void 0&&(k.shouldFocus=c),v.open(k),()=>{B&&v.set("anchor",null),v.close()}},[v,o,P,c]),kn.createElement(kn.Fragment,null,S.current&&P1.createPortal(e,S.current),A.current!==null&&P1.createPortal(n,A.current))},Ite=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function Rte(t){const[e,n]=de.useState(null),r=uu(),{onClick:i,onDrag:s,onDragStart:o,onDragEnd:c,onMouseOver:f,onMouseOut:d}=t,h=El(t,Ite),{position:g,draggable:v}=h;return de.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const T=new google.maps.Marker(h);return T.setMap(r),n(T),()=>{T.setMap(null),n(null)}},[r]),de.useEffect(()=>{if(!e)return;const T=e,S=google.maps.event;return i&&S.addListener(T,"click",i),s&&S.addListener(T,"drag",s),o&&S.addListener(T,"dragstart",o),c&&S.addListener(T,"dragend",c),f&&S.addListener(T,"mouseover",f),d&&S.addListener(T,"mouseout",d),e.setDraggable(!!v),()=>{S.clearInstanceListeners(T)}},[e,v,i,s,o,c,f,d]),de.useEffect(()=>{e&&h&&e.setOptions(h)},[e,h]),de.useEffect(()=>{v||!g||!e||e.setPosition(g)},[v,g,e]),e}de.forwardRef((t,e)=>{const n=Rte(t);return de.useImperativeHandle(e,()=>n,[n]),kn.createElement(kn.Fragment,null)});const AC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],bv=1,uf=8;class _y{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==bv)throw new Error(`Got v${i} data when expected v${bv}.`);const s=AC[r&15];if(!s)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new _y(c,o,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=AC.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-c%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,uf,e),this.coords=new this.ArrayType(this.data,uf+c+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(uf+o+c+f),this.ids=new this.IndexArrayType(this.data,uf,e),this.coords=new this.ArrayType(this.data,uf+c+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(bv<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return O1(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:c}=this,f=[0,s.length-1,0],d=[];for(;f.length;){const h=f.pop()||0,g=f.pop()||0,v=f.pop()||0;if(g-v<=c){for(let C=v;C<=g;C++){const P=o[2*C],B=o[2*C+1];P>=e&&P<=r&&B>=n&&B<=i&&d.push(s[C])}continue}const T=v+g>>1,S=o[2*T],A=o[2*T+1];S>=e&&S<=r&&A>=n&&A<=i&&d.push(s[T]),(h===0?e<=S:n<=A)&&(f.push(v),f.push(T-1),f.push(1-h)),(h===0?r>=S:i>=A)&&(f.push(T+1),f.push(g),f.push(1-h))}return d}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,c=[0,i.length-1,0],f=[],d=r*r;for(;c.length;){const h=c.pop()||0,g=c.pop()||0,v=c.pop()||0;if(g-v<=o){for(let C=v;C<=g;C++)CC(s[2*C],s[2*C+1],e,n)<=d&&f.push(i[C]);continue}const T=v+g>>1,S=s[2*T],A=s[2*T+1];CC(S,A,e,n)<=d&&f.push(i[T]),(h===0?e-r<=S:n-r<=A)&&(c.push(v),c.push(T-1),c.push(1-h)),(h===0?e+r>=S:n+r>=A)&&(c.push(T+1),c.push(g),c.push(1-h))}return f}}function O1(t,e,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;i4(t,e,o,r,i,s),O1(t,e,n,r,o-1,1-s),O1(t,e,n,o+1,i,1-s)}function i4(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const d=i-r+1,h=n-r+1,g=Math.log(d),v=.5*Math.exp(2*g/3),T=.5*Math.sqrt(g*v*(d-v)/d)*(h-d/2<0?-1:1),S=Math.max(r,Math.floor(n-h*v/d+T)),A=Math.min(i,Math.floor(n+(d-h)*v/d+T));i4(t,e,n,S,A,s)}const o=e[2*n+s];let c=r,f=i;for(ff(t,e,r,n),e[2*i+s]>o&&ff(t,e,r,i);c<f;){for(ff(t,e,c,f),c++,f--;e[2*c+s]<o;)c++;for(;e[2*f+s]>o;)f--}e[2*r+s]===o?ff(t,e,r,f):(f++,ff(t,e,f,i)),f<=n&&(r=f+1),n<=f&&(i=f-1)}}function ff(t,e,n,r){Nv(t,n,r),Nv(e,2*n,2*r),Nv(e,2*n+1,2*r+1)}function Nv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function CC(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const kte={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},bC=Math.fround||(t=>(e=>(t[0]=+e,t[0])))(new Float32Array(1)),nl=2,so=3,Iv=4,io=5,s4=6;class Dte{constructor(e){this.options=Object.assign(Object.create(kte),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const o=[];for(let f=0;f<e.length;f++){const d=e[f];if(!d.geometry)continue;const[h,g]=d.geometry.coordinates,v=bC(h0(h)),T=bC(p0(g));o.push(v,T,1/0,f,-1,1),this.options.reduce&&o.push(0)}let c=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(let f=i;f>=r;f--){const d=+Date.now();c=this.trees[f]=this._createTree(this._cluster(c,f)),n&&console.log("z%d: %d clusters in %dms",f,c.numItems,+Date.now()-d)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const g=this.getClusters([r,i,180,o],n),v=this.getClusters([-180,i,s,o],n);return g.concat(v)}const c=this.trees[this._limitZoom(n)],f=c.range(h0(r),p0(o),h0(s),p0(i)),d=c.data,h=[];for(const g of f){const v=this.stride*g;h.push(d[v+io]>1?NC(d,v,this.clusterProps):this.points[d[v+so]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.data;if(n*this.stride>=o.length)throw new Error(i);const c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),f=o[n*this.stride],d=o[n*this.stride+1],h=s.within(f,d,c),g=[];for(const v of h){const T=v*this.stride;o[T+Iv]===e&&g.push(o[T+io]>1?NC(o,T,this.clusterProps):this.points[o[T+so]])}if(g.length===0)throw new Error(i);return g}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:c}=this.options,f=c/o,d=(r-f)/s,h=(r+1+f)/s,g={features:[]};return this._addTileFeatures(i.range((n-f)/s,d,(n+1+f)/s,h),i.data,n,r,s,g),n===0&&this._addTileFeatures(i.range(1-f/s,d,1,h),i.data,s,r,s,g),n===s-1&&this._addTileFeatures(i.range(0,d,f/s,h),i.data,-1,r,s,g),g.features.length?g:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const o=this.getChildren(n);for(const c of o){const f=c.properties;if(f&&f.cluster?s+f.point_count<=i?s+=f.point_count:s=this._appendLeaves(e,f.cluster_id,r,i,s):s<i?s++:e.push(c),e.length===r)break}return s}_createTree(e){const n=new _y(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(const c of e){const f=c*this.stride,d=n[f+io]>1;let h,g,v;if(d)h=a4(n,f,this.clusterProps),g=n[f],v=n[f+1];else{const A=this.points[n[f+so]];h=A.properties;const[C,P]=A.geometry.coordinates;g=h0(C),v=p0(P)}const T={type:1,geometry:[[Math.round(this.options.extent*(g*s-r)),Math.round(this.options.extent*(v*s-i))]],tags:h};let S;d||this.options.generateId?S=n[f+so]:S=this.points[n[f+so]].id,S!==void 0&&(T.id=S),o.features.push(T)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:o}=this.options,c=r/(i*Math.pow(2,n)),f=e.data,d=[],h=this.stride;for(let g=0;g<f.length;g+=h){if(f[g+nl]<=n)continue;f[g+nl]=n;const v=f[g],T=f[g+1],S=e.within(f[g],f[g+1],c),A=f[g+io];let C=A;for(const P of S){const B=P*h;f[B+nl]>n&&(C+=f[B+io])}if(C>A&&C>=o){let P=v*A,B=T*A,k,H=-1;const G=((g/h|0)<<5)+(n+1)+this.points.length;for(const K of S){const R=K*h;if(f[R+nl]<=n)continue;f[R+nl]=n;const N=f[R+io];P+=f[R]*N,B+=f[R+1]*N,f[R+Iv]=G,s&&(k||(k=this._map(f,g,!0),H=this.clusterProps.length,this.clusterProps.push(k)),s(k,this._map(f,R)))}f[g+Iv]=G,d.push(P/C,B/C,1/0,G,-1,C),s&&d.push(H)}else{for(let P=0;P<h;P++)d.push(f[g+P]);if(C>1)for(const P of S){const B=P*h;if(!(f[B+nl]<=n)){f[B+nl]=n;for(let k=0;k<h;k++)d.push(f[B+k])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+io]>1){const o=this.clusterProps[e[n+s4]];return r?Object.assign({},o):o}const i=this.points[e[n+so]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}}function NC(t,e,n){return{type:"Feature",id:t[e+so],properties:a4(t,e,n),geometry:{type:"Point",coordinates:[Mte(t[e]),Pte(t[e+1])]}}}function a4(t,e,n){const r=t[e+io],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+s4],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+so],point_count:r,point_count_abbreviated:i})}function h0(t){return t/360+.5}function p0(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Mte(t){return(t-.5)*360}function Pte(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function Fte(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Ai{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class L1{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Ai.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ai.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ai.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ote{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Lte(e)}}const Lte=t=>t.map(n=>new L1({position:Ai.getPosition(n),markers:[n]}));class Ute extends Ote{constructor(e){var{maxZoom:n,radius:r=60}=e,i=Fte(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Dte(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!F1(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const o=Ai.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!F1(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new L1({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new L1({markers:[i],position:Ai.getPosition(i)})}}class Vte{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class Bte{render({count:e,position:n},r,i){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,f=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Ai.isAdvancedMarkerAvailable(i)){const g=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");const v={map:i,position:n,zIndex:f,title:c,content:g};return new google.maps.marker.AdvancedMarkerElement(v)}const d={position:n,zIndex:f,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function zte(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Ey{constructor(){zte(Ey,google.maps.OverlayView)}}var Vf;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Vf||(Vf={}));const Hte=(t,e,n)=>{n.fitBounds(e.bounds)};class Gte extends Ey{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new Ute(r),renderer:s=new Bte,onClusterClick:o=Hte}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(Ai.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Vf.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const o of n)o.markers.length==1&&i.add(o.markers[0]);const s=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||Ai.setMap(o.marker,null):s.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(o=>Ai.setMap(o,null)))}google.maps.event.trigger(this,Vf.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ai.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Vte(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Ai.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Vf.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Ai.setMap(r.marker,n)})}}const qte=({clients:t})=>{const e=uu(),n=de.useRef(0);return de.useEffect(()=>{if(!e||!window.google||t.length===0)return;if(Math.abs(t.length-n.current)>0){const i=new google.maps.LatLngBounds;let s=!1;if(t.forEach(o=>{o.lat&&o.lng&&(i.extend({lat:o.lat,lng:o.lng}),s=!0)}),s){e.fitBounds(i);const o=google.maps.event.addListenerOnce(e,"idle",()=>{e.getZoom()>16&&e.setZoom(16)});return n.current=t.length,()=>google.maps.event.removeListener(o)}}},[e,t]),null},jte=()=>{const t=uu();return t?E.jsxs("div",{className:"absolute bottom-6 right-4 flex flex-col gap-2 z-10 shadow-lg bg-transparent",children:[E.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)+1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom In",children:E.jsx($1,{className:"w-5 h-5"})}),E.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)-1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom Out",children:E.jsx(YM,{className:"w-5 h-5"})})]}):null},$te=t=>{switch(t){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},IC=t=>{let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=(e&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n},Kte=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,Jte=({clients:t,onClientSelect:e,productFilterActive:n,users:r,isClusteringEnabled:i})=>{const s=uu(),o=de.useRef(null),c=de.useRef([]),f=de.useMemo(()=>{const h=document.createElement("div");return h.innerHTML=Kte,h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="center",h},[]),d=de.useMemo(()=>{const h=new Map;return r&&r.forEach(g=>{let v={bg:"#6B7280",border:"#374151",glyph:"#fff"};g.color?v={bg:g.color,border:"black",glyph:"#fff"}:v={bg:IC(g.id+g.name),border:"black",glyph:"#fff"},h.set(g.id,v)}),h},[r]);return de.useEffect(()=>{if(!s)return;if(!google.maps.marker){console.warn("Google Maps Marker library not loaded. Likely an invalid API Key.");return}o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null,google.maps.event.clearInstanceListeners(S)}),c.current=[],i?o.current=new Gte({map:s,markers:[]}):o.current=null;let h=!0,g=0;const v=200,T=()=>{if(!h||!google.maps.marker)return;const S=t.slice(g,g+v);if(S.length===0)return;const A=S.map(C=>{let P={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(n)P={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const K=d.get(C.salespersonId);K?P=K:C.ownerName?P={bg:IC(C.ownerName),border:"black",glyph:"#fff"}:P=$te(C.region)}let B=null;n&&(B=f.cloneNode(!0),B.style.color=P.glyph);const k={background:P.bg,borderColor:P.border,glyphColor:P.glyph,scale:1};B&&(k.glyph=B);const H=new google.maps.marker.PinElement(k),G=new google.maps.marker.AdvancedMarkerElement({position:{lat:C.lat,lng:C.lng},content:H.element,map:i?null:s,title:C.companyName});return G.addListener("click",()=>{e(C.id)}),G});h&&(i&&o.current&&o.current.addMarkers(A),c.current.push(...A)),g+=v,g<t.length&&requestAnimationFrame(T)};return T(),()=>{h=!1,o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null})}},[s,t,n,e,f,d,i]),E.jsx(qte,{clients:t})},Yte=({clients:t,apiKey:e,onInvalidKey:n,productFilterActive:r,highlightProductTerm:i,activeProductCategory:s,users:o})=>{const c={lat:-14.235,lng:-51.9253},[f,d]=de.useState(null),[h,g]=de.useState(!1),[v,T]=de.useState(!1),[S,A]=de.useState(!0),C=t.find(H=>H.id===f);de.useEffect(()=>(e&&g(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),g(!0)},()=>{window.gm_authFailure=()=>{};const H=document.getElementsByTagName("script");for(let G=H.length-1;G>=0;G--){const K=H[G];K.src&&K.src.includes("maps.googleapis.com/maps/api/js")&&K.parentNode?.removeChild(K)}}),[e]);const P=de.useMemo(()=>{if(!C?.purchasedProducts)return[];const H=!!i,G=s&&s!=="Todos";if(!H&&!G)return C.purchasedProducts;const K=i?i.toLowerCase():"",R=s||"";return[...C.purchasedProducts].sort((N,b)=>{let F=0,O=0;return G&&N.category===R&&(F+=2),G&&b.category===R&&(O+=2),H&&((N.name.toLowerCase().includes(K)||N.sku.toLowerCase().includes(K)||N.brand.toLowerCase().includes(K)||N.factoryCode.toLowerCase().includes(K))&&(F+=1),(b.name.toLowerCase().includes(K)||b.sku.toLowerCase().includes(K)||b.brand.toLowerCase().includes(K)||b.factoryCode.toLowerCase().includes(K))&&(O+=1)),O-F})},[C,i,s]),B=()=>{T(!v)};if(!e)return E.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:E.jsx(Xg,{className:"w-8 h-8"})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),E.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[E.jsx(Xg,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(h)return E.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:E.jsx(ha,{className:"w-8 h-8"})}),E.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),E.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),E.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[E.jsx(Xg,{className:"w-4 h-4"})," Trocar API Key"]})]});const k=v?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-xl overflow-hidden shadow-sm border border-gray-200 relative z-0";return E.jsx("div",{className:k,children:E.jsx(rte,{apiKey:e,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:E.jsxs(t4,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[E.jsx(Jte,{clients:t,onClientSelect:d,productFilterActive:r,users:o,isClusteringEnabled:S}),E.jsx(jte,{}),E.jsxs("div",{className:"absolute top-4 right-16 flex gap-2 z-10",children:[E.jsx("button",{onClick:()=>A(!S),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${S?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:S?"Desativar Agrupamento":"Ativar Agrupamento",children:S?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex -space-x-1",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),E.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):E.jsxs(E.Fragment,{children:[E.jsx(Hc,{className:"w-3 h-3"}),"Solto"]})}),E.jsx("button",{onClick:B,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:v?"Sair da Tela Cheia":"Tela Cheia",children:v?E.jsx(KM,{className:"w-5 h-5"}):E.jsx(GM,{className:"w-5 h-5"})})]}),C&&E.jsx(Nte,{position:{lat:C.lat,lng:C.lng},onCloseClick:()=>d(null),headerContent:E.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[E.jsx(zf,{className:"w-4 h-4 text-blue-600"}),C.companyName]}),children:E.jsx("div",{className:"min-w-[200px] max-w-[280px] p-1",children:E.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[E.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[E.jsx(j1,{className:"w-3 h-3"}),C.city," - ",C.state," (",C.region,")"]}),E.jsxs("p",{className:"flex items-center gap-2",children:[E.jsx(Ms,{className:"w-3 h-3 text-gray-400"}),E.jsx("span",{className:"font-medium text-gray-700",children:C.ownerName||"No informado"})]}),E.jsxs("p",{className:"flex items-center gap-2",children:[E.jsx(t3,{className:"w-3 h-3 text-gray-400"}),E.jsx("span",{className:"font-medium text-gray-700",children:C.contact||"Sem contato"})]}),C.purchasedProducts&&C.purchasedProducts.length>0&&E.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit",children:[E.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[E.jsx("span",{className:"font-bold text-gray-800",children:C.purchasedProducts.length})," Prod."]}),E.jsx("div",{className:"h-3 w-px bg-gray-300"}),E.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[E.jsx("span",{className:"font-bold text-gray-800",children:new Set(C.purchasedProducts.map(H=>H.sku)).size})," SKUs"]})]}),E.jsxs("p",{className:"flex items-start gap-2",children:[E.jsx(Hc,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),E.jsx("span",{className:"leading-tight",children:C.cleanAddress})]}),r&&P.length>0&&E.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[E.jsxs("p",{className:"text-[10px] uppercase font-bold text-rose-600 mb-1 flex items-center gap-1",children:[E.jsx(Gc,{className:"w-3 h-3"}),"Produtos Vendidos (Filtro)"]}),E.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1 pr-1 custom-scrollbar",children:[P.slice(0,3).map((H,G)=>{const K=i?.toLowerCase()||"",R=K&&(H.name.toLowerCase().includes(K)||H.sku.toLowerCase().includes(K)||H.brand.toLowerCase().includes(K)||H.factoryCode.toLowerCase().includes(K));return E.jsxs("div",{className:`${R?"bg-rose-100 border-rose-300":"bg-rose-50 border-rose-100"} p-1.5 rounded border flex justify-between items-center transition-colors`,children:[E.jsxs("div",{className:"flex flex-col overflow-hidden max-w-[120px]",children:[E.jsx("span",{className:`truncate font-medium ${R?"text-rose-950 font-bold":"text-rose-900"}`,title:H.name,children:H.name}),E.jsxs("span",{className:"text-[9px] text-gray-500 truncate",children:[H.sku,"  ",H.brand]})]}),E.jsx("span",{className:"text-rose-700 font-bold",children:H.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},G)}),P.length>3&&E.jsxs("p",{className:"text-[10px] text-center text-gray-400 italic",children:["e mais ",P.length-3," itens..."]})]})]}),E.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[E.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[E.jsx(K1,{className:"w-3 h-3 mr-1"}),C.category.join(", ")]}),E.jsx("a",{href:C.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${C.lat},${C.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},Wte=({client:t,isOpen:e,onClose:n,onSave:r})=>{const[i,s]=de.useState(()=>({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]}));if(kn.useEffect(()=>{s({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]})},[t]),!e)return null;const o=f=>{f.preventDefault(),r(i),n()},c=f=>{const{name:d,value:h}=f.target;s(g=>{const v={[d]:h};return d==="state"&&(v.region=J1(h)),{...g,...v}})};return E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx(zf,{className:"w-5 h-5 text-primary"}),E.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),E.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),E.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:t.id})]}),E.jsx("button",{onClick:n,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",children:E.jsx(pa,{className:"w-6 h-6"})})]}),E.jsxs("form",{onSubmit:o,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),E.jsx("input",{type:"text",name:"companyName",value:i.companyName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),E.jsx("input",{type:"text",name:"ownerName",value:i.ownerName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Contato"}),E.jsx("input",{type:"text",name:"contact",value:i.contact,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),E.jsxs("div",{className:"md:col-span-1",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),E.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Hf.filter(f=>f!=="Todos").map(f=>{const d=i.category.includes(f);return E.jsx("button",{type:"button",onClick:()=>{s(h=>{const g=h.category||[];return g.includes(f)?g.length===1?h:{...h,category:g.filter(v=>v!==f)}:{...h,category:[...g,f]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${d?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:f},f)})})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{name:"region",value:i.region,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",children:[E.jsx("option",{value:"Indefinido",children:"Indefinido"}),Ap.map(f=>E.jsx("option",{value:f,children:f},f))]}),E.jsx(j1,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Municpio"}),E.jsx("input",{type:"text",name:"city",value:i.city,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"UF"}),E.jsx("input",{type:"text",name:"state",maxLength:2,value:i.state,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all uppercase"})]})]}),E.jsxs("div",{className:"space-y-1 pt-2",children:[E.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),E.jsx("input",{type:"text",name:"cleanAddress",value:i.cleanAddress,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]})]}),E.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[E.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),E.jsxs("button",{type:"submit",onClick:o,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[E.jsx(pd,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},Zte=({isOpen:t,onClose:e,onAdd:n,salespersonId:r,ownerName:i})=>{const[s,o]=de.useState({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),[c,f]=de.useState(""),[d,h]=de.useState(!1);if(de.useEffect(()=>{t&&(o({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),f(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async S=>{},S=>{console.warn("Location access denied or error:",S)}))},[t]),!t)return null;const g=(S,A)=>{o(C=>{const P={[S]:A};return S==="state"&&(P.region=J1(A)),{...C,...P}}),c&&f("")},v=S=>{o(A=>{const C=A.category;return C.includes(S)?C.length===1?A:{...A,category:C.filter(P=>P!==S)}:{...A,category:[...C,S]}})},T=S=>{if(S.preventDefault(),!s.companyName||!s.originalAddress||!s.city||!s.state||!s.contact){f("Por favor, preencha todos os campos obrigatrios (*).");return}h(!0);const A=`${s.originalAddress}, ${s.city} - ${s.state}`;n({companyName:s.companyName,ownerName:s.ownerName||"No Informado",contact:s.contact,category:s.category,region:s.region,state:s.state,city:s.city,originalAddress:A,salespersonId:r,googleMapsUri:""}),h(!1),e()};return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx(zf,{className:"w-5 h-5 text-primary"}),E.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),E.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),E.jsx("button",{onClick:e,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:E.jsx(pa,{className:"w-6 h-6"})})]}),E.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:E.jsxs("form",{id:"add-client-form",onSubmit:T,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),E.jsx("input",{type:"text",required:!0,value:s.companyName,onChange:S=>g("companyName",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),E.jsx("input",{type:"text",value:s.ownerName,onChange:S=>g("ownerName",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),E.jsx("input",{type:"text",required:!0,value:s.contact,onChange:S=>g("contact",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),E.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Hf.filter(S=>S!=="Todos").map(S=>{const A=s.category.includes(S);return E.jsx("button",{type:"button",onClick:()=>v(S),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${A?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:S},S)})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),E.jsxs("div",{className:"relative",children:[E.jsx("select",{value:s.region,onChange:S=>g("region",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:Ap.map(S=>E.jsx("option",{value:S,children:S},S))}),E.jsx(j1,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),E.jsx("input",{type:"text",required:!0,value:s.city,onChange:S=>g("city",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),E.jsxs("div",{className:"relative",children:[E.jsx("select",{required:!0,value:s.state,onChange:S=>g("state",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(S=>E.jsx("option",{value:S,children:S},S))}),E.jsx(Hc,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),E.jsx("textarea",{rows:2,required:!0,value:s.originalAddress,onChange:S=>g("originalAddress",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none resize-none transition-colors",placeholder:"Rua, Nmero, Bairro, CEP"}),E.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),c&&E.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[E.jsx(ha,{className:"w-5 h-5"}),c]}),E.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:E.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[E.jsx(Hc,{className:"w-4 h-4 shrink-0"}),E.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})})]})}),E.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[E.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),E.jsx("button",{type:"submit",disabled:d,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:d?"Salvando...":E.jsxs(E.Fragment,{children:[E.jsx(pd,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},Xte=({isOpen:t,onClose:e,client:n,products:r,onSave:i,productCategories:s})=>{const[o,c]=de.useState(""),[f,d]=de.useState("Todos"),[h,g]=de.useState([]);kn.useEffect(()=>{n&&n.purchasedProducts?g(n.purchasedProducts.map(A=>A.sku)):g([])},[n]);const v=de.useMemo(()=>r.filter(A=>{const C=A.name.toLowerCase().includes(o.toLowerCase())||A.sku.toLowerCase().includes(o.toLowerCase())||A.brand.toLowerCase().includes(o.toLowerCase()),P=f==="Todos"||A.category===f;return C&&P}),[r,o,f]),T=A=>{g(C=>C.includes(A)?C.filter(P=>P!==A):[...C,A])},S=()=>{if(!n)return;const A=r.filter(C=>h.includes(C.sku));i(n.id,A),e()};return!t||!n?null:E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",children:[E.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[E.jsx(Gc,{className:"w-5 h-5 text-blue-600"}),"Atribuir Produtos"]}),E.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",E.jsx("span",{className:"font-semibold text-gray-700",children:n.companyName})]})]}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:E.jsx(pa,{className:"w-5 h-5 text-gray-500"})})]}),E.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-3 bg-white z-10",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx(Bf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsx("input",{type:"text",placeholder:"Buscar por nome, SKU, marca...",value:o,onChange:A=>c(A.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),E.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[E.jsx("option",{value:"Todos",children:"Todas Categorias"}),s.map(A=>E.jsx("option",{value:A,children:A},A))]})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:v.length===0?E.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:E.jsx("p",{children:"Nenhum produto encontrado."})}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:v.map(A=>{const C=h.includes(A.sku);return E.jsx("div",{onClick:()=>T(A.sku),className:`
                      relative p-3 rounded-xl border cursor-pointer transition-all duration-200 group
                      ${C?"bg-blue-50 border-blue-500 shadow-sm":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                    `,children:E.jsxs("div",{className:"flex justify-between items-start gap-2",children:[E.jsxs("div",{className:"min-w-0",children:[E.jsx("p",{className:`text-sm font-medium truncate ${C?"text-blue-800":"text-gray-800"}`,children:A.name}),E.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",A.sku,"  ",A.brand]}),E.jsx("p",{className:"text-xs font-bold text-gray-700 mt-1",children:A.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),E.jsx("div",{className:`
                        w-5 h-5 rounded-full border flex items-center justify-center transition-colors
                        ${C?"bg-blue-500 border-blue-500":"border-gray-300 group-hover:border-blue-400"}
                      `,children:C&&E.jsx(Rc,{className:"w-3.5 h-3.5 text-white"})})]})},A.sku)})})}),E.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center",children:[E.jsxs("div",{className:"text-sm text-gray-600",children:[E.jsx("span",{className:"font-bold text-blue-600",children:h.length})," produtos selecionados"]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),E.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-transform active:scale-95",children:[E.jsx(pd,{className:"w-4 h-4"}),"Salvar Atribuio"]})]})]})]})})},Qte=({clients:t,onUpdateClient:e,onAddClient:n,currentUserRole:r,currentUserId:i,currentUserName:s,products:o=[],productCategories:c=[]})=>{const[f,d]=de.useState(""),[h,g]=de.useState("Todos"),[v,T]=de.useState("Todos"),[S,A]=de.useState(null),[C,P]=de.useState(!1),[B,k]=de.useState(!1),[H,G]=de.useState(!1),[K,R]=de.useState(null),N=de.useMemo(()=>t.filter(ie=>{const se=ie.companyName.toLowerCase().includes(f.toLowerCase())||ie.ownerName.toLowerCase().includes(f.toLowerCase()),le=h==="Todos"||ie.region===h,ce=v==="Todos"||Array.isArray(ie.category)&&ie.category.some(ae=>ae.trim()===v.trim());return se&&le&&ce}),[t,f,h,v]),b=()=>{const ie=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","Produtos Comprados","Link Maps"],se=N.map(V=>[V.id,V.companyName,V.ownerName,V.contact,V.cleanAddress,V.city,V.state,V.region,V.category.join("; "),V.purchasedProducts?V.purchasedProducts.map(X=>X.sku).join("; "):"",V.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${V.lat},${V.lng}`]),le=V=>{if(V==null)return"";const X=String(V);return X.includes('"')||X.includes(",")||X.includes(`
`)?`"${X.replace(/"/g,'""')}"`:X},ce=[ie.join(","),...se.map(V=>V.map(le).join(","))].join(`
`),ae=new Blob([`\uFEFF${ce}`],{type:"text/csv;charset=utf-8;"}),Me=URL.createObjectURL(ae),W=document.createElement("a");W.setAttribute("href",Me),W.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(W),W.click(),document.body.removeChild(W)},F=ie=>{A(ie),P(!0)},O=ie=>{R(ie),G(!0)},D=(ie,se)=>{const le=t.find(ce=>ce.id===ie);if(le){const ce={...le,purchasedProducts:se};e(ce)}},U=({client:ie,style:se})=>E.jsx("div",{style:se,className:"p-2",children:E.jsxs("div",{className:"h-full bg-surface-container-low border border-outline-variant/30 rounded-xl p-4 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden flex flex-col",children:[E.jsx("div",{className:"absolute top-0 right-0 p-0",children:E.jsx("span",{className:`px-3 py-1 rounded-bl-xl text-[10px] font-bold uppercase tracking-wider
                        ${ie.region==="Nordeste"?"bg-orange-100 text-orange-800":ie.region==="Sudeste"?"bg-blue-100 text-blue-800":ie.region==="Sul"?"bg-purple-100 text-purple-800":ie.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:ie.region})}),E.jsxs("div",{className:"flex items-start gap-4 pr-12 mb-2",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:ie.companyName.charAt(0).toUpperCase()}),E.jsxs("div",{className:"min-w-0 flex-1",children:[E.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",title:ie.companyName,children:ie.companyName}),E.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant mt-0.5",children:[E.jsx(K1,{className:"w-3 h-3"}),E.jsx("span",{className:"truncate",children:ie.category.join(", ")})]}),ie.purchasedProducts&&ie.purchasedProducts.length>0&&E.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 w-fit",children:[E.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[" ",E.jsx("span",{className:"font-bold text-gray-800",children:ie.purchasedProducts.length})," Prod."]}),E.jsx("div",{className:"h-3 w-px bg-gray-300"}),E.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[" ",E.jsx("span",{className:"font-bold text-gray-800",children:new Set(ie.purchasedProducts.map(le=>le.sku)).size})," SKUs"]})]}),ie.purchasedProducts&&ie.purchasedProducts.length>0&&E.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ie.purchasedProducts.slice(0,2).map((le,ce)=>E.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:le.name,children:le.sku},ce)),ie.purchasedProducts.length>2&&E.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",ie.purchasedProducts.length-2]})]})]})]}),E.jsxs("div",{className:"space-y-2 flex-grow",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[E.jsx(zf,{className:"w-4 h-4 shrink-0"}),E.jsx("span",{className:"truncate",children:ie.ownerName})]}),E.jsxs("div",{className:"flex items-start gap-2 text-sm text-on-surface-variant group/link",children:[E.jsx(Hc,{className:"w-4 h-4 shrink-0 mt-0.5"}),E.jsx("span",{className:"line-clamp-2",children:ie.cleanAddress})]})]}),E.jsxs("div",{className:"mt-4 pt-3 border-t border-outline-variant/30 flex items-center justify-between",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>O(ie),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Atribuir Produtos",children:E.jsx(Gc,{className:"w-4 h-4"})}),E.jsx("a",{href:ie.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${ie.lat},${ie.lng}`,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-on-surface-variant hover:text-primary hover:bg-surface-container-highest rounded-lg transition-colors",title:"Ver rota no Google Maps",children:E.jsx(e2,{className:"w-4 h-4"})})]}),E.jsxs("button",{onClick:()=>F(ie),className:"flex items-center gap-1.5 text-xs font-bold text-primary hover:text-primary/80 transition-colors px-3 py-1.5 rounded-lg active:bg-surface-container-highest",children:[E.jsx(XM,{className:"w-3 h-3"})," Editar"]})]})]})}),fe=({client:ie})=>E.jsxs("div",{className:"p-4 border-b border-gray-100 last:border-0 bg-white",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900",children:ie.companyName}),E.jsx("p",{className:"text-xs text-gray-500",children:ie.category.join(", ")}),ie.purchasedProducts&&ie.purchasedProducts.length>0&&E.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[ie.purchasedProducts.slice(0,3).map((se,le)=>E.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:se.name,children:se.sku},le)),ie.purchasedProducts.length>3&&E.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",ie.purchasedProducts.length-3]})]})]}),E.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase
              ${ie.region==="Nordeste"?"bg-orange-100 text-orange-800":ie.region==="Sudeste"?"bg-blue-100 text-blue-800":ie.region==="Sul"?"bg-purple-100 text-purple-800":ie.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
           `,children:ie.region})]}),E.jsxs("div",{className:"space-y-1 mb-3",children:[E.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[E.jsx(zf,{className:"w-4 h-4 text-gray-400"})," ",ie.ownerName]}),E.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[E.jsx(Hc,{className:"w-4 h-4 text-gray-400"})," ",E.jsx("span",{className:"truncate",children:ie.cleanAddress})]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>F(ie),className:"flex-1 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg text-center",children:"Editar"}),E.jsxs("button",{onClick:()=>O(ie),className:"flex-1 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg text-center flex items-center justify-center gap-1",children:[E.jsx(Gc,{className:"w-4 h-4"})," Produtos"]}),E.jsx("a",{href:ie.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${ie.lat},${ie.lng}`,target:"_blank",className:"flex-none p-2 text-gray-600 bg-gray-100 rounded-lg flex items-center justify-center",children:E.jsx(e2,{className:"w-5 h-5"})})]})]});return E.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[E.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-col md:flex-row gap-4 items-center justify-between bg-white z-10 sticky top-0 md:relative shadow-sm md:shadow-none",children:[E.jsxs("div",{className:"relative w-full md:max-w-xs group",children:[E.jsx(Bf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-primary transition-colors"}),E.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-none rounded-full text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-on-surface-variant/50",value:f,onChange:ie=>d(ie.target.value)})]}),E.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 hide-scrollbar",children:[E.jsxs("select",{value:h,onChange:ie=>g(ie.target.value),className:"px-3 py-2 bg-surface-container-highest border-none rounded-lg text-sm font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",children:[E.jsx("option",{value:"Todos",children:"Todas Regies"}),Ap.map(ie=>E.jsx("option",{value:ie,children:ie},ie))]}),E.jsxs("select",{value:v,onChange:ie=>T(ie.target.value),className:"px-3 py-2 bg-surface-container-highest border-none rounded-lg text-sm font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",children:[E.jsx("option",{value:"Todos",children:"Todos Segmentos"}),Hf.filter(ie=>ie!=="Todos").map(ie=>E.jsx("option",{value:ie,children:ie},ie))]}),E.jsxs("div",{className:"md:ml-auto flex items-center gap-2 pl-2 border-l border-gray-200",children:[r&&Sf(r)&&n&&E.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95 whitespace-nowrap",children:[E.jsx($1,{className:"w-4 h-4"})," Novo"]}),E.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-white border border-outline-variant/30 text-on-surface hover:bg-surface-container-highest rounded-lg text-sm font-bold transition-colors shadow-sm whitespace-nowrap",children:[E.jsx(wM,{className:"w-4 h-4"})," Exportar"]})]})]})]}),E.jsxs("div",{className:"p-2 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Exibindo ",N.length," de ",t.length," clientes"]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar bg-gray-50",children:[E.jsx("div",{className:"md:hidden flex flex-col gap-0 bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:N.map(ie=>E.jsx(fe,{client:ie},ie.id))}),E.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:N.map(ie=>E.jsx(U,{client:ie,style:{}},ie.id))}),N.length===0&&E.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[E.jsx(GC,{className:"w-12 h-12 mb-2 opacity-20"}),E.jsx("p",{className:"text-lg font-medium",children:"Nenhum cliente encontrado"}),E.jsx("p",{className:"text-sm",children:"Tente ajustar seus filtros de busca"})]})]}),S&&C&&E.jsx(Wte,{isOpen:C,onClose:()=>P(!1),client:S,onSave:ie=>{e(ie),P(!1)},currentUserRole:r}),B&&n&&E.jsx(Zte,{isOpen:B,onClose:()=>k(!1),onSave:ie=>{n(ie),k(!1)},currentUserId:i,currentUserName:s}),E.jsx(Xte,{isOpen:H,onClose:()=>G(!1),client:K,products:o,productCategories:c,onSave:D})]})},ene="modulepreload",tne=function(t){return"/Rota-de-Vendas/"+t},RC={},U1=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var o=d;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");i=d(n.map(h=>{if(h=tne(h),h in RC)return;RC[h]=!0;const g=h.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":ene,g||(T.as="script"),T.crossOrigin="",T.href=h,f&&T.setAttribute("nonce",f),document.head.appendChild(T),g)return new Promise((S,A)=>{T.addEventListener("load",S),T.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return i.then(c=>{for(const f of c||[])f.status==="rejected"&&s(f.reason);return e().catch(s)})};var V1=function(){return V1=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},V1.apply(this,arguments)},B1,nne=function(t){var e;t?(function(n){if(n)for(;n.lastChild;)n.lastChild.remove()})(typeof t=="string"?document.getElementById(t):t):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},rne=function(t,e){nne(e),window.___grecaptcha_cfg=void 0;var n=document.querySelector("#"+t);n&&n.remove(),(function(){var r=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');r&&r.remove()})()},ine=function(t){var e=t.render,n=t.onLoadCallbackName,r=t.language,i=t.onLoad,s=t.useRecaptchaNet,o=t.useEnterprise,c=t.scriptProps,f=c===void 0?{}:c,d=f.nonce,h=d===void 0?"":d,g=f.defer,v=g!==void 0&&g,T=f.async,S=T!==void 0&&T,A=f.id,C=A===void 0?"":A,P=f.appendTo,B=C||"google-recaptcha-v3";if((function(G){return!!document.querySelector("#"+G)})(B))i();else{var k=(function(G){return"https://www."+(G.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(G.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:o,useRecaptchaNet:s}),H=document.createElement("script");H.id=B,H.src=k+"?render="+e+(e==="explicit"?"&onload="+n:"")+(r?"&hl="+r:""),h&&(H.nonce=h),H.defer=!!v,H.async=!!S,H.onload=i,(P==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(H)}},kC=function(t){console.warn(t)};(function(t){t.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(B1||(B1={}));var Ty=de.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});Ty.Consumer;function DC(t){var e=t.reCaptchaKey,n=t.useEnterprise,r=n!==void 0&&n,i=t.useRecaptchaNet,s=i!==void 0&&i,o=t.scriptProps,c=t.language,f=t.container,d=t.children,h=de.useState(null),g=h[0],v=h[1],T=de.useRef(e),S=JSON.stringify(o),A=JSON.stringify(f?.parameters);de.useEffect((function(){if(e){var B=o?.id||"google-recaptcha-v3",k=o?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[k]=function(){var H=r?window.grecaptcha.enterprise:window.grecaptcha,G=V1({badge:"inline",size:"invisible",sitekey:e},f?.parameters||{});T.current=H.render(f?.element,G)},ine({render:f?.element?"explicit":e,onLoadCallbackName:k,useEnterprise:r,useRecaptchaNet:s,scriptProps:o,language:c,onLoad:function(){if(window&&window.grecaptcha){var H=r?window.grecaptcha.enterprise:window.grecaptcha;H.ready((function(){v(H)}))}else kC("<GoogleRecaptchaProvider /> "+B1.SCRIPT_NOT_AVAILABLE)}}),function(){rne(B,f?.element)}}kC("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[r,s,S,A,c,e,f?.element]);var C=de.useCallback((function(B){if(!g||!g.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return g.execute(T.current,{action:B})}),[g,T]),P=de.useMemo((function(){return{executeRecaptcha:g?C:void 0,container:f?.element}}),[C,g,f?.element]);return kn.createElement(Ty.Provider,{value:P},d)}var sne=function(){return de.useContext(Ty)};function o4(t,e){return t(e={exports:{}},e.exports),e.exports;}var hr=typeof Symbol=="function"&&Symbol.for,z1=hr?Symbol.for("react.element"):60103,H1=hr?Symbol.for("react.portal"):60106,b0=hr?Symbol.for("react.fragment"):60107,N0=hr?Symbol.for("react.strict_mode"):60108,I0=hr?Symbol.for("react.profiler"):60114,R0=hr?Symbol.for("react.provider"):60109,k0=hr?Symbol.for("react.context"):60110,G1=hr?Symbol.for("react.async_mode"):60111,wp=hr?Symbol.for("react.concurrent_mode"):60111,D0=hr?Symbol.for("react.forward_ref"):60112,M0=hr?Symbol.for("react.suspense"):60113,ane=hr?Symbol.for("react.suspense_list"):60120,P0=hr?Symbol.for("react.memo"):60115,F0=hr?Symbol.for("react.lazy"):60116,one=hr?Symbol.for("react.block"):60121,lne=hr?Symbol.for("react.fundamental"):60117,cne=hr?Symbol.for("react.responder"):60118,une=hr?Symbol.for("react.scope"):60119;function wi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case z1:switch(t=t.type){case G1:case wp:case b0:case I0:case N0:case M0:return t;default:switch(t=t&&t.$$typeof){case k0:case D0:case F0:case P0:case R0:return t;default:return e}}case H1:return e}}}function MC(t){return wi(t)===wp}var fne={AsyncMode:G1,ConcurrentMode:wp,ContextConsumer:k0,ContextProvider:R0,Element:z1,ForwardRef:D0,Fragment:b0,Lazy:F0,Memo:P0,Portal:H1,Profiler:I0,StrictMode:N0,Suspense:M0,isAsyncMode:function(t){return MC(t)||wi(t)===G1},isConcurrentMode:MC,isContextConsumer:function(t){return wi(t)===k0},isContextProvider:function(t){return wi(t)===R0},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===z1},isForwardRef:function(t){return wi(t)===D0},isFragment:function(t){return wi(t)===b0},isLazy:function(t){return wi(t)===F0},isMemo:function(t){return wi(t)===P0},isPortal:function(t){return wi(t)===H1},isProfiler:function(t){return wi(t)===I0},isStrictMode:function(t){return wi(t)===N0},isSuspense:function(t){return wi(t)===M0},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===b0||t===wp||t===I0||t===N0||t===M0||t===ane||typeof t=="object"&&t!==null&&(t.$$typeof===F0||t.$$typeof===P0||t.$$typeof===R0||t.$$typeof===k0||t.$$typeof===D0||t.$$typeof===lne||t.$$typeof===cne||t.$$typeof===une||t.$$typeof===one)},typeOf:wi},cn=o4((function(t,e){})),PC=(cn.AsyncMode,cn.ConcurrentMode,cn.ContextConsumer,cn.ContextProvider,cn.Element,cn.ForwardRef,cn.Fragment,cn.Lazy,cn.Memo,cn.Portal,cn.Profiler,cn.StrictMode,cn.Suspense,cn.isAsyncMode,cn.isConcurrentMode,cn.isContextConsumer,cn.isContextProvider,cn.isElement,cn.isForwardRef,cn.isFragment,cn.isLazy,cn.isMemo,cn.isPortal,cn.isProfiler,cn.isStrictMode,cn.isSuspense,cn.isValidElementType,cn.typeOf,o4((function(t){t.exports=fne}))),dne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FC={};FC[PC.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},FC[PC.Memo]=dne;const hne=({users:t,onLogin:e})=>{const[n,r]=de.useState("login"),[i,s]=de.useState(""),[o,c]=de.useState(""),[f,d]=de.useState(""),[h,g]=de.useState(""),[v,T]=de.useState(""),[S,A]=de.useState(""),[C,P]=de.useState(!1),{executeRecaptcha:B}=sne(),[k,H]=de.useState(!1),G=async F=>{if(F.preventDefault(),d(""),console.log("[CAPTCHA] Key configured:","MISSING"),console.log("[CAPTCHA] executeRecaptcha available:",!!B),!B){console.error("[CAPTCHA] executeRecaptcha not available - Provider may not be loaded"),d(" Sistema de segurana no carregado. Recarregue a pgina.");return}H(!0);try{console.log("[CAPTCHA] Executing reCAPTCHA verification...");const O=await B("login");if(console.log("[CAPTCHA] Token received:",O?"Success ":"Failed "),console.log("[CAPTCHA] Token length:",O?.length||0),!O)throw new Error("reCAPTCHA token is empty");console.log("[AUTH] CAPTCHA passed, validating credentials...");let D=t;try{const{loadFromCloud:fe}=await U1(async()=>{const{loadFromCloud:se}=await Promise.resolve().then(()=>$ee);return{loadFromCloud:se}},void 0),ie=await fe();ie&&ie.users&&(console.log("[AUTH] Fetched fresh users from cloud for validation"),D=ie.users)}catch(fe){console.warn("[AUTH] Failed to fetch fresh users, using prop users",fe)}const U=D.find(fe=>fe.username.toLowerCase()===i.toLowerCase());U&&U.password===o?(console.log("[AUTH] Login successful "),e(U)):(console.warn("[AUTH] Invalid credentials"),d(" Credenciais invlidas. Verifique usurio e senha."))}catch(O){console.error("[CAPTCHA] Error details:",{message:O?.message,name:O?.name,stack:O?.stack,error:O}),O?.message?.includes("Invalid site key")?d(" Erro de configurao: Chave reCAPTCHA invlida. Contate o administrador."):O?.message?.includes("network")?d(" Erro de rede. Verifique sua conexo e tente novamente."):d(` Falha na verificao de segurana: ${O?.message||"Erro desconhecido"}. Tente novamente.`)}finally{H(!1)}},K=()=>{d(""),A(""),g(""),T("")},R=F=>{K(),r(F)},N=async F=>{F.preventDefault(),d(""),P(!0),await new Promise(D=>setTimeout(D,1500));const O=t.find(D=>D.email?.toLowerCase()===h.toLowerCase());A(O?`Seu usurio foi enviado para: ${h}`:"Se este e-mail estiver cadastrado, voc receber seu usurio em breve."),P(!1)},b=async F=>{F.preventDefault(),d(""),P(!0),await new Promise(D=>setTimeout(D,1500));const O=t.find(D=>D.username.toLowerCase()===v.toLowerCase()||D.email?.toLowerCase()===v.toLowerCase());O&&O.email?A(`Instrues de redefinio enviadas para: ${O.email}`):A("Se os dados estiverem corretos, enviamos as instrues para o seu e-mail de cadastro."),P(!1)};return E.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[E.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),E.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[E.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[n!=="login"&&E.jsx("button",{onClick:()=>R("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:E.jsx(iM,{className:"w-6 h-6"})}),E.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:E.jsx(o3,{className:"w-7 h-7 text-white"})}),E.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),E.jsxs("div",{className:"p-8 space-y-6",children:[n==="login"&&E.jsxs("form",{onSubmit:G,className:"space-y-6 pt-2 animate-fade-in",children:[E.jsx("div",{className:"text-center pb-2",children:E.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),E.jsxs("div",{className:"relative",children:[E.jsx(Ms,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),E.jsx("input",{type:"text",value:i,onChange:F=>s(F.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),E.jsx("div",{className:"text-right mt-1",children:E.jsx("button",{type:"button",onClick:()=>R("forgot_user"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci o usurio"})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx(Dv,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),E.jsx("input",{type:"password",value:o,onChange:F=>c(F.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),E.jsx("div",{className:"text-right mt-1",children:E.jsx("button",{type:"button",onClick:()=>R("forgot_pass"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci a senha"})})]})]}),f&&E.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[E.jsx(ha,{className:"w-4 h-4 flex-shrink-0"}),f]}),E.jsx("button",{type:"submit",disabled:k,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-wait text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:k?E.jsxs(E.Fragment,{children:[E.jsx(jC,{className:"w-4 h-4 animate-pulse"}),"Verificando segurana..."]}):E.jsxs(E.Fragment,{children:["Entrar ",E.jsx(aM,{className:"w-4 h-4"})]})})]}),n==="forgot_user"&&E.jsxs("div",{className:"animate-fade-in space-y-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Ms,{className:"w-8 h-8 text-blue-600"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recuperar Usurio"}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu e-mail cadastrado. Enviaremos seu nome de usurio para ele."})]}),S?E.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[E.jsx(O0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),E.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"E-mail Enviado!"}),E.jsx("p",{className:"text-sm text-green-700",children:S}),E.jsx("button",{onClick:()=>R("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):E.jsxs("form",{onSubmit:N,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"E-mail Cadastrado"}),E.jsxs("div",{className:"relative",children:[E.jsx(UM,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),E.jsx("input",{type:"email",required:!0,value:h,onChange:F=>g(F.target.value),placeholder:"exemplo@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),E.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Recuperar Usurio",!C&&E.jsx(r2,{className:"w-4 h-4"})]})]})]}),n==="forgot_pass"&&E.jsxs("div",{className:"animate-fade-in space-y-6",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"bg-orange-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Dv,{className:"w-8 h-8 text-orange-600"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Redefinir Senha"}),E.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu usurio ou e-mail. Enviaremos as instrues de redefinio."})]}),S?E.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[E.jsx(O0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),E.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"Sucesso!"}),E.jsx("p",{className:"text-sm text-green-700",children:S}),E.jsx("button",{onClick:()=>R("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):E.jsxs("form",{onSubmit:b,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio ou E-mail"}),E.jsxs("div",{className:"relative",children:[E.jsx(Ms,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),E.jsx("input",{type:"text",required:!0,value:v,onChange:F=>T(F.target.value),placeholder:"Digite seu usurio ou email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),E.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Enviar Instrues",!C&&E.jsx(r2,{className:"w-4 h-4"})]})]})]})]})]})]})},pne=(t,e=200,n=200,r=.7)=>new Promise((i,s)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=c=>{const f=new Image;f.src=c.target?.result,f.onload=()=>{const d=document.createElement("canvas");let h=f.width,g=f.height;h>g?h>e&&(g=Math.round(g*=e/h),h=e):g>n&&(h=Math.round(h*=n/g),g=n),d.width=h,d.height=g;const v=d.getContext("2d");if(!v){s(new Error("Could not get canvas context"));return}v.drawImage(f,0,0,h,g);const T=d.toDataURL("image/jpeg",r);i(T)},f.onerror=d=>s(d)},o.onerror=c=>s(c)}),mne=({currentUser:t,users:e,onAddUser:n,onUpdateUser:r,onDeleteUser:i,onCleanupDuplicates:s,totalClients:o})=>{const[c,f]=de.useState(null),[d,h]=de.useState(""),[g,v]=de.useState(""),[T,S]=de.useState(""),A=w3(t.role),C=A.includes("sales_external")?"sales_external":A[0],[P,B]=de.useState(C),[k,H]=de.useState("Externo"),[G,K]=de.useState("#3B82F6"),[R,N]=de.useState(void 0),b=de.useRef(null),[F,O]=de.useState("Todos"),D=()=>{f(null),h(""),v(""),S(""),B(C),H("Externo"),K("#3B82F6"),N(void 0),b.current&&(b.current.value="")},U=ce=>{if(!ev(t.role,ce.role)){alert("Voc no tem permisso para editar este usurio (Nvel Hierrquico Superior ou Igual).");return}f(ce.id),h(ce.name),v(ce.username),S(ce.password||""),B(T3(ce.role)),H(ce.salesCategory||"N/A"),K(ce.color||"#3B82F6"),N(ce.photoURL),window.scrollTo({top:0,behavior:"smooth"})},fe=async ce=>{const ae=ce.target.files?.[0];if(ae){if(!["image/jpeg","image/png"].includes(ae.type)){alert("Apenas imagens JPEG ou PNG so permitidas.");return}if(ae.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB.");return}try{const Me=await pne(ae);N(Me)}catch(Me){console.error("Erro ao processar imagem:",Me),alert("Erro ao processar a imagem. Tente novamente.")}}},ie=ce=>{if(ce.preventDefault(),!d||!g||!T)return;const ae=fi[P]>=4,Me={id:c||Date.now().toString(),name:d,username:g,role:P,password:T,salesCategory:ae?k:"N/A",color:ae?G:void 0,photoURL:R};c?r(Me):n(Me),D()},se=e.filter(ce=>F==="Todos"||F==="N/A"&&fi[ce.role]<=2?!0:ce.salesCategory===F),le=["Todos","Externo","Interno","Mercado Livre"];return E.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[E.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${c?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${c?"text-primary":"text-on-surface"}`,children:[c?E.jsx(Qg,{className:"w-5 h-5"}):E.jsx(s2,{className:"w-5 h-5 text-primary"}),c?"Editar Usurio":"Cadastrar Novo Usurio"]}),c&&E.jsxs("button",{onClick:D,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[E.jsx(pa,{className:"w-4 h-4"})," Cancelar Edio"]})]}),E.jsxs("form",{onSubmit:ie,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[E.jsxs("div",{className:"lg:col-span-3 flex justify-center mb-4",children:[E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:`w-24 h-24 rounded-full overflow-hidden border-2 flex items-center justify-center bg-surface-container-highest ${R?"border-primary":"border-dashed border-outline-variant"}`,children:R?E.jsx("img",{src:R,alt:"Profile",className:"w-full h-full object-cover"}):E.jsx(Ms,{className:"w-10 h-10 text-on-surface-variant/50"})}),E.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-primary text-on-primary rounded-full shadow-md cursor-pointer hover:bg-primary/90 transition-colors",title:"Alterar foto",children:[E.jsx(hM,{className:"w-4 h-4"}),E.jsx("input",{id:"photo-upload",type:"file",accept:"image/jpeg, image/png",onChange:fe,className:"hidden",ref:b})]}),R&&E.jsx("button",{type:"button",onClick:()=>{N(void 0),b.current&&(b.current.value="")},className:"absolute -top-1 -right-1 p-1 bg-error text-white rounded-full shadow-md hover:bg-error/90 transition-colors",title:"Remover foto",children:E.jsx(pa,{className:"w-3 h-3"})})]}),E.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[E.jsx("span",{className:"text-sm font-medium text-on-surface",children:"Foto de Perfil"}),E.jsx("span",{className:"text-xs text-on-surface-variant",children:"JPG ou PNG at 2MB."})]})]}),E.jsxs("div",{className:"lg:col-span-2",children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),E.jsx("input",{type:"text",value:d,onChange:ce=>h(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),E.jsx("input",{type:"text",value:g,onChange:ce=>v(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),E.jsx("input",{type:"text",value:T,onChange:ce=>S(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),E.jsx("select",{value:P,onChange:ce=>B(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:A.map(ce=>E.jsx("option",{value:ce,children:$C[ce]||ce},ce))}),E.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 pl-1",children:"* Voc s pode criar nveis abaixo do seu."})]}),fi[P]>=4&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"animate-fade-in",children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),E.jsxs("select",{value:k,onChange:ce=>H(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[E.jsx("option",{value:"Externo",children:"Externo"}),E.jsx("option",{value:"Interno",children:"Interno"}),E.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),E.jsxs("div",{className:"animate-fade-in",children:[E.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{type:"color",value:G,onChange:ce=>K(ce.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),E.jsx("input",{type:"text",value:G,onChange:ce=>K(ce.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),E.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:E.jsxs("button",{type:"submit",disabled:!d||!g||!T,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${c?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[c?E.jsx(pd,{className:"w-4 h-4"}):E.jsx(s2,{className:"w-4 h-4"}),c?"Salvar Alteraes":"Criar Acesso"]})})]})]}),E.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[E.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[E.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[E.jsx(Ms,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",se.length,")"]}),E.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[E.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[E.jsx(ha,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),E.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",E.jsx("strong",{children:o}),o>143&&E.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),E.jsxs("button",{onClick:s,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[E.jsx(ha,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),E.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:le.map(ce=>E.jsx("button",{onClick:()=>O(ce),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${F===ce?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:ce},ce))})]}),E.jsx("div",{className:"hidden md:block overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),E.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),E.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[se.map(ce=>E.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${c===ce.id?"bg-primary-container/30":""}`,children:[E.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30",children:ce.photoURL?E.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):E.jsx(Ms,{className:"w-4 h-4 text-primary"})}),ce.name]})}),E.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:ce.username}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${fi[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:a2(ce.role)})}),E.jsx("td",{className:"px-6 py-4",children:fi[ce.role]>=4?E.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[E.jsx(HC,{className:"w-3.5 h-3.5"}),ce.salesCategory||"N/A"]}):E.jsx("span",{className:"text-outline-variant",children:"-"})}),E.jsx("td",{className:"px-6 py-4",children:fi[ce.role]>=4&&ce.color?E.jsx("div",{className:"flex items-center gap-2",title:ce.color,children:E.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:ce.color}})}):E.jsx("span",{className:"text-outline-variant",children:"-"})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsx("div",{className:"flex items-center justify-end gap-2",children:ev(t.role,ce.role)?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>U(ce),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:E.jsx(Qg,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>i(ce.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:E.jsx(dl,{className:"w-4 h-4"})})]}):E.jsx("div",{className:"flex items-center gap-2 opacity-30 cursor-not-allowed",children:E.jsx("span",{className:"text-xs italic",children:"Sem permisso"})})})})]},ce.id)),se.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),E.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[se.map(ce=>E.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${c===ce.id?"bg-primary-container/30 border-primary/30":""}`,children:[E.jsxs("div",{className:"flex justify-between items-start mb-3",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30 flex-shrink-0",children:ce.photoURL?E.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):E.jsx(Ms,{className:"w-5 h-5 text-primary"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-on-surface",children:ce.name}),E.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",ce.username]})]})]}),E.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${fi[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:a2(ce.role)})]}),E.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[E.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[E.jsx("span",{children:"Categoria:"}),E.jsx("span",{className:"font-medium text-on-surface",children:ce.salesCategory||"-"})]}),E.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[E.jsx("span",{children:"Senha:"}),E.jsx("span",{className:"font-mono",children:ce.password||"***"})]})]}),E.jsx("div",{className:"flex justify-end gap-2 pt-2",children:ev(t.role,ce.role)&&E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:()=>U(ce),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[E.jsx(Qg,{className:"w-3.5 h-3.5"})," Editar"]}),E.jsxs("button",{onClick:()=>i(ce.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[E.jsx(dl,{className:"w-3.5 h-3.5"})," Remover"]})]})})]},ce.id)),se.length===0&&E.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},gne=({categories:t,onAddCategory:e,onDeleteCategory:n})=>{const[r,i]=de.useState(""),s=o=>{o.preventDefault(),r.trim()&&(e(r.trim()),i(""))};return E.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:E.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[E.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[E.jsx(qC,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),E.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),E.jsxs("form",{onSubmit:s,className:"flex gap-3 mb-8",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx(K1,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),E.jsx("input",{type:"text",value:r,onChange:o=>i(o.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),E.jsxs("button",{type:"submit",disabled:!r.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[E.jsx($1,{className:"w-4 h-4"})," Adicionar"]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[t.map(o=>E.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[E.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[E.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o]}),E.jsx("button",{onClick:()=>n(o),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:E.jsx(dl,{className:"w-4 h-4"})})]},o)),t.length===0&&E.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},vne=({products:t,onUploadProducts:e,onClearProducts:n,onSaveProducts:r,apiKey:i})=>{const[s,o]=de.useState(!1),[c,f]=de.useState(""),[d,h]=de.useState(!1),[g,v]=de.useState({current:0,total:0}),[T,S]=de.useState([]),[A,C]=de.useState(null),[P,B]=de.useState(!1);de.useEffect(()=>{S(t),B(!1)},[t]);const k=async D=>{const U=D.target.files?.[0];if(U){o(!0);try{let fe=[];const ie=U.name.toLowerCase();if(ie.endsWith(".csv"))fe=await Ib(U);else if(ie.endsWith(".xlsx")||ie.endsWith(".xls"))fe=await fI(U);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");e(fe),D.target.value=""}catch(fe){console.error("Error parsing products:",fe),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{o(!1)}}},H=()=>{r&&(r(T),B(!1),alert("Alteraes salvas com sucesso!"))},G=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(T.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${T.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){h(!0),v({current:0,total:T.length});try{const D=await DY(T,i,(U,fe)=>{v({current:U,total:fe})});S(D),B(!0),alert(` ${D.length} produtos foram categorizados pela IA!`)}catch(D){console.error("AI Categorization failed",D),alert(`Erro ao categorizar produtos: ${D.message||"Erro desconhecido"}`)}finally{h(!1),v({current:0,total:0})}}},K=(D,U,fe)=>{const ie=[...T];ie[D]={...ie[D],[U]:fe},S(ie),B(!0)},R=D=>{let U="asc";A&&A.key===D&&A.direction==="asc"&&(U="desc"),C({key:D,direction:U})},N=D=>A?[...D].sort((U,fe)=>{let ie=U[A.key],se=fe[A.key];return A.key==="price"||A.key==="discount"?(ie=Number(ie||0),se=Number(se||0)):(ie=String(ie||"").toLowerCase(),se=String(se||"").toLowerCase()),ie<se?A.direction==="asc"?-1:1:ie>se?A.direction==="asc"?1:-1:0}):D,b=T.map((D,U)=>({...D,originalIndex:U})).filter(D=>D.name.toLowerCase().includes(c.toLowerCase())||D.sku.toLowerCase().includes(c.toLowerCase())||D.brand.toLowerCase().includes(c.toLowerCase())||D.factoryCode.toLowerCase().includes(c.toLowerCase())),F=N(b),O=({column:D})=>A?.key!==D?E.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):A.direction==="asc"?E.jsx(lM,{className:"w-3 h-3 ml-1 inline-block text-primary"}):E.jsx(nM,{className:"w-3 h-3 ml-1 inline-block text-primary"});return E.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[E.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[E.jsx(kc,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),E.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),E.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[P&&E.jsxs("button",{onClick:H,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[E.jsx(pd,{className:"w-4 h-4"})," Salvar Alteraes"]}),t.length>0&&E.jsxs("button",{onClick:G,disabled:d,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?E.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):E.jsx(i2,{className:"w-4 h-4"}),d?"Processando...":"IA Classificar"]}),t.length>0&&E.jsxs("button",{onClick:n,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[E.jsx(dl,{className:"w-4 h-4"})," Limpar"]}),E.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${s?"opacity-50 pointer-events-none":""}`,children:[s?E.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):E.jsx(v3,{className:"w-4 h-4"}),s?"Processando...":"Importar CSV",E.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:k})]})]})]}),t.length===0?E.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[E.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:E.jsx(g0,{className:"w-8 h-8 text-outline"})}),E.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),E.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):E.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[E.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[E.jsx(Bf,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),E.jsx("input",{type:"text",value:c,onChange:D=>f(D.target.value),placeholder:"Filtrar por SKU, Marca, Cdigo ou Descrio...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),E.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:E.jsxs("tr",{children:[E.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>R("sku"),children:["SKU ",E.jsx(O,{column:"sku"})]}),E.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>R("brand"),children:["Marca ",E.jsx(O,{column:"brand"})]}),E.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>R("factoryCode"),children:["Cd. Fbrica ",E.jsx(O,{column:"factoryCode"})]}),E.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>R("name"),children:["Descrio ",E.jsx(O,{column:"name"})]}),E.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>R("category"),children:["Categoria ",E.jsx(O,{column:"category"})]}),E.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>R("price"),children:["Preo (R$) ",E.jsx(O,{column:"price"})]}),E.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>R("discount"),children:["Desc. (%) ",E.jsx(O,{column:"discount"})]})]})}),E.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:F.map(D=>E.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[E.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:D.sku}),E.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs",children:D.brand}),E.jsx("td",{className:"px-4 py-2 font-mono text-xs text-on-surface-variant",children:D.factoryCode}),E.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:D.name,children:D.name}),E.jsx("td",{className:"px-2 py-2",children:E.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:D.category,onChange:U=>K(D.originalIndex,"category",U.target.value)})}),E.jsx("td",{className:"px-2 py-2 text-right",children:E.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:D.price,onChange:U=>K(D.originalIndex,"price",parseFloat(U.target.value)||0)})}),E.jsx("td",{className:"px-2 py-2 text-right",children:E.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:D.discount||0,onChange:U=>K(D.originalIndex,"discount",parseFloat(U.target.value)||0)})})]},`${D.sku}-${D.originalIndex}`))})]})}),E.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[F.map(D=>E.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:D.sku}),E.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:D.name}),E.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:D.brand})]}),E.jsx("div",{className:"text-right",children:E.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:D.factoryCode})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Categoria"}),E.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:D.category,onChange:U=>K(D.originalIndex,"category",U.target.value)})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),E.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:D.discount||0,onChange:U=>K(D.originalIndex,"discount",parseFloat(U.target.value)||0)})]})]}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),E.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:D.price,onChange:U=>K(D.originalIndex,"price",parseFloat(U.target.value)||0)})]})]},`${D.sku}-${D.originalIndex}`)),F.length===0&&E.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),E.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[E.jsxs("span",{children:["Total de Produtos: ",E.jsx("strong",{children:T.length})]}),E.jsxs("span",{children:["Exibindo: ",E.jsx("strong",{children:F.length})]})]})]})]}),d&&E.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[E.jsx(i2,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),E.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&h(!1)},className:"text-on-surface-variant hover:text-on-surface",children:E.jsx(pa,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[E.jsx("span",{children:"Processando produtos..."}),E.jsxs("span",{className:"font-mono font-bold text-primary",children:[g.current," / ",g.total]})]}),E.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})}),E.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},xne=({isOpen:t,onClose:e,onSaveToCloud:n,onClearDatabase:r,isFirebaseConnected:i=!1})=>{const[s,o]=de.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[c,f]=de.useState("idle"),[d,h]=de.useState("");de.useEffect(()=>{if(t){const S=xy();S&&(o(S),f("success"),h("Configurao salva encontrada."))}},[t]);const g=S=>{o({...s,[S.target.name]:S.target.value}),f("idle"),h("")},v=async()=>{if(f("testing"),h("Testando conexo..."),!s.apiKey||!s.projectId){f("error"),h("Campos obrigatrios faltando.");return}try{await yy(s)?(Hee(s),f("success"),h("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(f("error"),h("Falha ao conectar. Verifique as credenciais."))}catch(S){f("error"),h("Erro: "+S.message)}},T=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(Gee(),o({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),f("idle"),h("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return t?E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:E.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:E.jsx(kv,{className:"w-5 h-5"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold",children:"Configurao de Nuvem"}),E.jsx("p",{className:"text-xs text-slate-400",children:"Sincronizao via Firebase Firestore"})]})]}),E.jsx("button",{onClick:e,className:"text-white/50 hover:text-white",children:""})]}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-blue-50 p-3 rounded border border-blue-100",children:["Insira os dados do seu projeto Firebase. Voc pode encontrar isso no Console do Firebase ",">"," Configuraes do Projeto ",">"," Seus aplicativos."]}),E.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[E.jsx("input",{type:"text",name:"apiKey",placeholder:"apiKey",value:s.apiKey,onChange:g,className:"text-xs p-2 border rounded"}),E.jsx("input",{type:"text",name:"authDomain",placeholder:"authDomain",value:s.authDomain,onChange:g,className:"text-xs p-2 border rounded"}),E.jsx("input",{type:"text",name:"projectId",placeholder:"projectId",value:s.projectId,onChange:g,className:"text-xs p-2 border rounded"}),E.jsx("input",{type:"text",name:"storageBucket",placeholder:"storageBucket",value:s.storageBucket,onChange:g,className:"text-xs p-2 border rounded"}),E.jsx("input",{type:"text",name:"messagingSenderId",placeholder:"messagingSenderId",value:s.messagingSenderId,onChange:g,className:"text-xs p-2 border rounded"}),E.jsx("input",{type:"text",name:"appId",placeholder:"appId",value:s.appId,onChange:g,className:"text-xs p-2 border rounded"})]}),d&&E.jsxs("div",{className:`text-xs p-2 rounded flex items-center gap-2 ${c==="error"?"bg-red-50 text-red-600":c==="success"?"bg-green-50 text-green-600":"bg-gray-50 text-gray-600"}`,children:[c==="testing"&&E.jsx(wf,{className:"w-3 h-3 animate-spin"}),c==="success"&&E.jsx(O0,{className:"w-3 h-3"}),d]})]}),i&&n&&r&&E.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[E.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-3",children:"Aes da Nuvem"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[E.jsx(kv,{className:"w-4 h-4"}),"Salvar na Nuvem"]}),E.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[E.jsx(dl,{className:"w-4 h-4"}),"Limpar Base"]})]})]}),E.jsxs("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-2",children:[c==="success"&&E.jsxs("button",{onClick:T,className:"px-4 py-2 text-red-500 text-xs font-bold hover:bg-red-50 rounded transition-colors mr-auto flex items-center gap-1",children:[E.jsx(dl,{className:"w-3 h-3"})," Desconectar"]}),E.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium text-sm hover:bg-gray-200 rounded-lg",children:"Cancelar"}),E.jsx("button",{onClick:v,disabled:c==="testing",className:"px-6 py-2 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:c==="testing"?"Verificando...":"Salvar e Conectar"})]})]})}):null},yne=({onAccept:t,onDecline:e})=>{const[n,r]=de.useState(!1);de.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const c=setTimeout(()=>r(!0),1500);return()=>clearTimeout(c)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),r(!1),t()},s=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),r(!1),e()};return n?E.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 animate-slide-up",children:E.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600 shrink-0",children:E.jsx(EM,{className:"w-6 h-6"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Este site utiliza cookies e armazenamento local"}),E.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Ns armazenamos dados no seu navegador para garantir que o sistema carregue instantaneamente na prxima vez que voc acessar (cache offline). Isso permite que voc trabalhe mais rpido e at mesmo sem internet."})]})]}),E.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[E.jsx("button",{onClick:s,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Agora no"}),E.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[E.jsx(O0,{className:"w-4 h-4"}),"Permitir Cache Rpido"]})]})]})}):null},_ne=({users:t,uploadedFiles:e,onUploadClients:n,onUploadProducts:r,onDeleteFile:i,onReassignSalesperson:s,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,f]=de.useState("clients"),[d,h]=de.useState(""),[g,v]=de.useState([]),T=k=>{if(k.target.files&&k.target.files.length>0){const H=Array.from(k.target.files).map(G=>({file:G,targetUserId:d||""}));v(G=>[...G,...H]),k.target.value=""}},S=k=>{v(H=>H.filter((G,K)=>K!==k))},A=(k,H)=>{v(G=>{const K=[...G];return K[k].targetUserId=H,K})},C=async()=>{const k=g.filter(H=>H.targetUserId);if(k.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const H of k)await n(H.file,H.targetUserId,!0);v([])},P=k=>{const H=k.target.files?.[0];H&&(r(H),k.target.value="")},B=e.filter(k=>k.type===c);return E.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[E.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:E.jsxs("div",{children:[E.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[E.jsx(L0,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),E.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),E.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[E.jsxs("button",{onClick:()=>f("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[E.jsx(Mv,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&E.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),E.jsxs("button",{onClick:()=>f("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[E.jsx(kc,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&E.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),o?.isActive&&E.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?E.jsx(wf,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?E.jsx(Rc,{className:"w-5 h-5"}):E.jsx(ha,{className:"w-5 h-5"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&E.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),E.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[E.jsx("div",{className:"lg:col-span-4",children:E.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[E.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[E.jsx(Tne,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?E.jsxs("div",{className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),E.jsxs("div",{className:"relative",children:[E.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:k=>h(k.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),t.filter(k=>Sf(k.role)).map(k=>E.jsx("option",{value:k.id,children:k.name},k.id))]}),E.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:E.jsx(Ene,{className:"w-4 h-4"})})]})]}),g.length>0&&E.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[E.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[E.jsxs("span",{children:["Arquivos na Fila (",g.length,")"]}),E.jsx("button",{onClick:()=>v([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),E.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:g.map((k,H)=>E.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[E.jsx(g0,{className:"w-4 h-4 text-primary shrink-0"}),E.jsx("span",{className:"truncate flex-1 font-medium",title:k.file.name,children:k.file.name}),E.jsxs("select",{value:k.targetUserId,onChange:G=>A(H,G.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${k.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[E.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),t.filter(G=>Sf(G.role)).map(G=>E.jsx("option",{value:G.id,children:G.name},G.id))]}),E.jsx("button",{onClick:()=>S(H),className:"text-on-surface-variant hover:text-error p-1",children:E.jsx(pa,{className:"w-3 h-3"})})]},H))}),E.jsx("button",{onClick:C,disabled:o?.isActive||g.some(k=>!k.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o?.isActive?E.jsxs(E.Fragment,{children:[E.jsx(wf,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):E.jsxs(E.Fragment,{children:[E.jsx(Rc,{className:"w-3 h-3"}),"Processar ",g.length," Arquivos"]})})]}),E.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[E.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[E.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:E.jsx(L0,{className:"w-6 h-6"})}),E.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),E.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:T,disabled:o?.isActive&&o.status==="processing"})]}),E.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant",children:[E.jsx(t2,{className:"w-3 h-3"}),E.jsx("span",{children:"Suporta .csv, .xlsx, .xls (Mltiplos arquivos)"})]})]}):E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[E.jsx(kc,{className:"w-5 h-5 shrink-0"}),E.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),E.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[E.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:E.jsx(kc,{className:"w-6 h-6"})}),E.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),E.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:P,disabled:o?.isActive&&o.status==="processing"})]})]})]})}),E.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[E.jsx("div",{className:"flex items-center justify-between mb-2",children:E.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[E.jsx(g0,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",E.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:B.length})]})}),B.length===0?E.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[E.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:E.jsx(t2,{className:"w-10 h-10 text-outline"})}),E.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),E.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):E.jsx("div",{className:"space-y-3",children:B.map(k=>E.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[E.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[E.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${k.status==="error"?"bg-error-container text-error":k.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:k.status==="processing"?E.jsx(wf,{className:"w-5 h-5 animate-spin"}):k.status==="error"?E.jsx(ha,{className:"w-5 h-5"}):E.jsx(g0,{className:"w-5 h-5"})}),E.jsxs("div",{className:"min-w-0",children:[E.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:k.fileName,children:k.fileName}),E.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(fM,{className:"w-3 h-3"}),new Date(k.uploadDate).toLocaleDateString(),E.jsx("span",{className:"opacity-60 ml-1",children:new Date(k.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx(Rc,{className:"w-3 h-3"}),k.itemCount," registros"]})]}),k.status==="error"&&E.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:k.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&E.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:t.find(G=>G.id===k.salespersonId)?.name?.charAt(0)||"?"}),E.jsxs("div",{className:"min-w-0 flex-1",children:[E.jsxs("select",{value:k.salespersonId,onChange:H=>s?.(k.id,H.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:k.status==="processing",children:[E.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),t.filter(H=>Sf(H.role)).map(H=>E.jsx("option",{value:H.id,className:"bg-surface text-on-surface",children:H.name},H.id))]}),E.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),E.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:k.status==="processing"?E.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):E.jsxs("button",{onClick:()=>i(k.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[E.jsx(dl,{className:"w-4 h-4"}),E.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},k.id))})]})]})]})};function Ene(t){return E.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),E.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function Tne(t){return E.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),E.jsx("circle",{cx:"12",cy:"10",r:"5"}),E.jsx("path",{d:"M12 15V3"}),E.jsx("path",{d:"m9 6 3-3 3 3"})]})}const wne=[{id:"admin",name:"Admin DEV",username:"admin",email:"admin@vendas.ai",role:"admin_dev",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"sales_external",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"sales_internal",password:"123",salesCategory:"Interno",color:"#3B82F6"}],l4=()=>{const[t,e]=de.useState([]),[n,r]=de.useState(null);return{users:t,setUsers:e,currentUser:n,login:d=>{r(d)},logout:()=>{r(null)},addUser:d=>{e([...t,d])},updateUser:d=>{e(t.map(h=>h.id===d.id?d:h))},deleteUser:d=>{e(t.filter(h=>h.id!==d))}}},OC=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_USERS:wne,useAuth:l4},Symbol.toStringTag,{value:"Module"})),Rv=()=>{try{const t=localStorage.getItem("vendas_ai_clients");if(t)return JSON.parse(t).map(n=>({...n,category:Array.isArray(n.category)?n.category:typeof n.category=="string"?[n.category]:["Outros"],region:J1(n.state)}))}catch(t){console.error("Failed to load clients",t)}return[]},LC=()=>{try{const t=localStorage.getItem("vendas_ai_products");return t?JSON.parse(t):[]}catch{return[]}},UC=()=>{try{const t=localStorage.getItem("vendas_ai_categories");return t?JSON.parse(t):Hf.filter(e=>e!=="Todos")}catch{return Hf.filter(e=>e!=="Todos")}},VC=()=>{try{const t=localStorage.getItem("vendas_ai_files");return t?JSON.parse(t):[]}catch{return[]}},m0=t=>t.map(e=>e.id==="admin"||e.username==="admin"?{...e,role:"admin_dev",name:"Admin DEV",salesCategory:"N/A"}:e.role==="admin"?{...e,role:"admin_dev"}:e.role==="salesperson"?{...e,role:"sales_external"}:e),Sne=(t,e)=>{const[n,r]=de.useState([]),[i,s]=de.useState(LC),[o,c]=de.useState(UC),[f,d]=de.useState(VC),[h,g]=de.useState(!1),[v,T]=de.useState(!1);return de.useEffect(()=>{(async()=>{const A=await yy();if(g(A),A){console.log("Loading data from Cloud...");try{const P=await Jk();if(P&&(P.clients?.length>0||P.products?.length>0||P.users?.length>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),P.clients&&r(P.clients),P.products&&s(P.products),P.categories&&c(P.categories),P.users&&e&&e(m0(P.users)),P.uploadedFiles&&d(P.uploadedFiles),T(!0);return}else{console.log("Cloud is empty. Checking localStorage for migration...");const B=localStorage.getItem("vendas_ai_users");let k=B?JSON.parse(B):null;if(!k||k.length===0){console.log("No users in localStorage. Using INITIAL_USERS.");const{INITIAL_USERS:H}=await U1(async()=>{const{INITIAL_USERS:G}=await Promise.resolve().then(()=>OC);return{INITIAL_USERS:G}},void 0);k=H}k=m0(k),e&&e(k),r(Rv()),console.log("Saving initial data to cloud..."),await Tp(Rv(),LC(),UC(),k,VC()),T(!0);return}}catch(P){console.error("Cloud load error",P)}}console.log("Loading data from LocalStorage..."),r(Rv());const C=localStorage.getItem("vendas_ai_users");if(C&&e)e(m0(JSON.parse(C)));else if(e){const{INITIAL_USERS:P}=await U1(async()=>{const{INITIAL_USERS:B}=await Promise.resolve().then(()=>OC);return{INITIAL_USERS:B}},void 0);e(m0(P))}T(!0)})()},[]),de.useEffect(()=>{if(h&&v&&(n.length>0||t.length>0||f.length>0)){const S=setTimeout(()=>{Tp(n,i,o,t,f).catch(A=>console.error("Auto-save failed",A))},2e3);return()=>clearTimeout(S)}},[n,i,o,t,f,h,v]),de.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(n))},[n]),de.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(o))},[o]),de.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(i))},[i]),de.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(f))},[f]),de.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(t))},[t]),{masterClientList:n,setMasterClientList:r,products:i,setProducts:s,categories:o,setCategories:c,uploadedFiles:f,setUploadedFiles:d,isFirebaseConnected:h,isDataLoaded:v}},Ane=(t,e,n,r)=>{const[i,s]=de.useState(""),[o,c]=de.useState("Todas"),[f,d]=de.useState("Todos"),[h,g]=de.useState("Todas"),[v,T]=de.useState("Todos"),[S,A]=de.useState("Todos"),[C,P]=de.useState("Todos"),[B,k]=de.useState("Todos"),[H,G]=de.useState("Todos"),[K,R]=de.useState(""),N=de.useMemo(()=>{if(!n)return[];let fe=[];return Pv(n.role)?S!=="Todos"?fe=t.filter(ie=>ie.salespersonId===S):fe=t:fe=t.filter(ie=>ie.salespersonId===n.id),fe},[n,t,S]),b=de.useMemo(()=>N.filter(fe=>{const ie=o==="Todas"||fe.region===o,se=f==="Todos"||fe.state===f,le=h==="Todas"||fe.city===h,ce=v==="Todos"||Array.isArray(fe.category)&&fe.category.includes(v);let ae=!0;if(n&&Pv(n.role)&&C!=="Todos"){const ee=e.find(ne=>ne.id===fe.salespersonId);(!ee||ee.salesCategory!==C)&&(ae=!1)}const Me=i.toLowerCase(),W=i===""||fe.companyName.toLowerCase().includes(Me)||fe.ownerName&&fe.ownerName.toLowerCase().includes(Me);let V=!0;const X=K.toLowerCase();if(B!=="Todos"||H!=="Todos"||X!=="")if(!fe.purchasedProducts||fe.purchasedProducts.length===0)V=!1;else{const ee=B==="Todos"||fe.purchasedProducts.some(me=>me.category===B),ne=H==="Todos"||fe.purchasedProducts.some(me=>me.sku===H),he=X===""||fe.purchasedProducts.some(me=>me.name.toLowerCase().includes(X)||me.sku.toLowerCase().includes(X)||me.brand.toLowerCase().includes(X)||me.factoryCode.toLowerCase().includes(X)||me.price.toString().includes(X));V=ee&&ne&&he}return ie&&se&&le&&ce&&W&&V&&ae}),[N,o,f,h,v,i,B,H,K,C,e,n]),F=de.useMemo(()=>{let fe=N;o!=="Todas"&&(fe=fe.filter(se=>se.region===o));const ie=new Set(fe.map(se=>se.state).filter(Boolean));return Array.from(ie).sort()},[N,o]),O=de.useMemo(()=>{let fe=N;if(o!=="Todas"&&(fe=fe.filter(se=>se.region===o)),f!=="Todos")fe=fe.filter(se=>se.state===f);else return[];const ie=new Set(fe.map(se=>se.city).filter(Boolean));return Array.from(ie).sort()},[N,o,f]),D=de.useMemo(()=>{const fe=new Set(r.map(ie=>ie.category));return Array.from(fe).sort()},[r]);return{searchQuery:i,setSearchQuery:s,filterRegion:o,setFilterRegion:c,filterState:f,setFilterState:d,filterCity:h,setFilterCity:g,filterCategory:v,setFilterCategory:T,filterSalespersonId:S,setFilterSalespersonId:A,filterSalesCategory:C,setFilterSalesCategory:P,filterProductCategory:B,setFilterProductCategory:k,filterProductSku:H,setFilterProductSku:G,searchProductQuery:K,setSearchProductQuery:R,filteredClients:b,visibleClients:N,availableStates:F,availableCities:O,productCategories:D,resetFilters:()=>{s(""),c("Todas"),d("Todos"),g("Todas"),A("Todos"),P("Todos"),k("Todos"),G("Todos"),R("")}}},Cne=()=>{const{users:t,setUsers:e,currentUser:n,login:r,logout:i,addUser:s,updateUser:o,deleteUser:c}=l4(),{masterClientList:f,setMasterClientList:d,products:h,setProducts:g,categories:v,setCategories:T,uploadedFiles:S,setUploadedFiles:A,isFirebaseConnected:C}=Sne(t,e),{searchQuery:P,setSearchQuery:B,filterRegion:k,setFilterRegion:H,filterState:G,setFilterState:K,filterCity:R,setFilterCity:N,filterCategory:b,setFilterCategory:F,filterSalespersonId:O,setFilterSalespersonId:D,filterSalesCategory:U,setFilterSalesCategory:fe,filterProductCategory:ie,setFilterProductCategory:se,filterProductSku:le,setFilterProductSku:ce,searchProductQuery:ae,setSearchProductQuery:Me,filteredClients:W,visibleClients:V,availableStates:X,availableCities:ee,productCategories:ne,resetFilters:he}=Ane(f,t,n,h),[me,Ne]=de.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[Ce,ke]=de.useState(xy()?.apiKey||""),[$e,re]=de.useState(""),[ht,Ye]=de.useState(0),[Ge,He]=de.useState("map"),[Be,nt]=de.useState(!1),[rt,ft]=de.useState(!1),[un,Sn]=de.useState(!1),[zn,gt]=de.useState(void 0),Ut=de.useRef(!1),Ct=Ie=>{if(me.isActive&&me.status==="processing")if(window.confirm(`Gostaria de Parar de Enviar o Arquivo?

Clique em OK para PARAR o envio.
Clique em Cancelar para CONTINUAR o envio.`))Ut.current=!0,He(Ie);else return;else He(Ie)},[fn,Rt]=de.useState(""),[Mn,it]=de.useState(!1);de.useEffect(()=>{ke("AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc")},[]);const Ft=()=>{if(!window.confirm(` Remover Clientes Duplicados?

Esta ao ir:
 Identificar clientes com mesmo nome e endereo
 Manter apenas 1 registro de cada
 Atualizar a contagem total

Deseja continuar?`))return;const Xe=new Map,Qe=[];let ct=0;if(f.forEach(z=>{const Z=`${z.companyName}-${z.cleanAddress}`.toLowerCase().trim();Xe.has(Z)?ct++:(Xe.set(Z,z),Qe.push(z))}),ct===0){alert(" Nenhum cliente duplicado encontrado!");return}d(Qe),alert(` Limpeza Concluda!

${ct} clientes duplicados removidos
Total anterior: ${f.length}
Total atual: ${Qe.length}`)},Wt=Ie=>{v.includes(Ie)||T([...v,Ie])},bt=Ie=>{T(v.filter(Xe=>Xe!==Ie))},Kt=Ie=>{g(Xe=>{const Qe=[...Xe,...Ie];return Gr(f,Qe),Qe})},pr=Ie=>{g(Ie)},mn=()=>{g([]),d(Ie=>Ie.map(Xe=>({...Xe,purchasedProducts:[]})))},wa=()=>{window.confirm(` ATENO: Limpar TODOS os Clientes?

Esta ao ir:
 Remover TODOS os clientes do sistema
 Limpar a listagem de arquivos
 Resetar contadores

Os vendedores, produtos e categorias no sero afetados.

Deseja continuar?`)&&(d([]),A(Ie=>Ie.filter(Xe=>Xe.type!=="clients")),alert(` Base de Clientes Limpa!

Voc pode agora fazer upload de novas planilhas de clientes.`))},Yi=async Ie=>{const Xe=f.find(ct=>ct.id===Ie.id);let Qe={...Ie};if(Xe&&Xe.cleanAddress!==Ie.cleanAddress)try{const ct=await u1(Ie.cleanAddress,Ce||"");ct&&(Qe.lat=ct.lat,Qe.lng=ct.lng,ct.formattedAddress&&(Qe.cleanAddress=ct.formattedAddress))}catch(ct){console.error("Failed to re-geocode updated client:",ct)}d(ct=>ct.map(z=>z.id===Qe.id?Qe:z))},Hs=async Ie=>{let Xe={...Ie};if((!Xe.lat||!Xe.lng)&&Xe.cleanAddress)try{const Qe=await u1(Xe.cleanAddress,Ce||"");Qe&&(Xe.lat=Qe.lat,Xe.lng=Qe.lng,Qe.formattedAddress&&(Xe.cleanAddress=Qe.formattedAddress))}catch(Qe){console.error("Failed to geocode new client:",Qe)}d(Qe=>[...Qe,Xe]),setTimeout(()=>{const Qe=document.querySelector(".overflow-y-auto");Qe&&(Qe.scrollTop=Qe.scrollHeight)},100)},Gr=(Ie,Xe)=>{if(Xe.length===0)return;const Qe=Ie.map(ct=>{if(ct.purchasedProducts&&ct.purchasedProducts.length>0)return ct;let z=Xe.filter(Q=>ct.category.some(te=>Q.category.toLowerCase().includes(te.toLowerCase())||te.toLowerCase().includes(Q.category.toLowerCase())));z.length===0&&(z=Xe);const Z=Math.floor(Math.random()*5)+1,J=[...z].sort(()=>.5-Math.random()).slice(0,Z);return{...ct,purchasedProducts:J}});d(Qe)},Wi=async()=>{if(window.aistudio)try{await window.aistudio.openSelectKey();const Ie="AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc";Ie&&ke(Ie),Ye(Xe=>Xe+1)}catch(Ie){console.error(Ie)}else console.error("AI Studio environment not detected.")},yn=Ie=>{if(r(Ie),he(),Ct("map"),it(!1),vc(Ie.role)){const Xe=t.find(Qe=>Sf(Qe.role));Xe&&Rt(Xe.id)}},mr=()=>{if(me.isActive&&me.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))Ut.current=!0;else return;i(),he()},ti=async(Ie,Xe,Qe=!1)=>{const ct=t.find(j=>j.id===Xe),z=ct?ct.name:"Desconhecido";if(f.length>0&&!Qe&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const Z=crypto.randomUUID();Ne({isActive:!0,total:0,current:0,fileName:Ie.name,ownerName:z,status:"reading"}),Ut.current=!1;try{let j=[];const J=Ie.name.toLowerCase();if(console.log(`Processing file: ${Ie.name}, Lower: ${J}`),J.endsWith(".csv"))console.log("Selected Parser: CSV"),j=await o5(Ie);else if(J.endsWith(".xlsx")||J.endsWith(".xls"))console.log("Selected Parser: Excel"),j=await uH(Ie);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",j.length),j.length>0&&console.log("Sample Parsed Item:",j[0]),j.length===0)throw new Error("Arquivo vazio.");const Q={id:Z,fileName:Ie.name,uploadDate:new Date().toISOString(),salespersonId:Xe,salespersonName:z,type:"clients",itemCount:j.length,status:"processing"};A(Se=>[Q,...Se]),Ne(Se=>({...Se,total:j.length,status:"processing"}));const ge=(await kY(j,Xe,Ce,$e,v,(Se,ve)=>{if(Ut.current)throw new Error("CANCELLED_BY_USER");Ne(Ee=>({...Ee,current:Se,total:ve}))})).map(Se=>({...Se,sourceFileId:Z}));d(Se=>[...Se,...ge]),Ne(Se=>({...Se,status:"completed"})),A(Se=>Se.map(ve=>ve.id===Z?{...ve,status:"completed"}:ve)),setTimeout(()=>{Ne(Se=>Se.status==="completed"?{...Se,isActive:!1}:Se)},5e3)}catch(j){console.error(j);const J=j.message==="CANCELLED_BY_USER",Q=J?"Cancelado pelo usurio.":j.message||"Erro desconhecido",te=J;Ne(ge=>({...ge,status:"error",errorMessage:Q,isActive:!te})),A(ge=>ge.map(Se=>Se.id===Z?{...Se,status:"error",errorMessage:Q}:Se))}},qr=Ie=>{const Xe=S.find(Qe=>Qe.id===Ie);Xe&&window.confirm(`Tem certeza que deseja excluir o arquivo "${Xe.fileName}"?

Isso remover todos os ${Xe.itemCount} registros associados.`)&&(Xe.type==="clients"?d(Qe=>Qe.filter(ct=>ct.sourceFileId!==Ie)):Xe.type==="products"&&g(Qe=>Qe.filter(ct=>ct.sourceFileId!==Ie)),A(Qe=>Qe.filter(ct=>ct.id!==Ie)))},ko=(Ie,Xe)=>{const ct=t.find(z=>z.id===Xe)?.name||"None";A(z=>z.map(Z=>Z.id===Ie?{...Z,salespersonId:Xe,salespersonName:ct}:Z)),d(z=>z.map(Z=>Z.sourceFileId===Ie?{...Z,salespersonId:Xe}:Z)),Xe?(Ct("map"),D(Xe),alert(`Arquivo e ${W.filter(z=>z.sourceFileId===Ie).length} clientes reatribudos para: ${ct}

Mapa filtrado automaticamente.`)):(D("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},Sa=async Ie=>{const Xe=crypto.randomUUID();Ne({isActive:!0,total:0,current:0,fileName:Ie.name,ownerName:"Sistema",status:"reading"});try{let Qe=[];const ct=Ie.name.toLowerCase();if(ct.endsWith(".csv"))Qe=await Ib(Ie);else if(ct.endsWith(".xlsx")||ct.endsWith(".xls"))Qe=await fI(Ie);else throw new Error("Formato no suportado.");if(Qe.length===0)throw new Error("Arquivo vazio.");Qe=Qe.map(Z=>({...Z,sourceFileId:Xe}));const z={id:Xe,fileName:Ie.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:Qe.length,status:"completed"};A(Z=>[z,...Z]),Kt(Qe),Ne({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${Qe.length} produtos importados com sucesso.`)}catch(Qe){console.error(Qe),Ne(ct=>({...ct,status:"error",errorMessage:Qe.message})),A(ct=>ct.map(z=>z.id===Xe?{...z,status:"error",errorMessage:Qe.message}:z))}},Nr="6LcyKmUsAAAAAC-uUPRRD2ZMZRJu_dBPUH5Gp4gm";if(console.log("[APP] reCAPTCHA Key Source:","FALLBACK"),console.log("[APP] reCAPTCHA Key (first 10 chars):",Nr.substring(0,10)+"..."),console.log("[APP] Environment:","production"),!n)return E.jsx(DC,{reCaptchaKey:Nr,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:E.jsx(hne,{users:t,onLogin:yn})});const ar=vc(n.role),Xn=Pv(n.role),hi=ie!=="Todos"||le!=="Todos"||ae!=="";return E.jsx(DC,{reCaptchaKey:Nr,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:E.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[Mn&&E.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>it(!1)}),E.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${Mn?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[E.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[E.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[E.jsx(n2,{className:"w-6 h-6"}),"Rota de Vendas"]}),E.jsx("button",{onClick:()=>it(!1),className:"md:hidden text-on-surface-variant hover:text-primary",children:E.jsx(pa,{className:"w-6 h-6"})})]}),E.jsx("div",{className:"px-6 py-2",children:E.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:ar?"Painel Administrativo":"Portal do Vendedor"})}),E.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[E.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),E.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),E.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md overflow-hidden ${ar?"bg-tertiary":"bg-secondary"}`,children:n.photoURL?E.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):E.jsx("span",{children:n.name.charAt(0)})}),E.jsxs("div",{className:"min-w-0",children:[E.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:n.name}),E.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:n.email})]})]})]}),E.jsxs("nav",{className:"space-y-1 mb-8",children:[E.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),E.jsxs("button",{onClick:()=>{He("map"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[E.jsx(zM,{className:`w-5 h-5 ${Ge==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),E.jsxs("button",{onClick:()=>{He("table"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[E.jsx(h3,{className:`w-5 h-5 ${Ge==="table"?"fill-current":""}`}),"Listagem de Dados"]})]}),ar&&E.jsxs("nav",{className:"space-y-1 mb-8",children:[E.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),E.jsxs("button",{onClick:()=>{Ct("admin_users"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[E.jsx(Mv,{className:`w-5 h-5 ${Ge==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),E.jsxs("button",{onClick:()=>{Ct("admin_categories"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[E.jsx(qC,{className:`w-5 h-5 ${Ge==="admin_categories"?"fill-current":""}`}),"Categorias"]}),E.jsxs("button",{onClick:()=>{Ct("admin_products"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[E.jsx(kc,{className:`w-5 h-5 ${Ge==="admin_products"?"fill-current":""}`}),"Produtos"]}),E.jsxs("button",{onClick:()=>{Ct("admin_files"),it(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Ge==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[E.jsx(L0,{className:`w-5 h-5 ${Ge==="admin_files"?"fill-current":""}`}),"Arquivos"]}),E.jsxs("button",{onClick:()=>{Sn(!0),it(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[E.jsx(kv,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),E.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[E.jsxs("button",{onClick:mr,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",children:[E.jsx(OM,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),E.jsx("div",{className:"text-center mt-4",children:E.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),E.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[E.jsx("button",{onClick:()=>it(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",children:E.jsx(jM,{className:"w-6 h-6"})}),E.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[E.jsx(n2,{className:"w-5 h-5"})," Rota de Vendas"]}),E.jsx("div",{className:"w-10"})," "]}),E.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!vc&&Ge==="table"&&E.jsx("button",{onClick:()=>nt(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",children:E.jsx(Mv,{className:"w-6 h-6"})}),E.jsx(xne,{isOpen:un,onClose:()=>Sn(!1),onSaveToCloud:()=>{Tp(f,h,v,t),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:wa,isFirebaseConnected:C}),E.jsx(yne,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),E.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[E.jsx("span",{children:"Portal"}),E.jsx(gM,{className:"w-4 h-4"}),E.jsx("span",{className:"font-semibold text-blue-600",children:Ge==="map"?"Mapa da Carteira":Ge==="table"?"Listagem de Clientes":Ge==="admin_categories"?"Categorias de Clientes":Ge==="admin_products"?"Catlogo de Produtos":"Gesto de Usurios"})]}),E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-xs text-gray-400",children:vc?"Clientes Visualizados":"Meus Clientes"}),E.jsx("p",{className:"text-lg font-bold leading-none",children:V.length})]}),vc&&E.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[E.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),E.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:f.length})]})]})]}),Ge==="admin_users"&&ar?E.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:E.jsx(mne,{currentUser:n,users:t,onAddUser:s,onUpdateUser:o,onDeleteUser:c,onCleanupDuplicates:Ft,totalClients:f.length})}):Ge==="admin_categories"&&ar?E.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:E.jsx(gne,{categories:v,onAddCategory:Wt,onDeleteCategory:bt})}):Ge==="admin_products"&&ar?E.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:E.jsx(vne,{products:h,onUploadProducts:Kt,onClearProducts:mn,onSaveProducts:pr,apiKey:Ce})}):Ge==="admin_files"&&ar?E.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:E.jsx(_ne,{users:t,uploadedFiles:S,onUploadClients:(Ie,Xe)=>ti(Ie,Xe),onUploadProducts:Sa,onDeleteFile:qr,onReassignSalesperson:ko,procState:me})}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"bg-gray-100 p-4 border-b border-gray-200 flex flex-col gap-3",children:[E.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[E.jsxs("div",{className:"relative mr-2",children:[E.jsx(Bf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsx("input",{type:"text",value:P,onChange:Ie=>B(Ie.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-4 py-1.5 text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 w-56 border outline-none"})]}),E.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2 hidden sm:block"}),E.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mr-2",children:[E.jsx(GC,{className:"w-4 h-4"}),E.jsx("span",{className:"text-sm font-bold hidden md:inline",children:"Filtros:"})]}),E.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded-md border mr-2 transition-colors ${Xn?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[E.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${Xn?"text-purple-600":"text-gray-500"}`,children:[Xn?E.jsx(jC,{className:"w-3 h-3"}):E.jsx(Ms,{className:"w-3 h-3"}),ar?"Admin":Xn?"Gesto":"Vendedor"]}),E.jsxs("div",{className:"relative",children:[E.jsx(Ms,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${Xn?"text-purple-400":"text-gray-400"}`}),E.jsxs("select",{value:Xn?O:n?.id||"",onChange:Ie=>Xn&&D(Ie.target.value),disabled:!Xn,className:`text-sm rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium appearance-none ${Xn?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:Xn?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[Xn&&E.jsx("option",{value:"Todos",children:"Todos Vendedores"}),Xn?t.filter(Ie=>Ie.role==="salesperson"||Ie.role==="sales_external"||Ie.role==="sales_internal").map(Ie=>E.jsx("option",{value:Ie.id,children:Ie.name},Ie.id)):E.jsx("option",{value:n?.id,children:n?.name})]})]}),Xn&&E.jsxs("div",{className:"relative animate-fade-in",children:[E.jsx(HC,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),E.jsxs("select",{value:U,onChange:Ie=>fe(Ie.target.value),className:"text-sm border-purple-300 bg-white text-purple-900 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium",children:[E.jsx("option",{value:"Todos",children:"Todas Equipes"}),E.jsx("option",{value:"Externo",children:"Externo"}),E.jsx("option",{value:"Interno",children:"Interno"}),E.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),E.jsxs("select",{value:k,onChange:Ie=>{H(Ie.target.value),K("Todos"),N("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",children:[E.jsx("option",{value:"Todas",children:"Todas Regies"}),Ap.map(Ie=>E.jsx("option",{value:Ie,children:Ie},Ie))]}),E.jsxs("select",{value:G,onChange:Ie=>{K(Ie.target.value),N("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",disabled:X.length===0,children:[E.jsxs("option",{value:"Todos",children:["Todos Estados ",k!=="Todas"?`(${k})`:""]}),X.map(Ie=>E.jsx("option",{value:Ie,children:Ie},Ie))]}),E.jsxs("select",{value:R,onChange:Ie=>N(Ie.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5 min-w-[120px]",disabled:G==="Todos"||ee.length===0,children:[E.jsx("option",{value:"Todas",children:"Todas Cidades"}),ee.map(Ie=>E.jsx("option",{value:Ie,children:Ie},Ie))]}),E.jsxs("div",{className:"flex items-center gap-1 relative ml-2",children:[E.jsx(Gc,{className:"w-4 h-4 text-gray-400 absolute left-2 pointer-events-none"}),E.jsxs("select",{value:b,onChange:Ie=>F(Ie.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-8 pr-3 py-1.5",children:[E.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),v.map(Ie=>E.jsx("option",{value:Ie,children:Ie},Ie))]})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-3 items-center bg-white border border-gray-200 p-2 rounded-lg shadow-sm",children:[E.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[E.jsx(kc,{className:"w-4 h-4"}),"Vendas:"]}),E.jsxs("select",{value:ie,onChange:Ie=>se(Ie.target.value),className:`text-sm rounded-md px-3 py-1.5 border transition-colors ${ie!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[E.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),ne.map(Ie=>E.jsx("option",{value:Ie,children:Ie},Ie))]}),E.jsxs("div",{className:"relative animate-fade-in",children:[E.jsx(Gc,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${le!=="Todos"?"text-green-600":"text-gray-400"}`}),E.jsxs("select",{value:le,onChange:Ie=>ce(Ie.target.value),className:`text-sm rounded-md pl-7 pr-3 py-1.5 border appearance-none transition-colors max-w-[200px] truncate ${le!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[E.jsx("option",{value:"Todos",children:"Todos Produtos"}),h.filter(Ie=>ie==="Todos"||Ie.category===ie).sort((Ie,Xe)=>Ie.name.localeCompare(Xe.name)).map(Ie=>E.jsxs("option",{value:Ie.sku,children:[Ie.name.substring(0,30),"... (",Ie.sku,")"]},Ie.sku))]})]}),E.jsxs("div",{className:"relative",children:[E.jsx(Bf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),E.jsx("input",{type:"text",value:ae,onChange:Ie=>Me(Ie.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-8 pr-3 py-1.5 text-sm border rounded-md focus:ring-green-500 focus:border-green-500 outline-none w-64 transition-colors ${ae?"bg-green-50 border-green-300":"border-gray-300"}`})]}),hi&&E.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[E.jsx(Rc,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!hi&&E.jsx("span",{className:"ml-auto text-xs text-gray-400",children:h.length===0?"Nenhum produto cadastrado no admin.":`${h.length} produtos no catlogo.`})]}),E.jsx("div",{className:"flex justify-end",children:E.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[W.length," resultados encontrados"]})})]}),E.jsx("div",{className:"flex-1 overflow-hidden p-4 bg-gray-100",children:V.length===0&&!me.isActive?E.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:vc?E.jsxs(E.Fragment,{children:[E.jsx(L0,{className:"w-12 h-12 mb-2 opacity-20"}),E.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),E.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):E.jsxs(E.Fragment,{children:[E.jsx(Dv,{className:"w-12 h-12 mb-2 opacity-20"}),E.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),E.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):E.jsx("div",{className:"h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative",children:Ge==="map"?E.jsx(Yte,{clients:W,apiKey:$e,onInvalidKey:Wi,productFilterActive:hi,highlightProductTerm:ae,activeProductCategory:ie,users:t},`${Ce}-${ht}`):E.jsx(Qte,{clients:W,onUpdateClient:Yi,onAddClient:Hs,currentUserRole:n?.role,currentUserId:n?.id,currentUserName:n?.name,products:h,productCategories:ne})})})]}),me.isActive&&E.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[E.jsx("div",{className:`h-1.5 w-full ${me.status==="error"?"bg-red-200":"bg-blue-100"}`,children:E.jsx("div",{className:`h-full transition-all duration-300 ${me.status==="completed"?"bg-green-500 w-full":me.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:me.total>0?`${me.current/me.total*100}%`:"0%"}})}),E.jsxs("div",{className:"p-4",children:[E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsxs("div",{children:[E.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[me.status==="completed"&&E.jsx(Rc,{className:"w-4 h-4 text-green-500"}),me.status==="processing"&&E.jsx(wf,{className:"w-4 h-4 text-blue-500 animate-spin"}),me.status==="error"&&E.jsx(ha,{className:"w-4 h-4 text-red-500"}),me.status==="reading"?"Lendo Arquivo...":me.status==="processing"?"Processando Planilha":me.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[me.fileName," ",E.jsx("span",{className:"mx-1",children:""})," ",me.ownerName]})]}),E.jsx("button",{onClick:()=>{me.isActive&&me.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(Ut.current=!0,Ne(Ie=>({...Ie,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):Ne(Ie=>({...Ie,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",children:E.jsx(pa,{className:"w-4 h-4"})})]}),me.status==="processing"&&E.jsxs("div",{className:"mt-3",children:[E.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[E.jsx("span",{children:"Progresso (IA + Maps)"}),E.jsxs("span",{className:"font-mono",children:[me.current," / ",me.total]})]}),E.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),me.status==="error"&&E.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:me.errorMessage})]})]})]})]})})};class bne extends kn.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:E.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[E.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[E.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:E.jsx(ha,{className:"w-8 h-8"})}),E.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),E.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),E.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:this.state.error?.toString()}),E.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const c4=document.getElementById("root");if(!c4)throw new Error("Could not find root element to mount to");const Nne=YD.createRoot(c4);Nne.render(E.jsx(kn.StrictMode,{children:E.jsx(bne,{children:E.jsx(Cne,{})})}));
