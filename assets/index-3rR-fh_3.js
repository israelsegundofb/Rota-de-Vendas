var Q4=Object.defineProperty;var mT=t=>{throw TypeError(t)};var eD=(t,e,n)=>e in t?Q4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ig=(t,e,n)=>eD(t,typeof e!="symbol"?e+"":e,n),gT=(t,e,n)=>e.has(t)||mT("Cannot "+n);var Ui=(t,e,n)=>(gT(t,e,"read from private field"),n?n.call(t):e.get(t)),Lh=(t,e,n)=>e.has(t)?mT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ns=(t,e,n,r)=>(gT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Ng=(t,e,n,r)=>({set _(i){Ns(t,e,i,n)},get _(){return Ui(t,e,r)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rg={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function tD(){if(vT)return Wu;vT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Wu.Fragment=e,Wu.jsx=n,Wu.jsxs=n,Wu}var xT;function nD(){return xT||(xT=1,Rg.exports=tD()),Rg.exports}var w=nD(),kg={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function rD(){if(yT)return _t;yT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function E(Z){return Z===null||typeof Z!="object"?null:(Z=x&&Z[x]||Z["@@iterator"],typeof Z=="function"?Z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function O(Z,z,Q){this.props=Z,this.context=z,this.refs=C,this.updater=Q||S}O.prototype.isReactComponent={},O.prototype.setState=function(Z,z){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,z,"setState")},O.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function V(){}V.prototype=O.prototype;function D(Z,z,Q){this.props=Z,this.context=z,this.refs=C,this.updater=Q||S}var H=D.prototype=new V;H.constructor=D,A(H,O.prototype),H.isPureReactComponent=!0;var B=Array.isArray;function j(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function b(Z,z,Q){var te=Q.ref;return{$$typeof:t,type:Z,key:z,ref:te!==void 0?te:null,props:Q}}function F(Z,z){return b(Z.type,z,Z.props)}function M(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function k(Z){var z={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Q){return z[Q]})}var U=/\/+/g;function Te(Z,z){return typeof Z=="object"&&Z!==null&&Z.key!=null?k(""+Z.key):z.toString(36)}function ye(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(j,j):(Z.status="pending",Z.then(function(z){Z.status==="pending"&&(Z.status="fulfilled",Z.value=z)},function(z){Z.status==="pending"&&(Z.status="rejected",Z.reason=z)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function ae(Z,z,Q,te,X){var ce=typeof Z;(ce==="undefined"||ce==="boolean")&&(Z=null);var Ce=!1;if(Z===null)Ce=!0;else switch(ce){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(Z.$$typeof){case t:case e:Ce=!0;break;case h:return Ce=Z._init,ae(Ce(Z._payload),z,Q,te,X)}}if(Ce)return X=X(Z),Ce=te===""?"."+Te(Z,0):te,B(X)?(Q="",Ce!=null&&(Q=Ce.replace(U,"$&/")+"/"),ae(X,z,Q,"",function(Ae){return Ae})):X!=null&&(M(X)&&(X=F(X,Q+(X.key==null||Z&&Z.key===X.key?"":(""+X.key).replace(U,"$&/")+"/")+Ce)),z.push(X)),1;Ce=0;var be=te===""?".":te+":";if(B(Z))for(var Ee=0;Ee<Z.length;Ee++)te=Z[Ee],ce=be+Te(te,Ee),Ce+=ae(te,z,Q,ce,X);else if(Ee=E(Z),typeof Ee=="function")for(Z=Ee.call(Z),Ee=0;!(te=Z.next()).done;)te=te.value,ce=be+Te(te,Ee++),Ce+=ae(te,z,Q,ce,X);else if(ce==="object"){if(typeof Z.then=="function")return ae(ye(Z),z,Q,te,X);throw z=String(Z),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function oe(Z,z,Q){if(Z==null)return Z;var te=[],X=0;return ae(Z,te,"","",function(ce){return z.call(Q,ce,X++)}),te}function Re(Z){if(Z._status===-1){var z=Z._result;z=z(),z.then(function(Q){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Q)},function(Q){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Q)}),Z._status===-1&&(Z._status=0,Z._result=z)}if(Z._status===1)return Z._result.default;throw Z._result}var ie=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},Le={map:oe,forEach:function(Z,z,Q){oe(Z,function(){z.apply(this,arguments)},Q)},count:function(Z){var z=0;return oe(Z,function(){z++}),z},toArray:function(Z){return oe(Z,function(z){return z})||[]},only:function(Z){if(!M(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return _t.Activity=g,_t.Children=Le,_t.Component=O,_t.Fragment=n,_t.Profiler=i,_t.PureComponent=D,_t.StrictMode=r,_t.Suspense=f,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,_t.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return N.H.useMemoCache(Z)}},_t.cache=function(Z){return function(){return Z.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(Z,z,Q){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var te=A({},Z.props),X=Z.key;if(z!=null)for(ce in z.key!==void 0&&(X=""+z.key),z)!I.call(z,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&z.ref===void 0||(te[ce]=z[ce]);var ce=arguments.length-2;if(ce===1)te.children=Q;else if(1<ce){for(var Ce=Array(ce),be=0;be<ce;be++)Ce[be]=arguments[be+2];te.children=Ce}return b(Z.type,X,te)},_t.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:s,_context:Z},Z},_t.createElement=function(Z,z,Q){var te,X={},ce=null;if(z!=null)for(te in z.key!==void 0&&(ce=""+z.key),z)I.call(z,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(X[te]=z[te]);var Ce=arguments.length-2;if(Ce===1)X.children=Q;else if(1<Ce){for(var be=Array(Ce),Ee=0;Ee<Ce;Ee++)be[Ee]=arguments[Ee+2];X.children=be}if(Z&&Z.defaultProps)for(te in Ce=Z.defaultProps,Ce)X[te]===void 0&&(X[te]=Ce[te]);return b(Z,ce,X)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(Z){return{$$typeof:c,render:Z}},_t.isValidElement=M,_t.lazy=function(Z){return{$$typeof:h,_payload:{_status:-1,_result:Z},_init:Re}},_t.memo=function(Z,z){return{$$typeof:d,type:Z,compare:z===void 0?null:z}},_t.startTransition=function(Z){var z=N.T,Q={};N.T=Q;try{var te=Z(),X=N.S;X!==null&&X(Q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(j,ie)}catch(ce){ie(ce)}finally{z!==null&&Q.types!==null&&(z.types=Q.types),N.T=z}},_t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},_t.use=function(Z){return N.H.use(Z)},_t.useActionState=function(Z,z,Q){return N.H.useActionState(Z,z,Q)},_t.useCallback=function(Z,z){return N.H.useCallback(Z,z)},_t.useContext=function(Z){return N.H.useContext(Z)},_t.useDebugValue=function(){},_t.useDeferredValue=function(Z,z){return N.H.useDeferredValue(Z,z)},_t.useEffect=function(Z,z){return N.H.useEffect(Z,z)},_t.useEffectEvent=function(Z){return N.H.useEffectEvent(Z)},_t.useId=function(){return N.H.useId()},_t.useImperativeHandle=function(Z,z,Q){return N.H.useImperativeHandle(Z,z,Q)},_t.useInsertionEffect=function(Z,z){return N.H.useInsertionEffect(Z,z)},_t.useLayoutEffect=function(Z,z){return N.H.useLayoutEffect(Z,z)},_t.useMemo=function(Z,z){return N.H.useMemo(Z,z)},_t.useOptimistic=function(Z,z){return N.H.useOptimistic(Z,z)},_t.useReducer=function(Z,z,Q){return N.H.useReducer(Z,z,Q)},_t.useRef=function(Z){return N.H.useRef(Z)},_t.useState=function(Z){return N.H.useState(Z)},_t.useSyncExternalStore=function(Z,z,Q){return N.H.useSyncExternalStore(Z,z,Q)},_t.useTransition=function(){return N.H.useTransition()},_t.version="19.2.4",_t}var _T;function x1(){return _T||(_T=1,kg.exports=rD()),kg.exports}var fe=x1();const Qn=ap(fe);var Dg={exports:{}},Zu={},Mg={exports:{}},Pg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function iD(){return ET||(ET=1,(function(t){function e(ae,oe){var Re=ae.length;ae.push(oe);e:for(;0<Re;){var ie=Re-1>>>1,Le=ae[ie];if(0<i(Le,oe))ae[ie]=oe,ae[Re]=Le,Re=ie;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var oe=ae[0],Re=ae.pop();if(Re!==oe){ae[0]=Re;e:for(var ie=0,Le=ae.length,Z=Le>>>1;ie<Z;){var z=2*(ie+1)-1,Q=ae[z],te=z+1,X=ae[te];if(0>i(Q,Re))te<Le&&0>i(X,Q)?(ae[ie]=X,ae[te]=Re,ie=te):(ae[ie]=Q,ae[z]=Re,ie=z);else if(te<Le&&0>i(X,Re))ae[ie]=X,ae[te]=Re,ie=te;else break e}}return oe}function i(ae,oe){var Re=ae.sortIndex-oe.sortIndex;return Re!==0?Re:ae.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var f=[],d=[],h=1,g=null,x=3,E=!1,S=!1,A=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function H(ae){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=ae)r(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(d)}}function B(ae){if(A=!1,H(ae),!S)if(n(f)!==null)S=!0,j||(j=!0,k());else{var oe=n(d);oe!==null&&ye(B,oe.startTime-ae)}}var j=!1,N=-1,I=5,b=-1;function F(){return C?!0:!(t.unstable_now()-b<I)}function M(){if(C=!1,j){var ae=t.unstable_now();b=ae;var oe=!0;try{e:{S=!1,A&&(A=!1,V(N),N=-1),E=!0;var Re=x;try{t:{for(H(ae),g=n(f);g!==null&&!(g.expirationTime>ae&&F());){var ie=g.callback;if(typeof ie=="function"){g.callback=null,x=g.priorityLevel;var Le=ie(g.expirationTime<=ae);if(ae=t.unstable_now(),typeof Le=="function"){g.callback=Le,H(ae),oe=!0;break t}g===n(f)&&r(f),H(ae)}else r(f);g=n(f)}if(g!==null)oe=!0;else{var Z=n(d);Z!==null&&ye(B,Z.startTime-ae),oe=!1}}break e}finally{g=null,x=Re,E=!1}oe=void 0}}finally{oe?k():j=!1}}}var k;if(typeof D=="function")k=function(){D(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Te=U.port2;U.port1.onmessage=M,k=function(){Te.postMessage(null)}}else k=function(){O(M,0)};function ye(ae,oe){N=O(function(){ae(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var Re=x;x=oe;try{return ae()}finally{x=Re}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ae,oe){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Re=x;x=ae;try{return oe()}finally{x=Re}},t.unstable_scheduleCallback=function(ae,oe,Re){var ie=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?ie+Re:ie):Re=ie,ae){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=Re+Le,ae={id:h++,callback:oe,priorityLevel:ae,startTime:Re,expirationTime:Le,sortIndex:-1},Re>ie?(ae.sortIndex=Re,e(d,ae),n(f)===null&&ae===n(d)&&(A?(V(N),N=-1):A=!0,ye(B,Re-ie))):(ae.sortIndex=Le,e(f,ae),S||E||(S=!0,j||(j=!0,k()))),ae},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ae){var oe=x;return function(){var Re=x;x=oe;try{return ae.apply(this,arguments)}finally{x=Re}}}})(Pg)),Pg}var TT;function sD(){return TT||(TT=1,Mg.exports=iD()),Mg.exports}var Fg={exports:{}},Pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT;function aD(){if(wT)return Pr;wT=1;var t=x1();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,h)},Pr.flushSync=function(f){var d=o.T,h=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=h,r.d.f()}},Pr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Pr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Pr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin),x=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:E}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:x,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Pr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Pr.requestFormReset=function(f){r.d.r(f)},Pr.unstable_batchedUpdates=function(f,d){return f(d)},Pr.useFormState=function(f,d,h){return o.H.useFormState(f,d,h)},Pr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Pr.version="19.2.4",Pr}var ST;function rC(){if(ST)return Fg.exports;ST=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fg.exports=aD(),Fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function oD(){if(AT)return Zu;AT=1;var t=sD(),e=x1(),n=rC();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var u=a,p=l;;){var _=u.return;if(_===null)break;var T=_.alternate;if(T===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===u)return f(_),a;if(T===p)return f(_),l;T=T.sibling}throw Error(r(188))}if(u.return!==p.return)u=_,p=T;else{for(var P=!1,q=_.child;q;){if(q===u){P=!0,u=_,p=T;break}if(q===p){P=!0,p=_,u=T;break}q=q.sibling}if(!P){for(q=T.child;q;){if(q===u){P=!0,u=T,p=_;break}if(q===p){P=!0,p=T,u=_;break}q=q.sibling}if(!P)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function Te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case B:return"Suspense";case j:return"SuspenseList";case b:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case D:return a.displayName||"Context";case V:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return l=a.displayName||null,l!==null?l:Te(a.type)||"Memo";case I:l=a._payload,a=a._init;try{return Te(a(l))}catch{}}return null}var ye=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},ie=[],Le=-1;function Z(a){return{current:a}}function z(a){0>Le||(a.current=ie[Le],ie[Le]=null,Le--)}function Q(a,l){Le++,ie[Le]=a.current,a.current=l}var te=Z(null),X=Z(null),ce=Z(null),Ce=Z(null);function be(a,l){switch(Q(ce,l),Q(X,a),Q(te,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?UE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=UE(l),a=VE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(te),Q(te,a)}function Ee(){z(te),z(X),z(ce)}function Ae(a){a.memoizedState!==null&&Q(Ce,a);var l=te.current,u=VE(l,a.type);l!==u&&(Q(X,a),Q(te,u))}function Oe(a){X.current===a&&(z(te),z(X)),Ce.current===a&&(z(Ce),ju._currentValue=Re)}var ne,mt;function Je(a){if(ne===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);ne=l&&l[1]||"",mt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+mt}var Qe=!1;function Ge(a,l){if(!a||Qe)return"";Qe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(Se){var _e=Se}Reflect.construct(a,[],De)}else{try{De.call()}catch(Se){_e=Se}a.call(De.prototype)}}else{try{throw Error()}catch(Se){_e=Se}(De=a())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(Se){if(Se&&_e&&typeof Se.stack=="string")return[Se.stack,_e.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=p.DetermineComponentFrameRoot(),P=T[0],q=T[1];if(P&&q){var se=P.split(`
`),ge=q.split(`
`);for(_=p=0;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;for(;_<ge.length&&!ge[_].includes("DetermineComponentFrameRoot");)_++;if(p===se.length||_===ge.length)for(p=se.length-1,_=ge.length-1;1<=p&&0<=_&&se[p]!==ge[_];)_--;for(;1<=p&&0<=_;p--,_--)if(se[p]!==ge[_]){if(p!==1||_!==1)do if(p--,_--,0>_||se[p]!==ge[_]){var Ne=`
`+se[p].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=p&&0<=_);break}}}finally{Qe=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Je(u):""}function ze(a,l){switch(a.tag){case 26:case 27:case 5:return Je(a.type);case 16:return Je("Lazy");case 13:return a.child!==l&&l!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return Ge(a.type,!1);case 11:return Ge(a.type.render,!1);case 1:return Ge(a.type,!0);case 31:return Je("Activity");default:return""}}function tt(a){try{var l="",u=null;do l+=ze(a,u),u=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var rt=Object.prototype.hasOwnProperty,ut=t.unstable_scheduleCallback,Kt=t.unstable_cancelCallback,hn=t.unstable_shouldYield,Hn=t.unstable_requestPaint,dt=t.unstable_now,Yt=t.unstable_getCurrentPriorityLevel,vt=t.unstable_ImmediatePriority,ln=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,Gn=t.unstable_LowPriority,ht=t.unstable_IdlePriority,Ft=t.log,Xt=t.unstable_setDisableYieldValue,bt=null,Qt=null;function pr(a){if(typeof Ft=="function"&&Xt(a),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(bt,a)}catch{}}var xn=Math.clz32?Math.clz32:Hs,Ta=Math.log,Ji=Math.LN2;function Hs(a){return a>>>=0,a===0?32:31-(Ta(a)/Ji|0)|0}var jr=256,Wi=262144,Tn=4194304;function mr(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function wn(a,l,u){var p=a.pendingLanes;if(p===0)return 0;var _=0,T=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var q=p&134217727;return q!==0?(p=q&~T,p!==0?_=mr(p):(P&=q,P!==0?_=mr(P):u||(u=q&~a,u!==0&&(_=mr(u))))):(q=p&~T,q!==0?_=mr(q):P!==0?_=mr(P):u||(u=p&~a,u!==0&&(_=mr(u)))),_===0?0:l!==0&&l!==_&&(l&T)===0&&(T=_&-_,u=l&-l,T>=u||T===32&&(u&4194048)!==0)?l:_}function gr(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Pe(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var a=Tn;return Tn<<=1,(Tn&62914560)===0&&(Tn=4194304),a}function Ke(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function ot(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ut(a,l,u,p,_,T){var P=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,se=a.expirationTimes,ge=a.hiddenUpdates;for(u=P&~u;0<u;){var Ne=31-xn(u),De=1<<Ne;q[Ne]=0,se[Ne]=-1;var _e=ge[Ne];if(_e!==null)for(ge[Ne]=null,Ne=0;Ne<_e.length;Ne++){var Se=_e[Ne];Se!==null&&(Se.lane&=-536870913)}u&=~De}p!==0&&Jt(a,p,0),T!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=T&~(P&~l))}function Jt(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-xn(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function pn(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var p=31-xn(u),_=1<<p;_&l|a[p]&l&&(a[p]|=l),u&=~_}}function vr(a,l){var u=l&-l;return u=(u&42)!==0?1:xr(u),(u&(a.suspendedLanes|l))!==0?0:u}function xr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function yr(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function G(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:lT(a.type))}function W(a,l){var u=oe.p;try{return oe.p=a,l()}finally{oe.p=u}}var K=Math.random().toString(36).slice(2),J="__reactFiber$"+K,ee="__reactProps$"+K,re="__reactContainer$"+K,pe="__reactEvents$"+K,Ie="__reactListeners$"+K,me="__reactHandles$"+K,xe="__reactResources$"+K,ve="__reactMarker$"+K;function Be(a){delete a[J],delete a[ee],delete a[pe],delete a[Ie],delete a[me]}function He(a){var l=a[J];if(l)return l;for(var u=a.parentNode;u;){if(l=u[re]||u[J]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=jE(a);a!==null;){if(u=a[J])return u;a=jE(a)}return l}a=u,u=a.parentNode}return null}function je(a){if(a=a[J]||a[re]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Ue(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function $e(a){var l=a[xe];return l||(l=a[xe]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Xe(a){a[ve]=!0}var tn=new Set,nn={};function mn(a,l){Dr(a,l),Dr(a+"Capture",l)}function Dr(a,l){for(nn[a]=l,a=0;a<l.length;a++)tn.add(l[a])}var Zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xi={},pi={};function wa(a){return rt.call(pi,a)?!0:rt.call(Xi,a)?!1:Zi.test(a)?pi[a]=!0:(Xi[a]=!0,!1)}function Mr(a,l,u){if(wa(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function mi(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function qn(a,l,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+p)}}function or(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Sa(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function iu(a,l,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,T=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return _.call(this)},set:function(P){u=""+P,T.call(this,P)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(P){u=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function rn(a){if(!a._valueTracker){var l=Sa(a)?"checked":"value";a._valueTracker=iu(a,l,""+a[l])}}function Io(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),p="";return a&&(p=Sa(a)?a.checked?"true":"false":a.value),a=p,a!==u?(l.setValue(a),!0):!1}function xs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var No=/[\n"\\]/g;function ri(a){return a.replace(No,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function kl(a,l,u,p,_,T,P,q){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+or(l)):a.value!==""+or(l)&&(a.value=""+or(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?su(a,P,or(l)):u!=null?su(a,P,or(u)):p!=null&&a.removeAttribute("value"),_==null&&T!=null&&(a.defaultChecked=!!T),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+or(q):a.removeAttribute("name")}function yd(a,l,u,p,_,T,P,q){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),l!=null||u!=null){if(!(T!=="submit"&&T!=="reset"||l!=null)){rn(a);return}u=u!=null?""+or(u):"",l=l!=null?""+or(l):u,q||l===a.value||(a.value=l),a.defaultValue=l}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=q?a.checked:!!p,a.defaultChecked=!!p,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),rn(a)}function su(a,l,u){l==="number"&&xs(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Aa(a,l,u,p){if(a=a.options,l){l={};for(var _=0;_<u.length;_++)l["$"+u[_]]=!0;for(u=0;u<a.length;u++)_=l.hasOwnProperty("$"+a[u].value),a[u].selected!==_&&(a[u].selected=_),_&&p&&(a[u].defaultSelected=!0)}else{for(u=""+or(u),l=null,_=0;_<a.length;_++){if(a[_].value===u){a[_].selected=!0,p&&(a[_].defaultSelected=!0);return}l!==null||a[_].disabled||(l=a[_])}l!==null&&(l.selected=!0)}}function _d(a,l,u){if(l!=null&&(l=""+or(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+or(u):""}function Ca(a,l,u,p){if(l==null){if(p!=null){if(u!=null)throw Error(r(92));if(ye(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),l=u}u=or(l),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),rn(a)}function ii(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var Ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function au(a,l,u){var p=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,u):typeof u!="number"||u===0||Ed.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function ou(a,l,u){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var _ in l)p=l[_],l.hasOwnProperty(_)&&u[_]!==p&&au(a,_,p)}else for(var T in l)l.hasOwnProperty(T)&&au(a,T,l[T])}function Dl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ba=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ml(a){return ba.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Qi(){}var lu=null;function bi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ia=null,ys=null;function Ro(a){var l=je(a);if(l&&(a=l.stateNode)){var u=a[ee]||null;e:switch(a=l.stateNode,l.type){case"input":if(kl(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ri(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var p=u[l];if(p!==a&&p.form===a.form){var _=p[ee]||null;if(!_)throw Error(r(90));kl(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<u.length;l++)p=u[l],p.form===a.form&&Io(p)}break e;case"textarea":_d(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Aa(a,!!u.multiple,l,!1)}}}var Pl=!1;function Na(a,l,u){if(Pl)return a(l,u);Pl=!0;try{var p=a(l);return p}finally{if(Pl=!1,(Ia!==null||ys!==null)&&(mh(),Ia&&(l=Ia,a=ys,ys=Ia=null,Ro(l),a)))for(l=0;l<a.length;l++)Ro(a[l])}}function es(a,l){var u=a.stateNode;if(u===null)return null;var p=u[ee]||null;if(p===null)return null;u=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,l,typeof u));return u}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(Ii)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){ko=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{ko=!1}var _s=null,cu=null,Do=null;function uu(){if(Do)return Do;var a,l=cu,u=l.length,p,_="value"in _s?_s.value:_s.textContent,T=_.length;for(a=0;a<u&&l[a]===_[a];a++);var P=u-a;for(p=1;p<=P&&l[u-p]===_[T-p];p++);return Do=_.slice(a,1<p?1-p:void 0)}function Mo(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Gs(){return!0}function ts(){return!1}function _r(a){function l(u,p,_,T,P){this._reactName=u,this._targetInst=_,this.type=p,this.nativeEvent=T,this.target=P,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Gs:ts,this.isPropagationStopped=ts,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),l}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=_r(qs),Ra=g({},qs,{view:0,detail:0}),fu=_r(Ra),ka,Fl,Ts,Ol=g({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ts&&(Ts&&a.type==="mousemove"?(ka=a.screenX-Ts.screenX,Fl=a.screenY-Ts.screenY):Fl=ka=0,Ts=a),ka)},movementY:function(a){return"movementY"in a?a.movementY:Fl}}),du=_r(Ol),Po=g({},Ol,{dataTransfer:0}),wd=_r(Po),Sd=g({},Ra,{relatedTarget:0}),Fo=_r(Sd),hu=g({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ad=_r(hu),Ll=g({},qs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cd=_r(Ll),bd=g({},qs,{data:0}),ws=_r(bd),Id={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kd(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Rd[a])?!!l[a]:!1}function Da(){return kd}var Kr=g({},Ra,{key:function(a){if(a.key){var l=Id[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Mo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(a){return a.type==="keypress"?Mo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Dd=_r(Kr),Md=g({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=_r(Md),y=g({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),R=_r(y),L=g({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y=_r(L),de=g({},Ol,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),we=_r(de),qe=g({},qs,{newState:0,oldState:0}),wt=_r(qe),Fn=[9,13,27,32],Wt=Ii&&"CompositionEvent"in window,Sn=null;Ii&&"documentMode"in document&&(Sn=document.documentMode);var Ni=Ii&&"TextEvent"in window&&!Sn,Ss=Ii&&(!Wt||Sn&&8<Sn&&11>=Sn),ns=" ",rs=!1;function Oo(a,l){switch(a){case"keyup":return Fn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ul(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Vl=!1;function wk(a,l){switch(a){case"compositionend":return Ul(l);case"keypress":return l.which!==32?null:(rs=!0,ns);case"textInput":return a=l.data,a===ns&&rs?null:a;default:return null}}function Sk(a,l){if(Vl)return a==="compositionend"||!Wt&&Oo(a,l)?(a=uu(),Do=cu=_s=null,Vl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ss&&l.locale!=="ko"?null:l.data;default:return null}}var Ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jx(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Ak[a.type]:l==="textarea"}function Wx(a,l,u,p){Ia?ys?ys.push(p):ys=[p]:Ia=p,l=Th(l,"onChange"),0<l.length&&(u=new Es("onChange","change",null,u,p),a.push({event:u,listeners:l}))}var pu=null,mu=null;function Ck(a){DE(a,0)}function Pd(a){var l=Ue(a);if(Io(l))return a}function Zx(a,l){if(a==="change")return l}var Xx=!1;if(Ii){var Fp;if(Ii){var Op="oninput"in document;if(!Op){var Qx=document.createElement("div");Qx.setAttribute("oninput","return;"),Op=typeof Qx.oninput=="function"}Fp=Op}else Fp=!1;Xx=Fp&&(!document.documentMode||9<document.documentMode)}function ey(){pu&&(pu.detachEvent("onpropertychange",ty),mu=pu=null)}function ty(a){if(a.propertyName==="value"&&Pd(mu)){var l=[];Wx(l,mu,a,bi(a)),Na(Ck,l)}}function bk(a,l,u){a==="focusin"?(ey(),pu=l,mu=u,pu.attachEvent("onpropertychange",ty)):a==="focusout"&&ey()}function Ik(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Pd(mu)}function Nk(a,l){if(a==="click")return Pd(l)}function Rk(a,l){if(a==="input"||a==="change")return Pd(l)}function kk(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var gi=typeof Object.is=="function"?Object.is:kk;function gu(a,l){if(gi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),p=Object.keys(l);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!rt.call(l,_)||!gi(a[_],l[_]))return!1}return!0}function ny(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ry(a,l){var u=ny(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=l&&p>=l)return{node:u,offset:l-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=ny(u)}}function iy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?iy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function sy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=xs(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=xs(a.document)}return l}function Lp(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Dk=Ii&&"documentMode"in document&&11>=document.documentMode,Bl=null,Up=null,vu=null,Vp=!1;function ay(a,l,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Vp||Bl==null||Bl!==xs(p)||(p=Bl,"selectionStart"in p&&Lp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),vu&&gu(vu,p)||(vu=p,p=Th(Up,"onSelect"),0<p.length&&(l=new Es("onSelect","select",null,l,u),a.push({event:l,listeners:p}),l.target=Bl)))}function Lo(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var zl={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionrun:Lo("Transition","TransitionRun"),transitionstart:Lo("Transition","TransitionStart"),transitioncancel:Lo("Transition","TransitionCancel"),transitionend:Lo("Transition","TransitionEnd")},Bp={},oy={};Ii&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function Uo(a){if(Bp[a])return Bp[a];if(!zl[a])return a;var l=zl[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in oy)return Bp[a]=l[u];return a}var ly=Uo("animationend"),cy=Uo("animationiteration"),uy=Uo("animationstart"),Mk=Uo("transitionrun"),Pk=Uo("transitionstart"),Fk=Uo("transitioncancel"),fy=Uo("transitionend"),dy=new Map,zp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zp.push("scrollEnd");function is(a,l){dy.set(a,l),mn(l,[a])}var Fd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Ri=[],Hl=0,Hp=0;function Od(){for(var a=Hl,l=Hp=Hl=0;l<a;){var u=Ri[l];Ri[l++]=null;var p=Ri[l];Ri[l++]=null;var _=Ri[l];Ri[l++]=null;var T=Ri[l];if(Ri[l++]=null,p!==null&&_!==null){var P=p.pending;P===null?_.next=_:(_.next=P.next,P.next=_),p.pending=_}T!==0&&hy(u,_,T)}}function Ld(a,l,u,p){Ri[Hl++]=a,Ri[Hl++]=l,Ri[Hl++]=u,Ri[Hl++]=p,Hp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Gp(a,l,u,p){return Ld(a,l,u,p),Ud(a)}function Vo(a,l){return Ld(a,null,null,l),Ud(a)}function hy(a,l,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var _=!1,T=a.return;T!==null;)T.childLanes|=u,p=T.alternate,p!==null&&(p.childLanes|=u),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(_=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,_&&l!==null&&(_=31-xn(u),a=T.hiddenUpdates,p=a[_],p===null?a[_]=[l]:p.push(l),l.lane=u|536870912),T):null}function Ud(a){if(50<Vu)throw Vu=0,Xm=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Gl={};function Ok(a,l,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(a,l,u,p){return new Ok(a,l,u,p)}function qp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function js(a,l){var u=a.alternate;return u===null?(u=vi(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function py(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Vd(a,l,u,p,_,T){var P=0;if(p=a,typeof a=="function")qp(a)&&(P=1);else if(typeof a=="string")P=z4(a,u,te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case b:return a=vi(31,u,l,_),a.elementType=b,a.lanes=T,a;case A:return Bo(u.children,_,T,l);case C:P=8,_|=24;break;case O:return a=vi(12,u,l,_|2),a.elementType=O,a.lanes=T,a;case B:return a=vi(13,u,l,_),a.elementType=B,a.lanes=T,a;case j:return a=vi(19,u,l,_),a.elementType=j,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:P=10;break e;case V:P=9;break e;case H:P=11;break e;case N:P=14;break e;case I:P=16,p=null;break e}P=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return l=vi(P,u,l,_),l.elementType=a,l.type=p,l.lanes=T,l}function Bo(a,l,u,p){return a=vi(7,a,p,l),a.lanes=u,a}function $p(a,l,u){return a=vi(6,a,null,l),a.lanes=u,a}function my(a){var l=vi(18,null,null,0);return l.stateNode=a,l}function jp(a,l,u){return l=vi(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var gy=new WeakMap;function ki(a,l){if(typeof a=="object"&&a!==null){var u=gy.get(a);return u!==void 0?u:(l={value:a,source:l,stack:tt(l)},gy.set(a,l),l)}return{value:a,source:l,stack:tt(l)}}var ql=[],$l=0,Bd=null,xu=0,Di=[],Mi=0,Ma=null,As=1,Cs="";function Ks(a,l){ql[$l++]=xu,ql[$l++]=Bd,Bd=a,xu=l}function vy(a,l,u){Di[Mi++]=As,Di[Mi++]=Cs,Di[Mi++]=Ma,Ma=a;var p=As;a=Cs;var _=32-xn(p)-1;p&=~(1<<_),u+=1;var T=32-xn(l)+_;if(30<T){var P=_-_%5;T=(p&(1<<P)-1).toString(32),p>>=P,_-=P,As=1<<32-xn(l)+_|u<<_|p,Cs=T+a}else As=1<<T|u<<_|p,Cs=a}function Kp(a){a.return!==null&&(Ks(a,1),vy(a,1,0))}function Yp(a){for(;a===Bd;)Bd=ql[--$l],ql[$l]=null,xu=ql[--$l],ql[$l]=null;for(;a===Ma;)Ma=Di[--Mi],Di[Mi]=null,Cs=Di[--Mi],Di[Mi]=null,As=Di[--Mi],Di[Mi]=null}function xy(a,l){Di[Mi++]=As,Di[Mi++]=Cs,Di[Mi++]=Ma,As=l.id,Cs=l.overflow,Ma=a}var Er=null,yn=null,Ot=!1,Pa=null,Pi=!1,Jp=Error(r(519));function Fa(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yu(ki(l,a)),Jp}function yy(a){var l=a.stateNode,u=a.type,p=a.memoizedProps;switch(l[J]=a,l[ee]=p,u){case"dialog":Nt("cancel",l),Nt("close",l);break;case"iframe":case"object":case"embed":Nt("load",l);break;case"video":case"audio":for(u=0;u<zu.length;u++)Nt(zu[u],l);break;case"source":Nt("error",l);break;case"img":case"image":case"link":Nt("error",l),Nt("load",l);break;case"details":Nt("toggle",l);break;case"input":Nt("invalid",l),yd(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Nt("invalid",l);break;case"textarea":Nt("invalid",l),Ca(l,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||p.suppressHydrationWarning===!0||OE(l.textContent,u)?(p.popover!=null&&(Nt("beforetoggle",l),Nt("toggle",l)),p.onScroll!=null&&Nt("scroll",l),p.onScrollEnd!=null&&Nt("scrollend",l),p.onClick!=null&&(l.onclick=Qi),l=!0):l=!1,l||Fa(a,!0)}function _y(a){for(Er=a.return;Er;)switch(Er.tag){case 5:case 31:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:Er=Er.return}}function jl(a){if(a!==Er)return!1;if(!Ot)return _y(a),Ot=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||hg(a.type,a.memoizedProps)),u=!u),u&&yn&&Fa(a),_y(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));yn=$E(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));yn=$E(a)}else l===27?(l=yn,Ja(a.type)?(a=xg,xg=null,yn=a):yn=l):yn=Er?Oi(a.stateNode.nextSibling):null;return!0}function zo(){yn=Er=null,Ot=!1}function Wp(){var a=Pa;return a!==null&&(li===null?li=a:li.push.apply(li,a),Pa=null),a}function yu(a){Pa===null?Pa=[a]:Pa.push(a)}var Zp=Z(null),Ho=null,Ys=null;function Oa(a,l,u){Q(Zp,l._currentValue),l._currentValue=u}function Js(a){a._currentValue=Zp.current,z(Zp)}function Xp(a,l,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===u)break;a=a.return}}function Qp(a,l,u,p){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var T=_.dependencies;if(T!==null){var P=_.child;T=T.firstContext;e:for(;T!==null;){var q=T;T=_;for(var se=0;se<l.length;se++)if(q.context===l[se]){T.lanes|=u,q=T.alternate,q!==null&&(q.lanes|=u),Xp(T.return,u,a),p||(P=null);break e}T=q.next}}else if(_.tag===18){if(P=_.return,P===null)throw Error(r(341));P.lanes|=u,T=P.alternate,T!==null&&(T.lanes|=u),Xp(P,u,a),P=null}else P=_.child;if(P!==null)P.return=_;else for(P=_;P!==null;){if(P===a){P=null;break}if(_=P.sibling,_!==null){_.return=P.return,P=_;break}P=P.return}_=P}}function Kl(a,l,u,p){a=null;for(var _=l,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var P=_.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var q=_.type;gi(_.pendingProps.value,P.value)||(a!==null?a.push(q):a=[q])}}else if(_===Ce.current){if(P=_.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(ju):a=[ju])}_=_.return}a!==null&&Qp(l,a,u,p),l.flags|=262144}function zd(a){for(a=a.firstContext;a!==null;){if(!gi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Go(a){Ho=a,Ys=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Tr(a){return Ey(Ho,a)}function Hd(a,l){return Ho===null&&Go(a),Ey(a,l)}function Ey(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Ys===null){if(a===null)throw Error(r(308));Ys=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Ys=Ys.next=l;return u}var Lk=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},Uk=t.unstable_scheduleCallback,Vk=t.unstable_NormalPriority,$n={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function em(){return{controller:new Lk,data:new Map,refCount:0}}function _u(a){a.refCount--,a.refCount===0&&Uk(Vk,function(){a.controller.abort()})}var Eu=null,tm=0,Yl=0,Jl=null;function Bk(a,l){if(Eu===null){var u=Eu=[];tm=0,Yl=ig(),Jl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return tm++,l.then(Ty,Ty),l}function Ty(){if(--tm===0&&Eu!==null){Jl!==null&&(Jl.status="fulfilled");var a=Eu;Eu=null,Yl=0,Jl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function zk(a,l){var u=[],p={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var _=0;_<u.length;_++)(0,u[_])(l)},function(_){for(p.status="rejected",p.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),p}var wy=ae.S;ae.S=function(a,l){aE=dt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Bk(a,l),wy!==null&&wy(a,l)};var qo=Z(null);function nm(){var a=qo.current;return a!==null?a:gn.pooledCache}function Gd(a,l){l===null?Q(qo,qo.current):Q(qo,l.pool)}function Sy(){var a=nm();return a===null?null:{parent:$n._currentValue,pool:a}}var Wl=Error(r(460)),rm=Error(r(474)),qd=Error(r(542)),$d={then:function(){}};function Ay(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Cy(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(Qi,Qi),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Iy(a),a;default:if(typeof l.status=="string")l.then(Qi,Qi);else{if(a=gn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=p}},function(p){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Iy(a),a}throw jo=l,Wl}}function $o(a){try{var l=a._init;return l(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(jo=u,Wl):u}}var jo=null;function by(){if(jo===null)throw Error(r(459));var a=jo;return jo=null,a}function Iy(a){if(a===Wl||a===qd)throw Error(r(483))}var Zl=null,Tu=0;function jd(a){var l=Tu;return Tu+=1,Zl===null&&(Zl=[]),Cy(Zl,a,l)}function wu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Kd(a,l){throw l.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Ny(a){function l(ue,le){if(a){var he=ue.deletions;he===null?(ue.deletions=[le],ue.flags|=16):he.push(le)}}function u(ue,le){if(!a)return null;for(;le!==null;)l(ue,le),le=le.sibling;return null}function p(ue){for(var le=new Map;ue!==null;)ue.key!==null?le.set(ue.key,ue):le.set(ue.index,ue),ue=ue.sibling;return le}function _(ue,le){return ue=js(ue,le),ue.index=0,ue.sibling=null,ue}function T(ue,le,he){return ue.index=he,a?(he=ue.alternate,he!==null?(he=he.index,he<le?(ue.flags|=67108866,le):he):(ue.flags|=67108866,le)):(ue.flags|=1048576,le)}function P(ue){return a&&ue.alternate===null&&(ue.flags|=67108866),ue}function q(ue,le,he,ke){return le===null||le.tag!==6?(le=$p(he,ue.mode,ke),le.return=ue,le):(le=_(le,he),le.return=ue,le)}function se(ue,le,he,ke){var st=he.type;return st===A?Ne(ue,le,he.props.children,ke,he.key):le!==null&&(le.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===I&&$o(st)===le.type)?(le=_(le,he.props),wu(le,he),le.return=ue,le):(le=Vd(he.type,he.key,he.props,null,ue.mode,ke),wu(le,he),le.return=ue,le)}function ge(ue,le,he,ke){return le===null||le.tag!==4||le.stateNode.containerInfo!==he.containerInfo||le.stateNode.implementation!==he.implementation?(le=jp(he,ue.mode,ke),le.return=ue,le):(le=_(le,he.children||[]),le.return=ue,le)}function Ne(ue,le,he,ke,st){return le===null||le.tag!==7?(le=Bo(he,ue.mode,ke,st),le.return=ue,le):(le=_(le,he),le.return=ue,le)}function De(ue,le,he){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=$p(""+le,ue.mode,he),le.return=ue,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return he=Vd(le.type,le.key,le.props,null,ue.mode,he),wu(he,le),he.return=ue,he;case S:return le=jp(le,ue.mode,he),le.return=ue,le;case I:return le=$o(le),De(ue,le,he)}if(ye(le)||k(le))return le=Bo(le,ue.mode,he,null),le.return=ue,le;if(typeof le.then=="function")return De(ue,jd(le),he);if(le.$$typeof===D)return De(ue,Hd(ue,le),he);Kd(ue,le)}return null}function _e(ue,le,he,ke){var st=le!==null?le.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return st!==null?null:q(ue,le,""+he,ke);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return he.key===st?se(ue,le,he,ke):null;case S:return he.key===st?ge(ue,le,he,ke):null;case I:return he=$o(he),_e(ue,le,he,ke)}if(ye(he)||k(he))return st!==null?null:Ne(ue,le,he,ke,null);if(typeof he.then=="function")return _e(ue,le,jd(he),ke);if(he.$$typeof===D)return _e(ue,le,Hd(ue,he),ke);Kd(ue,he)}return null}function Se(ue,le,he,ke,st){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ue=ue.get(he)||null,q(le,ue,""+ke,st);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case E:return ue=ue.get(ke.key===null?he:ke.key)||null,se(le,ue,ke,st);case S:return ue=ue.get(ke.key===null?he:ke.key)||null,ge(le,ue,ke,st);case I:return ke=$o(ke),Se(ue,le,he,ke,st)}if(ye(ke)||k(ke))return ue=ue.get(he)||null,Ne(le,ue,ke,st,null);if(typeof ke.then=="function")return Se(ue,le,he,jd(ke),st);if(ke.$$typeof===D)return Se(ue,le,he,Hd(le,ke),st);Kd(le,ke)}return null}function Ze(ue,le,he,ke){for(var st=null,qt=null,nt=le,Ct=le=0,Dt=null;nt!==null&&Ct<he.length;Ct++){nt.index>Ct?(Dt=nt,nt=null):Dt=nt.sibling;var $t=_e(ue,nt,he[Ct],ke);if($t===null){nt===null&&(nt=Dt);break}a&&nt&&$t.alternate===null&&l(ue,nt),le=T($t,le,Ct),qt===null?st=$t:qt.sibling=$t,qt=$t,nt=Dt}if(Ct===he.length)return u(ue,nt),Ot&&Ks(ue,Ct),st;if(nt===null){for(;Ct<he.length;Ct++)nt=De(ue,he[Ct],ke),nt!==null&&(le=T(nt,le,Ct),qt===null?st=nt:qt.sibling=nt,qt=nt);return Ot&&Ks(ue,Ct),st}for(nt=p(nt);Ct<he.length;Ct++)Dt=Se(nt,ue,Ct,he[Ct],ke),Dt!==null&&(a&&Dt.alternate!==null&&nt.delete(Dt.key===null?Ct:Dt.key),le=T(Dt,le,Ct),qt===null?st=Dt:qt.sibling=Dt,qt=Dt);return a&&nt.forEach(function(eo){return l(ue,eo)}),Ot&&Ks(ue,Ct),st}function ft(ue,le,he,ke){if(he==null)throw Error(r(151));for(var st=null,qt=null,nt=le,Ct=le=0,Dt=null,$t=he.next();nt!==null&&!$t.done;Ct++,$t=he.next()){nt.index>Ct?(Dt=nt,nt=null):Dt=nt.sibling;var eo=_e(ue,nt,$t.value,ke);if(eo===null){nt===null&&(nt=Dt);break}a&&nt&&eo.alternate===null&&l(ue,nt),le=T(eo,le,Ct),qt===null?st=eo:qt.sibling=eo,qt=eo,nt=Dt}if($t.done)return u(ue,nt),Ot&&Ks(ue,Ct),st;if(nt===null){for(;!$t.done;Ct++,$t=he.next())$t=De(ue,$t.value,ke),$t!==null&&(le=T($t,le,Ct),qt===null?st=$t:qt.sibling=$t,qt=$t);return Ot&&Ks(ue,Ct),st}for(nt=p(nt);!$t.done;Ct++,$t=he.next())$t=Se(nt,ue,Ct,$t.value,ke),$t!==null&&(a&&$t.alternate!==null&&nt.delete($t.key===null?Ct:$t.key),le=T($t,le,Ct),qt===null?st=$t:qt.sibling=$t,qt=$t);return a&&nt.forEach(function(X4){return l(ue,X4)}),Ot&&Ks(ue,Ct),st}function dn(ue,le,he,ke){if(typeof he=="object"&&he!==null&&he.type===A&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case E:e:{for(var st=he.key;le!==null;){if(le.key===st){if(st=he.type,st===A){if(le.tag===7){u(ue,le.sibling),ke=_(le,he.props.children),ke.return=ue,ue=ke;break e}}else if(le.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===I&&$o(st)===le.type){u(ue,le.sibling),ke=_(le,he.props),wu(ke,he),ke.return=ue,ue=ke;break e}u(ue,le);break}else l(ue,le);le=le.sibling}he.type===A?(ke=Bo(he.props.children,ue.mode,ke,he.key),ke.return=ue,ue=ke):(ke=Vd(he.type,he.key,he.props,null,ue.mode,ke),wu(ke,he),ke.return=ue,ue=ke)}return P(ue);case S:e:{for(st=he.key;le!==null;){if(le.key===st)if(le.tag===4&&le.stateNode.containerInfo===he.containerInfo&&le.stateNode.implementation===he.implementation){u(ue,le.sibling),ke=_(le,he.children||[]),ke.return=ue,ue=ke;break e}else{u(ue,le);break}else l(ue,le);le=le.sibling}ke=jp(he,ue.mode,ke),ke.return=ue,ue=ke}return P(ue);case I:return he=$o(he),dn(ue,le,he,ke)}if(ye(he))return Ze(ue,le,he,ke);if(k(he)){if(st=k(he),typeof st!="function")throw Error(r(150));return he=st.call(he),ft(ue,le,he,ke)}if(typeof he.then=="function")return dn(ue,le,jd(he),ke);if(he.$$typeof===D)return dn(ue,le,Hd(ue,he),ke);Kd(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,le!==null&&le.tag===6?(u(ue,le.sibling),ke=_(le,he),ke.return=ue,ue=ke):(u(ue,le),ke=$p(he,ue.mode,ke),ke.return=ue,ue=ke),P(ue)):u(ue,le)}return function(ue,le,he,ke){try{Tu=0;var st=dn(ue,le,he,ke);return Zl=null,st}catch(nt){if(nt===Wl||nt===qd)throw nt;var qt=vi(29,nt,null,ue.mode);return qt.lanes=ke,qt.return=ue,qt}finally{}}}var Ko=Ny(!0),Ry=Ny(!1),La=!1;function im(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ua(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Va(a,l,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Zt&2)!==0){var _=p.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),p.pending=l,l=Ud(a),hy(a,null,u),l}return Ld(a,p,l,u),Ud(a)}function Su(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,pn(a,u)}}function am(a,l){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var P={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};T===null?_=T=P:T=T.next=P,u=u.next}while(u!==null);T===null?_=T=l:T=T.next=l}else _=T=l;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var om=!1;function Au(){if(om){var a=Jl;if(a!==null)throw a}}function Cu(a,l,u,p){om=!1;var _=a.updateQueue;La=!1;var T=_.firstBaseUpdate,P=_.lastBaseUpdate,q=_.shared.pending;if(q!==null){_.shared.pending=null;var se=q,ge=se.next;se.next=null,P===null?T=ge:P.next=ge,P=se;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,q=Ne.lastBaseUpdate,q!==P&&(q===null?Ne.firstBaseUpdate=ge:q.next=ge,Ne.lastBaseUpdate=se))}if(T!==null){var De=_.baseState;P=0,Ne=ge=se=null,q=T;do{var _e=q.lane&-536870913,Se=_e!==q.lane;if(Se?(kt&_e)===_e:(p&_e)===_e){_e!==0&&_e===Yl&&(om=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ze=a,ft=q;_e=l;var dn=u;switch(ft.tag){case 1:if(Ze=ft.payload,typeof Ze=="function"){De=Ze.call(dn,De,_e);break e}De=Ze;break e;case 3:Ze.flags=Ze.flags&-65537|128;case 0:if(Ze=ft.payload,_e=typeof Ze=="function"?Ze.call(dn,De,_e):Ze,_e==null)break e;De=g({},De,_e);break e;case 2:La=!0}}_e=q.callback,_e!==null&&(a.flags|=64,Se&&(a.flags|=8192),Se=_.callbacks,Se===null?_.callbacks=[_e]:Se.push(_e))}else Se={lane:_e,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ne===null?(ge=Ne=Se,se=De):Ne=Ne.next=Se,P|=_e;if(q=q.next,q===null){if(q=_.shared.pending,q===null)break;Se=q,q=Se.next,Se.next=null,_.lastBaseUpdate=Se,_.shared.pending=null}}while(!0);Ne===null&&(se=De),_.baseState=se,_.firstBaseUpdate=ge,_.lastBaseUpdate=Ne,T===null&&(_.shared.lanes=0),qa|=P,a.lanes=P,a.memoizedState=De}}function ky(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function Dy(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)ky(u[a],l)}var Xl=Z(null),Yd=Z(0);function My(a,l){a=ia,Q(Yd,a),Q(Xl,l),ia=a|l.baseLanes}function lm(){Q(Yd,ia),Q(Xl,Xl.current)}function cm(){ia=Yd.current,z(Xl),z(Yd)}var xi=Z(null),Fi=null;function Ba(a){var l=a.alternate;Q(On,On.current&1),Q(xi,a),Fi===null&&(l===null||Xl.current!==null||l.memoizedState!==null)&&(Fi=a)}function um(a){Q(On,On.current),Q(xi,a),Fi===null&&(Fi=a)}function Py(a){a.tag===22?(Q(On,On.current),Q(xi,a),Fi===null&&(Fi=a)):za()}function za(){Q(On,On.current),Q(xi,xi.current)}function yi(a){z(xi),Fi===a&&(Fi=null),z(On)}var On=Z(0);function Jd(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||gg(u)||vg(u)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ws=0,St=null,un=null,jn=null,Wd=!1,Ql=!1,Yo=!1,Zd=0,bu=0,ec=null,Hk=0;function kn(){throw Error(r(321))}function fm(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!gi(a[u],l[u]))return!1;return!0}function dm(a,l,u,p,_,T){return Ws=T,St=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ae.H=a===null||a.memoizedState===null?v_:bm,Yo=!1,T=u(p,_),Yo=!1,Ql&&(T=Oy(l,u,p,_)),Fy(a),T}function Fy(a){ae.H=Ru;var l=un!==null&&un.next!==null;if(Ws=0,jn=un=St=null,Wd=!1,bu=0,ec=null,l)throw Error(r(300));a===null||Kn||(a=a.dependencies,a!==null&&zd(a)&&(Kn=!0))}function Oy(a,l,u,p){St=a;var _=0;do{if(Ql&&(ec=null),bu=0,Ql=!1,25<=_)throw Error(r(301));if(_+=1,jn=un=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}ae.H=x_,T=l(u,p)}while(Ql);return T}function Gk(){var a=ae.H,l=a.useState()[0];return l=typeof l.then=="function"?Iu(l):l,a=a.useState()[0],(un!==null?un.memoizedState:null)!==a&&(St.flags|=1024),l}function hm(){var a=Zd!==0;return Zd=0,a}function pm(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function mm(a){if(Wd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Wd=!1}Ws=0,jn=un=St=null,Ql=!1,bu=Zd=0,ec=null}function Yr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?St.memoizedState=jn=a:jn=jn.next=a,jn}function Ln(){if(un===null){var a=St.alternate;a=a!==null?a.memoizedState:null}else a=un.next;var l=jn===null?St.memoizedState:jn.next;if(l!==null)jn=l,un=a;else{if(a===null)throw St.alternate===null?Error(r(467)):Error(r(310));un=a,a={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},jn===null?St.memoizedState=jn=a:jn=jn.next=a}return jn}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(a){var l=bu;return bu+=1,ec===null&&(ec=[]),a=Cy(ec,a,l),l=St,(jn===null?l.memoizedState:jn.next)===null&&(l=l.alternate,ae.H=l===null||l.memoizedState===null?v_:bm),a}function Qd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Iu(a);if(a.$$typeof===D)return Tr(a)}throw Error(r(438,String(a)))}function gm(a){var l=null,u=St.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var p=St.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Xd(),St.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),p=0;p<a;p++)u[p]=F;return l.index++,u}function Zs(a,l){return typeof l=="function"?l(a):l}function eh(a){var l=Ln();return vm(l,un,a)}function vm(a,l,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var _=a.baseQueue,T=p.pending;if(T!==null){if(_!==null){var P=_.next;_.next=T.next,T.next=P}l.baseQueue=_=T,p.pending=null}if(T=a.baseState,_===null)a.memoizedState=T;else{l=_.next;var q=P=null,se=null,ge=l,Ne=!1;do{var De=ge.lane&-536870913;if(De!==ge.lane?(kt&De)===De:(Ws&De)===De){var _e=ge.revertLane;if(_e===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),De===Yl&&(Ne=!0);else if((Ws&_e)===_e){ge=ge.next,_e===Yl&&(Ne=!0);continue}else De={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},se===null?(q=se=De,P=T):se=se.next=De,St.lanes|=_e,qa|=_e;De=ge.action,Yo&&u(T,De),T=ge.hasEagerState?ge.eagerState:u(T,De)}else _e={lane:De,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},se===null?(q=se=_e,P=T):se=se.next=_e,St.lanes|=De,qa|=De;ge=ge.next}while(ge!==null&&ge!==l);if(se===null?P=T:se.next=q,!gi(T,a.memoizedState)&&(Kn=!0,Ne&&(u=Jl,u!==null)))throw u;a.memoizedState=T,a.baseState=P,a.baseQueue=se,p.lastRenderedState=T}return _===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function xm(a){var l=Ln(),u=l.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,_=u.pending,T=l.memoizedState;if(_!==null){u.pending=null;var P=_=_.next;do T=a(T,P.action),P=P.next;while(P!==_);gi(T,l.memoizedState)||(Kn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),u.lastRenderedState=T}return[T,p]}function Ly(a,l,u){var p=St,_=Ln(),T=Ot;if(T){if(u===void 0)throw Error(r(407));u=u()}else u=l();var P=!gi((un||_).memoizedState,u);if(P&&(_.memoizedState=u,Kn=!0),_=_.queue,Em(By.bind(null,p,_,a),[a]),_.getSnapshot!==l||P||jn!==null&&jn.memoizedState.tag&1){if(p.flags|=2048,tc(9,{destroy:void 0},Vy.bind(null,p,_,u,l),null),gn===null)throw Error(r(349));T||(Ws&127)!==0||Uy(p,l,u)}return u}function Uy(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=St.updateQueue,l===null?(l=Xd(),St.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function Vy(a,l,u,p){l.value=u,l.getSnapshot=p,zy(l)&&Hy(a)}function By(a,l,u){return u(function(){zy(l)&&Hy(a)})}function zy(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!gi(a,u)}catch{return!0}}function Hy(a){var l=Vo(a,2);l!==null&&ci(l,a,2)}function ym(a){var l=Yr();if(typeof a=="function"){var u=a;if(a=u(),Yo){pr(!0);try{u()}finally{pr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},l}function Gy(a,l,u,p){return a.baseState=u,vm(a,un,typeof p=="function"?p:Zs)}function qk(a,l,u,p,_){if(rh(a))throw Error(r(485));if(a=l.action,a!==null){var T={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){T.listeners.push(P)}};ae.T!==null?u(!0):T.isTransition=!1,p(T),u=l.pending,u===null?(T.next=l.pending=T,qy(l,T)):(T.next=u.next,l.pending=u.next=T)}}function qy(a,l){var u=l.action,p=l.payload,_=a.state;if(l.isTransition){var T=ae.T,P={};ae.T=P;try{var q=u(_,p),se=ae.S;se!==null&&se(P,q),$y(a,l,q)}catch(ge){_m(a,l,ge)}finally{T!==null&&P.types!==null&&(T.types=P.types),ae.T=T}}else try{T=u(_,p),$y(a,l,T)}catch(ge){_m(a,l,ge)}}function $y(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){jy(a,l,p)},function(p){return _m(a,l,p)}):jy(a,l,u)}function jy(a,l,u){l.status="fulfilled",l.value=u,Ky(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,qy(a,u)))}function _m(a,l,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=u,Ky(l),l=l.next;while(l!==p)}a.action=null}function Ky(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Yy(a,l){return l}function Jy(a,l){if(Ot){var u=gn.formState;if(u!==null){e:{var p=St;if(Ot){if(yn){t:{for(var _=yn,T=Pi;_.nodeType!==8;){if(!T){_=null;break t}if(_=Oi(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){yn=Oi(_.nextSibling),p=_.data==="F!";break e}}Fa(p)}p=!1}p&&(l=u[0])}}return u=Yr(),u.memoizedState=u.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:l},u.queue=p,u=p_.bind(null,St,p),p.dispatch=u,p=ym(!1),T=Cm.bind(null,St,!1,p.queue),p=Yr(),_={state:l,dispatch:null,action:a,pending:null},p.queue=_,u=qk.bind(null,St,_,T,u),_.dispatch=u,p.memoizedState=a,[l,u,!1]}function Wy(a){var l=Ln();return Zy(l,un,a)}function Zy(a,l,u){if(l=vm(a,l,Yy)[0],a=eh(Zs)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Iu(l)}catch(P){throw P===Wl?qd:P}else p=l;l=Ln();var _=l.queue,T=_.dispatch;return u!==l.memoizedState&&(St.flags|=2048,tc(9,{destroy:void 0},$k.bind(null,_,u),null)),[p,T,a]}function $k(a,l){a.action=l}function Xy(a){var l=Ln(),u=un;if(u!==null)return Zy(l,u,a);Ln(),l=l.memoizedState,u=Ln();var p=u.queue.dispatch;return u.memoizedState=a,[l,p,!1]}function tc(a,l,u,p){return a={tag:a,create:u,deps:p,inst:l,next:null},l=St.updateQueue,l===null&&(l=Xd(),St.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,l.lastEffect=a),a}function Qy(){return Ln().memoizedState}function th(a,l,u,p){var _=Yr();St.flags|=a,_.memoizedState=tc(1|l,{destroy:void 0},u,p===void 0?null:p)}function nh(a,l,u,p){var _=Ln();p=p===void 0?null:p;var T=_.memoizedState.inst;un!==null&&p!==null&&fm(p,un.memoizedState.deps)?_.memoizedState=tc(l,T,u,p):(St.flags|=a,_.memoizedState=tc(1|l,T,u,p))}function e_(a,l){th(8390656,8,a,l)}function Em(a,l){nh(2048,8,a,l)}function jk(a){St.flags|=4;var l=St.updateQueue;if(l===null)l=Xd(),St.updateQueue=l,l.events=[a];else{var u=l.events;u===null?l.events=[a]:u.push(a)}}function t_(a){var l=Ln().memoizedState;return jk({ref:l,nextImpl:a}),function(){if((Zt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function n_(a,l){return nh(4,2,a,l)}function r_(a,l){return nh(4,4,a,l)}function i_(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function s_(a,l,u){u=u!=null?u.concat([a]):null,nh(4,4,i_.bind(null,l,a),u)}function Tm(){}function a_(a,l){var u=Ln();l=l===void 0?null:l;var p=u.memoizedState;return l!==null&&fm(l,p[1])?p[0]:(u.memoizedState=[a,l],a)}function o_(a,l){var u=Ln();l=l===void 0?null:l;var p=u.memoizedState;if(l!==null&&fm(l,p[1]))return p[0];if(p=a(),Yo){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[p,l],p}function wm(a,l,u){return u===void 0||(Ws&1073741824)!==0&&(kt&261930)===0?a.memoizedState=l:(a.memoizedState=u,a=lE(),St.lanes|=a,qa|=a,u)}function l_(a,l,u,p){return gi(u,l)?u:Xl.current!==null?(a=wm(a,u,p),gi(a,l)||(Kn=!0),a):(Ws&42)===0||(Ws&1073741824)!==0&&(kt&261930)===0?(Kn=!0,a.memoizedState=u):(a=lE(),St.lanes|=a,qa|=a,l)}function c_(a,l,u,p,_){var T=oe.p;oe.p=T!==0&&8>T?T:8;var P=ae.T,q={};ae.T=q,Cm(a,!1,l,u);try{var se=_(),ge=ae.S;if(ge!==null&&ge(q,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Ne=zk(se,p);Nu(a,l,Ne,Ti(a))}else Nu(a,l,p,Ti(a))}catch(De){Nu(a,l,{then:function(){},status:"rejected",reason:De},Ti())}finally{oe.p=T,P!==null&&q.types!==null&&(P.types=q.types),ae.T=P}}function Kk(){}function Sm(a,l,u,p){if(a.tag!==5)throw Error(r(476));var _=u_(a).queue;c_(a,_,l,Re,u===null?Kk:function(){return f_(a),u(p)})}function u_(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:Re},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function f_(a){var l=u_(a);l.next===null&&(l=a.alternate.memoizedState),Nu(a,l.next.queue,{},Ti())}function Am(){return Tr(ju)}function d_(){return Ln().memoizedState}function h_(){return Ln().memoizedState}function Yk(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=Ti();a=Ua(u);var p=Va(l,a,u);p!==null&&(ci(p,l,u),Su(p,l,u)),l={cache:em()},a.payload=l;return}l=l.return}}function Jk(a,l,u){var p=Ti();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rh(a)?m_(l,u):(u=Gp(a,l,u,p),u!==null&&(ci(u,a,p),g_(u,l,p)))}function p_(a,l,u){var p=Ti();Nu(a,l,u,p)}function Nu(a,l,u,p){var _={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(rh(a))m_(l,_);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var P=l.lastRenderedState,q=T(P,u);if(_.hasEagerState=!0,_.eagerState=q,gi(q,P))return Ld(a,l,_,0),gn===null&&Od(),!1}catch{}finally{}if(u=Gp(a,l,_,p),u!==null)return ci(u,a,p),g_(u,l,p),!0}return!1}function Cm(a,l,u,p){if(p={lane:2,revertLane:ig(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},rh(a)){if(l)throw Error(r(479))}else l=Gp(a,u,p,2),l!==null&&ci(l,a,2)}function rh(a){var l=a.alternate;return a===St||l!==null&&l===St}function m_(a,l){Ql=Wd=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function g_(a,l,u){if((u&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,u|=p,l.lanes=u,pn(a,u)}}var Ru={readContext:Tr,use:Qd,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn};Ru.useEffectEvent=kn;var v_={readContext:Tr,use:Qd,useCallback:function(a,l){return Yr().memoizedState=[a,l===void 0?null:l],a},useContext:Tr,useEffect:e_,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,th(4194308,4,i_.bind(null,l,a),u)},useLayoutEffect:function(a,l){return th(4194308,4,a,l)},useInsertionEffect:function(a,l){th(4,2,a,l)},useMemo:function(a,l){var u=Yr();l=l===void 0?null:l;var p=a();if(Yo){pr(!0);try{a()}finally{pr(!1)}}return u.memoizedState=[p,l],p},useReducer:function(a,l,u){var p=Yr();if(u!==void 0){var _=u(l);if(Yo){pr(!0);try{u(l)}finally{pr(!1)}}}else _=l;return p.memoizedState=p.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},p.queue=a,a=a.dispatch=Jk.bind(null,St,a),[p.memoizedState,a]},useRef:function(a){var l=Yr();return a={current:a},l.memoizedState=a},useState:function(a){a=ym(a);var l=a.queue,u=p_.bind(null,St,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:Tm,useDeferredValue:function(a,l){var u=Yr();return wm(u,a,l)},useTransition:function(){var a=ym(!1);return a=c_.bind(null,St,a.queue,!0,!1),Yr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var p=St,_=Yr();if(Ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=l(),gn===null)throw Error(r(349));(kt&127)!==0||Uy(p,l,u)}_.memoizedState=u;var T={value:u,getSnapshot:l};return _.queue=T,e_(By.bind(null,p,T,a),[a]),p.flags|=2048,tc(9,{destroy:void 0},Vy.bind(null,p,T,u,l),null),u},useId:function(){var a=Yr(),l=gn.identifierPrefix;if(Ot){var u=Cs,p=As;u=(p&~(1<<32-xn(p)-1)).toString(32)+u,l="_"+l+"R_"+u,u=Zd++,0<u&&(l+="H"+u.toString(32)),l+="_"}else u=Hk++,l="_"+l+"r_"+u.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Am,useFormState:Jy,useActionState:Jy,useOptimistic:function(a){var l=Yr();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Cm.bind(null,St,!0,u),u.dispatch=l,[a,l]},useMemoCache:gm,useCacheRefresh:function(){return Yr().memoizedState=Yk.bind(null,St)},useEffectEvent:function(a){var l=Yr(),u={impl:a};return l.memoizedState=u,function(){if((Zt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},bm={readContext:Tr,use:Qd,useCallback:a_,useContext:Tr,useEffect:Em,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:eh,useRef:Qy,useState:function(){return eh(Zs)},useDebugValue:Tm,useDeferredValue:function(a,l){var u=Ln();return l_(u,un.memoizedState,a,l)},useTransition:function(){var a=eh(Zs)[0],l=Ln().memoizedState;return[typeof a=="boolean"?a:Iu(a),l]},useSyncExternalStore:Ly,useId:d_,useHostTransitionStatus:Am,useFormState:Wy,useActionState:Wy,useOptimistic:function(a,l){var u=Ln();return Gy(u,un,a,l)},useMemoCache:gm,useCacheRefresh:h_};bm.useEffectEvent=t_;var x_={readContext:Tr,use:Qd,useCallback:a_,useContext:Tr,useEffect:Em,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:xm,useRef:Qy,useState:function(){return xm(Zs)},useDebugValue:Tm,useDeferredValue:function(a,l){var u=Ln();return un===null?wm(u,a,l):l_(u,un.memoizedState,a,l)},useTransition:function(){var a=xm(Zs)[0],l=Ln().memoizedState;return[typeof a=="boolean"?a:Iu(a),l]},useSyncExternalStore:Ly,useId:d_,useHostTransitionStatus:Am,useFormState:Xy,useActionState:Xy,useOptimistic:function(a,l){var u=Ln();return un!==null?Gy(u,un,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:gm,useCacheRefresh:h_};x_.useEffectEvent=t_;function Im(a,l,u,p){l=a.memoizedState,u=u(p,l),u=u==null?l:g({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Nm={enqueueSetState:function(a,l,u){a=a._reactInternals;var p=Ti(),_=Ua(p);_.payload=l,u!=null&&(_.callback=u),l=Va(a,_,p),l!==null&&(ci(l,a,p),Su(l,a,p))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var p=Ti(),_=Ua(p);_.tag=1,_.payload=l,u!=null&&(_.callback=u),l=Va(a,_,p),l!==null&&(ci(l,a,p),Su(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=Ti(),p=Ua(u);p.tag=2,l!=null&&(p.callback=l),l=Va(a,p,u),l!==null&&(ci(l,a,u),Su(l,a,u))}};function y_(a,l,u,p,_,T,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,T,P):l.prototype&&l.prototype.isPureReactComponent?!gu(u,p)||!gu(_,T):!0}function __(a,l,u,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,p),l.state!==a&&Nm.enqueueReplaceState(l,l.state,null)}function Jo(a,l){var u=l;if("ref"in l){u={};for(var p in l)p!=="ref"&&(u[p]=l[p])}if(a=a.defaultProps){u===l&&(u=g({},u));for(var _ in a)u[_]===void 0&&(u[_]=a[_])}return u}function E_(a){Fd(a)}function T_(a){console.error(a)}function w_(a){Fd(a)}function ih(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function S_(a,l,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Rm(a,l,u){return u=Ua(u),u.tag=3,u.payload={element:null},u.callback=function(){ih(a,l)},u}function A_(a){return a=Ua(a),a.tag=3,a}function C_(a,l,u,p){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var T=p.value;a.payload=function(){return _(T)},a.callback=function(){S_(l,u,p)}}var P=u.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){S_(l,u,p),typeof _!="function"&&($a===null?$a=new Set([this]):$a.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function Wk(a,l,u,p,_){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=u.alternate,l!==null&&Kl(l,u,_,!0),u=xi.current,u!==null){switch(u.tag){case 31:case 13:return Fi===null?gh():u.alternate===null&&Dn===0&&(Dn=3),u.flags&=-257,u.flags|=65536,u.lanes=_,p===$d?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([p]):l.add(p),tg(a,p,_)),!1;case 22:return u.flags|=65536,p===$d?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([p]):u.add(p)),tg(a,p,_)),!1}throw Error(r(435,u.tag))}return tg(a,p,_),gh(),!1}if(Ot)return l=xi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,p!==Jp&&(a=Error(r(422),{cause:p}),yu(ki(a,u)))):(p!==Jp&&(l=Error(r(423),{cause:p}),yu(ki(l,u))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,p=ki(p,u),_=Rm(a.stateNode,p,_),am(a,_),Dn!==4&&(Dn=2)),!1;var T=Error(r(520),{cause:p});if(T=ki(T,u),Uu===null?Uu=[T]:Uu.push(T),Dn!==4&&(Dn=2),l===null)return!0;p=ki(p,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=_&-_,u.lanes|=a,a=Rm(u.stateNode,p,a),am(u,a),!1;case 1:if(l=u.type,T=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&($a===null||!$a.has(T))))return u.flags|=65536,_&=-_,u.lanes|=_,_=A_(_),C_(_,a,u,p),am(u,_),!1}u=u.return}while(u!==null);return!1}var km=Error(r(461)),Kn=!1;function wr(a,l,u,p){l.child=a===null?Ry(l,null,u,p):Ko(l,a.child,u,p)}function b_(a,l,u,p,_){u=u.render;var T=l.ref;if("ref"in p){var P={};for(var q in p)q!=="ref"&&(P[q]=p[q])}else P=p;return Go(l),p=dm(a,l,u,P,T,_),q=hm(),a!==null&&!Kn?(pm(a,l,_),Xs(a,l,_)):(Ot&&q&&Kp(l),l.flags|=1,wr(a,l,p,_),l.child)}function I_(a,l,u,p,_){if(a===null){var T=u.type;return typeof T=="function"&&!qp(T)&&T.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=T,N_(a,l,T,p,_)):(a=Vd(u.type,null,p,l,l.mode,_),a.ref=l.ref,a.return=l,l.child=a)}if(T=a.child,!Vm(a,_)){var P=T.memoizedProps;if(u=u.compare,u=u!==null?u:gu,u(P,p)&&a.ref===l.ref)return Xs(a,l,_)}return l.flags|=1,a=js(T,p),a.ref=l.ref,a.return=l,l.child=a}function N_(a,l,u,p,_){if(a!==null){var T=a.memoizedProps;if(gu(T,p)&&a.ref===l.ref)if(Kn=!1,l.pendingProps=p=T,Vm(a,_))(a.flags&131072)!==0&&(Kn=!0);else return l.lanes=a.lanes,Xs(a,l,_)}return Dm(a,l,u,p,_)}function R_(a,l,u,p){var _=p.children,T=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(T=T!==null?T.baseLanes|u:u,a!==null){for(p=l.child=a.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~T}else p=0,l.child=null;return k_(a,l,T,u,p)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Gd(l,T!==null?T.cachePool:null),T!==null?My(l,T):lm(),Py(l);else return p=l.lanes=536870912,k_(a,l,T!==null?T.baseLanes|u:u,u,p)}else T!==null?(Gd(l,T.cachePool),My(l,T),za(),l.memoizedState=null):(a!==null&&Gd(l,null),lm(),za());return wr(a,l,_,u),l.child}function ku(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function k_(a,l,u,p,_){var T=nm();return T=T===null?null:{parent:$n._currentValue,pool:T},l.memoizedState={baseLanes:u,cachePool:T},a!==null&&Gd(l,null),lm(),Py(l),a!==null&&Kl(a,l,p,!0),l.childLanes=_,null}function sh(a,l){return l=oh({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function D_(a,l,u){return Ko(l,a.child,null,u),a=sh(l,l.pendingProps),a.flags|=2,yi(l),l.memoizedState=null,a}function Zk(a,l,u){var p=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Ot){if(p.mode==="hidden")return a=sh(l,p),l.lanes=536870912,ku(null,a);if(um(l),(a=yn)?(a=qE(a,Pi),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Ma!==null?{id:As,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},u=my(a),u.return=l,l.child=u,Er=l,yn=null)):a=null,a===null)throw Fa(l);return l.lanes=536870912,null}return sh(l,p)}var T=a.memoizedState;if(T!==null){var P=T.dehydrated;if(um(l),_)if(l.flags&256)l.flags&=-257,l=D_(a,l,u);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Kn||Kl(a,l,u,!1),_=(u&a.childLanes)!==0,Kn||_){if(p=gn,p!==null&&(P=vr(p,u),P!==0&&P!==T.retryLane))throw T.retryLane=P,Vo(a,P),ci(p,a,P),km;gh(),l=D_(a,l,u)}else a=T.treeContext,yn=Oi(P.nextSibling),Er=l,Ot=!0,Pa=null,Pi=!1,a!==null&&xy(l,a),l=sh(l,p),l.flags|=4096;return l}return a=js(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function ah(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function Dm(a,l,u,p,_){return Go(l),u=dm(a,l,u,p,void 0,_),p=hm(),a!==null&&!Kn?(pm(a,l,_),Xs(a,l,_)):(Ot&&p&&Kp(l),l.flags|=1,wr(a,l,u,_),l.child)}function M_(a,l,u,p,_,T){return Go(l),l.updateQueue=null,u=Oy(l,p,u,_),Fy(a),p=hm(),a!==null&&!Kn?(pm(a,l,T),Xs(a,l,T)):(Ot&&p&&Kp(l),l.flags|=1,wr(a,l,u,T),l.child)}function P_(a,l,u,p,_){if(Go(l),l.stateNode===null){var T=Gl,P=u.contextType;typeof P=="object"&&P!==null&&(T=Tr(P)),T=new u(p,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Nm,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=p,T.state=l.memoizedState,T.refs={},im(l),P=u.contextType,T.context=typeof P=="object"&&P!==null?Tr(P):Gl,T.state=l.memoizedState,P=u.getDerivedStateFromProps,typeof P=="function"&&(Im(l,u,P,p),T.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(P=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),P!==T.state&&Nm.enqueueReplaceState(T,T.state,null),Cu(l,p,T,_),Au(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){T=l.stateNode;var q=l.memoizedProps,se=Jo(u,q);T.props=se;var ge=T.context,Ne=u.contextType;P=Gl,typeof Ne=="object"&&Ne!==null&&(P=Tr(Ne));var De=u.getDerivedStateFromProps;Ne=typeof De=="function"||typeof T.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,Ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(q||ge!==P)&&__(l,T,p,P),La=!1;var _e=l.memoizedState;T.state=_e,Cu(l,p,T,_),Au(),ge=l.memoizedState,q||_e!==ge||La?(typeof De=="function"&&(Im(l,u,De,p),ge=l.memoizedState),(se=La||y_(l,u,se,p,_e,ge,P))?(Ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ge),T.props=p,T.state=ge,T.context=P,p=se):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{T=l.stateNode,sm(a,l),P=l.memoizedProps,Ne=Jo(u,P),T.props=Ne,De=l.pendingProps,_e=T.context,ge=u.contextType,se=Gl,typeof ge=="object"&&ge!==null&&(se=Tr(ge)),q=u.getDerivedStateFromProps,(ge=typeof q=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==De||_e!==se)&&__(l,T,p,se),La=!1,_e=l.memoizedState,T.state=_e,Cu(l,p,T,_),Au();var Se=l.memoizedState;P!==De||_e!==Se||La||a!==null&&a.dependencies!==null&&zd(a.dependencies)?(typeof q=="function"&&(Im(l,u,q,p),Se=l.memoizedState),(Ne=La||y_(l,u,Ne,p,_e,Se,se)||a!==null&&a.dependencies!==null&&zd(a.dependencies))?(ge||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,Se,se),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,Se,se)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=Se),T.props=p,T.state=Se,T.context=se,p=Ne):(typeof T.componentDidUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&_e===a.memoizedState||(l.flags|=1024),p=!1)}return T=p,ah(a,l),p=(l.flags&128)!==0,T||p?(T=l.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,a!==null&&p?(l.child=Ko(l,a.child,null,_),l.child=Ko(l,null,u,_)):wr(a,l,u,_),l.memoizedState=T.state,a=l.child):a=Xs(a,l,_),a}function F_(a,l,u,p){return zo(),l.flags|=256,wr(a,l,u,p),l.child}var Mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(a){return{baseLanes:a,cachePool:Sy()}}function Fm(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=Ei),a}function O_(a,l,u){var p=l.pendingProps,_=!1,T=(l.flags&128)!==0,P;if((P=T)||(P=a!==null&&a.memoizedState===null?!1:(On.current&2)!==0),P&&(_=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(Ot){if(_?Ba(l):za(),(a=yn)?(a=qE(a,Pi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:Ma!==null?{id:As,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},u=my(a),u.return=l,l.child=u,Er=l,yn=null)):a=null,a===null)throw Fa(l);return vg(a)?l.lanes=32:l.lanes=536870912,null}var q=p.children;return p=p.fallback,_?(za(),_=l.mode,q=oh({mode:"hidden",children:q},_),p=Bo(p,_,u,null),q.return=l,p.return=l,q.sibling=p,l.child=q,p=l.child,p.memoizedState=Pm(u),p.childLanes=Fm(a,P,u),l.memoizedState=Mm,ku(null,p)):(Ba(l),Om(l,q))}var se=a.memoizedState;if(se!==null&&(q=se.dehydrated,q!==null)){if(T)l.flags&256?(Ba(l),l.flags&=-257,l=Lm(a,l,u)):l.memoizedState!==null?(za(),l.child=a.child,l.flags|=128,l=null):(za(),q=p.fallback,_=l.mode,p=oh({mode:"visible",children:p.children},_),q=Bo(q,_,u,null),q.flags|=2,p.return=l,q.return=l,p.sibling=q,l.child=p,Ko(l,a.child,null,u),p=l.child,p.memoizedState=Pm(u),p.childLanes=Fm(a,P,u),l.memoizedState=Mm,l=ku(null,p));else if(Ba(l),vg(q)){if(P=q.nextSibling&&q.nextSibling.dataset,P)var ge=P.dgst;P=ge,p=Error(r(419)),p.stack="",p.digest=P,yu({value:p,source:null,stack:null}),l=Lm(a,l,u)}else if(Kn||Kl(a,l,u,!1),P=(u&a.childLanes)!==0,Kn||P){if(P=gn,P!==null&&(p=vr(P,u),p!==0&&p!==se.retryLane))throw se.retryLane=p,Vo(a,p),ci(P,a,p),km;gg(q)||gh(),l=Lm(a,l,u)}else gg(q)?(l.flags|=192,l.child=a.child,l=null):(a=se.treeContext,yn=Oi(q.nextSibling),Er=l,Ot=!0,Pa=null,Pi=!1,a!==null&&xy(l,a),l=Om(l,p.children),l.flags|=4096);return l}return _?(za(),q=p.fallback,_=l.mode,se=a.child,ge=se.sibling,p=js(se,{mode:"hidden",children:p.children}),p.subtreeFlags=se.subtreeFlags&65011712,ge!==null?q=js(ge,q):(q=Bo(q,_,u,null),q.flags|=2),q.return=l,p.return=l,p.sibling=q,l.child=p,ku(null,p),p=l.child,q=a.child.memoizedState,q===null?q=Pm(u):(_=q.cachePool,_!==null?(se=$n._currentValue,_=_.parent!==se?{parent:se,pool:se}:_):_=Sy(),q={baseLanes:q.baseLanes|u,cachePool:_}),p.memoizedState=q,p.childLanes=Fm(a,P,u),l.memoizedState=Mm,ku(a.child,p)):(Ba(l),u=a.child,a=u.sibling,u=js(u,{mode:"visible",children:p.children}),u.return=l,u.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=u,l.memoizedState=null,u)}function Om(a,l){return l=oh({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function oh(a,l){return a=vi(22,a,null,l),a.lanes=0,a}function Lm(a,l,u){return Ko(l,a.child,null,u),a=Om(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function L_(a,l,u){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Xp(a.return,l,u)}function Um(a,l,u,p,_,T){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_,treeForkCount:T}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=p,P.tail=u,P.tailMode=_,P.treeForkCount=T)}function U_(a,l,u){var p=l.pendingProps,_=p.revealOrder,T=p.tail;p=p.children;var P=On.current,q=(P&2)!==0;if(q?(P=P&1|2,l.flags|=128):P&=1,Q(On,P),wr(a,l,p,u),p=Ot?xu:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&L_(a,u,l);else if(a.tag===19)L_(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(u=l.child,_=null;u!==null;)a=u.alternate,a!==null&&Jd(a)===null&&(_=u),u=u.sibling;u=_,u===null?(_=l.child,l.child=null):(_=u.sibling,u.sibling=null),Um(l,!1,_,u,T,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=l.child,l.child=null;_!==null;){if(a=_.alternate,a!==null&&Jd(a)===null){l.child=_;break}a=_.sibling,_.sibling=u,u=_,_=a}Um(l,!0,u,null,T,p);break;case"together":Um(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function Xs(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),qa|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(Kl(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,u=js(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=js(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function Vm(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&zd(a)))}function Xk(a,l,u){switch(l.tag){case 3:be(l,l.stateNode.containerInfo),Oa(l,$n,a.memoizedState.cache),zo();break;case 27:case 5:Ae(l);break;case 4:be(l,l.stateNode.containerInfo);break;case 10:Oa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,um(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Ba(l),l.flags|=128,null):(u&l.child.childLanes)!==0?O_(a,l,u):(Ba(l),a=Xs(a,l,u),a!==null?a.sibling:null);Ba(l);break;case 19:var _=(a.flags&128)!==0;if(p=(u&l.childLanes)!==0,p||(Kl(a,l,u,!1),p=(u&l.childLanes)!==0),_){if(p)return U_(a,l,u);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Q(On,On.current),p)break;return null;case 22:return l.lanes=0,R_(a,l,u,l.pendingProps);case 24:Oa(l,$n,a.memoizedState.cache)}return Xs(a,l,u)}function V_(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)Kn=!0;else{if(!Vm(a,u)&&(l.flags&128)===0)return Kn=!1,Xk(a,l,u);Kn=(a.flags&131072)!==0}else Kn=!1,Ot&&(l.flags&1048576)!==0&&vy(l,xu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=$o(l.elementType),l.type=a,typeof a=="function")qp(a)?(p=Jo(a,p),l.tag=1,l=P_(null,l,a,p,u)):(l.tag=0,l=Dm(null,l,a,p,u));else{if(a!=null){var _=a.$$typeof;if(_===H){l.tag=11,l=b_(null,l,a,p,u);break e}else if(_===N){l.tag=14,l=I_(null,l,a,p,u);break e}}throw l=Te(a)||a,Error(r(306,l,""))}}return l;case 0:return Dm(a,l,l.type,l.pendingProps,u);case 1:return p=l.type,_=Jo(p,l.pendingProps),P_(a,l,p,_,u);case 3:e:{if(be(l,l.stateNode.containerInfo),a===null)throw Error(r(387));p=l.pendingProps;var T=l.memoizedState;_=T.element,sm(a,l),Cu(l,p,null,u);var P=l.memoizedState;if(p=P.cache,Oa(l,$n,p),p!==T.cache&&Qp(l,[$n],u,!0),Au(),p=P.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=F_(a,l,p,u);break e}else if(p!==_){_=ki(Error(r(424)),l),yu(_),l=F_(a,l,p,u);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(yn=Oi(a.firstChild),Er=l,Ot=!0,Pa=null,Pi=!0,u=Ry(l,null,p,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(zo(),p===_){l=Xs(a,l,u);break e}wr(a,l,p,u)}l=l.child}return l;case 26:return ah(a,l),a===null?(u=WE(l.type,null,l.pendingProps,null))?l.memoizedState=u:Ot||(u=l.type,a=l.pendingProps,p=wh(ce.current).createElement(u),p[J]=l,p[ee]=a,Sr(p,u,a),Xe(p),l.stateNode=p):l.memoizedState=WE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Ae(l),a===null&&Ot&&(p=l.stateNode=KE(l.type,l.pendingProps,ce.current),Er=l,Pi=!0,_=yn,Ja(l.type)?(xg=_,yn=Oi(p.firstChild)):yn=_),wr(a,l,l.pendingProps.children,u),ah(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Ot&&((_=p=yn)&&(p=I4(p,l.type,l.pendingProps,Pi),p!==null?(l.stateNode=p,Er=l,yn=Oi(p.firstChild),Pi=!1,_=!0):_=!1),_||Fa(l)),Ae(l),_=l.type,T=l.pendingProps,P=a!==null?a.memoizedProps:null,p=T.children,hg(_,T)?p=null:P!==null&&hg(_,P)&&(l.flags|=32),l.memoizedState!==null&&(_=dm(a,l,Gk,null,null,u),ju._currentValue=_),ah(a,l),wr(a,l,p,u),l.child;case 6:return a===null&&Ot&&((a=u=yn)&&(u=N4(u,l.pendingProps,Pi),u!==null?(l.stateNode=u,Er=l,yn=null,a=!0):a=!1),a||Fa(l)),null;case 13:return O_(a,l,u);case 4:return be(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Ko(l,null,p,u):wr(a,l,p,u),l.child;case 11:return b_(a,l,l.type,l.pendingProps,u);case 7:return wr(a,l,l.pendingProps,u),l.child;case 8:return wr(a,l,l.pendingProps.children,u),l.child;case 12:return wr(a,l,l.pendingProps.children,u),l.child;case 10:return p=l.pendingProps,Oa(l,l.type,p.value),wr(a,l,p.children,u),l.child;case 9:return _=l.type._context,p=l.pendingProps.children,Go(l),_=Tr(_),p=p(_),l.flags|=1,wr(a,l,p,u),l.child;case 14:return I_(a,l,l.type,l.pendingProps,u);case 15:return N_(a,l,l.type,l.pendingProps,u);case 19:return U_(a,l,u);case 31:return Zk(a,l,u);case 22:return R_(a,l,u,l.pendingProps);case 24:return Go(l),p=Tr($n),a===null?(_=nm(),_===null&&(_=gn,T=em(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=u),_=T),l.memoizedState={parent:p,cache:_},im(l),Oa(l,$n,_)):((a.lanes&u)!==0&&(sm(a,l),Cu(l,null,null,u),Au()),_=a.memoizedState,T=l.memoizedState,_.parent!==p?(_={parent:p,cache:p},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Oa(l,$n,p)):(p=T.cache,Oa(l,$n,p),p!==_.cache&&Qp(l,[$n],u,!0))),wr(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Qs(a){a.flags|=4}function Bm(a,l,u,p,_){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(dE())a.flags|=8192;else throw jo=$d,rm}else a.flags&=-16777217}function B_(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!tT(l))if(dE())a.flags|=8192;else throw jo=$d,rm}function lh(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?et():536870912,a.lanes|=l,sc|=l)}function Du(a,l){if(!Ot)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function _n(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(l)for(var _=a.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=p,a.childLanes=u,l}function Qk(a,l,u){var p=l.pendingProps;switch(Yp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(l),null;case 1:return _n(l),null;case 3:return u=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),Js($n),Ee(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(jl(l)?Qs(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Wp())),_n(l),null;case 26:var _=l.type,T=l.memoizedState;return a===null?(Qs(l),T!==null?(_n(l),B_(l,T)):(_n(l),Bm(l,_,null,p,u))):T?T!==a.memoizedState?(Qs(l),_n(l),B_(l,T)):(_n(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&Qs(l),_n(l),Bm(l,_,a,p,u)),null;case 27:if(Oe(l),u=ce.current,_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return _n(l),null}a=te.current,jl(l)?yy(l):(a=KE(_,p,u),l.stateNode=a,Qs(l))}return _n(l),null;case 5:if(Oe(l),_=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return _n(l),null}if(T=te.current,jl(l))yy(l);else{var P=wh(ce.current);switch(T){case 1:T=P.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:T=P.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":T=P.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":T=P.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":T=P.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof p.is=="string"?P.createElement("select",{is:p.is}):P.createElement("select"),p.multiple?T.multiple=!0:p.size&&(T.size=p.size);break;default:T=typeof p.is=="string"?P.createElement(_,{is:p.is}):P.createElement(_)}}T[J]=l,T[ee]=p;e:for(P=l.child;P!==null;){if(P.tag===5||P.tag===6)T.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===l)break e;for(;P.sibling===null;){if(P.return===null||P.return===l)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}l.stateNode=T;e:switch(Sr(T,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Qs(l)}}return _n(l),Bm(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,u),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&Qs(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(a=ce.current,jl(l)){if(a=l.stateNode,u=l.memoizedProps,p=null,_=Er,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}a[J]=l,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||OE(a.nodeValue,u)),a||Fa(l,!0)}else a=wh(a).createTextNode(p),a[J]=l,l.stateNode=a}return _n(l),null;case 31:if(u=l.memoizedState,a===null||a.memoizedState!==null){if(p=jl(l),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[J]=l}else zo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),a=!1}else u=Wp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return l.flags&256?(yi(l),l):(yi(l),null);if((l.flags&128)!==0)throw Error(r(558))}return _n(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=jl(l),p!==null&&p.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[J]=l}else zo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_n(l),_=!1}else _=Wp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(yi(l),l):(yi(l),null)}return yi(l),(l.flags&128)!==0?(l.lanes=u,l):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=l.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==_&&(p.flags|=2048)),u!==a&&u&&(l.child.flags|=8192),lh(l,l.updateQueue),_n(l),null);case 4:return Ee(),a===null&&lg(l.stateNode.containerInfo),_n(l),null;case 10:return Js(l.type),_n(l),null;case 19:if(z(On),p=l.memoizedState,p===null)return _n(l),null;if(_=(l.flags&128)!==0,T=p.rendering,T===null)if(_)Du(p,!1);else{if(Dn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(T=Jd(a),T!==null){for(l.flags|=128,Du(p,!1),a=T.updateQueue,l.updateQueue=a,lh(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)py(u,a),u=u.sibling;return Q(On,On.current&1|2),Ot&&Ks(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&dt()>hh&&(l.flags|=128,_=!0,Du(p,!1),l.lanes=4194304)}else{if(!_)if(a=Jd(T),a!==null){if(l.flags|=128,_=!0,a=a.updateQueue,l.updateQueue=a,lh(l,a),Du(p,!0),p.tail===null&&p.tailMode==="hidden"&&!T.alternate&&!Ot)return _n(l),null}else 2*dt()-p.renderingStartTime>hh&&u!==536870912&&(l.flags|=128,_=!0,Du(p,!1),l.lanes=4194304);p.isBackwards?(T.sibling=l.child,l.child=T):(a=p.last,a!==null?a.sibling=T:l.child=T,p.last=T)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=dt(),a.sibling=null,u=On.current,Q(On,_?u&1|2:u&1),Ot&&Ks(l,p.treeForkCount),a):(_n(l),null);case 22:case 23:return yi(l),cm(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(u&536870912)!==0&&(l.flags&128)===0&&(_n(l),l.subtreeFlags&6&&(l.flags|=8192)):_n(l),u=l.updateQueue,u!==null&&lh(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==u&&(l.flags|=2048),a!==null&&z(qo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Js($n),_n(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function e4(a,l){switch(Yp(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Js($n),Ee(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Oe(l),null;case 31:if(l.memoizedState!==null){if(yi(l),l.alternate===null)throw Error(r(340));zo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(yi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));zo()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return z(On),null;case 4:return Ee(),null;case 10:return Js(l.type),null;case 22:case 23:return yi(l),cm(),a!==null&&z(qo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Js($n),null;case 25:return null;default:return null}}function z_(a,l){switch(Yp(l),l.tag){case 3:Js($n),Ee();break;case 26:case 27:case 5:Oe(l);break;case 4:Ee();break;case 31:l.memoizedState!==null&&yi(l);break;case 13:yi(l);break;case 19:z(On);break;case 10:Js(l.type);break;case 22:case 23:yi(l),cm(),a!==null&&z(qo);break;case 24:Js($n)}}function Mu(a,l){try{var u=l.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&a)===a){p=void 0;var T=u.create,P=u.inst;p=T(),P.destroy=p}u=u.next}while(u!==_)}}catch(q){an(l,l.return,q)}}function Ha(a,l,u){try{var p=l.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var T=_.next;p=T;do{if((p.tag&a)===a){var P=p.inst,q=P.destroy;if(q!==void 0){P.destroy=void 0,_=l;var se=u,ge=q;try{ge()}catch(Ne){an(_,se,Ne)}}}p=p.next}while(p!==T)}}catch(Ne){an(l,l.return,Ne)}}function H_(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{Dy(l,u)}catch(p){an(a,a.return,p)}}}function G_(a,l,u){u.props=Jo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){an(a,l,p)}}function Pu(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(_){an(a,l,_)}}function bs(a,l){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(_){an(a,l,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){an(a,l,_)}else u.current=null}function q_(a){var l=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(_){an(a,a.return,_)}}function zm(a,l,u){try{var p=a.stateNode;T4(p,a.type,u,l),p[ee]=l}catch(_){an(a,a.return,_)}}function $_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ja(a.type)||a.tag===4}function Hm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||$_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ja(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Gm(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Qi));else if(p!==4&&(p===27&&Ja(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(Gm(a,l,u),a=a.sibling;a!==null;)Gm(a,l,u),a=a.sibling}function ch(a,l,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(p!==4&&(p===27&&Ja(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(ch(a,l,u),a=a.sibling;a!==null;)ch(a,l,u),a=a.sibling}function j_(a){var l=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);Sr(l,p,u),l[J]=a,l[ee]=u}catch(T){an(a,a.return,T)}}var ea=!1,Yn=!1,qm=!1,K_=typeof WeakSet=="function"?WeakSet:Set,lr=null;function t4(a,l){if(a=a.containerInfo,fg=Rh,a=sy(a),Lp(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var _=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var P=0,q=-1,se=-1,ge=0,Ne=0,De=a,_e=null;t:for(;;){for(var Se;De!==u||_!==0&&De.nodeType!==3||(q=P+_),De!==T||p!==0&&De.nodeType!==3||(se=P+p),De.nodeType===3&&(P+=De.nodeValue.length),(Se=De.firstChild)!==null;)_e=De,De=Se;for(;;){if(De===a)break t;if(_e===u&&++ge===_&&(q=P),_e===T&&++Ne===p&&(se=P),(Se=De.nextSibling)!==null)break;De=_e,_e=De.parentNode}De=Se}u=q===-1||se===-1?null:{start:q,end:se}}else u=null}u=u||{start:0,end:0}}else u=null;for(dg={focusedElem:a,selectionRange:u},Rh=!1,lr=l;lr!==null;)if(l=lr,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,lr=a;else for(;lr!==null;){switch(l=lr,T=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)_=a[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,u=l,_=T.memoizedProps,T=T.memoizedState,p=u.stateNode;try{var Ze=Jo(u.type,_);a=p.getSnapshotBeforeUpdate(Ze,T),p.__reactInternalSnapshotBeforeUpdate=a}catch(ft){an(u,u.return,ft)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)mg(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":mg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,lr=a;break}lr=l.return}}function Y_(a,l,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:na(a,u),p&4&&Mu(5,u);break;case 1:if(na(a,u),p&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(P){an(u,u.return,P)}else{var _=Jo(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(_,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){an(u,u.return,P)}}p&64&&H_(u),p&512&&Pu(u,u.return);break;case 3:if(na(a,u),p&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Dy(a,l)}catch(P){an(u,u.return,P)}}break;case 27:l===null&&p&4&&j_(u);case 26:case 5:na(a,u),l===null&&p&4&&q_(u),p&512&&Pu(u,u.return);break;case 12:na(a,u);break;case 31:na(a,u),p&4&&Z_(a,u);break;case 13:na(a,u),p&4&&X_(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=u4.bind(null,u),R4(a,u))));break;case 22:if(p=u.memoizedState!==null||ea,!p){l=l!==null&&l.memoizedState!==null||Yn,_=ea;var T=Yn;ea=p,(Yn=l)&&!T?ra(a,u,(u.subtreeFlags&8772)!==0):na(a,u),ea=_,Yn=T}break;case 30:break;default:na(a,u)}}function J_(a){var l=a.alternate;l!==null&&(a.alternate=null,J_(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Be(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var An=null,si=!1;function ta(a,l,u){for(u=u.child;u!==null;)W_(a,l,u),u=u.sibling}function W_(a,l,u){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(bt,u)}catch{}switch(u.tag){case 26:Yn||bs(u,l),ta(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Yn||bs(u,l);var p=An,_=si;Ja(u.type)&&(An=u.stateNode,si=!1),ta(a,l,u),Gu(u.stateNode),An=p,si=_;break;case 5:Yn||bs(u,l);case 6:if(p=An,_=si,An=null,ta(a,l,u),An=p,si=_,An!==null)if(si)try{(An.nodeType===9?An.body:An.nodeName==="HTML"?An.ownerDocument.body:An).removeChild(u.stateNode)}catch(T){an(u,l,T)}else try{An.removeChild(u.stateNode)}catch(T){an(u,l,T)}break;case 18:An!==null&&(si?(a=An,HE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),hc(a)):HE(An,u.stateNode));break;case 4:p=An,_=si,An=u.stateNode.containerInfo,si=!0,ta(a,l,u),An=p,si=_;break;case 0:case 11:case 14:case 15:Ha(2,u,l),Yn||Ha(4,u,l),ta(a,l,u);break;case 1:Yn||(bs(u,l),p=u.stateNode,typeof p.componentWillUnmount=="function"&&G_(u,l,p)),ta(a,l,u);break;case 21:ta(a,l,u);break;case 22:Yn=(p=Yn)||u.memoizedState!==null,ta(a,l,u),Yn=p;break;default:ta(a,l,u)}}function Z_(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{hc(a)}catch(u){an(l,l.return,u)}}}function X_(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{hc(a)}catch(u){an(l,l.return,u)}}function n4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new K_),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new K_),l;default:throw Error(r(435,a.tag))}}function uh(a,l){var u=n4(a);l.forEach(function(p){if(!u.has(p)){u.add(p);var _=f4.bind(null,a,p);p.then(_,_)}})}function ai(a,l){var u=l.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p],T=a,P=l,q=P;e:for(;q!==null;){switch(q.tag){case 27:if(Ja(q.type)){An=q.stateNode,si=!1;break e}break;case 5:An=q.stateNode,si=!1;break e;case 3:case 4:An=q.stateNode.containerInfo,si=!0;break e}q=q.return}if(An===null)throw Error(r(160));W_(T,P,_),An=null,si=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Q_(l,a),l=l.sibling}var ss=null;function Q_(a,l){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ai(l,a),oi(a),p&4&&(Ha(3,a,a.return),Mu(3,a),Ha(5,a,a.return));break;case 1:ai(l,a),oi(a),p&512&&(Yn||u===null||bs(u,u.return)),p&64&&ea&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var _=ss;if(ai(l,a),oi(a),p&512&&(Yn||u===null||bs(u,u.return)),p&4){var T=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":T=_.getElementsByTagName("title")[0],(!T||T[ve]||T[J]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(p),_.head.insertBefore(T,_.querySelector("head > title"))),Sr(T,p,u),T[J]=a,Xe(T),p=T;break e;case"link":var P=QE("link","href",_).get(p+(u.href||""));if(P){for(var q=0;q<P.length;q++)if(T=P[q],T.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&T.getAttribute("rel")===(u.rel==null?null:u.rel)&&T.getAttribute("title")===(u.title==null?null:u.title)&&T.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){P.splice(q,1);break t}}T=_.createElement(p),Sr(T,p,u),_.head.appendChild(T);break;case"meta":if(P=QE("meta","content",_).get(p+(u.content||""))){for(q=0;q<P.length;q++)if(T=P[q],T.getAttribute("content")===(u.content==null?null:""+u.content)&&T.getAttribute("name")===(u.name==null?null:u.name)&&T.getAttribute("property")===(u.property==null?null:u.property)&&T.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&T.getAttribute("charset")===(u.charSet==null?null:u.charSet)){P.splice(q,1);break t}}T=_.createElement(p),Sr(T,p,u),_.head.appendChild(T);break;default:throw Error(r(468,p))}T[J]=a,Xe(T),p=T}a.stateNode=p}else eT(_,a.type,a.stateNode);else a.stateNode=XE(_,p,a.memoizedProps);else T!==p?(T===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):T.count--,p===null?eT(_,a.type,a.stateNode):XE(_,p,a.memoizedProps)):p===null&&a.stateNode!==null&&zm(a,a.memoizedProps,u.memoizedProps)}break;case 27:ai(l,a),oi(a),p&512&&(Yn||u===null||bs(u,u.return)),u!==null&&p&4&&zm(a,a.memoizedProps,u.memoizedProps);break;case 5:if(ai(l,a),oi(a),p&512&&(Yn||u===null||bs(u,u.return)),a.flags&32){_=a.stateNode;try{ii(_,"")}catch(Ze){an(a,a.return,Ze)}}p&4&&a.stateNode!=null&&(_=a.memoizedProps,zm(a,_,u!==null?u.memoizedProps:_)),p&1024&&(qm=!0);break;case 6:if(ai(l,a),oi(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Ze){an(a,a.return,Ze)}}break;case 3:if(Ch=null,_=ss,ss=Sh(l.containerInfo),ai(l,a),ss=_,oi(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{hc(l.containerInfo)}catch(Ze){an(a,a.return,Ze)}qm&&(qm=!1,eE(a));break;case 4:p=ss,ss=Sh(a.stateNode.containerInfo),ai(l,a),oi(a),ss=p;break;case 12:ai(l,a),oi(a);break;case 31:ai(l,a),oi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,uh(a,p)));break;case 13:ai(l,a),oi(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(dh=dt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,uh(a,p)));break;case 22:_=a.memoizedState!==null;var se=u!==null&&u.memoizedState!==null,ge=ea,Ne=Yn;if(ea=ge||_,Yn=Ne||se,ai(l,a),Yn=Ne,ea=ge,oi(a),p&8192)e:for(l=a.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(u===null||se||ea||Yn||Wo(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){se=u=l;try{if(T=se.stateNode,_)P=T.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{q=se.stateNode;var De=se.memoizedProps.style,_e=De!=null&&De.hasOwnProperty("display")?De.display:null;q.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Ze){an(se,se.return,Ze)}}}else if(l.tag===6){if(u===null){se=l;try{se.stateNode.nodeValue=_?"":se.memoizedProps}catch(Ze){an(se,se.return,Ze)}}}else if(l.tag===18){if(u===null){se=l;try{var Se=se.stateNode;_?GE(Se,!0):GE(se.stateNode,!1)}catch(Ze){an(se,se.return,Ze)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,uh(a,u))));break;case 19:ai(l,a),oi(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,uh(a,p)));break;case 30:break;case 21:break;default:ai(l,a),oi(a)}}function oi(a){var l=a.flags;if(l&2){try{for(var u,p=a.return;p!==null;){if($_(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,T=Hm(a);ch(a,T,_);break;case 5:var P=u.stateNode;u.flags&32&&(ii(P,""),u.flags&=-33);var q=Hm(a);ch(a,q,P);break;case 3:case 4:var se=u.stateNode.containerInfo,ge=Hm(a);Gm(a,ge,se);break;default:throw Error(r(161))}}catch(Ne){an(a,a.return,Ne)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function eE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;eE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function na(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Y_(a,l.alternate,l),l=l.sibling}function Wo(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ha(4,l,l.return),Wo(l);break;case 1:bs(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&G_(l,l.return,u),Wo(l);break;case 27:Gu(l.stateNode);case 26:case 5:bs(l,l.return),Wo(l);break;case 22:l.memoizedState===null&&Wo(l);break;case 30:Wo(l);break;default:Wo(l)}a=a.sibling}}function ra(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,_=a,T=l,P=T.flags;switch(T.tag){case 0:case 11:case 15:ra(_,T,u),Mu(4,T);break;case 1:if(ra(_,T,u),p=T,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ge){an(p,p.return,ge)}if(p=T,_=p.updateQueue,_!==null){var q=p.stateNode;try{var se=_.shared.hiddenCallbacks;if(se!==null)for(_.shared.hiddenCallbacks=null,_=0;_<se.length;_++)ky(se[_],q)}catch(ge){an(p,p.return,ge)}}u&&P&64&&H_(T),Pu(T,T.return);break;case 27:j_(T);case 26:case 5:ra(_,T,u),u&&p===null&&P&4&&q_(T),Pu(T,T.return);break;case 12:ra(_,T,u);break;case 31:ra(_,T,u),u&&P&4&&Z_(_,T);break;case 13:ra(_,T,u),u&&P&4&&X_(_,T);break;case 22:T.memoizedState===null&&ra(_,T,u),Pu(T,T.return);break;case 30:break;default:ra(_,T,u)}l=l.sibling}}function $m(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&_u(u))}function jm(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&_u(a))}function as(a,l,u,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)tE(a,l,u,p),l=l.sibling}function tE(a,l,u,p){var _=l.flags;switch(l.tag){case 0:case 11:case 15:as(a,l,u,p),_&2048&&Mu(9,l);break;case 1:as(a,l,u,p);break;case 3:as(a,l,u,p),_&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&_u(a)));break;case 12:if(_&2048){as(a,l,u,p),a=l.stateNode;try{var T=l.memoizedProps,P=T.id,q=T.onPostCommit;typeof q=="function"&&q(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(se){an(l,l.return,se)}}else as(a,l,u,p);break;case 31:as(a,l,u,p);break;case 13:as(a,l,u,p);break;case 23:break;case 22:T=l.stateNode,P=l.alternate,l.memoizedState!==null?T._visibility&2?as(a,l,u,p):Fu(a,l):T._visibility&2?as(a,l,u,p):(T._visibility|=2,nc(a,l,u,p,(l.subtreeFlags&10256)!==0||!1)),_&2048&&$m(P,l);break;case 24:as(a,l,u,p),_&2048&&jm(l.alternate,l);break;default:as(a,l,u,p)}}function nc(a,l,u,p,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var T=a,P=l,q=u,se=p,ge=P.flags;switch(P.tag){case 0:case 11:case 15:nc(T,P,q,se,_),Mu(8,P);break;case 23:break;case 22:var Ne=P.stateNode;P.memoizedState!==null?Ne._visibility&2?nc(T,P,q,se,_):Fu(T,P):(Ne._visibility|=2,nc(T,P,q,se,_)),_&&ge&2048&&$m(P.alternate,P);break;case 24:nc(T,P,q,se,_),_&&ge&2048&&jm(P.alternate,P);break;default:nc(T,P,q,se,_)}l=l.sibling}}function Fu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,p=l,_=p.flags;switch(p.tag){case 22:Fu(u,p),_&2048&&$m(p.alternate,p);break;case 24:Fu(u,p),_&2048&&jm(p.alternate,p);break;default:Fu(u,p)}l=l.sibling}}var Ou=8192;function rc(a,l,u){if(a.subtreeFlags&Ou)for(a=a.child;a!==null;)nE(a,l,u),a=a.sibling}function nE(a,l,u){switch(a.tag){case 26:rc(a,l,u),a.flags&Ou&&a.memoizedState!==null&&H4(u,ss,a.memoizedState,a.memoizedProps);break;case 5:rc(a,l,u);break;case 3:case 4:var p=ss;ss=Sh(a.stateNode.containerInfo),rc(a,l,u),ss=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Ou,Ou=16777216,rc(a,l,u),Ou=p):rc(a,l,u));break;default:rc(a,l,u)}}function rE(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Lu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];lr=p,sE(p,a)}rE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)iE(a),a=a.sibling}function iE(a){switch(a.tag){case 0:case 11:case 15:Lu(a),a.flags&2048&&Ha(9,a,a.return);break;case 3:Lu(a);break;case 12:Lu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,fh(a)):Lu(a);break;default:Lu(a)}}function fh(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var p=l[u];lr=p,sE(p,a)}rE(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ha(8,l,l.return),fh(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,fh(l));break;default:fh(l)}a=a.sibling}}function sE(a,l){for(;lr!==null;){var u=lr;switch(u.tag){case 0:case 11:case 15:Ha(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:_u(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,lr=p;else e:for(u=a;lr!==null;){p=lr;var _=p.sibling,T=p.return;if(J_(p),p===u){lr=null;break e}if(_!==null){_.return=T,lr=_;break e}lr=T}}}var r4={getCacheForType:function(a){var l=Tr($n),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u},cacheSignal:function(){return Tr($n).controller.signal}},i4=typeof WeakMap=="function"?WeakMap:Map,Zt=0,gn=null,It=null,kt=0,sn=0,_i=null,Ga=!1,ic=!1,Km=!1,ia=0,Dn=0,qa=0,Zo=0,Ym=0,Ei=0,sc=0,Uu=null,li=null,Jm=!1,dh=0,aE=0,hh=1/0,ph=null,$a=null,tr=0,ja=null,ac=null,sa=0,Wm=0,Zm=null,oE=null,Vu=0,Xm=null;function Ti(){return(Zt&2)!==0&&kt!==0?kt&-kt:ae.T!==null?ig():G()}function lE(){if(Ei===0)if((kt&536870912)===0||Ot){var a=Wi;Wi<<=1,(Wi&3932160)===0&&(Wi=262144),Ei=a}else Ei=536870912;return a=xi.current,a!==null&&(a.flags|=32),Ei}function ci(a,l,u){(a===gn&&(sn===2||sn===9)||a.cancelPendingCommit!==null)&&(oc(a,0),Ka(a,kt,Ei,!1)),ot(a,u),((Zt&2)===0||a!==gn)&&(a===gn&&((Zt&2)===0&&(Zo|=u),Dn===4&&Ka(a,kt,Ei,!1)),Is(a))}function cE(a,l,u){if((Zt&6)!==0)throw Error(r(327));var p=!u&&(l&127)===0&&(l&a.expiredLanes)===0||gr(a,l),_=p?o4(a,l):eg(a,l,!0),T=p;do{if(_===0){ic&&!p&&Ka(a,l,0,!1);break}else{if(u=a.current.alternate,T&&!s4(u)){_=eg(a,l,!1),T=!1;continue}if(_===2){if(T=l,a.errorRecoveryDisabledLanes&T)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var q=a;_=Uu;var se=q.current.memoizedState.isDehydrated;if(se&&(oc(q,P).flags|=256),P=eg(q,P,!1),P!==2){if(Km&&!se){q.errorRecoveryDisabledLanes|=T,Zo|=T,_=4;break e}T=li,li=_,T!==null&&(li===null?li=T:li.push.apply(li,T))}_=P}if(T=!1,_!==2)continue}}if(_===1){oc(a,0),Ka(a,l,0,!0);break}e:{switch(p=a,T=_,T){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ka(p,l,Ei,!Ga);break e;case 2:li=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(_=dh+300-dt(),10<_)){if(Ka(p,l,Ei,!Ga),wn(p,0,!0)!==0)break e;sa=l,p.timeoutHandle=BE(uE.bind(null,p,u,li,ph,Jm,l,Ei,Zo,sc,Ga,T,"Throttled",-0,0),_);break e}uE(p,u,li,ph,Jm,l,Ei,Zo,sc,Ga,T,null,-0,0)}}break}while(!0);Is(a)}function uE(a,l,u,p,_,T,P,q,se,ge,Ne,De,_e,Se){if(a.timeoutHandle=-1,De=l.subtreeFlags,De&8192||(De&16785408)===16785408){De={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qi},nE(l,T,De);var Ze=(T&62914560)===T?dh-dt():(T&4194048)===T?aE-dt():0;if(Ze=G4(De,Ze),Ze!==null){sa=T,a.cancelPendingCommit=Ze(xE.bind(null,a,l,T,u,p,_,P,q,se,Ne,De,null,_e,Se)),Ka(a,T,P,!ge);return}}xE(a,l,T,u,p,_,P,q,se)}function s4(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var _=u[p],T=_.getSnapshot;_=_.value;try{if(!gi(T(),_))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ka(a,l,u,p){l&=~Ym,l&=~Zo,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var _=l;0<_;){var T=31-xn(_),P=1<<T;p[T]=-1,_&=~P}u!==0&&Jt(a,u,l)}function mh(){return(Zt&6)===0?(Bu(0),!1):!0}function Qm(){if(It!==null){if(sn===0)var a=It.return;else a=It,Ys=Ho=null,mm(a),Zl=null,Tu=0,a=It;for(;a!==null;)z_(a.alternate,a),a=a.return;It=null}}function oc(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,A4(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),sa=0,Qm(),gn=a,It=u=js(a.current,null),kt=l,sn=0,_i=null,Ga=!1,ic=gr(a,l),Km=!1,sc=Ei=Ym=Zo=qa=Dn=0,li=Uu=null,Jm=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var _=31-xn(p),T=1<<_;l|=a[_],p&=~T}return ia=l,Od(),u}function fE(a,l){St=null,ae.H=Ru,l===Wl||l===qd?(l=by(),sn=3):l===rm?(l=by(),sn=4):sn=l===km?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,_i=l,It===null&&(Dn=1,ih(a,ki(l,a.current)))}function dE(){var a=xi.current;return a===null?!0:(kt&4194048)===kt?Fi===null:(kt&62914560)===kt||(kt&536870912)!==0?a===Fi:!1}function hE(){var a=ae.H;return ae.H=Ru,a===null?Ru:a}function pE(){var a=ae.A;return ae.A=r4,a}function gh(){Dn=4,Ga||(kt&4194048)!==kt&&xi.current!==null||(ic=!0),(qa&134217727)===0&&(Zo&134217727)===0||gn===null||Ka(gn,kt,Ei,!1)}function eg(a,l,u){var p=Zt;Zt|=2;var _=hE(),T=pE();(gn!==a||kt!==l)&&(ph=null,oc(a,l)),l=!1;var P=Dn;e:do try{if(sn!==0&&It!==null){var q=It,se=_i;switch(sn){case 8:Qm(),P=6;break e;case 3:case 2:case 9:case 6:xi.current===null&&(l=!0);var ge=sn;if(sn=0,_i=null,lc(a,q,se,ge),u&&ic){P=0;break e}break;default:ge=sn,sn=0,_i=null,lc(a,q,se,ge)}}a4(),P=Dn;break}catch(Ne){fE(a,Ne)}while(!0);return l&&a.shellSuspendCounter++,Ys=Ho=null,Zt=p,ae.H=_,ae.A=T,It===null&&(gn=null,kt=0,Od()),P}function a4(){for(;It!==null;)mE(It)}function o4(a,l){var u=Zt;Zt|=2;var p=hE(),_=pE();gn!==a||kt!==l?(ph=null,hh=dt()+500,oc(a,l)):ic=gr(a,l);e:do try{if(sn!==0&&It!==null){l=It;var T=_i;t:switch(sn){case 1:sn=0,_i=null,lc(a,l,T,1);break;case 2:case 9:if(Ay(T)){sn=0,_i=null,gE(l);break}l=function(){sn!==2&&sn!==9||gn!==a||(sn=7),Is(a)},T.then(l,l);break e;case 3:sn=7;break e;case 4:sn=5;break e;case 7:Ay(T)?(sn=0,_i=null,gE(l)):(sn=0,_i=null,lc(a,l,T,7));break;case 5:var P=null;switch(It.tag){case 26:P=It.memoizedState;case 5:case 27:var q=It;if(P?tT(P):q.stateNode.complete){sn=0,_i=null;var se=q.sibling;if(se!==null)It=se;else{var ge=q.return;ge!==null?(It=ge,vh(ge)):It=null}break t}}sn=0,_i=null,lc(a,l,T,5);break;case 6:sn=0,_i=null,lc(a,l,T,6);break;case 8:Qm(),Dn=6;break e;default:throw Error(r(462))}}l4();break}catch(Ne){fE(a,Ne)}while(!0);return Ys=Ho=null,ae.H=p,ae.A=_,Zt=u,It!==null?0:(gn=null,kt=0,Od(),Dn)}function l4(){for(;It!==null&&!hn();)mE(It)}function mE(a){var l=V_(a.alternate,a,ia);a.memoizedProps=a.pendingProps,l===null?vh(a):It=l}function gE(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=M_(u,l,l.pendingProps,l.type,void 0,kt);break;case 11:l=M_(u,l,l.pendingProps,l.type.render,l.ref,kt);break;case 5:mm(l);default:z_(u,l),l=It=py(l,ia),l=V_(u,l,ia)}a.memoizedProps=a.pendingProps,l===null?vh(a):It=l}function lc(a,l,u,p){Ys=Ho=null,mm(l),Zl=null,Tu=0;var _=l.return;try{if(Wk(a,_,l,u,kt)){Dn=1,ih(a,ki(u,a.current)),It=null;return}}catch(T){if(_!==null)throw It=_,T;Dn=1,ih(a,ki(u,a.current)),It=null;return}l.flags&32768?(Ot||p===1?a=!0:ic||(kt&536870912)!==0?a=!1:(Ga=a=!0,(p===2||p===9||p===3||p===6)&&(p=xi.current,p!==null&&p.tag===13&&(p.flags|=16384))),vE(l,a)):vh(l)}function vh(a){var l=a;do{if((l.flags&32768)!==0){vE(l,Ga);return}a=l.return;var u=Qk(l.alternate,l,ia);if(u!==null){It=u;return}if(l=l.sibling,l!==null){It=l;return}It=l=a}while(l!==null);Dn===0&&(Dn=5)}function vE(a,l){do{var u=e4(a.alternate,a);if(u!==null){u.flags&=32767,It=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){It=a;return}It=a=u}while(a!==null);Dn=6,It=null}function xE(a,l,u,p,_,T,P,q,se){a.cancelPendingCommit=null;do xh();while(tr!==0);if((Zt&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(T=l.lanes|l.childLanes,T|=Hp,Ut(a,u,T,P,q,se),a===gn&&(It=gn=null,kt=0),ac=l,ja=a,sa=u,Wm=T,Zm=_,oE=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,d4(Rt,function(){return wE(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=ae.T,ae.T=null,_=oe.p,oe.p=2,P=Zt,Zt|=4;try{t4(a,l,u)}finally{Zt=P,oe.p=_,ae.T=p}}tr=1,yE(),_E(),EE()}}function yE(){if(tr===1){tr=0;var a=ja,l=ac,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null;var p=oe.p;oe.p=2;var _=Zt;Zt|=4;try{Q_(l,a);var T=dg,P=sy(a.containerInfo),q=T.focusedElem,se=T.selectionRange;if(P!==q&&q&&q.ownerDocument&&iy(q.ownerDocument.documentElement,q)){if(se!==null&&Lp(q)){var ge=se.start,Ne=se.end;if(Ne===void 0&&(Ne=ge),"selectionStart"in q)q.selectionStart=ge,q.selectionEnd=Math.min(Ne,q.value.length);else{var De=q.ownerDocument||document,_e=De&&De.defaultView||window;if(_e.getSelection){var Se=_e.getSelection(),Ze=q.textContent.length,ft=Math.min(se.start,Ze),dn=se.end===void 0?ft:Math.min(se.end,Ze);!Se.extend&&ft>dn&&(P=dn,dn=ft,ft=P);var ue=ry(q,ft),le=ry(q,dn);if(ue&&le&&(Se.rangeCount!==1||Se.anchorNode!==ue.node||Se.anchorOffset!==ue.offset||Se.focusNode!==le.node||Se.focusOffset!==le.offset)){var he=De.createRange();he.setStart(ue.node,ue.offset),Se.removeAllRanges(),ft>dn?(Se.addRange(he),Se.extend(le.node,le.offset)):(he.setEnd(le.node,le.offset),Se.addRange(he))}}}}for(De=[],Se=q;Se=Se.parentNode;)Se.nodeType===1&&De.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<De.length;q++){var ke=De[q];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Rh=!!fg,dg=fg=null}finally{Zt=_,oe.p=p,ae.T=u}}a.current=l,tr=2}}function _E(){if(tr===2){tr=0;var a=ja,l=ac,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=ae.T,ae.T=null;var p=oe.p;oe.p=2;var _=Zt;Zt|=4;try{Y_(a,l.alternate,l)}finally{Zt=_,oe.p=p,ae.T=u}}tr=3}}function EE(){if(tr===4||tr===3){tr=0,Hn();var a=ja,l=ac,u=sa,p=oE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?tr=5:(tr=0,ac=ja=null,TE(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&($a=null),yr(u),l=l.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(bt,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=ae.T,_=oe.p,oe.p=2,ae.T=null;try{for(var T=a.onRecoverableError,P=0;P<p.length;P++){var q=p[P];T(q.value,{componentStack:q.stack})}}finally{ae.T=l,oe.p=_}}(sa&3)!==0&&xh(),Is(a),_=a.pendingLanes,(u&261930)!==0&&(_&42)!==0?a===Xm?Vu++:(Vu=0,Xm=a):Vu=0,Bu(0)}}function TE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,_u(l)))}function xh(){return yE(),_E(),EE(),wE()}function wE(){if(tr!==5)return!1;var a=ja,l=Wm;Wm=0;var u=yr(sa),p=ae.T,_=oe.p;try{oe.p=32>u?32:u,ae.T=null,u=Zm,Zm=null;var T=ja,P=sa;if(tr=0,ac=ja=null,sa=0,(Zt&6)!==0)throw Error(r(331));var q=Zt;if(Zt|=4,iE(T.current),tE(T,T.current,P,u),Zt=q,Bu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(bt,T)}catch{}return!0}finally{oe.p=_,ae.T=p,TE(a,l)}}function SE(a,l,u){l=ki(u,l),l=Rm(a.stateNode,l,2),a=Va(a,l,2),a!==null&&(ot(a,2),Is(a))}function an(a,l,u){if(a.tag===3)SE(a,a,u);else for(;l!==null;){if(l.tag===3){SE(l,a,u);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&($a===null||!$a.has(p))){a=ki(u,a),u=A_(2),p=Va(l,u,2),p!==null&&(C_(u,p,l,a),ot(p,2),Is(p));break}}l=l.return}}function tg(a,l,u){var p=a.pingCache;if(p===null){p=a.pingCache=new i4;var _=new Set;p.set(l,_)}else _=p.get(l),_===void 0&&(_=new Set,p.set(l,_));_.has(u)||(Km=!0,_.add(u),a=c4.bind(null,a,l,u),l.then(a,a))}function c4(a,l,u){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,gn===a&&(kt&u)===u&&(Dn===4||Dn===3&&(kt&62914560)===kt&&300>dt()-dh?(Zt&2)===0&&oc(a,0):Ym|=u,sc===kt&&(sc=0)),Is(a)}function AE(a,l){l===0&&(l=et()),a=Vo(a,l),a!==null&&(ot(a,l),Is(a))}function u4(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),AE(a,u)}function f4(a,l){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,_=a.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),AE(a,u)}function d4(a,l){return ut(a,l)}var yh=null,cc=null,ng=!1,_h=!1,rg=!1,Ya=0;function Is(a){a!==cc&&a.next===null&&(cc===null?yh=cc=a:cc=cc.next=a),_h=!0,ng||(ng=!0,p4())}function Bu(a,l){if(!rg&&_h){rg=!0;do for(var u=!1,p=yh;p!==null;){if(a!==0){var _=p.pendingLanes;if(_===0)var T=0;else{var P=p.suspendedLanes,q=p.pingedLanes;T=(1<<31-xn(42|a)+1)-1,T&=_&~(P&~q),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(u=!0,NE(p,T))}else T=kt,T=wn(p,p===gn?T:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(T&3)===0||gr(p,T)||(u=!0,NE(p,T));p=p.next}while(u);rg=!1}}function h4(){CE()}function CE(){_h=ng=!1;var a=0;Ya!==0&&S4()&&(a=Ya);for(var l=dt(),u=null,p=yh;p!==null;){var _=p.next,T=bE(p,l);T===0?(p.next=null,u===null?yh=_:u.next=_,_===null&&(cc=u)):(u=p,(a!==0||(T&3)!==0)&&(_h=!0)),p=_}tr!==0&&tr!==5||Bu(a),Ya!==0&&(Ya=0)}function bE(a,l){for(var u=a.suspendedLanes,p=a.pingedLanes,_=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var P=31-xn(T),q=1<<P,se=_[P];se===-1?((q&u)===0||(q&p)!==0)&&(_[P]=Pe(q,l)):se<=l&&(a.expiredLanes|=q),T&=~q}if(l=gn,u=kt,u=wn(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===l&&(sn===2||sn===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Kt(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||gr(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(p!==null&&Kt(p),yr(u)){case 2:case 8:u=ln;break;case 32:u=Rt;break;case 268435456:u=ht;break;default:u=Rt}return p=IE.bind(null,a),u=ut(u,p),a.callbackPriority=l,a.callbackNode=u,l}return p!==null&&p!==null&&Kt(p),a.callbackPriority=2,a.callbackNode=null,2}function IE(a,l){if(tr!==0&&tr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(xh()&&a.callbackNode!==u)return null;var p=kt;return p=wn(a,a===gn?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(cE(a,p,l),bE(a,dt()),a.callbackNode!=null&&a.callbackNode===u?IE.bind(null,a):null)}function NE(a,l){if(xh())return null;cE(a,l,!0)}function p4(){C4(function(){(Zt&6)!==0?ut(vt,h4):CE()})}function ig(){if(Ya===0){var a=Yl;a===0&&(a=jr,jr<<=1,(jr&261888)===0&&(jr=256)),Ya=a}return Ya}function RE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ml(""+a)}function kE(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function m4(a,l,u,p,_){if(l==="submit"&&u&&u.stateNode===_){var T=RE((_[ee]||null).action),P=p.submitter;P&&(l=(l=P[ee]||null)?RE(l.formAction):P.getAttribute("formAction"),l!==null&&(T=l,P=null));var q=new Es("action","action",null,p,_);a.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ya!==0){var se=P?kE(_,P):new FormData(_);Sm(u,{pending:!0,data:se,method:_.method,action:T},null,se)}}else typeof T=="function"&&(q.preventDefault(),se=P?kE(_,P):new FormData(_),Sm(u,{pending:!0,data:se,method:_.method,action:T},T,se))},currentTarget:_}]})}}for(var sg=0;sg<zp.length;sg++){var ag=zp[sg],g4=ag.toLowerCase(),v4=ag[0].toUpperCase()+ag.slice(1);is(g4,"on"+v4)}is(ly,"onAnimationEnd"),is(cy,"onAnimationIteration"),is(uy,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(Mk,"onTransitionRun"),is(Pk,"onTransitionStart"),is(Fk,"onTransitionCancel"),is(fy,"onTransitionEnd"),Dr("onMouseEnter",["mouseout","mouseover"]),Dr("onMouseLeave",["mouseout","mouseover"]),Dr("onPointerEnter",["pointerout","pointerover"]),Dr("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function DE(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],_=p.event;p=p.listeners;e:{var T=void 0;if(l)for(var P=p.length-1;0<=P;P--){var q=p[P],se=q.instance,ge=q.currentTarget;if(q=q.listener,se!==T&&_.isPropagationStopped())break e;T=q,_.currentTarget=ge;try{T(_)}catch(Ne){Fd(Ne)}_.currentTarget=null,T=se}else for(P=0;P<p.length;P++){if(q=p[P],se=q.instance,ge=q.currentTarget,q=q.listener,se!==T&&_.isPropagationStopped())break e;T=q,_.currentTarget=ge;try{T(_)}catch(Ne){Fd(Ne)}_.currentTarget=null,T=se}}}}function Nt(a,l){var u=l[pe];u===void 0&&(u=l[pe]=new Set);var p=a+"__bubble";u.has(p)||(ME(l,a,2,!1),u.add(p))}function og(a,l,u){var p=0;l&&(p|=4),ME(u,a,p,l)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function lg(a){if(!a[Eh]){a[Eh]=!0,tn.forEach(function(u){u!=="selectionchange"&&(x4.has(u)||og(u,!1,a),og(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Eh]||(l[Eh]=!0,og("selectionchange",!1,l))}}function ME(a,l,u,p){switch(lT(l)){case 2:var _=j4;break;case 8:_=K4;break;default:_=wg}u=_.bind(null,l,u,a),_=void 0,!ko||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),p?_!==void 0?a.addEventListener(l,u,{capture:!0,passive:_}):a.addEventListener(l,u,!0):_!==void 0?a.addEventListener(l,u,{passive:_}):a.addEventListener(l,u,!1)}function cg(a,l,u,p,_){var T=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var q=p.stateNode.containerInfo;if(q===_)break;if(P===4)for(P=p.return;P!==null;){var se=P.tag;if((se===3||se===4)&&P.stateNode.containerInfo===_)return;P=P.return}for(;q!==null;){if(P=He(q),P===null)return;if(se=P.tag,se===5||se===6||se===26||se===27){p=T=P;continue e}q=q.parentNode}}p=p.return}Na(function(){var ge=T,Ne=bi(u),De=[];e:{var _e=dy.get(a);if(_e!==void 0){var Se=Es,Ze=a;switch(a){case"keypress":if(Mo(u)===0)break e;case"keydown":case"keyup":Se=Dd;break;case"focusin":Ze="focus",Se=Fo;break;case"focusout":Ze="blur",Se=Fo;break;case"beforeblur":case"afterblur":Se=Fo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=wd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=R;break;case ly:case cy:case uy:Se=Ad;break;case fy:Se=Y;break;case"scroll":case"scrollend":Se=fu;break;case"wheel":Se=we;break;case"copy":case"cut":case"paste":Se=Cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=$s;break;case"toggle":case"beforetoggle":Se=wt}var ft=(l&4)!==0,dn=!ft&&(a==="scroll"||a==="scrollend"),ue=ft?_e!==null?_e+"Capture":null:_e;ft=[];for(var le=ge,he;le!==null;){var ke=le;if(he=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||he===null||ue===null||(ke=es(le,ue),ke!=null&&ft.push(Hu(le,ke,he))),dn)break;le=le.return}0<ft.length&&(_e=new Se(_e,Ze,null,u,Ne),De.push({event:_e,listeners:ft}))}}if((l&7)===0){e:{if(_e=a==="mouseover"||a==="pointerover",Se=a==="mouseout"||a==="pointerout",_e&&u!==lu&&(Ze=u.relatedTarget||u.fromElement)&&(He(Ze)||Ze[re]))break e;if((Se||_e)&&(_e=Ne.window===Ne?Ne:(_e=Ne.ownerDocument)?_e.defaultView||_e.parentWindow:window,Se?(Ze=u.relatedTarget||u.toElement,Se=ge,Ze=Ze?He(Ze):null,Ze!==null&&(dn=s(Ze),ft=Ze.tag,Ze!==dn||ft!==5&&ft!==27&&ft!==6)&&(Ze=null)):(Se=null,Ze=ge),Se!==Ze)){if(ft=du,ke="onMouseLeave",ue="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(ft=$s,ke="onPointerLeave",ue="onPointerEnter",le="pointer"),dn=Se==null?_e:Ue(Se),he=Ze==null?_e:Ue(Ze),_e=new ft(ke,le+"leave",Se,u,Ne),_e.target=dn,_e.relatedTarget=he,ke=null,He(Ne)===ge&&(ft=new ft(ue,le+"enter",Ze,u,Ne),ft.target=he,ft.relatedTarget=dn,ke=ft),dn=ke,Se&&Ze)t:{for(ft=y4,ue=Se,le=Ze,he=0,ke=ue;ke;ke=ft(ke))he++;ke=0;for(var st=le;st;st=ft(st))ke++;for(;0<he-ke;)ue=ft(ue),he--;for(;0<ke-he;)le=ft(le),ke--;for(;he--;){if(ue===le||le!==null&&ue===le.alternate){ft=ue;break t}ue=ft(ue),le=ft(le)}ft=null}else ft=null;Se!==null&&PE(De,_e,Se,ft,!1),Ze!==null&&dn!==null&&PE(De,dn,Ze,ft,!0)}}e:{if(_e=ge?Ue(ge):window,Se=_e.nodeName&&_e.nodeName.toLowerCase(),Se==="select"||Se==="input"&&_e.type==="file")var qt=Zx;else if(Jx(_e))if(Xx)qt=Rk;else{qt=Ik;var nt=bk}else Se=_e.nodeName,!Se||Se.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?ge&&Dl(ge.elementType)&&(qt=Zx):qt=Nk;if(qt&&(qt=qt(a,ge))){Wx(De,qt,u,Ne);break e}nt&&nt(a,_e,ge),a==="focusout"&&ge&&_e.type==="number"&&ge.memoizedProps.value!=null&&su(_e,"number",_e.value)}switch(nt=ge?Ue(ge):window,a){case"focusin":(Jx(nt)||nt.contentEditable==="true")&&(Bl=nt,Up=ge,vu=null);break;case"focusout":vu=Up=Bl=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,ay(De,u,Ne);break;case"selectionchange":if(Dk)break;case"keydown":case"keyup":ay(De,u,Ne)}var Ct;if(Wt)e:{switch(a){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Vl?Oo(a,u)&&(Dt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ss&&u.locale!=="ko"&&(Vl||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Vl&&(Ct=uu()):(_s=Ne,cu="value"in _s?_s.value:_s.textContent,Vl=!0)),nt=Th(ge,Dt),0<nt.length&&(Dt=new ws(Dt,a,null,u,Ne),De.push({event:Dt,listeners:nt}),Ct?Dt.data=Ct:(Ct=Ul(u),Ct!==null&&(Dt.data=Ct)))),(Ct=Ni?wk(a,u):Sk(a,u))&&(Dt=Th(ge,"onBeforeInput"),0<Dt.length&&(nt=new ws("onBeforeInput","beforeinput",null,u,Ne),De.push({event:nt,listeners:Dt}),nt.data=Ct)),m4(De,a,ge,u,Ne)}DE(De,l)})}function Hu(a,l,u){return{instance:a,listener:l,currentTarget:u}}function Th(a,l){for(var u=l+"Capture",p=[];a!==null;){var _=a,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=es(a,u),_!=null&&p.unshift(Hu(a,_,T)),_=es(a,l),_!=null&&p.push(Hu(a,_,T))),a.tag===3)return p;a=a.return}return[]}function y4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function PE(a,l,u,p,_){for(var T=l._reactName,P=[];u!==null&&u!==p;){var q=u,se=q.alternate,ge=q.stateNode;if(q=q.tag,se!==null&&se===p)break;q!==5&&q!==26&&q!==27||ge===null||(se=ge,_?(ge=es(u,T),ge!=null&&P.unshift(Hu(u,ge,se))):_||(ge=es(u,T),ge!=null&&P.push(Hu(u,ge,se)))),u=u.return}P.length!==0&&a.push({event:l,listeners:P})}var _4=/\r\n?/g,E4=/\u0000|\uFFFD/g;function FE(a){return(typeof a=="string"?a:""+a).replace(_4,`
`).replace(E4,"")}function OE(a,l){return l=FE(l),FE(a)===l}function fn(a,l,u,p,_,T){switch(u){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||ii(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&ii(a,""+p);break;case"className":mi(a,"class",p);break;case"tabIndex":mi(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":mi(a,u,p);break;case"style":ou(a,p,T);break;case"data":if(l!=="object"){mi(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Ml(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(u==="formAction"?(l!=="input"&&fn(a,l,"name",_.name,_,null),fn(a,l,"formEncType",_.formEncType,_,null),fn(a,l,"formMethod",_.formMethod,_,null),fn(a,l,"formTarget",_.formTarget,_,null)):(fn(a,l,"encType",_.encType,_,null),fn(a,l,"method",_.method,_,null),fn(a,l,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=Ml(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=Qi);break;case"onScroll":p!=null&&Nt("scroll",a);break;case"onScrollEnd":p!=null&&Nt("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=Ml(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":Nt("beforetoggle",a),Nt("toggle",a),Mr(a,"popover",p);break;case"xlinkActuate":qn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":qn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":qn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":qn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":qn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":qn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":qn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":qn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":qn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Mr(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Td.get(u)||u,Mr(a,u,p))}}function ug(a,l,u,p,_,T){switch(u){case"style":ou(a,p,T);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?ii(a,p):(typeof p=="number"||typeof p=="bigint")&&ii(a,""+p);break;case"onScroll":p!=null&&Nt("scroll",a);break;case"onScrollEnd":p!=null&&Nt("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),l=u.slice(2,_?u.length-7:void 0),T=a[ee]||null,T=T!=null?T[u]:null,typeof T=="function"&&a.removeEventListener(l,T,_),typeof p=="function")){typeof T!="function"&&T!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,p,_);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):Mr(a,u,p)}}}function Sr(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",a),Nt("load",a);var p=!1,_=!1,T;for(T in u)if(u.hasOwnProperty(T)){var P=u[T];if(P!=null)switch(T){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:fn(a,l,T,P,u,null)}}_&&fn(a,l,"srcSet",u.srcSet,u,null),p&&fn(a,l,"src",u.src,u,null);return;case"input":Nt("invalid",a);var q=T=P=_=null,se=null,ge=null;for(p in u)if(u.hasOwnProperty(p)){var Ne=u[p];if(Ne!=null)switch(p){case"name":_=Ne;break;case"type":P=Ne;break;case"checked":se=Ne;break;case"defaultChecked":ge=Ne;break;case"value":T=Ne;break;case"defaultValue":q=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,l));break;default:fn(a,l,p,Ne,u,null)}}yd(a,T,q,se,ge,P,_,!1);return;case"select":Nt("invalid",a),p=P=T=null;for(_ in u)if(u.hasOwnProperty(_)&&(q=u[_],q!=null))switch(_){case"value":T=q;break;case"defaultValue":P=q;break;case"multiple":p=q;default:fn(a,l,_,q,u,null)}l=T,u=P,a.multiple=!!p,l!=null?Aa(a,!!p,l,!1):u!=null&&Aa(a,!!p,u,!0);return;case"textarea":Nt("invalid",a),T=_=p=null;for(P in u)if(u.hasOwnProperty(P)&&(q=u[P],q!=null))switch(P){case"value":p=q;break;case"defaultValue":_=q;break;case"children":T=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:fn(a,l,P,q,u,null)}Ca(a,p,_,T);return;case"option":for(se in u)if(u.hasOwnProperty(se)&&(p=u[se],p!=null))switch(se){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:fn(a,l,se,p,u,null)}return;case"dialog":Nt("beforetoggle",a),Nt("toggle",a),Nt("cancel",a),Nt("close",a);break;case"iframe":case"object":Nt("load",a);break;case"video":case"audio":for(p=0;p<zu.length;p++)Nt(zu[p],a);break;case"image":Nt("error",a),Nt("load",a);break;case"details":Nt("toggle",a);break;case"embed":case"source":case"link":Nt("error",a),Nt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in u)if(u.hasOwnProperty(ge)&&(p=u[ge],p!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:fn(a,l,ge,p,u,null)}return;default:if(Dl(l)){for(Ne in u)u.hasOwnProperty(Ne)&&(p=u[Ne],p!==void 0&&ug(a,l,Ne,p,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(p=u[q],p!=null&&fn(a,l,q,p,u,null))}function T4(a,l,u,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,P=null,q=null,se=null,ge=null,Ne=null;for(Se in u){var De=u[Se];if(u.hasOwnProperty(Se)&&De!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":se=De;default:p.hasOwnProperty(Se)||fn(a,l,Se,null,p,De)}}for(var _e in p){var Se=p[_e];if(De=u[_e],p.hasOwnProperty(_e)&&(Se!=null||De!=null))switch(_e){case"type":T=Se;break;case"name":_=Se;break;case"checked":ge=Se;break;case"defaultChecked":Ne=Se;break;case"value":P=Se;break;case"defaultValue":q=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,l));break;default:Se!==De&&fn(a,l,_e,Se,p,De)}}kl(a,P,q,se,ge,Ne,T,_);return;case"select":Se=P=q=_e=null;for(T in u)if(se=u[T],u.hasOwnProperty(T)&&se!=null)switch(T){case"value":break;case"multiple":Se=se;default:p.hasOwnProperty(T)||fn(a,l,T,null,p,se)}for(_ in p)if(T=p[_],se=u[_],p.hasOwnProperty(_)&&(T!=null||se!=null))switch(_){case"value":_e=T;break;case"defaultValue":q=T;break;case"multiple":P=T;default:T!==se&&fn(a,l,_,T,p,se)}l=q,u=P,p=Se,_e!=null?Aa(a,!!u,_e,!1):!!p!=!!u&&(l!=null?Aa(a,!!u,l,!0):Aa(a,!!u,u?[]:"",!1));return;case"textarea":Se=_e=null;for(q in u)if(_=u[q],u.hasOwnProperty(q)&&_!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:fn(a,l,q,null,p,_)}for(P in p)if(_=p[P],T=u[P],p.hasOwnProperty(P)&&(_!=null||T!=null))switch(P){case"value":_e=_;break;case"defaultValue":Se=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==T&&fn(a,l,P,_,p,T)}_d(a,_e,Se);return;case"option":for(var Ze in u)if(_e=u[Ze],u.hasOwnProperty(Ze)&&_e!=null&&!p.hasOwnProperty(Ze))switch(Ze){case"selected":a.selected=!1;break;default:fn(a,l,Ze,null,p,_e)}for(se in p)if(_e=p[se],Se=u[se],p.hasOwnProperty(se)&&_e!==Se&&(_e!=null||Se!=null))switch(se){case"selected":a.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:fn(a,l,se,_e,p,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in u)_e=u[ft],u.hasOwnProperty(ft)&&_e!=null&&!p.hasOwnProperty(ft)&&fn(a,l,ft,null,p,_e);for(ge in p)if(_e=p[ge],Se=u[ge],p.hasOwnProperty(ge)&&_e!==Se&&(_e!=null||Se!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,l));break;default:fn(a,l,ge,_e,p,Se)}return;default:if(Dl(l)){for(var dn in u)_e=u[dn],u.hasOwnProperty(dn)&&_e!==void 0&&!p.hasOwnProperty(dn)&&ug(a,l,dn,void 0,p,_e);for(Ne in p)_e=p[Ne],Se=u[Ne],!p.hasOwnProperty(Ne)||_e===Se||_e===void 0&&Se===void 0||ug(a,l,Ne,_e,p,Se);return}}for(var ue in u)_e=u[ue],u.hasOwnProperty(ue)&&_e!=null&&!p.hasOwnProperty(ue)&&fn(a,l,ue,null,p,_e);for(De in p)_e=p[De],Se=u[De],!p.hasOwnProperty(De)||_e===Se||_e==null&&Se==null||fn(a,l,De,_e,p,Se)}function LE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w4(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var _=u[p],T=_.transferSize,P=_.initiatorType,q=_.duration;if(T&&q&&LE(P)){for(P=0,q=_.responseEnd,p+=1;p<u.length;p++){var se=u[p],ge=se.startTime;if(ge>q)break;var Ne=se.transferSize,De=se.initiatorType;Ne&&LE(De)&&(se=se.responseEnd,P+=Ne*(se<q?1:(q-ge)/(se-ge)))}if(--p,l+=8*(T+P)/(_.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var fg=null,dg=null;function wh(a){return a.nodeType===9?a:a.ownerDocument}function UE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function hg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var pg=null;function S4(){var a=window.event;return a&&a.type==="popstate"?a===pg?!1:(pg=a,!0):(pg=null,!1)}var BE=typeof setTimeout=="function"?setTimeout:void 0,A4=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,C4=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(a){return zE.resolve(null).then(a).catch(b4)}:BE;function b4(a){setTimeout(function(){throw a})}function Ja(a){return a==="head"}function HE(a,l){var u=l,p=0;do{var _=u.nextSibling;if(a.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(_),hc(l);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")Gu(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Gu(u);for(var T=u.firstChild;T;){var P=T.nextSibling,q=T.nodeName;T[ve]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=P}}else u==="body"&&Gu(a.ownerDocument.body);u=_}while(u);hc(l)}function GE(a,l){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?l?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(l?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function mg(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":mg(u),Be(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function I4(a,l,u,p){for(;a.nodeType===1;){var _=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[ve])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Oi(a.nextSibling),a===null)break}return null}function N4(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Oi(a.nextSibling),a===null))return null;return a}function qE(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Oi(a.nextSibling),a===null))return null;return a}function gg(a){return a.data==="$?"||a.data==="$~"}function vg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function R4(a,l){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||u.readyState!=="loading")l();else{var p=function(){l(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Oi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var xg=null;function $E(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(l===0)return Oi(a.nextSibling);l--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||l++}a=a.nextSibling}return null}function jE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(l===0)return a;l--}else u!=="/$"&&u!=="/&"||l++}a=a.previousSibling}return null}function KE(a,l,u){switch(l=wh(u),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Gu(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Be(a)}var Li=new Map,YE=new Set;function Sh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var aa=oe.d;oe.d={f:k4,r:D4,D:M4,C:P4,L:F4,m:O4,X:U4,S:L4,M:V4};function k4(){var a=aa.f(),l=mh();return a||l}function D4(a){var l=je(a);l!==null&&l.tag===5&&l.type==="form"?f_(l):aa.r(a)}var uc=typeof document>"u"?null:document;function JE(a,l,u){var p=uc;if(p&&typeof l=="string"&&l){var _=ri(l);_='link[rel="'+a+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),YE.has(_)||(YE.add(_),a={rel:a,crossOrigin:u,href:l},p.querySelector(_)===null&&(l=p.createElement("link"),Sr(l,"link",a),Xe(l),p.head.appendChild(l)))}}function M4(a){aa.D(a),JE("dns-prefetch",a,null)}function P4(a,l){aa.C(a,l),JE("preconnect",a,l)}function F4(a,l,u){aa.L(a,l,u);var p=uc;if(p&&a&&l){var _='link[rel="preload"][as="'+ri(l)+'"]';l==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+ri(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+ri(u.imageSizes)+'"]')):_+='[href="'+ri(a)+'"]';var T=_;switch(l){case"style":T=fc(a);break;case"script":T=dc(a)}Li.has(T)||(a=g({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Li.set(T,a),p.querySelector(_)!==null||l==="style"&&p.querySelector(qu(T))||l==="script"&&p.querySelector($u(T))||(l=p.createElement("link"),Sr(l,"link",a),Xe(l),p.head.appendChild(l)))}}function O4(a,l){aa.m(a,l);var u=uc;if(u&&a){var p=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+ri(p)+'"][href="'+ri(a)+'"]',T=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=dc(a)}if(!Li.has(T)&&(a=g({rel:"modulepreload",href:a},l),Li.set(T,a),u.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector($u(T)))return}p=u.createElement("link"),Sr(p,"link",a),Xe(p),u.head.appendChild(p)}}}function L4(a,l,u){aa.S(a,l,u);var p=uc;if(p&&a){var _=$e(p).hoistableStyles,T=fc(a);l=l||"default";var P=_.get(T);if(!P){var q={loading:0,preload:null};if(P=p.querySelector(qu(T)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Li.get(T))&&yg(a,u);var se=P=p.createElement("link");Xe(se),Sr(se,"link",a),se._p=new Promise(function(ge,Ne){se.onload=ge,se.onerror=Ne}),se.addEventListener("load",function(){q.loading|=1}),se.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Ah(P,l,p)}P={type:"stylesheet",instance:P,count:1,state:q},_.set(T,P)}}}function U4(a,l){aa.X(a,l);var u=uc;if(u&&a){var p=$e(u).hoistableScripts,_=dc(a),T=p.get(_);T||(T=u.querySelector($u(_)),T||(a=g({src:a,async:!0},l),(l=Li.get(_))&&_g(a,l),T=u.createElement("script"),Xe(T),Sr(T,"link",a),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(_,T))}}function V4(a,l){aa.M(a,l);var u=uc;if(u&&a){var p=$e(u).hoistableScripts,_=dc(a),T=p.get(_);T||(T=u.querySelector($u(_)),T||(a=g({src:a,async:!0,type:"module"},l),(l=Li.get(_))&&_g(a,l),T=u.createElement("script"),Xe(T),Sr(T,"link",a),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(_,T))}}function WE(a,l,u,p){var _=(_=ce.current)?Sh(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=fc(u.href),u=$e(_).hoistableStyles,p=u.get(l),p||(p={type:"style",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=fc(u.href);var T=$e(_).hoistableStyles,P=T.get(a);if(P||(_=_.ownerDocument||_,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,P),(T=_.querySelector(qu(a)))&&!T._p&&(P.instance=T,P.state.loading=5),Li.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Li.set(a,u),T||B4(_,a,u,P.state))),l&&p===null)throw Error(r(528,""));return P}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=dc(u),u=$e(_).hoistableScripts,p=u.get(l),p||(p={type:"script",instance:null,count:0,state:null},u.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function fc(a){return'href="'+ri(a)+'"'}function qu(a){return'link[rel="stylesheet"]['+a+"]"}function ZE(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function B4(a,l,u,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Sr(l,"link",u),Xe(l),a.head.appendChild(l))}function dc(a){return'[src="'+ri(a)+'"]'}function $u(a){return"script[async]"+a}function XE(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+ri(u.href)+'"]');if(p)return l.instance=p,Xe(p),p;var _=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Xe(p),Sr(p,"style",_),Ah(p,u.precedence,a),l.instance=p;case"stylesheet":_=fc(u.href);var T=a.querySelector(qu(_));if(T)return l.state.loading|=4,l.instance=T,Xe(T),T;p=ZE(u),(_=Li.get(_))&&yg(p,_),T=(a.ownerDocument||a).createElement("link"),Xe(T);var P=T;return P._p=new Promise(function(q,se){P.onload=q,P.onerror=se}),Sr(T,"link",p),l.state.loading|=4,Ah(T,u.precedence,a),l.instance=T;case"script":return T=dc(u.src),(_=a.querySelector($u(T)))?(l.instance=_,Xe(_),_):(p=u,(_=Li.get(T))&&(p=g({},u),_g(p,_)),a=a.ownerDocument||a,_=a.createElement("script"),Xe(_),Sr(_,"link",p),a.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Ah(p,u.precedence,a));return l.instance}function Ah(a,l,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,T=_,P=0;P<p.length;P++){var q=p[P];if(q.dataset.precedence===l)T=q;else if(T!==_)break}T?T.parentNode.insertBefore(a,T.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function yg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function _g(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ch=null;function QE(a,l,u){if(Ch===null){var p=new Map,_=Ch=new Map;_.set(u,p)}else _=Ch,p=_.get(u),p||(p=new Map,_.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),_=0;_<u.length;_++){var T=u[_];if(!(T[ve]||T[J]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var P=T.getAttribute(l)||"";P=a+P;var q=p.get(P);q?q.push(T):p.set(P,[T])}}return p}function eT(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function z4(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function tT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function H4(a,l,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=fc(p.href),T=l.querySelector(qu(_));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=bh.bind(a),l.then(a,a)),u.state.loading|=4,u.instance=T,Xe(T);return}T=l.ownerDocument||l,p=ZE(p),(_=Li.get(_))&&yg(p,_),T=T.createElement("link"),Xe(T);var P=T;P._p=new Promise(function(q,se){P.onload=q,P.onerror=se}),Sr(T,"link",p),u.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,l),(l=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=bh.bind(a),l.addEventListener("load",u),l.addEventListener("error",u))}}var Eg=0;function G4(a,l){return a.stylesheets&&a.count===0&&Nh(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&Nh(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+l);0<a.imgBytes&&Eg===0&&(Eg=62500*w4());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Nh(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>Eg?50:800)+l);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ih=null;function Nh(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ih=new Map,l.forEach(q4,a),Ih=null,bh.call(a))}function q4(a,l){if(!(l.state.loading&4)){var u=Ih.get(a);if(u)var p=u.get(null);else{u=new Map,Ih.set(a,u);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var P=_[T];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(u.set(P.dataset.precedence,P),p=P)}p&&u.set(null,p)}_=l.instance,P=_.getAttribute("data-precedence"),T=u.get(P)||p,T===p&&u.set(null,_),u.set(P,_),this.count++,p=bh.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),T?T.parentNode.insertBefore(_,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),l.state.loading|=4}}var ju={$$typeof:D,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function $4(a,l,u,p,_,T,P,q,se){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function nT(a,l,u,p,_,T,P,q,se,ge,Ne,De){return a=new $4(a,l,u,P,se,ge,Ne,De,q),l=1,T===!0&&(l|=24),T=vi(3,null,null,l),a.current=T,T.stateNode=a,l=em(),l.refCount++,a.pooledCache=l,l.refCount++,T.memoizedState={element:p,isDehydrated:u,cache:l},im(T),a}function rT(a){return a?(a=Gl,a):Gl}function iT(a,l,u,p,_,T){_=rT(_),p.context===null?p.context=_:p.pendingContext=_,p=Ua(l),p.payload={element:u},T=T===void 0?null:T,T!==null&&(p.callback=T),u=Va(a,p,l),u!==null&&(ci(u,a,l),Su(u,a,l))}function sT(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function Tg(a,l){sT(a,l),(a=a.alternate)&&sT(a,l)}function aT(a){if(a.tag===13||a.tag===31){var l=Vo(a,67108864);l!==null&&ci(l,a,67108864),Tg(a,67108864)}}function oT(a){if(a.tag===13||a.tag===31){var l=Ti();l=xr(l);var u=Vo(a,l);u!==null&&ci(u,a,l),Tg(a,l)}}var Rh=!0;function j4(a,l,u,p){var _=ae.T;ae.T=null;var T=oe.p;try{oe.p=2,wg(a,l,u,p)}finally{oe.p=T,ae.T=_}}function K4(a,l,u,p){var _=ae.T;ae.T=null;var T=oe.p;try{oe.p=8,wg(a,l,u,p)}finally{oe.p=T,ae.T=_}}function wg(a,l,u,p){if(Rh){var _=Sg(p);if(_===null)cg(a,l,p,kh,u),cT(a,p);else if(J4(_,a,l,u,p))p.stopPropagation();else if(cT(a,p),l&4&&-1<Y4.indexOf(a)){for(;_!==null;){var T=je(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var P=mr(T.pendingLanes);if(P!==0){var q=T;for(q.pendingLanes|=2,q.entangledLanes|=2;P;){var se=1<<31-xn(P);q.entanglements[1]|=se,P&=~se}Is(T),(Zt&6)===0&&(hh=dt()+500,Bu(0))}}break;case 31:case 13:q=Vo(T,2),q!==null&&ci(q,T,2),mh(),Tg(T,2)}if(T=Sg(p),T===null&&cg(a,l,p,kh,u),T===_)break;_=T}_!==null&&p.stopPropagation()}else cg(a,l,p,null,u)}}function Sg(a){return a=bi(a),Ag(a)}var kh=null;function Ag(a){if(kh=null,a=He(a),a!==null){var l=s(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===31){if(a=c(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return kh=a,null}function lT(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case vt:return 2;case ln:return 8;case Rt:case Gn:return 32;case ht:return 268435456;default:return 32}default:return 32}}var Cg=!1,Wa=null,Za=null,Xa=null,Ku=new Map,Yu=new Map,Qa=[],Y4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cT(a,l){switch(a){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Ku.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(l.pointerId)}}function Ju(a,l,u,p,_,T){return a===null||a.nativeEvent!==T?(a={blockedOn:l,domEventName:u,eventSystemFlags:p,nativeEvent:T,targetContainers:[_]},l!==null&&(l=je(l),l!==null&&aT(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),a)}function J4(a,l,u,p,_){switch(l){case"focusin":return Wa=Ju(Wa,a,l,u,p,_),!0;case"dragenter":return Za=Ju(Za,a,l,u,p,_),!0;case"mouseover":return Xa=Ju(Xa,a,l,u,p,_),!0;case"pointerover":var T=_.pointerId;return Ku.set(T,Ju(Ku.get(T)||null,a,l,u,p,_)),!0;case"gotpointercapture":return T=_.pointerId,Yu.set(T,Ju(Yu.get(T)||null,a,l,u,p,_)),!0}return!1}function uT(a){var l=He(a.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,W(a.priority,function(){oT(u)});return}}else if(l===31){if(l=c(u),l!==null){a.blockedOn=l,W(a.priority,function(){oT(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Dh(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=Sg(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);lu=p,u.target.dispatchEvent(p),lu=null}else return l=je(u),l!==null&&aT(l),a.blockedOn=u,!1;l.shift()}return!0}function fT(a,l,u){Dh(a)&&u.delete(l)}function W4(){Cg=!1,Wa!==null&&Dh(Wa)&&(Wa=null),Za!==null&&Dh(Za)&&(Za=null),Xa!==null&&Dh(Xa)&&(Xa=null),Ku.forEach(fT),Yu.forEach(fT)}function Mh(a,l){a.blockedOn===l&&(a.blockedOn=null,Cg||(Cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W4)))}var Ph=null;function dT(a){Ph!==a&&(Ph=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ph===a&&(Ph=null);for(var l=0;l<a.length;l+=3){var u=a[l],p=a[l+1],_=a[l+2];if(typeof p!="function"){if(Ag(p||u)===null)continue;break}var T=je(u);T!==null&&(a.splice(l,3),l-=3,Sm(T,{pending:!0,data:_,method:u.method,action:p},p,_))}}))}function hc(a){function l(se){return Mh(se,a)}Wa!==null&&Mh(Wa,a),Za!==null&&Mh(Za,a),Xa!==null&&Mh(Xa,a),Ku.forEach(l),Yu.forEach(l);for(var u=0;u<Qa.length;u++){var p=Qa[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Qa.length&&(u=Qa[0],u.blockedOn===null);)uT(u),u.blockedOn===null&&Qa.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var _=u[p],T=u[p+1],P=_[ee]||null;if(typeof T=="function")P||dT(u);else if(P){var q=null;if(T&&T.hasAttribute("formAction")){if(_=T,P=T[ee]||null)q=P.formAction;else if(Ag(_)!==null)continue}else q=P.action;typeof q=="function"?u[p+1]=q:(u.splice(p,3),p-=3),dT(u)}}}function hT(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(P){return _=P})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function bg(a){this._internalRoot=a}Fh.prototype.render=bg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var u=l.current,p=Ti();iT(u,p,a,l,null,null)},Fh.prototype.unmount=bg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;iT(a.current,2,null,a,null,null),mh(),l[re]=null}};function Fh(a){this._internalRoot=a}Fh.prototype.unstable_scheduleHydration=function(a){if(a){var l=G();a={blockedOn:null,target:a,priority:l};for(var u=0;u<Qa.length&&l!==0&&l<Qa[u].priority;u++);Qa.splice(u,0,a),u===0&&uT(a)}};var pT=e.version;if(pT!=="19.2.4")throw Error(r(527,pT,"19.2.4"));oe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Z4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{bt=Oh.inject(Z4),Qt=Oh}catch{}}return Zu.createRoot=function(a,l){if(!i(a))throw Error(r(299));var u=!1,p="",_=E_,T=T_,P=w_;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=nT(a,1,!1,null,null,u,p,null,_,T,P,hT),a[re]=l.current,lg(a),new bg(l)},Zu.hydrateRoot=function(a,l,u){if(!i(a))throw Error(r(299));var p=!1,_="",T=E_,P=T_,q=w_,se=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(P=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(se=u.formState)),l=nT(a,1,!0,l,u??null,p,_,se,T,P,q,hT),l.context=rT(null),u=l.current,p=Ti(),p=xr(p),_=Ua(p),_.callback=null,Va(u,_,p),u=p,l.current.lanes=u,ot(l,u),Is(l),a[re]=l.current,lg(a),new Fh(l)},Zu.version="19.2.4",Zu}var CT;function lD(){if(CT)return Dg.exports;CT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dg.exports=oD(),Dg.exports}var cD=lD();const uD=ap(cD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=t=>{const e=dD(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=fe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},f)=>fe.createElement("svg",{ref:f,...hD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:iC("lucide",i),...!s&&!pD(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,h])=>fe.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=fe.forwardRef(({className:r,...i},s)=>fe.createElement(mD,{ref:s,iconNode:e,className:iC(`lucide-${fD(bT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=bT(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],vD=lt("arrow-down",gD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yD=lt("arrow-left",xD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ED=lt("arrow-right",_D);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],wD=lt("arrow-up",TD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],sC=lt("briefcase",SD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],CD=lt("calendar",AD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_0=lt("check",bD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ND=lt("chevron-right",ID);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ha=lt("circle-alert",RD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mf=lt("circle-check-big",kD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],hv=lt("cloud",DD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],PD=lt("cookie",MD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],OD=lt("download",FD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],UD=lt("external-link",LD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],l0=lt("file-spreadsheet",VD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],IT=lt("file-text",BD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],E0=lt("file-up",zD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],GD=lt("funnel",HD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],y1=lt("globe",qD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Og=lt("key",$D);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],aC=lt("layers",jD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],NT=lt("layout-dashboard",KD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gf=lt("loader-circle",YD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pv=lt("lock",JD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZD=lt("log-out",WD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],QD=lt("mail",XD);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Mf=lt("map-pin",e3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],n3=lt("map",t3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],i3=lt("maximize-2",r3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],a3=lt("menu",s3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],l3=lt("minimize-2",o3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M5 12h14",key:"1ays0h"}]],u3=lt("minus",c3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cc=lt("package",f3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],h3=lt("pen",d3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Lg=lt("pencil",p3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],g3=lt("phone",m3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_1=lt("plus",v3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],op=lt("save",x3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pf=lt("search",y3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],RT=lt("send",_3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],T3=lt("shield-check",E3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],S3=lt("shield",w3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],oC=lt("shopping-bag",A3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kT=lt("sparkles",C3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],lp=lt("store",b3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],N3=lt("table",I3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],E1=lt("tag",R3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ll=lt("trash-2",k3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],M3=lt("upload",D3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],DT=lt("user-plus",P3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bc=lt("user",F3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mv=lt("users",O3);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cl=lt("x",L3),cp=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],Ff=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],U3={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},T1=t=>{const e=t.toUpperCase().trim();return U3[e]||"Indefinido"};var c0={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var V3=c0.exports,MT;function B3(){return MT||(MT=1,(function(t,e){((n,r)=>{t.exports=r()})(V3,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,c={},f=0,d={};function h(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var F=B(b);F.chunkSize=parseInt(F.chunkSize),b.step||b.chunk||(F.chunkSize=null),this._handle=new A(F),(this._handle.streamer=this)._config=F}).call(this,I),this.parseChunk=function(b,F){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let U=this._config.newline;U||(k=this._config.quoteChar||'"',U=this._handle.guessLineEndings(b,k)),b=[...b.split(U).slice(M)].join(U)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(b))!==void 0&&(b=k),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+b,k=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=k.meta.cursor,M=(this._finished||(this._partialLine=M.substring(b-this._baseIndex),this._baseIndex=b),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:k,workerId:d.WORKER_ID,finished:M});else if(N(this._config.chunk)&&!F){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!M||!N(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(b){N(this._config.error)?this._config.error(b):o&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:b,finished:!1})}}function g(I){var b;(I=I||{}).chunkSize||(I.chunkSize=d.RemoteChunkSize),h.call(this,I),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(F){this._input=F,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),s||(b.onload=j(this._chunkLoaded,this),b.onerror=j(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var F,M=this._config.downloadRequestHeaders;for(F in M)b.setRequestHeader(F,M[F])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+k));try{b.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}s&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(F=>(F=F.getResponseHeader("Content-Range"))!==null?parseInt(F.substring(F.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(F){F=b.statusText||F,this._sendError(new Error(F))}}function x(I){(I=I||{}).chunkSize||(I.chunkSize=d.LocalChunkSize),h.call(this,I);var b,F,M=typeof FileReader<"u";this.stream=function(k){this._input=k,F=k.slice||k.webkitSlice||k.mozSlice,M?((b=new FileReader).onload=j(this._chunkLoaded,this),b.onerror=j(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),k=F.call(k,this._start,U)),b.readAsText(k,this._config.encoding));M||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(b.error)}}function E(I){var b;h.call(this,I=I||{}),this.stream=function(F){return b=F,this._nextChunk()},this._nextChunk=function(){var F,M;if(!this._finished)return F=this._config.chunkSize,b=F?(M=b.substring(0,F),b.substring(F)):(M=b,""),this._finished=!b,this.parseChunk(M)}}function S(I){h.call(this,I=I||{});var b=[],F=!0,M=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):F=!0},this._streamData=j(function(k){try{b.push(typeof k=="string"?k:k.toString(this._config.encoding)),F&&(F=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(U){this._streamError(U)}},this),this._streamError=j(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=j(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(I){var b,F,M,k,U=Math.pow(2,53),Te=-U,ye=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,oe=this,Re=0,ie=0,Le=!1,Z=!1,z=[],Q={data:[],errors:[],meta:{}};function te(be){return I.skipEmptyLines==="greedy"?be.join("").trim()==="":be.length===1&&be[0].length===0}function X(){if(Q&&M&&(Ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),M=!1),I.skipEmptyLines&&(Q.data=Q.data.filter(function(ne){return!te(ne)})),ce()){let ne=function(mt,Je){N(I.transformHeader)&&(mt=I.transformHeader(mt,Je)),z.push(mt)};var Oe=ne;if(Q)if(Array.isArray(Q.data[0])){for(var be=0;ce()&&be<Q.data.length;be++)Q.data[be].forEach(ne);Q.data.splice(0,1)}else Q.data.forEach(ne)}function Ee(ne,mt){for(var Je=I.header?{}:[],Qe=0;Qe<ne.length;Qe++){var Ge=Qe,ze=ne[Qe],ze=((tt,rt)=>(ut=>(I.dynamicTypingFunction&&I.dynamicTyping[ut]===void 0&&(I.dynamicTyping[ut]=I.dynamicTypingFunction(ut)),(I.dynamicTyping[ut]||I.dynamicTyping)===!0))(tt)?rt==="true"||rt==="TRUE"||rt!=="false"&&rt!=="FALSE"&&((ut=>{if(ye.test(ut)&&(ut=parseFloat(ut),Te<ut&&ut<U))return 1})(rt)?parseFloat(rt):ae.test(rt)?new Date(rt):rt===""?null:rt):rt)(Ge=I.header?Qe>=z.length?"__parsed_extra":z[Qe]:Ge,ze=I.transform?I.transform(ze,Ge):ze);Ge==="__parsed_extra"?(Je[Ge]=Je[Ge]||[],Je[Ge].push(ze)):Je[Ge]=ze}return I.header&&(Qe>z.length?Ce("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+Qe,ie+mt):Qe<z.length&&Ce("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+Qe,ie+mt)),Je}var Ae;Q&&(I.header||I.dynamicTyping||I.transform)&&(Ae=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(Ee),Ae=Q.data.length):Q.data=Ee(Q.data,0),I.header&&Q.meta&&(Q.meta.fields=z),ie+=Ae)}function ce(){return I.header&&z.length===0}function Ce(be,Ee,Ae,Oe){be={type:be,code:Ee,message:Ae},Oe!==void 0&&(be.row=Oe),Q.errors.push(be)}N(I.step)&&(k=I.step,I.step=function(be){Q=be,ce()?X():(X(),Q.data.length!==0&&(Re+=be.data.length,I.preview&&Re>I.preview?F.abort():(Q.data=Q.data[0],k(Q,oe))))}),this.parse=function(be,Ee,Ae){var Oe=I.quoteChar||'"',Oe=(I.newline||(I.newline=this.guessLineEndings(be,Oe)),M=!1,I.delimiter?N(I.delimiter)&&(I.delimiter=I.delimiter(be),Q.meta.delimiter=I.delimiter):((Oe=((ne,mt,Je,Qe,Ge)=>{var ze,tt,rt,ut;Ge=Ge||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Kt=0;Kt<Ge.length;Kt++){for(var hn,Hn=Ge[Kt],dt=0,Yt=0,vt=0,ln=(rt=void 0,new O({comments:Qe,delimiter:Hn,newline:mt,preview:10}).parse(ne)),Rt=0;Rt<ln.data.length;Rt++)Je&&te(ln.data[Rt])?vt++:(hn=ln.data[Rt].length,Yt+=hn,rt===void 0?rt=hn:0<hn&&(dt+=Math.abs(hn-rt),rt=hn));0<ln.data.length&&(Yt/=ln.data.length-vt),(tt===void 0||dt<=tt)&&(ut===void 0||ut<Yt)&&1.99<Yt&&(tt=dt,ze=Hn,ut=Yt)}return{successful:!!(I.delimiter=ze),bestDelimiter:ze}})(be,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess)).successful?I.delimiter=Oe.bestDelimiter:(M=!0,I.delimiter=d.DefaultDelimiter),Q.meta.delimiter=I.delimiter),B(I));return I.preview&&I.header&&Oe.preview++,b=be,F=new O(Oe),Q=F.parse(b,Ee,Ae),X(),Le?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return Le},this.pause=function(){Le=!0,F.abort(),b=N(I.chunk)?"":b.substring(F.getCharIndex())},this.resume=function(){oe.streamer._halted?(Le=!1,oe.streamer.parseChunk(b,!0)):setTimeout(oe.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,F.abort(),Q.meta.aborted=!0,N(I.complete)&&I.complete(Q),b=""},this.guessLineEndings=function(ne,Oe){ne=ne.substring(0,1048576);var Oe=new RegExp(C(Oe)+"([^]*?)"+C(Oe),"gm"),Ae=(ne=ne.replace(Oe,"")).split("\r"),Oe=ne.split(`
`),ne=1<Oe.length&&Oe[0].length<Ae[0].length;if(Ae.length===1||ne)return`
`;for(var mt=0,Je=0;Je<Ae.length;Je++)Ae[Je][0]===`
`&&mt++;return mt>=Ae.length/2?`\r
`:"\r"}}function C(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function O(I){var b=(I=I||{}).delimiter,F=I.newline,M=I.comments,k=I.step,U=I.preview,Te=I.fastMode,ye=null,ae=!1,oe=I.quoteChar==null?'"':I.quoteChar,Re=oe;if(I.escapeChar!==void 0&&(Re=I.escapeChar),(typeof b!="string"||-1<d.BAD_DELIMITERS.indexOf(b))&&(b=","),M===b)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<d.BAD_DELIMITERS.indexOf(M))&&(M=!1),F!==`
`&&F!=="\r"&&F!==`\r
`&&(F=`
`);var ie=0,Le=!1;this.parse=function(Z,z,Q){if(typeof Z!="string")throw new Error("Input must be a string");var te=Z.length,X=b.length,ce=F.length,Ce=M.length,be=N(k),Ee=[],Ae=[],Oe=[],ne=ie=0;if(!Z)return dt();if(Te||Te!==!1&&Z.indexOf(oe)===-1){for(var mt=Z.split(F),Je=0;Je<mt.length;Je++){if(Oe=mt[Je],ie+=Oe.length,Je!==mt.length-1)ie+=F.length;else if(Q)return dt();if(!M||Oe.substring(0,Ce)!==M){if(be){if(Ee=[],ut(Oe.split(b)),Yt(),Le)return dt()}else ut(Oe.split(b));if(U&&U<=Je)return Ee=Ee.slice(0,U),dt(!0)}}return dt()}for(var Qe=Z.indexOf(b,ie),Ge=Z.indexOf(F,ie),ze=new RegExp(C(Re)+C(oe),"g"),tt=Z.indexOf(oe,ie);;)if(Z[ie]===oe)for(tt=ie,ie++;;){if((tt=Z.indexOf(oe,tt+1))===-1)return Q||Ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ee.length,index:ie}),hn();if(tt===te-1)return hn(Z.substring(ie,tt).replace(ze,oe));if(oe===Re&&Z[tt+1]===Re)tt++;else if(oe===Re||tt===0||Z[tt-1]!==Re){Qe!==-1&&Qe<tt+1&&(Qe=Z.indexOf(b,tt+1));var rt=Kt((Ge=Ge!==-1&&Ge<tt+1?Z.indexOf(F,tt+1):Ge)===-1?Qe:Math.min(Qe,Ge));if(Z.substr(tt+1+rt,X)===b){Oe.push(Z.substring(ie,tt).replace(ze,oe)),Z[ie=tt+1+rt+X]!==oe&&(tt=Z.indexOf(oe,ie)),Qe=Z.indexOf(b,ie),Ge=Z.indexOf(F,ie);break}if(rt=Kt(Ge),Z.substring(tt+1+rt,tt+1+rt+ce)===F){if(Oe.push(Z.substring(ie,tt).replace(ze,oe)),Hn(tt+1+rt+ce),Qe=Z.indexOf(b,ie),tt=Z.indexOf(oe,ie),be&&(Yt(),Le))return dt();if(U&&Ee.length>=U)return dt(!0);break}Ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ee.length,index:ie}),tt++}}else if(M&&Oe.length===0&&Z.substring(ie,ie+Ce)===M){if(Ge===-1)return dt();ie=Ge+ce,Ge=Z.indexOf(F,ie),Qe=Z.indexOf(b,ie)}else if(Qe!==-1&&(Qe<Ge||Ge===-1))Oe.push(Z.substring(ie,Qe)),ie=Qe+X,Qe=Z.indexOf(b,ie);else{if(Ge===-1)break;if(Oe.push(Z.substring(ie,Ge)),Hn(Ge+ce),be&&(Yt(),Le))return dt();if(U&&Ee.length>=U)return dt(!0)}return hn();function ut(vt){Ee.push(vt),ne=ie}function Kt(vt){var ln=0;return ln=vt!==-1&&(vt=Z.substring(tt+1,vt))&&vt.trim()===""?vt.length:ln}function hn(vt){return Q||(vt===void 0&&(vt=Z.substring(ie)),Oe.push(vt),ie=te,ut(Oe),be&&Yt()),dt()}function Hn(vt){ie=vt,ut(Oe),Oe=[],Ge=Z.indexOf(F,ie)}function dt(vt){if(I.header&&!z&&Ee.length&&!ae){var ln=Ee[0],Rt=Object.create(null),Gn=new Set(ln);let ht=!1;for(let Ft=0;Ft<ln.length;Ft++){let Xt=ln[Ft];if(Rt[Xt=N(I.transformHeader)?I.transformHeader(Xt,Ft):Xt]){let bt,Qt=Rt[Xt];for(;bt=Xt+"_"+Qt,Qt++,Gn.has(bt););Gn.add(bt),ln[Ft]=bt,Rt[Xt]++,ht=!0,(ye=ye===null?{}:ye)[bt]=Xt}else Rt[Xt]=1,ln[Ft]=Xt;Gn.add(Xt)}ht&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:Ee,errors:Ae,meta:{delimiter:b,linebreak:F,aborted:Le,truncated:!!vt,cursor:ne+(z||0),renamedHeaders:ye}}}function Yt(){k(dt()),Ee=[],Ae=[]}},this.abort=function(){Le=!0},this.getCharIndex=function(){return ie}}function V(I){var b=I.data,F=c[b.workerId],M=!1;if(b.error)F.userError(b.error,b.file);else if(b.results&&b.results.data){var k={abort:function(){M=!0,D(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(N(F.userStep)){for(var U=0;U<b.results.data.length&&(F.userStep({data:b.results.data[U],errors:b.results.errors,meta:b.results.meta},k),!M);U++);delete b.results}else N(F.userChunk)&&(F.userChunk(b.results,k,b.file),delete b.results)}b.finished&&!M&&D(b.workerId,b.results)}function D(I,b){var F=c[I];N(F.userComplete)&&F.userComplete(b),F.terminate(),delete c[I]}function H(){throw new Error("Not implemented.")}function B(I){if(typeof I!="object"||I===null)return I;var b,F=Array.isArray(I)?[]:{};for(b in I)F[b]=B(I[b]);return F}function j(I,b){return function(){I.apply(b,arguments)}}function N(I){return typeof I=="function"}return d.parse=function(I,b){var F=(b=b||{}).dynamicTyping||!1;if(N(F)&&(b.dynamicTypingFunction=F,F={}),b.dynamicTyping=F,b.transform=!!N(b.transform)&&b.transform,!b.worker||!d.WORKERS_SUPPORTED)return F=null,d.NODE_STREAM_INPUT,typeof I=="string"?(I=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(I),F=new(b.download?g:E)(b)):I.readable===!0&&N(I.read)&&N(I.on)?F=new S(b):(r.File&&I instanceof File||I instanceof Object)&&(F=new x(b)),F.stream(I);(F=(()=>{var M;return!!d.WORKERS_SUPPORTED&&(M=(()=>{var k=r.URL||r.webkitURL||null,U=n.toString();return d.BLOB_URL||(d.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(M=new r.Worker(M)).onmessage=V,M.id=f++,c[M.id]=M)})()).userStep=b.step,F.userChunk=b.chunk,F.userComplete=b.complete,F.userError=b.error,b.step=N(b.step),b.chunk=N(b.chunk),b.complete=N(b.complete),b.error=N(b.error),delete b.worker,F.postMessage({input:I,config:b,workerId:F.id})},d.unparse=function(I,b){var F=!1,M=!0,k=",",U=`\r
`,Te='"',ye=Te+Te,ae=!1,oe=null,Re=!1,ie=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||d.BAD_DELIMITERS.filter(function(z){return b.delimiter.indexOf(z)!==-1}).length||(k=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(F=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(ae=b.skipEmptyLines),typeof b.newline=="string"&&(U=b.newline),typeof b.quoteChar=="string"&&(Te=b.quoteChar),typeof b.header=="boolean"&&(M=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");oe=b.columns}b.escapeChar!==void 0&&(ye=b.escapeChar+Te),b.escapeFormulae instanceof RegExp?Re=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(Re=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(Te),"g"));if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return Le(null,I,ae);if(typeof I[0]=="object")return Le(oe||Object.keys(I[0]),I,ae)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||oe),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),Le(I.fields||[],I.data||[],ae);throw new Error("Unable to serialize unrecognized input");function Le(z,Q,te){var X="",ce=(typeof z=="string"&&(z=JSON.parse(z)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(z)&&0<z.length),Ce=!Array.isArray(Q[0]);if(ce&&M){for(var be=0;be<z.length;be++)0<be&&(X+=k),X+=Z(z[be],be);0<Q.length&&(X+=U)}for(var Ee=0;Ee<Q.length;Ee++){var Ae=(ce?z:Q[Ee]).length,Oe=!1,ne=ce?Object.keys(Q[Ee]).length===0:Q[Ee].length===0;if(te&&!ce&&(Oe=te==="greedy"?Q[Ee].join("").trim()==="":Q[Ee].length===1&&Q[Ee][0].length===0),te==="greedy"&&ce){for(var mt=[],Je=0;Je<Ae;Je++){var Qe=Ce?z[Je]:Je;mt.push(Q[Ee][Qe])}Oe=mt.join("").trim()===""}if(!Oe){for(var Ge=0;Ge<Ae;Ge++){0<Ge&&!ne&&(X+=k);var ze=ce&&Ce?z[Ge]:Ge;X+=Z(Q[Ee][ze],Ge)}Ee<Q.length-1&&(!te||0<Ae&&!ne)&&(X+=U)}}return X}function Z(z,Q){var te,X;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(X=!1,Re&&typeof z=="string"&&Re.test(z)&&(z="'"+z,X=!0),te=z.toString().replace(ie,ye),(X=X||F===!0||typeof F=="function"&&F(z,Q)||Array.isArray(F)&&F[Q]||((ce,Ce)=>{for(var be=0;be<Ce.length;be++)if(-1<ce.indexOf(Ce[be]))return!0;return!1})(te,d.BAD_DELIMITERS)||-1<te.indexOf(k)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?Te+te+Te:te)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=O,d.ParserHandle=A,d.NetworkStreamer=g,d.FileStreamer=x,d.StringStreamer=E,d.ReadableStreamStreamer=S,r.jQuery&&((i=r.jQuery).fn.parse=function(I){var b=I.config||{},F=[];return this.each(function(U){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Te=0;Te<this.files.length;Te++)F.push({file:this.files[Te],inputElem:this,instanceConfig:i.extend({},b)})}),M(),this;function M(){if(F.length===0)N(I.complete)&&I.complete();else{var U,Te,ye,ae,oe=F[0];if(N(I.before)){var Re=I.before(oe.file,oe.inputElem);if(typeof Re=="object"){if(Re.action==="abort")return U="AbortError",Te=oe.file,ye=oe.inputElem,ae=Re.reason,void(N(I.error)&&I.error({name:U},Te,ye,ae));if(Re.action==="skip")return void k();typeof Re.config=="object"&&(oe.instanceConfig=i.extend(oe.instanceConfig,Re.config))}else if(Re==="skip")return void k()}var ie=oe.instanceConfig.complete;oe.instanceConfig.complete=function(Le){N(ie)&&ie(Le,oe.file,oe.inputElem),k()},d.parse(oe.file,oe.instanceConfig)}}function k(){F.splice(0,1),M()}}),o&&(r.onmessage=function(I){I=I.data,d.WORKER_ID===void 0&&I&&(d.WORKER_ID=I.workerId),typeof I.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(I.input,I.config),finished:!0}):(r.File&&I.input instanceof File||I.input instanceof Object)&&(I=d.parse(I.input,I.config))&&r.postMessage({workerId:d.WORKER_ID,results:I,finished:!0})}),(g.prototype=Object.create(h.prototype)).constructor=g,(x.prototype=Object.create(h.prototype)).constructor=x,(E.prototype=Object.create(E.prototype)).constructor=E,(S.prototype=Object.create(h.prototype)).constructor=S,d})})(c0)),c0.exports}var z3=B3();const lC=ap(z3);function Me(t,e,n){function r(c,f){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:f,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,f);const d=o.prototype,h=Object.keys(d);for(let g=0;g<h.length;g++){const x=h[g];x in c||(c[x]=d[x].bind(c))}}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function o(c){var f;const d=n!=null&&n.Parent?new s:this;r(d,c),(f=d._zod).deferred??(f.deferred=[]);for(const h of d._zod.deferred)h();return d}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>{var f,d;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(d=(f=c==null?void 0:c._zod)==null?void 0:f.traits)==null?void 0:d.has(t)}}),Object.defineProperty(o,"name",{value:t}),o}class Ic extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class cC extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const uC={};function ul(t){return uC}function fC(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function gv(t,e){return typeof e=="bigint"?e.toString():e}function w1(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function S1(t){return t==null}function A1(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function H3(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(i=Number.parseInt(f[1]))}const s=n>i?n:i,o=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return o%c/10**s}const PT=Symbol("evaluating");function on(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==PT)return r===void 0&&(r=PT,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function yl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function So(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function FT(t){return JSON.stringify(t)}function G3(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const dC="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function T0(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const q3=w1(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Of(t){if(T0(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(T0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function hC(t){return Of(t)?{...t}:Array.isArray(t)?[...t]:t}const $3=new Set(["string","number","symbol"]);function Lc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ao(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function at(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function j3(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const K3={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Y3(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const s=So(t._zod.def,{get shape(){const o={};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&(o[c]=n.shape[c])}return yl(this,"shape",o),o},checks:[]});return Ao(t,s)}function J3(t,e){const n=t._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const s=So(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const c in e){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);e[c]&&delete o[c]}return yl(this,"shape",o),o},checks:[]});return Ao(t,s)}function W3(t,e){if(!Of(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const s=t._zod.def.shape;for(const o in e)if(Object.getOwnPropertyDescriptor(s,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=So(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return yl(this,"shape",s),s}});return Ao(t,i)}function Z3(t,e){if(!Of(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=So(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e};return yl(this,"shape",r),r}});return Ao(t,n)}function X3(t,e){const n=So(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return yl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Ao(t,n)}function Q3(t,e,n){const i=e._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=So(e._zod.def,{get shape(){const c=e._zod.def.shape,f={...c};if(n)for(const d in n){if(!(d in c))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(f[d]=t?new t({type:"optional",innerType:c[d]}):c[d])}else for(const d in c)f[d]=t?new t({type:"optional",innerType:c[d]}):c[d];return yl(this,"shape",f),f},checks:[]});return Ao(e,o)}function eM(t,e,n){const r=So(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new t({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new t({type:"nonoptional",innerType:i[o]});return yl(this,"shape",s),s}});return Ao(e,r)}function Ec(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function pC(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Uh(t){return typeof t=="string"?t:t==null?void 0:t.message}function fl(t,e,n){var i,s,o,c,f,d;const r={...t,path:t.path??[]};if(!t.message){const h=Uh((o=(s=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:o.call(s,t))??Uh((c=e==null?void 0:e.error)==null?void 0:c.call(e,t))??Uh((f=n.customError)==null?void 0:f.call(n,t))??Uh((d=n.localeError)==null?void 0:d.call(n,t))??"Invalid input";r.message=h}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function C1(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Lf(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const mC=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,gv,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},gC=Me("$ZodError",mC),vC=Me("$ZodError",mC,{Parent:Error});function tM(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function nM(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(o=>r({issues:o}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let o=n,c=0;for(;c<s.path.length;){const f=s.path[c];c===s.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(e(s))):o[f]=o[f]||{_errors:[]},o=o[f],c++}}};return r(t),n}const b1=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new Ic;if(o.issues.length){const c=new((i==null?void 0:i.Err)??t)(o.issues.map(f=>fl(f,s,ul())));throw dC(c,i==null?void 0:i.callee),c}return o.value},I1=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=e._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new((i==null?void 0:i.Err)??t)(o.issues.map(f=>fl(f,s,ul())));throw dC(c,i==null?void 0:i.callee),c}return o.value},up=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Ic;return s.issues.length?{success:!1,error:new(t??gC)(s.issues.map(o=>fl(o,i,ul())))}:{success:!0,data:s.value}},rM=up(vC),fp=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(o=>fl(o,i,ul())))}:{success:!0,data:s.value}},iM=fp(vC),sM=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return b1(t)(e,n,i)},aM=t=>(e,n,r)=>b1(t)(e,n,r),oM=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return I1(t)(e,n,i)},lM=t=>async(e,n,r)=>I1(t)(e,n,r),cM=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return up(t)(e,n,i)},uM=t=>(e,n,r)=>up(t)(e,n,r),fM=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fp(t)(e,n,i)},dM=t=>async(e,n,r)=>fp(t)(e,n,r),hM=/^[cC][^\s-]{8,}$/,pM=/^[0-9a-z]+$/,mM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,gM=/^[0-9a-vA-V]{20}$/,vM=/^[A-Za-z0-9]{27}$/,xM=/^[a-zA-Z0-9_-]{21}$/,yM=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,_M=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,OT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,EM=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,TM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function wM(){return new RegExp(TM,"u")}const SM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,AM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,CM=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,bM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IM=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,xC=/^[A-Za-z0-9_-]*$/,NM=/^\+[1-9]\d{6,14}$/,yC="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",RM=new RegExp(`^${yC}$`);function _C(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function kM(t){return new RegExp(`^${_C(t)}$`)}function DM(t){const e=_C({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${yC}T(?:${r})$`)}const MM=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},PM=/^-?\d+$/,FM=/^-?\d+(?:\.\d+)?$/,OM=/^[^A-Z]*$/,LM=/^[^a-z]*$/,hi=Me("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),EC={number:"number",bigint:"bigint",object:"date"},TC=Me("$ZodCheckLessThan",(t,e)=>{hi.init(t,e);const n=EC[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),wC=Me("$ZodCheckGreaterThan",(t,e)=>{hi.init(t,e);const n=EC[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),UM=Me("$ZodCheckMultipleOf",(t,e)=>{hi.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):H3(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),VM=Me("$ZodCheckNumberFormat",(t,e)=>{var o;hi.init(t,e),e.format=e.format||"float64";const n=(o=e.format)==null?void 0:o.includes("int"),r=n?"int":"number",[i,s]=K3[e.format];t._zod.onattach.push(c=>{const f=c._zod.bag;f.format=e.format,f.minimum=i,f.maximum=s,n&&(f.pattern=PM)}),t._zod.check=c=>{const f=c.value;if(n){if(!Number.isInteger(f)){c.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:f,inst:t});return}if(!Number.isSafeInteger(f)){f>0?c.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort}):c.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,inclusive:!0,continue:!e.abort});return}}f<i&&c.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),f>s&&c.issues.push({origin:"number",input:f,code:"too_big",maximum:s,inclusive:!0,inst:t,continue:!e.abort})}}),BM=Me("$ZodCheckMaxLength",(t,e)=>{var n;hi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!S1(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const o=C1(i);r.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),zM=Me("$ZodCheckMinLength",(t,e)=>{var n;hi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!S1(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const o=C1(i);r.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),HM=Me("$ZodCheckLengthEquals",(t,e)=>{var n;hi.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!S1(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const o=C1(i),c=s>e.length;r.issues.push({origin:o,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),dp=Me("$ZodCheckStringFormat",(t,e)=>{var n,r;hi.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),GM=Me("$ZodCheckRegex",(t,e)=>{dp.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),qM=Me("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=OM),dp.init(t,e)}),$M=Me("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=LM),dp.init(t,e)}),jM=Me("$ZodCheckIncludes",(t,e)=>{hi.init(t,e);const n=Lc(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),KM=Me("$ZodCheckStartsWith",(t,e)=>{hi.init(t,e);const n=new RegExp(`^${Lc(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),YM=Me("$ZodCheckEndsWith",(t,e)=>{hi.init(t,e);const n=new RegExp(`.*${Lc(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),JM=Me("$ZodCheckOverwrite",(t,e)=>{hi.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class WM{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const e=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const ZM={major:4,minor:3,patch:6},Bn=Me("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=ZM;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const o of s._zod.onattach)o(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const s=(c,f,d)=>{let h=Ec(c),g;for(const x of f){if(x._zod.def.when){if(!x._zod.def.when(c))continue}else if(h)continue;const E=c.issues.length,S=x._zod.check(c);if(S instanceof Promise&&(d==null?void 0:d.async)===!1)throw new Ic;if(g||S instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await S,c.issues.length!==E&&(h||(h=Ec(c,E)))});else{if(c.issues.length===E)continue;h||(h=Ec(c,E))}}return g?g.then(()=>c):c},o=(c,f,d)=>{if(Ec(c))return c.aborted=!0,c;const h=s(f,r,d);if(h instanceof Promise){if(d.async===!1)throw new Ic;return h.then(g=>t._zod.parse(g,d))}return t._zod.parse(h,d)};t._zod.run=(c,f)=>{if(f.skipChecks)return t._zod.parse(c,f);if(f.direction==="backward"){const h=t._zod.parse({value:c.value,issues:[]},{...f,skipChecks:!0});return h instanceof Promise?h.then(g=>o(g,c,f)):o(h,c,f)}const d=t._zod.parse(c,f);if(d instanceof Promise){if(f.async===!1)throw new Ic;return d.then(h=>s(h,r,f))}return s(d,r,f)}}on(t,"~standard",()=>({validate:s=>{var o;try{const c=rM(t,s);return c.success?{value:c.data}:{issues:(o=c.error)==null?void 0:o.issues}}catch{return iM(t,s).then(f=>{var d;return f.success?{value:f.data}:{issues:(d=f.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}))}),N1=Me("$ZodString",(t,e)=>{var n;Bn.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??MM(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),bn=Me("$ZodStringFormat",(t,e)=>{dp.init(t,e),N1.init(t,e)}),XM=Me("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=_M),bn.init(t,e)}),QM=Me("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=OT(r))}else e.pattern??(e.pattern=OT());bn.init(t,e)}),e6=Me("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=EM),bn.init(t,e)}),t6=Me("$ZodURL",(t,e)=>{bn.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),n6=Me("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=wM()),bn.init(t,e)}),r6=Me("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=xM),bn.init(t,e)}),i6=Me("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=hM),bn.init(t,e)}),s6=Me("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=pM),bn.init(t,e)}),a6=Me("$ZodULID",(t,e)=>{e.pattern??(e.pattern=mM),bn.init(t,e)}),o6=Me("$ZodXID",(t,e)=>{e.pattern??(e.pattern=gM),bn.init(t,e)}),l6=Me("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=vM),bn.init(t,e)}),c6=Me("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=DM(e)),bn.init(t,e)}),u6=Me("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=RM),bn.init(t,e)}),f6=Me("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=kM(e)),bn.init(t,e)}),d6=Me("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=yM),bn.init(t,e)}),h6=Me("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=SM),bn.init(t,e),t._zod.bag.format="ipv4"}),p6=Me("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=AM),bn.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),m6=Me("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=CM),bn.init(t,e)}),g6=Me("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=bM),bn.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function SC(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const v6=Me("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=IM),bn.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{SC(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function x6(t){if(!xC.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return SC(n)}const y6=Me("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=xC),bn.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{x6(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),_6=Me("$ZodE164",(t,e)=>{e.pattern??(e.pattern=NM),bn.init(t,e)});function E6(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const T6=Me("$ZodJWT",(t,e)=>{bn.init(t,e),t._zod.check=n=>{E6(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),AC=Me("$ZodNumber",(t,e)=>{Bn.init(t,e),t._zod.pattern=t._zod.bag.pattern??FM,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),w6=Me("$ZodNumberFormat",(t,e)=>{VM.init(t,e),AC.init(t,e)}),S6=Me("$ZodUnknown",(t,e)=>{Bn.init(t,e),t._zod.parse=n=>n}),A6=Me("$ZodNever",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function LT(t,e,n){t.issues.length&&e.issues.push(...pC(n,t.issues)),e.value[n]=t.value}const C6=Me("$ZodArray",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const c=i[o],f=e.element._zod.run({value:c,issues:[]},r);f instanceof Promise?s.push(f.then(d=>LT(d,n,o))):LT(f,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function w0(t,e,n,r,i){if(t.issues.length){if(i&&!(n in r))return;e.issues.push(...pC(n,t.issues))}t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function CC(t){var r,i,s,o;const e=Object.keys(t.shape);for(const c of e)if(!((o=(s=(i=(r=t.shape)==null?void 0:r[c])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const n=j3(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function bC(t,e,n,r,i,s){const o=[],c=i.keySet,f=i.catchall._zod,d=f.def.type,h=f.optout==="optional";for(const g in e){if(c.has(g))continue;if(d==="never"){o.push(g);continue}const x=f.run({value:e[g],issues:[]},r);x instanceof Promise?t.push(x.then(E=>w0(E,n,g,e,h))):w0(x,n,g,e,h)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const b6=Me("$ZodObject",(t,e)=>{Bn.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...c};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=w1(()=>CC(e));on(t._zod,"propValues",()=>{const c=e.shape,f={};for(const d in c){const h=c[d]._zod;if(h.values){f[d]??(f[d]=new Set);for(const g of h.values)f[d].add(g)}}return f});const i=T0,s=e.catchall;let o;t._zod.parse=(c,f)=>{o??(o=r.value);const d=c.value;if(!i(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:t}),c;c.value={};const h=[],g=o.shape;for(const x of o.keys){const E=g[x],S=E._zod.optout==="optional",A=E._zod.run({value:d[x],issues:[]},f);A instanceof Promise?h.push(A.then(C=>w0(C,c,x,d,S))):w0(A,c,x,d,S)}return s?bC(h,d,c,f,r.value,t):h.length?Promise.all(h).then(()=>c):c}}),I6=Me("$ZodObjectJIT",(t,e)=>{b6.init(t,e);const n=t._zod.parse,r=w1(()=>CC(e)),i=x=>{var D;const E=new WM(["shape","payload","ctx"]),S=r.value,A=H=>{const B=FT(H);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};E.write("const input = payload.value;");const C=Object.create(null);let O=0;for(const H of S.keys)C[H]=`key_${O++}`;E.write("const newResult = {};");for(const H of S.keys){const B=C[H],j=FT(H),N=x[H],I=((D=N==null?void 0:N._zod)==null?void 0:D.optout)==="optional";E.write(`const ${B} = ${A(H)};`),I?E.write(`
        if (${B}.issues.length) {
          if (${j} in input) {
            payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${j}, ...iss.path] : [${j}]
            })));
          }
        }
        
        if (${B}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${B}.value;
        }
        
      `):E.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${j}, ...iss.path] : [${j}]
          })));
        }
        
        if (${B}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${B}.value;
        }
        
      `)}E.write("payload.value = newResult;"),E.write("return payload;");const V=E.compile();return(H,B)=>V(x,H,B)};let s;const o=T0,c=!uC.jitless,d=c&&q3.value,h=e.catchall;let g;t._zod.parse=(x,E)=>{g??(g=r.value);const S=x.value;return o(S)?c&&d&&(E==null?void 0:E.async)===!1&&E.jitless!==!0?(s||(s=i(e.shape)),x=s(x,E),h?bC([],S,x,E,g,t):x):n(x,E):(x.issues.push({expected:"object",code:"invalid_type",input:S,inst:t}),x)}});function UT(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!Ec(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(o=>fl(o,r,ul())))}),e)}const N6=Me("$ZodUnion",(t,e)=>{Bn.init(t,e),on(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),on(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),on(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),on(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>A1(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const c=[];for(const f of e.options){const d=f._zod.run({value:i.value,issues:[]},s);if(d instanceof Promise)c.push(d),o=!0;else{if(d.issues.length===0)return d;c.push(d)}}return o?Promise.all(c).then(f=>UT(f,i,t,s)):UT(c,i,t,s)}}),R6=Me("$ZodIntersection",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),o=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([f,d])=>VT(n,f,d)):VT(n,s,o)}});function vv(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Of(t)&&Of(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const o=vv(t[s],e[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],o=vv(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function VT(t,e,n){const r=new Map;let i;for(const c of e.issues)if(c.code==="unrecognized_keys"){i??(i=c);for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).l=!0}else t.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const f of c.keys)r.has(f)||r.set(f,{}),r.get(f).r=!0;else t.issues.push(c);const s=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(s.length&&i&&t.issues.push({...i,keys:s}),Ec(t))return t;const o=vv(e.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return t.value=o.data,t}const k6=Me("$ZodEnum",(t,e)=>{Bn.init(t,e);const n=fC(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>$3.has(typeof i)).map(i=>typeof i=="string"?Lc(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:t}),i}}),D6=Me("$ZodLiteral",(t,e)=>{if(Bn.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?Lc(r):r?Lc(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,i)=>{const s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),r}}),M6=Me("$ZodTransform",(t,e)=>{Bn.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new cC(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new Ic;return n.value=i,n}});function BT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const IC=Me("$ZodOptional",(t,e)=>{Bn.init(t,e),t._zod.optin="optional",t._zod.optout="optional",on(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),on(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${A1(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>BT(s,n.value)):BT(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),P6=Me("$ZodExactOptional",(t,e)=>{IC.init(t,e),on(t._zod,"values",()=>e.innerType._zod.values),on(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,r)=>e.innerType._zod.run(n,r)}),F6=Me("$ZodNullable",(t,e)=>{Bn.init(t,e),on(t._zod,"optin",()=>e.innerType._zod.optin),on(t._zod,"optout",()=>e.innerType._zod.optout),on(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${A1(n.source)}|null)$`):void 0}),on(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),O6=Me("$ZodDefault",(t,e)=>{Bn.init(t,e),t._zod.optin="optional",on(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>zT(s,e)):zT(i,e)}});function zT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const L6=Me("$ZodPrefault",(t,e)=>{Bn.init(t,e),t._zod.optin="optional",on(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),U6=Me("$ZodNonOptional",(t,e)=>{Bn.init(t,e),on(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>HT(s,t)):HT(i,t)}});function HT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const V6=Me("$ZodCatch",(t,e)=>{Bn.init(t,e),on(t._zod,"optin",()=>e.innerType._zod.optin),on(t._zod,"optout",()=>e.innerType._zod.optout),on(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(o=>fl(o,r,ul()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>fl(s,r,ul()))},input:n.value}),n.issues=[]),n)}}),B6=Me("$ZodPipe",(t,e)=>{Bn.init(t,e),on(t._zod,"values",()=>e.in._zod.values),on(t._zod,"optin",()=>e.in._zod.optin),on(t._zod,"optout",()=>e.out._zod.optout),on(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(o=>Vh(o,e.in,r)):Vh(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Vh(s,e.out,r)):Vh(i,e.out,r)}});function Vh(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const z6=Me("$ZodReadonly",(t,e)=>{Bn.init(t,e),on(t._zod,"propValues",()=>e.innerType._zod.propValues),on(t._zod,"values",()=>e.innerType._zod.values),on(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),on(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(GT):GT(i)}});function GT(t){return t.value=Object.freeze(t.value),t}const H6=Me("$ZodCustom",(t,e)=>{hi.init(t,e),Bn.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>qT(s,n,r,t));qT(i,n,r,t)}});function qT(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(Lf(i))}}var $T;class G6{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];return this._map.set(e,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function q6(){return new G6}($T=globalThis).__zod_globalRegistry??($T.__zod_globalRegistry=q6());const sf=globalThis.__zod_globalRegistry;function $6(t,e){return new t({type:"string",...at(e)})}function j6(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...at(e)})}function jT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...at(e)})}function K6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...at(e)})}function Y6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...at(e)})}function J6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...at(e)})}function W6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...at(e)})}function Z6(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...at(e)})}function X6(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...at(e)})}function Q6(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...at(e)})}function eP(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...at(e)})}function tP(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...at(e)})}function nP(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...at(e)})}function rP(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...at(e)})}function iP(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...at(e)})}function sP(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...at(e)})}function aP(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...at(e)})}function oP(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...at(e)})}function lP(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...at(e)})}function cP(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...at(e)})}function uP(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...at(e)})}function fP(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...at(e)})}function dP(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...at(e)})}function hP(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...at(e)})}function pP(t,e){return new t({type:"string",format:"date",check:"string_format",...at(e)})}function mP(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...at(e)})}function gP(t,e){return new t({type:"string",format:"duration",check:"string_format",...at(e)})}function vP(t,e){return new t({type:"number",checks:[],...at(e)})}function xP(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...at(e)})}function yP(t){return new t({type:"unknown"})}function _P(t,e){return new t({type:"never",...at(e)})}function KT(t,e){return new TC({check:"less_than",...at(e),value:t,inclusive:!1})}function Ug(t,e){return new TC({check:"less_than",...at(e),value:t,inclusive:!0})}function YT(t,e){return new wC({check:"greater_than",...at(e),value:t,inclusive:!1})}function Vg(t,e){return new wC({check:"greater_than",...at(e),value:t,inclusive:!0})}function JT(t,e){return new UM({check:"multiple_of",...at(e),value:t})}function NC(t,e){return new BM({check:"max_length",...at(e),maximum:t})}function S0(t,e){return new zM({check:"min_length",...at(e),minimum:t})}function RC(t,e){return new HM({check:"length_equals",...at(e),length:t})}function EP(t,e){return new GM({check:"string_format",format:"regex",...at(e),pattern:t})}function TP(t){return new qM({check:"string_format",format:"lowercase",...at(t)})}function wP(t){return new $M({check:"string_format",format:"uppercase",...at(t)})}function SP(t,e){return new jM({check:"string_format",format:"includes",...at(e),includes:t})}function AP(t,e){return new KM({check:"string_format",format:"starts_with",...at(e),prefix:t})}function CP(t,e){return new YM({check:"string_format",format:"ends_with",...at(e),suffix:t})}function $c(t){return new JM({check:"overwrite",tx:t})}function bP(t){return $c(e=>e.normalize(t))}function IP(){return $c(t=>t.trim())}function NP(){return $c(t=>t.toLowerCase())}function RP(){return $c(t=>t.toUpperCase())}function kP(){return $c(t=>G3(t))}function DP(t,e,n){return new t({type:"array",element:e,...at(n)})}function MP(t,e,n){return new t({type:"custom",check:"custom",fn:e,...at(n)})}function PP(t){const e=FP(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Lf(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(Lf(i))}},t(n.value,n)));return e}function FP(t,e){const n=new hi({check:"custom",...at(e)});return n._zod.check=t,n}function kC(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??sf,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function Rr(t,e,n={path:[],schemaPath:[]}){var h,g;var r;const i=t._zod.def,s=e.seen.get(t);if(s)return s.count++,n.schemaPath.includes(t)&&(s.cycle=n.path),s.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,o);const c=(g=(h=t._zod).toJSONSchema)==null?void 0:g.call(h);if(c)o.schema=c;else{const x={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,o.schema,x);else{const S=o.schema,A=e.processors[i.type];if(!A)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);A(t,e,S,x)}const E=t._zod.parent;E&&(o.ref||(o.ref=E),Rr(E,e,x),e.seen.get(E).isParent=!0)}const f=e.metadataRegistry.get(t);return f&&Object.assign(o.schema,f),e.io==="input"&&Jr(t)&&(delete o.schema.examples,delete o.schema.default),e.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,e.seen.get(t).schema}function DC(t,e){var o,c,f,d;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const h of t.seen.entries()){const g=(o=t.metadataRegistry.get(h[0]))==null?void 0:o.id;if(g){const x=r.get(g);if(x&&x!==h[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(g,h[0])}}const i=h=>{var A;const g=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const C=(A=t.external.registry.get(h[0]))==null?void 0:A.id,O=t.external.uri??(D=>D);if(C)return{ref:O(C)};const V=h[1].defId??h[1].schema.id??`schema${t.counter++}`;return h[1].defId=V,{defId:V,ref:`${O("__shared")}#/${g}/${V}`}}if(h[1]===n)return{ref:"#"};const E=`#/${g}/`,S=h[1].schema.id??`__schema${t.counter++}`;return{defId:S,ref:E+S}},s=h=>{if(h[1].schema.$ref)return;const g=h[1],{ref:x,defId:E}=i(h);g.def={...g.schema},E&&(g.defId=E);const S=g.schema;for(const A in S)delete S[A];S.$ref=x};if(t.cycles==="throw")for(const h of t.seen.entries()){const g=h[1];if(g.cycle)throw new Error(`Cycle detected: #/${(c=g.cycle)==null?void 0:c.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const h of t.seen.entries()){const g=h[1];if(e===h[0]){s(h);continue}if(t.external){const E=(f=t.external.registry.get(h[0]))==null?void 0:f.id;if(e!==h[0]&&E){s(h);continue}}if((d=t.metadataRegistry.get(h[0]))==null?void 0:d.id){s(h);continue}if(g.cycle){s(h);continue}if(g.count>1&&t.reused==="ref"){s(h);continue}}}function MC(t,e){var o,c,f;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=d=>{const h=t.seen.get(d);if(h.ref===null)return;const g=h.def??h.schema,x={...g},E=h.ref;if(h.ref=null,E){r(E);const A=t.seen.get(E),C=A.schema;if(C.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(C)):Object.assign(g,C),Object.assign(g,x),d._zod.parent===E)for(const V in g)V==="$ref"||V==="allOf"||V in x||delete g[V];if(C.$ref&&A.def)for(const V in g)V==="$ref"||V==="allOf"||V in A.def&&JSON.stringify(g[V])===JSON.stringify(A.def[V])&&delete g[V]}const S=d._zod.parent;if(S&&S!==E){r(S);const A=t.seen.get(S);if(A!=null&&A.schema.$ref&&(g.$ref=A.schema.$ref,A.def))for(const C in g)C==="$ref"||C==="allOf"||C in A.def&&JSON.stringify(g[C])===JSON.stringify(A.def[C])&&delete g[C]}t.override({zodSchema:d,jsonSchema:g,path:h.path??[]})};for(const d of[...t.seen.entries()].reverse())r(d[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,(o=t.external)!=null&&o.uri){const d=(c=t.external.registry.get(e))==null?void 0:c.id;if(!d)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(d)}Object.assign(i,n.def??n.schema);const s=((f=t.external)==null?void 0:f.defs)??{};for(const d of t.seen.entries()){const h=d[1];h.def&&h.defId&&(s[h.defId]=h.def)}t.external||Object.keys(s).length>0&&(t.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const d=JSON.parse(JSON.stringify(i));return Object.defineProperty(d,"~standard",{value:{...e["~standard"],jsonSchema:{input:A0(e,"input",t.processors),output:A0(e,"output",t.processors)}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function Jr(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Jr(r.element,n);if(r.type==="set")return Jr(r.valueType,n);if(r.type==="lazy")return Jr(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Jr(r.innerType,n);if(r.type==="intersection")return Jr(r.left,n)||Jr(r.right,n);if(r.type==="record"||r.type==="map")return Jr(r.keyType,n)||Jr(r.valueType,n);if(r.type==="pipe")return Jr(r.in,n)||Jr(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Jr(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Jr(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Jr(i,n))return!0;return!!(r.rest&&Jr(r.rest,n))}return!1}const OP=(t,e={})=>n=>{const r=kC({...n,processors:e});return Rr(t,r),DC(r,t),MC(r,t)},A0=(t,e,n={})=>r=>{const{libraryOptions:i,target:s}=r??{},o=kC({...i??{},target:s,io:e,processors:n});return Rr(t,o),DC(o,t),MC(o,t)},LP={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},UP=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:o,format:c,patterns:f,contentEncoding:d}=t._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof o=="number"&&(i.maxLength=o),c&&(i.format=LP[c]??c,i.format===""&&delete i.format,c==="time"&&delete i.format),d&&(i.contentEncoding=d),f&&f.size>0){const h=[...f];h.length===1?i.pattern=h[0].source:h.length>1&&(i.allOf=[...h.map(g=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},VP=(t,e,n,r)=>{const i=n,{minimum:s,maximum:o,format:c,multipleOf:f,exclusiveMaximum:d,exclusiveMinimum:h}=t._zod.bag;typeof c=="string"&&c.includes("int")?i.type="integer":i.type="number",typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=h,i.exclusiveMinimum=!0):i.exclusiveMinimum=h),typeof s=="number"&&(i.minimum=s,typeof h=="number"&&e.target!=="draft-04"&&(h>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=d,i.exclusiveMaximum=!0):i.exclusiveMaximum=d),typeof o=="number"&&(i.maximum=o,typeof d=="number"&&e.target!=="draft-04"&&(d<=o?delete i.maximum:delete i.exclusiveMaximum)),typeof f=="number"&&(i.multipleOf=f)},BP=(t,e,n,r)=>{n.not={}},zP=(t,e,n,r)=>{},HP=(t,e,n,r)=>{const i=t._zod.def,s=fC(i.entries);s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),n.enum=s},GP=(t,e,n,r)=>{const i=t._zod.def,s=[];for(const o of i.values)if(o===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");s.push(Number(o))}else s.push(o);if(s.length!==0)if(s.length===1){const o=s[0];n.type=o===null?"null":typeof o,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[o]:n.const=o}else s.every(o=>typeof o=="number")&&(n.type="number"),s.every(o=>typeof o=="string")&&(n.type="string"),s.every(o=>typeof o=="boolean")&&(n.type="boolean"),s.every(o=>o===null)&&(n.type="null"),n.enum=s},qP=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},$P=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},jP=(t,e,n,r)=>{const i=n,s=t._zod.def,{minimum:o,maximum:c}=t._zod.bag;typeof o=="number"&&(i.minItems=o),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=Rr(s.element,e,{...r,path:[...r.path,"items"]})},KP=(t,e,n,r)=>{var d;const i=n,s=t._zod.def;i.type="object",i.properties={};const o=s.shape;for(const h in o)i.properties[h]=Rr(o[h],e,{...r,path:[...r.path,"properties",h]});const c=new Set(Object.keys(o)),f=new Set([...c].filter(h=>{const g=s.shape[h]._zod;return e.io==="input"?g.optin===void 0:g.optout===void 0}));f.size>0&&(i.required=Array.from(f)),((d=s.catchall)==null?void 0:d._zod.def.type)==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=Rr(s.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},YP=(t,e,n,r)=>{const i=t._zod.def,s=i.inclusive===!1,o=i.options.map((c,f)=>Rr(c,e,{...r,path:[...r.path,s?"oneOf":"anyOf",f]}));s?n.oneOf=o:n.anyOf=o},JP=(t,e,n,r)=>{const i=t._zod.def,s=Rr(i.left,e,{...r,path:[...r.path,"allOf",0]}),o=Rr(i.right,e,{...r,path:[...r.path,"allOf",1]}),c=d=>"allOf"in d&&Object.keys(d).length===1,f=[...c(s)?s.allOf:[s],...c(o)?o.allOf:[o]];n.allOf=f},WP=(t,e,n,r)=>{const i=t._zod.def,s=Rr(i.innerType,e,r),o=e.seen.get(t);e.target==="openapi-3.0"?(o.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},ZP=(t,e,n,r)=>{const i=t._zod.def;Rr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},XP=(t,e,n,r)=>{const i=t._zod.def;Rr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},QP=(t,e,n,r)=>{const i=t._zod.def;Rr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},eF=(t,e,n,r)=>{const i=t._zod.def;Rr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType;let o;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},tF=(t,e,n,r)=>{const i=t._zod.def,s=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Rr(s,e,r);const o=e.seen.get(t);o.ref=s},nF=(t,e,n,r)=>{const i=t._zod.def;Rr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.readOnly=!0},PC=(t,e,n,r)=>{const i=t._zod.def;Rr(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},rF=Me("ZodISODateTime",(t,e)=>{c6.init(t,e),Rn.init(t,e)});function iF(t){return hP(rF,t)}const sF=Me("ZodISODate",(t,e)=>{u6.init(t,e),Rn.init(t,e)});function aF(t){return pP(sF,t)}const oF=Me("ZodISOTime",(t,e)=>{f6.init(t,e),Rn.init(t,e)});function lF(t){return mP(oF,t)}const cF=Me("ZodISODuration",(t,e)=>{d6.init(t,e),Rn.init(t,e)});function uF(t){return gP(cF,t)}const fF=(t,e)=>{gC.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>nM(t,n)},flatten:{value:n=>tM(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,gv,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,gv,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ki=Me("ZodError",fF,{Parent:Error}),dF=b1(Ki),hF=I1(Ki),pF=up(Ki),mF=fp(Ki),gF=sM(Ki),vF=aM(Ki),xF=oM(Ki),yF=lM(Ki),_F=cM(Ki),EF=uM(Ki),TF=fM(Ki),wF=dM(Ki),zn=Me("ZodType",(t,e)=>(Bn.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:A0(t,"input"),output:A0(t,"output")}}),t.toJSONSchema=OP(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(So(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),t.with=t.check,t.clone=(n,r)=>Ao(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>dF(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>pF(t,n,r),t.parseAsync=async(n,r)=>hF(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>mF(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>gF(t,n,r),t.decode=(n,r)=>vF(t,n,r),t.encodeAsync=async(n,r)=>xF(t,n,r),t.decodeAsync=async(n,r)=>yF(t,n,r),t.safeEncode=(n,r)=>_F(t,n,r),t.safeDecode=(n,r)=>EF(t,n,r),t.safeEncodeAsync=async(n,r)=>TF(t,n,r),t.safeDecodeAsync=async(n,r)=>wF(t,n,r),t.refine=(n,r)=>t.check(gO(n,r)),t.superRefine=n=>t.check(vO(n)),t.overwrite=n=>t.check($c(n)),t.optional=()=>QT(t),t.exactOptional=()=>rO(t),t.nullable=()=>e2(t),t.nullish=()=>QT(e2(t)),t.nonoptional=n=>cO(t,n),t.array=()=>LC(t),t.or=n=>JF([t,n]),t.and=n=>ZF(t,n),t.transform=n=>t2(t,tO(n)),t.default=n=>aO(t,n),t.prefault=n=>lO(t,n),t.catch=n=>fO(t,n),t.pipe=n=>t2(t,n),t.readonly=()=>pO(t),t.describe=n=>{const r=t.clone();return sf.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=sf.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return sf.get(t);const r=t.clone();return sf.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),FC=Me("_ZodString",(t,e)=>{N1.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>UP(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(EP(...r)),t.includes=(...r)=>t.check(SP(...r)),t.startsWith=(...r)=>t.check(AP(...r)),t.endsWith=(...r)=>t.check(CP(...r)),t.min=(...r)=>t.check(S0(...r)),t.max=(...r)=>t.check(NC(...r)),t.length=(...r)=>t.check(RC(...r)),t.nonempty=(...r)=>t.check(S0(1,...r)),t.lowercase=r=>t.check(TP(r)),t.uppercase=r=>t.check(wP(r)),t.trim=()=>t.check(IP()),t.normalize=(...r)=>t.check(bP(...r)),t.toLowerCase=()=>t.check(NP()),t.toUpperCase=()=>t.check(RP()),t.slugify=()=>t.check(kP())}),SF=Me("ZodString",(t,e)=>{N1.init(t,e),FC.init(t,e),t.email=n=>t.check(j6(AF,n)),t.url=n=>t.check(Z6(CF,n)),t.jwt=n=>t.check(dP(zF,n)),t.emoji=n=>t.check(X6(bF,n)),t.guid=n=>t.check(jT(WT,n)),t.uuid=n=>t.check(K6(Bh,n)),t.uuidv4=n=>t.check(Y6(Bh,n)),t.uuidv6=n=>t.check(J6(Bh,n)),t.uuidv7=n=>t.check(W6(Bh,n)),t.nanoid=n=>t.check(Q6(IF,n)),t.guid=n=>t.check(jT(WT,n)),t.cuid=n=>t.check(eP(NF,n)),t.cuid2=n=>t.check(tP(RF,n)),t.ulid=n=>t.check(nP(kF,n)),t.base64=n=>t.check(cP(UF,n)),t.base64url=n=>t.check(uP(VF,n)),t.xid=n=>t.check(rP(DF,n)),t.ksuid=n=>t.check(iP(MF,n)),t.ipv4=n=>t.check(sP(PF,n)),t.ipv6=n=>t.check(aP(FF,n)),t.cidrv4=n=>t.check(oP(OF,n)),t.cidrv6=n=>t.check(lP(LF,n)),t.e164=n=>t.check(fP(BF,n)),t.datetime=n=>t.check(iF(n)),t.date=n=>t.check(aF(n)),t.time=n=>t.check(lF(n)),t.duration=n=>t.check(uF(n))});function Ds(t){return $6(SF,t)}const Rn=Me("ZodStringFormat",(t,e)=>{bn.init(t,e),FC.init(t,e)}),AF=Me("ZodEmail",(t,e)=>{e6.init(t,e),Rn.init(t,e)}),WT=Me("ZodGUID",(t,e)=>{XM.init(t,e),Rn.init(t,e)}),Bh=Me("ZodUUID",(t,e)=>{QM.init(t,e),Rn.init(t,e)}),CF=Me("ZodURL",(t,e)=>{t6.init(t,e),Rn.init(t,e)}),bF=Me("ZodEmoji",(t,e)=>{n6.init(t,e),Rn.init(t,e)}),IF=Me("ZodNanoID",(t,e)=>{r6.init(t,e),Rn.init(t,e)}),NF=Me("ZodCUID",(t,e)=>{i6.init(t,e),Rn.init(t,e)}),RF=Me("ZodCUID2",(t,e)=>{s6.init(t,e),Rn.init(t,e)}),kF=Me("ZodULID",(t,e)=>{a6.init(t,e),Rn.init(t,e)}),DF=Me("ZodXID",(t,e)=>{o6.init(t,e),Rn.init(t,e)}),MF=Me("ZodKSUID",(t,e)=>{l6.init(t,e),Rn.init(t,e)}),PF=Me("ZodIPv4",(t,e)=>{h6.init(t,e),Rn.init(t,e)}),FF=Me("ZodIPv6",(t,e)=>{p6.init(t,e),Rn.init(t,e)}),OF=Me("ZodCIDRv4",(t,e)=>{m6.init(t,e),Rn.init(t,e)}),LF=Me("ZodCIDRv6",(t,e)=>{g6.init(t,e),Rn.init(t,e)}),UF=Me("ZodBase64",(t,e)=>{v6.init(t,e),Rn.init(t,e)}),VF=Me("ZodBase64URL",(t,e)=>{y6.init(t,e),Rn.init(t,e)}),BF=Me("ZodE164",(t,e)=>{_6.init(t,e),Rn.init(t,e)}),zF=Me("ZodJWT",(t,e)=>{T6.init(t,e),Rn.init(t,e)}),OC=Me("ZodNumber",(t,e)=>{AC.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>VP(t,r,i),t.gt=(r,i)=>t.check(YT(r,i)),t.gte=(r,i)=>t.check(Vg(r,i)),t.min=(r,i)=>t.check(Vg(r,i)),t.lt=(r,i)=>t.check(KT(r,i)),t.lte=(r,i)=>t.check(Ug(r,i)),t.max=(r,i)=>t.check(Ug(r,i)),t.int=r=>t.check(ZT(r)),t.safe=r=>t.check(ZT(r)),t.positive=r=>t.check(YT(0,r)),t.nonnegative=r=>t.check(Vg(0,r)),t.negative=r=>t.check(KT(0,r)),t.nonpositive=r=>t.check(Ug(0,r)),t.multipleOf=(r,i)=>t.check(JT(r,i)),t.step=(r,i)=>t.check(JT(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function xv(t){return vP(OC,t)}const HF=Me("ZodNumberFormat",(t,e)=>{w6.init(t,e),OC.init(t,e)});function ZT(t){return xP(HF,t)}const GF=Me("ZodUnknown",(t,e)=>{S6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>zP()});function XT(){return yP(GF)}const qF=Me("ZodNever",(t,e)=>{A6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>BP(t,n,r)});function $F(t){return _P(qF,t)}const jF=Me("ZodArray",(t,e)=>{C6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>jP(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(S0(n,r)),t.nonempty=n=>t.check(S0(1,n)),t.max=(n,r)=>t.check(NC(n,r)),t.length=(n,r)=>t.check(RC(n,r)),t.unwrap=()=>t.element});function LC(t,e){return DP(jF,t,e)}const KF=Me("ZodObject",(t,e)=>{I6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>KP(t,n,r,i),on(t,"shape",()=>e.shape),t.keyof=()=>VC(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:XT()}),t.loose=()=>t.clone({...t._zod.def,catchall:XT()}),t.strict=()=>t.clone({...t._zod.def,catchall:$F()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>W3(t,n),t.safeExtend=n=>Z3(t,n),t.merge=n=>X3(t,n),t.pick=n=>Y3(t,n),t.omit=n=>J3(t,n),t.partial=(...n)=>Q3(BC,t,n[0]),t.required=(...n)=>eM(zC,t,n[0])});function UC(t,e){const n={type:"object",shape:t??{},...at(e)};return new KF(n)}const YF=Me("ZodUnion",(t,e)=>{N6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>YP(t,n,r,i),t.options=e.options});function JF(t,e){return new YF({type:"union",options:t,...at(e)})}const WF=Me("ZodIntersection",(t,e)=>{R6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>JP(t,n,r,i)});function ZF(t,e){return new WF({type:"intersection",left:t,right:e})}const yv=Me("ZodEnum",(t,e)=>{k6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(r,i,s)=>HP(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new yv({...e,checks:[],...at(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new yv({...e,checks:[],...at(i),entries:s})}});function VC(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new yv({type:"enum",entries:n,...at(e)})}const XF=Me("ZodLiteral",(t,e)=>{D6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>GP(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function QF(t,e){return new XF({type:"literal",values:Array.isArray(t)?t:[t],...at(e)})}const eO=Me("ZodTransform",(t,e)=>{M6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>$P(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new cC(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(Lf(s,n.value,e));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),n.issues.push(Lf(o))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function tO(t){return new eO({type:"transform",transform:t})}const BC=Me("ZodOptional",(t,e)=>{IC.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>PC(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function QT(t){return new BC({type:"optional",innerType:t})}const nO=Me("ZodExactOptional",(t,e)=>{P6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>PC(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function rO(t){return new nO({type:"optional",innerType:t})}const iO=Me("ZodNullable",(t,e)=>{F6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>WP(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function e2(t){return new iO({type:"nullable",innerType:t})}const sO=Me("ZodDefault",(t,e)=>{O6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>XP(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function aO(t,e){return new sO({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():hC(e)}})}const oO=Me("ZodPrefault",(t,e)=>{L6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>QP(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function lO(t,e){return new oO({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():hC(e)}})}const zC=Me("ZodNonOptional",(t,e)=>{U6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>ZP(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function cO(t,e){return new zC({type:"nonoptional",innerType:t,...at(e)})}const uO=Me("ZodCatch",(t,e)=>{V6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>eF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function fO(t,e){return new uO({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const dO=Me("ZodPipe",(t,e)=>{B6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>tF(t,n,r,i),t.in=e.in,t.out=e.out});function t2(t,e){return new dO({type:"pipe",in:t,out:e})}const hO=Me("ZodReadonly",(t,e)=>{z6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>nF(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function pO(t){return new hO({type:"readonly",innerType:t})}const mO=Me("ZodCustom",(t,e)=>{H6.init(t,e),zn.init(t,e),t._zod.processJSONSchema=(n,r,i)=>qP(t,n)});function gO(t,e={}){return MP(mO,t,e)}function vO(t){return PP(t)}UC({companyName:Ds().min(1,"Nome da empresa  obrigatrio"),address:Ds().min(5,"Endereo invlido"),contactName:Ds().optional(),phone:Ds().optional(),email:Ds().email("Email invlido").optional().or(QF("")),category:Ds().or(LC(Ds())).optional(),status:VC(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:xv().optional(),lng:xv().optional()});const xO=UC({name:Ds().min(1),price:xv().positive(),category:Ds().min(1),sku:Ds().optional()}),n2=t=>{if(!t)return null;const e=t.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(e)return{lat:parseFloat(e[1]),lng:parseFloat(e[2])};const n=t.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return n?{lat:parseFloat(n[1]),lng:parseFloat(n[2])}:null},yO=t=>{if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("query")||e.searchParams.get("q");if(n&&!n.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return n}catch{const n=t.match(/[?&]query=([^&]+)/)||t.match(/[?&]q=([^&]+)/);if(n)return decodeURIComponent(n[1].replace(/\+/g," "))}return null},HC=t=>{if(t==null)return{address:""};const e=String(t).trim(),n=e.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(n){const i=n[1].replace(/""/g,'"').trim(),s=n[2].replace(/""/g,'"').trim(),o=n2(i);return{link:i,address:s,...o}}const r=GC(e);if(r.includes("google.com/maps")||r.includes("maps.app.goo.gl")){const i=yO(r),s=n2(r);return{link:r,address:i||r,...s}}return{address:r}},GC=t=>{if(t==null)return"";const e=String(t),n=e.match(/"([^"]+)"\)$/);return n&&n[1]?n[1].trim():e.startsWith("=")?e.replace(/[="()]/g,"").trim():e.trim()},_O=t=>{const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},r2=t=>{if(!t)return 0;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},qC=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),$C=t=>new Promise((e,n)=>{lC.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:r=>{const i=r.data,s=[];i.forEach((o,c)=>{const f={};Object.keys(o).forEach(D=>{f[qC(D)]=o[D]});const d=f["numero do sku"]||f.sku||"",h=f.marca||f.fabricante||"Genrico",g=f["cod.fabrica"]||f["cod fabrica"]||f["codigo fabrica"]||"",x=f.descricao||f.nome||f.produto||"",E=_O(f["preco de venda"]||f.preco||"0"),S=f.categoria||h,A=r2(f.margem||"0"),C=r2(f.desconto||f.discount||"0"),O={category:S,sku:d,brand:h,factoryCode:g,name:x,price:E,margin:A,discount:C},V=xO.safeParse(O);V.success?s.push(V.data):console.warn(`Row ${c+1} invalid:`,V.error.issues)}),e(s)},error:r=>n(r)})}),EO=t=>new Promise((e,n)=>{lC.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:r=>r.trim().replace(/^\ufeff/,""),complete:r=>{const i=r.data,s=[];if(i.forEach(o=>{const c={};Object.keys(o).forEach(A=>{c[qC(A)]=o[A]});const f=c.endereco||c.logradouro||c.localizacao||c["endereco cobranca"]||c["link google maps"]||"";let{address:d,link:h,lat:g,lng:x}=HC(f);const E=c.cep||c.zip||c["codigo postal"]||"";E&&d&&!d.toLowerCase().includes(E.toLowerCase())&&(d=`${d}, ${E}`);const S={companyName:c["razao social"]||c.cliente||c["nome fantasia"]||c.fantasia||c.empresa||c["nome comercial"]||"",ownerName:c["nome do proprietario"]||c.proprietario||c.dono||c["contato principal"]||"",phone:c.contato||c.telefone||c.celular||c.whatsapp||"",address:d,googleMapsLink:h,latitude:g,longitude:x};(S.companyName||S.address)&&s.push(S)}),s.length>0){const o=s[0];!o.companyName&&!o.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}e(s)},error:r=>{n(r)}})});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jC=1252,TO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],R1={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},k1=function(t){TO.indexOf(t)!=-1&&(jC=R1[0]=t)};function wO(){k1(1252)}var us=function(t){k1(t)};function KC(){us(1200),wO()}function i2(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function SO(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function YC(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var af=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?SO(t.slice(2)):e==254&&n==255?YC(t.slice(2)):e==65279?t.slice(1):t},zh=function(e){return String.fromCharCode(e)},s2=function(e){return String.fromCharCode(e)},Uf,ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a2(t){for(var e="",n=0,r=0,i=0,s=0,o=0,c=0,f=0,d=0;d<t.length;)n=t.charCodeAt(d++),s=n>>2,r=t.charCodeAt(d++),o=(n&3)<<4|r>>4,i=t.charCodeAt(d++),c=(r&15)<<2|i>>6,f=i&63,isNaN(r)?c=f=64:isNaN(i)&&(f=64),e+=ao.charAt(s)+ao.charAt(o)+ao.charAt(c)+ao.charAt(f);return e}function Ci(t){var e="",n=0,r=0,i=0,s=0,o=0,c=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=ao.indexOf(t.charAt(d++)),o=ao.indexOf(t.charAt(d++)),n=s<<2|o>>4,e+=String.fromCharCode(n),c=ao.indexOf(t.charAt(d++)),r=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=ao.indexOf(t.charAt(d++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Lt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),_l=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function go(t){return Lt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function o2(t){return Lt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var cs=function(e){return Lt?_l(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function El(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function D1(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return D1(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var io=Lt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:_l(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function AO(t){for(var e=[],n=0,r=t.length+250,i=go(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|c>>6&15|(o&3)<<4,i[n++]=128|c&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=go(65535),r=65530)}return e.push(i.slice(0,n)),io(e)}var ei=/\u0000/g,of=/[\u0001-\u0006]/g;function Nc(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function fs(t,e){var n=""+t;return n.length>=e?n:Mn("0",e-n.length)+n}function M1(t,e){var n=""+t;return n.length>=e?n:Mn(" ",e-n.length)+n}function C0(t,e){var n=""+t;return n.length>=e?n:n+Mn(" ",e-n.length)}function CO(t,e){var n=""+Math.round(t);return n.length>=e?n:Mn("0",e-n.length)+n}function bO(t,e){var n=""+t;return n.length>=e?n:Mn("0",e-n.length)+n}var l2=Math.pow(2,32);function pc(t,e){if(t>l2||t<-l2)return CO(t,e);var n=Math.round(t);return bO(n,e)}function b0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var c2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Bg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function IO(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var At={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},u2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},NO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function I0(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,c=0,f=1,d=0,h=0,g=Math.floor(i);d<e&&(g=Math.floor(i),c=g*o+s,h=g*d+f,!(i-g<5e-8));)i=1/(i-g),s=o,o=c,f=d,d=h;if(h>e&&(d>e?(h=f,c=s):(h=d,c=o)),!n)return[0,r*c,h];var x=Math.floor(r*c/h);return[x,r*c-x*h,h]}function nl(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=FO(f,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var JC=new Date(1899,11,31,0,0,0),RO=JC.getTime(),kO=new Date(1900,2,1,0,0,0);function WC(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=kO&&(n+=1440*60*1e3),(n-(RO+(t.getTimezoneOffset()-JC.getTimezoneOffset())*6e4))/(1440*60*1e3)}function P1(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function DO(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function MO(t){var e=t<0?12:11,n=P1(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function PO(t){var e=P1(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Vf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=MO(t):e===10?n=t.toFixed(10).substr(0,12):n=PO(t),P1(DO(n.toUpperCase()))}function dl(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Vf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return $i(14,WC(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function FO(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function OO(t,e,n,r){var i="",s=0,o=0,c=n.y,f,d=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,d=2;break;default:f=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,d=e.length;break;case 3:return Bg[n.m-1][1];case 5:return Bg[n.m-1][0];default:return Bg[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,d=e.length;break;case 3:return c2[n.q][0];default:return c2[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?fs(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=fs(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=c,d=1;break}var h=d>0?fs(f,d):"";return h}function oo(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var ZC=/%/g;function LO(t,e,n){var r=e.replace(ZC,""),i=e.length-r.length;return ca(t,r,n*Math.pow(10,2*i))+Mn("%",i)}function UO(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ca(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function XC(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+XC(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var QC=/# (\?+)( ?)\/( ?)(\d+)/;function VO(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,c=r;return n+(s===0?"":""+s)+" "+(o===0?Mn(" ",t[1].length+1+t[4].length):M1(o,t[1].length)+t[2]+"/"+t[3]+fs(c,t[4].length))}function BO(t,e,n){return n+(e===0?"":""+e)+Mn(" ",t[1].length+2+t[4].length)}var eb=/^#*0*\.([0#]+)/,tb=/\).*[0#]/,nb=/\(###\) ###\\?-####/;function Zr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function f2(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function d2(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function zO(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function HO(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Bi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(tb)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Bi("n",r,n):"("+Bi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return UO(t,e,n);if(e.indexOf("%")!==-1)return LO(t,e,n);if(e.indexOf("E")!==-1)return XC(e,n);if(e.charCodeAt(0)===36)return"$"+Bi(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+pc(f,e.length);if(e.match(/^[#?]+$/))return i=pc(n,0),i==="0"&&(i=""),i.length>e.length?i:Zr(e.substr(0,e.length-i.length))+i;if(s=e.match(QC))return VO(s,f,d);if(e.match(/^#+0+$/))return d+pc(f,e.length-e.indexOf("0"));if(s=e.match(eb))return i=f2(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Zr(s[1])).replace(/\.$/,"."+Zr(s[1])).replace(/\.(\d*)$/,function(S,A){return"."+A+Mn("0",Zr(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+f2(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+oo(pc(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Bi(t,e,-n):oo(""+(Math.floor(n)+zO(n,s[1].length)))+"."+fs(d2(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Bi(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nc(Bi(t,e.replace(/[\\-]/g,""),n)),o=0,Nc(Nc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(e.match(nb))return i=Bi(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=I0(f,Math.pow(10,o)-1,!1),i=""+d,h=ca("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=C0(c[2],o),h.length<s[4].length&&(h=Zr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=I0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?M1(c[1],o)+s[2]+"/"+s[3]+C0(c[2],o):Mn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=pc(n,0),e.length<=i.length?i:Zr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,x=e.length-i.length-g;return Zr(e.substr(0,g)+i+e.substr(e.length-x))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=d2(n,s[1].length),n<0?"-"+Bi(t,e,-n):oo(HO(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?fs(0,3-S.length):"")+S})+"."+fs(o,s[1].length);switch(e){case"###,##0.00":return Bi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var E=oo(pc(f,0));return E!=="0"?d+E:"";case"###,###.00":return Bi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Bi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function GO(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ca(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function qO(t,e,n){var r=e.replace(ZC,""),i=e.length-r.length;return ca(t,r,n*Math.pow(10,2*i))+Mn("%",i)}function rb(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+rb(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ks(t,e,n){if(t.charCodeAt(0)===40&&!e.match(tb)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ks("n",r,n):"("+ks("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return GO(t,e,n);if(e.indexOf("%")!==-1)return qO(t,e,n);if(e.indexOf("E")!==-1)return rb(e,n);if(e.charCodeAt(0)===36)return"$"+ks(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+fs(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Zr(e.substr(0,e.length-i.length))+i;if(s=e.match(QC))return BO(s,f,d);if(e.match(/^#+0+$/))return d+fs(f,e.length-e.indexOf("0"));if(s=e.match(eb))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Zr(s[1])).replace(/\.$/,"."+Zr(s[1])),i=i.replace(/\.(\d*)$/,function(S,A){return"."+A+Mn("0",Zr(s[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+oo(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ks(t,e,-n):oo(""+n)+"."+Mn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ks(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nc(ks(t,e.replace(/[\\-]/g,""),n)),o=0,Nc(Nc(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return o<i.length?i.charAt(o++):S==="0"?"0":""}));if(e.match(nb))return i=ks(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=I0(f,Math.pow(10,o)-1,!1),i=""+d,h=ca("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=C0(c[2],o),h.length<s[4].length&&(h=Zr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=I0(f,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?M1(c[1],o)+s[2]+"/"+s[3]+C0(c[2],o):Mn(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Zr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,x=e.length-i.length-g;return Zr(e.substr(0,g)+i+e.substr(e.length-x))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ks(t,e,-n):oo(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?fs(0,3-S.length):"")+S})+"."+fs(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var E=oo(""+f);return E!=="0"?d+E:"";default:if(e.match(/\.[0#?]*$/))return ks(t,e.slice(0,e.lastIndexOf(".")),n)+Zr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ca(t,e,n){return(n|0)===n?ks(t,e,n):Bi(t,e,n)}function $O(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var ib=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function jc(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":b0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(ib))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function jO(t,e,n,r){for(var i=[],s="",o=0,c="",f="t",d,h,g,x="H";o<t.length;)switch(c=t.charAt(o)){case"G":if(!b0(t,o))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++o;break;case"\\":var E=t.charAt(++o),S=E==="("||E===")"?E:"t";i[i.length]={t:S,v:E},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=nl(e,n,t.charAt(o+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},f=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=nl(e,n),d==null))return"";for(s=c;++o<t.length&&t.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=x),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var A={t:c,v:c};if(d==null&&(d=nl(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(A.v=d.H>=12?"P":"A"),A.t="T",x="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(A.v=d.H>=12?"PM":"AM"),A.t="T",o+=5,x="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(A.v=d.H>=12?"":""),A.t="T",o+=5,x="h"):(A.t="t",++o),d==null&&A.t==="T")return"";i[i.length]=A,f=c;break;case"[":for(s=c;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(ib)){if(d==null&&(d=nl(e,n),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",jc(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++o<t.length&&(c=t.charAt(o))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(o))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++o)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++o;break}var C=0,O=0,V;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=x,f="h",C<1&&(C=1);break;case"s":(V=i[o].v.match(/\.0+$/))&&(O=Math.max(O,V[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var D="",H;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=OO(i[o].t.charCodeAt(0),i[o].v,d,O),i[o].t="t";break;case"n":case"?":for(H=o+1;i[H]!=null&&((c=i[H].t)==="?"||c==="D"||(c===" "||c==="t")&&i[H+1]!=null&&(i[H+1].t==="?"||i[H+1].t==="t"&&i[H+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[H].v==="/"||i[H].v===" "&&i[H+1]!=null&&i[H+1].t=="?"));)i[o].v+=i[H].v,i[H]={v:"",t:";"},++H;D+=i[o].v,o=H-1;break;case"G":i[o].t="t",i[o].v=dl(e,n);break}var B="",j,N;if(D.length>0){D.charCodeAt(0)==40?(j=e<0&&D.charCodeAt(0)===45?-e:e,N=ca("n",D,j)):(j=e<0&&r>1?-e:e,N=ca("n",D,j),j<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),H=N.length-1;var I=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){I=o;break}var b=i.length;if(I===i.length&&N.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(H>=i[o].v.length-1?(H-=i[o].v.length,i[o].v=N.substr(H+1,i[o].v.length)):H<0?i[o].v="":(i[o].v=N.substr(0,H+1),H=-1),i[o].t="t",b=o);H>=0&&b<i.length&&(i[b].v=N.substr(0,H+1)+i[b].v)}else if(I!==i.length&&N.indexOf("E")===-1){for(H=N.indexOf(".")-1,o=I;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(h=i[o].v.indexOf(".")>-1&&o===I?i[o].v.indexOf(".")-1:i[o].v.length-1,B=i[o].v.substr(h+1);h>=0;--h)H>=0&&(i[o].v.charAt(h)==="0"||i[o].v.charAt(h)==="#")&&(B=N.charAt(H--)+B);i[o].v=B,i[o].t="t",b=o}for(H>=0&&b<i.length&&(i[b].v=N.substr(0,H+1)+i[b].v),H=N.indexOf(".")+1,o=I;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==I)){for(h=i[o].v.indexOf(".")>-1&&o===I?i[o].v.indexOf(".")+1:0,B=i[o].v.substr(0,h);h<i[o].v.length;++h)H<N.length&&(B+=N.charAt(H++));i[o].v=B,i[o].t="t",b=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(j=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=ca(i[o].t,i[o].v,j),i[o].t="t");var F="";for(o=0;o!==i.length;++o)i[o]!=null&&(F+=i[o].v);return F}var h2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function p2(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function KO(t,e){var n=$O(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(h2),c=n[1].match(h2);return p2(e,o)?[r,n[0]]:p2(e,c)?[r,n[1]]:[r,n[o!=null&&c!=null?2:1]]}return[r,s]}function $i(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:At)[t],r==null&&(r=n.table&&n.table[u2[t]]||At[u2[t]]),r==null&&(r=NO[t]||"General");break}if(b0(r,0))return dl(e,n);e instanceof Date&&(e=WC(e,n.date1904));var i=KO(r,e);if(b0(i[1]))return dl(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return jO(i[1],e,n,i[0])}function sl(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(At[n]==null){e<0&&(e=n);continue}if(At[n]==t){e=n;break}}e<0&&(e=391)}return At[e]=t,e}function sb(){At=IO()}var YO={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ab=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function JO(t){var e=typeof t=="number"?At[t]:t;return e=e.replace(ab,"(\\d+)"),new RegExp("^"+e+"$")}function WO(t,e,n){var r=-1,i=-1,s=-1,o=-1,c=-1,f=-1;(e.match(ab)||[]).forEach(function(g,x){var E=parseInt(n[x+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=E;break;case"d":s=E;break;case"h":o=E;break;case"s":f=E;break;case"m":o>=0?c=E:i=E;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&c==-1&&f==-1?d:r==-1&&i==-1&&s==-1?h:d+"T"+h}var ZO=(function(){var t={};t.version="1.2.0";function e(){for(var N=0,I=new Array(256),b=0;b!=256;++b)N=b,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,I[b]=N;return typeof Int32Array<"u"?new Int32Array(I):I}var n=e();function r(N){var I=0,b=0,F=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)M[F]=N[F];for(F=0;F!=256;++F)for(b=N[F],I=256+F;I<4096;I+=256)b=M[I]=b>>>8^N[b&255];var k=[];for(F=1;F!=16;++F)k[F-1]=typeof Int32Array<"u"?M.subarray(F*256,F*256+256):M.slice(F*256,F*256+256);return k}var i=r(n),s=i[0],o=i[1],c=i[2],f=i[3],d=i[4],h=i[5],g=i[6],x=i[7],E=i[8],S=i[9],A=i[10],C=i[11],O=i[12],V=i[13],D=i[14];function H(N,I){for(var b=I^-1,F=0,M=N.length;F<M;)b=b>>>8^n[(b^N.charCodeAt(F++))&255];return~b}function B(N,I){for(var b=I^-1,F=N.length-15,M=0;M<F;)b=D[N[M++]^b&255]^V[N[M++]^b>>8&255]^O[N[M++]^b>>16&255]^C[N[M++]^b>>>24]^A[N[M++]]^S[N[M++]]^E[N[M++]]^x[N[M++]]^g[N[M++]]^h[N[M++]]^d[N[M++]]^f[N[M++]]^c[N[M++]]^o[N[M++]]^s[N[M++]]^n[N[M++]];for(F+=15;M<F;)b=b>>>8^n[(b^N[M++])&255];return~b}function j(N,I){for(var b=I^-1,F=0,M=N.length,k=0,U=0;F<M;)k=N.charCodeAt(F++),k<128?b=b>>>8^n[(b^k)&255]:k<2048?(b=b>>>8^n[(b^(192|k>>6&31))&255],b=b>>>8^n[(b^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,U=N.charCodeAt(F++)&1023,b=b>>>8^n[(b^(240|k>>8&7))&255],b=b>>>8^n[(b^(128|k>>2&63))&255],b=b>>>8^n[(b^(128|U>>6&15|(k&3)<<4))&255],b=b>>>8^n[(b^(128|U&63))&255]):(b=b>>>8^n[(b^(224|k>>12&15))&255],b=b>>>8^n[(b^(128|k>>6&63))&255],b=b>>>8^n[(b^(128|k&63))&255]);return~b}return t.table=n,t.bstr=H,t.buf=B,t.str=j,t})(),zt=(function(){var e={};e.version="1.2.1";function n(G,W){for(var K=G.split("/"),J=W.split("/"),ee=0,re=0,pe=Math.min(K.length,J.length);ee<pe;++ee){if(re=K[ee].length-J[ee].length)return re;if(K[ee]!=J[ee])return K[ee]<J[ee]?-1:1}return K.length-J.length}function r(G){if(G.charAt(G.length-1)=="/")return G.slice(0,-1).indexOf("/")===-1?G:r(G.slice(0,-1));var W=G.lastIndexOf("/");return W===-1?G:G.slice(0,W+1)}function i(G){if(G.charAt(G.length-1)=="/")return i(G.slice(0,-1));var W=G.lastIndexOf("/");return W===-1?G:G.slice(W+1)}function s(G,W){typeof W=="string"&&(W=new Date(W));var K=W.getHours();K=K<<6|W.getMinutes(),K=K<<5|W.getSeconds()>>>1,G.write_shift(2,K);var J=W.getFullYear()-1980;J=J<<4|W.getMonth()+1,J=J<<5|W.getDate(),G.write_shift(2,J)}function o(G){var W=G.read_shift(2)&65535,K=G.read_shift(2)&65535,J=new Date,ee=K&31;K>>>=5;var re=K&15;K>>>=4,J.setMilliseconds(0),J.setFullYear(K+1980),J.setMonth(re-1),J.setDate(ee);var pe=W&31;W>>>=5;var Ie=W&63;return W>>>=6,J.setHours(W),J.setMinutes(Ie),J.setSeconds(pe<<1),J}function c(G){Cr(G,0);for(var W={},K=0;G.l<=G.length-4;){var J=G.read_shift(2),ee=G.read_shift(2),re=G.l+ee,pe={};switch(J){case 21589:K=G.read_shift(1),K&1&&(pe.mtime=G.read_shift(4)),ee>5&&(K&2&&(pe.atime=G.read_shift(4)),K&4&&(pe.ctime=G.read_shift(4))),pe.mtime&&(pe.mt=new Date(pe.mtime*1e3));break}G.l=re,W[J]=pe}return W}var f;function d(){return f||(f={})}function h(G,W){if(G[0]==80&&G[1]==75)return jr(G,W);if((G[0]|32)==109&&(G[1]|32)==105)return ot(G,W);if(G.length<512)throw new Error("CFB file size "+G.length+" < 512");var K=3,J=512,ee=0,re=0,pe=0,Ie=0,me=0,xe=[],ve=G.slice(0,512);Cr(ve,0);var Be=g(ve);switch(K=Be[0],K){case 3:J=512;break;case 4:J=4096;break;case 0:if(Be[1]==0)return jr(G,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}J!==512&&(ve=G.slice(0,J),Cr(ve,28));var He=G.slice(0,J);x(ve,K);var je=ve.read_shift(4,"i");if(K===3&&je!==0)throw new Error("# Directory Sectors: Expected 0 saw "+je);ve.l+=4,pe=ve.read_shift(4,"i"),ve.l+=4,ve.chk("00100000","Mini Stream Cutoff Size: "),Ie=ve.read_shift(4,"i"),ee=ve.read_shift(4,"i"),me=ve.read_shift(4,"i"),re=ve.read_shift(4,"i");for(var Ue=-1,$e=0;$e<109&&(Ue=ve.read_shift(4,"i"),!(Ue<0));++$e)xe[$e]=Ue;var Xe=E(G,J);C(me,re,Xe,J,xe);var tn=V(Xe,pe,xe,J);tn[pe].name="!Directory",ee>0&&Ie!==U&&(tn[Ie].name="!MiniFAT"),tn[xe[0]].name="!FAT",tn.fat_addrs=xe,tn.ssz=J;var nn={},mn=[],Dr=[],Zi=[];D(pe,tn,Xe,mn,ee,nn,Dr,Ie),S(Dr,Zi,mn),mn.shift();var Xi={FileIndex:Dr,FullPaths:Zi};return W&&W.raw&&(Xi.raw={header:He,sectors:Xe}),Xi}function g(G){if(G[G.l]==80&&G[G.l+1]==75)return[0,0];G.chk(Te,"Header Signature: "),G.l+=16;var W=G.read_shift(2,"u");return[G.read_shift(2,"u"),W]}function x(G,W){var K=9;switch(G.l+=2,K=G.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}G.chk("0600","Mini Sector Shift: "),G.chk("000000000000","Reserved: ")}function E(G,W){for(var K=Math.ceil(G.length/W)-1,J=[],ee=1;ee<K;++ee)J[ee-1]=G.slice(ee*W,(ee+1)*W);return J[K-1]=G.slice(K*W),J}function S(G,W,K){for(var J=0,ee=0,re=0,pe=0,Ie=0,me=K.length,xe=[],ve=[];J<me;++J)xe[J]=ve[J]=J,W[J]=K[J];for(;Ie<ve.length;++Ie)J=ve[Ie],ee=G[J].L,re=G[J].R,pe=G[J].C,xe[J]===J&&(ee!==-1&&xe[ee]!==ee&&(xe[J]=xe[ee]),re!==-1&&xe[re]!==re&&(xe[J]=xe[re])),pe!==-1&&(xe[pe]=J),ee!==-1&&J!=xe[J]&&(xe[ee]=xe[J],ve.lastIndexOf(ee)<Ie&&ve.push(ee)),re!==-1&&J!=xe[J]&&(xe[re]=xe[J],ve.lastIndexOf(re)<Ie&&ve.push(re));for(J=1;J<me;++J)xe[J]===J&&(re!==-1&&xe[re]!==re?xe[J]=xe[re]:ee!==-1&&xe[ee]!==ee&&(xe[J]=xe[ee]));for(J=1;J<me;++J)if(G[J].type!==0){if(Ie=J,Ie!=xe[Ie])do Ie=xe[Ie],W[J]=W[Ie]+"/"+W[J];while(Ie!==0&&xe[Ie]!==-1&&Ie!=xe[Ie]);xe[J]=-1}for(W[0]+="/",J=1;J<me;++J)G[J].type!==2&&(W[J]+="/")}function A(G,W,K){for(var J=G.start,ee=G.size,re=[],pe=J;K&&ee>0&&pe>=0;)re.push(W.slice(pe*k,pe*k+k)),ee-=k,pe=tl(K,pe*4);return re.length===0?nr(0):io(re).slice(0,G.size)}function C(G,W,K,J,ee){var re=U;if(G===U){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(G!==-1){var pe=K[G],Ie=(J>>>2)-1;if(!pe)return;for(var me=0;me<Ie&&(re=tl(pe,me*4))!==U;++me)ee.push(re);C(tl(pe,J-4),W-1,K,J,ee)}}function O(G,W,K,J,ee){var re=[],pe=[];ee||(ee=[]);var Ie=J-1,me=0,xe=0;for(me=W;me>=0;){ee[me]=!0,re[re.length]=me,pe.push(G[me]);var ve=K[Math.floor(me*4/J)];if(xe=me*4&Ie,J<4+xe)throw new Error("FAT boundary crossed: "+me+" 4 "+J);if(!G[ve])break;me=tl(G[ve],xe)}return{nodes:re,data:S2([pe])}}function V(G,W,K,J){var ee=G.length,re=[],pe=[],Ie=[],me=[],xe=J-1,ve=0,Be=0,He=0,je=0;for(ve=0;ve<ee;++ve)if(Ie=[],He=ve+W,He>=ee&&(He-=ee),!pe[He]){me=[];var Ue=[];for(Be=He;Be>=0;){Ue[Be]=!0,pe[Be]=!0,Ie[Ie.length]=Be,me.push(G[Be]);var $e=K[Math.floor(Be*4/J)];if(je=Be*4&xe,J<4+je)throw new Error("FAT boundary crossed: "+Be+" 4 "+J);if(!G[$e]||(Be=tl(G[$e],je),Ue[Be]))break}re[He]={nodes:Ie,data:S2([me])}}return re}function D(G,W,K,J,ee,re,pe,Ie){for(var me=0,xe=J.length?2:0,ve=W[G].data,Be=0,He=0,je;Be<ve.length;Be+=128){var Ue=ve.slice(Be,Be+128);Cr(Ue,64),He=Ue.read_shift(2),je=V1(Ue,0,He-xe),J.push(je);var $e={name:je,type:Ue.read_shift(1),color:Ue.read_shift(1),L:Ue.read_shift(4,"i"),R:Ue.read_shift(4,"i"),C:Ue.read_shift(4,"i"),clsid:Ue.read_shift(16),state:Ue.read_shift(4,"i"),start:0,size:0},Xe=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);Xe!==0&&($e.ct=H(Ue,Ue.l-8));var tn=Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2)+Ue.read_shift(2);tn!==0&&($e.mt=H(Ue,Ue.l-8)),$e.start=Ue.read_shift(4,"i"),$e.size=Ue.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=U,$e.name=""),$e.type===5?(me=$e.start,ee>0&&me!==U&&(W[me].name="!StreamData")):$e.size>=4096?($e.storage="fat",W[$e.start]===void 0&&(W[$e.start]=O(K,$e.start,W.fat_addrs,W.ssz)),W[$e.start].name=$e.name,$e.content=W[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:me!==U&&$e.start!==U&&W[me]&&($e.content=A($e,W[me].data,(W[Ie]||{}).data))),$e.content&&Cr($e.content,0),re[je]=$e,pe.push($e)}}function H(G,W){return new Date((wi(G,W+4)/1e7*Math.pow(2,32)+wi(G,W)/1e7-11644473600)*1e3)}function B(G,W){return d(),h(f.readFileSync(G),W)}function j(G,W){var K=W&&W.type;switch(K||Lt&&Buffer.isBuffer(G)&&(K="buffer"),K||"base64"){case"file":return B(G,W);case"base64":return h(cs(Ci(G)),W);case"binary":return h(cs(G),W)}return h(G,W)}function N(G,W){var K=W||{},J=K.root||"Root Entry";if(G.FullPaths||(G.FullPaths=[]),G.FileIndex||(G.FileIndex=[]),G.FullPaths.length!==G.FileIndex.length)throw new Error("inconsistent CFB structure");G.FullPaths.length===0&&(G.FullPaths[0]=J+"/",G.FileIndex[0]={name:J,type:5}),K.CLSID&&(G.FileIndex[0].clsid=K.CLSID),I(G)}function I(G){var W="Sh33tJ5";if(!zt.find(G,"/"+W)){var K=nr(4);K[0]=55,K[1]=K[3]=50,K[2]=54,G.FileIndex.push({name:W,type:2,content:K,size:4,L:69,R:69,C:69}),G.FullPaths.push(G.FullPaths[0]+W),b(G)}}function b(G,W){N(G);for(var K=!1,J=!1,ee=G.FullPaths.length-1;ee>=0;--ee){var re=G.FileIndex[ee];switch(re.type){case 0:J?K=!0:(G.FileIndex.pop(),G.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(re.R*re.L*re.C)&&(K=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!W)){var pe=new Date(1987,1,19),Ie=0,me=Object.create?Object.create(null):{},xe=[];for(ee=0;ee<G.FullPaths.length;++ee)me[G.FullPaths[ee]]=!0,G.FileIndex[ee].type!==0&&xe.push([G.FullPaths[ee],G.FileIndex[ee]]);for(ee=0;ee<xe.length;++ee){var ve=r(xe[ee][0]);J=me[ve],J||(xe.push([ve,{name:i(ve).replace("/",""),type:1,clsid:ae,ct:pe,mt:pe,content:null}]),me[ve]=!0)}for(xe.sort(function(je,Ue){return n(je[0],Ue[0])}),G.FullPaths=[],G.FileIndex=[],ee=0;ee<xe.length;++ee)G.FullPaths[ee]=xe[ee][0],G.FileIndex[ee]=xe[ee][1];for(ee=0;ee<xe.length;++ee){var Be=G.FileIndex[ee],He=G.FullPaths[ee];if(Be.name=i(He).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||ae,ee===0)Be.C=xe.length>1?1:-1,Be.size=0,Be.type=5;else if(He.slice(-1)=="/"){for(Ie=ee+1;Ie<xe.length&&r(G.FullPaths[Ie])!=He;++Ie);for(Be.C=Ie>=xe.length?-1:Ie,Ie=ee+1;Ie<xe.length&&r(G.FullPaths[Ie])!=r(He);++Ie);Be.R=Ie>=xe.length?-1:Ie,Be.type=1}else r(G.FullPaths[ee+1]||"")==r(He)&&(Be.R=ee+1),Be.type=2}}}function F(G,W){var K=W||{};if(K.fileType=="mad")return Ut(G,K);switch(b(G),K.fileType){case"zip":return Tn(G,K)}var J=(function(je){for(var Ue=0,$e=0,Xe=0;Xe<je.FileIndex.length;++Xe){var tn=je.FileIndex[Xe];if(tn.content){var nn=tn.content.length;nn>0&&(nn<4096?Ue+=nn+63>>6:$e+=nn+511>>9)}}for(var mn=je.FullPaths.length+3>>2,Dr=Ue+7>>3,Zi=Ue+127>>7,Xi=Dr+$e+mn+Zi,pi=Xi+127>>7,wa=pi<=109?0:Math.ceil((pi-109)/127);Xi+pi+wa+127>>7>pi;)wa=++pi<=109?0:Math.ceil((pi-109)/127);var Mr=[1,wa,pi,Zi,mn,$e,Ue,0];return je.FileIndex[0].size=Ue<<6,Mr[7]=(je.FileIndex[0].start=Mr[0]+Mr[1]+Mr[2]+Mr[3]+Mr[4]+Mr[5])+(Mr[6]+7>>3),Mr})(G),ee=nr(J[7]<<9),re=0,pe=0;{for(re=0;re<8;++re)ee.write_shift(1,ye[re]);for(re=0;re<8;++re)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),re=0;re<3;++re)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,J[2]),ee.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:U),ee.write_shift(4,J[3]),ee.write_shift(-4,J[1]?J[0]-1:U),ee.write_shift(4,J[1]),re=0;re<109;++re)ee.write_shift(-4,re<J[2]?J[1]+re:-1)}if(J[1])for(pe=0;pe<J[1];++pe){for(;re<236+pe*127;++re)ee.write_shift(-4,re<J[2]?J[1]+re:-1);ee.write_shift(-4,pe===J[1]-1?U:pe+1)}var Ie=function(je){for(pe+=je;re<pe-1;++re)ee.write_shift(-4,re+1);je&&(++re,ee.write_shift(-4,U))};for(pe=re=0,pe+=J[1];re<pe;++re)ee.write_shift(-4,oe.DIFSECT);for(pe+=J[2];re<pe;++re)ee.write_shift(-4,oe.FATSECT);Ie(J[3]),Ie(J[4]);for(var me=0,xe=0,ve=G.FileIndex[0];me<G.FileIndex.length;++me)ve=G.FileIndex[me],ve.content&&(xe=ve.content.length,!(xe<4096)&&(ve.start=pe,Ie(xe+511>>9)));for(Ie(J[6]+7>>3);ee.l&511;)ee.write_shift(-4,oe.ENDOFCHAIN);for(pe=re=0,me=0;me<G.FileIndex.length;++me)ve=G.FileIndex[me],ve.content&&(xe=ve.content.length,!(!xe||xe>=4096)&&(ve.start=pe,Ie(xe+63>>6)));for(;ee.l&511;)ee.write_shift(-4,oe.ENDOFCHAIN);for(re=0;re<J[4]<<2;++re){var Be=G.FullPaths[re];if(!Be||Be.length===0){for(me=0;me<17;++me)ee.write_shift(4,0);for(me=0;me<3;++me)ee.write_shift(4,-1);for(me=0;me<12;++me)ee.write_shift(4,0);continue}ve=G.FileIndex[re],re===0&&(ve.start=ve.size?ve.start-1:U);var He=re===0&&K.root||ve.name;if(xe=2*(He.length+1),ee.write_shift(64,He,"utf16le"),ee.write_shift(2,xe),ee.write_shift(1,ve.type),ee.write_shift(1,ve.color),ee.write_shift(-4,ve.L),ee.write_shift(-4,ve.R),ee.write_shift(-4,ve.C),ve.clsid)ee.write_shift(16,ve.clsid,"hex");else for(me=0;me<4;++me)ee.write_shift(4,0);ee.write_shift(4,ve.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,ve.start),ee.write_shift(4,ve.size),ee.write_shift(4,0)}for(re=1;re<G.FileIndex.length;++re)if(ve=G.FileIndex[re],ve.size>=4096)if(ee.l=ve.start+1<<9,Lt&&Buffer.isBuffer(ve.content))ve.content.copy(ee,ee.l,0,ve.size),ee.l+=ve.size+511&-512;else{for(me=0;me<ve.size;++me)ee.write_shift(1,ve.content[me]);for(;me&511;++me)ee.write_shift(1,0)}for(re=1;re<G.FileIndex.length;++re)if(ve=G.FileIndex[re],ve.size>0&&ve.size<4096)if(Lt&&Buffer.isBuffer(ve.content))ve.content.copy(ee,ee.l,0,ve.size),ee.l+=ve.size+63&-64;else{for(me=0;me<ve.size;++me)ee.write_shift(1,ve.content[me]);for(;me&63;++me)ee.write_shift(1,0)}if(Lt)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function M(G,W){var K=G.FullPaths.map(function(me){return me.toUpperCase()}),J=K.map(function(me){var xe=me.split("/");return xe[xe.length-(me.slice(-1)=="/"?2:1)]}),ee=!1;W.charCodeAt(0)===47?(ee=!0,W=K[0].slice(0,-1)+W):ee=W.indexOf("/")!==-1;var re=W.toUpperCase(),pe=ee===!0?K.indexOf(re):J.indexOf(re);if(pe!==-1)return G.FileIndex[pe];var Ie=!re.match(of);for(re=re.replace(ei,""),Ie&&(re=re.replace(of,"!")),pe=0;pe<K.length;++pe)if((Ie?K[pe].replace(of,"!"):K[pe]).replace(ei,"")==re||(Ie?J[pe].replace(of,"!"):J[pe]).replace(ei,"")==re)return G.FileIndex[pe];return null}var k=64,U=-2,Te="d0cf11e0a1b11ae1",ye=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",oe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:Te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Re(G,W,K){d();var J=F(G,K);f.writeFileSync(W,J)}function ie(G){for(var W=new Array(G.length),K=0;K<G.length;++K)W[K]=String.fromCharCode(G[K]);return W.join("")}function Le(G,W){var K=F(G,W);switch(W&&W.type||"buffer"){case"file":return d(),f.writeFileSync(W.filename,K),K;case"binary":return typeof K=="string"?K:ie(K);case"base64":return a2(typeof K=="string"?K:ie(K));case"buffer":if(Lt)return Buffer.isBuffer(K)?K:_l(K);case"array":return typeof K=="string"?cs(K):K}return K}var Z;function z(G){try{var W=G.InflateRaw,K=new W;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)Z=G;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function Q(G,W){if(!Z)return Ji(G,W);var K=Z.InflateRaw,J=new K,ee=J._processChunk(G.slice(G.l),J._finishFlushFlag);return G.l+=J.bytesRead,ee}function te(G){return Z?Z.deflateRawSync(G):ht(G)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(G){var W=(G<<1|G<<11)&139536|(G<<5|G<<15)&558144;return(W>>16|W>>8|W)&255}for(var Ee=typeof Uint8Array<"u",Ae=Ee?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)Ae[Oe]=be(Oe);function ne(G,W){var K=Ae[G&255];return W<=8?K>>>8-W:(K=K<<8|Ae[G>>8&255],W<=16?K>>>16-W:(K=K<<8|Ae[G>>16&255],K>>>24-W))}function mt(G,W){var K=W&7,J=W>>>3;return(G[J]|(K<=6?0:G[J+1]<<8))>>>K&3}function Je(G,W){var K=W&7,J=W>>>3;return(G[J]|(K<=5?0:G[J+1]<<8))>>>K&7}function Qe(G,W){var K=W&7,J=W>>>3;return(G[J]|(K<=4?0:G[J+1]<<8))>>>K&15}function Ge(G,W){var K=W&7,J=W>>>3;return(G[J]|(K<=3?0:G[J+1]<<8))>>>K&31}function ze(G,W){var K=W&7,J=W>>>3;return(G[J]|(K<=1?0:G[J+1]<<8))>>>K&127}function tt(G,W,K){var J=W&7,ee=W>>>3,re=(1<<K)-1,pe=G[ee]>>>J;return K<8-J||(pe|=G[ee+1]<<8-J,K<16-J)||(pe|=G[ee+2]<<16-J,K<24-J)||(pe|=G[ee+3]<<24-J),pe&re}function rt(G,W,K){var J=W&7,ee=W>>>3;return J<=5?G[ee]|=(K&7)<<J:(G[ee]|=K<<J&255,G[ee+1]=(K&7)>>8-J),W+3}function ut(G,W,K){var J=W&7,ee=W>>>3;return K=(K&1)<<J,G[ee]|=K,W+1}function Kt(G,W,K){var J=W&7,ee=W>>>3;return K<<=J,G[ee]|=K&255,K>>>=8,G[ee+1]=K,W+8}function hn(G,W,K){var J=W&7,ee=W>>>3;return K<<=J,G[ee]|=K&255,K>>>=8,G[ee+1]=K&255,G[ee+2]=K>>>8,W+16}function Hn(G,W){var K=G.length,J=2*K>W?2*K:W+5,ee=0;if(K>=W)return G;if(Lt){var re=o2(J);if(G.copy)G.copy(re);else for(;ee<G.length;++ee)re[ee]=G[ee];return re}else if(Ee){var pe=new Uint8Array(J);if(pe.set)pe.set(G);else for(;ee<K;++ee)pe[ee]=G[ee];return pe}return G.length=J,G}function dt(G){for(var W=new Array(G),K=0;K<G;++K)W[K]=0;return W}function Yt(G,W,K){var J=1,ee=0,re=0,pe=0,Ie=0,me=G.length,xe=Ee?new Uint16Array(32):dt(32);for(re=0;re<32;++re)xe[re]=0;for(re=me;re<K;++re)G[re]=0;me=G.length;var ve=Ee?new Uint16Array(me):dt(me);for(re=0;re<me;++re)xe[ee=G[re]]++,J<ee&&(J=ee),ve[re]=0;for(xe[0]=0,re=1;re<=J;++re)xe[re+16]=Ie=Ie+xe[re-1]<<1;for(re=0;re<me;++re)Ie=G[re],Ie!=0&&(ve[re]=xe[Ie+16]++);var Be=0;for(re=0;re<me;++re)if(Be=G[re],Be!=0)for(Ie=ne(ve[re],J)>>J-Be,pe=(1<<J+4-Be)-1;pe>=0;--pe)W[Ie|pe<<Be]=Be&15|re<<4;return J}var vt=Ee?new Uint16Array(512):dt(512),ln=Ee?new Uint16Array(32):dt(32);if(!Ee){for(var Rt=0;Rt<512;++Rt)vt[Rt]=0;for(Rt=0;Rt<32;++Rt)ln[Rt]=0}(function(){for(var G=[],W=0;W<32;W++)G.push(5);Yt(G,ln,32);var K=[];for(W=0;W<=143;W++)K.push(8);for(;W<=255;W++)K.push(9);for(;W<=279;W++)K.push(7);for(;W<=287;W++)K.push(8);Yt(K,vt,288)})();var Gn=(function(){for(var W=Ee?new Uint8Array(32768):[],K=0,J=0;K<Ce.length-1;++K)for(;J<Ce[K+1];++J)W[J]=K;for(;J<32768;++J)W[J]=29;var ee=Ee?new Uint8Array(259):[];for(K=0,J=0;K<ce.length-1;++K)for(;J<ce[K+1];++J)ee[J]=K;function re(Ie,me){for(var xe=0;xe<Ie.length;){var ve=Math.min(65535,Ie.length-xe),Be=xe+ve==Ie.length;for(me.write_shift(1,+Be),me.write_shift(2,ve),me.write_shift(2,~ve&65535);ve-- >0;)me[me.l++]=Ie[xe++]}return me.l}function pe(Ie,me){for(var xe=0,ve=0,Be=Ee?new Uint16Array(32768):[];ve<Ie.length;){var He=Math.min(65535,Ie.length-ve);if(He<10){for(xe=rt(me,xe,+(ve+He==Ie.length)),xe&7&&(xe+=8-(xe&7)),me.l=xe/8|0,me.write_shift(2,He),me.write_shift(2,~He&65535);He-- >0;)me[me.l++]=Ie[ve++];xe=me.l*8;continue}xe=rt(me,xe,+(ve+He==Ie.length)+2);for(var je=0;He-- >0;){var Ue=Ie[ve];je=(je<<5^Ue)&32767;var $e=-1,Xe=0;if(($e=Be[je])&&($e|=ve&-32768,$e>ve&&($e-=32768),$e<ve))for(;Ie[$e+Xe]==Ie[ve+Xe]&&Xe<250;)++Xe;if(Xe>2){Ue=ee[Xe],Ue<=22?xe=Kt(me,xe,Ae[Ue+1]>>1)-1:(Kt(me,xe,3),xe+=5,Kt(me,xe,Ae[Ue-23]>>5),xe+=3);var tn=Ue<8?0:Ue-4>>2;tn>0&&(hn(me,xe,Xe-ce[Ue]),xe+=tn),Ue=W[ve-$e],xe=Kt(me,xe,Ae[Ue]>>3),xe-=3;var nn=Ue<4?0:Ue-2>>1;nn>0&&(hn(me,xe,ve-$e-Ce[Ue]),xe+=nn);for(var mn=0;mn<Xe;++mn)Be[je]=ve&32767,je=(je<<5^Ie[ve])&32767,++ve;He-=Xe-1}else Ue<=143?Ue=Ue+48:xe=ut(me,xe,1),xe=Kt(me,xe,Ae[Ue]),Be[je]=ve&32767,++ve}xe=Kt(me,xe,0)-1}return me.l=(xe+7)/8|0,me.l}return function(me,xe){return me.length<8?re(me,xe):pe(me,xe)}})();function ht(G){var W=nr(50+Math.floor(G.length*1.1)),K=Gn(G,W);return W.slice(0,K)}var Ft=Ee?new Uint16Array(32768):dt(32768),Xt=Ee?new Uint16Array(32768):dt(32768),bt=Ee?new Uint16Array(128):dt(128),Qt=1,pr=1;function xn(G,W){var K=Ge(G,W)+257;W+=5;var J=Ge(G,W)+1;W+=5;var ee=Qe(G,W)+4;W+=4;for(var re=0,pe=Ee?new Uint8Array(19):dt(19),Ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,xe=Ee?new Uint8Array(8):dt(8),ve=Ee?new Uint8Array(8):dt(8),Be=pe.length,He=0;He<ee;++He)pe[X[He]]=re=Je(G,W),me<re&&(me=re),xe[re]++,W+=3;var je=0;for(xe[0]=0,He=1;He<=me;++He)ve[He]=je=je+xe[He-1]<<1;for(He=0;He<Be;++He)(je=pe[He])!=0&&(Ie[He]=ve[je]++);var Ue=0;for(He=0;He<Be;++He)if(Ue=pe[He],Ue!=0){je=Ae[Ie[He]]>>8-Ue;for(var $e=(1<<7-Ue)-1;$e>=0;--$e)bt[je|$e<<Ue]=Ue&7|He<<3}var Xe=[];for(me=1;Xe.length<K+J;)switch(je=bt[ze(G,W)],W+=je&7,je>>>=3){case 16:for(re=3+mt(G,W),W+=2,je=Xe[Xe.length-1];re-- >0;)Xe.push(je);break;case 17:for(re=3+Je(G,W),W+=3;re-- >0;)Xe.push(0);break;case 18:for(re=11+ze(G,W),W+=7;re-- >0;)Xe.push(0);break;default:Xe.push(je),me<je&&(me=je);break}var tn=Xe.slice(0,K),nn=Xe.slice(K);for(He=K;He<286;++He)tn[He]=0;for(He=J;He<30;++He)nn[He]=0;return Qt=Yt(tn,Ft,286),pr=Yt(nn,Xt,30),W}function Ta(G,W){if(G[0]==3&&!(G[1]&3))return[go(W),2];for(var K=0,J=0,ee=o2(W||1<<18),re=0,pe=ee.length>>>0,Ie=0,me=0;(J&1)==0;){if(J=Je(G,K),K+=3,J>>>1)J>>1==1?(Ie=9,me=5):(K=xn(G,K),Ie=Qt,me=pr);else{K&7&&(K+=8-(K&7));var xe=G[K>>>3]|G[(K>>>3)+1]<<8;if(K+=32,xe>0)for(!W&&pe<re+xe&&(ee=Hn(ee,re+xe),pe=ee.length);xe-- >0;)ee[re++]=G[K>>>3],K+=8;continue}for(;;){!W&&pe<re+32767&&(ee=Hn(ee,re+32767),pe=ee.length);var ve=tt(G,K,Ie),Be=J>>>1==1?vt[ve]:Ft[ve];if(K+=Be&15,Be>>>=4,(Be>>>8&255)===0)ee[re++]=Be;else{if(Be==256)break;Be-=257;var He=Be<8?0:Be-4>>2;He>5&&(He=0);var je=re+ce[Be];He>0&&(je+=tt(G,K,He),K+=He),ve=tt(G,K,me),Be=J>>>1==1?ln[ve]:Xt[ve],K+=Be&15,Be>>>=4;var Ue=Be<4?0:Be-2>>1,$e=Ce[Be];for(Ue>0&&($e+=tt(G,K,Ue),K+=Ue),!W&&pe<je&&(ee=Hn(ee,je+100),pe=ee.length);re<je;)ee[re]=ee[re-$e],++re}}}return W?[ee,K+7>>>3]:[ee.slice(0,re),K+7>>>3]}function Ji(G,W){var K=G.slice(G.l||0),J=Ta(K,W);return G.l+=J[1],J[0]}function Hs(G,W){if(G)typeof console<"u"&&console.error(W);else throw new Error(W)}function jr(G,W){var K=G;Cr(K,0);var J=[],ee=[],re={FileIndex:J,FullPaths:ee};N(re,{root:W.root});for(var pe=K.length-4;(K[pe]!=80||K[pe+1]!=75||K[pe+2]!=5||K[pe+3]!=6)&&pe>=0;)--pe;K.l=pe+4,K.l+=4;var Ie=K.read_shift(2);K.l+=6;var me=K.read_shift(4);for(K.l=me,pe=0;pe<Ie;++pe){K.l+=20;var xe=K.read_shift(4),ve=K.read_shift(4),Be=K.read_shift(2),He=K.read_shift(2),je=K.read_shift(2);K.l+=8;var Ue=K.read_shift(4),$e=c(K.slice(K.l+Be,K.l+Be+He));K.l+=Be+He+je;var Xe=K.l;K.l=Ue+4,Wi(K,xe,ve,re,$e),K.l=Xe}return re}function Wi(G,W,K,J,ee){G.l+=2;var re=G.read_shift(2),pe=G.read_shift(2),Ie=o(G);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var me=G.read_shift(4),xe=G.read_shift(4),ve=G.read_shift(4),Be=G.read_shift(2),He=G.read_shift(2),je="",Ue=0;Ue<Be;++Ue)je+=String.fromCharCode(G[G.l++]);if(He){var $e=c(G.slice(G.l,G.l+He));($e[21589]||{}).mt&&(Ie=$e[21589].mt),((ee||{})[21589]||{}).mt&&(Ie=ee[21589].mt)}G.l+=He;var Xe=G.slice(G.l,G.l+xe);switch(pe){case 8:Xe=Q(G,ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+pe)}var tn=!1;re&8&&(me=G.read_shift(4),me==134695760&&(me=G.read_shift(4),tn=!0),xe=G.read_shift(4),ve=G.read_shift(4)),xe!=W&&Hs(tn,"Bad compressed size: "+W+" != "+xe),ve!=K&&Hs(tn,"Bad uncompressed size: "+K+" != "+ve),pn(J,je,Xe,{unsafe:!0,mt:Ie})}function Tn(G,W){var K=W||{},J=[],ee=[],re=nr(1),pe=K.compression?8:0,Ie=0,me=0,xe=0,ve=0,Be=0,He=G.FullPaths[0],je=He,Ue=G.FileIndex[0],$e=[],Xe=0;for(me=1;me<G.FullPaths.length;++me)if(je=G.FullPaths[me].slice(He.length),Ue=G.FileIndex[me],!(!Ue.size||!Ue.content||je=="Sh33tJ5")){var tn=ve,nn=nr(je.length);for(xe=0;xe<je.length;++xe)nn.write_shift(1,je.charCodeAt(xe)&127);nn=nn.slice(0,nn.l),$e[Be]=ZO.buf(Ue.content,0);var mn=Ue.content;pe==8&&(mn=te(mn)),re=nr(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,Ie),re.write_shift(2,pe),Ue.mt?s(re,Ue.mt):re.write_shift(4,0),re.write_shift(-4,$e[Be]),re.write_shift(4,mn.length),re.write_shift(4,Ue.content.length),re.write_shift(2,nn.length),re.write_shift(2,0),ve+=re.length,J.push(re),ve+=nn.length,J.push(nn),ve+=mn.length,J.push(mn),re=nr(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,Ie),re.write_shift(2,pe),re.write_shift(4,0),re.write_shift(-4,$e[Be]),re.write_shift(4,mn.length),re.write_shift(4,Ue.content.length),re.write_shift(2,nn.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,tn),Xe+=re.l,ee.push(re),Xe+=nn.length,ee.push(nn),++Be}return re=nr(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Be),re.write_shift(2,Be),re.write_shift(4,Xe),re.write_shift(4,ve),re.write_shift(2,0),io([io(J),io(ee),re])}var mr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function wn(G,W){if(G.ctype)return G.ctype;var K=G.name||"",J=K.match(/\.([^\.]+)$/);return J&&mr[J[1]]||W&&(J=(K=W).match(/[\.\\]([^\.\\])+$/),J&&mr[J[1]])?mr[J[1]]:"application/octet-stream"}function gr(G){for(var W=a2(G),K=[],J=0;J<W.length;J+=76)K.push(W.slice(J,J+76));return K.join(`\r
`)+`\r
`}function Pe(G){var W=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(xe){var ve=xe.charCodeAt(0).toString(16).toUpperCase();return"="+(ve.length==1?"0"+ve:ve)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],J=W.split(`\r
`),ee=0;ee<J.length;++ee){var re=J[ee];if(re.length==0){K.push("");continue}for(var pe=0;pe<re.length;){var Ie=76,me=re.slice(pe,pe+Ie);me.charAt(Ie-1)=="="?Ie--:me.charAt(Ie-2)=="="?Ie-=2:me.charAt(Ie-3)=="="&&(Ie-=3),me=re.slice(pe,pe+Ie),pe+=Ie,pe<re.length&&(me+="="),K.push(me)}}return K.join(`\r
`)}function et(G){for(var W=[],K=0;K<G.length;++K){for(var J=G[K];K<=G.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+G[++K];W.push(J)}for(var ee=0;ee<W.length;++ee)W[ee]=W[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return cs(W.join(`\r
`))}function Ke(G,W,K){for(var J="",ee="",re="",pe,Ie=0;Ie<10;++Ie){var me=W[Ie];if(!me||me.match(/^\s*$/))break;var xe=me.match(/^(.*?):\s*([^\s].*)$/);if(xe)switch(xe[1].toLowerCase()){case"content-location":J=xe[2].trim();break;case"content-type":re=xe[2].trim();break;case"content-transfer-encoding":ee=xe[2].trim();break}}switch(++Ie,ee.toLowerCase()){case"base64":pe=cs(Ci(W.slice(Ie).join("")));break;case"quoted-printable":pe=et(W.slice(Ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var ve=pn(G,J.slice(K.length),pe,{unsafe:!0});re&&(ve.ctype=re)}function ot(G,W){if(ie(G.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=W&&W.root||"",J=(Lt&&Buffer.isBuffer(G)?G.toString("binary"):ie(G)).split(`\r
`),ee=0,re="";for(ee=0;ee<J.length;++ee)if(re=J[ee],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),K||(K=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),re.slice(0,K.length)!=K););var pe=(J[1]||"").match(/boundary="(.*?)"/);if(!pe)throw new Error("MAD cannot find boundary");var Ie="--"+(pe[1]||""),me=[],xe=[],ve={FileIndex:me,FullPaths:xe};N(ve);var Be,He=0;for(ee=0;ee<J.length;++ee){var je=J[ee];je!==Ie&&je!==Ie+"--"||(He++&&Ke(ve,J.slice(Be,ee),K),Be=ee)}return ve}function Ut(G,W){var K=W||{},J=K.boundary||"SheetJS";J="------="+J;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],re=G.FullPaths[0],pe=re,Ie=G.FileIndex[0],me=1;me<G.FullPaths.length;++me)if(pe=G.FullPaths[me].slice(re.length),Ie=G.FileIndex[me],!(!Ie.size||!Ie.content||pe=="Sh33tJ5")){pe=pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xe){return"_x"+Xe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xe){return"_u"+Xe.charCodeAt(0).toString(16)+"_"});for(var xe=Ie.content,ve=Lt&&Buffer.isBuffer(xe)?xe.toString("binary"):ie(xe),Be=0,He=Math.min(1024,ve.length),je=0,Ue=0;Ue<=He;++Ue)(je=ve.charCodeAt(Ue))>=32&&je<128&&++Be;var $e=Be>=He*4/5;ee.push(J),ee.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+pe),ee.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),ee.push("Content-Type: "+wn(Ie,pe)),ee.push(""),ee.push($e?Pe(ve):gr(ve))}return ee.push(J+`--\r
`),ee.join(`\r
`)}function Jt(G){var W={};return N(W,G),W}function pn(G,W,K,J){var ee=J&&J.unsafe;ee||N(G);var re=!ee&&zt.find(G,W);if(!re){var pe=G.FullPaths[0];W.slice(0,pe.length)==pe?pe=W:(pe.slice(-1)!="/"&&(pe+="/"),pe=(pe+W).replace("//","/")),re={name:i(W),type:2},G.FileIndex.push(re),G.FullPaths.push(pe),ee||zt.utils.cfb_gc(G)}return re.content=K,re.size=K?K.length:0,J&&(J.CLSID&&(re.clsid=J.CLSID),J.mt&&(re.mt=J.mt),J.ct&&(re.ct=J.ct)),re}function vr(G,W){N(G);var K=zt.find(G,W);if(K){for(var J=0;J<G.FileIndex.length;++J)if(G.FileIndex[J]==K)return G.FileIndex.splice(J,1),G.FullPaths.splice(J,1),!0}return!1}function xr(G,W,K){N(G);var J=zt.find(G,W);if(J){for(var ee=0;ee<G.FileIndex.length;++ee)if(G.FileIndex[ee]==J)return G.FileIndex[ee].name=i(K),G.FullPaths[ee]=K,!0}return!1}function yr(G){b(G,!0)}return e.find=M,e.read=j,e.parse=h,e.write=Le,e.writeFile=Re,e.utils={cfb_new:Jt,cfb_add:pn,cfb_del:vr,cfb_mov:xr,cfb_gc:yr,ReadShift:vf,CheckField:Ib,prep_blob:Cr,bconcat:io,use_zlib:z,_deflateRaw:ht,_inflateRaw:Ji,consts:oe},e})();function XO(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ls(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function F1(t){for(var e=[],n=Ls(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var N0=new Date(1899,11,30,0,0,0);function ti(t,e){var n=t.getTime(),r=N0.getTime()+(t.getTimezoneOffset()-N0.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var ob=new Date,QO=N0.getTime()+(ob.getTimezoneOffset()-N0.getTimezoneOffset())*6e4,m2=ob.getTimezoneOffset();function hp(t){var e=new Date;return e.setTime(t*24*60*60*1e3+QO),e.getTimezoneOffset()!==m2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-m2)*6e4),e}function e5(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var g2=new Date("2017-02-19T19:06:09.000Z"),lb=isNaN(g2.getFullYear())?new Date("2/19/17"):g2,t5=lb.getFullYear()==2017;function dr(t,e){var n=new Date(t);if(t5)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(lb.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function hl(t,e){if(Lt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return cf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return cf(YC(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return cf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return cf(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Ir(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ir(t[n]));return e}function Mn(t,e){for(var n="";n.length<e;)n+=t;return n}function hs(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var n5=["january","february","march","april","may","june","july","august","september","october","november","december"];function Uc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&n5.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var r5=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],c=1;c<s.length;++c)o.push(i),o.push(s[c]);return o}})();function cb(t){return t?t.content&&t.type?hl(t.content,!0):t.data?af(t.data):t.asNodeBuffer&&Lt?af(t.asNodeBuffer().toString("binary")):t.asBinary?af(t.asBinary()):t._data&&t._data.getContent?af(hl(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function ub(t){if(!t)return null;if(t.data)return i2(t.data);if(t.asNodeBuffer&&Lt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?i2(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function i5(t){return t&&t.name.slice(-4)===".bin"?ub(t):cb(t)}function zi(t,e){for(var n=t.FullPaths||Ls(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function O1(t,e){var n=zi(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Zn(t,e,n){if(!n)return i5(O1(t,e));if(!e)return null;try{return Zn(t,e)}catch{return null}}function Ai(t,e,n){if(!n)return cb(O1(t,e));if(!e)return null;try{return Ai(t,e)}catch{return null}}function s5(t,e,n){return ub(O1(t,e))}function v2(t){for(var e=t.FullPaths||Ls(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function a5(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Lt?r=_l(n):r=AO(n),zt.utils.cfb_add(t,e,r)}zt.utils.cfb_add(t,e,n)}else t.file(e,n)}function fb(t,e){switch(e.type){case"base64":return zt.read(t,{type:"base64"});case"binary":return zt.read(t,{type:"binary"});case"buffer":case"array":return zt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function lf(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var db=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,o5=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,x2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,l5=/<[^>]*>/g,$r=db.match(x2)?x2:l5,c5=/<\w*:/,u5=/<(\/?)\w+:/;function gt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(o5),c=0,f="",d=0,h="",g="",x=1;if(o)for(d=0;d!=o.length;++d){for(g=o[d],s=0;s!=g.length&&g.charCodeAt(s)!==61;++s);for(h=g.slice(0,s).trim();g.charCodeAt(s+1)==32;)++s;for(x=(i=g.charCodeAt(s+1))==34||i==39?1:0,f=g.slice(s+1+x,g.length-x),c=0;c!=h.length&&h.charCodeAt(c)!==58;++c);if(c===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=f,r[h.toLowerCase()]=f;else{var E=(c===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(c+1);if(r[E]&&h.slice(c-3,c)=="ext")continue;r[E]=f,r[E.toLowerCase()]=f}}return r}function Bs(t){return t.replace(u5,"<$1")}var hb={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},f5=F1(hb),Gt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,f){return hb[c]||String.fromCharCode(parseInt(f,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,f){return String.fromCharCode(parseInt(f,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}})(),d5=/[&<>'"]/g,h5=/[\u0000-\u001f]/g;function L1(t){var e=t+"";return e.replace(d5,function(n){return f5[n]}).replace(/\n/g,"<br/>").replace(h5,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var y2=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function Cn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zg(t){for(var e="",n=0,r=0,i=0,s=0,o=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function _2(t){var e=go(2*t.length),n,r,i=1,s=0,o=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function E2(t){return _l(t,"binary").toString("utf8")}var Hh="foo bar baz",vn=Lt&&(E2(Hh)==zg(Hh)&&E2||_2(Hh)==zg(Hh)&&_2)||zg,cf=Lt?function(t){return _l(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Bf=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),pb=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),p5=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),m5=/<\/?(?:vt:)?variant>/g,g5=/<(?:vt:)([^>]*)>([\s\S]*)</;function T2(t,e){var n=gt(t),r=t.match(p5(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(m5,"").match(g5);o&&i.push({v:vn(o[2]),t:o[1]})}),i}var v5=/(^\s|\s$|\n)/;function x5(t){return Ls(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function y5(t,e,n){return"<"+t+(n!=null?x5(n):"")+(e!=null?(e.match(v5)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function U1(t){if(Lt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return vn(El(D1(t)));throw new Error("Bad input format: expected Buffer or string")}var zf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,_5={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},E5=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function T5(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function w5(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[n+c]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var w2=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},S2=Lt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:_l(e)})):w2(t)}:w2,A2=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(la(t,i)));return r.join("").replace(ei,"")},V1=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(ei,""):A2(t,e,n)}:A2,C2=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},mb=Lt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):C2(t,e,n)}:C2,b2=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(mc(t,i)));return r.join("")},od=Lt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):b2(e,n,r)}:b2,gb=function(t,e){var n=wi(t,e);return n>0?od(t,e+4,e+4+n-1):""},vb=gb,xb=function(t,e){var n=wi(t,e);return n>0?od(t,e+4,e+4+n-1):""},yb=xb,_b=function(t,e){var n=2*wi(t,e);return n>0?od(t,e+4,e+4+n-1):""},Eb=_b,Tb=function(e,n){var r=wi(e,n);return r>0?V1(e,n+4,n+4+r):""},wb=Tb,Sb=function(t,e){var n=wi(t,e);return n>0?od(t,e+4,e+4+n):""},Ab=Sb,Cb=function(t,e){return T5(t,e)},R0=Cb,bb=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Lt&&(vb=function(e,n){if(!Buffer.isBuffer(e))return gb(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},yb=function(e,n){if(!Buffer.isBuffer(e))return xb(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},Eb=function(e,n){if(!Buffer.isBuffer(e))return _b(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},wb=function(e,n){if(!Buffer.isBuffer(e))return Tb(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},Ab=function(e,n){if(!Buffer.isBuffer(e))return Sb(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},R0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):Cb(e,n)},bb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var mc=function(t,e){return t[e]},la=function(t,e){return t[e+1]*256+t[e]},S5=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},wi=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},tl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},A5=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function vf(t,e){var n="",r,i,s=[],o,c,f,d;switch(e){case"dbcs":if(d=this.l,Lt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(la(this,d)),d+=2;t*=2;break;case"utf8":n=od(this,this.l,this.l+t);break;case"utf16le":t*=2,n=V1(this,this.l,this.l+t);break;case"wstr":return vf.call(this,t,"dbcs");case"lpstr-ansi":n=vb(this,this.l),t=4+wi(this,this.l);break;case"lpstr-cp":n=yb(this,this.l),t=4+wi(this,this.l);break;case"lpwstr":n=Eb(this,this.l),t=4+2*wi(this,this.l);break;case"lpp4":t=4+wi(this,this.l),n=wb(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+wi(this,this.l),n=Ab(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=mc(this,this.l+t++))!==0;)s.push(zh(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=la(this,this.l+t))!==0;)s.push(zh(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",d=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=mc(this,d),this.l=d+1,c=vf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(zh(la(this,d))),d+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return o=mc(this,d),this.l=d+1,c=vf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(zh(mc(this,d))),d+=1}n=s.join("");break;default:switch(t){case 1:return r=mc(this,this.l),this.l++,r;case 2:return r=(e==="i"?S5:la)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?tl:A5)(this,this.l),this.l+=4,r):(i=wi(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=R0(this,this.l):i=R0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=mb(this,this.l,t);break}}return this.l+=t,n}var C5=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},b5=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},I5=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function N5(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)I5(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,C5(this,e,this.l);break;case 8:if(r=8,n==="f"){w5(this,e,this.l);break}case 16:break;case-4:r=4,b5(this,e,this.l);break}return this.l+=r,this}function Ib(t,e){var n=mb(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Cr(t,e){t.l=e,t.read_shift=vf,t.chk=Ib,t.write_shift=N5}function qr(t,e){t.l+=e}function nr(t){var e=go(t);return Cr(e,0),e}function ya(t,e,n){if(t){var r,i,s;Cr(t,t.l||0);for(var o=t.length,c=0,f=0;t.l<o;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=O0[c]||O0[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;f=t.l+s;var h=d.f&&d.f(t,s,n);if(t.l=f,e(h,d,c))return}}}function _v(){var t=[],e=Lt?256:2048,n=function(d){var h=nr(d);return Cr(h,0),h},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=n(Math.max(d+1,e)))},o=function(){return i(),io(t)},c=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:o,_bufs:t}}function xf(t,e,n){var r=Ir(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function I2(t,e,n){var r=Ir(t);return r.s=xf(r.s,e.s,n),r.e=xf(r.e,e.s,n),r}function yf(t,e){if(t.cRel&&t.c<0)for(t=Ir(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ir(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Et(t);return!t.cRel&&t.cRel!=null&&(n=D5(n)),!t.rRel&&t.rRel!=null&&(n=R5(n)),n}function Hg(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ir(t.s.c)+":"+(t.e.cRel?"":"$")+ir(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Nr(t.s.r)+":"+(t.e.rRel?"":"$")+Nr(t.e.r):yf(t.s,e.biff)+":"+yf(t.e,e.biff)}function B1(t){return parseInt(k5(t),10)-1}function Nr(t){return""+(t+1)}function R5(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function k5(t){return t.replace(/\$(\d+)$/,"$1")}function z1(t){for(var e=M5(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ir(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function D5(t){return t.replace(/^([A-Z])/,"$$$1")}function M5(t){return t.replace(/^\$([A-Z])/,"$1")}function P5(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Et(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Kc(t){var e=t.indexOf(":");return e==-1?{s:Qr(t),e:Qr(t)}:{s:Qr(t.slice(0,e)),e:Qr(t.slice(e+1))}}function Ht(t,e){return typeof e>"u"||typeof e=="number"?Ht(t.s,t.e):(typeof t!="string"&&(t=Et(t)),typeof e!="string"&&(e=Et(e)),t==e?t:t+":"+e)}function Pn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function N2(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=$i(t.z,n?ti(e):e)}catch{}try{return t.w=$i((t.XF||{}).numFmtId||(n?14:0),n?ti(e):e)}catch{return""+e}}function pa(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Sl[t.v]||t.v:e==null?N2(t,t.v):N2(t,e))}function Co(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function Nb(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),o=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Qr(r.origin):r.origin;o=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Pn(s["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(d.e.r=o=h.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var x=0;x!=e[g].length;++x)if(!(typeof e[g][x]>"u")){var E={v:e[g][x]},S=o+g,A=c+x;if(d.s.r>S&&(d.s.r=S),d.s.c>A&&(d.s.c=A),d.e.r<S&&(d.e.r=S),d.e.c<A&&(d.e.c=A),e[g][x]&&typeof e[g][x]=="object"&&!Array.isArray(e[g][x])&&!(e[g][x]instanceof Date))E=e[g][x];else if(Array.isArray(E.v)&&(E.f=e[g][x][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(r.nullError)E.t="e",E.v=0;else if(r.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=r.dateNF||At[14],r.cellDates?(E.t="d",E.w=$i(E.z,ti(E.v))):(E.t="n",E.v=ti(E.v),E.w=$i(E.z,E.v))):E.t="s";if(i)s[S]||(s[S]=[]),s[S][A]&&s[S][A].z&&(E.z=s[S][A].z),s[S][A]=E;else{var C=Et({c:A,r:S});s[C]&&s[C].z&&(E.z=s[C].z),s[C]=E}}}return d.s.c<1e7&&(s["!ref"]=Ht(d)),s}function Yc(t,e){return Nb(null,t,e)}function F5(t){return t.read_shift(4,"i")}function Gr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function O5(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function H1(t,e){var n=t.l,r=t.read_shift(1),i=Gr(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),f=0;f!=c;++f)s.push(O5(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var L5=H1;function Yi(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Tl(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var U5=Gr;function G1(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var V5=Gr,Ev=G1;function q1(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?R0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):tl(e,0)>>2;return n?i/100:i}function Rb(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var wl=Rb;function Br(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function B5(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),c=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=al[i];d&&(e.rgb=Gf(d));break;case 2:e.rgb=Gf([o,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function z5(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function kb(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function H5(t){return kb(t,1)}function G5(t){return kb(t,2)}var $1=2,fi=3,Gh=11,R2=12,k0=19,qh=64,q5=65,$5=71,j5=4108,K5=4126,cr=80,Db=81,Y5=[cr,Db],J5={1:{n:"CodePage",t:$1},2:{n:"Category",t:cr},3:{n:"PresentationFormat",t:cr},4:{n:"ByteCount",t:fi},5:{n:"LineCount",t:fi},6:{n:"ParagraphCount",t:fi},7:{n:"SlideCount",t:fi},8:{n:"NoteCount",t:fi},9:{n:"HiddenCount",t:fi},10:{n:"MultimediaClipCount",t:fi},11:{n:"ScaleCrop",t:Gh},12:{n:"HeadingPairs",t:j5},13:{n:"TitlesOfParts",t:K5},14:{n:"Manager",t:cr},15:{n:"Company",t:cr},16:{n:"LinksUpToDate",t:Gh},17:{n:"CharacterCount",t:fi},19:{n:"SharedDoc",t:Gh},22:{n:"HyperlinksChanged",t:Gh},23:{n:"AppVersion",t:fi,p:"version"},24:{n:"DigSig",t:q5},26:{n:"ContentType",t:cr},27:{n:"ContentStatus",t:cr},28:{n:"Language",t:cr},29:{n:"Version",t:cr},255:{},2147483648:{n:"Locale",t:k0},2147483651:{n:"Behavior",t:k0},1919054434:{}},W5={1:{n:"CodePage",t:$1},2:{n:"Title",t:cr},3:{n:"Subject",t:cr},4:{n:"Author",t:cr},5:{n:"Keywords",t:cr},6:{n:"Comments",t:cr},7:{n:"Template",t:cr},8:{n:"LastAuthor",t:cr},9:{n:"RevNumber",t:cr},10:{n:"EditTime",t:qh},11:{n:"LastPrinted",t:qh},12:{n:"CreatedDate",t:qh},13:{n:"ModifiedDate",t:qh},14:{n:"PageCount",t:fi},15:{n:"WordCount",t:fi},16:{n:"CharCount",t:fi},17:{n:"Thumbnail",t:$5},18:{n:"Application",t:cr},19:{n:"DocSecurity",t:fi},255:{},2147483648:{n:"Locale",t:k0},2147483651:{n:"Behavior",t:k0},1919054434:{}},k2={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Z5=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function X5(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Q5=X5([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),al=Ir(Q5),Sl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Mb={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},D2={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function eL(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function tL(t){var e=eL();if(!t||!t.match)return e;var n={};if((t.match($r)||[]).forEach(function(r){var i=gt(r);switch(i[0].replace(c5,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[D2[i.ContentType]]!==void 0&&e[D2[i.ContentType]].push(i.PartName);break}}),e.xmlns!==_5.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Tc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Tv(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _f(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match($r)||[]).forEach(function(i){var s=gt(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:lf(s.Target,e);n[c]=o,r[s.Id]=o}}),n["!id"]=r,n}var nL="application/vnd.oasis.opendocument.spreadsheet";function rL(t,e){for(var n=U1(t),r,i;r=zf.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=gt(r[0],!1),i.path=="/"&&i.type!==nL)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Ef=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],iL=(function(){for(var t=new Array(Ef.length),e=0;e<Ef.length;++e){var n=Ef[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function Pb(t){var e={};t=vn(t);for(var n=0;n<Ef.length;++n){var r=Ef[n],i=t.match(iL[n]);i!=null&&i.length>0&&(e[r[1]]=Gt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=dr(e[r[1]]))}return e}var sL=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Fb(t,e,n,r){var i=[];if(typeof t=="string")i=T2(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(h){return{v:h}}));var o=typeof e=="string"?T2(e,r).map(function(h){return h.v}):e,c=0,f=0;if(o.length>0)for(var d=0;d!==i.length;d+=2){switch(f=+i[d+1].v,i[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=o.slice(c,c+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=f,n.DefinedNames=o.slice(c,c+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=o.slice(c,c+f);break}c+=f}}function aL(t,e,n){var r={};return e||(e={}),t=vn(t),sL.forEach(function(i){var s=(t.match(Bf(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Gt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Fb(r.HeadingPairs,r.TitlesOfParts,e,n),e}var oL=/<[^>]+>[^<]*/g;function lL(t,e){var n={},r="",i=t.match(oL);if(i)for(var s=0;s!=i.length;++s){var o=i[s],c=gt(o);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Gt(c.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var f=o.split(">"),d=f[0].slice(4),h=f[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[r]=Gt(h);break;case"bool":n[r]=Cn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=dr(h);break;case"cy":case"error":n[r]=Gt(h);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,d,f)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}var cL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Gg;function uL(t,e,n){Gg||(Gg=F1(cL)),e=Gg[e]||e,t[e]=n}function j1(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Ob(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function Lb(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function Ub(t,e,n){return e===31?Lb(t):Ob(t,e,n)}function wv(t,e,n){return Ub(t,e,n===!1?0:4)}function fL(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Ub(t,e,0)}function dL(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(ei,""),t.l-i&2&&(t.l+=2)}return n}function hL(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(ei,"");return n}function pL(t){var e=t.l,n=D0(t,Db);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=D0(t,fi);return[n,r]}function mL(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(pL(t));return n}function M2(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(ei,"").replace(of,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function Vb(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function gL(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function D0(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==R2&&r!==e&&Y5.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===R2?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return Ob(t,r,4).replace(ei,"");case 31:return Lb(t);case 64:return j1(t);case 65:return Vb(t);case 71:return gL(t);case 80:return wv(t,r,!s.raw).replace(ei,"");case 81:return fL(t,r).replace(ei,"");case 4108:return mL(t);case 4126:case 4127:return r==4127?dL(t):hL(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function P2(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,c=0,f=-1,d={};for(o=0;o!=i;++o){var h=t.read_shift(4),g=t.read_shift(4);s[o]=[h,g+n]}s.sort(function(V,D){return V[1]-D[1]});var x={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var E=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,E=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],E=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],E=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(E=!1,t.l=s[o][1]),E)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var S=e[s[o][0]];if(x[S.n]=D0(t,S.t,{raw:!0}),S.p==="version"&&(x[S.n]=String(x[S.n]>>16)+"."+("0000"+String(x[S.n]&65535)).slice(-4)),S.n=="CodePage")switch(x[S.n]){case 0:x[S.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:us(c=x[S.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+x[S.n])}}else if(s[o][0]===1){if(c=x.CodePage=D0(t,$1),us(c),f!==-1){var A=t.l;t.l=s[f][1],d=M2(t,c),t.l=A}}else if(s[o][0]===0){if(c===0){f=o,t.l=s[o+1][1];continue}d=M2(t,c)}else{var C=d[s[o][0]],O;switch(t[t.l]){case 65:t.l+=4,O=Vb(t);break;case 30:t.l+=4,O=wv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,O=wv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,O=t.read_shift(4,"i");break;case 19:t.l+=4,O=t.read_shift(4);break;case 5:t.l+=4,O=t.read_shift(8,"f");break;case 11:t.l+=4,O=Un(t,4);break;case 64:t.l+=4,O=dr(j1(t));break;default:throw new Error("unparsed value: "+t[t.l])}x[C]=O}}return t.l=n+r,x}function F2(t,e,n){var r=t.content;if(!r)return{};Cr(r,0);var i,s,o,c,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),h=r.read_shift(16);if(h!==zt.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),c=r.read_shift(4),i===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);i===2&&(o=r.read_shift(16),f=r.read_shift(4));var g=P2(r,e),x={SystemIdentifier:d};for(var E in g)x[E]=g[E];if(x.FMTID=s,i===1)return x;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var S;try{S=P2(r,null)}catch{}for(E in S)x[E]=S[E];return x.FMTID=[s,o],x}function to(t,e){return t.read_shift(e),null}function vL(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Un(t,e){return t.read_shift(e)===1}function Xn(t){return t.read_shift(2,"u")}function Bb(t,e){return vL(t,e,Xn)}function xL(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function ld(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function yL(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,c,f={};i&&(o=t.read_shift(2)),r&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,d);return i&&(t.l+=4*o),r&&(t.l+=c),f.t=h,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function pl(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function cd(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):pl(t,r,n)}function Al(t,e,n){if(n.biff>5)return cd(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function _L(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function EL(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(ei,"");return r&&(t.l+=24),i}function TL(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(ei,"");return n+o}function wL(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return EL(t);case"0303000000000000c000000000000046":return TL(t);default:throw new Error("Unsupported Moniker "+n)}}function $h(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(ei,""):"";return n}function SL(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,c,f,d="",h,g;i&16&&(s=$h(t,n-t.l)),i&128&&(o=$h(t,n-t.l)),(i&257)===257&&(c=$h(t,n-t.l)),(i&257)===1&&(f=wL(t,n-t.l)),i&8&&(d=$h(t,n-t.l)),i&32&&(h=t.read_shift(16)),i&64&&(g=j1(t)),t.l=n;var x=o||c||f||"";x&&d&&(x+="#"+d),x||(x="#"+d),i&2&&x.charAt(0)=="/"&&x.charAt(1)!="/"&&(x="file://"+x);var E={Target:x};return h&&(E.guid=h),g&&(E.time=g),s&&(E.Tooltip=s),E}function zb(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function Hb(t,e){var n=zb(t);return n[3]=0,n}function zs(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function AL(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function CL(t,e,n){return e===0?"":Al(t,e,n)}function bL(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function Gb(t){var e=t.read_shift(2),n=q1(t);return[e,n]}function IL(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=ld(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function pp(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function qb(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var NL=qb;function $b(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function RL(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function kL(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Fr(t){t.l+=2,t.l+=t.read_shift(2)}var DL={0:Fr,4:Fr,5:Fr,6:Fr,7:kL,8:Fr,9:Fr,10:Fr,11:Fr,12:Fr,13:RL,14:Fr,15:Fr,16:Fr,17:Fr,18:Fr,19:Fr,20:Fr,21:$b};function ML(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(DL[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function jh(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function PL(t,e){return e===0||t.read_shift(2),1200}function FL(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Al(t,0,n);return t.read_shift(e+r-t.l),i}function OL(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function LL(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=ld(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function UL(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(yL(t));return s.Count=r,s.Unique=i,s}function VL(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function BL(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function zL(t){var e=AL(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function HL(t){return t.read_shift(2),t.read_shift(4)}function O2(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function GL(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:c,Selected:f,TabRatio:d}}function qL(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function $L(){}function jL(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=ld(t,0,n),r}function KL(t){var e=zs(t);return e.isst=t.read_shift(4),e}function YL(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=zs(t);n.biff==2&&t.l++;var s=cd(t,r-t.l,n);return i.val=s,i}function JL(t,e,n){var r=t.read_shift(2),i=Al(t,0,n);return[r,i]}var WL=Al;function L2(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),c=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:s,c},e:{r:o,c:f}}}function ZL(t){var e=t.read_shift(2),n=t.read_shift(2),r=Gb(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function XL(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(Gb(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function QL(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function e8(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),c=t.read_shift(4),f=t.read_shift(2);return i.patternType=Z5[c>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=f&127,i.icvBack=f>>7&127,i.fsxButton=f>>14&1),i}function t8(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=e8(t,e,r.fStyle,n),r}function n8(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function U2(t,e,n){var r=zs(t);(n.biff==2||e==9)&&++t.l;var i=xL(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function r8(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=zs(t),i=Br(t);return r.val=i,r}var V2=CL;function i8(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=pl(t,s),c=[];r>t.l;)c.push(cd(t));return[s,i,o,c]}function B2(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=IL(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var s8=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function z2(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),c=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var d=pl(t,o,n);i&32&&(d=s8[d.charCodeAt(0)]);var h=r-t.l;n&&n.biff==2&&--h;var g=r==t.l||c===0||!(h>0)?[]:BV(t,h,n,c);return{chKey:s,Name:d,itab:f,rgce:g}}function jb(t,e,n){if(n.biff<8)return a8(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(bL(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function a8(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=ld(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function o8(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=pl(t,r,n),o=pl(t,i,n);return[s,o]}function l8(t,e,n){var r=qb(t);t.l++;var i=t.read_shift(1);return e-=8,[zV(t,e,n),i,r]}function H2(t,e,n){var r=NL(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,UV(t,e,n)]}function c8(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function u8(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),c=Al(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},c,o,s]}}function f8(t,e,n){return u8(t,e,n)}function d8(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(pp(t));return n}function h8(t,e,n){if(n&&n.biff<8)return m8(t,e,n);var r=$b(t),i=ML(t,e-22,r[1]);return{cmo:r,ft:i}}var p8={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function m8(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((p8[r]||qr)(t,e,n)),{cmo:[i,r,s],ft:o}}function g8(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=_L(t,6,n);var c=t.read_shift(2);t.read_shift(2),Xn(t,2);var f=t.read_shift(2);t.l+=f;for(var d=1;d<t.lens.length-1;++d){if(t.l-r!=t.lens[d])throw new Error("TxO: bad continue record");var h=t[t.l],g=pl(t,t.lens[d+1]-t.lens[d]-1);if(i+=g,i.length>=(h?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function v8(t,e){var n=pp(t);t.l+=16;var r=SL(t,e-24);return[n,r]}function x8(t,e){t.read_shift(2);var n=pp(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(ei,""),[n,r]}function y8(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=k2[n]||n,n=t.read_shift(2),e[1]=k2[n]||n,e}function _8(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Hb(t));return n}function E8(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Hb(t));return n}function T8(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function Kb(t,e,n){if(!n.cellStyles)return qr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),c=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var d={s:i,e:s,w:o,ixfe:c,flags:f};return(n.biff>=5||!n.biff)&&(d.level=f>>8&7),d}function w8(t,e){var n={};return e<32||(t.l+=16,n.header=Br(t),n.footer=Br(t),t.l+=2),n}function S8(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var A8=zs,C8=Bb,b8=cd;function I8(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function N8(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=zs(t);++t.l;var i=Al(t,e-7,n);return r.t="str",r.val=i,r}function R8(t){var e=zs(t);++t.l;var n=Br(t);return e.t="n",e.val=n,e}function k8(t){var e=zs(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function D8(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function M8(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function P8(t,e,n){var r=t.l+e,i=zs(t),s=t.read_shift(2),o=pl(t,s,n);return t.l=r,i.t="str",i.val=o,i}var F8=[2,3,48,49,131,139,140,245],G2=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=F1({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,f){var d=[],h=go(1);switch(f.type){case"base64":h=cs(Ci(c));break;case"binary":h=cs(c);break;case"buffer":case"array":h=c;break}Cr(h,0);var g=h.read_shift(1),x=!!(g&136),E=!1,S=!1;switch(g){case 2:break;case 3:break;case 48:E=!0,x=!0;break;case 49:E=!0,x=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var A=0,C=521;g==2&&(A=h.read_shift(2)),h.l+=3,g!=2&&(A=h.read_shift(4)),A>1048576&&(A=1e6),g!=2&&(C=h.read_shift(2));var O=h.read_shift(2),V=f.codepage||1252;g!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(V=t[h[h.l]]),h.l+=1,h.l+=2),S&&(h.l+=36);for(var D=[],H={},B=Math.min(h.length,g==2?521:C-10-(E?264:0)),j=S?32:11;h.l<B&&h[h.l]!=13;)switch(H={},H.name=Uf.utils.decode(V,h.slice(h.l,h.l+j)).replace(/[\u0000\r\n].*$/g,""),h.l+=j,H.type=String.fromCharCode(h.read_shift(1)),g!=2&&!S&&(H.offset=h.read_shift(4)),H.len=h.read_shift(1),g==2&&(H.offset=h.read_shift(2)),H.dec=h.read_shift(1),H.name.length&&D.push(H),g!=2&&(h.l+=S?13:14),H.type){case"B":(!E||H.len!=8)&&f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+H.name+":"+H.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+H.type)}if(h[h.l]!==13&&(h.l=C-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=C;var N=0,I=0;for(d[0]=[],I=0;I!=D.length;++I)d[0][I]=D[I].name;for(;A-- >0;){if(h[h.l]===42){h.l+=O;continue}for(++h.l,d[++N]=[],I=0,I=0;I!=D.length;++I){var b=h.slice(h.l,h.l+D[I].len);h.l+=D[I].len,Cr(b,0);var F=Uf.utils.decode(V,b);switch(D[I].type){case"C":F.trim().length&&(d[N][I]=F.replace(/\s+$/,""));break;case"D":F.length===8?d[N][I]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):d[N][I]=F;break;case"F":d[N][I]=parseFloat(F.trim());break;case"+":case"I":d[N][I]=S?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":d[N][I]=!0;break;case"N":case"F":d[N][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!x)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));d[N][I]="##MEMO##"+(S?parseInt(F.trim(),10):b.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(d[N][I]=+F||0);break;case"@":d[N][I]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":d[N][I]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":d[N][I]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[N][I]=-b.read_shift(-8,"f");break;case"B":if(E&&D[I].len==8){d[N][I]=b.read_shift(8,"f");break}case"G":case"P":b.l+=D[I].len;break;case"0":if(D[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+D[I].type)}}}if(g!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=D,d}function r(c,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Yc(n(c,d),d);return h["!cols"]=d.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete d.DBF,h}function i(c,f){try{return Co(r(c,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,f){var d=f||{};if(+d.codepage>=0&&us(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=_v(),g=Nv(c,{header:1,raw:!0,cellDates:!0}),x=g[0],E=g.slice(1),S=c["!cols"]||[],A=0,C=0,O=0,V=1;for(A=0;A<x.length;++A){if(((S[A]||{}).DBF||{}).name){x[A]=S[A].DBF.name,++O;continue}if(x[A]!=null){if(++O,typeof x[A]=="number"&&(x[A]=x[A].toString(10)),typeof x[A]!="string")throw new Error("DBF Invalid column name "+x[A]+" |"+typeof x[A]+"|");if(x.indexOf(x[A])!==A){for(C=0;C<1024;++C)if(x.indexOf(x[A]+"_"+C)==-1){x[A]+="_"+C;break}}}}var D=Pn(c["!ref"]),H=[],B=[],j=[];for(A=0;A<=D.e.c-D.s.c;++A){var N="",I="",b=0,F=[];for(C=0;C<E.length;++C)E[C][A]!=null&&F.push(E[C][A]);if(F.length==0||x[A]==null){H[A]="?";continue}for(C=0;C<F.length;++C){switch(typeof F[C]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=F[C]instanceof Date?"D":"C";break;default:I="C"}b=Math.max(b,String(F[C]).length),N=N&&N!=I?"C":I}b>250&&(b=250),I=((S[A]||{}).DBF||{}).type,I=="C"&&S[A].DBF.len>b&&(b=S[A].DBF.len),N=="B"&&I=="N"&&(N="N",j[A]=S[A].DBF.dec,b=S[A].DBF.len),B[A]=N=="C"||I=="N"?b:s[N]||0,V+=B[A],H[A]=N}var M=h.next(32);for(M.write_shift(4,318902576),M.write_shift(4,E.length),M.write_shift(2,296+32*O),M.write_shift(2,V),A=0;A<4;++A)M.write_shift(4,0);for(M.write_shift(4,0|(+e[jC]||3)<<8),A=0,C=0;A<x.length;++A)if(x[A]!=null){var k=h.next(32),U=(x[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,U,"sbcs"),k.write_shift(1,H[A]=="?"?"C":H[A],"sbcs"),k.write_shift(4,C),k.write_shift(1,B[A]||s[H[A]]||0),k.write_shift(1,j[A]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),C+=B[A]||s[H[A]]||0}var Te=h.next(264);for(Te.write_shift(4,13),A=0;A<65;++A)Te.write_shift(4,0);for(A=0;A<E.length;++A){var ye=h.next(V);for(ye.write_shift(1,0),C=0;C<x.length;++C)if(x[C]!=null)switch(H[C]){case"L":ye.write_shift(1,E[A][C]==null?63:E[A][C]?84:70);break;case"B":ye.write_shift(8,E[A][C]||0,"f");break;case"N":var ae="0";for(typeof E[A][C]=="number"&&(ae=E[A][C].toFixed(j[C]||0)),O=0;O<B[C]-ae.length;++O)ye.write_shift(1,32);ye.write_shift(1,ae,"sbcs");break;case"D":E[A][C]?(ye.write_shift(4,("0000"+E[A][C].getFullYear()).slice(-4),"sbcs"),ye.write_shift(2,("00"+(E[A][C].getMonth()+1)).slice(-2),"sbcs"),ye.write_shift(2,("00"+E[A][C].getDate()).slice(-2),"sbcs")):ye.write_shift(8,"00000000","sbcs");break;case"C":var oe=String(E[A][C]!=null?E[A][C]:"").slice(0,B[C]);for(ye.write_shift(1,oe,"sbcs"),O=0;O<B[C]-oe.length;++O)ye.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),O8=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ls(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(x,E){var S=t[E];return typeof S=="number"?s2(S):S},r=function(x,E,S){var A=E.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return A==59?x:s2(A)};t["|"]=254;function i(x,E){switch(E.type){case"base64":return s(Ci(x),E);case"binary":return s(x,E);case"buffer":return s(Lt&&Buffer.isBuffer(x)?x.toString("binary"):El(x),E);case"array":return s(hl(x),E)}throw new Error("Unrecognized type "+E.type)}function s(x,E){var S=x.split(/[\n\r]+/),A=-1,C=-1,O=0,V=0,D=[],H=[],B=null,j={},N=[],I=[],b=[],F=0,M;for(+E.codepage>=0&&us(+E.codepage);O!==S.length;++O){F=0;var k=S[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=k.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),Te=U[0],ye;if(k.length>0)switch(Te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&H.push(k.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,oe=!1,Re=!1,ie=!1,Le=-1,Z=-1;for(V=1;V<U.length;++V)switch(U[V].charAt(0)){case"A":break;case"X":C=parseInt(U[V].slice(1))-1,oe=!0;break;case"Y":for(A=parseInt(U[V].slice(1))-1,oe||(C=0),M=D.length;M<=A;++M)D[M]=[];break;case"K":ye=U[V].slice(1),ye.charAt(0)==='"'?ye=ye.slice(1,ye.length-1):ye==="TRUE"?ye=!0:ye==="FALSE"?ye=!1:isNaN(hs(ye))?isNaN(Uc(ye).getDate())||(ye=dr(ye)):(ye=hs(ye),B!==null&&jc(B)&&(ye=hp(ye))),ae=!0;break;case"E":ie=!0;var z=Rc(U[V].slice(1),{r:A,c:C});D[A][C]=[D[A][C],z];break;case"S":Re=!0,D[A][C]=[D[A][C],"S5S"];break;case"G":break;case"R":Le=parseInt(U[V].slice(1))-1;break;case"C":Z=parseInt(U[V].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+k)}if(ae&&(D[A][C]&&D[A][C].length==2?D[A][C][0]=ye:D[A][C]=ye,B=null),Re){if(ie)throw new Error("SYLK shared formula cannot have own formula");var Q=Le>-1&&D[Le][Z];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");D[A][C][1]=rI(Q[1],{r:A-Le,c:C-Z})}break;case"F":var te=0;for(V=1;V<U.length;++V)switch(U[V].charAt(0)){case"X":C=parseInt(U[V].slice(1))-1,++te;break;case"Y":for(A=parseInt(U[V].slice(1))-1,M=D.length;M<=A;++M)D[M]=[];break;case"M":F=parseInt(U[V].slice(1))/20;break;case"F":break;case"G":break;case"P":B=H[parseInt(U[V].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=U[V].slice(1).split(" "),M=parseInt(b[0],10);M<=parseInt(b[1],10);++M)F=parseInt(b[2],10),I[M-1]=F===0?{hidden:!0}:{wch:F},Vc(I[M-1]);break;case"C":C=parseInt(U[V].slice(1))-1,I[C]||(I[C]={});break;case"R":A=parseInt(U[V].slice(1))-1,N[A]||(N[A]={}),F>0?(N[A].hpt=F,N[A].hpx=qf(F)):F===0&&(N[A].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+k)}te<1&&(B=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+k)}}return N.length>0&&(j["!rows"]=N),I.length>0&&(j["!cols"]=I),E&&E.sheetRows&&(D=D.slice(0,E.sheetRows)),[D,j]}function o(x,E){var S=i(x,E),A=S[0],C=S[1],O=Yc(A,E);return Ls(C).forEach(function(V){O[V]=C[V]}),O}function c(x,E){return Co(o(x,E),E)}function f(x,E,S,A){var C="C;Y"+(S+1)+";X"+(A+1)+";K";switch(x.t){case"n":C+=x.v||0,x.f&&!x.F&&(C+=";E"+T9(x.f,{r:S,c:A}));break;case"b":C+=x.v?"TRUE":"FALSE";break;case"e":C+=x.w||x.v;break;case"d":C+='"'+(x.w||x.v)+'"';break;case"s":C+='"'+x.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function d(x,E){E.forEach(function(S,A){var C="F;W"+(A+1)+" "+(A+1)+" ";S.hidden?C+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=P0(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=F0(S.wpx)),typeof S.wch=="number"&&(C+=Math.round(S.wch))),C.charAt(C.length-1)!=" "&&x.push(C)})}function h(x,E){E.forEach(function(S,A){var C="F;";S.hidden?C+="M0;":S.hpt?C+="M"+20*S.hpt+";":S.hpx&&(C+="M"+20*eI(S.hpx)+";"),C.length>2&&x.push(C+"R"+(A+1))})}function g(x,E){var S=["ID;PWXL;N;E"],A=[],C=Pn(x["!ref"]),O,V=Array.isArray(x),D=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),x["!cols"]&&d(S,x["!cols"]),x["!rows"]&&h(S,x["!rows"]),S.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var H=C.s.r;H<=C.e.r;++H)for(var B=C.s.c;B<=C.e.c;++B){var j=Et({r:H,c:B});O=V?(x[H]||[])[B]:x[j],!(!O||O.v==null&&(!O.f||O.F))&&A.push(f(O,x,H,B))}return S.join(D)+D+A.join(D)+D+"E"+D}return{to_workbook:c,to_sheet:o,from_sheet:g}})(),L8=(function(){function t(s,o){switch(o.type){case"base64":return e(Ci(s),o);case"binary":return e(s,o);case"buffer":return e(Lt&&Buffer.isBuffer(s)?s.toString("binary"):El(s),o);case"array":return e(hl(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),f=-1,d=-1,h=0,g=[];h!==c.length;++h){if(c[h].trim()==="BOT"){g[++f]=[],d=0;continue}if(!(f<0)){var x=c[h].trim().split(","),E=x[0],S=x[1];++h;for(var A=c[h]||"";(A.match(/["]/g)||[]).length&1&&h<c.length-1;)A+=`
`+c[++h];switch(A=A.trim(),+E){case-1:if(A==="BOT"){g[++f]=[],d=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?g[f][d]=!0:A==="FALSE"?g[f][d]=!1:isNaN(hs(S))?isNaN(Uc(S).getDate())?g[f][d]=S:g[f][d]=dr(S):g[f][d]=hs(S),++d;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),g[f][d++]=A!==""?A:null;break}if(A==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(s,o){return Yc(t(s,o),o)}function r(s,o){return Co(n(s,o),o)}var i=(function(){var s=function(f,d,h,g,x){f.push(d),f.push(h+","+g),f.push('"'+x.replace(/"/g,'""')+'"')},o=function(f,d,h,g){f.push(d+","+h),f.push(d==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var d=[],h=Pn(f["!ref"]),g,x=Array.isArray(f);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,h.e.r-h.s.r+1,""),s(d,"TUPLES",0,h.e.c-h.s.c+1,""),s(d,"DATA",0,0,"");for(var E=h.s.r;E<=h.e.r;++E){o(d,-1,0,"BOT");for(var S=h.s.c;S<=h.e.c;++S){var A=Et({r:E,c:S});if(g=x?(f[E]||[])[S]:f[A],!g){o(d,1,0,"");continue}switch(g.t){case"n":var C=g.w;!C&&g.v!=null&&(C=g.v),C==null?g.f&&!g.F?o(d,1,0,"="+g.f):o(d,1,0,""):o(d,0,C,"V");break;case"b":o(d,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=$i(g.z||At[14],ti(dr(g.v)))),o(d,0,g.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var O=`\r
`,V=d.join(O);return V}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),U8=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,x){for(var E=g.split(`
`),S=-1,A=-1,C=0,O=[];C!==E.length;++C){var V=E[C].trim().split(":");if(V[0]==="cell"){var D=Qr(V[1]);if(O.length<=D.r)for(S=O.length;S<=D.r;++S)O[S]||(O[S]=[]);switch(S=D.r,A=D.c,V[2]){case"t":O[S][A]=t(V[3]);break;case"v":O[S][A]=+V[3];break;case"vtf":var H=V[V.length-1];case"vtc":switch(V[3]){case"nl":O[S][A]=!!+V[4];break;default:O[S][A]=+V[4];break}V[2]=="vtf"&&(O[S][A]=[O[S][A],H])}}}return x&&x.sheetRows&&(O=O.slice(0,x.sheetRows)),O}function r(g,x){return Yc(n(g,x),x)}function i(g,x){return Co(r(g,x),x)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(g){if(!g||!g["!ref"])return"";for(var x=[],E=[],S,A="",C=Kc(g["!ref"]),O=Array.isArray(g),V=C.s.r;V<=C.e.r;++V)for(var D=C.s.c;D<=C.e.c;++D)if(A=Et({r:V,c:D}),S=O?(g[V]||[])[D]:g[A],!(!S||S.v==null||S.t==="z")){switch(E=["cell",A,"t"],S.t){case"s":case"str":E.push(e(S.v));break;case"n":S.f?(E[2]="vtf",E[3]="n",E[4]=S.v,E[5]=e(S.f)):(E[2]="v",E[3]=S.v);break;case"b":E[2]="vt"+(S.f?"f":"c"),E[3]="nl",E[4]=S.v?"1":"0",E[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var H=ti(dr(S.v));E[2]="vtc",E[3]="nd",E[4]=""+H,E[5]=S.w||$i(S.z||At[14],H);break;case"e":continue}x.push(E.join(":"))}return x.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),x.push("valueformat:1:text-wiki"),x.join(`
`)}function h(g){return[s,o,c,o,d(g),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),Hf=(function(){function t(h,g,x,E,S){S.raw?g[x][E]=h:h===""||(h==="TRUE"?g[x][E]=!0:h==="FALSE"?g[x][E]=!1:isNaN(hs(h))?isNaN(Uc(h).getDate())?g[x][E]=h:g[x][E]=dr(h):g[x][E]=hs(h))}function e(h,g){var x=g||{},E=[];if(!h||h.length===0)return E;for(var S=h.split(/[\r\n]/),A=S.length-1;A>=0&&S[A].length===0;)--A;for(var C=10,O=0,V=0;V<=A;++V)O=S[V].indexOf(" "),O==-1?O=S[V].length:O++,C=Math.max(C,O);for(V=0;V<=A;++V){E[V]=[];var D=0;for(t(S[V].slice(0,C).trim(),E,V,D,x),D=1;D<=(S[V].length-C)/10+1;++D)t(S[V].slice(C+(D-1)*10,C+D*10).trim(),E,V,D,x)}return x.sheetRows&&(E=E.slice(0,x.sheetRows)),E}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var g={},x=!1,E=0,S=0;E<h.length;++E)(S=h.charCodeAt(E))==34?x=!x:!x&&S in n&&(g[S]=(g[S]||0)+1);S=[];for(E in g)Object.prototype.hasOwnProperty.call(g,E)&&S.push([g[E],E]);if(!S.length){g=r;for(E in g)Object.prototype.hasOwnProperty.call(g,E)&&S.push([g[E],E])}return S.sort(function(A,C){return A[0]-C[0]||r[A[1]]-r[C[1]]}),n[S.pop()[1]]||44}function s(h,g){var x=g||{},E="",S=x.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(E=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(E=h.charAt(4),h=h.slice(6)):E=i(h.slice(0,1024)):x&&x.FS?E=x.FS:E=i(h.slice(0,1024));var C=0,O=0,V=0,D=0,H=0,B=E.charCodeAt(0),j=!1,N=0,I=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var b=x.dateNF!=null?JO(x.dateNF):null;function F(){var M=h.slice(D,H),k={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)k.t="z";else if(x.raw)k.t="s",k.v=M;else if(M.trim().length===0)k.t="s",k.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(k.t="s",k.v=M.slice(2,-1).replace(/""/g,'"')):S9(M)?(k.t="n",k.f=M.slice(1)):(k.t="s",k.v=M);else if(M=="TRUE")k.t="b",k.v=!0;else if(M=="FALSE")k.t="b",k.v=!1;else if(!isNaN(V=hs(M)))k.t="n",x.cellText!==!1&&(k.w=M),k.v=V;else if(!isNaN(Uc(M).getDate())||b&&M.match(b)){k.z=x.dateNF||At[14];var U=0;b&&M.match(b)&&(M=WO(M,x.dateNF,M.match(b)||[]),U=1),x.cellDates?(k.t="d",k.v=dr(M,U)):(k.t="n",k.v=ti(dr(M,U))),x.cellText!==!1&&(k.w=$i(k.z,k.v instanceof Date?ti(k.v):k.v)),x.cellNF||delete k.z}else k.t="s",k.v=M;if(k.t=="z"||(x.dense?(S[C]||(S[C]=[]),S[C][O]=k):S[Et({c:O,r:C})]=k),D=H+1,I=h.charCodeAt(D),A.e.c<O&&(A.e.c=O),A.e.r<C&&(A.e.r=C),N==B)++O;else if(O=0,++C,x.sheetRows&&x.sheetRows<=C)return!0}e:for(;H<h.length;++H)switch(N=h.charCodeAt(H)){case 34:I===34&&(j=!j);break;case B:case 10:case 13:if(!j&&F())break e;break}return H-D>0&&F(),S["!ref"]=Ht(A),S}function o(h,g){return!(g&&g.PRN)||g.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,g):Yc(e(h,g),g)}function c(h,g){var x="",E=g.type=="string"?[0,0,0,0]:ex(h,g);switch(g.type){case"base64":x=Ci(h);break;case"binary":x=h;break;case"buffer":g.codepage==65001?x=h.toString("utf8"):g.codepage&&typeof Uf<"u"||(x=Lt&&Buffer.isBuffer(h)?h.toString("binary"):El(h));break;case"array":x=hl(h);break;case"string":x=h;break;default:throw new Error("Unrecognized type "+g.type)}return E[0]==239&&E[1]==187&&E[2]==191?x=vn(x.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?x=vn(x):g.type=="binary"&&typeof Uf<"u",x.slice(0,19)=="socialcalc:version:"?U8.to_sheet(g.type=="string"?x:vn(x),g):o(x,g)}function f(h,g){return Co(c(h,g),g)}function d(h){for(var g=[],x=Pn(h["!ref"]),E,S=Array.isArray(h),A=x.s.r;A<=x.e.r;++A){for(var C=[],O=x.s.c;O<=x.e.c;++O){var V=Et({r:A,c:O});if(E=S?(h[A]||[])[O]:h[V],!E||E.v==null){C.push("          ");continue}for(var D=(E.w||(pa(E),E.w)||"").slice(0,10);D.length<10;)D+=" ";C.push(D+(O===0?" ":""))}g.push(C.join(""))}return g.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:d}})();function V8(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=O8.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Hf.to_workbook(t,e)}}var Tf=(function(){function t(z,Q,te){if(z){Cr(z,z.l||0);for(var X=te.Enum||Le;z.l<z.length;){var ce=z.read_shift(2),Ce=X[ce]||X[65535],be=z.read_shift(2),Ee=z.l+be,Ae=Ce.f&&Ce.f(z,be,te);if(z.l=Ee,Q(Ae,Ce,ce))return}}}function e(z,Q){switch(Q.type){case"base64":return n(cs(Ci(z)),Q);case"binary":return n(cs(z),Q);case"buffer":case"array":return n(z,Q)}throw"Unsupported type "+Q.type}function n(z,Q){if(!z)return z;var te=Q||{},X=te.dense?[]:{},ce="Sheet1",Ce="",be=0,Ee={},Ae=[],Oe=[],ne={s:{r:0,c:0},e:{r:0,c:0}},mt=te.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)te.Enum=Le,t(z,function(ze,tt,rt){switch(rt){case 0:te.vers=ze,ze>=4096&&(te.qpro=!0);break;case 6:ne=ze;break;case 204:ze&&(Ce=ze);break;case 222:Ce=ze;break;case 15:case 51:te.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:rt==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=te.dateNF||At[14],te.cellDates&&(ze[1].t="d",ze[1].v=hp(ze[1].v))),te.qpro&&ze[3]>be&&(X["!ref"]=Ht(ne),Ee[ce]=X,Ae.push(ce),X=te.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},be=ze[3],ce=Ce||"Sheet"+(be+1),Ce="");var ut=te.dense?(X[ze[0].r]||[])[ze[0].c]:X[Et(ze[0])];if(ut){ut.t=ze[1].t,ut.v=ze[1].v,ze[1].z!=null&&(ut.z=ze[1].z),ze[1].f!=null&&(ut.f=ze[1].f);break}te.dense?(X[ze[0].r]||(X[ze[0].r]=[]),X[ze[0].r][ze[0].c]=ze[1]):X[Et(ze[0])]=ze[1];break}},te);else if(z[2]==26||z[2]==14)te.Enum=Z,z[2]==14&&(te.qpro=!0,z.l=0),t(z,function(ze,tt,rt){switch(rt){case 204:ce=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>be&&(X["!ref"]=Ht(ne),Ee[ce]=X,Ae.push(ce),X=te.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},be=ze[3],ce="Sheet"+(be+1)),mt>0&&ze[0].r>=mt)break;te.dense?(X[ze[0].r]||(X[ze[0].r]=[]),X[ze[0].r][ze[0].c]=ze[1]):X[Et(ze[0])]=ze[1],ne.e.c<ze[0].c&&(ne.e.c=ze[0].c),ne.e.r<ze[0].r&&(ne.e.r=ze[0].r);break;case 27:ze[14e3]&&(Oe[ze[14e3][0]]=ze[14e3][1]);break;case 1537:Oe[ze[0]]=ze[1],ze[0]==be&&(ce=ze[1]);break}},te);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(X["!ref"]=Ht(ne),Ee[Ce||ce]=X,Ae.push(Ce||ce),!Oe.length)return{SheetNames:Ae,Sheets:Ee};for(var Je={},Qe=[],Ge=0;Ge<Oe.length;++Ge)Ee[Ae[Ge]]?(Qe.push(Oe[Ge]||Ae[Ge]),Je[Oe[Ge]]=Ee[Oe[Ge]]||Ee[Ae[Ge]]):(Qe.push(Oe[Ge]),Je[Oe[Ge]]={"!ref":"A1"});return{SheetNames:Qe,Sheets:Je}}function r(z,Q){var te=Q||{};if(+te.codepage>=0&&us(+te.codepage),te.type=="string")throw new Error("Cannot write WK1 to JS string");var X=_v(),ce=Pn(z["!ref"]),Ce=Array.isArray(z),be=[];ls(X,0,s(1030)),ls(X,6,f(ce));for(var Ee=Math.min(ce.e.r,8191),Ae=ce.s.r;Ae<=Ee;++Ae)for(var Oe=Nr(Ae),ne=ce.s.c;ne<=ce.e.c;++ne){Ae===ce.s.r&&(be[ne]=ir(ne));var mt=be[ne]+Oe,Je=Ce?(z[Ae]||[])[ne]:z[mt];if(!(!Je||Je.t=="z"))if(Je.t=="n")(Je.v|0)==Je.v&&Je.v>=-32768&&Je.v<=32767?ls(X,13,E(Ae,ne,Je.v)):ls(X,14,A(Ae,ne,Je.v));else{var Qe=pa(Je);ls(X,15,g(Ae,ne,Qe.slice(0,239)))}}return ls(X,1),X.end()}function i(z,Q){var te=Q||{};if(+te.codepage>=0&&us(+te.codepage),te.type=="string")throw new Error("Cannot write WK3 to JS string");var X=_v();ls(X,0,o(z));for(var ce=0,Ce=0;ce<z.SheetNames.length;++ce)(z.Sheets[z.SheetNames[ce]]||{})["!ref"]&&ls(X,27,ie(z.SheetNames[ce],Ce++));var be=0;for(ce=0;ce<z.SheetNames.length;++ce){var Ee=z.Sheets[z.SheetNames[ce]];if(!(!Ee||!Ee["!ref"])){for(var Ae=Pn(Ee["!ref"]),Oe=Array.isArray(Ee),ne=[],mt=Math.min(Ae.e.r,8191),Je=Ae.s.r;Je<=mt;++Je)for(var Qe=Nr(Je),Ge=Ae.s.c;Ge<=Ae.e.c;++Ge){Je===Ae.s.r&&(ne[Ge]=ir(Ge));var ze=ne[Ge]+Qe,tt=Oe?(Ee[Je]||[])[Ge]:Ee[ze];if(!(!tt||tt.t=="z"))if(tt.t=="n")ls(X,23,F(Je,Ge,be,tt.v));else{var rt=pa(tt);ls(X,22,N(Je,Ge,be,rt.slice(0,239)))}}++be}}return ls(X,1),X.end()}function s(z){var Q=nr(2);return Q.write_shift(2,z),Q}function o(z){var Q=nr(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var te=0,X=0,ce=0,Ce=0;Ce<z.SheetNames.length;++Ce){var be=z.SheetNames[Ce],Ee=z.Sheets[be];if(!(!Ee||!Ee["!ref"])){++ce;var Ae=Kc(Ee["!ref"]);te<Ae.e.r&&(te=Ae.e.r),X<Ae.e.c&&(X=Ae.e.c)}}return te>8191&&(te=8191),Q.write_shift(2,te),Q.write_shift(1,ce),Q.write_shift(1,X),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function c(z,Q,te){var X={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&te.qpro?(X.s.c=z.read_shift(1),z.l++,X.s.r=z.read_shift(2),X.e.c=z.read_shift(1),z.l++,X.e.r=z.read_shift(2),X):(X.s.c=z.read_shift(2),X.s.r=z.read_shift(2),Q==12&&te.qpro&&(z.l+=2),X.e.c=z.read_shift(2),X.e.r=z.read_shift(2),Q==12&&te.qpro&&(z.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function f(z){var Q=nr(8);return Q.write_shift(2,z.s.c),Q.write_shift(2,z.s.r),Q.write_shift(2,z.e.c),Q.write_shift(2,z.e.r),Q}function d(z,Q,te){var X=[{c:0,r:0},{t:"n",v:0},0,0];return te.qpro&&te.vers!=20768?(X[0].c=z.read_shift(1),X[3]=z.read_shift(1),X[0].r=z.read_shift(2),z.l+=2):(X[2]=z.read_shift(1),X[0].c=z.read_shift(2),X[0].r=z.read_shift(2)),X}function h(z,Q,te){var X=z.l+Q,ce=d(z,Q,te);if(ce[1].t="s",te.vers==20768){z.l++;var Ce=z.read_shift(1);return ce[1].v=z.read_shift(Ce,"utf8"),ce}return te.qpro&&z.l++,ce[1].v=z.read_shift(X-z.l,"cstr"),ce}function g(z,Q,te){var X=nr(7+te.length);X.write_shift(1,255),X.write_shift(2,Q),X.write_shift(2,z),X.write_shift(1,39);for(var ce=0;ce<X.length;++ce){var Ce=te.charCodeAt(ce);X.write_shift(1,Ce>=128?95:Ce)}return X.write_shift(1,0),X}function x(z,Q,te){var X=d(z,Q,te);return X[1].v=z.read_shift(2,"i"),X}function E(z,Q,te){var X=nr(7);return X.write_shift(1,255),X.write_shift(2,Q),X.write_shift(2,z),X.write_shift(2,te,"i"),X}function S(z,Q,te){var X=d(z,Q,te);return X[1].v=z.read_shift(8,"f"),X}function A(z,Q,te){var X=nr(13);return X.write_shift(1,255),X.write_shift(2,Q),X.write_shift(2,z),X.write_shift(8,te,"f"),X}function C(z,Q,te){var X=z.l+Q,ce=d(z,Q,te);if(ce[1].v=z.read_shift(8,"f"),te.qpro)z.l=X;else{var Ce=z.read_shift(2);H(z.slice(z.l,z.l+Ce),ce),z.l+=Ce}return ce}function O(z,Q,te){var X=Q&32768;return Q&=-32769,Q=(X?z:0)+(Q>=8192?Q-16384:Q),(X?"":"$")+(te?ir(Q):Nr(Q))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},D=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function H(z,Q){Cr(z,0);for(var te=[],X=0,ce="",Ce="",be="",Ee="";z.l<z.length;){var Ae=z[z.l++];switch(Ae){case 0:te.push(z.read_shift(8,"f"));break;case 1:Ce=O(Q[0].c,z.read_shift(2),!0),ce=O(Q[0].r,z.read_shift(2),!1),te.push(Ce+ce);break;case 2:{var Oe=O(Q[0].c,z.read_shift(2),!0),ne=O(Q[0].r,z.read_shift(2),!1);Ce=O(Q[0].c,z.read_shift(2),!0),ce=O(Q[0].r,z.read_shift(2),!1),te.push(Oe+ne+":"+Ce+ce)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:te.push("("+te.pop()+")");break;case 5:te.push(z.read_shift(2));break;case 6:{for(var mt="";Ae=z[z.l++];)mt+=String.fromCharCode(Ae);te.push('"'+mt.replace(/"/g,'""')+'"')}break;case 8:te.push("-"+te.pop());break;case 23:te.push("+"+te.pop());break;case 22:te.push("NOT("+te.pop()+")");break;case 20:case 21:Ee=te.pop(),be=te.pop(),te.push(["AND","OR"][Ae-20]+"("+be+","+Ee+")");break;default:if(Ae<32&&D[Ae])Ee=te.pop(),be=te.pop(),te.push(be+D[Ae]+Ee);else if(V[Ae]){if(X=V[Ae][1],X==69&&(X=z[z.l++]),X>te.length){console.error("WK1 bad formula parse 0x"+Ae.toString(16)+":|"+te.join("|")+"|");return}var Je=te.slice(-X);te.length-=X,te.push(V[Ae][0]+"("+Je.join(",")+")")}else return Ae<=7?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=24?console.error("WK1 unsupported op "+Ae.toString(16)):Ae<=30?console.error("WK1 invalid opcode "+Ae.toString(16)):Ae<=115?console.error("WK1 unsupported function opcode "+Ae.toString(16)):console.error("WK1 unrecognized opcode "+Ae.toString(16))}}te.length==1?Q[1].f=""+te[0]:console.error("WK1 bad formula parse |"+te.join("|")+"|")}function B(z){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=z.read_shift(2),Q[3]=z[z.l++],Q[0].c=z[z.l++],Q}function j(z,Q){var te=B(z);return te[1].t="s",te[1].v=z.read_shift(Q-4,"cstr"),te}function N(z,Q,te,X){var ce=nr(6+X.length);ce.write_shift(2,z),ce.write_shift(1,te),ce.write_shift(1,Q),ce.write_shift(1,39);for(var Ce=0;Ce<X.length;++Ce){var be=X.charCodeAt(Ce);ce.write_shift(1,be>=128?95:be)}return ce.write_shift(1,0),ce}function I(z,Q){var te=B(z);te[1].v=z.read_shift(2);var X=te[1].v>>1;if(te[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return te[1].v=X,te}function b(z,Q){var te=B(z),X=z.read_shift(4),ce=z.read_shift(4),Ce=z.read_shift(2);if(Ce==65535)return X===0&&ce===3221225472?(te[1].t="e",te[1].v=15):X===0&&ce===3489660928?(te[1].t="e",te[1].v=42):te[1].v=0,te;var be=Ce&32768;return Ce=(Ce&32767)-16446,te[1].v=(1-be*2)*(ce*Math.pow(2,Ce+32)+X*Math.pow(2,Ce)),te}function F(z,Q,te,X){var ce=nr(14);if(ce.write_shift(2,z),ce.write_shift(1,te),ce.write_shift(1,Q),X==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var Ce=0,be=0,Ee=0,Ae=0;return X<0&&(Ce=1,X=-X),be=Math.log2(X)|0,X/=Math.pow(2,be-31),Ae=X>>>0,(Ae&2147483648)==0&&(X/=2,++be,Ae=X>>>0),X-=Ae,Ae|=2147483648,Ae>>>=0,X*=Math.pow(2,32),Ee=X>>>0,ce.write_shift(4,Ee),ce.write_shift(4,Ae),be+=16383+(Ce?32768:0),ce.write_shift(2,be),ce}function M(z,Q){var te=b(z);return z.l+=Q-14,te}function k(z,Q){var te=B(z),X=z.read_shift(4);return te[1].v=X>>6,te}function U(z,Q){var te=B(z),X=z.read_shift(8,"f");return te[1].v=X,te}function Te(z,Q){var te=U(z);return z.l+=Q-10,te}function ye(z,Q){return z[z.l+Q-1]==0?z.read_shift(Q,"cstr"):""}function ae(z,Q){var te=z[z.l++];te>Q-1&&(te=Q-1);for(var X="";X.length<te;)X+=String.fromCharCode(z[z.l++]);return X}function oe(z,Q,te){if(!(!te.qpro||Q<21)){var X=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var ce=z.read_shift(Q-21,"cstr");return[X,ce]}}function Re(z,Q){for(var te={},X=z.l+Q;z.l<X;){var ce=z.read_shift(2);if(ce==14e3){for(te[ce]=[0,""],te[ce][0]=z.read_shift(2);z[z.l];)te[ce][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return te}function ie(z,Q){var te=nr(5+z.length);te.write_shift(2,14e3),te.write_shift(2,Q);for(var X=0;X<z.length;++X){var ce=z.charCodeAt(X);te[te.l++]=ce>127?95:ce}return te[te.l++]=0,te}var Le={0:{n:"BOF",f:Xn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:x},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ye},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:Te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ye},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:oe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function B8(t){var e={},n=t.match($r),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=gt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=R1[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var z8=(function(){var t=Bf("t"),e=Bf("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var c={t:"s",v:Gt(o[1])},f=s.match(e);return f&&(c.s=B8(f[1])),c}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(c){return c.v})}})(),H8=(function(){var e=/(\r\n|\n)/g;function n(i,s,o){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var f=i.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(s.push("<"+f+">"),o.push("</"+f+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),G8=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,q8=/<(?:\w+:)?r>/,$8=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function K1(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Gt(vn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=vn(t),n&&(r.h=L1(r.t))):t.match(q8)&&(r.r=vn(t),r.t=Gt(vn((t.replace($8,"").match(G8)||[]).join("").replace($r,""))),n&&(r.h=H8(z8(r.r)))),r):{t:""}}var j8=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,K8=/<(?:\w+:)?(?:si|sstItem)>/g,Y8=/<\/(?:\w+:)?(?:si|sstItem)>/;function J8(t,e){var n=[],r="";if(!t)return n;var i=t.match(j8);if(i){r=i[2].replace(K8,"").split(Y8);for(var s=0;s!=r.length;++s){var o=K1(r[s].trim(),e);o!=null&&(n[n.length]=o)}i=gt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function W8(t){return[t.read_shift(4),t.read_shift(4)]}function Z8(t,e){var n=[],r=!1;return ya(t,function(s,o,c){switch(c){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function Yb(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function ua(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function X8(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=ua(t,4),e.U=ua(t,4),e.W=ua(t,4),e}function Q8(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function eU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(Q8(t));return e}function tU(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function nU(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=ua(t,4),e.U=ua(t,4),e.W=ua(t,4),e}function rU(t){var e=nU(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Jb(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function Wb(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function iU(t){var e=ua(t);switch(e.Minor){case 2:return[e.Minor,sU(t)];case 3:return[e.Minor,aU()];case 4:return[e.Minor,oU(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function sU(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=Jb(t,n),i=Wb(t,t.length-t.l);return{t:"Std",h:r,v:i}}function aU(){throw new Error("File is password-protected: ECMA-376 Extensible")}function oU(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace($r,function(s){var o=gt(s);switch(Bs(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){r[c]=o[c]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function lU(t,e){var n={},r=n.EncryptionVersionInfo=ua(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=Jb(t,i),e-=i,n.EncryptionVerifier=Wb(t,e),n}function cU(t){var e={},n=e.EncryptionVersionInfo=ua(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function uU(t){var e=0,n,r=Yb(t),i=r.length+1,s,o,c,f,d;for(n=go(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],c=(e&16384)===0?0:1,f=e<<1&32767,d=c|f,e=d^o;return e^52811}var Zb=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,c){return r(o^c)},s=function(o){for(var c=e[o.length-1],f=104,d=o.length-1;d>=0;--d)for(var h=o[d],g=0;g!=7;++g)h&64&&(c^=n[f]),h*=2,--f;return c};return function(o){for(var c=Yb(o),f=s(c),d=c.length,h=go(16),g=0;g!=16;++g)h[g]=0;var x,E,S;for((d&1)===1&&(x=f>>8,h[d]=i(t[0],x),--d,x=f&255,E=c[c.length-1],h[d]=i(E,x));d>0;)--d,x=f>>8,h[d]=i(c[d],x),--d,x=f&255,h[d]=i(c[d],x);for(d=15,S=15-c.length;S>0;)x=f>>8,h[d]=i(t[S],x),--d,--S,x=f&255,h[d]=i(c[d],x),--d,--S;return h}})(),fU=function(t,e,n,r,i){i||(i=e),r||(r=Zb(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},dU=function(t){var e=0,n=Zb(t);return function(r){var i=fU("",r,e,n);return e=i[1],i[0]}};function hU(t,e,n,r){var i={key:Xn(t),verificationBytes:Xn(t)};return n.password&&(i.verifier=uU(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=dU(n.password)),i}function pU(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=cU(t):r.Data=lU(t,e),r}function mU(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?pU(t,e-2,r):hU(t,n.biff>=8?e:e-2,n,r),r}var gU=(function(){function t(i,s){switch(s.type){case"base64":return e(Ci(i),s);case"binary":return e(i,s);case"buffer":return e(Lt&&Buffer.isBuffer(i)?i.toString("binary"):El(i),s);case"array":return e(hl(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},c=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(h,g){Array.isArray(c)&&(c[g]=[]);for(var x=/\\\w+\b/g,E=0,S,A=-1;S=x.exec(h);){switch(S[0]){case"\\cell":var C=h.slice(E,x.lastIndex-S[0].length);if(C[0]==" "&&(C=C.slice(1)),++A,C.length){var O={v:C,t:"s"};Array.isArray(c)?c[g][A]=O:c[Et({r:g,c:A})]=O}break}E=x.lastIndex}A>d.e.c&&(d.e.c=A)}),c["!ref"]=Ht(d),c}function n(i,s){return Co(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Pn(i["!ref"]),c,f=Array.isArray(i),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var h=o.s.c;h<=o.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=o.s.c;h<=o.e.c;++h){var g=Et({r:d,c:h});c=f?(i[d]||[])[h]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(pa(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function vU(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Gf(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function xU(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(o===0)return[0,0,e];var c=0,f=0,d=i+s;switch(f=o/(d>1?2-d:d),i){case e:c=((n-r)/o+6)%6;break;case n:c=(r-e)/o+2;break;case r:c=(e-n)/o+4;break}return[c/6,f,d/2]}function yU(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],c=6*e,f;if(n!==0)switch(c|0){case 0:case 6:f=i*c,o[0]+=i,o[1]+=f;break;case 1:f=i*(2-c),o[0]+=f,o[1]+=i;break;case 2:f=i*(c-2),o[1]+=i,o[2]+=f;break;case 3:f=i*(4-c),o[1]+=f,o[2]+=i;break;case 4:f=i*(c-4),o[2]+=i,o[0]+=f;break;case 5:f=i*(6-c),o[2]+=f,o[0]+=i;break}for(var d=0;d!=3;++d)o[d]=Math.round(o[d]*255);return o}function M0(t,e){if(e===0)return t;var n=xU(vU(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Gf(yU(n))}var Xb=6,_U=15,EU=1,Xr=Xb;function P0(t){return Math.floor((t+Math.round(128/Xr)/256)*Xr)}function F0(t){return Math.floor((t-5)/Xr*100+.5)/100}function Sv(t){return Math.round((t*Xr+5)/Xr*256)/256}function qg(t){return Sv(F0(P0(t)))}function Y1(t){var e=Math.abs(t-qg(t)),n=Xr;if(e>.005)for(Xr=EU;Xr<_U;++Xr)Math.abs(t-qg(t))<=e&&(e=Math.abs(t-qg(t)),n=Xr);Xr=n}function Vc(t){t.width?(t.wpx=P0(t.width),t.wch=F0(t.wpx),t.MDW=Xr):t.wpx?(t.wch=F0(t.wpx),t.width=Sv(t.wch),t.MDW=Xr):typeof t.wch=="number"&&(t.width=Sv(t.wch),t.wpx=P0(t.width),t.MDW=Xr),t.customWidth&&delete t.customWidth}var TU=96,Qb=TU;function eI(t){return t*96/Qb}function qf(t){return t*Qb/96}var wU={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function SU(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match($r)||[]).forEach(function(o){var c=gt(o);switch(Bs(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=Cn(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=Cn(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function AU(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match($r)||[]).forEach(function(o){var c=gt(o);switch(Bs(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function CU(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match($r)||[]).forEach(function(o){var c=gt(o);switch(Bs(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=vn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?Cn(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?Cn(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?Cn(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?Cn(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?Cn(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?Cn(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?Cn(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=R1[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=Cn(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var f=al[i.color.index];i.color.index==81&&(f=al[1]),f||(f=al[1]),i.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=M0(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function bU(t,e,n){e.NumberFmt=[];for(var r=Ls(At),i=0;i<r.length;++i)e.NumberFmt[r[i]]=At[r[i]];var s=t[0].match($r);if(s)for(i=0;i<s.length;++i){var o=gt(s[i]);switch(Bs(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Gt(vn(o.formatCode)),f=parseInt(o.numFmtId,10);if(e.NumberFmt[f]=c,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=c}sl(c,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Kh=["numFmtId","fillId","fontId","borderId","xfId"],Yh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function IU(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match($r)||[]).forEach(function(s){var o=gt(s),c=0;switch(Bs(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],c=0;c<Kh.length;++c)r[Kh[c]]&&(r[Kh[c]]=parseInt(r[Kh[c]],10));for(c=0;c<Yh.length;++c)r[Yh[c]]&&(r[Yh[c]]=Cn(r[Yh[c]]));if(e.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[c]){r.numFmtId=c;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};o.vertical&&(f.vertical=o.vertical),o.horizontal&&(f.horizontal=o.horizontal),o.textRotation!=null&&(f.textRotation=o.textRotation),o.indent&&(f.indent=o.indent),o.wrapText&&(f.wrapText=Cn(o.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var NU=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,f,d){var h={};if(!c)return h;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=c.match(e))&&bU(g,h,d),(g=c.match(i))&&CU(g,h,f,d),(g=c.match(r))&&AU(g,h,f,d),(g=c.match(s))&&SU(g,h,f,d),(g=c.match(n))&&IU(g,h,d),h}})();function RU(t,e){var n=t.read_shift(2),r=Gr(t);return[n,r]}function kU(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=z5(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var c=t.read_shift(1);c>0&&(r.family=c);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=B5(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Gr(t),r}var DU=qr;function MU(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var PU=qr;function FU(t,e,n){var r={};r.NumberFmt=[];for(var i in At)r.NumberFmt[i]=At[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return ya(t,function(f,d,h){switch(h){case 44:r.NumberFmt[f[0]]=f[1],sl(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=M0(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(h),o=!0;break;case 38:s.pop(),o=!1;break;default:if(d.T>0)s.push(h);else if(d.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}var OU=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function LU(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match($r)||[]).forEach(function(i){var s=gt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[OU.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function UU(){}function VU(){}var BU=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,zU=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,HU=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function GU(t,e,n){e.themeElements={};var r;[["clrScheme",BU,LU],["fontScheme",zU,UU],["fmtScheme",HU,VU]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var qU=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function tI(t,e){(!t||t.length===0)&&(t=$U());var n,r={};if(!(n=t.match(qU)))throw new Error("themeElements not found in theme");return GU(n[0],r,e),r.raw=t,r}function $U(t,e){var n=[db];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function jU(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var o;try{o=fb(s,{type:"array"})}catch{return}var c=Ai(o,"theme/theme/theme1.xml",!0);if(c)return tI(c,n)}}function KU(t){return t.read_shift(4)}function YU(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=JU(t,4);break;case 2:e.xclrValue=zb(t);break;case 3:e.xclrValue=KU(t);break;case 4:t.l+=4;break}return t.l+=8,e}function JU(t,e){return qr(t,e)}function WU(t,e){return qr(t,e)}function ZU(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=YU(t);break;case 6:r[1]=WU(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function XU(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(ZU(t,n-t.l));return{ixfe:r,ext:s}}function QU(t,e){e.forEach(function(n){n[0]})}function e9(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Gr(t)}}function t9(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function n9(t){return t.l+=4,t.read_shift(4)!=0}function r9(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,c=2;return ya(t,function(f,d,h){switch(h){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(g){c==1?r.Cell.push({type:r.Types[g[0]-1].name,index:g[1]}):c==0&&r.Value.push({type:r.Types[g[0]-1].name,index:g[1]})});break;case 337:c=f?1:0;break;case 338:c=2;break;case 35:s.push(h),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!d.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function i9(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,o;return t.replace($r,function(c){var f=gt(c);switch(Bs(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==f.name&&(o=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):s==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+f.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return c}),r}function s9(t){var e=[];if(!t)return e;var n=1;return(t.match($r)||[]).forEach(function(r){var i=gt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function a9(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Et(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function o9(t,e,n){var r=[];return ya(t,function(s,o,c){switch(c){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function l9(t,e,n,r){if(!t)return t;var i=r||{},s=!1;ya(t,function(c,f,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!f.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},i)}function c9(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function q2(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(o){var c=Qr(o.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[o.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[o.ref]=s;var f=Pn(t["!ref"]||"BDWGO1000001:A1");f.s.r>c.r&&(f.s.r=c.r),f.e.r<c.r&&(f.e.r=c.r),f.s.c>c.c&&(f.s.c=c.c),f.e.c<c.c&&(f.e.c=c.c);var d=Ht(f);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var h={a:o.author,t:o.t,r:o.r,T:n};o.h&&(h.h=o.h);for(var g=s.c.length-1;g>=0;--g){if(!n&&s.c[g].T)return;n&&!s.c[g].T&&s.c.splice(g,1)}if(n&&r){for(g=0;g<r.length;++g)if(h.a==r[g].id){h.a=r[g].name||h.a;break}}s.c.push(h)})}function u9(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var c=o.match(/<(?:\w+:)?comment[^>]*>/);if(c){var f=gt(c[0]),d={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},h=Qr(f.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),x=!!g&&!!g[1]&&K1(g[1])||{r:"",t:"",h:""};d.r=x.r,x.r=="<t></t>"&&(x.t=x.h=""),d.t=(x.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=x.h),r.push(d)}}}}),r}function f9(t,e){var n=[],r=!1,i={},s=0;return t.replace($r,function(c,f){var d=gt(c);switch(Bs(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=f+c.length;break;case"</text>":i.t=t.slice(s,f).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function d9(t,e){var n=[],r=!1;return t.replace($r,function(s){var o=gt(s);switch(Bs(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function h9(t){var e={};e.iauthor=t.read_shift(4);var n=wl(t);return e.rfx=n.s,e.ref=Et(n.s),t.l+=16,e}var p9=Gr;function m9(t,e){var n=[],r=[],i={},s=!1;return ya(t,function(c,f,d){switch(d){case 632:r.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var g9="application/vnd.ms-office.vbaProject";function v9(t){var e=zt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");zt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),zt.write(e)}function x9(){return{"!type":"dialog"}}function y9(){return{"!type":"dialog"}}function _9(){return{"!type":"macro"}}function E9(){return{"!type":"macro"}}var Rc=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,h=o.length>0?parseInt(o,10)|0:0;return c?h+=e.c:--h,f?d+=e.r:--d,i+(c?"":"$")+ir(h)+(f?"":"$")+Nr(d)}return function(i,s){return e=s,i.replace(t,n)}})(),nI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,T9=(function(){return function(e,n){return e.replace(nI,function(r,i,s,o,c,f){var d=z1(o)-(s?0:n.c),h=B1(f)-(c?0:n.r),g=h==0?"":c?h+1:"["+h+"]",x=d==0?"":s?d+1:"["+d+"]";return i+"R"+g+"C"+x})}})();function rI(t,e){return t.replace(nI,function(n,r,i,s,o,c){return r+(i=="$"?i+s:ir(z1(s)+e.c))+(o=="$"?o+c:Nr(B1(c)+e.r))})}function w9(t,e,n){var r=Kc(e),i=r.s,s=Qr(n),o={r:s.r-i.r,c:s.c-i.c};return rI(t,o)}function S9(t){return t.length!=1}function $2(t){return t.replace(/_xlfn\./g,"")}function Jn(t){t.l+=1}function vo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function iI(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return sI(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=vo(t),c=vo(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function sI(t){var e=vo(t),n=vo(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function A9(t,e,n){if(n.biff<8)return sI(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=vo(t),o=vo(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function aI(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return C9(t);var r=t.read_shift(n&&n.biff==12?4:2),i=vo(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function C9(t){var e=vo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function b9(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function I9(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return N9(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:c}}function N9(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function R9(t,e,n){var r=(t[t.l++]&96)>>5,i=iI(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function k9(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=iI(t,s,n);return[r,i,o]}function D9(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function M9(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function P9(t,e,n){var r=(t[t.l++]&96)>>5,i=A9(t,e-1,n);return[r,i]}function F9(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function j2(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function O9(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function L9(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function U9(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function V9(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function B9(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function oI(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function z9(t){return t.read_shift(2),oI(t)}function H9(t){return t.read_shift(2),oI(t)}function G9(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=aI(t,0,n);return[r,i]}function q9(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=I9(t,0,n);return[r,i]}function $9(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=aI(t,0,n);return[r,i,s]}function j9(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[KV[i],uI[i],r]}function K9(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Y9(t);return[i,(s[0]===0?uI:jV)[s[1]]]}function Y9(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function J9(t,e,n){t.l+=n&&n.biff==2?3:4}function W9(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function Z9(t){return t.l++,Sl[t.read_shift(1)]}function X9(t){return t.l++,t.read_shift(2)}function Q9(t){return t.l++,t.read_shift(1)!==0}function eV(t){return t.l++,Br(t)}function tV(t,e,n){return t.l++,ld(t,e-1,n)}function nV(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Un(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Sl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Br(t);break;case 2:n[1]=Al(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function rV(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?wl:pp)(t));return i}function iV(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var c=0;c!=i;++c)o[s][c]=nV(t,n.biff);return o}function sV(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function aV(t,e,n){if(n.biff==5)return oV(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function oV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function lV(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function cV(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function uV(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function fV(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var dV=qr,hV=qr,pV=qr;function ud(t,e,n){return t.l+=2,[b9(t)]}function J1(t){return t.l+=6,[]}var mV=ud,gV=J1,vV=J1,xV=ud;function lI(t){return t.l+=2,[Xn(t),t.read_shift(2)&1]}var yV=ud,_V=lI,EV=J1,TV=ud,wV=ud,SV=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function AV(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=SV[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function CV(t){return t.l+=2,[t.read_shift(4)]}function bV(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function IV(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function NV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function RV(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function kV(t){return t.l+=4,[0,0]}var K2={1:{n:"PtgExp",f:W9},2:{n:"PtgTbl",f:pV},3:{n:"PtgAdd",f:Jn},4:{n:"PtgSub",f:Jn},5:{n:"PtgMul",f:Jn},6:{n:"PtgDiv",f:Jn},7:{n:"PtgPower",f:Jn},8:{n:"PtgConcat",f:Jn},9:{n:"PtgLt",f:Jn},10:{n:"PtgLe",f:Jn},11:{n:"PtgEq",f:Jn},12:{n:"PtgGe",f:Jn},13:{n:"PtgGt",f:Jn},14:{n:"PtgNe",f:Jn},15:{n:"PtgIsect",f:Jn},16:{n:"PtgUnion",f:Jn},17:{n:"PtgRange",f:Jn},18:{n:"PtgUplus",f:Jn},19:{n:"PtgUminus",f:Jn},20:{n:"PtgPercent",f:Jn},21:{n:"PtgParen",f:Jn},22:{n:"PtgMissArg",f:Jn},23:{n:"PtgStr",f:tV},26:{n:"PtgSheet",f:bV},27:{n:"PtgEndSheet",f:IV},28:{n:"PtgErr",f:Z9},29:{n:"PtgBool",f:Q9},30:{n:"PtgInt",f:X9},31:{n:"PtgNum",f:eV},32:{n:"PtgArray",f:F9},33:{n:"PtgFunc",f:j9},34:{n:"PtgFuncVar",f:K9},35:{n:"PtgName",f:sV},36:{n:"PtgRef",f:G9},37:{n:"PtgArea",f:R9},38:{n:"PtgMemArea",f:lV},39:{n:"PtgMemErr",f:dV},40:{n:"PtgMemNoMem",f:hV},41:{n:"PtgMemFunc",f:cV},42:{n:"PtgRefErr",f:uV},43:{n:"PtgAreaErr",f:D9},44:{n:"PtgRefN",f:q9},45:{n:"PtgAreaN",f:P9},46:{n:"PtgMemAreaN",f:NV},47:{n:"PtgMemNoMemN",f:RV},57:{n:"PtgNameX",f:aV},58:{n:"PtgRef3d",f:$9},59:{n:"PtgArea3d",f:k9},60:{n:"PtgRefErr3d",f:fV},61:{n:"PtgAreaErr3d",f:M9},255:{}},DV={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},MV={1:{n:"PtgElfLel",f:lI},2:{n:"PtgElfRw",f:TV},3:{n:"PtgElfCol",f:mV},6:{n:"PtgElfRwV",f:wV},7:{n:"PtgElfColV",f:xV},10:{n:"PtgElfRadical",f:yV},11:{n:"PtgElfRadicalS",f:EV},13:{n:"PtgElfColS",f:gV},15:{n:"PtgElfColSV",f:vV},16:{n:"PtgElfRadicalLel",f:_V},25:{n:"PtgList",f:AV},29:{n:"PtgSxName",f:CV},255:{}},PV={0:{n:"PtgAttrNoop",f:kV},1:{n:"PtgAttrSemi",f:B9},2:{n:"PtgAttrIf",f:U9},4:{n:"PtgAttrChoose",f:O9},8:{n:"PtgAttrGoto",f:L9},16:{n:"PtgAttrSum",f:J9},32:{n:"PtgAttrBaxcel",f:j2},33:{n:"PtgAttrBaxcel",f:j2},64:{n:"PtgAttrSpace",f:z9},65:{n:"PtgAttrSpaceSemi",f:H9},128:{n:"PtgAttrIfError",f:V9},255:{}};function fd(t,e,n,r){if(r.biff<8)return qr(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=iV(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=rV(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&s.push(qr(t,e)),s}function dd(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=K2[s]||K2[DV[s]],(s===24||s===25)&&(i=(s===24?MV:PV)[t[t.l+1]]),!i||!i.f?qr(t,e):o.push([i.n,i.f(t,e,n)]);return o}function FV(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var OV={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function LV(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function cI(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Y2(t,e,n){var r=cI(t,e,n);return r=="#REF"?r:LV(r,n)}function Ur(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},c=[],f,d,h,g=0,x=0,E,S="";if(!t[0]||!t[0][0])return"";for(var A=-1,C="",O=0,V=t[0].length;O<V;++O){var D=t[0][O];switch(D[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),d=c.pop(),A>=0){switch(t[0][A][1][0]){case 0:C=Mn(" ",t[0][A][1][1]);break;case 1:C=Mn("\r",t[0][A][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}d=d+C,A=-1}c.push(d+OV[D[0]]+f);break;case"PtgIsect":f=c.pop(),d=c.pop(),c.push(d+" "+f);break;case"PtgUnion":f=c.pop(),d=c.pop(),c.push(d+","+f);break;case"PtgRange":f=c.pop(),d=c.pop(),c.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=xf(D[1][1],o,i),c.push(yf(h,s));break;case"PtgRefN":h=n?xf(D[1][1],n,i):D[1][1],c.push(yf(h,s));break;case"PtgRef3d":g=D[1][1],h=xf(D[1][2],o,i),S=Y2(r,g,i),c.push(S+"!"+yf(h,s));break;case"PtgFunc":case"PtgFuncVar":var H=D[1][0],B=D[1][1];H||(H=0),H&=127;var j=H==0?[]:c.slice(-H);c.length-=H,B==="User"&&(B=j.shift()),c.push(B+"("+j.join(",")+")");break;case"PtgBool":c.push(D[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(D[1]);break;case"PtgNum":c.push(String(D[1]));break;case"PtgStr":c.push('"'+D[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(D[1]);break;case"PtgAreaN":E=I2(D[1][1],n?{s:n}:o,i),c.push(Hg(E,i));break;case"PtgArea":E=I2(D[1][1],o,i),c.push(Hg(E,i));break;case"PtgArea3d":g=D[1][1],E=D[1][2],S=Y2(r,g,i),c.push(S+"!"+Hg(E,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":x=D[1][2];var N=(r.names||[])[x-1]||(r[0]||[])[x],I=N?N.Name:"SH33TJSNAME"+String(x);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),c.push(I);break;case"PtgNameX":var b=D[1][1];x=D[1][2];var F;if(i.biff<=5)b<0&&(b=-b),r[b]&&(F=r[b][x]);else{var M="";if(((r[b]||[])[0]||[])[0]==14849||(((r[b]||[])[0]||[])[0]==1025?r[b][x]&&r[b][x].itab>0&&(M=r.SheetNames[r[b][x].itab-1]+"!"):M=r.SheetNames[x-1]+"!"),r[b]&&r[b][x])M+=r[b][x].Name;else if(r[0]&&r[0][x])M+=r[0][x].Name;else{var k=(cI(r,b,i)||"").split(";;");k[x-1]?M=k[x-1]:M+="SH33TJSERRX"}c.push(M);break}F||(F={Name:"SH33TJSERRY"}),c.push(F.Name);break;case"PtgParen":var U="(",Te=")";if(A>=0){switch(C="",t[0][A][1][0]){case 2:U=Mn(" ",t[0][A][1][1])+U;break;case 3:U=Mn("\r",t[0][A][1][1])+U;break;case 4:Te=Mn(" ",t[0][A][1][1])+Te;break;case 5:Te=Mn("\r",t[0][A][1][1])+Te;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}c.push(U+c.pop()+Te);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:D[1][1],r:D[1][0]};var ye={c:n.c,r:n.r};if(r.sharedf[Et(h)]){var ae=r.sharedf[Et(h)];c.push(Ur(ae,o,ye,r,i))}else{var oe=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){c.push(Ur(d[1],o,ye,r,i)),oe=!0;break}oe||c.push(D[1])}break;case"PtgArray":c.push("{"+FV(D[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+D[1].idx+"[#"+D[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(D));default:throw new Error("Unrecognized Formula Token: "+String(D))}var Re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&A>=0&&Re.indexOf(t[0][O][0])==-1){D=t[0][A];var ie=!0;switch(D[1][0]){case 4:ie=!1;case 0:C=Mn(" ",D[1][1]);break;case 5:ie=!1;case 1:C=Mn("\r",D[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+D[1][0])}c.push((ie?C:"")+c.pop()+(ie?"":C)),A=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function UV(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],qr(t,e-2)];var c=dd(t,o,n);return e!==o+i&&(s=fd(t,e-o-i,c,n)),t.l=r,[c,s]}function VV(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],qr(t,e-2)];var c=dd(t,o,n);return e!==o+i&&(s=fd(t,e-o-i,c,n)),t.l=r,[c,s]}function BV(t,e,n,r){var i=t.l+e,s=dd(t,r,n),o;return i!==t.l&&(o=fd(t,i-t.l,s,n)),[s,o]}function zV(t,e,n){var r=t.l+e,i,s=t.read_shift(2),o=dd(t,s,n);return s==65535?[[],qr(t,e-2)]:(e!==s+2&&(i=fd(t,r-s-2,o,n)),[o,i])}function HV(t){var e;if(la(t,t.l+6)!==65535)return[Br(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function $g(t,e,n){var r=t.l+e,i=zs(t);n.biff==2&&++t.l;var s=HV(t),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var c=VV(t,r-t.l,n);return{cell:i,val:s[0],formula:c,shared:o>>3&1,tt:s[1]}}function mp(t,e,n){var r=t.read_shift(4),i=dd(t,r,n),s=t.read_shift(4),o=s>0?fd(t,s,i,n):null;return[i,o]}var GV=mp,gp=mp,qV=mp,$V=mp,jV={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},uI={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},KV={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function J2(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function jg(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var wf={},kc={};function Sf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function fI(t,e,n,r,i,s){try{r.cellNF&&(t.z=At[e])}catch(c){if(r.WTF)throw c}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=dr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(At[e]==null&&sl(YO[e]||"General",e),t.t==="e")t.w=t.w||Sl[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Vf(t.v);else if(t.t==="d"){var o=ti(t.v);(o|0)===o?t.w=o.toString(10):t.w=Vf(o)}else{if(t.v===void 0)return"";t.w=dl(t.v,kc)}else t.t==="d"?t.w=$i(e,ti(t.v),kc):t.w=$i(e,t.v,kc)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=M0(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=M0(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&s.Fills)throw c}}}function YV(t,e){var n=Pn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Ht(n))}var JV=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,WV=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ZV=/<(?:\w:)?hyperlink [^>]*>/mg,XV=/"(\w*:\w*)"/,QV=/<(?:\w:)?col\b[^>]*[\/]?>/g,e7=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,t7=/<(?:\w:)?pageMargins[^>]*\/>/g,dI=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,n7=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,r7=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function i7(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}});var c=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",g=t.match(WV);g?(d=t.slice(0,g.index),h=t.slice(g.index+g[0].length)):d=h=t;var x=d.match(dI);x?W1(x[0],c,i,n):(x=d.match(n7))&&s7(x[0],x[1]||"",c,i,n);var E=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(E>0){var S=d.slice(E,E+50).match(XV);S&&YV(c,S[1])}var A=d.match(r7);A&&A[1]&&f7(A[1],i);var C=[];if(e.cellStyles){var O=d.match(QV);O&&l7(C,O)}g&&d7(g[1],c,e,f,s,o);var V=h.match(e7);V&&(c["!autofilter"]=c7(V[0]));var D=[],H=h.match(JV);if(H)for(E=0;E!=H.length;++E)D[E]=Pn(H[E].slice(H[E].indexOf('"')+1));var B=h.match(ZV);B&&a7(c,B,r);var j=h.match(t7);if(j&&(c["!margins"]=o7(gt(j[0]))),!c["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(c["!ref"]=Ht(f)),e.sheetRows>0&&c["!ref"]){var N=Pn(c["!ref"]);e.sheetRows<=+N.e.r&&(N.e.r=e.sheetRows-1,N.e.r>f.e.r&&(N.e.r=f.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>f.e.c&&(N.e.c=f.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ht(N))}return C.length>0&&(c["!cols"]=C),D.length>0&&(c["!merges"]=D),c}function W1(t,e,n,r){var i=gt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Gt(vn(i.codeName)))}function s7(t,e,n,r,i){W1(t.slice(0,t.indexOf(">")),n,r,i)}function a7(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=gt(vn(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Gt(s.location))):(s.Target="#"+Gt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=Pn(s.ref),f=c.s.r;f<=c.e.r;++f)for(var d=c.s.c;d<=c.e.c;++d){var h=Et({c:d,r:f});r?(t[f]||(t[f]=[]),t[f][d]||(t[f][d]={t:"z",v:void 0}),t[f][d].l=s):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=s)}}}function o7(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function l7(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=gt(e[r],!0);i.hidden&&(i.hidden=Cn(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Y1(i.width)),Vc(i);s<=o;)t[s++]=Ir(i)}}function c7(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var u7=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function f7(t,e){e.Views||(e.Views=[{}]),(t.match(u7)||[]).forEach(function(n,r){var i=gt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),Cn(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var d7=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Bf("v"),o=Bf("f");return function(f,d,h,g,x,E){for(var S=0,A="",C=[],O=[],V=0,D=0,H=0,B="",j,N,I=0,b=0,F,M,k=0,U=0,Te=Array.isArray(E.CellXf),ye,ae=[],oe=[],Re=Array.isArray(d),ie=[],Le={},Z=!1,z=!!h.sheetStubs,Q=f.split(e),te=0,X=Q.length;te!=X;++te){A=Q[te].trim();var ce=A.length;if(ce!==0){var Ce=0;e:for(S=0;S<ce;++S)switch(A[S]){case">":if(A[S-1]!="/"){++S;break e}if(h&&h.cellStyles){if(N=gt(A.slice(Ce,S),!0),I=N.r!=null?parseInt(N.r,10):I+1,b=-1,h.sheetRows&&h.sheetRows<I)continue;Le={},Z=!1,N.ht&&(Z=!0,Le.hpt=parseFloat(N.ht),Le.hpx=qf(Le.hpt)),N.hidden=="1"&&(Z=!0,Le.hidden=!0),N.outlineLevel!=null&&(Z=!0,Le.level=+N.outlineLevel),Z&&(ie[I-1]=Le)}break;case"<":Ce=S;break}if(Ce>=S)break;if(N=gt(A.slice(Ce,S),!0),I=N.r!=null?parseInt(N.r,10):I+1,b=-1,!(h.sheetRows&&h.sheetRows<I)){g.s.r>I-1&&(g.s.r=I-1),g.e.r<I-1&&(g.e.r=I-1),h&&h.cellStyles&&(Le={},Z=!1,N.ht&&(Z=!0,Le.hpt=parseFloat(N.ht),Le.hpx=qf(Le.hpt)),N.hidden=="1"&&(Z=!0,Le.hidden=!0),N.outlineLevel!=null&&(Z=!0,Le.level=+N.outlineLevel),Z&&(ie[I-1]=Le)),C=A.slice(S).split(t);for(var be=0;be!=C.length&&C[be].trim().charAt(0)=="<";++be);for(C=C.slice(be),S=0;S!=C.length;++S)if(A=C[S].trim(),A.length!==0){if(O=A.match(n),V=S,D=0,H=0,A="<c "+(A.slice(0,1)=="<"?">":"")+A,O!=null&&O.length===2){for(V=0,B=O[1],D=0;D!=B.length&&!((H=B.charCodeAt(D)-64)<1||H>26);++D)V=26*V+H;--V,b=V}else++b;for(D=0;D!=A.length&&A.charCodeAt(D)!==62;++D);if(++D,N=gt(A.slice(0,D),!0),N.r||(N.r=Et({r:I-1,c:b})),B=A.slice(D),j={t:""},(O=B.match(s))!=null&&O[1]!==""&&(j.v=Gt(O[1])),h.cellFormula){if((O=B.match(o))!=null&&O[1]!==""){if(j.f=Gt(vn(O[1])).replace(/\r\n/g,`
`),h.xlfn||(j.f=$2(j.f)),O[0].indexOf('t="array"')>-1)j.F=(B.match(i)||[])[1],j.F.indexOf(":")>-1&&ae.push([Pn(j.F),j.F]);else if(O[0].indexOf('t="shared"')>-1){M=gt(O[0]);var Ee=Gt(vn(O[1]));h.xlfn||(Ee=$2(Ee)),oe[parseInt(M.si,10)]=[M,Ee,N.r]}}else(O=B.match(/<f[^>]*\/>/))&&(M=gt(O[0]),oe[M.si]&&(j.f=w9(oe[M.si][1],oe[M.si][2],N.r)));var Ae=Qr(N.r);for(D=0;D<ae.length;++D)Ae.r>=ae[D][0].s.r&&Ae.r<=ae[D][0].e.r&&Ae.c>=ae[D][0].s.c&&Ae.c<=ae[D][0].e.c&&(j.F=ae[D][1])}if(N.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(z)j.t="z";else continue;else j.t=N.t||"n";switch(g.s.c>b&&(g.s.c=b),g.e.c<b&&(g.e.c=b),j.t){case"n":if(j.v==""||j.v==null){if(!z)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!z)continue;j.t="z"}else F=wf[parseInt(j.v,10)],j.v=F.t,j.r=F.r,h.cellHTML&&(j.h=F.h);break;case"str":j.t="s",j.v=j.v!=null?vn(j.v):"",h.cellHTML&&(j.h=L1(j.v));break;case"inlineStr":O=B.match(r),j.t="s",O!=null&&(F=K1(O[1]))?(j.v=F.t,h.cellHTML&&(j.h=F.h)):j.v="";break;case"b":j.v=Cn(j.v);break;case"d":h.cellDates?j.v=dr(j.v,1):(j.v=ti(dr(j.v,1)),j.t="n");break;case"e":(!h||h.cellText!==!1)&&(j.w=j.v),j.v=Mb[j.v];break}if(k=U=0,ye=null,Te&&N.s!==void 0&&(ye=E.CellXf[N.s],ye!=null&&(ye.numFmtId!=null&&(k=ye.numFmtId),h.cellStyles&&ye.fillId!=null&&(U=ye.fillId))),fI(j,k,U,h,x,E),h.cellDates&&Te&&j.t=="n"&&jc(At[k])&&(j.t="d",j.v=hp(j.v)),N.cm&&h.xlmeta){var Oe=(h.xlmeta.Cell||[])[+N.cm-1];Oe&&Oe.type=="XLDAPR"&&(j.D=!0)}if(Re){var ne=Qr(N.r);d[ne.r]||(d[ne.r]=[]),d[ne.r][ne.c]=j}else d[N.r]=j}}}}ie.length>0&&(d["!rows"]=ie)}})();function h7(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var p7=wl;function m7(){}function g7(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=U5(t),n}function v7(t){var e=Yi(t);return[e]}function x7(t){var e=Tl(t);return[e]}function y7(t){var e=Yi(t),n=t.read_shift(1);return[e,n,"b"]}function _7(t){var e=Tl(t),n=t.read_shift(1);return[e,n,"b"]}function E7(t){var e=Yi(t),n=t.read_shift(1);return[e,n,"e"]}function T7(t){var e=Tl(t),n=t.read_shift(1);return[e,n,"e"]}function w7(t){var e=Yi(t),n=t.read_shift(4);return[e,n,"s"]}function S7(t){var e=Tl(t),n=t.read_shift(4);return[e,n,"s"]}function A7(t){var e=Yi(t),n=Br(t);return[e,n,"n"]}function hI(t){var e=Tl(t),n=Br(t);return[e,n,"n"]}function C7(t){var e=Yi(t),n=q1(t);return[e,n,"n"]}function b7(t){var e=Tl(t),n=q1(t);return[e,n,"n"]}function I7(t){var e=Yi(t),n=H1(t);return[e,n,"is"]}function N7(t){var e=Yi(t),n=Gr(t);return[e,n,"str"]}function R7(t){var e=Tl(t),n=Gr(t);return[e,n,"str"]}function k7(t,e,n){var r=t.l+e,i=Yi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var c=gp(t,r-t.l,n);o[3]=Ur(c,null,i,n.supbooks,n)}else t.l=r;return o}function D7(t,e,n){var r=t.l+e,i=Yi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var c=gp(t,r-t.l,n);o[3]=Ur(c,null,i,n.supbooks,n)}else t.l=r;return o}function M7(t,e,n){var r=t.l+e,i=Yi(t);i.r=n["!row"];var s=Br(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var c=gp(t,r-t.l,n);o[3]=Ur(c,null,i,n.supbooks,n)}else t.l=r;return o}function P7(t,e,n){var r=t.l+e,i=Yi(t);i.r=n["!row"];var s=Gr(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var c=gp(t,r-t.l,n);o[3]=Ur(c,null,i,n.supbooks,n)}else t.l=r;return o}var F7=wl;function O7(t,e){var n=t.l+e,r=wl(t),i=G1(t),s=Gr(t),o=Gr(t),c=Gr(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:c};return o&&(f.Tooltip=o),f}function L7(){}function U7(t,e,n){var r=t.l+e,i=Rb(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var c=GV(t,r-t.l,n);o[1]=c}else t.l=r;return o}function V7(t,e,n){var r=t.l+e,i=wl(t),s=[i];if(n.cellFormula){var o=$V(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}var B7=["left","right","top","bottom","header","footer"];function z7(t){var e={};return B7.forEach(function(n){e[n]=Br(t)}),e}function H7(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function G7(){}function q7(){}function $7(t,e,n,r,i,s,o){if(!t)return t;var c=e||{};r||(r={"!id":{}});var f=c.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,x=!1,E,S,A,C,O,V,D,H,B,j=[];c.biff=12,c["!row"]=0;var N=0,I=!1,b=[],F={},M=c.supbooks||i.supbooks||[[]];if(M.sharedf=F,M.arrayf=b,M.SheetNames=i.SheetNames||i.Sheets.map(function(Re){return Re.name}),!c.supbooks&&(c.supbooks=M,i.Names))for(var k=0;k<i.Names.length;++k)M[0][k+1]=i.Names[k];var U=[],Te=[],ye=!1;O0[16]={n:"BrtShortReal",f:hI};var ae;if(ya(t,function(ie,Le,Z){if(!x)switch(Z){case 148:d=ie;break;case 0:E=ie,c.sheetRows&&c.sheetRows<=E.r&&(x=!0),H=Nr(C=E.r),c["!row"]=E.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=qf(ie.hpt)),Te[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(S={t:ie[2]},ie[2]){case"n":S.v=ie[1];break;case"s":D=wf[ie[1]],S.v=D.t,S.r=D.r;break;case"b":S.v=!!ie[1];break;case"e":S.v=ie[1],c.cellText!==!1&&(S.w=Sl[S.v]);break;case"str":S.t="s",S.v=ie[1];break;case"is":S.t="s",S.v=ie[1].t;break}if((A=o.CellXf[ie[0].iStyleRef])&&fI(S,A.numFmtId,null,c,s,o),O=ie[0].c==-1?O+1:ie[0].c,c.dense?(f[C]||(f[C]=[]),f[C][O]=S):f[ir(O)+H]=S,c.cellFormula){for(I=!1,N=0;N<b.length;++N){var z=b[N];E.r>=z[0].s.r&&E.r<=z[0].e.r&&O>=z[0].s.c&&O<=z[0].e.c&&(S.F=Ht(z[0]),I=!0)}!I&&ie.length>3&&(S.f=ie[3])}if(h.s.r>E.r&&(h.s.r=E.r),h.s.c>O&&(h.s.c=O),h.e.r<E.r&&(h.e.r=E.r),h.e.c<O&&(h.e.c=O),c.cellDates&&A&&S.t=="n"&&jc(At[A.numFmtId])){var Q=nl(S.v);Q&&(S.t="d",S.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 1:case 12:if(!c.sheetStubs||g)break;S={t:"z",v:void 0},O=ie[0].c==-1?O+1:ie[0].c,c.dense?(f[C]||(f[C]=[]),f[C][O]=S):f[ir(O)+H]=S,h.s.r>E.r&&(h.s.r=E.r),h.s.c>O&&(h.s.c=O),h.e.r<E.r&&(h.e.r=E.r),h.e.c<O&&(h.e.c=O),ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 176:j.push(ie);break;case 49:ae=((c.xlmeta||{}).Cell||[])[ie-1];break;case 494:var te=r["!id"][ie.relId];for(te?(ie.Target=te.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=te):ie.relId==""&&(ie.Target="#"+ie.loc),C=ie.rfx.s.r;C<=ie.rfx.e.r;++C)for(O=ie.rfx.s.c;O<=ie.rfx.e.c;++O)c.dense?(f[C]||(f[C]=[]),f[C][O]||(f[C][O]={t:"z",v:void 0}),f[C][O].l=ie):(V=Et({c:O,r:C}),f[V]||(f[V]={t:"z",v:void 0}),f[V].l=ie);break;case 426:if(!c.cellFormula)break;b.push(ie),B=c.dense?f[C][O]:f[ir(O)+H],B.f=Ur(ie[1],h,{r:E.r,c:O},M,c),B.F=Ht(ie[0]);break;case 427:if(!c.cellFormula)break;F[Et(ie[0].s)]=ie[1],B=c.dense?f[C][O]:f[ir(O)+H],B.f=Ur(ie[1],h,{r:E.r,c:O},M,c);break;case 60:if(!c.cellStyles)break;for(;ie.e>=ie.s;)U[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},ye||(ye=!0,Y1(ie.w/256)),Vc(U[ie.e+1]);break;case 161:f["!autofilter"]={ref:Ht(ie)};break;case 476:f["!margins"]=ie;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ie.name&&(i.Sheets[n].CodeName=ie.name),(ie.above||ie.left)&&(f["!outline"]={above:ie.above,left:ie.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ie.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!Le.T){if(!g||c.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},c),delete c.supbooks,delete c["!row"],!f["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(f["!ref"]=Ht(d||h)),c.sheetRows&&f["!ref"]){var oe=Pn(f["!ref"]);c.sheetRows<=+oe.e.r&&(oe.e.r=c.sheetRows-1,oe.e.r>h.e.r&&(oe.e.r=h.e.r),oe.e.r<oe.s.r&&(oe.s.r=oe.e.r),oe.e.c>h.e.c&&(oe.e.c=h.e.c),oe.e.c<oe.s.c&&(oe.s.c=oe.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Ht(oe))}return j.length>0&&(f["!merges"]=j),U.length>0&&(f["!cols"]=U),Te.length>0&&(f["!rows"]=Te),f}function j7(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=Gt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function K7(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var c=0,f=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var x=j7(g);h.s.r=h.s.c=0,h.e.c=c,d=ir(c),x[0].forEach(function(E,S){o[d+Nr(S)]={t:"n",v:E,z:x[1]},f=S}),h.e.r<f&&(h.e.r=f),++c}),c>0&&(o["!ref"]=Ht(h)),o}function Y7(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,c=t.match(dI);return c&&W1(c[0],s,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function J7(t,e){t.l+=10;var n=Gr(t);return{name:n}}function W7(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return ya(t,function(f,d,h){switch(h){case 550:s["!rel"]=f;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),f.name&&(i.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var pI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Z7=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],X7=[],Q7=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function W2(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=Cn(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function Z2(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=Cn(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function mI(t){Z2(t.WBProps,pI),Z2(t.CalcPr,Q7),W2(t.WBView,Z7),W2(t.Sheets,X7),kc.date1904=Cn(t.WBProps.date1904)}var eB="][*?/\\".split("");function tB(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return eB.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var nB=/<\w+:workbook/;function rB(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace($r,function(f,d){var h=gt(f);switch(Bs(h[0])){case"<?xml":break;case"<workbook":f.match(nB)&&(i="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":pI.forEach(function(g){if(h[g[0]]!=null)switch(g[2]){case"bool":n.WBProps[g[0]]=Cn(h[g[0]]);break;case"int":n.WBProps[g[0]]=parseInt(h[g[0]],10);break;default:n.WBProps[g[0]]=h[g[0]]}}),h.codeName&&(n.WBProps.CodeName=vn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Gt(vn(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=vn(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),Cn(h.hidden||"0")&&(s.Hidden=!0),o=d+f.length;break;case"</definedName>":s.Ref=Gt(vn(t.slice(o,d))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return f}),E5.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return mI(n),n}function iB(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Ev(t),n.name=Gr(t),n}function sB(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Gr(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function aB(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function oB(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=V5(t),o=qV(t,0,n),c=G1(t);t.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function lB(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],O0[16]={n:"BrtFRTArchID$",f:aB},ya(t,function(f,d,h){switch(h){case 156:o.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=Ur(f.Ptg,null,null,o,e),delete e.SID,delete f.Ptg,s.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([h,f]):o[0]=[h,f],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(f),o.XTI=o.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!d.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),mI(n),n.Names=s,n.supbooks=o,n}function cB(t,e,n){return e.slice(-4)===".bin"?lB(t,n):rB(t,n)}function uB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?$7(t,r,n,i,s,o,c):i7(t,r,n,i,s,o,c)}function fB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?W7(t,r,n,i,s):Y7(t,r,n,i,s)}function dB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?_9():E9()}function hB(t,e,n,r,i,s,o,c){return e.slice(-4)===".bin"?x9():y9()}function pB(t,e,n,r){return e.slice(-4)===".bin"?FU(t,n,r):NU(t,n,r)}function mB(t,e,n){return tI(t,n)}function gB(t,e,n){return e.slice(-4)===".bin"?Z8(t,n):J8(t,n)}function vB(t,e,n){return e.slice(-4)===".bin"?m9(t,n):u9(t,n)}function xB(t,e,n){return e.slice(-4)===".bin"?o9(t):s9(t)}function yB(t,e,n,r){return n.slice(-4)===".bin"?l9(t,e,n,r):void 0}function _B(t,e,n){return e.slice(-4)===".bin"?r9(t,e,n):i9(t,e,n)}var gI=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,vI=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function os(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(gI),s,o,c,f;if(i)for(f=0;f!=i.length;++f)s=i[f].match(vI),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(o+1),r[c]=s[2].slice(1,s[2].length-1));return r}function EB(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(gI),i,s,o,c;if(r)for(c=0;c!=r.length;++c)i=r[c].match(vI),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Af;function TB(t,e){var n=Af[t]||Gt(t);return n==="General"?dl(e):$i(n,e)}function wB(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Cn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=dr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Gt(e)]=i}function SB(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Sl[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Vf(t.v):t.w=dl(t.v):t.w=TB(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Af[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&jc(r)){var i=nl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function AB(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=wU[r.Pattern]||r.Pattern)}t[e.ID]=e}function CB(t,e,n,r,i,s,o,c,f,d){var h="General",g=r.StyleID,x={};d=d||{};var E=[],S=0;for(g===void 0&&c&&(g=c.StyleID),g===void 0&&o&&(g=o.StyleID);s[g]!==void 0&&(s[g].nf&&(h=s[g].nf),s[g].Interior&&E.push(s[g].Interior),!!s[g].Parent);)g=s[g].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=Cn(t);break;case"String":r.t="s",r.r=y2(Gt(t)),r.v=t.indexOf("<")>-1?Gt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(dr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Gt(t):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Mb[t],d.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=y2(e||t));break}if(SB(r,h,d),d.cellFormula!==!1)if(r.Formula){var A=Gt(r.Formula);A.charCodeAt(0)==61&&(A=A.slice(1)),r.f=Rc(A,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Rc("RC:RC",i):r.ArrayRange&&(r.F=Rc(r.ArrayRange,i),f.push([Pn(r.F),r.F]))}else for(S=0;S<f.length;++S)i.r>=f[S][0].s.r&&i.r<=f[S][0].e.r&&i.c>=f[S][0].s.c&&i.c<=f[S][0].e.c&&(r.F=f[S][1]);d.cellStyles&&(E.forEach(function(C){!x.patternType&&C.patternType&&(x.patternType=C.patternType)}),r.s=x),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function bB(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Kg(t,e){var n=e||{};sb();var r=af(U1(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=vn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=Ir(n);return o.type="string",Hf.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(tt){i.indexOf("<"+tt)>=0&&(s=!0)}),s)return OB(r,n);Af={"General Number":"General","General Date":At[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":At[15],"Short Date":At[14],"Long Time":At[19],"Medium Time":At[18],"Short Time":At[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:At[2],Standard:At[4],Percent:At[10],Scientific:At[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,f=[],d,h={},g=[],x=n.dense?[]:{},E="",S={},A={},C=os('<Data ss:Type="String">'),O=0,V=0,D=0,H={s:{r:2e6,c:2e6},e:{r:0,c:0}},B={},j={},N="",I=0,b=[],F={},M={},k=0,U=[],Te=[],ye={},ae=[],oe,Re=!1,ie=[],Le=[],Z={},z=0,Q=0,te={Sheets:[],WBProps:{date1904:!1}},X={};zf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";c=zf.exec(r);)switch(c[3]=(ce=c[3]).toLowerCase()){case"data":if(ce=="data"){if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break}if(f[f.length-1][1])break;c[1]==="/"?CB(r.slice(O,c.index),N,C,f[f.length-1][0]=="comment"?ye:S,{c:V,r:D},B,ae[V],A,ie,n):(N="",C=os(c[0]),O=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(Te.length>0&&(S.c=Te),(!n.sheetRows||n.sheetRows>D)&&S.v!==void 0&&(n.dense?(x[D]||(x[D]=[]),x[D][V]=S):x[ir(V)+Nr(D)]=S),S.HRef&&(S.l={Target:Gt(S.HRef)},S.HRefScreenTip&&(S.l.Tooltip=S.HRefScreenTip),delete S.HRef,delete S.HRefScreenTip),(S.MergeAcross||S.MergeDown)&&(z=V+(parseInt(S.MergeAcross,10)|0),Q=D+(parseInt(S.MergeDown,10)|0),b.push({s:{c:V,r:D},e:{c:z,r:Q}})),!n.sheetStubs)S.MergeAcross?V=z+1:++V;else if(S.MergeAcross||S.MergeDown){for(var Ce=V;Ce<=z;++Ce)for(var be=D;be<=Q;++be)(Ce>V||be>D)&&(n.dense?(x[be]||(x[be]=[]),x[be][Ce]={t:"z"}):x[ir(Ce)+Nr(be)]={t:"z"});V=z+1}else++V;else S=EB(c[0]),S.Index&&(V=+S.Index-1),V<H.s.c&&(H.s.c=V),V>H.e.c&&(H.e.c=V),c[0].slice(-2)==="/>"&&++V,Te=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(D<H.s.r&&(H.s.r=D),D>H.e.r&&(H.e.r=D),c[0].slice(-2)==="/>"&&(A=os(c[0]),A.Index&&(D=+A.Index-1)),V=0,++D):(A=os(c[0]),A.Index&&(D=+A.Index-1),Z={},(A.AutoFitHeight=="0"||A.Height)&&(Z.hpx=parseInt(A.Height,10),Z.hpt=eI(Z.hpx),Le[D]=Z),A.Hidden=="1"&&(Z.hidden=!0,Le[D]=Z));break;case"worksheet":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));g.push(E),H.s.r<=H.e.r&&H.s.c<=H.e.c&&(x["!ref"]=Ht(H),n.sheetRows&&n.sheetRows<=H.e.r&&(x["!fullref"]=x["!ref"],H.e.r=n.sheetRows-1,x["!ref"]=Ht(H))),b.length&&(x["!merges"]=b),ae.length>0&&(x["!cols"]=ae),Le.length>0&&(x["!rows"]=Le),h[E]=x}else H={s:{r:2e6,c:2e6},e:{r:0,c:0}},D=V=0,f.push([c[3],!1]),d=os(c[0]),E=Gt(d.Name),x=n.dense?[]:{},b=[],ie=[],Le=[],X={name:E,Hidden:0},te.Sheets.push(X);break;case"table":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;f.push([c[3],!1]),ae=[],Re=!1}break;case"style":c[1]==="/"?AB(B,j,n):j=os(c[0]);break;case"numberformat":j.nf=Gt(os(c[0]).Format||"General"),Af[j.nf]&&(j.nf=Af[j.nf]);for(var Ee=0;Ee!=392&&At[Ee]!=j.nf;++Ee);if(Ee==392){for(Ee=57;Ee!=392;++Ee)if(At[Ee]==null){sl(j.nf,Ee);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(oe=os(c[0]),oe.Hidden&&(oe.hidden=!0,delete oe.Hidden),oe.Width&&(oe.wpx=parseInt(oe.Width,10)),!Re&&oe.wpx>10){Re=!0,Xr=Xb;for(var Ae=0;Ae<ae.length;++Ae)ae[Ae]&&Vc(ae[Ae])}Re&&Vc(oe),ae[oe.Index-1||ae.length]=oe;for(var Oe=0;Oe<+oe.Span;++Oe)ae[ae.length]=Ir(oe);break;case"namedrange":if(c[1]==="/")break;te.Names||(te.Names=[]);var ne=gt(c[0]),mt={Name:ne.Name,Ref:Rc(ne.RefersTo.slice(1),{r:0,c:0})};te.Sheets.length>0&&(mt.Sheet=te.Sheets.length-1),te.Names.push(mt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?N+=r.slice(I,c.index):I=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;j.Interior=os(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?uL(F,ce,r.slice(k,c.index)):k=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else f.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));bB(ye),Te.push(ye)}else f.push([c[3],!1]),d=os(c[0]),ye={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Je=os(c[0]);x["!autofilter"]={ref:Rc(Je.Range).replace(/\$/g,"")},f.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"null":break;default:if(f.length==0&&c[3]=="document"||f.length==0&&c[3]=="uof")return rw(r,n);var Qe=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Qe=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Qe=!1}break;case"excelworkbook":switch(c[3]){case"date1904":te.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Qe=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Qe=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(k,c.index)){case"SheetHidden":X.Hidden=1;break;case"SheetVeryHidden":X.Hidden=2;break}else k=c.index+c[0].length;break;case"header":x["!margins"]||Sf(x["!margins"]={},"xlml"),isNaN(+gt(c[0]).Margin)||(x["!margins"].header=+gt(c[0]).Margin);break;case"footer":x["!margins"]||Sf(x["!margins"]={},"xlml"),isNaN(+gt(c[0]).Margin)||(x["!margins"].footer=+gt(c[0]).Margin);break;case"pagemargins":var Ge=gt(c[0]);x["!margins"]||Sf(x["!margins"]={},"xlml"),isNaN(+Ge.Top)||(x["!margins"].top=+Ge.Top),isNaN(+Ge.Left)||(x["!margins"].left=+Ge.Left),isNaN(+Ge.Right)||(x["!margins"].right=+Ge.Right),isNaN(+Ge.Bottom)||(x["!margins"].bottom=+Ge.Bottom);break;case"displayrighttoleft":te.Views||(te.Views=[]),te.Views[0]||(te.Views[0]={}),te.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":x["!outline"]||(x["!outline"]={}),x["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Qe=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Qe=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Qe=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Qe=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Qe=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Qe=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Qe=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Qe=!1}break;case"smarttags":break;default:Qe=!1;break}if(Qe||c[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?wB(M,ce,U,r.slice(k,c.index)):(U=c,k=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+f.join("|")}var ze={};return!n.bookSheets&&!n.bookProps&&(ze.Sheets=h),ze.SheetNames=g,ze.Workbook=te,ze.SSF=Ir(At),ze.Props=F,ze.Custprops=M,ze}function Av(t,e){switch(Q1(e=e||{}),e.type||"base64"){case"base64":return Kg(Ci(t),e);case"binary":case"buffer":case"file":return Kg(t,e);case"array":return Kg(El(t),e)}}function IB(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=H5(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=G5(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var NB=[60,1084,2066,2165,2175];function RB(t,e,n,r,i){var s=r,o=[],c=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}o.push(c),n.l+=s;for(var f=la(n,n.l),d=Cv[f],h=0;d!=null&&NB.indexOf(f)>-1;)s=la(n,n.l+2),h=n.l+4,f==2066?h+=4:(f==2165||f==2175)&&(h+=12),c=n.slice(h,n.l+4+s),o.push(c),n.l+=4+s,d=Cv[f=la(n,n.l)];var g=io(o);Cr(g,0);var x=0;g.lens=[];for(var E=0;E<o.length;++E)g.lens.push(x),x+=o[E].length;if(g.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+g.length+" < "+r;return e.f(g,g.length,i)}function Rs(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=At[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Sl[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Vf(t.v):t.w=dl(t.v):t.w=$i(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&jc(At[r]||String(r))){var i=nl(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Jh(t,e,n){return{v:t,ixfe:e,t:n}}function kB(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},o={},c=null,f=[],d="",h={},g,x="",E,S,A,C,O={},V=[],D,H,B=[],j=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},b=function(ht){return ht<8?al[ht]:ht<64&&j[ht-8]||al[ht]},F=function(ht,Ft,Xt){var bt=Ft.XF.data;if(!(!bt||!bt.patternType||!Xt||!Xt.cellStyles)){Ft.s={},Ft.s.patternType=bt.patternType;var Qt;(Qt=Gf(b(bt.icvFore)))&&(Ft.s.fgColor={rgb:Qt}),(Qt=Gf(b(bt.icvBack)))&&(Ft.s.bgColor={rgb:Qt})}},M=function(ht,Ft,Xt){if(!(Z>1)&&!(Xt.sheetRows&&ht.r>=Xt.sheetRows)){if(Xt.cellStyles&&Ft.XF&&Ft.XF.data&&F(ht,Ft,Xt),delete Ft.ixfe,delete Ft.XF,g=ht,x=Et(ht),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<o.s.r&&(o.s.r=ht.r),ht.c<o.s.c&&(o.s.c=ht.c),ht.r+1>o.e.r&&(o.e.r=ht.r+1),ht.c+1>o.e.c&&(o.e.c=ht.c+1),Xt.cellFormula&&Ft.f){for(var bt=0;bt<V.length;++bt)if(!(V[bt][0].s.c>ht.c||V[bt][0].s.r>ht.r)&&!(V[bt][0].e.c<ht.c||V[bt][0].e.r<ht.r)){Ft.F=Ht(V[bt][0]),(V[bt][0].s.c!=ht.c||V[bt][0].s.r!=ht.r)&&delete Ft.f,Ft.f&&(Ft.f=""+Ur(V[bt][1],o,ht,ie,k));break}}Xt.dense?(i[ht.r]||(i[ht.r]=[]),i[ht.r][ht.c]=Ft):i[x]=Ft}},k={enc:!1,sbcch:0,snames:[],sharedf:O,arrayf:V,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var U,Te=[],ye=[],ae=[],oe=[],Re=!1,ie=[];ie.SheetNames=k.snames,ie.sharedf=k.sharedf,ie.arrayf=k.arrayf,ie.names=[],ie.XTI=[];var Le=0,Z=0,z=0,Q=[],te=[],X;k.codepage=1200,us(1200);for(var ce=!1;t.l<t.length-1;){var Ce=t.l,be=t.read_shift(2);if(be===0&&Le===10)break;var Ee=t.l===t.length?0:t.read_shift(2),Ae=Cv[be];if(Ae&&Ae.f){if(e.bookSheets&&Le===133&&be!==133)break;if(Le=be,Ae.r===2||Ae.r==12){var Oe=t.read_shift(2);if(Ee-=2,!k.enc&&Oe!==be&&((Oe&255)<<8|Oe>>8)!==be)throw new Error("rt mismatch: "+Oe+"!="+be);Ae.r==12&&(t.l+=10,Ee-=10)}var ne={};if(be===10?ne=Ae.f(t,Ee,k):ne=RB(be,Ae,t,Ee,k),Z==0&&[9,521,1033,2057].indexOf(Le)===-1)continue;switch(be){case 34:n.opts.Date1904=N.WBProps.date1904=ne;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(k.enc||(t.l=0),k.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=ne;break;case 66:var mt=Number(ne);switch(mt){case 21010:mt=1200;break;case 32768:mt=1e4;break;case 32769:mt=1252;break}us(k.codepage=mt),ce=!0;break;case 317:k.rrtabid=ne;break;case 25:k.winlocked=ne;break;case 439:n.opts.RefreshAll=ne;break;case 12:n.opts.CalcCount=ne;break;case 16:n.opts.CalcDelta=ne;break;case 17:n.opts.CalcIter=ne;break;case 13:n.opts.CalcMode=ne;break;case 14:n.opts.CalcPrecision=ne;break;case 95:n.opts.CalcSaveRecalc=ne;break;case 15:k.CalcRefMode=ne;break;case 2211:n.opts.FullCalc=ne;break;case 129:ne.fDialog&&(i["!type"]="dialog"),ne.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ne.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:B.push(ne);break;case 430:ie.push([ne]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(ne);break;case 24:case 536:X={Name:ne.Name,Ref:Ur(ne.rgce,o,null,ie,k)},ne.itab>0&&(X.Sheet=ne.itab-1),ie.names.push(X),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(te[ne.itab-1]={ref:Ht(ne.rgce[0][0][1][2])});break;case 22:k.ExternCount=ne;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(ne),ie.XTI=ie.XTI.concat(ne);break;case 2196:if(k.biff<8)break;X!=null&&(X.Comment=ne[1]);break;case 18:i["!protect"]=ne;break;case 19:ne!==0&&k.WTF&&console.error("Password verifier: "+ne);break;case 133:s[ne.pos]=ne,k.snames.push(ne.name);break;case 10:{if(--Z)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Ht(o),e.sheetRows&&e.sheetRows<=o.e.r){var Je=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ht(o),o.e.r=Je}o.e.r++,o.e.c++}Te.length>0&&(i["!merges"]=Te),ye.length>0&&(i["!objects"]=ye),ae.length>0&&(i["!cols"]=ae),oe.length>0&&(i["!rows"]=oe),N.Sheets.push(I)}d===""?h=i:r[d]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[be]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),k.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(k.biff=5,ce=!0,us(k.codepage=28591)),k.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(k.biff=2),Z++)break;if(i=e.dense?[]:{},k.biff<8&&!ce&&(ce=!0,us(k.codepage=e.codepage||1252)),k.biff<5||ne.BIFFVer==0&&ne.dt==4096){d===""&&(d="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Qe={pos:t.l-Ee,name:d};s[Qe.pos]=Qe,k.snames.push(d)}else d=(s[Ce]||{name:""}).name;ne.dt==32&&(i["!type"]="chart"),ne.dt==64&&(i["!type"]="macro"),Te=[],ye=[],k.arrayf=V=[],ae=[],oe=[],Re=!1,I={Hidden:(s[Ce]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ne.r]||[])[ne.c]:i[Et({c:ne.c,r:ne.r})])&&++ne.c,D={ixfe:ne.ixfe,XF:B[ne.ixfe]||{},v:ne.val,t:"n"},z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 5:case 517:D={ixfe:ne.ixfe,XF:B[ne.ixfe],v:ne.val,t:ne.t},z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 638:D={ixfe:ne.ixfe,XF:B[ne.ixfe],v:ne.rknum,t:"n"},z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 189:for(var Ge=ne.c;Ge<=ne.C;++Ge){var ze=ne.rkrec[Ge-ne.c][0];D={ixfe:ze,XF:B[ze],v:ne.rkrec[Ge-ne.c][1],t:"n"},z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:Ge,r:ne.r},D,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){c=ne;break}if(D=Jh(ne.val,ne.cell.ixfe,ne.tt),D.XF=B[D.ixfe],e.cellFormula){var tt=ne.formula;if(tt&&tt[0]&&tt[0][0]&&tt[0][0][0]=="PtgExp"){var rt=tt[0][0][1][0],ut=tt[0][0][1][1],Kt=Et({r:rt,c:ut});O[Kt]?D.f=""+Ur(ne.formula,o,ne.cell,ie,k):D.F=((e.dense?(i[rt]||[])[ut]:i[Kt])||{}).F}else D.f=""+Ur(ne.formula,o,ne.cell,ie,k)}z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M(ne.cell,D,e),c=ne}break;case 7:case 519:if(c)c.val=ne,D=Jh(ne,c.cell.ixfe,"s"),D.XF=B[D.ixfe],e.cellFormula&&(D.f=""+Ur(c.formula,o,c.cell,ie,k)),z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M(c.cell,D,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{V.push(ne);var hn=Et(ne[0].s);if(E=e.dense?(i[ne[0].s.r]||[])[ne[0].s.c]:i[hn],e.cellFormula&&E){if(!c||!hn||!E)break;E.f=""+Ur(ne[1],o,ne[0],ie,k),E.F=Ht(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(x){if(!c)break;O[Et(c.cell)]=ne[0],E=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[Et(c.cell)],(E||{}).f=""+Ur(ne[0],o,g,ie,k)}}break;case 253:D=Jh(f[ne.isst].t,ne.ixfe,"s"),f[ne.isst].h&&(D.h=f[ne.isst].h),D.XF=B[D.ixfe],z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 513:e.sheetStubs&&(D={ixfe:ne.ixfe,XF:B[ne.ixfe],t:"z"},z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e));break;case 190:if(e.sheetStubs)for(var Hn=ne.c;Hn<=ne.C;++Hn){var dt=ne.ixfe[Hn-ne.c];D={ixfe:dt,XF:B[dt],t:"z"},z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:Hn,r:ne.r},D,e)}break;case 214:case 516:case 4:D=Jh(ne.val,ne.ixfe,"s"),D.XF=B[D.ixfe],z>0&&(D.z=Q[D.ixfe>>8&63]),Rs(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 0:case 512:Z===1&&(o=ne);break;case 252:f=ne;break;case 1054:if(k.biff==4){Q[z++]=ne[1];for(var Yt=0;Yt<z+163&&At[Yt]!=ne[1];++Yt);Yt>=163&&sl(ne[1],z+163)}else sl(ne[1],ne[0]);break;case 30:{Q[z++]=ne;for(var vt=0;vt<z+163&&At[vt]!=ne;++vt);vt>=163&&sl(ne,z+163)}break;case 229:Te=Te.concat(ne);break;case 93:ye[ne.cmo[0]]=k.lastobj=ne;break;case 438:k.lastobj.TxO=ne;break;case 127:k.lastobj.ImData=ne;break;case 440:for(C=ne[0].s.r;C<=ne[0].e.r;++C)for(A=ne[0].s.c;A<=ne[0].e.c;++A)E=e.dense?(i[C]||[])[A]:i[Et({c:A,r:C})],E&&(E.l=ne[1]);break;case 2048:for(C=ne[0].s.r;C<=ne[0].e.r;++C)for(A=ne[0].s.c;A<=ne[0].e.c;++A)E=e.dense?(i[C]||[])[A]:i[Et({c:A,r:C})],E&&E.l&&(E.l.Tooltip=ne[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;E=e.dense?(i[ne[0].r]||[])[ne[0].c]:i[Et(ne[0])];var ln=ye[ne[2]];E||(e.dense?(i[ne[0].r]||(i[ne[0].r]=[]),E=i[ne[0].r][ne[0].c]={t:"z"}):E=i[Et(ne[0])]={t:"z"},o.e.r=Math.max(o.e.r,ne[0].r),o.s.r=Math.min(o.s.r,ne[0].r),o.e.c=Math.max(o.e.c,ne[0].c),o.s.c=Math.min(o.s.c,ne[0].c)),E.c||(E.c=[]),S={a:ne[1],t:ln.TxO.t},E.c.push(S)}break;case 2173:QU(B[ne.ixfe],ne.ext);break;case 125:{if(!k.cellStyles)break;for(;ne.e>=ne.s;)ae[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},Re||(Re=!0,Y1(ne.w/256)),Vc(ae[ne.e+1])}break;case 520:{var Rt={};ne.level!=null&&(oe[ne.r]=Rt,Rt.level=ne.level),ne.hidden&&(oe[ne.r]=Rt,Rt.hidden=!0),ne.hpt&&(oe[ne.r]=Rt,Rt.hpt=ne.hpt,Rt.hpx=qf(ne.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Sf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[be]]=ne;break;case 161:i["!margins"]||Sf(i["!margins"]={}),i["!margins"].header=ne.header,i["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(N.Views[0].RTL=!0);break;case 146:j=ne;break;case 2198:U=ne;break;case 140:H=ne;break;case 442:d?I.CodeName=ne||I.name:N.WBProps.CodeName=ne||"ThisWorkbook";break}}else Ae||console.error("Missing Info for XLS Record 0x"+be.toString(16)),t.l+=Ee}return n.SheetNames=Ls(s).sort(function(Gn,ht){return Number(Gn)-Number(ht)}).map(function(Gn){return s[Gn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&te.forEach(function(Gn,ht){n.Sheets[n.SheetNames[ht]]["!autofilter"]=Gn}),n.Strings=f,n.SSF=Ir(At),k.enc&&(n.Encryption=k.enc),U&&(n.Themes=U),n.Metadata={},H!==void 0&&(n.Metadata.Country=H),ie.names.length>0&&(N.Names=ie.names),n.Workbook=N,n}var X2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function DB(t,e,n){var r=zt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=F2(r,J5,X2.DSI);for(var s in i)e[s]=i[s]}catch(d){if(n.WTF)throw d}var o=zt.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var c=F2(o,W5,X2.SI);for(var f in c)e[f]==null&&(e[f]=c[f])}catch(d){if(n.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(Fb(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function xI(t,e){e||(e={}),Q1(e),KC(),e.codepage&&k1(e.codepage);var n,r;if(t.FullPaths){if(zt.find(t,"/encryption"))throw new Error("File is password-protected");n=zt.find(t,"!CompObj"),r=zt.find(t,"/Workbook")||zt.find(t,"/Book")}else{switch(e.type){case"base64":t=cs(Ci(t));break;case"binary":t=cs(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Cr(t,0),r={content:t}}var i,s;if(n&&IB(n),e.bookProps&&!e.bookSheets)i={};else{var o=Lt?"buffer":"array";if(r&&r.content)i=kB(r.content,e);else if((s=zt.find(t,"PerfectOffice_MAIN"))&&s.content)i=Tf.to_workbook(s.content,(e.type=o,e));else if((s=zt.find(t,"NativeContent_MAIN"))&&s.content)i=Tf.to_workbook(s.content,(e.type=o,e));else throw(s=zt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&zt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=v9(t))}var c={};return t.FullPaths&&DB(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var O0={0:{f:h7},1:{f:v7},2:{f:C7},3:{f:E7},4:{f:y7},5:{f:A7},6:{f:N7},7:{f:w7},8:{f:P7},9:{f:M7},10:{f:k7},11:{f:D7},12:{f:x7},13:{f:b7},14:{f:T7},15:{f:_7},16:{f:hI},17:{f:R7},18:{f:S7},19:{f:H1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oB},40:{},42:{},43:{f:kU},44:{f:RU},45:{f:DU},46:{f:PU},47:{f:MU},48:{},49:{f:F5},50:{},51:{f:t9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Kb},62:{f:I7},63:{f:a9},64:{f:G7},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:H7},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:g7},148:{f:p7,p:16},151:{f:L7},152:{},153:{f:sB},154:{},155:{},156:{f:iB},157:{},158:{},159:{T:1,f:W8},160:{T:-1},161:{T:1,f:wl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:F7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:e9},336:{T:-1},337:{f:n9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ev},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jb},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:U7},427:{f:V7},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:z7},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:m7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:O7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ev},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:p9},633:{T:1},634:{T:-1},635:{T:1,f:h9},636:{T:-1},637:{f:L5},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:J7},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:q7},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Cv={6:{f:$g},10:{f:to},12:{f:Xn},13:{f:Xn},14:{f:Un},15:{f:Un},16:{f:Br},17:{f:Un},18:{f:Un},19:{f:Xn},20:{f:V2},21:{f:V2},23:{f:jb},24:{f:z2},25:{f:Un},26:{},27:{},28:{f:f8},29:{},34:{f:Un},35:{f:B2},38:{f:Br},39:{f:Br},40:{f:Br},41:{f:Br},42:{f:Un},43:{f:Un},47:{f:mU},49:{f:jL},51:{f:Xn},60:{},61:{f:GL},64:{f:Un},65:{f:$L},66:{f:Xn},77:{},80:{},81:{},82:{},85:{f:Xn},89:{},90:{},91:{},92:{f:FL},93:{f:h8},94:{},95:{f:Un},96:{},97:{},99:{f:Un},125:{f:Kb},128:{f:n8},129:{f:OL},130:{f:Xn},131:{f:Un},132:{f:Un},133:{f:LL},134:{},140:{f:y8},141:{f:Xn},144:{},146:{f:E8},151:{},152:{},153:{},154:{},155:{},156:{f:Xn},157:{},158:{},160:{f:C8},161:{f:w8},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:XL},190:{f:QL},193:{f:to},197:{},198:{},199:{},200:{},201:{},202:{f:Un},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Xn},220:{},221:{f:Un},222:{},224:{f:t8},225:{f:PL},226:{f:to},227:{},229:{f:d8},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:UL},253:{f:KL},255:{f:VL},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Bb},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Un},353:{f:to},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:i8},431:{f:Un},432:{},433:{},434:{},437:{},438:{f:g8},439:{f:Un},440:{f:v8},441:{},442:{f:cd},443:{},444:{f:Xn},445:{},446:{},448:{f:to},449:{f:HL,r:2},450:{f:to},512:{f:L2},513:{f:A8},515:{f:r8},516:{f:YL},517:{f:U2},519:{f:b8},520:{f:BL},523:{},545:{f:H2},549:{f:O2},566:{},574:{f:qL},638:{f:ZL},659:{},1048:{},1054:{f:JL},1084:{},1212:{f:l8},2048:{f:x8},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:jh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:to},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:T8,r:12},2173:{f:XU,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Un,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:o8,r:12},2197:{},2198:{f:jU,r:12},2199:{},2200:{},2201:{},2202:{f:c8,r:12},2203:{f:to},2204:{},2205:{},2206:{},2207:{},2211:{f:zL},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Xn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:S8},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:_8},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:L2},1:{},2:{f:k8},3:{f:R8},4:{f:N8},5:{f:U2},7:{f:D8},8:{},9:{f:jh},11:{},22:{f:Xn},30:{f:WL},31:{},32:{},33:{f:H2},36:{},37:{f:O2},50:{f:M8},62:{},52:{},67:{},68:{f:Xn},69:{},86:{},126:{},127:{f:I8},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:P8},223:{},234:{},354:{},421:{},518:{f:$g},521:{f:jh},536:{f:z2},547:{f:B2},561:{},579:{},1030:{f:$g},1033:{f:jh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ls(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&bb(n)&&t.push(n)}}function Q2(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,c=s&&s.index||t.length,f=r5(t.slice(o,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,g=0,x=0,E={s:{r:1e7,c:1e7},e:{r:0,c:0}},S=[];for(o=0;o<f.length;++o){var A=f[o].trim(),C=A.slice(0,3).toLowerCase();if(C=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}h=0;continue}if(!(C!="<td"&&C!="<th")){var O=A.split(/<\/t[dh]>/i);for(c=0;c<O.length;++c){var V=O[c].trim();if(V.match(/<t[dh]/i)){for(var D=V,H=0;D.charAt(0)=="<"&&(H=D.indexOf(">"))>-1;)D=D.slice(H+1);for(var B=0;B<S.length;++B){var j=S[B];j.s.c==h&&j.s.r<d&&d<=j.e.r&&(h=j.e.c+1,B=-1)}var N=gt(V.slice(0,V.indexOf(">")));x=N.colspan?+N.colspan:1,((g=+N.rowspan)>1||x>1)&&S.push({s:{r:d,c:h},e:{r:d+(g||1)-1,c:h+x-1}});var I=N.t||N["data-t"]||"";if(!D.length){h+=x;continue}if(D=pb(D),E.s.r>d&&(E.s.r=d),E.e.r<d&&(E.e.r=d),E.s.c>h&&(E.s.c=h),E.e.c<h&&(E.e.c=h),!D.length){h+=x;continue}var b={t:"s",v:D};n.raw||!D.trim().length||I=="s"||(D==="TRUE"?b={t:"b",v:!0}:D==="FALSE"?b={t:"b",v:!1}:isNaN(hs(D))?isNaN(Uc(D).getDate())||(b={t:"d",v:dr(D)},n.cellDates||(b={t:"n",v:ti(b.v)}),b.z=n.dateNF||At[14]):b={t:"n",v:hs(D)}),n.dense?(r[d]||(r[d]=[]),r[d][h]=b):r[Et({r:d,c:h})]=b,h+=x}}}}return r["!ref"]=Ht(E),S.length&&(r["!merges"]=S),r}function MB(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,f=0,d=0;d<i.length;++d)if(!(i[d].s.r>n||i[d].s.c>o)&&!(i[d].e.r<n||i[d].e.c<o)){if(i[d].s.r<n||i[d].s.c<o){c=-1;break}c=i[d].e.r-i[d].s.r+1,f=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var h=Et({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[h],x=g&&g.v!=null&&(g.h||L1(g.w||(pa(g),g.w)||""))||"",E={};c>1&&(E.rowspan=c),f>1&&(E.colspan=f),r.editable?x='<span contenteditable="true">'+x+"</span>":g&&(E["data-t"]=g&&g.t||"z",g.v!=null&&(E["data-v"]=g.v),g.z!=null&&(E["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(x='<a href="'+g.l.Target+'">'+x+"</a>")),E.id=(r.id||"sjs")+"-"+h,s.push(y5("td",x,E))}}var S="<tr>";return S+s.join("")+"</tr>"}var PB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',FB="</body></html>";function OB(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Co(Q2(n[0],e),e);var r=tx();return n.forEach(function(i,s){nx(r,Q2(i,e),"Sheet"+(s+1))}),r}function LB(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function UB(t,e){var n=e||{},r=n.header!=null?n.header:PB,i=n.footer!=null?n.footer:FB,s=[r],o=Kc(t["!ref"]);n.dense=Array.isArray(t),s.push(LB(t,o,n));for(var c=o.s.r;c<=o.e.r;++c)s.push(MB(t,o,c,n));return s.push("</table>"+i),s.join("")}function yI(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Qr(r.origin):r.origin;i=o.r,s=o.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=Kc(t["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),i==-1&&(d.e.r=i=h.e.r+1)}var g=[],x=0,E=t["!rows"]||(t["!rows"]=[]),S=0,A=0,C=0,O=0,V=0,D=0;for(t["!cols"]||(t["!cols"]=[]);S<c.length&&A<f;++S){var H=c[S];if(ew(H)){if(r.display)continue;E[A]={hidden:!0}}var B=H.children;for(C=O=0;C<B.length;++C){var j=B[C];if(!(r.display&&ew(j))){var N=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):pb(j.innerHTML),I=j.getAttribute("data-z")||j.getAttribute("z");for(x=0;x<g.length;++x){var b=g[x];b.s.c==O+s&&b.s.r<A+i&&A+i<=b.e.r&&(O=b.e.c+1-s,x=-1)}D=+j.getAttribute("colspan")||1,((V=+j.getAttribute("rowspan")||1)>1||D>1)&&g.push({s:{r:A+i,c:O+s},e:{r:A+i+(V||1)-1,c:O+s+(D||1)-1}});var F={t:"s",v:N},M=j.getAttribute("data-t")||j.getAttribute("t")||"";N!=null&&(N.length==0?F.t=M||"z":r.raw||N.trim().length==0||M=="s"||(N==="TRUE"?F={t:"b",v:!0}:N==="FALSE"?F={t:"b",v:!1}:isNaN(hs(N))?isNaN(Uc(N).getDate())||(F={t:"d",v:dr(N)},r.cellDates||(F={t:"n",v:ti(F.v)}),F.z=r.dateNF||At[14]):F={t:"n",v:hs(N)})),F.z===void 0&&I!=null&&(F.z=I);var k="",U=j.getElementsByTagName("A");if(U&&U.length)for(var Te=0;Te<U.length&&!(U[Te].hasAttribute("href")&&(k=U[Te].getAttribute("href"),k.charAt(0)!="#"));++Te);k&&k.charAt(0)!="#"&&(F.l={Target:k}),r.dense?(t[A+i]||(t[A+i]=[]),t[A+i][O+s]=F):t[Et({c:O+s,r:A+i})]=F,d.e.c<O+s&&(d.e.c=O+s),O+=D}}++A}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,A-1+i),t["!ref"]=Ht(d),A>=f&&(t["!fullref"]=Ht((d.e.r=c.length-S+A-1+i,d))),t}function _I(t,e){var n=e||{},r=n.dense?[]:{};return yI(r,t,e)}function VB(t,e){return Co(_I(t,e),e)}function ew(t){var e="",n=BB(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function BB(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function zB(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Gt(e.replace(/<[^>]*>/g,""));return[n]}var tw={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function EI(t,e){var n=e||{},r=U1(t),i=[],s,o,c={name:""},f="",d=0,h,g,x={},E=[],S=n.dense?[]:{},A,C,O={value:""},V="",D=0,H=[],B=-1,j=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,b={},F=[],M={},k=0,U=0,Te=[],ye=1,ae=1,oe=[],Re={Names:[]},ie={},Le=["",""],Z=[],z={},Q="",te=0,X=!1,ce=!1,Ce=0;for(zf.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");A=zf.exec(r);)switch(A[3]=A[3].replace(/_.*$/,"")){case"table":case"":A[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?S["!ref"]=Ht(N):S["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=N.e.r&&(S["!fullref"]=S["!ref"],N.e.r=n.sheetRows-1,S["!ref"]=Ht(N)),F.length&&(S["!merges"]=F),Te.length&&(S["!rows"]=Te),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),E.push(h.name),x[h.name]=S,ce=!1):A[0].charAt(A[0].length-2)!=="/"&&(h=gt(A[0],!1),B=j=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,S=n.dense?[]:{},F=[],Te=[],ce=!0);break;case"table-row-group":A[1]==="/"?--I:++I;break;case"table-row":case"":if(A[1]==="/"){B+=ye,ye=1;break}if(g=gt(A[0],!1),g.?B=g.-1:B==-1&&(B=0),ye=+g["number-rows-repeated"]||1,ye<10)for(Ce=0;Ce<ye;++Ce)I>0&&(Te[B+Ce]={level:I});j=-1;break;case"covered-table-cell":A[1]!=="/"&&++j,n.sheetStubs&&(n.dense?(S[B]||(S[B]=[]),S[B][j]={t:"z"}):S[Et({r:B,c:j})]={t:"z"}),V="",H=[];break;case"table-cell":case"":if(A[0].charAt(A[0].length-2)==="/")++j,O=gt(A[0],!1),ae=parseInt(O["number-columns-repeated"]||"1",10),C={t:"z",v:null},O.formula&&n.cellFormula!=!1&&(C.f=J2(Gt(O.formula))),(O.||O["value-type"])=="string"&&(C.t="s",C.v=Gt(O["string-value"]||""),n.dense?(S[B]||(S[B]=[]),S[B][j]=C):S[Et({r:B,c:j})]=C),j+=ae-1;else if(A[1]!=="/"){++j,V="",D=0,H=[],ae=1;var be=ye?B+ye-1:B;if(j>N.e.c&&(N.e.c=j),j<N.s.c&&(N.s.c=j),B<N.s.r&&(N.s.r=B),be>N.e.r&&(N.e.r=be),O=gt(A[0],!1),Z=[],z={},C={t:O.||O["value-type"],v:null},n.cellFormula)if(O.formula&&(O.formula=Gt(O.formula)),O["number-matrix-columns-spanned"]&&O["number-matrix-rows-spanned"]&&(k=parseInt(O["number-matrix-rows-spanned"],10)||0,U=parseInt(O["number-matrix-columns-spanned"],10)||0,M={s:{r:B,c:j},e:{r:B+k-1,c:j+U-1}},C.F=Ht(M),oe.push([M,C.F])),O.formula)C.f=J2(O.formula);else for(Ce=0;Ce<oe.length;++Ce)B>=oe[Ce][0].s.r&&B<=oe[Ce][0].e.r&&j>=oe[Ce][0].s.c&&j<=oe[Ce][0].e.c&&(C.F=oe[Ce][1]);switch((O["number-columns-spanned"]||O["number-rows-spanned"])&&(k=parseInt(O["number-rows-spanned"],10)||0,U=parseInt(O["number-columns-spanned"],10)||0,M={s:{r:B,c:j},e:{r:B+k-1,c:j+U-1}},F.push(M)),O["number-columns-repeated"]&&(ae=parseInt(O["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=Cn(O["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(O.value);break;case"percentage":C.t="n",C.v=parseFloat(O.value);break;case"currency":C.t="n",C.v=parseFloat(O.value);break;case"date":C.t="d",C.v=dr(O["date-value"]),n.cellDates||(C.t="n",C.v=ti(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=e5(O["time-value"])/86400,n.cellDates&&(C.t="d",C.v=hp(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(O.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",O["string-value"]!=null&&(V=Gt(O["string-value"]),H=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(X=!1,C.t==="s"&&(C.v=V||"",H.length&&(C.R=H),X=D==0),ie.Target&&(C.l=ie),Z.length>0&&(C.c=Z,Z=[]),V&&n.cellText!==!1&&(C.w=V),X&&(C.t="z",delete C.v),(!X||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=B))for(var Ee=0;Ee<ye;++Ee){if(ae=parseInt(O["number-columns-repeated"]||"1",10),n.dense)for(S[B+Ee]||(S[B+Ee]=[]),S[B+Ee][j]=Ee==0?C:Ir(C);--ae>0;)S[B+Ee][j+ae]=Ir(C);else for(S[Et({r:B+Ee,c:j})]=C;--ae>0;)S[Et({r:B+Ee,c:j+ae})]=Ir(C);N.e.c<=j&&(N.e.c=j)}ae=parseInt(O["number-columns-repeated"]||"1",10),j+=ae-1,ae=0,C={},V="",H=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!0]);break;case"annotation":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s;z.t=V,H.length&&(z.R=H),z.a=Q,Z.push(z)}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!1]);Q="",te=0,V="",D=0,H=[];break;case"creator":A[1]==="/"?Q=r.slice(te,A.index):te=A.index+A[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(A[1]==="/"){if((s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&i.push([A[3],!1]);V="",D=0,H=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(A[1]==="/"){if(b[c.name]=f,(s=i.pop())[0]!==A[3])throw"Bad state: "+s}else A[0].charAt(A[0].length-2)!=="/"&&(f="",c=gt(A[0],!1),i.push([A[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=gt(A[0],!1),f+=tw[A[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=gt(A[0],!1),f+=tw[A[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(A[0].slice(-2)==="/>")break;if(A[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(d,A.index);break}else d=A.index+A[0].length;break;case"named-range":o=gt(A[0],!1),Le=jg(o["cell-range-address"]);var Ae={Name:o.name,Ref:Le[0]+"!"+Le[1]};ce&&(Ae.Sheet=E.length),Re.Names.push(Ae);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(A[1]==="/"&&(!O||!O["string-value"])){var Oe=zB(r.slice(D,A.index));V=(V.length>0?V+`
`:"")+Oe[0]}else gt(A[0],!1),D=A.index+A[0].length;break;case"s":break;case"database-range":if(A[1]==="/")break;try{Le=jg(gt(A[0])["target-range-address"]),x[Le[0]]["!autofilter"]={ref:Le[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(A[1]!=="/"){if(ie=gt(A[0],!1),!ie.href)break;ie.Target=Gt(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(Le=jg(ie.Target.slice(1)),ie.Target="#"+Le[0]+"!"+Le[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(A[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(A)}}var ne={Sheets:x,SheetNames:E,Workbook:Re};return n.bookSheets&&delete ne.Sheets,ne}function nw(t,e){e=e||{},zi(t,"META-INF/manifest.xml")&&rL(Zn(t,"META-INF/manifest.xml"),e);var n=Ai(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=EI(vn(n),e);return zi(t,"meta.xml")&&(r.Props=Pb(Zn(t,"meta.xml"))),r}function rw(t,e){return EI(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Z1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function bv(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):vn(El(t))}function Iv(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function iw(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function HB(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function $f(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function sr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function zr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=$f(t,n),s=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);c=t.slice(f,n[0])}break;case 5:o=4,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=$f(t,n),c=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function X1(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function GB(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=$f(t,r),s=zr(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:sr(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=zr(c.data),d=sr(f[3][0].data);o.messages.push({meta:f,data:t.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=sr(s[3][0].data)>>>0>0),n.push(o)}return n}function qB(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=$f(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[n[0]],c>1&&(o|=e[n[0]+1]<<8),c>2&&(o|=e[n[0]+2]<<16),c>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=c}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var f=0,d=0;if(s==1?(d=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(d=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Iv(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(i.push(i[0].slice(-f)),d-=f;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-f,-f+d))}}var h=Iv(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function $B(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(qB(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Iv(e)}function jB(t,e,n,r){var i=Z1(t),s=i.getUint32(4,!0),o=(r>1?12:8)+iw(s&(r>1?3470:398))*4,c=-1,f=-1,d=NaN,h=new Date(2001,0,1);s&512&&(c=i.getUint32(o,!0),o+=4),o+=iw(s&(r>1?12288:4096))*4,s&16&&(f=i.getUint32(o,!0),o+=4),s&32&&(d=i.getFloat64(o,!0),o+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var g;switch(t[2]){case 0:break;case 2:g={t:"n",v:d};break;case 3:g={t:"s",v:e[f]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(c>-1)g={t:"s",v:n[c]};else if(f>-1)g={t:"s",v:e[f]};else if(!isNaN(d))g={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return g}function KB(t,e,n){var r=Z1(t),i=r.getUint32(8,!0),s=12,o=-1,c=-1,f=NaN,d=NaN,h=new Date(2001,0,1);i&1&&(f=HB(t,s),s+=16),i&2&&(d=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var g;switch(t[1]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:e[c]};break;case 5:g={t:"d",v:h};break;case 6:g={t:"b",v:d>0};break;case 7:g={t:"n",v:d/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:g={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return g}function YB(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return jB(t,e,n,t[0]);case 5:return KB(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function uo(t){var e=zr(t);return $f(e[1][0].data)}function sw(t,e){var n=zr(e.data),r=sr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var c=zr(o.data),f=sr(c[1][0].data)>>>0;switch(r){case 1:s[f]=bv(c[3][0].data);break;case 8:{var d=t[uo(c[9][0].data)][0],h=zr(d.data),g=t[uo(h[1][0].data)][0],x=sr(g.meta[1][0].data);if(x!=2001)throw new Error("2000 unexpected reference to ".concat(x));var E=zr(g.data);s[f]=E[3].map(function(S){return bv(S.data)}).join("")}break}}),s}function JB(t,e){var n,r,i,s,o,c,f,d,h,g,x,E,S,A,C=zr(t),O=sr(C[1][0].data)>>>0,V=sr(C[2][0].data)>>>0,D=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&sr(C[8][0].data)>0||!1,H,B;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&e!=0)H=(c=(o=C[7])==null?void 0:o[0])==null?void 0:c.data,B=(d=(f=C[6])==null?void 0:f[0])==null?void 0:d.data;else if((g=(h=C[4])==null?void 0:h[0])!=null&&g.data&&e!=1)H=(E=(x=C[4])==null?void 0:x[0])==null?void 0:E.data,B=(A=(S=C[3])==null?void 0:S[0])==null?void 0:A.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var j=D?4:1,N=Z1(H),I=[],b=0;b<H.length/2;++b){var F=N.getUint16(b*2,!0);F<65535&&I.push([b,F])}if(I.length!=V)throw"Expected ".concat(V," cells, found ").concat(I.length);var M=[];for(b=0;b<I.length-1;++b)M[I[b][0]]=B.subarray(I[b][1]*j,I[b+1][1]*j);return I.length>=1&&(M[I[I.length-1][0]]=B.subarray(I[I.length-1][1]*j)),{R:O,cells:M}}function WB(t,e){var n,r=zr(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?sr(r[7][0].data)>>>0>0?1:0:-1,s=X1(r[5],function(o){return JB(o,i)});return{nrows:sr(r[4][0].data)>>>0,data:s.reduce(function(o,c){return o[c.R]||(o[c.R]=[]),c.cells.forEach(function(f,d){if(o[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));o[c.R][d]=f}),o},[])}}function ZB(t,e,n){var r,i=zr(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(sr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(sr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Ht(s);var o=zr(i[4][0].data),c=sw(t,t[uo(o[4][0].data)][0]),f=(r=o[17])!=null&&r[0]?sw(t,t[uo(o[17][0].data)][0]):[],d=zr(o[3][0].data),h=0;d[1].forEach(function(g){var x=zr(g.data),E=t[uo(x[2][0].data)][0],S=sr(E.meta[1][0].data);if(S!=6002)throw new Error("6001 unexpected reference to ".concat(S));var A=WB(t,E);A.data.forEach(function(C,O){C.forEach(function(V,D){var H=Et({r:h+O,c:D}),B=YB(V,c,f);B&&(n[H]=B)})}),h+=A.nrows})}function XB(t,e){var n=zr(e.data),r={"!ref":"A1"},i=t[uo(n[2][0].data)],s=sr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return ZB(t,i[0],r),r}function QB(t,e){var n,r=zr(e.data),i={name:(n=r[1])!=null&&n[0]?bv(r[1][0].data):"",sheets:[]},s=X1(r[2],uo);return s.forEach(function(o){t[o].forEach(function(c){var f=sr(c.meta[1][0].data);f==6e3&&i.sheets.push(XB(t,c))})}),i}function ez(t,e){var n=tx(),r=zr(e.data),i=X1(r[1],uo);if(i.forEach(function(s){t[s].forEach(function(o){var c=sr(o.meta[1][0].data);if(c==2){var f=QB(t,o);f.sheets.forEach(function(d,h){nx(n,d,h==0?f.name:f.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Yg(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var d;try{d=$B(f.content)}catch(g){return console.log("?? "+f.content.length+" "+(g.message||g))}var h;try{h=GB(d)}catch(g){return console.log("## "+(g.message||g))}h.forEach(function(g){s[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var c=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&sr(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||o.forEach(function(f){s[f].forEach(function(d){var h=sr(d.meta[1][0].data)>>>0;if(h==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return ez(s,c)}function tz(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Q1(t){tz([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function nz(t){return Tc.WS.indexOf(t)>-1?"sheet":t==Tc.CS?"chart":t==Tc.DS?"dialog":t==Tc.MS?"macro":t&&t.length?t:"sheet"}function rz(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,nz(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function iz(t,e,n,r,i,s,o,c,f,d,h,g){try{s[r]=_f(Ai(t,n,!0),e);var x=Zn(t,e),E;switch(c){case"sheet":E=uB(x,e,i,f,s[r],d,h,g);break;case"chart":if(E=fB(x,e,i,f,s[r],d,h,g),!E||!E["!drawel"])break;var S=lf(E["!drawel"].Target,e),A=Tv(S),C=c9(Ai(t,S,!0),_f(Ai(t,A,!0),S)),O=lf(C,S),V=Tv(O);E=K7(Ai(t,O,!0),O,f,_f(Ai(t,V,!0),O),d,E);break;case"macro":E=dB(x,e,i,f,s[r],d,h,g);break;case"dialog":E=hB(x,e,i,f,s[r],d,h,g);break;default:throw new Error("Unrecognized sheet type "+c)}o[r]=E;var D=[];s&&s[r]&&Ls(s[r]).forEach(function(H){var B="";if(s[r][H].Type==Tc.CMNT){B=lf(s[r][H].Target,e);var j=vB(Zn(t,B,!0),B,f);if(!j||!j.length)return;q2(E,j,!1)}s[r][H].Type==Tc.TCMNT&&(B=lf(s[r][H].Target,e),D=D.concat(f9(Zn(t,B,!0),f)))}),D&&D.length&&q2(E,D,!0,f.people||[])}catch(H){if(f.WTF)throw H}}function Vi(t){return t.charAt(0)=="/"?t.slice(1):t}function sz(t,e){if(sb(),e=e||{},Q1(e),zi(t,"META-INF/manifest.xml")||zi(t,"objectdata.xml"))return nw(t,e);if(zi(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Yg<"u"){if(t.FileIndex)return Yg(t);var n=zt.utils.cfb_new();return v2(t).forEach(function(Te){a5(n,Te,s5(t,Te))}),Yg(n)}throw new Error("Unsupported NUMBERS file")}if(!zi(t,"[Content_Types].xml"))throw zi(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):zi(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=v2(t),i=tL(Ai(t,"[Content_Types].xml")),s=!1,o,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",Zn(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!Zn(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},d={};if(!e.bookSheets&&!e.bookProps){if(wf=[],i.sst)try{wf=gB(Zn(t,Vi(i.sst)),i.sst,e)}catch(Te){if(e.WTF)throw Te}e.cellStyles&&i.themes.length&&(f=mB(Ai(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(d=pB(Zn(t,Vi(i.style)),i.style,f,e))}i.links.map(function(Te){try{var ye=_f(Ai(t,Tv(Vi(Te))),Te);return yB(Zn(t,Vi(Te)),ye,Te,e)}catch{}});var h=cB(Zn(t,Vi(i.workbooks[0])),i.workbooks[0],e),g={},x="";i.coreprops.length&&(x=Zn(t,Vi(i.coreprops[0]),!0),x&&(g=Pb(x)),i.extprops.length!==0&&(x=Zn(t,Vi(i.extprops[0]),!0),x&&aL(x,g,e)));var E={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(x=Ai(t,Vi(i.custprops[0]),!0),x&&(E=lL(x,e)));var S={};if((e.bookSheets||e.bookProps)&&(h.Sheets?o=h.Sheets.map(function(ye){return ye.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),e.bookProps&&(S.Props=g,S.Custprops=E),e.bookSheets&&typeof o<"u"&&(S.SheetNames=o),e.bookSheets?S.SheetNames:e.bookProps))return S;o={};var A={};e.bookDeps&&i.calcchain&&(A=xB(Zn(t,Vi(i.calcchain)),i.calcchain));var C=0,O={},V,D;{var H=h.Sheets;g.Worksheets=H.length,g.SheetNames=[];for(var B=0;B!=H.length;++B)g.SheetNames[B]=H[B].name}var j=s?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");zi(t,I)||(I="xl/_rels/workbook."+j+".rels");var b=_f(Ai(t,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=_B(Zn(t,Vi(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=d9(Zn(t,Vi(i.people[0])),e)),b&&(b=rz(b,h.Sheets));var F=Zn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=g.Worksheets;++C){var M="sheet";if(b&&b[C]?(V="xl/"+b[C][1].replace(/[\/]?xl\//,""),zi(t,V)||(V=b[C][1]),zi(t,V)||(V=I.replace(/_rels\/.*$/,"")+b[C][1]),M=b[C][2]):(V="xl/worksheets/sheet"+(C+1-F)+"."+j,V=V.replace(/sheet0\./,"sheet.")),D=V.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(g.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==C&&(k=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==g.SheetNames[C].toLowerCase()&&(k=1);if(!k)continue e}}iz(t,V,D,g.SheetNames[C],C,O,o,M,e,h,f,d)}return S={Directory:i,Workbook:h,Props:g,Custprops:E,Deps:A,Sheets:o,SheetNames:g.SheetNames,Strings:wf,Styles:d,Themes:f,SSF:Ir(At)},e&&e.bookFiles&&(t.files?(S.keys=r,S.files=t.files):(S.keys=[],S.files={},t.FullPaths.forEach(function(Te,ye){Te=Te.replace(/^Root Entry[\/]/,""),S.keys.push(Te),S.files[Te]=t.FileIndex[ye]}))),e&&e.bookVBA&&(i.vba.length>0?S.vbaraw=Zn(t,Vi(i.vba[0]),!0):i.defaults&&i.defaults.bin===g9&&(S.vbaraw=Zn(t,"xl/vbaProject.bin",!0))),S}function az(t,e){var n=e||{},r="Workbook",i=zt.find(t,r);try{if(r="/!DataSpaces/Version",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(X8(i.content),r="/!DataSpaces/DataSpaceMap",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=eU(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=tU(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);rU(i.content)}catch{}if(r="/EncryptionInfo",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=iU(i.content);if(r="/EncryptedPackage",i=zt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function ex(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ci(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function oz(t,e){return zt.find(t,"EncryptedPackage")?az(t,e):xI(t,e)}function lz(t,e){var n,r=t,i=e||{};return i.type||(i.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n=fb(r,i),sz(n,i)}function TI(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return Av(t.slice(n),e);default:break e}return Hf.to_workbook(t,e)}function cz(t,e){var n="",r=ex(t,e);switch(e.type){case"base64":n=Ci(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=hl(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=vn(n)),e.type="binary",TI(n,e)}function uz(t,e){var n=t;return e.type=="base64"&&(n=Ci(n)),n=Uf.utils.decode(1200,n.slice(2),"str"),e.type="binary",TI(n,e)}function fz(t){return t.match(/[^\x00-\x7F]/)?cf(t):t}function Jg(t,e,n,r){return r?(n.type="string",Hf.to_workbook(t,n)):Hf.to_workbook(e,n)}function L0(t,e){KC();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return L0(new Uint8Array(t),(n=Ir(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),kc={},n.dateNF&&(kc.dateNF=n.dateNF),n.type||(n.type=Lt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Lt?"buffer":"binary",r=XO(t),typeof Uint8Array<"u"&&!Lt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=fz(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),c=new Uint8Array(o);if(c.foo="bar",!c.foo)return n=Ir(n),n.type="array",L0(D1(r),n)}switch((i=ex(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return oz(zt.read(r,n),n);break;case 9:if(i[1]<=8)return xI(r,n);break;case 60:return Av(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return V8(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return L8.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?lz(r,n):Jg(t,r,n,s);case 239:return i[3]===60?Av(r,n):Jg(t,r,n,s);case 255:if(i[1]===254)return uz(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Tf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Tf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return G2.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return gU.to_workbook(r,n);break;case 10:case 13:case 32:return cz(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return F8.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?G2.to_workbook(r,n):Jg(t,r,n,s)}function dz(t,e,n,r,i,s,o,c){var f=Nr(n),d=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,x=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(x,"__rowNum__",{value:n,enumerable:!1})}catch{x.__rowNum__=n}else x.__rowNum__=n;if(!o||t[n])for(var E=e.s.c;E<=e.e.c;++E){var S=o?t[n][E]:t[r[E]+f];if(S===void 0||S.t===void 0){if(d===void 0)continue;s[E]!=null&&(x[s[E]]=d);continue}var A=S.v;switch(S.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[E]!=null){if(A==null)if(S.t=="e"&&A===null)x[s[E]]=null;else if(d!==void 0)x[s[E]]=d;else if(h&&A===null)x[s[E]]=null;else continue;else x[s[E]]=h&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?A:pa(S,A,c);A!=null&&(g=!1)}}return{row:x,isempty:g}}function Nv(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},h=d.range!=null?d.range:t["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof h){case"string":f=Pn(h);break;case"number":f=Pn(t["!ref"]),f.s.r=h;break;default:f=h}r>0&&(i=0);var g=Nr(f.s.r),x=[],E=[],S=0,A=0,C=Array.isArray(t),O=f.s.r,V=0,D={};C&&!t[O]&&(t[O]=[]);var H=d.skipHidden&&t["!cols"]||[],B=d.skipHidden&&t["!rows"]||[];for(V=f.s.c;V<=f.e.c;++V)if(!(H[V]||{}).hidden)switch(x[V]=ir(V),n=C?t[O][V]:t[x[V]+g],r){case 1:s[V]=V-f.s.c;break;case 2:s[V]=x[V];break;case 3:s[V]=d.header[V-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=o=pa(n,null,d),A=D[o]||0,!A)D[o]=1;else{do c=o+"_"+A++;while(D[c]);D[o]=A,D[c]=1}s[V]=c}for(O=f.s.r+i;O<=f.e.r;++O)if(!(B[O]||{}).hidden){var j=dz(t,f,O,x,r,s,C,d);(j.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(E[S++]=j.row)}return E.length=S,E}var aw=/"/g;function hz(t,e,n,r,i,s,o,c){for(var f=!0,d=[],h="",g=Nr(n),x=e.s.c;x<=e.e.c;++x)if(r[x]){var E=c.dense?(t[n]||[])[x]:t[r[x]+g];if(E==null)h="";else if(E.v!=null){f=!1,h=""+(c.rawNumbers&&E.t=="n"?E.v:pa(E,null,c));for(var S=0,A=0;S!==h.length;++S)if((A=h.charCodeAt(S))===i||A===s||A===34||c.forceQuotes){h='"'+h.replace(aw,'""')+'"';break}h=="ID"&&(h='"ID"')}else E.f!=null&&!E.F?(f=!1,h="="+E.f,h.indexOf(",")>=0&&(h='"'+h.replace(aw,'""')+'"')):h="";d.push(h)}return c.blankrows===!1&&f?null:d.join(o)}function wI(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Pn(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),h="",g=[];r.dense=Array.isArray(t);for(var x=r.skipHidden&&t["!cols"]||[],E=r.skipHidden&&t["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(x[S]||{}).hidden||(g[S]=ir(S));for(var A=0,C=i.s.r;C<=i.e.r;++C)(E[C]||{}).hidden||(h=hz(t,i,C,g,o,f,s,r),h!=null&&(r.strip&&(h=h.replace(d,"")),(h||r.blankrows!==!1)&&n.push((A++?c:"")+h)));return delete r.dense,n.join("")}function pz(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=wI(t,e);return n}function mz(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Pn(t["!ref"]),s="",o=[],c,f=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)o[c]=ir(c);for(var h=i.s.r;h<=i.e.r;++h)for(s=Nr(h),c=i.s.c;c<=i.e.c;++c)if(e=o[c]+s,n=d?(t[h]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function SI(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Qr(r.origin):r.origin;o=f.r,c=f.c}var d,h={s:{c:0,r:0},e:{c,r:o+e.length-1+i}};if(s["!ref"]){var g=Pn(s["!ref"]);h.e.c=Math.max(h.e.c,g.e.c),h.e.r=Math.max(h.e.r,g.e.r),o==-1&&(o=g.e.r+1,h.e.r=o+e.length-1+i)}else o==-1&&(o=0,h.e.r=e.length-1+i);var x=r.header||[],E=0;e.forEach(function(A,C){Ls(A).forEach(function(O){(E=x.indexOf(O))==-1&&(x[E=x.length]=O);var V=A[O],D="z",H="",B=Et({c:c+E,r:o+C+i});d=jf(s,B),V&&typeof V=="object"&&!(V instanceof Date)?s[B]=V:(typeof V=="number"?D="n":typeof V=="boolean"?D="b":typeof V=="string"?D="s":V instanceof Date?(D="d",r.cellDates||(D="n",V=ti(V)),H=r.dateNF||At[14]):V===null&&r.nullError&&(D="e",V=0),d?(d.t=D,d.v=V,delete d.w,delete d.R,H&&(d.z=H)):s[B]=d={t:D,v:V},H&&(d.z=H))})}),h.e.c=Math.max(h.e.c,c+x.length-1);var S=Nr(o);if(i)for(E=0;E<x.length;++E)s[ir(E+c)+S]={t:"s",v:x[E]};return s["!ref"]=Ht(h),s}function gz(t,e){return SI(null,t,e)}function jf(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Qr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?jf(t,Et(e)):jf(t,Et({r:e,c:n||0}))}function vz(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function tx(){return{SheetNames:[],Sheets:{}}}function nx(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(tB(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function xz(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=vz(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function yz(t,e){return t.z=e,t}function AI(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function _z(t,e,n){return AI(t,"#"+e,n)}function Ez(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Tz(t,e,n,r){for(var i=typeof e!="string"?e:Pn(e),s=typeof e=="string"?e:Ht(e),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var f=jf(t,o,c);f.t="n",f.F=s,delete f.v,o==i.s.r&&c==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var u0={encode_col:ir,encode_row:Nr,encode_cell:Et,encode_range:Ht,decode_col:z1,decode_row:B1,split_cell:P5,decode_cell:Qr,decode_range:Kc,format_cell:pa,sheet_add_aoa:Nb,sheet_add_json:SI,sheet_add_dom:yI,aoa_to_sheet:Yc,json_to_sheet:gz,table_to_sheet:_I,table_to_book:VB,sheet_to_csv:wI,sheet_to_txt:pz,sheet_to_json:Nv,sheet_to_html:UB,sheet_to_formulae:mz,sheet_to_row_object_array:Nv,sheet_get_cell:jf,book_new:tx,book_append_sheet:nx,book_set_sheet_visibility:xz,cell_set_number_format:yz,cell_set_hyperlink:AI,cell_set_internal_link:_z,cell_add_comment:Ez,sheet_set_array_formula:Tz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const CI=t=>String(t).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),wz=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},ow=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},Sz=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var s;try{const o=(s=i.target)==null?void 0:s.result,c=L0(o,{type:"binary"}),f=c.SheetNames[0],d=c.Sheets[f];if(!d["!ref"]){e([]);return}const h=u0.decode_range(d["!ref"]),g=[],x=[],E=h.s.r;for(let S=h.s.c;S<=h.e.c;++S){const A=u0.encode_cell({c:S,r:E}),C=d[A];if(C&&C.v){const O=String(C.v);x.push({index:S,name:O,normalized:CI(O)})}}for(let S=E+1;S<=h.e.r;++S){const A={};let C;if(x.forEach(F=>{const M=u0.encode_cell({c:F.index,r:S}),k=d[M];k&&(A[F.normalized]=k.v,!C&&(F.normalized.includes("endereco")||F.normalized.includes("logradouro")||F.normalized.includes("localizacao")||F.normalized==="rua"||F.normalized==="mapa"||F.normalized==="link")&&k.l&&k.l.Target&&(C=k.l.Target))}),Object.keys(A).length===0)continue;const O=A.endereco||A.logradouro||A.localizacao||A["endereco completo"]||A.rua||A.end||"",{address:V,link:D,lat:H,lng:B}=HC(O),j=C||D,N=A["razao social"]||A.cliente||A["nome fantasia"]||A.empresa||A.nome||A["nome cliente"]||A.parceiro||A.loja||"",I=A["nome do proprietario"]||A.proprietario||A.dono||A["contato principal"]||A.responsavel||A.socio||"",b=String(A.contato||A.telefone||A.celular||A.whatsapp||A.tel||A.fone||"");(N||V||O)&&g.push({"Razo Social":N,"Nome do Proprietrio":I,Contato:b,Endereo:V,GoogleMapsLink:j,extractedLat:H,extractedLng:B})}e(g)}catch(o){console.error("Excel Parsing Error:",o),n(o)}},r.onerror=i=>n(i),r.readAsBinaryString(t)}),bI=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var s;try{const o=(s=i.target)==null?void 0:s.result,c=L0(o,{type:"binary"}),f=c.SheetNames[0],d=c.Sheets[f],h=[];u0.sheet_to_json(d,{defval:""}).forEach(x=>{const E={};Object.keys(x).forEach(j=>{E[CI(j)]=x[j]});const S=String(E["numero do sku"]||E.sku||""),A=E.marca||E.fabricante||"Genrico",C=String(E["cod.fabrica"]||E["cod fabrica"]||E["codigo fabrica"]||""),O=E.descricao||E.nome||E.produto||"",V=wz(E["preco de venda"]||E.preco||0),D=E.categoria||A||"Geral",H=ow(E.margem||0),B=ow(E.desconto||E.discount||0);(S||O)&&h.push({category:D,sku:S,brand:A,factoryCode:C,name:O,price:V,margin:H,discount:B})}),e(h)}catch(o){console.error("Product Excel Parsing Error:",o),n(o)}},r.onerror=i=>n(i),r.readAsBinaryString(t)});var Az={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cz,bz;function Iz(){return{geminiUrl:Cz,vertexUrl:bz}}function Nz(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=Iz();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _a{}function Ye(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];v(h,e.slice(s+1),n[d])}else for(const d of f)v(d,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];v(f[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Rz(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&s.length>c)for(let f=c;f<s.length;f++){const d=s[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}Rv(t,i,s,0,o)}}function Rv(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),c=t;if(o in c&&Array.isArray(c[o]))for(const f of c[o])Rv(f,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,c=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=o[d];for(const[d,h]of Object.entries(f)){const g=[];for(const x of n.slice(r))x==="*"?g.push(d):g.push(x);v(o,g,h)}for(const d of c)delete o[d]}}else{const o=t;s in o&&Rv(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rx(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kz(t){const e={},n=m(t,["operationName"]);n!=null&&v(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&v(e,["_url","resourceName"],r),e}function Dz(t){const e={},n=m(t,["name"]);n!=null&&v(e,["name"],n);const r=m(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=m(t,["done"]);i!=null&&v(e,["done"],i);const s=m(t,["error"]);s!=null&&v(e,["error"],s);const o=m(t,["response","generateVideoResponse"]);return o!=null&&v(e,["response"],Pz(o)),e}function Mz(t){const e={},n=m(t,["name"]);n!=null&&v(e,["name"],n);const r=m(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=m(t,["done"]);i!=null&&v(e,["done"],i);const s=m(t,["error"]);s!=null&&v(e,["error"],s);const o=m(t,["response"]);return o!=null&&v(e,["response"],Fz(o)),e}function Pz(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Oz(o))),v(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Fz(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Lz(o))),v(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&v(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&v(e,["raiMediaFilteredReasons"],i),e}function Oz(t){const e={},n=m(t,["video"]);return n!=null&&v(e,["video"],Gz(n)),e}function Lz(t){const e={},n=m(t,["_self"]);return n!=null&&v(e,["video"],qz(n)),e}function Uz(t){const e={},n=m(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function Vz(t){const e={},n=m(t,["operationName"]);return n!=null&&v(e,["_url","operationName"],n),e}function Bz(t){const e={},n=m(t,["name"]);n!=null&&v(e,["name"],n);const r=m(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=m(t,["done"]);i!=null&&v(e,["done"],i);const s=m(t,["error"]);s!=null&&v(e,["error"],s);const o=m(t,["response"]);return o!=null&&v(e,["response"],zz(o)),e}function zz(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&v(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function II(t){const e={},n=m(t,["name"]);n!=null&&v(e,["name"],n);const r=m(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=m(t,["done"]);i!=null&&v(e,["done"],i);const s=m(t,["error"]);s!=null&&v(e,["error"],s);const o=m(t,["response"]);return o!=null&&v(e,["response"],Hz(o)),e}function Hz(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&v(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function Gz(t){const e={},n=m(t,["uri"]);n!=null&&v(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&v(e,["videoBytes"],rx(r));const i=m(t,["encoding"]);return i!=null&&v(e,["mimeType"],i),e}function qz(t){const e={},n=m(t,["gcsUri"]);n!=null&&v(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&v(e,["videoBytes"],rx(r));const i=m(t,["mimeType"]);return i!=null&&v(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lw;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lw||(lw={}));var cw;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(cw||(cw={}));var uw;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uw||(uw={}));var lo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(lo||(lo={}));var fw;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fw||(fw={}));var dw;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(dw||(dw={}));var hw;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hw||(hw={}));var pw;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pw||(pw={}));var mw;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mw||(mw={}));var gw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gw||(gw={}));var vw;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(vw||(vw={}));var xw;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(xw||(xw={}));var yw;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yw||(yw={}));var _w;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_w||(_w={}));var Ew;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ew||(Ew={}));var Tw;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Tw||(Tw={}));var ww;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ww||(ww={}));var Sw;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Sw||(Sw={}));var Aw;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Aw||(Aw={}));var Cw;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Cw||(Cw={}));var bw;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bw||(bw={}));var U0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(U0||(U0={}));var Iw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Iw||(Iw={}));var Nw;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Nw||(Nw={}));var Rw;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Rw||(Rw={}));var kv;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kv||(kv={}));var kw;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(kw||(kw={}));var Dw;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Dw||(Dw={}));var Dv;(function(t){t.COLLECTION="COLLECTION"})(Dv||(Dv={}));var Mw;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Mw||(Mw={}));var Pw;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Pw||(Pw={}));var Fw;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Fw||(Fw={}));var Ow;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ow||(Ow={}));var Lw;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Lw||(Lw={}));var Uw;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Uw||(Uw={}));var Vw;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vw||(Vw={}));var Bw;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Bw||(Bw={}));var zw;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zw||(zw={}));var Hw;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Hw||(Hw={}));var Gw;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Gw||(Gw={}));var qw;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qw||(qw={}));var $w;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($w||($w={}));var jw;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(jw||(jw={}));var Kw;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Kw||(Kw={}));var Yw;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Yw||(Yw={}));var Jw;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Jw||(Jw={}));var Ww;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ww||(Ww={}));var Zw;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Zw||(Zw={}));var Xw;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Xw||(Xw={}));var Qw;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Qw||(Qw={}));var eS;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eS||(eS={}));var tS;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tS||(tS={}));var nS;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(nS||(nS={}));var rS;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rS||(rS={}));var iS;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iS||(iS={}));var sS;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(sS||(sS={}));var wc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(wc||(wc={}));class Mv{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xu{get text(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const g=[];for(const x of(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[E,S]of Object.entries(x))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(E);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;h=!0,d+=x.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const g of(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[x,E]of Object.entries(g))x!=="inlineData"&&(E!==null||E!==void 0)&&h.push(x);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,o,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,s,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,o,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class aS{}class oS{}class $z{}class jz{}class Kz{}class Yz{}class lS{}class cS{}class uS{}class Jz{}class V0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new V0;let i;const s=e;return n?i=Mz(s):i=Dz(s),Object.assign(r,i),r}}class fS{}class dS{}class hS{}class pS{}class Wz{}class Zz{}class Xz{}class ix{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ix,s=Bz(e);return Object.assign(r,s),r}}class Qz{}class eH{}class tH{}class nH{}class mS{}class rH{get text(){var e,n,r;let i="",s=!1;const o=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&o.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(o))c!=="inlineData"&&f!==null&&s.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class iH{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class sx{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new sx,s=II(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function NI(t,e){const n=jt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function RI(t){return Array.isArray(t)?t.map(e=>B0(e)):[B0(t)]}function B0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function kI(t){const e=B0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function DI(t){const e=B0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function MI(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>gS(e)):[gS(t)]}function Pv(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function vS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Hr(t){if(t==null)throw new Error("ContentUnion is required");return Pv(t)?t:{role:"user",parts:MI(t)}}function ax(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Hr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Hr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Hr(n)):[Hr(e)]}function qi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(vS(t)||xS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Hr(t)]}const e=[],n=[],r=Pv(t[0]);for(const i of t){const s=Pv(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(vS(i)||xS(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:MI(n)}),e}function sH(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(lo).includes(n[0].toUpperCase())?n[0].toUpperCase():lo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(lo).includes(r.toUpperCase())?r.toUpperCase():lo.TYPE_UNSPECIFIED})}}function Dc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&sH(t.type,e);for(const[o,c]of Object.entries(t))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(lo).includes(c.toUpperCase())?c.toUpperCase():lo.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Dc(c);else if(r.includes(o)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(Dc(d))}e[o]=f}else if(i.includes(o)){const f={};for(const[d,h]of Object.entries(c))f[d]=Dc(h);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=c}return e}function ox(t){return Dc(t)}function lx(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function cx(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Dc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Dc(e.response));return t}function Wc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function aH(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ea(t,e){if(typeof e!="string")throw new Error("name must be a string");return aH(t,e,"cachedContents")}function PI(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function bo(t){return rx(t)}function oH(t){return t!=null&&typeof t=="object"&&"name"in t}function lH(t){return t!=null&&typeof t=="object"&&"video"in t}function cH(t){return t!=null&&typeof t=="object"&&"uri"in t}function FI(t){var e;let n;if(oH(t)&&(n=t.name),!(cH(t)&&(n=t.uri,n===void 0))&&!(lH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function OI(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function LI(t){for(const e of["models","tunedModels","publisherModels"])if(uH(t,e))return t[e];return[]}function uH(t,e){return t!==null&&typeof t=="object"&&e in t}function fH(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function dH(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=fH(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function UI(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function hH(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function VI(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Zc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function BI(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pH(t){const e={},n=m(t,["responsesFile"]);n!=null&&v(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>YH(o))),v(e,["inlinedResponses"],s)}const i=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["inlinedEmbedContentResponses"],s)}return e}function mH(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&v(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&v(e,["gcsUri"],r);const i=m(t,["bigqueryDestination","outputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function gH(t){const e={},n=m(t,["format"]);n!=null&&v(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&v(e,["gcsDestination","outputUriPrefix"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&v(e,["bigqueryDestination","outputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function f0(t){const e={},n=m(t,["name"]);n!=null&&v(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&v(e,["displayName"],r);const i=m(t,["metadata","state"]);i!=null&&v(e,["state"],BI(i));const s=m(t,["metadata","createTime"]);s!=null&&v(e,["createTime"],s);const o=m(t,["metadata","endTime"]);o!=null&&v(e,["endTime"],o);const c=m(t,["metadata","updateTime"]);c!=null&&v(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&v(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&v(e,["dest"],pH(VI(d))),e}function Fv(t){const e={},n=m(t,["name"]);n!=null&&v(e,["name"],n);const r=m(t,["displayName"]);r!=null&&v(e,["displayName"],r);const i=m(t,["state"]);i!=null&&v(e,["state"],BI(i));const s=m(t,["error"]);s!=null&&v(e,["error"],s);const o=m(t,["createTime"]);o!=null&&v(e,["createTime"],o);const c=m(t,["startTime"]);c!=null&&v(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&v(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&v(e,["updateTime"],d);const h=m(t,["model"]);h!=null&&v(e,["model"],h);const g=m(t,["inputConfig"]);g!=null&&v(e,["src"],vH(g));const x=m(t,["outputConfig"]);x!=null&&v(e,["dest"],mH(VI(x)));const E=m(t,["completionStats"]);return E!=null&&v(e,["completionStats"],E),e}function vH(t){const e={},n=m(t,["instancesFormat"]);n!=null&&v(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&v(e,["gcsUri"],r);const i=m(t,["bigquerySource","inputUri"]);return i!=null&&v(e,["bigqueryUri"],i),e}function xH(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&v(n,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>KH(t,o))),v(n,["requests","requests"],s)}return n}function yH(t){const e={},n=m(t,["format"]);n!=null&&v(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&v(e,["gcsSource","uris"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&v(e,["bigquerySource","inputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _H(t){const e={},n=m(t,["data"]);if(n!=null&&v(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function EH(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Zc(t,r)),n}function TH(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Zc(t,r)),n}function wH(t){const e={},n=m(t,["content"]);n!=null&&v(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&v(e,["citationMetadata"],SH(r));const i=m(t,["tokenCount"]);i!=null&&v(e,["tokenCount"],i);const s=m(t,["finishReason"]);s!=null&&v(e,["finishReason"],s);const o=m(t,["avgLogprobs"]);o!=null&&v(e,["avgLogprobs"],o);const c=m(t,["groundingMetadata"]);c!=null&&v(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&v(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&v(e,["logprobsResult"],d);const h=m(t,["safetyRatings"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(E=>E)),v(e,["safetyRatings"],x)}const g=m(t,["urlContextMetadata"]);return g!=null&&v(e,["urlContextMetadata"],g),e}function SH(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["citations"],r)}return e}function zI(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>tG(s))),v(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&v(e,["role"],r),e}function AH(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&v(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function CH(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&v(e,["displayName"],r);const i=m(t,["dest"]);return e!==void 0&&i!=null&&v(e,["outputConfig"],gH(hH(i))),n}function yS(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["_url","model"],jt(t,r));const i=m(e,["src"]);i!=null&&v(n,["batch","inputConfig"],xH(t,UI(t,i)));const s=m(e,["config"]);return s!=null&&AH(s,n),n}function bH(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["model"],jt(t,r));const i=m(e,["src"]);i!=null&&v(n,["inputConfig"],yH(UI(t,i)));const s=m(e,["config"]);return s!=null&&CH(s,n),n}function IH(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["batch","displayName"],r),n}function NH(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["_url","model"],jt(t,r));const i=m(e,["src"]);i!=null&&v(n,["batch","inputConfig"],OH(t,i));const s=m(e,["config"]);return s!=null&&IH(s,n),n}function RH(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Zc(t,r)),n}function kH(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Zc(t,r)),n}function DH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&v(e,["name"],r);const i=m(t,["done"]);i!=null&&v(e,["done"],i);const s=m(t,["error"]);return s!=null&&v(e,["error"],s),e}function MH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&v(e,["name"],r);const i=m(t,["done"]);i!=null&&v(e,["done"],i);const s=m(t,["error"]);return s!=null&&v(e,["error"],s),e}function PH(t,e){const n={},r=m(e,["contents"]);if(r!=null){let s=ax(t,r);Array.isArray(s)&&(s=s.map(o=>o)),v(n,["requests[]","request","content"],s)}const i=m(e,["config"]);return i!=null&&(v(n,["_self"],FH(i,n)),Rz(n,{"requests[].*":"requests[].request.*"})),n}function FH(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&v(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&v(e,["requests[]","title"],i);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&v(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function OH(t,e){const n={},r=m(e,["fileName"]);r!=null&&v(n,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&v(n,["requests"],PH(t,i)),n}function LH(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function UH(t){const e={},n=m(t,["id"]);n!=null&&v(e,["id"],n);const r=m(t,["args"]);r!=null&&v(e,["args"],r);const i=m(t,["name"]);if(i!=null&&v(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VH(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&v(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function BH(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],zI(Hr(i)));const s=m(e,["temperature"]);s!=null&&v(r,["temperature"],s);const o=m(e,["topP"]);o!=null&&v(r,["topP"],o);const c=m(e,["topK"]);c!=null&&v(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&v(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&v(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const g=m(e,["responseLogprobs"]);g!=null&&v(r,["responseLogprobs"],g);const x=m(e,["logprobs"]);x!=null&&v(r,["logprobs"],x);const E=m(e,["presencePenalty"]);E!=null&&v(r,["presencePenalty"],E);const S=m(e,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const A=m(e,["seed"]);A!=null&&v(r,["seed"],A);const C=m(e,["responseMimeType"]);C!=null&&v(r,["responseMimeType"],C);const O=m(e,["responseSchema"]);O!=null&&v(r,["responseSchema"],ox(O));const V=m(e,["responseJsonSchema"]);if(V!=null&&v(r,["responseJsonSchema"],V),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=m(e,["safetySettings"]);if(n!==void 0&&D!=null){let U=D;Array.isArray(U)&&(U=U.map(Te=>nG(Te))),v(n,["safetySettings"],U)}const H=m(e,["tools"]);if(n!==void 0&&H!=null){let U=Wc(H);Array.isArray(U)&&(U=U.map(Te=>iG(Jc(Te)))),v(n,["tools"],U)}const B=m(e,["toolConfig"]);if(n!==void 0&&B!=null&&v(n,["toolConfig"],rG(B)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=m(e,["cachedContent"]);n!==void 0&&j!=null&&v(n,["cachedContent"],Ea(t,j));const N=m(e,["responseModalities"]);N!=null&&v(r,["responseModalities"],N);const I=m(e,["mediaResolution"]);I!=null&&v(r,["mediaResolution"],I);const b=m(e,["speechConfig"]);if(b!=null&&v(r,["speechConfig"],lx(b)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=m(e,["thinkingConfig"]);F!=null&&v(r,["thinkingConfig"],F);const M=m(e,["imageConfig"]);M!=null&&v(r,["imageConfig"],jH(M));const k=m(e,["enableEnhancedCivicAnswers"]);if(k!=null&&v(r,["enableEnhancedCivicAnswers"],k),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function zH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>wH(d))),v(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&v(e,["modelVersion"],i);const s=m(t,["promptFeedback"]);s!=null&&v(e,["promptFeedback"],s);const o=m(t,["responseId"]);o!=null&&v(e,["responseId"],o);const c=m(t,["usageMetadata"]);return c!=null&&v(e,["usageMetadata"],c),e}function HH(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Zc(t,r)),n}function GH(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Zc(t,r)),n}function qH(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function $H(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function jH(t){const e={},n=m(t,["aspectRatio"]);n!=null&&v(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&v(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function KH(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["request","model"],jt(t,r));const i=m(e,["contents"]);if(i!=null){let c=qi(i);Array.isArray(c)&&(c=c.map(f=>zI(f))),v(n,["request","contents"],c)}const s=m(e,["metadata"]);s!=null&&v(n,["metadata"],s);const o=m(e,["config"]);return o!=null&&v(n,["request","generationConfig"],BH(t,o,m(n,["request"],{}))),n}function YH(t){const e={},n=m(t,["response"]);n!=null&&v(e,["response"],zH(n));const r=m(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=m(t,["error"]);return i!=null&&v(e,["error"],i),e}function JH(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);if(e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function WH(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&v(e,["_query","pageToken"],i);const s=m(t,["filter"]);return e!==void 0&&s!=null&&v(e,["_query","filter"],s),n}function ZH(t){const e={},n=m(t,["config"]);return n!=null&&JH(n,e),e}function XH(t){const e={},n=m(t,["config"]);return n!=null&&WH(n,e),e}function QH(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=m(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>f0(o))),v(e,["batchJobs"],s)}return e}function eG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=m(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Fv(o))),v(e,["batchJobs"],s)}return e}function tG(t){const e={},n=m(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&v(e,["fileData"],LH(s));const o=m(t,["functionCall"]);o!=null&&v(e,["functionCall"],UH(o));const c=m(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&v(e,["inlineData"],_H(f));const d=m(t,["text"]);d!=null&&v(e,["text"],d);const h=m(t,["thought"]);h!=null&&v(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&v(e,["thoughtSignature"],g);const x=m(t,["videoMetadata"]);return x!=null&&v(e,["videoMetadata"],x),e}function nG(t){const e={},n=m(t,["category"]);if(n!=null&&v(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&v(e,["threshold"],r),e}function rG(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],VH(r)),e}function iG(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),v(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],qH(o));const c=m(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],$H(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ma;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ma||(ma={}));class Cl{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sG extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cl(ma.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=yS(this.apiClient,e),r=n._url,i=Ye("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const h of f){const g=Object.assign({},h);if(g.systemInstruction){const x=g.systemInstruction;delete g.systemInstruction;const E=g.request;E.systemInstruction=x,g.request=E}d.push(g)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=bH(this.apiClient,e);return c=Ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Fv(h))}else{const d=yS(this.apiClient,e);return c=Ye("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>f0(h))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=NH(this.apiClient,e);return s=Ye("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f0(f))}}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=GH(this.apiClient,e);return c=Ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Fv(h))}else{const d=HH(this.apiClient,e);return c=Ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>f0(h))}}async cancel(e){var n,r,i,s;let o="",c={};if(this.apiClient.isVertexAI()){const f=TH(this.apiClient,e);o=Ye("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=EH(this.apiClient,e);o=Ye("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=XH(e);return c=Ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=eG(h),x=new mS;return Object.assign(x,g),x})}else{const d=ZH(e);return c=Ye("batches",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=QH(h),x=new mS;return Object.assign(x,g),x})}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=kH(this.apiClient,e);return c=Ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>MH(h))}else{const d=RH(this.apiClient,e);return c=Ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>DH(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aG(t){const e={},n=m(t,["data"]);if(n!=null&&v(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function _S(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>NG(s))),v(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&v(e,["role"],r),e}function oG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let h=qi(o);Array.isArray(h)&&(h=h.map(g=>_S(g))),v(e,["contents"],h)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],_S(Hr(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>kG(g))),v(e,["tools"],h)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&v(e,["toolConfig"],RG(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function lG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&v(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&v(e,["displayName"],s);const o=m(t,["contents"]);if(e!==void 0&&o!=null){let g=qi(o);Array.isArray(g)&&(g=g.map(x=>x)),v(e,["contents"],g)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&v(e,["systemInstruction"],Hr(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(x=>DG(x))),v(e,["tools"],g)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&v(e,["toolConfig"],d);const h=m(t,["kmsKeyName"]);return e!==void 0&&h!=null&&v(e,["encryption_spec","kmsKeyName"],h),n}function cG(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["model"],NI(t,r));const i=m(e,["config"]);return i!=null&&oG(i,n),n}function uG(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["model"],NI(t,r));const i=m(e,["config"]);return i!=null&&lG(i,n),n}function fG(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Ea(t,r)),n}function dG(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Ea(t,r)),n}function hG(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function pG(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function mG(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function gG(t){const e={},n=m(t,["id"]);n!=null&&v(e,["id"],n);const r=m(t,["args"]);r!=null&&v(e,["args"],r);const i=m(t,["name"]);if(i!=null&&v(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vG(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&v(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&v(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xG(t){const e={},n=m(t,["description"]);n!=null&&v(e,["description"],n);const r=m(t,["name"]);r!=null&&v(e,["name"],r);const i=m(t,["parameters"]);i!=null&&v(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const o=m(t,["response"]);o!=null&&v(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&v(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function yG(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Ea(t,r)),n}function _G(t,e){const n={},r=m(e,["name"]);return r!=null&&v(n,["_url","name"],Ea(t,r)),n}function EG(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function TG(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function wG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function SG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function AG(t){const e={},n=m(t,["config"]);return n!=null&&wG(n,e),e}function CG(t){const e={},n=m(t,["config"]);return n!=null&&SG(n,e),e}function bG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["cachedContents"],s)}return e}function IG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["cachedContents"],s)}return e}function NG(t){const e={},n=m(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&v(e,["fileData"],mG(s));const o=m(t,["functionCall"]);o!=null&&v(e,["functionCall"],gG(o));const c=m(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&v(e,["inlineData"],aG(f));const d=m(t,["text"]);d!=null&&v(e,["text"],d);const h=m(t,["thought"]);h!=null&&v(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&v(e,["thoughtSignature"],g);const x=m(t,["videoMetadata"]);return x!=null&&v(e,["videoMetadata"],x),e}function RG(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&v(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&v(e,["functionCallingConfig"],vG(r)),e}function kG(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),v(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],EG(o));const c=m(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],TG(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function DG(t){const e={},n=m(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&v(e,["enterpriseWebSearch"],s);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>xG(x))),v(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&v(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function MG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function PG(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&v(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&v(e,["expireTime"],i),n}function FG(t,e){const n={},r=m(e,["name"]);r!=null&&v(n,["_url","name"],Ea(t,r));const i=m(e,["config"]);return i!=null&&MG(i,n),n}function OG(t,e){const n={},r=m(e,["name"]);r!=null&&v(n,["_url","name"],Ea(t,r));const i=m(e,["config"]);return i!=null&&PG(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LG extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cl(ma.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=uG(this.apiClient,e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=cG(this.apiClient,e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=_G(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=yG(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=dG(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=pG(h),x=new hS;return Object.assign(x,g),x})}else{const d=fG(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=hG(h),x=new hS;return Object.assign(x,g),x})}}async update(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=OG(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>h)}else{const d=FG(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>h)}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=CG(e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=IG(h),x=new pS;return Object.assign(x,g),x})}else{const d=AG(e);return c=Ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=bG(h),x=new pS;return Object.assign(x,g),x})}}}function z0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ES(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(t){return this instanceof xt?(this.v=t,this):new xt(t)}function ps(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(E){return function(S){return Promise.resolve(S).then(E,g)}}function c(E,S){r[E]&&(i[E]=function(A){return new Promise(function(C,O){s.push([E,A,C,O])>1||f(E,A)})},S&&(i[E]=S(i[E])))}function f(E,S){try{d(r[E](S))}catch(A){x(s[0][3],A)}}function d(E){E.value instanceof xt?Promise.resolve(E.value.v).then(h,g):x(s[0][2],E)}function h(E){f("next",E)}function g(E){f("throw",E)}function x(E,S){E(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function ms(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ES=="function"?ES(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,f){o=t[s](o),i(c,f,o.done,o.value)})}}function i(s,o,c,f){Promise.resolve(f).then(function(d){s({value:d,done:c})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UG(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:HI(n)}function HI(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function VG(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function TS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!HI(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class BG{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new zG(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zG{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),VG(s)}async sendMessage(e){var n;await this.sendPromise;const r=Hr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,c;const f=await i,d=(o=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,h=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let x=[];h!=null&&(x=(c=h.slice(g))!==null&&c!==void 0?c:[]);const E=d?[d]:[];this.recordHistory(r,E,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Hr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?TS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ps(this,arguments,function*(){var i,s,o,c,f,d;const h=[];try{for(var g=!0,x=ms(e),E;E=yield xt(x.next()),i=E.done,!i;g=!0){c=E.value,g=!1;const S=c;if(UG(S)){const A=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;A!==void 0&&h.push(A)}yield yield xt(S)}}catch(S){s={error:S}}finally{try{!g&&!i&&(o=x.return)&&(yield xt(o.call(x)))}finally{if(s)throw s.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...TS(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Kf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HG(t){const e={},n=m(t,["file"]);return n!=null&&v(e,["file"],n),e}function GG(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function qG(t){const e={},n=m(t,["name"]);return n!=null&&v(e,["_url","file"],FI(n)),e}function $G(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}function jG(t){const e={},n=m(t,["name"]);return n!=null&&v(e,["_url","file"],FI(n)),e}function KG(t){const e={},n=m(t,["uris"]);return n!=null&&v(e,["uris"],n),e}function YG(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function JG(t){const e={},n=m(t,["config"]);return n!=null&&YG(n,e),e}function WG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=m(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["files"],s)}return e}function ZG(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),v(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XG extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cl(ma.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JG(e);return s=Ye("files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=WG(f),h=new Qz;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HG(e);return s=Ye("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=GG(f),h=new eH;return Object.assign(h,d),h})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jG(e);return s=Ye("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=qG(e);return s=Ye("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=$G(f),h=new tH;return Object.assign(h,d),h})}}async registerFilesInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KG(e);return s=Ye("files:register",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=ZG(f),h=new nH;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d0(t){const e={},n=m(t,["data"]);if(n!=null&&v(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function QG(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>mq(s))),v(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&v(e,["role"],r),e}function eq(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function tq(t){const e={},n=m(t,["id"]);n!=null&&v(e,["id"],n);const r=m(t,["args"]);r!=null&&v(e,["args"],r);const i=m(t,["name"]);if(i!=null&&v(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nq(t){const e={},n=m(t,["description"]);n!=null&&v(e,["description"],n);const r=m(t,["name"]);r!=null&&v(e,["name"],r);const i=m(t,["parameters"]);i!=null&&v(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&v(e,["parametersJsonSchema"],s);const o=m(t,["response"]);o!=null&&v(e,["response"],o);const c=m(t,["responseJsonSchema"]);if(c!=null&&v(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function rq(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&v(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&v(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&v(e,["audioTimestamp"],i);const s=m(t,["candidateCount"]);s!=null&&v(e,["candidateCount"],s);const o=m(t,["enableAffectiveDialog"]);o!=null&&v(e,["enableAffectiveDialog"],o);const c=m(t,["frequencyPenalty"]);c!=null&&v(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&v(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&v(e,["maxOutputTokens"],d);const h=m(t,["mediaResolution"]);h!=null&&v(e,["mediaResolution"],h);const g=m(t,["presencePenalty"]);g!=null&&v(e,["presencePenalty"],g);const x=m(t,["responseLogprobs"]);x!=null&&v(e,["responseLogprobs"],x);const E=m(t,["responseMimeType"]);E!=null&&v(e,["responseMimeType"],E);const S=m(t,["responseModalities"]);S!=null&&v(e,["responseModalities"],S);const A=m(t,["responseSchema"]);A!=null&&v(e,["responseSchema"],A);const C=m(t,["routingConfig"]);C!=null&&v(e,["routingConfig"],C);const O=m(t,["seed"]);O!=null&&v(e,["seed"],O);const V=m(t,["speechConfig"]);V!=null&&v(e,["speechConfig"],V);const D=m(t,["stopSequences"]);D!=null&&v(e,["stopSequences"],D);const H=m(t,["temperature"]);H!=null&&v(e,["temperature"],H);const B=m(t,["thinkingConfig"]);B!=null&&v(e,["thinkingConfig"],B);const j=m(t,["topK"]);j!=null&&v(e,["topK"],j);const N=m(t,["topP"]);if(N!=null&&v(e,["topP"],N),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function iq(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function sq(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function aq(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","speechConfig"],cx(g));const x=m(t,["thinkingConfig"]);e!==void 0&&x!=null&&v(e,["setup","generationConfig","thinkingConfig"],x);const E=m(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],QG(Hr(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let j=Wc(A);Array.isArray(j)&&(j=j.map(N=>vq(Jc(N)))),v(e,["setup","tools"],j)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],gq(C));const O=m(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&v(e,["setup","inputAudioTranscription"],O);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&v(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const B=m(t,["proactivity"]);if(e!==void 0&&B!=null&&v(e,["setup","proactivity"],B),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function oq(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],rq(r));const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","speechConfig"],cx(g));const x=m(t,["thinkingConfig"]);e!==void 0&&x!=null&&v(e,["setup","generationConfig","thinkingConfig"],x);const E=m(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],Hr(S));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let N=Wc(A);Array.isArray(N)&&(N=N.map(I=>xq(Jc(I)))),v(e,["setup","tools"],N)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],C);const O=m(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&v(e,["setup","inputAudioTranscription"],O);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&v(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const B=m(t,["proactivity"]);e!==void 0&&B!=null&&v(e,["setup","proactivity"],B);const j=m(t,["explicitVadSignal"]);return e!==void 0&&j!=null&&v(e,["setup","explicitVadSignal"],j),n}function lq(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["setup","model"],jt(t,r));const i=m(e,["config"]);return i!=null&&v(n,["config"],aq(i,n)),n}function cq(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["setup","model"],jt(t,r));const i=m(e,["config"]);return i!=null&&v(n,["config"],oq(i,n)),n}function uq(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&v(e,["musicGenerationConfig"],n),e}function fq(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(e,["weightedPrompts"],r)}return e}function dq(t){const e={},n=m(t,["media"]);if(n!=null){let d=RI(n);Array.isArray(d)&&(d=d.map(h=>d0(h))),v(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&v(e,["audio"],d0(DI(r)));const i=m(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&v(e,["video"],d0(kI(s)));const o=m(t,["text"]);o!=null&&v(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function hq(t){const e={},n=m(t,["media"]);if(n!=null){let d=RI(n);Array.isArray(d)&&(d=d.map(h=>h)),v(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&v(e,["audio"],DI(r));const i=m(t,["audioStreamEnd"]);i!=null&&v(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&v(e,["video"],kI(s));const o=m(t,["text"]);o!=null&&v(e,["text"],o);const c=m(t,["activityStart"]);c!=null&&v(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&v(e,["activityEnd"],f),e}function pq(t){const e={},n=m(t,["setupComplete"]);n!=null&&v(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&v(e,["serverContent"],r);const i=m(t,["toolCall"]);i!=null&&v(e,["toolCall"],i);const s=m(t,["toolCallCancellation"]);s!=null&&v(e,["toolCallCancellation"],s);const o=m(t,["usageMetadata"]);o!=null&&v(e,["usageMetadata"],yq(o));const c=m(t,["goAway"]);c!=null&&v(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);f!=null&&v(e,["sessionResumptionUpdate"],f);const d=m(t,["voiceActivityDetectionSignal"]);d!=null&&v(e,["voiceActivityDetectionSignal"],d);const h=m(t,["voiceActivity"]);return h!=null&&v(e,["voiceActivity"],_q(h)),e}function mq(t){const e={},n=m(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&v(e,["fileData"],eq(s));const o=m(t,["functionCall"]);o!=null&&v(e,["functionCall"],tq(o));const c=m(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&v(e,["inlineData"],d0(f));const d=m(t,["text"]);d!=null&&v(e,["text"],d);const h=m(t,["thought"]);h!=null&&v(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&v(e,["thoughtSignature"],g);const x=m(t,["videoMetadata"]);return x!=null&&v(e,["videoMetadata"],x),e}function gq(t){const e={},n=m(t,["handle"]);if(n!=null&&v(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vq(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),v(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],iq(o));const c=m(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],sq(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}function xq(t){const e={},n=m(t,["retrieval"]);n!=null&&v(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&v(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&v(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&v(e,["enterpriseWebSearch"],s);const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>nq(x))),v(e,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&v(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&v(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&v(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&v(e,["urlContext"],h),e}function yq(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&v(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&v(e,["cachedContentTokenCount"],r);const i=m(t,["candidatesTokenCount"]);i!=null&&v(e,["responseTokenCount"],i);const s=m(t,["toolUsePromptTokenCount"]);s!=null&&v(e,["toolUsePromptTokenCount"],s);const o=m(t,["thoughtsTokenCount"]);o!=null&&v(e,["thoughtsTokenCount"],o);const c=m(t,["totalTokenCount"]);c!=null&&v(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["promptTokensDetails"],E)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["cacheTokensDetails"],E)}const h=m(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["responseTokensDetails"],E)}const g=m(t,["toolUsePromptTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(S=>S)),v(e,["toolUsePromptTokensDetails"],E)}const x=m(t,["trafficType"]);return x!=null&&v(e,["trafficType"],x),e}function _q(t){const e={},n=m(t,["type"]);return n!=null&&v(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eq(t,e){const n={},r=m(t,["data"]);if(r!=null&&v(n,["data"],r),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Tq(t,e){const n={},r=m(t,["content"]);r!=null&&v(n,["content"],r);const i=m(t,["citationMetadata"]);i!=null&&v(n,["citationMetadata"],wq(i));const s=m(t,["tokenCount"]);s!=null&&v(n,["tokenCount"],s);const o=m(t,["finishReason"]);o!=null&&v(n,["finishReason"],o);const c=m(t,["avgLogprobs"]);c!=null&&v(n,["avgLogprobs"],c);const f=m(t,["groundingMetadata"]);f!=null&&v(n,["groundingMetadata"],f);const d=m(t,["index"]);d!=null&&v(n,["index"],d);const h=m(t,["logprobsResult"]);h!=null&&v(n,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(S=>S)),v(n,["safetyRatings"],E)}const x=m(t,["urlContextMetadata"]);return x!=null&&v(n,["urlContextMetadata"],x),n}function wq(t,e){const n={},r=m(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),v(n,["citations"],i)}return n}function Sq(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["contents"]);if(s!=null){let o=qi(s);Array.isArray(o)&&(o=o.map(c=>c)),v(r,["contents"],o)}return r}function Aq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(n,["tokensInfo"],s)}return n}function Cq(t,e){const n={},r=m(t,["values"]);r!=null&&v(n,["values"],r);const i=m(t,["statistics"]);return i!=null&&v(n,["statistics"],bq(i)),n}function bq(t,e){const n={},r=m(t,["truncated"]);r!=null&&v(n,["truncated"],r);const i=m(t,["token_count"]);return i!=null&&v(n,["tokenCount"],i),n}function vp(t,e){const n={},r=m(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>O$(o))),v(n,["parts"],s)}const i=m(t,["role"]);return i!=null&&v(n,["role"],i),n}function Iq(t,e){const n={},r=m(t,["controlType"]);r!=null&&v(n,["controlType"],r);const i=m(t,["enableControlImageComputation"]);return i!=null&&v(n,["computeControl"],i),n}function Nq(t,e){const n={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Rq(t,e,n){const r={},i=m(t,["systemInstruction"]);e!==void 0&&i!=null&&v(e,["systemInstruction"],Hr(i));const s=m(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>jI(f))),v(e,["tools"],c)}const o=m(t,["generationConfig"]);return e!==void 0&&o!=null&&v(e,["generationConfig"],E$(o)),r}function kq(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>vp(f))),v(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&Nq(o),r}function Dq(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&Rq(o,r),r}function Mq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);i!=null&&v(n,["totalTokens"],i);const s=m(t,["cachedContentTokenCount"]);return s!=null&&v(n,["cachedContentTokenCount"],s),n}function Pq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);return i!=null&&v(n,["totalTokens"],i),n}function Fq(t,e,n){const r={},i=m(e,["model"]);return i!=null&&v(r,["_url","name"],jt(t,i)),r}function Oq(t,e,n){const r={},i=m(e,["model"]);return i!=null&&v(r,["_url","name"],jt(t,i)),r}function Lq(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Uq(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function Vq(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&v(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const x=m(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&v(e,["parameters","includeSafetyAttributes"],x);const E=m(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const S=m(t,["language"]);e!==void 0&&S!=null&&v(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&v(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&v(e,["parameters","outputOptions","compressionQuality"],C);const O=m(t,["addWatermark"]);e!==void 0&&O!=null&&v(e,["parameters","addWatermark"],O);const V=m(t,["labels"]);e!==void 0&&V!=null&&v(e,["labels"],V);const D=m(t,["editMode"]);e!==void 0&&D!=null&&v(e,["parameters","editMode"],D);const H=m(t,["baseSteps"]);return e!==void 0&&H!=null&&v(e,["parameters","editConfig","baseSteps"],H),r}function Bq(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["prompt"]);s!=null&&v(r,["instances[0]","prompt"],s);const o=m(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>H$(d))),v(r,["instances[0]","referenceImages"],f)}const c=m(e,["config"]);return c!=null&&Vq(c,r),r}function zq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>xp(o))),v(n,["generatedImages"],s)}return n}function Hq(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&v(e,["requests[]","taskType"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&v(e,["requests[]","title"],s);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&v(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Gq(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&v(e,["instances[]","task_type"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&v(e,["instances[]","title"],s);const o=m(t,["outputDimensionality"]);e!==void 0&&o!=null&&v(e,["parameters","outputDimensionality"],o);const c=m(t,["mimeType"]);e!==void 0&&c!=null&&v(e,["instances[]","mimeType"],c);const f=m(t,["autoTruncate"]);return e!==void 0&&f!=null&&v(e,["parameters","autoTruncate"],f),r}function qq(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["contents"]);if(s!=null){let f=ax(t,s);Array.isArray(f)&&(f=f.map(d=>d)),v(r,["requests[]","content"],f)}const o=m(e,["config"]);o!=null&&Hq(o,r);const c=m(e,["model"]);return c!==void 0&&v(r,["requests[]","model"],jt(t,c)),r}function $q(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["contents"]);if(s!=null){let c=ax(t,s);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["instances[]","content"],c)}const o=m(e,["config"]);return o!=null&&Gq(o,r),r}function jq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>c)),v(n,["embeddings"],o)}const s=m(t,["metadata"]);return s!=null&&v(n,["metadata"],s),n}function Kq(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>Cq(c))),v(n,["embeddings"],o)}const s=m(t,["metadata"]);return s!=null&&v(n,["metadata"],s),n}function Yq(t,e){const n={},r=m(t,["endpoint"]);r!=null&&v(n,["name"],r);const i=m(t,["deployedModelId"]);return i!=null&&v(n,["deployedModelId"],i),n}function Jq(t,e){const n={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["fileUri"]);r!=null&&v(n,["fileUri"],r);const i=m(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function Wq(t,e){const n={},r=m(t,["id"]);r!=null&&v(n,["id"],r);const i=m(t,["args"]);i!=null&&v(n,["args"],i);const s=m(t,["name"]);if(s!=null&&v(n,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Zq(t,e){const n={},r=m(t,["allowedFunctionNames"]);r!=null&&v(n,["allowedFunctionNames"],r);const i=m(t,["mode"]);if(i!=null&&v(n,["mode"],i),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Xq(t,e){const n={},r=m(t,["description"]);r!=null&&v(n,["description"],r);const i=m(t,["name"]);i!=null&&v(n,["name"],i);const s=m(t,["parameters"]);s!=null&&v(n,["parameters"],s);const o=m(t,["parametersJsonSchema"]);o!=null&&v(n,["parametersJsonSchema"],o);const c=m(t,["response"]);c!=null&&v(n,["response"],c);const f=m(t,["responseJsonSchema"]);if(f!=null&&v(n,["responseJsonSchema"],f),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Qq(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],vp(Hr(s)));const o=m(e,["temperature"]);o!=null&&v(i,["temperature"],o);const c=m(e,["topP"]);c!=null&&v(i,["topP"],c);const f=m(e,["topK"]);f!=null&&v(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&v(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&v(i,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&v(i,["responseLogprobs"],x);const E=m(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const S=m(e,["presencePenalty"]);S!=null&&v(i,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&v(i,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&v(i,["seed"],C);const O=m(e,["responseMimeType"]);O!=null&&v(i,["responseMimeType"],O);const V=m(e,["responseSchema"]);V!=null&&v(i,["responseSchema"],ox(V));const D=m(e,["responseJsonSchema"]);if(D!=null&&v(i,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=m(e,["safetySettings"]);if(n!==void 0&&H!=null){let Te=H;Array.isArray(Te)&&(Te=Te.map(ye=>G$(ye))),v(n,["safetySettings"],Te)}const B=m(e,["tools"]);if(n!==void 0&&B!=null){let Te=Wc(B);Array.isArray(Te)&&(Te=Te.map(ye=>W$(Jc(ye)))),v(n,["tools"],Te)}const j=m(e,["toolConfig"]);if(n!==void 0&&j!=null&&v(n,["toolConfig"],J$(j)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=m(e,["cachedContent"]);n!==void 0&&N!=null&&v(n,["cachedContent"],Ea(t,N));const I=m(e,["responseModalities"]);I!=null&&v(i,["responseModalities"],I);const b=m(e,["mediaResolution"]);b!=null&&v(i,["mediaResolution"],b);const F=m(e,["speechConfig"]);if(F!=null&&v(i,["speechConfig"],lx(F)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=m(e,["thinkingConfig"]);M!=null&&v(i,["thinkingConfig"],M);const k=m(e,["imageConfig"]);k!=null&&v(i,["imageConfig"],C$(k));const U=m(e,["enableEnhancedCivicAnswers"]);if(U!=null&&v(i,["enableEnhancedCivicAnswers"],U),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function e$(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&v(n,["systemInstruction"],Hr(s));const o=m(e,["temperature"]);o!=null&&v(i,["temperature"],o);const c=m(e,["topP"]);c!=null&&v(i,["topP"],c);const f=m(e,["topK"]);f!=null&&v(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&v(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&v(i,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&v(i,["stopSequences"],g);const x=m(e,["responseLogprobs"]);x!=null&&v(i,["responseLogprobs"],x);const E=m(e,["logprobs"]);E!=null&&v(i,["logprobs"],E);const S=m(e,["presencePenalty"]);S!=null&&v(i,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&v(i,["frequencyPenalty"],A);const C=m(e,["seed"]);C!=null&&v(i,["seed"],C);const O=m(e,["responseMimeType"]);O!=null&&v(i,["responseMimeType"],O);const V=m(e,["responseSchema"]);V!=null&&v(i,["responseSchema"],ox(V));const D=m(e,["responseJsonSchema"]);D!=null&&v(i,["responseJsonSchema"],D);const H=m(e,["routingConfig"]);H!=null&&v(i,["routingConfig"],H);const B=m(e,["modelSelectionConfig"]);B!=null&&v(i,["modelConfig"],B);const j=m(e,["safetySettings"]);if(n!==void 0&&j!=null){let Re=j;Array.isArray(Re)&&(Re=Re.map(ie=>ie)),v(n,["safetySettings"],Re)}const N=m(e,["tools"]);if(n!==void 0&&N!=null){let Re=Wc(N);Array.isArray(Re)&&(Re=Re.map(ie=>jI(Jc(ie)))),v(n,["tools"],Re)}const I=m(e,["toolConfig"]);n!==void 0&&I!=null&&v(n,["toolConfig"],I);const b=m(e,["labels"]);n!==void 0&&b!=null&&v(n,["labels"],b);const F=m(e,["cachedContent"]);n!==void 0&&F!=null&&v(n,["cachedContent"],Ea(t,F));const M=m(e,["responseModalities"]);M!=null&&v(i,["responseModalities"],M);const k=m(e,["mediaResolution"]);k!=null&&v(i,["mediaResolution"],k);const U=m(e,["speechConfig"]);U!=null&&v(i,["speechConfig"],lx(U));const Te=m(e,["audioTimestamp"]);Te!=null&&v(i,["audioTimestamp"],Te);const ye=m(e,["thinkingConfig"]);ye!=null&&v(i,["thinkingConfig"],ye);const ae=m(e,["imageConfig"]);if(ae!=null&&v(i,["imageConfig"],b$(ae)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const oe=m(e,["modelArmorConfig"]);return n!==void 0&&oe!=null&&v(n,["modelArmorConfig"],oe),i}function wS(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>vp(f))),v(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&v(r,["generationConfig"],Qq(t,o,r)),r}function SS(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["contents"]);if(s!=null){let c=qi(s);Array.isArray(c)&&(c=c.map(f=>f)),v(r,["contents"],c)}const o=m(e,["config"]);return o!=null&&v(r,["generationConfig"],e$(t,o,r)),r}function AS(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>Tq(h))),v(n,["candidates"],d)}const s=m(t,["modelVersion"]);s!=null&&v(n,["modelVersion"],s);const o=m(t,["promptFeedback"]);o!=null&&v(n,["promptFeedback"],o);const c=m(t,["responseId"]);c!=null&&v(n,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&v(n,["usageMetadata"],f),n}function CS(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),v(n,["candidates"],h)}const s=m(t,["createTime"]);s!=null&&v(n,["createTime"],s);const o=m(t,["modelVersion"]);o!=null&&v(n,["modelVersion"],o);const c=m(t,["promptFeedback"]);c!=null&&v(n,["promptFeedback"],c);const f=m(t,["responseId"]);f!=null&&v(n,["responseId"],f);const d=m(t,["usageMetadata"]);return d!=null&&v(n,["usageMetadata"],d),n}function t$(t,e,n){const r={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const s=m(t,["aspectRatio"]);e!==void 0&&s!=null&&v(e,["parameters","aspectRatio"],s);const o=m(t,["guidanceScale"]);if(e!==void 0&&o!=null&&v(e,["parameters","guidanceScale"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&v(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f);const d=m(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&v(e,["parameters","includeSafetyAttributes"],d);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&v(e,["parameters","includeRaiReason"],h);const g=m(t,["language"]);e!==void 0&&g!=null&&v(e,["parameters","language"],g);const x=m(t,["outputMimeType"]);e!==void 0&&x!=null&&v(e,["parameters","outputOptions","mimeType"],x);const E=m(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&v(e,["parameters","outputOptions","compressionQuality"],E),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(t,["imageSize"]);if(e!==void 0&&S!=null&&v(e,["parameters","sampleImageSize"],S),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function n$(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&v(e,["parameters","negativePrompt"],s);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&v(e,["parameters","sampleCount"],o);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&v(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&v(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&v(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&v(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const x=m(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&v(e,["parameters","includeSafetyAttributes"],x);const E=m(t,["includeRaiReason"]);e!==void 0&&E!=null&&v(e,["parameters","includeRaiReason"],E);const S=m(t,["language"]);e!==void 0&&S!=null&&v(e,["parameters","language"],S);const A=m(t,["outputMimeType"]);e!==void 0&&A!=null&&v(e,["parameters","outputOptions","mimeType"],A);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&v(e,["parameters","outputOptions","compressionQuality"],C);const O=m(t,["addWatermark"]);e!==void 0&&O!=null&&v(e,["parameters","addWatermark"],O);const V=m(t,["labels"]);e!==void 0&&V!=null&&v(e,["labels"],V);const D=m(t,["imageSize"]);e!==void 0&&D!=null&&v(e,["parameters","sampleImageSize"],D);const H=m(t,["enhancePrompt"]);return e!==void 0&&H!=null&&v(e,["parameters","enhancePrompt"],H),r}function r$(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["prompt"]);s!=null&&v(r,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&t$(o,r),r}function i$(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["prompt"]);s!=null&&v(r,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&n$(o,r),r}function s$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>v$(c))),v(n,["generatedImages"],o)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&v(n,["positivePromptSafetyAttributes"],qI(s)),n}function a$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>xp(c))),v(n,["generatedImages"],o)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&v(n,["positivePromptSafetyAttributes"],$I(s)),n}function o$(t,e,n){const r={},i=m(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(t,["durationSeconds"]);if(e!==void 0&&s!=null&&v(e,["parameters","durationSeconds"],s),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(t,["aspectRatio"]);e!==void 0&&o!=null&&v(e,["parameters","aspectRatio"],o);const c=m(t,["resolution"]);e!==void 0&&c!=null&&v(e,["parameters","resolution"],c);const f=m(t,["personGeneration"]);if(e!==void 0&&f!=null&&v(e,["parameters","personGeneration"],f),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(t,["negativePrompt"]);e!==void 0&&d!=null&&v(e,["parameters","negativePrompt"],d);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&v(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(t,["lastFrame"]);e!==void 0&&g!=null&&v(e,["instances[0]","lastFrame"],yp(g));const x=m(t,["referenceImages"]);if(e!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(S=>cj(S))),v(e,["instances[0]","referenceImages"],E)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function l$(t,e,n){const r={},i=m(t,["numberOfVideos"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&v(e,["parameters","storageUri"],s);const o=m(t,["fps"]);e!==void 0&&o!=null&&v(e,["parameters","fps"],o);const c=m(t,["durationSeconds"]);e!==void 0&&c!=null&&v(e,["parameters","durationSeconds"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&v(e,["parameters","seed"],f);const d=m(t,["aspectRatio"]);e!==void 0&&d!=null&&v(e,["parameters","aspectRatio"],d);const h=m(t,["resolution"]);e!==void 0&&h!=null&&v(e,["parameters","resolution"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&v(e,["parameters","personGeneration"],g);const x=m(t,["pubsubTopic"]);e!==void 0&&x!=null&&v(e,["parameters","pubsubTopic"],x);const E=m(t,["negativePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","negativePrompt"],E);const S=m(t,["enhancePrompt"]);e!==void 0&&S!=null&&v(e,["parameters","enhancePrompt"],S);const A=m(t,["generateAudio"]);e!==void 0&&A!=null&&v(e,["parameters","generateAudio"],A);const C=m(t,["lastFrame"]);e!==void 0&&C!=null&&v(e,["instances[0]","lastFrame"],vs(C));const O=m(t,["referenceImages"]);if(e!==void 0&&O!=null){let H=O;Array.isArray(H)&&(H=H.map(B=>uj(B))),v(e,["instances[0]","referenceImages"],H)}const V=m(t,["mask"]);e!==void 0&&V!=null&&v(e,["instances[0]","mask"],lj(V));const D=m(t,["compressionQuality"]);return e!==void 0&&D!=null&&v(e,["parameters","compressionQuality"],D),r}function c$(t,e){const n={},r=m(t,["name"]);r!=null&&v(n,["name"],r);const i=m(t,["metadata"]);i!=null&&v(n,["metadata"],i);const s=m(t,["done"]);s!=null&&v(n,["done"],s);const o=m(t,["error"]);o!=null&&v(n,["error"],o);const c=m(t,["response","generateVideoResponse"]);return c!=null&&v(n,["response"],h$(c)),n}function u$(t,e){const n={},r=m(t,["name"]);r!=null&&v(n,["name"],r);const i=m(t,["metadata"]);i!=null&&v(n,["metadata"],i);const s=m(t,["done"]);s!=null&&v(n,["done"],s);const o=m(t,["error"]);o!=null&&v(n,["error"],o);const c=m(t,["response"]);return c!=null&&v(n,["response"],p$(c)),n}function f$(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["prompt"]);s!=null&&v(r,["instances[0]","prompt"],s);const o=m(e,["image"]);o!=null&&v(r,["instances[0]","image"],yp(o));const c=m(e,["video"]);c!=null&&v(r,["instances[0]","video"],KI(c));const f=m(e,["source"]);f!=null&&m$(f,r);const d=m(e,["config"]);return d!=null&&o$(d,r),r}function d$(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["prompt"]);s!=null&&v(r,["instances[0]","prompt"],s);const o=m(e,["image"]);o!=null&&v(r,["instances[0]","image"],vs(o));const c=m(e,["video"]);c!=null&&v(r,["instances[0]","video"],YI(c));const f=m(e,["source"]);f!=null&&g$(f,r);const d=m(e,["config"]);return d!=null&&l$(d,r),r}function h$(t,e){const n={},r=m(t,["generatedSamples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>y$(c))),v(n,["generatedVideos"],o)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&v(n,["raiMediaFilteredReasons"],s),n}function p$(t,e){const n={},r=m(t,["videos"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(c=>_$(c))),v(n,["generatedVideos"],o)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&v(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&v(n,["raiMediaFilteredReasons"],s),n}function m$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],yp(s));const o=m(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],KI(o)),r}function g$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],vs(s));const o=m(t,["video"]);return e!==void 0&&o!=null&&v(e,["instances[0]","video"],YI(o)),r}function v$(t,e){const n={},r=m(t,["_self"]);r!=null&&v(n,["image"],I$(r));const i=m(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const s=m(t,["_self"]);return s!=null&&v(n,["safetyAttributes"],qI(s)),n}function xp(t,e){const n={},r=m(t,["_self"]);r!=null&&v(n,["image"],GI(r));const i=m(t,["raiFilteredReason"]);i!=null&&v(n,["raiFilteredReason"],i);const s=m(t,["_self"]);s!=null&&v(n,["safetyAttributes"],$I(s));const o=m(t,["prompt"]);return o!=null&&v(n,["enhancedPrompt"],o),n}function x$(t,e){const n={},r=m(t,["_self"]);r!=null&&v(n,["mask"],GI(r));const i=m(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(n,["labels"],s)}return n}function y$(t,e){const n={},r=m(t,["video"]);return r!=null&&v(n,["video"],aj(r)),n}function _$(t,e){const n={},r=m(t,["_self"]);return r!=null&&v(n,["video"],oj(r)),n}function E$(t,e){const n={},r=m(t,["modelSelectionConfig"]);r!=null&&v(n,["modelConfig"],r);const i=m(t,["responseJsonSchema"]);i!=null&&v(n,["responseJsonSchema"],i);const s=m(t,["audioTimestamp"]);s!=null&&v(n,["audioTimestamp"],s);const o=m(t,["candidateCount"]);o!=null&&v(n,["candidateCount"],o);const c=m(t,["enableAffectiveDialog"]);c!=null&&v(n,["enableAffectiveDialog"],c);const f=m(t,["frequencyPenalty"]);f!=null&&v(n,["frequencyPenalty"],f);const d=m(t,["logprobs"]);d!=null&&v(n,["logprobs"],d);const h=m(t,["maxOutputTokens"]);h!=null&&v(n,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&v(n,["mediaResolution"],g);const x=m(t,["presencePenalty"]);x!=null&&v(n,["presencePenalty"],x);const E=m(t,["responseLogprobs"]);E!=null&&v(n,["responseLogprobs"],E);const S=m(t,["responseMimeType"]);S!=null&&v(n,["responseMimeType"],S);const A=m(t,["responseModalities"]);A!=null&&v(n,["responseModalities"],A);const C=m(t,["responseSchema"]);C!=null&&v(n,["responseSchema"],C);const O=m(t,["routingConfig"]);O!=null&&v(n,["routingConfig"],O);const V=m(t,["seed"]);V!=null&&v(n,["seed"],V);const D=m(t,["speechConfig"]);D!=null&&v(n,["speechConfig"],D);const H=m(t,["stopSequences"]);H!=null&&v(n,["stopSequences"],H);const B=m(t,["temperature"]);B!=null&&v(n,["temperature"],B);const j=m(t,["thinkingConfig"]);j!=null&&v(n,["thinkingConfig"],j);const N=m(t,["topK"]);N!=null&&v(n,["topK"],N);const I=m(t,["topP"]);if(I!=null&&v(n,["topP"],I),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function T$(t,e,n){const r={},i=m(e,["model"]);return i!=null&&v(r,["_url","name"],jt(t,i)),r}function w$(t,e,n){const r={},i=m(e,["model"]);return i!=null&&v(r,["_url","name"],jt(t,i)),r}function S$(t,e){const n={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=m(t,["enableWidget"]);return r!=null&&v(n,["enableWidget"],r),n}function A$(t,e){const n={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=m(t,["timeRangeFilter"]);return r!=null&&v(n,["timeRangeFilter"],r),n}function C$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=m(t,["imageSize"]);if(i!=null&&v(n,["imageSize"],i),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function b$(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&v(n,["aspectRatio"],r);const i=m(t,["imageSize"]);i!=null&&v(n,["imageSize"],i);const s=m(t,["personGeneration"]);s!=null&&v(n,["personGeneration"],s);const o=m(t,["outputMimeType"]);o!=null&&v(n,["imageOutputOptions","mimeType"],o);const c=m(t,["outputCompressionQuality"]);return c!=null&&v(n,["imageOutputOptions","compressionQuality"],c),n}function I$(t,e){const n={},r=m(t,["bytesBase64Encoded"]);r!=null&&v(n,["imageBytes"],bo(r));const i=m(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function GI(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&v(n,["imageBytes"],bo(i));const s=m(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}function yp(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(t,["imageBytes"]);r!=null&&v(n,["bytesBase64Encoded"],bo(r));const i=m(t,["mimeType"]);return i!=null&&v(n,["mimeType"],i),n}function vs(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&v(n,["gcsUri"],r);const i=m(t,["imageBytes"]);i!=null&&v(n,["bytesBase64Encoded"],bo(i));const s=m(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}function N$(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&v(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&v(n,["_url","models_url"],OI(t,f)),i}function R$(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&v(n,["_query","pageSize"],s);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const c=m(e,["filter"]);n!==void 0&&c!=null&&v(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&v(n,["_url","models_url"],OI(t,f)),i}function k$(t,e,n){const r={},i=m(e,["config"]);return i!=null&&N$(t,i,r),r}function D$(t,e,n){const r={},i=m(e,["config"]);return i!=null&&R$(t,i,r),r}function M$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let o=LI(s);Array.isArray(o)&&(o=o.map(c=>Ov(c))),v(n,["models"],o)}return n}function P$(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let o=LI(s);Array.isArray(o)&&(o=o.map(c=>Lv(c))),v(n,["models"],o)}return n}function F$(t,e){const n={},r=m(t,["maskMode"]);r!=null&&v(n,["maskMode"],r);const i=m(t,["segmentationClasses"]);i!=null&&v(n,["maskClasses"],i);const s=m(t,["maskDilation"]);return s!=null&&v(n,["dilation"],s),n}function Ov(t,e){const n={},r=m(t,["name"]);r!=null&&v(n,["name"],r);const i=m(t,["displayName"]);i!=null&&v(n,["displayName"],i);const s=m(t,["description"]);s!=null&&v(n,["description"],s);const o=m(t,["version"]);o!=null&&v(n,["version"],o);const c=m(t,["_self"]);c!=null&&v(n,["tunedModelInfo"],Z$(c));const f=m(t,["inputTokenLimit"]);f!=null&&v(n,["inputTokenLimit"],f);const d=m(t,["outputTokenLimit"]);d!=null&&v(n,["outputTokenLimit"],d);const h=m(t,["supportedGenerationMethods"]);h!=null&&v(n,["supportedActions"],h);const g=m(t,["temperature"]);g!=null&&v(n,["temperature"],g);const x=m(t,["maxTemperature"]);x!=null&&v(n,["maxTemperature"],x);const E=m(t,["topP"]);E!=null&&v(n,["topP"],E);const S=m(t,["topK"]);S!=null&&v(n,["topK"],S);const A=m(t,["thinking"]);return A!=null&&v(n,["thinking"],A),n}function Lv(t,e){const n={},r=m(t,["name"]);r!=null&&v(n,["name"],r);const i=m(t,["displayName"]);i!=null&&v(n,["displayName"],i);const s=m(t,["description"]);s!=null&&v(n,["description"],s);const o=m(t,["versionId"]);o!=null&&v(n,["version"],o);const c=m(t,["deployedModels"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(E=>Yq(E))),v(n,["endpoints"],x)}const f=m(t,["labels"]);f!=null&&v(n,["labels"],f);const d=m(t,["_self"]);d!=null&&v(n,["tunedModelInfo"],X$(d));const h=m(t,["defaultCheckpointId"]);h!=null&&v(n,["defaultCheckpointId"],h);const g=m(t,["checkpoints"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(E=>E)),v(n,["checkpoints"],x)}return n}function O$(t,e){const n={},r=m(t,["mediaResolution"]);r!=null&&v(n,["mediaResolution"],r);const i=m(t,["codeExecutionResult"]);i!=null&&v(n,["codeExecutionResult"],i);const s=m(t,["executableCode"]);s!=null&&v(n,["executableCode"],s);const o=m(t,["fileData"]);o!=null&&v(n,["fileData"],Jq(o));const c=m(t,["functionCall"]);c!=null&&v(n,["functionCall"],Wq(c));const f=m(t,["functionResponse"]);f!=null&&v(n,["functionResponse"],f);const d=m(t,["inlineData"]);d!=null&&v(n,["inlineData"],Eq(d));const h=m(t,["text"]);h!=null&&v(n,["text"],h);const g=m(t,["thought"]);g!=null&&v(n,["thought"],g);const x=m(t,["thoughtSignature"]);x!=null&&v(n,["thoughtSignature"],x);const E=m(t,["videoMetadata"]);return E!=null&&v(n,["videoMetadata"],E),n}function L$(t,e){const n={},r=m(t,["productImage"]);return r!=null&&v(n,["image"],vs(r)),n}function U$(t,e,n){const r={},i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&v(e,["parameters","sampleCount"],i);const s=m(t,["baseSteps"]);e!==void 0&&s!=null&&v(e,["parameters","baseSteps"],s);const o=m(t,["outputGcsUri"]);e!==void 0&&o!=null&&v(e,["parameters","storageUri"],o);const c=m(t,["seed"]);e!==void 0&&c!=null&&v(e,["parameters","seed"],c);const f=m(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&v(e,["parameters","safetySetting"],f);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&v(e,["parameters","personGeneration"],d);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&v(e,["parameters","addWatermark"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&v(e,["parameters","outputOptions","mimeType"],g);const x=m(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&v(e,["parameters","outputOptions","compressionQuality"],x);const E=m(t,["enhancePrompt"]);e!==void 0&&E!=null&&v(e,["parameters","enhancePrompt"],E);const S=m(t,["labels"]);return e!==void 0&&S!=null&&v(e,["labels"],S),r}function V$(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["source"]);s!=null&&z$(s,r);const o=m(e,["config"]);return o!=null&&U$(o,r),r}function B$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xp(s))),v(n,["generatedImages"],i)}return n}function z$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=m(t,["personImage"]);e!==void 0&&s!=null&&v(e,["instances[0]","personImage","image"],vs(s));const o=m(t,["productImages"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>L$(f))),v(e,["instances[0]","productImages"],c)}return r}function H$(t,e){const n={},r=m(t,["referenceImage"]);r!=null&&v(n,["referenceImage"],vs(r));const i=m(t,["referenceId"]);i!=null&&v(n,["referenceId"],i);const s=m(t,["referenceType"]);s!=null&&v(n,["referenceType"],s);const o=m(t,["maskImageConfig"]);o!=null&&v(n,["maskImageConfig"],F$(o));const c=m(t,["controlImageConfig"]);c!=null&&v(n,["controlImageConfig"],Iq(c));const f=m(t,["styleImageConfig"]);f!=null&&v(n,["styleImageConfig"],f);const d=m(t,["subjectImageConfig"]);return d!=null&&v(n,["subjectImageConfig"],d),n}function qI(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&v(n,["contentType"],s),n}function $I(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&v(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&v(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&v(n,["contentType"],s),n}function G$(t,e){const n={},r=m(t,["category"]);if(r!=null&&v(n,["category"],r),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(t,["threshold"]);return i!=null&&v(n,["threshold"],i),n}function q$(t,e){const n={},r=m(t,["image"]);return r!=null&&v(n,["image"],vs(r)),n}function $$(t,e,n){const r={},i=m(t,["mode"]);e!==void 0&&i!=null&&v(e,["parameters","mode"],i);const s=m(t,["maxPredictions"]);e!==void 0&&s!=null&&v(e,["parameters","maxPredictions"],s);const o=m(t,["confidenceThreshold"]);e!==void 0&&o!=null&&v(e,["parameters","confidenceThreshold"],o);const c=m(t,["maskDilation"]);e!==void 0&&c!=null&&v(e,["parameters","maskDilation"],c);const f=m(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&v(e,["parameters","binaryColorThreshold"],f);const d=m(t,["labels"]);return e!==void 0&&d!=null&&v(e,["labels"],d),r}function j$(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["source"]);s!=null&&Y$(s,r);const o=m(e,["config"]);return o!=null&&$$(o,r),r}function K$(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>x$(s))),v(n,["generatedMasks"],i)}return n}function Y$(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&v(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&v(e,["instances[0]","image"],vs(s));const o=m(t,["scribbleImage"]);return e!==void 0&&o!=null&&v(e,["instances[0]","scribble"],q$(o)),r}function J$(t,e){const n={},r=m(t,["retrievalConfig"]);r!=null&&v(n,["retrievalConfig"],r);const i=m(t,["functionCallingConfig"]);return i!=null&&v(n,["functionCallingConfig"],Zq(i)),n}function W$(t,e){const n={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["computerUse"]);r!=null&&v(n,["computerUse"],r);const i=m(t,["fileSearch"]);i!=null&&v(n,["fileSearch"],i);const s=m(t,["codeExecution"]);if(s!=null&&v(n,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=m(t,["functionDeclarations"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(x=>x)),v(n,["functionDeclarations"],g)}const c=m(t,["googleMaps"]);c!=null&&v(n,["googleMaps"],S$(c));const f=m(t,["googleSearch"]);f!=null&&v(n,["googleSearch"],A$(f));const d=m(t,["googleSearchRetrieval"]);d!=null&&v(n,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&v(n,["urlContext"],h),n}function jI(t,e){const n={},r=m(t,["retrieval"]);r!=null&&v(n,["retrieval"],r);const i=m(t,["computerUse"]);if(i!=null&&v(n,["computerUse"],i),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=m(t,["codeExecution"]);s!=null&&v(n,["codeExecution"],s);const o=m(t,["enterpriseWebSearch"]);o!=null&&v(n,["enterpriseWebSearch"],o);const c=m(t,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(E=>Xq(E))),v(n,["functionDeclarations"],x)}const f=m(t,["googleMaps"]);f!=null&&v(n,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&v(n,["googleSearch"],d);const h=m(t,["googleSearchRetrieval"]);h!=null&&v(n,["googleSearchRetrieval"],h);const g=m(t,["urlContext"]);return g!=null&&v(n,["urlContext"],g),n}function Z$(t,e){const n={},r=m(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&v(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&v(n,["updateTime"],s),n}function X$(t,e){const n={},r=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&v(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&v(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&v(n,["updateTime"],s),n}function Q$(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),r}function ej(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&v(e,["description"],s);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&v(e,["defaultCheckpointId"],o),r}function tj(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","name"],jt(t,i));const s=m(e,["config"]);return s!=null&&Q$(s,r),r}function nj(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["config"]);return s!=null&&ej(s,r),r}function rj(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&v(e,["parameters","storageUri"],i);const s=m(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&v(e,["parameters","safetySetting"],s);const o=m(t,["personGeneration"]);e!==void 0&&o!=null&&v(e,["parameters","personGeneration"],o);const c=m(t,["includeRaiReason"]);e!==void 0&&c!=null&&v(e,["parameters","includeRaiReason"],c);const f=m(t,["outputMimeType"]);e!==void 0&&f!=null&&v(e,["parameters","outputOptions","mimeType"],f);const d=m(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&v(e,["parameters","outputOptions","compressionQuality"],d);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&v(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&v(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const x=m(t,["labels"]);e!==void 0&&x!=null&&v(e,["labels"],x);const E=m(t,["numberOfImages"]);e!==void 0&&E!=null&&v(e,["parameters","sampleCount"],E);const S=m(t,["mode"]);return e!==void 0&&S!=null&&v(e,["parameters","mode"],S),r}function ij(t,e,n){const r={},i=m(e,["model"]);i!=null&&v(r,["_url","model"],jt(t,i));const s=m(e,["image"]);s!=null&&v(r,["instances[0]","image"],vs(s));const o=m(e,["upscaleFactor"]);o!=null&&v(r,["parameters","upscaleConfig","upscaleFactor"],o);const c=m(e,["config"]);return c!=null&&rj(c,r),r}function sj(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>xp(o))),v(n,["generatedImages"],s)}return n}function aj(t,e){const n={},r=m(t,["uri"]);r!=null&&v(n,["uri"],r);const i=m(t,["encodedVideo"]);i!=null&&v(n,["videoBytes"],bo(i));const s=m(t,["encoding"]);return s!=null&&v(n,["mimeType"],s),n}function oj(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&v(n,["uri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&v(n,["videoBytes"],bo(i));const s=m(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}function lj(t,e){const n={},r=m(t,["image"]);r!=null&&v(n,["_self"],vs(r));const i=m(t,["maskMode"]);return i!=null&&v(n,["maskMode"],i),n}function cj(t,e){const n={},r=m(t,["image"]);r!=null&&v(n,["image"],yp(r));const i=m(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function uj(t,e){const n={},r=m(t,["image"]);r!=null&&v(n,["image"],vs(r));const i=m(t,["referenceType"]);return i!=null&&v(n,["referenceType"],i),n}function KI(t,e){const n={},r=m(t,["uri"]);r!=null&&v(n,["uri"],r);const i=m(t,["videoBytes"]);i!=null&&v(n,["encodedVideo"],bo(i));const s=m(t,["mimeType"]);return s!=null&&v(n,["encoding"],s),n}function YI(t,e){const n={},r=m(t,["uri"]);r!=null&&v(n,["gcsUri"],r);const i=m(t,["videoBytes"]);i!=null&&v(n,["bytesBase64Encoded"],bo(i));const s=m(t,["mimeType"]);return s!=null&&v(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fj(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&v(e,["displayName"],r),n}function dj(t){const e={},n=m(t,["config"]);return n!=null&&fj(n,e),e}function hj(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function pj(t){const e={},n=m(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&hj(r,e),e}function mj(t){const e={},n=m(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function gj(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["customMetadata"],s)}const i=m(t,["chunkingConfig"]);return e!==void 0&&i!=null&&v(e,["chunkingConfig"],i),n}function vj(t){const e={},n=m(t,["name"]);n!=null&&v(e,["name"],n);const r=m(t,["metadata"]);r!=null&&v(e,["metadata"],r);const i=m(t,["done"]);i!=null&&v(e,["done"],i);const s=m(t,["error"]);s!=null&&v(e,["error"],s);const o=m(t,["response"]);return o!=null&&v(e,["response"],yj(o)),e}function xj(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&v(e,["fileName"],r);const i=m(t,["config"]);return i!=null&&gj(i,e),e}function yj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&v(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&v(e,["documentName"],i),e}function _j(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function Ej(t){const e={},n=m(t,["config"]);return n!=null&&_j(n,e),e}function Tj(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=m(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["fileSearchStores"],s)}return e}function JI(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&v(e,["mimeType"],r);const i=m(t,["displayName"]);e!==void 0&&i!=null&&v(e,["displayName"],i);const s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),v(e,["customMetadata"],c)}const o=m(t,["chunkingConfig"]);return e!==void 0&&o!=null&&v(e,["chunkingConfig"],o),n}function wj(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&v(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&JI(r,e),e}function Sj(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&v(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aj="Content-Type",Cj="X-Server-Timeout",bj="User-Agent",Uv="x-goog-api-client",Ij="1.40.0",Nj=`google-genai-sdk/${Ij}`,Rj="v1beta1",kj="v1beta";class Dj{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Rj}else{if(!this.clientOptions.apiKey)throw new Kf({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:kj,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Dv.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))i.searchParams.append(o,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&Mj(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await bS(i),new Mv(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await bS(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ps(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield xt(i.read());if(d){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=s.decode(h,{stream:!0});try{const S=JSON.parse(g);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),C=A.status,O=A.code,V=`got status: ${C}. ${JSON.stringify(S)}`;if(O>=400&&O<600)throw new Kf({message:V,status:O})}}catch(S){if(S.name==="ApiError")throw S}o+=g;let x=-1,E=0;for(;;){x=-1,E=0;for(const C of f){const O=o.indexOf(C);O!==-1&&(x===-1||O<x)&&(x=O,E=C.length)}if(x===-1)break;const S=o.substring(0,x);o=o.substring(x+E);const A=S.trim();if(A.startsWith(c)){const C=A.substring(c.length).trim();try{const O=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield xt(new Mv(O))}catch(O){throw new Error(`exception parsing stream chunk ${C}. ${O}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Nj+" "+this.clientOptions.userAgentExtra;return e[bj]=n,e[Uv]=n,e[Aj]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(Cj,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),h=Ye("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return s.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),c=String(o.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&JI(r,g);const x=await this.fetchUploadUrl(d,c,f,h,g,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var c;let f={};o?f=o:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function bS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Kf({message:i,status:n}):new Error(i)}}function Mj(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const c=Object.assign({},s);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=o[f],h=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pj="mcp_used/unknown";let Fj=!1;function WI(t){for(const e of t)if(Oj(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Fj}function ZI(t){var e;const n=(e=t[Uv])!==null&&e!==void 0?e:"";t[Uv]=(n+` ${Pj}`).trimStart()}function Oj(t){return t!==null&&typeof t=="object"&&t instanceof ux}function Lj(t){return ps(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield xt(n.listTools({cursor:i}));for(const c of o.tools)yield yield xt(c),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class ux{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ux(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const h of this.mcpClients)try{for(var c=!0,f=(n=void 0,ms(Lj(h))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const g=i;o.push(g);const x=g.name;if(s[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);s[x]=h}}catch(g){n={error:g}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),dH(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Uj(t,e,n){const r=new iH;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Vj{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=Hj(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(D=>{d=D}),g=e.callbacks,x=function(){d({})},E=this.apiClient,S={onopen:x,onmessage:D=>{Uj(E,g.onmessage,D)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(D){}},A=this.webSocketFactory.create(f,zj(o),S);A.connect(),await h;const V={setup:{model:jt(this.apiClient,e.model)}};return A.send(JSON.stringify(V)),new Bj(A,this.apiClient)}}class Bj{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=fq(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=uq(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(wc.PLAY)}pause(){this.sendPlaybackControl(wc.PAUSE)}stop(){this.sendPlaybackControl(wc.STOP)}resetContext(){this.sendPlaybackControl(wc.RESET_CONTEXT)}close(){this.conn.close()}}function zj(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Hj(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gj="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qj(t,e,n){const r=new rH;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=pq(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class $j{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Vj(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&WI(e.config.tools)&&ZI(g);const x=Jj(g);if(this.apiClient.isVertexAI()){const b=this.apiClient.getProject(),F=this.apiClient.getLocation(),M=this.apiClient.getApiKey(),k=!!b&&!!F||!!M;this.apiClient.getCustomBaseUrl()&&!k?h=f:(h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,h))}else{const b=this.apiClient.getApiKey();let F="BidiGenerateContent",M="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",M="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${M}=${b}`}let E=()=>{};const S=new Promise(b=>{E=b}),A=e.callbacks,C=function(){var b;(b=A==null?void 0:A.onopen)===null||b===void 0||b.call(A),E({})},O=this.apiClient,V={onopen:C,onmessage:b=>{qj(O,A.onmessage,b)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(b){}},D=this.webSocketFactory.create(h,Yj(x),V);D.connect(),await S;let H=jt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const b=this.apiClient.getProject(),F=this.apiClient.getLocation();b&&F&&(H=`projects/${b}/locations/${F}/`+H)}let B={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[U0.AUDIO]}:e.config.responseModalities=[U0.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],N=[];for(const b of j)if(this.isCallableTool(b)){const F=b;N.push(await F.tool())}else N.push(b);N.length>0&&(e.config.tools=N);const I={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=cq(this.apiClient,I):B=lq(this.apiClient,I),delete B.config,D.send(JSON.stringify(B)),new Kj(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const jj={turnComplete:!0};class Kj{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=qi(n.turns),e.isVertexAI()||(r=r.map(i=>vp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Gj)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},jj),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:hq(e)}:n={realtimeInput:dq(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Yj(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Jj(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IS=10;function NS(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Mc(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Mc(t){return"callTool"in t&&typeof t.callTool=="function"}function Wj(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Mc(i)))!==null&&r!==void 0?r:!1}function RS(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Mc(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function kS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zj extends _a{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Wj(n)||NS(n.config))return await this.generateContentInternal(f);const d=RS(n);if(d.length>0){const A=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,g;const x=qi(f.contents),E=(s=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:IS;let S=0;for(;S<E&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,C=[];for(const O of(c=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Mc(O)){const D=await O.callTool(h.functionCalls);C.push(...D)}S++,g={role:"user",parts:C},f.contents=qi(f.contents),f.contents.push(A),f.contents.push(g),kS(f.config)&&(x.push(A),x.push(g))}return kS(f.config)&&(h.automaticFunctionCallingHistory=x),h},this.generateContentStream=async n=>{var r,i,s,o,c;if(this.maybeMoveToResponseJsonSchem(n),NS(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=RS(n);if(f.length>0){const g=f.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(c=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:o.push(f);let c;return s?c={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Cl(ma.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async f=>Mc(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&WI(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),ZI(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Mc(o)){const c=o,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,c)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:IS;let o=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,h,g){return ps(this,arguments,function*(){for(var x,E,S,A,C,O;c<s;){o&&(c++,o=!1);const B=yield xt(d.processParamsMaybeAddMcpUsage(g)),j=yield xt(d.generateContentStreamInternal(B)),N=[],I=[];try{for(var V=!0,D=(E=void 0,ms(j)),H;H=yield xt(D.next()),x=H.done,!x;V=!0){A=H.value,V=!1;const b=A;if(yield yield xt(b),b.candidates&&(!((C=b.candidates[0])===null||C===void 0)&&C.content)){I.push(b.candidates[0].content);for(const F of(O=b.candidates[0].content.parts)!==null&&O!==void 0?O:[])if(c<s&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const M=yield xt(h.get(F.functionCall.name).callTool([F.functionCall]));N.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(b){E={error:b}}finally{try{!V&&!x&&(S=D.return)&&(yield xt(S.call(D)))}finally{if(E)throw E.error}}if(N.length>0){o=!0;const b=new Xu;b.candidates=[{content:{role:"user",parts:N}}],yield yield xt(b);const F=[];F.push(...I),F.push({role:"user",parts:N});const M=qi(g.contents).concat(F);g.contents=M}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=SS(this.apiClient,e);return c=Ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=CS(h),x=new Xu;return Object.assign(x,g),x})}else{const d=wS(this.apiClient,e);return c=Ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=AS(h),x=new Xu;return Object.assign(x,g),x})}}async generateContentStreamInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=SS(this.apiClient,e);return c=Ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return ps(this,arguments,function*(){var x,E,S,A;try{for(var C=!0,O=ms(g),V;V=yield xt(O.next()),x=V.done,!x;C=!0){A=V.value,C=!1;const D=A,H=CS(yield xt(D.json()),e);H.sdkHttpResponse={headers:D.headers};const B=new Xu;Object.assign(B,H),yield yield xt(B)}}catch(D){E={error:D}}finally{try{!C&&!x&&(S=O.return)&&(yield xt(S.call(O)))}finally{if(E)throw E.error}}})})}else{const d=wS(this.apiClient,e);return c=Ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(g){return ps(this,arguments,function*(){var x,E,S,A;try{for(var C=!0,O=ms(g),V;V=yield xt(O.next()),x=V.done,!x;C=!0){A=V.value,C=!1;const D=A,H=AS(yield xt(D.json()),e);H.sdkHttpResponse={headers:D.headers};const B=new Xu;Object.assign(B,H),yield yield xt(B)}}catch(D){E={error:D}}finally{try{!C&&!x&&(S=O.return)&&(yield xt(S.call(O)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=$q(this.apiClient,e);return c=Ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=Kq(h),x=new aS;return Object.assign(x,g),x})}else{const d=qq(this.apiClient,e);return c=Ye("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=jq(h),x=new aS;return Object.assign(x,g),x})}}async generateImagesInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=i$(this.apiClient,e);return c=Ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=a$(h),x=new oS;return Object.assign(x,g),x})}else{const d=r$(this.apiClient,e);return c=Ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=s$(h),x=new oS;return Object.assign(x,g),x})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Bq(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=zq(f),h=new $z;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=ij(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=sj(f),h=new jz;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=V$(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=B$(f),h=new Kz;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=j$(this.apiClient,e);return s=Ye("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=K$(f),h=new Yz;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=w$(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Lv(h))}else{const d=T$(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Ov(h))}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=D$(this.apiClient,e);return c=Ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=P$(h),x=new lS;return Object.assign(x,g),x})}else{const d=k$(this.apiClient,e);return c=Ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=M$(h),x=new lS;return Object.assign(x,g),x})}}async update(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=nj(this.apiClient,e);return c=Ye("{model}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Lv(h))}else{const d=tj(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>Ov(h))}}async delete(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Oq(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=Uq(h),x=new cS;return Object.assign(x,g),x})}else{const d=Fq(this.apiClient,e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=Lq(h),x=new cS;return Object.assign(x,g),x})}}async countTokens(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Dq(this.apiClient,e);return c=Ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=Pq(h),x=new uS;return Object.assign(x,g),x})}else{const d=kq(this.apiClient,e);return c=Ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=Mq(h),x=new uS;return Object.assign(x,g),x})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Sq(this.apiClient,e);return s=Ye("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Aq(f),h=new Jz;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=d$(this.apiClient,e);return c=Ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const g=u$(h),x=new V0;return Object.assign(x,g),x})}else{const d=f$(this.apiClient,e);return c=Ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o.then(h=>{const g=c$(h),x=new V0;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xj extends _a{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=Vz(e);return c=Ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o}else{const d=Uz(e);return c=Ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=kz(e);return s=Ye("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qj(t){const e={},n=m(t,["data"]);if(n!=null&&v(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function eK(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>cK(s))),v(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&v(e,["role"],r),e}function tK(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const s=m(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&v(n,["newSessionExpireTime"],s);const o=m(e,["uses"]);n!==void 0&&o!=null&&v(n,["uses"],o);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&v(n,["bidiGenerateContentSetup"],lK(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&v(n,["fieldMask"],f),r}function nK(t,e){const n={},r=m(e,["config"]);return r!=null&&v(n,["config"],tK(t,r,n)),n}function rK(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&v(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&v(e,["mimeType"],r),e}function iK(t){const e={},n=m(t,["id"]);n!=null&&v(e,["id"],n);const r=m(t,["args"]);r!=null&&v(e,["args"],r);const i=m(t,["name"]);if(i!=null&&v(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sK(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&v(e,["enableWidget"],n),e}function aK(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&v(e,["timeRangeFilter"],n),e}function oK(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&v(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&v(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&v(e,["setup","generationConfig","temperature"],s);const o=m(t,["topP"]);e!==void 0&&o!=null&&v(e,["setup","generationConfig","topP"],o);const c=m(t,["topK"]);e!==void 0&&c!=null&&v(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&v(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&v(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&v(e,["setup","generationConfig","seed"],h);const g=m(t,["speechConfig"]);e!==void 0&&g!=null&&v(e,["setup","generationConfig","speechConfig"],cx(g));const x=m(t,["thinkingConfig"]);e!==void 0&&x!=null&&v(e,["setup","generationConfig","thinkingConfig"],x);const E=m(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&v(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&v(e,["setup","systemInstruction"],eK(Hr(S)));const A=m(t,["tools"]);if(e!==void 0&&A!=null){let j=Wc(A);Array.isArray(j)&&(j=j.map(N=>fK(Jc(N)))),v(e,["setup","tools"],j)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&v(e,["setup","sessionResumption"],uK(C));const O=m(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&v(e,["setup","inputAudioTranscription"],O);const V=m(t,["outputAudioTranscription"]);e!==void 0&&V!=null&&v(e,["setup","outputAudioTranscription"],V);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&v(e,["setup","realtimeInputConfig"],D);const H=m(t,["contextWindowCompression"]);e!==void 0&&H!=null&&v(e,["setup","contextWindowCompression"],H);const B=m(t,["proactivity"]);if(e!==void 0&&B!=null&&v(e,["setup","proactivity"],B),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lK(t,e){const n={},r=m(e,["model"]);r!=null&&v(n,["setup","model"],jt(t,r));const i=m(e,["config"]);return i!=null&&v(n,["config"],oK(i,n)),n}function cK(t){const e={},n=m(t,["mediaResolution"]);n!=null&&v(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&v(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&v(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&v(e,["fileData"],rK(s));const o=m(t,["functionCall"]);o!=null&&v(e,["functionCall"],iK(o));const c=m(t,["functionResponse"]);c!=null&&v(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&v(e,["inlineData"],Qj(f));const d=m(t,["text"]);d!=null&&v(e,["text"],d);const h=m(t,["thought"]);h!=null&&v(e,["thought"],h);const g=m(t,["thoughtSignature"]);g!=null&&v(e,["thoughtSignature"],g);const x=m(t,["videoMetadata"]);return x!=null&&v(e,["videoMetadata"],x),e}function uK(t){const e={},n=m(t,["handle"]);if(n!=null&&v(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fK(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&v(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&v(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&v(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),v(e,["functionDeclarations"],h)}const o=m(t,["googleMaps"]);o!=null&&v(e,["googleMaps"],sK(o));const c=m(t,["googleSearch"]);c!=null&&v(e,["googleSearch"],aK(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&v(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&v(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dK(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function hK(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=dK(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const f=[];s&&f.push(s),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class pK extends _a{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=nK(this.apiClient,e);s=Ye("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const f=hK(c,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mK(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&v(e,["_query","force"],r),n}function gK(t){const e={},n=m(t,["name"]);n!=null&&v(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&mK(r,e),e}function vK(t){const e={},n=m(t,["name"]);return n!=null&&v(e,["_url","name"],n),e}function xK(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&v(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&v(e,["_query","pageToken"],i),n}function yK(t){const e={},n=m(t,["parent"]);n!=null&&v(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&xK(r,e),e}function _K(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&v(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&v(e,["nextPageToken"],r);const i=m(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),v(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EK extends _a{constructor(e){super(),this.apiClient=e,this.list=async n=>new Cl(ma.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vK(e);return s=Ye("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=gK(e);i=Ye("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yK(e);return s=Ye("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=_K(f),h=new Wz;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TK extends _a{constructor(e,n=new EK(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Cl(ma.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=dj(e);return s=Ye("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=mj(e);return s=Ye("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pj(e);i=Ye("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Ej(e);return s=Ye("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Tj(f),h=new Zz;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=wj(e);return s=Ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Sj(f),h=new Xz;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xj(e);return s=Ye("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=vj(f),h=new ix;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let XI=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return XI=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const wK=()=>XI();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vv(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Bv=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ji extends Error{}class ni extends ji{constructor(e,n,r,i){super(`${ni.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new _p({message:r,cause:Bv(n)});const s=n;return e===400?new eN(e,s,r,i):e===401?new tN(e,s,r,i):e===403?new nN(e,s,r,i):e===404?new rN(e,s,r,i):e===409?new iN(e,s,r,i):e===422?new sN(e,s,r,i):e===429?new aN(e,s,r,i):e>=500?new oN(e,s,r,i):new ni(e,s,r,i)}}class zv extends ni{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class _p extends ni{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class QI extends _p{constructor({message:e}={}){super({message:e??"Request timed out."})}}class eN extends ni{}class tN extends ni{}class nN extends ni{}class rN extends ni{}class iN extends ni{}class sN extends ni{}class aN extends ni{}class oN extends ni{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SK=/^[a-z][a-z0-9+.-]*:/i,AK=t=>SK.test(t);let Hv=t=>(Hv=Array.isArray,Hv(t));const CK=Hv;let bK=CK;const DS=bK;function IK(t){if(!t)return!0;for(const e in t)return!1;return!0}function NK(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const RK=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ji(`${t} must be an integer`);if(e<0)throw new ji(`${t} must be a positive integer`);return e},kK=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DK=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MK(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const PK=()=>{var t,e,n,r,i;const s=MK();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":PS(Deno.build.os),"X-Stainless-Arch":MS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":PS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":MS((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=FK();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function FK(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const MS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",PS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Wh;const OK=()=>Wh??(Wh=PK());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LK(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function lN(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function UK(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return lN({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function cN(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function VK(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BK=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uN=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wg(t,e,n){return uN(),new File(t,e??"unknown_file",n)}function zK(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const HK=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fN=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",GK=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&fN(t),qK=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function $K(t,e,n){if(uN(),t=await t,GK(t))return t instanceof File?t:Wg([await t.arrayBuffer()],t.name);if(qK(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wg(await Gv(i),e,n)}const r=await Gv(t);if(e||(e=zK(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Wg(r,e,n)}async function Gv(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(fN(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(HK(t))try{for(var c=!0,f=ms(t),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const h=i;o.push(...await Gv(h))}}catch(h){n={error:h}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${jK(t)}`)}return o}function jK(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dN{constructor(e){this._client=e}}dN._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hN(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const FS=Object.freeze(Object.create(null)),KK=(t=hN)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((h,g,x)=>{var E,S,A;/[?#]/.test(g)&&(i=!0);const C=r[x];let O=(i?encodeURIComponent:t)(""+C);return x!==r.length&&(C==null||typeof C=="object"&&C.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((E=C.hasOwnProperty)!==null&&E!==void 0?E:FS))!==null&&S!==void 0?S:FS))===null||A===void 0?void 0:A.toString))&&(O=C+"",s.push({start:h.length+g.length,length:O.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),h+g+(x===r.length?"":O)},""),c=o.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((h,g)=>h.start-g.start),s.length>0){let h=0;const g=s.reduce((x,E)=>{const S=" ".repeat(E.start-h),A="^".repeat(E.length);return h=E.start+E.length,x+S+A},"");throw new ji(`Path parameters result in path with invalid segments:
${s.map(x=>x.error).join(`
`)}
${o}
${g}`)}return o}),Zh=KK(hN);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pN extends dN{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=z0(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new ji("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ji("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Zh`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Zh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Zh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,c=z0(s,["api_version"]);return this._client.get(Zh`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}pN._key=Object.freeze(["interactions"]);class mN extends pN{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YK(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Xh;function fx(t){let e;return(Xh??(e=new globalThis.TextEncoder,Xh=e.encode.bind(e)))(t)}let Qh;function OS(t){let e;return(Qh??(e=new globalThis.TextDecoder,Qh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ep{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?fx(e):e;this.buffer=YK([this.buffer,n]);const r=[];let i;for(;(i=JK(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(OS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=OS(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Ep.NEWLINE_CHARS=new Set([`
`,"\r"]);Ep.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JK(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function WK(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H0={off:0,error:200,warn:300,info:400,debug:500},LS=(t,e,n)=>{if(t){if(NK(H0,t))return t;Wr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(H0))}`)}};function uf(){}function e0(t,e,n){return!e||H0[t]>H0[n]?uf:e[t].bind(e)}const ZK={error:uf,warn:uf,info:uf,debug:uf};let US=new WeakMap;function Wr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return ZK;const i=US.get(n);if(i&&i[0]===r)return i[1];const s={error:e0("error",n,r),warn:e0("warn",n,r),info:e0("info",n,r),debug:e0("debug",n,r)};return US.set(n,[r,s]),s}const Qo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?Wr(r):console;function o(){return ps(this,arguments,function*(){var f,d,h,g;if(i)throw new ji("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let x=!1;try{try{for(var E=!0,S=ms(XK(e,n)),A;A=yield xt(S.next()),f=A.done,!f;E=!0){g=A.value,E=!1;const C=g;if(!x)if(C.data.startsWith("[DONE]")){x=!0;continue}else try{yield yield xt(JSON.parse(C.data))}catch(O){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),O}}}catch(C){d={error:C}}finally{try{!E&&!f&&(h=S.return)&&(yield xt(h.call(S)))}finally{if(d)throw d.error}}x=!0}catch(C){if(Vv(C))return yield xt(void 0);throw C}finally{x||n.abort()}})}return new Sc(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return ps(this,arguments,function*(){var f,d,h,g;const x=new Ep,E=cN(e);try{for(var S=!0,A=ms(E),C;C=yield xt(A.next()),f=C.done,!f;S=!0){g=C.value,S=!1;const O=g;for(const V of x.decode(O))yield yield xt(V)}}catch(O){d={error:O}}finally{try{!S&&!f&&(h=A.return)&&(yield xt(h.call(A)))}finally{if(d)throw d.error}}for(const O of x.flush())yield yield xt(O)})}function o(){return ps(this,arguments,function*(){var f,d,h,g;if(i)throw new ji("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let x=!1;try{try{for(var E=!0,S=ms(s()),A;A=yield xt(S.next()),f=A.done,!f;E=!0){g=A.value,E=!1;const C=g;x||C&&(yield yield xt(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!E&&!f&&(h=S.return)&&(yield xt(h.call(S)))}finally{if(d)throw d.error}}x=!0}catch(C){if(Vv(C))return yield xt(void 0);throw C}finally{x||n.abort()}})}return new Sc(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Sc(()=>i(e),this.controller,this.client),new Sc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return lN({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=fx(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function XK(t,e){return ps(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ji("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ji("Attempted to iterate over a response with no body");const c=new eY,f=new Ep,d=cN(t.body);try{for(var h=!0,g=ms(QK(d)),x;x=yield xt(g.next()),r=x.done,!r;h=!0){o=x.value,h=!1;const E=o;for(const S of f.decode(E)){const A=c.decode(S);A&&(yield yield xt(A))}}}catch(E){i={error:E}}finally{try{!h&&!r&&(s=g.return)&&(yield xt(s.call(g)))}finally{if(i)throw i.error}}for(const E of f.flush()){const S=c.decode(E);S&&(yield yield xt(S))}})}function QK(t){return ps(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var c=!0,f=ms(t),d;d=yield xt(f.next()),n=d.done,!n;c=!0){s=d.value,c=!1;const h=s;if(h==null)continue;const g=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?fx(h):h;let x=new Uint8Array(o.length+g.length);x.set(o),x.set(g,o.length),o=x;let E;for(;(E=WK(o))!==-1;)yield yield xt(o.slice(0,E)),o=o.slice(E)}}catch(h){r={error:h}}finally{try{!c&&!n&&(i=f.return)&&(yield xt(i.call(f)))}finally{if(r)throw r.error}}o.length>0&&(yield yield xt(o))})}class eY{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=tY(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function tY(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nY(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var c;if(e.options.stream)return Wr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Sc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Wr(t).debug(`[${r}] response parsed`,Qo({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dx extends Promise{constructor(e,n,r=nY){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new dx(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gN=Symbol("brand.privateNullableHeaders");function*rY(t){if(!t)return;if(gN in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():DS(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=DS(r[1])?r[1]:[r[1]];let o=!1;for(const c of s)c!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,c])}}const Qu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of rY(r)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),o===null?(e.delete(s),n.add(c)):(e.append(s,o),n.delete(c))}}return{[gN]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zg=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=Az)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vN;class Tp{constructor(e){var n,r,i,s,o,c,f,{baseURL:d=Zg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Zg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=e,x=z0(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:h,apiVersion:g},x),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(r=E.timeout)!==null&&r!==void 0?r:Tp.DEFAULT_TIMEOUT,this.logger=(i=E.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(o=(s=LS(E.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:LS(Zg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:S,this.fetchOptions=E.fetchOptions,this.maxRetries=(c=E.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=E.fetch)!==null&&f!==void 0?f:LK(),this.encoder=BK,this._options=E,this.apiKey=h,this.apiVersion=g,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Qu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ji(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${gc}`}defaultIdempotencyKey(){return`stainless-node-retry-${wK()}`}makeStatusError(e,n,r,i){return ni.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=AK(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return IK(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new dx(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const c=await e,f=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:h,timeout:g}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:c});const x="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Wr(this).debug(`[${x}] sending request`,Qo({retryOfRequestLogID:r,method:c.method,url:h,options:c,headers:d.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new zv;const A=new AbortController,C=await this.fetchWithTimeout(h,d,g,A).catch(Bv),O=Date.now();if(C instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new zv;const H=Vv(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Wr(this).info(`[${x}] connection ${H?"timed out":"failed"} - ${D}`),Wr(this).debug(`[${x}] connection ${H?"timed out":"failed"} (${D})`,Qo({retryOfRequestLogID:r,url:h,durationMs:O-S,message:C.message})),this.retryRequest(c,n,r??x);throw Wr(this).info(`[${x}] connection ${H?"timed out":"failed"} - error; no more retries left`),Wr(this).debug(`[${x}] connection ${H?"timed out":"failed"} (error; no more retries left)`,Qo({retryOfRequestLogID:r,url:h,durationMs:O-S,message:C.message})),H?new QI:new _p({cause:C})}const V=`[${x}${E}] ${d.method} ${h} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${O-S}ms`;if(!C.ok){const D=await this.shouldRetry(C);if(n&&D){const b=`retrying, ${n} attempts remaining`;return await VK(C.body),Wr(this).info(`${V} - ${b}`),Wr(this).debug(`[${x}] response error (${b})`,Qo({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:O-S})),this.retryRequest(c,n,r??x,C.headers)}const H=D?"error; no more retries left":"error; not retryable";Wr(this).info(`${V} - ${H}`);const B=await C.text().catch(b=>Bv(b).message),j=kK(B),N=j?void 0:B;throw Wr(this).debug(`[${x}] response error (${H})`,Qo({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:N,durationMs:Date.now()-S})),this.makeStatusError(C.status,j,N,C.headers)}return Wr(this).info(V),Wr(this).debug(`[${x}] response start`,Qo({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:O-S})),{response:C,options:c,controller:A,requestLogID:x,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:c}=s,f=z0(s,["signal","method"]),d=i.abort.bind(i);o&&o.addEventListener("abort",d,{once:!0});const h=setTimeout(d,r),g=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,x=Object.assign(Object.assign(Object.assign({signal:i.signal},g?{duplex:"half"}:{}),{method:"GET"}),f);c&&(x.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,x)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const c=i==null?void 0:i.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(o=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!o){const d=parseFloat(f);Number.isNaN(d)?o=Date.parse(f)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,d)}return await DK(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:c,path:f,query:d,defaultBaseURL:h}=o,g=this.buildURL(f,d,h);"timeout"in o&&RK("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:x,body:E}=this.buildBody({options:o}),S=await this.buildHeaders({options:e,method:c,bodyHeaders:x,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:g,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=Qu([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),OK()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Qu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:UK(e)}:this.encoder({body:e,headers:r})}}Tp.DEFAULT_TIMEOUT=6e4;class hr extends Tp{constructor(){super(...arguments),this.interactions=new mN(this)}}vN=hr;hr.GeminiNextGenAPIClient=vN;hr.GeminiNextGenAPIClientError=ji;hr.APIError=ni;hr.APIConnectionError=_p;hr.APIConnectionTimeoutError=QI;hr.APIUserAbortError=zv;hr.NotFoundError=rN;hr.ConflictError=iN;hr.RateLimitError=aN;hr.BadRequestError=eN;hr.AuthenticationError=tN;hr.InternalServerError=oN;hr.PermissionDeniedError=nN;hr.UnprocessableEntityError=sN;hr.toFile=$K;hr.Interactions=mN;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iY(t,e){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function sY(t,e){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function aY(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function oY(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function lY(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&v(e,["displayName"],i),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(t,["epochCount"]);e!==void 0&&s!=null&&v(e,["tuningTask","hyperparameters","epochCount"],s);const o=m(t,["learningRateMultiplier"]);if(o!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(m(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(m(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&v(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&v(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(m(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(m(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(m(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(m(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function cY(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const B=m(t,["validationDataset"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec"],Xg(B))}else if(i==="PREFERENCE_TUNING"){const B=m(t,["validationDataset"]);e!==void 0&&B!=null&&v(e,["preferenceOptimizationSpec"],Xg(B))}else if(i==="DISTILLATION"){const B=m(t,["validationDataset"]);e!==void 0&&B!=null&&v(e,["distillationSpec"],Xg(B))}const s=m(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&v(e,["tunedModelDisplayName"],s);const o=m(t,["description"]);e!==void 0&&o!=null&&v(e,["description"],o);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const B=m(t,["epochCount"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec","hyperParameters","epochCount"],B)}else if(c==="PREFERENCE_TUNING"){const B=m(t,["epochCount"]);e!==void 0&&B!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],B)}else if(c==="DISTILLATION"){const B=m(t,["epochCount"]);e!==void 0&&B!=null&&v(e,["distillationSpec","hyperParameters","epochCount"],B)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const B=m(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],B)}else if(f==="PREFERENCE_TUNING"){const B=m(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],B)}else if(f==="DISTILLATION"){const B=m(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&v(e,["distillationSpec","hyperParameters","learningRateMultiplier"],B)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const B=m(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec","exportLastCheckpointOnly"],B)}else if(d==="PREFERENCE_TUNING"){const B=m(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&v(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],B)}else if(d==="DISTILLATION"){const B=m(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&v(e,["distillationSpec","exportLastCheckpointOnly"],B)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const B=m(t,["adapterSize"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec","hyperParameters","adapterSize"],B)}else if(h==="PREFERENCE_TUNING"){const B=m(t,["adapterSize"]);e!==void 0&&B!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],B)}else if(h==="DISTILLATION"){const B=m(t,["adapterSize"]);e!==void 0&&B!=null&&v(e,["distillationSpec","hyperParameters","adapterSize"],B)}let g=m(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const B=m(t,["tuningMode"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec","tuningMode"],B)}const x=m(t,["customBaseModel"]);e!==void 0&&x!=null&&v(e,["customBaseModel"],x);let E=m(n,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const B=m(t,["batchSize"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec","hyperParameters","batchSize"],B)}let S=m(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const B=m(t,["learningRate"]);e!==void 0&&B!=null&&v(e,["supervisedTuningSpec","hyperParameters","learningRate"],B)}const A=m(t,["labels"]);e!==void 0&&A!=null&&v(e,["labels"],A);const C=m(t,["beta"]);e!==void 0&&C!=null&&v(e,["preferenceOptimizationSpec","hyperParameters","beta"],C);const O=m(t,["baseTeacherModel"]);e!==void 0&&O!=null&&v(e,["distillationSpec","baseTeacherModel"],O);const V=m(t,["tunedTeacherModelSource"]);e!==void 0&&V!=null&&v(e,["distillationSpec","tunedTeacherModelSource"],V);const D=m(t,["sftLossWeightMultiplier"]);e!==void 0&&D!=null&&v(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const H=m(t,["outputUri"]);return e!==void 0&&H!=null&&v(e,["outputUri"],H),r}function uY(t,e){const n={},r=m(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&EY(s);const o=m(t,["config"]);return o!=null&&lY(o,n),n}function fY(t,e){const n={},r=m(t,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&TY(s,n,e);const o=m(t,["config"]);return o!=null&&cY(o,n,e),n}function dY(t,e){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function hY(t,e){const n={},r=m(t,["name"]);return r!=null&&v(n,["_url","name"],r),n}function pY(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const o=m(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),r}function mY(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&v(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&v(e,["_query","pageToken"],s);const o=m(t,["filter"]);return e!==void 0&&o!=null&&v(e,["_query","filter"],o),r}function gY(t,e){const n={},r=m(t,["config"]);return r!=null&&pY(r,n),n}function vY(t,e){const n={},r=m(t,["config"]);return r!=null&&mY(r,n),n}function xY(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const s=m(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>xN(c))),v(n,["tuningJobs"],o)}return n}function yY(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const s=m(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>qv(c))),v(n,["tuningJobs"],o)}return n}function _Y(t,e){const n={},r=m(t,["name"]);r!=null&&v(n,["model"],r);const i=m(t,["name"]);return i!=null&&v(n,["endpoint"],i),n}function EY(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),v(n,["examples","examples"],i)}return n}function TY(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(i==="DISTILLATION"){const o=m(t,["gcsUri"]);e!==void 0&&o!=null&&v(e,["distillationSpec","promptDatasetUri"],o)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}else if(s==="DISTILLATION"){const o=m(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&v(e,["distillationSpec","promptDatasetUri"],o)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xN(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&v(n,["name"],i);const s=m(t,["state"]);s!=null&&v(n,["state"],PI(s));const o=m(t,["createTime"]);o!=null&&v(n,["createTime"],o);const c=m(t,["tuningTask","startTime"]);c!=null&&v(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&v(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=m(t,["description"]);h!=null&&v(n,["description"],h);const g=m(t,["baseModel"]);g!=null&&v(n,["baseModel"],g);const x=m(t,["_self"]);return x!=null&&v(n,["tunedModel"],_Y(x)),n}function qv(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&v(n,["name"],i);const s=m(t,["state"]);s!=null&&v(n,["state"],PI(s));const o=m(t,["createTime"]);o!=null&&v(n,["createTime"],o);const c=m(t,["startTime"]);c!=null&&v(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&v(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&v(n,["updateTime"],d);const h=m(t,["error"]);h!=null&&v(n,["error"],h);const g=m(t,["description"]);g!=null&&v(n,["description"],g);const x=m(t,["baseModel"]);x!=null&&v(n,["baseModel"],x);const E=m(t,["tunedModel"]);E!=null&&v(n,["tunedModel"],E);const S=m(t,["preTunedModel"]);S!=null&&v(n,["preTunedModel"],S);const A=m(t,["supervisedTuningSpec"]);A!=null&&v(n,["supervisedTuningSpec"],A);const C=m(t,["preferenceOptimizationSpec"]);C!=null&&v(n,["preferenceOptimizationSpec"],C);const O=m(t,["distillationSpec"]);O!=null&&v(n,["distillationSpec"],O);const V=m(t,["tuningDataStats"]);V!=null&&v(n,["tuningDataStats"],V);const D=m(t,["encryptionSpec"]);D!=null&&v(n,["encryptionSpec"],D);const H=m(t,["partnerModelTuningSpec"]);H!=null&&v(n,["partnerModelTuningSpec"],H);const B=m(t,["customBaseModel"]);B!=null&&v(n,["customBaseModel"],B);const j=m(t,["experiment"]);j!=null&&v(n,["experiment"],j);const N=m(t,["labels"]);N!=null&&v(n,["labels"],N);const I=m(t,["outputUri"]);I!=null&&v(n,["outputUri"],I);const b=m(t,["pipelineJob"]);b!=null&&v(n,["pipelineJob"],b);const F=m(t,["serviceAccount"]);F!=null&&v(n,["serviceAccount"],F);const M=m(t,["tunedModelDisplayName"]);M!=null&&v(n,["tunedModelDisplayName"],M);const k=m(t,["veoTuningSpec"]);return k!=null&&v(n,["veoTuningSpec"],k),n}function wY(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&v(n,["name"],i);const s=m(t,["metadata"]);s!=null&&v(n,["metadata"],s);const o=m(t,["done"]);o!=null&&v(n,["done"],o);const c=m(t,["error"]);return c!=null&&v(n,["error"],c),n}function Xg(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=m(t,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SY extends _a{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Cl(ma.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:kv.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=hY(e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>qv(h))}else{const d=dY(e);return c=Ye("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>xN(h))}}async listInternal(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=vY(e);return c=Ye("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=yY(h),x=new fS;return Object.assign(x,g),x})}else{const d=gY(e);return c=Ye("tunedModels",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=xY(h),x=new fS;return Object.assign(x,g),x})}}async cancel(e){var n,r,i,s;let o,c="",f={};if(this.apiClient.isVertexAI()){const d=sY(e);return c=Ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=oY(h),x=new dS;return Object.assign(x,g),x})}else{const d=iY(e);return c=Ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:h.headers},x})),o.then(h=>{const g=aY(h),x=new dS;return Object.assign(x,g),x})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=fY(e,e);return s=Ye("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>qv(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uY(e);return s=Ye("tunedModels",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>wY(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AY{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const CY=1024*1024*8,bY=3,IY=1e3,NY=2,G0="x-goog-upload-status";async function RY(t,e,n){var r;const i=await yN(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[G0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function kY(t,e,n){var r;const i=await yN(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[G0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=II(s),c=new sx;return Object.assign(c,o),c}async function yN(t,e,n){var r,i;let s=0,o=0,c=new Mv(new Response),f="upload";for(s=t.size;o<s;){const d=Math.min(CY,s-o),h=t.slice(o,o+d);o+d>=s&&(f+=", finalize");let g=0,x=IY;for(;g<bY&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[G0]));)g++,await MY(x),x=x*NY;if(o+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[G0])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function DY(t){return{size:t.size,type:t.type}}function MY(t){return new Promise(e=>setTimeout(e,t))}class PY{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RY(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kY(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DY(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FY{create(e,n,r){return new OY(e,n,r)}}class OY{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VS="x-goog-api-key";class LY{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(VS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(VS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UY="gl-node/";class _N{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new hr({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Nz(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new LY(this.apiKey);this.apiClient=new Dj({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:UY+"web",uploader:new PY,downloader:new AY}),this.models=new Zj(this.apiClient),this.live=new $j(this.apiClient,i,new FY),this.batches=new sG(this.apiClient),this.chats=new BG(this.models,this.apiClient),this.caches=new LG(this.apiClient),this.files=new XG(this.apiClient),this.operations=new Xj(this.apiClient),this.authTokens=new pK(this.apiClient),this.tunings=new SY(this.apiClient),this.fileSearchStores=new TK(this.apiClient)}}const $v=async(t,e)=>{if(!t||!e)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${e}`,s=await(await fetch(r)).json();if(s.status==="OK"&&s.results&&s.results.length>0){const o=s.results[0],c=o.geometry.location;return{lat:c.lat,lng:c.lng,formattedAddress:o.formatted_address,locationType:o.geometry.location_type,addressComponents:o.address_components}}else return console.warn(`Geocoding failed for address "${t}":`,s.status,s.error_message),null}catch(n){return console.error(`Geocoding fetch error for address "${t}":`,n),null}};class VY{constructor(e){Ig(this,"value");Ig(this,"next");this.value=e}}var ui,so,il;class BY{constructor(){Lh(this,ui);Lh(this,so);Lh(this,il);this.clear()}enqueue(e){const n=new VY(e);Ui(this,ui)?(Ui(this,so).next=n,Ns(this,so,n)):(Ns(this,ui,n),Ns(this,so,n)),Ng(this,il)._++}dequeue(){const e=Ui(this,ui);if(e)return Ns(this,ui,Ui(this,ui).next),Ng(this,il)._--,Ui(this,ui)||Ns(this,so,void 0),e.value}peek(){if(Ui(this,ui))return Ui(this,ui).value}clear(){Ns(this,ui,void 0),Ns(this,so,void 0),Ns(this,il,0)}get size(){return Ui(this,il)}*[Symbol.iterator](){let e=Ui(this,ui);for(;e;)yield e.value,e=e.next}*drain(){for(;Ui(this,ui);)yield this.dequeue()}}ui=new WeakMap,so=new WeakMap,il=new WeakMap;function zY(t){let e=!1;if(typeof t=="object"&&({concurrency:t,rejectOnClear:e=!1}=t),BS(t),typeof e!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const n=new BY;let r=0;const i=()=>{r<t&&n.size>0&&(r++,n.dequeue().run())},s=()=>{r--,i()},o=async(d,h,g)=>{const x=(async()=>d(...g))();h(x);try{await x}catch{}s()},c=(d,h,g,x)=>{const E={reject:g};new Promise(S=>{E.run=S,n.enqueue(E)}).then(o.bind(void 0,d,h,x)),r<t&&i()},f=(d,...h)=>new Promise((g,x)=>{c(d,g,x,h)});return Object.defineProperties(f,{activeCount:{get:()=>r},pendingCount:{get:()=>n.size},clearQueue:{value(){if(!e){n.clear();return}const d=AbortSignal.abort().reason;for(;n.size>0;)n.dequeue().reject(d)}},concurrency:{get:()=>t,set(d){BS(d),t=d,queueMicrotask(()=>{for(;r<t&&n.size>0;)i()})}},map:{async value(d,h){const g=Array.from(d,(x,E)=>this(h,x,E));return Promise.all(g)}}}),f}function BS(t){if(!((Number.isInteger(t)||t===Number.POSITIVE_INFINITY)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const jv=t=>new Promise(e=>setTimeout(e,t)),zS=t=>{const e=t.replace(/\D/g,"");if(e.length<5)return"Indefinido";const n=parseInt(e.substring(0,1)),r=parseInt(e.substring(0,2));return n===0||n===1||n===2||n===3?"Sudeste":n===8||n===9?"Sul":n===4||n===5?"Nordeste":n===6?r>=60&&r<=65?"Nordeste":"Norte":n===7?r===77||r===76?"Norte":"Centro-Oeste":"Indefinido"},HY=t=>{const e=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],n=["AC","AP","AM","PA","RO","RR","TO"],r=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],s=["PR","SC","RS"],o=t.toUpperCase().trim();return e.includes(o)?"Nordeste":n.includes(o)?"Norte":r.includes(o)?"Centro-Oeste":i.includes(o)?"Sudeste":s.includes(o)?"Sul":"Indefinido"},GY=t=>{let e="Desconhecido",n="BR",r="Indefinido";if(Array.isArray(t)){const i=t.find(o=>o.types.includes("administrative_area_level_1"));i&&(n=i.short_name);const s=t.find(o=>o.types.includes("administrative_area_level_2")||o.types.includes("locality"));s&&(e=s.long_name),r=HY(n)}return{city:e,state:n,region:r}},qY=async(t,e,n,r,i)=>{const s=new _N({apiKey:n||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),o=zY(3),c=t.length;let f=0;const d=r.map(E=>`"${E}"`).join(" | "),h=async(E,S)=>{var k,U,Te;if(!E)return f++,i&&i(f,c),null;const A=E.Endereo||"",C=GC(A),O=E["Razo Social"]||"Empresa Desconhecida",V=E["Nome do Proprietrio"]||"",D=E.Contato||"",H=C.match(/\d{5}[-]?\d{3}/),B=H?H[0]:"",j=`${e}-${Date.now()}-${S}`;if(!C&&O==="Empresa Desconhecida")return f++,i&&i(f,c),null;const N=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${O}" localizada EXATAMENTE em "${C}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${d} | "Outros".

      IMPORTANTE: Use o endereo "${C}" como ncora principal para a busca.

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let I=0;const b=5;let F=null,M=!1;for(;!M&&I<=b;)try{const ye=await s.models.generateContent({model:"gemini-2.5-flash",contents:N,config:{tools:[{googleMaps:{}}]}});let ae=ye.text||"{}";ae=ae.replace(/```json/g,"").replace(/```/g,"").trim();let oe={};try{oe=JSON.parse(ae)}catch{const Ae=ae.match(/\{[\s\S]*\}/);if(Ae)try{oe=JSON.parse(Ae[0])}catch{}}let Re="";const ie=(Te=(U=(k=ye.candidates)==null?void 0:k[0])==null?void 0:U.groundingMetadata)==null?void 0:Te.groundingChunks;if(ie&&Array.isArray(ie)){const Ee=ie.find(Ae=>{var Oe;return(Oe=Ae.maps)==null?void 0:Oe.uri});Ee&&(Re=Ee.maps.uri)}let Le=E.extractedLat||(typeof oe.lat=="number"?oe.lat:0),Z=E.extractedLng||(typeof oe.lng=="number"?oe.lng:0),z=oe.cleanAddress||C,Q=oe.city||"Desconhecido",te=oe.state||"BR",X=oe.region||"Indefinido";if((!X||X==="Indefinido")&&B&&(X=zS(B)),!E.extractedLat||Q==="Desconhecido"||te==="BR"){const Ee=z||A;if(Ee&&Ee.length>5&&n)try{const Ae=await $v(Ee,n);if(Ae){if(E.extractedLat||(Le=Ae.lat,Z=Ae.lng),Ae.addressComponents){const Oe=GY(Ae.addressComponents);Q=Oe.city,te=Oe.state,X=Oe.region}(!X||X==="Indefinido")&&B&&(X=zS(B)),Ae.formattedAddress&&(z=Ae.formattedAddress)}}catch(Ae){console.warn(`Geocoding failed for ${O}`,Ae)}}const Ce=Ee=>Array.isArray(Ee)?Ee:typeof Ee=="string"?[Ee]:["Outros"];let be=D;oe.phone&&(be=be?`${be} | Maps: ${oe.phone}`:oe.phone),oe.website&&(be=be?`${be} | Site: ${oe.website}`:`Site: ${oe.website}`),F={id:j,salespersonId:e,companyName:O,ownerName:V,contact:be,originalAddress:A,cleanAddress:z,category:Ce(oe.category),region:X,state:te,city:Q,lat:Le,lng:Z,googleMapsUri:E.GoogleMapsLink||Re},M=!0}catch(ye){const ae=ye.status===429||ye.code===429||ye.message&&(ye.message.includes("quota")||ye.message.includes("429")),oe=ye.status===503||ye.code===503;if((ae||oe)&&I<b){I++;const Re=2e3*Math.pow(2,I);console.warn(`Retry ${I}/${b} for client ${S}`),await jv(Re)}else console.error(`Failed to process client ${S}`,ye),F={id:j,salespersonId:e,companyName:O,ownerName:V,contact:D,originalAddress:A,cleanAddress:A,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Proc.",lat:0,lng:0,googleMapsUri:E.GoogleMapsLink},M=!0}return f++,i&&i(f,c),await jv(500),F},g=t.map((E,S)=>o(()=>h(E,S)));return(await Promise.all(g)).filter(E=>E!==null)},$Y=async(t,e,n)=>{const r=new _N({apiKey:e||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),i=10,s=t.length;let o=0;const c=[...t];for(let f=0;f<s;f+=i){const d=t.slice(f,f+i),g=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${d.map(x=>`- ID: ${x.sku} | Nome: ${x.name} | Marca: ${x.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let E=(await r.models.generateContent({model:"gemini-2.5-flash",contents:g})).text||"[]";E=E.replace(/```json/g,"").replace(/```/g,"").trim();let S=[];try{S=JSON.parse(E)}catch{console.error("Failed to parse AI response",E);const C=E.match(/\[.*\]/s);if(C)try{S=JSON.parse(C[0])}catch{}}Array.isArray(S)&&S.forEach(A=>{const C=c.findIndex(O=>String(O.sku)===String(A.sku));C!==-1&&(c[C]={...c[C],category:A.category})})}catch(x){console.error("Batch classification failed",x)}o+=d.length,n&&n(o,s),await jv(1e3)}return c},jY=()=>{};var HS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,c=o?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=s>>2,g=(s&3)<<4|c>>4;let x=(c&15)<<2|d>>6,E=d&63;f||(E=64,o||(x=64)),r.push(n[h],n[g],n[x],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new YY;const x=s<<2|c>>4;if(r.push(x),d!==64){const E=c<<4&240|d>>2;if(r.push(E),g!==64){const S=d<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JY=function(t){const e=EN(t);return TN.encodeByteArray(e,!0)},q0=function(t){return JY(t).replace(/\./g,"")},WY=function(t){try{return TN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=()=>ZY().__FIREBASE_DEFAULTS__,QY=()=>{if(typeof process>"u"||typeof HS>"u")return;const t=HS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WY(t[1]);return e&&JSON.parse(e)},hx=()=>{try{return jY()||XY()||QY()||eJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tJ=t=>{var e,n;return(n=(e=hx())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},nJ=t=>{const e=tJ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wN=()=>{var t;return(t=hx())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function iJ(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[q0(JSON.stringify(n)),q0(JSON.stringify(o)),""].join(".")}const Cf={};function aJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cf))Cf[e]?t.emulator.push(e):t.prod.push(e);return t}function oJ(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GS=!1;function lJ(t,e){if(typeof window>"u"||typeof document>"u"||!px(window.location.host)||Cf[t]===e||Cf[t]||GS)return;Cf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=aJ().prod.length>0;function o(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function d(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{GS=!0,o()},x}function h(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=oJ(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),O=n("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const D=x.element;c(D),h(C,A);const H=d();f(V,O),D.append(V,S,C,H),document.body.appendChild(D)}s?(S.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cJ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uJ(){var e;const t=(e=hx())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fJ(){return!uJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dJ(){try{return typeof indexedDB=="object"}catch{return!1}}function hJ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ="FirebaseError";class Xc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pJ,Object.setPrototypeOf(this,Xc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,SN.prototype.create)}}class SN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mJ(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Xc(i,c,r)}}function mJ(t,e){return t.replace(gJ,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gJ=/\{\$([^}]+)}/g;function $0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(qS(s)&&qS(o)){if(!$0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){return t&&t._delegate?t._delegate:t}class Yf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rJ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yJ(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xJ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xJ(t){return t===el?void 0:t}function yJ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vJ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const EJ={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},TJ=Bt.INFO,wJ={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},SJ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wJ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class AN{constructor(e){this.name=e,this._logLevel=TJ,this._logHandler=SJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const AJ=(t,e)=>e.some(n=>t instanceof n);let $S,jS;function CJ(){return $S||($S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bJ(){return jS||(jS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CN=new WeakMap,Kv=new WeakMap,bN=new WeakMap,Qg=new WeakMap,mx=new WeakMap;function IJ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CN.set(n,t)}).catch(()=>{}),mx.set(e,t),e}function NJ(t){if(Kv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kv.set(t,e)}let Yv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RJ(t){Yv=t(Yv)}function kJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ev(this),e,...n);return bN.set(r,e.sort?e.sort():[e]),fo(r)}:bJ().includes(t)?function(...e){return t.apply(ev(this),e),fo(CN.get(this))}:function(...e){return fo(t.apply(ev(this),e))}}function DJ(t){return typeof t=="function"?kJ(t):(t instanceof IDBTransaction&&NJ(t),AJ(t,CJ())?new Proxy(t,Yv):t)}function fo(t){if(t instanceof IDBRequest)return IJ(t);if(Qg.has(t))return Qg.get(t);const e=DJ(t);return e!==t&&(Qg.set(t,e),mx.set(e,t)),e}const ev=t=>mx.get(t);function MJ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),c=fo(o);return r&&o.addEventListener("upgradeneeded",f=>{r(fo(o.result),f.oldVersion,f.newVersion,fo(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const PJ=["get","getKey","getAll","getAllKeys","count"],FJ=["put","add","delete","clear"],tv=new Map;function KS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PJ.includes(n)))return;const s=async function(o,...c){const f=this.transaction(o,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return tv.set(e,s),s}RJ(t=>({...t,get:(e,n,r)=>KS(e,n)||t.get(e,n,r),has:(e,n)=>!!KS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jv="@firebase/app",YS="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new AN("@firebase/app"),UJ="@firebase/app-compat",VJ="@firebase/analytics-compat",BJ="@firebase/analytics",zJ="@firebase/app-check-compat",HJ="@firebase/app-check",GJ="@firebase/auth",qJ="@firebase/auth-compat",$J="@firebase/database",jJ="@firebase/data-connect",KJ="@firebase/database-compat",YJ="@firebase/functions",JJ="@firebase/functions-compat",WJ="@firebase/installations",ZJ="@firebase/installations-compat",XJ="@firebase/messaging",QJ="@firebase/messaging-compat",eW="@firebase/performance",tW="@firebase/performance-compat",nW="@firebase/remote-config",rW="@firebase/remote-config-compat",iW="@firebase/storage",sW="@firebase/storage-compat",aW="@firebase/firestore",oW="@firebase/ai",lW="@firebase/firestore-compat",cW="firebase",uW="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="[DEFAULT]",fW={[Jv]:"fire-core",[UJ]:"fire-core-compat",[BJ]:"fire-analytics",[VJ]:"fire-analytics-compat",[HJ]:"fire-app-check",[zJ]:"fire-app-check-compat",[GJ]:"fire-auth",[qJ]:"fire-auth-compat",[$J]:"fire-rtdb",[jJ]:"fire-data-connect",[KJ]:"fire-rtdb-compat",[YJ]:"fire-fn",[JJ]:"fire-fn-compat",[WJ]:"fire-iid",[ZJ]:"fire-iid-compat",[XJ]:"fire-fcm",[QJ]:"fire-fcm-compat",[eW]:"fire-perf",[tW]:"fire-perf-compat",[nW]:"fire-rc",[rW]:"fire-rc-compat",[iW]:"fire-gcs",[sW]:"fire-gcs-compat",[aW]:"fire-fst",[lW]:"fire-fst-compat",[oW]:"fire-vertex","fire-js":"fire-js",[cW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,dW=new Map,Zv=new Map;function JS(t,e){try{t.container.addComponent(e)}catch(n){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function K0(t){const e=t.name;if(Zv.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;Zv.set(e,t);for(const n of Jf.values())JS(n,t);for(const n of dW.values())JS(n,t);return!0}function hW(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function pW(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ho=new SN("app","Firebase",mW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=uW;function IN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Wv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ho.create("bad-app-name",{appName:String(i)});if(n||(n=wN()),!n)throw ho.create("no-options");const s=Jf.get(i);if(s){if($0(n,s.options)&&$0(r,s.config))return s;throw ho.create("duplicate-app",{appName:i})}const o=new _J(i);for(const f of Zv.values())o.addComponent(f);const c=new gW(n,r,o);return Jf.set(i,c),c}function NN(t=Wv){const e=Jf.get(t);if(!e&&t===Wv&&wN())return IN();if(!e)throw ho.create("no-app",{appName:t});return e}function xW(){return Array.from(Jf.values())}function Pc(t,e,n){let r=fW[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(o.join(" "));return}K0(new Yf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yW="firebase-heartbeat-database",_W=1,Wf="firebase-heartbeat-store";let nv=null;function RN(){return nv||(nv=MJ(yW,_W,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wf)}catch(n){console.warn(n)}}}}).catch(t=>{throw ho.create("idb-open",{originalErrorMessage:t.message})})),nv}async function EW(t){try{const n=(await RN()).transaction(Wf),r=await n.objectStore(Wf).get(kN(t));return await n.done,r}catch(e){if(e instanceof Xc)ga.warn(e.message);else{const n=ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ga.warn(n.message)}}}async function WS(t,e){try{const r=(await RN()).transaction(Wf,"readwrite");await r.objectStore(Wf).put(e,kN(t)),await r.done}catch(n){if(n instanceof Xc)ga.warn(n.message);else{const r=ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ga.warn(r.message)}}}function kN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=1024,wW=30;class SW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wW){const o=bW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZS(),{heartbeatsToSend:r,unsentEntries:i}=AW(this._heartbeatsCache.heartbeats),s=q0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ga.warn(n),""}}}function ZS(){return new Date().toISOString().substring(0,10)}function AW(t,e=TW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dJ()?hJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function XS(t){return q0(JSON.stringify({version:2,heartbeats:t})).length}function bW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){K0(new Yf("platform-logger",e=>new OJ(e),"PRIVATE")),K0(new Yf("heartbeat",e=>new SW(e),"PRIVATE")),Pc(Jv,YS,t),Pc(Jv,YS,"esm2020"),Pc("fire-js","")}IW("");var NW="firebase",RW="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pc(NW,RW,"app");var QS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,DN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function b(){}b.prototype=I.prototype,N.F=I.prototype,N.prototype=new b,N.prototype.constructor=N,N.D=function(F,M,k){for(var U=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)U[Te-2]=arguments[Te];return I.prototype[M].apply(F,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,I,b){b||(b=0);const F=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)F[M]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(M=0;M<16;++M)F[M]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=N.g[0],b=N.g[1],M=N.g[2];let k=N.g[3],U;U=I+(k^b&(M^k))+F[0]+3614090360&4294967295,I=b+(U<<7&4294967295|U>>>25),U=k+(M^I&(b^M))+F[1]+3905402710&4294967295,k=I+(U<<12&4294967295|U>>>20),U=M+(b^k&(I^b))+F[2]+606105819&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(I^M&(k^I))+F[3]+3250441966&4294967295,b=M+(U<<22&4294967295|U>>>10),U=I+(k^b&(M^k))+F[4]+4118548399&4294967295,I=b+(U<<7&4294967295|U>>>25),U=k+(M^I&(b^M))+F[5]+1200080426&4294967295,k=I+(U<<12&4294967295|U>>>20),U=M+(b^k&(I^b))+F[6]+2821735955&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(I^M&(k^I))+F[7]+4249261313&4294967295,b=M+(U<<22&4294967295|U>>>10),U=I+(k^b&(M^k))+F[8]+1770035416&4294967295,I=b+(U<<7&4294967295|U>>>25),U=k+(M^I&(b^M))+F[9]+2336552879&4294967295,k=I+(U<<12&4294967295|U>>>20),U=M+(b^k&(I^b))+F[10]+4294925233&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(I^M&(k^I))+F[11]+2304563134&4294967295,b=M+(U<<22&4294967295|U>>>10),U=I+(k^b&(M^k))+F[12]+1804603682&4294967295,I=b+(U<<7&4294967295|U>>>25),U=k+(M^I&(b^M))+F[13]+4254626195&4294967295,k=I+(U<<12&4294967295|U>>>20),U=M+(b^k&(I^b))+F[14]+2792965006&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(I^M&(k^I))+F[15]+1236535329&4294967295,b=M+(U<<22&4294967295|U>>>10),U=I+(M^k&(b^M))+F[1]+4129170786&4294967295,I=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(I^b))+F[6]+3225465664&4294967295,k=I+(U<<9&4294967295|U>>>23),U=M+(I^b&(k^I))+F[11]+643717713&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^I&(M^k))+F[0]+3921069994&4294967295,b=M+(U<<20&4294967295|U>>>12),U=I+(M^k&(b^M))+F[5]+3593408605&4294967295,I=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(I^b))+F[10]+38016083&4294967295,k=I+(U<<9&4294967295|U>>>23),U=M+(I^b&(k^I))+F[15]+3634488961&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^I&(M^k))+F[4]+3889429448&4294967295,b=M+(U<<20&4294967295|U>>>12),U=I+(M^k&(b^M))+F[9]+568446438&4294967295,I=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(I^b))+F[14]+3275163606&4294967295,k=I+(U<<9&4294967295|U>>>23),U=M+(I^b&(k^I))+F[3]+4107603335&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^I&(M^k))+F[8]+1163531501&4294967295,b=M+(U<<20&4294967295|U>>>12),U=I+(M^k&(b^M))+F[13]+2850285829&4294967295,I=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(I^b))+F[2]+4243563512&4294967295,k=I+(U<<9&4294967295|U>>>23),U=M+(I^b&(k^I))+F[7]+1735328473&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^I&(M^k))+F[12]+2368359562&4294967295,b=M+(U<<20&4294967295|U>>>12),U=I+(b^M^k)+F[5]+4294588738&4294967295,I=b+(U<<4&4294967295|U>>>28),U=k+(I^b^M)+F[8]+2272392833&4294967295,k=I+(U<<11&4294967295|U>>>21),U=M+(k^I^b)+F[11]+1839030562&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^I)+F[14]+4259657740&4294967295,b=M+(U<<23&4294967295|U>>>9),U=I+(b^M^k)+F[1]+2763975236&4294967295,I=b+(U<<4&4294967295|U>>>28),U=k+(I^b^M)+F[4]+1272893353&4294967295,k=I+(U<<11&4294967295|U>>>21),U=M+(k^I^b)+F[7]+4139469664&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^I)+F[10]+3200236656&4294967295,b=M+(U<<23&4294967295|U>>>9),U=I+(b^M^k)+F[13]+681279174&4294967295,I=b+(U<<4&4294967295|U>>>28),U=k+(I^b^M)+F[0]+3936430074&4294967295,k=I+(U<<11&4294967295|U>>>21),U=M+(k^I^b)+F[3]+3572445317&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^I)+F[6]+76029189&4294967295,b=M+(U<<23&4294967295|U>>>9),U=I+(b^M^k)+F[9]+3654602809&4294967295,I=b+(U<<4&4294967295|U>>>28),U=k+(I^b^M)+F[12]+3873151461&4294967295,k=I+(U<<11&4294967295|U>>>21),U=M+(k^I^b)+F[15]+530742520&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^I)+F[2]+3299628645&4294967295,b=M+(U<<23&4294967295|U>>>9),U=I+(M^(b|~k))+F[0]+4096336452&4294967295,I=b+(U<<6&4294967295|U>>>26),U=k+(b^(I|~M))+F[7]+1126891415&4294967295,k=I+(U<<10&4294967295|U>>>22),U=M+(I^(k|~b))+F[14]+2878612391&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~I))+F[5]+4237533241&4294967295,b=M+(U<<21&4294967295|U>>>11),U=I+(M^(b|~k))+F[12]+1700485571&4294967295,I=b+(U<<6&4294967295|U>>>26),U=k+(b^(I|~M))+F[3]+2399980690&4294967295,k=I+(U<<10&4294967295|U>>>22),U=M+(I^(k|~b))+F[10]+4293915773&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~I))+F[1]+2240044497&4294967295,b=M+(U<<21&4294967295|U>>>11),U=I+(M^(b|~k))+F[8]+1873313359&4294967295,I=b+(U<<6&4294967295|U>>>26),U=k+(b^(I|~M))+F[15]+4264355552&4294967295,k=I+(U<<10&4294967295|U>>>22),U=M+(I^(k|~b))+F[6]+2734768916&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~I))+F[13]+1309151649&4294967295,b=M+(U<<21&4294967295|U>>>11),U=I+(M^(b|~k))+F[4]+4149444226&4294967295,I=b+(U<<6&4294967295|U>>>26),U=k+(b^(I|~M))+F[11]+3174756917&4294967295,k=I+(U<<10&4294967295|U>>>22),U=M+(I^(k|~b))+F[2]+718787259&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~I))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.v=function(N,I){I===void 0&&(I=N.length);const b=I-this.blockSize,F=this.C;let M=this.h,k=0;for(;k<I;){if(M==0)for(;k<=b;)i(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<I;)if(F[M++]=N.charCodeAt(k++),M==this.blockSize){i(this,F),M=0;break}}else for(;k<I;)if(F[M++]=N[k++],M==this.blockSize){i(this,F),M=0;break}}this.h=M,this.o+=I},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var b=N.length-8;b<N.length;++b)N[b]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,b=0;b<4;++b)for(let F=0;F<32;F+=8)N[I++]=this.g[b]>>>F&255;return N};function s(N,I){var b=c;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=I(N)}function o(N,I){this.h=I;const b=[];let F=!0;for(let M=N.length-1;M>=0;M--){const k=N[M]|0;F&&k==I||(b[M]=k,F=!1)}this.g=b}var c={};function f(N){return-128<=N&&N<128?s(N,function(I){return new o([I|0],I<0?-1:0)}):new o([N|0],N<0?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return C(d(-N));const I=[];let b=1;for(let F=0;N>=b;F++)I[F]=N/b|0,b*=4294967296;return new o(I,0)}function h(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return C(h(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(I,8));let F=g;for(let k=0;k<N.length;k+=8){var M=Math.min(8,N.length-k);const U=parseInt(N.substring(k,k+M),I);M<8?(M=d(Math.pow(I,M)),F=F.j(M).add(d(U))):(F=F.j(b),F=F.add(d(U)))}return F}var g=f(0),x=f(1),E=f(16777216);t=o.prototype,t.m=function(){if(A(this))return-C(this).m();let N=0,I=1;for(let b=0;b<this.g.length;b++){const F=this.i(b);N+=(F>=0?F:4294967296+F)*I,I*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(A(this))return"-"+C(this).toString(N);const I=d(Math.pow(N,6));var b=this;let F="";for(;;){const M=H(b,I).g;b=O(b,M.j(I));let k=((b.g.length>0?b.g[0]:b.h)>>>0).toString(N);if(b=M,S(b))return k+F;for(;k.length<6;)k="0"+k;F=k+F}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function A(N){return N.h==-1}t.l=function(N){return N=O(this,N),A(N)?-1:S(N)?0:1};function C(N){const I=N.g.length,b=[];for(let F=0;F<I;F++)b[F]=~N.g[F];return new o(b,~N.h).add(x)}t.abs=function(){return A(this)?C(this):this},t.add=function(N){const I=Math.max(this.g.length,N.g.length),b=[];let F=0;for(let M=0;M<=I;M++){let k=F+(this.i(M)&65535)+(N.i(M)&65535),U=(k>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);F=U>>>16,k&=65535,U&=65535,b[M]=U<<16|k}return new o(b,b[b.length-1]&-2147483648?-1:0)};function O(N,I){return N.add(C(I))}t.j=function(N){if(S(this)||S(N))return g;if(A(this))return A(N)?C(this).j(C(N)):C(C(this).j(N));if(A(N))return C(this.j(C(N)));if(this.l(E)<0&&N.l(E)<0)return d(this.m()*N.m());const I=this.g.length+N.g.length,b=[];for(var F=0;F<2*I;F++)b[F]=0;for(F=0;F<this.g.length;F++)for(let M=0;M<N.g.length;M++){const k=this.i(F)>>>16,U=this.i(F)&65535,Te=N.i(M)>>>16,ye=N.i(M)&65535;b[2*F+2*M]+=U*ye,V(b,2*F+2*M),b[2*F+2*M+1]+=k*ye,V(b,2*F+2*M+1),b[2*F+2*M+1]+=U*Te,V(b,2*F+2*M+1),b[2*F+2*M+2]+=k*Te,V(b,2*F+2*M+2)}for(N=0;N<I;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=I;N<2*I;N++)b[N]=0;return new o(b,0)};function V(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function D(N,I){this.g=N,this.h=I}function H(N,I){if(S(I))throw Error("division by zero");if(S(N))return new D(g,g);if(A(N))return I=H(C(N),I),new D(C(I.g),C(I.h));if(A(I))return I=H(N,C(I)),new D(C(I.g),I.h);if(N.g.length>30){if(A(N)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var b=x,F=I;F.l(N)<=0;)b=B(b),F=B(F);var M=j(b,1),k=j(F,1);for(F=j(F,2),b=j(b,2);!S(F);){var U=k.add(F);U.l(N)<=0&&(M=M.add(b),k=U),F=j(F,1),b=j(b,1)}return I=O(N,M.j(I)),new D(M,I)}for(M=g;N.l(I)>=0;){for(b=Math.max(1,Math.floor(N.m()/I.m())),F=Math.ceil(Math.log(b)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),k=d(b),U=k.j(I);A(U)||U.l(N)>0;)b-=F,k=d(b),U=k.j(I);S(k)&&(k=x),M=M.add(k),N=O(N,U)}return new D(M,N)}t.B=function(N){return H(this,N).h},t.and=function(N){const I=Math.max(this.g.length,N.g.length),b=[];for(let F=0;F<I;F++)b[F]=this.i(F)&N.i(F);return new o(b,this.h&N.h)},t.or=function(N){const I=Math.max(this.g.length,N.g.length),b=[];for(let F=0;F<I;F++)b[F]=this.i(F)|N.i(F);return new o(b,this.h|N.h)},t.xor=function(N){const I=Math.max(this.g.length,N.g.length),b=[];for(let F=0;F<I;F++)b[F]=this.i(F)^N.i(F);return new o(b,this.h^N.h)};function B(N){const I=N.g.length+1,b=[];for(let F=0;F<I;F++)b[F]=N.i(F)<<1|N.i(F-1)>>>31;return new o(b,N.h)}function j(N,I){const b=I>>5;I%=32;const F=N.g.length-b,M=[];for(let k=0;k<F;k++)M[k]=I>0?N.i(k+b)>>>I|N.i(k+b+1)<<32-I:N.i(k+b);return new o(M,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,po=o}).apply(typeof QS<"u"?QS:typeof self<"u"?self:typeof window<"u"?window:{});var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MN,ff,PN,h0,Xv,FN,ON,LN;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof t0=="object"&&t0];for(var R=0;R<y.length;++R){var L=y[R];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(y,R){if(R)e:{var L=r;y=y.split(".");for(var Y=0;Y<y.length-1;Y++){var de=y[Y];if(!(de in L))break e;L=L[de]}y=y[y.length-1],Y=L[y],R=R(Y),R!=Y&&R!=null&&e(L,y,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(R){var L=[],Y;for(Y in R)Object.prototype.hasOwnProperty.call(R,Y)&&L.push([Y,R[Y]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function c(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function f(y,R,L){return y.call.apply(y.bind,arguments)}function d(y,R,L){return d=f,d.apply(null,arguments)}function h(y,R){var L=Array.prototype.slice.call(arguments,1);return function(){var Y=L.slice();return Y.push.apply(Y,arguments),y.apply(this,Y)}}function g(y,R){function L(){}L.prototype=R.prototype,y.Z=R.prototype,y.prototype=new L,y.prototype.constructor=y,y.Ob=function(Y,de,we){for(var qe=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)qe[wt-2]=arguments[wt];return R.prototype[de].apply(Y,qe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function E(y){const R=y.length;if(R>0){const L=Array(R);for(let Y=0;Y<R;Y++)L[Y]=y[Y];return L}return[]}function S(y,R){for(let Y=1;Y<arguments.length;Y++){const de=arguments[Y];var L=typeof de;if(L=L!="object"?L:de?Array.isArray(de)?"array":L:"null",L=="array"||L=="object"&&typeof de.length=="number"){L=y.length||0;const we=de.length||0;y.length=L+we;for(let qe=0;qe<we;qe++)y[L+qe]=de[qe]}else y.push(de)}}class A{constructor(R,L){this.i=R,this.j=L,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function C(y){o.setTimeout(()=>{throw y},0)}function O(){var y=N;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class V{constructor(){this.h=this.g=null}add(R,L){const Y=D.get();Y.set(R,L),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var D=new A(()=>new H,y=>y.reset());class H{constructor(){this.next=this.g=this.h=null}set(R,L){this.h=R,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let B,j=!1,N=new V,I=()=>{const y=Promise.resolve(void 0);B=()=>{y.then(b)}};function b(){for(var y;y=O();){try{y.h.call(y.g)}catch(L){C(L)}var R=D;R.j(y),R.h<100&&(R.h++,y.next=R.g,R.g=y)}j=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const L=()=>{};o.addEventListener("test",L,R),o.removeEventListener("test",L,R)}catch{}return y})();function U(y){return/^[\s\xa0]*$/.test(y)}function Te(y,R){M.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,R)}g(Te,M),Te.prototype.init=function(y,R){const L=this.type=y.type,Y=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget,R||(L=="mouseover"?R=y.fromElement:L=="mouseout"&&(R=y.toElement)),this.relatedTarget=R,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),ae=0;function oe(y,R,L,Y,de){this.listener=y,this.proxy=null,this.src=R,this.type=L,this.capture=!!Y,this.ha=de,this.key=++ae,this.da=this.fa=!1}function Re(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function ie(y,R,L){for(const Y in y)R.call(L,y[Y],Y,y)}function Le(y,R){for(const L in y)R.call(void 0,y[L],L,y)}function Z(y){const R={};for(const L in y)R[L]=y[L];return R}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,R){let L,Y;for(let de=1;de<arguments.length;de++){Y=arguments[de];for(L in Y)y[L]=Y[L];for(let we=0;we<z.length;we++)L=z[we],Object.prototype.hasOwnProperty.call(Y,L)&&(y[L]=Y[L])}}function te(y){this.src=y,this.g={},this.h=0}te.prototype.add=function(y,R,L,Y,de){const we=y.toString();y=this.g[we],y||(y=this.g[we]=[],this.h++);const qe=ce(y,R,Y,de);return qe>-1?(R=y[qe],L||(R.fa=!1)):(R=new oe(R,this.src,we,!!Y,de),R.fa=L,y.push(R)),R};function X(y,R){const L=R.type;if(L in y.g){var Y=y.g[L],de=Array.prototype.indexOf.call(Y,R,void 0),we;(we=de>=0)&&Array.prototype.splice.call(Y,de,1),we&&(Re(R),y.g[L].length==0&&(delete y.g[L],y.h--))}}function ce(y,R,L,Y){for(let de=0;de<y.length;++de){const we=y[de];if(!we.da&&we.listener==R&&we.capture==!!L&&we.ha==Y)return de}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),be={};function Ee(y,R,L,Y,de){if(Array.isArray(R)){for(let we=0;we<R.length;we++)Ee(y,R[we],L,Y,de);return null}return L=tt(L),y&&y[ye]?y.J(R,L,c(Y)?!!Y.capture:!1,de):Ae(y,R,L,!1,Y,de)}function Ae(y,R,L,Y,de,we){if(!R)throw Error("Invalid event type");const qe=c(de)?!!de.capture:!!de;let wt=Ge(y);if(wt||(y[Ce]=wt=new te(y)),L=wt.add(R,L,Y,qe,we),L.proxy)return L;if(Y=Oe(),L.proxy=Y,Y.src=y,Y.listener=L,y.addEventListener)k||(de=qe),de===void 0&&(de=!1),y.addEventListener(R.toString(),Y,de);else if(y.attachEvent)y.attachEvent(Je(R.toString()),Y);else if(y.addListener&&y.removeListener)y.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Oe(){function y(L){return R.call(y.src,y.listener,L)}const R=Qe;return y}function ne(y,R,L,Y,de){if(Array.isArray(R))for(var we=0;we<R.length;we++)ne(y,R[we],L,Y,de);else Y=c(Y)?!!Y.capture:!!Y,L=tt(L),y&&y[ye]?(y=y.i,we=String(R).toString(),we in y.g&&(R=y.g[we],L=ce(R,L,Y,de),L>-1&&(Re(R[L]),Array.prototype.splice.call(R,L,1),R.length==0&&(delete y.g[we],y.h--)))):y&&(y=Ge(y))&&(R=y.g[R.toString()],y=-1,R&&(y=ce(R,L,Y,de)),(L=y>-1?R[y]:null)&&mt(L))}function mt(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[ye])X(R.i,y);else{var L=y.type,Y=y.proxy;R.removeEventListener?R.removeEventListener(L,Y,y.capture):R.detachEvent?R.detachEvent(Je(L),Y):R.addListener&&R.removeListener&&R.removeListener(Y),(L=Ge(R))?(X(L,y),L.h==0&&(L.src=null,R[Ce]=null)):Re(y)}}}function Je(y){return y in be?be[y]:be[y]="on"+y}function Qe(y,R){if(y.da)y=!0;else{R=new Te(R,this);const L=y.listener,Y=y.ha||y.src;y.fa&&mt(y),y=L.call(Y,R)}return y}function Ge(y){return y=y[Ce],y instanceof te?y:null}var ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function tt(y){return typeof y=="function"?y:(y[ze]||(y[ze]=function(R){return y.handleEvent(R)}),y[ze])}function rt(){F.call(this),this.i=new te(this),this.M=this,this.G=null}g(rt,F),rt.prototype[ye]=!0,rt.prototype.removeEventListener=function(y,R,L,Y){ne(this,y,R,L,Y)};function ut(y,R){var L,Y=y.G;if(Y)for(L=[];Y;Y=Y.G)L.push(Y);if(y=y.M,Y=R.type||R,typeof R=="string")R=new M(R,y);else if(R instanceof M)R.target=R.target||y;else{var de=R;R=new M(Y,y),Q(R,de)}de=!0;let we,qe;if(L)for(qe=L.length-1;qe>=0;qe--)we=R.g=L[qe],de=Kt(we,Y,!0,R)&&de;if(we=R.g=y,de=Kt(we,Y,!0,R)&&de,de=Kt(we,Y,!1,R)&&de,L)for(qe=0;qe<L.length;qe++)we=R.g=L[qe],de=Kt(we,Y,!1,R)&&de}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var y=this.i;for(const R in y.g){const L=y.g[R];for(let Y=0;Y<L.length;Y++)Re(L[Y]);delete y.g[R],y.h--}}this.G=null},rt.prototype.J=function(y,R,L,Y){return this.i.add(String(y),R,!1,L,Y)},rt.prototype.K=function(y,R,L,Y){return this.i.add(String(y),R,!0,L,Y)};function Kt(y,R,L,Y){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();let de=!0;for(let we=0;we<R.length;++we){const qe=R[we];if(qe&&!qe.da&&qe.capture==L){const wt=qe.listener,Fn=qe.ha||qe.src;qe.fa&&X(y.i,qe),de=wt.call(Fn,Y)!==!1&&de}}return de&&!Y.defaultPrevented}function hn(y,R){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:o.setTimeout(y,R||0)}function Hn(y){y.g=hn(()=>{y.g=null,y.i&&(y.i=!1,Hn(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class dt extends F{constructor(R,L){super(),this.m=R,this.l=L,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Hn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(y){F.call(this),this.h=y,this.g={}}g(Yt,F);var vt=[];function ln(y){ie(y.g,function(R,L){this.g.hasOwnProperty(L)&&mt(R)},y),y.g={}}Yt.prototype.N=function(){Yt.Z.N.call(this),ln(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=o.JSON.stringify,Gn=o.JSON.parse,ht=class{stringify(y){return o.JSON.stringify(y,void 0)}parse(y){return o.JSON.parse(y,void 0)}};function Ft(){}function Xt(){}var bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){M.call(this,"d")}g(Qt,M);function pr(){M.call(this,"c")}g(pr,M);var xn={},Ta=null;function Ji(){return Ta=Ta||new rt}xn.Ia="serverreachability";function Hs(y){M.call(this,xn.Ia,y)}g(Hs,M);function jr(y){const R=Ji();ut(R,new Hs(R))}xn.STAT_EVENT="statevent";function Wi(y,R){M.call(this,xn.STAT_EVENT,y),this.stat=R}g(Wi,M);function Tn(y){const R=Ji();ut(R,new Wi(R,y))}xn.Ja="timingevent";function mr(y,R){M.call(this,xn.Ja,y),this.size=R}g(mr,M);function wn(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){y()},R)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function Pe(y,R,L,Y,de,we){y.info(function(){if(y.g)if(we){var qe="",wt=we.split("&");for(let Wt=0;Wt<wt.length;Wt++){var Fn=wt[Wt].split("=");if(Fn.length>1){const Sn=Fn[0];Fn=Fn[1];const Ni=Sn.split("_");qe=Ni.length>=2&&Ni[1]=="type"?qe+(Sn+"="+Fn+"&"):qe+(Sn+"=redacted&")}}}else qe=null;else qe=we;return"XMLHTTP REQ ("+Y+") [attempt "+de+"]: "+R+`
`+L+`
`+qe})}function et(y,R,L,Y,de,we,qe){y.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+de+"]: "+R+`
`+L+`
`+we+" "+qe})}function Ke(y,R,L,Y){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+Ut(y,L)+(Y?" "+Y:"")})}function ot(y,R){y.info(function(){return"TIMEOUT: "+R})}gr.prototype.info=function(){};function Ut(y,R){if(!y.g)return R;if(!R)return null;try{const we=JSON.parse(R);if(we){for(y=0;y<we.length;y++)if(Array.isArray(we[y])){var L=we[y];if(!(L.length<2)){var Y=L[1];if(Array.isArray(Y)&&!(Y.length<1)){var de=Y[0];if(de!="noop"&&de!="stop"&&de!="close")for(let qe=1;qe<Y.length;qe++)Y[qe]=""}}}}return Rt(we)}catch{return R}}var Jt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vr;function xr(){}g(xr,Ft),xr.prototype.g=function(){return new XMLHttpRequest},vr=new xr;function yr(y){return encodeURIComponent(String(y))}function G(y){var R=1;y=y.split(":");const L=[];for(;R>0&&y.length;)L.push(y.shift()),R--;return y.length&&L.push(y.join(":")),L}function W(y,R,L,Y){this.j=y,this.i=R,this.l=L,this.S=Y||1,this.V=new Yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new K}function K(){this.i=null,this.g="",this.h=!1}var J={},ee={};function re(y,R,L){y.M=1,y.A=Io(qn(R)),y.u=L,y.R=!0,pe(y,null)}function pe(y,R){y.F=Date.now(),ve(y),y.B=qn(y.A);var L=y.B,Y=y.S;Array.isArray(Y)||(Y=[String(Y)]),Dl(L.i,"t",Y),y.C=0,L=y.j.L,y.h=new K,y.g=Rd(y.j,L?R:null,!y.u),y.P>0&&(y.O=new dt(d(y.Y,y,y.g),y.P)),R=y.V,L=y.g,Y=y.ba;var de="readystatechange";Array.isArray(de)||(de&&(vt[0]=de.toString()),de=vt);for(let we=0;we<de.length;we++){const qe=Ee(L,de[we],Y||R.handleEvent,!1,R.h||R);if(!qe)break;R.g[qe.key]=qe}R=y.J?Z(y.J):{},y.u?(y.v||(y.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,R)):(y.v="GET",y.g.ea(y.B,y.v,null,R)),jr(),Pe(y.i,y.v,y.B,y.l,y.S,y.u)}W.prototype.ba=function(y){y=y.target;const R=this.O;R&&ts(y)==3?R.j():this.Y(y)},W.prototype.Y=function(y){try{if(y==this.g)e:{const wt=ts(this.g),Fn=this.g.ya(),Wt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||_r(this.g)))){this.K||wt!=4||Fn==7||(Fn==8||Wt<=0?jr(3):jr(2)),He(this);var R=this.g.ca();this.X=R;var L=Ie(this);if(this.o=R==200,et(this.i,this.v,this.B,this.l,this.S,wt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var Y,de=this.g;if((Y=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Y)){var we=Y;break t}}we=null}if(y=we)Ke(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,y);else{this.o=!1,this.m=3,Tn(12),Ue(this),je(this);break e}}if(this.R){y=!0;let Sn;for(;!this.K&&this.C<L.length;)if(Sn=xe(this,L),Sn==ee){wt==4&&(this.m=4,Tn(14),y=!1),Ke(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==J){this.m=4,Tn(15),Ke(this.i,this.l,L,"[Invalid Chunk]"),y=!1;break}else Ke(this.i,this.l,Sn,null),$e(this,Sn);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||L.length!=0||this.h.h||(this.m=1,Tn(16),y=!1),this.o=this.o&&y,!y)Ke(this.i,this.l,L,"[Invalid Chunked Response]"),Ue(this),je(this);else if(L.length>0&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.aa&&!qe.P&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),hu(qe),qe.P=!0,Tn(11))}}else Ke(this.i,this.l,L,null),$e(this,L);wt==4&&Ue(this),this.o&&!this.K&&(wt==4?Cd(this.j,this):(this.o=!1,ve(this)))}else qs(this.g),R==400&&L.indexOf("Unknown SID")>0?(this.m=3,Tn(12)):(this.m=0,Tn(13)),Ue(this),je(this)}}}catch{}finally{}};function Ie(y){if(!me(y))return y.g.la();const R=_r(y.g);if(R==="")return"";let L="";const Y=R.length,de=ts(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Ue(y),je(y),"";y.h.i=new o.TextDecoder}for(let we=0;we<Y;we++)y.h.h=!0,L+=y.h.i.decode(R[we],{stream:!(de&&we==Y-1)});return R.length=0,y.h.g+=L,y.C=0,y.h.g}function me(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function xe(y,R){var L=y.C,Y=R.indexOf(`
`,L);return Y==-1?ee:(L=Number(R.substring(L,Y)),isNaN(L)?J:(Y+=1,Y+L>R.length?ee:(R=R.slice(Y,Y+L),y.C=Y+L,R)))}W.prototype.cancel=function(){this.K=!0,Ue(this)};function ve(y){y.T=Date.now()+y.H,Be(y,y.H)}function Be(y,R){if(y.D!=null)throw Error("WatchDog timer not null");y.D=wn(d(y.aa,y),R)}function He(y){y.D&&(o.clearTimeout(y.D),y.D=null)}W.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ot(this.i,this.B),this.M!=2&&(jr(),Tn(17)),Ue(this),this.m=2,je(this)):Be(this,this.T-y)};function je(y){y.j.I==0||y.K||Cd(y.j,y)}function Ue(y){He(y);var R=y.O;R&&typeof R.dispose=="function"&&R.dispose(),y.O=null,ln(y.V),y.g&&(R=y.g,y.g=null,R.abort(),R.dispose())}function $e(y,R){try{var L=y.j;if(L.I!=0&&(L.g==y||Dr(L.h,y))){if(!y.L&&Dr(L.h,y)&&L.I==3){try{var Y=L.Ba.g.parse(R)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var de=Y;if(de[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<y.F)Ll(L),ka(L);else break e;Fo(L),Tn(18)}}else L.xa=de[1],0<L.xa-L.K&&de[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=wn(d(L.Va,L),6e3));mn(L.h)<=1&&L.ta&&(L.ta=void 0)}else ws(L,11)}else if((y.L||L.g==y)&&Ll(L),!U(R))for(de=L.Ba.g.parse(R),R=0;R<de.length;R++){let Wt=de[R];const Sn=Wt[0];if(!(Sn<=L.K))if(L.K=Sn,Wt=Wt[1],L.I==2)if(Wt[0]=="c"){L.M=Wt[1],L.ba=Wt[2];const Ni=Wt[3];Ni!=null&&(L.ka=Ni,L.j.info("VER="+L.ka));const Ss=Wt[4];Ss!=null&&(L.za=Ss,L.j.info("SVER="+L.za));const ns=Wt[5];ns!=null&&typeof ns=="number"&&ns>0&&(Y=1.5*ns,L.O=Y,L.j.info("backChannelRequestTimeoutMs_="+Y)),Y=L;const rs=y.g;if(rs){const Oo=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oo){var we=Y.h;we.g||Oo.indexOf("spdy")==-1&&Oo.indexOf("quic")==-1&&Oo.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Zi(we,we.h),we.h=null))}if(Y.G){const Ul=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ul&&(Y.wa=Ul,rn(Y.J,Y.G,Ul))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-y.F,L.j.info("Handshake RTT: "+L.T+"ms")),Y=L;var qe=y;if(Y.na=Nd(Y,Y.L?Y.ba:null,Y.W),qe.L){Xi(Y.h,qe);var wt=qe,Fn=Y.O;Fn&&(wt.H=Fn),wt.D&&(He(wt),ve(wt)),Y.g=qe}else Sd(Y);L.i.length>0&&Ts(L)}else Wt[0]!="stop"&&Wt[0]!="close"||ws(L,7);else L.I==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?ws(L,7):fu(L):Wt[0]!="noop"&&L.l&&L.l.qa(Wt),L.A=0)}}jr(4)}catch{}}var Xe=class{constructor(y,R){this.g=y,this.map=R}};function tn(y){this.l=y||10,o.PerformanceNavigationTiming?(y=o.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nn(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function mn(y){return y.h?1:y.g?y.g.size:0}function Dr(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Zi(y,R){y.g?y.g.add(R):y.h=R}function Xi(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}tn.prototype.cancel=function(){if(this.i=pi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function pi(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const L of y.g.values())R=R.concat(L.G);return R}return E(y.i)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mr(y,R){if(y){y=y.split("&");for(let L=0;L<y.length;L++){const Y=y[L].indexOf("=");let de,we=null;Y>=0?(de=y[L].substring(0,Y),we=y[L].substring(Y+1)):de=y[L],R(de,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function mi(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;y instanceof mi?(this.l=y.l,or(this,y.j),this.o=y.o,this.g=y.g,Sa(this,y.u),this.h=y.h,iu(this,Td(y.i)),this.m=y.m):y&&(R=String(y).match(wa))?(this.l=!1,or(this,R[1]||"",!0),this.o=xs(R[2]||""),this.g=xs(R[3]||"",!0),Sa(this,R[4]),this.h=xs(R[5]||"",!0),iu(this,R[6]||"",!0),this.m=xs(R[7]||"")):(this.l=!1,this.i=new Ca(null,this.l))}mi.prototype.toString=function(){const y=[];var R=this.j;R&&y.push(No(R,kl,!0),":");var L=this.g;return(L||R=="file")&&(y.push("//"),(R=this.o)&&y.push(No(R,kl,!0),"@"),y.push(yr(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&y.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&y.push("/"),y.push(No(L,L.charAt(0)=="/"?su:yd,!0))),(L=this.i.toString())&&y.push("?",L),(L=this.m)&&y.push("#",No(L,_d)),y.join("")},mi.prototype.resolve=function(y){const R=qn(this);let L=!!y.j;L?or(R,y.j):L=!!y.o,L?R.o=y.o:L=!!y.g,L?R.g=y.g:L=y.u!=null;var Y=y.h;if(L)Sa(R,y.u);else if(L=!!y.h){if(Y.charAt(0)!="/")if(this.g&&!this.h)Y="/"+Y;else{var de=R.h.lastIndexOf("/");de!=-1&&(Y=R.h.slice(0,de+1)+Y)}if(de=Y,de==".."||de==".")Y="";else if(de.indexOf("./")!=-1||de.indexOf("/.")!=-1){Y=de.lastIndexOf("/",0)==0,de=de.split("/");const we=[];for(let qe=0;qe<de.length;){const wt=de[qe++];wt=="."?Y&&qe==de.length&&we.push(""):wt==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),Y&&qe==de.length&&we.push("")):(we.push(wt),Y=!0)}Y=we.join("/")}else Y=de}return L?R.h=Y:L=y.i.toString()!=="",L?iu(R,Td(y.i)):L=!!y.m,L&&(R.m=y.m),R};function qn(y){return new mi(y)}function or(y,R,L){y.j=L?xs(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Sa(y,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);y.u=R}else y.u=null}function iu(y,R,L){R instanceof Ca?(y.i=R,Ml(y.i,y.l)):(L||(R=No(R,Aa)),y.i=new Ca(R,y.l))}function rn(y,R,L){y.i.set(R,L)}function Io(y){return rn(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function xs(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function No(y,R,L){return typeof y=="string"?(y=encodeURI(y).replace(R,ri),L&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function ri(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var kl=/[#\/\?@]/g,yd=/[#\?:]/g,su=/[#\?]/g,Aa=/[#\?@]/g,_d=/#/g;function Ca(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ii(y){y.g||(y.g=new Map,y.h=0,y.i&&Mr(y.i,function(R,L){y.add(decodeURIComponent(R.replace(/\+/g," ")),L)}))}t=Ca.prototype,t.add=function(y,R){ii(this),this.i=null,y=ba(this,y);let L=this.g.get(y);return L||this.g.set(y,L=[]),L.push(R),this.h+=1,this};function Ed(y,R){ii(y),R=ba(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function au(y,R){return ii(y),R=ba(y,R),y.g.has(R)}t.forEach=function(y,R){ii(this),this.g.forEach(function(L,Y){L.forEach(function(de){y.call(R,de,Y,this)},this)},this)};function ou(y,R){ii(y);let L=[];if(typeof R=="string")au(y,R)&&(L=L.concat(y.g.get(ba(y,R))));else for(y=Array.from(y.g.values()),R=0;R<y.length;R++)L=L.concat(y[R]);return L}t.set=function(y,R){return ii(this),this.i=null,y=ba(this,y),au(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},t.get=function(y,R){return y?(y=ou(this,y),y.length>0?String(y[0]):R):R};function Dl(y,R,L){Ed(y,R),L.length>0&&(y.i=null,y.g.set(ba(y,R),E(L)),y.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(let Y=0;Y<R.length;Y++){var L=R[Y];const de=yr(L);L=ou(this,L);for(let we=0;we<L.length;we++){let qe=de;L[we]!==""&&(qe+="="+yr(L[we])),y.push(qe)}}return this.i=y.join("&")};function Td(y){const R=new Ca;return R.i=y.i,y.g&&(R.g=new Map(y.g),R.h=y.h),R}function ba(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function Ml(y,R){R&&!y.j&&(ii(y),y.i=null,y.g.forEach(function(L,Y){const de=Y.toLowerCase();Y!=de&&(Ed(this,Y),Dl(this,de,L))},y)),y.j=R}function Qi(y,R){const L=new gr;if(o.Image){const Y=new Image;Y.onload=h(bi,L,"TestLoadImage: loaded",!0,R,Y),Y.onerror=h(bi,L,"TestLoadImage: error",!1,R,Y),Y.onabort=h(bi,L,"TestLoadImage: abort",!1,R,Y),Y.ontimeout=h(bi,L,"TestLoadImage: timeout",!1,R,Y),o.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=y}else R(!1)}function lu(y,R){const L=new gr,Y=new AbortController,de=setTimeout(()=>{Y.abort(),bi(L,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:Y.signal}).then(we=>{clearTimeout(de),we.ok?bi(L,"TestPingServer: ok",!0,R):bi(L,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(de),bi(L,"TestPingServer: error",!1,R)})}function bi(y,R,L,Y,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),Y(L)}catch{}}function Ia(){this.g=new ht}function ys(y){this.i=y.Sb||null,this.h=y.ab||!1}g(ys,Ft),ys.prototype.g=function(){return new Ro(this.i,this.h)};function Ro(y,R){rt.call(this),this.H=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ro,rt),t=Ro.prototype,t.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=R,this.readyState=1,es(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(R.body=y),(this.H||o).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Na(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pl(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pl(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?Na(this):es(this),this.readyState==3&&Pl(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,Na(this))},t.Na=function(y){this.g&&(this.response=y,Na(this))},t.ga=function(){this.g&&Na(this)};function Na(y){y.readyState=4,y.l=null,y.j=null,y.B=null,es(y)}t.setRequestHeader=function(y,R){this.A.append(y,R)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var L=R.next();!L.done;)L=L.value,y.push(L[0]+": "+L[1]),L=R.next();return y.join(`\r
`)};function es(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ii(y){let R="";return ie(y,function(L,Y){R+=Y,R+=":",R+=L,R+=`\r
`}),R}function ko(y,R,L){e:{for(Y in L){var Y=!1;break e}Y=!0}Y||(L=Ii(L),typeof y=="string"?L!=null&&yr(L):rn(y,R,L))}function cn(y){rt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(cn,rt);var _s=/^https?$/i,cu=["POST","PUT"];t=cn.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,R,L,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vr.g(),this.g.onreadystatechange=x(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(we){Do(this,we);return}if(y=L||"",L=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var de in Y)L.set(de,Y[de]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const we of Y.keys())L.set(we,Y.get(we));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(L.keys()).find(we=>we.toLowerCase()=="content-type"),de=o.FormData&&y instanceof o.FormData,!(Array.prototype.indexOf.call(cu,R,void 0)>=0)||Y||de||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,qe]of L)this.g.setRequestHeader(we,qe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(we){Do(this,we)}};function Do(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.o=5,uu(y),Gs(y)}function uu(y){y.A||(y.A=!0,ut(y,"complete"),ut(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,ut(this,"complete"),ut(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),cn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Mo(this):this.Xa())},t.Xa=function(){Mo(this)};function Mo(y){if(y.h&&typeof s<"u"){if(y.v&&ts(y)==4)setTimeout(y.Ca.bind(y),0);else if(ut(y,"readystatechange"),ts(y)==4){y.h=!1;try{const we=y.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var L;if(!(L=R)){var Y;if(Y=we===0){let qe=String(y.D).match(wa)[1]||null;!qe&&o.self&&o.self.location&&(qe=o.self.location.protocol.slice(0,-1)),Y=!_s.test(qe?qe.toLowerCase():"")}L=Y}if(L)ut(y,"complete"),ut(y,"success");else{y.o=6;try{var de=ts(y)>2?y.g.statusText:""}catch{de=""}y.l=de+" ["+y.ca()+"]",uu(y)}}finally{Gs(y)}}}}function Gs(y,R){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const L=y.g;y.g=null,R||ut(y,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ts(y){return y.g?y.g.readyState:0}t.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),Gn(R)}};function _r(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function qs(y){const R={};y=(y.g&&ts(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<y.length;Y++){if(U(y[Y]))continue;var L=G(y[Y]);const de=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const we=R[de]||[];R[de]=we,we.push(L)}Le(R,function(Y){return Y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(y,R,L){return L&&L.internalChannelParams&&L.internalChannelParams[y]||R}function Ra(y){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Es("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Es("baseRetryDelayMs",5e3,y),this.Za=Es("retryDelaySeedMs",1e4,y),this.Ta=Es("forwardChannelMaxRetries",2,y),this.va=Es("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new tn(y&&y.concurrentRequestLimit),this.Ba=new Ia,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ra.prototype,t.ka=8,t.I=1,t.connect=function(y,R,L,Y){Tn(0),this.W=y,this.H=R||{},L&&Y!==void 0&&(this.H.OSID=L,this.H.OAID=Y),this.F=this.X,this.J=Nd(this,null,this.W),Ts(this)};function fu(y){if(Fl(y),y.I==3){var R=y.V++,L=qn(y.J);if(rn(L,"SID",y.M),rn(L,"RID",R),rn(L,"TYPE","terminate"),Po(y,L),R=new W(y,y.j,R),R.M=2,R.A=Io(qn(L)),L=!1,o.navigator&&o.navigator.sendBeacon)try{L=o.navigator.sendBeacon(R.A.toString(),"")}catch{}!L&&o.Image&&(new Image().src=R.A,L=!0),L||(R.g=Rd(R.j,null),R.g.ea(R.A)),R.F=Date.now(),ve(R)}Id(y)}function ka(y){y.g&&(hu(y),y.g.cancel(),y.g=null)}function Fl(y){ka(y),y.v&&(o.clearTimeout(y.v),y.v=null),Ll(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&o.clearTimeout(y.m),y.m=null)}function Ts(y){if(!nn(y.h)&&!y.m){y.m=!0;var R=y.Ea;B||I(),j||(B(),j=!0),N.add(R,y),y.D=0}}function Ol(y,R){return mn(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=R.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=wn(d(y.Ea,y,R),bd(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const de=new W(this,this.j,y);let we=this.o;if(this.U&&(we?(we=Z(we),Q(we,this.U)):we=this.U),this.u!==null||this.R||(de.J=we,we=null),this.S)e:{for(var R=0,L=0;L<this.i.length;L++){t:{var Y=this.i[L];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(R+=Y,R>4096){R=L;break e}if(R===4096||L===this.i.length-1){R=L+1;break e}}R=1e3}else R=1e3;R=wd(this,de,R),L=qn(this.J),rn(L,"RID",y),rn(L,"CVER",22),this.G&&rn(L,"X-HTTP-Session-Id",this.G),Po(this,L),we&&(this.R?R="headers="+yr(Ii(we))+"&"+R:this.u&&ko(L,this.u,we)),Zi(this.h,de),this.Ra&&rn(L,"TYPE","init"),this.S?(rn(L,"$req",R),rn(L,"SID","null"),de.U=!0,re(de,L,null)):re(de,L,R),this.I=2}}else this.I==3&&(y?du(this,y):this.i.length==0||nn(this.h)||du(this))};function du(y,R){var L;R?L=R.l:L=y.V++;const Y=qn(y.J);rn(Y,"SID",y.M),rn(Y,"RID",L),rn(Y,"AID",y.K),Po(y,Y),y.u&&y.o&&ko(Y,y.u,y.o),L=new W(y,y.j,L,y.D+1),y.u===null&&(L.J=y.o),R&&(y.i=R.G.concat(y.i)),R=wd(y,L,1e3),L.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Zi(y.h,L),re(L,Y,R)}function Po(y,R){y.H&&ie(y.H,function(L,Y){rn(R,Y,L)}),y.l&&ie({},function(L,Y){rn(R,Y,L)})}function wd(y,R,L){L=Math.min(y.i.length,L);const Y=y.l?d(y.l.Ka,y.l,y):null;e:{var de=y.i;let wt=-1;for(;;){const Fn=["count="+L];wt==-1?L>0?(wt=de[0].g,Fn.push("ofs="+wt)):wt=0:Fn.push("ofs="+wt);let Wt=!0;for(let Sn=0;Sn<L;Sn++){var we=de[Sn].g;const Ni=de[Sn].map;if(we-=wt,we<0)wt=Math.max(0,de[Sn].g-100),Wt=!1;else try{we="req"+we+"_"||"";try{var qe=Ni instanceof Map?Ni:Object.entries(Ni);for(const[Ss,ns]of qe){let rs=ns;c(ns)&&(rs=Rt(ns)),Fn.push(we+Ss+"="+encodeURIComponent(rs))}}catch(Ss){throw Fn.push(we+"type="+encodeURIComponent("_badmap")),Ss}}catch{Y&&Y(Ni)}}if(Wt){qe=Fn.join("&");break e}}qe=void 0}return y=y.i.splice(0,L),R.G=y,qe}function Sd(y){if(!y.g&&!y.v){y.Y=1;var R=y.Da;B||I(),j||(B(),j=!0),N.add(R,y),y.A=0}}function Fo(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=wn(d(y.Da,y),bd(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,Ad(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=wn(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tn(10),ka(this),Ad(this))};function hu(y){y.B!=null&&(o.clearTimeout(y.B),y.B=null)}function Ad(y){y.g=new W(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var R=qn(y.na);rn(R,"RID","rpc"),rn(R,"SID",y.M),rn(R,"AID",y.K),rn(R,"CI",y.F?"0":"1"),!y.F&&y.ia&&rn(R,"TO",y.ia),rn(R,"TYPE","xmlhttp"),Po(y,R),y.u&&y.o&&ko(R,y.u,y.o),y.O&&(y.g.H=y.O);var L=y.g;y=y.ba,L.M=1,L.A=Io(qn(R)),L.u=null,L.R=!0,pe(L,y)}t.Va=function(){this.C!=null&&(this.C=null,ka(this),Fo(this),Tn(19))};function Ll(y){y.C!=null&&(o.clearTimeout(y.C),y.C=null)}function Cd(y,R){var L=null;if(y.g==R){Ll(y),hu(y),y.g=null;var Y=2}else if(Dr(y.h,R))L=R.G,Xi(y.h,R),Y=1;else return;if(y.I!=0){if(R.o)if(Y==1){L=R.u?R.u.length:0,R=Date.now()-R.F;var de=y.D;Y=Ji(),ut(Y,new mr(Y,L)),Ts(y)}else Sd(y);else if(de=R.m,de==3||de==0&&R.X>0||!(Y==1&&Ol(y,R)||Y==2&&Fo(y)))switch(L&&L.length>0&&(R=y.h,R.i=R.i.concat(L)),de){case 1:ws(y,5);break;case 4:ws(y,10);break;case 3:ws(y,6);break;default:ws(y,2)}}}function bd(y,R){let L=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(L*=2),L*R}function ws(y,R){if(y.j.info("Error code "+R),R==2){var L=d(y.bb,y),Y=y.Ua;const de=!Y;Y=new mi(Y||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||or(Y,"https"),Io(Y),de?Qi(Y.toString(),L):lu(Y.toString(),L)}else Tn(2);y.I=0,y.l&&y.l.pa(R),Id(y),Fl(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function Id(y){if(y.I=0,y.ja=[],y.l){const R=pi(y.h);(R.length!=0||y.i.length!=0)&&(S(y.ja,R),S(y.ja,y.i),y.h.i.length=0,E(y.i),y.i.length=0),y.l.oa()}}function Nd(y,R,L){var Y=L instanceof mi?qn(L):new mi(L);if(Y.g!="")R&&(Y.g=R+"."+Y.g),Sa(Y,Y.u);else{var de=o.location;Y=de.protocol,R=R?R+"."+de.hostname:de.hostname,de=+de.port;const we=new mi(null);Y&&or(we,Y),R&&(we.g=R),de&&Sa(we,de),L&&(we.h=L),Y=we}return L=y.G,R=y.wa,L&&R&&rn(Y,L,R),rn(Y,"VER",y.ka),Po(y,Y),Y}function Rd(y,R,L){if(R&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Aa&&!y.ma?new cn(new ys({ab:L})):new cn(y.ma),R.Fa(y.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}t=kd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Da(){}Da.prototype.g=function(y,R){return new Kr(y,R)};function Kr(y,R){rt.call(this),this.g=new Ra(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(y?y["X-WebChannel-Client-Profile"]=R.sa:y={"X-WebChannel-Client-Profile":R.sa}),this.g.U=y,(y=R&&R.Qb)&&!U(y)&&(this.g.u=y),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!U(R)&&(this.g.G=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new $s(this)}g(Kr,rt),Kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kr.prototype.close=function(){fu(this.g)},Kr.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var L={};L.__data__=y,y=L}else this.v&&(L={},L.__data__=Rt(y),y=L);R.i.push(new Xe(R.Ya++,y)),R.I==3&&Ts(R)},Kr.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,Kr.Z.N.call(this)};function Dd(y){Qt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const L in R){y=L;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}g(Dd,Qt);function Md(){pr.call(this),this.status=1}g(Md,pr);function $s(y){this.g=y}g($s,kd),$s.prototype.ra=function(){ut(this.g,"a")},$s.prototype.qa=function(y){ut(this.g,new Dd(y))},$s.prototype.pa=function(y){ut(this.g,new Md)},$s.prototype.oa=function(){ut(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Kr.prototype.send=Kr.prototype.o,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,LN=function(){return new Da},ON=function(){return Ji()},FN=xn,Xv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Jt.NO_ERROR=0,Jt.TIMEOUT=8,Jt.HTTP_ERROR=6,h0=Jt,pn.COMPLETE="complete",PN=pn,Xt.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",rt.prototype.listen=rt.prototype.J,ff=Xt,cn.prototype.listenOnce=cn.prototype.K,cn.prototype.getLastError=cn.prototype.Ha,cn.prototype.getLastErrorCode=cn.prototype.ya,cn.prototype.getStatus=cn.prototype.ca,cn.prototype.getResponseJson=cn.prototype.La,cn.prototype.getResponseText=cn.prototype.la,cn.prototype.send=cn.prototype.ea,cn.prototype.setWithCredentials=cn.prototype.Fa,MN=cn}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lr.UNAUTHENTICATED=new Lr(null),Lr.GOOGLE_CREDENTIALS=new Lr("google-credentials-uid"),Lr.FIRST_PARTY=new Lr("first-party-uid"),Lr.MOCK_USER=new Lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc="12.9.0";function kW(t){Qc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new AN("@firebase/firestore");function vc(){return ml.logLevel}function We(t,...e){if(ml.logLevel<=Bt.DEBUG){const n=e.map(gx);ml.debug(`Firestore (${Qc}): ${t}`,...n)}}function va(t,...e){if(ml.logLevel<=Bt.ERROR){const n=e.map(gx);ml.error(`Firestore (${Qc}): ${t}`,...n)}}function gl(t,...e){if(ml.logLevel<=Bt.WARN){const n=e.map(gx);ml.warn(`Firestore (${Qc}): ${t}`,...n)}}function gx(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UN(t,r,n)}function UN(t,e,n){let r=`FIRESTORE (${Qc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw va(r),new Error(r)}function en(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||UN(e,i,r)}function Tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Xc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Lr.UNAUTHENTICATED)))}shutdown(){}}class MW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PW{constructor(e){this.t=e,this.currentUser=Lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){en(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(en(typeof r.accessToken=="string",31837,{l:r}),new VN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return en(e===null||typeof e=="string",2055,{h:e}),new Lr(e)}}class FW{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Lr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new FW(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Lr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pW(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){en(this.o===void 0,3512);const r=s=>{s.error!=null&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,We("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(en(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function Qv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return rv(i)===rv(s)?Mt(i,s):rv(i)?1:-1}return Mt(t.length,e.length)}const VW=55296,BW=57343;function rv(t){const e=t.charCodeAt(0);return e>=VW&&e<=BW}function Bc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__name__";class Ms{constructor(e,n,r){n===void 0?n=0:n>e.length&&pt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ms.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Mt(e.length,n.length)}static compareSegments(e,n){const r=Ms.isNumericId(e),i=Ms.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ms.extractNumericId(e).compare(Ms.extractNumericId(n)):Qv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return po.fromString(e.substring(4,e.length-2))}}class In extends Ms{construct(e,n,r){return new In(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new In(n)}static emptyPath(){return new In([])}}const zW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class br extends Ms{construct(e,n,r){return new br(e,n,r)}static isValidIdentifier(e){return zW.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),br.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tA}static keyField(){return new br([tA])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new it(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new it(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new it(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new br(n)}static emptyPath(){return new br([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(In.fromString(e))}static fromName(e){return new ct(In.fromString(e).popFirst(5))}static empty(){return new ct(In.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&In.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return In.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new In(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t,e,n){if(!n)throw new it(Ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GW(t,e,n,r){if(e===!0&&r===!0)throw new it(Ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nA(t){if(!ct.isDocumentKey(t))throw new it(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pt(12329,{type:typeof t})}function Zf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new it(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xx(t);throw new it(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,e){const n={typeString:t};return e&&(n.value=e),n}function hd(t,e){if(!BN(t))throw new it(Ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new it(Ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=-62135596800,iA=1e6;class En{static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*iA);return new En(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new it(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rA)throw new it(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iA}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:En._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,En._jsonSchema))return new En(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}En._jsonSchemaVersion="firestore/timestamp/1.0",En._jsonSchema={type:er("string",En._jsonSchemaVersion),seconds:er("number"),nanoseconds:er("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new En(0,0))}static max(){return new yt(new En(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=-1;function qW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=yt.fromTimestamp(r===1e9?new En(n+1,0):new En(n,r));return new xo(i,ct.empty(),e)}function $W(t){return new xo(t.readTime,t.key,Xf)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(yt.min(),ct.empty(),Xf)}static max(){return new xo(yt.max(),ct.empty(),Xf)}}function jW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ct.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){if(t.code!==Ve.FAILED_PRECONDITION||t.message!==KW)throw t;We("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Fe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Fe?n:Fe.resolve(n)}catch(n){return Fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Fe.reject(n)}static resolve(e){return new Fe(((n,r)=>{n(e)}))}static reject(e){return new Fe(((n,r)=>{r(e)}))}static waitFor(e){return new Fe(((n,r)=>{let i=0,s=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++s,o&&s===i&&n()}),(f=>r(f)))})),o=!0,s===i&&n()}))}static or(e){let n=Fe.resolve(!1);for(const r of e)n=n.next((i=>i?Fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Fe(((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;n(e[d]).next((h=>{o[d]=h,++c,c===s&&r(o)}),(h=>i(h)))}}))}static doWhile(e,n){return new Fe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function JW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=-1;function Sp(t){return t==null}function Y0(t){return t===0&&1/t==-1/0}function WW(t){return typeof t=="number"&&Number.isInteger(t)&&!Y0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="";function ZW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sA(e)),e=XW(t.get(n),e);return sA(e)}function XW(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case zN:n+="";break;default:n+=s}}return n}function sA(t){return t+zN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.comparator=e,this.root=n||Ar.EMPTY}insert(e,n){return new Nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new Nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new n0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new n0(this.root,e,this.comparator,!1)}getReverseIterator(){return new n0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new n0(this.root,e,this.comparator,!0)}}class n0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ar.RED,this.left=i??Ar.EMPTY,this.right=s??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ar(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1;Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.comparator=e,this.data=new Nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oA(this.data.getIterator())}getIteratorFrom(e){return new oA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ar(this.comparator);return n.data=e,n}}class oA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.fields=e,e.sort(br.comparator)}static empty(){return new ds([])}unionWith(e){let n=new ar(br.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new GN("Invalid base64 string: "+s):s}})(e);return new kr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new kr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kr.EMPTY_BYTE_STRING=new kr("");const QW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(en(!!t,39018),typeof t=="string"){let e=0;const n=QW.exec(t);if(en(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?kr.fromBase64String(t):kr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="server_timestamp",$N="__type__",jN="__previous_value__",KN="__local_write_time__";function _x(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$N])==null?void 0:r.stringValue)===qN}function Ap(t){const e=t.mapValue.fields[jN];return _x(e)?Ap(e):e}function Qf(t){const e=yo(t.mapValue.fields[KN].timestampValue);return new En(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n,r,i,s,o,c,f,d,h,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=g}}const J0="(default)";class ed{constructor(e,n){this.projectId=e,this.database=n||J0}static empty(){return new ed("","")}get isDefaultDatabase(){return this.database===J0}isEqual(e){return e instanceof ed&&e.projectId===this.projectId&&e.database===this.database}}function tZ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new it(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__type__",nZ="__max__",r0={mapValue:{}},JN="__vector__",W0="value";function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_x(t)?4:iZ(t)?9007199254740991:rZ(t)?10:11:pt(28295,{value:t})}function Us(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qf(t).isEqual(Qf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=yo(i.timestampValue),c=yo(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return _o(i.bytesValue).isEqual(_o(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Vn(i.geoPointValue.latitude)===Vn(s.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Vn(i.integerValue)===Vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Vn(i.doubleValue),c=Vn(s.doubleValue);return o===c?Y0(o)===Y0(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Bc(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(aA(o)!==aA(c))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(c[f]===void 0||!Us(o[f],c[f])))return!1;return!0})(t,e);default:return pt(52216,{left:t})}}function td(t,e){return(t.values||[]).find((n=>Us(n,e)))!==void 0}function zc(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=Vn(s.integerValue||s.doubleValue),f=Vn(o.integerValue||o.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return lA(t.timestampValue,e.timestampValue);case 4:return lA(Qf(t),Qf(e));case 5:return Qv(t.stringValue,e.stringValue);case 6:return(function(s,o){const c=_o(s),f=_o(o);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),f=o.split("/");for(let d=0;d<c.length&&d<f.length;d++){const h=Mt(c[d],f[d]);if(h!==0)return h}return Mt(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=Mt(Vn(s.latitude),Vn(o.latitude));return c!==0?c:Mt(Vn(s.longitude),Vn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return cA(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var x,E,S,A;const c=s.fields||{},f=o.fields||{},d=(x=c[W0])==null?void 0:x.arrayValue,h=(E=f[W0])==null?void 0:E.arrayValue,g=Mt(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return g!==0?g:cA(d,h)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===r0.mapValue&&o===r0.mapValue)return 0;if(s===r0.mapValue)return 1;if(o===r0.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=o.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let g=0;g<f.length&&g<h.length;++g){const x=Qv(f[g],h[g]);if(x!==0)return x;const E=zc(c[f[g]],d[h[g]]);if(E!==0)return E}return Mt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw pt(23264,{he:n})}}function lA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=yo(t),r=yo(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function cA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=zc(n[i],r[i]);if(s)return s}return Mt(n.length,r.length)}function Hc(t){return e1(t)}function e1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _o(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ct.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=e1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${e1(n.fields[o])}`;return i+"}"})(t.mapValue):pt(61005,{value:t})}function p0(t){switch(Eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ap(t);return e?16+p0(e):16;case 5:return 2*t.stringValue.length;case 6:return _o(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+p0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return bl(r.fields,((s,o)=>{i+=s.length+p0(o)})),i})(t.mapValue);default:throw pt(13486,{value:t})}}function t1(t){return!!t&&"integerValue"in t}function Ex(t){return!!t&&"arrayValue"in t}function uA(t){return!!t&&"nullValue"in t}function fA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function m0(t){return!!t&&"mapValue"in t}function rZ(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[YN])==null?void 0:r.stringValue)===JN}function bf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=bf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bf(t.arrayValue.values[n]);return e}return{...t}}function iZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nZ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!m0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bf(n)}setAll(e){let n=br.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=bf(o):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());m0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];m0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Hi(bf(this.value))}}function WN(t){const e=[];return bl(t.fields,((n,r)=>{const i=new br([n]);if(m0(r)){const s=WN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Vr(e,0,yt.min(),yt.min(),yt.min(),Hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Vr(e,1,n,yt.min(),r,i,0)}static newNoDocument(e,n){return new Vr(e,2,n,yt.min(),yt.min(),Hi.empty(),0)}static newUnknownDocument(e,n){return new Vr(e,3,n,yt.min(),yt.min(),Hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.position=e,this.inclusive=n}}function dA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ct.comparator(ct.fromName(o.referenceValue),n.key):r=zc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function hA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n="asc"){this.field=e,this.dir=n}}function sZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{}class rr extends ZN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oZ(e,n,r):n==="array-contains"?new uZ(e,r):n==="in"?new fZ(e,r):n==="not-in"?new dZ(e,r):n==="array-contains-any"?new hZ(e,r):new rr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lZ(e,r):new cZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zc(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(zc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vs extends ZN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Vs(e,n)}matches(e){return XN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XN(t){return t.op==="and"}function QN(t){return aZ(t)&&XN(t)}function aZ(t){for(const e of t.filters)if(e instanceof Vs)return!1;return!0}function n1(t){if(t instanceof rr)return t.field.canonicalString()+t.op.toString()+Hc(t.value);if(QN(t))return t.filters.map((e=>n1(e))).join(",");{const e=t.filters.map((n=>n1(n))).join(",");return`${t.op}(${e})`}}function eR(t,e){return t instanceof rr?(function(r,i){return i instanceof rr&&r.op===i.op&&r.field.isEqual(i.field)&&Us(r.value,i.value)})(t,e):t instanceof Vs?(function(r,i){return i instanceof Vs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,c)=>s&&eR(o,i.filters[c])),!0):!1})(t,e):void pt(19439)}function tR(t){return t instanceof rr?(function(n){return`${n.field.canonicalString()} ${n.op} ${Hc(n.value)}`})(t):t instanceof Vs?(function(n){return n.op.toString()+" {"+n.getFilters().map(tR).join(" ,")+"}"})(t):"Filter"}class oZ extends rr{constructor(e,n,r){super(e,n,r),this.key=ct.fromName(r.referenceValue)}matches(e){const n=ct.comparator(e.key,this.key);return this.matchesComparison(n)}}class lZ extends rr{constructor(e,n){super(e,"in",n),this.keys=nR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class cZ extends rr{constructor(e,n){super(e,"not-in",n),this.keys=nR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ct.fromName(r.referenceValue)))}class uZ extends rr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ex(n)&&td(n.arrayValue,this.value)}}class fZ extends rr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&td(this.value.arrayValue,n)}}class dZ extends rr{constructor(e,n){super(e,"not-in",n)}matches(e){if(td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!td(this.value.arrayValue,n)}}class hZ extends rr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>td(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function pA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pZ(t,e,n,r,i,s,o)}function Tx(t){const e=Tt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>n1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Hc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Hc(r))).join(",")),e.Te=n}return e.Te}function wx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hA(t.startAt,e.startAt)&&hA(t.endAt,e.endAt)}function r1(t){return ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function mZ(t,e,n,r,i,s,o,c){return new Cp(t,e,n,r,i,s,o,c)}function Sx(t){return new Cp(t)}function mA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gZ(t){return ct.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function vZ(t){return t.collectionGroup!==null}function If(t){const e=Tt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ar(br.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new X0(s,r))})),n.has(br.keyField().canonicalString())||e.Ie.push(new X0(br.keyField(),r))}return e.Ie}function Ps(t){const e=Tt(t);return e.Ee||(e.Ee=xZ(e,If(t))),e.Ee}function xZ(t,e){if(t.limitType==="F")return pA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new X0(i.field,s)}));const n=t.endAt?new Z0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Z0(t.startAt.position,t.startAt.inclusive):null;return pA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function i1(t,e,n){return new Cp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bp(t,e){return wx(Ps(t),Ps(e))&&t.limitType===e.limitType}function rR(t){return`${Tx(Ps(t))}|lt:${t.limitType}`}function xc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>tR(i))).join(", ")}]`),Sp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Hc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Hc(i))).join(",")),`Target(${r})`})(Ps(t))}; limitType=${t.limitType})`}function Ip(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ct.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of If(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,f){const d=dA(o,c,f);return o.inclusive?d<=0:d<0})(r.startAt,If(r),i)||r.endAt&&!(function(o,c,f){const d=dA(o,c,f);return o.inclusive?d>=0:d>0})(r.endAt,If(r),i))})(t,e)}function yZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iR(t){return(e,n)=>{let r=!1;for(const i of If(t)){const s=_Z(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _Z(t,e,n){const r=t.field.isKeyField()?ct.comparator(e.key,n.key):(function(s,o,c){const f=o.data.field(s),d=c.data.field(s);return f!==null&&d!==null?zc(f,d):pt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return HN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=new Nn(ct.comparator);function xa(){return EZ}const sR=new Nn(ct.comparator);function df(...t){let e=sR;for(const n of t)e=e.insert(n.key,n);return e}function aR(t){let e=sR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function rl(){return Nf()}function oR(){return Nf()}function Nf(){return new Il((t=>t.toString()),((t,e)=>t.isEqual(e)))}const TZ=new Nn(ct.comparator),wZ=new ar(ct.comparator);function Pt(...t){let e=wZ;for(const n of t)e=e.add(n);return e}const SZ=new ar(Mt);function AZ(){return SZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y0(e)?"-0":e}}function lR(t){return{integerValue:""+t}}function CZ(t,e){return WW(e)?lR(e):Ax(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(){this._=void 0}}function bZ(t,e,n){return t instanceof Q0?(function(i,s){const o={fields:{[$N]:{stringValue:qN},[KN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_x(s)&&(s=Ap(s)),s&&(o.fields[jN]=s),{mapValue:o}})(n,e):t instanceof nd?uR(t,e):t instanceof rd?fR(t,e):(function(i,s){const o=cR(i,s),c=gA(o)+gA(i.Ae);return t1(o)&&t1(i.Ae)?lR(c):Ax(i.serializer,c)})(t,e)}function IZ(t,e,n){return t instanceof nd?uR(t,e):t instanceof rd?fR(t,e):n}function cR(t,e){return t instanceof ep?(function(r){return t1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Q0 extends Np{}class nd extends Np{constructor(e){super(),this.elements=e}}function uR(t,e){const n=dR(e);for(const r of t.elements)n.some((i=>Us(i,r)))||n.push(r);return{arrayValue:{values:n}}}class rd extends Np{constructor(e){super(),this.elements=e}}function fR(t,e){let n=dR(e);for(const r of t.elements)n=n.filter((i=>!Us(i,r)));return{arrayValue:{values:n}}}class ep extends Np{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gA(t){return Vn(t.integerValue||t.doubleValue)}function dR(t){return Ex(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NZ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof nd&&i instanceof nd||r instanceof rd&&i instanceof rd?Bc(r.elements,i.elements,Us):r instanceof ep&&i instanceof ep?Us(r.Ae,i.Ae):r instanceof Q0&&i instanceof Q0})(t.transform,e.transform)}class RZ{constructor(e,n){this.version=e,this.transformResults=n}}class fa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fa}static exists(e){return new fa(void 0,e)}static updateTime(e){return new fa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function g0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rp{}function hR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mR(t.key,fa.none()):new pd(t.key,t.data,fa.none());{const n=t.data,r=Hi.empty();let i=new ar(br.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Nl(t.key,r,new ds(i.toArray()),fa.none())}}function kZ(t,e,n){t instanceof pd?(function(i,s,o){const c=i.value.clone(),f=xA(i.fieldTransforms,s,o.transformResults);c.setAll(f),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Nl?(function(i,s,o){if(!g0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=xA(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(pR(i)),f.setAll(c),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Rf(t,e,n,r){return t instanceof pd?(function(s,o,c,f){if(!g0(s.precondition,o))return c;const d=s.value.clone(),h=yA(s.fieldTransforms,f,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Nl?(function(s,o,c,f){if(!g0(s.precondition,o))return c;const d=yA(s.fieldTransforms,f,o),h=o.data;return h.setAll(pR(s)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,o,c){return g0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function DZ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=cR(r.transform,i||null);s!=null&&(n===null&&(n=Hi.empty()),n.set(r.field,s))}return n||null}function vA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bc(r,i,((s,o)=>NZ(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pd extends Rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nl extends Rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function xA(t,e,n){const r=new Map;en(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,IZ(o,c,n[i]))}return r}function yA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bZ(s,o,e))}return r}class mR extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MZ extends Rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kZ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oR();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;const f=hR(o,c);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(yt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pt())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,((n,r)=>vA(n,r)))&&Bc(this.baseMutations,e.baseMutations,((n,r)=>vA(n,r)))}}class Cx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){en(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return TZ})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,Vt;function LZ(t){switch(t){case Ve.OK:return pt(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return pt(15467,{code:t})}}function gR(t){if(t===void 0)return va("GRPC error has no .code"),Ve.UNKNOWN;switch(t){case Wn.OK:return Ve.OK;case Wn.CANCELLED:return Ve.CANCELLED;case Wn.UNKNOWN:return Ve.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return Ve.INTERNAL;case Wn.UNAVAILABLE:return Ve.UNAVAILABLE;case Wn.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Wn.NOT_FOUND:return Ve.NOT_FOUND;case Wn.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Wn.ABORTED:return Ve.ABORTED;case Wn.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Wn.DATA_LOSS:return Ve.DATA_LOSS;default:return pt(39323,{code:t})}}(Vt=Wn||(Wn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VZ=new po([4294967295,4294967295],0);function _A(t){const e=UZ().encode(t),n=new DN;return n.update(e),new Uint8Array(n.digest())}function EA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new po([n,r],0),new po([i,s],0)]}class bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hf(`Invalid padding: ${n}`);if(r<0)throw new hf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=po.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(VZ)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_A(e),[r,i]=EA(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bx(s,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=_A(e),[r,i]=EA(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kp(yt.min(),i,new Nn(Mt),xa(),Pt())}}class md{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new md(r,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class vR{constructor(e,n){this.targetId=e,this.Ce=n}}class xR{constructor(e,n,r=kr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TA{constructor(){this.ve=0,this.Fe=wA(),this.Me=kr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pt(),n=Pt(),r=Pt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pt(38017,{changeType:s})}})),new md(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=wA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,en(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class BZ{constructor(e){this.Ge=e,this.ze=new Map,this.je=xa(),this.He=i0(),this.Je=i0(),this.Ze=new Nn(Mt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(r1(s))if(r===0){const o=new ct(s.path);this.et(n,o,Vr.newNoDocument(o,yt.min()))}else en(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),f=c?this.ct(c,e,o):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,c;try{o=_o(r).toUint8Array()}catch(f){if(f instanceof GN)return gl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new bx(o,i,s)}catch(f){return gl(f instanceof hf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&r1(c.target)){const f=new ct(c.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Vr.newNoDocument(f,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}}));let r=Pt();this.Je.forEach(((s,o)=>{let c=!0;o.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new kp(e,n,this.Ze,this.je,r);return this.je=xa(),this.He=i0(),this.Je=i0(),this.Ze=new Nn(Mt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new TA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ar(Mt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ar(Mt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||We("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function i0(){return new Nn(ct.comparator)}function wA(){return new Nn(ct.comparator)}const zZ={asc:"ASCENDING",desc:"DESCENDING"},HZ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GZ={and:"AND",or:"OR"};class qZ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s1(t,e){return t.useProto3Json||Sp(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $Z(t,e){return tp(t,e.toTimestamp())}function Fs(t){return en(!!t,49232),yt.fromTimestamp((function(n){const r=yo(n);return new En(r.seconds,r.nanos)})(t))}function Ix(t,e){return a1(t,e).canonicalString()}function a1(t,e){const n=(function(i){return new In(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function _R(t){const e=In.fromString(t);return en(AR(e),10190,{key:e.toString()}),e}function o1(t,e){return Ix(t.databaseId,e.path)}function iv(t,e){const n=_R(e);if(n.get(1)!==t.databaseId.projectId)throw new it(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new it(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ct(TR(n))}function ER(t,e){return Ix(t.databaseId,e)}function jZ(t){const e=_R(t);return e.length===4?In.emptyPath():TR(e)}function l1(t){return new In(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TR(t){return en(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function SA(t,e,n){return{name:o1(t,e),fields:n.value.mapValue.fields}}function KZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:pt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,h){return d.useProto3Json?(en(h===void 0||typeof h=="string",58123),kr.fromBase64String(h||"")):(en(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),kr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(d){const h=d.code===void 0?Ve.UNKNOWN:gR(d.code);return new it(h,d.message||"")})(o);n=new xR(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=iv(t,r.document.name),s=Fs(r.document.updateTime),o=r.document.createTime?Fs(r.document.createTime):yt.min(),c=new Hi({mapValue:{fields:r.document.fields}}),f=Vr.newFoundDocument(i,s,o,c),d=r.targetIds||[],h=r.removedTargetIds||[];n=new v0(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=iv(t,r.document),s=r.readTime?Fs(r.readTime):yt.min(),o=Vr.newNoDocument(i,s),c=r.removedTargetIds||[];n=new v0([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=iv(t,r.document),s=r.removedTargetIds||[];n=new v0([],s,i,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new OZ(i,s),c=r.targetId;n=new vR(c,o)}}return n}function YZ(t,e){let n;if(e instanceof pd)n={update:SA(t,e.key,e.value)};else if(e instanceof mR)n={delete:o1(t,e.key)};else if(e instanceof Nl)n={update:SA(t,e.key,e.data),updateMask:rX(e.fieldMask)};else{if(!(e instanceof MZ))return pt(16599,{dt:e.type});n={verify:o1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const c=o.transform;if(c instanceof Q0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ep)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw pt(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:$Z(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:pt(27497)})(t,e.precondition)),n}function JZ(t,e){return t&&t.length>0?(en(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Fs(i.updateTime):Fs(s);return o.isEqual(yt.min())&&(o=Fs(s)),new RZ(o,i.transformResults||[])})(n,e)))):[]}function WZ(t,e){return{documents:[ER(t,e.path)]}}function ZZ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ER(t,i);const s=(function(d){if(d.length!==0)return SR(Vs.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((h=>(function(x){return{field:yc(x.field),direction:eX(x.dir)}})(h)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=s1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function XZ(t){let e=jZ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){en(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=(function(g){const x=wR(g);return x instanceof Vs&&QN(x)?x.getFilters():[x]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((x=>(function(S){return new X0(_c(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let x;return x=typeof g=="object"?g.value:g,Sp(x)?null:x})(n.limit));let f=null;n.startAt&&(f=(function(g){const x=!!g.before,E=g.values||[];return new Z0(E,x)})(n.startAt));let d=null;return n.endAt&&(d=(function(g){const x=!g.before,E=g.values||[];return new Z0(E,x)})(n.endAt)),mZ(e,i,o,s,c,"F",f,d)}function QZ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_c(n.unaryFilter.field);return rr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_c(n.unaryFilter.field);return rr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_c(n.unaryFilter.field);return rr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_c(n.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rr.create(_c(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Vs.create(n.compositeFilter.filters.map((r=>wR(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(n.compositeFilter.op))})(t):pt(30097,{filter:t})}function eX(t){return zZ[t]}function tX(t){return HZ[t]}function nX(t){return GZ[t]}function yc(t){return{fieldPath:t.canonicalString()}}function _c(t){return br.fromServerFormat(t.fieldPath)}function SR(t){return t instanceof rr?(function(n){if(n.op==="=="){if(fA(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NAN"}};if(uA(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fA(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NAN"}};if(uA(n.value))return{unaryFilter:{field:yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(n.field),op:tX(n.op),value:n.value}}})(t):t instanceof Vs?(function(n){const r=n.getFilters().map((i=>SR(i)));return r.length===1?r[0]:{compositeFilter:{op:nX(n.op),filters:r}}})(t):pt(54877,{filter:t})}function rX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function AR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function CR(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,s=yt.min(),o=yt.min(),c=kr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e){this.yt=e}}function sX(t){const e=XZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?i1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(){this.Sn=new oX}addToCollectionParentIndex(e,n){return this.Sn.add(n),Fe.resolve()}getCollectionParents(e,n){return Fe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Fe.resolve()}deleteFieldIndex(e,n){return Fe.resolve()}deleteAllFieldIndexes(e){return Fe.resolve()}createTargetIndexes(e,n){return Fe.resolve()}getDocumentsMatchingTarget(e,n){return Fe.resolve(null)}getIndexType(e,n){return Fe.resolve(0)}getFieldIndexes(e,n){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,n){return Fe.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return Fe.resolve(xo.min())}updateCollectionGroup(e,n,r){return Fe.resolve()}updateIndexEntries(e,n){return Fe.resolve()}}class oX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ar(In.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ar(In.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bR=41943040;class di{static withCacheSize(e){return new di(e,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */di.DEFAULT_COLLECTION_PERCENTILE=10,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,di.DEFAULT=new di(bR,di.DEFAULT_COLLECTION_PERCENTILE,di.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),di.DISABLED=new di(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Gc(0)}static ar(){return new Gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="LruGarbageCollector",lX=1048576;function bA([t,e],[n,r]){const i=Mt(t,n);return i===0?Mt(e,r):i}class cX{constructor(e){this.Pr=e,this.buffer=new ar(bA),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){We(CA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tu(n)?We(CA,"Ignoring IndexedDB error during garbage collection: ",n):await eu(n)}await this.Ar(3e5)}))}}class fX{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Fe.resolve(wp.ce);const r=new cX(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(AA)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AA):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,c,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),vc()<=Bt.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${g} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function dX(t,e){return new fX(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(){this.changes=new Il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Rf(r.mutation,i,ds.empty(),En.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Pt()){const i=rl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=df();return s.forEach(((c,f)=>{o=o.insert(c,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=rl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Pt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let s=xa();const o=Nf(),c=(function(){return Nf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Nl)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Rf(h.mutation,d,h.mutation.getFieldMask(),En.now())):o.set(d.key,ds.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,h)=>o.set(d,h))),n.forEach(((d,h)=>c.set(d,new pX(h,o.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Nf();let i=new Nn(((o,c)=>o-c)),s=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||ds.empty();h=c.applyToLocalView(d,h),r.set(f,h);const g=(i.get(c.batchId)||Pt()).add(f);i=i.insert(c.batchId,g)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,h=f.value,g=oR();h.forEach((x=>{if(!s.has(x)){const E=hR(n.get(x),r.get(x));E!==null&&g.set(x,E),s=s.add(x)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return Fe.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return gZ(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vZ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Fe.resolve(rl());let c=Xf,f=s;return o.next((d=>Fe.forEach(d,((h,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(h)?Fe.resolve():this.remoteDocumentCache.getEntry(e,h).next((x=>{f=f.insert(h,x)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Pt()))).next((h=>({batchId:c,changes:aR(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ct(n)).next((r=>{let i=df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=df();return this.indexManager.getCollectionParents(e,s).next((c=>Fe.forEach(c,(f=>{const d=(function(g,x){return new Cp(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((g,x)=>{o=o.insert(g,x)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((f,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Vr.newInvalidDocument(h)))}));let c=df();return o.forEach(((f,d)=>{const h=s.get(f);h!==void 0&&Rf(h.mutation,d,ds.empty(),En.now()),Ip(n,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Fe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fs(i.createTime)}})(n)),Fe.resolve()}getNamedQuery(e,n){return Fe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:sX(i.bundledQuery),readTime:Fs(i.readTime)}})(n)),Fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(){this.overlays=new Nn(ct.comparator),this.Lr=new Map}getOverlay(e,n){return Fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rl();return Fe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),Fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),Fe.resolve()}getOverlaysForCollection(e,n,r){const i=rl(),s=n.length+1,o=new ct(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Nn(((d,h)=>d-h));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=rl(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const c=rl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>c.set(d,h))),!(c.size()>=i)););return Fe.resolve(c)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FZ(n,r));let s=this.Lr.get(n);s===void 0&&(s=Pt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(){this.sessionToken=kr.EMPTY_BYTE_STRING}getSessionToken(e){return Fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.kr=new ar(ur.Kr),this.qr=new ar(ur.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ur(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ur(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ct(new In([])),r=new ur(n,e),i=new ur(n,e+1),s=[];return this.qr.forEachInRange([r,i],(o=>{this.Wr(o),s.push(o.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ct(new In([])),r=new ur(n,e),i=new ur(n,e+1);let s=Pt();return this.qr.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new ur(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ur{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ct.comparator(e.key,n.key)||Mt(e.Hr,n.Hr)}static Ur(e,n){return Mt(e.Hr,n.Hr)||ct.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ar(ur.Kr)}checkEmpty(e){return Fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PZ(s,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Jr=this.Jr.add(new ur(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Fe.resolve(o)}lookupMutationBatch(e,n){return Fe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(this.mutationQueue.length===0?yx:this.Yn-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ur(n,0),i=new ur(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(o=>{const c=this.Zr(o.Hr);s.push(c)})),Fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ar(Mt);return n.forEach((i=>{const s=new ur(i,0),o=new ur(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],(c=>{r=r.add(c.Hr)}))})),Fe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ct.isDocumentKey(s)||(s=s.child(""));const o=new ur(new ct(s),0);let c=new ar(Mt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Hr)),!0)}),o),Fe.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){en(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Fe.forEach(n.mutations,(i=>{const s=new ur(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ur(n,0),i=this.Jr.firstAfterOrEqual(r);return Fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Fe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(e){this.ti=e,this.docs=(function(){return new Nn(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Fe.resolve(r?r.document.mutableCopy():Vr.newInvalidDocument(n))}getEntries(e,n){let r=xa();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vr.newInvalidDocument(i))})),Fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xa();const o=n.path,c=new ct(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||jW($W(h),r)<=0||(i.has(h.key)||Ip(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Fe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){pt(9500)}ni(e,n){return Fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new EX(this)}getSize(e){return Fe.resolve(this.size)}}class EX extends hX{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Fe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e){this.persistence=e,this.ri=new Il((n=>Tx(n)),wx),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Nx,this.targetCount=0,this.oi=Gc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Fe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Gc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Fe.resolve()}updateTargetData(e,n){return this.lr(n),Fe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Fe.waitFor(s).next((()=>i))}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Fe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Fe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Fe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Fe.resolve(r)}containsKey(e,n){return Fe.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n){this._i={},this.overlays={},this.ai=new wp(0),this.ui=!1,this.ui=!0,this.ci=new xX,this.referenceDelegate=e(this),this.li=new TX(this),this.indexManager=new aX,this.remoteDocumentCache=(function(i){return new _X(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new iX(n),this.Pi=new gX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new yX(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){We("MemoryPersistence","Starting transaction:",e);const i=new wX(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return Fe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class wX extends YW{constructor(e){super(),this.currentSequenceNumber=e}}class Rx{constructor(e){this.persistence=e,this.Ri=new Nx,this.Ai=null}static Vi(e){return new Rx(e)}get di(){if(this.Ai)return this.Ai;throw pt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Fe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Fe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.di,(r=>{const i=ct.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,yt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Fe.or([()=>Fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class np{constructor(e,n){this.persistence=e,this.fi=new Il((r=>ZW(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=dX(this,n)}static Vi(e,n){return new np(e,n)}Ti(){}Ii(e){return Fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Fe.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?Fe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(o=>this.wr(e,o,n).next((c=>{c||(r++,s.removeEntry(o,yt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Fe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Fe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Fe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Fe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=p0(e.data.value)),n}wr(e,n,r){return Fe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Fe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Pt(),i=Pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AX{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return fJ()?8:JW(cJ())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new SX;return this.ys(e,n,o).next((c=>{if(s.result=c,this.As)return this.ws(e,n,o,c.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(vc()<=Bt.DEBUG&&We("QueryEngine","SDK will not create cache indexes for query:",xc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Fe.resolve()):(vc()<=Bt.DEBUG&&We("QueryEngine","Query:",xc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(vc()<=Bt.DEBUG&&We("QueryEngine","The SDK decides to create cache indexes for query:",xc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(n))):Fe.resolve())}gs(e,n){if(mA(n))return Fe.resolve(null);let r=Ps(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=i1(n,null,"F"),r=Ps(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Pt(...s);return this.fs.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,c);return this.Ss(n,d,o,f.readTime)?this.gs(e,i1(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,i){return mA(n)||i.isEqual(yt.min())?Fe.resolve(null):this.fs.getDocuments(e,r).next((s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?Fe.resolve(null):(vc()<=Bt.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xc(n)),this.Ds(e,o,n,qW(i,Xf)).next((c=>c)))}))}bs(e,n){let r=new ar(iR(e));return n.forEach(((i,s)=>{Ip(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return vc()<=Bt.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",xc(n)),this.fs.getDocumentsMatchingQuery(e,n,xo.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LocalStore",CX=3e8;class bX{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Nn(Mt),this.Fs=new Il((s=>Tx(s)),wx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mX(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function IX(t,e,n,r){return new bX(t,e,n,r)}async function NR(t,e){const n=Tt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],c=[];let f=Pt();for(const d of i){o.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of s){c.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:o,addedBatchIds:c})))}))}))}function NX(t,e){const n=Tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,h){const g=d.batch,x=g.keys();let E=Fe.resolve();return x.forEach((S=>{E=E.next((()=>h.getEntry(f,S))).next((A=>{const C=d.docVersions.get(S);en(C!==null,48541),A.version.compareTo(C)<0&&(g.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),h.addEntry(A)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Pt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function RR(t){const e=Tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function RX(t,e){const n=Tt(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const c=[];e.targetChanges.forEach(((h,g)=>{const x=i.get(g);if(!x)return;c.push(n.li.removeMatchingKeys(s,h.removedDocuments,g).next((()=>n.li.addMatchingKeys(s,h.addedDocuments,g))));let E=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(kr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(g,E),(function(A,C,O){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=CX?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(x,E,h)&&c.push(n.li.updateTargetData(s,E))}));let f=xa(),d=Pt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))})),c.push(kX(s,o,e.documentUpdates).next((h=>{f=h.Bs,d=h.Ls}))),!r.isEqual(yt.min())){const h=n.li.getLastRemoteSnapshotVersion(s).next((g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(h)}return Fe.waitFor(c).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(n.vs=i,s)))}function kX(t,e,n){let r=Pt(),i=Pt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=xa();return n.forEach(((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(yt.min())?(e.removeEntry(c,f.readTime),o=o.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),o=o.insert(c,f)):We(Dx,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:o,Ls:i}}))}function DX(t,e){const n=Tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MX(t,e){const n=Tt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,Fe.resolve(i)):n.li.allocateTargetId(r).next((o=>(i=new co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function c1(t,e,n){const r=Tt(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!tu(o))throw o;We(Dx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function IA(t,e,n){const r=Tt(t);let i=yt.min(),s=Pt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,d,h){const g=Tt(f),x=g.Fs.get(h);return x!==void 0?Fe.resolve(g.vs.get(x)):g.li.getTargetData(d,h)})(r,o,Ps(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,c.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:yt.min(),n?s:Pt()))).next((c=>(PX(r,yZ(e),c),{documents:c,ks:s})))))}function PX(t,e,n){let r=t.Ms.get(e)||yt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class NA{constructor(){this.activeTargetIds=AZ()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FX{constructor(){this.vo=new NA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new NA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="ConnectivityMonitor";class kA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){We(RA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){We(RA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s0=null;function u1(){return s0===null?s0=(function(){return 268435456+Math.round(2147483648*Math.random())})():s0++,"0x"+s0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="RestConnection",LX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UX{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===J0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=u1(),c=this.Qo(e,n.toUriEncodedString());We(sv,`Sending RPC '${e}' ${o}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:d}=new URL(c),h=px(d);return this.zo(e,c,f,r,h).then((g=>(We(sv,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw gl(sv,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=LX[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection",ef=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Fc extends UX{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Fc.c_){const e=ON();ef(e,FN.STAT_EVENT,(n=>{n.stat===Xv.PROXY?We(Or,"STAT_EVENT: detected buffering proxy"):n.stat===Xv.NOPROXY&&We(Or,"STAT_EVENT: detected no buffering proxy")})),Fc.c_=!0}}zo(e,n,r,i,s){const o=u1();return new Promise(((c,f)=>{const d=new MN;d.setWithCredentials(!0),d.listenOnce(PN.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case h0.NO_ERROR:const g=d.getResponseJson();We(Or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case h0.TIMEOUT:We(Or,`RPC '${e}' ${o} timed out`),f(new it(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case h0.HTTP_ERROR:const x=d.getStatus();if(We(Or,`RPC '${e}' ${o} failed with status:`,x,"response text:",d.getResponseText()),x>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=(function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(V)>=0?V:Ve.UNKNOWN})(S.status);f(new it(A,S.message))}else f(new it(Ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new it(Ve.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{We(Or,`RPC '${e}' ${o} completed.`)}}));const h=JSON.stringify(i);We(Or,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=u1(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");We(Or,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let g=!1,x=!1;const E=new VX({Ho:S=>{x?We(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(We(Or,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),We(Or,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return ef(h,ff.EventType.OPEN,(()=>{x||(We(Or,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),ef(h,ff.EventType.CLOSE,(()=>{x||(x=!0,We(Or,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(h))})),ef(h,ff.EventType.ERROR,(S=>{x||(x=!0,gl(Or,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.o_(new it(Ve.UNAVAILABLE,"The operation could not be completed")))})),ef(h,ff.EventType.MESSAGE,(S=>{var A;if(!x){const C=S.data[0];en(!!C,16349);const O=C,V=(O==null?void 0:O.error)||((A=O[0])==null?void 0:A.error);if(V){We(Or,`RPC '${e}' stream ${i} received error:`,V);const D=V.status;let H=(function(N){const I=Wn[N];if(I!==void 0)return gR(I)})(D),B=V.message;D==="NOT_FOUND"&&B.includes("database")&&B.includes("does not exist")&&B.includes(this.databaseId.database)&&gl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),H===void 0&&(H=Ve.INTERNAL,B="Unknown error status: "+D+" with message "+V.message),x=!0,E.o_(new it(H,B)),h.close()}else We(Or,`RPC '${e}' stream ${i} received:`,C),E.__(C)}})),Fc.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return LN()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(t){return new Fc(t)}function av(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t){return new qZ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fc.c_=!1;class kR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="PersistentStream";class DR{constructor(e,n,r,i,s,o,c,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ve.RESOURCE_EXHAUSTED?(va(n.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new it(Ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return We(DA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(We(DA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zX extends DR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KZ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return yt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?yt.min():o.readTime?Fs(o.readTime):yt.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=l1(this.serializer),n.addTarget=(function(s,o){let c;const f=o.target;if(c=r1(f)?{documents:WZ(s,f)}:{query:ZZ(s,f).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=yR(s,o.resumeToken);const d=s1(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(yt.min())>0){c.readTime=tp(s,o.snapshotVersion.toTimestamp());const d=s1(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=QZ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=l1(this.serializer),n.removeTarget=e,this.K_(n)}}class HX extends DR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return en(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,en(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){en(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JZ(e.writeResults,e.commitTime),r=Fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=l1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>YZ(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{}class qX extends GX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new it(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Wo(e,a1(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Ve.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.jo(e,a1(n,r),i,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new it(Ve.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $X(t,e,n,r){return new qX(t,e,n,r)}class jX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(va(n),this.aa=!1):We("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="RemoteStore";class KX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((o=>{r.enqueueAndForget((async()=>{Rl(this)&&(We(vl,"Restarting streams for network reachability change."),await(async function(f){const d=Tt(f);d.Ea.add(4),await gd(d),d.Va.set("Unknown"),d.Ea.delete(4),await Mp(d)})(this))}))})),this.Va=new jX(r,i)}}async function Mp(t){if(Rl(t))for(const e of t.Ra)await e(!0)}async function gd(t){for(const e of t.Ra)await e(!1)}function MR(t,e){const n=Tt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ox(n)?Fx(n):nu(n).O_()&&Px(n,e))}function Mx(t,e){const n=Tt(t),r=nu(n);n.Ia.delete(e),r.O_()&&PR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rl(n)&&n.Va.set("Unknown"))}function Px(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nu(t).Z_(e)}function PR(t,e){t.da.$e(e),nu(t).X_(e)}function Fx(t){t.da=new BZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),nu(t).start(),t.Va.ua()}function Ox(t){return Rl(t)&&!nu(t).x_()&&t.Ia.size>0}function Rl(t){return Tt(t).Ea.size===0}function FR(t){t.da=void 0}async function YX(t){t.Va.set("Online")}async function JX(t){t.Ia.forEach(((e,n)=>{Px(t,e)}))}async function WX(t,e){FR(t),Ox(t)?(t.Va.ha(e),Fx(t)):t.Va.set("Unknown")}async function ZX(t,e,n){if(t.Va.set("Online"),e instanceof xR&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.da.removeTarget(c))})(t,e)}catch(r){We(vl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rp(t,r)}else if(e instanceof v0?t.da.Xe(e):e instanceof vR?t.da.st(e):t.da.tt(e),!n.isEqual(yt.min()))try{const r=await RR(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const c=s.da.Tt(o);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=s.Ia.get(d);h&&s.Ia.set(d,h.withResumeToken(f.resumeToken,o))}})),c.targetMismatches.forEach(((f,d)=>{const h=s.Ia.get(f);if(!h)return;s.Ia.set(f,h.withResumeToken(kr.EMPTY_BYTE_STRING,h.snapshotVersion)),PR(s,f);const g=new co(h.target,f,d,h.sequenceNumber);Px(s,g)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){We(vl,"Failed to raise snapshot:",r),await rp(t,r)}}async function rp(t,e,n){if(!tu(e))throw e;t.Ea.add(1),await gd(t),t.Va.set("Offline"),n||(n=()=>RR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{We(vl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mp(t)}))}function OR(t,e){return e().catch((n=>rp(t,n,e)))}async function Pp(t){const e=Tt(t),n=To(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yx;for(;XX(e);)try{const i=await DX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,QX(e,i)}catch(i){await rp(e,i)}LR(e)&&UR(e)}function XX(t){return Rl(t)&&t.Ta.length<10}function QX(t,e){t.Ta.push(e);const n=To(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function LR(t){return Rl(t)&&!To(t).x_()&&t.Ta.length>0}function UR(t){To(t).start()}async function eQ(t){To(t).ra()}async function tQ(t){const e=To(t);for(const n of t.Ta)e.ea(n.mutations)}async function nQ(t,e,n){const r=t.Ta.shift(),i=Cx.from(r,e,n);await OR(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Pp(t)}async function rQ(t,e){e&&To(t).Y_&&await(async function(r,i){if((function(o){return LZ(o)&&o!==Ve.ABORTED})(i.code)){const s=r.Ta.shift();To(r).B_(),await OR(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Pp(r)}})(t,e),LR(t)&&UR(t)}async function MA(t,e){const n=Tt(t);n.asyncQueue.verifyOperationInProgress(),We(vl,"RemoteStore received new credentials");const r=Rl(n);n.Ea.add(3),await gd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mp(n)}async function iQ(t,e){const n=Tt(t);e?(n.Ea.delete(2),await Mp(n)):e||(n.Ea.add(2),await gd(n),n.Va.set("Unknown"))}function nu(t){return t.ma||(t.ma=(function(n,r,i){const s=Tt(n);return s.sa(),new zX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:YX.bind(null,t),Yo:JX.bind(null,t),t_:WX.bind(null,t),J_:ZX.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Ox(t)?Fx(t):t.Va.set("Unknown")):(await t.ma.stop(),FR(t))}))),t.ma}function To(t){return t.fa||(t.fa=(function(n,r,i){const s=Tt(n);return s.sa(),new HX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eQ.bind(null,t),t_:rQ.bind(null,t),ta:tQ.bind(null,t),na:nQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Pp(t)):(await t.fa.stop(),t.Ta.length>0&&(We(vl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,c=new Lx(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ux(t,e){if(va("AsyncQueue",`${e}: ${t}`),tu(t))return new it(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static emptySet(e){return new Oc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ct.comparator(n.key,r.key):(n,r)=>ct.comparator(n.key,r.key),this.keyedMap=df(),this.sortedSet=new Nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.ga=new Nn(ct.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class qc{constructor(e,n,r,i,s,o,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new qc(e,n,Oc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class aQ{constructor(){this.queries=FA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Tt(n),s=i.queries;i.queries=FA(),s.forEach(((o,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new it(Ve.ABORTED,"Firestore shutting down"))}}function FA(){return new Il((t=>rR(t)),bp)}async function oQ(t,e){const n=Tt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new sQ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=Ux(o,`Initialization of query '${xc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Vx(n)}async function lQ(t,e){const n=Tt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cQ(t,e){const n=Tt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const c of o.ba)c.Fa(i)&&(r=!0);o.wa=i}}r&&Vx(n)}function uQ(t,e,n){const r=Tt(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Vx(t){t.Ca.forEach((e=>{e.next()}))}var f1,OA;(OA=f1||(f1={})).Ma="default",OA.Cache="cache";class fQ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==f1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.key=e}}class BR{constructor(e){this.key=e}}class dQ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=iR(e),this.tu=new Oc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new PA,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,g)=>{const x=i.get(h),E=Ip(this.query,g)?g:null,S=!!x&&this.mutatedKeys.has(x.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;x&&E?x.data.isEqual(E.data)?S!==A&&(r.track({type:3,doc:E}),C=!0):this.su(x,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(c=!0)):!x&&E?(r.track({type:0,doc:E}),C=!0):x&&!E&&(r.track({type:1,doc:x}),C=!0,(f||d)&&(c=!0)),C&&(E?(o=o.add(E),s=A?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((h,g)=>(function(E,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:C})}};return A(E)-A(S)})(h.type,g.type)||this.eu(h.doc,g.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,d=f!==this.Xa;return this.Xa=f,o.length!==0||d?{snapshot:new qc(this.query,e.tu,s,o,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new BR(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new VR(r))})),n}cu(e){this.Za=e.ks,this.Ya=Pt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Bx="SyncEngine";class hQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pQ{constructor(e){this.key=e,this.hu=!1}}class mQ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Il((c=>rR(c)),bp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nn(ct.comparator),this.Au=new Map,this.Vu=new Nx,this.du={},this.mu=new Map,this.fu=Gc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gQ(t,e,n=!0){const r=jR(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await zR(r,e,n,!0),i}async function vQ(t,e){const n=jR(t);await zR(n,e,!0,!1)}async function zR(t,e,n,r){const i=await MX(t.localStore,Ps(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await xQ(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&MR(t.remoteStore,i),c}async function xQ(t,e,n,r,i){t.pu=(g,x,E)=>(async function(A,C,O,V){let D=C.view.ru(O);D.Ss&&(D=await IA(A.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,D))));const H=V&&V.targetChanges.get(C.targetId),B=V&&V.targetMismatches.get(C.targetId)!=null,j=C.view.applyChanges(D,A.isPrimaryClient,H,B);return UA(A,C.targetId,j.au),j.snapshot})(t,g,x,E);const s=await IA(t.localStore,e,!0),o=new dQ(e,s.ks),c=o.ru(s.documents),f=md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(c,t.isPrimaryClient,f);UA(t,n,d.au);const h=new hQ(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function yQ(t,e,n){const r=Tt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!bp(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await c1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mx(r.remoteStore,i.targetId),d1(r,i.targetId)})).catch(eu)):(d1(r,i.targetId),await c1(r.localStore,i.targetId,!0))}async function _Q(t,e){const n=Tt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mx(n.remoteStore,r.targetId))}async function EQ(t,e,n){const r=IQ(t);try{const i=await(function(o,c){const f=Tt(o),d=En.now(),h=c.reduce(((E,S)=>E.add(S.key)),Pt());let g,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=xa(),A=Pt();return f.xs.getEntries(E,h).next((C=>{S=C,S.forEach(((O,V)=>{V.isValidDocument()||(A=A.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,S))).next((C=>{g=C;const O=[];for(const V of c){const D=DZ(V,g.get(V.key).overlayedDocument);D!=null&&O.push(new Nl(V.key,D,WN(D.value.mapValue),fa.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,O,c)})).next((C=>{x=C;const O=C.applyToLocalDocumentSet(g,A);return f.documentOverlayCache.saveOverlays(E,C.batchId,O)}))})).then((()=>({batchId:x.batchId,changes:aR(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,f){let d=o.du[o.currentUser.toKey()];d||(d=new Nn(Mt)),d=d.insert(c,f),o.du[o.currentUser.toKey()]=d})(r,i.batchId,n),await vd(r,i.changes),await Pp(r.remoteStore)}catch(i){const s=Ux(i,"Failed to persist write");n.reject(s)}}async function HR(t,e){const n=Tt(t);try{const r=await RX(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(en(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?en(o.hu,14607):i.removedDocuments.size>0&&(en(o.hu,42227),o.hu=!1))})),await vd(n,r,e)}catch(r){await eu(r)}}function LA(t,e,n){const r=Tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const f=Tt(o);f.onlineState=c;let d=!1;f.queries.forEach(((h,g)=>{for(const x of g.ba)x.va(c)&&(d=!0)})),d&&Vx(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TQ(t,e,n){const r=Tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Nn(ct.comparator);o=o.insert(s,Vr.newNoDocument(s,yt.min()));const c=Pt().add(s),f=new kp(yt.min(),new Map,new Nn(Mt),o,c);await HR(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),zx(r)}else await c1(r.localStore,e,!1).then((()=>d1(r,e,n))).catch(eu)}async function wQ(t,e){const n=Tt(t),r=e.batch.batchId;try{const i=await NX(n.localStore,e);qR(n,r,null),GR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vd(n,i)}catch(i){await eu(i)}}async function SQ(t,e,n){const r=Tt(t);try{const i=await(function(o,c){const f=Tt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,c).next((g=>(en(g!==null,37113),h=g.keys(),f.mutationQueue.removeMutationBatch(d,g)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);qR(r,e,n),GR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vd(r,i)}catch(i){await eu(i)}}function GR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qR(t,e,n){const r=Tt(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function d1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||$R(t,r)}))}function $R(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Mx(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),zx(t))}function UA(t,e,n){for(const r of n)r instanceof VR?(t.Vu.addReference(r.key,e),AQ(t,r)):r instanceof BR?(We(Bx,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||$R(t,r.key)):pt(19791,{wu:r})}function AQ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(We(Bx,"New document in limbo: "+n),t.Eu.add(r),zx(t))}function zx(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ct(In.fromString(e)),r=t.fu.next();t.Au.set(r,new pQ(n)),t.Ru=t.Ru.insert(n,r),MR(t.remoteStore,new co(Ps(Sx(n.path)),r,"TargetPurposeLimboResolution",wp.ce))}}async function vd(t,e,n){const r=Tt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{o.push(r.pu(f,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(d){i.push(d);const g=kx.Es(f.targetId,d);s.push(g)}})))})),await Promise.all(o),r.Pu.J_(i),await(async function(f,d){const h=Tt(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Fe.forEach(d,(x=>Fe.forEach(x.Ts,(E=>h.persistence.referenceDelegate.addReference(g,x.targetId,E))).next((()=>Fe.forEach(x.Is,(E=>h.persistence.referenceDelegate.removeReference(g,x.targetId,E)))))))))}catch(g){if(!tu(g))throw g;We(Dx,"Failed to update sequence numbers: "+g)}for(const g of d){const x=g.targetId;if(!g.fromCache){const E=h.vs.get(x),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(x,A)}}})(r.localStore,s))}async function CQ(t,e){const n=Tt(t);if(!n.currentUser.isEqual(e)){We(Bx,"User change. New user:",e.toKey());const r=await NR(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new it(Ve.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vd(n,r.Ns)}}function bQ(t,e){const n=Tt(t),r=n.Au.get(e);if(r&&r.hu)return Pt().add(r.key);{let i=Pt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function jR(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TQ.bind(null,e),e.Pu.J_=cQ.bind(null,e.eventManager),e.Pu.yu=uQ.bind(null,e.eventManager),e}function IQ(t){const e=Tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SQ.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IX(this.persistence,new AX,e.initialUser,this.serializer)}Cu(e){return new IR(Rx.Vi,this.serializer)}Du(e){return new FX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class NQ extends ip{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){en(this.persistence.referenceDelegate instanceof np,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?di.withCacheSize(this.cacheSizeBytes):di.DEFAULT;return new IR((r=>np.Vi(r,n)),this.serializer)}}class h1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>LA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CQ.bind(null,this.syncEngine),await iQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new aQ})()}createDatastore(e){const n=Dp(e.databaseInfo.databaseId),r=BX(e.databaseInfo);return $X(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,c){return new KX(r,i,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>LA(this.syncEngine,n,0)),(function(){return kA.v()?new kA:new OX})())}createSyncEngine(e,n){return(function(i,s,o,c,f,d,h){const g=new mQ(i,s,o,c,f,d);return h&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Tt(i);We(vl,"RemoteStore shutting down."),s.Ea.add(5),await gd(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}h1.provider={build:()=>new h1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):va("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="FirestoreClient";class kQ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Lr.UNAUTHENTICATED,this.clientId=vx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{We(wo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(We(wo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ux(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ov(t,e){t.asyncQueue.verifyOperationInProgress(),We(wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await NR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function VA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DQ(t);We(wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>MA(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>MA(e.remoteStore,i))),t._onlineComponents=e}async function DQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){We(wo,"Using user provided OfflineComponentProvider");try{await ov(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await ov(t,new ip)}}else We(wo,"Using default OfflineComponentProvider"),await ov(t,new NQ(void 0));return t._offlineComponents}async function KR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(We(wo,"Using user provided OnlineComponentProvider"),await VA(t,t._uninitializedComponentsProvider._online)):(We(wo,"Using default OnlineComponentProvider"),await VA(t,new h1))),t._onlineComponents}function MQ(t){return KR(t).then((e=>e.syncEngine))}async function PQ(t){const e=await KR(t),n=e.eventManager;return n.onListen=gQ.bind(null,e.syncEngine),n.onUnlisten=yQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_Q.bind(null,e.syncEngine),n}function FQ(t,e,n={}){const r=new mo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,f,d){const h=new RQ({next:x=>{h.Nu(),o.enqueueAndForget((()=>lQ(s,g)));const E=x.docs.has(c);!E&&x.fromCache?d.reject(new it(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&f&&f.source==="server"?d.reject(new it(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(x)},error:x=>d.reject(x)}),g=new fQ(Sx(c.path),h,{includeMetadataChanges:!0,Ka:!0});return oQ(s,g)})(await PQ(t),t.asyncQueue,e,n,r))),r.promise}function OQ(t,e){const n=new mo;return t.asyncQueue.enqueueAndForget((async()=>EQ(await MQ(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ="ComponentProvider",BA=new Map;function UQ(t,e,n,r,i){return new eZ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,YR(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firestore.googleapis.com",zA=!0;class HA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JR,this.ssl=zA}else this.host=e.host,this.ssl=e.ssl??zA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lX)throw new it(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hx{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DW;switch(r.type){case"firstParty":return new OW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=BA.get(n);r&&(We(LQ,"Removing Datastore"),BA.delete(n),r.terminate())})(this),Promise.resolve()}}function VQ(t,e,n,r={}){var d;t=Zf(t,Hx);const i=px(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(iJ(`https://${c}`),lJ("Firestore",!0)),s.host!==JR&&s.host!==c&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!$0(f,o)&&(t._setSettings(f),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=Lr.MOCK_USER;else{h=sJ(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new it(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Lr(x)}t._authCredentials=new MW(new VN(h,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gx(this.firestore,e,this._query)}}class fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new id(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}toJSON(){return{type:fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hd(n,fr._jsonSchema))return new fr(e,r||null,new ct(In.fromString(n.referencePath)))}}fr._jsonSchemaVersion="firestore/documentReference/1.0",fr._jsonSchema={type:er("string",fr._jsonSchemaVersion),referencePath:er("string")};class id extends Gx{constructor(e,n,r){super(e,n,Sx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new ct(e))}withConverter(e){return new id(this.firestore,e,this._path)}}function WR(t,e,...n){if(t=j0(t),arguments.length===1&&(e=vx.newId()),HW("doc","path",e),t instanceof Hx){const r=In.fromString(e,...n);return nA(r),new fr(t,null,new ct(r))}{if(!(t instanceof fr||t instanceof id))throw new it(Ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(In.fromString(e,...n));return nA(r),new fr(t.firestore,t instanceof id?t.converter:null,new ct(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="AsyncQueue";class qA{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kR(this,"async_queue_retry"),this._c=()=>{const r=av();r&&We(GA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new mo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!tu(e))throw e;We(GA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,va("INTERNAL UNHANDLED ERROR: ",$A(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Lx.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&pt(47125,{Pc:$A(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $A(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class qx extends Hx{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qA(e),this._firestoreClient=void 0,await e}}}function BQ(t,e){const n=typeof t=="object"?t:NN(),r=typeof t=="string"?t:J0,i=hW(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=nJ("firestore");s&&VQ(i,...s)}return i}function ZR(t){if(t._terminated)throw new it(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zQ(t),t._firestoreClient}function zQ(t){var r,i,s,o;const e=t._freezeSettings(),n=UQ(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gi(kr.fromBase64String(e))}catch(n){throw new it(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gi(kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,Gi._jsonSchema))return Gi.fromBase64String(e.bytes)}}Gi._jsonSchemaVersion="firestore/bytes/1.0",Gi._jsonSchema={type:er("string",Gi._jsonSchemaVersion),bytes:er("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new it(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new it(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new it(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(hd(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:er("string",Os._jsonSchemaVersion),latitude:er("number"),longitude:er("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gs(e.vectorValues);throw new it(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:er("string",gs._jsonSchemaVersion),vectorValues:er("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ=/^__.*__$/;class GQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nl(e,this.data,this.fieldMask,n,this.fieldTransforms):new pd(e,this.data,n,this.fieldTransforms)}}function ek(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{dataSource:t})}}class $x{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $x({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ek(this.dataSource)&&HQ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dp(e)}createContext(e,n,r,i=!1){return new $x({dataSource:e,methodName:n,targetDoc:r,path:br.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $Q(t){const e=t._freezeSettings(),n=Dp(t._databaseId);return new qQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jQ(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);ik("Data must be an object, but it was:",o,r);const c=nk(r,o);let f,d;if(s.merge)f=new ds(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const g of s.mergeFields){const x=jx(e,g,n);if(!o.contains(x))throw new it(Ve.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);JQ(h,x)||h.push(x)}f=new ds(h),d=o.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,d=o.fieldTransforms;return new GQ(new Hi(c),f,d)}function tk(t,e){if(rk(t=j0(t)))return ik("Unsupported field value:",e,t),nk(t,e);if(t instanceof QR)return(function(r,i){if(!ek(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const c of r){let f=tk(c,i.childContextForArray(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=j0(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CZ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=En.fromDate(r);return{timestampValue:tp(i.serializer,s)}}if(r instanceof En){const s=new En(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tp(i.serializer,s)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gi)return{bytesValue:yR(i.serializer,r._byteString)};if(r instanceof fr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ix(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gs)return(function(o,c){const f=o instanceof gs?o.toArray():o;return{mapValue:{fields:{[YN]:{stringValue:JN},[W0]:{arrayValue:{values:f.map((h=>{if(typeof h!="number")throw c.createError("VectorValues must only contain numeric values.");return Ax(c.serializer,h)}))}}}}}})(r,i);if(CR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${xx(r)}`)})(t,e)}function nk(t,e){const n={};return HN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,((r,i)=>{const s=tk(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function rk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof En||t instanceof Os||t instanceof Gi||t instanceof fr||t instanceof QR||t instanceof gs||CR(t))}function ik(t,e,n){if(!rk(n)||!BN(n)){const r=xx(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function jx(t,e,n){if((e=j0(e))instanceof XR)return e._internalPath;if(typeof e=="string")return YQ(t,e);throw sp("Field path arguments must be of type string or ",t,!1,void 0,n)}const KQ=new RegExp("[~\\*/\\[\\]]");function YQ(t,e,n){if(e.search(KQ)>=0)throw sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new XR(...e.split("."))._internalPath}catch{throw sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new it(Ve.INVALID_ARGUMENT,c+t+f)}function JQ(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[W0].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Vn(o.doubleValue)));return new gs(n)}convertGeoPoint(e){return new Os(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ap(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qf(e));default:return null}}convertTimestamp(e){const n=yo(e);return new En(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=In.fromString(e);en(AR(r),9688,{name:e});const i=new ed(r.get(1),r.get(3)),s=new ct(r.popFirst(5));return i.isEqual(n)||va(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ extends WQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}const jA="@firebase/firestore",KA="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(jx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XQ extends sk{data(){return super.data()}}function QQ(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class pf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends sk{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new x0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ol._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",ol._jsonSchema={type:er("string",ol._jsonSchemaVersion),bundleSource:er("string","DocumentSnapshot"),bundleName:er("string"),bundle:er("string")};class x0 extends ol{data(e={}){return super.data(e)}}class kf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new x0(this._firestore,this._userDataWriter,r.key,r,new pf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const f=new x0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new x0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new pf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),h=o.indexOf(c.doc.key)),{type:eee(c.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=kf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kf._jsonSchemaVersion="firestore/querySnapshot/1.0",kf._jsonSchema={type:er("string",kf._jsonSchemaVersion),bundleSource:er("string","QuerySnapshot"),bundleName:er("string"),bundle:er("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t){t=Zf(t,fr);const e=Zf(t.firestore,qx),n=ZR(e);return FQ(n,t._key).then((r=>iee(e,t,r)))}function nee(t,e,n){t=Zf(t,fr);const r=Zf(t.firestore,qx),i=QQ(t.converter,e),s=$Q(r);return ree(r,[jQ(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fa.none())])}function ree(t,e){const n=ZR(t);return OQ(n,e)}function iee(t,e,n){const r=n.docs.get(e._key),i=new ZQ(t);return new ol(t,i,e._key,r,new pf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){kW(vW),K0(new Yf("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new qx(new PW(r.getProvider("auth-internal")),new LW(o,r.getProvider("app-check-internal")),tZ(o,i),o);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Pc(jA,KA,e),Pc(jA,KA,"esm2020")})();const ak=()=>{const t=localStorage.getItem("firebase_config");return t?JSON.parse(t):{apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"}},see=t=>{localStorage.setItem("firebase_config",JSON.stringify(t))},aee=()=>{localStorage.removeItem("firebase_config")};let lv,sd;const ok=async t=>{try{const e=t||ak();return e?(xW().length>0?lv=NN():lv=IN(e),sd=BQ(lv),!0):!1}catch(e){return console.error("Error initializing Firebase:",e),!1}},lk=async(t,e,n,r,i=[])=>{if(sd)try{const s={clients:t,products:e,categories:n,users:r,uploadedFiles:i,lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await nee(WR(sd,"rota-vendas","master-data"),s)}catch(s){throw console.error("Error saving to cloud:",s),s}},oee=async()=>{if(!sd)return null;try{const t=WR(sd,"rota-vendas","master-data"),e=await tee(t);return e.exists()?e.data():null}catch(t){return console.error("Error loading from cloud:",t),null}};var p1=rC(),cv,YA;function lee(){return YA||(YA=1,cv=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),cv}var cee=lee();const m1=ap(cee);function uee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fee(t){var e=uee(t,"string");return typeof e=="symbol"?e:String(e)}function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}function xl(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const oa={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},dee="https://maps.googleapis.com/maps/api/js";class ad{static async load(e,n){var r;const i=e.libraries?e.libraries.split(","):[],s=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=oa.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=s,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==s&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const o=["maps",...i];await Promise.all(o.map(c=>google.maps.importLibrary(c)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((i,s)=>{var o;const c=document.createElement("script"),f=new URLSearchParams;for(const[d,h]of Object.entries(e)){const g=d.replace(/[A-Z]/g,x=>"_"+x[0].toLowerCase());f.set(g,h)}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),c.async=!0,c.src=dee+"?"+f.toString(),c.nonce=((o=document.querySelector("script[nonce]"))==null?void 0:o.nonce)||"",c.onerror=()=>{this.loadingStatus=oa.FAILED,this.notifyLoadingStatusListeners(),s(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=oa.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=oa.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=oa.LOADING,this.notifyLoadingStatusListeners(),document.head.append(c)}),n);google.maps.importLibrary=i=>r().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}ad.loadingStatus=oa.NOT_LOADED;ad.serializedApiParams=void 0;ad.listeners=[];const hee=["onLoad","apiKey","version","libraries"],pee=["children"],mee="GMP_visgl_rgmlibrary_v1_default",xd=Qn.createContext(null);function gee(){const[t,e]=fe.useState({});return{mapInstances:t,addMapInstance:(s,o="default")=>{e(c=>da({},c,{[o]:s}))},removeMapInstance:(s="default")=>{e(o=>xl(o,[s].map(fee)))},clearMapInstances:()=>{e({})}}}function vee(t){const{onLoad:e,apiKey:n,version:r,libraries:i=[]}=t,s=xl(t,hee),[o,c]=fe.useState(ad.loadingStatus),[f,d]=fe.useReducer((E,S)=>da({},E,{[S.name]:S.value}),{}),h=fe.useMemo(()=>i==null?void 0:i.join(","),[i]),g=fe.useMemo(()=>JSON.stringify(da({apiKey:n,version:r},s)),[n,r,s]),x=fe.useCallback(async E=>{var S;if(f[E])return f[E];if(!((S=google)!=null&&(S=S.maps)!=null&&S.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const A=await window.google.maps.importLibrary(E);return d({name:E,value:A}),A},[f]);return fe.useEffect(()=>{(async()=>{try{const E=da({key:n},s);r&&(E.v=r),(h==null?void 0:h.length)>0&&(E.libraries=h),E.solutionChannel===void 0?E.solutionChannel=mee:E.solutionChannel===""&&delete E.solutionChannel,await ad.load(E,S=>c(S));for(const S of["core","maps",...i])await x(S);e&&e()}catch(E){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",E)}})()},[n,h,g]),{status:o,loadedLibraries:f,importLibrary:x}}const xee=t=>{const{children:e}=t,n=xl(t,pee),{mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:o}=gee(),{status:c,loadedLibraries:f,importLibrary:d}=vee(n),h=fe.useMemo(()=>({mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:o,status:c,loadedLibraries:f,importLibrary:d}),[r,i,s,o,c,f,d]);return Qn.createElement(xd.Provider,{value:h},e)};function yee(t,e){for(const n of wee){const r=e[n],i=ck[n];fe.useEffect(()=>{if(!t||!r)return;const s=google.maps.event.addListener(t,i,o=>{r(_ee(i,t,o))});return()=>s.remove()},[t,i,r])}}function _ee(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(Eee.includes(t)){const s=r,o=e.getCenter(),c=e.getZoom(),f=e.getHeading()||0,d=e.getTilt()||0,h=e.getBounds();return(!o||!h||!Number.isFinite(c))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),s.detail={center:(o==null?void 0:o.toJSON())||{lat:0,lng:0},zoom:c||0,heading:f,tilt:d,bounds:(h==null?void 0:h.toJSON())||{north:90,east:180,south:-90,west:-180}},s}else if(Tee.includes(t)){var i;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const s=r;return s.domEvent=n.domEvent,s.stoppable=!0,s.stop=()=>n.stop(),s.detail={latLng:((i=n.latLng)==null?void 0:i.toJSON())||null,placeId:n.placeId},s}return r}const ck={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},Eee=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],Tee=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],wee=Object.keys(ck);function uk(t,e){const n=fe.useRef(void 0);(!n.current||!m1(e,n.current))&&(n.current=e),fe.useEffect(t,n.current)}const See=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function Aee(t,e){const n={},r=Object.keys(e);for(const i of r)See.has(i)&&(n[i]=e[i]);uk(()=>{t&&t.setOptions(n)},[n])}function fk(){var t;return((t=fe.useContext(xd))==null?void 0:t.status)||oa.NOT_LOADED}function Cee(t,e){const{viewport:n,viewState:r}=e,i=!!n;return fe.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:s,longitude:o,bearing:c,pitch:f,zoom:d}=r;t.moveCamera({center:{lat:s,lng:o},heading:c,tilt:f,zoom:d+1})},[t,r]),i}function bee(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function dk(t){return bee(t)?t:t.toJSON()}function Iee(t,e,n){const r=n.center?dk(n.center):null;let i=null,s=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(i=r.lat,s=r.lng);const o=Number.isFinite(n.zoom)?n.zoom:null,c=Number.isFinite(n.heading)?n.heading:null,f=Number.isFinite(n.tilt)?n.tilt:null;fe.useLayoutEffect(()=>{if(!t)return;const d={};let h=!1;i!==null&&s!==null&&(e.current.center.lat!==i||e.current.center.lng!==s)&&(d.center={lat:i,lng:s},h=!0),o!==null&&e.current.zoom!==o&&(d.zoom=o,h=!0),c!==null&&e.current.heading!==c&&(d.heading=c,h=!0),f!==null&&e.current.tilt!==f&&(d.tilt=f,h=!0),h&&t.moveCamera(d)})}const Nee=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Qn.createElement("div",{style:t},Qn.createElement("h2",null,"Error: AuthFailure"),Qn.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Qn.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Ree(){const[t,e]=fe.useState(null),n=fe.useCallback(r=>e(r),[e]);return[t,n]}function hk(){return fk()===oa.LOADED}function kee(){const[,t]=fe.useReducer(e=>e+1,0);return t}function Dee(t,e){const n=t.getCenter(),r=t.getZoom(),i=t.getHeading()||0,s=t.getTilt()||0,o=t.getBounds();(!n||!o||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:i,tilt:s})}function Mee(t){const e=kee(),n=fe.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return fe.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{Dee(t,n),e()});return()=>r.remove()},[t,e]),n}const Pee=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],Fee=["padding"];class y0{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}y0.entries={};function Oee(t,e){const n=hk(),[r,i]=fe.useState(null),[s,o]=Ree(),c=Mee(r),{id:f,defaultBounds:d,defaultCenter:h,defaultZoom:g,defaultHeading:x,defaultTilt:E,reuseMaps:S}=t,A=xl(t,Pee),C=t.zoom!==void 0||t.defaultZoom!==void 0,O=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!C||!O)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!A.center&&h&&(A.center=h),!A.zoom&&Number.isFinite(g)&&(A.zoom=g),!A.heading&&Number.isFinite(x)&&(A.heading=x),!A.tilt&&Number.isFinite(E)&&(A.tilt=E);for(const D of Object.keys(A))A[D]===void 0&&delete A[D];const V=fe.useRef();return fe.useEffect(()=>{if(!s||!n)return;const{addMapInstance:D,removeMapInstance:H}=e,B=t.mapId,j=B||"default";let N,I;if(S&&y0.has(j)?(I=y0.pop(j),N=I.getDiv(),s.appendChild(N),I.setOptions(A),setTimeout(()=>I.setCenter(I.getCenter()),0)):(N=document.createElement("div"),N.style.height="100%",s.appendChild(N),I=new google.maps.Map(N,A)),i(I),D(I,f),d){const{padding:b}=d,F=xl(d,Fee);I.fitBounds(F,b)}else(!C||!O)&&I.fitBounds({east:180,west:-180,south:-90,north:90});if(V.current){const{mapId:b,cameraState:F}=V.current;b!==B&&I.setOptions(F)}return()=>{V.current={mapId:B,cameraState:c.current},N.remove(),S?y0.push(j,I):google.maps.event.clearInstanceListeners(I),i(null),H(f)}},[s,n,f,t.mapId]),[r,o,c]}const pk=Qn.createContext(null),mk=t=>{const{children:e,id:n,className:r,style:i}=t,s=fe.useContext(xd),o=fk();if(!s)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[c,f,d]=Oee(t,s);Iee(c,d,t),yee(c,t),Aee(c,t);const h=Cee(c,t),g=!!t.controlled;fe.useEffect(()=>{if(c)return h&&c.setOptions({disableDefaultUI:!0}),(h||g)&&c.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{c.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[c,h,g,t.gestureHandling,t.keyboardShortcuts]);const x=t.center?dk(t.center):null;let E=null,S=null;x&&Number.isFinite(x.lat)&&Number.isFinite(x.lng)&&(E=x.lat,S=x.lng);const A=fe.useMemo(()=>{var V,D,H,B,j;return{center:{lat:(V=E)!=null?V:0,lng:(D=S)!=null?D:0},zoom:(H=t.zoom)!=null?H:0,heading:(B=t.heading)!=null?B:0,tilt:(j=t.tilt)!=null?j:0}},[E,S,t.zoom,t.heading,t.tilt]);fe.useLayoutEffect(()=>{if(!c||!g)return;c.moveCamera(A);const V=c.addListener("bounds_changed",()=>{c.moveCamera(A)});return()=>V.remove()},[c,g,A]);const C=fe.useMemo(()=>da({width:"100%",height:"100%",position:"relative",zIndex:h?-1:0},i),[i,h]),O=fe.useMemo(()=>({map:c}),[c]);return o===oa.AUTH_FAILURE?Qn.createElement("div",{style:da({position:"relative"},r?{}:C),className:r},Qn.createElement(Nee,null)):Qn.createElement("div",da({ref:f,"data-testid":"map",style:r?void 0:C,className:r},n?{id:n}:{}),c?Qn.createElement(pk.Provider,{value:O},e):null)};mk.deckGLViewProps=!0;const JA=new Set;function Lee(...t){const e=JSON.stringify(t);JA.has(e)||(JA.add(e),console.error(...t))}const ru=(t=null)=>{const e=fe.useContext(xd),{map:n}=fe.useContext(pk)||{};if(e===null)return Lee("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function gk(t){const e=hk(),n=fe.useContext(xd);return fe.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function vk(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(n==null){if(e==null)return;for(const i in e)e.hasOwnProperty(i)&&WA(r,i,e[i]);return}for(const i in n)n.hasOwnProperty(i)&&(e==null||!e.hasOwnProperty(i))&&(i.indexOf("--")===0?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="");if(e!=null)for(const i in e){const s=e[i];e.hasOwnProperty(i)&&n[i]!==s&&WA(r,i,s)}}function WA(t,e,n){const r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n=="number"&&n!==0&&!Vee(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const Uee=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function Vee(t){return Uee.has(t)}function Ac(t,e,n){fe.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function tf(t,e,n){fe.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}const Bee=Qn.createContext(null);function zee(t){const[e,n]=fe.useState(null),[r,i]=fe.useState(null),s=fe.useRef(null),o=ru(),c=gk("marker"),{children:f,className:d,style:h,onClick:g,onDrag:x,onDragStart:E,onDragEnd:S,collisionBehavior:A,clickable:C,draggable:O,position:V,title:D,zIndex:H}=t,B=fe.Children.count(f);return fe.useEffect(()=>{if(!o||!c)return;const j=new c.AdvancedMarkerElement;j.map=o,n(j);let N=null;return B>0&&(N=document.createElement("div"),j.content=N,i(N)),()=>{var I;j.map=null,(I=N)==null||I.remove(),n(null),i(null)}},[o,c,B]),fe.useEffect(()=>{!e||!e.content||(e.content.className=d||"")},[e,d]),tf(r,"className",d??""),fe.useEffect(()=>{r&&(vk(r,h||null,s.current),s.current=h||null)},[r,d,h]),tf(e,"position",V),tf(e,"title",D??""),tf(e,"zIndex",H),tf(e,"collisionBehavior",A),fe.useEffect(()=>{e&&(O!==void 0?e.gmpDraggable=O:x||E||S?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,O,x,S,E]),fe.useEffect(()=>{e&&(C!==void 0?e.gmpClickable=C:g?e.gmpClickable=!0:e.gmpClickable=!1)},[e,C,g]),Ac(e,"click",g),Ac(e,"drag",x),Ac(e,"dragstart",E),Ac(e,"dragend",S),[e,r]}fe.forwardRef((t,e)=>{const{children:n}=t,[r,i]=zee(t),s=fe.useMemo(()=>r?{marker:r}:null,[r]);return fe.useImperativeHandle(e,()=>r,[r]),i?Qn.createElement(Bee.Provider,{value:s},p1.createPortal(n,i)):null});const Hee=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],Gee=t=>{const{children:e,headerContent:n,style:r,className:i,pixelOffset:s,anchor:o,shouldFocus:c,onClose:f,onCloseClick:d}=t,h=xl(t,Hee),g=gk("maps"),[x,E]=fe.useState(null),S=fe.useRef(null),A=fe.useRef(null);fe.useEffect(()=>{if(!g)return;S.current=document.createElement("div"),A.current=document.createElement("div");const V=h;s&&(V.pixelOffset=new google.maps.Size(s[0],s[1])),n&&(V.headerContent=typeof n=="string"?n:A.current);const D=new google.maps.InfoWindow(h);return D.setContent(S.current),E(D),()=>{var H,B;D.setContent(null),(H=S.current)==null||H.remove(),(B=A.current)==null||B.remove(),S.current=null,A.current=null,E(null)}},[g]);const C=fe.useRef(null);fe.useEffect(()=>{!x||!S.current||(vk(S.current,r||null,C.current),C.current=r||null,i!==S.current.className&&(S.current.className=i||""))},[x,i,r]),uk(()=>{if(!x)return;const V=h;s?V.pixelOffset=new google.maps.Size(s[0],s[1]):V.pixelOffset=null,n?V.headerContent=typeof n=="string"?n:A.current:V.headerContent=null,x.setOptions(h)},[h,s,n]),Ac(x,"close",f),Ac(x,"closeclick",d);const O=ru();return fe.useEffect(()=>{if(!O||!x||o===null)return;const V=!!o,D={map:O};return o&&(D.anchor=o),c!==void 0&&(D.shouldFocus=c),x.open(D),()=>{V&&x.set("anchor",null),x.close()}},[x,o,O,c]),Qn.createElement(Qn.Fragment,null,S.current&&p1.createPortal(e,S.current),A.current!==null&&p1.createPortal(n,A.current))},qee=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function $ee(t){const[e,n]=fe.useState(null),r=ru(),{onClick:i,onDrag:s,onDragStart:o,onDragEnd:c,onMouseOver:f,onMouseOut:d}=t,h=xl(t,qee),{position:g,draggable:x}=h;return fe.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const E=new google.maps.Marker(h);return E.setMap(r),n(E),()=>{E.setMap(null),n(null)}},[r]),fe.useEffect(()=>{if(!e)return;const E=e,S=google.maps.event;return i&&S.addListener(E,"click",i),s&&S.addListener(E,"drag",s),o&&S.addListener(E,"dragstart",o),c&&S.addListener(E,"dragend",c),f&&S.addListener(E,"mouseover",f),d&&S.addListener(E,"mouseout",d),e.setDraggable(!!x),()=>{S.clearInstanceListeners(E)}},[e,x,i,s,o,c,f,d]),fe.useEffect(()=>{e&&h&&e.setOptions(h)},[e,h]),fe.useEffect(()=>{x||!g||!e||e.setPosition(g)},[x,g,e]),e}fe.forwardRef((t,e)=>{const n=$ee(t);return fe.useImperativeHandle(e,()=>n,[n]),Qn.createElement(Qn.Fragment,null)});const ZA=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],uv=1,nf=8;class Kx{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==uv)throw new Error(`Got v${i} data when expected v${uv}.`);const s=ZA[r&15];if(!s)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new Kx(c,o,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=ZA.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-c%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,nf,e),this.coords=new this.ArrayType(this.data,nf+c+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(nf+o+c+f),this.ids=new this.IndexArrayType(this.data,nf,e),this.coords=new this.ArrayType(this.data,nf+c+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(uv<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return g1(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:c}=this,f=[0,s.length-1,0],d=[];for(;f.length;){const h=f.pop()||0,g=f.pop()||0,x=f.pop()||0;if(g-x<=c){for(let C=x;C<=g;C++){const O=o[2*C],V=o[2*C+1];O>=e&&O<=r&&V>=n&&V<=i&&d.push(s[C])}continue}const E=x+g>>1,S=o[2*E],A=o[2*E+1];S>=e&&S<=r&&A>=n&&A<=i&&d.push(s[E]),(h===0?e<=S:n<=A)&&(f.push(x),f.push(E-1),f.push(1-h)),(h===0?r>=S:i>=A)&&(f.push(E+1),f.push(g),f.push(1-h))}return d}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,c=[0,i.length-1,0],f=[],d=r*r;for(;c.length;){const h=c.pop()||0,g=c.pop()||0,x=c.pop()||0;if(g-x<=o){for(let C=x;C<=g;C++)XA(s[2*C],s[2*C+1],e,n)<=d&&f.push(i[C]);continue}const E=x+g>>1,S=s[2*E],A=s[2*E+1];XA(S,A,e,n)<=d&&f.push(i[E]),(h===0?e-r<=S:n-r<=A)&&(c.push(x),c.push(E-1),c.push(1-h)),(h===0?e+r>=S:n+r>=A)&&(c.push(E+1),c.push(g),c.push(1-h))}return f}}function g1(t,e,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;xk(t,e,o,r,i,s),g1(t,e,n,r,o-1,1-s),g1(t,e,n,o+1,i,1-s)}function xk(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const d=i-r+1,h=n-r+1,g=Math.log(d),x=.5*Math.exp(2*g/3),E=.5*Math.sqrt(g*x*(d-x)/d)*(h-d/2<0?-1:1),S=Math.max(r,Math.floor(n-h*x/d+E)),A=Math.min(i,Math.floor(n+(d-h)*x/d+E));xk(t,e,n,S,A,s)}const o=e[2*n+s];let c=r,f=i;for(rf(t,e,r,n),e[2*i+s]>o&&rf(t,e,r,i);c<f;){for(rf(t,e,c,f),c++,f--;e[2*c+s]<o;)c++;for(;e[2*f+s]>o;)f--}e[2*r+s]===o?rf(t,e,r,f):(f++,rf(t,e,f,i)),f<=n&&(r=f+1),n<=f&&(i=f-1)}}function rf(t,e,n,r){fv(t,n,r),fv(e,2*n,2*r),fv(e,2*n+1,2*r+1)}function fv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function XA(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const jee={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},QA=Math.fround||(t=>(e=>(t[0]=+e,t[0])))(new Float32Array(1)),Xo=2,ro=3,dv=4,no=5,yk=6;class Kee{constructor(e){this.options=Object.assign(Object.create(jee),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const o=[];for(let f=0;f<e.length;f++){const d=e[f];if(!d.geometry)continue;const[h,g]=d.geometry.coordinates,x=QA(a0(h)),E=QA(o0(g));o.push(x,E,1/0,f,-1,1),this.options.reduce&&o.push(0)}let c=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(let f=i;f>=r;f--){const d=+Date.now();c=this.trees[f]=this._createTree(this._cluster(c,f)),n&&console.log("z%d: %d clusters in %dms",f,c.numItems,+Date.now()-d)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const g=this.getClusters([r,i,180,o],n),x=this.getClusters([-180,i,s,o],n);return g.concat(x)}const c=this.trees[this._limitZoom(n)],f=c.range(a0(r),o0(o),a0(s),o0(i)),d=c.data,h=[];for(const g of f){const x=this.stride*g;h.push(d[x+no]>1?eC(d,x,this.clusterProps):this.points[d[x+ro]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.data;if(n*this.stride>=o.length)throw new Error(i);const c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),f=o[n*this.stride],d=o[n*this.stride+1],h=s.within(f,d,c),g=[];for(const x of h){const E=x*this.stride;o[E+dv]===e&&g.push(o[E+no]>1?eC(o,E,this.clusterProps):this.points[o[E+ro]])}if(g.length===0)throw new Error(i);return g}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:c}=this.options,f=c/o,d=(r-f)/s,h=(r+1+f)/s,g={features:[]};return this._addTileFeatures(i.range((n-f)/s,d,(n+1+f)/s,h),i.data,n,r,s,g),n===0&&this._addTileFeatures(i.range(1-f/s,d,1,h),i.data,s,r,s,g),n===s-1&&this._addTileFeatures(i.range(0,d,f/s,h),i.data,-1,r,s,g),g.features.length?g:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const o=this.getChildren(n);for(const c of o){const f=c.properties;if(f&&f.cluster?s+f.point_count<=i?s+=f.point_count:s=this._appendLeaves(e,f.cluster_id,r,i,s):s<i?s++:e.push(c),e.length===r)break}return s}_createTree(e){const n=new Kx(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(const c of e){const f=c*this.stride,d=n[f+no]>1;let h,g,x;if(d)h=_k(n,f,this.clusterProps),g=n[f],x=n[f+1];else{const A=this.points[n[f+ro]];h=A.properties;const[C,O]=A.geometry.coordinates;g=a0(C),x=o0(O)}const E={type:1,geometry:[[Math.round(this.options.extent*(g*s-r)),Math.round(this.options.extent*(x*s-i))]],tags:h};let S;d||this.options.generateId?S=n[f+ro]:S=this.points[n[f+ro]].id,S!==void 0&&(E.id=S),o.features.push(E)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:o}=this.options,c=r/(i*Math.pow(2,n)),f=e.data,d=[],h=this.stride;for(let g=0;g<f.length;g+=h){if(f[g+Xo]<=n)continue;f[g+Xo]=n;const x=f[g],E=f[g+1],S=e.within(f[g],f[g+1],c),A=f[g+no];let C=A;for(const O of S){const V=O*h;f[V+Xo]>n&&(C+=f[V+no])}if(C>A&&C>=o){let O=x*A,V=E*A,D,H=-1;const B=((g/h|0)<<5)+(n+1)+this.points.length;for(const j of S){const N=j*h;if(f[N+Xo]<=n)continue;f[N+Xo]=n;const I=f[N+no];O+=f[N]*I,V+=f[N+1]*I,f[N+dv]=B,s&&(D||(D=this._map(f,g,!0),H=this.clusterProps.length,this.clusterProps.push(D)),s(D,this._map(f,N)))}f[g+dv]=B,d.push(O/C,V/C,1/0,B,-1,C),s&&d.push(H)}else{for(let O=0;O<h;O++)d.push(f[g+O]);if(C>1)for(const O of S){const V=O*h;if(!(f[V+Xo]<=n)){f[V+Xo]=n;for(let D=0;D<h;D++)d.push(f[V+D])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+no]>1){const o=this.clusterProps[e[n+yk]];return r?Object.assign({},o):o}const i=this.points[e[n+ro]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}}function eC(t,e,n){return{type:"Feature",id:t[e+ro],properties:_k(t,e,n),geometry:{type:"Point",coordinates:[Yee(t[e]),Jee(t[e+1])]}}}function _k(t,e,n){const r=t[e+no],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+yk],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+ro],point_count:r,point_count_abbreviated:i})}function a0(t){return t/360+.5}function o0(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Yee(t){return(t-.5)*360}function Jee(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Wee(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Si{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class v1{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Si.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Si.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Si.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Zee{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Xee(e)}}const Xee=t=>t.map(n=>new v1({position:Si.getPosition(n),markers:[n]}));class Ek extends Zee{constructor(e){var{maxZoom:n,radius:r=60}=e,i=Wee(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Kee(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!m1(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const o=Si.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!m1(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new v1({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new v1({markers:[i],position:Si.getPosition(i)})}}class Qee{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class ete{render({count:e,position:n},r,i){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,f=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Si.isAdvancedMarkerAvailable(i)){const g=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;g.setAttribute("transform","translate(0 25)");const x={map:i,position:n,zIndex:f,title:c,content:g};return new google.maps.marker.AdvancedMarkerElement(x)}const d={position:n,zIndex:f,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function tte(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Yx{constructor(){tte(Yx,google.maps.OverlayView)}}var Df;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Df||(Df={}));const nte=(t,e,n)=>{n.fitBounds(e.bounds)};class rte extends Yx{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new Ek(r),renderer:s=new ete,onClusterClick:o=nte}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(Si.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Df.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const o of n)o.markers.length==1&&i.add(o.markers[0]);const s=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?i.has(o.marker)||Si.setMap(o.marker,null):s.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(o=>Si.setMap(o,null)))}google.maps.event.trigger(this,Df.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Si.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new Qee(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Si.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Df.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Si.setMap(r.marker,n)})}}const ite=({clients:t})=>{const e=ru(),n=fe.useRef(0);return fe.useEffect(()=>{if(!e||!window.google||t.length===0)return;if(Math.abs(t.length-n.current)>0){const i=new google.maps.LatLngBounds;let s=!1;if(t.forEach(o=>{o.lat&&o.lng&&(i.extend({lat:o.lat,lng:o.lng}),s=!0)}),s){e.fitBounds(i);const o=google.maps.event.addListenerOnce(e,"idle",()=>{e.getZoom()>16&&e.setZoom(16)});return n.current=t.length,()=>google.maps.event.removeListener(o)}}},[e,t]),null},ste=()=>{const t=ru();return t?w.jsxs("div",{className:"absolute bottom-6 right-4 flex flex-col gap-2 z-10 shadow-lg bg-transparent",children:[w.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)+1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom In",children:w.jsx(_1,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)-1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom Out",children:w.jsx(u3,{className:"w-5 h-5"})})]}):null},ate=t=>{switch(t){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},tC=t=>{let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=(e&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n},ote=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,lte=({clients:t,onClientSelect:e,productFilterActive:n,users:r,isClusteringEnabled:i})=>{const s=ru(),o=fe.useRef(null),c=fe.useRef([]),f=fe.useMemo(()=>{const h=document.createElement("div");return h.innerHTML=ote,h.style.display="flex",h.style.alignItems="center",h.style.justifyContent="center",h},[]),d=fe.useMemo(()=>{const h=new Map;return r&&r.forEach(g=>{let x={bg:"#6B7280",border:"#374151",glyph:"#fff"};g.color?x={bg:g.color,border:"black",glyph:"#fff"}:x={bg:tC(g.id+g.name),border:"black",glyph:"#fff"},h.set(g.id,x)}),h},[r]);return fe.useEffect(()=>{if(!s)return;if(!google.maps.marker){console.warn("Google Maps Marker library not loaded. Likely an invalid API Key.");return}o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null,google.maps.event.clearInstanceListeners(S)}),c.current=[],i?o.current=new rte({map:s,markers:[],algorithm:new Ek({maxZoom:13,radius:80})}):o.current=null;let h=!0,g=0;const x=200,E=()=>{if(!h||!google.maps.marker)return;const S=t.slice(g,g+x);if(S.length===0)return;const A=S.map(C=>{let O={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(n)O={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const j=d.get(C.salespersonId);j?O=j:C.ownerName?O={bg:tC(C.ownerName),border:"black",glyph:"#fff"}:O=ate(C.region)}let V=null;n&&(V=f.cloneNode(!0),V.style.color=O.glyph);const D={background:O.bg,borderColor:O.border,glyphColor:O.glyph,scale:1};V&&(D.glyph=V);const H=new google.maps.marker.PinElement(D),B=new google.maps.marker.AdvancedMarkerElement({position:{lat:C.lat,lng:C.lng},content:H.element,map:i?null:s,title:C.companyName});return B.addListener("click",()=>{e(C.id)}),B});h&&(i&&o.current&&o.current.addMarkers(A),c.current.push(...A)),g+=x,g<t.length&&requestAnimationFrame(E)};return E(),()=>{h=!1,o.current&&(o.current.clearMarkers(),o.current.setMap(null)),c.current.forEach(S=>{S.map=null})}},[s,t,n,e,f,d,i]),w.jsx(ite,{clients:t})},cte=({clients:t,apiKey:e,onInvalidKey:n,productFilterActive:r,highlightProductTerm:i,activeProductCategory:s,users:o})=>{const c={lat:-14.235,lng:-51.9253},[f,d]=fe.useState(null),[h,g]=fe.useState(!1),[x,E]=fe.useState(!1),[S,A]=fe.useState(!0),C=t.find(H=>H.id===f);fe.useEffect(()=>(e&&g(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),g(!0)},()=>{var B;window.gm_authFailure=()=>{};const H=document.getElementsByTagName("script");for(let j=H.length-1;j>=0;j--){const N=H[j];N.src&&N.src.includes("maps.googleapis.com/maps/api/js")&&((B=N.parentNode)==null||B.removeChild(N))}}),[e]);const O=fe.useMemo(()=>{if(!(C!=null&&C.purchasedProducts))return[];const H=!!i,B=s&&s!=="Todos";if(!H&&!B)return C.purchasedProducts;const j=i?i.toLowerCase():"",N=s||"";return[...C.purchasedProducts].sort((I,b)=>{let F=0,M=0;return B&&I.category===N&&(F+=2),B&&b.category===N&&(M+=2),H&&((I.name.toLowerCase().includes(j)||I.sku.toLowerCase().includes(j)||I.brand.toLowerCase().includes(j)||I.factoryCode.toLowerCase().includes(j))&&(F+=1),(b.name.toLowerCase().includes(j)||b.sku.toLowerCase().includes(j)||b.brand.toLowerCase().includes(j)||b.factoryCode.toLowerCase().includes(j))&&(M+=1)),M-F})},[C,i,s]),V=()=>{E(!x)};if(!e)return w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:w.jsx(Og,{className:"w-8 h-8"})}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),w.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[w.jsx(Og,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(h)return w.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[w.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:w.jsx(ha,{className:"w-8 h-8"})}),w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),w.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),w.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[w.jsx(Og,{className:"w-4 h-4"})," Trocar API Key"]})]});const D=x?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-xl overflow-hidden shadow-sm border border-gray-200 relative z-0";return w.jsx("div",{className:D,children:w.jsx(xee,{apiKey:e,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:w.jsxs(mk,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[w.jsx(lte,{clients:t,onClientSelect:d,productFilterActive:r,users:o,isClusteringEnabled:S}),w.jsx(ste,{}),w.jsxs("div",{className:"absolute top-4 right-16 flex gap-2 z-10",children:[w.jsx("button",{onClick:()=>A(!S),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${S?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:S?"Desativar Agrupamento":"Ativar Agrupamento",children:S?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex -space-x-1",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),w.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):w.jsxs(w.Fragment,{children:[w.jsx(Mf,{className:"w-3 h-3"}),"Solto"]})}),w.jsx("button",{onClick:V,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:x?"Sair da Tela Cheia":"Tela Cheia",children:x?w.jsx(l3,{className:"w-5 h-5"}):w.jsx(i3,{className:"w-5 h-5"})})]}),C&&w.jsx(Gee,{position:{lat:C.lat,lng:C.lng},onCloseClick:()=>d(null),headerContent:w.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[w.jsx(lp,{className:"w-4 h-4 text-blue-600"}),C.companyName]}),children:w.jsx("div",{className:"min-w-[200px] max-w-[280px] p-1",children:w.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[w.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[w.jsx(y1,{className:"w-3 h-3"}),C.city," - ",C.state," (",C.region,")"]}),w.jsxs("p",{className:"flex items-center gap-2",children:[w.jsx(bc,{className:"w-3 h-3 text-gray-400"}),w.jsx("span",{className:"font-medium text-gray-700",children:C.ownerName||"No informado"})]}),w.jsxs("p",{className:"flex items-center gap-2",children:[w.jsx(g3,{className:"w-3 h-3 text-gray-400"}),w.jsx("span",{className:"font-medium text-gray-700",children:C.contact||"Sem contato"})]}),w.jsxs("p",{className:"flex items-start gap-2",children:[w.jsx(Mf,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),w.jsx("span",{className:"leading-tight",children:C.cleanAddress})]}),r&&O.length>0&&w.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[w.jsxs("p",{className:"text-[10px] uppercase font-bold text-rose-600 mb-1 flex items-center gap-1",children:[w.jsx(oC,{className:"w-3 h-3"}),"Produtos Vendidos (Filtro)"]}),w.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1 pr-1 custom-scrollbar",children:[O.slice(0,3).map((H,B)=>{const j=(i==null?void 0:i.toLowerCase())||"",N=j&&(H.name.toLowerCase().includes(j)||H.sku.toLowerCase().includes(j)||H.brand.toLowerCase().includes(j)||H.factoryCode.toLowerCase().includes(j));return w.jsxs("div",{className:`${N?"bg-rose-100 border-rose-300":"bg-rose-50 border-rose-100"} p-1.5 rounded border flex justify-between items-center transition-colors`,children:[w.jsxs("div",{className:"flex flex-col overflow-hidden max-w-[120px]",children:[w.jsx("span",{className:`truncate font-medium ${N?"text-rose-950 font-bold":"text-rose-900"}`,title:H.name,children:H.name}),w.jsxs("span",{className:"text-[9px] text-gray-500 truncate",children:[H.sku,"  ",H.brand]})]}),w.jsx("span",{className:"text-rose-700 font-bold",children:H.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},B)}),O.length>3&&w.jsxs("p",{className:"text-[10px] text-center text-gray-400 italic",children:["e mais ",O.length-3," itens..."]})]})]}),w.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[w.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[w.jsx(E1,{className:"w-3 h-3 mr-1"}),C.category.join(", ")]}),w.jsx("a",{href:C.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${C.lat},${C.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},ute=({client:t,isOpen:e,onClose:n,onSave:r})=>{const[i,s]=fe.useState(()=>({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]}));if(Qn.useEffect(()=>{s({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]})},[t]),!e)return null;const o=f=>{f.preventDefault(),r(i),n()},c=f=>{const{name:d,value:h}=f.target;s(g=>{const x={[d]:h};return d==="state"&&(x.region=T1(h)),{...g,...x}})};return w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:w.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[w.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx(lp,{className:"w-5 h-5 text-primary"}),w.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),w.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),w.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:t.id})]}),w.jsx("button",{onClick:n,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",children:w.jsx(cl,{className:"w-6 h-6"})})]}),w.jsxs("form",{onSubmit:o,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),w.jsx("input",{type:"text",name:"companyName",value:i.companyName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),w.jsx("input",{type:"text",name:"ownerName",value:i.ownerName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Contato"}),w.jsx("input",{type:"text",name:"contact",value:i.contact,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),w.jsxs("div",{className:"md:col-span-1",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),w.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Ff.filter(f=>f!=="Todos").map(f=>{const d=i.category.includes(f);return w.jsx("button",{type:"button",onClick:()=>{s(h=>{const g=h.category||[];return g.includes(f)?g.length===1?h:{...h,category:g.filter(x=>x!==f)}:{...h,category:[...g,f]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${d?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:f},f)})})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{name:"region",value:i.region,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",children:[w.jsx("option",{value:"Indefinido",children:"Indefinido"}),cp.map(f=>w.jsx("option",{value:f,children:f},f))]}),w.jsx(y1,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Municpio"}),w.jsx("input",{type:"text",name:"city",value:i.city,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"UF"}),w.jsx("input",{type:"text",name:"state",maxLength:2,value:i.state,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all uppercase"})]})]}),w.jsxs("div",{className:"space-y-1 pt-2",children:[w.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),w.jsx("input",{type:"text",name:"cleanAddress",value:i.cleanAddress,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]})]}),w.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[w.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),w.jsxs("button",{type:"submit",onClick:o,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[w.jsx(op,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},fte=({isOpen:t,onClose:e,onAdd:n,salespersonId:r,ownerName:i})=>{const[s,o]=fe.useState({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),[c,f]=fe.useState(""),[d,h]=fe.useState(!1);if(fe.useEffect(()=>{t&&(o({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),f(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async S=>{},S=>{console.warn("Location access denied or error:",S)}))},[t]),!t)return null;const g=(S,A)=>{o(C=>{const O={[S]:A};return S==="state"&&(O.region=T1(A)),{...C,...O}}),c&&f("")},x=S=>{o(A=>{const C=A.category;return C.includes(S)?C.length===1?A:{...A,category:C.filter(O=>O!==S)}:{...A,category:[...C,S]}})},E=S=>{if(S.preventDefault(),!s.companyName||!s.originalAddress||!s.city||!s.state||!s.contact){f("Por favor, preencha todos os campos obrigatrios (*).");return}h(!0);const A=`${s.originalAddress}, ${s.city} - ${s.state}`;n({companyName:s.companyName,ownerName:s.ownerName||"No Informado",contact:s.contact,category:s.category,region:s.region,state:s.state,city:s.city,originalAddress:A,salespersonId:r,googleMapsUri:""}),h(!1),e()};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:w.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[w.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx(lp,{className:"w-5 h-5 text-primary"}),w.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),w.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),w.jsx("button",{onClick:e,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:w.jsx(cl,{className:"w-6 h-6"})})]}),w.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:w.jsxs("form",{id:"add-client-form",onSubmit:E,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),w.jsx("input",{type:"text",required:!0,value:s.companyName,onChange:S=>g("companyName",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),w.jsx("input",{type:"text",value:s.ownerName,onChange:S=>g("ownerName",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),w.jsx("input",{type:"text",required:!0,value:s.contact,onChange:S=>g("contact",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),w.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Ff.filter(S=>S!=="Todos").map(S=>{const A=s.category.includes(S);return w.jsx("button",{type:"button",onClick:()=>x(S),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${A?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:S},S)})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{value:s.region,onChange:S=>g("region",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:cp.map(S=>w.jsx("option",{value:S,children:S},S))}),w.jsx(y1,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),w.jsx("input",{type:"text",required:!0,value:s.city,onChange:S=>g("city",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{required:!0,value:s.state,onChange:S=>g("state",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(S=>w.jsx("option",{value:S,children:S},S))}),w.jsx(Mf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),w.jsx("textarea",{rows:2,required:!0,value:s.originalAddress,onChange:S=>g("originalAddress",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none resize-none transition-colors",placeholder:"Rua, Nmero, Bairro, CEP"}),w.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),c&&w.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[w.jsx(ha,{className:"w-5 h-5"}),c]}),w.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:w.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[w.jsx(Mf,{className:"w-4 h-4 shrink-0"}),w.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})})]})}),w.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[w.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),w.jsx("button",{type:"submit",disabled:d,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:d?"Salvando...":w.jsxs(w.Fragment,{children:[w.jsx(op,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},dte=({clients:t,onUpdateClient:e,onAddClient:n,currentUserRole:r,currentUserId:i,currentUserName:s})=>{const[o,c]=fe.useState(""),[f,d]=fe.useState("Todos"),[h,g]=fe.useState("Todos"),[x,E]=fe.useState(null),[S,A]=fe.useState(!1),[C,O]=fe.useState(!1),V=fe.useMemo(()=>t.filter(B=>{const j=B.companyName.toLowerCase().includes(o.toLowerCase())||B.ownerName.toLowerCase().includes(o.toLowerCase()),N=f==="Todos"||B.region===f,I=h==="Todos"||Array.isArray(B.category)&&B.category.some(b=>b.trim()===h.trim());return j&&N&&I}),[t,o,f,h]),D=()=>{const B=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","Link Maps"],j=V.map(k=>[k.id,k.companyName,k.ownerName,k.contact,k.cleanAddress,k.city,k.state,k.region,k.category.join("; "),k.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${k.lat},${k.lng}`]),N=k=>{if(k==null)return"";const U=String(k);return U.includes('"')||U.includes(",")||U.includes(`
`)?`"${U.replace(/"/g,'""')}"`:U},I=[B.join(","),...j.map(k=>k.map(N).join(","))].join(`
`),b=new Blob([`\uFEFF${I}`],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(b),M=document.createElement("a");M.setAttribute("href",F),M.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)},H=B=>{E(B),A(!0)};return w.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50",children:[w.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 shadow-sm z-10 shrink-0",children:[w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[w.jsxs("div",{className:"flex flex-wrap items-center gap-3 flex-1",children:[w.jsxs("div",{className:"relative group w-full md:w-64",children:[w.jsx(Pf,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),w.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",value:o,onChange:B=>c(B.target.value),className:"pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white focus:outline-none w-full transition-all"})]}),w.jsx("div",{className:"h-8 w-px bg-gray-200 hidden md:block"}),w.jsxs("select",{value:f,onChange:B=>d(B.target.value),className:"bg-gray-50 border border-gray-200 rounded-lg text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-100 transition-colors cursor-pointer",children:[w.jsx("option",{value:"Todos",children:"Todas Regies"}),cp.map(B=>w.jsx("option",{value:B,children:B},B))]}),w.jsx("select",{value:h,onChange:B=>g(B.target.value),className:"bg-gray-50 border border-gray-200 rounded-lg text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-100 transition-colors cursor-pointer",children:Ff.map(B=>w.jsx("option",{value:B,children:B==="Todos"?"Todos Segmentos":B},B))})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[r==="salesperson"&&n&&w.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95",children:[w.jsx(_1,{className:"w-5 h-5"}),"Novo Cliente"]}),w.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 hover:text-green-600 hover:border-green-200 transition-all shadow-sm",title:"Baixar lista em Excel/CSV",children:[w.jsx(OD,{className:"w-4 h-4"}),w.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]})]})]}),w.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium",children:["Exibindo ",V.length," de ",t.length," clientes"]})]}),w.jsx("div",{className:"overflow-x-auto bg-surface flex-1 custom-scrollbar relative p-4",children:V.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center text-on-surface-variant animate-fade-in",children:[w.jsx("div",{className:"bg-surface-container-highest p-4 rounded-full mb-3",children:w.jsx(Pf,{className:"w-8 h-8 opacity-50"})}),w.jsx("p",{className:"text-sm",children:"Nenhum cliente encontrado com os filtros atuais."})]}):w.jsx("div",{className:"grid gap-3 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:V.map(B=>w.jsxs("div",{className:"bg-surface-container-low border border-outline-variant/30 rounded-xl p-4 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-0",children:w.jsx("span",{className:`px-3 py-1 rounded-bl-xl text-[10px] font-bold uppercase tracking-wider
                        ${B.region==="Nordeste"?"bg-orange-100 text-orange-800":B.region==="Sudeste"?"bg-blue-100 text-blue-800":B.region==="Sul"?"bg-purple-100 text-purple-800":B.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:B.region})}),w.jsxs("div",{className:"flex items-start gap-4 pr-12",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:B.companyName.charAt(0).toUpperCase()}),w.jsxs("div",{className:"min-w-0 flex-1",children:[w.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",children:B.companyName}),w.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant mt-0.5",children:[w.jsx(E1,{className:"w-3 h-3"}),w.jsx("span",{className:"truncate",children:B.category.join(", ")})]})]})]}),w.jsxs("div",{className:"mt-4 space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[w.jsx(lp,{className:"w-4 h-4 shrink-0"}),w.jsx("span",{className:"truncate",children:B.ownerName})]}),w.jsxs("a",{href:B.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${B.lat},${B.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-2 text-sm text-on-surface-variant hover:text-primary transition-colors group/link",children:[w.jsx(Mf,{className:"w-4 h-4 shrink-0 mt-0.5"}),w.jsx("span",{className:"line-clamp-2 group-hover/link:underline",children:B.cleanAddress}),w.jsx(UD,{className:"w-3 h-3 opacity-0 group-hover/link:opacity-100 transition-opacity ml-auto"})]})]}),w.jsx("div",{className:"mt-4 pt-3 border-t border-outline-variant/20 flex items-center justify-end gap-2",children:w.jsxs("button",{onClick:()=>H(B),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-primary hover:bg-primary-container/30 rounded-full transition-colors",children:[w.jsx(h3,{className:"w-3.5 h-3.5"})," Editar"]})})]},B.id))})}),x&&w.jsx(ute,{isOpen:S,client:x,onClose:()=>A(!1),onSave:B=>{e(B),E(null)}}),n&&i&&w.jsx(fte,{isOpen:C,onClose:()=>O(!1),onAdd:n,salespersonId:i,ownerName:s||"Vendedor"})]})},hte=({users:t,onLogin:e})=>{const[n,r]=fe.useState("login"),[i,s]=fe.useState(""),[o,c]=fe.useState(""),[f,d]=fe.useState(""),[h,g]=fe.useState(""),[x,E]=fe.useState(""),[S,A]=fe.useState(""),[C,O]=fe.useState(!1),V=N=>{N.preventDefault();const I=t.find(b=>b.username.toLowerCase()===i.toLowerCase());I&&I.password===o?e(I):d("Credenciais invlidas. Tente novamente.")},D=()=>{d(""),A(""),g(""),E("")},H=N=>{D(),r(N)},B=async N=>{N.preventDefault(),d(""),O(!0),await new Promise(b=>setTimeout(b,1500));const I=t.find(b=>{var F;return((F=b.email)==null?void 0:F.toLowerCase())===h.toLowerCase()});A(I?`Seu usurio foi enviado para: ${h}`:"Se este e-mail estiver cadastrado, voc receber seu usurio em breve."),O(!1)},j=async N=>{N.preventDefault(),d(""),O(!0),await new Promise(b=>setTimeout(b,1500));const I=t.find(b=>{var F;return b.username.toLowerCase()===x.toLowerCase()||((F=b.email)==null?void 0:F.toLowerCase())===x.toLowerCase()});I&&I.email?A(`Instrues de redefinio enviadas para: ${I.email}`):A("Se os dados estiverem corretos, enviamos as instrues para o seu e-mail de cadastro."),O(!1)};return w.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[w.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),w.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[w.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[n!=="login"&&w.jsx("button",{onClick:()=>H("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:w.jsx(yD,{className:"w-6 h-6"})}),w.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:w.jsx(T3,{className:"w-7 h-7 text-white"})}),w.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),w.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),w.jsxs("div",{className:"p-8 space-y-6",children:[n==="login"&&w.jsxs("form",{onSubmit:V,className:"space-y-6 pt-2 animate-fade-in",children:[w.jsx("div",{className:"text-center pb-2",children:w.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),w.jsxs("div",{className:"relative",children:[w.jsx(bc,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),w.jsx("input",{type:"text",value:i,onChange:N=>s(N.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),w.jsx("div",{className:"text-right mt-1",children:w.jsx("button",{type:"button",onClick:()=>H("forgot_user"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci o usurio"})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),w.jsxs("div",{className:"relative",children:[w.jsx(pv,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),w.jsx("input",{type:"password",value:o,onChange:N=>c(N.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),w.jsx("div",{className:"text-right mt-1",children:w.jsx("button",{type:"button",onClick:()=>H("forgot_pass"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci a senha"})})]})]}),f&&w.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[w.jsx(ha,{className:"w-4 h-4 flex-shrink-0"}),f]}),w.jsxs("button",{type:"submit",className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:["Entrar ",w.jsx(ED,{className:"w-4 h-4"})]})]}),n==="forgot_user"&&w.jsxs("div",{className:"animate-fade-in space-y-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(bc,{className:"w-8 h-8 text-blue-600"})}),w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recuperar Usurio"}),w.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu e-mail cadastrado. Enviaremos seu nome de usurio para ele."})]}),S?w.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[w.jsx(_0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),w.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"E-mail Enviado!"}),w.jsx("p",{className:"text-sm text-green-700",children:S}),w.jsx("button",{onClick:()=>H("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):w.jsxs("form",{onSubmit:B,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"E-mail Cadastrado"}),w.jsxs("div",{className:"relative",children:[w.jsx(QD,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),w.jsx("input",{type:"email",required:!0,value:h,onChange:N=>g(N.target.value),placeholder:"exemplo@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),w.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Recuperar Usurio",!C&&w.jsx(RT,{className:"w-4 h-4"})]})]})]}),n==="forgot_pass"&&w.jsxs("div",{className:"animate-fade-in space-y-6",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"bg-orange-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(pv,{className:"w-8 h-8 text-orange-600"})}),w.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Redefinir Senha"}),w.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu usurio ou e-mail. Enviaremos as instrues de redefinio."})]}),S?w.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[w.jsx(_0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),w.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"Sucesso!"}),w.jsx("p",{className:"text-sm text-green-700",children:S}),w.jsx("button",{onClick:()=>H("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):w.jsxs("form",{onSubmit:j,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio ou E-mail"}),w.jsxs("div",{className:"relative",children:[w.jsx(bc,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),w.jsx("input",{type:"text",required:!0,value:x,onChange:N=>E(N.target.value),placeholder:"Digite seu usurio ou email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),w.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Enviar Instrues",!C&&w.jsx(RT,{className:"w-4 h-4"})]})]})]})]})]})]})},pte=({users:t,onAddUser:e,onUpdateUser:n,onDeleteUser:r,onCleanupDuplicates:i,totalClients:s})=>{const[o,c]=fe.useState(null),[f,d]=fe.useState(""),[h,g]=fe.useState(""),[x,E]=fe.useState(""),[S,A]=fe.useState("salesperson"),[C,O]=fe.useState("Externo"),[V,D]=fe.useState("#3B82F6"),[H,B]=fe.useState("Todos"),j=()=>{c(null),d(""),g(""),E(""),A("salesperson"),O("Externo"),D("#3B82F6")},N=M=>{c(M.id),d(M.name),g(M.username),E(M.password||""),A(M.role),O(M.salesCategory||"N/A"),D(M.color||"#3B82F6"),window.scrollTo({top:0,behavior:"smooth"})},I=M=>{if(M.preventDefault(),!f||!h||!x)return;const k={id:o||Date.now().toString(),name:f,username:h,role:S,password:x,salesCategory:S==="salesperson"?C:"N/A",color:S==="salesperson"?V:void 0};o?n(k):e(k),j()},b=t.filter(M=>H==="Todos"?!0:M.role==="admin"?!1:M.salesCategory===H),F=["Todos","Externo","Interno","Mercado Livre"];return w.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[w.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${o?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${o?"text-primary":"text-on-surface"}`,children:[o?w.jsx(Lg,{className:"w-5 h-5"}):w.jsx(DT,{className:"w-5 h-5 text-primary"}),o?"Editar Usurio":"Cadastrar Novo Usurio"]}),o&&w.jsxs("button",{onClick:j,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[w.jsx(cl,{className:"w-4 h-4"})," Cancelar Edio"]})]}),w.jsxs("form",{onSubmit:I,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2",children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),w.jsx("input",{type:"text",value:f,onChange:M=>d(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),w.jsx("input",{type:"text",value:h,onChange:M=>g(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),w.jsx("input",{type:"text",value:x,onChange:M=>E(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),w.jsxs("select",{value:S,onChange:M=>A(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[w.jsx("option",{value:"salesperson",children:"Vendedor"}),w.jsx("option",{value:"admin",children:"Administrador"})]})]}),S==="salesperson"&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"animate-fade-in",children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),w.jsxs("select",{value:C,onChange:M=>O(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[w.jsx("option",{value:"Externo",children:"Externo"}),w.jsx("option",{value:"Interno",children:"Interno"}),w.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),w.jsxs("div",{className:"animate-fade-in",children:[w.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"color",value:V,onChange:M=>D(M.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),w.jsx("input",{type:"text",value:V,onChange:M=>D(M.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),w.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:w.jsxs("button",{type:"submit",disabled:!f||!h||!x,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${o?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[o?w.jsx(op,{className:"w-4 h-4"}):w.jsx(DT,{className:"w-4 h-4"}),o?"Salvar Alteraes":"Criar Acesso"]})})]})]}),w.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[w.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[w.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[w.jsx(bc,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",b.length,")"]}),w.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[w.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[w.jsx(ha,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),w.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",w.jsx("strong",{children:s}),s>143&&w.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),w.jsxs("button",{onClick:i,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[w.jsx(ha,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),w.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:F.map(M=>w.jsx("button",{onClick:()=>B(M),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${H===M?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:M},M))})]}),w.jsx("div",{className:"hidden md:block overflow-x-auto",children:w.jsxs("table",{className:"w-full text-sm text-left",children:[w.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),w.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),w.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),w.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),w.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),w.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),w.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[b.map(M=>w.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${o===M.id?"bg-primary-container/30":""}`,children:[w.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:M.name}),w.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:M.username}),w.jsx("td",{className:"px-6 py-4",children:w.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${M.role==="admin"?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:M.role==="admin"?"Admin":"Vendedor"})}),w.jsx("td",{className:"px-6 py-4",children:M.role==="salesperson"?w.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[w.jsx(sC,{className:"w-3.5 h-3.5"}),M.salesCategory||"N/A"]}):w.jsx("span",{className:"text-outline-variant",children:"-"})}),w.jsx("td",{className:"px-6 py-4",children:M.role==="salesperson"&&M.color?w.jsx("div",{className:"flex items-center gap-2",title:M.color,children:w.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:M.color}})}):w.jsx("span",{className:"text-outline-variant",children:"-"})}),w.jsx("td",{className:"px-6 py-4 text-right",children:w.jsxs("div",{className:"flex items-center justify-end gap-2",children:[w.jsx("button",{onClick:()=>N(M),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:w.jsx(Lg,{className:"w-4 h-4"})}),M.username!=="admin"&&w.jsx("button",{onClick:()=>r(M.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:w.jsx(ll,{className:"w-4 h-4"})})]})})]},M.id)),b.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),w.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[b.map(M=>w.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${o===M.id?"bg-primary-container/30 border-primary/30":""}`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-3",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold text-on-surface",children:M.name}),w.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",M.username]})]}),w.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${M.role==="admin"?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:M.role==="admin"?"Admin":"Vendedor"})]}),w.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[w.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[w.jsx("span",{children:"Categoria:"}),w.jsx("span",{className:"font-medium text-on-surface",children:M.salesCategory||"-"})]}),w.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[w.jsx("span",{children:"Senha:"}),w.jsx("span",{className:"font-mono",children:M.password||"***"})]})]}),w.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[w.jsxs("button",{onClick:()=>N(M),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[w.jsx(Lg,{className:"w-3.5 h-3.5"})," Editar"]}),M.username!=="admin"&&w.jsxs("button",{onClick:()=>r(M.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[w.jsx(ll,{className:"w-3.5 h-3.5"})," Remover"]})]})]},M.id)),b.length===0&&w.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},mte=({categories:t,onAddCategory:e,onDeleteCategory:n})=>{const[r,i]=fe.useState(""),s=o=>{o.preventDefault(),r.trim()&&(e(r.trim()),i(""))};return w.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:w.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[w.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[w.jsx(aC,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),w.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),w.jsxs("form",{onSubmit:s,className:"flex gap-3 mb-8",children:[w.jsxs("div",{className:"relative flex-1",children:[w.jsx(E1,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),w.jsx("input",{type:"text",value:r,onChange:o=>i(o.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),w.jsxs("button",{type:"submit",disabled:!r.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[w.jsx(_1,{className:"w-4 h-4"})," Adicionar"]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[t.map(o=>w.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[w.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o]}),w.jsx("button",{onClick:()=>n(o),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:w.jsx(ll,{className:"w-4 h-4"})})]},o)),t.length===0&&w.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},gte=({products:t,onUploadProducts:e,onClearProducts:n,onSaveProducts:r,apiKey:i})=>{const[s,o]=fe.useState(!1),[c,f]=fe.useState(""),[d,h]=fe.useState(!1),[g,x]=fe.useState({current:0,total:0}),[E,S]=fe.useState([]),[A,C]=fe.useState(null),[O,V]=fe.useState(!1);fe.useEffect(()=>{S(t),V(!1)},[t]);const D=async k=>{var Te;const U=(Te=k.target.files)==null?void 0:Te[0];if(U){o(!0);try{let ye=[];const ae=U.name.toLowerCase();if(ae.endsWith(".csv"))ye=await $C(U);else if(ae.endsWith(".xlsx")||ae.endsWith(".xls"))ye=await bI(U);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");e(ye),k.target.value=""}catch(ye){console.error("Error parsing products:",ye),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{o(!1)}}},H=()=>{r&&(r(E),V(!1),alert("Alteraes salvas com sucesso!"))},B=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(E.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${E.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){h(!0),x({current:0,total:E.length});try{const k=await $Y(E,i,(U,Te)=>{x({current:U,total:Te})});S(k),V(!0),alert(` ${k.length} produtos foram categorizados pela IA!`)}catch(k){console.error("AI Categorization failed",k),alert(`Erro ao categorizar produtos: ${k.message||"Erro desconhecido"}`)}finally{h(!1),x({current:0,total:0})}}},j=(k,U,Te)=>{const ye=[...E];ye[k]={...ye[k],[U]:Te},S(ye),V(!0)},N=k=>{let U="asc";A&&A.key===k&&A.direction==="asc"&&(U="desc"),C({key:k,direction:U})},I=k=>A?[...k].sort((U,Te)=>{let ye=U[A.key],ae=Te[A.key];return A.key==="price"||A.key==="discount"?(ye=Number(ye||0),ae=Number(ae||0)):(ye=String(ye||"").toLowerCase(),ae=String(ae||"").toLowerCase()),ye<ae?A.direction==="asc"?-1:1:ye>ae?A.direction==="asc"?1:-1:0}):k,b=E.map((k,U)=>({...k,originalIndex:U})).filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.sku.toLowerCase().includes(c.toLowerCase())||k.brand.toLowerCase().includes(c.toLowerCase())||k.factoryCode.toLowerCase().includes(c.toLowerCase())),F=I(b),M=({column:k})=>(A==null?void 0:A.key)!==k?w.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):A.direction==="asc"?w.jsx(wD,{className:"w-3 h-3 ml-1 inline-block text-primary"}):w.jsx(vD,{className:"w-3 h-3 ml-1 inline-block text-primary"});return w.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[w.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[w.jsx(Cc,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),w.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),w.jsxs("div",{className:"flex gap-3",children:[O&&w.jsxs("button",{onClick:H,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[w.jsx(op,{className:"w-4 h-4"})," Salvar Alteraes"]}),t.length>0&&w.jsxs("button",{onClick:B,disabled:d,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?w.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):w.jsx(kT,{className:"w-4 h-4"}),d?"Processando...":"IA Classificar"]}),t.length>0&&w.jsxs("button",{onClick:n,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[w.jsx(ll,{className:"w-4 h-4"})," Limpar"]}),w.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${s?"opacity-50 pointer-events-none":""}`,children:[s?w.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):w.jsx(M3,{className:"w-4 h-4"}),s?"Processando...":"Importar CSV",w.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:D})]})]})]}),t.length===0?w.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[w.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:w.jsx(l0,{className:"w-8 h-8 text-outline"})}),w.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),w.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):w.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[w.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[w.jsx(Pf,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),w.jsx("input",{type:"text",value:c,onChange:k=>f(k.target.value),placeholder:"Filtrar por SKU, Marca, Cdigo ou Descrio...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),w.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:w.jsxs("table",{className:"w-full text-sm text-left",children:[w.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:w.jsxs("tr",{children:[w.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>N("sku"),children:["SKU ",w.jsx(M,{column:"sku"})]}),w.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("brand"),children:["Marca ",w.jsx(M,{column:"brand"})]}),w.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("factoryCode"),children:["Cd. Fbrica ",w.jsx(M,{column:"factoryCode"})]}),w.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>N("name"),children:["Descrio ",w.jsx(M,{column:"name"})]}),w.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>N("category"),children:["Categoria ",w.jsx(M,{column:"category"})]}),w.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("price"),children:["Preo (R$) ",w.jsx(M,{column:"price"})]}),w.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>N("discount"),children:["Desc. (%) ",w.jsx(M,{column:"discount"})]})]})}),w.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:F.map(k=>w.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[w.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:k.sku}),w.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs",children:k.brand}),w.jsx("td",{className:"px-4 py-2 font-mono text-xs text-on-surface-variant",children:k.factoryCode}),w.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:k.name,children:k.name}),w.jsx("td",{className:"px-2 py-2",children:w.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.category,onChange:U=>j(k.originalIndex,"category",U.target.value)})}),w.jsx("td",{className:"px-2 py-2 text-right",children:w.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.price,onChange:U=>j(k.originalIndex,"price",parseFloat(U.target.value)||0)})}),w.jsx("td",{className:"px-2 py-2 text-right",children:w.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.discount||0,onChange:U=>j(k.originalIndex,"discount",parseFloat(U.target.value)||0)})})]},`${k.sku}-${k.originalIndex}`))})]})}),w.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[F.map(k=>w.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:k.sku}),w.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:k.name}),w.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:k.brand})]}),w.jsx("div",{className:"text-right",children:w.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:k.factoryCode})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Categoria"}),w.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:k.category,onChange:U=>j(k.originalIndex,"category",U.target.value)})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),w.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:k.discount||0,onChange:U=>j(k.originalIndex,"discount",parseFloat(U.target.value)||0)})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),w.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:k.price,onChange:U=>j(k.originalIndex,"price",parseFloat(U.target.value)||0)})]})]},`${k.sku}-${k.originalIndex}`)),F.length===0&&w.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),w.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[w.jsxs("span",{children:["Total de Produtos: ",w.jsx("strong",{children:E.length})]}),w.jsxs("span",{children:["Exibindo: ",w.jsx("strong",{children:F.length})]})]})]})]}),d&&w.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[w.jsx(kT,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),w.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&h(!1)},className:"text-on-surface-variant hover:text-on-surface",children:w.jsx(cl,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[w.jsx("span",{children:"Processando produtos..."}),w.jsxs("span",{className:"font-mono font-bold text-primary",children:[g.current," / ",g.total]})]}),w.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})}),w.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},vte=({isOpen:t,onClose:e,onSaveToCloud:n,onClearDatabase:r,isFirebaseConnected:i=!1})=>{const[s,o]=fe.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[c,f]=fe.useState("idle"),[d,h]=fe.useState("");fe.useEffect(()=>{if(t){const S=ak();S&&(o(S),f("success"),h("Configurao salva encontrada."))}},[t]);const g=S=>{o({...s,[S.target.name]:S.target.value}),f("idle"),h("")},x=async()=>{if(f("testing"),h("Testando conexo..."),!s.apiKey||!s.projectId){f("error"),h("Campos obrigatrios faltando.");return}try{await ok(s)?(see(s),f("success"),h("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(f("error"),h("Falha ao conectar. Verifique as credenciais."))}catch(S){f("error"),h("Erro: "+S.message)}},E=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(aee(),o({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),f("idle"),h("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return t?w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:w.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[w.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:w.jsx(hv,{className:"w-5 h-5"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-bold",children:"Configurao de Nuvem"}),w.jsx("p",{className:"text-xs text-slate-400",children:"Sincronizao via Firebase Firestore"})]})]}),w.jsx("button",{onClick:e,className:"text-white/50 hover:text-white",children:""})]}),w.jsxs("div",{className:"p-6 space-y-4",children:[w.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-blue-50 p-3 rounded border border-blue-100",children:["Insira os dados do seu projeto Firebase. Voc pode encontrar isso no Console do Firebase ",">"," Configuraes do Projeto ",">"," Seus aplicativos."]}),w.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[w.jsx("input",{type:"text",name:"apiKey",placeholder:"apiKey",value:s.apiKey,onChange:g,className:"text-xs p-2 border rounded"}),w.jsx("input",{type:"text",name:"authDomain",placeholder:"authDomain",value:s.authDomain,onChange:g,className:"text-xs p-2 border rounded"}),w.jsx("input",{type:"text",name:"projectId",placeholder:"projectId",value:s.projectId,onChange:g,className:"text-xs p-2 border rounded"}),w.jsx("input",{type:"text",name:"storageBucket",placeholder:"storageBucket",value:s.storageBucket,onChange:g,className:"text-xs p-2 border rounded"}),w.jsx("input",{type:"text",name:"messagingSenderId",placeholder:"messagingSenderId",value:s.messagingSenderId,onChange:g,className:"text-xs p-2 border rounded"}),w.jsx("input",{type:"text",name:"appId",placeholder:"appId",value:s.appId,onChange:g,className:"text-xs p-2 border rounded"})]}),d&&w.jsxs("div",{className:`text-xs p-2 rounded flex items-center gap-2 ${c==="error"?"bg-red-50 text-red-600":c==="success"?"bg-green-50 text-green-600":"bg-gray-50 text-gray-600"}`,children:[c==="testing"&&w.jsx(gf,{className:"w-3 h-3 animate-spin"}),c==="success"&&w.jsx(_0,{className:"w-3 h-3"}),d]})]}),i&&n&&r&&w.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[w.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-3",children:"Aes da Nuvem"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[w.jsx(hv,{className:"w-4 h-4"}),"Salvar na Nuvem"]}),w.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[w.jsx(ll,{className:"w-4 h-4"}),"Limpar Base"]})]})]}),w.jsxs("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-2",children:[c==="success"&&w.jsxs("button",{onClick:E,className:"px-4 py-2 text-red-500 text-xs font-bold hover:bg-red-50 rounded transition-colors mr-auto flex items-center gap-1",children:[w.jsx(ll,{className:"w-3 h-3"})," Desconectar"]}),w.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium text-sm hover:bg-gray-200 rounded-lg",children:"Cancelar"}),w.jsx("button",{onClick:x,disabled:c==="testing",className:"px-6 py-2 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:c==="testing"?"Verificando...":"Salvar e Conectar"})]})]})}):null},xte=({onAccept:t,onDecline:e})=>{const[n,r]=fe.useState(!1);fe.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const c=setTimeout(()=>r(!0),1500);return()=>clearTimeout(c)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),r(!1),t()},s=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),r(!1),e()};return n?w.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 animate-slide-up",children:w.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600 shrink-0",children:w.jsx(PD,{className:"w-6 h-6"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Este site utiliza cookies e armazenamento local"}),w.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Ns armazenamos dados no seu navegador para garantir que o sistema carregue instantaneamente na prxima vez que voc acessar (cache offline). Isso permite que voc trabalhe mais rpido e at mesmo sem internet."})]})]}),w.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[w.jsx("button",{onClick:s,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Agora no"}),w.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[w.jsx(_0,{className:"w-4 h-4"}),"Permitir Cache Rpido"]})]})]})}):null},yte=({users:t,uploadedFiles:e,onUploadClients:n,onUploadProducts:r,onDeleteFile:i,onReassignSalesperson:s,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,f]=fe.useState("clients"),[d,h]=fe.useState(""),[g,x]=fe.useState([]),E=D=>{if(D.target.files&&D.target.files.length>0){const H=Array.from(D.target.files).map(B=>({file:B,targetUserId:d||""}));x(B=>[...B,...H]),D.target.value=""}},S=D=>{x(H=>H.filter((B,j)=>j!==D))},A=(D,H)=>{x(B=>{const j=[...B];return j[D].targetUserId=H,j})},C=async()=>{const D=g.filter(H=>H.targetUserId);if(D.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const H of D)await n(H.file,H.targetUserId,!0);x([])},O=D=>{var B;const H=(B=D.target.files)==null?void 0:B[0];H&&(r(H),D.target.value="")},V=e.filter(D=>D.type===c);return w.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[w.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:w.jsxs("div",{children:[w.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[w.jsx(E0,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),w.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),w.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[w.jsxs("button",{onClick:()=>f("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[w.jsx(mv,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&w.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),w.jsxs("button",{onClick:()=>f("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[w.jsx(Cc,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&w.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),(o==null?void 0:o.isActive)&&w.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?w.jsx(gf,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?w.jsx(mf,{className:"w-5 h-5"}):w.jsx(ha,{className:"w-5 h-5"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&w.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),w.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[w.jsx("div",{className:"lg:col-span-4",children:w.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[w.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[w.jsx(Ete,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?w.jsxs("div",{className:"space-y-5",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:D=>h(D.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),t.filter(D=>D.role==="salesperson").map(D=>w.jsx("option",{value:D.id,children:D.name},D.id))]}),w.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:w.jsx(_te,{className:"w-4 h-4"})})]})]}),g.length>0&&w.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[w.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[w.jsxs("span",{children:["Arquivos na Fila (",g.length,")"]}),w.jsx("button",{onClick:()=>x([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),w.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:g.map((D,H)=>w.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[w.jsx(l0,{className:"w-4 h-4 text-primary shrink-0"}),w.jsx("span",{className:"truncate flex-1 font-medium",title:D.file.name,children:D.file.name}),w.jsxs("select",{value:D.targetUserId,onChange:B=>A(H,B.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${D.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[w.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),t.filter(B=>B.role==="salesperson").map(B=>w.jsx("option",{value:B.id,children:B.name},B.id))]}),w.jsx("button",{onClick:()=>S(H),className:"text-on-surface-variant hover:text-error p-1",children:w.jsx(cl,{className:"w-3 h-3"})})]},H))}),w.jsx("button",{onClick:C,disabled:(o==null?void 0:o.isActive)||g.some(D=>!D.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o!=null&&o.isActive?w.jsxs(w.Fragment,{children:[w.jsx(gf,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):w.jsxs(w.Fragment,{children:[w.jsx(mf,{className:"w-3 h-3"}),"Processar ",g.length," Arquivos"]})})]}),w.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[w.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[w.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:w.jsx(E0,{className:"w-6 h-6"})}),w.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),w.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:E,disabled:(o==null?void 0:o.isActive)&&o.status==="processing"})]}),w.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant",children:[w.jsx(IT,{className:"w-3 h-3"}),w.jsx("span",{children:"Suporta .csv, .xlsx, .xls (Mltiplos arquivos)"})]})]}):w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[w.jsx(Cc,{className:"w-5 h-5 shrink-0"}),w.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),w.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[w.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:w.jsx(Cc,{className:"w-6 h-6"})}),w.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),w.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:O,disabled:(o==null?void 0:o.isActive)&&o.status==="processing"})]})]})]})}),w.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[w.jsx("div",{className:"flex items-center justify-between mb-2",children:w.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[w.jsx(l0,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",w.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:V.length})]})}),V.length===0?w.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[w.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:w.jsx(IT,{className:"w-10 h-10 text-outline"})}),w.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),w.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):w.jsx("div",{className:"space-y-3",children:V.map(D=>w.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[w.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[w.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${D.status==="error"?"bg-error-container text-error":D.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:D.status==="processing"?w.jsx(gf,{className:"w-5 h-5 animate-spin"}):D.status==="error"?w.jsx(ha,{className:"w-5 h-5"}):w.jsx(l0,{className:"w-5 h-5"})}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:D.fileName,children:D.fileName}),w.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(CD,{className:"w-3 h-3"}),new Date(D.uploadDate).toLocaleDateString(),w.jsx("span",{className:"opacity-60 ml-1",children:new Date(D.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(mf,{className:"w-3 h-3"}),D.itemCount," registros"]})]}),D.status==="error"&&w.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:D.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&w.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:(()=>{var B;const H=t.find(j=>j.id===D.salespersonId);return((B=H==null?void 0:H.name)==null?void 0:B.charAt(0))||"?"})()}),w.jsxs("div",{className:"min-w-0 flex-1",children:[w.jsxs("select",{value:D.salespersonId,onChange:H=>s==null?void 0:s(D.id,H.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:D.status==="processing",children:[w.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),t.filter(H=>H.role==="salesperson").map(H=>w.jsx("option",{value:H.id,className:"bg-surface text-on-surface",children:H.name},H.id))]}),w.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),w.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:D.status==="processing"?w.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):w.jsxs("button",{onClick:()=>i(D.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[w.jsx(ll,{className:"w-4 h-4"}),w.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},D.id))})]})]})]})};function _te(t){return w.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),w.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function Ete(t){return w.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),w.jsx("circle",{cx:"12",cy:"10",r:"5"}),w.jsx("path",{d:"M12 15V3"}),w.jsx("path",{d:"m9 6 3-3 3 3"})]})}const nC=[{id:"admin",name:"Administrador Geral",username:"admin",email:"admin@vendas.ai",role:"admin",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"salesperson",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"salesperson",password:"123",salesCategory:"Interno",color:"#3B82F6"}],Tte=()=>{const[t,e]=fe.useState(()=>{try{const d=localStorage.getItem("vendas_ai_users");return d?JSON.parse(d):nC}catch(d){return console.error("Failed to load users from storage",d),nC}}),[n,r]=fe.useState(null);return fe.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(t))},[t]),{users:t,setUsers:e,currentUser:n,login:d=>{r(d)},logout:()=>{r(null)},addUser:d=>{e([...t,d])},updateUser:d=>{e(t.map(h=>h.id===d.id?d:h))},deleteUser:d=>{e(t.filter(h=>h.id!==d))}}},wte=()=>{try{const t=localStorage.getItem("vendas_ai_clients");if(t)return JSON.parse(t).map(n=>({...n,category:Array.isArray(n.category)?n.category:typeof n.category=="string"?[n.category]:["Outros"],region:T1(n.state)}))}catch(t){console.error("Failed to load clients",t)}return[]},Ste=()=>{try{const t=localStorage.getItem("vendas_ai_products");return t?JSON.parse(t):[]}catch{return[]}},Ate=()=>{try{const t=localStorage.getItem("vendas_ai_categories");return t?JSON.parse(t):Ff.filter(e=>e!=="Todos")}catch{return Ff.filter(e=>e!=="Todos")}},Cte=()=>{try{const t=localStorage.getItem("vendas_ai_files");return t?JSON.parse(t):[]}catch{return[]}},bte=(t,e)=>{const[n,r]=fe.useState([]),[i,s]=fe.useState(Ste),[o,c]=fe.useState(Ate),[f,d]=fe.useState(Cte),[h,g]=fe.useState(!1),[x,E]=fe.useState(!1);return fe.useEffect(()=>{(async()=>{var O,V,D;const A=await ok();if(g(A),A){console.log("Loading data from Cloud...");try{const H=await oee();if(H&&(((O=H.clients)==null?void 0:O.length)>0||((V=H.products)==null?void 0:V.length)>0||((D=H.users)==null?void 0:D.length)>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),H.clients&&r(H.clients),H.products&&s(H.products),H.categories&&c(H.categories),H.users&&e&&e(H.users),H.uploadedFiles&&d(H.uploadedFiles),E(!0);return}}catch(H){console.error("Cloud load error",H)}}console.log("Loading data from LocalStorage..."),r(wte());const C=localStorage.getItem("vendas_ai_users");C&&e&&e(JSON.parse(C)),E(!0)})()},[]),fe.useEffect(()=>{if(h&&x&&(n.length>0||t.length>0||f.length>0)){const S=setTimeout(()=>{lk(n,i,o,t,f).catch(A=>console.error("Auto-save failed",A))},2e3);return()=>clearTimeout(S)}},[n,i,o,t,f,h,x]),fe.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(n))},[n]),fe.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(o))},[o]),fe.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(i))},[i]),fe.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(f))},[f]),{masterClientList:n,setMasterClientList:r,products:i,setProducts:s,categories:o,setCategories:c,uploadedFiles:f,setUploadedFiles:d,isFirebaseConnected:h,isDataLoaded:x}},Ite=(t,e,n,r)=>{const[i,s]=fe.useState(""),[o,c]=fe.useState("Todas"),[f,d]=fe.useState("Todos"),[h,g]=fe.useState("Todas"),[x,E]=fe.useState("Todos"),[S,A]=fe.useState("Todos"),[C,O]=fe.useState("Todos"),[V,D]=fe.useState("Todos"),[H,B]=fe.useState(""),j=fe.useMemo(()=>{if(!n)return[];let k=[];return n.role==="admin"?S!=="Todos"?k=t.filter(U=>U.salespersonId===S):k=t:k=t.filter(U=>U.salespersonId===n.id),k},[n,t,S]),N=fe.useMemo(()=>j.filter(k=>{const U=o==="Todas"||k.region===o,Te=f==="Todos"||k.state===f,ye=h==="Todas"||k.city===h,ae=x==="Todos"||Array.isArray(k.category)&&k.category.includes(x);let oe=!0;if((n==null?void 0:n.role)==="admin"&&C!=="Todos"){const z=e.find(Q=>Q.id===k.salespersonId);(!z||z.salesCategory!==C)&&(oe=!1)}const Re=i.toLowerCase(),ie=i===""||k.companyName.toLowerCase().includes(Re)||k.ownerName&&k.ownerName.toLowerCase().includes(Re);let Le=!0;const Z=H.toLowerCase();if(V!=="Todos"||Z!=="")if(!k.purchasedProducts||k.purchasedProducts.length===0)Le=!1;else{const z=V==="Todos"||k.purchasedProducts.some(te=>te.category===V),Q=Z===""||k.purchasedProducts.some(te=>te.name.toLowerCase().includes(Z)||te.sku.toLowerCase().includes(Z)||te.brand.toLowerCase().includes(Z)||te.factoryCode.toLowerCase().includes(Z)||te.price.toString().includes(Z));Le=z&&Q}return U&&Te&&ye&&ae&&ie&&Le&&oe}),[j,o,f,h,x,i,V,H,C,e,n]),I=fe.useMemo(()=>{let k=j;o!=="Todas"&&(k=k.filter(Te=>Te.region===o));const U=new Set(k.map(Te=>Te.state).filter(Boolean));return Array.from(U).sort()},[j,o]),b=fe.useMemo(()=>{let k=j;if(o!=="Todas"&&(k=k.filter(Te=>Te.region===o)),f!=="Todos")k=k.filter(Te=>Te.state===f);else return[];const U=new Set(k.map(Te=>Te.city).filter(Boolean));return Array.from(U).sort()},[j,o,f]),F=fe.useMemo(()=>{const k=new Set(r.map(U=>U.category));return Array.from(k).sort()},[r]);return{searchQuery:i,setSearchQuery:s,filterRegion:o,setFilterRegion:c,filterState:f,setFilterState:d,filterCity:h,setFilterCity:g,filterCategory:x,setFilterCategory:E,filterSalespersonId:S,setFilterSalespersonId:A,filterSalesCategory:C,setFilterSalesCategory:O,filterProductCategory:V,setFilterProductCategory:D,searchProductQuery:H,setSearchProductQuery:B,filteredClients:N,visibleClients:j,availableStates:I,availableCities:b,productCategories:F,resetFilters:()=>{s(""),c("Todas"),d("Todos"),g("Todas"),A("Todos"),O("Todos"),D("Todos"),B("")}}},Nte=()=>{const{users:t,setUsers:e,currentUser:n,login:r,logout:i,addUser:s,updateUser:o,deleteUser:c}=Tte(),{masterClientList:f,setMasterClientList:d,products:h,setProducts:g,categories:x,setCategories:E,uploadedFiles:S,setUploadedFiles:A,isFirebaseConnected:C}=bte(t,e),{searchQuery:O,setSearchQuery:V,filterRegion:D,setFilterRegion:H,filterState:B,setFilterState:j,filterCity:N,setFilterCity:I,filterCategory:b,setFilterCategory:F,filterSalespersonId:M,setFilterSalespersonId:k,filterSalesCategory:U,setFilterSalesCategory:Te,filterProductCategory:ye,setFilterProductCategory:ae,searchProductQuery:oe,setSearchProductQuery:Re,filteredClients:ie,visibleClients:Le,availableStates:Z,availableCities:z,productCategories:Q,resetFilters:te}=Ite(f,t,n,h),[X,ce]=fe.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[Ce,be]=fe.useState("AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"),[Ee,Ae]=fe.useState(0),[Oe,ne]=fe.useState("map"),[mt,Je]=fe.useState(!1),[Qe,Ge]=fe.useState(!1),[ze,tt]=fe.useState(!1),[rt,ut]=fe.useState(void 0),Kt=fe.useRef(!1),hn=Pe=>{if(X.isActive&&X.status==="processing")if(window.confirm(`Gostaria de Parar de Enviar o Arquivo?

Clique em OK para PARAR o envio.
Clique em Cancelar para CONTINUAR o envio.`))Kt.current=!0,ne(Pe);else return;else ne(Pe)},[Hn,dt]=fe.useState(""),[Yt,vt]=fe.useState(!1);fe.useEffect(()=>{be("AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc")},[]);const ln=()=>{if(!window.confirm(` Remover Clientes Duplicados?

Esta ao ir:
 Identificar clientes com mesmo nome e endereo
 Manter apenas 1 registro de cada
 Atualizar a contagem total

Deseja continuar?`))return;const et=new Map,Ke=[];let ot=0;if(f.forEach(Ut=>{const Jt=`${Ut.companyName}-${Ut.cleanAddress}`.toLowerCase().trim();et.has(Jt)?ot++:(et.set(Jt,Ut),Ke.push(Ut))}),ot===0){alert(" Nenhum cliente duplicado encontrado!");return}d(Ke),alert(` Limpeza Concluda!

${ot} clientes duplicados removidos
Total anterior: ${f.length}
Total atual: ${Ke.length}`)},Rt=Pe=>{x.includes(Pe)||E([...x,Pe])},Gn=Pe=>{E(x.filter(et=>et!==Pe))},ht=Pe=>{g(et=>{const Ke=[...et,...Pe];return xn(f,Ke),Ke})},Ft=Pe=>{g(Pe)},Xt=()=>{g([]),d(Pe=>Pe.map(et=>({...et,purchasedProducts:[]})))},bt=()=>{window.confirm(` ATENO: Limpar TODOS os Clientes?

Esta ao ir:
 Remover TODOS os clientes do sistema
 Limpar a listagem de arquivos
 Resetar contadores

Os vendedores, produtos e categorias no sero afetados.

Deseja continuar?`)&&(d([]),A(Pe=>Pe.filter(et=>et.type!=="clients")),alert(` Base de Clientes Limpa!

Voc pode agora fazer upload de novas planilhas de clientes.`))},Qt=async Pe=>{const et=f.find(ot=>ot.id===Pe.id);let Ke={...Pe};if(et&&et.cleanAddress!==Pe.cleanAddress)try{const ot=await $v(Pe.cleanAddress,Ce||"");ot&&(Ke.lat=ot.lat,Ke.lng=ot.lng,ot.formattedAddress&&(Ke.cleanAddress=ot.formattedAddress))}catch(ot){console.error("Failed to re-geocode updated client:",ot)}d(ot=>ot.map(Ut=>Ut.id===Ke.id?Ke:Ut))},pr=async Pe=>{let et={...Pe};if((!et.lat||!et.lng)&&et.cleanAddress)try{const Ke=await $v(et.cleanAddress,Ce||"");Ke&&(et.lat=Ke.lat,et.lng=Ke.lng,Ke.formattedAddress&&(et.cleanAddress=Ke.formattedAddress))}catch(Ke){console.error("Failed to geocode new client:",Ke)}d(Ke=>[...Ke,et]),setTimeout(()=>{const Ke=document.querySelector(".overflow-y-auto");Ke&&(Ke.scrollTop=Ke.scrollHeight)},100)},xn=(Pe,et)=>{if(et.length===0)return;const Ke=Pe.map(ot=>{if(ot.purchasedProducts&&ot.purchasedProducts.length>0)return ot;let Ut=et.filter(xr=>ot.category.some(yr=>xr.category.toLowerCase().includes(yr.toLowerCase())||yr.toLowerCase().includes(xr.category.toLowerCase())));Ut.length===0&&(Ut=et);const Jt=Math.floor(Math.random()*5)+1,vr=[...Ut].sort(()=>.5-Math.random()).slice(0,Jt);return{...ot,purchasedProducts:vr}});d(Ke)},Ta=async()=>{if(window.aistudio)try{await window.aistudio.openSelectKey();const Pe="AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc";Pe&&be(Pe),Ae(et=>et+1)}catch(Pe){console.error(Pe)}else console.error("AI Studio environment not detected.")},Ji=Pe=>{if(r(Pe),te(),hn("map"),vt(!1),Pe.role==="admin"){const et=t.find(Ke=>Ke.role==="salesperson");et&&dt(et.id)}},Hs=()=>{if(X.isActive&&X.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))Kt.current=!0;else return;i(),te()},jr=async(Pe,et,Ke=!1)=>{const ot=t.find(pn=>pn.id===et),Ut=ot?ot.name:"Desconhecido";if(f.length>0&&!Ke&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const Jt=crypto.randomUUID();ce({isActive:!0,total:0,current:0,fileName:Pe.name,ownerName:Ut,status:"reading"}),Kt.current=!1;try{let pn=[];const vr=Pe.name.toLowerCase();if(console.log(`Processing file: ${Pe.name}, Lower: ${vr}`),vr.endsWith(".csv"))console.log("Selected Parser: CSV"),pn=await EO(Pe);else if(vr.endsWith(".xlsx")||vr.endsWith(".xls"))console.log("Selected Parser: Excel"),pn=await Sz(Pe);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",pn.length),pn.length>0&&console.log("Sample Parsed Item:",pn[0]),pn.length===0)throw new Error("Arquivo vazio.");const xr={id:Jt,fileName:Pe.name,uploadDate:new Date().toISOString(),salespersonId:et,salespersonName:Ut,type:"clients",itemCount:pn.length,status:"processing"};A(W=>[xr,...W]),ce(W=>({...W,total:pn.length,status:"processing"}));const G=(await qY(pn,et,Ce,x,(W,K)=>{if(Kt.current)throw new Error("CANCELLED_BY_USER");ce(J=>({...J,current:W,total:K}))})).map(W=>({...W,sourceFileId:Jt}));d(W=>[...W,...G]),ce(W=>({...W,status:"completed"})),A(W=>W.map(K=>K.id===Jt?{...K,status:"completed"}:K)),setTimeout(()=>{ce(W=>W.status==="completed"?{...W,isActive:!1}:W)},5e3)}catch(pn){console.error(pn);const vr=pn.message==="CANCELLED_BY_USER",xr=vr?"Cancelado pelo usurio.":pn.message||"Erro desconhecido",yr=vr;ce(G=>({...G,status:"error",errorMessage:xr,isActive:!yr})),A(G=>G.map(W=>W.id===Jt?{...W,status:"error",errorMessage:xr}:W))}},Wi=Pe=>{const et=S.find(Ke=>Ke.id===Pe);et&&window.confirm(`Tem certeza que deseja excluir o arquivo "${et.fileName}"?

Isso remover todos os ${et.itemCount} registros associados.`)&&(et.type==="clients"?d(Ke=>Ke.filter(ot=>ot.sourceFileId!==Pe)):et.type==="products"&&g(Ke=>Ke.filter(ot=>ot.sourceFileId!==Pe)),A(Ke=>Ke.filter(ot=>ot.id!==Pe)))},Tn=(Pe,et)=>{const Ke=t.find(Ut=>Ut.id===et),ot=(Ke==null?void 0:Ke.name)||"None";A(Ut=>Ut.map(Jt=>Jt.id===Pe?{...Jt,salespersonId:et,salespersonName:ot}:Jt)),d(Ut=>Ut.map(Jt=>Jt.sourceFileId===Pe?{...Jt,salespersonId:et}:Jt)),et?(hn("map"),k(et),alert(`Arquivo e ${ie.filter(Ut=>Ut.sourceFileId===Pe).length} clientes reatribudos para: ${ot}

Mapa filtrado automaticamente.`)):(k("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},mr=async Pe=>{const et=crypto.randomUUID();ce({isActive:!0,total:0,current:0,fileName:Pe.name,ownerName:"Sistema",status:"reading"});try{let Ke=[];const ot=Pe.name.toLowerCase();if(ot.endsWith(".csv"))Ke=await $C(Pe);else if(ot.endsWith(".xlsx")||ot.endsWith(".xls"))Ke=await bI(Pe);else throw new Error("Formato no suportado.");if(Ke.length===0)throw new Error("Arquivo vazio.");Ke=Ke.map(Jt=>({...Jt,sourceFileId:et}));const Ut={id:et,fileName:Pe.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:Ke.length,status:"completed"};A(Jt=>[Ut,...Jt]),ht(Ke),ce({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${Ke.length} produtos importados com sucesso.`)}catch(Ke){console.error(Ke),ce(ot=>({...ot,status:"error",errorMessage:Ke.message})),A(ot=>ot.map(Ut=>Ut.id===et?{...Ut,status:"error",errorMessage:Ke.message}:Ut))}};if(!n)return w.jsx(hte,{users:t,onLogin:Ji});const wn=n.role==="admin",gr=ye!=="Todos"||oe!=="";return w.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[Yt&&w.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>vt(!1)}),w.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${Yt?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[w.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[w.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[w.jsx(NT,{className:"w-6 h-6"}),"Vendas A.I."]}),w.jsx("button",{onClick:()=>vt(!1),className:"md:hidden text-on-surface-variant hover:text-primary",children:w.jsx(cl,{className:"w-6 h-6"})})]}),w.jsx("div",{className:"px-6 py-2",children:w.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:wn?"Painel Administrativo":"Portal do Vendedor"})}),w.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[w.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),w.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),w.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[w.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md ${wn?"bg-tertiary":"bg-secondary"}`,children:n.name.charAt(0)}),w.jsxs("div",{className:"min-w-0",children:[w.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:n.name}),w.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:n.email})]})]})]}),w.jsxs("nav",{className:"space-y-1 mb-8",children:[w.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),w.jsxs("button",{onClick:()=>{ne("map"),vt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Oe==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[w.jsx(n3,{className:`w-5 h-5 ${Oe==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),w.jsxs("button",{onClick:()=>{ne("table"),vt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Oe==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[w.jsx(N3,{className:`w-5 h-5 ${Oe==="table"?"fill-current":""}`}),"Listagem de Dados"]})]}),w.jsxs("nav",{className:"space-y-1 mb-8",children:[w.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),w.jsxs("button",{onClick:()=>{hn("admin_users"),vt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Oe==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[w.jsx(mv,{className:`w-5 h-5 ${Oe==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),w.jsxs("button",{onClick:()=>{hn("admin_categories"),vt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Oe==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[w.jsx(aC,{className:`w-5 h-5 ${Oe==="admin_categories"?"fill-current":""}`}),"Categorias"]}),w.jsxs("button",{onClick:()=>{hn("admin_products"),vt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Oe==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[w.jsx(Cc,{className:`w-5 h-5 ${Oe==="admin_products"?"fill-current":""}`}),"Produtos"]}),w.jsxs("button",{onClick:()=>{hn("admin_files"),vt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${Oe==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[w.jsx(E0,{className:`w-5 h-5 ${Oe==="admin_files"?"fill-current":""}`}),"Arquivos"]}),w.jsxs("button",{onClick:()=>{tt(!0),vt(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[w.jsx(hv,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),w.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[w.jsxs("button",{onClick:Hs,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",children:[w.jsx(ZD,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),w.jsx("div",{className:"text-center mt-4",children:w.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),w.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[w.jsx("button",{onClick:()=>vt(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",children:w.jsx(a3,{className:"w-6 h-6"})}),w.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[w.jsx(NT,{className:"w-5 h-5"})," Vendas A.I."]}),w.jsx("div",{className:"w-10"})," "]}),w.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!wn&&Oe==="table"&&w.jsx("button",{onClick:()=>Je(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",children:w.jsx(mv,{className:"w-6 h-6"})}),w.jsx(vte,{isOpen:ze,onClose:()=>tt(!1),onSaveToCloud:()=>{lk(f,h,x,t),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:bt,isFirebaseConnected:C}),w.jsx(xte,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),w.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[w.jsx("span",{children:"Portal"}),w.jsx(ND,{className:"w-4 h-4"}),w.jsx("span",{className:"font-semibold text-blue-600",children:Oe==="map"?"Mapa da Carteira":Oe==="table"?"Listagem de Clientes":Oe==="admin_categories"?"Categorias de Clientes":Oe==="admin_products"?"Catlogo de Produtos":"Gesto de Usurios"})]}),w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsxs("div",{className:"text-right",children:[w.jsx("p",{className:"text-xs text-gray-400",children:wn?"Clientes Visualizados":"Meus Clientes"}),w.jsx("p",{className:"text-lg font-bold leading-none",children:Le.length})]}),wn&&w.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[w.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),w.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:f.length})]})]})]}),Oe==="admin_users"&&wn?w.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:w.jsx(pte,{users:t,onAddUser:s,onUpdateUser:o,onDeleteUser:c,onCleanupDuplicates:ln,totalClients:f.length})}):Oe==="admin_categories"&&wn?w.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:w.jsx(mte,{categories:x,onAddCategory:Rt,onDeleteCategory:Gn})}):Oe==="admin_products"&&wn?w.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:w.jsx(gte,{products:h,onUploadProducts:ht,onClearProducts:Xt,onSaveProducts:Ft,apiKey:Ce})}):Oe==="admin_files"&&wn?w.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:w.jsx(yte,{users:t,uploadedFiles:S,onUploadClients:(Pe,et)=>{dt(et);const Ke=t.find(ot=>ot.id===et);Ke!=null&&Ke.name,jr(Pe,et)},onUploadProducts:mr,onDeleteFile:Wi,onReassignSalesperson:Tn,procState:X})}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"bg-gray-100 p-4 border-b border-gray-200 flex flex-col gap-3",children:[w.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[w.jsxs("div",{className:"relative mr-2",children:[w.jsx(Pf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),w.jsx("input",{type:"text",value:O,onChange:Pe=>V(Pe.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-4 py-1.5 text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 w-56 border outline-none"})]}),w.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2 hidden sm:block"}),w.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mr-2",children:[w.jsx(GD,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm font-bold hidden md:inline",children:"Filtros:"})]}),wn&&w.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-2 py-1 rounded-md border border-purple-100 mr-2",children:[w.jsxs("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-wider flex items-center gap-1",children:[w.jsx(S3,{className:"w-3 h-3"})," Admin"]}),w.jsxs("div",{className:"relative",children:[w.jsx(bc,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),w.jsxs("select",{value:M,onChange:Pe=>k(Pe.target.value),className:"text-sm border-purple-300 bg-white text-purple-900 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium",children:[w.jsx("option",{value:"Todos",children:"Todos Vendedores"}),t.filter(Pe=>Pe.role==="salesperson").map(Pe=>w.jsx("option",{value:Pe.id,children:Pe.name},Pe.id))]})]}),w.jsxs("div",{className:"relative",children:[w.jsx(sC,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),w.jsxs("select",{value:U,onChange:Pe=>Te(Pe.target.value),className:"text-sm border-purple-300 bg-white text-purple-900 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium",children:[w.jsx("option",{value:"Todos",children:"Todas Equipes"}),w.jsx("option",{value:"Externo",children:"Externo"}),w.jsx("option",{value:"Interno",children:"Interno"}),w.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),w.jsxs("select",{value:D,onChange:Pe=>{H(Pe.target.value),j("Todos"),I("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",children:[w.jsx("option",{value:"Todas",children:"Todas Regies"}),cp.map(Pe=>w.jsx("option",{value:Pe,children:Pe},Pe))]}),w.jsxs("select",{value:B,onChange:Pe=>{j(Pe.target.value),I("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",disabled:Z.length===0,children:[w.jsxs("option",{value:"Todos",children:["Todos Estados ",D!=="Todas"?`(${D})`:""]}),Z.map(Pe=>w.jsx("option",{value:Pe,children:Pe},Pe))]}),w.jsxs("select",{value:N,onChange:Pe=>I(Pe.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5 min-w-[120px]",disabled:B==="Todos"||z.length===0,children:[w.jsx("option",{value:"Todas",children:"Todas Cidades"}),z.map(Pe=>w.jsx("option",{value:Pe,children:Pe},Pe))]}),w.jsxs("div",{className:"flex items-center gap-1 relative ml-2",children:[w.jsx(oC,{className:"w-4 h-4 text-gray-400 absolute left-2 pointer-events-none"}),w.jsxs("select",{value:b,onChange:Pe=>F(Pe.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-8 pr-3 py-1.5",children:[w.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),x.map(Pe=>w.jsx("option",{value:Pe,children:Pe},Pe))]})]})]}),w.jsxs("div",{className:"flex flex-wrap gap-3 items-center bg-white border border-gray-200 p-2 rounded-lg shadow-sm",children:[w.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[w.jsx(Cc,{className:"w-4 h-4"}),"Vendas:"]}),w.jsxs("select",{value:ye,onChange:Pe=>ae(Pe.target.value),className:`text-sm rounded-md px-3 py-1.5 border transition-colors ${ye!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[w.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),Q.map(Pe=>w.jsx("option",{value:Pe,children:Pe},Pe))]}),w.jsxs("div",{className:"relative",children:[w.jsx(Pf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),w.jsx("input",{type:"text",value:oe,onChange:Pe=>Re(Pe.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-8 pr-3 py-1.5 text-sm border rounded-md focus:ring-green-500 focus:border-green-500 outline-none w-64 transition-colors ${oe?"bg-green-50 border-green-300":"border-gray-300"}`})]}),gr&&w.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[w.jsx(mf,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!gr&&w.jsx("span",{className:"ml-auto text-xs text-gray-400",children:h.length===0?"Nenhum produto cadastrado no admin.":`${h.length} produtos no catlogo.`})]}),w.jsx("div",{className:"flex justify-end",children:w.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[ie.length," resultados encontrados"]})})]}),w.jsx("div",{className:"flex-1 overflow-hidden p-4 bg-gray-100",children:Le.length===0&&!X.isActive?w.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:wn?w.jsxs(w.Fragment,{children:[w.jsx(E0,{className:"w-12 h-12 mb-2 opacity-20"}),w.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),w.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):w.jsxs(w.Fragment,{children:[w.jsx(pv,{className:"w-12 h-12 mb-2 opacity-20"}),w.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),w.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):w.jsx("div",{className:"h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative",children:Oe==="map"?w.jsx(cte,{clients:ie,apiKey:Ce,onInvalidKey:Ta,productFilterActive:gr,highlightProductTerm:oe,activeProductCategory:ye,users:t},`${Ce}-${Ee}`):w.jsx(dte,{clients:ie,onUpdateClient:Qt,onAddClient:pr,currentUserRole:n==null?void 0:n.role,currentUserId:n==null?void 0:n.id,currentUserName:n==null?void 0:n.name})})})]}),X.isActive&&w.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[w.jsx("div",{className:`h-1.5 w-full ${X.status==="error"?"bg-red-200":"bg-blue-100"}`,children:w.jsx("div",{className:`h-full transition-all duration-300 ${X.status==="completed"?"bg-green-500 w-full":X.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:X.total>0?`${X.current/X.total*100}%`:"0%"}})}),w.jsxs("div",{className:"p-4",children:[w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{children:[w.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[X.status==="completed"&&w.jsx(mf,{className:"w-4 h-4 text-green-500"}),X.status==="processing"&&w.jsx(gf,{className:"w-4 h-4 text-blue-500 animate-spin"}),X.status==="error"&&w.jsx(ha,{className:"w-4 h-4 text-red-500"}),X.status==="reading"?"Lendo Arquivo...":X.status==="processing"?"Processando Planilha":X.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),w.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[X.fileName," ",w.jsx("span",{className:"mx-1",children:""})," ",X.ownerName]})]}),w.jsx("button",{onClick:()=>{X.isActive&&X.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(Kt.current=!0,ce(Pe=>({...Pe,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):ce(Pe=>({...Pe,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",children:w.jsx(cl,{className:"w-4 h-4"})})]}),X.status==="processing"&&w.jsxs("div",{className:"mt-3",children:[w.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[w.jsx("span",{children:"Progresso (IA + Maps)"}),w.jsxs("span",{className:"font-mono",children:[X.current," / ",X.total]})]}),w.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),X.status==="error"&&w.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:X.errorMessage})]})]})]})]})};class Rte extends Qn.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:w.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[w.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[w.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:w.jsx(ha,{className:"w-8 h-8"})}),w.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),w.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),w.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:(e=this.state.error)==null?void 0:e.toString()}),w.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const Tk=document.getElementById("root");if(!Tk)throw new Error("Could not find root element to mount to");const kte=uD.createRoot(Tk);kte.render(w.jsx(Qn.StrictMode,{children:w.jsx(Rte,{children:w.jsx(Nte,{})})}));
