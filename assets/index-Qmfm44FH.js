(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function oh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Em={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function G4(){if(O_)return fu;O_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return fu.Fragment=e,fu.jsx=n,fu.jsxs=n,fu}var L_;function z4(){return L_||(L_=1,Em.exports=G4()),Em.exports}var T=z4(),Tm={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function q4(){if(U_)return pt;U_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function S(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function L(W,V,X){this.props=W,this.context=V,this.refs=b,this.updater=X||A}L.prototype.isReactComponent={},L.prototype.setState=function(W,V){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,V,"setState")},L.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function H(){}H.prototype=L.prototype;function F(W,V,X){this.props=W,this.context=V,this.refs=b,this.updater=X||A}var z=F.prototype=new H;z.constructor=F,w(z,L.prototype),z.isPureReactComponent=!0;var B=Array.isArray;function j(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(W,V,X){var Q=X.ref;return{$$typeof:t,type:W,key:V,ref:Q!==void 0?Q:null,props:X}}function P(W,V){return C(W.type,V,W.props)}function D(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function k(W){var V={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(X){return V[X]})}var U=/\/+/g;function Ee(W,V){return typeof W=="object"&&W!==null&&W.key!=null?k(""+W.key):V.toString(36)}function Se(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(j,j):(W.status="pending",W.then(function(V){W.status==="pending"&&(W.status="fulfilled",W.value=V)},function(V){W.status==="pending"&&(W.status="rejected",W.reason=V)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function ae(W,V,X,Q,te){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var be=!1;if(W===null)be=!0;else switch(ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(W.$$typeof){case t:case e:be=!0;break;case p:return be=W._init,ae(be(W._payload),V,X,Q,te)}}if(be)return te=te(W),be=Q===""?"."+Ee(W,0):Q,B(te)?(X="",be!=null&&(X=be.replace(U,"$&/")+"/"),ae(te,V,X,"",function(ke){return ke})):te!=null&&(D(te)&&(te=P(te,X+(te.key==null||W&&W.key===te.key?"":(""+te.key).replace(U,"$&/")+"/")+be)),V.push(te)),1;be=0;var Ce=Q===""?".":Q+":";if(B(W))for(var we=0;we<W.length;we++)Q=W[we],ce=Ce+Ee(Q,we),be+=ae(Q,V,X,ce,te);else if(we=S(W),typeof we=="function")for(W=we.call(W),we=0;!(Q=W.next()).done;)Q=Q.value,ce=Ce+Ee(Q,we++),be+=ae(Q,V,X,ce,te);else if(ce==="object"){if(typeof W.then=="function")return ae(Se(W),V,X,Q,te);throw V=String(W),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return be}function le(W,V,X){if(W==null)return W;var Q=[],te=0;return ae(W,Q,"","",function(ce){return V.call(X,ce,te++)}),Q}function Re(W){if(W._status===-1){var V=W._result;V=V(),V.then(function(X){(W._status===0||W._status===-1)&&(W._status=1,W._result=X)},function(X){(W._status===0||W._status===-1)&&(W._status=2,W._result=X)}),W._status===-1&&(W._status=0,W._result=V)}if(W._status===1)return W._result.default;throw W._result}var ie=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Fe={map:le,forEach:function(W,V,X){le(W,function(){V.apply(this,arguments)},X)},count:function(W){var V=0;return le(W,function(){V++}),V},toArray:function(W){return le(W,function(V){return V})||[]},only:function(W){if(!D(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return pt.Activity=v,pt.Children=Fe,pt.Component=L,pt.Fragment=n,pt.Profiler=i,pt.PureComponent=F,pt.StrictMode=r,pt.Suspense=d,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,pt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return I.H.useMemoCache(W)}},pt.cache=function(W){return function(){return W.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(W,V,X){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Q=w({},W.props),te=W.key;if(V!=null)for(ce in V.key!==void 0&&(te=""+V.key),V)!N.call(V,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&V.ref===void 0||(Q[ce]=V[ce]);var ce=arguments.length-2;if(ce===1)Q.children=X;else if(1<ce){for(var be=Array(ce),Ce=0;Ce<ce;Ce++)be[Ce]=arguments[Ce+2];Q.children=be}return C(W.type,te,Q)},pt.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:s,_context:W},W},pt.createElement=function(W,V,X){var Q,te={},ce=null;if(V!=null)for(Q in V.key!==void 0&&(ce=""+V.key),V)N.call(V,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(te[Q]=V[Q]);var be=arguments.length-2;if(be===1)te.children=X;else if(1<be){for(var Ce=Array(be),we=0;we<be;we++)Ce[we]=arguments[we+2];te.children=Ce}if(W&&W.defaultProps)for(Q in be=W.defaultProps,be)te[Q]===void 0&&(te[Q]=be[Q]);return C(W,ce,te)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(W){return{$$typeof:c,render:W}},pt.isValidElement=D,pt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:Re}},pt.memo=function(W,V){return{$$typeof:f,type:W,compare:V===void 0?null:V}},pt.startTransition=function(W){var V=I.T,X={};I.T=X;try{var Q=W(),te=I.S;te!==null&&te(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(j,ie)}catch(ce){ie(ce)}finally{V!==null&&X.types!==null&&(V.types=X.types),I.T=V}},pt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},pt.use=function(W){return I.H.use(W)},pt.useActionState=function(W,V,X){return I.H.useActionState(W,V,X)},pt.useCallback=function(W,V){return I.H.useCallback(W,V)},pt.useContext=function(W){return I.H.useContext(W)},pt.useDebugValue=function(){},pt.useDeferredValue=function(W,V){return I.H.useDeferredValue(W,V)},pt.useEffect=function(W,V){return I.H.useEffect(W,V)},pt.useEffectEvent=function(W){return I.H.useEffectEvent(W)},pt.useId=function(){return I.H.useId()},pt.useImperativeHandle=function(W,V,X){return I.H.useImperativeHandle(W,V,X)},pt.useInsertionEffect=function(W,V){return I.H.useInsertionEffect(W,V)},pt.useLayoutEffect=function(W,V){return I.H.useLayoutEffect(W,V)},pt.useMemo=function(W,V){return I.H.useMemo(W,V)},pt.useOptimistic=function(W,V){return I.H.useOptimistic(W,V)},pt.useReducer=function(W,V,X){return I.H.useReducer(W,V,X)},pt.useRef=function(W){return I.H.useRef(W)},pt.useState=function(W){return I.H.useState(W)},pt.useSyncExternalStore=function(W,V,X){return I.H.useSyncExternalStore(W,V,X)},pt.useTransition=function(){return I.H.useTransition()},pt.version="19.2.4",pt}var V_;function Zg(){return V_||(V_=1,Tm.exports=q4()),Tm.exports}var he=Zg();const Kn=oh(he);var Sm={exports:{}},du={},Am={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function j4(){return B_||(B_=1,(function(t){function e(ae,le){var Re=ae.length;ae.push(le);e:for(;0<Re;){var ie=Re-1>>>1,Fe=ae[ie];if(0<i(Fe,le))ae[ie]=le,ae[Re]=Fe,Re=ie;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var le=ae[0],Re=ae.pop();if(Re!==le){ae[0]=Re;e:for(var ie=0,Fe=ae.length,W=Fe>>>1;ie<W;){var V=2*(ie+1)-1,X=ae[V],Q=V+1,te=ae[Q];if(0>i(X,Re))Q<Fe&&0>i(te,X)?(ae[ie]=te,ae[Q]=Re,ie=Q):(ae[ie]=X,ae[V]=Re,ie=V);else if(Q<Fe&&0>i(te,Re))ae[ie]=te,ae[Q]=Re,ie=Q;else break e}}return le}function i(ae,le){var Re=ae.sortIndex-le.sortIndex;return Re!==0?Re:ae.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,v=null,y=3,S=!1,A=!1,w=!1,b=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function z(ae){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=ae)r(f),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(f)}}function B(ae){if(w=!1,z(ae),!A)if(n(d)!==null)A=!0,j||(j=!0,k());else{var le=n(f);le!==null&&Se(B,le.startTime-ae)}}var j=!1,I=-1,N=5,C=-1;function P(){return b?!0:!(t.unstable_now()-C<N)}function D(){if(b=!1,j){var ae=t.unstable_now();C=ae;var le=!0;try{e:{A=!1,w&&(w=!1,H(I),I=-1),S=!0;var Re=y;try{t:{for(z(ae),v=n(d);v!==null&&!(v.expirationTime>ae&&P());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,y=v.priorityLevel;var Fe=ie(v.expirationTime<=ae);if(ae=t.unstable_now(),typeof Fe=="function"){v.callback=Fe,z(ae),le=!0;break t}v===n(d)&&r(d),z(ae)}else r(d);v=n(d)}if(v!==null)le=!0;else{var W=n(f);W!==null&&Se(B,W.startTime-ae),le=!1}}break e}finally{v=null,y=Re,S=!1}le=void 0}}finally{le?k():j=!1}}}var k;if(typeof F=="function")k=function(){F(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Ee=U.port2;U.port1.onmessage=D,k=function(){Ee.postMessage(null)}}else k=function(){L(D,0)};function Se(ae,le){I=L(function(){ae(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(ae){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var Re=y;y=le;try{return ae()}finally{y=Re}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(ae,le){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Re=y;y=ae;try{return le()}finally{y=Re}},t.unstable_scheduleCallback=function(ae,le,Re){var ie=t.unstable_now();switch(typeof Re=="object"&&Re!==null?(Re=Re.delay,Re=typeof Re=="number"&&0<Re?ie+Re:ie):Re=ie,ae){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=Re+Fe,ae={id:p++,callback:le,priorityLevel:ae,startTime:Re,expirationTime:Fe,sortIndex:-1},Re>ie?(ae.sortIndex=Re,e(f,ae),n(d)===null&&ae===n(f)&&(w?(H(I),I=-1):w=!0,Se(B,Re-ie))):(ae.sortIndex=Fe,e(d,ae),A||S||(A=!0,j||(j=!0,k()))),ae},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ae){var le=y;return function(){var Re=y;y=le;try{return ae.apply(this,arguments)}finally{y=Re}}}})(wm)),wm}var H_;function $4(){return H_||(H_=1,Am.exports=j4()),Am.exports}var Cm={exports:{}},Tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Y4(){if(G_)return Tr;G_=1;var t=Zg();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(d,f,null,p)},Tr.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Tr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Tr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Tr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,S=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:S}):p==="script"&&r.d.X(d,{crossOrigin:v,integrity:y,fetchPriority:S,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Tr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Tr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Tr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Tr.requestFormReset=function(d){r.d.r(d)},Tr.unstable_batchedUpdates=function(d,f){return d(f)},Tr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Tr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Tr.version="19.2.4",Tr}var z_;function YS(){if(z_)return Cm.exports;z_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cm.exports=Y4(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function K4(){if(q_)return du;q_=1;var t=$4(),e=Zg(),n=YS();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function f(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,h=o;;){var _=u.return;if(_===null)break;var E=_.alternate;if(E===null){if(h=_.return,h!==null){u=h;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===u)return d(_),a;if(E===h)return d(_),o;E=E.sibling}throw Error(r(188))}if(u.return!==h.return)u=_,h=E;else{for(var M=!1,q=_.child;q;){if(q===u){M=!0,u=_,h=E;break}if(q===h){M=!0,h=_,u=E;break}q=q.sibling}if(!M){for(q=E.child;q;){if(q===u){M=!0,u=E,h=_;break}if(q===h){M=!0,h=E,u=_;break}q=q.sibling}if(!M)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function Ee(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case L:return"Profiler";case b:return"StrictMode";case B:return"Suspense";case j:return"SuspenseList";case C:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case F:return a.displayName||"Context";case H:return(a._context.displayName||"Context")+".Consumer";case z:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return o=a.displayName||null,o!==null?o:Ee(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return Ee(a(o))}catch{}}return null}var Se=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re={pending:!1,data:null,method:null,action:null},ie=[],Fe=-1;function W(a){return{current:a}}function V(a){0>Fe||(a.current=ie[Fe],ie[Fe]=null,Fe--)}function X(a,o){Fe++,ie[Fe]=a.current,a.current=o}var Q=W(null),te=W(null),ce=W(null),be=W(null);function Ce(a,o){switch(X(ce,o),X(te,a),X(Q,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?a_(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=a_(o),a=s_(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(Q),X(Q,a)}function we(){V(Q),V(te),V(ce)}function ke(a){a.memoizedState!==null&&X(be,a);var o=Q.current,u=s_(o,a.type);o!==u&&(X(te,a),X(Q,u))}function $e(a){te.current===a&&(V(Q),V(te)),be.current===a&&(V(be),ou._currentValue=Re)}var ne,rt;function Je(a){if(ne===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ne=o&&o[1]||"",rt=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+rt}var Xe=!1;function ze(a,o){if(!a||Xe)return"";Xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Ae){var _e=Ae}Reflect.construct(a,[],Me)}else{try{Me.call()}catch(Ae){_e=Ae}a.call(Me.prototype)}}else{try{throw Error()}catch(Ae){_e=Ae}(Me=a())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Ae){if(Ae&&_e&&typeof Ae.stack=="string")return[Ae.stack,_e.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=h.DetermineComponentFrameRoot(),M=E[0],q=E[1];if(M&&q){var se=M.split(`
`),ve=q.split(`
`);for(_=h=0;h<se.length&&!se[h].includes("DetermineComponentFrameRoot");)h++;for(;_<ve.length&&!ve[_].includes("DetermineComponentFrameRoot");)_++;if(h===se.length||_===ve.length)for(h=se.length-1,_=ve.length-1;1<=h&&0<=_&&se[h]!==ve[_];)_--;for(;1<=h&&0<=_;h--,_--)if(se[h]!==ve[_]){if(h!==1||_!==1)do if(h--,_--,0>_||se[h]!==ve[_]){var Ie=`
`+se[h].replace(" at new "," at ");return a.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",a.displayName)),Ie}while(1<=h&&0<=_);break}}}finally{Xe=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Je(u):""}function Ue(a,o){switch(a.tag){case 26:case 27:case 5:return Je(a.type);case 16:return Je("Lazy");case 13:return a.child!==o&&o!==null?Je("Suspense Fallback"):Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return ze(a.type,!1);case 11:return ze(a.type.render,!1);case 1:return ze(a.type,!0);case 31:return Je("Activity");default:return""}}function tt(a){try{var o="",u=null;do o+=Ue(a,u),u=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var nt=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,on=t.unstable_cancelCallback,Sn=t.unstable_shouldYield,Rn=t.unstable_requestPaint,ft=t.unstable_now,Yt=t.unstable_getCurrentPriorityLevel,kt=t.unstable_ImmediatePriority,tn=t.unstable_UserBlockingPriority,Nt=t.unstable_NormalPriority,Un=t.unstable_LowPriority,it=t.unstable_IdlePriority,wt=t.log,Kt=t.unstable_setDisableYieldValue,Et=null,zt=null;function or(a){if(typeof wt=="function"&&Kt(a),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Et,a)}catch{}}var hn=Math.clz32?Math.clz32:Sa,ns=Math.log,Mi=Math.LN2;function Sa(a){return a>>>=0,a===0?32:31-(ns(a)/Mi|0)|0}var Pr=256,kn=262144,un=4194304;function ue(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Be(a,o,u){var h=a.pendingLanes;if(h===0)return 0;var _=0,E=a.suspendedLanes,M=a.pingedLanes;a=a.warmLanes;var q=h&134217727;return q!==0?(h=q&~E,h!==0?_=ue(h):(M&=q,M!==0?_=ue(M):u||(u=q&~a,u!==0&&(_=ue(u))))):(q=h&~E,q!==0?_=ue(q):M!==0?_=ue(M):u||(u=h&~a,u!==0&&(_=ue(u)))),_===0?0:o!==0&&o!==_&&(o&E)===0&&(E=_&-_,u=o&-o,E>=u||E===32&&(u&4194048)!==0)?o:_}function He(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function st(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gt(){var a=un;return un<<=1,(un&62914560)===0&&(un=4194304),a}function Tt(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Ft(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function pn(a,o,u,h,_,E){var M=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,se=a.expirationTimes,ve=a.hiddenUpdates;for(u=M&~u;0<u;){var Ie=31-hn(u),Me=1<<Ie;q[Ie]=0,se[Ie]=-1;var _e=ve[Ie];if(_e!==null)for(ve[Ie]=null,Ie=0;Ie<_e.length;Ie++){var Ae=_e[Ie];Ae!==null&&(Ae.lane&=-536870913)}u&=~Me}h!==0&&An(a,h,0),E!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=E&~(M&~o))}function An(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-hn(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|u&261930}function Dn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var h=31-hn(u),_=1<<h;_&o|a[h]&o&&(a[h]|=o),u&=~_}}function jr(a,o){var u=o&-o;return u=(u&42)!==0?1:qt(u),(u&(a.suspendedLanes|o))!==0?0:u}function qt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function mn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function G(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:I_(a.type))}function ee(a,o){var u=le.p;try{return le.p=a,o()}finally{le.p=u}}var Y=Math.random().toString(36).slice(2),J="__reactFiber$"+Y,Z="__reactProps$"+Y,re="__reactContainer$"+Y,me="__reactEvents$"+Y,Ne="__reactListeners$"+Y,ge="__reactHandles$"+Y,ye="__reactResources$"+Y,xe="__reactMarker$"+Y;function Le(a){delete a[J],delete a[Z],delete a[me],delete a[Ne],delete a[ge]}function Ge(a){var o=a[J];if(o)return o;for(var u=a.parentNode;u;){if(o=u[re]||u[J]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=h_(a);a!==null;){if(u=a[J])return u;a=h_(a)}return o}a=u,u=a.parentNode}return null}function Ye(a){if(a=a[J]||a[re]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Oe(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function je(a){var o=a[ye];return o||(o=a[ye]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Qe(a){a[xe]=!0}var Xt=new Set,Wt={};function ln(a,o){_r(a,o),_r(a+"Capture",o)}function _r(a,o){for(Wt[a]=o,a=0;a<o.length;a++)Xt.add(o[a])}var Fi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pi={},ni={};function rs(a){return nt.call(ni,a)?!0:nt.call(Pi,a)?!1:Fi.test(a)?ni[a]=!0:(Pi[a]=!0,!1)}function Er(a,o,u){if(rs(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ri(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Vn(a,o,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+h)}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function is(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yc(a,o,u){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,E=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return _.call(this)},set:function(M){u=""+M,E.call(this,M)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(M){u=""+M},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Qt(a){if(!a._valueTracker){var o=is(a)?"checked":"value";a._valueTracker=yc(a,o,""+a[o])}}function Zs(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return a&&(h=is(a)?a.checked?"true":"false":a.value),a=h,a!==u?(o.setValue(a),!0):!1}function ra(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var eo=/[\n"\\]/g;function $r(a){return a.replace(eo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Zo(a,o,u,h,_,E,M,q){a.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.type=M:a.removeAttribute("type"),o!=null?M==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+er(o)):a.value!==""+er(o)&&(a.value=""+er(o)):M!=="submit"&&M!=="reset"||a.removeAttribute("value"),o!=null?_c(a,M,er(o)):u!=null?_c(a,M,er(u)):h!=null&&a.removeAttribute("value"),_==null&&E!=null&&(a.defaultChecked=!!E),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+er(q):a.removeAttribute("name")}function bf(a,o,u,h,_,E,M,q){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),o!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||o!=null)){Qt(a);return}u=u!=null?""+er(u):"",o=o!=null?""+er(o):u,q||o===a.value||(a.value=o),a.defaultValue=o}h=h??_,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=q?a.checked:!!h,a.defaultChecked=!!h,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.name=M),Qt(a)}function _c(a,o,u){o==="number"&&ra(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function as(a,o,u,h){if(a=a.options,o){o={};for(var _=0;_<u.length;_++)o["$"+u[_]]=!0;for(u=0;u<a.length;u++)_=o.hasOwnProperty("$"+a[u].value),a[u].selected!==_&&(a[u].selected=_),_&&h&&(a[u].defaultSelected=!0)}else{for(u=""+er(u),o=null,_=0;_<a.length;_++){if(a[_].value===u){a[_].selected=!0,h&&(a[_].defaultSelected=!0);return}o!==null||a[_].disabled||(o=a[_])}o!==null&&(o.selected=!0)}}function Nf(a,o,u){if(o!=null&&(o=""+er(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+er(u):""}function ss(a,o,u,h){if(o==null){if(h!=null){if(u!=null)throw Error(r(92));if(Se(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),o=u}u=er(o),a.defaultValue=u,h=a.textContent,h===u&&h!==""&&h!==null&&(a.value=h),Qt(a)}function Yr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var If=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(a,o,u){var h=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,u):typeof u!="number"||u===0||If.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Tc(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var _ in o)h=o[_],o.hasOwnProperty(_)&&u[_]!==h&&Ec(a,_,h)}else for(var E in o)o.hasOwnProperty(E)&&Ec(a,E,o[E])}function el(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(a){return os.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Oi(){}var Sc=null;function mi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ls=null,ia=null;function to(a){var o=Ye(a);if(o&&(a=o.stateNode)){var u=a[Z]||null;e:switch(a=o.stateNode,o.type){case"input":if(Zo(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+$r(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==a&&h.form===a.form){var _=h[Z]||null;if(!_)throw Error(r(90));Zo(h,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<u.length;o++)h=u[o],h.form===a.form&&Zs(h)}break e;case"textarea":Nf(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&as(a,!!u.multiple,o,!1)}}}var nl=!1;function cs(a,o,u){if(nl)return a(o,u);nl=!0;try{var h=a(o);return h}finally{if(nl=!1,(ls!==null||ia!==null)&&(Sd(),ls&&(o=ls,a=ia,ia=ls=null,to(o),a)))for(o=0;o<a.length;o++)to(a[o])}}function Li(a,o){var u=a.stateNode;if(u===null)return null;var h=u[Z]||null;if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(gi)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){no=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{no=!1}var aa=null,Ac=null,ro=null;function wc(){if(ro)return ro;var a,o=Ac,u=o.length,h,_="value"in aa?aa.value:aa.textContent,E=_.length;for(a=0;a<u&&o[a]===_[a];a++);var M=u-a;for(h=1;h<=M&&o[u-h]===_[E-h];h++);return ro=_.slice(a,1<h?1-h:void 0)}function io(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Aa(){return!0}function Ui(){return!1}function lr(a){function o(u,h,_,E,M){this._reactName=u,this._targetInst=_,this.type=h,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(E):E[q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Aa:Ui,this.isPropagationStopped=Ui,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),o}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=lr(wa),us=v({},wa,{view:0,detail:0}),Cc=lr(us),fs,rl,oa,il=v({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==oa&&(oa&&a.type==="mousemove"?(fs=a.screenX-oa.screenX,rl=a.screenY-oa.screenY):rl=fs=0,oa=a),fs)},movementY:function(a){return"movementY"in a?a.movementY:rl}}),bc=lr(il),ao=v({},il,{dataTransfer:0}),kf=lr(ao),Df=v({},us,{relatedTarget:0}),so=lr(Df),Nc=v({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Mf=lr(Nc),al=v({},wa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ff=lr(al),Pf=v({},wa,{data:0}),la=lr(Pf),Of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vf(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Uf[a])?!!o[a]:!1}function ds(){return Vf}var Or=v({},us,{key:function(a){if(a.key){var o=Of[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=io(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Lf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(a){return a.type==="keypress"?io(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?io(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bf=lr(Or),Hf=v({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ca=lr(Hf),x=v({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),R=lr(x),O=v({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),K=lr(O),de=v({},il,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Te=lr(de),qe=v({},wa,{newState:0,oldState:0}),vt=lr(qe),Mn=[9,13,27,32],jt=gi&&"CompositionEvent"in window,xn=null;gi&&"documentMode"in document&&(xn=document.documentMode);var vi=gi&&"TextEvent"in window&&!xn,ca=gi&&(!jt||xn&&8<xn&&11>=xn),Vi=" ",Bi=!1;function oo(a,o){switch(a){case"keyup":return Mn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ol=!1;function dN(a,o){switch(a){case"compositionend":return sl(o);case"keypress":return o.which!==32?null:(Bi=!0,Vi);case"textInput":return a=o.data,a===Vi&&Bi?null:a;default:return null}}function hN(a,o){if(ol)return a==="compositionend"||!jt&&oo(a,o)?(a=wc(),ro=Ac=aa=null,ol=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ca&&o.locale!=="ko"?null:o.data;default:return null}}var pN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!pN[a.type]:o==="textarea"}function v1(a,o,u,h){ls?ia?ia.push(h):ia=[h]:ls=h,o=Rd(o,"onChange"),0<o.length&&(u=new sa("onChange","change",null,u,h),a.push({event:u,listeners:o}))}var Ic=null,Rc=null;function mN(a){Zy(a,0)}function Gf(a){var o=Oe(a);if(Zs(o))return a}function x1(a,o){if(a==="change")return o}var y1=!1;if(gi){var Nh;if(gi){var Ih="oninput"in document;if(!Ih){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),Ih=typeof _1.oninput=="function"}Nh=Ih}else Nh=!1;y1=Nh&&(!document.documentMode||9<document.documentMode)}function E1(){Ic&&(Ic.detachEvent("onpropertychange",T1),Rc=Ic=null)}function T1(a){if(a.propertyName==="value"&&Gf(Rc)){var o=[];v1(o,Rc,a,mi(a)),cs(mN,o)}}function gN(a,o,u){a==="focusin"?(E1(),Ic=o,Rc=u,Ic.attachEvent("onpropertychange",T1)):a==="focusout"&&E1()}function vN(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gf(Rc)}function xN(a,o){if(a==="click")return Gf(o)}function yN(a,o){if(a==="input"||a==="change")return Gf(o)}function _N(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ii=typeof Object.is=="function"?Object.is:_N;function kc(a,o){if(ii(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var _=u[h];if(!nt.call(o,_)||!ii(a[_],o[_]))return!1}return!0}function S1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function A1(a,o){var u=S1(a);a=0;for(var h;u;){if(u.nodeType===3){if(h=a+u.textContent.length,a<=o&&h>=o)return{node:u,offset:o-a};a=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=S1(u)}}function w1(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?w1(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function C1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ra(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=ra(a.document)}return o}function Rh(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var EN=gi&&"documentMode"in document&&11>=document.documentMode,ll=null,kh=null,Dc=null,Dh=!1;function b1(a,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Dh||ll==null||ll!==ra(h)||(h=ll,"selectionStart"in h&&Rh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Dc&&kc(Dc,h)||(Dc=h,h=Rd(kh,"onSelect"),0<h.length&&(o=new sa("onSelect","select",null,o,u),a.push({event:o,listeners:h}),o.target=ll)))}function lo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var cl={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},Mh={},N1={};gi&&(N1=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function co(a){if(Mh[a])return Mh[a];if(!cl[a])return a;var o=cl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in N1)return Mh[a]=o[u];return a}var I1=co("animationend"),R1=co("animationiteration"),k1=co("animationstart"),TN=co("transitionrun"),SN=co("transitionstart"),AN=co("transitioncancel"),D1=co("transitionend"),M1=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Hi(a,o){M1.set(a,o),ln(o,[a])}var zf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},xi=[],ul=0,Ph=0;function qf(){for(var a=ul,o=Ph=ul=0;o<a;){var u=xi[o];xi[o++]=null;var h=xi[o];xi[o++]=null;var _=xi[o];xi[o++]=null;var E=xi[o];if(xi[o++]=null,h!==null&&_!==null){var M=h.pending;M===null?_.next=_:(_.next=M.next,M.next=_),h.pending=_}E!==0&&F1(u,_,E)}}function jf(a,o,u,h){xi[ul++]=a,xi[ul++]=o,xi[ul++]=u,xi[ul++]=h,Ph|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Oh(a,o,u,h){return jf(a,o,u,h),$f(a)}function uo(a,o){return jf(a,null,null,o),$f(a)}function F1(a,o,u){a.lanes|=u;var h=a.alternate;h!==null&&(h.lanes|=u);for(var _=!1,E=a.return;E!==null;)E.childLanes|=u,h=E.alternate,h!==null&&(h.childLanes|=u),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(_=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,_&&o!==null&&(_=31-hn(u),a=E.hiddenUpdates,h=a[_],h===null?a[_]=[o]:h.push(o),o.lane=u|536870912),E):null}function $f(a){if(50<eu)throw eu=0,jp=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var fl={};function wN(a,o,u,h){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(a,o,u,h){return new wN(a,o,u,h)}function Lh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ba(a,o){var u=a.alternate;return u===null?(u=ai(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function P1(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Yf(a,o,u,h,_,E){var M=0;if(h=a,typeof a=="function")Lh(a)&&(M=1);else if(typeof a=="string")M=R4(a,u,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case C:return a=ai(31,u,o,_),a.elementType=C,a.lanes=E,a;case w:return fo(u.children,_,E,o);case b:M=8,_|=24;break;case L:return a=ai(12,u,o,_|2),a.elementType=L,a.lanes=E,a;case B:return a=ai(13,u,o,_),a.elementType=B,a.lanes=E,a;case j:return a=ai(19,u,o,_),a.elementType=j,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case F:M=10;break e;case H:M=9;break e;case z:M=11;break e;case I:M=14;break e;case N:M=16,h=null;break e}M=29,u=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=ai(M,u,o,_),o.elementType=a,o.type=h,o.lanes=E,o}function fo(a,o,u,h){return a=ai(7,a,h,o),a.lanes=u,a}function Uh(a,o,u){return a=ai(6,a,null,o),a.lanes=u,a}function O1(a){var o=ai(18,null,null,0);return o.stateNode=a,o}function Vh(a,o,u){return o=ai(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var L1=new WeakMap;function yi(a,o){if(typeof a=="object"&&a!==null){var u=L1.get(a);return u!==void 0?u:(o={value:a,source:o,stack:tt(o)},L1.set(a,o),o)}return{value:a,source:o,stack:tt(o)}}var dl=[],hl=0,Kf=null,Mc=0,_i=[],Ei=0,hs=null,ua=1,fa="";function Na(a,o){dl[hl++]=Mc,dl[hl++]=Kf,Kf=a,Mc=o}function U1(a,o,u){_i[Ei++]=ua,_i[Ei++]=fa,_i[Ei++]=hs,hs=a;var h=ua;a=fa;var _=32-hn(h)-1;h&=~(1<<_),u+=1;var E=32-hn(o)+_;if(30<E){var M=_-_%5;E=(h&(1<<M)-1).toString(32),h>>=M,_-=M,ua=1<<32-hn(o)+_|u<<_|h,fa=E+a}else ua=1<<E|u<<_|h,fa=a}function Bh(a){a.return!==null&&(Na(a,1),U1(a,1,0))}function Hh(a){for(;a===Kf;)Kf=dl[--hl],dl[hl]=null,Mc=dl[--hl],dl[hl]=null;for(;a===hs;)hs=_i[--Ei],_i[Ei]=null,fa=_i[--Ei],_i[Ei]=null,ua=_i[--Ei],_i[Ei]=null}function V1(a,o){_i[Ei++]=ua,_i[Ei++]=fa,_i[Ei++]=hs,ua=o.id,fa=o.overflow,hs=a}var cr=null,gn=null,Dt=!1,ps=null,Ti=!1,Gh=Error(r(519));function ms(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fc(yi(o,a)),Gh}function B1(a){var o=a.stateNode,u=a.type,h=a.memoizedProps;switch(o[J]=a,o[Z]=h,u){case"dialog":bt("cancel",o),bt("close",o);break;case"iframe":case"object":case"embed":bt("load",o);break;case"video":case"audio":for(u=0;u<nu.length;u++)bt(nu[u],o);break;case"source":bt("error",o);break;case"img":case"image":case"link":bt("error",o),bt("load",o);break;case"details":bt("toggle",o);break;case"input":bt("invalid",o),bf(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":bt("invalid",o);break;case"textarea":bt("invalid",o),ss(o,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||h.suppressHydrationWarning===!0||r_(o.textContent,u)?(h.popover!=null&&(bt("beforetoggle",o),bt("toggle",o)),h.onScroll!=null&&bt("scroll",o),h.onScrollEnd!=null&&bt("scrollend",o),h.onClick!=null&&(o.onclick=Oi),o=!0):o=!1,o||ms(a,!0)}function H1(a){for(cr=a.return;cr;)switch(cr.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:cr=cr.return}}function pl(a){if(a!==cr)return!1;if(!Dt)return H1(a),Dt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||sm(a.type,a.memoizedProps)),u=!u),u&&gn&&ms(a),H1(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));gn=d_(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));gn=d_(a)}else o===27?(o=gn,Is(a.type)?(a=fm,fm=null,gn=a):gn=o):gn=cr?Ai(a.stateNode.nextSibling):null;return!0}function ho(){gn=cr=null,Dt=!1}function zh(){var a=ps;return a!==null&&(Wr===null?Wr=a:Wr.push.apply(Wr,a),ps=null),a}function Fc(a){ps===null?ps=[a]:ps.push(a)}var qh=W(null),po=null,Ia=null;function gs(a,o,u){X(qh,o._currentValue),o._currentValue=u}function Ra(a){a._currentValue=qh.current,V(qh)}function jh(a,o,u){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===u)break;a=a.return}}function $h(a,o,u,h){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var E=_.dependencies;if(E!==null){var M=_.child;E=E.firstContext;e:for(;E!==null;){var q=E;E=_;for(var se=0;se<o.length;se++)if(q.context===o[se]){E.lanes|=u,q=E.alternate,q!==null&&(q.lanes|=u),jh(E.return,u,a),h||(M=null);break e}E=q.next}}else if(_.tag===18){if(M=_.return,M===null)throw Error(r(341));M.lanes|=u,E=M.alternate,E!==null&&(E.lanes|=u),jh(M,u,a),M=null}else M=_.child;if(M!==null)M.return=_;else for(M=_;M!==null;){if(M===a){M=null;break}if(_=M.sibling,_!==null){_.return=M.return,M=_;break}M=M.return}_=M}}function ml(a,o,u,h){a=null;for(var _=o,E=!1;_!==null;){if(!E){if((_.flags&524288)!==0)E=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var M=_.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var q=_.type;ii(_.pendingProps.value,M.value)||(a!==null?a.push(q):a=[q])}}else if(_===be.current){if(M=_.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(ou):a=[ou])}_=_.return}a!==null&&$h(o,a,u,h),o.flags|=262144}function Jf(a){for(a=a.firstContext;a!==null;){if(!ii(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function mo(a){po=a,Ia=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ur(a){return G1(po,a)}function Xf(a,o){return po===null&&mo(a),G1(a,o)}function G1(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ia===null){if(a===null)throw Error(r(308));Ia=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ia=Ia.next=o;return u}var CN=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},bN=t.unstable_scheduleCallback,NN=t.unstable_NormalPriority,Bn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new CN,data:new Map,refCount:0}}function Pc(a){a.refCount--,a.refCount===0&&bN(NN,function(){a.controller.abort()})}var Oc=null,Kh=0,gl=0,vl=null;function IN(a,o){if(Oc===null){var u=Oc=[];Kh=0,gl=Wp(),vl={status:"pending",value:void 0,then:function(h){u.push(h)}}}return Kh++,o.then(z1,z1),o}function z1(){if(--Kh===0&&Oc!==null){vl!==null&&(vl.status="fulfilled");var a=Oc;Oc=null,gl=0,vl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function RN(a,o){var u=[],h={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var _=0;_<u.length;_++)(0,u[_])(o)},function(_){for(h.status="rejected",h.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),h}var q1=ae.S;ae.S=function(a,o){by=ft(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&IN(a,o),q1!==null&&q1(a,o)};var go=W(null);function Jh(){var a=go.current;return a!==null?a:cn.pooledCache}function Wf(a,o){o===null?X(go,go.current):X(go,o.pool)}function j1(){var a=Jh();return a===null?null:{parent:Bn._currentValue,pool:a}}var xl=Error(r(460)),Xh=Error(r(474)),Qf=Error(r(542)),Zf={then:function(){}};function $1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Y1(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Oi,Oi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,J1(a),a;default:if(typeof o.status=="string")o.then(Oi,Oi);else{if(a=cn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=h}},function(h){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,J1(a),a}throw xo=o,xl}}function vo(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(xo=u,xl):u}}var xo=null;function K1(){if(xo===null)throw Error(r(459));var a=xo;return xo=null,a}function J1(a){if(a===xl||a===Qf)throw Error(r(483))}var yl=null,Lc=0;function ed(a){var o=Lc;return Lc+=1,yl===null&&(yl=[]),Y1(yl,a,o)}function Uc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function td(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function X1(a){function o(fe,oe){if(a){var pe=fe.deletions;pe===null?(fe.deletions=[oe],fe.flags|=16):pe.push(oe)}}function u(fe,oe){if(!a)return null;for(;oe!==null;)o(fe,oe),oe=oe.sibling;return null}function h(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function _(fe,oe){return fe=ba(fe,oe),fe.index=0,fe.sibling=null,fe}function E(fe,oe,pe){return fe.index=pe,a?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<oe?(fe.flags|=67108866,oe):pe):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function M(fe){return a&&fe.alternate===null&&(fe.flags|=67108866),fe}function q(fe,oe,pe,De){return oe===null||oe.tag!==6?(oe=Uh(pe,fe.mode,De),oe.return=fe,oe):(oe=_(oe,pe),oe.return=fe,oe)}function se(fe,oe,pe,De){var at=pe.type;return at===w?Ie(fe,oe,pe.props.children,De,pe.key):oe!==null&&(oe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&vo(at)===oe.type)?(oe=_(oe,pe.props),Uc(oe,pe),oe.return=fe,oe):(oe=Yf(pe.type,pe.key,pe.props,null,fe.mode,De),Uc(oe,pe),oe.return=fe,oe)}function ve(fe,oe,pe,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==pe.containerInfo||oe.stateNode.implementation!==pe.implementation?(oe=Vh(pe,fe.mode,De),oe.return=fe,oe):(oe=_(oe,pe.children||[]),oe.return=fe,oe)}function Ie(fe,oe,pe,De,at){return oe===null||oe.tag!==7?(oe=fo(pe,fe.mode,De,at),oe.return=fe,oe):(oe=_(oe,pe),oe.return=fe,oe)}function Me(fe,oe,pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Uh(""+oe,fe.mode,pe),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case S:return pe=Yf(oe.type,oe.key,oe.props,null,fe.mode,pe),Uc(pe,oe),pe.return=fe,pe;case A:return oe=Vh(oe,fe.mode,pe),oe.return=fe,oe;case N:return oe=vo(oe),Me(fe,oe,pe)}if(Se(oe)||k(oe))return oe=fo(oe,fe.mode,pe,null),oe.return=fe,oe;if(typeof oe.then=="function")return Me(fe,ed(oe),pe);if(oe.$$typeof===F)return Me(fe,Xf(fe,oe),pe);td(fe,oe)}return null}function _e(fe,oe,pe,De){var at=oe!==null?oe.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return at!==null?null:q(fe,oe,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return pe.key===at?se(fe,oe,pe,De):null;case A:return pe.key===at?ve(fe,oe,pe,De):null;case N:return pe=vo(pe),_e(fe,oe,pe,De)}if(Se(pe)||k(pe))return at!==null?null:Ie(fe,oe,pe,De,null);if(typeof pe.then=="function")return _e(fe,oe,ed(pe),De);if(pe.$$typeof===F)return _e(fe,oe,Xf(fe,pe),De);td(fe,pe)}return null}function Ae(fe,oe,pe,De,at){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return fe=fe.get(pe)||null,q(oe,fe,""+De,at);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case S:return fe=fe.get(De.key===null?pe:De.key)||null,se(oe,fe,De,at);case A:return fe=fe.get(De.key===null?pe:De.key)||null,ve(oe,fe,De,at);case N:return De=vo(De),Ae(fe,oe,pe,De,at)}if(Se(De)||k(De))return fe=fe.get(pe)||null,Ie(oe,fe,De,at,null);if(typeof De.then=="function")return Ae(fe,oe,pe,ed(De),at);if(De.$$typeof===F)return Ae(fe,oe,pe,Xf(oe,De),at);td(oe,De)}return null}function We(fe,oe,pe,De){for(var at=null,Bt=null,Ze=oe,_t=oe=0,Rt=null;Ze!==null&&_t<pe.length;_t++){Ze.index>_t?(Rt=Ze,Ze=null):Rt=Ze.sibling;var Ht=_e(fe,Ze,pe[_t],De);if(Ht===null){Ze===null&&(Ze=Rt);break}a&&Ze&&Ht.alternate===null&&o(fe,Ze),oe=E(Ht,oe,_t),Bt===null?at=Ht:Bt.sibling=Ht,Bt=Ht,Ze=Rt}if(_t===pe.length)return u(fe,Ze),Dt&&Na(fe,_t),at;if(Ze===null){for(;_t<pe.length;_t++)Ze=Me(fe,pe[_t],De),Ze!==null&&(oe=E(Ze,oe,_t),Bt===null?at=Ze:Bt.sibling=Ze,Bt=Ze);return Dt&&Na(fe,_t),at}for(Ze=h(Ze);_t<pe.length;_t++)Rt=Ae(Ze,fe,_t,pe[_t],De),Rt!==null&&(a&&Rt.alternate!==null&&Ze.delete(Rt.key===null?_t:Rt.key),oe=E(Rt,oe,_t),Bt===null?at=Rt:Bt.sibling=Rt,Bt=Rt);return a&&Ze.forEach(function(Fs){return o(fe,Fs)}),Dt&&Na(fe,_t),at}function ut(fe,oe,pe,De){if(pe==null)throw Error(r(151));for(var at=null,Bt=null,Ze=oe,_t=oe=0,Rt=null,Ht=pe.next();Ze!==null&&!Ht.done;_t++,Ht=pe.next()){Ze.index>_t?(Rt=Ze,Ze=null):Rt=Ze.sibling;var Fs=_e(fe,Ze,Ht.value,De);if(Fs===null){Ze===null&&(Ze=Rt);break}a&&Ze&&Fs.alternate===null&&o(fe,Ze),oe=E(Fs,oe,_t),Bt===null?at=Fs:Bt.sibling=Fs,Bt=Fs,Ze=Rt}if(Ht.done)return u(fe,Ze),Dt&&Na(fe,_t),at;if(Ze===null){for(;!Ht.done;_t++,Ht=pe.next())Ht=Me(fe,Ht.value,De),Ht!==null&&(oe=E(Ht,oe,_t),Bt===null?at=Ht:Bt.sibling=Ht,Bt=Ht);return Dt&&Na(fe,_t),at}for(Ze=h(Ze);!Ht.done;_t++,Ht=pe.next())Ht=Ae(Ze,fe,_t,Ht.value,De),Ht!==null&&(a&&Ht.alternate!==null&&Ze.delete(Ht.key===null?_t:Ht.key),oe=E(Ht,oe,_t),Bt===null?at=Ht:Bt.sibling=Ht,Bt=Ht);return a&&Ze.forEach(function(H4){return o(fe,H4)}),Dt&&Na(fe,_t),at}function sn(fe,oe,pe,De){if(typeof pe=="object"&&pe!==null&&pe.type===w&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:e:{for(var at=pe.key;oe!==null;){if(oe.key===at){if(at=pe.type,at===w){if(oe.tag===7){u(fe,oe.sibling),De=_(oe,pe.props.children),De.return=fe,fe=De;break e}}else if(oe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&vo(at)===oe.type){u(fe,oe.sibling),De=_(oe,pe.props),Uc(De,pe),De.return=fe,fe=De;break e}u(fe,oe);break}else o(fe,oe);oe=oe.sibling}pe.type===w?(De=fo(pe.props.children,fe.mode,De,pe.key),De.return=fe,fe=De):(De=Yf(pe.type,pe.key,pe.props,null,fe.mode,De),Uc(De,pe),De.return=fe,fe=De)}return M(fe);case A:e:{for(at=pe.key;oe!==null;){if(oe.key===at)if(oe.tag===4&&oe.stateNode.containerInfo===pe.containerInfo&&oe.stateNode.implementation===pe.implementation){u(fe,oe.sibling),De=_(oe,pe.children||[]),De.return=fe,fe=De;break e}else{u(fe,oe);break}else o(fe,oe);oe=oe.sibling}De=Vh(pe,fe.mode,De),De.return=fe,fe=De}return M(fe);case N:return pe=vo(pe),sn(fe,oe,pe,De)}if(Se(pe))return We(fe,oe,pe,De);if(k(pe)){if(at=k(pe),typeof at!="function")throw Error(r(150));return pe=at.call(pe),ut(fe,oe,pe,De)}if(typeof pe.then=="function")return sn(fe,oe,ed(pe),De);if(pe.$$typeof===F)return sn(fe,oe,Xf(fe,pe),De);td(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,oe!==null&&oe.tag===6?(u(fe,oe.sibling),De=_(oe,pe),De.return=fe,fe=De):(u(fe,oe),De=Uh(pe,fe.mode,De),De.return=fe,fe=De),M(fe)):u(fe,oe)}return function(fe,oe,pe,De){try{Lc=0;var at=sn(fe,oe,pe,De);return yl=null,at}catch(Ze){if(Ze===xl||Ze===Qf)throw Ze;var Bt=ai(29,Ze,null,fe.mode);return Bt.lanes=De,Bt.return=fe,Bt}finally{}}}var yo=X1(!0),W1=X1(!1),vs=!1;function Wh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qh(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function xs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ys(a,o,u){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,($t&2)!==0){var _=h.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),h.pending=o,o=$f(a),F1(a,null,u),o}return jf(a,h,o,u),$f(a)}function Vc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Dn(a,u)}}function Zh(a,o){var u=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var _=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?_=E=M:E=E.next=M,u=u.next}while(u!==null);E===null?_=E=o:E=E.next=o}else _=E=o;u={baseState:h.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:h.shared,callbacks:h.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var ep=!1;function Bc(){if(ep){var a=vl;if(a!==null)throw a}}function Hc(a,o,u,h){ep=!1;var _=a.updateQueue;vs=!1;var E=_.firstBaseUpdate,M=_.lastBaseUpdate,q=_.shared.pending;if(q!==null){_.shared.pending=null;var se=q,ve=se.next;se.next=null,M===null?E=ve:M.next=ve,M=se;var Ie=a.alternate;Ie!==null&&(Ie=Ie.updateQueue,q=Ie.lastBaseUpdate,q!==M&&(q===null?Ie.firstBaseUpdate=ve:q.next=ve,Ie.lastBaseUpdate=se))}if(E!==null){var Me=_.baseState;M=0,Ie=ve=se=null,q=E;do{var _e=q.lane&-536870913,Ae=_e!==q.lane;if(Ae?(It&_e)===_e:(h&_e)===_e){_e!==0&&_e===gl&&(ep=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var We=a,ut=q;_e=o;var sn=u;switch(ut.tag){case 1:if(We=ut.payload,typeof We=="function"){Me=We.call(sn,Me,_e);break e}Me=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=ut.payload,_e=typeof We=="function"?We.call(sn,Me,_e):We,_e==null)break e;Me=v({},Me,_e);break e;case 2:vs=!0}}_e=q.callback,_e!==null&&(a.flags|=64,Ae&&(a.flags|=8192),Ae=_.callbacks,Ae===null?_.callbacks=[_e]:Ae.push(_e))}else Ae={lane:_e,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Ie===null?(ve=Ie=Ae,se=Me):Ie=Ie.next=Ae,M|=_e;if(q=q.next,q===null){if(q=_.shared.pending,q===null)break;Ae=q,q=Ae.next,Ae.next=null,_.lastBaseUpdate=Ae,_.shared.pending=null}}while(!0);Ie===null&&(se=Me),_.baseState=se,_.firstBaseUpdate=ve,_.lastBaseUpdate=Ie,E===null&&(_.shared.lanes=0),As|=M,a.lanes=M,a.memoizedState=Me}}function Q1(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function Z1(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Q1(u[a],o)}var _l=W(null),nd=W(0);function ex(a,o){a=Va,X(nd,a),X(_l,o),Va=a|o.baseLanes}function tp(){X(nd,Va),X(_l,_l.current)}function np(){Va=nd.current,V(_l),V(nd)}var si=W(null),Si=null;function _s(a){var o=a.alternate;X(Fn,Fn.current&1),X(si,a),Si===null&&(o===null||_l.current!==null||o.memoizedState!==null)&&(Si=a)}function rp(a){X(Fn,Fn.current),X(si,a),Si===null&&(Si=a)}function tx(a){a.tag===22?(X(Fn,Fn.current),X(si,a),Si===null&&(Si=a)):Es()}function Es(){X(Fn,Fn.current),X(si,si.current)}function oi(a){V(si),Si===a&&(Si=null),V(Fn)}var Fn=W(0);function rd(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||cm(u)||um(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ka=0,xt=null,rn=null,Hn=null,id=!1,El=!1,_o=!1,ad=0,Gc=0,Tl=null,kN=0;function wn(){throw Error(r(321))}function ip(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ii(a[u],o[u]))return!1;return!0}function ap(a,o,u,h,_,E){return ka=E,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ae.H=a===null||a.memoizedState===null?Ux:_p,_o=!1,E=u(h,_),_o=!1,El&&(E=rx(o,u,h,_)),nx(a),E}function nx(a){ae.H=jc;var o=rn!==null&&rn.next!==null;if(ka=0,Hn=rn=xt=null,id=!1,Gc=0,Tl=null,o)throw Error(r(300));a===null||Gn||(a=a.dependencies,a!==null&&Jf(a)&&(Gn=!0))}function rx(a,o,u,h){xt=a;var _=0;do{if(El&&(Tl=null),Gc=0,El=!1,25<=_)throw Error(r(301));if(_+=1,Hn=rn=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ae.H=Vx,E=o(u,h)}while(El);return E}function DN(){var a=ae.H,o=a.useState()[0];return o=typeof o.then=="function"?zc(o):o,a=a.useState()[0],(rn!==null?rn.memoizedState:null)!==a&&(xt.flags|=1024),o}function sp(){var a=ad!==0;return ad=0,a}function op(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function lp(a){if(id){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}id=!1}ka=0,Hn=rn=xt=null,El=!1,Gc=ad=0,Tl=null}function Lr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?xt.memoizedState=Hn=a:Hn=Hn.next=a,Hn}function Pn(){if(rn===null){var a=xt.alternate;a=a!==null?a.memoizedState:null}else a=rn.next;var o=Hn===null?xt.memoizedState:Hn.next;if(o!==null)Hn=o,rn=a;else{if(a===null)throw xt.alternate===null?Error(r(467)):Error(r(310));rn=a,a={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},Hn===null?xt.memoizedState=Hn=a:Hn=Hn.next=a}return Hn}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zc(a){var o=Gc;return Gc+=1,Tl===null&&(Tl=[]),a=Y1(Tl,a,o),o=xt,(Hn===null?o.memoizedState:Hn.next)===null&&(o=o.alternate,ae.H=o===null||o.memoizedState===null?Ux:_p),a}function od(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return zc(a);if(a.$$typeof===F)return ur(a)}throw Error(r(438,String(a)))}function cp(a){var o=null,u=xt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var h=xt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=sd(),xt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),h=0;h<a;h++)u[h]=P;return o.index++,u}function Da(a,o){return typeof o=="function"?o(a):o}function ld(a){var o=Pn();return up(o,rn,a)}function up(a,o,u){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var _=a.baseQueue,E=h.pending;if(E!==null){if(_!==null){var M=_.next;_.next=E.next,E.next=M}o.baseQueue=_=E,h.pending=null}if(E=a.baseState,_===null)a.memoizedState=E;else{o=_.next;var q=M=null,se=null,ve=o,Ie=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(It&Me)===Me:(ka&Me)===Me){var _e=ve.revertLane;if(_e===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===gl&&(Ie=!0);else if((ka&_e)===_e){ve=ve.next,_e===gl&&(Ie=!0);continue}else Me={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(q=se=Me,M=E):se=se.next=Me,xt.lanes|=_e,As|=_e;Me=ve.action,_o&&u(E,Me),E=ve.hasEagerState?ve.eagerState:u(E,Me)}else _e={lane:Me,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(q=se=_e,M=E):se=se.next=_e,xt.lanes|=Me,As|=Me;ve=ve.next}while(ve!==null&&ve!==o);if(se===null?M=E:se.next=q,!ii(E,a.memoizedState)&&(Gn=!0,Ie&&(u=vl,u!==null)))throw u;a.memoizedState=E,a.baseState=M,a.baseQueue=se,h.lastRenderedState=E}return _===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function fp(a){var o=Pn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var h=u.dispatch,_=u.pending,E=o.memoizedState;if(_!==null){u.pending=null;var M=_=_.next;do E=a(E,M.action),M=M.next;while(M!==_);ii(E,o.memoizedState)||(Gn=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),u.lastRenderedState=E}return[E,h]}function ix(a,o,u){var h=xt,_=Pn(),E=Dt;if(E){if(u===void 0)throw Error(r(407));u=u()}else u=o();var M=!ii((rn||_).memoizedState,u);if(M&&(_.memoizedState=u,Gn=!0),_=_.queue,pp(ox.bind(null,h,_,a),[a]),_.getSnapshot!==o||M||Hn!==null&&Hn.memoizedState.tag&1){if(h.flags|=2048,Sl(9,{destroy:void 0},sx.bind(null,h,_,u,o),null),cn===null)throw Error(r(349));E||(ka&127)!==0||ax(h,o,u)}return u}function ax(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=xt.updateQueue,o===null?(o=sd(),xt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function sx(a,o,u,h){o.value=u,o.getSnapshot=h,lx(o)&&cx(a)}function ox(a,o,u){return u(function(){lx(o)&&cx(a)})}function lx(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ii(a,u)}catch{return!0}}function cx(a){var o=uo(a,2);o!==null&&Qr(o,a,2)}function dp(a){var o=Lr();if(typeof a=="function"){var u=a;if(a=u(),_o){or(!0);try{u()}finally{or(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:a},o}function ux(a,o,u,h){return a.baseState=u,up(a,rn,typeof h=="function"?h:Da)}function MN(a,o,u,h,_){if(fd(a))throw Error(r(485));if(a=o.action,a!==null){var E={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){E.listeners.push(M)}};ae.T!==null?u(!0):E.isTransition=!1,h(E),u=o.pending,u===null?(E.next=o.pending=E,fx(o,E)):(E.next=u.next,o.pending=u.next=E)}}function fx(a,o){var u=o.action,h=o.payload,_=a.state;if(o.isTransition){var E=ae.T,M={};ae.T=M;try{var q=u(_,h),se=ae.S;se!==null&&se(M,q),dx(a,o,q)}catch(ve){hp(a,o,ve)}finally{E!==null&&M.types!==null&&(E.types=M.types),ae.T=E}}else try{E=u(_,h),dx(a,o,E)}catch(ve){hp(a,o,ve)}}function dx(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){hx(a,o,h)},function(h){return hp(a,o,h)}):hx(a,o,u)}function hx(a,o,u){o.status="fulfilled",o.value=u,px(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,fx(a,u)))}function hp(a,o,u){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=u,px(o),o=o.next;while(o!==h)}a.action=null}function px(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function mx(a,o){return o}function gx(a,o){if(Dt){var u=cn.formState;if(u!==null){e:{var h=xt;if(Dt){if(gn){t:{for(var _=gn,E=Ti;_.nodeType!==8;){if(!E){_=null;break t}if(_=Ai(_.nextSibling),_===null){_=null;break t}}E=_.data,_=E==="F!"||E==="F"?_:null}if(_){gn=Ai(_.nextSibling),h=_.data==="F!";break e}}ms(h)}h=!1}h&&(o=u[0])}}return u=Lr(),u.memoizedState=u.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mx,lastRenderedState:o},u.queue=h,u=Px.bind(null,xt,h),h.dispatch=u,h=dp(!1),E=yp.bind(null,xt,!1,h.queue),h=Lr(),_={state:o,dispatch:null,action:a,pending:null},h.queue=_,u=MN.bind(null,xt,_,E,u),_.dispatch=u,h.memoizedState=a,[o,u,!1]}function vx(a){var o=Pn();return xx(o,rn,a)}function xx(a,o,u){if(o=up(a,o,mx)[0],a=ld(Da)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=zc(o)}catch(M){throw M===xl?Qf:M}else h=o;o=Pn();var _=o.queue,E=_.dispatch;return u!==o.memoizedState&&(xt.flags|=2048,Sl(9,{destroy:void 0},FN.bind(null,_,u),null)),[h,E,a]}function FN(a,o){a.action=o}function yx(a){var o=Pn(),u=rn;if(u!==null)return xx(o,u,a);Pn(),o=o.memoizedState,u=Pn();var h=u.queue.dispatch;return u.memoizedState=a,[o,h,!1]}function Sl(a,o,u,h){return a={tag:a,create:u,deps:h,inst:o,next:null},o=xt.updateQueue,o===null&&(o=sd(),xt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(h=u.next,u.next=a,a.next=h,o.lastEffect=a),a}function _x(){return Pn().memoizedState}function cd(a,o,u,h){var _=Lr();xt.flags|=a,_.memoizedState=Sl(1|o,{destroy:void 0},u,h===void 0?null:h)}function ud(a,o,u,h){var _=Pn();h=h===void 0?null:h;var E=_.memoizedState.inst;rn!==null&&h!==null&&ip(h,rn.memoizedState.deps)?_.memoizedState=Sl(o,E,u,h):(xt.flags|=a,_.memoizedState=Sl(1|o,E,u,h))}function Ex(a,o){cd(8390656,8,a,o)}function pp(a,o){ud(2048,8,a,o)}function PN(a){xt.flags|=4;var o=xt.updateQueue;if(o===null)o=sd(),xt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function Tx(a){var o=Pn().memoizedState;return PN({ref:o,nextImpl:a}),function(){if(($t&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Sx(a,o){return ud(4,2,a,o)}function Ax(a,o){return ud(4,4,a,o)}function wx(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function Cx(a,o,u){u=u!=null?u.concat([a]):null,ud(4,4,wx.bind(null,o,a),u)}function mp(){}function bx(a,o){var u=Pn();o=o===void 0?null:o;var h=u.memoizedState;return o!==null&&ip(o,h[1])?h[0]:(u.memoizedState=[a,o],a)}function Nx(a,o){var u=Pn();o=o===void 0?null:o;var h=u.memoizedState;if(o!==null&&ip(o,h[1]))return h[0];if(h=a(),_o){or(!0);try{a()}finally{or(!1)}}return u.memoizedState=[h,o],h}function gp(a,o,u){return u===void 0||(ka&1073741824)!==0&&(It&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=Iy(),xt.lanes|=a,As|=a,u)}function Ix(a,o,u,h){return ii(u,o)?u:_l.current!==null?(a=gp(a,u,h),ii(a,o)||(Gn=!0),a):(ka&42)===0||(ka&1073741824)!==0&&(It&261930)===0?(Gn=!0,a.memoizedState=u):(a=Iy(),xt.lanes|=a,As|=a,o)}function Rx(a,o,u,h,_){var E=le.p;le.p=E!==0&&8>E?E:8;var M=ae.T,q={};ae.T=q,yp(a,!1,o,u);try{var se=_(),ve=ae.S;if(ve!==null&&ve(q,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var Ie=RN(se,h);qc(a,o,Ie,ui(a))}else qc(a,o,h,ui(a))}catch(Me){qc(a,o,{then:function(){},status:"rejected",reason:Me},ui())}finally{le.p=E,M!==null&&q.types!==null&&(M.types=q.types),ae.T=M}}function ON(){}function vp(a,o,u,h){if(a.tag!==5)throw Error(r(476));var _=kx(a).queue;Rx(a,_,o,Re,u===null?ON:function(){return Dx(a),u(h)})}function kx(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Re,baseState:Re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:Re},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function Dx(a){var o=kx(a);o.next===null&&(o=a.alternate.memoizedState),qc(a,o.next.queue,{},ui())}function xp(){return ur(ou)}function Mx(){return Pn().memoizedState}function Fx(){return Pn().memoizedState}function LN(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ui();a=xs(u);var h=ys(o,a,u);h!==null&&(Qr(h,o,u),Vc(h,o,u)),o={cache:Yh()},a.payload=o;return}o=o.return}}function UN(a,o,u){var h=ui();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fd(a)?Ox(o,u):(u=Oh(a,o,u,h),u!==null&&(Qr(u,a,h),Lx(u,o,h)))}function Px(a,o,u){var h=ui();qc(a,o,u,h)}function qc(a,o,u,h){var _={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(fd(a))Ox(o,_);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var M=o.lastRenderedState,q=E(M,u);if(_.hasEagerState=!0,_.eagerState=q,ii(q,M))return jf(a,o,_,0),cn===null&&qf(),!1}catch{}finally{}if(u=Oh(a,o,_,h),u!==null)return Qr(u,a,h),Lx(u,o,h),!0}return!1}function yp(a,o,u,h){if(h={lane:2,revertLane:Wp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},fd(a)){if(o)throw Error(r(479))}else o=Oh(a,u,h,2),o!==null&&Qr(o,a,2)}function fd(a){var o=a.alternate;return a===xt||o!==null&&o===xt}function Ox(a,o){El=id=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function Lx(a,o,u){if((u&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,u|=h,o.lanes=u,Dn(a,u)}}var jc={readContext:ur,use:od,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};jc.useEffectEvent=wn;var Ux={readContext:ur,use:od,useCallback:function(a,o){return Lr().memoizedState=[a,o===void 0?null:o],a},useContext:ur,useEffect:Ex,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,cd(4194308,4,wx.bind(null,o,a),u)},useLayoutEffect:function(a,o){return cd(4194308,4,a,o)},useInsertionEffect:function(a,o){cd(4,2,a,o)},useMemo:function(a,o){var u=Lr();o=o===void 0?null:o;var h=a();if(_o){or(!0);try{a()}finally{or(!1)}}return u.memoizedState=[h,o],h},useReducer:function(a,o,u){var h=Lr();if(u!==void 0){var _=u(o);if(_o){or(!0);try{u(o)}finally{or(!1)}}}else _=o;return h.memoizedState=h.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},h.queue=a,a=a.dispatch=UN.bind(null,xt,a),[h.memoizedState,a]},useRef:function(a){var o=Lr();return a={current:a},o.memoizedState=a},useState:function(a){a=dp(a);var o=a.queue,u=Px.bind(null,xt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:mp,useDeferredValue:function(a,o){var u=Lr();return gp(u,a,o)},useTransition:function(){var a=dp(!1);return a=Rx.bind(null,xt,a.queue,!0,!1),Lr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var h=xt,_=Lr();if(Dt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),cn===null)throw Error(r(349));(It&127)!==0||ax(h,o,u)}_.memoizedState=u;var E={value:u,getSnapshot:o};return _.queue=E,Ex(ox.bind(null,h,E,a),[a]),h.flags|=2048,Sl(9,{destroy:void 0},sx.bind(null,h,E,u,o),null),u},useId:function(){var a=Lr(),o=cn.identifierPrefix;if(Dt){var u=fa,h=ua;u=(h&~(1<<32-hn(h)-1)).toString(32)+u,o="_"+o+"R_"+u,u=ad++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=kN++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:xp,useFormState:gx,useActionState:gx,useOptimistic:function(a){var o=Lr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=yp.bind(null,xt,!0,u),u.dispatch=o,[a,o]},useMemoCache:cp,useCacheRefresh:function(){return Lr().memoizedState=LN.bind(null,xt)},useEffectEvent:function(a){var o=Lr(),u={impl:a};return o.memoizedState=u,function(){if(($t&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},_p={readContext:ur,use:od,useCallback:bx,useContext:ur,useEffect:pp,useImperativeHandle:Cx,useInsertionEffect:Sx,useLayoutEffect:Ax,useMemo:Nx,useReducer:ld,useRef:_x,useState:function(){return ld(Da)},useDebugValue:mp,useDeferredValue:function(a,o){var u=Pn();return Ix(u,rn.memoizedState,a,o)},useTransition:function(){var a=ld(Da)[0],o=Pn().memoizedState;return[typeof a=="boolean"?a:zc(a),o]},useSyncExternalStore:ix,useId:Mx,useHostTransitionStatus:xp,useFormState:vx,useActionState:vx,useOptimistic:function(a,o){var u=Pn();return ux(u,rn,a,o)},useMemoCache:cp,useCacheRefresh:Fx};_p.useEffectEvent=Tx;var Vx={readContext:ur,use:od,useCallback:bx,useContext:ur,useEffect:pp,useImperativeHandle:Cx,useInsertionEffect:Sx,useLayoutEffect:Ax,useMemo:Nx,useReducer:fp,useRef:_x,useState:function(){return fp(Da)},useDebugValue:mp,useDeferredValue:function(a,o){var u=Pn();return rn===null?gp(u,a,o):Ix(u,rn.memoizedState,a,o)},useTransition:function(){var a=fp(Da)[0],o=Pn().memoizedState;return[typeof a=="boolean"?a:zc(a),o]},useSyncExternalStore:ix,useId:Mx,useHostTransitionStatus:xp,useFormState:yx,useActionState:yx,useOptimistic:function(a,o){var u=Pn();return rn!==null?ux(u,rn,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:cp,useCacheRefresh:Fx};Vx.useEffectEvent=Tx;function Ep(a,o,u,h){o=a.memoizedState,u=u(h,o),u=u==null?o:v({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Tp={enqueueSetState:function(a,o,u){a=a._reactInternals;var h=ui(),_=xs(h);_.payload=o,u!=null&&(_.callback=u),o=ys(a,_,h),o!==null&&(Qr(o,a,h),Vc(o,a,h))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var h=ui(),_=xs(h);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=ys(a,_,h),o!==null&&(Qr(o,a,h),Vc(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ui(),h=xs(u);h.tag=2,o!=null&&(h.callback=o),o=ys(a,h,u),o!==null&&(Qr(o,a,u),Vc(o,a,u))}};function Bx(a,o,u,h,_,E,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,E,M):o.prototype&&o.prototype.isPureReactComponent?!kc(u,h)||!kc(_,E):!0}function Hx(a,o,u,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==a&&Tp.enqueueReplaceState(o,o.state,null)}function Eo(a,o){var u=o;if("ref"in o){u={};for(var h in o)h!=="ref"&&(u[h]=o[h])}if(a=a.defaultProps){u===o&&(u=v({},u));for(var _ in a)u[_]===void 0&&(u[_]=a[_])}return u}function Gx(a){zf(a)}function zx(a){console.error(a)}function qx(a){zf(a)}function dd(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function jx(a,o,u){try{var h=a.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Sp(a,o,u){return u=xs(u),u.tag=3,u.payload={element:null},u.callback=function(){dd(a,o)},u}function $x(a){return a=xs(a),a.tag=3,a}function Yx(a,o,u,h){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var E=h.value;a.payload=function(){return _(E)},a.callback=function(){jx(o,u,h)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){jx(o,u,h),typeof _!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var q=h.stack;this.componentDidCatch(h.value,{componentStack:q!==null?q:""})})}function VN(a,o,u,h,_){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=u.alternate,o!==null&&ml(o,u,_,!0),u=si.current,u!==null){switch(u.tag){case 31:case 13:return Si===null?Ad():u.alternate===null&&Cn===0&&(Cn=3),u.flags&=-257,u.flags|=65536,u.lanes=_,h===Zf?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([h]):o.add(h),Kp(a,h,_)),!1;case 22:return u.flags|=65536,h===Zf?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([h]):u.add(h)),Kp(a,h,_)),!1}throw Error(r(435,u.tag))}return Kp(a,h,_),Ad(),!1}if(Dt)return o=si.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,h!==Gh&&(a=Error(r(422),{cause:h}),Fc(yi(a,u)))):(h!==Gh&&(o=Error(r(423),{cause:h}),Fc(yi(o,u))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,h=yi(h,u),_=Sp(a.stateNode,h,_),Zh(a,_),Cn!==4&&(Cn=2)),!1;var E=Error(r(520),{cause:h});if(E=yi(E,u),Zc===null?Zc=[E]:Zc.push(E),Cn!==4&&(Cn=2),o===null)return!0;h=yi(h,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=_&-_,u.lanes|=a,a=Sp(u.stateNode,h,a),Zh(u,a),!1;case 1:if(o=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ws===null||!ws.has(E))))return u.flags|=65536,_&=-_,u.lanes|=_,_=$x(_),Yx(_,a,u,h),Zh(u,_),!1}u=u.return}while(u!==null);return!1}var Ap=Error(r(461)),Gn=!1;function fr(a,o,u,h){o.child=a===null?W1(o,null,u,h):yo(o,a.child,u,h)}function Kx(a,o,u,h,_){u=u.render;var E=o.ref;if("ref"in h){var M={};for(var q in h)q!=="ref"&&(M[q]=h[q])}else M=h;return mo(o),h=ap(a,o,u,M,E,_),q=sp(),a!==null&&!Gn?(op(a,o,_),Ma(a,o,_)):(Dt&&q&&Bh(o),o.flags|=1,fr(a,o,h,_),o.child)}function Jx(a,o,u,h,_){if(a===null){var E=u.type;return typeof E=="function"&&!Lh(E)&&E.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=E,Xx(a,o,E,h,_)):(a=Yf(u.type,null,h,o,o.mode,_),a.ref=o.ref,a.return=o,o.child=a)}if(E=a.child,!Dp(a,_)){var M=E.memoizedProps;if(u=u.compare,u=u!==null?u:kc,u(M,h)&&a.ref===o.ref)return Ma(a,o,_)}return o.flags|=1,a=ba(E,h),a.ref=o.ref,a.return=o,o.child=a}function Xx(a,o,u,h,_){if(a!==null){var E=a.memoizedProps;if(kc(E,h)&&a.ref===o.ref)if(Gn=!1,o.pendingProps=h=E,Dp(a,_))(a.flags&131072)!==0&&(Gn=!0);else return o.lanes=a.lanes,Ma(a,o,_)}return wp(a,o,u,h,_)}function Wx(a,o,u,h){var _=h.children,E=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(E=E!==null?E.baseLanes|u:u,a!==null){for(h=o.child=a.child,_=0;h!==null;)_=_|h.lanes|h.childLanes,h=h.sibling;h=_&~E}else h=0,o.child=null;return Qx(a,o,E,u,h)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Wf(o,E!==null?E.cachePool:null),E!==null?ex(o,E):tp(),tx(o);else return h=o.lanes=536870912,Qx(a,o,E!==null?E.baseLanes|u:u,u,h)}else E!==null?(Wf(o,E.cachePool),ex(o,E),Es(),o.memoizedState=null):(a!==null&&Wf(o,null),tp(),Es());return fr(a,o,_,u),o.child}function $c(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Qx(a,o,u,h,_){var E=Jh();return E=E===null?null:{parent:Bn._currentValue,pool:E},o.memoizedState={baseLanes:u,cachePool:E},a!==null&&Wf(o,null),tp(),tx(o),a!==null&&ml(a,o,h,!0),o.childLanes=_,null}function hd(a,o){return o=md({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function Zx(a,o,u){return yo(o,a.child,null,u),a=hd(o,o.pendingProps),a.flags|=2,oi(o),o.memoizedState=null,a}function BN(a,o,u){var h=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Dt){if(h.mode==="hidden")return a=hd(o,h),o.lanes=536870912,$c(null,a);if(rp(o),(a=gn)?(a=f_(a,Ti),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:hs!==null?{id:ua,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},u=O1(a),u.return=o,o.child=u,cr=o,gn=null)):a=null,a===null)throw ms(o);return o.lanes=536870912,null}return hd(o,h)}var E=a.memoizedState;if(E!==null){var M=E.dehydrated;if(rp(o),_)if(o.flags&256)o.flags&=-257,o=Zx(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Gn||ml(a,o,u,!1),_=(u&a.childLanes)!==0,Gn||_){if(h=cn,h!==null&&(M=jr(h,u),M!==0&&M!==E.retryLane))throw E.retryLane=M,uo(a,M),Qr(h,a,M),Ap;Ad(),o=Zx(a,o,u)}else a=E.treeContext,gn=Ai(M.nextSibling),cr=o,Dt=!0,ps=null,Ti=!1,a!==null&&V1(o,a),o=hd(o,h),o.flags|=4096;return o}return a=ba(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function pd(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function wp(a,o,u,h,_){return mo(o),u=ap(a,o,u,h,void 0,_),h=sp(),a!==null&&!Gn?(op(a,o,_),Ma(a,o,_)):(Dt&&h&&Bh(o),o.flags|=1,fr(a,o,u,_),o.child)}function ey(a,o,u,h,_,E){return mo(o),o.updateQueue=null,u=rx(o,h,u,_),nx(a),h=sp(),a!==null&&!Gn?(op(a,o,E),Ma(a,o,E)):(Dt&&h&&Bh(o),o.flags|=1,fr(a,o,u,E),o.child)}function ty(a,o,u,h,_){if(mo(o),o.stateNode===null){var E=fl,M=u.contextType;typeof M=="object"&&M!==null&&(E=ur(M)),E=new u(h,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Tp,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=h,E.state=o.memoizedState,E.refs={},Wh(o),M=u.contextType,E.context=typeof M=="object"&&M!==null?ur(M):fl,E.state=o.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(Ep(o,u,M,h),E.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(M=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),M!==E.state&&Tp.enqueueReplaceState(E,E.state,null),Hc(o,h,E,_),Bc(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){E=o.stateNode;var q=o.memoizedProps,se=Eo(u,q);E.props=se;var ve=E.context,Ie=u.contextType;M=fl,typeof Ie=="object"&&Ie!==null&&(M=ur(Ie));var Me=u.getDerivedStateFromProps;Ie=typeof Me=="function"||typeof E.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,Ie||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(q||ve!==M)&&Hx(o,E,h,M),vs=!1;var _e=o.memoizedState;E.state=_e,Hc(o,h,E,_),Bc(),ve=o.memoizedState,q||_e!==ve||vs?(typeof Me=="function"&&(Ep(o,u,Me,h),ve=o.memoizedState),(se=vs||Bx(o,u,se,h,_e,ve,M))?(Ie||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ve),E.props=h,E.state=ve,E.context=M,h=se):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Qh(a,o),M=o.memoizedProps,Ie=Eo(u,M),E.props=Ie,Me=o.pendingProps,_e=E.context,ve=u.contextType,se=fl,typeof ve=="object"&&ve!==null&&(se=ur(ve)),q=u.getDerivedStateFromProps,(ve=typeof q=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==Me||_e!==se)&&Hx(o,E,h,se),vs=!1,_e=o.memoizedState,E.state=_e,Hc(o,h,E,_),Bc();var Ae=o.memoizedState;M!==Me||_e!==Ae||vs||a!==null&&a.dependencies!==null&&Jf(a.dependencies)?(typeof q=="function"&&(Ep(o,u,q,h),Ae=o.memoizedState),(Ie=vs||Bx(o,u,Ie,h,_e,Ae,se)||a!==null&&a.dependencies!==null&&Jf(a.dependencies))?(ve||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,Ae,se),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,Ae,se)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||M===a.memoizedProps&&_e===a.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&_e===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ae),E.props=h,E.state=Ae,E.context=se,h=Ie):(typeof E.componentDidUpdate!="function"||M===a.memoizedProps&&_e===a.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&_e===a.memoizedState||(o.flags|=1024),h=!1)}return E=h,pd(a,o),h=(o.flags&128)!==0,E||h?(E=o.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,a!==null&&h?(o.child=yo(o,a.child,null,_),o.child=yo(o,null,u,_)):fr(a,o,u,_),o.memoizedState=E.state,a=o.child):a=Ma(a,o,_),a}function ny(a,o,u,h){return ho(),o.flags|=256,fr(a,o,u,h),o.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bp(a){return{baseLanes:a,cachePool:j1()}}function Np(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ci),a}function ry(a,o,u){var h=o.pendingProps,_=!1,E=(o.flags&128)!==0,M;if((M=E)||(M=a!==null&&a.memoizedState===null?!1:(Fn.current&2)!==0),M&&(_=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,a===null){if(Dt){if(_?_s(o):Es(),(a=gn)?(a=f_(a,Ti),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:hs!==null?{id:ua,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},u=O1(a),u.return=o,o.child=u,cr=o,gn=null)):a=null,a===null)throw ms(o);return um(a)?o.lanes=32:o.lanes=536870912,null}var q=h.children;return h=h.fallback,_?(Es(),_=o.mode,q=md({mode:"hidden",children:q},_),h=fo(h,_,u,null),q.return=o,h.return=o,q.sibling=h,o.child=q,h=o.child,h.memoizedState=bp(u),h.childLanes=Np(a,M,u),o.memoizedState=Cp,$c(null,h)):(_s(o),Ip(o,q))}var se=a.memoizedState;if(se!==null&&(q=se.dehydrated,q!==null)){if(E)o.flags&256?(_s(o),o.flags&=-257,o=Rp(a,o,u)):o.memoizedState!==null?(Es(),o.child=a.child,o.flags|=128,o=null):(Es(),q=h.fallback,_=o.mode,h=md({mode:"visible",children:h.children},_),q=fo(q,_,u,null),q.flags|=2,h.return=o,q.return=o,h.sibling=q,o.child=h,yo(o,a.child,null,u),h=o.child,h.memoizedState=bp(u),h.childLanes=Np(a,M,u),o.memoizedState=Cp,o=$c(null,h));else if(_s(o),um(q)){if(M=q.nextSibling&&q.nextSibling.dataset,M)var ve=M.dgst;M=ve,h=Error(r(419)),h.stack="",h.digest=M,Fc({value:h,source:null,stack:null}),o=Rp(a,o,u)}else if(Gn||ml(a,o,u,!1),M=(u&a.childLanes)!==0,Gn||M){if(M=cn,M!==null&&(h=jr(M,u),h!==0&&h!==se.retryLane))throw se.retryLane=h,uo(a,h),Qr(M,a,h),Ap;cm(q)||Ad(),o=Rp(a,o,u)}else cm(q)?(o.flags|=192,o.child=a.child,o=null):(a=se.treeContext,gn=Ai(q.nextSibling),cr=o,Dt=!0,ps=null,Ti=!1,a!==null&&V1(o,a),o=Ip(o,h.children),o.flags|=4096);return o}return _?(Es(),q=h.fallback,_=o.mode,se=a.child,ve=se.sibling,h=ba(se,{mode:"hidden",children:h.children}),h.subtreeFlags=se.subtreeFlags&65011712,ve!==null?q=ba(ve,q):(q=fo(q,_,u,null),q.flags|=2),q.return=o,h.return=o,h.sibling=q,o.child=h,$c(null,h),h=o.child,q=a.child.memoizedState,q===null?q=bp(u):(_=q.cachePool,_!==null?(se=Bn._currentValue,_=_.parent!==se?{parent:se,pool:se}:_):_=j1(),q={baseLanes:q.baseLanes|u,cachePool:_}),h.memoizedState=q,h.childLanes=Np(a,M,u),o.memoizedState=Cp,$c(a.child,h)):(_s(o),u=a.child,a=u.sibling,u=ba(u,{mode:"visible",children:h.children}),u.return=o,u.sibling=null,a!==null&&(M=o.deletions,M===null?(o.deletions=[a],o.flags|=16):M.push(a)),o.child=u,o.memoizedState=null,u)}function Ip(a,o){return o=md({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function md(a,o){return a=ai(22,a,null,o),a.lanes=0,a}function Rp(a,o,u){return yo(o,a.child,null,u),a=Ip(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function iy(a,o,u){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),jh(a.return,o,u)}function kp(a,o,u,h,_,E){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:_,treeForkCount:E}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=h,M.tail=u,M.tailMode=_,M.treeForkCount=E)}function ay(a,o,u){var h=o.pendingProps,_=h.revealOrder,E=h.tail;h=h.children;var M=Fn.current,q=(M&2)!==0;if(q?(M=M&1|2,o.flags|=128):M&=1,X(Fn,M),fr(a,o,h,u),h=Dt?Mc:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&iy(a,u,o);else if(a.tag===19)iy(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(u=o.child,_=null;u!==null;)a=u.alternate,a!==null&&rd(a)===null&&(_=u),u=u.sibling;u=_,u===null?(_=o.child,o.child=null):(_=u.sibling,u.sibling=null),kp(o,!1,_,u,E,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=o.child,o.child=null;_!==null;){if(a=_.alternate,a!==null&&rd(a)===null){o.child=_;break}a=_.sibling,_.sibling=u,u=_,_=a}kp(o,!0,u,null,E,h);break;case"together":kp(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ma(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),As|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(ml(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ba(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ba(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function Dp(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Jf(a)))}function HN(a,o,u){switch(o.tag){case 3:Ce(o,o.stateNode.containerInfo),gs(o,Bn,a.memoizedState.cache),ho();break;case 27:case 5:ke(o);break;case 4:Ce(o,o.stateNode.containerInfo);break;case 10:gs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,rp(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(_s(o),o.flags|=128,null):(u&o.child.childLanes)!==0?ry(a,o,u):(_s(o),a=Ma(a,o,u),a!==null?a.sibling:null);_s(o);break;case 19:var _=(a.flags&128)!==0;if(h=(u&o.childLanes)!==0,h||(ml(a,o,u,!1),h=(u&o.childLanes)!==0),_){if(h)return ay(a,o,u);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),X(Fn,Fn.current),h)break;return null;case 22:return o.lanes=0,Wx(a,o,u,o.pendingProps);case 24:gs(o,Bn,a.memoizedState.cache)}return Ma(a,o,u)}function sy(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Gn=!0;else{if(!Dp(a,u)&&(o.flags&128)===0)return Gn=!1,HN(a,o,u);Gn=(a.flags&131072)!==0}else Gn=!1,Dt&&(o.flags&1048576)!==0&&U1(o,Mc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=vo(o.elementType),o.type=a,typeof a=="function")Lh(a)?(h=Eo(a,h),o.tag=1,o=ty(null,o,a,h,u)):(o.tag=0,o=wp(null,o,a,h,u));else{if(a!=null){var _=a.$$typeof;if(_===z){o.tag=11,o=Kx(null,o,a,h,u);break e}else if(_===I){o.tag=14,o=Jx(null,o,a,h,u);break e}}throw o=Ee(a)||a,Error(r(306,o,""))}}return o;case 0:return wp(a,o,o.type,o.pendingProps,u);case 1:return h=o.type,_=Eo(h,o.pendingProps),ty(a,o,h,_,u);case 3:e:{if(Ce(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var E=o.memoizedState;_=E.element,Qh(a,o),Hc(o,h,null,u);var M=o.memoizedState;if(h=M.cache,gs(o,Bn,h),h!==E.cache&&$h(o,[Bn],u,!0),Bc(),h=M.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){o=ny(a,o,h,u);break e}else if(h!==_){_=yi(Error(r(424)),o),Fc(_),o=ny(a,o,h,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(gn=Ai(a.firstChild),cr=o,Dt=!0,ps=null,Ti=!0,u=W1(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ho(),h===_){o=Ma(a,o,u);break e}fr(a,o,h,u)}o=o.child}return o;case 26:return pd(a,o),a===null?(u=v_(o.type,null,o.pendingProps,null))?o.memoizedState=u:Dt||(u=o.type,a=o.pendingProps,h=kd(ce.current).createElement(u),h[J]=o,h[Z]=a,dr(h,u,a),Qe(h),o.stateNode=h):o.memoizedState=v_(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return ke(o),a===null&&Dt&&(h=o.stateNode=p_(o.type,o.pendingProps,ce.current),cr=o,Ti=!0,_=gn,Is(o.type)?(fm=_,gn=Ai(h.firstChild)):gn=_),fr(a,o,o.pendingProps.children,u),pd(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Dt&&((_=h=gn)&&(h=v4(h,o.type,o.pendingProps,Ti),h!==null?(o.stateNode=h,cr=o,gn=Ai(h.firstChild),Ti=!1,_=!0):_=!1),_||ms(o)),ke(o),_=o.type,E=o.pendingProps,M=a!==null?a.memoizedProps:null,h=E.children,sm(_,E)?h=null:M!==null&&sm(_,M)&&(o.flags|=32),o.memoizedState!==null&&(_=ap(a,o,DN,null,null,u),ou._currentValue=_),pd(a,o),fr(a,o,h,u),o.child;case 6:return a===null&&Dt&&((a=u=gn)&&(u=x4(u,o.pendingProps,Ti),u!==null?(o.stateNode=u,cr=o,gn=null,a=!0):a=!1),a||ms(o)),null;case 13:return ry(a,o,u);case 4:return Ce(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=yo(o,null,h,u):fr(a,o,h,u),o.child;case 11:return Kx(a,o,o.type,o.pendingProps,u);case 7:return fr(a,o,o.pendingProps,u),o.child;case 8:return fr(a,o,o.pendingProps.children,u),o.child;case 12:return fr(a,o,o.pendingProps.children,u),o.child;case 10:return h=o.pendingProps,gs(o,o.type,h.value),fr(a,o,h.children,u),o.child;case 9:return _=o.type._context,h=o.pendingProps.children,mo(o),_=ur(_),h=h(_),o.flags|=1,fr(a,o,h,u),o.child;case 14:return Jx(a,o,o.type,o.pendingProps,u);case 15:return Xx(a,o,o.type,o.pendingProps,u);case 19:return ay(a,o,u);case 31:return BN(a,o,u);case 22:return Wx(a,o,u,o.pendingProps);case 24:return mo(o),h=ur(Bn),a===null?(_=Jh(),_===null&&(_=cn,E=Yh(),_.pooledCache=E,E.refCount++,E!==null&&(_.pooledCacheLanes|=u),_=E),o.memoizedState={parent:h,cache:_},Wh(o),gs(o,Bn,_)):((a.lanes&u)!==0&&(Qh(a,o),Hc(o,null,null,u),Bc()),_=a.memoizedState,E=o.memoizedState,_.parent!==h?(_={parent:h,cache:h},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),gs(o,Bn,h)):(h=E.cache,gs(o,Bn,h),h!==_.cache&&$h(o,[Bn],u,!0))),fr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Fa(a){a.flags|=4}function Mp(a,o,u,h,_){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(My())a.flags|=8192;else throw xo=Zf,Xh}else a.flags&=-16777217}function oy(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!T_(o))if(My())a.flags|=8192;else throw xo=Zf,Xh}function gd(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?gt():536870912,a.lanes|=o,bl|=o)}function Yc(a,o){if(!Dt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function vn(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,h=0;if(o)for(var _=a.child;_!==null;)u|=_.lanes|_.childLanes,h|=_.subtreeFlags&65011712,h|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)u|=_.lanes|_.childLanes,h|=_.subtreeFlags,h|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=h,a.childLanes=u,o}function GN(a,o,u){var h=o.pendingProps;switch(Hh(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(o),null;case 1:return vn(o),null;case 3:return u=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ra(Bn),we(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(pl(o)?Fa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zh())),vn(o),null;case 26:var _=o.type,E=o.memoizedState;return a===null?(Fa(o),E!==null?(vn(o),oy(o,E)):(vn(o),Mp(o,_,null,h,u))):E?E!==a.memoizedState?(Fa(o),vn(o),oy(o,E)):(vn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&Fa(o),vn(o),Mp(o,_,a,h,u)),null;case 27:if($e(o),u=ce.current,_=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Fa(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return vn(o),null}a=Q.current,pl(o)?B1(o):(a=p_(_,h,u),o.stateNode=a,Fa(o))}return vn(o),null;case 5:if($e(o),_=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&Fa(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return vn(o),null}if(E=Q.current,pl(o))B1(o);else{var M=kd(ce.current);switch(E){case 1:E=M.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:E=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":E=M.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":E=M.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":E=M.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof h.is=="string"?M.createElement("select",{is:h.is}):M.createElement("select"),h.multiple?E.multiple=!0:h.size&&(E.size=h.size);break;default:E=typeof h.is=="string"?M.createElement(_,{is:h.is}):M.createElement(_)}}E[J]=o,E[Z]=h;e:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)E.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break e;for(;M.sibling===null;){if(M.return===null||M.return===o)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=E;e:switch(dr(E,_,h),_){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Fa(o)}}return vn(o),Mp(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&Fa(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=ce.current,pl(o)){if(a=o.stateNode,u=o.memoizedProps,h=null,_=cr,_!==null)switch(_.tag){case 27:case 5:h=_.memoizedProps}a[J]=o,a=!!(a.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||r_(a.nodeValue,u)),a||ms(o,!0)}else a=kd(a).createTextNode(h),a[J]=o,o.stateNode=a}return vn(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(h=pl(o),u!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[J]=o}else ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),a=!1}else u=zh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(oi(o),o):(oi(o),null);if((o.flags&128)!==0)throw Error(r(558))}return vn(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=pl(o),h!==null&&h.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[J]=o}else ho(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vn(o),_=!1}else _=zh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(oi(o),o):(oi(o),null)}return oi(o),(o.flags&128)!==0?(o.lanes=u,o):(u=h!==null,a=a!==null&&a.memoizedState!==null,u&&(h=o.child,_=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(_=h.alternate.memoizedState.cachePool.pool),E=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(E=h.memoizedState.cachePool.pool),E!==_&&(h.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),gd(o,o.updateQueue),vn(o),null);case 4:return we(),a===null&&tm(o.stateNode.containerInfo),vn(o),null;case 10:return Ra(o.type),vn(o),null;case 19:if(V(Fn),h=o.memoizedState,h===null)return vn(o),null;if(_=(o.flags&128)!==0,E=h.rendering,E===null)if(_)Yc(h,!1);else{if(Cn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(E=rd(a),E!==null){for(o.flags|=128,Yc(h,!1),a=E.updateQueue,o.updateQueue=a,gd(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)P1(u,a),u=u.sibling;return X(Fn,Fn.current&1|2),Dt&&Na(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&ft()>Ed&&(o.flags|=128,_=!0,Yc(h,!1),o.lanes=4194304)}else{if(!_)if(a=rd(E),a!==null){if(o.flags|=128,_=!0,a=a.updateQueue,o.updateQueue=a,gd(o,a),Yc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!E.alternate&&!Dt)return vn(o),null}else 2*ft()-h.renderingStartTime>Ed&&u!==536870912&&(o.flags|=128,_=!0,Yc(h,!1),o.lanes=4194304);h.isBackwards?(E.sibling=o.child,o.child=E):(a=h.last,a!==null?a.sibling=E:o.child=E,h.last=E)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=ft(),a.sibling=null,u=Fn.current,X(Fn,_?u&1|2:u&1),Dt&&Na(o,h.treeForkCount),a):(vn(o),null);case 22:case 23:return oi(o),np(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(u&536870912)!==0&&(o.flags&128)===0&&(vn(o),o.subtreeFlags&6&&(o.flags|=8192)):vn(o),u=o.updateQueue,u!==null&&gd(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==u&&(o.flags|=2048),a!==null&&V(go),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ra(Bn),vn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function zN(a,o){switch(Hh(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Ra(Bn),we(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(oi(o),o.alternate===null)throw Error(r(340));ho()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(oi(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));ho()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return V(Fn),null;case 4:return we(),null;case 10:return Ra(o.type),null;case 22:case 23:return oi(o),np(),a!==null&&V(go),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Ra(Bn),null;case 25:return null;default:return null}}function ly(a,o){switch(Hh(o),o.tag){case 3:Ra(Bn),we();break;case 26:case 27:case 5:$e(o);break;case 4:we();break;case 31:o.memoizedState!==null&&oi(o);break;case 13:oi(o);break;case 19:V(Fn);break;case 10:Ra(o.type);break;case 22:case 23:oi(o),np(),a!==null&&V(go);break;case 24:Ra(Bn)}}function Kc(a,o){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var _=h.next;u=_;do{if((u.tag&a)===a){h=void 0;var E=u.create,M=u.inst;h=E(),M.destroy=h}u=u.next}while(u!==_)}}catch(q){en(o,o.return,q)}}function Ts(a,o,u){try{var h=o.updateQueue,_=h!==null?h.lastEffect:null;if(_!==null){var E=_.next;h=E;do{if((h.tag&a)===a){var M=h.inst,q=M.destroy;if(q!==void 0){M.destroy=void 0,_=o;var se=u,ve=q;try{ve()}catch(Ie){en(_,se,Ie)}}}h=h.next}while(h!==E)}}catch(Ie){en(o,o.return,Ie)}}function cy(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{Z1(o,u)}catch(h){en(a,a.return,h)}}}function uy(a,o,u){u.props=Eo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(h){en(a,o,h)}}function Jc(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof u=="function"?a.refCleanup=u(h):u.current=h}}catch(_){en(a,o,_)}}function da(a,o){var u=a.ref,h=a.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(_){en(a,o,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){en(a,o,_)}else u.current=null}function fy(a){var o=a.type,u=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(_){en(a,a.return,_)}}function Fp(a,o,u){try{var h=a.stateNode;f4(h,a.type,u,o),h[Z]=o}catch(_){en(a,a.return,_)}}function dy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Is(a.type)||a.tag===4}function Pp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||dy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Is(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Op(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Oi));else if(h!==4&&(h===27&&Is(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Op(a,o,u),a=a.sibling;a!==null;)Op(a,o,u),a=a.sibling}function vd(a,o,u){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(h!==4&&(h===27&&Is(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(vd(a,o,u),a=a.sibling;a!==null;)vd(a,o,u),a=a.sibling}function hy(a){var o=a.stateNode,u=a.memoizedProps;try{for(var h=a.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);dr(o,h,u),o[J]=a,o[Z]=u}catch(E){en(a,a.return,E)}}var Pa=!1,zn=!1,Lp=!1,py=typeof WeakSet=="function"?WeakSet:Set,tr=null;function qN(a,o){if(a=a.containerInfo,im=Ud,a=C1(a),Rh(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var _=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var M=0,q=-1,se=-1,ve=0,Ie=0,Me=a,_e=null;t:for(;;){for(var Ae;Me!==u||_!==0&&Me.nodeType!==3||(q=M+_),Me!==E||h!==0&&Me.nodeType!==3||(se=M+h),Me.nodeType===3&&(M+=Me.nodeValue.length),(Ae=Me.firstChild)!==null;)_e=Me,Me=Ae;for(;;){if(Me===a)break t;if(_e===u&&++ve===_&&(q=M),_e===E&&++Ie===h&&(se=M),(Ae=Me.nextSibling)!==null)break;Me=_e,_e=Me.parentNode}Me=Ae}u=q===-1||se===-1?null:{start:q,end:se}}else u=null}u=u||{start:0,end:0}}else u=null;for(am={focusedElem:a,selectionRange:u},Ud=!1,tr=o;tr!==null;)if(o=tr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,tr=a;else for(;tr!==null;){switch(o=tr,E=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)_=a[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,u=o,_=E.memoizedProps,E=E.memoizedState,h=u.stateNode;try{var We=Eo(u.type,_);a=h.getSnapshotBeforeUpdate(We,E),h.__reactInternalSnapshotBeforeUpdate=a}catch(ut){en(u,u.return,ut)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)lm(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":lm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,tr=a;break}tr=o.return}}function my(a,o,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:La(a,u),h&4&&Kc(5,u);break;case 1:if(La(a,u),h&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(M){en(u,u.return,M)}else{var _=Eo(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(_,o,a.__reactInternalSnapshotBeforeUpdate)}catch(M){en(u,u.return,M)}}h&64&&cy(u),h&512&&Jc(u,u.return);break;case 3:if(La(a,u),h&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Z1(a,o)}catch(M){en(u,u.return,M)}}break;case 27:o===null&&h&4&&hy(u);case 26:case 5:La(a,u),o===null&&h&4&&fy(u),h&512&&Jc(u,u.return);break;case 12:La(a,u);break;case 31:La(a,u),h&4&&xy(a,u);break;case 13:La(a,u),h&4&&yy(a,u),h&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=ZN.bind(null,u),y4(a,u))));break;case 22:if(h=u.memoizedState!==null||Pa,!h){o=o!==null&&o.memoizedState!==null||zn,_=Pa;var E=zn;Pa=h,(zn=o)&&!E?Ua(a,u,(u.subtreeFlags&8772)!==0):La(a,u),Pa=_,zn=E}break;case 30:break;default:La(a,u)}}function gy(a){var o=a.alternate;o!==null&&(a.alternate=null,gy(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Le(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var yn=null,Kr=!1;function Oa(a,o,u){for(u=u.child;u!==null;)vy(a,o,u),u=u.sibling}function vy(a,o,u){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Et,u)}catch{}switch(u.tag){case 26:zn||da(u,o),Oa(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:zn||da(u,o);var h=yn,_=Kr;Is(u.type)&&(yn=u.stateNode,Kr=!1),Oa(a,o,u),iu(u.stateNode),yn=h,Kr=_;break;case 5:zn||da(u,o);case 6:if(h=yn,_=Kr,yn=null,Oa(a,o,u),yn=h,Kr=_,yn!==null)if(Kr)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(u.stateNode)}catch(E){en(u,o,E)}else try{yn.removeChild(u.stateNode)}catch(E){en(u,o,E)}break;case 18:yn!==null&&(Kr?(a=yn,c_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Pl(a)):c_(yn,u.stateNode));break;case 4:h=yn,_=Kr,yn=u.stateNode.containerInfo,Kr=!0,Oa(a,o,u),yn=h,Kr=_;break;case 0:case 11:case 14:case 15:Ts(2,u,o),zn||Ts(4,u,o),Oa(a,o,u);break;case 1:zn||(da(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"&&uy(u,o,h)),Oa(a,o,u);break;case 21:Oa(a,o,u);break;case 22:zn=(h=zn)||u.memoizedState!==null,Oa(a,o,u),zn=h;break;default:Oa(a,o,u)}}function xy(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Pl(a)}catch(u){en(o,o.return,u)}}}function yy(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Pl(a)}catch(u){en(o,o.return,u)}}function jN(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new py),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new py),o;default:throw Error(r(435,a.tag))}}function xd(a,o){var u=jN(a);o.forEach(function(h){if(!u.has(h)){u.add(h);var _=e4.bind(null,a,h);h.then(_,_)}})}function Jr(a,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var _=u[h],E=a,M=o,q=M;e:for(;q!==null;){switch(q.tag){case 27:if(Is(q.type)){yn=q.stateNode,Kr=!1;break e}break;case 5:yn=q.stateNode,Kr=!1;break e;case 3:case 4:yn=q.stateNode.containerInfo,Kr=!0;break e}q=q.return}if(yn===null)throw Error(r(160));vy(E,M,_),yn=null,Kr=!1,E=_.alternate,E!==null&&(E.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)_y(o,a),o=o.sibling}var Gi=null;function _y(a,o){var u=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Jr(o,a),Xr(a),h&4&&(Ts(3,a,a.return),Kc(3,a),Ts(5,a,a.return));break;case 1:Jr(o,a),Xr(a),h&512&&(zn||u===null||da(u,u.return)),h&64&&Pa&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var _=Gi;if(Jr(o,a),Xr(a),h&512&&(zn||u===null||da(u,u.return)),h&4){var E=u!==null?u.memoizedState:null;if(h=a.memoizedState,u===null)if(h===null)if(a.stateNode===null){e:{h=a.type,u=a.memoizedProps,_=_.ownerDocument||_;t:switch(h){case"title":E=_.getElementsByTagName("title")[0],(!E||E[xe]||E[J]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=_.createElement(h),_.head.insertBefore(E,_.querySelector("head > title"))),dr(E,h,u),E[J]=a,Qe(E),h=E;break e;case"link":var M=__("link","href",_).get(h+(u.href||""));if(M){for(var q=0;q<M.length;q++)if(E=M[q],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(q,1);break t}}E=_.createElement(h),dr(E,h,u),_.head.appendChild(E);break;case"meta":if(M=__("meta","content",_).get(h+(u.content||""))){for(q=0;q<M.length;q++)if(E=M[q],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(q,1);break t}}E=_.createElement(h),dr(E,h,u),_.head.appendChild(E);break;default:throw Error(r(468,h))}E[J]=a,Qe(E),h=E}a.stateNode=h}else E_(_,a.type,a.stateNode);else a.stateNode=y_(_,h,a.memoizedProps);else E!==h?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,h===null?E_(_,a.type,a.stateNode):y_(_,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Fp(a,a.memoizedProps,u.memoizedProps)}break;case 27:Jr(o,a),Xr(a),h&512&&(zn||u===null||da(u,u.return)),u!==null&&h&4&&Fp(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Jr(o,a),Xr(a),h&512&&(zn||u===null||da(u,u.return)),a.flags&32){_=a.stateNode;try{Yr(_,"")}catch(We){en(a,a.return,We)}}h&4&&a.stateNode!=null&&(_=a.memoizedProps,Fp(a,_,u!==null?u.memoizedProps:_)),h&1024&&(Lp=!0);break;case 6:if(Jr(o,a),Xr(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,u=a.stateNode;try{u.nodeValue=h}catch(We){en(a,a.return,We)}}break;case 3:if(Fd=null,_=Gi,Gi=Dd(o.containerInfo),Jr(o,a),Gi=_,Xr(a),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Pl(o.containerInfo)}catch(We){en(a,a.return,We)}Lp&&(Lp=!1,Ey(a));break;case 4:h=Gi,Gi=Dd(a.stateNode.containerInfo),Jr(o,a),Xr(a),Gi=h;break;case 12:Jr(o,a),Xr(a);break;case 31:Jr(o,a),Xr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,xd(a,h)));break;case 13:Jr(o,a),Xr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(_d=ft()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,xd(a,h)));break;case 22:_=a.memoizedState!==null;var se=u!==null&&u.memoizedState!==null,ve=Pa,Ie=zn;if(Pa=ve||_,zn=Ie||se,Jr(o,a),zn=Ie,Pa=ve,Xr(a),h&8192)e:for(o=a.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(u===null||se||Pa||zn||To(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){se=u=o;try{if(E=se.stateNode,_)M=E.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{q=se.stateNode;var Me=se.memoizedProps.style,_e=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;q.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(We){en(se,se.return,We)}}}else if(o.tag===6){if(u===null){se=o;try{se.stateNode.nodeValue=_?"":se.memoizedProps}catch(We){en(se,se.return,We)}}}else if(o.tag===18){if(u===null){se=o;try{var Ae=se.stateNode;_?u_(Ae,!0):u_(se.stateNode,!1)}catch(We){en(se,se.return,We)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,xd(a,u))));break;case 19:Jr(o,a),Xr(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,xd(a,h)));break;case 30:break;case 21:break;default:Jr(o,a),Xr(a)}}function Xr(a){var o=a.flags;if(o&2){try{for(var u,h=a.return;h!==null;){if(dy(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,E=Pp(a);vd(a,E,_);break;case 5:var M=u.stateNode;u.flags&32&&(Yr(M,""),u.flags&=-33);var q=Pp(a);vd(a,q,M);break;case 3:case 4:var se=u.stateNode.containerInfo,ve=Pp(a);Op(a,ve,se);break;default:throw Error(r(161))}}catch(Ie){en(a,a.return,Ie)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Ey(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Ey(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function La(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)my(a,o.alternate,o),o=o.sibling}function To(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Ts(4,o,o.return),To(o);break;case 1:da(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&uy(o,o.return,u),To(o);break;case 27:iu(o.stateNode);case 26:case 5:da(o,o.return),To(o);break;case 22:o.memoizedState===null&&To(o);break;case 30:To(o);break;default:To(o)}a=a.sibling}}function Ua(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,_=a,E=o,M=E.flags;switch(E.tag){case 0:case 11:case 15:Ua(_,E,u),Kc(4,E);break;case 1:if(Ua(_,E,u),h=E,_=h.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ve){en(h,h.return,ve)}if(h=E,_=h.updateQueue,_!==null){var q=h.stateNode;try{var se=_.shared.hiddenCallbacks;if(se!==null)for(_.shared.hiddenCallbacks=null,_=0;_<se.length;_++)Q1(se[_],q)}catch(ve){en(h,h.return,ve)}}u&&M&64&&cy(E),Jc(E,E.return);break;case 27:hy(E);case 26:case 5:Ua(_,E,u),u&&h===null&&M&4&&fy(E),Jc(E,E.return);break;case 12:Ua(_,E,u);break;case 31:Ua(_,E,u),u&&M&4&&xy(_,E);break;case 13:Ua(_,E,u),u&&M&4&&yy(_,E);break;case 22:E.memoizedState===null&&Ua(_,E,u),Jc(E,E.return);break;case 30:break;default:Ua(_,E,u)}o=o.sibling}}function Up(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Pc(u))}function Vp(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Pc(a))}function zi(a,o,u,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ty(a,o,u,h),o=o.sibling}function Ty(a,o,u,h){var _=o.flags;switch(o.tag){case 0:case 11:case 15:zi(a,o,u,h),_&2048&&Kc(9,o);break;case 1:zi(a,o,u,h);break;case 3:zi(a,o,u,h),_&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Pc(a)));break;case 12:if(_&2048){zi(a,o,u,h),a=o.stateNode;try{var E=o.memoizedProps,M=E.id,q=E.onPostCommit;typeof q=="function"&&q(M,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(se){en(o,o.return,se)}}else zi(a,o,u,h);break;case 31:zi(a,o,u,h);break;case 13:zi(a,o,u,h);break;case 23:break;case 22:E=o.stateNode,M=o.alternate,o.memoizedState!==null?E._visibility&2?zi(a,o,u,h):Xc(a,o):E._visibility&2?zi(a,o,u,h):(E._visibility|=2,Al(a,o,u,h,(o.subtreeFlags&10256)!==0||!1)),_&2048&&Up(M,o);break;case 24:zi(a,o,u,h),_&2048&&Vp(o.alternate,o);break;default:zi(a,o,u,h)}}function Al(a,o,u,h,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var E=a,M=o,q=u,se=h,ve=M.flags;switch(M.tag){case 0:case 11:case 15:Al(E,M,q,se,_),Kc(8,M);break;case 23:break;case 22:var Ie=M.stateNode;M.memoizedState!==null?Ie._visibility&2?Al(E,M,q,se,_):Xc(E,M):(Ie._visibility|=2,Al(E,M,q,se,_)),_&&ve&2048&&Up(M.alternate,M);break;case 24:Al(E,M,q,se,_),_&&ve&2048&&Vp(M.alternate,M);break;default:Al(E,M,q,se,_)}o=o.sibling}}function Xc(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,h=o,_=h.flags;switch(h.tag){case 22:Xc(u,h),_&2048&&Up(h.alternate,h);break;case 24:Xc(u,h),_&2048&&Vp(h.alternate,h);break;default:Xc(u,h)}o=o.sibling}}var Wc=8192;function wl(a,o,u){if(a.subtreeFlags&Wc)for(a=a.child;a!==null;)Sy(a,o,u),a=a.sibling}function Sy(a,o,u){switch(a.tag){case 26:wl(a,o,u),a.flags&Wc&&a.memoizedState!==null&&k4(u,Gi,a.memoizedState,a.memoizedProps);break;case 5:wl(a,o,u);break;case 3:case 4:var h=Gi;Gi=Dd(a.stateNode.containerInfo),wl(a,o,u),Gi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Wc,Wc=16777216,wl(a,o,u),Wc=h):wl(a,o,u));break;default:wl(a,o,u)}}function Ay(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Qc(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];tr=h,Cy(h,a)}Ay(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wy(a),a=a.sibling}function wy(a){switch(a.tag){case 0:case 11:case 15:Qc(a),a.flags&2048&&Ts(9,a,a.return);break;case 3:Qc(a);break;case 12:Qc(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,yd(a)):Qc(a);break;default:Qc(a)}}function yd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];tr=h,Cy(h,a)}Ay(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Ts(8,o,o.return),yd(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,yd(o));break;default:yd(o)}a=a.sibling}}function Cy(a,o){for(;tr!==null;){var u=tr;switch(u.tag){case 0:case 11:case 15:Ts(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Pc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,tr=h;else e:for(u=a;tr!==null;){h=tr;var _=h.sibling,E=h.return;if(gy(h),h===u){tr=null;break e}if(_!==null){_.return=E,tr=_;break e}tr=E}}}var $N={getCacheForType:function(a){var o=ur(Bn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return ur(Bn).controller.signal}},YN=typeof WeakMap=="function"?WeakMap:Map,$t=0,cn=null,Ct=null,It=0,Zt=0,li=null,Ss=!1,Cl=!1,Bp=!1,Va=0,Cn=0,As=0,So=0,Hp=0,ci=0,bl=0,Zc=null,Wr=null,Gp=!1,_d=0,by=0,Ed=1/0,Td=null,ws=null,Xn=0,Cs=null,Nl=null,Ba=0,zp=0,qp=null,Ny=null,eu=0,jp=null;function ui(){return($t&2)!==0&&It!==0?It&-It:ae.T!==null?Wp():G()}function Iy(){if(ci===0)if((It&536870912)===0||Dt){var a=kn;kn<<=1,(kn&3932160)===0&&(kn=262144),ci=a}else ci=536870912;return a=si.current,a!==null&&(a.flags|=32),ci}function Qr(a,o,u){(a===cn&&(Zt===2||Zt===9)||a.cancelPendingCommit!==null)&&(Il(a,0),bs(a,It,ci,!1)),Ft(a,u),(($t&2)===0||a!==cn)&&(a===cn&&(($t&2)===0&&(So|=u),Cn===4&&bs(a,It,ci,!1)),ha(a))}function Ry(a,o,u){if(($t&6)!==0)throw Error(r(327));var h=!u&&(o&127)===0&&(o&a.expiredLanes)===0||He(a,o),_=h?XN(a,o):Yp(a,o,!0),E=h;do{if(_===0){Cl&&!h&&bs(a,o,0,!1);break}else{if(u=a.current.alternate,E&&!KN(u)){_=Yp(a,o,!1),E=!1;continue}if(_===2){if(E=o,a.errorRecoveryDisabledLanes&E)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var q=a;_=Zc;var se=q.current.memoizedState.isDehydrated;if(se&&(Il(q,M).flags|=256),M=Yp(q,M,!1),M!==2){if(Bp&&!se){q.errorRecoveryDisabledLanes|=E,So|=E,_=4;break e}E=Wr,Wr=_,E!==null&&(Wr===null?Wr=E:Wr.push.apply(Wr,E))}_=M}if(E=!1,_!==2)continue}}if(_===1){Il(a,0),bs(a,o,0,!0);break}e:{switch(h=a,E=_,E){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:bs(h,o,ci,!Ss);break e;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(_=_d+300-ft(),10<_)){if(bs(h,o,ci,!Ss),Be(h,0,!0)!==0)break e;Ba=o,h.timeoutHandle=o_(ky.bind(null,h,u,Wr,Td,Gp,o,ci,So,bl,Ss,E,"Throttled",-0,0),_);break e}ky(h,u,Wr,Td,Gp,o,ci,So,bl,Ss,E,null,-0,0)}}break}while(!0);ha(a)}function ky(a,o,u,h,_,E,M,q,se,ve,Ie,Me,_e,Ae){if(a.timeoutHandle=-1,Me=o.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oi},Sy(o,E,Me);var We=(E&62914560)===E?_d-ft():(E&4194048)===E?by-ft():0;if(We=D4(Me,We),We!==null){Ba=E,a.cancelPendingCommit=We(Vy.bind(null,a,o,E,u,h,_,M,q,se,Ie,Me,null,_e,Ae)),bs(a,E,M,!ve);return}}Vy(a,o,E,u,h,_,M,q,se)}function KN(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var _=u[h],E=_.getSnapshot;_=_.value;try{if(!ii(E(),_))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function bs(a,o,u,h){o&=~Hp,o&=~So,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var _=o;0<_;){var E=31-hn(_),M=1<<E;h[E]=-1,_&=~M}u!==0&&An(a,u,o)}function Sd(){return($t&6)===0?(tu(0),!1):!0}function $p(){if(Ct!==null){if(Zt===0)var a=Ct.return;else a=Ct,Ia=po=null,lp(a),yl=null,Lc=0,a=Ct;for(;a!==null;)ly(a.alternate,a),a=a.return;Ct=null}}function Il(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,p4(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ba=0,$p(),cn=a,Ct=u=ba(a.current,null),It=o,Zt=0,li=null,Ss=!1,Cl=He(a,o),Bp=!1,bl=ci=Hp=So=As=Cn=0,Wr=Zc=null,Gp=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var _=31-hn(h),E=1<<_;o|=a[_],h&=~E}return Va=o,qf(),u}function Dy(a,o){xt=null,ae.H=jc,o===xl||o===Qf?(o=K1(),Zt=3):o===Xh?(o=K1(),Zt=4):Zt=o===Ap?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,li=o,Ct===null&&(Cn=1,dd(a,yi(o,a.current)))}function My(){var a=si.current;return a===null?!0:(It&4194048)===It?Si===null:(It&62914560)===It||(It&536870912)!==0?a===Si:!1}function Fy(){var a=ae.H;return ae.H=jc,a===null?jc:a}function Py(){var a=ae.A;return ae.A=$N,a}function Ad(){Cn=4,Ss||(It&4194048)!==It&&si.current!==null||(Cl=!0),(As&134217727)===0&&(So&134217727)===0||cn===null||bs(cn,It,ci,!1)}function Yp(a,o,u){var h=$t;$t|=2;var _=Fy(),E=Py();(cn!==a||It!==o)&&(Td=null,Il(a,o)),o=!1;var M=Cn;e:do try{if(Zt!==0&&Ct!==null){var q=Ct,se=li;switch(Zt){case 8:$p(),M=6;break e;case 3:case 2:case 9:case 6:si.current===null&&(o=!0);var ve=Zt;if(Zt=0,li=null,Rl(a,q,se,ve),u&&Cl){M=0;break e}break;default:ve=Zt,Zt=0,li=null,Rl(a,q,se,ve)}}JN(),M=Cn;break}catch(Ie){Dy(a,Ie)}while(!0);return o&&a.shellSuspendCounter++,Ia=po=null,$t=h,ae.H=_,ae.A=E,Ct===null&&(cn=null,It=0,qf()),M}function JN(){for(;Ct!==null;)Oy(Ct)}function XN(a,o){var u=$t;$t|=2;var h=Fy(),_=Py();cn!==a||It!==o?(Td=null,Ed=ft()+500,Il(a,o)):Cl=He(a,o);e:do try{if(Zt!==0&&Ct!==null){o=Ct;var E=li;t:switch(Zt){case 1:Zt=0,li=null,Rl(a,o,E,1);break;case 2:case 9:if($1(E)){Zt=0,li=null,Ly(o);break}o=function(){Zt!==2&&Zt!==9||cn!==a||(Zt=7),ha(a)},E.then(o,o);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:$1(E)?(Zt=0,li=null,Ly(o)):(Zt=0,li=null,Rl(a,o,E,7));break;case 5:var M=null;switch(Ct.tag){case 26:M=Ct.memoizedState;case 5:case 27:var q=Ct;if(M?T_(M):q.stateNode.complete){Zt=0,li=null;var se=q.sibling;if(se!==null)Ct=se;else{var ve=q.return;ve!==null?(Ct=ve,wd(ve)):Ct=null}break t}}Zt=0,li=null,Rl(a,o,E,5);break;case 6:Zt=0,li=null,Rl(a,o,E,6);break;case 8:$p(),Cn=6;break e;default:throw Error(r(462))}}WN();break}catch(Ie){Dy(a,Ie)}while(!0);return Ia=po=null,ae.H=h,ae.A=_,$t=u,Ct!==null?0:(cn=null,It=0,qf(),Cn)}function WN(){for(;Ct!==null&&!Sn();)Oy(Ct)}function Oy(a){var o=sy(a.alternate,a,Va);a.memoizedProps=a.pendingProps,o===null?wd(a):Ct=o}function Ly(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=ey(u,o,o.pendingProps,o.type,void 0,It);break;case 11:o=ey(u,o,o.pendingProps,o.type.render,o.ref,It);break;case 5:lp(o);default:ly(u,o),o=Ct=P1(o,Va),o=sy(u,o,Va)}a.memoizedProps=a.pendingProps,o===null?wd(a):Ct=o}function Rl(a,o,u,h){Ia=po=null,lp(o),yl=null,Lc=0;var _=o.return;try{if(VN(a,_,o,u,It)){Cn=1,dd(a,yi(u,a.current)),Ct=null;return}}catch(E){if(_!==null)throw Ct=_,E;Cn=1,dd(a,yi(u,a.current)),Ct=null;return}o.flags&32768?(Dt||h===1?a=!0:Cl||(It&536870912)!==0?a=!1:(Ss=a=!0,(h===2||h===9||h===3||h===6)&&(h=si.current,h!==null&&h.tag===13&&(h.flags|=16384))),Uy(o,a)):wd(o)}function wd(a){var o=a;do{if((o.flags&32768)!==0){Uy(o,Ss);return}a=o.return;var u=GN(o.alternate,o,Va);if(u!==null){Ct=u;return}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=a}while(o!==null);Cn===0&&(Cn=5)}function Uy(a,o){do{var u=zN(a.alternate,a);if(u!==null){u.flags&=32767,Ct=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Ct=a;return}Ct=a=u}while(a!==null);Cn=6,Ct=null}function Vy(a,o,u,h,_,E,M,q,se){a.cancelPendingCommit=null;do Cd();while(Xn!==0);if(($t&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(E=o.lanes|o.childLanes,E|=Ph,pn(a,u,E,M,q,se),a===cn&&(Ct=cn=null,It=0),Nl=o,Cs=a,Ba=u,zp=E,qp=_,Ny=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,t4(Nt,function(){return qy(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null,_=le.p,le.p=2,M=$t,$t|=4;try{qN(a,o,u)}finally{$t=M,le.p=_,ae.T=h}}Xn=1,By(),Hy(),Gy()}}function By(){if(Xn===1){Xn=0;var a=Cs,o=Nl,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null;var h=le.p;le.p=2;var _=$t;$t|=4;try{_y(o,a);var E=am,M=C1(a.containerInfo),q=E.focusedElem,se=E.selectionRange;if(M!==q&&q&&q.ownerDocument&&w1(q.ownerDocument.documentElement,q)){if(se!==null&&Rh(q)){var ve=se.start,Ie=se.end;if(Ie===void 0&&(Ie=ve),"selectionStart"in q)q.selectionStart=ve,q.selectionEnd=Math.min(Ie,q.value.length);else{var Me=q.ownerDocument||document,_e=Me&&Me.defaultView||window;if(_e.getSelection){var Ae=_e.getSelection(),We=q.textContent.length,ut=Math.min(se.start,We),sn=se.end===void 0?ut:Math.min(se.end,We);!Ae.extend&&ut>sn&&(M=sn,sn=ut,ut=M);var fe=A1(q,ut),oe=A1(q,sn);if(fe&&oe&&(Ae.rangeCount!==1||Ae.anchorNode!==fe.node||Ae.anchorOffset!==fe.offset||Ae.focusNode!==oe.node||Ae.focusOffset!==oe.offset)){var pe=Me.createRange();pe.setStart(fe.node,fe.offset),Ae.removeAllRanges(),ut>sn?(Ae.addRange(pe),Ae.extend(oe.node,oe.offset)):(pe.setEnd(oe.node,oe.offset),Ae.addRange(pe))}}}}for(Me=[],Ae=q;Ae=Ae.parentNode;)Ae.nodeType===1&&Me.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Me.length;q++){var De=Me[q];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Ud=!!im,am=im=null}finally{$t=_,le.p=h,ae.T=u}}a.current=o,Xn=2}}function Hy(){if(Xn===2){Xn=0;var a=Cs,o=Nl,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ae.T,ae.T=null;var h=le.p;le.p=2;var _=$t;$t|=4;try{my(a,o.alternate,o)}finally{$t=_,le.p=h,ae.T=u}}Xn=3}}function Gy(){if(Xn===4||Xn===3){Xn=0,Rn();var a=Cs,o=Nl,u=Ba,h=Ny;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Xn=5:(Xn=0,Nl=Cs=null,zy(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(ws=null),mn(u),o=o.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Et,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=ae.T,_=le.p,le.p=2,ae.T=null;try{for(var E=a.onRecoverableError,M=0;M<h.length;M++){var q=h[M];E(q.value,{componentStack:q.stack})}}finally{ae.T=o,le.p=_}}(Ba&3)!==0&&Cd(),ha(a),_=a.pendingLanes,(u&261930)!==0&&(_&42)!==0?a===jp?eu++:(eu=0,jp=a):eu=0,tu(0)}}function zy(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Pc(o)))}function Cd(){return By(),Hy(),Gy(),qy()}function qy(){if(Xn!==5)return!1;var a=Cs,o=zp;zp=0;var u=mn(Ba),h=ae.T,_=le.p;try{le.p=32>u?32:u,ae.T=null,u=qp,qp=null;var E=Cs,M=Ba;if(Xn=0,Nl=Cs=null,Ba=0,($t&6)!==0)throw Error(r(331));var q=$t;if($t|=4,wy(E.current),Ty(E,E.current,M,u),$t=q,tu(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Et,E)}catch{}return!0}finally{le.p=_,ae.T=h,zy(a,o)}}function jy(a,o,u){o=yi(u,o),o=Sp(a.stateNode,o,2),a=ys(a,o,2),a!==null&&(Ft(a,2),ha(a))}function en(a,o,u){if(a.tag===3)jy(a,a,u);else for(;o!==null;){if(o.tag===3){jy(o,a,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ws===null||!ws.has(h))){a=yi(u,a),u=$x(2),h=ys(o,u,2),h!==null&&(Yx(u,h,o,a),Ft(h,2),ha(h));break}}o=o.return}}function Kp(a,o,u){var h=a.pingCache;if(h===null){h=a.pingCache=new YN;var _=new Set;h.set(o,_)}else _=h.get(o),_===void 0&&(_=new Set,h.set(o,_));_.has(u)||(Bp=!0,_.add(u),a=QN.bind(null,a,o,u),o.then(a,a))}function QN(a,o,u){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,cn===a&&(It&u)===u&&(Cn===4||Cn===3&&(It&62914560)===It&&300>ft()-_d?($t&2)===0&&Il(a,0):Hp|=u,bl===It&&(bl=0)),ha(a)}function $y(a,o){o===0&&(o=gt()),a=uo(a,o),a!==null&&(Ft(a,o),ha(a))}function ZN(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),$y(a,u)}function e4(a,o){var u=0;switch(a.tag){case 31:case 13:var h=a.stateNode,_=a.memoizedState;_!==null&&(u=_.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),$y(a,u)}function t4(a,o){return lt(a,o)}var bd=null,kl=null,Jp=!1,Nd=!1,Xp=!1,Ns=0;function ha(a){a!==kl&&a.next===null&&(kl===null?bd=kl=a:kl=kl.next=a),Nd=!0,Jp||(Jp=!0,r4())}function tu(a,o){if(!Xp&&Nd){Xp=!0;do for(var u=!1,h=bd;h!==null;){if(a!==0){var _=h.pendingLanes;if(_===0)var E=0;else{var M=h.suspendedLanes,q=h.pingedLanes;E=(1<<31-hn(42|a)+1)-1,E&=_&~(M&~q),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,Xy(h,E))}else E=It,E=Be(h,h===cn?E:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(E&3)===0||He(h,E)||(u=!0,Xy(h,E));h=h.next}while(u);Xp=!1}}function n4(){Yy()}function Yy(){Nd=Jp=!1;var a=0;Ns!==0&&h4()&&(a=Ns);for(var o=ft(),u=null,h=bd;h!==null;){var _=h.next,E=Ky(h,o);E===0?(h.next=null,u===null?bd=_:u.next=_,_===null&&(kl=u)):(u=h,(a!==0||(E&3)!==0)&&(Nd=!0)),h=_}Xn!==0&&Xn!==5||tu(a),Ns!==0&&(Ns=0)}function Ky(a,o){for(var u=a.suspendedLanes,h=a.pingedLanes,_=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var M=31-hn(E),q=1<<M,se=_[M];se===-1?((q&u)===0||(q&h)!==0)&&(_[M]=st(q,o)):se<=o&&(a.expiredLanes|=q),E&=~q}if(o=cn,u=It,u=Be(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,u===0||a===o&&(Zt===2||Zt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&on(h),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||He(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(h!==null&&on(h),mn(u)){case 2:case 8:u=tn;break;case 32:u=Nt;break;case 268435456:u=it;break;default:u=Nt}return h=Jy.bind(null,a),u=lt(u,h),a.callbackPriority=o,a.callbackNode=u,o}return h!==null&&h!==null&&on(h),a.callbackPriority=2,a.callbackNode=null,2}function Jy(a,o){if(Xn!==0&&Xn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Cd()&&a.callbackNode!==u)return null;var h=It;return h=Be(a,a===cn?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(Ry(a,h,o),Ky(a,ft()),a.callbackNode!=null&&a.callbackNode===u?Jy.bind(null,a):null)}function Xy(a,o){if(Cd())return null;Ry(a,o,!0)}function r4(){m4(function(){($t&6)!==0?lt(kt,n4):Yy()})}function Wp(){if(Ns===0){var a=gl;a===0&&(a=Pr,Pr<<=1,(Pr&261888)===0&&(Pr=256)),Ns=a}return Ns}function Wy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:tl(""+a)}function Qy(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function i4(a,o,u,h,_){if(o==="submit"&&u&&u.stateNode===_){var E=Wy((_[Z]||null).action),M=h.submitter;M&&(o=(o=M[Z]||null)?Wy(o.formAction):M.getAttribute("formAction"),o!==null&&(E=o,M=null));var q=new sa("action","action",null,h,_);a.push({event:q,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ns!==0){var se=M?Qy(_,M):new FormData(_);vp(u,{pending:!0,data:se,method:_.method,action:E},null,se)}}else typeof E=="function"&&(q.preventDefault(),se=M?Qy(_,M):new FormData(_),vp(u,{pending:!0,data:se,method:_.method,action:E},E,se))},currentTarget:_}]})}}for(var Qp=0;Qp<Fh.length;Qp++){var Zp=Fh[Qp],a4=Zp.toLowerCase(),s4=Zp[0].toUpperCase()+Zp.slice(1);Hi(a4,"on"+s4)}Hi(I1,"onAnimationEnd"),Hi(R1,"onAnimationIteration"),Hi(k1,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(TN,"onTransitionRun"),Hi(SN,"onTransitionStart"),Hi(AN,"onTransitionCancel"),Hi(D1,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function Zy(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var h=a[u],_=h.event;h=h.listeners;e:{var E=void 0;if(o)for(var M=h.length-1;0<=M;M--){var q=h[M],se=q.instance,ve=q.currentTarget;if(q=q.listener,se!==E&&_.isPropagationStopped())break e;E=q,_.currentTarget=ve;try{E(_)}catch(Ie){zf(Ie)}_.currentTarget=null,E=se}else for(M=0;M<h.length;M++){if(q=h[M],se=q.instance,ve=q.currentTarget,q=q.listener,se!==E&&_.isPropagationStopped())break e;E=q,_.currentTarget=ve;try{E(_)}catch(Ie){zf(Ie)}_.currentTarget=null,E=se}}}}function bt(a,o){var u=o[me];u===void 0&&(u=o[me]=new Set);var h=a+"__bubble";u.has(h)||(e_(o,a,2,!1),u.add(h))}function em(a,o,u){var h=0;o&&(h|=4),e_(u,a,h,o)}var Id="_reactListening"+Math.random().toString(36).slice(2);function tm(a){if(!a[Id]){a[Id]=!0,Xt.forEach(function(u){u!=="selectionchange"&&(o4.has(u)||em(u,!1,a),em(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Id]||(o[Id]=!0,em("selectionchange",!1,o))}}function e_(a,o,u,h){switch(I_(o)){case 2:var _=P4;break;case 8:_=O4;break;default:_=gm}u=_.bind(null,o,u,a),_=void 0,!no||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),h?_!==void 0?a.addEventListener(o,u,{capture:!0,passive:_}):a.addEventListener(o,u,!0):_!==void 0?a.addEventListener(o,u,{passive:_}):a.addEventListener(o,u,!1)}function nm(a,o,u,h,_){var E=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var M=h.tag;if(M===3||M===4){var q=h.stateNode.containerInfo;if(q===_)break;if(M===4)for(M=h.return;M!==null;){var se=M.tag;if((se===3||se===4)&&M.stateNode.containerInfo===_)return;M=M.return}for(;q!==null;){if(M=Ge(q),M===null)return;if(se=M.tag,se===5||se===6||se===26||se===27){h=E=M;continue e}q=q.parentNode}}h=h.return}cs(function(){var ve=E,Ie=mi(u),Me=[];e:{var _e=M1.get(a);if(_e!==void 0){var Ae=sa,We=a;switch(a){case"keypress":if(io(u)===0)break e;case"keydown":case"keyup":Ae=Bf;break;case"focusin":We="focus",Ae=so;break;case"focusout":We="blur",Ae=so;break;case"beforeblur":case"afterblur":Ae=so;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=R;break;case I1:case R1:case k1:Ae=Mf;break;case D1:Ae=K;break;case"scroll":case"scrollend":Ae=Cc;break;case"wheel":Ae=Te;break;case"copy":case"cut":case"paste":Ae=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Ca;break;case"toggle":case"beforetoggle":Ae=vt}var ut=(o&4)!==0,sn=!ut&&(a==="scroll"||a==="scrollend"),fe=ut?_e!==null?_e+"Capture":null:_e;ut=[];for(var oe=ve,pe;oe!==null;){var De=oe;if(pe=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||pe===null||fe===null||(De=Li(oe,fe),De!=null&&ut.push(ru(oe,De,pe))),sn)break;oe=oe.return}0<ut.length&&(_e=new Ae(_e,We,null,u,Ie),Me.push({event:_e,listeners:ut}))}}if((o&7)===0){e:{if(_e=a==="mouseover"||a==="pointerover",Ae=a==="mouseout"||a==="pointerout",_e&&u!==Sc&&(We=u.relatedTarget||u.fromElement)&&(Ge(We)||We[re]))break e;if((Ae||_e)&&(_e=Ie.window===Ie?Ie:(_e=Ie.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ae?(We=u.relatedTarget||u.toElement,Ae=ve,We=We?Ge(We):null,We!==null&&(sn=s(We),ut=We.tag,We!==sn||ut!==5&&ut!==27&&ut!==6)&&(We=null)):(Ae=null,We=ve),Ae!==We)){if(ut=bc,De="onMouseLeave",fe="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(ut=Ca,De="onPointerLeave",fe="onPointerEnter",oe="pointer"),sn=Ae==null?_e:Oe(Ae),pe=We==null?_e:Oe(We),_e=new ut(De,oe+"leave",Ae,u,Ie),_e.target=sn,_e.relatedTarget=pe,De=null,Ge(Ie)===ve&&(ut=new ut(fe,oe+"enter",We,u,Ie),ut.target=pe,ut.relatedTarget=sn,De=ut),sn=De,Ae&&We)t:{for(ut=l4,fe=Ae,oe=We,pe=0,De=fe;De;De=ut(De))pe++;De=0;for(var at=oe;at;at=ut(at))De++;for(;0<pe-De;)fe=ut(fe),pe--;for(;0<De-pe;)oe=ut(oe),De--;for(;pe--;){if(fe===oe||oe!==null&&fe===oe.alternate){ut=fe;break t}fe=ut(fe),oe=ut(oe)}ut=null}else ut=null;Ae!==null&&t_(Me,_e,Ae,ut,!1),We!==null&&sn!==null&&t_(Me,sn,We,ut,!0)}}e:{if(_e=ve?Oe(ve):window,Ae=_e.nodeName&&_e.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&_e.type==="file")var Bt=x1;else if(g1(_e))if(y1)Bt=yN;else{Bt=vN;var Ze=gN}else Ae=_e.nodeName,!Ae||Ae.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?ve&&el(ve.elementType)&&(Bt=x1):Bt=xN;if(Bt&&(Bt=Bt(a,ve))){v1(Me,Bt,u,Ie);break e}Ze&&Ze(a,_e,ve),a==="focusout"&&ve&&_e.type==="number"&&ve.memoizedProps.value!=null&&_c(_e,"number",_e.value)}switch(Ze=ve?Oe(ve):window,a){case"focusin":(g1(Ze)||Ze.contentEditable==="true")&&(ll=Ze,kh=ve,Dc=null);break;case"focusout":Dc=kh=ll=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,b1(Me,u,Ie);break;case"selectionchange":if(EN)break;case"keydown":case"keyup":b1(Me,u,Ie)}var _t;if(jt)e:{switch(a){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else ol?oo(a,u)&&(Rt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Rt="onCompositionStart");Rt&&(ca&&u.locale!=="ko"&&(ol||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&ol&&(_t=wc()):(aa=Ie,Ac="value"in aa?aa.value:aa.textContent,ol=!0)),Ze=Rd(ve,Rt),0<Ze.length&&(Rt=new la(Rt,a,null,u,Ie),Me.push({event:Rt,listeners:Ze}),_t?Rt.data=_t:(_t=sl(u),_t!==null&&(Rt.data=_t)))),(_t=vi?dN(a,u):hN(a,u))&&(Rt=Rd(ve,"onBeforeInput"),0<Rt.length&&(Ze=new la("onBeforeInput","beforeinput",null,u,Ie),Me.push({event:Ze,listeners:Rt}),Ze.data=_t)),i4(Me,a,ve,u,Ie)}Zy(Me,o)})}function ru(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Rd(a,o){for(var u=o+"Capture",h=[];a!==null;){var _=a,E=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||E===null||(_=Li(a,u),_!=null&&h.unshift(ru(a,_,E)),_=Li(a,o),_!=null&&h.push(ru(a,_,E))),a.tag===3)return h;a=a.return}return[]}function l4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function t_(a,o,u,h,_){for(var E=o._reactName,M=[];u!==null&&u!==h;){var q=u,se=q.alternate,ve=q.stateNode;if(q=q.tag,se!==null&&se===h)break;q!==5&&q!==26&&q!==27||ve===null||(se=ve,_?(ve=Li(u,E),ve!=null&&M.unshift(ru(u,ve,se))):_||(ve=Li(u,E),ve!=null&&M.push(ru(u,ve,se)))),u=u.return}M.length!==0&&a.push({event:o,listeners:M})}var c4=/\r\n?/g,u4=/\u0000|\uFFFD/g;function n_(a){return(typeof a=="string"?a:""+a).replace(c4,`
`).replace(u4,"")}function r_(a,o){return o=n_(o),n_(a)===o}function an(a,o,u,h,_,E){switch(u){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Yr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Yr(a,""+h);break;case"className":ri(a,"class",h);break;case"tabIndex":ri(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(a,u,h);break;case"style":Tc(a,h,E);break;case"data":if(o!=="object"){ri(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=tl(""+h),a.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(o!=="input"&&an(a,o,"name",_.name,_,null),an(a,o,"formEncType",_.formEncType,_,null),an(a,o,"formMethod",_.formMethod,_,null),an(a,o,"formTarget",_.formTarget,_,null)):(an(a,o,"encType",_.encType,_,null),an(a,o,"method",_.method,_,null),an(a,o,"target",_.target,_,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(u);break}h=tl(""+h),a.setAttribute(u,h);break;case"onClick":h!=null&&(a.onclick=Oi);break;case"onScroll":h!=null&&bt("scroll",a);break;case"onScrollEnd":h!=null&&bt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}u=tl(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""+h):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":h===!0?a.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(u,h):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(u,h):a.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(u):a.setAttribute(u,h);break;case"popover":bt("beforetoggle",a),bt("toggle",a),Er(a,"popover",h);break;case"xlinkActuate":Vn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Vn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Vn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Vn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Vn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Vn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Vn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Vn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Vn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Er(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Rf.get(u)||u,Er(a,u,h))}}function rm(a,o,u,h,_,E){switch(u){case"style":Tc(a,h,E);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof h=="string"?Yr(a,h):(typeof h=="number"||typeof h=="bigint")&&Yr(a,""+h);break;case"onScroll":h!=null&&bt("scroll",a);break;case"onScrollEnd":h!=null&&bt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),o=u.slice(2,_?u.length-7:void 0),E=a[Z]||null,E=E!=null?E[u]:null,typeof E=="function"&&a.removeEventListener(o,E,_),typeof h=="function")){typeof E!="function"&&E!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,h,_);break e}u in a?a[u]=h:h===!0?a.setAttribute(u,""):Er(a,u,h)}}}function dr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",a),bt("load",a);var h=!1,_=!1,E;for(E in u)if(u.hasOwnProperty(E)){var M=u[E];if(M!=null)switch(E){case"src":h=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:an(a,o,E,M,u,null)}}_&&an(a,o,"srcSet",u.srcSet,u,null),h&&an(a,o,"src",u.src,u,null);return;case"input":bt("invalid",a);var q=E=M=_=null,se=null,ve=null;for(h in u)if(u.hasOwnProperty(h)){var Ie=u[h];if(Ie!=null)switch(h){case"name":_=Ie;break;case"type":M=Ie;break;case"checked":se=Ie;break;case"defaultChecked":ve=Ie;break;case"value":E=Ie;break;case"defaultValue":q=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,o));break;default:an(a,o,h,Ie,u,null)}}bf(a,E,q,se,ve,M,_,!1);return;case"select":bt("invalid",a),h=M=E=null;for(_ in u)if(u.hasOwnProperty(_)&&(q=u[_],q!=null))switch(_){case"value":E=q;break;case"defaultValue":M=q;break;case"multiple":h=q;default:an(a,o,_,q,u,null)}o=E,u=M,a.multiple=!!h,o!=null?as(a,!!h,o,!1):u!=null&&as(a,!!h,u,!0);return;case"textarea":bt("invalid",a),E=_=h=null;for(M in u)if(u.hasOwnProperty(M)&&(q=u[M],q!=null))switch(M){case"value":h=q;break;case"defaultValue":_=q;break;case"children":E=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:an(a,o,M,q,u,null)}ss(a,h,_,E);return;case"option":for(se in u)if(u.hasOwnProperty(se)&&(h=u[se],h!=null))switch(se){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:an(a,o,se,h,u,null)}return;case"dialog":bt("beforetoggle",a),bt("toggle",a),bt("cancel",a),bt("close",a);break;case"iframe":case"object":bt("load",a);break;case"video":case"audio":for(h=0;h<nu.length;h++)bt(nu[h],a);break;case"image":bt("error",a),bt("load",a);break;case"details":bt("toggle",a);break;case"embed":case"source":case"link":bt("error",a),bt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in u)if(u.hasOwnProperty(ve)&&(h=u[ve],h!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:an(a,o,ve,h,u,null)}return;default:if(el(o)){for(Ie in u)u.hasOwnProperty(Ie)&&(h=u[Ie],h!==void 0&&rm(a,o,Ie,h,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(h=u[q],h!=null&&an(a,o,q,h,u,null))}function f4(a,o,u,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,E=null,M=null,q=null,se=null,ve=null,Ie=null;for(Ae in u){var Me=u[Ae];if(u.hasOwnProperty(Ae)&&Me!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":se=Me;default:h.hasOwnProperty(Ae)||an(a,o,Ae,null,h,Me)}}for(var _e in h){var Ae=h[_e];if(Me=u[_e],h.hasOwnProperty(_e)&&(Ae!=null||Me!=null))switch(_e){case"type":E=Ae;break;case"name":_=Ae;break;case"checked":ve=Ae;break;case"defaultChecked":Ie=Ae;break;case"value":M=Ae;break;case"defaultValue":q=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,o));break;default:Ae!==Me&&an(a,o,_e,Ae,h,Me)}}Zo(a,M,q,se,ve,Ie,E,_);return;case"select":Ae=M=q=_e=null;for(E in u)if(se=u[E],u.hasOwnProperty(E)&&se!=null)switch(E){case"value":break;case"multiple":Ae=se;default:h.hasOwnProperty(E)||an(a,o,E,null,h,se)}for(_ in h)if(E=h[_],se=u[_],h.hasOwnProperty(_)&&(E!=null||se!=null))switch(_){case"value":_e=E;break;case"defaultValue":q=E;break;case"multiple":M=E;default:E!==se&&an(a,o,_,E,h,se)}o=q,u=M,h=Ae,_e!=null?as(a,!!u,_e,!1):!!h!=!!u&&(o!=null?as(a,!!u,o,!0):as(a,!!u,u?[]:"",!1));return;case"textarea":Ae=_e=null;for(q in u)if(_=u[q],u.hasOwnProperty(q)&&_!=null&&!h.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:an(a,o,q,null,h,_)}for(M in h)if(_=h[M],E=u[M],h.hasOwnProperty(M)&&(_!=null||E!=null))switch(M){case"value":_e=_;break;case"defaultValue":Ae=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==E&&an(a,o,M,_,h,E)}Nf(a,_e,Ae);return;case"option":for(var We in u)if(_e=u[We],u.hasOwnProperty(We)&&_e!=null&&!h.hasOwnProperty(We))switch(We){case"selected":a.selected=!1;break;default:an(a,o,We,null,h,_e)}for(se in h)if(_e=h[se],Ae=u[se],h.hasOwnProperty(se)&&_e!==Ae&&(_e!=null||Ae!=null))switch(se){case"selected":a.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:an(a,o,se,_e,h,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in u)_e=u[ut],u.hasOwnProperty(ut)&&_e!=null&&!h.hasOwnProperty(ut)&&an(a,o,ut,null,h,_e);for(ve in h)if(_e=h[ve],Ae=u[ve],h.hasOwnProperty(ve)&&_e!==Ae&&(_e!=null||Ae!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,o));break;default:an(a,o,ve,_e,h,Ae)}return;default:if(el(o)){for(var sn in u)_e=u[sn],u.hasOwnProperty(sn)&&_e!==void 0&&!h.hasOwnProperty(sn)&&rm(a,o,sn,void 0,h,_e);for(Ie in h)_e=h[Ie],Ae=u[Ie],!h.hasOwnProperty(Ie)||_e===Ae||_e===void 0&&Ae===void 0||rm(a,o,Ie,_e,h,Ae);return}}for(var fe in u)_e=u[fe],u.hasOwnProperty(fe)&&_e!=null&&!h.hasOwnProperty(fe)&&an(a,o,fe,null,h,_e);for(Me in h)_e=h[Me],Ae=u[Me],!h.hasOwnProperty(Me)||_e===Ae||_e==null&&Ae==null||an(a,o,Me,_e,h,Ae)}function i_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d4(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var _=u[h],E=_.transferSize,M=_.initiatorType,q=_.duration;if(E&&q&&i_(M)){for(M=0,q=_.responseEnd,h+=1;h<u.length;h++){var se=u[h],ve=se.startTime;if(ve>q)break;var Ie=se.transferSize,Me=se.initiatorType;Ie&&i_(Me)&&(se=se.responseEnd,M+=Ie*(se<q?1:(q-ve)/(se-ve)))}if(--h,o+=8*(E+M)/(_.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var im=null,am=null;function kd(a){return a.nodeType===9?a:a.ownerDocument}function a_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function sm(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var om=null;function h4(){var a=window.event;return a&&a.type==="popstate"?a===om?!1:(om=a,!0):(om=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,p4=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,m4=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(a){return l_.resolve(null).then(a).catch(g4)}:o_;function g4(a){setTimeout(function(){throw a})}function Is(a){return a==="head"}function c_(a,o){var u=o,h=0;do{var _=u.nextSibling;if(a.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(h===0){a.removeChild(_),Pl(o);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")iu(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,iu(u);for(var E=u.firstChild;E;){var M=E.nextSibling,q=E.nodeName;E[xe]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=M}}else u==="body"&&iu(a.ownerDocument.body);u=_}while(u);Pl(o)}function u_(a,o){var u=a;a=0;do{var h=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=h}while(u)}function lm(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":lm(u),Le(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function v4(a,o,u,h){for(;a.nodeType===1;){var _=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[xe])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var E=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=Ai(a.nextSibling),a===null)break}return null}function x4(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ai(a.nextSibling),a===null))return null;return a}function f_(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ai(a.nextSibling),a===null))return null;return a}function cm(a){return a.data==="$?"||a.data==="$~"}function um(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function y4(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var h=function(){o(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ai(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var fm=null;function d_(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Ai(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function h_(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function p_(a,o,u){switch(o=kd(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function iu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Le(a)}var wi=new Map,m_=new Set;function Dd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ha=le.d;le.d={f:_4,r:E4,D:T4,C:S4,L:A4,m:w4,X:b4,S:C4,M:N4};function _4(){var a=Ha.f(),o=Sd();return a||o}function E4(a){var o=Ye(a);o!==null&&o.tag===5&&o.type==="form"?Dx(o):Ha.r(a)}var Dl=typeof document>"u"?null:document;function g_(a,o,u){var h=Dl;if(h&&typeof o=="string"&&o){var _=$r(o);_='link[rel="'+a+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),m_.has(_)||(m_.add(_),a={rel:a,crossOrigin:u,href:o},h.querySelector(_)===null&&(o=h.createElement("link"),dr(o,"link",a),Qe(o),h.head.appendChild(o)))}}function T4(a){Ha.D(a),g_("dns-prefetch",a,null)}function S4(a,o){Ha.C(a,o),g_("preconnect",a,o)}function A4(a,o,u){Ha.L(a,o,u);var h=Dl;if(h&&a&&o){var _='link[rel="preload"][as="'+$r(o)+'"]';o==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+$r(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+$r(u.imageSizes)+'"]')):_+='[href="'+$r(a)+'"]';var E=_;switch(o){case"style":E=Ml(a);break;case"script":E=Fl(a)}wi.has(E)||(a=v({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),wi.set(E,a),h.querySelector(_)!==null||o==="style"&&h.querySelector(au(E))||o==="script"&&h.querySelector(su(E))||(o=h.createElement("link"),dr(o,"link",a),Qe(o),h.head.appendChild(o)))}}function w4(a,o){Ha.m(a,o);var u=Dl;if(u&&a){var h=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+$r(h)+'"][href="'+$r(a)+'"]',E=_;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Fl(a)}if(!wi.has(E)&&(a=v({rel:"modulepreload",href:a},o),wi.set(E,a),u.querySelector(_)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(su(E)))return}h=u.createElement("link"),dr(h,"link",a),Qe(h),u.head.appendChild(h)}}}function C4(a,o,u){Ha.S(a,o,u);var h=Dl;if(h&&a){var _=je(h).hoistableStyles,E=Ml(a);o=o||"default";var M=_.get(E);if(!M){var q={loading:0,preload:null};if(M=h.querySelector(au(E)))q.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":o},u),(u=wi.get(E))&&dm(a,u);var se=M=h.createElement("link");Qe(se),dr(se,"link",a),se._p=new Promise(function(ve,Ie){se.onload=ve,se.onerror=Ie}),se.addEventListener("load",function(){q.loading|=1}),se.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Md(M,o,h)}M={type:"stylesheet",instance:M,count:1,state:q},_.set(E,M)}}}function b4(a,o){Ha.X(a,o);var u=Dl;if(u&&a){var h=je(u).hoistableScripts,_=Fl(a),E=h.get(_);E||(E=u.querySelector(su(_)),E||(a=v({src:a,async:!0},o),(o=wi.get(_))&&hm(a,o),E=u.createElement("script"),Qe(E),dr(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(_,E))}}function N4(a,o){Ha.M(a,o);var u=Dl;if(u&&a){var h=je(u).hoistableScripts,_=Fl(a),E=h.get(_);E||(E=u.querySelector(su(_)),E||(a=v({src:a,async:!0,type:"module"},o),(o=wi.get(_))&&hm(a,o),E=u.createElement("script"),Qe(E),dr(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},h.set(_,E))}}function v_(a,o,u,h){var _=(_=ce.current)?Dd(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Ml(u.href),u=je(_).hoistableStyles,h=u.get(o),h||(h={type:"style",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Ml(u.href);var E=je(_).hoistableStyles,M=E.get(a);if(M||(_=_.ownerDocument||_,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,M),(E=_.querySelector(au(a)))&&!E._p&&(M.instance=E,M.state.loading=5),wi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},wi.set(a,u),E||I4(_,a,u,M.state))),o&&h===null)throw Error(r(528,""));return M}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Fl(u),u=je(_).hoistableScripts,h=u.get(o),h||(h={type:"script",instance:null,count:0,state:null},u.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ml(a){return'href="'+$r(a)+'"'}function au(a){return'link[rel="stylesheet"]['+a+"]"}function x_(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function I4(a,o,u,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),dr(o,"link",u),Qe(o),a.head.appendChild(o))}function Fl(a){return'[src="'+$r(a)+'"]'}function su(a){return"script[async]"+a}function y_(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+$r(u.href)+'"]');if(h)return o.instance=h,Qe(h),h;var _=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),Qe(h),dr(h,"style",_),Md(h,u.precedence,a),o.instance=h;case"stylesheet":_=Ml(u.href);var E=a.querySelector(au(_));if(E)return o.state.loading|=4,o.instance=E,Qe(E),E;h=x_(u),(_=wi.get(_))&&dm(h,_),E=(a.ownerDocument||a).createElement("link"),Qe(E);var M=E;return M._p=new Promise(function(q,se){M.onload=q,M.onerror=se}),dr(E,"link",h),o.state.loading|=4,Md(E,u.precedence,a),o.instance=E;case"script":return E=Fl(u.src),(_=a.querySelector(su(E)))?(o.instance=_,Qe(_),_):(h=u,(_=wi.get(E))&&(h=v({},u),hm(h,_)),a=a.ownerDocument||a,_=a.createElement("script"),Qe(_),dr(_,"link",h),a.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Md(h,u.precedence,a));return o.instance}function Md(a,o,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=h.length?h[h.length-1]:null,E=_,M=0;M<h.length;M++){var q=h[M];if(q.dataset.precedence===o)E=q;else if(E!==_)break}E?E.parentNode.insertBefore(a,E.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function dm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function hm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Fd=null;function __(a,o,u){if(Fd===null){var h=new Map,_=Fd=new Map;_.set(u,h)}else _=Fd,h=_.get(u),h||(h=new Map,_.set(u,h));if(h.has(a))return h;for(h.set(a,null),u=u.getElementsByTagName(a),_=0;_<u.length;_++){var E=u[_];if(!(E[xe]||E[J]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var M=E.getAttribute(o)||"";M=a+M;var q=h.get(M);q?q.push(E):h.set(M,[E])}}return h}function E_(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function R4(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function T_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function k4(a,o,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=Ml(h.href),E=o.querySelector(au(_));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Pd.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=E,Qe(E);return}E=o.ownerDocument||o,h=x_(h),(_=wi.get(_))&&dm(h,_),E=E.createElement("link"),Qe(E);var M=E;M._p=new Promise(function(q,se){M.onload=q,M.onerror=se}),dr(E,"link",h),u.instance=E}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Pd.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var pm=0;function D4(a,o){return a.stylesheets&&a.count===0&&Ld(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var h=setTimeout(function(){if(a.stylesheets&&Ld(a,a.stylesheets),a.unsuspend){var E=a.unsuspend;a.unsuspend=null,E()}},6e4+o);0<a.imgBytes&&pm===0&&(pm=62500*d4());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Ld(a,a.stylesheets),a.unsuspend)){var E=a.unsuspend;a.unsuspend=null,E()}},(a.imgBytes>pm?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(_)}}:null}function Pd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Od=null;function Ld(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Od=new Map,o.forEach(M4,a),Od=null,Pd.call(a))}function M4(a,o){if(!(o.state.loading&4)){var u=Od.get(a);if(u)var h=u.get(null);else{u=new Map,Od.set(a,u);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<_.length;E++){var M=_[E];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),h=M)}h&&u.set(null,h)}_=o.instance,M=_.getAttribute("data-precedence"),E=u.get(M)||h,E===h&&u.set(null,_),u.set(M,_),this.count++,h=Pd.bind(this),_.addEventListener("load",h),_.addEventListener("error",h),E?E.parentNode.insertBefore(_,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),o.state.loading|=4}}var ou={$$typeof:F,Provider:null,Consumer:null,_currentValue:Re,_currentValue2:Re,_threadCount:0};function F4(a,o,u,h,_,E,M,q,se){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.hiddenUpdates=Tt(null),this.identifierPrefix=h,this.onUncaughtError=_,this.onCaughtError=E,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function S_(a,o,u,h,_,E,M,q,se,ve,Ie,Me){return a=new F4(a,o,u,M,se,ve,Ie,Me,q),o=1,E===!0&&(o|=24),E=ai(3,null,null,o),a.current=E,E.stateNode=a,o=Yh(),o.refCount++,a.pooledCache=o,o.refCount++,E.memoizedState={element:h,isDehydrated:u,cache:o},Wh(E),a}function A_(a){return a?(a=fl,a):fl}function w_(a,o,u,h,_,E){_=A_(_),h.context===null?h.context=_:h.pendingContext=_,h=xs(o),h.payload={element:u},E=E===void 0?null:E,E!==null&&(h.callback=E),u=ys(a,h,o),u!==null&&(Qr(u,a,o),Vc(u,a,o))}function C_(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function mm(a,o){C_(a,o),(a=a.alternate)&&C_(a,o)}function b_(a){if(a.tag===13||a.tag===31){var o=uo(a,67108864);o!==null&&Qr(o,a,67108864),mm(a,67108864)}}function N_(a){if(a.tag===13||a.tag===31){var o=ui();o=qt(o);var u=uo(a,o);u!==null&&Qr(u,a,o),mm(a,o)}}var Ud=!0;function P4(a,o,u,h){var _=ae.T;ae.T=null;var E=le.p;try{le.p=2,gm(a,o,u,h)}finally{le.p=E,ae.T=_}}function O4(a,o,u,h){var _=ae.T;ae.T=null;var E=le.p;try{le.p=8,gm(a,o,u,h)}finally{le.p=E,ae.T=_}}function gm(a,o,u,h){if(Ud){var _=vm(h);if(_===null)nm(a,o,h,Vd,u),R_(a,h);else if(U4(_,a,o,u,h))h.stopPropagation();else if(R_(a,h),o&4&&-1<L4.indexOf(a)){for(;_!==null;){var E=Ye(_);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var M=ue(E.pendingLanes);if(M!==0){var q=E;for(q.pendingLanes|=2,q.entangledLanes|=2;M;){var se=1<<31-hn(M);q.entanglements[1]|=se,M&=~se}ha(E),($t&6)===0&&(Ed=ft()+500,tu(0))}}break;case 31:case 13:q=uo(E,2),q!==null&&Qr(q,E,2),Sd(),mm(E,2)}if(E=vm(h),E===null&&nm(a,o,h,Vd,u),E===_)break;_=E}_!==null&&h.stopPropagation()}else nm(a,o,h,null,u)}}function vm(a){return a=mi(a),xm(a)}var Vd=null;function xm(a){if(Vd=null,a=Ge(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Vd=a,null}function I_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case kt:return 2;case tn:return 8;case Nt:case Un:return 32;case it:return 268435456;default:return 32}default:return 32}}var ym=!1,Rs=null,ks=null,Ds=null,lu=new Map,cu=new Map,Ms=[],L4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(a,o){switch(a){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":lu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(o.pointerId)}}function uu(a,o,u,h,_,E){return a===null||a.nativeEvent!==E?(a={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:E,targetContainers:[_]},o!==null&&(o=Ye(o),o!==null&&b_(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),a)}function U4(a,o,u,h,_){switch(o){case"focusin":return Rs=uu(Rs,a,o,u,h,_),!0;case"dragenter":return ks=uu(ks,a,o,u,h,_),!0;case"mouseover":return Ds=uu(Ds,a,o,u,h,_),!0;case"pointerover":var E=_.pointerId;return lu.set(E,uu(lu.get(E)||null,a,o,u,h,_)),!0;case"gotpointercapture":return E=_.pointerId,cu.set(E,uu(cu.get(E)||null,a,o,u,h,_)),!0}return!1}function k_(a){var o=Ge(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,ee(a.priority,function(){N_(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,ee(a.priority,function(){N_(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Bd(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=vm(a.nativeEvent);if(u===null){u=a.nativeEvent;var h=new u.constructor(u.type,u);Sc=h,u.target.dispatchEvent(h),Sc=null}else return o=Ye(u),o!==null&&b_(o),a.blockedOn=u,!1;o.shift()}return!0}function D_(a,o,u){Bd(a)&&u.delete(o)}function V4(){ym=!1,Rs!==null&&Bd(Rs)&&(Rs=null),ks!==null&&Bd(ks)&&(ks=null),Ds!==null&&Bd(Ds)&&(Ds=null),lu.forEach(D_),cu.forEach(D_)}function Hd(a,o){a.blockedOn===o&&(a.blockedOn=null,ym||(ym=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V4)))}var Gd=null;function M_(a){Gd!==a&&(Gd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gd===a&&(Gd=null);for(var o=0;o<a.length;o+=3){var u=a[o],h=a[o+1],_=a[o+2];if(typeof h!="function"){if(xm(h||u)===null)continue;break}var E=Ye(u);E!==null&&(a.splice(o,3),o-=3,vp(E,{pending:!0,data:_,method:u.method,action:h},h,_))}}))}function Pl(a){function o(se){return Hd(se,a)}Rs!==null&&Hd(Rs,a),ks!==null&&Hd(ks,a),Ds!==null&&Hd(Ds,a),lu.forEach(o),cu.forEach(o);for(var u=0;u<Ms.length;u++){var h=Ms[u];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Ms.length&&(u=Ms[0],u.blockedOn===null);)k_(u),u.blockedOn===null&&Ms.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var _=u[h],E=u[h+1],M=_[Z]||null;if(typeof E=="function")M||M_(u);else if(M){var q=null;if(E&&E.hasAttribute("formAction")){if(_=E,M=E[Z]||null)q=M.formAction;else if(xm(_)!==null)continue}else q=M.action;typeof q=="function"?u[h+1]=q:(u.splice(h,3),h-=3),M_(u)}}}function F_(){function a(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(M){return _=M})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function _m(a){this._internalRoot=a}zd.prototype.render=_m.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,h=ui();w_(u,h,a,o,null,null)},zd.prototype.unmount=_m.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;w_(a.current,2,null,a,null,null),Sd(),o[re]=null}};function zd(a){this._internalRoot=a}zd.prototype.unstable_scheduleHydration=function(a){if(a){var o=G();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Ms.length&&o!==0&&o<Ms[u].priority;u++);Ms.splice(u,0,a),u===0&&k_(a)}};var P_=e.version;if(P_!=="19.2.4")throw Error(r(527,P_,"19.2.4"));le.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var B4={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{Et=qd.inject(B4),zt=qd}catch{}}return du.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,h="",_=Gx,E=zx,M=qx;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=S_(a,1,!1,null,null,u,h,null,_,E,M,F_),a[re]=o.current,tm(a),new _m(o)},du.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var h=!1,_="",E=Gx,M=zx,q=qx,se=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(se=u.formState)),o=S_(a,1,!0,o,u??null,h,_,se,E,M,q,F_),o.context=A_(null),u=o.current,h=ui(),h=qt(h),_=xs(h),_.callback=null,ys(u,_,h),u=h,o.current.lanes=u,Ft(o,u),ha(o),a[re]=o.current,tm(a),new zd(o)},du.version="19.2.4",du}var j_;function J4(){if(j_)return Sm.exports;j_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sm.exports=K4(),Sm.exports}var X4=J4();const W4=oh(X4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=t=>{const e=Z4(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=he.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},d)=>he.createElement("svg",{ref:d,...eI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KS("lucide",i),...!s&&!tI(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>he.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const n=he.forwardRef(({className:r,...i},s)=>he.createElement(nI,{ref:s,iconNode:e,className:KS(`lucide-${Q4($_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=$_(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],iI=ot("arrow-down",rI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sI=ot("arrow-left",aI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lI=ot("arrow-right",oI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uI=ot("arrow-up",cI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],JS=ot("briefcase",fI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hI=ot("calendar",dI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],A0=ot("check",pI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gI=ot("chevron-right",mI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ja=ot("circle-alert",vI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cu=ot("circle-check-big",xI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],tg=ot("cloud",yI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],EI=ot("cookie",_I);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],SI=ot("download",TI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wI=ot("external-link",AI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],h0=ot("file-spreadsheet",CI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Y_=ot("file-text",bI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],w0=ot("file-up",NI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],RI=ot("funnel",II);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ev=ot("globe",kI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],bm=ot("key",DI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],XS=ot("layers",MI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],K_=ot("layout-dashboard",FI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bu=ot("loader-circle",PI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ng=ot("lock",OI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],UI=ot("log-out",LI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],BI=ot("mail",VI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qu=ot("map-pin",HI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],zI=ot("map",GI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],jI=ot("maximize-2",qI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],YI=ot("menu",$I);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],JI=ot("minimize-2",KI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M5 12h14",key:"1ays0h"}]],WI=ot("minus",XI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jl=ot("package",QI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],eR=ot("pen",ZI);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Nm=ot("pencil",tR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rR=ot("phone",nR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tv=ot("plus",iR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lh=ot("save",aR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ju=ot("search",sR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],J_=ot("send",oR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cR=ot("shield-check",lR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fR=ot("shield",uR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],WS=ot("shopping-bag",dR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],X_=ot("sparkles",hR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ch=ot("store",pR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],gR=ot("table",mR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],nv=ot("tag",vR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Fo=ot("trash-2",xR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_R=ot("upload",yR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],W_=ot("user-plus",ER);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$l=ot("user",TR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rg=ot("users",SR);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Po=ot("x",AR),uh=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],$u=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],wR={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},rv=t=>{const e=t.toUpperCase().trim();return wR[e]||"Indefinido"};var p0={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var CR=p0.exports,Q_;function bR(){return Q_||(Q_=1,(function(t,e){((n,r)=>{t.exports=r()})(CR,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,c={},d=0,f={};function p(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var P=B(C);P.chunkSize=parseInt(P.chunkSize),C.step||C.chunk||(P.chunkSize=null),this._handle=new w(P),(this._handle.streamer=this)._config=P}).call(this,N),this.parseChunk=function(C,P){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let U=this._config.newline;U||(k=this._config.quoteChar||'"',U=this._handle.guessLineEndings(C,k)),C=[...C.split(U).slice(D)].join(U)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(C))!==void 0&&(C=k),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+C,k=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=k.meta.cursor,D=(this._finished||(this._partialLine=D.substring(C-this._baseIndex),this._baseIndex=C),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:k,workerId:f.WORKER_ID,finished:D});else if(I(this._config.chunk)&&!P){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!D||!I(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(C){I(this._config.error)?this._config.error(C):l&&this._config.error&&r.postMessage({workerId:f.WORKER_ID,error:C,finished:!1})}}function v(N){var C;(N=N||{}).chunkSize||(N.chunkSize=f.RemoteChunkSize),p.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),s||(C.onload=j(this._chunkLoaded,this),C.onerror=j(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var P,D=this._config.downloadRequestHeaders;for(P in D)C.setRequestHeader(P,D[P])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+k));try{C.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}s&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(P){P=C.statusText||P,this._sendError(new Error(P))}}function y(N){(N=N||{}).chunkSize||(N.chunkSize=f.LocalChunkSize),p.call(this,N);var C,P,D=typeof FileReader<"u";this.stream=function(k){this._input=k,P=k.slice||k.webkitSlice||k.mozSlice,D?((C=new FileReader).onload=j(this._chunkLoaded,this),C.onerror=j(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),k=P.call(k,this._start,U)),C.readAsText(k,this._config.encoding));D||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(C.error)}}function S(N){var C;p.call(this,N=N||{}),this.stream=function(P){return C=P,this._nextChunk()},this._nextChunk=function(){var P,D;if(!this._finished)return P=this._config.chunkSize,C=P?(D=C.substring(0,P),C.substring(P)):(D=C,""),this._finished=!C,this.parseChunk(D)}}function A(N){p.call(this,N=N||{});var C=[],P=!0,D=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):P=!0},this._streamData=j(function(k){try{C.push(typeof k=="string"?k:k.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(U){this._streamError(U)}},this),this._streamError=j(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=j(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(N){var C,P,D,k,U=Math.pow(2,53),Ee=-U,Se=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,le=this,Re=0,ie=0,Fe=!1,W=!1,V=[],X={data:[],errors:[],meta:{}};function Q(Ce){return N.skipEmptyLines==="greedy"?Ce.join("").trim()==="":Ce.length===1&&Ce[0].length===0}function te(){if(X&&D&&(be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),D=!1),N.skipEmptyLines&&(X.data=X.data.filter(function(ne){return!Q(ne)})),ce()){let ne=function(rt,Je){I(N.transformHeader)&&(rt=N.transformHeader(rt,Je)),V.push(rt)};var $e=ne;if(X)if(Array.isArray(X.data[0])){for(var Ce=0;ce()&&Ce<X.data.length;Ce++)X.data[Ce].forEach(ne);X.data.splice(0,1)}else X.data.forEach(ne)}function we(ne,rt){for(var Je=N.header?{}:[],Xe=0;Xe<ne.length;Xe++){var ze=Xe,Ue=ne[Xe],Ue=((tt,nt)=>(lt=>(N.dynamicTypingFunction&&N.dynamicTyping[lt]===void 0&&(N.dynamicTyping[lt]=N.dynamicTypingFunction(lt)),(N.dynamicTyping[lt]||N.dynamicTyping)===!0))(tt)?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&((lt=>{if(Se.test(lt)&&(lt=parseFloat(lt),Ee<lt&&lt<U))return 1})(nt)?parseFloat(nt):ae.test(nt)?new Date(nt):nt===""?null:nt):nt)(ze=N.header?Xe>=V.length?"__parsed_extra":V[Xe]:ze,Ue=N.transform?N.transform(Ue,ze):Ue);ze==="__parsed_extra"?(Je[ze]=Je[ze]||[],Je[ze].push(Ue)):Je[ze]=Ue}return N.header&&(Xe>V.length?be("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Xe,ie+rt):Xe<V.length&&be("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Xe,ie+rt)),Je}var ke;X&&(N.header||N.dynamicTyping||N.transform)&&(ke=1,!X.data.length||Array.isArray(X.data[0])?(X.data=X.data.map(we),ke=X.data.length):X.data=we(X.data,0),N.header&&X.meta&&(X.meta.fields=V),ie+=ke)}function ce(){return N.header&&V.length===0}function be(Ce,we,ke,$e){Ce={type:Ce,code:we,message:ke},$e!==void 0&&(Ce.row=$e),X.errors.push(Ce)}I(N.step)&&(k=N.step,N.step=function(Ce){X=Ce,ce()?te():(te(),X.data.length!==0&&(Re+=Ce.data.length,N.preview&&Re>N.preview?P.abort():(X.data=X.data[0],k(X,le))))}),this.parse=function(Ce,we,ke){var $e=N.quoteChar||'"',$e=(N.newline||(N.newline=this.guessLineEndings(Ce,$e)),D=!1,N.delimiter?I(N.delimiter)&&(N.delimiter=N.delimiter(Ce),X.meta.delimiter=N.delimiter):(($e=((ne,rt,Je,Xe,ze)=>{var Ue,tt,nt,lt;ze=ze||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var on=0;on<ze.length;on++){for(var Sn,Rn=ze[on],ft=0,Yt=0,kt=0,tn=(nt=void 0,new L({comments:Xe,delimiter:Rn,newline:rt,preview:10}).parse(ne)),Nt=0;Nt<tn.data.length;Nt++)Je&&Q(tn.data[Nt])?kt++:(Sn=tn.data[Nt].length,Yt+=Sn,nt===void 0?nt=Sn:0<Sn&&(ft+=Math.abs(Sn-nt),nt=Sn));0<tn.data.length&&(Yt/=tn.data.length-kt),(tt===void 0||ft<=tt)&&(lt===void 0||lt<Yt)&&1.99<Yt&&(tt=ft,Ue=Rn,lt=Yt)}return{successful:!!(N.delimiter=Ue),bestDelimiter:Ue}})(Ce,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=$e.bestDelimiter:(D=!0,N.delimiter=f.DefaultDelimiter),X.meta.delimiter=N.delimiter),B(N));return N.preview&&N.header&&$e.preview++,C=Ce,P=new L($e),X=P.parse(C,we,ke),te(),Fe?{meta:{paused:!0}}:X||{meta:{paused:!1}}},this.paused=function(){return Fe},this.pause=function(){Fe=!0,P.abort(),C=I(N.chunk)?"":C.substring(P.getCharIndex())},this.resume=function(){le.streamer._halted?(Fe=!1,le.streamer.parseChunk(C,!0)):setTimeout(le.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,P.abort(),X.meta.aborted=!0,I(N.complete)&&N.complete(X),C=""},this.guessLineEndings=function(ne,$e){ne=ne.substring(0,1048576);var $e=new RegExp(b($e)+"([^]*?)"+b($e),"gm"),ke=(ne=ne.replace($e,"")).split("\r"),$e=ne.split(`
`),ne=1<$e.length&&$e[0].length<ke[0].length;if(ke.length===1||ne)return`
`;for(var rt=0,Je=0;Je<ke.length;Je++)ke[Je][0]===`
`&&rt++;return rt>=ke.length/2?`\r
`:"\r"}}function b(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function L(N){var C=(N=N||{}).delimiter,P=N.newline,D=N.comments,k=N.step,U=N.preview,Ee=N.fastMode,Se=null,ae=!1,le=N.quoteChar==null?'"':N.quoteChar,Re=le;if(N.escapeChar!==void 0&&(Re=N.escapeChar),(typeof C!="string"||-1<f.BAD_DELIMITERS.indexOf(C))&&(C=","),D===C)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<f.BAD_DELIMITERS.indexOf(D))&&(D=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var ie=0,Fe=!1;this.parse=function(W,V,X){if(typeof W!="string")throw new Error("Input must be a string");var Q=W.length,te=C.length,ce=P.length,be=D.length,Ce=I(k),we=[],ke=[],$e=[],ne=ie=0;if(!W)return ft();if(Ee||Ee!==!1&&W.indexOf(le)===-1){for(var rt=W.split(P),Je=0;Je<rt.length;Je++){if($e=rt[Je],ie+=$e.length,Je!==rt.length-1)ie+=P.length;else if(X)return ft();if(!D||$e.substring(0,be)!==D){if(Ce){if(we=[],lt($e.split(C)),Yt(),Fe)return ft()}else lt($e.split(C));if(U&&U<=Je)return we=we.slice(0,U),ft(!0)}}return ft()}for(var Xe=W.indexOf(C,ie),ze=W.indexOf(P,ie),Ue=new RegExp(b(Re)+b(le),"g"),tt=W.indexOf(le,ie);;)if(W[ie]===le)for(tt=ie,ie++;;){if((tt=W.indexOf(le,tt+1))===-1)return X||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:we.length,index:ie}),Sn();if(tt===Q-1)return Sn(W.substring(ie,tt).replace(Ue,le));if(le===Re&&W[tt+1]===Re)tt++;else if(le===Re||tt===0||W[tt-1]!==Re){Xe!==-1&&Xe<tt+1&&(Xe=W.indexOf(C,tt+1));var nt=on((ze=ze!==-1&&ze<tt+1?W.indexOf(P,tt+1):ze)===-1?Xe:Math.min(Xe,ze));if(W.substr(tt+1+nt,te)===C){$e.push(W.substring(ie,tt).replace(Ue,le)),W[ie=tt+1+nt+te]!==le&&(tt=W.indexOf(le,ie)),Xe=W.indexOf(C,ie),ze=W.indexOf(P,ie);break}if(nt=on(ze),W.substring(tt+1+nt,tt+1+nt+ce)===P){if($e.push(W.substring(ie,tt).replace(Ue,le)),Rn(tt+1+nt+ce),Xe=W.indexOf(C,ie),tt=W.indexOf(le,ie),Ce&&(Yt(),Fe))return ft();if(U&&we.length>=U)return ft(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:we.length,index:ie}),tt++}}else if(D&&$e.length===0&&W.substring(ie,ie+be)===D){if(ze===-1)return ft();ie=ze+ce,ze=W.indexOf(P,ie),Xe=W.indexOf(C,ie)}else if(Xe!==-1&&(Xe<ze||ze===-1))$e.push(W.substring(ie,Xe)),ie=Xe+te,Xe=W.indexOf(C,ie);else{if(ze===-1)break;if($e.push(W.substring(ie,ze)),Rn(ze+ce),Ce&&(Yt(),Fe))return ft();if(U&&we.length>=U)return ft(!0)}return Sn();function lt(kt){we.push(kt),ne=ie}function on(kt){var tn=0;return tn=kt!==-1&&(kt=W.substring(tt+1,kt))&&kt.trim()===""?kt.length:tn}function Sn(kt){return X||(kt===void 0&&(kt=W.substring(ie)),$e.push(kt),ie=Q,lt($e),Ce&&Yt()),ft()}function Rn(kt){ie=kt,lt($e),$e=[],ze=W.indexOf(P,ie)}function ft(kt){if(N.header&&!V&&we.length&&!ae){var tn=we[0],Nt=Object.create(null),Un=new Set(tn);let it=!1;for(let wt=0;wt<tn.length;wt++){let Kt=tn[wt];if(Nt[Kt=I(N.transformHeader)?N.transformHeader(Kt,wt):Kt]){let Et,zt=Nt[Kt];for(;Et=Kt+"_"+zt,zt++,Un.has(Et););Un.add(Et),tn[wt]=Et,Nt[Kt]++,it=!0,(Se=Se===null?{}:Se)[Et]=Kt}else Nt[Kt]=1,tn[wt]=Kt;Un.add(Kt)}it&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:we,errors:ke,meta:{delimiter:C,linebreak:P,aborted:Fe,truncated:!!kt,cursor:ne+(V||0),renamedHeaders:Se}}}function Yt(){k(ft()),we=[],ke=[]}},this.abort=function(){Fe=!0},this.getCharIndex=function(){return ie}}function H(N){var C=N.data,P=c[C.workerId],D=!1;if(C.error)P.userError(C.error,C.file);else if(C.results&&C.results.data){var k={abort:function(){D=!0,F(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(I(P.userStep)){for(var U=0;U<C.results.data.length&&(P.userStep({data:C.results.data[U],errors:C.results.errors,meta:C.results.meta},k),!D);U++);delete C.results}else I(P.userChunk)&&(P.userChunk(C.results,k,C.file),delete C.results)}C.finished&&!D&&F(C.workerId,C.results)}function F(N,C){var P=c[N];I(P.userComplete)&&P.userComplete(C),P.terminate(),delete c[N]}function z(){throw new Error("Not implemented.")}function B(N){if(typeof N!="object"||N===null)return N;var C,P=Array.isArray(N)?[]:{};for(C in N)P[C]=B(N[C]);return P}function j(N,C){return function(){N.apply(C,arguments)}}function I(N){return typeof N=="function"}return f.parse=function(N,C){var P=(C=C||{}).dynamicTyping||!1;if(I(P)&&(C.dynamicTypingFunction=P,P={}),C.dynamicTyping=P,C.transform=!!I(C.transform)&&C.transform,!C.worker||!f.WORKERS_SUPPORTED)return P=null,f.NODE_STREAM_INPUT,typeof N=="string"?(N=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(N),P=new(C.download?v:S)(C)):N.readable===!0&&I(N.read)&&I(N.on)?P=new A(C):(r.File&&N instanceof File||N instanceof Object)&&(P=new y(C)),P.stream(N);(P=(()=>{var D;return!!f.WORKERS_SUPPORTED&&(D=(()=>{var k=r.URL||r.webkitURL||null,U=n.toString();return f.BLOB_URL||(f.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(D=new r.Worker(D)).onmessage=H,D.id=d++,c[D.id]=D)})()).userStep=C.step,P.userChunk=C.chunk,P.userComplete=C.complete,P.userError=C.error,C.step=I(C.step),C.chunk=I(C.chunk),C.complete=I(C.complete),C.error=I(C.error),delete C.worker,P.postMessage({input:N,config:C,workerId:P.id})},f.unparse=function(N,C){var P=!1,D=!0,k=",",U=`\r
`,Ee='"',Se=Ee+Ee,ae=!1,le=null,Re=!1,ie=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||f.BAD_DELIMITERS.filter(function(V){return C.delimiter.indexOf(V)!==-1}).length||(k=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(P=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(ae=C.skipEmptyLines),typeof C.newline=="string"&&(U=C.newline),typeof C.quoteChar=="string"&&(Ee=C.quoteChar),typeof C.header=="boolean"&&(D=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");le=C.columns}C.escapeChar!==void 0&&(Se=C.escapeChar+Ee),C.escapeFormulae instanceof RegExp?Re=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(Re=/^[=+\-@\t\r].*$/)}})(),new RegExp(b(Ee),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return Fe(null,N,ae);if(typeof N[0]=="object")return Fe(le||Object.keys(N[0]),N,ae)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||le),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),Fe(N.fields||[],N.data||[],ae);throw new Error("Unable to serialize unrecognized input");function Fe(V,X,Q){var te="",ce=(typeof V=="string"&&(V=JSON.parse(V)),typeof X=="string"&&(X=JSON.parse(X)),Array.isArray(V)&&0<V.length),be=!Array.isArray(X[0]);if(ce&&D){for(var Ce=0;Ce<V.length;Ce++)0<Ce&&(te+=k),te+=W(V[Ce],Ce);0<X.length&&(te+=U)}for(var we=0;we<X.length;we++){var ke=(ce?V:X[we]).length,$e=!1,ne=ce?Object.keys(X[we]).length===0:X[we].length===0;if(Q&&!ce&&($e=Q==="greedy"?X[we].join("").trim()==="":X[we].length===1&&X[we][0].length===0),Q==="greedy"&&ce){for(var rt=[],Je=0;Je<ke;Je++){var Xe=be?V[Je]:Je;rt.push(X[we][Xe])}$e=rt.join("").trim()===""}if(!$e){for(var ze=0;ze<ke;ze++){0<ze&&!ne&&(te+=k);var Ue=ce&&be?V[ze]:ze;te+=W(X[we][Ue],ze)}we<X.length-1&&(!Q||0<ke&&!ne)&&(te+=U)}}return te}function W(V,X){var Q,te;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(te=!1,Re&&typeof V=="string"&&Re.test(V)&&(V="'"+V,te=!0),Q=V.toString().replace(ie,Se),(te=te||P===!0||typeof P=="function"&&P(V,X)||Array.isArray(P)&&P[X]||((ce,be)=>{for(var Ce=0;Ce<be.length;Ce++)if(-1<ce.indexOf(be[Ce]))return!0;return!1})(Q,f.BAD_DELIMITERS)||-1<Q.indexOf(k)||Q.charAt(0)===" "||Q.charAt(Q.length-1)===" ")?Ee+Q+Ee:Q)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!s&&!!r.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=L,f.ParserHandle=w,f.NetworkStreamer=v,f.FileStreamer=y,f.StringStreamer=S,f.ReadableStreamStreamer=A,r.jQuery&&((i=r.jQuery).fn.parse=function(N){var C=N.config||{},P=[];return this.each(function(U){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Ee=0;Ee<this.files.length;Ee++)P.push({file:this.files[Ee],inputElem:this,instanceConfig:i.extend({},C)})}),D(),this;function D(){if(P.length===0)I(N.complete)&&N.complete();else{var U,Ee,Se,ae,le=P[0];if(I(N.before)){var Re=N.before(le.file,le.inputElem);if(typeof Re=="object"){if(Re.action==="abort")return U="AbortError",Ee=le.file,Se=le.inputElem,ae=Re.reason,void(I(N.error)&&N.error({name:U},Ee,Se,ae));if(Re.action==="skip")return void k();typeof Re.config=="object"&&(le.instanceConfig=i.extend(le.instanceConfig,Re.config))}else if(Re==="skip")return void k()}var ie=le.instanceConfig.complete;le.instanceConfig.complete=function(Fe){I(ie)&&ie(Fe,le.file,le.inputElem),k()},f.parse(le.file,le.instanceConfig)}}function k(){P.splice(0,1),D()}}),l&&(r.onmessage=function(N){N=N.data,f.WORKER_ID===void 0&&N&&(f.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:f.WORKER_ID,results:f.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=f.parse(N.input,N.config))&&r.postMessage({workerId:f.WORKER_ID,results:N,finished:!0})}),(v.prototype=Object.create(p.prototype)).constructor=v,(y.prototype=Object.create(p.prototype)).constructor=y,(S.prototype=Object.create(S.prototype)).constructor=S,(A.prototype=Object.create(p.prototype)).constructor=A,f})})(p0)),p0.exports}var NR=bR();const QS=oh(NR),Z_=t=>{if(!t)return null;const e=t.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(e)return{lat:parseFloat(e[1]),lng:parseFloat(e[2])};const n=t.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return n?{lat:parseFloat(n[1]),lng:parseFloat(n[2])}:null},IR=t=>{if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("query")||e.searchParams.get("q");if(n&&!n.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return n}catch{const n=t.match(/[?&]query=([^&]+)/)||t.match(/[?&]q=([^&]+)/);if(n)return decodeURIComponent(n[1].replace(/\+/g," "))}return null},ZS=t=>{if(t==null)return{address:""};const e=String(t).trim(),n=e.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(n){const i=n[1].replace(/""/g,'"').trim(),s=n[2].replace(/""/g,'"').trim(),l=Z_(i);return{link:i,address:s,...l}}const r=eA(e);if(r.includes("google.com/maps")||r.includes("maps.app.goo.gl")){const i=IR(r),s=Z_(r);return{link:r,address:i||r,...s}}return{address:r}},eA=t=>{if(t==null)return"";const e=String(t),n=e.match(/"([^"]+)"\)$/);return n&&n[1]?n[1].trim():e.startsWith("=")?e.replace(/[="()]/g,"").trim():e.trim()},RR=t=>{const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},eE=t=>{if(!t)return 0;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},tA=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),nA=t=>new Promise((e,n)=>{QS.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:r=>{const i=r.data,s=[];i.forEach(l=>{const c={};Object.keys(l).forEach(b=>{c[tA(b)]=l[b]});const d=c["numero do sku"]||c.sku||"",f=c.marca||c.fabricante||"Genrico",p=c["cod.fabrica"]||c["cod fabrica"]||c["codigo fabrica"]||"",v=c.descricao||c.nome||c.produto||"",y=RR(c["preco de venda"]||c.preco||"0"),S=c.categoria||f,A=eE(c.margem||"0"),w=eE(c.desconto||c.discount||"0");(d||v)&&s.push({category:S,sku:d,brand:f,factoryCode:p,name:v,price:y,margin:A,discount:w})}),e(s)},error:r=>n(r)})}),kR=t=>new Promise((e,n)=>{QS.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:r=>r.trim().replace(/^\ufeff/,""),complete:r=>{const i=r.data,s=[];if(i.forEach(l=>{const c={};Object.keys(l).forEach(A=>{c[tA(A)]=l[A]});const d=c.endereco||c.logradouro||c.localizacao||c["endereco cobranca"]||c["link google maps"]||"";let{address:f,link:p,lat:v,lng:y}=ZS(d);const S=c.cep||c.zip||c["codigo postal"]||"";S&&f&&!f.toLowerCase().includes(S.toLowerCase())&&(f=`${f}, ${S}`),s.push({"Razo Social":c["razao social"]||c.cliente||c["nome fantasia"]||c.fantasia||c.empresa||c["nome comercial"]||"","Nome do Proprietrio":c["nome do proprietario"]||c.proprietario||c.dono||c["contato principal"]||"",Contato:c.contato||c.telefone||c.celular||c.whatsapp||"",Endereo:f,GoogleMapsLink:p,extractedLat:v,extractedLng:y})}),s.length>0){const l=s[0];!l["Razo Social"]&&!l.Endereo&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}e(s)},error:r=>{n(r)}})});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var rA=1252,DR=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iv={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},av=function(t){DR.indexOf(t)!=-1&&(rA=iv[0]=t)};function MR(){av(1252)}var Xi=function(t){av(t)};function iA(){Xi(1200),MR()}function tE(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function FR(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function aA(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var _u=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?FR(t.slice(2)):e==254&&n==255?aA(t.slice(2)):e==65279?t.slice(1):t},jd=function(e){return String.fromCharCode(e)},nE=function(e){return String.fromCharCode(e)},Yu,Vs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rE(t){for(var e="",n=0,r=0,i=0,s=0,l=0,c=0,d=0,f=0;f<t.length;)n=t.charCodeAt(f++),s=n>>2,r=t.charCodeAt(f++),l=(n&3)<<4|r>>4,i=t.charCodeAt(f++),c=(r&15)<<2|i>>6,d=i&63,isNaN(r)?c=d=64:isNaN(i)&&(d=64),e+=Vs.charAt(s)+Vs.charAt(l)+Vs.charAt(c)+Vs.charAt(d);return e}function pi(t){var e="",n=0,r=0,i=0,s=0,l=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<t.length;)s=Vs.indexOf(t.charAt(f++)),l=Vs.indexOf(t.charAt(f++)),n=s<<2|l>>4,e+=String.fromCharCode(n),c=Vs.indexOf(t.charAt(f++)),r=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),d=Vs.indexOf(t.charAt(f++)),i=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(i));return e}var Mt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),qo=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function js(t){return Mt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function iE(t){return Mt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Yi=function(e){return Mt?qo(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function jo(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function sv(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return sv(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var Us=Mt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:qo(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function PR(t){for(var e=[],n=0,r=t.length+250,i=js(t.length+255),s=0;s<t.length;++s){var l=t.charCodeAt(s);if(l<128)i[n++]=l;else if(l<2048)i[n++]=192|l>>6&31,i[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++s)&1023;i[n++]=240|l>>8&7,i[n++]=128|l>>2&63,i[n++]=128|c>>6&15|(l&3)<<4,i[n++]=128|c&63}else i[n++]=224|l>>12&15,i[n++]=128|l>>6&63,i[n++]=128|l&63;n>r&&(e.push(i.slice(0,n)),n=0,i=js(65535),r=65530)}return e.push(i.slice(0,n)),Us(e)}var Gr=/\u0000/g,Eu=/[\u0001-\u0006]/g;function Yl(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Wi(t,e){var n=""+t;return n.length>=e?n:bn("0",e-n.length)+n}function ov(t,e){var n=""+t;return n.length>=e?n:bn(" ",e-n.length)+n}function C0(t,e){var n=""+t;return n.length>=e?n:n+bn(" ",e-n.length)}function OR(t,e){var n=""+Math.round(t);return n.length>=e?n:bn("0",e-n.length)+n}function LR(t,e){var n=""+t;return n.length>=e?n:bn("0",e-n.length)+n}var aE=Math.pow(2,32);function Ol(t,e){if(t>aE||t<-aE)return OR(t,e);var n=Math.round(t);return LR(n,e)}function b0(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var sE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Im=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function UR(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var yt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},oE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},VR={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function N0(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,l=1,c=0,d=1,f=0,p=0,v=Math.floor(i);f<e&&(v=Math.floor(i),c=v*l+s,p=v*f+d,!(i-v<5e-8));)i=1/(i-v),s=l,l=c,d=f,f=p;if(p>e&&(f>e?(p=d,c=s):(p=f,c=l)),!n)return[0,r*c,p];var y=Math.floor(r*c/p);return[y,r*c-y*p,p]}function No(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,l=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)l=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],s=d.getDay(),r<60&&(s=(s+6)%7),n&&(s=jR(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var sA=new Date(1899,11,31,0,0,0),BR=sA.getTime(),HR=new Date(1900,2,1,0,0,0);function oA(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=HR&&(n+=1440*60*1e3),(n-(BR+(t.getTimezoneOffset()-sA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function lv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function GR(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zR(t){var e=t<0?12:11,n=lv(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function qR(t){var e=lv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Ku(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=zR(t):e===10?n=t.toFixed(10).substr(0,12):n=qR(t),lv(GR(n.toUpperCase()))}function Oo(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Ku(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ri(14,oA(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function jR(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function $R(t,e,n,r){var i="",s=0,l=0,c=n.y,d,f=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:d=n.m,f=e.length;break;case 3:return Im[n.m-1][1];case 5:return Im[n.m-1][0];default:return Im[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=n.d,f=e.length;break;case 3:return sE[n.q][0];default:return sE[n.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(n.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=n.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=n.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Wi(n.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(n.S+n.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=Wi(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:d=c,f=1;break}var p=f>0?Wi(d,f):"";return p}function Bs(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var lA=/%/g;function YR(t,e,n){var r=e.replace(lA,""),i=e.length-r.length;return qa(t,r,n*Math.pow(10,2*i))+bn("%",i)}function KR(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return qa(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function cA(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+cA(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+s):n+="E+"+(l-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,p){return d+f+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var uA=/# (\?+)( ?)\/( ?)(\d+)/;function JR(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),l=i-s*r,c=r;return n+(s===0?"":""+s)+" "+(l===0?bn(" ",t[1].length+1+t[4].length):ov(l,t[1].length)+t[2]+"/"+t[3]+Wi(c,t[4].length))}function XR(t,e,n){return n+(e===0?"":""+e)+bn(" ",t[1].length+2+t[4].length)}var fA=/^#*0*\.([0#]+)/,dA=/\).*[0#]/,hA=/\(###\) ###\\?-####/;function Vr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function lE(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function cE(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function WR(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function QR(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function bi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(dA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?bi("n",r,n):"("+bi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return KR(t,e,n);if(e.indexOf("%")!==-1)return YR(t,e,n);if(e.indexOf("E")!==-1)return cA(e,n);if(e.charCodeAt(0)===36)return"$"+bi(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,l,c,d=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Ol(d,e.length);if(e.match(/^[#?]+$/))return i=Ol(n,0),i==="0"&&(i=""),i.length>e.length?i:Vr(e.substr(0,e.length-i.length))+i;if(s=e.match(uA))return JR(s,d,f);if(e.match(/^#+0+$/))return f+Ol(d,e.length-e.indexOf("0"));if(s=e.match(fA))return i=lE(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Vr(s[1])).replace(/\.$/,"."+Vr(s[1])).replace(/\.(\d*)$/,function(A,w){return"."+w+bn("0",Vr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+lE(d,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Bs(Ol(d,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+bi(t,e,-n):Bs(""+(Math.floor(n)+WR(n,s[1].length)))+"."+Wi(cE(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return bi(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yl(bi(t,e.replace(/[\\-]/g,""),n)),l=0,Yl(Yl(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(e.match(hA))return i=bi(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=N0(d,Math.pow(10,l)-1,!1),i=""+f,p=qa("n",s[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=C0(c[2],l),p.length<s[4].length&&(p=Vr(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=N0(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?ov(c[1],l)+s[2]+"/"+s[3]+C0(c[2],l):bn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Ol(n,0),e.length<=i.length?i:Vr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=e.indexOf(".")-l,y=e.length-i.length-v;return Vr(e.substr(0,v)+i+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=cE(n,s[1].length),n<0?"-"+bi(t,e,-n):Bs(QR(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Wi(0,3-A.length):"")+A})+"."+Wi(l,s[1].length);switch(e){case"###,##0.00":return bi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var S=Bs(Ol(d,0));return S!=="0"?f+S:"";case"###,###.00":return bi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return bi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ZR(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return qa(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function ek(t,e,n){var r=e.replace(lA,""),i=e.length-r.length;return qa(t,r,n*Math.pow(10,2*i))+bn("%",i)}function pA(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+pA(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+s):n+="E+"+(l-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,p){return d+f+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function ma(t,e,n){if(t.charCodeAt(0)===40&&!e.match(dA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?ma("n",r,n):"("+ma("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return ZR(t,e,n);if(e.indexOf("%")!==-1)return ek(t,e,n);if(e.indexOf("E")!==-1)return pA(e,n);if(e.charCodeAt(0)===36)return"$"+ma(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,l,c,d=Math.abs(n),f=n<0?"-":"";if(e.match(/^00+$/))return f+Wi(d,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Vr(e.substr(0,e.length-i.length))+i;if(s=e.match(uA))return XR(s,d,f);if(e.match(/^#+0+$/))return f+Wi(d,e.length-e.indexOf("0"));if(s=e.match(fA))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Vr(s[1])).replace(/\.$/,"."+Vr(s[1])),i=i.replace(/\.(\d*)$/,function(A,w){return"."+w+bn("0",Vr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Bs(""+d);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+ma(t,e,-n):Bs(""+n)+"."+bn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return ma(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yl(ma(t,e.replace(/[\\-]/g,""),n)),l=0,Yl(Yl(e.replace(/\\/g,"")).replace(/[0#]/g,function(A){return l<i.length?i.charAt(l++):A==="0"?"0":""}));if(e.match(hA))return i=ma(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=N0(d,Math.pow(10,l)-1,!1),i=""+f,p=qa("n",s[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=C0(c[2],l),p.length<s[4].length&&(p=Vr(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=N0(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?ov(c[1],l)+s[2]+"/"+s[3]+C0(c[2],l):bn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Vr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=e.indexOf(".")-l,y=e.length-i.length-v;return Vr(e.substr(0,v)+i+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+ma(t,e,-n):Bs(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(A){return"00,"+(A.length<3?Wi(0,3-A.length):"")+A})+"."+Wi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var S=Bs(""+d);return S!=="0"?f+S:"";default:if(e.match(/\.[0#?]*$/))return ma(t,e.slice(0,e.lastIndexOf(".")),n)+Vr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function qa(t,e,n){return(n|0)===n?ma(t,e,n):bi(t,e,n)}function tk(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var mA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function cc(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":b0(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(mA))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function nk(t,e,n,r){for(var i=[],s="",l=0,c="",d="t",f,p,v,y="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!b0(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(v=t.charCodeAt(++l))!==34&&l<t.length;)s+=String.fromCharCode(v);i[i.length]={t:"t",v:s},++l;break;case"\\":var S=t.charAt(++l),A=S==="("||S===")"?S:"t";i[i.length]={t:A,v:S},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(f==null&&(f=No(e,n,t.charAt(l+1)==="2"),f==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=No(e,n),f==null))return"";for(s=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=y),i[i.length]={t:c,v:s},d=c;break;case"A":case"a":case"":var w={t:c,v:c};if(f==null&&(f=No(e,n)),t.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",y="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",l+=5,y="h"):t.substr(l,5).toUpperCase()==="/"?(f!=null&&(w.v=f.H>=12?"":""),w.t="T",l+=5,y="h"):(w.t="t",++l),f==null&&w.t==="T")return"";i[i.length]=w,d=c;break;case"[":for(s=c;t.charAt(l++)!=="]"&&l<t.length;)s+=t.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(mA)){if(f==null&&(f=No(e,n),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},d=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",cc(t)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=c;++l<t.length&&(c=t.charAt(l))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++l)===c;)s+=c;i[i.length]={t:c,v:s},d=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)s+=t.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var b=0,L=0,H;for(l=i.length-1,d="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=y,d="h",b<1&&(b=1);break;case"s":(H=i[l].v.match(/\.0+$/))&&(L=Math.max(L,H[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":d=i[l].t;break;case"m":d==="s"&&(i[l].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[l].v.match(/[Hh]/)&&(b=1),b<2&&i[l].v.match(/[Mm]/)&&(b=2),b<3&&i[l].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var F="",z;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=$R(i[l].t.charCodeAt(0),i[l].v,f,L),i[l].t="t";break;case"n":case"?":for(z=l+1;i[z]!=null&&((c=i[z].t)==="?"||c==="D"||(c===" "||c==="t")&&i[z+1]!=null&&(i[z+1].t==="?"||i[z+1].t==="t"&&i[z+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[z].v==="/"||i[z].v===" "&&i[z+1]!=null&&i[z+1].t=="?"));)i[l].v+=i[z].v,i[z]={v:"",t:";"},++z;F+=i[l].v,l=z-1;break;case"G":i[l].t="t",i[l].v=Oo(e,n);break}var B="",j,I;if(F.length>0){F.charCodeAt(0)==40?(j=e<0&&F.charCodeAt(0)===45?-e:e,I=qa("n",F,j)):(j=e<0&&r>1?-e:e,I=qa("n",F,j),j<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),z=I.length-1;var N=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){N=l;break}var C=i.length;if(N===i.length&&I.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(z>=i[l].v.length-1?(z-=i[l].v.length,i[l].v=I.substr(z+1,i[l].v.length)):z<0?i[l].v="":(i[l].v=I.substr(0,z+1),z=-1),i[l].t="t",C=l);z>=0&&C<i.length&&(i[C].v=I.substr(0,z+1)+i[C].v)}else if(N!==i.length&&I.indexOf("E")===-1){for(z=I.indexOf(".")-1,l=N;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(p=i[l].v.indexOf(".")>-1&&l===N?i[l].v.indexOf(".")-1:i[l].v.length-1,B=i[l].v.substr(p+1);p>=0;--p)z>=0&&(i[l].v.charAt(p)==="0"||i[l].v.charAt(p)==="#")&&(B=I.charAt(z--)+B);i[l].v=B,i[l].t="t",C=l}for(z>=0&&C<i.length&&(i[C].v=I.substr(0,z+1)+i[C].v),z=I.indexOf(".")+1,l=N;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==N)){for(p=i[l].v.indexOf(".")>-1&&l===N?i[l].v.indexOf(".")+1:0,B=i[l].v.substr(0,p);p<i[l].v.length;++p)z<I.length&&(B+=I.charAt(z++));i[l].v=B,i[l].t="t",C=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(j=r>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=qa(i[l].t,i[l].v,j),i[l].t="t");var P="";for(l=0;l!==i.length;++l)i[l]!=null&&(P+=i[l].v);return P}var uE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function fE(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function rk(t,e){var n=tk(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(uE),c=n[1].match(uE);return fE(e,l)?[r,n[0]]:fE(e,c)?[r,n[1]]:[r,n[l!=null&&c!=null?2:1]]}return[r,s]}function Ri(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:yt)[t],r==null&&(r=n.table&&n.table[oE[t]]||yt[oE[t]]),r==null&&(r=VR[t]||"General");break}if(b0(r,0))return Oo(e,n);e instanceof Date&&(e=oA(e,n.date1904));var i=rk(r,e);if(b0(i[1]))return Oo(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return nk(i[1],e,n,i[0])}function Ro(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(yt[n]==null){e<0&&(e=n);continue}if(yt[n]==t){e=n;break}}e<0&&(e=391)}return yt[e]=t,e}function gA(){yt=UR()}var ik={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},vA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function ak(t){var e=typeof t=="number"?yt[t]:t;return e=e.replace(vA,"(\\d+)"),new RegExp("^"+e+"$")}function sk(t,e,n){var r=-1,i=-1,s=-1,l=-1,c=-1,d=-1;(e.match(vA)||[]).forEach(function(v,y){var S=parseInt(n[y+1],10);switch(v.toLowerCase().charAt(0)){case"y":r=S;break;case"d":s=S;break;case"h":l=S;break;case"s":d=S;break;case"m":l>=0?c=S:i=S;break}}),d>=0&&c==-1&&i>=0&&(c=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?f:r==-1&&i==-1&&s==-1?p:f+"T"+p}var ok=(function(){var t={};t.version="1.2.0";function e(){for(var I=0,N=new Array(256),C=0;C!=256;++C)I=C,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,N[C]=I;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(I){var N=0,C=0,P=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)D[P]=I[P];for(P=0;P!=256;++P)for(C=I[P],N=256+P;N<4096;N+=256)C=D[N]=C>>>8^I[C&255];var k=[];for(P=1;P!=16;++P)k[P-1]=typeof Int32Array<"u"?D.subarray(P*256,P*256+256):D.slice(P*256,P*256+256);return k}var i=r(n),s=i[0],l=i[1],c=i[2],d=i[3],f=i[4],p=i[5],v=i[6],y=i[7],S=i[8],A=i[9],w=i[10],b=i[11],L=i[12],H=i[13],F=i[14];function z(I,N){for(var C=N^-1,P=0,D=I.length;P<D;)C=C>>>8^n[(C^I.charCodeAt(P++))&255];return~C}function B(I,N){for(var C=N^-1,P=I.length-15,D=0;D<P;)C=F[I[D++]^C&255]^H[I[D++]^C>>8&255]^L[I[D++]^C>>16&255]^b[I[D++]^C>>>24]^w[I[D++]]^A[I[D++]]^S[I[D++]]^y[I[D++]]^v[I[D++]]^p[I[D++]]^f[I[D++]]^d[I[D++]]^c[I[D++]]^l[I[D++]]^s[I[D++]]^n[I[D++]];for(P+=15;D<P;)C=C>>>8^n[(C^I[D++])&255];return~C}function j(I,N){for(var C=N^-1,P=0,D=I.length,k=0,U=0;P<D;)k=I.charCodeAt(P++),k<128?C=C>>>8^n[(C^k)&255]:k<2048?(C=C>>>8^n[(C^(192|k>>6&31))&255],C=C>>>8^n[(C^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,U=I.charCodeAt(P++)&1023,C=C>>>8^n[(C^(240|k>>8&7))&255],C=C>>>8^n[(C^(128|k>>2&63))&255],C=C>>>8^n[(C^(128|U>>6&15|(k&3)<<4))&255],C=C>>>8^n[(C^(128|U&63))&255]):(C=C>>>8^n[(C^(224|k>>12&15))&255],C=C>>>8^n[(C^(128|k>>6&63))&255],C=C>>>8^n[(C^(128|k&63))&255]);return~C}return t.table=n,t.bstr=z,t.buf=B,t.str=j,t})(),Lt=(function(){var e={};e.version="1.2.1";function n(G,ee){for(var Y=G.split("/"),J=ee.split("/"),Z=0,re=0,me=Math.min(Y.length,J.length);Z<me;++Z){if(re=Y[Z].length-J[Z].length)return re;if(Y[Z]!=J[Z])return Y[Z]<J[Z]?-1:1}return Y.length-J.length}function r(G){if(G.charAt(G.length-1)=="/")return G.slice(0,-1).indexOf("/")===-1?G:r(G.slice(0,-1));var ee=G.lastIndexOf("/");return ee===-1?G:G.slice(0,ee+1)}function i(G){if(G.charAt(G.length-1)=="/")return i(G.slice(0,-1));var ee=G.lastIndexOf("/");return ee===-1?G:G.slice(ee+1)}function s(G,ee){typeof ee=="string"&&(ee=new Date(ee));var Y=ee.getHours();Y=Y<<6|ee.getMinutes(),Y=Y<<5|ee.getSeconds()>>>1,G.write_shift(2,Y);var J=ee.getFullYear()-1980;J=J<<4|ee.getMonth()+1,J=J<<5|ee.getDate(),G.write_shift(2,J)}function l(G){var ee=G.read_shift(2)&65535,Y=G.read_shift(2)&65535,J=new Date,Z=Y&31;Y>>>=5;var re=Y&15;Y>>>=4,J.setMilliseconds(0),J.setFullYear(Y+1980),J.setMonth(re-1),J.setDate(Z);var me=ee&31;ee>>>=5;var Ne=ee&63;return ee>>>=6,J.setHours(ee),J.setMinutes(Ne),J.setSeconds(me<<1),J}function c(G){mr(G,0);for(var ee={},Y=0;G.l<=G.length-4;){var J=G.read_shift(2),Z=G.read_shift(2),re=G.l+Z,me={};switch(J){case 21589:Y=G.read_shift(1),Y&1&&(me.mtime=G.read_shift(4)),Z>5&&(Y&2&&(me.atime=G.read_shift(4)),Y&4&&(me.ctime=G.read_shift(4))),me.mtime&&(me.mt=new Date(me.mtime*1e3));break}G.l=re,ee[J]=me}return ee}var d;function f(){return d||(d={})}function p(G,ee){if(G[0]==80&&G[1]==75)return Pr(G,ee);if((G[0]|32)==109&&(G[1]|32)==105)return Ft(G,ee);if(G.length<512)throw new Error("CFB file size "+G.length+" < 512");var Y=3,J=512,Z=0,re=0,me=0,Ne=0,ge=0,ye=[],xe=G.slice(0,512);mr(xe,0);var Le=v(xe);switch(Y=Le[0],Y){case 3:J=512;break;case 4:J=4096;break;case 0:if(Le[1]==0)return Pr(G,ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+Y)}J!==512&&(xe=G.slice(0,J),mr(xe,28));var Ge=G.slice(0,J);y(xe,Y);var Ye=xe.read_shift(4,"i");if(Y===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);xe.l+=4,me=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),Ne=xe.read_shift(4,"i"),Z=xe.read_shift(4,"i"),ge=xe.read_shift(4,"i"),re=xe.read_shift(4,"i");for(var Oe=-1,je=0;je<109&&(Oe=xe.read_shift(4,"i"),!(Oe<0));++je)ye[je]=Oe;var Qe=S(G,J);b(ge,re,Qe,J,ye);var Xt=H(Qe,me,ye,J);Xt[me].name="!Directory",Z>0&&Ne!==U&&(Xt[Ne].name="!MiniFAT"),Xt[ye[0]].name="!FAT",Xt.fat_addrs=ye,Xt.ssz=J;var Wt={},ln=[],_r=[],Fi=[];F(me,Xt,Qe,ln,Z,Wt,_r,Ne),A(_r,Fi,ln),ln.shift();var Pi={FileIndex:_r,FullPaths:Fi};return ee&&ee.raw&&(Pi.raw={header:Ge,sectors:Qe}),Pi}function v(G){if(G[G.l]==80&&G[G.l+1]==75)return[0,0];G.chk(Ee,"Header Signature: "),G.l+=16;var ee=G.read_shift(2,"u");return[G.read_shift(2,"u"),ee]}function y(G,ee){var Y=9;switch(G.l+=2,Y=G.read_shift(2)){case 9:if(ee!=3)throw new Error("Sector Shift: Expected 9 saw "+Y);break;case 12:if(ee!=4)throw new Error("Sector Shift: Expected 12 saw "+Y);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Y)}G.chk("0600","Mini Sector Shift: "),G.chk("000000000000","Reserved: ")}function S(G,ee){for(var Y=Math.ceil(G.length/ee)-1,J=[],Z=1;Z<Y;++Z)J[Z-1]=G.slice(Z*ee,(Z+1)*ee);return J[Y-1]=G.slice(Y*ee),J}function A(G,ee,Y){for(var J=0,Z=0,re=0,me=0,Ne=0,ge=Y.length,ye=[],xe=[];J<ge;++J)ye[J]=xe[J]=J,ee[J]=Y[J];for(;Ne<xe.length;++Ne)J=xe[Ne],Z=G[J].L,re=G[J].R,me=G[J].C,ye[J]===J&&(Z!==-1&&ye[Z]!==Z&&(ye[J]=ye[Z]),re!==-1&&ye[re]!==re&&(ye[J]=ye[re])),me!==-1&&(ye[me]=J),Z!==-1&&J!=ye[J]&&(ye[Z]=ye[J],xe.lastIndexOf(Z)<Ne&&xe.push(Z)),re!==-1&&J!=ye[J]&&(ye[re]=ye[J],xe.lastIndexOf(re)<Ne&&xe.push(re));for(J=1;J<ge;++J)ye[J]===J&&(re!==-1&&ye[re]!==re?ye[J]=ye[re]:Z!==-1&&ye[Z]!==Z&&(ye[J]=ye[Z]));for(J=1;J<ge;++J)if(G[J].type!==0){if(Ne=J,Ne!=ye[Ne])do Ne=ye[Ne],ee[J]=ee[Ne]+"/"+ee[J];while(Ne!==0&&ye[Ne]!==-1&&Ne!=ye[Ne]);ye[J]=-1}for(ee[0]+="/",J=1;J<ge;++J)G[J].type!==2&&(ee[J]+="/")}function w(G,ee,Y){for(var J=G.start,Z=G.size,re=[],me=J;Y&&Z>0&&me>=0;)re.push(ee.slice(me*k,me*k+k)),Z-=k,me=bo(Y,me*4);return re.length===0?Wn(0):Us(re).slice(0,G.size)}function b(G,ee,Y,J,Z){var re=U;if(G===U){if(ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(G!==-1){var me=Y[G],Ne=(J>>>2)-1;if(!me)return;for(var ge=0;ge<Ne&&(re=bo(me,ge*4))!==U;++ge)Z.push(re);b(bo(me,J-4),ee-1,Y,J,Z)}}function L(G,ee,Y,J,Z){var re=[],me=[];Z||(Z=[]);var Ne=J-1,ge=0,ye=0;for(ge=ee;ge>=0;){Z[ge]=!0,re[re.length]=ge,me.push(G[ge]);var xe=Y[Math.floor(ge*4/J)];if(ye=ge*4&Ne,J<4+ye)throw new Error("FAT boundary crossed: "+ge+" 4 "+J);if(!G[xe])break;ge=bo(G[xe],ye)}return{nodes:re,data:EE([me])}}function H(G,ee,Y,J){var Z=G.length,re=[],me=[],Ne=[],ge=[],ye=J-1,xe=0,Le=0,Ge=0,Ye=0;for(xe=0;xe<Z;++xe)if(Ne=[],Ge=xe+ee,Ge>=Z&&(Ge-=Z),!me[Ge]){ge=[];var Oe=[];for(Le=Ge;Le>=0;){Oe[Le]=!0,me[Le]=!0,Ne[Ne.length]=Le,ge.push(G[Le]);var je=Y[Math.floor(Le*4/J)];if(Ye=Le*4&ye,J<4+Ye)throw new Error("FAT boundary crossed: "+Le+" 4 "+J);if(!G[je]||(Le=bo(G[je],Ye),Oe[Le]))break}re[Ge]={nodes:Ne,data:EE([ge])}}return re}function F(G,ee,Y,J,Z,re,me,Ne){for(var ge=0,ye=J.length?2:0,xe=ee[G].data,Le=0,Ge=0,Ye;Le<xe.length;Le+=128){var Oe=xe.slice(Le,Le+128);mr(Oe,64),Ge=Oe.read_shift(2),Ye=hv(Oe,0,Ge-ye),J.push(Ye);var je={name:Ye,type:Oe.read_shift(1),color:Oe.read_shift(1),L:Oe.read_shift(4,"i"),R:Oe.read_shift(4,"i"),C:Oe.read_shift(4,"i"),clsid:Oe.read_shift(16),state:Oe.read_shift(4,"i"),start:0,size:0},Qe=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);Qe!==0&&(je.ct=z(Oe,Oe.l-8));var Xt=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);Xt!==0&&(je.mt=z(Oe,Oe.l-8)),je.start=Oe.read_shift(4,"i"),je.size=Oe.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=U,je.name=""),je.type===5?(ge=je.start,Z>0&&ge!==U&&(ee[ge].name="!StreamData")):je.size>=4096?(je.storage="fat",ee[je.start]===void 0&&(ee[je.start]=L(Y,je.start,ee.fat_addrs,ee.ssz)),ee[je.start].name=je.name,je.content=ee[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:ge!==U&&je.start!==U&&ee[ge]&&(je.content=w(je,ee[ge].data,(ee[Ne]||{}).data))),je.content&&mr(je.content,0),re[Ye]=je,me.push(je)}}function z(G,ee){return new Date((fi(G,ee+4)/1e7*Math.pow(2,32)+fi(G,ee)/1e7-11644473600)*1e3)}function B(G,ee){return f(),p(d.readFileSync(G),ee)}function j(G,ee){var Y=ee&&ee.type;switch(Y||Mt&&Buffer.isBuffer(G)&&(Y="buffer"),Y||"base64"){case"file":return B(G,ee);case"base64":return p(Yi(pi(G)),ee);case"binary":return p(Yi(G),ee)}return p(G,ee)}function I(G,ee){var Y=ee||{},J=Y.root||"Root Entry";if(G.FullPaths||(G.FullPaths=[]),G.FileIndex||(G.FileIndex=[]),G.FullPaths.length!==G.FileIndex.length)throw new Error("inconsistent CFB structure");G.FullPaths.length===0&&(G.FullPaths[0]=J+"/",G.FileIndex[0]={name:J,type:5}),Y.CLSID&&(G.FileIndex[0].clsid=Y.CLSID),N(G)}function N(G){var ee="Sh33tJ5";if(!Lt.find(G,"/"+ee)){var Y=Wn(4);Y[0]=55,Y[1]=Y[3]=50,Y[2]=54,G.FileIndex.push({name:ee,type:2,content:Y,size:4,L:69,R:69,C:69}),G.FullPaths.push(G.FullPaths[0]+ee),C(G)}}function C(G,ee){I(G);for(var Y=!1,J=!1,Z=G.FullPaths.length-1;Z>=0;--Z){var re=G.FileIndex[Z];switch(re.type){case 0:J?Y=!0:(G.FileIndex.pop(),G.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(re.R*re.L*re.C)&&(Y=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(Y=!0);break;default:Y=!0;break}}if(!(!Y&&!ee)){var me=new Date(1987,1,19),Ne=0,ge=Object.create?Object.create(null):{},ye=[];for(Z=0;Z<G.FullPaths.length;++Z)ge[G.FullPaths[Z]]=!0,G.FileIndex[Z].type!==0&&ye.push([G.FullPaths[Z],G.FileIndex[Z]]);for(Z=0;Z<ye.length;++Z){var xe=r(ye[Z][0]);J=ge[xe],J||(ye.push([xe,{name:i(xe).replace("/",""),type:1,clsid:ae,ct:me,mt:me,content:null}]),ge[xe]=!0)}for(ye.sort(function(Ye,Oe){return n(Ye[0],Oe[0])}),G.FullPaths=[],G.FileIndex=[],Z=0;Z<ye.length;++Z)G.FullPaths[Z]=ye[Z][0],G.FileIndex[Z]=ye[Z][1];for(Z=0;Z<ye.length;++Z){var Le=G.FileIndex[Z],Ge=G.FullPaths[Z];if(Le.name=i(Ge).replace("/",""),Le.L=Le.R=Le.C=-(Le.color=1),Le.size=Le.content?Le.content.length:0,Le.start=0,Le.clsid=Le.clsid||ae,Z===0)Le.C=ye.length>1?1:-1,Le.size=0,Le.type=5;else if(Ge.slice(-1)=="/"){for(Ne=Z+1;Ne<ye.length&&r(G.FullPaths[Ne])!=Ge;++Ne);for(Le.C=Ne>=ye.length?-1:Ne,Ne=Z+1;Ne<ye.length&&r(G.FullPaths[Ne])!=r(Ge);++Ne);Le.R=Ne>=ye.length?-1:Ne,Le.type=1}else r(G.FullPaths[Z+1]||"")==r(Ge)&&(Le.R=Z+1),Le.type=2}}}function P(G,ee){var Y=ee||{};if(Y.fileType=="mad")return pn(G,Y);switch(C(G),Y.fileType){case"zip":return un(G,Y)}var J=(function(Ye){for(var Oe=0,je=0,Qe=0;Qe<Ye.FileIndex.length;++Qe){var Xt=Ye.FileIndex[Qe];if(Xt.content){var Wt=Xt.content.length;Wt>0&&(Wt<4096?Oe+=Wt+63>>6:je+=Wt+511>>9)}}for(var ln=Ye.FullPaths.length+3>>2,_r=Oe+7>>3,Fi=Oe+127>>7,Pi=_r+je+ln+Fi,ni=Pi+127>>7,rs=ni<=109?0:Math.ceil((ni-109)/127);Pi+ni+rs+127>>7>ni;)rs=++ni<=109?0:Math.ceil((ni-109)/127);var Er=[1,rs,ni,Fi,ln,je,Oe,0];return Ye.FileIndex[0].size=Oe<<6,Er[7]=(Ye.FileIndex[0].start=Er[0]+Er[1]+Er[2]+Er[3]+Er[4]+Er[5])+(Er[6]+7>>3),Er})(G),Z=Wn(J[7]<<9),re=0,me=0;{for(re=0;re<8;++re)Z.write_shift(1,Se[re]);for(re=0;re<8;++re)Z.write_shift(2,0);for(Z.write_shift(2,62),Z.write_shift(2,3),Z.write_shift(2,65534),Z.write_shift(2,9),Z.write_shift(2,6),re=0;re<3;++re)Z.write_shift(2,0);for(Z.write_shift(4,0),Z.write_shift(4,J[2]),Z.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),Z.write_shift(4,0),Z.write_shift(4,4096),Z.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:U),Z.write_shift(4,J[3]),Z.write_shift(-4,J[1]?J[0]-1:U),Z.write_shift(4,J[1]),re=0;re<109;++re)Z.write_shift(-4,re<J[2]?J[1]+re:-1)}if(J[1])for(me=0;me<J[1];++me){for(;re<236+me*127;++re)Z.write_shift(-4,re<J[2]?J[1]+re:-1);Z.write_shift(-4,me===J[1]-1?U:me+1)}var Ne=function(Ye){for(me+=Ye;re<me-1;++re)Z.write_shift(-4,re+1);Ye&&(++re,Z.write_shift(-4,U))};for(me=re=0,me+=J[1];re<me;++re)Z.write_shift(-4,le.DIFSECT);for(me+=J[2];re<me;++re)Z.write_shift(-4,le.FATSECT);Ne(J[3]),Ne(J[4]);for(var ge=0,ye=0,xe=G.FileIndex[0];ge<G.FileIndex.length;++ge)xe=G.FileIndex[ge],xe.content&&(ye=xe.content.length,!(ye<4096)&&(xe.start=me,Ne(ye+511>>9)));for(Ne(J[6]+7>>3);Z.l&511;)Z.write_shift(-4,le.ENDOFCHAIN);for(me=re=0,ge=0;ge<G.FileIndex.length;++ge)xe=G.FileIndex[ge],xe.content&&(ye=xe.content.length,!(!ye||ye>=4096)&&(xe.start=me,Ne(ye+63>>6)));for(;Z.l&511;)Z.write_shift(-4,le.ENDOFCHAIN);for(re=0;re<J[4]<<2;++re){var Le=G.FullPaths[re];if(!Le||Le.length===0){for(ge=0;ge<17;++ge)Z.write_shift(4,0);for(ge=0;ge<3;++ge)Z.write_shift(4,-1);for(ge=0;ge<12;++ge)Z.write_shift(4,0);continue}xe=G.FileIndex[re],re===0&&(xe.start=xe.size?xe.start-1:U);var Ge=re===0&&Y.root||xe.name;if(ye=2*(Ge.length+1),Z.write_shift(64,Ge,"utf16le"),Z.write_shift(2,ye),Z.write_shift(1,xe.type),Z.write_shift(1,xe.color),Z.write_shift(-4,xe.L),Z.write_shift(-4,xe.R),Z.write_shift(-4,xe.C),xe.clsid)Z.write_shift(16,xe.clsid,"hex");else for(ge=0;ge<4;++ge)Z.write_shift(4,0);Z.write_shift(4,xe.state||0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,xe.start),Z.write_shift(4,xe.size),Z.write_shift(4,0)}for(re=1;re<G.FileIndex.length;++re)if(xe=G.FileIndex[re],xe.size>=4096)if(Z.l=xe.start+1<<9,Mt&&Buffer.isBuffer(xe.content))xe.content.copy(Z,Z.l,0,xe.size),Z.l+=xe.size+511&-512;else{for(ge=0;ge<xe.size;++ge)Z.write_shift(1,xe.content[ge]);for(;ge&511;++ge)Z.write_shift(1,0)}for(re=1;re<G.FileIndex.length;++re)if(xe=G.FileIndex[re],xe.size>0&&xe.size<4096)if(Mt&&Buffer.isBuffer(xe.content))xe.content.copy(Z,Z.l,0,xe.size),Z.l+=xe.size+63&-64;else{for(ge=0;ge<xe.size;++ge)Z.write_shift(1,xe.content[ge]);for(;ge&63;++ge)Z.write_shift(1,0)}if(Mt)Z.l=Z.length;else for(;Z.l<Z.length;)Z.write_shift(1,0);return Z}function D(G,ee){var Y=G.FullPaths.map(function(ge){return ge.toUpperCase()}),J=Y.map(function(ge){var ye=ge.split("/");return ye[ye.length-(ge.slice(-1)=="/"?2:1)]}),Z=!1;ee.charCodeAt(0)===47?(Z=!0,ee=Y[0].slice(0,-1)+ee):Z=ee.indexOf("/")!==-1;var re=ee.toUpperCase(),me=Z===!0?Y.indexOf(re):J.indexOf(re);if(me!==-1)return G.FileIndex[me];var Ne=!re.match(Eu);for(re=re.replace(Gr,""),Ne&&(re=re.replace(Eu,"!")),me=0;me<Y.length;++me)if((Ne?Y[me].replace(Eu,"!"):Y[me]).replace(Gr,"")==re||(Ne?J[me].replace(Eu,"!"):J[me]).replace(Gr,"")==re)return G.FileIndex[me];return null}var k=64,U=-2,Ee="d0cf11e0a1b11ae1",Se=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:Ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Re(G,ee,Y){f();var J=P(G,Y);d.writeFileSync(ee,J)}function ie(G){for(var ee=new Array(G.length),Y=0;Y<G.length;++Y)ee[Y]=String.fromCharCode(G[Y]);return ee.join("")}function Fe(G,ee){var Y=P(G,ee);switch(ee&&ee.type||"buffer"){case"file":return f(),d.writeFileSync(ee.filename,Y),Y;case"binary":return typeof Y=="string"?Y:ie(Y);case"base64":return rE(typeof Y=="string"?Y:ie(Y));case"buffer":if(Mt)return Buffer.isBuffer(Y)?Y:qo(Y);case"array":return typeof Y=="string"?Yi(Y):Y}return Y}var W;function V(G){try{var ee=G.InflateRaw,Y=new ee;if(Y._processChunk(new Uint8Array([3,0]),Y._finishFlushFlag),Y.bytesRead)W=G;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function X(G,ee){if(!W)return Mi(G,ee);var Y=W.InflateRaw,J=new Y,Z=J._processChunk(G.slice(G.l),J._finishFlushFlag);return G.l+=J.bytesRead,Z}function Q(G){return W?W.deflateRawSync(G):it(G)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ce(G){var ee=(G<<1|G<<11)&139536|(G<<5|G<<15)&558144;return(ee>>16|ee>>8|ee)&255}for(var we=typeof Uint8Array<"u",ke=we?new Uint8Array(256):[],$e=0;$e<256;++$e)ke[$e]=Ce($e);function ne(G,ee){var Y=ke[G&255];return ee<=8?Y>>>8-ee:(Y=Y<<8|ke[G>>8&255],ee<=16?Y>>>16-ee:(Y=Y<<8|ke[G>>16&255],Y>>>24-ee))}function rt(G,ee){var Y=ee&7,J=ee>>>3;return(G[J]|(Y<=6?0:G[J+1]<<8))>>>Y&3}function Je(G,ee){var Y=ee&7,J=ee>>>3;return(G[J]|(Y<=5?0:G[J+1]<<8))>>>Y&7}function Xe(G,ee){var Y=ee&7,J=ee>>>3;return(G[J]|(Y<=4?0:G[J+1]<<8))>>>Y&15}function ze(G,ee){var Y=ee&7,J=ee>>>3;return(G[J]|(Y<=3?0:G[J+1]<<8))>>>Y&31}function Ue(G,ee){var Y=ee&7,J=ee>>>3;return(G[J]|(Y<=1?0:G[J+1]<<8))>>>Y&127}function tt(G,ee,Y){var J=ee&7,Z=ee>>>3,re=(1<<Y)-1,me=G[Z]>>>J;return Y<8-J||(me|=G[Z+1]<<8-J,Y<16-J)||(me|=G[Z+2]<<16-J,Y<24-J)||(me|=G[Z+3]<<24-J),me&re}function nt(G,ee,Y){var J=ee&7,Z=ee>>>3;return J<=5?G[Z]|=(Y&7)<<J:(G[Z]|=Y<<J&255,G[Z+1]=(Y&7)>>8-J),ee+3}function lt(G,ee,Y){var J=ee&7,Z=ee>>>3;return Y=(Y&1)<<J,G[Z]|=Y,ee+1}function on(G,ee,Y){var J=ee&7,Z=ee>>>3;return Y<<=J,G[Z]|=Y&255,Y>>>=8,G[Z+1]=Y,ee+8}function Sn(G,ee,Y){var J=ee&7,Z=ee>>>3;return Y<<=J,G[Z]|=Y&255,Y>>>=8,G[Z+1]=Y&255,G[Z+2]=Y>>>8,ee+16}function Rn(G,ee){var Y=G.length,J=2*Y>ee?2*Y:ee+5,Z=0;if(Y>=ee)return G;if(Mt){var re=iE(J);if(G.copy)G.copy(re);else for(;Z<G.length;++Z)re[Z]=G[Z];return re}else if(we){var me=new Uint8Array(J);if(me.set)me.set(G);else for(;Z<Y;++Z)me[Z]=G[Z];return me}return G.length=J,G}function ft(G){for(var ee=new Array(G),Y=0;Y<G;++Y)ee[Y]=0;return ee}function Yt(G,ee,Y){var J=1,Z=0,re=0,me=0,Ne=0,ge=G.length,ye=we?new Uint16Array(32):ft(32);for(re=0;re<32;++re)ye[re]=0;for(re=ge;re<Y;++re)G[re]=0;ge=G.length;var xe=we?new Uint16Array(ge):ft(ge);for(re=0;re<ge;++re)ye[Z=G[re]]++,J<Z&&(J=Z),xe[re]=0;for(ye[0]=0,re=1;re<=J;++re)ye[re+16]=Ne=Ne+ye[re-1]<<1;for(re=0;re<ge;++re)Ne=G[re],Ne!=0&&(xe[re]=ye[Ne+16]++);var Le=0;for(re=0;re<ge;++re)if(Le=G[re],Le!=0)for(Ne=ne(xe[re],J)>>J-Le,me=(1<<J+4-Le)-1;me>=0;--me)ee[Ne|me<<Le]=Le&15|re<<4;return J}var kt=we?new Uint16Array(512):ft(512),tn=we?new Uint16Array(32):ft(32);if(!we){for(var Nt=0;Nt<512;++Nt)kt[Nt]=0;for(Nt=0;Nt<32;++Nt)tn[Nt]=0}(function(){for(var G=[],ee=0;ee<32;ee++)G.push(5);Yt(G,tn,32);var Y=[];for(ee=0;ee<=143;ee++)Y.push(8);for(;ee<=255;ee++)Y.push(9);for(;ee<=279;ee++)Y.push(7);for(;ee<=287;ee++)Y.push(8);Yt(Y,kt,288)})();var Un=(function(){for(var ee=we?new Uint8Array(32768):[],Y=0,J=0;Y<be.length-1;++Y)for(;J<be[Y+1];++J)ee[J]=Y;for(;J<32768;++J)ee[J]=29;var Z=we?new Uint8Array(259):[];for(Y=0,J=0;Y<ce.length-1;++Y)for(;J<ce[Y+1];++J)Z[J]=Y;function re(Ne,ge){for(var ye=0;ye<Ne.length;){var xe=Math.min(65535,Ne.length-ye),Le=ye+xe==Ne.length;for(ge.write_shift(1,+Le),ge.write_shift(2,xe),ge.write_shift(2,~xe&65535);xe-- >0;)ge[ge.l++]=Ne[ye++]}return ge.l}function me(Ne,ge){for(var ye=0,xe=0,Le=we?new Uint16Array(32768):[];xe<Ne.length;){var Ge=Math.min(65535,Ne.length-xe);if(Ge<10){for(ye=nt(ge,ye,+(xe+Ge==Ne.length)),ye&7&&(ye+=8-(ye&7)),ge.l=ye/8|0,ge.write_shift(2,Ge),ge.write_shift(2,~Ge&65535);Ge-- >0;)ge[ge.l++]=Ne[xe++];ye=ge.l*8;continue}ye=nt(ge,ye,+(xe+Ge==Ne.length)+2);for(var Ye=0;Ge-- >0;){var Oe=Ne[xe];Ye=(Ye<<5^Oe)&32767;var je=-1,Qe=0;if((je=Le[Ye])&&(je|=xe&-32768,je>xe&&(je-=32768),je<xe))for(;Ne[je+Qe]==Ne[xe+Qe]&&Qe<250;)++Qe;if(Qe>2){Oe=Z[Qe],Oe<=22?ye=on(ge,ye,ke[Oe+1]>>1)-1:(on(ge,ye,3),ye+=5,on(ge,ye,ke[Oe-23]>>5),ye+=3);var Xt=Oe<8?0:Oe-4>>2;Xt>0&&(Sn(ge,ye,Qe-ce[Oe]),ye+=Xt),Oe=ee[xe-je],ye=on(ge,ye,ke[Oe]>>3),ye-=3;var Wt=Oe<4?0:Oe-2>>1;Wt>0&&(Sn(ge,ye,xe-je-be[Oe]),ye+=Wt);for(var ln=0;ln<Qe;++ln)Le[Ye]=xe&32767,Ye=(Ye<<5^Ne[xe])&32767,++xe;Ge-=Qe-1}else Oe<=143?Oe=Oe+48:ye=lt(ge,ye,1),ye=on(ge,ye,ke[Oe]),Le[Ye]=xe&32767,++xe}ye=on(ge,ye,0)-1}return ge.l=(ye+7)/8|0,ge.l}return function(ge,ye){return ge.length<8?re(ge,ye):me(ge,ye)}})();function it(G){var ee=Wn(50+Math.floor(G.length*1.1)),Y=Un(G,ee);return ee.slice(0,Y)}var wt=we?new Uint16Array(32768):ft(32768),Kt=we?new Uint16Array(32768):ft(32768),Et=we?new Uint16Array(128):ft(128),zt=1,or=1;function hn(G,ee){var Y=ze(G,ee)+257;ee+=5;var J=ze(G,ee)+1;ee+=5;var Z=Xe(G,ee)+4;ee+=4;for(var re=0,me=we?new Uint8Array(19):ft(19),Ne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ge=1,ye=we?new Uint8Array(8):ft(8),xe=we?new Uint8Array(8):ft(8),Le=me.length,Ge=0;Ge<Z;++Ge)me[te[Ge]]=re=Je(G,ee),ge<re&&(ge=re),ye[re]++,ee+=3;var Ye=0;for(ye[0]=0,Ge=1;Ge<=ge;++Ge)xe[Ge]=Ye=Ye+ye[Ge-1]<<1;for(Ge=0;Ge<Le;++Ge)(Ye=me[Ge])!=0&&(Ne[Ge]=xe[Ye]++);var Oe=0;for(Ge=0;Ge<Le;++Ge)if(Oe=me[Ge],Oe!=0){Ye=ke[Ne[Ge]]>>8-Oe;for(var je=(1<<7-Oe)-1;je>=0;--je)Et[Ye|je<<Oe]=Oe&7|Ge<<3}var Qe=[];for(ge=1;Qe.length<Y+J;)switch(Ye=Et[Ue(G,ee)],ee+=Ye&7,Ye>>>=3){case 16:for(re=3+rt(G,ee),ee+=2,Ye=Qe[Qe.length-1];re-- >0;)Qe.push(Ye);break;case 17:for(re=3+Je(G,ee),ee+=3;re-- >0;)Qe.push(0);break;case 18:for(re=11+Ue(G,ee),ee+=7;re-- >0;)Qe.push(0);break;default:Qe.push(Ye),ge<Ye&&(ge=Ye);break}var Xt=Qe.slice(0,Y),Wt=Qe.slice(Y);for(Ge=Y;Ge<286;++Ge)Xt[Ge]=0;for(Ge=J;Ge<30;++Ge)Wt[Ge]=0;return zt=Yt(Xt,wt,286),or=Yt(Wt,Kt,30),ee}function ns(G,ee){if(G[0]==3&&!(G[1]&3))return[js(ee),2];for(var Y=0,J=0,Z=iE(ee||1<<18),re=0,me=Z.length>>>0,Ne=0,ge=0;(J&1)==0;){if(J=Je(G,Y),Y+=3,J>>>1)J>>1==1?(Ne=9,ge=5):(Y=hn(G,Y),Ne=zt,ge=or);else{Y&7&&(Y+=8-(Y&7));var ye=G[Y>>>3]|G[(Y>>>3)+1]<<8;if(Y+=32,ye>0)for(!ee&&me<re+ye&&(Z=Rn(Z,re+ye),me=Z.length);ye-- >0;)Z[re++]=G[Y>>>3],Y+=8;continue}for(;;){!ee&&me<re+32767&&(Z=Rn(Z,re+32767),me=Z.length);var xe=tt(G,Y,Ne),Le=J>>>1==1?kt[xe]:wt[xe];if(Y+=Le&15,Le>>>=4,(Le>>>8&255)===0)Z[re++]=Le;else{if(Le==256)break;Le-=257;var Ge=Le<8?0:Le-4>>2;Ge>5&&(Ge=0);var Ye=re+ce[Le];Ge>0&&(Ye+=tt(G,Y,Ge),Y+=Ge),xe=tt(G,Y,ge),Le=J>>>1==1?tn[xe]:Kt[xe],Y+=Le&15,Le>>>=4;var Oe=Le<4?0:Le-2>>1,je=be[Le];for(Oe>0&&(je+=tt(G,Y,Oe),Y+=Oe),!ee&&me<Ye&&(Z=Rn(Z,Ye+100),me=Z.length);re<Ye;)Z[re]=Z[re-je],++re}}}return ee?[Z,Y+7>>>3]:[Z.slice(0,re),Y+7>>>3]}function Mi(G,ee){var Y=G.slice(G.l||0),J=ns(Y,ee);return G.l+=J[1],J[0]}function Sa(G,ee){if(G)typeof console<"u"&&console.error(ee);else throw new Error(ee)}function Pr(G,ee){var Y=G;mr(Y,0);var J=[],Z=[],re={FileIndex:J,FullPaths:Z};I(re,{root:ee.root});for(var me=Y.length-4;(Y[me]!=80||Y[me+1]!=75||Y[me+2]!=5||Y[me+3]!=6)&&me>=0;)--me;Y.l=me+4,Y.l+=4;var Ne=Y.read_shift(2);Y.l+=6;var ge=Y.read_shift(4);for(Y.l=ge,me=0;me<Ne;++me){Y.l+=20;var ye=Y.read_shift(4),xe=Y.read_shift(4),Le=Y.read_shift(2),Ge=Y.read_shift(2),Ye=Y.read_shift(2);Y.l+=8;var Oe=Y.read_shift(4),je=c(Y.slice(Y.l+Le,Y.l+Le+Ge));Y.l+=Le+Ge+Ye;var Qe=Y.l;Y.l=Oe+4,kn(Y,ye,xe,re,je),Y.l=Qe}return re}function kn(G,ee,Y,J,Z){G.l+=2;var re=G.read_shift(2),me=G.read_shift(2),Ne=l(G);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var ge=G.read_shift(4),ye=G.read_shift(4),xe=G.read_shift(4),Le=G.read_shift(2),Ge=G.read_shift(2),Ye="",Oe=0;Oe<Le;++Oe)Ye+=String.fromCharCode(G[G.l++]);if(Ge){var je=c(G.slice(G.l,G.l+Ge));(je[21589]||{}).mt&&(Ne=je[21589].mt),((Z||{})[21589]||{}).mt&&(Ne=Z[21589].mt)}G.l+=Ge;var Qe=G.slice(G.l,G.l+ye);switch(me){case 8:Qe=X(G,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+me)}var Xt=!1;re&8&&(ge=G.read_shift(4),ge==134695760&&(ge=G.read_shift(4),Xt=!0),ye=G.read_shift(4),xe=G.read_shift(4)),ye!=ee&&Sa(Xt,"Bad compressed size: "+ee+" != "+ye),xe!=Y&&Sa(Xt,"Bad uncompressed size: "+Y+" != "+xe),Dn(J,Ye,Qe,{unsafe:!0,mt:Ne})}function un(G,ee){var Y=ee||{},J=[],Z=[],re=Wn(1),me=Y.compression?8:0,Ne=0,ge=0,ye=0,xe=0,Le=0,Ge=G.FullPaths[0],Ye=Ge,Oe=G.FileIndex[0],je=[],Qe=0;for(ge=1;ge<G.FullPaths.length;++ge)if(Ye=G.FullPaths[ge].slice(Ge.length),Oe=G.FileIndex[ge],!(!Oe.size||!Oe.content||Ye=="Sh33tJ5")){var Xt=xe,Wt=Wn(Ye.length);for(ye=0;ye<Ye.length;++ye)Wt.write_shift(1,Ye.charCodeAt(ye)&127);Wt=Wt.slice(0,Wt.l),je[Le]=ok.buf(Oe.content,0);var ln=Oe.content;me==8&&(ln=Q(ln)),re=Wn(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,Ne),re.write_shift(2,me),Oe.mt?s(re,Oe.mt):re.write_shift(4,0),re.write_shift(-4,je[Le]),re.write_shift(4,ln.length),re.write_shift(4,Oe.content.length),re.write_shift(2,Wt.length),re.write_shift(2,0),xe+=re.length,J.push(re),xe+=Wt.length,J.push(Wt),xe+=ln.length,J.push(ln),re=Wn(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,Ne),re.write_shift(2,me),re.write_shift(4,0),re.write_shift(-4,je[Le]),re.write_shift(4,ln.length),re.write_shift(4,Oe.content.length),re.write_shift(2,Wt.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,Xt),Qe+=re.l,Z.push(re),Qe+=Wt.length,Z.push(Wt),++Le}return re=Wn(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Le),re.write_shift(2,Le),re.write_shift(4,Qe),re.write_shift(4,xe),re.write_shift(2,0),Us([Us(J),Us(Z),re])}var ue={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Be(G,ee){if(G.ctype)return G.ctype;var Y=G.name||"",J=Y.match(/\.([^\.]+)$/);return J&&ue[J[1]]||ee&&(J=(Y=ee).match(/[\.\\]([^\.\\])+$/),J&&ue[J[1]])?ue[J[1]]:"application/octet-stream"}function He(G){for(var ee=rE(G),Y=[],J=0;J<ee.length;J+=76)Y.push(ee.slice(J,J+76));return Y.join(`\r
`)+`\r
`}function st(G){var ee=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ye){var xe=ye.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});ee=ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ee.charAt(0)==`
`&&(ee="=0D"+ee.slice(1)),ee=ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Y=[],J=ee.split(`\r
`),Z=0;Z<J.length;++Z){var re=J[Z];if(re.length==0){Y.push("");continue}for(var me=0;me<re.length;){var Ne=76,ge=re.slice(me,me+Ne);ge.charAt(Ne-1)=="="?Ne--:ge.charAt(Ne-2)=="="?Ne-=2:ge.charAt(Ne-3)=="="&&(Ne-=3),ge=re.slice(me,me+Ne),me+=Ne,me<re.length&&(ge+="="),Y.push(ge)}}return Y.join(`\r
`)}function gt(G){for(var ee=[],Y=0;Y<G.length;++Y){for(var J=G[Y];Y<=G.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+G[++Y];ee.push(J)}for(var Z=0;Z<ee.length;++Z)ee[Z]=ee[Z].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return Yi(ee.join(`\r
`))}function Tt(G,ee,Y){for(var J="",Z="",re="",me,Ne=0;Ne<10;++Ne){var ge=ee[Ne];if(!ge||ge.match(/^\s*$/))break;var ye=ge.match(/^(.*?):\s*([^\s].*)$/);if(ye)switch(ye[1].toLowerCase()){case"content-location":J=ye[2].trim();break;case"content-type":re=ye[2].trim();break;case"content-transfer-encoding":Z=ye[2].trim();break}}switch(++Ne,Z.toLowerCase()){case"base64":me=Yi(pi(ee.slice(Ne).join("")));break;case"quoted-printable":me=gt(ee.slice(Ne));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Z)}var xe=Dn(G,J.slice(Y.length),me,{unsafe:!0});re&&(xe.ctype=re)}function Ft(G,ee){if(ie(G.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Y=ee&&ee.root||"",J=(Mt&&Buffer.isBuffer(G)?G.toString("binary"):ie(G)).split(`\r
`),Z=0,re="";for(Z=0;Z<J.length;++Z)if(re=J[Z],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),Y||(Y=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,Y.length)!=Y))for(;Y.length>0&&(Y=Y.slice(0,Y.length-1),Y=Y.slice(0,Y.lastIndexOf("/")+1),re.slice(0,Y.length)!=Y););var me=(J[1]||"").match(/boundary="(.*?)"/);if(!me)throw new Error("MAD cannot find boundary");var Ne="--"+(me[1]||""),ge=[],ye=[],xe={FileIndex:ge,FullPaths:ye};I(xe);var Le,Ge=0;for(Z=0;Z<J.length;++Z){var Ye=J[Z];Ye!==Ne&&Ye!==Ne+"--"||(Ge++&&Tt(xe,J.slice(Le,Z),Y),Le=Z)}return xe}function pn(G,ee){var Y=ee||{},J=Y.boundary||"SheetJS";J="------="+J;for(var Z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],re=G.FullPaths[0],me=re,Ne=G.FileIndex[0],ge=1;ge<G.FullPaths.length;++ge)if(me=G.FullPaths[ge].slice(re.length),Ne=G.FileIndex[ge],!(!Ne.size||!Ne.content||me=="Sh33tJ5")){me=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qe){return"_x"+Qe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qe){return"_u"+Qe.charCodeAt(0).toString(16)+"_"});for(var ye=Ne.content,xe=Mt&&Buffer.isBuffer(ye)?ye.toString("binary"):ie(ye),Le=0,Ge=Math.min(1024,xe.length),Ye=0,Oe=0;Oe<=Ge;++Oe)(Ye=xe.charCodeAt(Oe))>=32&&Ye<128&&++Le;var je=Le>=Ge*4/5;Z.push(J),Z.push("Content-Location: "+(Y.root||"file:///C:/SheetJS/")+me),Z.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),Z.push("Content-Type: "+Be(Ne,me)),Z.push(""),Z.push(je?st(xe):He(xe))}return Z.push(J+`--\r
`),Z.join(`\r
`)}function An(G){var ee={};return I(ee,G),ee}function Dn(G,ee,Y,J){var Z=J&&J.unsafe;Z||I(G);var re=!Z&&Lt.find(G,ee);if(!re){var me=G.FullPaths[0];ee.slice(0,me.length)==me?me=ee:(me.slice(-1)!="/"&&(me+="/"),me=(me+ee).replace("//","/")),re={name:i(ee),type:2},G.FileIndex.push(re),G.FullPaths.push(me),Z||Lt.utils.cfb_gc(G)}return re.content=Y,re.size=Y?Y.length:0,J&&(J.CLSID&&(re.clsid=J.CLSID),J.mt&&(re.mt=J.mt),J.ct&&(re.ct=J.ct)),re}function jr(G,ee){I(G);var Y=Lt.find(G,ee);if(Y){for(var J=0;J<G.FileIndex.length;++J)if(G.FileIndex[J]==Y)return G.FileIndex.splice(J,1),G.FullPaths.splice(J,1),!0}return!1}function qt(G,ee,Y){I(G);var J=Lt.find(G,ee);if(J){for(var Z=0;Z<G.FileIndex.length;++Z)if(G.FileIndex[Z]==J)return G.FileIndex[Z].name=i(Y),G.FullPaths[Z]=Y,!0}return!1}function mn(G){C(G,!0)}return e.find=D,e.read=j,e.parse=p,e.write=Fe,e.writeFile=Re,e.utils={cfb_new:An,cfb_add:Dn,cfb_del:jr,cfb_mov:qt,cfb_gc:mn,ReadShift:Nu,CheckField:VA,prep_blob:mr,bconcat:Us,use_zlib:V,_deflateRaw:it,_inflateRaw:Mi,consts:le},e})();function lk(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function xa(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function cv(t){for(var e=[],n=xa(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var I0=new Date(1899,11,30,0,0,0);function zr(t,e){var n=t.getTime(),r=I0.getTime()+(t.getTimezoneOffset()-I0.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var xA=new Date,ck=I0.getTime()+(xA.getTimezoneOffset()-I0.getTimezoneOffset())*6e4,dE=xA.getTimezoneOffset();function fh(t){var e=new Date;return e.setTime(t*24*60*60*1e3+ck),e.getTimezoneOffset()!==dE&&e.setTime(e.getTime()+(e.getTimezoneOffset()-dE)*6e4),e}function uk(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var hE=new Date("2017-02-19T19:06:09.000Z"),yA=isNaN(hE.getFullYear())?new Date("2/19/17"):hE,fk=yA.getFullYear()==2017;function ar(t,e){var n=new Date(t);if(fk)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(yA.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Lo(t,e){if(Mt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Su(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Su(aA(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Su(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Su(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function vr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=vr(t[n]));return e}function bn(t,e){for(var n="";n.length<e;)n+=t;return n}function Zi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var dk=["january","february","march","april","may","june","july","august","september","october","november","december"];function nc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&dk.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var hk=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),l=[s[0]],c=1;c<s.length;++c)l.push(i),l.push(s[c]);return l}})();function _A(t){return t?t.content&&t.type?Lo(t.content,!0):t.data?_u(t.data):t.asNodeBuffer&&Mt?_u(t.asNodeBuffer().toString("binary")):t.asBinary?_u(t.asBinary()):t._data&&t._data.getContent?_u(Lo(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function EA(t){if(!t)return null;if(t.data)return tE(t.data);if(t.asNodeBuffer&&Mt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?tE(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function pk(t){return t&&t.name.slice(-4)===".bin"?EA(t):_A(t)}function Ni(t,e){for(var n=t.FullPaths||xa(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var l=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==l||i==l)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function uv(t,e){var n=Ni(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function $n(t,e,n){if(!n)return pk(uv(t,e));if(!e)return null;try{return $n(t,e)}catch{return null}}function hi(t,e,n){if(!n)return _A(uv(t,e));if(!e)return null;try{return hi(t,e)}catch{return null}}function mk(t,e,n){return EA(uv(t,e))}function pE(t){for(var e=t.FullPaths||xa(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function gk(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Mt?r=qo(n):r=PR(n),Lt.utils.cfb_add(t,e,r)}Lt.utils.cfb_add(t,e,n)}else t.file(e,n)}function TA(t,e){switch(e.type){case"base64":return Lt.read(t,{type:"base64"});case"binary":return Lt.read(t,{type:"binary"});case"buffer":case"array":return Lt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Tu(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var SA=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vk=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,mE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,xk=/<[^>]*>/g,Fr=SA.match(mE)?mE:xk,yk=/<\w*:/,_k=/<(\/?)\w+:/;function dt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var l=t.match(vk),c=0,d="",f=0,p="",v="",y=1;if(l)for(f=0;f!=l.length;++f){for(v=l[f],s=0;s!=v.length&&v.charCodeAt(s)!==61;++s);for(p=v.slice(0,s).trim();v.charCodeAt(s+1)==32;)++s;for(y=(i=v.charCodeAt(s+1))==34||i==39?1:0,d=v.slice(s+1+y,v.length-y),c=0;c!=p.length&&p.charCodeAt(c)!==58;++c);if(c===p.length)p.indexOf("_")>0&&(p=p.slice(0,p.indexOf("_"))),r[p]=d,r[p.toLowerCase()]=d;else{var S=(c===5&&p.slice(0,5)==="xmlns"?"xmlns":"")+p.slice(c+1);if(r[S]&&p.slice(c-3,c)=="ext")continue;r[S]=d,r[S.toLowerCase()]=d}}return r}function Ea(t){return t.replace(_k,"<$1")}var AA={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ek=cv(AA),Vt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,d){return AA[c]||String.fromCharCode(parseInt(d,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,d){return String.fromCharCode(parseInt(d,16))});var l=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,l)+n(i.slice(l+3))}})(),Tk=/[&<>'"]/g,Sk=/[\u0000-\u001f]/g;function fv(t){var e=t+"";return e.replace(Tk,function(n){return Ek[n]}).replace(/\n/g,"<br/>").replace(Sk,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var gE=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function En(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Rm(t){for(var e="",n=0,r=0,i=0,s=0,l=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){l=(r&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}l=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function vE(t){var e=js(2*t.length),n,r,i=1,s=0,l=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function xE(t){return qo(t,"binary").toString("utf8")}var $d="foo bar baz",fn=Mt&&(xE($d)==Rm($d)&&xE||vE($d)==Rm($d)&&vE)||Rm,Su=Mt?function(t){return qo(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Ju=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),wA=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),Ak=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),wk=/<\/?(?:vt:)?variant>/g,Ck=/<(?:vt:)([^>]*)>([\s\S]*)</;function yE(t,e){var n=dt(t),r=t.match(Ak(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var l=s.replace(wk,"").match(Ck);l&&i.push({v:fn(l[2]),t:l[1]})}),i}var bk=/(^\s|\s$|\n)/;function Nk(t){return xa(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ik(t,e,n){return"<"+t+(n!=null?Nk(n):"")+(e!=null?(e.match(bk)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function dv(t){if(Mt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return fn(jo(sv(t)));throw new Error("Bad input format: expected Buffer or string")}var Xu=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Rk={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},kk=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Dk(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function Mk(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=r?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[n+c]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var _E=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},EE=Mt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:qo(e)})):_E(t)}:_E,TE=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(za(t,i)));return r.join("").replace(Gr,"")},hv=Mt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Gr,""):TE(t,e,n)}:TE,SE=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},CA=Mt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):SE(t,e,n)}:SE,AE=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Ll(t,i)));return r.join("")},pf=Mt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):AE(e,n,r)}:AE,bA=function(t,e){var n=fi(t,e);return n>0?pf(t,e+4,e+4+n-1):""},NA=bA,IA=function(t,e){var n=fi(t,e);return n>0?pf(t,e+4,e+4+n-1):""},RA=IA,kA=function(t,e){var n=2*fi(t,e);return n>0?pf(t,e+4,e+4+n-1):""},DA=kA,MA=function(e,n){var r=fi(e,n);return r>0?hv(e,n+4,n+4+r):""},FA=MA,PA=function(t,e){var n=fi(t,e);return n>0?pf(t,e+4,e+4+n):""},OA=PA,LA=function(t,e){return Dk(t,e)},R0=LA,UA=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mt&&(NA=function(e,n){if(!Buffer.isBuffer(e))return bA(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},RA=function(e,n){if(!Buffer.isBuffer(e))return IA(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},DA=function(e,n){if(!Buffer.isBuffer(e))return kA(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},FA=function(e,n){if(!Buffer.isBuffer(e))return MA(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},OA=function(e,n){if(!Buffer.isBuffer(e))return PA(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},R0=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):LA(e,n)},UA=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ll=function(t,e){return t[e]},za=function(t,e){return t[e+1]*256+t[e]},Fk=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},fi=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},bo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Pk=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Nu(t,e){var n="",r,i,s=[],l,c,d,f;switch(e){case"dbcs":if(f=this.l,Mt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)n+=String.fromCharCode(za(this,f)),f+=2;t*=2;break;case"utf8":n=pf(this,this.l,this.l+t);break;case"utf16le":t*=2,n=hv(this,this.l,this.l+t);break;case"wstr":return Nu.call(this,t,"dbcs");case"lpstr-ansi":n=NA(this,this.l),t=4+fi(this,this.l);break;case"lpstr-cp":n=RA(this,this.l),t=4+fi(this,this.l);break;case"lpwstr":n=DA(this,this.l),t=4+2*fi(this,this.l);break;case"lpp4":t=4+fi(this,this.l),n=FA(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+fi(this,this.l),n=OA(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=Ll(this,this.l+t++))!==0;)s.push(jd(l));n=s.join("");break;case"_wstr":for(t=0,n="";(l=za(this,this.l+t))!==0;)s.push(jd(l)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",f=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Ll(this,f),this.l=f+1,c=Nu.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(jd(za(this,f))),f+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",f=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Ll(this,f),this.l=f+1,c=Nu.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(jd(Ll(this,f))),f+=1}n=s.join("");break;default:switch(t){case 1:return r=Ll(this,this.l),this.l++,r;case 2:return r=(e==="i"?Fk:za)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?bo:Pk)(this,this.l),this.l+=4,r):(i=fi(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=R0(this,this.l):i=R0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=CA(this,this.l,t);break}}return this.l+=t,n}var Ok=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},Lk=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},Uk=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function Vk(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)Uk(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,Ok(this,e,this.l);break;case 8:if(r=8,n==="f"){Mk(this,e,this.l);break}case 16:break;case-4:r=4,Lk(this,e,this.l);break}return this.l+=r,this}function VA(t,e){var n=CA(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function mr(t,e){t.l=e,t.read_shift=Nu,t.chk=VA,t.write_shift=Vk}function Mr(t,e){t.l+=e}function Wn(t){var e=js(t);return mr(e,0),e}function Za(t,e,n){if(t){var r,i,s;mr(t,t.l||0);for(var l=t.length,c=0,d=0;t.l<l;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var f=O0[c]||O0[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;d=t.l+s;var p=f.f&&f.f(t,s,n);if(t.l=d,e(p,f,c))return}}}function ig(){var t=[],e=Mt?256:2048,n=function(f){var p=Wn(f);return mr(p,0),p},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(f){return r&&f<r.length-r.l?r:(i(),r=n(Math.max(f+1,e)))},l=function(){return i(),Us(t)},c=function(f){i(),r=f,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:l,_bufs:t}}function Iu(t,e,n){var r=vr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function wE(t,e,n){var r=vr(t);return r.s=Iu(r.s,e.s,n),r.e=Iu(r.e,e.s,n),r}function Ru(t,e){if(t.cRel&&t.c<0)for(t=vr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=vr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=mt(t);return!t.cRel&&t.cRel!=null&&(n=Gk(n)),!t.rRel&&t.rRel!=null&&(n=Bk(n)),n}function km(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Qn(t.s.c)+":"+(t.e.cRel?"":"$")+Qn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+xr(t.s.r)+":"+(t.e.rRel?"":"$")+xr(t.e.r):Ru(t.s,e.biff)+":"+Ru(t.e,e.biff)}function pv(t){return parseInt(Hk(t),10)-1}function xr(t){return""+(t+1)}function Bk(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Hk(t){return t.replace(/\$(\d+)$/,"$1")}function mv(t){for(var e=zk(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Qn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Gk(t){return t.replace(/^([A-Z])/,"$$$1")}function zk(t){return t.replace(/^\$([A-Z])/,"$1")}function qk(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function mt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function uc(t){var e=t.indexOf(":");return e==-1?{s:Hr(t),e:Hr(t)}:{s:Hr(t.slice(0,e)),e:Hr(t.slice(e+1))}}function Ut(t,e){return typeof e>"u"||typeof e=="number"?Ut(t.s,t.e):(typeof t!="string"&&(t=mt(t)),typeof e!="string"&&(e=mt(e)),t==e?t:t+":"+e)}function In(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function CE(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ri(t.z,n?zr(e):e)}catch{}try{return t.w=Ri((t.XF||{}).numFmtId||(n?14:0),n?zr(e):e)}catch{return""+e}}function Xa(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Ko[t.v]||t.v:e==null?CE(t,t.v):CE(t,e))}function Ws(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function BA(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),l=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?Hr(r.origin):r.origin;l=d.r,c=d.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=In(s["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),l==-1&&(f.e.r=l=p.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[v].length;++y)if(!(typeof e[v][y]>"u")){var S={v:e[v][y]},A=l+v,w=c+y;if(f.s.r>A&&(f.s.r=A),f.s.c>w&&(f.s.c=w),f.e.r<A&&(f.e.r=A),f.e.c<w&&(f.e.c=w),e[v][y]&&typeof e[v][y]=="object"&&!Array.isArray(e[v][y])&&!(e[v][y]instanceof Date))S=e[v][y];else if(Array.isArray(S.v)&&(S.f=e[v][y][1],S.v=S.v[0]),S.v===null)if(S.f)S.t="n";else if(r.nullError)S.t="e",S.v=0;else if(r.sheetStubs)S.t="z";else continue;else typeof S.v=="number"?S.t="n":typeof S.v=="boolean"?S.t="b":S.v instanceof Date?(S.z=r.dateNF||yt[14],r.cellDates?(S.t="d",S.w=Ri(S.z,zr(S.v))):(S.t="n",S.v=zr(S.v),S.w=Ri(S.z,S.v))):S.t="s";if(i)s[A]||(s[A]=[]),s[A][w]&&s[A][w].z&&(S.z=s[A][w].z),s[A][w]=S;else{var b=mt({c:w,r:A});s[b]&&s[b].z&&(S.z=s[b].z),s[b]=S}}}return f.s.c<1e7&&(s["!ref"]=Ut(f)),s}function fc(t,e){return BA(null,t,e)}function jk(t){return t.read_shift(4,"i")}function Dr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function $k(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function gv(t,e){var n=t.l,r=t.read_shift(1),i=Dr(t),s=[],l={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)s.push($k(t));l.r=s}else l.r=[{ich:0,ifnt:0}];return t.l=n+e,l}var Yk=gv;function Di(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function $o(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var Kk=Dr;function vv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var Jk=Dr,ag=vv;function xv(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?R0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):bo(e,0)>>2;return n?i/100:i}function HA(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var Yo=HA;function Nr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Xk(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var f=ko[i];f&&(e.rgb=Qu(f));break;case 2:e.rgb=Qu([l,c,d]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Wk(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function GA(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function Qk(t){return GA(t,1)}function Zk(t){return GA(t,2)}var yv=2,Zr=3,Yd=11,bE=12,k0=19,Kd=64,e3=65,t3=71,n3=4108,r3=4126,nr=80,zA=81,i3=[nr,zA],a3={1:{n:"CodePage",t:yv},2:{n:"Category",t:nr},3:{n:"PresentationFormat",t:nr},4:{n:"ByteCount",t:Zr},5:{n:"LineCount",t:Zr},6:{n:"ParagraphCount",t:Zr},7:{n:"SlideCount",t:Zr},8:{n:"NoteCount",t:Zr},9:{n:"HiddenCount",t:Zr},10:{n:"MultimediaClipCount",t:Zr},11:{n:"ScaleCrop",t:Yd},12:{n:"HeadingPairs",t:n3},13:{n:"TitlesOfParts",t:r3},14:{n:"Manager",t:nr},15:{n:"Company",t:nr},16:{n:"LinksUpToDate",t:Yd},17:{n:"CharacterCount",t:Zr},19:{n:"SharedDoc",t:Yd},22:{n:"HyperlinksChanged",t:Yd},23:{n:"AppVersion",t:Zr,p:"version"},24:{n:"DigSig",t:e3},26:{n:"ContentType",t:nr},27:{n:"ContentStatus",t:nr},28:{n:"Language",t:nr},29:{n:"Version",t:nr},255:{},2147483648:{n:"Locale",t:k0},2147483651:{n:"Behavior",t:k0},1919054434:{}},s3={1:{n:"CodePage",t:yv},2:{n:"Title",t:nr},3:{n:"Subject",t:nr},4:{n:"Author",t:nr},5:{n:"Keywords",t:nr},6:{n:"Comments",t:nr},7:{n:"Template",t:nr},8:{n:"LastAuthor",t:nr},9:{n:"RevNumber",t:nr},10:{n:"EditTime",t:Kd},11:{n:"LastPrinted",t:Kd},12:{n:"CreatedDate",t:Kd},13:{n:"ModifiedDate",t:Kd},14:{n:"PageCount",t:Zr},15:{n:"WordCount",t:Zr},16:{n:"CharCount",t:Zr},17:{n:"Thumbnail",t:t3},18:{n:"Application",t:nr},19:{n:"DocSecurity",t:Zr},255:{},2147483648:{n:"Locale",t:k0},2147483651:{n:"Behavior",t:k0},1919054434:{}},NE={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},o3=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function l3(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var c3=l3([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ko=vr(c3),Ko={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qA={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},IE={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function u3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function f3(t){var e=u3();if(!t||!t.match)return e;var n={};if((t.match(Fr)||[]).forEach(function(r){var i=dt(r);switch(i[0].replace(yk,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[IE[i.ContentType]]!==void 0&&e[IE[i.ContentType]].push(i.PartName);break}}),e.xmlns!==Rk.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Hl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function sg(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ku(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Fr)||[]).forEach(function(i){var s=dt(i);if(s[0]==="<Relationship"){var l={};l.Type=s.Type,l.Target=s.Target,l.Id=s.Id,s.TargetMode&&(l.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:Tu(s.Target,e);n[c]=l,r[s.Id]=l}}),n["!id"]=r,n}var d3="application/vnd.oasis.opendocument.spreadsheet";function h3(t,e){for(var n=dv(t),r,i;r=Xu.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=dt(r[0],!1),i.path=="/"&&i.type!==d3)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Du=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],p3=(function(){for(var t=new Array(Du.length),e=0;e<Du.length;++e){var n=Du[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function jA(t){var e={};t=fn(t);for(var n=0;n<Du.length;++n){var r=Du[n],i=t.match(p3[n]);i!=null&&i.length>0&&(e[r[1]]=Vt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=ar(e[r[1]]))}return e}var m3=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function $A(t,e,n,r){var i=[];if(typeof t=="string")i=yE(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(p){return{v:p}}));var l=typeof e=="string"?yE(e,r).map(function(p){return p.v}):e,c=0,d=0;if(l.length>0)for(var f=0;f!==i.length;f+=2){switch(d=+i[f+1].v,i[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=d,n.SheetNames=l.slice(c,c+d);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=d,n.DefinedNames=l.slice(c,c+d);break;case"Charts":case"Diagramme":n.Chartsheets=d,n.ChartNames=l.slice(c,c+d);break}c+=d}}function g3(t,e,n){var r={};return e||(e={}),t=fn(t),m3.forEach(function(i){var s=(t.match(Ju(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Vt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var l=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(r[i[1]]=l[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&$A(r.HeadingPairs,r.TitlesOfParts,e,n),e}var v3=/<[^>]+>[^<]*/g;function x3(t,e){var n={},r="",i=t.match(v3);if(i)for(var s=0;s!=i.length;++s){var l=i[s],c=dt(l);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Vt(c.name);break;case"</property>":r=null;break;default:if(l.indexOf("<vt:")===0){var d=l.split(">"),f=d[0].slice(4),p=d[1];switch(f){case"lpstr":case"bstr":case"lpwstr":n[r]=Vt(p);break;case"bool":n[r]=En(p);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(p,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(p);break;case"filetime":case"date":n[r]=ar(p);break;case"cy":case"error":n[r]=Vt(p);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",l,f,d)}}else if(l.slice(0,2)!=="</"){if(e.WTF)throw new Error(l)}}}return n}var y3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Dm;function _3(t,e,n){Dm||(Dm=cv(y3)),e=Dm[e]||e,t[e]=n}function _v(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function YA(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function KA(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function JA(t,e,n){return e===31?KA(t):YA(t,e,n)}function og(t,e,n){return JA(t,e,n===!1?0:4)}function E3(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return JA(t,e,0)}function T3(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Gr,""),t.l-i&2&&(t.l+=2)}return n}function S3(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Gr,"");return n}function A3(t){var e=t.l,n=D0(t,zA);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=D0(t,Zr);return[n,r]}function w3(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(A3(t));return n}function RE(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),l=t.read_shift(4);r[s]=t.read_shift(l,e===1200?"utf16le":"utf8").replace(Gr,"").replace(Eu,"!"),e===1200&&l%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function XA(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function C3(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function D0(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==bE&&r!==e&&i3.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===bE?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return YA(t,r,4).replace(Gr,"");case 31:return KA(t);case 64:return _v(t);case 65:return XA(t);case 71:return C3(t);case 80:return og(t,r,!s.raw).replace(Gr,"");case 81:return E3(t,r).replace(Gr,"");case 4108:return w3(t);case 4126:case 4127:return r==4127?T3(t):S3(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function kE(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],l=0,c=0,d=-1,f={};for(l=0;l!=i;++l){var p=t.read_shift(4),v=t.read_shift(4);s[l]=[p,v+n]}s.sort(function(H,F){return H[1]-F[1]});var y={};for(l=0;l!=i;++l){if(t.l!==s[l][1]){var S=!0;if(l>0&&e)switch(e[s[l-1][0]].t){case 2:t.l+2===s[l][1]&&(t.l+=2,S=!1);break;case 80:t.l<=s[l][1]&&(t.l=s[l][1],S=!1);break;case 4108:t.l<=s[l][1]&&(t.l=s[l][1],S=!1);break}if((!e||l==0)&&t.l<=s[l][1]&&(S=!1,t.l=s[l][1]),S)throw new Error("Read Error: Expected address "+s[l][1]+" at "+t.l+" :"+l)}if(e){var A=e[s[l][0]];if(y[A.n]=D0(t,A.t,{raw:!0}),A.p==="version"&&(y[A.n]=String(y[A.n]>>16)+"."+("0000"+String(y[A.n]&65535)).slice(-4)),A.n=="CodePage")switch(y[A.n]){case 0:y[A.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Xi(c=y[A.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+y[A.n])}}else if(s[l][0]===1){if(c=y.CodePage=D0(t,yv),Xi(c),d!==-1){var w=t.l;t.l=s[d][1],f=RE(t,c),t.l=w}}else if(s[l][0]===0){if(c===0){d=l,t.l=s[l+1][1];continue}f=RE(t,c)}else{var b=f[s[l][0]],L;switch(t[t.l]){case 65:t.l+=4,L=XA(t);break;case 30:t.l+=4,L=og(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,L=og(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,L=t.read_shift(4,"i");break;case 19:t.l+=4,L=t.read_shift(4);break;case 5:t.l+=4,L=t.read_shift(8,"f");break;case 11:t.l+=4,L=On(t,4);break;case 64:t.l+=4,L=ar(_v(t));break;default:throw new Error("unparsed value: "+t[t.l])}y[b]=L}}return t.l=n+r,y}function DE(t,e,n){var r=t.content;if(!r)return{};mr(r,0);var i,s,l,c,d=0;r.chk("feff","Byte Order: "),r.read_shift(2);var f=r.read_shift(4),p=r.read_shift(16);if(p!==Lt.utils.consts.HEADER_CLSID&&p!==n)throw new Error("Bad PropertySet CLSID "+p);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),c=r.read_shift(4),i===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);i===2&&(l=r.read_shift(16),d=r.read_shift(4));var v=kE(r,e),y={SystemIdentifier:f};for(var S in v)y[S]=v[S];if(y.FMTID=s,i===1)return y;if(d-r.l==2&&(r.l+=2),r.l!==d)throw new Error("Length mismatch 2: "+r.l+" !== "+d);var A;try{A=kE(r,null)}catch{}for(S in A)y[S]=A[S];return y.FMTID=[s,l],y}function Ps(t,e){return t.read_shift(e),null}function b3(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function On(t,e){return t.read_shift(e)===1}function Yn(t){return t.read_shift(2,"u")}function WA(t,e){return b3(t,e,Yn)}function N3(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function mf(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var l=r?t.read_shift(r,i):"";return l}function I3(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),l=0,c,d={};i&&(l=t.read_shift(2)),r&&(c=t.read_shift(4));var f=s==2?"dbcs-cont":"sbcs-cont",p=e===0?"":t.read_shift(e,f);return i&&(t.l+=4*l),r&&(t.l+=c),d.t=p,i||(d.raw="<t>"+d.t+"</t>",d.r=d.t),d}function Uo(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function gf(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Uo(t,r,n)}function Jo(t,e,n){if(n.biff>5)return gf(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function R3(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function k3(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Gr,"");return r&&(t.l+=24),i}function D3(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=t.read_shift(s>>1,"utf16le").replace(Gr,"");return n+l}function M3(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return k3(t);case"0303000000000000c000000000000046":return D3(t);default:throw new Error("Unsupported Moniker "+n)}}function Jd(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Gr,""):"";return n}function F3(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,l,c,d,f="",p,v;i&16&&(s=Jd(t,n-t.l)),i&128&&(l=Jd(t,n-t.l)),(i&257)===257&&(c=Jd(t,n-t.l)),(i&257)===1&&(d=M3(t,n-t.l)),i&8&&(f=Jd(t,n-t.l)),i&32&&(p=t.read_shift(16)),i&64&&(v=_v(t)),t.l=n;var y=l||c||d||"";y&&f&&(y+="#"+f),y||(y="#"+f),i&2&&y.charAt(0)=="/"&&y.charAt(1)!="/"&&(y="file://"+y);var S={Target:y};return p&&(S.guid=p),v&&(S.time=v),s&&(S.Tooltip=s),S}function QA(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function ZA(t,e){var n=QA(t);return n[3]=0,n}function Ta(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function P3(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function O3(t,e,n){return e===0?"":Jo(t,e,n)}function L3(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),l=t.read_shift(r,"i");return[i,s,l]}function ew(t){var e=t.read_shift(2),n=xv(t);return[e,n]}function U3(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=mf(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function dh(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function tw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var V3=tw;function nw(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function B3(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function H3(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function Sr(t){t.l+=2,t.l+=t.read_shift(2)}var G3={0:Sr,4:Sr,5:Sr,6:Sr,7:H3,8:Sr,9:Sr,10:Sr,11:Sr,12:Sr,13:B3,14:Sr,15:Sr,16:Sr,17:Sr,18:Sr,19:Sr,20:Sr,21:nw};function z3(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(G3[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Xd(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function q3(t,e){return e===0||t.read_shift(2),1200}function j3(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Jo(t,0,n);return t.read_shift(e+r-t.l),i}function $3(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function Y3(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var l=mf(t,0,n);return l.length===0&&(l="Sheet1"),{pos:r,hs:i,dt:s,name:l}}function K3(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],l=0;l!=i&&t.l<n;++l)s.push(I3(t));return s.Count=r,s.Unique=i,s}function J3(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function X3(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function W3(t){var e=P3(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function Q3(t){return t.read_shift(2),t.read_shift(4)}function ME(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function Z3(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),d=t.read_shift(2),f=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:l,FirstTab:c,Selected:d,TabRatio:f}}function eD(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function tD(){}function nD(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=mf(t,0,n),r}function rD(t){var e=Ta(t);return e.isst=t.read_shift(4),e}function iD(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Ta(t);n.biff==2&&t.l++;var s=gf(t,r-t.l,n);return i.val=s,i}function aD(t,e,n){var r=t.read_shift(2),i=Jo(t,0,n);return[r,i]}var sD=Jo;function FE(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),l=t.read_shift(i),c=t.read_shift(2),d=t.read_shift(2);return t.l=r,{s:{r:s,c},e:{r:l,c:d}}}function oD(t){var e=t.read_shift(2),n=t.read_shift(2),r=ew(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function lD(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(ew(t));if(t.l!==n)throw new Error("MulRK read error");var l=t.read_shift(2);if(s.length!=l-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:l,rkrec:s}}function cD(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var l=t.read_shift(2);if(s.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:l,ixfe:s}}function uD(t,e,n,r){var i={},s=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(4),d=t.read_shift(2);return i.patternType=o3[c>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=d&127,i.icvBack=d>>7&127,i.fsxButton=d>>14&1),i}function fD(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=uD(t,e,r.fStyle,n),r}function dD(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function PE(t,e,n){var r=Ta(t);(n.biff==2||e==9)&&++t.l;var i=N3(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function hD(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Ta(t),i=Nr(t);return r.val=i,r}var OE=O3;function pD(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var l=Uo(t,s),c=[];r>t.l;)c.push(gf(t));return[s,i,l,c]}function LE(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=U3(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var mD=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function UE(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(n&&n.biff==2?1:2),d=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),d=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var f=Uo(t,l,n);i&32&&(f=mD[f.charCodeAt(0)]);var p=r-t.l;n&&n.biff==2&&--p;var v=r==t.l||c===0||!(p>0)?[]:XF(t,p,n,c);return{chKey:s,Name:f,itab:d,rgce:v}}function rw(t,e,n){if(n.biff<8)return gD(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(L3(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function gD(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=mf(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function vD(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Uo(t,r,n),l=Uo(t,i,n);return[s,l]}function xD(t,e,n){var r=tw(t);t.l++;var i=t.read_shift(1);return e-=8,[WF(t,e,n),i,r]}function VE(t,e,n){var r=V3(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,KF(t,e,n)]}function yD(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function _D(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),c=Jo(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},c,l,s]}}function ED(t,e,n){return _D(t,e,n)}function TD(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(dh(t));return n}function SD(t,e,n){if(n&&n.biff<8)return wD(t,e,n);var r=nw(t),i=z3(t,e-22,r[1]);return{cmo:r,ft:i}}var AD={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function wD(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var l=[];return l.push((AD[r]||Mr)(t,e,n)),{cmo:[i,r,s],ft:l}}function CD(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:l=R3(t,6,n);var c=t.read_shift(2);t.read_shift(2),Yn(t,2);var d=t.read_shift(2);t.l+=d;for(var f=1;f<t.lens.length-1;++f){if(t.l-r!=t.lens[f])throw new Error("TxO: bad continue record");var p=t[t.l],v=Uo(t,t.lens[f+1]-t.lens[f]-1);if(i+=v,i.length>=(p?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function bD(t,e){var n=dh(t);t.l+=16;var r=F3(t,e-24);return[n,r]}function ND(t,e){t.read_shift(2);var n=dh(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Gr,""),[n,r]}function ID(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=NE[n]||n,n=t.read_shift(2),e[1]=NE[n]||n,e}function RD(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ZA(t));return n}function kD(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ZA(t));return n}function DD(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function iw(t,e,n){if(!n.cellStyles)return Mr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),l=t.read_shift(r),c=t.read_shift(r),d=t.read_shift(2);r==2&&(t.l+=2);var f={s:i,e:s,w:l,ixfe:c,flags:d};return(n.biff>=5||!n.biff)&&(f.level=d>>8&7),f}function MD(t,e){var n={};return e<32||(t.l+=16,n.header=Nr(t),n.footer=Nr(t),t.l+=2),n}function FD(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var PD=Ta,OD=WA,LD=gf;function UD(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function VD(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Ta(t);++t.l;var i=Jo(t,e-7,n);return r.t="str",r.val=i,r}function BD(t){var e=Ta(t);++t.l;var n=Nr(t);return e.t="n",e.val=n,e}function HD(t){var e=Ta(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function GD(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function zD(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function qD(t,e,n){var r=t.l+e,i=Ta(t),s=t.read_shift(2),l=Uo(t,s,n);return t.l=r,i.t="str",i.val=l,i}var jD=[2,3,48,49,131,139,140,245],BE=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=cv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,d){var f=[],p=js(1);switch(d.type){case"base64":p=Yi(pi(c));break;case"binary":p=Yi(c);break;case"buffer":case"array":p=c;break}mr(p,0);var v=p.read_shift(1),y=!!(v&136),S=!1,A=!1;switch(v){case 2:break;case 3:break;case 48:S=!0,y=!0;break;case 49:S=!0,y=!0;break;case 131:break;case 139:break;case 140:A=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var w=0,b=521;v==2&&(w=p.read_shift(2)),p.l+=3,v!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),v!=2&&(b=p.read_shift(2));var L=p.read_shift(2),H=d.codepage||1252;v!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(H=t[p[p.l]]),p.l+=1,p.l+=2),A&&(p.l+=36);for(var F=[],z={},B=Math.min(p.length,v==2?521:b-10-(S?264:0)),j=A?32:11;p.l<B&&p[p.l]!=13;)switch(z={},z.name=Yu.utils.decode(H,p.slice(p.l,p.l+j)).replace(/[\u0000\r\n].*$/g,""),p.l+=j,z.type=String.fromCharCode(p.read_shift(1)),v!=2&&!A&&(z.offset=p.read_shift(4)),z.len=p.read_shift(1),v==2&&(z.offset=p.read_shift(2)),z.dec=p.read_shift(1),z.name.length&&F.push(z),v!=2&&(p.l+=A?13:14),z.type){case"B":(!S||z.len!=8)&&d.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+z.type)}if(p[p.l]!==13&&(p.l=b-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=b;var I=0,N=0;for(f[0]=[],N=0;N!=F.length;++N)f[0][N]=F[N].name;for(;w-- >0;){if(p[p.l]===42){p.l+=L;continue}for(++p.l,f[++I]=[],N=0,N=0;N!=F.length;++N){var C=p.slice(p.l,p.l+F[N].len);p.l+=F[N].len,mr(C,0);var P=Yu.utils.decode(H,C);switch(F[N].type){case"C":P.trim().length&&(f[I][N]=P.replace(/\s+$/,""));break;case"D":P.length===8?f[I][N]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):f[I][N]=P;break;case"F":f[I][N]=parseFloat(P.trim());break;case"+":case"I":f[I][N]=A?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":f[I][N]=!0;break;case"N":case"F":f[I][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));f[I][N]="##MEMO##"+(A?parseInt(P.trim(),10):C.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(f[I][N]=+P||0);break;case"@":f[I][N]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":f[I][N]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":f[I][N]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[I][N]=-C.read_shift(-8,"f");break;case"B":if(S&&F[N].len==8){f[I][N]=C.read_shift(8,"f");break}case"G":case"P":C.l+=F[N].len;break;case"0":if(F[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+F[N].type)}}}if(v!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=F,f}function r(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var p=fc(n(c,f),f);return p["!cols"]=f.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete f.DBF,p}function i(c,d){try{return Ws(r(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var f=d||{};if(+f.codepage>=0&&Xi(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=ig(),v=hg(c,{header:1,raw:!0,cellDates:!0}),y=v[0],S=v.slice(1),A=c["!cols"]||[],w=0,b=0,L=0,H=1;for(w=0;w<y.length;++w){if(((A[w]||{}).DBF||{}).name){y[w]=A[w].DBF.name,++L;continue}if(y[w]!=null){if(++L,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(b=0;b<1024;++b)if(y.indexOf(y[w]+"_"+b)==-1){y[w]+="_"+b;break}}}}var F=In(c["!ref"]),z=[],B=[],j=[];for(w=0;w<=F.e.c-F.s.c;++w){var I="",N="",C=0,P=[];for(b=0;b<S.length;++b)S[b][w]!=null&&P.push(S[b][w]);if(P.length==0||y[w]==null){z[w]="?";continue}for(b=0;b<P.length;++b){switch(typeof P[b]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=P[b]instanceof Date?"D":"C";break;default:N="C"}C=Math.max(C,String(P[b]).length),I=I&&I!=N?"C":N}C>250&&(C=250),N=((A[w]||{}).DBF||{}).type,N=="C"&&A[w].DBF.len>C&&(C=A[w].DBF.len),I=="B"&&N=="N"&&(I="N",j[w]=A[w].DBF.dec,C=A[w].DBF.len),B[w]=I=="C"||N=="N"?C:s[I]||0,H+=B[w],z[w]=I}var D=p.next(32);for(D.write_shift(4,318902576),D.write_shift(4,S.length),D.write_shift(2,296+32*L),D.write_shift(2,H),w=0;w<4;++w)D.write_shift(4,0);for(D.write_shift(4,0|(+e[rA]||3)<<8),w=0,b=0;w<y.length;++w)if(y[w]!=null){var k=p.next(32),U=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,U,"sbcs"),k.write_shift(1,z[w]=="?"?"C":z[w],"sbcs"),k.write_shift(4,b),k.write_shift(1,B[w]||s[z[w]]||0),k.write_shift(1,j[w]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),b+=B[w]||s[z[w]]||0}var Ee=p.next(264);for(Ee.write_shift(4,13),w=0;w<65;++w)Ee.write_shift(4,0);for(w=0;w<S.length;++w){var Se=p.next(H);for(Se.write_shift(1,0),b=0;b<y.length;++b)if(y[b]!=null)switch(z[b]){case"L":Se.write_shift(1,S[w][b]==null?63:S[w][b]?84:70);break;case"B":Se.write_shift(8,S[w][b]||0,"f");break;case"N":var ae="0";for(typeof S[w][b]=="number"&&(ae=S[w][b].toFixed(j[b]||0)),L=0;L<B[b]-ae.length;++L)Se.write_shift(1,32);Se.write_shift(1,ae,"sbcs");break;case"D":S[w][b]?(Se.write_shift(4,("0000"+S[w][b].getFullYear()).slice(-4),"sbcs"),Se.write_shift(2,("00"+(S[w][b].getMonth()+1)).slice(-2),"sbcs"),Se.write_shift(2,("00"+S[w][b].getDate()).slice(-2),"sbcs")):Se.write_shift(8,"00000000","sbcs");break;case"C":var le=String(S[w][b]!=null?S[w][b]:"").slice(0,B[b]);for(Se.write_shift(1,le,"sbcs"),L=0;L<B[b]-le.length;++L)Se.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:r,from_sheet:l}})(),$D=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+xa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(y,S){var A=t[S];return typeof A=="number"?nE(A):A},r=function(y,S,A){var w=S.charCodeAt(0)-32<<4|A.charCodeAt(0)-48;return w==59?y:nE(w)};t["|"]=254;function i(y,S){switch(S.type){case"base64":return s(pi(y),S);case"binary":return s(y,S);case"buffer":return s(Mt&&Buffer.isBuffer(y)?y.toString("binary"):jo(y),S);case"array":return s(Lo(y),S)}throw new Error("Unrecognized type "+S.type)}function s(y,S){var A=y.split(/[\n\r]+/),w=-1,b=-1,L=0,H=0,F=[],z=[],B=null,j={},I=[],N=[],C=[],P=0,D;for(+S.codepage>=0&&Xi(+S.codepage);L!==A.length;++L){P=0;var k=A[L].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=k.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),Ee=U[0],Se;if(k.length>0)switch(Ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&z.push(k.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,le=!1,Re=!1,ie=!1,Fe=-1,W=-1;for(H=1;H<U.length;++H)switch(U[H].charAt(0)){case"A":break;case"X":b=parseInt(U[H].slice(1))-1,le=!0;break;case"Y":for(w=parseInt(U[H].slice(1))-1,le||(b=0),D=F.length;D<=w;++D)F[D]=[];break;case"K":Se=U[H].slice(1),Se.charAt(0)==='"'?Se=Se.slice(1,Se.length-1):Se==="TRUE"?Se=!0:Se==="FALSE"?Se=!1:isNaN(Zi(Se))?isNaN(nc(Se).getDate())||(Se=ar(Se)):(Se=Zi(Se),B!==null&&cc(B)&&(Se=fh(Se))),ae=!0;break;case"E":ie=!0;var V=Kl(U[H].slice(1),{r:w,c:b});F[w][b]=[F[w][b],V];break;case"S":Re=!0,F[w][b]=[F[w][b],"S5S"];break;case"G":break;case"R":Fe=parseInt(U[H].slice(1))-1;break;case"C":W=parseInt(U[H].slice(1))-1;break;default:if(S&&S.WTF)throw new Error("SYLK bad record "+k)}if(ae&&(F[w][b]&&F[w][b].length==2?F[w][b][0]=Se:F[w][b]=Se,B=null),Re){if(ie)throw new Error("SYLK shared formula cannot have own formula");var X=Fe>-1&&F[Fe][W];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");F[w][b][1]=pw(X[1],{r:w-Fe,c:b-W})}break;case"F":var Q=0;for(H=1;H<U.length;++H)switch(U[H].charAt(0)){case"X":b=parseInt(U[H].slice(1))-1,++Q;break;case"Y":for(w=parseInt(U[H].slice(1))-1,D=F.length;D<=w;++D)F[D]=[];break;case"M":P=parseInt(U[H].slice(1))/20;break;case"F":break;case"G":break;case"P":B=z[parseInt(U[H].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=U[H].slice(1).split(" "),D=parseInt(C[0],10);D<=parseInt(C[1],10);++D)P=parseInt(C[2],10),N[D-1]=P===0?{hidden:!0}:{wch:P},rc(N[D-1]);break;case"C":b=parseInt(U[H].slice(1))-1,N[b]||(N[b]={});break;case"R":w=parseInt(U[H].slice(1))-1,I[w]||(I[w]={}),P>0?(I[w].hpt=P,I[w].hpx=Zu(P)):P===0&&(I[w].hidden=!0);break;default:if(S&&S.WTF)throw new Error("SYLK bad record "+k)}Q<1&&(B=null);break;default:if(S&&S.WTF)throw new Error("SYLK bad record "+k)}}return I.length>0&&(j["!rows"]=I),N.length>0&&(j["!cols"]=N),S&&S.sheetRows&&(F=F.slice(0,S.sheetRows)),[F,j]}function l(y,S){var A=i(y,S),w=A[0],b=A[1],L=fc(w,S);return xa(b).forEach(function(H){L[H]=b[H]}),L}function c(y,S){return Ws(l(y,S),S)}function d(y,S,A,w){var b="C;Y"+(A+1)+";X"+(w+1)+";K";switch(y.t){case"n":b+=y.v||0,y.f&&!y.F&&(b+=";E"+D6(y.f,{r:A,c:w}));break;case"b":b+=y.v?"TRUE":"FALSE";break;case"e":b+=y.w||y.v;break;case"d":b+='"'+(y.w||y.v)+'"';break;case"s":b+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function f(y,S){S.forEach(function(A,w){var b="F;W"+(w+1)+" "+(w+1)+" ";A.hidden?b+="0":(typeof A.width=="number"&&!A.wpx&&(A.wpx=F0(A.width)),typeof A.wpx=="number"&&!A.wch&&(A.wch=P0(A.wpx)),typeof A.wch=="number"&&(b+=Math.round(A.wch))),b.charAt(b.length-1)!=" "&&y.push(b)})}function p(y,S){S.forEach(function(A,w){var b="F;";A.hidden?b+="M0;":A.hpt?b+="M"+20*A.hpt+";":A.hpx&&(b+="M"+20*fw(A.hpx)+";"),b.length>2&&y.push(b+"R"+(w+1))})}function v(y,S){var A=["ID;PWXL;N;E"],w=[],b=In(y["!ref"]),L,H=Array.isArray(y),F=`\r
`;A.push("P;PGeneral"),A.push("F;P0;DG0G8;M255"),y["!cols"]&&f(A,y["!cols"]),y["!rows"]&&p(A,y["!rows"]),A.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var z=b.s.r;z<=b.e.r;++z)for(var B=b.s.c;B<=b.e.c;++B){var j=mt({r:z,c:B});L=H?(y[z]||[])[B]:y[j],!(!L||L.v==null&&(!L.f||L.F))&&w.push(d(L,y,z,B))}return A.join(F)+F+w.join(F)+F+"E"+F}return{to_workbook:c,to_sheet:l,from_sheet:v}})(),YD=(function(){function t(s,l){switch(l.type){case"base64":return e(pi(s),l);case"binary":return e(s,l);case"buffer":return e(Mt&&Buffer.isBuffer(s)?s.toString("binary"):jo(s),l);case"array":return e(Lo(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var c=s.split(`
`),d=-1,f=-1,p=0,v=[];p!==c.length;++p){if(c[p].trim()==="BOT"){v[++d]=[],f=0;continue}if(!(d<0)){var y=c[p].trim().split(","),S=y[0],A=y[1];++p;for(var w=c[p]||"";(w.match(/["]/g)||[]).length&1&&p<c.length-1;)w+=`
`+c[++p];switch(w=w.trim(),+S){case-1:if(w==="BOT"){v[++d]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?v[d][f]=!0:w==="FALSE"?v[d][f]=!1:isNaN(Zi(A))?isNaN(nc(A).getDate())?v[d][f]=A:v[d][f]=ar(A):v[d][f]=Zi(A),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),v[d][f++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function n(s,l){return fc(t(s,l),l)}function r(s,l){return Ws(n(s,l),l)}var i=(function(){var s=function(d,f,p,v,y){d.push(f),d.push(p+","+v),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,f,p,v){d.push(f+","+p),d.push(f==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(d){var f=[],p=In(d["!ref"]),v,y=Array.isArray(d);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,p.e.r-p.s.r+1,""),s(f,"TUPLES",0,p.e.c-p.s.c+1,""),s(f,"DATA",0,0,"");for(var S=p.s.r;S<=p.e.r;++S){l(f,-1,0,"BOT");for(var A=p.s.c;A<=p.e.c;++A){var w=mt({r:S,c:A});if(v=y?(d[S]||[])[A]:d[w],!v){l(f,1,0,"");continue}switch(v.t){case"n":var b=v.w;!b&&v.v!=null&&(b=v.v),b==null?v.f&&!v.F?l(f,1,0,"="+v.f):l(f,1,0,""):l(f,0,b,"V");break;case"b":l(f,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Ri(v.z||yt[14],zr(ar(v.v)))),l(f,0,v.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var L=`\r
`,H=f.join(L);return H}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),KD=(function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(v,y){for(var S=v.split(`
`),A=-1,w=-1,b=0,L=[];b!==S.length;++b){var H=S[b].trim().split(":");if(H[0]==="cell"){var F=Hr(H[1]);if(L.length<=F.r)for(A=L.length;A<=F.r;++A)L[A]||(L[A]=[]);switch(A=F.r,w=F.c,H[2]){case"t":L[A][w]=t(H[3]);break;case"v":L[A][w]=+H[3];break;case"vtf":var z=H[H.length-1];case"vtc":switch(H[3]){case"nl":L[A][w]=!!+H[4];break;default:L[A][w]=+H[4];break}H[2]=="vtf"&&(L[A][w]=[L[A][w],z])}}}return y&&y.sheetRows&&(L=L.slice(0,y.sheetRows)),L}function r(v,y){return fc(n(v,y),y)}function i(v,y){return Ws(r(v,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(v){if(!v||!v["!ref"])return"";for(var y=[],S=[],A,w="",b=uc(v["!ref"]),L=Array.isArray(v),H=b.s.r;H<=b.e.r;++H)for(var F=b.s.c;F<=b.e.c;++F)if(w=mt({r:H,c:F}),A=L?(v[H]||[])[F]:v[w],!(!A||A.v==null||A.t==="z")){switch(S=["cell",w,"t"],A.t){case"s":case"str":S.push(e(A.v));break;case"n":A.f?(S[2]="vtf",S[3]="n",S[4]=A.v,S[5]=e(A.f)):(S[2]="v",S[3]=A.v);break;case"b":S[2]="vt"+(A.f?"f":"c"),S[3]="nl",S[4]=A.v?"1":"0",S[5]=e(A.f||(A.v?"TRUE":"FALSE"));break;case"d":var z=zr(ar(A.v));S[2]="vtc",S[3]="nd",S[4]=""+z,S[5]=A.w||Ri(A.z||yt[14],z);break;case"e":continue}y.push(S.join(":"))}return y.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(v){return[s,l,c,l,f(v),d].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:p}})(),Wu=(function(){function t(p,v,y,S,A){A.raw?v[y][S]=p:p===""||(p==="TRUE"?v[y][S]=!0:p==="FALSE"?v[y][S]=!1:isNaN(Zi(p))?isNaN(nc(p).getDate())?v[y][S]=p:v[y][S]=ar(p):v[y][S]=Zi(p))}function e(p,v){var y=v||{},S=[];if(!p||p.length===0)return S;for(var A=p.split(/[\r\n]/),w=A.length-1;w>=0&&A[w].length===0;)--w;for(var b=10,L=0,H=0;H<=w;++H)L=A[H].indexOf(" "),L==-1?L=A[H].length:L++,b=Math.max(b,L);for(H=0;H<=w;++H){S[H]=[];var F=0;for(t(A[H].slice(0,b).trim(),S,H,F,y),F=1;F<=(A[H].length-b)/10+1;++F)t(A[H].slice(b+(F-1)*10,b+F*10).trim(),S,H,F,y)}return y.sheetRows&&(S=S.slice(0,y.sheetRows)),S}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(p){for(var v={},y=!1,S=0,A=0;S<p.length;++S)(A=p.charCodeAt(S))==34?y=!y:!y&&A in n&&(v[A]=(v[A]||0)+1);A=[];for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&A.push([v[S],S]);if(!A.length){v=r;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&A.push([v[S],S])}return A.sort(function(w,b){return w[0]-b[0]||r[w[1]]-r[b[1]]}),n[A.pop()[1]]||44}function s(p,v){var y=v||{},S="",A=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(S=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(S=p.charAt(4),p=p.slice(6)):S=i(p.slice(0,1024)):y&&y.FS?S=y.FS:S=i(p.slice(0,1024));var b=0,L=0,H=0,F=0,z=0,B=S.charCodeAt(0),j=!1,I=0,N=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?ak(y.dateNF):null;function P(){var D=p.slice(F,z),k={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)k.t="z";else if(y.raw)k.t="s",k.v=D;else if(D.trim().length===0)k.t="s",k.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(k.t="s",k.v=D.slice(2,-1).replace(/""/g,'"')):F6(D)?(k.t="n",k.f=D.slice(1)):(k.t="s",k.v=D);else if(D=="TRUE")k.t="b",k.v=!0;else if(D=="FALSE")k.t="b",k.v=!1;else if(!isNaN(H=Zi(D)))k.t="n",y.cellText!==!1&&(k.w=D),k.v=H;else if(!isNaN(nc(D).getDate())||C&&D.match(C)){k.z=y.dateNF||yt[14];var U=0;C&&D.match(C)&&(D=sk(D,y.dateNF,D.match(C)||[]),U=1),y.cellDates?(k.t="d",k.v=ar(D,U)):(k.t="n",k.v=zr(ar(D,U))),y.cellText!==!1&&(k.w=Ri(k.z,k.v instanceof Date?zr(k.v):k.v)),y.cellNF||delete k.z}else k.t="s",k.v=D;if(k.t=="z"||(y.dense?(A[b]||(A[b]=[]),A[b][L]=k):A[mt({c:L,r:b})]=k),F=z+1,N=p.charCodeAt(F),w.e.c<L&&(w.e.c=L),w.e.r<b&&(w.e.r=b),I==B)++L;else if(L=0,++b,y.sheetRows&&y.sheetRows<=b)return!0}e:for(;z<p.length;++z)switch(I=p.charCodeAt(z)){case 34:N===34&&(j=!j);break;case B:case 10:case 13:if(!j&&P())break e;break}return z-F>0&&P(),A["!ref"]=Ut(w),A}function l(p,v){return!(v&&v.PRN)||v.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,v):fc(e(p,v),v)}function c(p,v){var y="",S=v.type=="string"?[0,0,0,0]:Nv(p,v);switch(v.type){case"base64":y=pi(p);break;case"binary":y=p;break;case"buffer":v.codepage==65001?y=p.toString("utf8"):v.codepage&&typeof Yu<"u"||(y=Mt&&Buffer.isBuffer(p)?p.toString("binary"):jo(p));break;case"array":y=Lo(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+v.type)}return S[0]==239&&S[1]==187&&S[2]==191?y=fn(y.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?y=fn(y):v.type=="binary"&&typeof Yu<"u",y.slice(0,19)=="socialcalc:version:"?KD.to_sheet(v.type=="string"?y:fn(y),v):l(y,v)}function d(p,v){return Ws(c(p,v),v)}function f(p){for(var v=[],y=In(p["!ref"]),S,A=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var b=[],L=y.s.c;L<=y.e.c;++L){var H=mt({r:w,c:L});if(S=A?(p[w]||[])[L]:p[H],!S||S.v==null){b.push("          ");continue}for(var F=(S.w||(Xa(S),S.w)||"").slice(0,10);F.length<10;)F+=" ";b.push(F+(L===0?" ":""))}v.push(b.join(""))}return v.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}})();function JD(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=$D.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Wu.to_workbook(t,e)}}var Mu=(function(){function t(V,X,Q){if(V){mr(V,V.l||0);for(var te=Q.Enum||Fe;V.l<V.length;){var ce=V.read_shift(2),be=te[ce]||te[65535],Ce=V.read_shift(2),we=V.l+Ce,ke=be.f&&be.f(V,Ce,Q);if(V.l=we,X(ke,be,ce))return}}}function e(V,X){switch(X.type){case"base64":return n(Yi(pi(V)),X);case"binary":return n(Yi(V),X);case"buffer":case"array":return n(V,X)}throw"Unsupported type "+X.type}function n(V,X){if(!V)return V;var Q=X||{},te=Q.dense?[]:{},ce="Sheet1",be="",Ce=0,we={},ke=[],$e=[],ne={s:{r:0,c:0},e:{r:0,c:0}},rt=Q.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)Q.Enum=Fe,t(V,function(Ue,tt,nt){switch(nt){case 0:Q.vers=Ue,Ue>=4096&&(Q.qpro=!0);break;case 6:ne=Ue;break;case 204:Ue&&(be=Ue);break;case 222:be=Ue;break;case 15:case 51:Q.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:nt==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=Q.dateNF||yt[14],Q.cellDates&&(Ue[1].t="d",Ue[1].v=fh(Ue[1].v))),Q.qpro&&Ue[3]>Ce&&(te["!ref"]=Ut(ne),we[ce]=te,ke.push(ce),te=Q.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Ce=Ue[3],ce=be||"Sheet"+(Ce+1),be="");var lt=Q.dense?(te[Ue[0].r]||[])[Ue[0].c]:te[mt(Ue[0])];if(lt){lt.t=Ue[1].t,lt.v=Ue[1].v,Ue[1].z!=null&&(lt.z=Ue[1].z),Ue[1].f!=null&&(lt.f=Ue[1].f);break}Q.dense?(te[Ue[0].r]||(te[Ue[0].r]=[]),te[Ue[0].r][Ue[0].c]=Ue[1]):te[mt(Ue[0])]=Ue[1];break}},Q);else if(V[2]==26||V[2]==14)Q.Enum=W,V[2]==14&&(Q.qpro=!0,V.l=0),t(V,function(Ue,tt,nt){switch(nt){case 204:ce=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Ce&&(te["!ref"]=Ut(ne),we[ce]=te,ke.push(ce),te=Q.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Ce=Ue[3],ce="Sheet"+(Ce+1)),rt>0&&Ue[0].r>=rt)break;Q.dense?(te[Ue[0].r]||(te[Ue[0].r]=[]),te[Ue[0].r][Ue[0].c]=Ue[1]):te[mt(Ue[0])]=Ue[1],ne.e.c<Ue[0].c&&(ne.e.c=Ue[0].c),ne.e.r<Ue[0].r&&(ne.e.r=Ue[0].r);break;case 27:Ue[14e3]&&($e[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:$e[Ue[0]]=Ue[1],Ue[0]==Ce&&(ce=Ue[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(te["!ref"]=Ut(ne),we[be||ce]=te,ke.push(be||ce),!$e.length)return{SheetNames:ke,Sheets:we};for(var Je={},Xe=[],ze=0;ze<$e.length;++ze)we[ke[ze]]?(Xe.push($e[ze]||ke[ze]),Je[$e[ze]]=we[$e[ze]]||we[ke[ze]]):(Xe.push($e[ze]),Je[$e[ze]]={"!ref":"A1"});return{SheetNames:Xe,Sheets:Je}}function r(V,X){var Q=X||{};if(+Q.codepage>=0&&Xi(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var te=ig(),ce=In(V["!ref"]),be=Array.isArray(V),Ce=[];ji(te,0,s(1030)),ji(te,6,d(ce));for(var we=Math.min(ce.e.r,8191),ke=ce.s.r;ke<=we;++ke)for(var $e=xr(ke),ne=ce.s.c;ne<=ce.e.c;++ne){ke===ce.s.r&&(Ce[ne]=Qn(ne));var rt=Ce[ne]+$e,Je=be?(V[ke]||[])[ne]:V[rt];if(!(!Je||Je.t=="z"))if(Je.t=="n")(Je.v|0)==Je.v&&Je.v>=-32768&&Je.v<=32767?ji(te,13,S(ke,ne,Je.v)):ji(te,14,w(ke,ne,Je.v));else{var Xe=Xa(Je);ji(te,15,v(ke,ne,Xe.slice(0,239)))}}return ji(te,1),te.end()}function i(V,X){var Q=X||{};if(+Q.codepage>=0&&Xi(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var te=ig();ji(te,0,l(V));for(var ce=0,be=0;ce<V.SheetNames.length;++ce)(V.Sheets[V.SheetNames[ce]]||{})["!ref"]&&ji(te,27,ie(V.SheetNames[ce],be++));var Ce=0;for(ce=0;ce<V.SheetNames.length;++ce){var we=V.Sheets[V.SheetNames[ce]];if(!(!we||!we["!ref"])){for(var ke=In(we["!ref"]),$e=Array.isArray(we),ne=[],rt=Math.min(ke.e.r,8191),Je=ke.s.r;Je<=rt;++Je)for(var Xe=xr(Je),ze=ke.s.c;ze<=ke.e.c;++ze){Je===ke.s.r&&(ne[ze]=Qn(ze));var Ue=ne[ze]+Xe,tt=$e?(we[Je]||[])[ze]:we[Ue];if(!(!tt||tt.t=="z"))if(tt.t=="n")ji(te,23,P(Je,ze,Ce,tt.v));else{var nt=Xa(tt);ji(te,22,I(Je,ze,Ce,nt.slice(0,239)))}}++Ce}}return ji(te,1),te.end()}function s(V){var X=Wn(2);return X.write_shift(2,V),X}function l(V){var X=Wn(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var Q=0,te=0,ce=0,be=0;be<V.SheetNames.length;++be){var Ce=V.SheetNames[be],we=V.Sheets[Ce];if(!(!we||!we["!ref"])){++ce;var ke=uc(we["!ref"]);Q<ke.e.r&&(Q=ke.e.r),te<ke.e.c&&(te=ke.e.c)}}return Q>8191&&(Q=8191),X.write_shift(2,Q),X.write_shift(1,ce),X.write_shift(1,te),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function c(V,X,Q){var te={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&Q.qpro?(te.s.c=V.read_shift(1),V.l++,te.s.r=V.read_shift(2),te.e.c=V.read_shift(1),V.l++,te.e.r=V.read_shift(2),te):(te.s.c=V.read_shift(2),te.s.r=V.read_shift(2),X==12&&Q.qpro&&(V.l+=2),te.e.c=V.read_shift(2),te.e.r=V.read_shift(2),X==12&&Q.qpro&&(V.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function d(V){var X=Wn(8);return X.write_shift(2,V.s.c),X.write_shift(2,V.s.r),X.write_shift(2,V.e.c),X.write_shift(2,V.e.r),X}function f(V,X,Q){var te=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(te[0].c=V.read_shift(1),te[3]=V.read_shift(1),te[0].r=V.read_shift(2),V.l+=2):(te[2]=V.read_shift(1),te[0].c=V.read_shift(2),te[0].r=V.read_shift(2)),te}function p(V,X,Q){var te=V.l+X,ce=f(V,X,Q);if(ce[1].t="s",Q.vers==20768){V.l++;var be=V.read_shift(1);return ce[1].v=V.read_shift(be,"utf8"),ce}return Q.qpro&&V.l++,ce[1].v=V.read_shift(te-V.l,"cstr"),ce}function v(V,X,Q){var te=Wn(7+Q.length);te.write_shift(1,255),te.write_shift(2,X),te.write_shift(2,V),te.write_shift(1,39);for(var ce=0;ce<te.length;++ce){var be=Q.charCodeAt(ce);te.write_shift(1,be>=128?95:be)}return te.write_shift(1,0),te}function y(V,X,Q){var te=f(V,X,Q);return te[1].v=V.read_shift(2,"i"),te}function S(V,X,Q){var te=Wn(7);return te.write_shift(1,255),te.write_shift(2,X),te.write_shift(2,V),te.write_shift(2,Q,"i"),te}function A(V,X,Q){var te=f(V,X,Q);return te[1].v=V.read_shift(8,"f"),te}function w(V,X,Q){var te=Wn(13);return te.write_shift(1,255),te.write_shift(2,X),te.write_shift(2,V),te.write_shift(8,Q,"f"),te}function b(V,X,Q){var te=V.l+X,ce=f(V,X,Q);if(ce[1].v=V.read_shift(8,"f"),Q.qpro)V.l=te;else{var be=V.read_shift(2);z(V.slice(V.l,V.l+be),ce),V.l+=be}return ce}function L(V,X,Q){var te=X&32768;return X&=-32769,X=(te?V:0)+(X>=8192?X-16384:X),(te?"":"$")+(Q?Qn(X):xr(X))}var H={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},F=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function z(V,X){mr(V,0);for(var Q=[],te=0,ce="",be="",Ce="",we="";V.l<V.length;){var ke=V[V.l++];switch(ke){case 0:Q.push(V.read_shift(8,"f"));break;case 1:be=L(X[0].c,V.read_shift(2),!0),ce=L(X[0].r,V.read_shift(2),!1),Q.push(be+ce);break;case 2:{var $e=L(X[0].c,V.read_shift(2),!0),ne=L(X[0].r,V.read_shift(2),!1);be=L(X[0].c,V.read_shift(2),!0),ce=L(X[0].r,V.read_shift(2),!1),Q.push($e+ne+":"+be+ce)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(V.read_shift(2));break;case 6:{for(var rt="";ke=V[V.l++];)rt+=String.fromCharCode(ke);Q.push('"'+rt.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:we=Q.pop(),Ce=Q.pop(),Q.push(["AND","OR"][ke-20]+"("+Ce+","+we+")");break;default:if(ke<32&&F[ke])we=Q.pop(),Ce=Q.pop(),Q.push(Ce+F[ke]+we);else if(H[ke]){if(te=H[ke][1],te==69&&(te=V[V.l++]),te>Q.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+Q.join("|")+"|");return}var Je=Q.slice(-te);Q.length-=te,Q.push(H[ke][0]+"("+Je.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}Q.length==1?X[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function B(V){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=V.read_shift(2),X[3]=V[V.l++],X[0].c=V[V.l++],X}function j(V,X){var Q=B(V);return Q[1].t="s",Q[1].v=V.read_shift(X-4,"cstr"),Q}function I(V,X,Q,te){var ce=Wn(6+te.length);ce.write_shift(2,V),ce.write_shift(1,Q),ce.write_shift(1,X),ce.write_shift(1,39);for(var be=0;be<te.length;++be){var Ce=te.charCodeAt(be);ce.write_shift(1,Ce>=128?95:Ce)}return ce.write_shift(1,0),ce}function N(V,X){var Q=B(V);Q[1].v=V.read_shift(2);var te=Q[1].v>>1;if(Q[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return Q[1].v=te,Q}function C(V,X){var Q=B(V),te=V.read_shift(4),ce=V.read_shift(4),be=V.read_shift(2);if(be==65535)return te===0&&ce===3221225472?(Q[1].t="e",Q[1].v=15):te===0&&ce===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var Ce=be&32768;return be=(be&32767)-16446,Q[1].v=(1-Ce*2)*(ce*Math.pow(2,be+32)+te*Math.pow(2,be)),Q}function P(V,X,Q,te){var ce=Wn(14);if(ce.write_shift(2,V),ce.write_shift(1,Q),ce.write_shift(1,X),te==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var be=0,Ce=0,we=0,ke=0;return te<0&&(be=1,te=-te),Ce=Math.log2(te)|0,te/=Math.pow(2,Ce-31),ke=te>>>0,(ke&2147483648)==0&&(te/=2,++Ce,ke=te>>>0),te-=ke,ke|=2147483648,ke>>>=0,te*=Math.pow(2,32),we=te>>>0,ce.write_shift(4,we),ce.write_shift(4,ke),Ce+=16383+(be?32768:0),ce.write_shift(2,Ce),ce}function D(V,X){var Q=C(V);return V.l+=X-14,Q}function k(V,X){var Q=B(V),te=V.read_shift(4);return Q[1].v=te>>6,Q}function U(V,X){var Q=B(V),te=V.read_shift(8,"f");return Q[1].v=te,Q}function Ee(V,X){var Q=U(V);return V.l+=X-10,Q}function Se(V,X){return V[V.l+X-1]==0?V.read_shift(X,"cstr"):""}function ae(V,X){var Q=V[V.l++];Q>X-1&&(Q=X-1);for(var te="";te.length<Q;)te+=String.fromCharCode(V[V.l++]);return te}function le(V,X,Q){if(!(!Q.qpro||X<21)){var te=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var ce=V.read_shift(X-21,"cstr");return[te,ce]}}function Re(V,X){for(var Q={},te=V.l+X;V.l<te;){var ce=V.read_shift(2);if(ce==14e3){for(Q[ce]=[0,""],Q[ce][0]=V.read_shift(2);V[V.l];)Q[ce][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return Q}function ie(V,X){var Q=Wn(5+V.length);Q.write_shift(2,14e3),Q.write_shift(2,X);for(var te=0;te<V.length;++te){var ce=V.charCodeAt(te);Q[Q.l++]=ce>127?95:ce}return Q[Q.l++]=0,Q}var Fe={0:{n:"BOF",f:Yn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:A},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Se},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:Ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Se},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function XD(t){var e={},n=t.match(Fr),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=dt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=iv[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var WD=(function(){var t=Ju("t"),e=Ju("rPr");function n(s){var l=s.match(t);if(!l)return{t:"s",v:""};var c={t:"s",v:Vt(l[1])},d=s.match(e);return d&&(c.s=XD(d[1])),c}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(r,"").split(i).map(n).filter(function(c){return c.v})}})(),QD=(function(){var e=/(\r\n|\n)/g;function n(i,s,l){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),l.push("</b>")),i.i&&(s.push("<i>"),l.push("</i>")),i.strike&&(s.push("<s>"),l.push("</s>"));var d=i.valign||"";return d=="superscript"||d=="super"?d="sup":d=="subscript"&&(d="sub"),d!=""&&(s.push("<"+d+">"),l.push("</"+d+">")),l.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),ZD=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,eM=/<(?:\w+:)?r>/,tM=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Ev(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Vt(fn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=fn(t),n&&(r.h=fv(r.t))):t.match(eM)&&(r.r=fn(t),r.t=Vt(fn((t.replace(tM,"").match(ZD)||[]).join("").replace(Fr,""))),n&&(r.h=QD(WD(r.r)))),r):{t:""}}var nM=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,rM=/<(?:\w+:)?(?:si|sstItem)>/g,iM=/<\/(?:\w+:)?(?:si|sstItem)>/;function aM(t,e){var n=[],r="";if(!t)return n;var i=t.match(nM);if(i){r=i[2].replace(rM,"").split(iM);for(var s=0;s!=r.length;++s){var l=Ev(r[s].trim(),e);l!=null&&(n[n.length]=l)}i=dt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function sM(t){return[t.read_shift(4),t.read_shift(4)]}function oM(t,e){var n=[],r=!1;return Za(t,function(s,l,c){switch(c){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(l.T,!r||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function aw(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function ja(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function lM(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=ja(t,4),e.U=ja(t,4),e.W=ja(t,4),e}function cM(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function uM(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(cM(t));return e}function fM(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function dM(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=ja(t,4),e.U=ja(t,4),e.W=ja(t,4),e}function hM(t){var e=dM(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function sw(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function ow(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function pM(t){var e=ja(t);switch(e.Minor){case 2:return[e.Minor,mM(t)];case 3:return[e.Minor,gM()];case 4:return[e.Minor,vM(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function mM(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=sw(t,n),i=ow(t,t.length-t.l);return{t:"Std",h:r,v:i}}function gM(){throw new Error("File is password-protected: ECMA-376 Extensible")}function vM(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Fr,function(s){var l=dt(s);switch(Ea(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){r[c]=l[c]});break;case"<dataIntegrity":r.encryptedHmacKey=l.encryptedHmacKey,r.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(l);break;default:throw l[0]}}),r}function xM(t,e){var n={},r=n.EncryptionVersionInfo=ja(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=sw(t,i),e-=i,n.EncryptionVerifier=ow(t,e),n}function yM(t){var e={},n=e.EncryptionVersionInfo=ja(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function _M(t){var e=0,n,r=aw(t),i=r.length+1,s,l,c,d,f;for(n=js(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)l=n[s],c=(e&16384)===0?0:1,d=e<<1&32767,f=c|d,e=f^l;return e^52811}var lw=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(l){return(l/2|l*128)&255},i=function(l,c){return r(l^c)},s=function(l){for(var c=e[l.length-1],d=104,f=l.length-1;f>=0;--f)for(var p=l[f],v=0;v!=7;++v)p&64&&(c^=n[d]),p*=2,--d;return c};return function(l){for(var c=aw(l),d=s(c),f=c.length,p=js(16),v=0;v!=16;++v)p[v]=0;var y,S,A;for((f&1)===1&&(y=d>>8,p[f]=i(t[0],y),--f,y=d&255,S=c[c.length-1],p[f]=i(S,y));f>0;)--f,y=d>>8,p[f]=i(c[f],y),--f,y=d&255,p[f]=i(c[f],y);for(f=15,A=15-c.length;A>0;)y=d>>8,p[f]=i(t[A],y),--f,--A,y=d&255,p[f]=i(c[f],y),--f,--A;return p}})(),EM=function(t,e,n,r,i){i||(i=e),r||(r=lw(t));var s,l;for(s=0;s!=e.length;++s)l=e[s],l^=r[n],l=(l>>5|l<<3)&255,i[s]=l,++n;return[i,n,r]},TM=function(t){var e=0,n=lw(t);return function(r){var i=EM("",r,e,n);return e=i[1],i[0]}};function SM(t,e,n,r){var i={key:Yn(t),verificationBytes:Yn(t)};return n.password&&(i.verifier=_M(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=TM(n.password)),i}function AM(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=yM(t):r.Data=xM(t,e),r}function wM(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?AM(t,e-2,r):SM(t,n.biff>=8?e:e-2,n,r),r}var CM=(function(){function t(i,s){switch(s.type){case"base64":return e(pi(i),s);case"binary":return e(i,s);case"buffer":return e(Mt&&Buffer.isBuffer(i)?i.toString("binary"):jo(i),s);case"array":return e(Lo(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},c=l.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,v){Array.isArray(c)&&(c[v]=[]);for(var y=/\\\w+\b/g,S=0,A,w=-1;A=y.exec(p);){switch(A[0]){case"\\cell":var b=p.slice(S,y.lastIndex-A[0].length);if(b[0]==" "&&(b=b.slice(1)),++w,b.length){var L={v:b,t:"s"};Array.isArray(c)?c[v][w]=L:c[mt({r:v,c:w})]=L}break}S=y.lastIndex}w>f.e.c&&(f.e.c=w)}),c["!ref"]=Ut(f),c}function n(i,s){return Ws(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],l=In(i["!ref"]),c,d=Array.isArray(i),f=l.s.r;f<=l.e.r;++f){s.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var v=mt({r:f,c:p});c=d?(i[f]||[])[p]:i[v],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Xa(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function bM(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Qu(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function NM(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),l=i-s;if(l===0)return[0,0,e];var c=0,d=0,f=i+s;switch(d=l/(f>1?2-f:f),i){case e:c=((n-r)/l+6)%6;break;case n:c=(r-e)/l+2;break;case r:c=(e-n)/l+4;break}return[c/6,d,f/2]}function IM(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,l=[s,s,s],c=6*e,d;if(n!==0)switch(c|0){case 0:case 6:d=i*c,l[0]+=i,l[1]+=d;break;case 1:d=i*(2-c),l[0]+=d,l[1]+=i;break;case 2:d=i*(c-2),l[1]+=i,l[2]+=d;break;case 3:d=i*(4-c),l[1]+=d,l[2]+=i;break;case 4:d=i*(c-4),l[2]+=i,l[0]+=d;break;case 5:d=i*(6-c),l[2]+=d,l[0]+=i;break}for(var f=0;f!=3;++f)l[f]=Math.round(l[f]*255);return l}function M0(t,e){if(e===0)return t;var n=NM(bM(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),Qu(IM(n))}var cw=6,RM=15,kM=1,Br=cw;function F0(t){return Math.floor((t+Math.round(128/Br)/256)*Br)}function P0(t){return Math.floor((t-5)/Br*100+.5)/100}function lg(t){return Math.round((t*Br+5)/Br*256)/256}function Mm(t){return lg(P0(F0(t)))}function Tv(t){var e=Math.abs(t-Mm(t)),n=Br;if(e>.005)for(Br=kM;Br<RM;++Br)Math.abs(t-Mm(t))<=e&&(e=Math.abs(t-Mm(t)),n=Br);Br=n}function rc(t){t.width?(t.wpx=F0(t.width),t.wch=P0(t.wpx),t.MDW=Br):t.wpx?(t.wch=P0(t.wpx),t.width=lg(t.wch),t.MDW=Br):typeof t.wch=="number"&&(t.width=lg(t.wch),t.wpx=F0(t.width),t.MDW=Br),t.customWidth&&delete t.customWidth}var DM=96,uw=DM;function fw(t){return t*96/uw}function Zu(t){return t*uw/96}var MM={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function FM(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Fr)||[]).forEach(function(l){var c=dt(l);switch(Ea(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=En(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=En(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function PM(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Fr)||[]).forEach(function(l){var c=dt(l);switch(Ea(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function OM(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Fr)||[]).forEach(function(l){var c=dt(l);switch(Ea(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=fn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?En(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?En(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?En(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?En(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?En(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?En(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?En(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=iv[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=En(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var d=ko[i.color.index];i.color.index==81&&(d=ko[1]),d||(d=ko[1]),i.color.rgb=d[0].toString(16)+d[1].toString(16)+d[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=M0(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function LM(t,e,n){e.NumberFmt=[];for(var r=xa(yt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=yt[r[i]];var s=t[0].match(Fr);if(s)for(i=0;i<s.length;++i){var l=dt(s[i]);switch(Ea(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Vt(fn(l.formatCode)),d=parseInt(l.numFmtId,10);if(e.NumberFmt[d]=c,d>0){if(d>392){for(d=392;d>60&&e.NumberFmt[d]!=null;--d);e.NumberFmt[d]=c}Ro(c,d)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var Wd=["numFmtId","fillId","fontId","borderId","xfId"],Qd=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function UM(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Fr)||[]).forEach(function(s){var l=dt(s),c=0;switch(Ea(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=l,delete r[0],c=0;c<Wd.length;++c)r[Wd[c]]&&(r[Wd[c]]=parseInt(r[Wd[c]],10));for(c=0;c<Qd.length;++c)r[Qd[c]]&&(r[Qd[c]]=En(r[Qd[c]]));if(e.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[c]){r.numFmtId=c;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var d={};l.vertical&&(d.vertical=l.vertical),l.horizontal&&(d.horizontal=l.horizontal),l.textRotation!=null&&(d.textRotation=l.textRotation),l.indent&&(d.indent=l.indent),l.wrapText&&(d.wrapText=En(l.wrapText)),r.alignment=d;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var VM=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,d,f){var p={};if(!c)return p;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var v;return(v=c.match(e))&&LM(v,p,f),(v=c.match(i))&&OM(v,p,d,f),(v=c.match(r))&&PM(v,p,d,f),(v=c.match(s))&&FM(v,p,d,f),(v=c.match(n))&&UM(v,p,f),p}})();function BM(t,e){var n=t.read_shift(2),r=Dr(t);return[n,r]}function HM(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=Wk(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(r.underline=l);var c=t.read_shift(1);c>0&&(r.family=c);var d=t.read_shift(1);switch(d>0&&(r.charset=d),t.l++,r.color=Xk(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Dr(t),r}var GM=Mr;function zM(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var qM=Mr;function jM(t,e,n){var r={};r.NumberFmt=[];for(var i in yt)r.NumberFmt[i]=yt[i];r.CellXf=[],r.Fonts=[];var s=[],l=!1;return Za(t,function(d,f,p){switch(p){case 44:r.NumberFmt[d[0]]=d[1],Ro(d[1],d[0]);break;case 43:r.Fonts.push(d),d.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(d.color.rgb=M0(e.themeElements.clrScheme[d.color.theme].rgb,d.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(d);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:s.push(p),l=!0;break;case 38:s.pop(),l=!1;break;default:if(f.T>0)s.push(p);else if(f.T<0)s.pop();else if(!l||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+p.toString(16))}}),r}var $M=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function YM(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Fr)||[]).forEach(function(i){var s=dt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[$M.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function KM(){}function JM(){}var XM=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,WM=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,QM=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZM(t,e,n){e.themeElements={};var r;[["clrScheme",XM,YM],["fontScheme",WM,KM],["fmtScheme",QM,JM]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var e6=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function dw(t,e){(!t||t.length===0)&&(t=t6());var n,r={};if(!(n=t.match(e6)))throw new Error("themeElements not found in theme");return ZM(n[0],r,e),r.raw=t,r}function t6(t,e){var n=[SA];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function n6(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var l;try{l=TA(s,{type:"array"})}catch{return}var c=hi(l,"theme/theme/theme1.xml",!0);if(c)return dw(c,n)}}function r6(t){return t.read_shift(4)}function i6(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=a6(t,4);break;case 2:e.xclrValue=QA(t);break;case 3:e.xclrValue=r6(t);break;case 4:t.l+=4;break}return t.l+=8,e}function a6(t,e){return Mr(t,e)}function s6(t,e){return Mr(t,e)}function o6(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=i6(t);break;case 6:r[1]=s6(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function l6(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(o6(t,n-t.l));return{ixfe:r,ext:s}}function c6(t,e){e.forEach(function(n){n[0]})}function u6(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Dr(t)}}function f6(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function d6(t){return t.l+=4,t.read_shift(4)!=0}function h6(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],l=!1,c=2;return Za(t,function(d,f,p){switch(p){case 335:r.Types.push({name:d.name});break;case 51:d.forEach(function(v){c==1?r.Cell.push({type:r.Types[v[0]-1].name,index:v[1]}):c==0&&r.Value.push({type:r.Types[v[0]-1].name,index:v[1]})});break;case 337:c=d?1:0;break;case 338:c=2;break;case 35:s.push(p),l=!0;break;case 36:s.pop(),l=!1;break;default:if(!f.T){if(!l||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}}),r}function p6(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,l;return t.replace(Fr,function(c){var d=dt(c);switch(Ea(d[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:d.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<r.Types.length;++f)r.Types[f].name==d.name&&(l=r.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[d.t-1].name,index:+d.v}):s==0&&r.Value.push({type:r.Types[d.t-1].name,index:+d.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+d.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+d[0]+" in metadata")}return c}),r}function m6(t){var e=[];if(!t)return e;var n=1;return(t.match(Fr)||[]).forEach(function(r){var i=dt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function g6(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=mt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function v6(t,e,n){var r=[];return Za(t,function(s,l,c){switch(c){case 63:r.push(s);break;default:if(!l.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function x6(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Za(t,function(c,d,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!d.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function y6(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function HE(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(l){var c=Hr(l.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[l.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[l.ref]=s;var d=In(t["!ref"]||"BDWGO1000001:A1");d.s.r>c.r&&(d.s.r=c.r),d.e.r<c.r&&(d.e.r=c.r),d.s.c>c.c&&(d.s.c=c.c),d.e.c<c.c&&(d.e.c=c.c);var f=Ut(d);f!==t["!ref"]&&(t["!ref"]=f)}s.c||(s.c=[]);var p={a:l.author,t:l.t,r:l.r,T:n};l.h&&(p.h=l.h);for(var v=s.c.length-1;v>=0;--v){if(!n&&s.c[v].T)return;n&&!s.c[v].T&&s.c.splice(v,1)}if(n&&r){for(v=0;v<r.length;++v)if(p.a==r[v].id){p.a=r[v].name||p.a;break}}s.c.push(p)})}function _6(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?comment[^>]*>/);if(c){var d=dt(c[0]),f={author:d.authorId&&n[d.authorId]||"sheetjsghost",ref:d.ref,guid:d.guid},p=Hr(d.ref);if(!(e.sheetRows&&e.sheetRows<=p.r)){var v=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),y=!!v&&!!v[1]&&Ev(v[1])||{r:"",t:"",h:""};f.r=y.r,y.r=="<t></t>"&&(y.t=y.h=""),f.t=(y.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=y.h),r.push(f)}}}}),r}function E6(t,e){var n=[],r=!1,i={},s=0;return t.replace(Fr,function(c,d){var f=dt(c);switch(Ea(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=d+c.length;break;case"</text>":i.t=t.slice(s,d).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return c}),n}function T6(t,e){var n=[],r=!1;return t.replace(Fr,function(s){var l=dt(s);switch(Ea(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s}),n}function S6(t){var e={};e.iauthor=t.read_shift(4);var n=Yo(t);return e.rfx=n.s,e.ref=mt(n.s),t.l+=16,e}var A6=Dr;function w6(t,e){var n=[],r=[],i={},s=!1;return Za(t,function(c,d,f){switch(f){case 632:r.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!d.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}var C6="application/vnd.ms-office.vbaProject";function b6(t){var e=Lt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Lt.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Lt.write(e)}function N6(){return{"!type":"dialog"}}function I6(){return{"!type":"dialog"}}function R6(){return{"!type":"macro"}}function k6(){return{"!type":"macro"}}var Kl=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,l){var c=!1,d=!1;s.length==0?d=!0:s.charAt(0)=="["&&(d=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return c?p+=e.c:--p,d?f+=e.r:--f,i+(c?"":"$")+Qn(p)+(d?"":"$")+xr(f)}return function(i,s){return e=s,i.replace(t,n)}})(),hw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,D6=(function(){return function(e,n){return e.replace(hw,function(r,i,s,l,c,d){var f=mv(l)-(s?0:n.c),p=pv(d)-(c?0:n.r),v=p==0?"":c?p+1:"["+p+"]",y=f==0?"":s?f+1:"["+f+"]";return i+"R"+v+"C"+y})}})();function pw(t,e){return t.replace(hw,function(n,r,i,s,l,c){return r+(i=="$"?i+s:Qn(mv(s)+e.c))+(l=="$"?l+c:xr(pv(c)+e.r))})}function M6(t,e,n){var r=uc(e),i=r.s,s=Hr(n),l={r:s.r-i.r,c:s.c-i.c};return pw(t,l)}function F6(t){return t.length!=1}function GE(t){return t.replace(/_xlfn\./g,"")}function qn(t){t.l+=1}function $s(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function mw(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return gw(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),l=$s(t),c=$s(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function gw(t){var e=$s(t),n=$s(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function P6(t,e,n){if(n.biff<8)return gw(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=$s(t),l=$s(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function vw(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return O6(t);var r=t.read_shift(n&&n.biff==12?4:2),i=$s(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function O6(t){var e=$s(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function L6(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function U6(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return V6(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:c}}function V6(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function B6(t,e,n){var r=(t[t.l++]&96)>>5,i=mw(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function H6(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var l=mw(t,s,n);return[r,i,l]}function G6(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function z6(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function q6(t,e,n){var r=(t[t.l++]&96)>>5,i=P6(t,e-1,n);return[r,i]}function j6(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function zE(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function $6(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function Y6(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function K6(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function J6(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function X6(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function xw(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function W6(t){return t.read_shift(2),xw(t)}function Q6(t){return t.read_shift(2),xw(t)}function Z6(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=vw(t,0,n);return[r,i]}function eF(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=U6(t,0,n);return[r,i]}function tF(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=vw(t,0,n);return[r,i,s]}function nF(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[r5[i],Ew[i],r]}function rF(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:iF(t);return[i,(s[0]===0?Ew:n5)[s[1]]]}function iF(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function aF(t,e,n){t.l+=n&&n.biff==2?3:4}function sF(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function oF(t){return t.l++,Ko[t.read_shift(1)]}function lF(t){return t.l++,t.read_shift(2)}function cF(t){return t.l++,t.read_shift(1)!==0}function uF(t){return t.l++,Nr(t)}function fF(t,e,n){return t.l++,mf(t,e-1,n)}function dF(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=On(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Ko[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Nr(t);break;case 2:n[1]=Jo(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function hF(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?Yo:dh)(t));return i}function pF(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var c=0;c!=i;++c)l[s][c]=dF(t,n.biff);return l}function mF(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function gF(t,e,n){if(n.biff==5)return vF(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function vF(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function xF(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function yF(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function _F(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function EF(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var TF=Mr,SF=Mr,AF=Mr;function vf(t,e,n){return t.l+=2,[L6(t)]}function Sv(t){return t.l+=6,[]}var wF=vf,CF=Sv,bF=Sv,NF=vf;function yw(t){return t.l+=2,[Yn(t),t.read_shift(2)&1]}var IF=vf,RF=yw,kF=Sv,DF=vf,MF=vf,FF=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function PF(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),l=FF[n>>2&31];return{ixti:e,coltype:n&3,rt:l,idx:r,c:i,C:s}}function OF(t){return t.l+=2,[t.read_shift(4)]}function LF(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function UF(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function VF(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function BF(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function HF(t){return t.l+=4,[0,0]}var qE={1:{n:"PtgExp",f:sF},2:{n:"PtgTbl",f:AF},3:{n:"PtgAdd",f:qn},4:{n:"PtgSub",f:qn},5:{n:"PtgMul",f:qn},6:{n:"PtgDiv",f:qn},7:{n:"PtgPower",f:qn},8:{n:"PtgConcat",f:qn},9:{n:"PtgLt",f:qn},10:{n:"PtgLe",f:qn},11:{n:"PtgEq",f:qn},12:{n:"PtgGe",f:qn},13:{n:"PtgGt",f:qn},14:{n:"PtgNe",f:qn},15:{n:"PtgIsect",f:qn},16:{n:"PtgUnion",f:qn},17:{n:"PtgRange",f:qn},18:{n:"PtgUplus",f:qn},19:{n:"PtgUminus",f:qn},20:{n:"PtgPercent",f:qn},21:{n:"PtgParen",f:qn},22:{n:"PtgMissArg",f:qn},23:{n:"PtgStr",f:fF},26:{n:"PtgSheet",f:LF},27:{n:"PtgEndSheet",f:UF},28:{n:"PtgErr",f:oF},29:{n:"PtgBool",f:cF},30:{n:"PtgInt",f:lF},31:{n:"PtgNum",f:uF},32:{n:"PtgArray",f:j6},33:{n:"PtgFunc",f:nF},34:{n:"PtgFuncVar",f:rF},35:{n:"PtgName",f:mF},36:{n:"PtgRef",f:Z6},37:{n:"PtgArea",f:B6},38:{n:"PtgMemArea",f:xF},39:{n:"PtgMemErr",f:TF},40:{n:"PtgMemNoMem",f:SF},41:{n:"PtgMemFunc",f:yF},42:{n:"PtgRefErr",f:_F},43:{n:"PtgAreaErr",f:G6},44:{n:"PtgRefN",f:eF},45:{n:"PtgAreaN",f:q6},46:{n:"PtgMemAreaN",f:VF},47:{n:"PtgMemNoMemN",f:BF},57:{n:"PtgNameX",f:gF},58:{n:"PtgRef3d",f:tF},59:{n:"PtgArea3d",f:H6},60:{n:"PtgRefErr3d",f:EF},61:{n:"PtgAreaErr3d",f:z6},255:{}},GF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zF={1:{n:"PtgElfLel",f:yw},2:{n:"PtgElfRw",f:DF},3:{n:"PtgElfCol",f:wF},6:{n:"PtgElfRwV",f:MF},7:{n:"PtgElfColV",f:NF},10:{n:"PtgElfRadical",f:IF},11:{n:"PtgElfRadicalS",f:kF},13:{n:"PtgElfColS",f:CF},15:{n:"PtgElfColSV",f:bF},16:{n:"PtgElfRadicalLel",f:RF},25:{n:"PtgList",f:PF},29:{n:"PtgSxName",f:OF},255:{}},qF={0:{n:"PtgAttrNoop",f:HF},1:{n:"PtgAttrSemi",f:X6},2:{n:"PtgAttrIf",f:K6},4:{n:"PtgAttrChoose",f:$6},8:{n:"PtgAttrGoto",f:Y6},16:{n:"PtgAttrSum",f:aF},32:{n:"PtgAttrBaxcel",f:zE},33:{n:"PtgAttrBaxcel",f:zE},64:{n:"PtgAttrSpace",f:W6},65:{n:"PtgAttrSpaceSemi",f:Q6},128:{n:"PtgAttrIfError",f:J6},255:{}};function xf(t,e,n,r){if(r.biff<8)return Mr(t,e);for(var i=t.l+e,s=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=pF(t,0,r),s.push(n[l][1]);break;case"PtgMemArea":n[l][2]=hF(t,n[l][1],r),s.push(n[l][2]);break;case"PtgExp":r&&r.biff==12&&(n[l][1][1]=t.read_shift(4),s.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return e=i-t.l,e!==0&&s.push(Mr(t,e)),s}function yf(t,e,n){for(var r=t.l+e,i,s,l=[];r!=t.l;)e=r-t.l,s=t[t.l],i=qE[s]||qE[GF[s]],(s===24||s===25)&&(i=(s===24?zF:qF)[t[t.l+1]]),!i||!i.f?Mr(t,e):l.push([i.n,i.f(t,e,n)]);return l}function jF(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var $F={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function YF(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function _w(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function jE(t,e,n){var r=_w(t,e,n);return r=="#REF"?r:YF(r,n)}function Cr(t,e,n,r,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},c=[],d,f,p,v=0,y=0,S,A="";if(!t[0]||!t[0][0])return"";for(var w=-1,b="",L=0,H=t[0].length;L<H;++L){var F=t[0][L];switch(F[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),w>=0){switch(t[0][w][1][0]){case 0:b=bn(" ",t[0][w][1][1]);break;case 1:b=bn("\r",t[0][w][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}f=f+b,w=-1}c.push(f+$F[F[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Iu(F[1][1],l,i),c.push(Ru(p,s));break;case"PtgRefN":p=n?Iu(F[1][1],n,i):F[1][1],c.push(Ru(p,s));break;case"PtgRef3d":v=F[1][1],p=Iu(F[1][2],l,i),A=jE(r,v,i),c.push(A+"!"+Ru(p,s));break;case"PtgFunc":case"PtgFuncVar":var z=F[1][0],B=F[1][1];z||(z=0),z&=127;var j=z==0?[]:c.slice(-z);c.length-=z,B==="User"&&(B=j.shift()),c.push(B+"("+j.join(",")+")");break;case"PtgBool":c.push(F[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(F[1]);break;case"PtgNum":c.push(String(F[1]));break;case"PtgStr":c.push('"'+F[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(F[1]);break;case"PtgAreaN":S=wE(F[1][1],n?{s:n}:l,i),c.push(km(S,i));break;case"PtgArea":S=wE(F[1][1],l,i),c.push(km(S,i));break;case"PtgArea3d":v=F[1][1],S=F[1][2],A=jE(r,v,i),c.push(A+"!"+km(S,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=F[1][2];var I=(r.names||[])[y-1]||(r[0]||[])[y],N=I?I.Name:"SH33TJSNAME"+String(y);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),c.push(N);break;case"PtgNameX":var C=F[1][1];y=F[1][2];var P;if(i.biff<=5)C<0&&(C=-C),r[C]&&(P=r[C][y]);else{var D="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][y]&&r[C][y].itab>0&&(D=r.SheetNames[r[C][y].itab-1]+"!"):D=r.SheetNames[y-1]+"!"),r[C]&&r[C][y])D+=r[C][y].Name;else if(r[0]&&r[0][y])D+=r[0][y].Name;else{var k=(_w(r,C,i)||"").split(";;");k[y-1]?D=k[y-1]:D+="SH33TJSERRX"}c.push(D);break}P||(P={Name:"SH33TJSERRY"}),c.push(P.Name);break;case"PtgParen":var U="(",Ee=")";if(w>=0){switch(b="",t[0][w][1][0]){case 2:U=bn(" ",t[0][w][1][1])+U;break;case 3:U=bn("\r",t[0][w][1][1])+U;break;case 4:Ee=bn(" ",t[0][w][1][1])+Ee;break;case 5:Ee=bn("\r",t[0][w][1][1])+Ee;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}c.push(U+c.pop()+Ee);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:F[1][1],r:F[1][0]};var Se={c:n.c,r:n.r};if(r.sharedf[mt(p)]){var ae=r.sharedf[mt(p)];c.push(Cr(ae,l,Se,r,i))}else{var le=!1;for(d=0;d!=r.arrayf.length;++d)if(f=r.arrayf[d],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){c.push(Cr(f[1],l,Se,r,i)),le=!0;break}le||c.push(F[1])}break;case"PtgArray":c.push("{"+jF(F[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=L;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+F[1].idx+"[#"+F[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(F));default:throw new Error("Unrecognized Formula Token: "+String(F))}var Re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&Re.indexOf(t[0][L][0])==-1){F=t[0][w];var ie=!0;switch(F[1][0]){case 4:ie=!1;case 0:b=bn(" ",F[1][1]);break;case 5:ie=!1;case 1:b=bn("\r",F[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+F[1][0])}c.push((ie?b:"")+c.pop()+(ie?"":b)),w=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function KF(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,l=t.read_shift(i);if(l==65535)return[[],Mr(t,e-2)];var c=yf(t,l,n);return e!==l+i&&(s=xf(t,e-l-i,c,n)),t.l=r,[c,s]}function JF(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,l=t.read_shift(i);if(l==65535)return[[],Mr(t,e-2)];var c=yf(t,l,n);return e!==l+i&&(s=xf(t,e-l-i,c,n)),t.l=r,[c,s]}function XF(t,e,n,r){var i=t.l+e,s=yf(t,r,n),l;return i!==t.l&&(l=xf(t,i-t.l,s,n)),[s,l]}function WF(t,e,n){var r=t.l+e,i,s=t.read_shift(2),l=yf(t,s,n);return s==65535?[[],Mr(t,e-2)]:(e!==s+2&&(i=xf(t,r-s-2,l,n)),[l,i])}function QF(t){var e;if(za(t,t.l+6)!==65535)return[Nr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Fm(t,e,n){var r=t.l+e,i=Ta(t);n.biff==2&&++t.l;var s=QF(t),l=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var c=JF(t,r-t.l,n);return{cell:i,val:s[0],formula:c,shared:l>>3&1,tt:s[1]}}function hh(t,e,n){var r=t.read_shift(4),i=yf(t,r,n),s=t.read_shift(4),l=s>0?xf(t,s,i,n):null;return[i,l]}var ZF=hh,ph=hh,e5=hh,t5=hh,n5={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ew={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},r5={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $E(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Pm(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Fu={},Jl={};function Pu(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Tw(t,e,n,r,i,s){try{r.cellNF&&(t.z=yt[e])}catch(c){if(r.WTF)throw c}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=ar(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(yt[e]==null&&Ro(ik[e]||"General",e),t.t==="e")t.w=t.w||Ko[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ku(t.v);else if(t.t==="d"){var l=zr(t.v);(l|0)===l?t.w=l.toString(10):t.w=Ku(l)}else{if(t.v===void 0)return"";t.w=Oo(t.v,Jl)}else t.t==="d"?t.w=Ri(e,zr(t.v),Jl):t.w=Ri(e,t.v,Jl)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=M0(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=M0(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&s.Fills)throw c}}}function i5(t,e){var n=In(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Ut(n))}var a5=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,s5=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,o5=/<(?:\w:)?hyperlink [^>]*>/mg,l5=/"(\w*:\w*)"/,c5=/<(?:\w:)?col\b[^>]*[\/]?>/g,u5=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,f5=/<(?:\w:)?pageMargins[^>]*\/>/g,Sw=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,d5=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,h5=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function p5(t,e,n,r,i,s,l){if(!t)return t;r||(r={"!id":{}});var c=e.dense?[]:{},d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",p="",v=t.match(s5);v?(f=t.slice(0,v.index),p=t.slice(v.index+v[0].length)):f=p=t;var y=f.match(Sw);y?Av(y[0],c,i,n):(y=f.match(d5))&&m5(y[0],y[1]||"",c,i,n);var S=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(S>0){var A=f.slice(S,S+50).match(l5);A&&i5(c,A[1])}var w=f.match(h5);w&&w[1]&&E5(w[1],i);var b=[];if(e.cellStyles){var L=f.match(c5);L&&x5(b,L)}v&&T5(v[1],c,e,d,s,l);var H=p.match(u5);H&&(c["!autofilter"]=y5(H[0]));var F=[],z=p.match(a5);if(z)for(S=0;S!=z.length;++S)F[S]=In(z[S].slice(z[S].indexOf('"')+1));var B=p.match(o5);B&&g5(c,B,r);var j=p.match(f5);if(j&&(c["!margins"]=v5(dt(j[0]))),!c["!ref"]&&d.e.c>=d.s.c&&d.e.r>=d.s.r&&(c["!ref"]=Ut(d)),e.sheetRows>0&&c["!ref"]){var I=In(c["!ref"]);e.sheetRows<=+I.e.r&&(I.e.r=e.sheetRows-1,I.e.r>d.e.r&&(I.e.r=d.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>d.e.c&&(I.e.c=d.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Ut(I))}return b.length>0&&(c["!cols"]=b),F.length>0&&(c["!merges"]=F),c}function Av(t,e,n,r){var i=dt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Vt(fn(i.codeName)))}function m5(t,e,n,r,i){Av(t.slice(0,t.indexOf(">")),n,r,i)}function g5(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=dt(fn(e[i]),!0);if(!s.ref)return;var l=((n||{})["!id"]||[])[s.id];l?(s.Target=l.Target,s.location&&(s.Target+="#"+Vt(s.location))):(s.Target="#"+Vt(s.location),l={Target:s.Target,TargetMode:"Internal"}),s.Rel=l,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=In(s.ref),d=c.s.r;d<=c.e.r;++d)for(var f=c.s.c;f<=c.e.c;++f){var p=mt({c:f,r:d});r?(t[d]||(t[d]=[]),t[d][f]||(t[d][f]={t:"z",v:void 0}),t[d][f].l=s):(t[p]||(t[p]={t:"z",v:void 0}),t[p].l=s)}}}function v5(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function x5(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=dt(e[r],!0);i.hidden&&(i.hidden=En(i.hidden));var s=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Tv(i.width)),rc(i);s<=l;)t[s++]=vr(i)}}function y5(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var _5=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function E5(t,e){e.Views||(e.Views=[{}]),(t.match(_5)||[]).forEach(function(n,r){var i=dt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),En(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var T5=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Ju("v"),l=Ju("f");return function(d,f,p,v,y,S){for(var A=0,w="",b=[],L=[],H=0,F=0,z=0,B="",j,I,N=0,C=0,P,D,k=0,U=0,Ee=Array.isArray(S.CellXf),Se,ae=[],le=[],Re=Array.isArray(f),ie=[],Fe={},W=!1,V=!!p.sheetStubs,X=d.split(e),Q=0,te=X.length;Q!=te;++Q){w=X[Q].trim();var ce=w.length;if(ce!==0){var be=0;e:for(A=0;A<ce;++A)switch(w[A]){case">":if(w[A-1]!="/"){++A;break e}if(p&&p.cellStyles){if(I=dt(w.slice(be,A),!0),N=I.r!=null?parseInt(I.r,10):N+1,C=-1,p.sheetRows&&p.sheetRows<N)continue;Fe={},W=!1,I.ht&&(W=!0,Fe.hpt=parseFloat(I.ht),Fe.hpx=Zu(Fe.hpt)),I.hidden=="1"&&(W=!0,Fe.hidden=!0),I.outlineLevel!=null&&(W=!0,Fe.level=+I.outlineLevel),W&&(ie[N-1]=Fe)}break;case"<":be=A;break}if(be>=A)break;if(I=dt(w.slice(be,A),!0),N=I.r!=null?parseInt(I.r,10):N+1,C=-1,!(p.sheetRows&&p.sheetRows<N)){v.s.r>N-1&&(v.s.r=N-1),v.e.r<N-1&&(v.e.r=N-1),p&&p.cellStyles&&(Fe={},W=!1,I.ht&&(W=!0,Fe.hpt=parseFloat(I.ht),Fe.hpx=Zu(Fe.hpt)),I.hidden=="1"&&(W=!0,Fe.hidden=!0),I.outlineLevel!=null&&(W=!0,Fe.level=+I.outlineLevel),W&&(ie[N-1]=Fe)),b=w.slice(A).split(t);for(var Ce=0;Ce!=b.length&&b[Ce].trim().charAt(0)=="<";++Ce);for(b=b.slice(Ce),A=0;A!=b.length;++A)if(w=b[A].trim(),w.length!==0){if(L=w.match(n),H=A,F=0,z=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,L!=null&&L.length===2){for(H=0,B=L[1],F=0;F!=B.length&&!((z=B.charCodeAt(F)-64)<1||z>26);++F)H=26*H+z;--H,C=H}else++C;for(F=0;F!=w.length&&w.charCodeAt(F)!==62;++F);if(++F,I=dt(w.slice(0,F),!0),I.r||(I.r=mt({r:N-1,c:C})),B=w.slice(F),j={t:""},(L=B.match(s))!=null&&L[1]!==""&&(j.v=Vt(L[1])),p.cellFormula){if((L=B.match(l))!=null&&L[1]!==""){if(j.f=Vt(fn(L[1])).replace(/\r\n/g,`
`),p.xlfn||(j.f=GE(j.f)),L[0].indexOf('t="array"')>-1)j.F=(B.match(i)||[])[1],j.F.indexOf(":")>-1&&ae.push([In(j.F),j.F]);else if(L[0].indexOf('t="shared"')>-1){D=dt(L[0]);var we=Vt(fn(L[1]));p.xlfn||(we=GE(we)),le[parseInt(D.si,10)]=[D,we,I.r]}}else(L=B.match(/<f[^>]*\/>/))&&(D=dt(L[0]),le[D.si]&&(j.f=M6(le[D.si][1],le[D.si][2],I.r)));var ke=Hr(I.r);for(F=0;F<ae.length;++F)ke.r>=ae[F][0].s.r&&ke.r<=ae[F][0].e.r&&ke.c>=ae[F][0].s.c&&ke.c<=ae[F][0].e.c&&(j.F=ae[F][1])}if(I.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(V)j.t="z";else continue;else j.t=I.t||"n";switch(v.s.c>C&&(v.s.c=C),v.e.c<C&&(v.e.c=C),j.t){case"n":if(j.v==""||j.v==null){if(!V)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!V)continue;j.t="z"}else P=Fu[parseInt(j.v,10)],j.v=P.t,j.r=P.r,p.cellHTML&&(j.h=P.h);break;case"str":j.t="s",j.v=j.v!=null?fn(j.v):"",p.cellHTML&&(j.h=fv(j.v));break;case"inlineStr":L=B.match(r),j.t="s",L!=null&&(P=Ev(L[1]))?(j.v=P.t,p.cellHTML&&(j.h=P.h)):j.v="";break;case"b":j.v=En(j.v);break;case"d":p.cellDates?j.v=ar(j.v,1):(j.v=zr(ar(j.v,1)),j.t="n");break;case"e":(!p||p.cellText!==!1)&&(j.w=j.v),j.v=qA[j.v];break}if(k=U=0,Se=null,Ee&&I.s!==void 0&&(Se=S.CellXf[I.s],Se!=null&&(Se.numFmtId!=null&&(k=Se.numFmtId),p.cellStyles&&Se.fillId!=null&&(U=Se.fillId))),Tw(j,k,U,p,y,S),p.cellDates&&Ee&&j.t=="n"&&cc(yt[k])&&(j.t="d",j.v=fh(j.v)),I.cm&&p.xlmeta){var $e=(p.xlmeta.Cell||[])[+I.cm-1];$e&&$e.type=="XLDAPR"&&(j.D=!0)}if(Re){var ne=Hr(I.r);f[ne.r]||(f[ne.r]=[]),f[ne.r][ne.c]=j}else f[I.r]=j}}}}ie.length>0&&(f["!rows"]=ie)}})();function S5(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var A5=Yo;function w5(){}function C5(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=Kk(t),n}function b5(t){var e=Di(t);return[e]}function N5(t){var e=$o(t);return[e]}function I5(t){var e=Di(t),n=t.read_shift(1);return[e,n,"b"]}function R5(t){var e=$o(t),n=t.read_shift(1);return[e,n,"b"]}function k5(t){var e=Di(t),n=t.read_shift(1);return[e,n,"e"]}function D5(t){var e=$o(t),n=t.read_shift(1);return[e,n,"e"]}function M5(t){var e=Di(t),n=t.read_shift(4);return[e,n,"s"]}function F5(t){var e=$o(t),n=t.read_shift(4);return[e,n,"s"]}function P5(t){var e=Di(t),n=Nr(t);return[e,n,"n"]}function Aw(t){var e=$o(t),n=Nr(t);return[e,n,"n"]}function O5(t){var e=Di(t),n=xv(t);return[e,n,"n"]}function L5(t){var e=$o(t),n=xv(t);return[e,n,"n"]}function U5(t){var e=Di(t),n=gv(t);return[e,n,"is"]}function V5(t){var e=Di(t),n=Dr(t);return[e,n,"str"]}function B5(t){var e=$o(t),n=Dr(t);return[e,n,"str"]}function H5(t,e,n){var r=t.l+e,i=Di(t);i.r=n["!row"];var s=t.read_shift(1),l=[i,s,"b"];if(n.cellFormula){t.l+=2;var c=ph(t,r-t.l,n);l[3]=Cr(c,null,i,n.supbooks,n)}else t.l=r;return l}function G5(t,e,n){var r=t.l+e,i=Di(t);i.r=n["!row"];var s=t.read_shift(1),l=[i,s,"e"];if(n.cellFormula){t.l+=2;var c=ph(t,r-t.l,n);l[3]=Cr(c,null,i,n.supbooks,n)}else t.l=r;return l}function z5(t,e,n){var r=t.l+e,i=Di(t);i.r=n["!row"];var s=Nr(t),l=[i,s,"n"];if(n.cellFormula){t.l+=2;var c=ph(t,r-t.l,n);l[3]=Cr(c,null,i,n.supbooks,n)}else t.l=r;return l}function q5(t,e,n){var r=t.l+e,i=Di(t);i.r=n["!row"];var s=Dr(t),l=[i,s,"str"];if(n.cellFormula){t.l+=2;var c=ph(t,r-t.l,n);l[3]=Cr(c,null,i,n.supbooks,n)}else t.l=r;return l}var j5=Yo;function $5(t,e){var n=t.l+e,r=Yo(t),i=vv(t),s=Dr(t),l=Dr(t),c=Dr(t);t.l=n;var d={rfx:r,relId:i,loc:s,display:c};return l&&(d.Tooltip=l),d}function Y5(){}function K5(t,e,n){var r=t.l+e,i=HA(t),s=t.read_shift(1),l=[i];if(l[2]=s,n.cellFormula){var c=ZF(t,r-t.l,n);l[1]=c}else t.l=r;return l}function J5(t,e,n){var r=t.l+e,i=Yo(t),s=[i];if(n.cellFormula){var l=t5(t,r-t.l,n);s[1]=l,t.l=r}else t.l=r;return s}var X5=["left","right","top","bottom","header","footer"];function W5(t){var e={};return X5.forEach(function(n){e[n]=Nr(t)}),e}function Q5(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Z5(){}function eP(){}function tP(t,e,n,r,i,s,l){if(!t)return t;var c=e||{};r||(r={"!id":{}});var d=c.dense?[]:{},f,p={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,y=!1,S,A,w,b,L,H,F,z,B,j=[];c.biff=12,c["!row"]=0;var I=0,N=!1,C=[],P={},D=c.supbooks||i.supbooks||[[]];if(D.sharedf=P,D.arrayf=C,D.SheetNames=i.SheetNames||i.Sheets.map(function(Re){return Re.name}),!c.supbooks&&(c.supbooks=D,i.Names))for(var k=0;k<i.Names.length;++k)D[0][k+1]=i.Names[k];var U=[],Ee=[],Se=!1;O0[16]={n:"BrtShortReal",f:Aw};var ae;if(Za(t,function(ie,Fe,W){if(!y)switch(W){case 148:f=ie;break;case 0:S=ie,c.sheetRows&&c.sheetRows<=S.r&&(y=!0),z=xr(b=S.r),c["!row"]=S.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=Zu(ie.hpt)),Ee[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(A={t:ie[2]},ie[2]){case"n":A.v=ie[1];break;case"s":F=Fu[ie[1]],A.v=F.t,A.r=F.r;break;case"b":A.v=!!ie[1];break;case"e":A.v=ie[1],c.cellText!==!1&&(A.w=Ko[A.v]);break;case"str":A.t="s",A.v=ie[1];break;case"is":A.t="s",A.v=ie[1].t;break}if((w=l.CellXf[ie[0].iStyleRef])&&Tw(A,w.numFmtId,null,c,s,l),L=ie[0].c==-1?L+1:ie[0].c,c.dense?(d[b]||(d[b]=[]),d[b][L]=A):d[Qn(L)+z]=A,c.cellFormula){for(N=!1,I=0;I<C.length;++I){var V=C[I];S.r>=V[0].s.r&&S.r<=V[0].e.r&&L>=V[0].s.c&&L<=V[0].e.c&&(A.F=Ut(V[0]),N=!0)}!N&&ie.length>3&&(A.f=ie[3])}if(p.s.r>S.r&&(p.s.r=S.r),p.s.c>L&&(p.s.c=L),p.e.r<S.r&&(p.e.r=S.r),p.e.c<L&&(p.e.c=L),c.cellDates&&w&&A.t=="n"&&cc(yt[w.numFmtId])){var X=No(A.v);X&&(A.t="d",A.v=new Date(X.y,X.m-1,X.d,X.H,X.M,X.S,X.u))}ae&&(ae.type=="XLDAPR"&&(A.D=!0),ae=void 0);break;case 1:case 12:if(!c.sheetStubs||v)break;A={t:"z",v:void 0},L=ie[0].c==-1?L+1:ie[0].c,c.dense?(d[b]||(d[b]=[]),d[b][L]=A):d[Qn(L)+z]=A,p.s.r>S.r&&(p.s.r=S.r),p.s.c>L&&(p.s.c=L),p.e.r<S.r&&(p.e.r=S.r),p.e.c<L&&(p.e.c=L),ae&&(ae.type=="XLDAPR"&&(A.D=!0),ae=void 0);break;case 176:j.push(ie);break;case 49:ae=((c.xlmeta||{}).Cell||[])[ie-1];break;case 494:var Q=r["!id"][ie.relId];for(Q?(ie.Target=Q.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=Q):ie.relId==""&&(ie.Target="#"+ie.loc),b=ie.rfx.s.r;b<=ie.rfx.e.r;++b)for(L=ie.rfx.s.c;L<=ie.rfx.e.c;++L)c.dense?(d[b]||(d[b]=[]),d[b][L]||(d[b][L]={t:"z",v:void 0}),d[b][L].l=ie):(H=mt({c:L,r:b}),d[H]||(d[H]={t:"z",v:void 0}),d[H].l=ie);break;case 426:if(!c.cellFormula)break;C.push(ie),B=c.dense?d[b][L]:d[Qn(L)+z],B.f=Cr(ie[1],p,{r:S.r,c:L},D,c),B.F=Ut(ie[0]);break;case 427:if(!c.cellFormula)break;P[mt(ie[0].s)]=ie[1],B=c.dense?d[b][L]:d[Qn(L)+z],B.f=Cr(ie[1],p,{r:S.r,c:L},D,c);break;case 60:if(!c.cellStyles)break;for(;ie.e>=ie.s;)U[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},Se||(Se=!0,Tv(ie.w/256)),rc(U[ie.e+1]);break;case 161:d["!autofilter"]={ref:Ut(ie)};break;case 476:d["!margins"]=ie;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ie.name&&(i.Sheets[n].CodeName=ie.name),(ie.above||ie.left)&&(d["!outline"]={above:ie.above,left:ie.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ie.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:v=!0;break;case 38:v=!1;break;default:if(!Fe.T){if(!v||c.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},c),delete c.supbooks,delete c["!row"],!d["!ref"]&&(p.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(d["!ref"]=Ut(f||p)),c.sheetRows&&d["!ref"]){var le=In(d["!ref"]);c.sheetRows<=+le.e.r&&(le.e.r=c.sheetRows-1,le.e.r>p.e.r&&(le.e.r=p.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>p.e.c&&(le.e.c=p.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Ut(le))}return j.length>0&&(d["!merges"]=j),U.length>0&&(d["!cols"]=U),Ee.length>0&&(d["!rows"]=Ee),d}function nP(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var l=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(e[+l[1]]=n?+l[2]:l[2])});var i=Vt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function rP(t,e,n,r,i,s){var l=s||{"!type":"chart"};if(!t)return s;var c=0,d=0,f="A",p={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(v){var y=nP(v);p.s.r=p.s.c=0,p.e.c=c,f=Qn(c),y[0].forEach(function(S,A){l[f+xr(A)]={t:"n",v:S,z:y[1]},d=A}),p.e.r<d&&(p.e.r=d),++c}),c>0&&(l["!ref"]=Ut(p)),l}function iP(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l,c=t.match(Sw);return c&&Av(c[0],s,i,n),(l=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=l[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function aP(t,e){t.l+=10;var n=Dr(t);return{name:n}}function sP(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l=!1;return Za(t,function(d,f,p){switch(p){case 550:s["!rel"]=d;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),d.name&&(i.Sheets[n].CodeName=d.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!l||e.WTF)throw new Error("Unexpected record 0x"+p.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var ww=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],oP=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],lP=[],cP=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function YE(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=En(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function KE(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=En(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function Cw(t){KE(t.WBProps,ww),KE(t.CalcPr,cP),YE(t.WBView,oP),YE(t.Sheets,lP),Jl.date1904=En(t.WBProps.date1904)}var uP="][*?/\\".split("");function fP(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return uP.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var dP=/<\w+:workbook/;function hP(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},l=0;if(t.replace(Fr,function(d,f){var p=dt(d);switch(Ea(p[0])){case"<?xml":break;case"<workbook":d.match(dP)&&(i="xmlns"+d.match(/<(\w+):/)[1]),n.xmlns=p[i];break;case"</workbook>":break;case"<fileVersion":delete p[0],n.AppVersion=p;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":ww.forEach(function(v){if(p[v[0]]!=null)switch(v[2]){case"bool":n.WBProps[v[0]]=En(p[v[0]]);break;case"int":n.WBProps[v[0]]=parseInt(p[v[0]],10);break;default:n.WBProps[v[0]]=p[v[0]]}}),p.codeName&&(n.WBProps.CodeName=fn(p.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete p[0],n.WBView.push(p);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(p.state){case"hidden":p.Hidden=1;break;case"veryHidden":p.Hidden=2;break;default:p.Hidden=0}delete p.state,p.name=Vt(fn(p.name)),delete p[0],n.Sheets.push(p);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=fn(p.name),p.comment&&(s.Comment=p.comment),p.localSheetId&&(s.Sheet=+p.localSheetId),En(p.hidden||"0")&&(s.Hidden=!0),l=f+d.length;break;case"</definedName>":s.Ref=Vt(fn(t.slice(l,f))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete p[0],n.CalcPr=p;break;case"<calcPr/>":delete p[0],n.CalcPr=p;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+p[0]+" in workbook")}return d}),kk.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return Cw(n),n}function pP(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=ag(t),n.name=Dr(t),n}function mP(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Dr(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function gP(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function vP(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=Jk(t),l=e5(t,0,n),c=vv(t);t.l=r;var d={Name:s,Ptg:l};return i<268435455&&(d.Sheet=i),c&&(d.Comment=c),d}function xP(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],l=[[]];return l.SheetNames=[],l.XTI=[],O0[16]={n:"BrtFRTArchID$",f:gP},Za(t,function(d,f,p){switch(p){case 156:l.SheetNames.push(d.name),n.Sheets.push(d);break;case 153:n.WBProps=d;break;case 39:d.Sheet!=null&&(e.SID=d.Sheet),d.Ref=Cr(d.Ptg,null,null,l,e),delete e.SID,delete d.Ptg,s.push(d);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([p,d]):l[0]=[p,d],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(d),l.XTI=l.XTI.concat(d);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(p),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(p),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!f.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+p.toString(16))}}},e),Cw(n),n.Names=s,n.supbooks=l,n}function yP(t,e,n){return e.slice(-4)===".bin"?xP(t,n):hP(t,n)}function _P(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?tP(t,r,n,i,s,l,c):p5(t,r,n,i,s,l,c)}function EP(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?sP(t,r,n,i,s):iP(t,r,n,i,s)}function TP(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?R6():k6()}function SP(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?N6():I6()}function AP(t,e,n,r){return e.slice(-4)===".bin"?jM(t,n,r):VM(t,n,r)}function wP(t,e,n){return dw(t,n)}function CP(t,e,n){return e.slice(-4)===".bin"?oM(t,n):aM(t,n)}function bP(t,e,n){return e.slice(-4)===".bin"?w6(t,n):_6(t,n)}function NP(t,e,n){return e.slice(-4)===".bin"?v6(t):m6(t)}function IP(t,e,n,r){return n.slice(-4)===".bin"?x6(t,e,n,r):void 0}function RP(t,e,n){return e.slice(-4)===".bin"?h6(t,e,n):p6(t,e,n)}var bw=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Nw=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function qi(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(bw),s,l,c,d;if(i)for(d=0;d!=i.length;++d)s=i[d].match(Nw),(l=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(l+1),r[c]=s[2].slice(1,s[2].length-1));return r}function kP(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(bw),i,s,l,c;if(r)for(c=0;c!=r.length;++c)i=r[c].match(Nw),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),n[l]=i[2].slice(1,i[2].length-1));return n}var Ou;function DP(t,e){var n=Ou[t]||Vt(t);return n==="General"?Oo(e):Ri(n,e)}function MP(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=En(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=ar(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Vt(e)]=i}function FP(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Ko[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ku(t.v):t.w=Oo(t.v):t.w=DP(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Ou[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&cc(r)){var i=No(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function PP(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=MM[r.Pattern]||r.Pattern)}t[e.ID]=e}function OP(t,e,n,r,i,s,l,c,d,f){var p="General",v=r.StyleID,y={};f=f||{};var S=[],A=0;for(v===void 0&&c&&(v=c.StyleID),v===void 0&&l&&(v=l.StyleID);s[v]!==void 0&&(s[v].nf&&(p=s[v].nf),s[v].Interior&&S.push(s[v].Interior),!!s[v].Parent);)v=s[v].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=En(t);break;case"String":r.t="s",r.r=gE(Vt(t)),r.v=t.indexOf("<")>-1?Vt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(ar(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Vt(t):r.v<60&&(r.v=r.v-1),(!p||p=="General")&&(p="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=qA[t],f.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=gE(e||t));break}if(FP(r,p,f),f.cellFormula!==!1)if(r.Formula){var w=Vt(r.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),r.f=Kl(w,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Kl("RC:RC",i):r.ArrayRange&&(r.F=Kl(r.ArrayRange,i),d.push([In(r.F),r.F]))}else for(A=0;A<d.length;++A)i.r>=d[A][0].s.r&&i.r<=d[A][0].e.r&&i.c>=d[A][0].s.c&&i.c<=d[A][0].e.c&&(r.F=d[A][1]);f.cellStyles&&(S.forEach(function(b){!y.patternType&&b.patternType&&(y.patternType=b.patternType)}),r.s=y),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function LP(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Om(t,e){var n=e||{};gA();var r=_u(dv(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=fn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=vr(n);return l.type="string",Wu.to_workbook(r,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(tt){i.indexOf("<"+tt)>=0&&(s=!0)}),s)return $P(r,n);Ou={"General Number":"General","General Date":yt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":yt[15],"Short Date":yt[14],"Long Time":yt[19],"Medium Time":yt[18],"Short Time":yt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:yt[2],Standard:yt[4],Percent:yt[10],Scientific:yt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,d=[],f,p={},v=[],y=n.dense?[]:{},S="",A={},w={},b=qi('<Data ss:Type="String">'),L=0,H=0,F=0,z={s:{r:2e6,c:2e6},e:{r:0,c:0}},B={},j={},I="",N=0,C=[],P={},D={},k=0,U=[],Ee=[],Se={},ae=[],le,Re=!1,ie=[],Fe=[],W={},V=0,X=0,Q={Sheets:[],WBProps:{date1904:!1}},te={};Xu.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";c=Xu.exec(r);)switch(c[3]=(ce=c[3]).toLowerCase()){case"data":if(ce=="data"){if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&d.push([c[3],!0]);break}if(d[d.length-1][1])break;c[1]==="/"?OP(r.slice(L,c.index),I,b,d[d.length-1][0]=="comment"?Se:A,{c:H,r:F},B,ae[H],w,ie,n):(I="",b=qi(c[0]),L=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(Ee.length>0&&(A.c=Ee),(!n.sheetRows||n.sheetRows>F)&&A.v!==void 0&&(n.dense?(y[F]||(y[F]=[]),y[F][H]=A):y[Qn(H)+xr(F)]=A),A.HRef&&(A.l={Target:Vt(A.HRef)},A.HRefScreenTip&&(A.l.Tooltip=A.HRefScreenTip),delete A.HRef,delete A.HRefScreenTip),(A.MergeAcross||A.MergeDown)&&(V=H+(parseInt(A.MergeAcross,10)|0),X=F+(parseInt(A.MergeDown,10)|0),C.push({s:{c:H,r:F},e:{c:V,r:X}})),!n.sheetStubs)A.MergeAcross?H=V+1:++H;else if(A.MergeAcross||A.MergeDown){for(var be=H;be<=V;++be)for(var Ce=F;Ce<=X;++Ce)(be>H||Ce>F)&&(n.dense?(y[Ce]||(y[Ce]=[]),y[Ce][be]={t:"z"}):y[Qn(be)+xr(Ce)]={t:"z"});H=V+1}else++H;else A=kP(c[0]),A.Index&&(H=+A.Index-1),H<z.s.c&&(z.s.c=H),H>z.e.c&&(z.e.c=H),c[0].slice(-2)==="/>"&&++H,Ee=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(F<z.s.r&&(z.s.r=F),F>z.e.r&&(z.e.r=F),c[0].slice(-2)==="/>"&&(w=qi(c[0]),w.Index&&(F=+w.Index-1)),H=0,++F):(w=qi(c[0]),w.Index&&(F=+w.Index-1),W={},(w.AutoFitHeight=="0"||w.Height)&&(W.hpx=parseInt(w.Height,10),W.hpt=fw(W.hpx),Fe[F]=W),w.Hidden=="1"&&(W.hidden=!0,Fe[F]=W));break;case"worksheet":if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));v.push(S),z.s.r<=z.e.r&&z.s.c<=z.e.c&&(y["!ref"]=Ut(z),n.sheetRows&&n.sheetRows<=z.e.r&&(y["!fullref"]=y["!ref"],z.e.r=n.sheetRows-1,y["!ref"]=Ut(z))),C.length&&(y["!merges"]=C),ae.length>0&&(y["!cols"]=ae),Fe.length>0&&(y["!rows"]=Fe),p[S]=y}else z={s:{r:2e6,c:2e6},e:{r:0,c:0}},F=H=0,d.push([c[3],!1]),f=qi(c[0]),S=Vt(f.Name),y=n.dense?[]:{},C=[],ie=[],Fe=[],te={name:S,Hidden:0},Q.Sheets.push(te);break;case"table":if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else{if(c[0].slice(-2)=="/>")break;d.push([c[3],!1]),ae=[],Re=!1}break;case"style":c[1]==="/"?PP(B,j,n):j=qi(c[0]);break;case"numberformat":j.nf=Vt(qi(c[0]).Format||"General"),Ou[j.nf]&&(j.nf=Ou[j.nf]);for(var we=0;we!=392&&yt[we]!=j.nf;++we);if(we==392){for(we=57;we!=392;++we)if(yt[we]==null){Ro(j.nf,we);break}}break;case"column":if(d[d.length-1][0]!=="table")break;if(le=qi(c[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!Re&&le.wpx>10){Re=!0,Br=cw;for(var ke=0;ke<ae.length;++ke)ae[ke]&&rc(ae[ke])}Re&&rc(le),ae[le.Index-1||ae.length]=le;for(var $e=0;$e<+le.Span;++$e)ae[ae.length]=vr(le);break;case"namedrange":if(c[1]==="/")break;Q.Names||(Q.Names=[]);var ne=dt(c[0]),rt={Name:ne.Name,Ref:Kl(ne.RefersTo.slice(1),{r:0,c:0})};Q.Sheets.length>0&&(rt.Sheet=Q.Sheets.length-1),Q.Names.push(rt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?I+=r.slice(N,c.index):N=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;j.Interior=qi(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?_3(P,ce,r.slice(k,c.index)):k=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else d.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"));LP(Se),Ee.push(Se)}else d.push([c[3],!1]),f=qi(c[0]),Se={a:f.Author};break;case"autofilter":if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Je=qi(c[0]);y["!autofilter"]={ref:Kl(Je.Range).replace(/\$/g,"")},d.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&d.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((f=d.pop())[0]!==c[3])throw new Error("Bad state: "+f.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&d.push([c[3],!0]);break;case"null":break;default:if(d.length==0&&c[3]=="document"||d.length==0&&c[3]=="uof")return eT(r,n);var Xe=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Xe=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Xe=!1}break;case"excelworkbook":switch(c[3]){case"date1904":Q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Xe=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Xe=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(k,c.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else k=c.index+c[0].length;break;case"header":y["!margins"]||Pu(y["!margins"]={},"xlml"),isNaN(+dt(c[0]).Margin)||(y["!margins"].header=+dt(c[0]).Margin);break;case"footer":y["!margins"]||Pu(y["!margins"]={},"xlml"),isNaN(+dt(c[0]).Margin)||(y["!margins"].footer=+dt(c[0]).Margin);break;case"pagemargins":var ze=dt(c[0]);y["!margins"]||Pu(y["!margins"]={},"xlml"),isNaN(+ze.Top)||(y["!margins"].top=+ze.Top),isNaN(+ze.Left)||(y["!margins"].left=+ze.Left),isNaN(+ze.Right)||(y["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(y["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":Q.Views||(Q.Views=[]),Q.Views[0]||(Q.Views[0]={}),Q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":y["!outline"]||(y["!outline"]={}),y["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":y["!outline"]||(y["!outline"]={}),y["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Xe=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Xe=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Xe=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Xe=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Xe=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Xe=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Xe=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Xe=!1}break;case"smarttags":break;default:Xe=!1;break}if(Xe||c[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+d.join("|");if(d[d.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?MP(D,ce,U,r.slice(k,c.index)):(U=c,k=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+d.join("|")}var Ue={};return!n.bookSheets&&!n.bookProps&&(Ue.Sheets=p),Ue.SheetNames=v,Ue.Workbook=Q,Ue.SSF=vr(yt),Ue.Props=P,Ue.Custprops=D,Ue}function cg(t,e){switch(bv(e=e||{}),e.type||"base64"){case"base64":return Om(pi(t),e);case"binary":case"buffer":case"file":return Om(t,e);case"array":return Om(jo(t),e)}}function UP(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Qk(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=Zk(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var VP=[60,1084,2066,2165,2175];function BP(t,e,n,r,i){var s=r,l=[],c=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}l.push(c),n.l+=s;for(var d=za(n,n.l),f=ug[d],p=0;f!=null&&VP.indexOf(d)>-1;)s=za(n,n.l+2),p=n.l+4,d==2066?p+=4:(d==2165||d==2175)&&(p+=12),c=n.slice(p,n.l+4+s),l.push(c),n.l+=4+s,f=ug[d=za(n,n.l)];var v=Us(l);mr(v,0);var y=0;v.lens=[];for(var S=0;S<l.length;++S)v.lens.push(y),y+=l[S].length;if(v.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+v.length+" < "+r;return e.f(v,v.length,i)}function pa(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=yt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Ko[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ku(t.v):t.w=Oo(t.v):t.w=Ri(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&cc(yt[r]||String(r))){var i=No(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Zd(t,e,n){return{v:t,ixfe:e,t:n}}function HP(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},l={},c=null,d=[],f="",p={},v,y="",S,A,w,b,L={},H=[],F,z,B=[],j=[],I={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},C=function(it){return it<8?ko[it]:it<64&&j[it-8]||ko[it]},P=function(it,wt,Kt){var Et=wt.XF.data;if(!(!Et||!Et.patternType||!Kt||!Kt.cellStyles)){wt.s={},wt.s.patternType=Et.patternType;var zt;(zt=Qu(C(Et.icvFore)))&&(wt.s.fgColor={rgb:zt}),(zt=Qu(C(Et.icvBack)))&&(wt.s.bgColor={rgb:zt})}},D=function(it,wt,Kt){if(!(W>1)&&!(Kt.sheetRows&&it.r>=Kt.sheetRows)){if(Kt.cellStyles&&wt.XF&&wt.XF.data&&P(it,wt,Kt),delete wt.ixfe,delete wt.XF,v=it,y=mt(it),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),it.r<l.s.r&&(l.s.r=it.r),it.c<l.s.c&&(l.s.c=it.c),it.r+1>l.e.r&&(l.e.r=it.r+1),it.c+1>l.e.c&&(l.e.c=it.c+1),Kt.cellFormula&&wt.f){for(var Et=0;Et<H.length;++Et)if(!(H[Et][0].s.c>it.c||H[Et][0].s.r>it.r)&&!(H[Et][0].e.c<it.c||H[Et][0].e.r<it.r)){wt.F=Ut(H[Et][0]),(H[Et][0].s.c!=it.c||H[Et][0].s.r!=it.r)&&delete wt.f,wt.f&&(wt.f=""+Cr(H[Et][1],l,it,ie,k));break}}Kt.dense?(i[it.r]||(i[it.r]=[]),i[it.r][it.c]=wt):i[y]=wt}},k={enc:!1,sbcch:0,snames:[],sharedf:L,arrayf:H,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var U,Ee=[],Se=[],ae=[],le=[],Re=!1,ie=[];ie.SheetNames=k.snames,ie.sharedf=k.sharedf,ie.arrayf=k.arrayf,ie.names=[],ie.XTI=[];var Fe=0,W=0,V=0,X=[],Q=[],te;k.codepage=1200,Xi(1200);for(var ce=!1;t.l<t.length-1;){var be=t.l,Ce=t.read_shift(2);if(Ce===0&&Fe===10)break;var we=t.l===t.length?0:t.read_shift(2),ke=ug[Ce];if(ke&&ke.f){if(e.bookSheets&&Fe===133&&Ce!==133)break;if(Fe=Ce,ke.r===2||ke.r==12){var $e=t.read_shift(2);if(we-=2,!k.enc&&$e!==Ce&&(($e&255)<<8|$e>>8)!==Ce)throw new Error("rt mismatch: "+$e+"!="+Ce);ke.r==12&&(t.l+=10,we-=10)}var ne={};if(Ce===10?ne=ke.f(t,we,k):ne=BP(Ce,ke,t,we,k),W==0&&[9,521,1033,2057].indexOf(Fe)===-1)continue;switch(Ce){case 34:n.opts.Date1904=I.WBProps.date1904=ne;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(k.enc||(t.l=0),k.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=ne;break;case 66:var rt=Number(ne);switch(rt){case 21010:rt=1200;break;case 32768:rt=1e4;break;case 32769:rt=1252;break}Xi(k.codepage=rt),ce=!0;break;case 317:k.rrtabid=ne;break;case 25:k.winlocked=ne;break;case 439:n.opts.RefreshAll=ne;break;case 12:n.opts.CalcCount=ne;break;case 16:n.opts.CalcDelta=ne;break;case 17:n.opts.CalcIter=ne;break;case 13:n.opts.CalcMode=ne;break;case 14:n.opts.CalcPrecision=ne;break;case 95:n.opts.CalcSaveRecalc=ne;break;case 15:k.CalcRefMode=ne;break;case 2211:n.opts.FullCalc=ne;break;case 129:ne.fDialog&&(i["!type"]="dialog"),ne.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ne.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:B.push(ne);break;case 430:ie.push([ne]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(ne);break;case 24:case 536:te={Name:ne.Name,Ref:Cr(ne.rgce,l,null,ie,k)},ne.itab>0&&(te.Sheet=ne.itab-1),ie.names.push(te),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(Q[ne.itab-1]={ref:Ut(ne.rgce[0][0][1][2])});break;case 22:k.ExternCount=ne;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(ne),ie.XTI=ie.XTI.concat(ne);break;case 2196:if(k.biff<8)break;te!=null&&(te.Comment=ne[1]);break;case 18:i["!protect"]=ne;break;case 19:ne!==0&&k.WTF&&console.error("Password verifier: "+ne);break;case 133:s[ne.pos]=ne,k.snames.push(ne.name);break;case 10:{if(--W)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Ut(l),e.sheetRows&&e.sheetRows<=l.e.r){var Je=l.e.r;l.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ut(l),l.e.r=Je}l.e.r++,l.e.c++}Ee.length>0&&(i["!merges"]=Ee),Se.length>0&&(i["!objects"]=Se),ae.length>0&&(i["!cols"]=ae),le.length>0&&(i["!rows"]=le),I.Sheets.push(N)}f===""?p=i:r[f]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[Ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),k.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(k.biff=5,ce=!0,Xi(k.codepage=28591)),k.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(k.biff=2),W++)break;if(i=e.dense?[]:{},k.biff<8&&!ce&&(ce=!0,Xi(k.codepage=e.codepage||1252)),k.biff<5||ne.BIFFVer==0&&ne.dt==4096){f===""&&(f="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var Xe={pos:t.l-we,name:f};s[Xe.pos]=Xe,k.snames.push(f)}else f=(s[be]||{name:""}).name;ne.dt==32&&(i["!type"]="chart"),ne.dt==64&&(i["!type"]="macro"),Ee=[],Se=[],k.arrayf=H=[],ae=[],le=[],Re=!1,N={Hidden:(s[be]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ne.r]||[])[ne.c]:i[mt({c:ne.c,r:ne.r})])&&++ne.c,F={ixfe:ne.ixfe,XF:B[ne.ixfe]||{},v:ne.val,t:"n"},V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:ne.c,r:ne.r},F,e);break;case 5:case 517:F={ixfe:ne.ixfe,XF:B[ne.ixfe],v:ne.val,t:ne.t},V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:ne.c,r:ne.r},F,e);break;case 638:F={ixfe:ne.ixfe,XF:B[ne.ixfe],v:ne.rknum,t:"n"},V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:ne.c,r:ne.r},F,e);break;case 189:for(var ze=ne.c;ze<=ne.C;++ze){var Ue=ne.rkrec[ze-ne.c][0];F={ixfe:Ue,XF:B[Ue],v:ne.rkrec[ze-ne.c][1],t:"n"},V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:ze,r:ne.r},F,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){c=ne;break}if(F=Zd(ne.val,ne.cell.ixfe,ne.tt),F.XF=B[F.ixfe],e.cellFormula){var tt=ne.formula;if(tt&&tt[0]&&tt[0][0]&&tt[0][0][0]=="PtgExp"){var nt=tt[0][0][1][0],lt=tt[0][0][1][1],on=mt({r:nt,c:lt});L[on]?F.f=""+Cr(ne.formula,l,ne.cell,ie,k):F.F=((e.dense?(i[nt]||[])[lt]:i[on])||{}).F}else F.f=""+Cr(ne.formula,l,ne.cell,ie,k)}V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D(ne.cell,F,e),c=ne}break;case 7:case 519:if(c)c.val=ne,F=Zd(ne,c.cell.ixfe,"s"),F.XF=B[F.ixfe],e.cellFormula&&(F.f=""+Cr(c.formula,l,c.cell,ie,k)),V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D(c.cell,F,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{H.push(ne);var Sn=mt(ne[0].s);if(S=e.dense?(i[ne[0].s.r]||[])[ne[0].s.c]:i[Sn],e.cellFormula&&S){if(!c||!Sn||!S)break;S.f=""+Cr(ne[1],l,ne[0],ie,k),S.F=Ut(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(y){if(!c)break;L[mt(c.cell)]=ne[0],S=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[mt(c.cell)],(S||{}).f=""+Cr(ne[0],l,v,ie,k)}}break;case 253:F=Zd(d[ne.isst].t,ne.ixfe,"s"),d[ne.isst].h&&(F.h=d[ne.isst].h),F.XF=B[F.ixfe],V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:ne.c,r:ne.r},F,e);break;case 513:e.sheetStubs&&(F={ixfe:ne.ixfe,XF:B[ne.ixfe],t:"z"},V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:ne.c,r:ne.r},F,e));break;case 190:if(e.sheetStubs)for(var Rn=ne.c;Rn<=ne.C;++Rn){var ft=ne.ixfe[Rn-ne.c];F={ixfe:ft,XF:B[ft],t:"z"},V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:Rn,r:ne.r},F,e)}break;case 214:case 516:case 4:F=Zd(ne.val,ne.ixfe,"s"),F.XF=B[F.ixfe],V>0&&(F.z=X[F.ixfe>>8&63]),pa(F,e,n.opts.Date1904),D({c:ne.c,r:ne.r},F,e);break;case 0:case 512:W===1&&(l=ne);break;case 252:d=ne;break;case 1054:if(k.biff==4){X[V++]=ne[1];for(var Yt=0;Yt<V+163&&yt[Yt]!=ne[1];++Yt);Yt>=163&&Ro(ne[1],V+163)}else Ro(ne[1],ne[0]);break;case 30:{X[V++]=ne;for(var kt=0;kt<V+163&&yt[kt]!=ne;++kt);kt>=163&&Ro(ne,V+163)}break;case 229:Ee=Ee.concat(ne);break;case 93:Se[ne.cmo[0]]=k.lastobj=ne;break;case 438:k.lastobj.TxO=ne;break;case 127:k.lastobj.ImData=ne;break;case 440:for(b=ne[0].s.r;b<=ne[0].e.r;++b)for(w=ne[0].s.c;w<=ne[0].e.c;++w)S=e.dense?(i[b]||[])[w]:i[mt({c:w,r:b})],S&&(S.l=ne[1]);break;case 2048:for(b=ne[0].s.r;b<=ne[0].e.r;++b)for(w=ne[0].s.c;w<=ne[0].e.c;++w)S=e.dense?(i[b]||[])[w]:i[mt({c:w,r:b})],S&&S.l&&(S.l.Tooltip=ne[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;S=e.dense?(i[ne[0].r]||[])[ne[0].c]:i[mt(ne[0])];var tn=Se[ne[2]];S||(e.dense?(i[ne[0].r]||(i[ne[0].r]=[]),S=i[ne[0].r][ne[0].c]={t:"z"}):S=i[mt(ne[0])]={t:"z"},l.e.r=Math.max(l.e.r,ne[0].r),l.s.r=Math.min(l.s.r,ne[0].r),l.e.c=Math.max(l.e.c,ne[0].c),l.s.c=Math.min(l.s.c,ne[0].c)),S.c||(S.c=[]),A={a:ne[1],t:tn.TxO.t},S.c.push(A)}break;case 2173:c6(B[ne.ixfe],ne.ext);break;case 125:{if(!k.cellStyles)break;for(;ne.e>=ne.s;)ae[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},Re||(Re=!0,Tv(ne.w/256)),rc(ae[ne.e+1])}break;case 520:{var Nt={};ne.level!=null&&(le[ne.r]=Nt,Nt.level=ne.level),ne.hidden&&(le[ne.r]=Nt,Nt.hidden=!0),ne.hpt&&(le[ne.r]=Nt,Nt.hpt=ne.hpt,Nt.hpx=Zu(ne.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Pu(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ce]]=ne;break;case 161:i["!margins"]||Pu(i["!margins"]={}),i["!margins"].header=ne.header,i["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(I.Views[0].RTL=!0);break;case 146:j=ne;break;case 2198:U=ne;break;case 140:z=ne;break;case 442:f?N.CodeName=ne||N.name:I.WBProps.CodeName=ne||"ThisWorkbook";break}}else ke||console.error("Missing Info for XLS Record 0x"+Ce.toString(16)),t.l+=we}return n.SheetNames=xa(s).sort(function(Un,it){return Number(Un)-Number(it)}).map(function(Un){return s[Un].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&p["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=p)):n.Preamble=p,n.Sheets&&Q.forEach(function(Un,it){n.Sheets[n.SheetNames[it]]["!autofilter"]=Un}),n.Strings=d,n.SSF=vr(yt),k.enc&&(n.Encryption=k.enc),U&&(n.Themes=U),n.Metadata={},z!==void 0&&(n.Metadata.Country=z),ie.names.length>0&&(I.Names=ie.names),n.Workbook=I,n}var JE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function GP(t,e,n){var r=Lt.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=DE(r,a3,JE.DSI);for(var s in i)e[s]=i[s]}catch(f){if(n.WTF)throw f}var l=Lt.find(t,"/!SummaryInformation");if(l&&l.size>0)try{var c=DE(l,s3,JE.SI);for(var d in c)e[d]==null&&(e[d]=c[d])}catch(f){if(n.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&($A(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function Iw(t,e){e||(e={}),bv(e),iA(),e.codepage&&av(e.codepage);var n,r;if(t.FullPaths){if(Lt.find(t,"/encryption"))throw new Error("File is password-protected");n=Lt.find(t,"!CompObj"),r=Lt.find(t,"/Workbook")||Lt.find(t,"/Book")}else{switch(e.type){case"base64":t=Yi(pi(t));break;case"binary":t=Yi(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}mr(t,0),r={content:t}}var i,s;if(n&&UP(n),e.bookProps&&!e.bookSheets)i={};else{var l=Mt?"buffer":"array";if(r&&r.content)i=HP(r.content,e);else if((s=Lt.find(t,"PerfectOffice_MAIN"))&&s.content)i=Mu.to_workbook(s.content,(e.type=l,e));else if((s=Lt.find(t,"NativeContent_MAIN"))&&s.content)i=Mu.to_workbook(s.content,(e.type=l,e));else throw(s=Lt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Lt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=b6(t))}var c={};return t.FullPaths&&GP(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var O0={0:{f:S5},1:{f:b5},2:{f:O5},3:{f:k5},4:{f:I5},5:{f:P5},6:{f:V5},7:{f:M5},8:{f:q5},9:{f:z5},10:{f:H5},11:{f:G5},12:{f:N5},13:{f:L5},14:{f:D5},15:{f:R5},16:{f:Aw},17:{f:B5},18:{f:F5},19:{f:gv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vP},40:{},42:{},43:{f:HM},44:{f:BM},45:{f:GM},46:{f:qM},47:{f:zM},48:{},49:{f:jk},50:{},51:{f:f6},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:iw},62:{f:U5},63:{f:g6},64:{f:Z5},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Mr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Q5},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:C5},148:{f:A5,p:16},151:{f:Y5},152:{},153:{f:mP},154:{},155:{},156:{f:pP},157:{},158:{},159:{T:1,f:sM},160:{T:-1},161:{T:1,f:Yo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:j5},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:u6},336:{T:-1},337:{f:d6,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:ag},357:{},358:{},359:{},360:{T:1},361:{},362:{f:rw},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:K5},427:{f:J5},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:W5},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:w5},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$5},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:ag},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:A6},633:{T:1},634:{T:-1},635:{T:1,f:S6},636:{T:-1},637:{f:Yk},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:aP},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:eP},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ug={6:{f:Fm},10:{f:Ps},12:{f:Yn},13:{f:Yn},14:{f:On},15:{f:On},16:{f:Nr},17:{f:On},18:{f:On},19:{f:Yn},20:{f:OE},21:{f:OE},23:{f:rw},24:{f:UE},25:{f:On},26:{},27:{},28:{f:ED},29:{},34:{f:On},35:{f:LE},38:{f:Nr},39:{f:Nr},40:{f:Nr},41:{f:Nr},42:{f:On},43:{f:On},47:{f:wM},49:{f:nD},51:{f:Yn},60:{},61:{f:Z3},64:{f:On},65:{f:tD},66:{f:Yn},77:{},80:{},81:{},82:{},85:{f:Yn},89:{},90:{},91:{},92:{f:j3},93:{f:SD},94:{},95:{f:On},96:{},97:{},99:{f:On},125:{f:iw},128:{f:dD},129:{f:$3},130:{f:Yn},131:{f:On},132:{f:On},133:{f:Y3},134:{},140:{f:ID},141:{f:Yn},144:{},146:{f:kD},151:{},152:{},153:{},154:{},155:{},156:{f:Yn},157:{},158:{},160:{f:OD},161:{f:MD},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:lD},190:{f:cD},193:{f:Ps},197:{},198:{},199:{},200:{},201:{},202:{f:On},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Yn},220:{},221:{f:On},222:{},224:{f:fD},225:{f:q3},226:{f:Ps},227:{},229:{f:TD},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:K3},253:{f:rD},255:{f:J3},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:WA},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:On},353:{f:Ps},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:pD},431:{f:On},432:{},433:{},434:{},437:{},438:{f:CD},439:{f:On},440:{f:bD},441:{},442:{f:gf},443:{},444:{f:Yn},445:{},446:{},448:{f:Ps},449:{f:Q3,r:2},450:{f:Ps},512:{f:FE},513:{f:PD},515:{f:hD},516:{f:iD},517:{f:PE},519:{f:LD},520:{f:X3},523:{},545:{f:VE},549:{f:ME},566:{},574:{f:eD},638:{f:oD},659:{},1048:{},1054:{f:aD},1084:{},1212:{f:xD},2048:{f:ND},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Xd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ps},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:DD,r:12},2173:{f:l6,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:On,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:vD,r:12},2197:{},2198:{f:n6,r:12},2199:{},2200:{},2201:{},2202:{f:yD,r:12},2203:{f:Ps},2204:{},2205:{},2206:{},2207:{},2211:{f:W3},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Yn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:FD},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:RD},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:FE},1:{},2:{f:HD},3:{f:BD},4:{f:VD},5:{f:PE},7:{f:GD},8:{},9:{f:Xd},11:{},22:{f:Yn},30:{f:sD},31:{},32:{},33:{f:VE},36:{},37:{f:ME},50:{f:zD},62:{},52:{},67:{},68:{f:Yn},69:{},86:{},126:{},127:{f:UD},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:qD},223:{},234:{},354:{},421:{},518:{f:Fm},521:{f:Xd},536:{f:UE},547:{f:LE},561:{},579:{},1030:{f:Fm},1033:{f:Xd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ji(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&UA(n)&&t.push(n)}}function XE(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),l=i.index,c=s&&s.index||t.length,d=hk(t.slice(l,c),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,p=0,v=0,y=0,S={s:{r:1e7,c:1e7},e:{r:0,c:0}},A=[];for(l=0;l<d.length;++l){var w=d[l].trim(),b=w.slice(0,3).toLowerCase();if(b=="<tr"){if(++f,n.sheetRows&&n.sheetRows<=f){--f;break}p=0;continue}if(!(b!="<td"&&b!="<th")){var L=w.split(/<\/t[dh]>/i);for(c=0;c<L.length;++c){var H=L[c].trim();if(H.match(/<t[dh]/i)){for(var F=H,z=0;F.charAt(0)=="<"&&(z=F.indexOf(">"))>-1;)F=F.slice(z+1);for(var B=0;B<A.length;++B){var j=A[B];j.s.c==p&&j.s.r<f&&f<=j.e.r&&(p=j.e.c+1,B=-1)}var I=dt(H.slice(0,H.indexOf(">")));y=I.colspan?+I.colspan:1,((v=+I.rowspan)>1||y>1)&&A.push({s:{r:f,c:p},e:{r:f+(v||1)-1,c:p+y-1}});var N=I.t||I["data-t"]||"";if(!F.length){p+=y;continue}if(F=wA(F),S.s.r>f&&(S.s.r=f),S.e.r<f&&(S.e.r=f),S.s.c>p&&(S.s.c=p),S.e.c<p&&(S.e.c=p),!F.length){p+=y;continue}var C={t:"s",v:F};n.raw||!F.trim().length||N=="s"||(F==="TRUE"?C={t:"b",v:!0}:F==="FALSE"?C={t:"b",v:!1}:isNaN(Zi(F))?isNaN(nc(F).getDate())||(C={t:"d",v:ar(F)},n.cellDates||(C={t:"n",v:zr(C.v)}),C.z=n.dateNF||yt[14]):C={t:"n",v:Zi(F)}),n.dense?(r[f]||(r[f]=[]),r[f][p]=C):r[mt({r:f,c:p})]=C,p+=y}}}}return r["!ref"]=Ut(S),A.length&&(r["!merges"]=A),r}function zP(t,e,n,r){for(var i=t["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,d=0,f=0;f<i.length;++f)if(!(i[f].s.r>n||i[f].s.c>l)&&!(i[f].e.r<n||i[f].e.c<l)){if(i[f].s.r<n||i[f].s.c<l){c=-1;break}c=i[f].e.r-i[f].s.r+1,d=i[f].e.c-i[f].s.c+1;break}if(!(c<0)){var p=mt({r:n,c:l}),v=r.dense?(t[n]||[])[l]:t[p],y=v&&v.v!=null&&(v.h||fv(v.w||(Xa(v),v.w)||""))||"",S={};c>1&&(S.rowspan=c),d>1&&(S.colspan=d),r.editable?y='<span contenteditable="true">'+y+"</span>":v&&(S["data-t"]=v&&v.t||"z",v.v!=null&&(S["data-v"]=v.v),v.z!=null&&(S["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+v.l.Target+'">'+y+"</a>")),S.id=(r.id||"sjs")+"-"+p,s.push(Ik("td",y,S))}}var A="<tr>";return A+s.join("")+"</tr>"}var qP='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jP="</body></html>";function $P(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Ws(XE(n[0],e),e);var r=Iv();return n.forEach(function(i,s){Rv(r,XE(i,e),"Sheet"+(s+1))}),r}function YP(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function KP(t,e){var n=e||{},r=n.header!=null?n.header:qP,i=n.footer!=null?n.footer:jP,s=[r],l=uc(t["!ref"]);n.dense=Array.isArray(t),s.push(YP(t,l,n));for(var c=l.s.r;c<=l.e.r;++c)s.push(zP(t,l,c,n));return s.push("</table>"+i),s.join("")}function Rw(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?Hr(r.origin):r.origin;i=l.r,s=l.c}var c=e.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var p=uc(t["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),i==-1&&(f.e.r=i=p.e.r+1)}var v=[],y=0,S=t["!rows"]||(t["!rows"]=[]),A=0,w=0,b=0,L=0,H=0,F=0;for(t["!cols"]||(t["!cols"]=[]);A<c.length&&w<d;++A){var z=c[A];if(WE(z)){if(r.display)continue;S[w]={hidden:!0}}var B=z.children;for(b=L=0;b<B.length;++b){var j=B[b];if(!(r.display&&WE(j))){var I=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):wA(j.innerHTML),N=j.getAttribute("data-z")||j.getAttribute("z");for(y=0;y<v.length;++y){var C=v[y];C.s.c==L+s&&C.s.r<w+i&&w+i<=C.e.r&&(L=C.e.c+1-s,y=-1)}F=+j.getAttribute("colspan")||1,((H=+j.getAttribute("rowspan")||1)>1||F>1)&&v.push({s:{r:w+i,c:L+s},e:{r:w+i+(H||1)-1,c:L+s+(F||1)-1}});var P={t:"s",v:I},D=j.getAttribute("data-t")||j.getAttribute("t")||"";I!=null&&(I.length==0?P.t=D||"z":r.raw||I.trim().length==0||D=="s"||(I==="TRUE"?P={t:"b",v:!0}:I==="FALSE"?P={t:"b",v:!1}:isNaN(Zi(I))?isNaN(nc(I).getDate())||(P={t:"d",v:ar(I)},r.cellDates||(P={t:"n",v:zr(P.v)}),P.z=r.dateNF||yt[14]):P={t:"n",v:Zi(I)})),P.z===void 0&&N!=null&&(P.z=N);var k="",U=j.getElementsByTagName("A");if(U&&U.length)for(var Ee=0;Ee<U.length&&!(U[Ee].hasAttribute("href")&&(k=U[Ee].getAttribute("href"),k.charAt(0)!="#"));++Ee);k&&k.charAt(0)!="#"&&(P.l={Target:k}),r.dense?(t[w+i]||(t[w+i]=[]),t[w+i][L+s]=P):t[mt({c:L+s,r:w+i})]=P,f.e.c<L+s&&(f.e.c=L+s),L+=F}}++w}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),f.e.r=Math.max(f.e.r,w-1+i),t["!ref"]=Ut(f),w>=d&&(t["!fullref"]=Ut((f.e.r=c.length-A+w-1+i,f))),t}function kw(t,e){var n=e||{},r=n.dense?[]:{};return Rw(r,t,e)}function JP(t,e){return Ws(kw(t,e),e)}function WE(t){var e="",n=XP(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function XP(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function WP(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Vt(e.replace(/<[^>]*>/g,""));return[n]}var QE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Dw(t,e){var n=e||{},r=dv(t),i=[],s,l,c={name:""},d="",f=0,p,v,y={},S=[],A=n.dense?[]:{},w,b,L={value:""},H="",F=0,z=[],B=-1,j=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,C={},P=[],D={},k=0,U=0,Ee=[],Se=1,ae=1,le=[],Re={Names:[]},ie={},Fe=["",""],W=[],V={},X="",Q=0,te=!1,ce=!1,be=0;for(Xu.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=Xu.exec(r);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?A["!ref"]=Ut(I):A["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=I.e.r&&(A["!fullref"]=A["!ref"],I.e.r=n.sheetRows-1,A["!ref"]=Ut(I)),P.length&&(A["!merges"]=P),Ee.length&&(A["!rows"]=Ee),p.name=p.||p.name,typeof JSON<"u"&&JSON.stringify(p),S.push(p.name),y[p.name]=A,ce=!1):w[0].charAt(w[0].length-2)!=="/"&&(p=dt(w[0],!1),B=j=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,A=n.dense?[]:{},P=[],Ee=[],ce=!0);break;case"table-row-group":w[1]==="/"?--N:++N;break;case"table-row":case"":if(w[1]==="/"){B+=Se,Se=1;break}if(v=dt(w[0],!1),v.?B=v.-1:B==-1&&(B=0),Se=+v["number-rows-repeated"]||1,Se<10)for(be=0;be<Se;++be)N>0&&(Ee[B+be]={level:N});j=-1;break;case"covered-table-cell":w[1]!=="/"&&++j,n.sheetStubs&&(n.dense?(A[B]||(A[B]=[]),A[B][j]={t:"z"}):A[mt({r:B,c:j})]={t:"z"}),H="",z=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++j,L=dt(w[0],!1),ae=parseInt(L["number-columns-repeated"]||"1",10),b={t:"z",v:null},L.formula&&n.cellFormula!=!1&&(b.f=$E(Vt(L.formula))),(L.||L["value-type"])=="string"&&(b.t="s",b.v=Vt(L["string-value"]||""),n.dense?(A[B]||(A[B]=[]),A[B][j]=b):A[mt({r:B,c:j})]=b),j+=ae-1;else if(w[1]!=="/"){++j,H="",F=0,z=[],ae=1;var Ce=Se?B+Se-1:B;if(j>I.e.c&&(I.e.c=j),j<I.s.c&&(I.s.c=j),B<I.s.r&&(I.s.r=B),Ce>I.e.r&&(I.e.r=Ce),L=dt(w[0],!1),W=[],V={},b={t:L.||L["value-type"],v:null},n.cellFormula)if(L.formula&&(L.formula=Vt(L.formula)),L["number-matrix-columns-spanned"]&&L["number-matrix-rows-spanned"]&&(k=parseInt(L["number-matrix-rows-spanned"],10)||0,U=parseInt(L["number-matrix-columns-spanned"],10)||0,D={s:{r:B,c:j},e:{r:B+k-1,c:j+U-1}},b.F=Ut(D),le.push([D,b.F])),L.formula)b.f=$E(L.formula);else for(be=0;be<le.length;++be)B>=le[be][0].s.r&&B<=le[be][0].e.r&&j>=le[be][0].s.c&&j<=le[be][0].e.c&&(b.F=le[be][1]);switch((L["number-columns-spanned"]||L["number-rows-spanned"])&&(k=parseInt(L["number-rows-spanned"],10)||0,U=parseInt(L["number-columns-spanned"],10)||0,D={s:{r:B,c:j},e:{r:B+k-1,c:j+U-1}},P.push(D)),L["number-columns-repeated"]&&(ae=parseInt(L["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=En(L["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(L.value);break;case"percentage":b.t="n",b.v=parseFloat(L.value);break;case"currency":b.t="n",b.v=parseFloat(L.value);break;case"date":b.t="d",b.v=ar(L["date-value"]),n.cellDates||(b.t="n",b.v=zr(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=uk(L["time-value"])/86400,n.cellDates&&(b.t="d",b.v=fh(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(L.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",L["string-value"]!=null&&(H=Vt(L["string-value"]),z=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(te=!1,b.t==="s"&&(b.v=H||"",z.length&&(b.R=z),te=F==0),ie.Target&&(b.l=ie),W.length>0&&(b.c=W,W=[]),H&&n.cellText!==!1&&(b.w=H),te&&(b.t="z",delete b.v),(!te||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=B))for(var we=0;we<Se;++we){if(ae=parseInt(L["number-columns-repeated"]||"1",10),n.dense)for(A[B+we]||(A[B+we]=[]),A[B+we][j]=we==0?b:vr(b);--ae>0;)A[B+we][j+ae]=vr(b);else for(A[mt({r:B+we,c:j})]=b;--ae>0;)A[mt({r:B+we,c:j+ae})]=vr(b);I.e.c<=j&&(I.e.c=j)}ae=parseInt(L["number-columns-repeated"]||"1",10),j+=ae-1,ae=0,b={},H="",z=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;V.t=H,z.length&&(V.R=z),V.a=X,W.push(V)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);X="",Q=0,H="",F=0,z=[];break;case"creator":w[1]==="/"?X=r.slice(Q,w.index):Q=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);H="",F=0,z=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(C[c.name]=d,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(d="",c=dt(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=dt(w[0],!1),d+=QE[w[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=dt(w[0],!1),d+=QE[w[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":d+=r.slice(f,w.index);break}else f=w.index+w[0].length;break;case"named-range":l=dt(w[0],!1),Fe=Pm(l["cell-range-address"]);var ke={Name:l.name,Ref:Fe[0]+"!"+Fe[1]};ce&&(ke.Sheet=S.length),Re.Names.push(ke);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!L||!L["string-value"])){var $e=WP(r.slice(F,w.index));H=(H.length>0?H+`
`:"")+$e[0]}else dt(w[0],!1),F=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{Fe=Pm(dt(w[0])["target-range-address"]),y[Fe[0]]["!autofilter"]={ref:Fe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(ie=dt(w[0],!1),!ie.href)break;ie.Target=Vt(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(Fe=Pm(ie.Target.slice(1)),ie.Target="#"+Fe[0]+"!"+Fe[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(w)}}var ne={Sheets:y,SheetNames:S,Workbook:Re};return n.bookSheets&&delete ne.Sheets,ne}function ZE(t,e){e=e||{},Ni(t,"META-INF/manifest.xml")&&h3($n(t,"META-INF/manifest.xml"),e);var n=hi(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=Dw(fn(n),e);return Ni(t,"meta.xml")&&(r.Props=jA($n(t,"meta.xml"))),r}function eT(t,e){return Dw(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function wv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function fg(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):fn(jo(t))}function dg(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function tT(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function QP(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function ef(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Zn(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ir(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=ef(t,n),s=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(s){case 0:{for(var d=n[0];t[n[0]++]>=128;);c=t.slice(d,n[0])}break;case 5:l=4,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=ef(t,n),c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var f={data:c,type:s};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function Cv(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function ZP(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=ef(t,r),s=Ir(t.slice(r[0],r[0]+i));r[0]+=i;var l={id:Zn(s[1][0].data),messages:[]};s[2].forEach(function(c){var d=Ir(c.data),f=Zn(d[3][0].data);l.messages.push({meta:d,data:t.slice(r[0],r[0]+f)}),r[0]+=f}),(e=s[3])!=null&&e[0]&&(l.merge=Zn(s[3][0].data)>>>0>0),n.push(l)}return n}function eO(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=ef(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var l=e[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[n[0]],c>1&&(l|=e[n[0]+1]<<8),c>2&&(l|=e[n[0]+2]<<16),c>3&&(l|=e[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(e.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var d=0,f=0;if(s==1?(f=(e[n[0]]>>2&7)+4,d=(e[n[0]++]&224)<<3,d|=e[n[0]++]):(f=(e[n[0]++]>>2)+1,s==2?(d=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(d=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[dg(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(i.push(i[0].slice(-d)),f-=d;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-d,-d+f))}}var p=dg(i);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function tO(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(eO(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return dg(e)}function nO(t,e,n,r){var i=wv(t),s=i.getUint32(4,!0),l=(r>1?12:8)+tT(s&(r>1?3470:398))*4,c=-1,d=-1,f=NaN,p=new Date(2001,0,1);s&512&&(c=i.getUint32(l,!0),l+=4),l+=tT(s&(r>1?12288:4096))*4,s&16&&(d=i.getUint32(l,!0),l+=4),s&32&&(f=i.getFloat64(l,!0),l+=8),s&64&&(p.setTime(p.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var v;switch(t[2]){case 0:break;case 2:v={t:"n",v:f};break;case 3:v={t:"s",v:e[d]};break;case 5:v={t:"d",v:p};break;case 6:v={t:"b",v:f>0};break;case 7:v={t:"n",v:f/86400};break;case 8:v={t:"e",v:0};break;case 9:if(c>-1)v={t:"s",v:n[c]};else if(d>-1)v={t:"s",v:e[d]};else if(!isNaN(f))v={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return v}function rO(t,e,n){var r=wv(t),i=r.getUint32(8,!0),s=12,l=-1,c=-1,d=NaN,f=NaN,p=new Date(2001,0,1);i&1&&(d=QP(t,s),s+=16),i&2&&(f=r.getFloat64(s,!0),s+=8),i&4&&(p.setTime(p.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=r.getUint32(s,!0),s+=4),i&16&&(l=r.getUint32(s,!0),s+=4);var v;switch(t[1]){case 0:break;case 2:v={t:"n",v:d};break;case 3:v={t:"s",v:e[c]};break;case 5:v={t:"d",v:p};break;case 6:v={t:"b",v:f>0};break;case 7:v={t:"n",v:f/86400};break;case 8:v={t:"e",v:0};break;case 9:if(l>-1)v={t:"s",v:n[l]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:v={t:"n",v:d};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return v}function iO(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return nO(t,e,n,t[0]);case 5:return rO(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Gs(t){var e=Ir(t);return ef(e[1][0].data)}function nT(t,e){var n=Ir(e.data),r=Zn(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(l){var c=Ir(l.data),d=Zn(c[1][0].data)>>>0;switch(r){case 1:s[d]=fg(c[3][0].data);break;case 8:{var f=t[Gs(c[9][0].data)][0],p=Ir(f.data),v=t[Gs(p[1][0].data)][0],y=Zn(v.meta[1][0].data);if(y!=2001)throw new Error("2000 unexpected reference to ".concat(y));var S=Ir(v.data);s[d]=S[3].map(function(A){return fg(A.data)}).join("")}break}}),s}function aO(t,e){var n,r,i,s,l,c,d,f,p,v,y,S,A,w,b=Ir(t),L=Zn(b[1][0].data)>>>0,H=Zn(b[2][0].data)>>>0,F=((r=(n=b[8])==null?void 0:n[0])==null?void 0:r.data)&&Zn(b[8][0].data)>0||!1,z,B;if((s=(i=b[7])==null?void 0:i[0])!=null&&s.data&&e!=0)z=(c=(l=b[7])==null?void 0:l[0])==null?void 0:c.data,B=(f=(d=b[6])==null?void 0:d[0])==null?void 0:f.data;else if((v=(p=b[4])==null?void 0:p[0])!=null&&v.data&&e!=1)z=(S=(y=b[4])==null?void 0:y[0])==null?void 0:S.data,B=(w=(A=b[3])==null?void 0:A[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var j=F?4:1,I=wv(z),N=[],C=0;C<z.length/2;++C){var P=I.getUint16(C*2,!0);P<65535&&N.push([C,P])}if(N.length!=H)throw"Expected ".concat(H," cells, found ").concat(N.length);var D=[];for(C=0;C<N.length-1;++C)D[N[C][0]]=B.subarray(N[C][1]*j,N[C+1][1]*j);return N.length>=1&&(D[N[N.length-1][0]]=B.subarray(N[N.length-1][1]*j)),{R:L,cells:D}}function sO(t,e){var n,r=Ir(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Zn(r[7][0].data)>>>0>0?1:0:-1,s=Cv(r[5],function(l){return aO(l,i)});return{nrows:Zn(r[4][0].data)>>>0,data:s.reduce(function(l,c){return l[c.R]||(l[c.R]=[]),c.cells.forEach(function(d,f){if(l[c.R][f])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(f));l[c.R][f]=d}),l},[])}}function oO(t,e,n){var r,i=Ir(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Zn(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Zn(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Ut(s);var l=Ir(i[4][0].data),c=nT(t,t[Gs(l[4][0].data)][0]),d=(r=l[17])!=null&&r[0]?nT(t,t[Gs(l[17][0].data)][0]):[],f=Ir(l[3][0].data),p=0;f[1].forEach(function(v){var y=Ir(v.data),S=t[Gs(y[2][0].data)][0],A=Zn(S.meta[1][0].data);if(A!=6002)throw new Error("6001 unexpected reference to ".concat(A));var w=sO(t,S);w.data.forEach(function(b,L){b.forEach(function(H,F){var z=mt({r:p+L,c:F}),B=iO(H,c,d);B&&(n[z]=B)})}),p+=w.nrows})}function lO(t,e){var n=Ir(e.data),r={"!ref":"A1"},i=t[Gs(n[2][0].data)],s=Zn(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return oO(t,i[0],r),r}function cO(t,e){var n,r=Ir(e.data),i={name:(n=r[1])!=null&&n[0]?fg(r[1][0].data):"",sheets:[]},s=Cv(r[2],Gs);return s.forEach(function(l){t[l].forEach(function(c){var d=Zn(c.meta[1][0].data);d==6e3&&i.sheets.push(lO(t,c))})}),i}function uO(t,e){var n=Iv(),r=Ir(e.data),i=Cv(r[1],Gs);if(i.forEach(function(s){t[s].forEach(function(l){var c=Zn(l.meta[1][0].data);if(c==2){var d=cO(t,l);d.sheets.forEach(function(f,p){Rv(n,f,p==0?d.name:d.name+"_"+p,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Lm(t){var e,n,r,i,s={},l=[];if(t.FullPaths.forEach(function(d){if(d.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(d){if(d.name.match(/\.iwa$/)){var f;try{f=tO(d.content)}catch(v){return console.log("?? "+d.content.length+" "+(v.message||v))}var p;try{p=ZP(f)}catch(v){return console.log("## "+(v.message||v))}p.forEach(function(v){s[v.id]=v.messages,l.push(v.id)})}}),!l.length)throw new Error("File has no messages");var c=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Zn(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||l.forEach(function(d){s[d].forEach(function(f){var p=Zn(f.meta[1][0].data)>>>0;if(p==1)if(!c)c=f;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return uO(s,c)}function fO(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function bv(t){fO([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function dO(t){return Hl.WS.indexOf(t)>-1?"sheet":t==Hl.CS?"chart":t==Hl.DS?"dialog":t==Hl.MS?"macro":t&&t.length?t:"sheet"}function hO(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,dO(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function pO(t,e,n,r,i,s,l,c,d,f,p,v){try{s[r]=ku(hi(t,n,!0),e);var y=$n(t,e),S;switch(c){case"sheet":S=_P(y,e,i,d,s[r],f,p,v);break;case"chart":if(S=EP(y,e,i,d,s[r],f,p,v),!S||!S["!drawel"])break;var A=Tu(S["!drawel"].Target,e),w=sg(A),b=y6(hi(t,A,!0),ku(hi(t,w,!0),A)),L=Tu(b,A),H=sg(L);S=rP(hi(t,L,!0),L,d,ku(hi(t,H,!0),L),f,S);break;case"macro":S=TP(y,e,i,d,s[r],f,p,v);break;case"dialog":S=SP(y,e,i,d,s[r],f,p,v);break;default:throw new Error("Unrecognized sheet type "+c)}l[r]=S;var F=[];s&&s[r]&&xa(s[r]).forEach(function(z){var B="";if(s[r][z].Type==Hl.CMNT){B=Tu(s[r][z].Target,e);var j=bP($n(t,B,!0),B,d);if(!j||!j.length)return;HE(S,j,!1)}s[r][z].Type==Hl.TCMNT&&(B=Tu(s[r][z].Target,e),F=F.concat(E6($n(t,B,!0),d)))}),F&&F.length&&HE(S,F,!0,d.people||[])}catch(z){if(d.WTF)throw z}}function Ci(t){return t.charAt(0)=="/"?t.slice(1):t}function mO(t,e){if(gA(),e=e||{},bv(e),Ni(t,"META-INF/manifest.xml")||Ni(t,"objectdata.xml"))return ZE(t,e);if(Ni(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Lm<"u"){if(t.FileIndex)return Lm(t);var n=Lt.utils.cfb_new();return pE(t).forEach(function(Ee){gk(n,Ee,mk(t,Ee))}),Lm(n)}throw new Error("Unsupported NUMBERS file")}if(!Ni(t,"[Content_Types].xml"))throw Ni(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ni(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=pE(t),i=f3(hi(t,"[Content_Types].xml")),s=!1,l,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",$n(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!$n(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var d={},f={};if(!e.bookSheets&&!e.bookProps){if(Fu=[],i.sst)try{Fu=CP($n(t,Ci(i.sst)),i.sst,e)}catch(Ee){if(e.WTF)throw Ee}e.cellStyles&&i.themes.length&&(d=wP(hi(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(f=AP($n(t,Ci(i.style)),i.style,d,e))}i.links.map(function(Ee){try{var Se=ku(hi(t,sg(Ci(Ee))),Ee);return IP($n(t,Ci(Ee)),Se,Ee,e)}catch{}});var p=yP($n(t,Ci(i.workbooks[0])),i.workbooks[0],e),v={},y="";i.coreprops.length&&(y=$n(t,Ci(i.coreprops[0]),!0),y&&(v=jA(y)),i.extprops.length!==0&&(y=$n(t,Ci(i.extprops[0]),!0),y&&g3(y,v,e)));var S={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(y=hi(t,Ci(i.custprops[0]),!0),y&&(S=x3(y,e)));var A={};if((e.bookSheets||e.bookProps)&&(p.Sheets?l=p.Sheets.map(function(Se){return Se.name}):v.Worksheets&&v.SheetNames.length>0&&(l=v.SheetNames),e.bookProps&&(A.Props=v,A.Custprops=S),e.bookSheets&&typeof l<"u"&&(A.SheetNames=l),e.bookSheets?A.SheetNames:e.bookProps))return A;l={};var w={};e.bookDeps&&i.calcchain&&(w=NP($n(t,Ci(i.calcchain)),i.calcchain));var b=0,L={},H,F;{var z=p.Sheets;v.Worksheets=z.length,v.SheetNames=[];for(var B=0;B!=z.length;++B)v.SheetNames[B]=z[B].name}var j=s?"bin":"xml",I=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,I+1)+"_rels/"+i.workbooks[0].slice(I+1)+".rels").replace(/^\//,"");Ni(t,N)||(N="xl/_rels/workbook."+j+".rels");var C=ku(hi(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=RP($n(t,Ci(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=T6($n(t,Ci(i.people[0])),e)),C&&(C=hO(C,p.Sheets));var P=$n(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=v.Worksheets;++b){var D="sheet";if(C&&C[b]?(H="xl/"+C[b][1].replace(/[\/]?xl\//,""),Ni(t,H)||(H=C[b][1]),Ni(t,H)||(H=N.replace(/_rels\/.*$/,"")+C[b][1]),D=C[b][2]):(H="xl/worksheets/sheet"+(b+1-P)+"."+j,H=H.replace(/sheet0\./,"sheet.")),F=H.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(b!=e.sheets)continue e;break;case"string":if(v.SheetNames[b].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==b&&(k=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==v.SheetNames[b].toLowerCase()&&(k=1);if(!k)continue e}}pO(t,H,F,v.SheetNames[b],b,L,l,D,e,p,d,f)}return A={Directory:i,Workbook:p,Props:v,Custprops:S,Deps:w,Sheets:l,SheetNames:v.SheetNames,Strings:Fu,Styles:f,Themes:d,SSF:vr(yt)},e&&e.bookFiles&&(t.files?(A.keys=r,A.files=t.files):(A.keys=[],A.files={},t.FullPaths.forEach(function(Ee,Se){Ee=Ee.replace(/^Root Entry[\/]/,""),A.keys.push(Ee),A.files[Ee]=t.FileIndex[Se]}))),e&&e.bookVBA&&(i.vba.length>0?A.vbaraw=$n(t,Ci(i.vba[0]),!0):i.defaults&&i.defaults.bin===C6&&(A.vbaraw=$n(t,"xl/vbaProject.bin",!0))),A}function gO(t,e){var n=e||{},r="Workbook",i=Lt.find(t,r);try{if(r="/!DataSpaces/Version",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(lM(i.content),r="/!DataSpaces/DataSpaceMap",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=uM(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=fM(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);hM(i.content)}catch{}if(r="/EncryptionInfo",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=pM(i.content);if(r="/EncryptedPackage",i=Lt.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function Nv(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=pi(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function vO(t,e){return Lt.find(t,"EncryptedPackage")?gO(t,e):Iw(t,e)}function xO(t,e){var n,r=t,i=e||{};return i.type||(i.type=Mt&&Buffer.isBuffer(t)?"buffer":"base64"),n=TA(r,i),mO(n,i)}function Mw(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return cg(t.slice(n),e);default:break e}return Wu.to_workbook(t,e)}function yO(t,e){var n="",r=Nv(t,e);switch(e.type){case"base64":n=pi(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Lo(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=fn(n)),e.type="binary",Mw(n,e)}function _O(t,e){var n=t;return e.type=="base64"&&(n=pi(n)),n=Yu.utils.decode(1200,n.slice(2),"str"),e.type="binary",Mw(n,e)}function EO(t){return t.match(/[^\x00-\x7F]/)?Su(t):t}function Um(t,e,n,r){return r?(n.type="string",Wu.to_workbook(t,n)):Wu.to_workbook(e,n)}function L0(t,e){iA();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return L0(new Uint8Array(t),(n=vr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Jl={},n.dateNF&&(Jl.dateNF=n.dateNF),n.type||(n.type=Mt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Mt?"buffer":"binary",r=lk(t),typeof Uint8Array<"u"&&!Mt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=EO(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),c=new Uint8Array(l);if(c.foo="bar",!c.foo)return n=vr(n),n.type="array",L0(sv(r),n)}switch((i=Nv(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return vO(Lt.read(r,n),n);break;case 9:if(i[1]<=8)return Iw(r,n);break;case 60:return cg(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return JD(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return YD.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?xO(r,n):Um(t,r,n,s);case 239:return i[3]===60?cg(r,n):Um(t,r,n,s);case 255:if(i[1]===254)return _O(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Mu.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Mu.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return BE.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return CM.to_workbook(r,n);break;case 10:case 13:case 32:return yO(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return jD.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?BE.to_workbook(r,n):Um(t,r,n,s)}function TO(t,e,n,r,i,s,l,c){var d=xr(n),f=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),v=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:n,enumerable:!1})}catch{y.__rowNum__=n}else y.__rowNum__=n;if(!l||t[n])for(var S=e.s.c;S<=e.e.c;++S){var A=l?t[n][S]:t[r[S]+d];if(A===void 0||A.t===void 0){if(f===void 0)continue;s[S]!=null&&(y[s[S]]=f);continue}var w=A.v;switch(A.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+A.t)}if(s[S]!=null){if(w==null)if(A.t=="e"&&w===null)y[s[S]]=null;else if(f!==void 0)y[s[S]]=f;else if(p&&w===null)y[s[S]]=null;else continue;else y[s[S]]=p&&(A.t!=="n"||A.t==="n"&&c.rawNumbers!==!1)?w:Xa(A,w,c);w!=null&&(v=!1)}}return{row:y,isempty:v}}function hg(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},p=f.range!=null?f.range:t["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof p){case"string":d=In(p);break;case"number":d=In(t["!ref"]),d.s.r=p;break;default:d=p}r>0&&(i=0);var v=xr(d.s.r),y=[],S=[],A=0,w=0,b=Array.isArray(t),L=d.s.r,H=0,F={};b&&!t[L]&&(t[L]=[]);var z=f.skipHidden&&t["!cols"]||[],B=f.skipHidden&&t["!rows"]||[];for(H=d.s.c;H<=d.e.c;++H)if(!(z[H]||{}).hidden)switch(y[H]=Qn(H),n=b?t[L][H]:t[y[H]+v],r){case 1:s[H]=H-d.s.c;break;case 2:s[H]=y[H];break;case 3:s[H]=f.header[H-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=Xa(n,null,f),w=F[l]||0,!w)F[l]=1;else{do c=l+"_"+w++;while(F[c]);F[l]=w,F[c]=1}s[H]=c}for(L=d.s.r+i;L<=d.e.r;++L)if(!(B[L]||{}).hidden){var j=TO(t,d,L,y,r,s,b,f);(j.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(S[A++]=j.row)}return S.length=A,S}var rT=/"/g;function SO(t,e,n,r,i,s,l,c){for(var d=!0,f=[],p="",v=xr(n),y=e.s.c;y<=e.e.c;++y)if(r[y]){var S=c.dense?(t[n]||[])[y]:t[r[y]+v];if(S==null)p="";else if(S.v!=null){d=!1,p=""+(c.rawNumbers&&S.t=="n"?S.v:Xa(S,null,c));for(var A=0,w=0;A!==p.length;++A)if((w=p.charCodeAt(A))===i||w===s||w===34||c.forceQuotes){p='"'+p.replace(rT,'""')+'"';break}p=="ID"&&(p='"ID"')}else S.f!=null&&!S.F?(d=!1,p="="+S.f,p.indexOf(",")>=0&&(p='"'+p.replace(rT,'""')+'"')):p="";f.push(p)}return c.blankrows===!1&&d?null:f.join(l)}function Fw(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=In(t["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,d=c.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),p="",v=[];r.dense=Array.isArray(t);for(var y=r.skipHidden&&t["!cols"]||[],S=r.skipHidden&&t["!rows"]||[],A=i.s.c;A<=i.e.c;++A)(y[A]||{}).hidden||(v[A]=Qn(A));for(var w=0,b=i.s.r;b<=i.e.r;++b)(S[b]||{}).hidden||(p=SO(t,i,b,v,l,d,s,r),p!=null&&(r.strip&&(p=p.replace(f,"")),(p||r.blankrows!==!1)&&n.push((w++?c:"")+p)));return delete r.dense,n.join("")}function AO(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=Fw(t,e);return n}function wO(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=In(t["!ref"]),s="",l=[],c,d=[],f=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=Qn(c);for(var p=i.s.r;p<=i.e.r;++p)for(s=xr(p),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+s,n=f?(t[p]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=e+"="+r}return d}function Pw(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},l=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?Hr(r.origin):r.origin;l=d.r,c=d.c}var f,p={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(s["!ref"]){var v=In(s["!ref"]);p.e.c=Math.max(p.e.c,v.e.c),p.e.r=Math.max(p.e.r,v.e.r),l==-1&&(l=v.e.r+1,p.e.r=l+e.length-1+i)}else l==-1&&(l=0,p.e.r=e.length-1+i);var y=r.header||[],S=0;e.forEach(function(w,b){xa(w).forEach(function(L){(S=y.indexOf(L))==-1&&(y[S=y.length]=L);var H=w[L],F="z",z="",B=mt({c:c+S,r:l+b+i});f=tf(s,B),H&&typeof H=="object"&&!(H instanceof Date)?s[B]=H:(typeof H=="number"?F="n":typeof H=="boolean"?F="b":typeof H=="string"?F="s":H instanceof Date?(F="d",r.cellDates||(F="n",H=zr(H)),z=r.dateNF||yt[14]):H===null&&r.nullError&&(F="e",H=0),f?(f.t=F,f.v=H,delete f.w,delete f.R,z&&(f.z=z)):s[B]=f={t:F,v:H},z&&(f.z=z))})}),p.e.c=Math.max(p.e.c,c+y.length-1);var A=xr(l);if(i)for(S=0;S<y.length;++S)s[Qn(S+c)+A]={t:"s",v:y[S]};return s["!ref"]=Ut(p),s}function CO(t,e){return Pw(null,t,e)}function tf(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Hr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?tf(t,mt(e)):tf(t,mt({r:e,c:n||0}))}function bO(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Iv(){return{SheetNames:[],Sheets:{}}}function Rv(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=l+i)!=-1;++i);}if(fP(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function NO(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=bO(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function IO(t,e){return t.z=e,t}function Ow(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function RO(t,e,n){return Ow(t,"#"+e,n)}function kO(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function DO(t,e,n,r){for(var i=typeof e!="string"?e:In(e),s=typeof e=="string"?e:Ut(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var d=tf(t,l,c);d.t="n",d.F=s,delete d.v,l==i.s.r&&c==i.s.c&&(d.f=n,r&&(d.D=!0))}return t}var m0={encode_col:Qn,encode_row:xr,encode_cell:mt,encode_range:Ut,decode_col:mv,decode_row:pv,split_cell:qk,decode_cell:Hr,decode_range:uc,format_cell:Xa,sheet_add_aoa:BA,sheet_add_json:Pw,sheet_add_dom:Rw,aoa_to_sheet:fc,json_to_sheet:CO,table_to_sheet:kw,table_to_book:JP,sheet_to_csv:Fw,sheet_to_txt:AO,sheet_to_json:hg,sheet_to_html:KP,sheet_to_formulae:wO,sheet_to_row_object_array:hg,sheet_get_cell:tf,book_new:Iv,book_append_sheet:Rv,book_set_sheet_visibility:NO,cell_set_number_format:IO,cell_set_hyperlink:Ow,cell_set_internal_link:RO,cell_add_comment:kO,sheet_set_array_formula:DO,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Lw=t=>String(t).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),MO=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},iT=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},FO=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var s;try{const l=(s=i.target)==null?void 0:s.result,c=L0(l,{type:"binary"}),d=c.SheetNames[0],f=c.Sheets[d];if(!f["!ref"]){e([]);return}const p=m0.decode_range(f["!ref"]),v=[],y=[],S=p.s.r;for(let A=p.s.c;A<=p.e.c;++A){const w=m0.encode_cell({c:A,r:S}),b=f[w];if(b&&b.v){const L=String(b.v);y.push({index:A,name:L,normalized:Lw(L)})}}for(let A=S+1;A<=p.e.r;++A){const w={};let b;if(y.forEach(P=>{const D=m0.encode_cell({c:P.index,r:A}),k=f[D];k&&(w[P.normalized]=k.v,!b&&(P.normalized.includes("endereco")||P.normalized.includes("logradouro")||P.normalized.includes("localizacao")||P.normalized==="rua"||P.normalized==="mapa"||P.normalized==="link")&&k.l&&k.l.Target&&(b=k.l.Target))}),Object.keys(w).length===0)continue;const L=w.endereco||w.logradouro||w.localizacao||w["endereco completo"]||w.rua||w.end||"",{address:H,link:F,lat:z,lng:B}=ZS(L),j=b||F,I=w["razao social"]||w.cliente||w["nome fantasia"]||w.empresa||w.nome||w["nome cliente"]||w.parceiro||w.loja||"",N=w["nome do proprietario"]||w.proprietario||w.dono||w["contato principal"]||w.responsavel||w.socio||"",C=String(w.contato||w.telefone||w.celular||w.whatsapp||w.tel||w.fone||"");(I||H||L)&&v.push({"Razo Social":I,"Nome do Proprietrio":N,Contato:C,Endereo:H,GoogleMapsLink:j,extractedLat:z,extractedLng:B})}e(v)}catch(l){console.error("Excel Parsing Error:",l),n(l)}},r.onerror=i=>n(i),r.readAsBinaryString(t)}),Uw=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var s;try{const l=(s=i.target)==null?void 0:s.result,c=L0(l,{type:"binary"}),d=c.SheetNames[0],f=c.Sheets[d],p=[];m0.sheet_to_json(f,{defval:""}).forEach(y=>{const S={};Object.keys(y).forEach(j=>{S[Lw(j)]=y[j]});const A=String(S["numero do sku"]||S.sku||""),w=S.marca||S.fabricante||"Genrico",b=String(S["cod.fabrica"]||S["cod fabrica"]||S["codigo fabrica"]||""),L=S.descricao||S.nome||S.produto||"",H=MO(S["preco de venda"]||S.preco||0),F=S.categoria||w||"Geral",z=iT(S.margem||0),B=iT(S.desconto||S.discount||0);(A||L)&&p.push({category:F,sku:A,brand:w,factoryCode:b,name:L,price:H,margin:z,discount:B})}),e(p)}catch(l){console.error("Product Excel Parsing Error:",l),n(l)}},r.onerror=i=>n(i),r.readAsBinaryString(t)});var PO={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let OO,LO;function UO(){return{geminiUrl:OO,vertexUrl:LO}}function VO(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const l=UO();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(s=l.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class es{}function Ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let s=0;s<e.length-1;s++){const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];g(p,e.slice(s+1),n[f])}else for(const f of d)g(f,e.slice(s+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];g(d[0],e.slice(s+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function BO(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),l=new Set;let c=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){c=d;break}if(c!==-1&&s.length>c)for(let d=c;d<s.length;d++){const f=s[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}pg(t,i,s,0,l)}}function pg(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const l=s.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const d of c[l])pg(d,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of c)d[f]=l[f];for(const[f,p]of Object.entries(d)){const v=[];for(const y of n.slice(r))y==="*"?v.push(f):v.push(y);g(l,v,p)}for(const f of c)delete l[f]}}else{const l=t;s in l&&pg(l[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kv(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HO(t){const e={},n=m(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function GO(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],qO(l)),e}function zO(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],jO(l)),e}function qO(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>$O(l))),g(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function jO(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>YO(l))),g(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function $O(t){const e={},n=m(t,["video"]);return n!=null&&g(e,["video"],ZO(n)),e}function YO(t){const e={},n=m(t,["_self"]);return n!=null&&g(e,["video"],eL(n)),e}function KO(t){const e={},n=m(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function JO(t){const e={},n=m(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function XO(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],WO(l)),e}function WO(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&g(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function Vw(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],QO(l)),e}function QO(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&g(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function ZO(t){const e={},n=m(t,["uri"]);n!=null&&g(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],kv(r));const i=m(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function eL(t){const e={},n=m(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],kv(r));const i=m(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(aT||(aT={}));var sT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(sT||(sT={}));var oT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(oT||(oT={}));var Hs;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Hs||(Hs={}));var lT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(lT||(lT={}));var cT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(cT||(cT={}));var uT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(uT||(uT={}));var fT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(fT||(fT={}));var dT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dT||(dT={}));var hT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hT||(hT={}));var pT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pT||(pT={}));var mT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(mT||(mT={}));var gT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gT||(gT={}));var vT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(vT||(vT={}));var xT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(xT||(xT={}));var yT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(yT||(yT={}));var _T;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_T||(_T={}));var ET;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ET||(ET={}));var TT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(TT||(TT={}));var ST;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ST||(ST={}));var AT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(AT||(AT={}));var U0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(U0||(U0={}));var wT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wT||(wT={}));var CT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(CT||(CT={}));var bT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(bT||(bT={}));var mg;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mg||(mg={}));var NT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(NT||(NT={}));var IT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(IT||(IT={}));var gg;(function(t){t.COLLECTION="COLLECTION"})(gg||(gg={}));var RT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(RT||(RT={}));var kT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kT||(kT={}));var DT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(DT||(DT={}));var MT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(MT||(MT={}));var FT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(FT||(FT={}));var PT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(PT||(PT={}));var OT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(OT||(OT={}));var LT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(LT||(LT={}));var UT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(UT||(UT={}));var VT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(VT||(VT={}));var BT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(BT||(BT={}));var HT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(HT||(HT={}));var GT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(GT||(GT={}));var zT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(zT||(zT={}));var qT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(qT||(qT={}));var jT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(jT||(jT={}));var $T;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})($T||($T={}));var YT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(YT||(YT={}));var KT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(KT||(KT={}));var JT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(JT||(JT={}));var XT;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(XT||(XT={}));var WT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(WT||(WT={}));var QT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(QT||(QT={}));var ZT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ZT||(ZT={}));var e2;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(e2||(e2={}));var t2;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(t2||(t2={}));var n2;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(n2||(n2={}));var Gl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Gl||(Gl={}));class vg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class hu{get text(){var e,n,r,i,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const v=[];for(const y of(d=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[S,A]of Object.entries(y))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(A!==null||A!==void 0)&&v.push(S);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;p=!0,f+=y.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var e,n,r,i,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const v of(d=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[y,S]of Object.entries(v))y!=="inlineData"&&(S!==null||S!==void 0)&&p.push(y);v.inlineData&&typeof v.inlineData.data=="string"&&(f+=atob(v.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,s,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,s,l,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,s,l,c,d,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class r2{}class i2{}class tL{}class nL{}class rL{}class iL{}class a2{}class s2{}class o2{}class aL{}class V0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new V0;let i;const s=e;return n?i=zO(s):i=GO(s),Object.assign(r,i),r}}class l2{}class c2{}class u2{}class f2{}class sL{}class oL{}class lL{}class Dv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Dv,s=XO(e);return Object.assign(r,s),r}}class cL{}class uL{}class fL{}class dL{}class d2{}class hL{get text(){var e,n,r;let i="",s=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&s.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class pL{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Mv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Mv,s=Vw(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Bw(t,e){const n=Gt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Hw(t){return Array.isArray(t)?t.map(e=>B0(e)):[B0(t)]}function B0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Gw(t){const e=B0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zw(t){const e=B0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function h2(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function qw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>h2(e)):[h2(t)]}function xg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function p2(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function m2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rr(t){if(t==null)throw new Error("ContentUnion is required");return xg(t)?t:{role:"user",parts:qw(t)}}function Fv(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Rr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Rr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rr(n)):[Rr(e)]}function Ii(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(p2(t)||m2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rr(t)]}const e=[],n=[],r=xg(t[0]);for(const i of t){const s=xg(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(p2(i)||m2(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:qw(n)}),e}function mL(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Hs).includes(n[0].toUpperCase())?n[0].toUpperCase():Hs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Hs).includes(r.toUpperCase())?r.toUpperCase():Hs.TYPE_UNSPECIFIED})}}function Xl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&mL(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Hs).includes(c.toUpperCase())?c.toUpperCase():Hs.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Xl(c);else if(r.includes(l)){const d=[];for(const f of c){if(f.type=="null"){e.nullable=!0;continue}d.push(Xl(f))}e[l]=d}else if(i.includes(l)){const d={};for(const[f,p]of Object.entries(c))d[f]=Xl(p);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=c}return e}function Pv(t){return Xl(t)}function Ov(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Lv(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function dc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xl(e.response));return t}function hc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function gL(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ts(t,e){if(typeof e!="string")throw new Error("name must be a string");return gL(t,e,"cachedContents")}function jw(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qs(t){return kv(t)}function vL(t){return t!=null&&typeof t=="object"&&"name"in t}function xL(t){return t!=null&&typeof t=="object"&&"video"in t}function yL(t){return t!=null&&typeof t=="object"&&"uri"in t}function $w(t){var e;let n;if(vL(t)&&(n=t.name),!(yL(t)&&(n=t.uri,n===void 0))&&!(xL(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Yw(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Kw(t){for(const e of["models","tunedModels","publisherModels"])if(_L(t,e))return t[e];return[]}function _L(t,e){return t!==null&&typeof t=="object"&&e in t}function EL(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function TL(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const l=EL(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Jw(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function SL(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Xw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function pc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ww(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AL(t){const e={},n=m(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>i8(l))),g(e,["inlinedResponses"],s)}const i=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["inlinedEmbedContentResponses"],s)}return e}function wL(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=m(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function CL(t){const e={},n=m(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function g0(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=m(t,["metadata","state"]);i!=null&&g(e,["state"],Ww(i));const s=m(t,["metadata","createTime"]);s!=null&&g(e,["createTime"],s);const l=m(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const c=m(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const d=m(t,["metadata","model"]);d!=null&&g(e,["model"],d);const f=m(t,["metadata","output"]);return f!=null&&g(e,["dest"],AL(Xw(f))),e}function yg(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=m(t,["state"]);i!=null&&g(e,["state"],Ww(i));const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["createTime"]);l!=null&&g(e,["createTime"],l);const c=m(t,["startTime"]);c!=null&&g(e,["startTime"],c);const d=m(t,["endTime"]);d!=null&&g(e,["endTime"],d);const f=m(t,["updateTime"]);f!=null&&g(e,["updateTime"],f);const p=m(t,["model"]);p!=null&&g(e,["model"],p);const v=m(t,["inputConfig"]);v!=null&&g(e,["src"],bL(v));const y=m(t,["outputConfig"]);y!=null&&g(e,["dest"],wL(Xw(y)));const S=m(t,["completionStats"]);return S!=null&&g(e,["completionStats"],S),e}function bL(t){const e={},n=m(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=m(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function NL(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>r8(t,l))),g(n,["requests","requests"],s)}return n}function IL(t){const e={},n=m(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function RL(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function kL(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],pc(t,r)),n}function DL(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],pc(t,r)),n}function ML(t){const e={},n=m(t,["content"]);n!=null&&g(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],FL(r));const i=m(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=m(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const l=m(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=m(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const d=m(t,["index"]);d!=null&&g(e,["index"],d);const f=m(t,["logprobsResult"]);f!=null&&g(e,["logprobsResult"],f);const p=m(t,["safetyRatings"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(S=>S)),g(e,["safetyRatings"],y)}const v=m(t,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function FL(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function Qw(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>f8(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function PL(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function OL(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=m(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],CL(SL(i))),n}function g2(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Gt(t,r));const i=m(e,["src"]);i!=null&&g(n,["batch","inputConfig"],NL(t,Jw(t,i)));const s=m(e,["config"]);return s!=null&&PL(s,n),n}function LL(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],Gt(t,r));const i=m(e,["src"]);i!=null&&g(n,["inputConfig"],IL(Jw(t,i)));const s=m(e,["config"]);return s!=null&&OL(s,n),n}function UL(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function VL(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Gt(t,r));const i=m(e,["src"]);i!=null&&g(n,["batch","inputConfig"],$L(t,i));const s=m(e,["config"]);return s!=null&&UL(s,n),n}function BL(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],pc(t,r)),n}function HL(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],pc(t,r)),n}function GL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);return s!=null&&g(e,["error"],s),e}function zL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);return s!=null&&g(e,["error"],s),e}function qL(t,e){const n={},r=m(e,["contents"]);if(r!=null){let s=Fv(t,r);Array.isArray(s)&&(s=s.map(l=>l)),g(n,["requests[]","request","content"],s)}const i=m(e,["config"]);return i!=null&&(g(n,["_self"],jL(i,n)),BO(n,{"requests[].*":"requests[].request.*"})),n}function jL(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $L(t,e){const n={},r=m(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],qL(t,i)),n}function YL(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function KL(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JL(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&g(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XL(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Qw(Rr(i)));const s=m(e,["temperature"]);s!=null&&g(r,["temperature"],s);const l=m(e,["topP"]);l!=null&&g(r,["topP"],l);const c=m(e,["topK"]);c!=null&&g(r,["topK"],c);const d=m(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const f=m(e,["maxOutputTokens"]);f!=null&&g(r,["maxOutputTokens"],f);const p=m(e,["stopSequences"]);p!=null&&g(r,["stopSequences"],p);const v=m(e,["responseLogprobs"]);v!=null&&g(r,["responseLogprobs"],v);const y=m(e,["logprobs"]);y!=null&&g(r,["logprobs"],y);const S=m(e,["presencePenalty"]);S!=null&&g(r,["presencePenalty"],S);const A=m(e,["frequencyPenalty"]);A!=null&&g(r,["frequencyPenalty"],A);const w=m(e,["seed"]);w!=null&&g(r,["seed"],w);const b=m(e,["responseMimeType"]);b!=null&&g(r,["responseMimeType"],b);const L=m(e,["responseSchema"]);L!=null&&g(r,["responseSchema"],Pv(L));const H=m(e,["responseJsonSchema"]);if(H!=null&&g(r,["responseJsonSchema"],H),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const F=m(e,["safetySettings"]);if(n!==void 0&&F!=null){let U=F;Array.isArray(U)&&(U=U.map(Ee=>d8(Ee))),g(n,["safetySettings"],U)}const z=m(e,["tools"]);if(n!==void 0&&z!=null){let U=hc(z);Array.isArray(U)&&(U=U.map(Ee=>p8(dc(Ee)))),g(n,["tools"],U)}const B=m(e,["toolConfig"]);if(n!==void 0&&B!=null&&g(n,["toolConfig"],h8(B)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=m(e,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],ts(t,j));const I=m(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const N=m(e,["mediaResolution"]);N!=null&&g(r,["mediaResolution"],N);const C=m(e,["speechConfig"]);if(C!=null&&g(r,["speechConfig"],Ov(C)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=m(e,["thinkingConfig"]);P!=null&&g(r,["thinkingConfig"],P);const D=m(e,["imageConfig"]);D!=null&&g(r,["imageConfig"],n8(D));const k=m(e,["enableEnhancedCivicAnswers"]);if(k!=null&&g(r,["enableEnhancedCivicAnswers"],k),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function WL(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>ML(f))),g(e,["candidates"],d)}const i=m(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=m(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const l=m(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=m(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function QL(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],pc(t,r)),n}function ZL(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],pc(t,r)),n}function e8(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function t8(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function n8(t){const e={},n=m(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function r8(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["request","model"],Gt(t,r));const i=m(e,["contents"]);if(i!=null){let c=Ii(i);Array.isArray(c)&&(c=c.map(d=>Qw(d))),g(n,["request","contents"],c)}const s=m(e,["metadata"]);s!=null&&g(n,["metadata"],s);const l=m(e,["config"]);return l!=null&&g(n,["request","generationConfig"],XL(t,l,m(n,["request"],{}))),n}function i8(t){const e={},n=m(t,["response"]);n!=null&&g(e,["response"],WL(n));const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["error"]);return i!=null&&g(e,["error"],i),e}function a8(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function s8(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=m(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function o8(t){const e={},n=m(t,["config"]);return n!=null&&a8(n,e),e}function l8(t){const e={},n=m(t,["config"]);return n!=null&&s8(n,e),e}function c8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>g0(l))),g(e,["batchJobs"],s)}return e}function u8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>yg(l))),g(e,["batchJobs"],s)}return e}function f8(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],YL(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],KL(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=m(t,["inlineData"]);d!=null&&g(e,["inlineData"],RL(d));const f=m(t,["text"]);f!=null&&g(e,["text"],f);const p=m(t,["thought"]);p!=null&&g(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function d8(t){const e={},n=m(t,["category"]);if(n!=null&&g(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function h8(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],JL(r)),e}function p8(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],e8(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],t8(c));const d=m(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=m(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wa;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Wa||(Wa={}));class Xo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m8 extends es{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Wa.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=g2(this.apiClient,e),r=n._url,i=Ke("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const p of d){const v=Object.assign({},p);if(v.systemInstruction){const y=v.systemInstruction;delete v.systemInstruction;const S=v.request;S.systemInstruction=y,v.request=S}f.push(v)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),l=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=LL(this.apiClient,e);return c=Ke("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>yg(p))}else{const f=g2(this.apiClient,e);return c=Ke("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>g0(p))}}async createEmbeddingsInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=VL(this.apiClient,e);return s=Ke("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>g0(d))}}async get(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=ZL(this.apiClient,e);return c=Ke("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>yg(p))}else{const f=QL(this.apiClient,e);return c=Ke("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>g0(p))}}async cancel(e){var n,r,i,s;let l="",c={};if(this.apiClient.isVertexAI()){const d=DL(this.apiClient,e);l=Ke("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=kL(this.apiClient,e);l=Ke("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=l8(e);return c=Ke("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=u8(p),y=new d2;return Object.assign(y,v),y})}else{const f=o8(e);return c=Ke("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=c8(p),y=new d2;return Object.assign(y,v),y})}}async delete(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=HL(this.apiClient,e);return c=Ke("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>zL(p))}else{const f=BL(this.apiClient,e);return c=Ke("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>GL(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g8(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function v2(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>V8(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function v8(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let p=Ii(l);Array.isArray(p)&&(p=p.map(v=>v2(v))),g(e,["contents"],p)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],v2(Rr(c)));const d=m(t,["tools"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(v=>H8(v))),g(e,["tools"],p)}const f=m(t,["toolConfig"]);if(e!==void 0&&f!=null&&g(e,["toolConfig"],B8(f)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function x8(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let v=Ii(l);Array.isArray(v)&&(v=v.map(y=>y)),g(e,["contents"],v)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Rr(c));const d=m(t,["tools"]);if(e!==void 0&&d!=null){let v=d;Array.isArray(v)&&(v=v.map(y=>G8(y))),g(e,["tools"],v)}const f=m(t,["toolConfig"]);e!==void 0&&f!=null&&g(e,["toolConfig"],f);const p=m(t,["kmsKeyName"]);return e!==void 0&&p!=null&&g(e,["encryption_spec","kmsKeyName"],p),n}function y8(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],Bw(t,r));const i=m(e,["config"]);return i!=null&&v8(i,n),n}function _8(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],Bw(t,r));const i=m(e,["config"]);return i!=null&&x8(i,n),n}function E8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ts(t,r)),n}function T8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ts(t,r)),n}function S8(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function A8(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function w8(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function C8(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function b8(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&g(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function N8(t){const e={},n=m(t,["description"]);n!=null&&g(e,["description"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const l=m(t,["response"]);l!=null&&g(e,["response"],l);const c=m(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function I8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ts(t,r)),n}function R8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ts(t,r)),n}function k8(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function D8(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function M8(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function F8(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function P8(t){const e={},n=m(t,["config"]);return n!=null&&M8(n,e),e}function O8(t){const e={},n=m(t,["config"]);return n!=null&&F8(n,e),e}function L8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["cachedContents"],s)}return e}function U8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["cachedContents"],s)}return e}function V8(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],w8(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],C8(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=m(t,["inlineData"]);d!=null&&g(e,["inlineData"],g8(d));const f=m(t,["text"]);f!=null&&g(e,["text"],f);const p=m(t,["thought"]);p!=null&&g(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function B8(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],b8(r)),e}function H8(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],k8(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],D8(c));const d=m(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=m(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}function G8(t){const e={},n=m(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(y=>N8(y))),g(e,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const d=m(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const f=m(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const p=m(t,["urlContext"]);return p!=null&&g(e,["urlContext"],p),e}function z8(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function q8(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function j8(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ts(t,r));const i=m(e,["config"]);return i!=null&&z8(i,n),n}function $8(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ts(t,r));const i=m(e,["config"]);return i!=null&&q8(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y8 extends es{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Wa.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=_8(this.apiClient,e);return c=Ke("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=y8(this.apiClient,e);return c=Ke("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=R8(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=I8(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=T8(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=A8(p),y=new u2;return Object.assign(y,v),y})}else{const f=E8(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=S8(p),y=new u2;return Object.assign(y,v),y})}}async update(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=$8(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=j8(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=O8(e);return c=Ke("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=U8(p),y=new f2;return Object.assign(y,v),y})}else{const f=P8(e);return c=Ke("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=L8(p),y=new f2;return Object.assign(y,v),y})}}}function H0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function x2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(t){return this instanceof ht?(this.v=t,this):new ht(t)}function ea(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(S){return function(A){return Promise.resolve(A).then(S,v)}}function c(S,A){r[S]&&(i[S]=function(w){return new Promise(function(b,L){s.push([S,w,b,L])>1||d(S,w)})},A&&(i[S]=A(i[S])))}function d(S,A){try{f(r[S](A))}catch(w){y(s[0][3],w)}}function f(S){S.value instanceof ht?Promise.resolve(S.value.v).then(p,v):y(s[0][2],S)}function p(S){d("next",S)}function v(S){d("throw",S)}function y(S,A){S(A),s.shift(),s.length&&d(s[0][0],s[0][1])}}function ta(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof x2=="function"?x2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(l){return new Promise(function(c,d){l=t[s](l),i(c,d,l.done,l.value)})}}function i(s,l,c,d){Promise.resolve(d).then(function(f){s({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K8(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Zw(n)}function Zw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function J8(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function y2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!Zw(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class X8{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new W8(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class W8{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),J8(s)}async sendMessage(e){var n;await this.sendPromise;const r=Rr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,c;const d=await i,f=(l=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,p=d.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let y=[];p!=null&&(y=(c=p.slice(v))!==null&&c!==void 0?c:[]);const S=f?[f]:[];this.recordHistory(r,S,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Rr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?y2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ea(this,arguments,function*(){var i,s,l,c,d,f;const p=[];try{for(var v=!0,y=ta(e),S;S=yield ht(y.next()),i=S.done,!i;v=!0){c=S.value,v=!1;const A=c;if(K8(A)){const w=(f=(d=A.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;w!==void 0&&p.push(w)}yield yield ht(A)}}catch(A){s={error:A}}finally{try{!v&&!i&&(l=y.return)&&(yield ht(l.call(y)))}finally{if(s)throw s.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...y2(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,nf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q8(t){const e={},n=m(t,["file"]);return n!=null&&g(e,["file"],n),e}function Z8(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function e9(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","file"],$w(n)),e}function t9(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function n9(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","file"],$w(n)),e}function r9(t){const e={},n=m(t,["uris"]);return n!=null&&g(e,["uris"],n),e}function i9(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function a9(t){const e={},n=m(t,["config"]);return n!=null&&i9(n,e),e}function s9(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["files"],s)}return e}function o9(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l9 extends es{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Wa.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=a9(e);return s=Ke("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=s9(d),p=new cL;return Object.assign(p,f),p})}}async createInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Q8(e);return s=Ke("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Z8(d),p=new uL;return Object.assign(p,f),p})}}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=n9(e);return s=Ke("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=e9(e);return s=Ke("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=t9(d),p=new fL;return Object.assign(p,f),p})}}async registerFilesInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=r9(e);return s=Ke("files:register",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=o9(d),p=new dL;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v0(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function c9(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>w9(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function u9(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function f9(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function d9(t){const e={},n=m(t,["description"]);n!=null&&g(e,["description"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const l=m(t,["response"]);l!=null&&g(e,["response"],l);const c=m(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function h9(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=m(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const l=m(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=m(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const d=m(t,["logprobs"]);d!=null&&g(e,["logprobs"],d);const f=m(t,["maxOutputTokens"]);f!=null&&g(e,["maxOutputTokens"],f);const p=m(t,["mediaResolution"]);p!=null&&g(e,["mediaResolution"],p);const v=m(t,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const y=m(t,["responseLogprobs"]);y!=null&&g(e,["responseLogprobs"],y);const S=m(t,["responseMimeType"]);S!=null&&g(e,["responseMimeType"],S);const A=m(t,["responseModalities"]);A!=null&&g(e,["responseModalities"],A);const w=m(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const b=m(t,["routingConfig"]);b!=null&&g(e,["routingConfig"],b);const L=m(t,["seed"]);L!=null&&g(e,["seed"],L);const H=m(t,["speechConfig"]);H!=null&&g(e,["speechConfig"],H);const F=m(t,["stopSequences"]);F!=null&&g(e,["stopSequences"],F);const z=m(t,["temperature"]);z!=null&&g(e,["temperature"],z);const B=m(t,["thinkingConfig"]);B!=null&&g(e,["thinkingConfig"],B);const j=m(t,["topK"]);j!=null&&g(e,["topK"],j);const I=m(t,["topP"]);if(I!=null&&g(e,["topP"],I),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function p9(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function m9(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function g9(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=m(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=m(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const f=m(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const p=m(t,["seed"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","seed"],p);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],Lv(v));const y=m(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const S=m(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=m(t,["systemInstruction"]);e!==void 0&&A!=null&&g(e,["setup","systemInstruction"],c9(Rr(A)));const w=m(t,["tools"]);if(e!==void 0&&w!=null){let j=hc(w);Array.isArray(j)&&(j=j.map(I=>b9(dc(I)))),g(e,["setup","tools"],j)}const b=m(t,["sessionResumption"]);e!==void 0&&b!=null&&g(e,["setup","sessionResumption"],C9(b));const L=m(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&g(e,["setup","inputAudioTranscription"],L);const H=m(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&g(e,["setup","outputAudioTranscription"],H);const F=m(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&g(e,["setup","realtimeInputConfig"],F);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&g(e,["setup","contextWindowCompression"],z);const B=m(t,["proactivity"]);if(e!==void 0&&B!=null&&g(e,["setup","proactivity"],B),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function v9(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],h9(r));const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=m(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=m(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const f=m(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const p=m(t,["seed"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","seed"],p);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],Lv(v));const y=m(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const S=m(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=m(t,["systemInstruction"]);e!==void 0&&A!=null&&g(e,["setup","systemInstruction"],Rr(A));const w=m(t,["tools"]);if(e!==void 0&&w!=null){let I=hc(w);Array.isArray(I)&&(I=I.map(N=>N9(dc(N)))),g(e,["setup","tools"],I)}const b=m(t,["sessionResumption"]);e!==void 0&&b!=null&&g(e,["setup","sessionResumption"],b);const L=m(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&g(e,["setup","inputAudioTranscription"],L);const H=m(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&g(e,["setup","outputAudioTranscription"],H);const F=m(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&g(e,["setup","realtimeInputConfig"],F);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&g(e,["setup","contextWindowCompression"],z);const B=m(t,["proactivity"]);e!==void 0&&B!=null&&g(e,["setup","proactivity"],B);const j=m(t,["explicitVadSignal"]);return e!==void 0&&j!=null&&g(e,["setup","explicitVadSignal"],j),n}function x9(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Gt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],g9(i,n)),n}function y9(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Gt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],v9(i,n)),n}function _9(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function E9(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function T9(t){const e={},n=m(t,["media"]);if(n!=null){let f=Hw(n);Array.isArray(f)&&(f=f.map(p=>v0(p))),g(e,["mediaChunks"],f)}const r=m(t,["audio"]);r!=null&&g(e,["audio"],v0(zw(r)));const i=m(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&g(e,["video"],v0(Gw(s)));const l=m(t,["text"]);l!=null&&g(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=m(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function S9(t){const e={},n=m(t,["media"]);if(n!=null){let f=Hw(n);Array.isArray(f)&&(f=f.map(p=>p)),g(e,["mediaChunks"],f)}const r=m(t,["audio"]);r!=null&&g(e,["audio"],zw(r));const i=m(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&g(e,["video"],Gw(s));const l=m(t,["text"]);l!=null&&g(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=m(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function A9(t){const e={},n=m(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=m(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const s=m(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],s);const l=m(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],I9(l));const c=m(t,["goAway"]);c!=null&&g(e,["goAway"],c);const d=m(t,["sessionResumptionUpdate"]);d!=null&&g(e,["sessionResumptionUpdate"],d);const f=m(t,["voiceActivityDetectionSignal"]);f!=null&&g(e,["voiceActivityDetectionSignal"],f);const p=m(t,["voiceActivity"]);return p!=null&&g(e,["voiceActivity"],R9(p)),e}function w9(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],u9(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],f9(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=m(t,["inlineData"]);d!=null&&g(e,["inlineData"],v0(d));const f=m(t,["text"]);f!=null&&g(e,["text"],f);const p=m(t,["thought"]);p!=null&&g(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function C9(t){const e={},n=m(t,["handle"]);if(n!=null&&g(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function b9(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],p9(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],m9(c));const d=m(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=m(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}function N9(t){const e={},n=m(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(y=>d9(y))),g(e,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const d=m(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],d);const f=m(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const p=m(t,["urlContext"]);return p!=null&&g(e,["urlContext"],p),e}function I9(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=m(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const s=m(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const l=m(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const c=m(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const d=m(t,["promptTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(A=>A)),g(e,["promptTokensDetails"],S)}const f=m(t,["cacheTokensDetails"]);if(f!=null){let S=f;Array.isArray(S)&&(S=S.map(A=>A)),g(e,["cacheTokensDetails"],S)}const p=m(t,["candidatesTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(A=>A)),g(e,["responseTokensDetails"],S)}const v=m(t,["toolUsePromptTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),g(e,["toolUsePromptTokensDetails"],S)}const y=m(t,["trafficType"]);return y!=null&&g(e,["trafficType"],y),e}function R9(t){const e={},n=m(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k9(t,e){const n={},r=m(t,["data"]);if(r!=null&&g(n,["data"],r),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function D9(t,e){const n={},r=m(t,["content"]);r!=null&&g(n,["content"],r);const i=m(t,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],M9(i));const s=m(t,["tokenCount"]);s!=null&&g(n,["tokenCount"],s);const l=m(t,["finishReason"]);l!=null&&g(n,["finishReason"],l);const c=m(t,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const d=m(t,["groundingMetadata"]);d!=null&&g(n,["groundingMetadata"],d);const f=m(t,["index"]);f!=null&&g(n,["index"],f);const p=m(t,["logprobsResult"]);p!=null&&g(n,["logprobsResult"],p);const v=m(t,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(A=>A)),g(n,["safetyRatings"],S)}const y=m(t,["urlContextMetadata"]);return y!=null&&g(n,["urlContextMetadata"],y),n}function M9(t,e){const n={},r=m(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(n,["citations"],i)}return n}function F9(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["contents"]);if(s!=null){let l=Ii(s);Array.isArray(l)&&(l=l.map(c=>c)),g(r,["contents"],l)}return r}function P9(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(n,["tokensInfo"],s)}return n}function O9(t,e){const n={},r=m(t,["values"]);r!=null&&g(n,["values"],r);const i=m(t,["statistics"]);return i!=null&&g(n,["statistics"],L9(i)),n}function L9(t,e){const n={},r=m(t,["truncated"]);r!=null&&g(n,["truncated"],r);const i=m(t,["token_count"]);return i!=null&&g(n,["tokenCount"],i),n}function mh(t,e){const n={},r=m(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>$U(l))),g(n,["parts"],s)}const i=m(t,["role"]);return i!=null&&g(n,["role"],i),n}function U9(t,e){const n={},r=m(t,["controlType"]);r!=null&&g(n,["controlType"],r);const i=m(t,["enableControlImageComputation"]);return i!=null&&g(n,["computeControl"],i),n}function V9(t,e){const n={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function B9(t,e,n){const r={},i=m(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],Rr(i));const s=m(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>rC(d))),g(e,["tools"],c)}const l=m(t,["generationConfig"]);return e!==void 0&&l!=null&&g(e,["generationConfig"],kU(l)),r}function H9(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Ii(s);Array.isArray(c)&&(c=c.map(d=>mh(d))),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&V9(l),r}function G9(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Ii(s);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&B9(l,r),r}function z9(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);i!=null&&g(n,["totalTokens"],i);const s=m(t,["cachedContentTokenCount"]);return s!=null&&g(n,["cachedContentTokenCount"],s),n}function q9(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);return i!=null&&g(n,["totalTokens"],i),n}function j9(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Gt(t,i)),r}function $9(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Gt(t,i)),r}function Y9(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function K9(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function J9(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&g(e,["parameters","guidanceScale"],d);const f=m(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const p=m(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&g(e,["parameters","safetySetting"],p);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&g(e,["parameters","personGeneration"],v);const y=m(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=m(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const A=m(t,["language"]);e!==void 0&&A!=null&&g(e,["parameters","language"],A);const w=m(t,["outputMimeType"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","mimeType"],w);const b=m(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const L=m(t,["addWatermark"]);e!==void 0&&L!=null&&g(e,["parameters","addWatermark"],L);const H=m(t,["labels"]);e!==void 0&&H!=null&&g(e,["labels"],H);const F=m(t,["editMode"]);e!==void 0&&F!=null&&g(e,["parameters","editMode"],F);const z=m(t,["baseSteps"]);return e!==void 0&&z!=null&&g(e,["parameters","editConfig","baseSteps"],z),r}function X9(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>QU(f))),g(r,["instances[0]","referenceImages"],d)}const c=m(e,["config"]);return c!=null&&J9(c,r),r}function W9(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>gh(l))),g(n,["generatedImages"],s)}return n}function Q9(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const l=m(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&g(e,["requests[]","outputDimensionality"],l),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Z9(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&g(e,["instances[]","title"],s);const l=m(t,["outputDimensionality"]);e!==void 0&&l!=null&&g(e,["parameters","outputDimensionality"],l);const c=m(t,["mimeType"]);e!==void 0&&c!=null&&g(e,["instances[]","mimeType"],c);const d=m(t,["autoTruncate"]);return e!==void 0&&d!=null&&g(e,["parameters","autoTruncate"],d),r}function eU(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["contents"]);if(s!=null){let d=Fv(t,s);Array.isArray(d)&&(d=d.map(f=>f)),g(r,["requests[]","content"],d)}const l=m(e,["config"]);l!=null&&Q9(l,r);const c=m(e,["model"]);return c!==void 0&&g(r,["requests[]","model"],Gt(t,c)),r}function tU(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Fv(t,s);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["instances[]","content"],c)}const l=m(e,["config"]);return l!=null&&Z9(l,r),r}function nU(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),g(n,["embeddings"],l)}const s=m(t,["metadata"]);return s!=null&&g(n,["metadata"],s),n}function rU(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>O9(c))),g(n,["embeddings"],l)}const s=m(t,["metadata"]);return s!=null&&g(n,["metadata"],s),n}function iU(t,e){const n={},r=m(t,["endpoint"]);r!=null&&g(n,["name"],r);const i=m(t,["deployedModelId"]);return i!=null&&g(n,["deployedModelId"],i),n}function aU(t,e){const n={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function sU(t,e){const n={},r=m(t,["id"]);r!=null&&g(n,["id"],r);const i=m(t,["args"]);i!=null&&g(n,["args"],i);const s=m(t,["name"]);if(s!=null&&g(n,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function oU(t,e){const n={},r=m(t,["allowedFunctionNames"]);r!=null&&g(n,["allowedFunctionNames"],r);const i=m(t,["mode"]);if(i!=null&&g(n,["mode"],i),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function lU(t,e){const n={},r=m(t,["description"]);r!=null&&g(n,["description"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["parameters"]);s!=null&&g(n,["parameters"],s);const l=m(t,["parametersJsonSchema"]);l!=null&&g(n,["parametersJsonSchema"],l);const c=m(t,["response"]);c!=null&&g(n,["response"],c);const d=m(t,["responseJsonSchema"]);if(d!=null&&g(n,["responseJsonSchema"],d),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function cU(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],mh(Rr(s)));const l=m(e,["temperature"]);l!=null&&g(i,["temperature"],l);const c=m(e,["topP"]);c!=null&&g(i,["topP"],c);const d=m(e,["topK"]);d!=null&&g(i,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const p=m(e,["maxOutputTokens"]);p!=null&&g(i,["maxOutputTokens"],p);const v=m(e,["stopSequences"]);v!=null&&g(i,["stopSequences"],v);const y=m(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=m(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const A=m(e,["presencePenalty"]);A!=null&&g(i,["presencePenalty"],A);const w=m(e,["frequencyPenalty"]);w!=null&&g(i,["frequencyPenalty"],w);const b=m(e,["seed"]);b!=null&&g(i,["seed"],b);const L=m(e,["responseMimeType"]);L!=null&&g(i,["responseMimeType"],L);const H=m(e,["responseSchema"]);H!=null&&g(i,["responseSchema"],Pv(H));const F=m(e,["responseJsonSchema"]);if(F!=null&&g(i,["responseJsonSchema"],F),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=m(e,["safetySettings"]);if(n!==void 0&&z!=null){let Ee=z;Array.isArray(Ee)&&(Ee=Ee.map(Se=>ZU(Se))),g(n,["safetySettings"],Ee)}const B=m(e,["tools"]);if(n!==void 0&&B!=null){let Ee=hc(B);Array.isArray(Ee)&&(Ee=Ee.map(Se=>sV(dc(Se)))),g(n,["tools"],Ee)}const j=m(e,["toolConfig"]);if(n!==void 0&&j!=null&&g(n,["toolConfig"],aV(j)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=m(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],ts(t,I));const N=m(e,["responseModalities"]);N!=null&&g(i,["responseModalities"],N);const C=m(e,["mediaResolution"]);C!=null&&g(i,["mediaResolution"],C);const P=m(e,["speechConfig"]);if(P!=null&&g(i,["speechConfig"],Ov(P)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=m(e,["thinkingConfig"]);D!=null&&g(i,["thinkingConfig"],D);const k=m(e,["imageConfig"]);k!=null&&g(i,["imageConfig"],OU(k));const U=m(e,["enableEnhancedCivicAnswers"]);if(U!=null&&g(i,["enableEnhancedCivicAnswers"],U),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function uU(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],Rr(s));const l=m(e,["temperature"]);l!=null&&g(i,["temperature"],l);const c=m(e,["topP"]);c!=null&&g(i,["topP"],c);const d=m(e,["topK"]);d!=null&&g(i,["topK"],d);const f=m(e,["candidateCount"]);f!=null&&g(i,["candidateCount"],f);const p=m(e,["maxOutputTokens"]);p!=null&&g(i,["maxOutputTokens"],p);const v=m(e,["stopSequences"]);v!=null&&g(i,["stopSequences"],v);const y=m(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const S=m(e,["logprobs"]);S!=null&&g(i,["logprobs"],S);const A=m(e,["presencePenalty"]);A!=null&&g(i,["presencePenalty"],A);const w=m(e,["frequencyPenalty"]);w!=null&&g(i,["frequencyPenalty"],w);const b=m(e,["seed"]);b!=null&&g(i,["seed"],b);const L=m(e,["responseMimeType"]);L!=null&&g(i,["responseMimeType"],L);const H=m(e,["responseSchema"]);H!=null&&g(i,["responseSchema"],Pv(H));const F=m(e,["responseJsonSchema"]);F!=null&&g(i,["responseJsonSchema"],F);const z=m(e,["routingConfig"]);z!=null&&g(i,["routingConfig"],z);const B=m(e,["modelSelectionConfig"]);B!=null&&g(i,["modelConfig"],B);const j=m(e,["safetySettings"]);if(n!==void 0&&j!=null){let Re=j;Array.isArray(Re)&&(Re=Re.map(ie=>ie)),g(n,["safetySettings"],Re)}const I=m(e,["tools"]);if(n!==void 0&&I!=null){let Re=hc(I);Array.isArray(Re)&&(Re=Re.map(ie=>rC(dc(ie)))),g(n,["tools"],Re)}const N=m(e,["toolConfig"]);n!==void 0&&N!=null&&g(n,["toolConfig"],N);const C=m(e,["labels"]);n!==void 0&&C!=null&&g(n,["labels"],C);const P=m(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],ts(t,P));const D=m(e,["responseModalities"]);D!=null&&g(i,["responseModalities"],D);const k=m(e,["mediaResolution"]);k!=null&&g(i,["mediaResolution"],k);const U=m(e,["speechConfig"]);U!=null&&g(i,["speechConfig"],Ov(U));const Ee=m(e,["audioTimestamp"]);Ee!=null&&g(i,["audioTimestamp"],Ee);const Se=m(e,["thinkingConfig"]);Se!=null&&g(i,["thinkingConfig"],Se);const ae=m(e,["imageConfig"]);if(ae!=null&&g(i,["imageConfig"],LU(ae)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const le=m(e,["modelArmorConfig"]);return n!==void 0&&le!=null&&g(n,["modelArmorConfig"],le),i}function _2(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Ii(s);Array.isArray(c)&&(c=c.map(d=>mh(d))),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&g(r,["generationConfig"],cU(t,l,r)),r}function E2(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Ii(s);Array.isArray(c)&&(c=c.map(d=>d)),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&g(r,["generationConfig"],uU(t,l,r)),r}function T2(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>D9(p))),g(n,["candidates"],f)}const s=m(t,["modelVersion"]);s!=null&&g(n,["modelVersion"],s);const l=m(t,["promptFeedback"]);l!=null&&g(n,["promptFeedback"],l);const c=m(t,["responseId"]);c!=null&&g(n,["responseId"],c);const d=m(t,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function S2(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(v=>v)),g(n,["candidates"],p)}const s=m(t,["createTime"]);s!=null&&g(n,["createTime"],s);const l=m(t,["modelVersion"]);l!=null&&g(n,["modelVersion"],l);const c=m(t,["promptFeedback"]);c!=null&&g(n,["promptFeedback"],c);const d=m(t,["responseId"]);d!=null&&g(n,["responseId"],d);const f=m(t,["usageMetadata"]);return f!=null&&g(n,["usageMetadata"],f),n}function fU(t,e,n){const r={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=m(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const l=m(t,["guidanceScale"]);if(e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=m(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const p=m(t,["includeRaiReason"]);e!==void 0&&p!=null&&g(e,["parameters","includeRaiReason"],p);const v=m(t,["language"]);e!==void 0&&v!=null&&g(e,["parameters","language"],v);const y=m(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const S=m(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=m(t,["imageSize"]);if(e!==void 0&&A!=null&&g(e,["parameters","sampleImageSize"],A),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function dU(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&g(e,["parameters","guidanceScale"],d);const f=m(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const p=m(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&g(e,["parameters","safetySetting"],p);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&g(e,["parameters","personGeneration"],v);const y=m(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const S=m(t,["includeRaiReason"]);e!==void 0&&S!=null&&g(e,["parameters","includeRaiReason"],S);const A=m(t,["language"]);e!==void 0&&A!=null&&g(e,["parameters","language"],A);const w=m(t,["outputMimeType"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","mimeType"],w);const b=m(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const L=m(t,["addWatermark"]);e!==void 0&&L!=null&&g(e,["parameters","addWatermark"],L);const H=m(t,["labels"]);e!==void 0&&H!=null&&g(e,["labels"],H);const F=m(t,["imageSize"]);e!==void 0&&F!=null&&g(e,["parameters","sampleImageSize"],F);const z=m(t,["enhancePrompt"]);return e!==void 0&&z!=null&&g(e,["parameters","enhancePrompt"],z),r}function hU(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["config"]);return l!=null&&fU(l,r),r}function pU(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["config"]);return l!=null&&dU(l,r),r}function mU(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>bU(c))),g(n,["generatedImages"],l)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&g(n,["positivePromptSafetyAttributes"],tC(s)),n}function gU(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>gh(c))),g(n,["generatedImages"],l)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&g(n,["positivePromptSafetyAttributes"],nC(s)),n}function vU(t,e,n){const r={},i=m(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(t,["durationSeconds"]);if(e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=m(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const d=m(t,["personGeneration"]);if(e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(t,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const p=m(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&g(e,["parameters","enhancePrompt"],p),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=m(t,["lastFrame"]);e!==void 0&&v!=null&&g(e,["instances[0]","lastFrame"],vh(v));const y=m(t,["referenceImages"]);if(e!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>yV(A))),g(e,["instances[0]","referenceImages"],S)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function xU(t,e,n){const r={},i=m(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const l=m(t,["fps"]);e!==void 0&&l!=null&&g(e,["parameters","fps"],l);const c=m(t,["durationSeconds"]);e!==void 0&&c!=null&&g(e,["parameters","durationSeconds"],c);const d=m(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const f=m(t,["aspectRatio"]);e!==void 0&&f!=null&&g(e,["parameters","aspectRatio"],f);const p=m(t,["resolution"]);e!==void 0&&p!=null&&g(e,["parameters","resolution"],p);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&g(e,["parameters","personGeneration"],v);const y=m(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const S=m(t,["negativePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","negativePrompt"],S);const A=m(t,["enhancePrompt"]);e!==void 0&&A!=null&&g(e,["parameters","enhancePrompt"],A);const w=m(t,["generateAudio"]);e!==void 0&&w!=null&&g(e,["parameters","generateAudio"],w);const b=m(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],na(b));const L=m(t,["referenceImages"]);if(e!==void 0&&L!=null){let z=L;Array.isArray(z)&&(z=z.map(B=>_V(B))),g(e,["instances[0]","referenceImages"],z)}const H=m(t,["mask"]);e!==void 0&&H!=null&&g(e,["instances[0]","mask"],xV(H));const F=m(t,["compressionQuality"]);return e!==void 0&&F!=null&&g(e,["parameters","compressionQuality"],F),r}function yU(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["metadata"]);i!=null&&g(n,["metadata"],i);const s=m(t,["done"]);s!=null&&g(n,["done"],s);const l=m(t,["error"]);l!=null&&g(n,["error"],l);const c=m(t,["response","generateVideoResponse"]);return c!=null&&g(n,["response"],SU(c)),n}function _U(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["metadata"]);i!=null&&g(n,["metadata"],i);const s=m(t,["done"]);s!=null&&g(n,["done"],s);const l=m(t,["error"]);l!=null&&g(n,["error"],l);const c=m(t,["response"]);return c!=null&&g(n,["response"],AU(c)),n}function EU(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["image"]);l!=null&&g(r,["instances[0]","image"],vh(l));const c=m(e,["video"]);c!=null&&g(r,["instances[0]","video"],iC(c));const d=m(e,["source"]);d!=null&&wU(d,r);const f=m(e,["config"]);return f!=null&&vU(f,r),r}function TU(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["image"]);l!=null&&g(r,["instances[0]","image"],na(l));const c=m(e,["video"]);c!=null&&g(r,["instances[0]","video"],aC(c));const d=m(e,["source"]);d!=null&&CU(d,r);const f=m(e,["config"]);return f!=null&&xU(f,r),r}function SU(t,e){const n={},r=m(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>IU(c))),g(n,["generatedVideos"],l)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&g(n,["raiMediaFilteredReasons"],s),n}function AU(t,e){const n={},r=m(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>RU(c))),g(n,["generatedVideos"],l)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&g(n,["raiMediaFilteredReasons"],s),n}function wU(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],vh(s));const l=m(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],iC(l)),r}function CU(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],na(s));const l=m(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],aC(l)),r}function bU(t,e){const n={},r=m(t,["_self"]);r!=null&&g(n,["image"],UU(r));const i=m(t,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const s=m(t,["_self"]);return s!=null&&g(n,["safetyAttributes"],tC(s)),n}function gh(t,e){const n={},r=m(t,["_self"]);r!=null&&g(n,["image"],eC(r));const i=m(t,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const s=m(t,["_self"]);s!=null&&g(n,["safetyAttributes"],nC(s));const l=m(t,["prompt"]);return l!=null&&g(n,["enhancedPrompt"],l),n}function NU(t,e){const n={},r=m(t,["_self"]);r!=null&&g(n,["mask"],eC(r));const i=m(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(n,["labels"],s)}return n}function IU(t,e){const n={},r=m(t,["video"]);return r!=null&&g(n,["video"],gV(r)),n}function RU(t,e){const n={},r=m(t,["_self"]);return r!=null&&g(n,["video"],vV(r)),n}function kU(t,e){const n={},r=m(t,["modelSelectionConfig"]);r!=null&&g(n,["modelConfig"],r);const i=m(t,["responseJsonSchema"]);i!=null&&g(n,["responseJsonSchema"],i);const s=m(t,["audioTimestamp"]);s!=null&&g(n,["audioTimestamp"],s);const l=m(t,["candidateCount"]);l!=null&&g(n,["candidateCount"],l);const c=m(t,["enableAffectiveDialog"]);c!=null&&g(n,["enableAffectiveDialog"],c);const d=m(t,["frequencyPenalty"]);d!=null&&g(n,["frequencyPenalty"],d);const f=m(t,["logprobs"]);f!=null&&g(n,["logprobs"],f);const p=m(t,["maxOutputTokens"]);p!=null&&g(n,["maxOutputTokens"],p);const v=m(t,["mediaResolution"]);v!=null&&g(n,["mediaResolution"],v);const y=m(t,["presencePenalty"]);y!=null&&g(n,["presencePenalty"],y);const S=m(t,["responseLogprobs"]);S!=null&&g(n,["responseLogprobs"],S);const A=m(t,["responseMimeType"]);A!=null&&g(n,["responseMimeType"],A);const w=m(t,["responseModalities"]);w!=null&&g(n,["responseModalities"],w);const b=m(t,["responseSchema"]);b!=null&&g(n,["responseSchema"],b);const L=m(t,["routingConfig"]);L!=null&&g(n,["routingConfig"],L);const H=m(t,["seed"]);H!=null&&g(n,["seed"],H);const F=m(t,["speechConfig"]);F!=null&&g(n,["speechConfig"],F);const z=m(t,["stopSequences"]);z!=null&&g(n,["stopSequences"],z);const B=m(t,["temperature"]);B!=null&&g(n,["temperature"],B);const j=m(t,["thinkingConfig"]);j!=null&&g(n,["thinkingConfig"],j);const I=m(t,["topK"]);I!=null&&g(n,["topK"],I);const N=m(t,["topP"]);if(N!=null&&g(n,["topP"],N),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function DU(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Gt(t,i)),r}function MU(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Gt(t,i)),r}function FU(t,e){const n={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=m(t,["enableWidget"]);return r!=null&&g(n,["enableWidget"],r),n}function PU(t,e){const n={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=m(t,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],r),n}function OU(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const i=m(t,["imageSize"]);if(i!=null&&g(n,["imageSize"],i),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function LU(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const i=m(t,["imageSize"]);i!=null&&g(n,["imageSize"],i);const s=m(t,["personGeneration"]);s!=null&&g(n,["personGeneration"],s);const l=m(t,["outputMimeType"]);l!=null&&g(n,["imageOutputOptions","mimeType"],l);const c=m(t,["outputCompressionQuality"]);return c!=null&&g(n,["imageOutputOptions","compressionQuality"],c),n}function UU(t,e){const n={},r=m(t,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],Qs(r));const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function eC(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&g(n,["imageBytes"],Qs(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function vh(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(t,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],Qs(r));const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function na(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(t,["imageBytes"]);i!=null&&g(n,["bytesBase64Encoded"],Qs(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function VU(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=m(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&g(n,["_url","models_url"],Yw(t,d)),i}function BU(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=m(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&g(n,["_url","models_url"],Yw(t,d)),i}function HU(t,e,n){const r={},i=m(e,["config"]);return i!=null&&VU(t,i,r),r}function GU(t,e,n){const r={},i=m(e,["config"]);return i!=null&&BU(t,i,r),r}function zU(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let l=Kw(s);Array.isArray(l)&&(l=l.map(c=>_g(c))),g(n,["models"],l)}return n}function qU(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let l=Kw(s);Array.isArray(l)&&(l=l.map(c=>Eg(c))),g(n,["models"],l)}return n}function jU(t,e){const n={},r=m(t,["maskMode"]);r!=null&&g(n,["maskMode"],r);const i=m(t,["segmentationClasses"]);i!=null&&g(n,["maskClasses"],i);const s=m(t,["maskDilation"]);return s!=null&&g(n,["dilation"],s),n}function _g(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=m(t,["description"]);s!=null&&g(n,["description"],s);const l=m(t,["version"]);l!=null&&g(n,["version"],l);const c=m(t,["_self"]);c!=null&&g(n,["tunedModelInfo"],oV(c));const d=m(t,["inputTokenLimit"]);d!=null&&g(n,["inputTokenLimit"],d);const f=m(t,["outputTokenLimit"]);f!=null&&g(n,["outputTokenLimit"],f);const p=m(t,["supportedGenerationMethods"]);p!=null&&g(n,["supportedActions"],p);const v=m(t,["temperature"]);v!=null&&g(n,["temperature"],v);const y=m(t,["maxTemperature"]);y!=null&&g(n,["maxTemperature"],y);const S=m(t,["topP"]);S!=null&&g(n,["topP"],S);const A=m(t,["topK"]);A!=null&&g(n,["topK"],A);const w=m(t,["thinking"]);return w!=null&&g(n,["thinking"],w),n}function Eg(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=m(t,["description"]);s!=null&&g(n,["description"],s);const l=m(t,["versionId"]);l!=null&&g(n,["version"],l);const c=m(t,["deployedModels"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>iU(S))),g(n,["endpoints"],y)}const d=m(t,["labels"]);d!=null&&g(n,["labels"],d);const f=m(t,["_self"]);f!=null&&g(n,["tunedModelInfo"],lV(f));const p=m(t,["defaultCheckpointId"]);p!=null&&g(n,["defaultCheckpointId"],p);const v=m(t,["checkpoints"]);if(v!=null){let y=v;Array.isArray(y)&&(y=y.map(S=>S)),g(n,["checkpoints"],y)}return n}function $U(t,e){const n={},r=m(t,["mediaResolution"]);r!=null&&g(n,["mediaResolution"],r);const i=m(t,["codeExecutionResult"]);i!=null&&g(n,["codeExecutionResult"],i);const s=m(t,["executableCode"]);s!=null&&g(n,["executableCode"],s);const l=m(t,["fileData"]);l!=null&&g(n,["fileData"],aU(l));const c=m(t,["functionCall"]);c!=null&&g(n,["functionCall"],sU(c));const d=m(t,["functionResponse"]);d!=null&&g(n,["functionResponse"],d);const f=m(t,["inlineData"]);f!=null&&g(n,["inlineData"],k9(f));const p=m(t,["text"]);p!=null&&g(n,["text"],p);const v=m(t,["thought"]);v!=null&&g(n,["thought"],v);const y=m(t,["thoughtSignature"]);y!=null&&g(n,["thoughtSignature"],y);const S=m(t,["videoMetadata"]);return S!=null&&g(n,["videoMetadata"],S),n}function YU(t,e){const n={},r=m(t,["productImage"]);return r!=null&&g(n,["image"],na(r)),n}function KU(t,e,n){const r={},i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=m(t,["baseSteps"]);e!==void 0&&s!=null&&g(e,["parameters","baseSteps"],s);const l=m(t,["outputGcsUri"]);e!==void 0&&l!=null&&g(e,["parameters","storageUri"],l);const c=m(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const p=m(t,["addWatermark"]);e!==void 0&&p!=null&&g(e,["parameters","addWatermark"],p);const v=m(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const y=m(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const S=m(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const A=m(t,["labels"]);return e!==void 0&&A!=null&&g(e,["labels"],A),r}function JU(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["source"]);s!=null&&WU(s,r);const l=m(e,["config"]);return l!=null&&KU(l,r),r}function XU(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>gh(s))),g(n,["generatedImages"],i)}return n}function WU(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["personImage"]);e!==void 0&&s!=null&&g(e,["instances[0]","personImage","image"],na(s));const l=m(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>YU(d))),g(e,["instances[0]","productImages"],c)}return r}function QU(t,e){const n={},r=m(t,["referenceImage"]);r!=null&&g(n,["referenceImage"],na(r));const i=m(t,["referenceId"]);i!=null&&g(n,["referenceId"],i);const s=m(t,["referenceType"]);s!=null&&g(n,["referenceType"],s);const l=m(t,["maskImageConfig"]);l!=null&&g(n,["maskImageConfig"],jU(l));const c=m(t,["controlImageConfig"]);c!=null&&g(n,["controlImageConfig"],U9(c));const d=m(t,["styleImageConfig"]);d!=null&&g(n,["styleImageConfig"],d);const f=m(t,["subjectImageConfig"]);return f!=null&&g(n,["subjectImageConfig"],f),n}function tC(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&g(n,["contentType"],s),n}function nC(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&g(n,["contentType"],s),n}function ZU(t,e){const n={},r=m(t,["category"]);if(r!=null&&g(n,["category"],r),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(t,["threshold"]);return i!=null&&g(n,["threshold"],i),n}function eV(t,e){const n={},r=m(t,["image"]);return r!=null&&g(n,["image"],na(r)),n}function tV(t,e,n){const r={},i=m(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const s=m(t,["maxPredictions"]);e!==void 0&&s!=null&&g(e,["parameters","maxPredictions"],s);const l=m(t,["confidenceThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","confidenceThreshold"],l);const c=m(t,["maskDilation"]);e!==void 0&&c!=null&&g(e,["parameters","maskDilation"],c);const d=m(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&g(e,["parameters","binaryColorThreshold"],d);const f=m(t,["labels"]);return e!==void 0&&f!=null&&g(e,["labels"],f),r}function nV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["source"]);s!=null&&iV(s,r);const l=m(e,["config"]);return l!=null&&tV(l,r),r}function rV(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>NU(s))),g(n,["generatedMasks"],i)}return n}function iV(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],na(s));const l=m(t,["scribbleImage"]);return e!==void 0&&l!=null&&g(e,["instances[0]","scribble"],eV(l)),r}function aV(t,e){const n={},r=m(t,["retrievalConfig"]);r!=null&&g(n,["retrievalConfig"],r);const i=m(t,["functionCallingConfig"]);return i!=null&&g(n,["functionCallingConfig"],oU(i)),n}function sV(t,e){const n={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["computerUse"]);r!=null&&g(n,["computerUse"],r);const i=m(t,["fileSearch"]);i!=null&&g(n,["fileSearch"],i);const s=m(t,["codeExecution"]);if(s!=null&&g(n,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(y=>y)),g(n,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&g(n,["googleMaps"],FU(c));const d=m(t,["googleSearch"]);d!=null&&g(n,["googleSearch"],PU(d));const f=m(t,["googleSearchRetrieval"]);f!=null&&g(n,["googleSearchRetrieval"],f);const p=m(t,["urlContext"]);return p!=null&&g(n,["urlContext"],p),n}function rC(t,e){const n={},r=m(t,["retrieval"]);r!=null&&g(n,["retrieval"],r);const i=m(t,["computerUse"]);if(i!=null&&g(n,["computerUse"],i),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=m(t,["codeExecution"]);s!=null&&g(n,["codeExecution"],s);const l=m(t,["enterpriseWebSearch"]);l!=null&&g(n,["enterpriseWebSearch"],l);const c=m(t,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>lU(S))),g(n,["functionDeclarations"],y)}const d=m(t,["googleMaps"]);d!=null&&g(n,["googleMaps"],d);const f=m(t,["googleSearch"]);f!=null&&g(n,["googleSearch"],f);const p=m(t,["googleSearchRetrieval"]);p!=null&&g(n,["googleSearchRetrieval"],p);const v=m(t,["urlContext"]);return v!=null&&g(n,["urlContext"],v),n}function oV(t,e){const n={},r=m(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&g(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&g(n,["updateTime"],s),n}function lV(t,e){const n={},r=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&g(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&g(n,["updateTime"],s),n}function cV(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function uV(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function fV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","name"],Gt(t,i));const s=m(e,["config"]);return s!=null&&cV(s,r),r}function dV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["config"]);return s!=null&&uV(s,r),r}function hV(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=m(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const l=m(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=m(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const d=m(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=m(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const p=m(t,["enhanceInputImage"]);e!==void 0&&p!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=m(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const y=m(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const S=m(t,["numberOfImages"]);e!==void 0&&S!=null&&g(e,["parameters","sampleCount"],S);const A=m(t,["mode"]);return e!==void 0&&A!=null&&g(e,["parameters","mode"],A),r}function pV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Gt(t,i));const s=m(e,["image"]);s!=null&&g(r,["instances[0]","image"],na(s));const l=m(e,["upscaleFactor"]);l!=null&&g(r,["parameters","upscaleConfig","upscaleFactor"],l);const c=m(e,["config"]);return c!=null&&hV(c,r),r}function mV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>gh(l))),g(n,["generatedImages"],s)}return n}function gV(t,e){const n={},r=m(t,["uri"]);r!=null&&g(n,["uri"],r);const i=m(t,["encodedVideo"]);i!=null&&g(n,["videoBytes"],Qs(i));const s=m(t,["encoding"]);return s!=null&&g(n,["mimeType"],s),n}function vV(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],Qs(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function xV(t,e){const n={},r=m(t,["image"]);r!=null&&g(n,["_self"],na(r));const i=m(t,["maskMode"]);return i!=null&&g(n,["maskMode"],i),n}function yV(t,e){const n={},r=m(t,["image"]);r!=null&&g(n,["image"],vh(r));const i=m(t,["referenceType"]);return i!=null&&g(n,["referenceType"],i),n}function _V(t,e){const n={},r=m(t,["image"]);r!=null&&g(n,["image"],na(r));const i=m(t,["referenceType"]);return i!=null&&g(n,["referenceType"],i),n}function iC(t,e){const n={},r=m(t,["uri"]);r!=null&&g(n,["uri"],r);const i=m(t,["videoBytes"]);i!=null&&g(n,["encodedVideo"],Qs(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["encoding"],s),n}function aC(t,e){const n={},r=m(t,["uri"]);r!=null&&g(n,["gcsUri"],r);const i=m(t,["videoBytes"]);i!=null&&g(n,["bytesBase64Encoded"],Qs(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EV(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function TV(t){const e={},n=m(t,["config"]);return n!=null&&EV(n,e),e}function SV(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function AV(t){const e={},n=m(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&SV(r,e),e}function wV(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function CV(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["customMetadata"],s)}const i=m(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function bV(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],IV(l)),e}function NV(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=m(t,["config"]);return i!=null&&CV(i,e),e}function IV(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&g(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function RV(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function kV(t){const e={},n=m(t,["config"]);return n!=null&&RV(n,e),e}function DV(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["fileSearchStores"],s)}return e}function sC(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=m(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["customMetadata"],c)}const l=m(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function MV(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&sC(r,e),e}function FV(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PV="Content-Type",OV="X-Server-Timeout",LV="User-Agent",Tg="x-goog-api-client",UV="1.40.0",VV=`google-genai-sdk/${UV}`,BV="v1beta1",HV="v1beta";class GV{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:BV}else{if(!this.clientOptions.apiKey)throw new nf({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:HV,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===gg.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=l}return n&&n.extraBody!==null&&zV(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await A2(i),new vg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await A2(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ea(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield ht(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=s.decode(p,{stream:!0});try{const A=JSON.parse(v);if("error"in A){const w=JSON.parse(JSON.stringify(A.error)),b=w.status,L=w.code,H=`got status: ${b}. ${JSON.stringify(A)}`;if(L>=400&&L<600)throw new nf({message:H,status:L})}}catch(A){if(A.name==="ApiError")throw A}l+=v;let y=-1,S=0;for(;;){y=-1,S=0;for(const b of d){const L=l.indexOf(b);L!==-1&&(y===-1||L<y)&&(y=L,S=b.length)}if(y===-1)break;const A=l.substring(0,y);l=l.substring(y+S);const w=A.trim();if(w.startsWith(c)){const b=w.substring(c.length).trim();try{const L=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ht(new vg(L))}catch(L){throw new Error(`exception parsing stream chunk ${b}. ${L}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=VV+" "+this.clientOptions.userAgentExtra;return e[LV]=n,e[Tg]=n,e[PV]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(OV,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,l=await s.stat(e);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d={file:i},f=this.getFileName(e),p=Ke("upload/v1beta/files",d._url),v=await this.fetchUploadUrl(p,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return s.upload(e,v,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,l=await s.stat(n),c=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,p=this.getFileName(n),v={};r!=null&&sC(r,v);const y=await this.fetchUploadUrl(f,c,d,p,v,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,l){var c;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function A2(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new nf({message:i,status:n}):new Error(i)}}function zV(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,l){const c=Object.assign({},s);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],p=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?c[d]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qV="mcp_used/unknown";let jV=!1;function oC(t){for(const e of t)if($V(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jV}function lC(t){var e;const n=(e=t[Tg])!==null&&e!==void 0?e:"";t[Tg]=(n+` ${qV}`).trimStart()}function $V(t){return t!==null&&typeof t=="object"&&t instanceof Uv}function YV(t){return ea(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const l=yield ht(n.listTools({cursor:i}));for(const c of l.tools)yield yield ht(c),s++;if(!l.nextCursor)break;i=l.nextCursor}})}class Uv{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Uv(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},l=[];for(const p of this.mcpClients)try{for(var c=!0,d=(n=void 0,ta(YV(p))),f;f=await d.next(),e=f.done,!e;c=!0){i=f.value,c=!1;const v=i;l.push(v);const y=v.name;if(s[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);s[y]=p}}catch(v){n={error:v}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),TL(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function KV(t,e,n){const r=new pL;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class JV{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=QV(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const p=new Promise(F=>{f=F}),v=e.callbacks,y=function(){f({})},S=this.apiClient,A={onopen:y,onmessage:F=>{KV(S,v.onmessage,F)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(F){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(F){}},w=this.webSocketFactory.create(d,WV(l),A);w.connect(),await p;const H={setup:{model:Gt(this.apiClient,e.model)}};return w.send(JSON.stringify(H)),new XV(w,this.apiClient)}}class XV{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=E9(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=_9(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gl.PLAY)}pause(){this.sendPlaybackControl(Gl.PAUSE)}stop(){this.sendPlaybackControl(Gl.STOP)}resetContext(){this.sendPlaybackControl(Gl.RESET_CONTEXT)}close(){this.conn.close()}}function WV(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function QV(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZV="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function e7(t,e,n){const r=new hL;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const l=A9(s);Object.assign(r,l)}else Object.assign(r,s);e(r)}class t7{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new JV(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&oC(e.config.tools)&&lC(v);const y=a7(v);if(this.apiClient.isVertexAI()){const C=this.apiClient.getProject(),P=this.apiClient.getLocation(),D=this.apiClient.getApiKey(),k=!!C&&!!P||!!D;this.apiClient.getCustomBaseUrl()&&!k?p=d:(p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,p))}else{const C=this.apiClient.getApiKey();let P="BidiGenerateContent",D="key";C!=null&&C.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",D="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${P}?${D}=${C}`}let S=()=>{};const A=new Promise(C=>{S=C}),w=e.callbacks,b=function(){var C;(C=w==null?void 0:w.onopen)===null||C===void 0||C.call(w),S({})},L=this.apiClient,H={onopen:b,onmessage:C=>{e7(L,w.onmessage,C)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(C){}},F=this.webSocketFactory.create(p,i7(y),H);F.connect(),await A;let z=Gt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const C=this.apiClient.getProject(),P=this.apiClient.getLocation();C&&P&&(z=`projects/${C}/locations/${P}/`+z)}let B={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[U0.AUDIO]}:e.config.responseModalities=[U0.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],I=[];for(const C of j)if(this.isCallableTool(C)){const P=C;I.push(await P.tool())}else I.push(C);I.length>0&&(e.config.tools=I);const N={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=y9(this.apiClient,N):B=x9(this.apiClient,N),delete B.config,F.send(JSON.stringify(B)),new r7(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const n7={turnComplete:!0};class r7{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ii(n.turns),e.isVertexAI()||(r=r.map(i=>mh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(ZV)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},n7),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:S9(e)}:n={realtimeInput:T9(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function i7(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function a7(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w2=10;function C2(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Wl(l)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Wl(t){return"callTool"in t&&typeof t.callTool=="function"}function s7(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Wl(i)))!==null&&r!==void 0?r:!1}function b2(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Wl(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function N2(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o7 extends es{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!s7(n)||C2(n.config))return await this.generateContentInternal(d);const f=b2(n);if(f.length>0){const w=f.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let p,v;const y=Ii(d.contents),S=(s=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:w2;let A=0;for(;A<S&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const w=p.candidates[0].content,b=[];for(const L of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Wl(L)){const F=await L.callTool(p.functionCalls);b.push(...F)}A++,v={role:"user",parts:b},d.contents=Ii(d.contents),d.contents.push(w),d.contents.push(v),N2(d.config)&&(y.push(w),y.push(v))}return N2(d.config)&&(p.automaticFunctionCallingHistory=y),p},this.generateContentStream=async n=>{var r,i,s,l,c;if(this.maybeMoveToResponseJsonSchem(n),C2(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const d=b2(n);if(d.length>0){const v=d.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,p=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:l.push(d);let c;return s?c={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Xo(Wa.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const l=await Promise.all(s.map(async d=>Wl(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&oC(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),lC(f),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wl(l)){const c=l,d=await c.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,c)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:w2;let l=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(f,p,v){return ea(this,arguments,function*(){for(var y,S,A,w,b,L;c<s;){l&&(c++,l=!1);const B=yield ht(f.processParamsMaybeAddMcpUsage(v)),j=yield ht(f.generateContentStreamInternal(B)),I=[],N=[];try{for(var H=!0,F=(S=void 0,ta(j)),z;z=yield ht(F.next()),y=z.done,!y;H=!0){w=z.value,H=!1;const C=w;if(yield yield ht(C),C.candidates&&(!((b=C.candidates[0])===null||b===void 0)&&b.content)){N.push(C.candidates[0].content);for(const P of(L=C.candidates[0].content.parts)!==null&&L!==void 0?L:[])if(c<s&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(P.functionCall.name)){const D=yield ht(p.get(P.functionCall.name).callTool([P.functionCall]));I.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(C){S={error:C}}finally{try{!H&&!y&&(A=F.return)&&(yield ht(A.call(F)))}finally{if(S)throw S.error}}if(I.length>0){l=!0;const C=new hu;C.candidates=[{content:{role:"user",parts:I}}],yield yield ht(C);const P=[];P.push(...N),P.push({role:"user",parts:I});const D=Ii(v.contents).concat(P);v.contents=D}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=E2(this.apiClient,e);return c=Ke("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=S2(p),y=new hu;return Object.assign(y,v),y})}else{const f=_2(this.apiClient,e);return c=Ke("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=T2(p),y=new hu;return Object.assign(y,v),y})}}async generateContentStreamInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=E2(this.apiClient,e);return c=Ke("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(v){return ea(this,arguments,function*(){var y,S,A,w;try{for(var b=!0,L=ta(v),H;H=yield ht(L.next()),y=H.done,!y;b=!0){w=H.value,b=!1;const F=w,z=S2(yield ht(F.json()),e);z.sdkHttpResponse={headers:F.headers};const B=new hu;Object.assign(B,z),yield yield ht(B)}}catch(F){S={error:F}}finally{try{!b&&!y&&(A=L.return)&&(yield ht(A.call(L)))}finally{if(S)throw S.error}}})})}else{const f=_2(this.apiClient,e);return c=Ke("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(v){return ea(this,arguments,function*(){var y,S,A,w;try{for(var b=!0,L=ta(v),H;H=yield ht(L.next()),y=H.done,!y;b=!0){w=H.value,b=!1;const F=w,z=T2(yield ht(F.json()),e);z.sdkHttpResponse={headers:F.headers};const B=new hu;Object.assign(B,z),yield yield ht(B)}}catch(F){S={error:F}}finally{try{!b&&!y&&(A=L.return)&&(yield ht(A.call(L)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=tU(this.apiClient,e);return c=Ke("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=rU(p),y=new r2;return Object.assign(y,v),y})}else{const f=eU(this.apiClient,e);return c=Ke("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=nU(p),y=new r2;return Object.assign(y,v),y})}}async generateImagesInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=pU(this.apiClient,e);return c=Ke("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=gU(p),y=new i2;return Object.assign(y,v),y})}else{const f=hU(this.apiClient,e);return c=Ke("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=mU(p),y=new i2;return Object.assign(y,v),y})}}async editImageInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=X9(this.apiClient,e);return s=Ke("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=W9(d),p=new tL;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=pV(this.apiClient,e);return s=Ke("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=mV(d),p=new nL;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=JU(this.apiClient,e);return s=Ke("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=XU(d),p=new rL;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=nV(this.apiClient,e);return s=Ke("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=rV(d),p=new iL;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=MU(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Eg(p))}else{const f=DU(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>_g(p))}}async listInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=GU(this.apiClient,e);return c=Ke("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=qU(p),y=new a2;return Object.assign(y,v),y})}else{const f=HU(this.apiClient,e);return c=Ke("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=zU(p),y=new a2;return Object.assign(y,v),y})}}async update(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=dV(this.apiClient,e);return c=Ke("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>Eg(p))}else{const f=fV(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>_g(p))}}async delete(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=$9(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=K9(p),y=new s2;return Object.assign(y,v),y})}else{const f=j9(this.apiClient,e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=Y9(p),y=new s2;return Object.assign(y,v),y})}}async countTokens(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=G9(this.apiClient,e);return c=Ke("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=q9(p),y=new o2;return Object.assign(y,v),y})}else{const f=H9(this.apiClient,e);return c=Ke("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=z9(p),y=new o2;return Object.assign(y,v),y})}}async computeTokens(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=F9(this.apiClient,e);return s=Ke("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>{const f=P9(d),p=new aL;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=TU(this.apiClient,e);return c=Ke("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const v=_U(p),y=new V0;return Object.assign(y,v),y})}else{const f=EU(this.apiClient,e);return c=Ke("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>{const v=yU(p),y=new V0;return Object.assign(y,v),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l7 extends es{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=JO(e);return c=Ke("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const f=KO(e);return c=Ke("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=HO(e);return s=Ke("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c7(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function u7(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>y7(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function f7(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const s=m(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&g(n,["newSessionExpireTime"],s);const l=m(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],x7(t,c));const d=m(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&g(n,["fieldMask"],d),r}function d7(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],f7(t,r,n)),n}function h7(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function p7(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m7(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function g7(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function v7(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=m(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=m(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const f=m(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const p=m(t,["seed"]);e!==void 0&&p!=null&&g(e,["setup","generationConfig","seed"],p);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],Lv(v));const y=m(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const S=m(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],S);const A=m(t,["systemInstruction"]);e!==void 0&&A!=null&&g(e,["setup","systemInstruction"],u7(Rr(A)));const w=m(t,["tools"]);if(e!==void 0&&w!=null){let j=hc(w);Array.isArray(j)&&(j=j.map(I=>E7(dc(I)))),g(e,["setup","tools"],j)}const b=m(t,["sessionResumption"]);e!==void 0&&b!=null&&g(e,["setup","sessionResumption"],_7(b));const L=m(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&g(e,["setup","inputAudioTranscription"],L);const H=m(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&g(e,["setup","outputAudioTranscription"],H);const F=m(t,["realtimeInputConfig"]);e!==void 0&&F!=null&&g(e,["setup","realtimeInputConfig"],F);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&g(e,["setup","contextWindowCompression"],z);const B=m(t,["proactivity"]);if(e!==void 0&&B!=null&&g(e,["setup","proactivity"],B),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function x7(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Gt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],v7(i,n)),n}function y7(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],h7(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],p7(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=m(t,["inlineData"]);d!=null&&g(e,["inlineData"],c7(d));const f=m(t,["text"]);f!=null&&g(e,["text"],f);const p=m(t,["thought"]);p!=null&&g(e,["thought"],p);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function _7(t){const e={},n=m(t,["handle"]);if(n!=null&&g(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function E7(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),g(e,["functionDeclarations"],p)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],m7(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],g7(c));const d=m(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const f=m(t,["urlContext"]);return f!=null&&g(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T7(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function S7(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=T7(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];s&&d.push(s),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class A7 extends es{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=d7(this.apiClient,e);s=Ke("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=S7(c,e.config);return i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w7(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function C7(t){const e={},n=m(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&w7(r,e),e}function b7(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function N7(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function I7(t){const e={},n=m(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&N7(r,e),e}function R7(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k7 extends es{constructor(e){super(),this.apiClient=e,this.list=async n=>new Xo(Wa.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=b7(e);return s=Ke("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=C7(e);i=Ke("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=I7(e);return s=Ke("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=R7(d),p=new sL;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D7 extends es{constructor(e,n=new k7(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Xo(Wa.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=TV(e);return s=Ke("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=wV(e);return s=Ke("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=AV(e);i=Ke("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kV(e);return s=Ke("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=DV(d),p=new oL;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=MV(e);return s=Ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=FV(d),p=new lL;return Object.assign(p,f),p})}}async importFile(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=NV(e);return s=Ke("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=bV(d),p=new Dv;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cC=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return cC=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const M7=()=>cC();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sg(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ag=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ki extends Error{}class qr extends ki{constructor(e,n,r,i){super(`${qr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new xh({message:r,cause:Ag(n)});const s=n;return e===400?new fC(e,s,r,i):e===401?new dC(e,s,r,i):e===403?new hC(e,s,r,i):e===404?new pC(e,s,r,i):e===409?new mC(e,s,r,i):e===422?new gC(e,s,r,i):e===429?new vC(e,s,r,i):e>=500?new xC(e,s,r,i):new qr(e,s,r,i)}}class wg extends qr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class xh extends qr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class uC extends xh{constructor({message:e}={}){super({message:e??"Request timed out."})}}class fC extends qr{}class dC extends qr{}class hC extends qr{}class pC extends qr{}class mC extends qr{}class gC extends qr{}class vC extends qr{}class xC extends qr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F7=/^[a-z][a-z0-9+.-]*:/i,P7=t=>F7.test(t);let Cg=t=>(Cg=Array.isArray,Cg(t));const O7=Cg;let L7=O7;const I2=L7;function U7(t){if(!t)return!0;for(const e in t)return!1;return!0}function V7(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const B7=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ki(`${t} must be an integer`);if(e<0)throw new ki(`${t} must be a positive integer`);return e},H7=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G7=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ul="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z7(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const q7=()=>{var t,e,n,r,i;const s=z7();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":k2(Deno.build.os),"X-Stainless-Arch":R2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":k2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":R2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=j7();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ul,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function j7(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,l=r[3]||0;return{browser:e,version:`${i}.${s}.${l}`}}}return null}const R2=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",k2=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let e0;const $7=()=>e0??(e0=q7());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y7(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yC(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function K7(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return yC({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function _C(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function J7(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X7=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vm(t,e,n){return EC(),new File(t,e??"unknown_file",n)}function W7(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Q7=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TC=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Z7=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&TC(t),eB=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function tB(t,e,n){if(EC(),t=await t,Z7(t))return t instanceof File?t:Vm([await t.arrayBuffer()],t.name);if(eB(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Vm(await bg(i),e,n)}const r=await bg(t);if(e||(e=W7(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Vm(r,e,n)}async function bg(t){var e,n,r,i,s;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(TC(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(Q7(t))try{for(var c=!0,d=ta(t),f;f=await d.next(),e=f.done,!e;c=!0){i=f.value,c=!1;const p=i;l.push(...await bg(p))}}catch(p){n={error:p}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const p=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${p?`; constructor: ${p}`:""}${nB(t)}`)}return l}function nB(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC{constructor(e){this._client=e}}SC._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AC(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const D2=Object.freeze(Object.create(null)),rB=(t=AC)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],l=n.reduce((p,v,y)=>{var S,A,w;/[?#]/.test(v)&&(i=!0);const b=r[y];let L=(i?encodeURIComponent:t)(""+b);return y!==r.length&&(b==null||typeof b=="object"&&b.toString===((w=Object.getPrototypeOf((A=Object.getPrototypeOf((S=b.hasOwnProperty)!==null&&S!==void 0?S:D2))!==null&&A!==void 0?A:D2))===null||w===void 0?void 0:w.toString))&&(L=b+"",s.push({start:p.length+v.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),p+v+(y===r.length?"":L)},""),c=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(c))!==null;)s.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(s.sort((p,v)=>p.start-v.start),s.length>0){let p=0;const v=s.reduce((y,S)=>{const A=" ".repeat(S.start-p),w="^".repeat(S.length);return p=S.start+S.length,y+A+w},"");throw new ki(`Path parameters result in path with invalid segments:
${s.map(y=>y.error).join(`
`)}
${l}
${v}`)}return l}),t0=rB(AC);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends SC{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=H0(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new ki("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ki("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(t0`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(t0`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(t0`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:l=this._client.apiVersion}=s,c=H0(s,["api_version"]);return this._client.get(t0`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}wC._key=Object.freeze(["interactions"]);class CC extends wC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iB(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let n0;function Vv(t){let e;return(n0??(e=new globalThis.TextEncoder,n0=e.encode.bind(e)))(t)}let r0;function M2(t){let e;return(r0??(e=new globalThis.TextDecoder,r0=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Vv(e):e;this.buffer=iB([this.buffer,n]);const r=[];let i;for(;(i=aB(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(M2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=M2(this.buffer.subarray(0,s));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}yh.NEWLINE_CHARS=new Set([`
`,"\r"]);yh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function aB(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function sB(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G0={off:0,error:200,warn:300,info:400,debug:500},F2=(t,e,n)=>{if(t){if(V7(G0,t))return t;Ur(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(G0))}`)}};function Au(){}function i0(t,e,n){return!e||G0[t]>G0[n]?Au:e[t].bind(e)}const oB={error:Au,warn:Au,info:Au,debug:Au};let P2=new WeakMap;function Ur(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return oB;const i=P2.get(n);if(i&&i[0]===r)return i[1];const s={error:i0("error",n,r),warn:i0("warn",n,r),info:i0("info",n,r),debug:i0("debug",n,r)};return P2.set(n,[r,s]),s}const wo=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zl{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?Ur(r):console;function l(){return ea(this,arguments,function*(){var d,f,p,v;if(i)throw new ki("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var S=!0,A=ta(lB(e,n)),w;w=yield ht(A.next()),d=w.done,!d;S=!0){v=w.value,S=!1;const b=v;if(!y)if(b.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield ht(JSON.parse(b.data))}catch(L){throw s.error("Could not parse message into JSON:",b.data),s.error("From chunk:",b.raw),L}}}catch(b){f={error:b}}finally{try{!S&&!d&&(p=A.return)&&(yield ht(p.call(A)))}finally{if(f)throw f.error}}y=!0}catch(b){if(Sg(b))return yield ht(void 0);throw b}finally{y||n.abort()}})}return new zl(l,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return ea(this,arguments,function*(){var d,f,p,v;const y=new yh,S=_C(e);try{for(var A=!0,w=ta(S),b;b=yield ht(w.next()),d=b.done,!d;A=!0){v=b.value,A=!1;const L=v;for(const H of y.decode(L))yield yield ht(H)}}catch(L){f={error:L}}finally{try{!A&&!d&&(p=w.return)&&(yield ht(p.call(w)))}finally{if(f)throw f.error}}for(const L of y.flush())yield yield ht(L)})}function l(){return ea(this,arguments,function*(){var d,f,p,v;if(i)throw new ki("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var S=!0,A=ta(s()),w;w=yield ht(A.next()),d=w.done,!d;S=!0){v=w.value,S=!1;const b=v;y||b&&(yield yield ht(JSON.parse(b)))}}catch(b){f={error:b}}finally{try{!S&&!d&&(p=A.return)&&(yield ht(p.call(A)))}finally{if(f)throw f.error}}y=!0}catch(b){if(Sg(b))return yield ht(void 0);throw b}finally{y||n.abort()}})}return new zl(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const l=r.next();e.push(l),n.push(l)}return s.shift()}});return[new zl(()=>i(e),this.controller,this.client),new zl(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return yC({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const l=Vv(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function lB(t,e){return ea(this,arguments,function*(){var r,i,s,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ki("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ki("Attempted to iterate over a response with no body");const c=new uB,d=new yh,f=_C(t.body);try{for(var p=!0,v=ta(cB(f)),y;y=yield ht(v.next()),r=y.done,!r;p=!0){l=y.value,p=!1;const S=l;for(const A of d.decode(S)){const w=c.decode(A);w&&(yield yield ht(w))}}}catch(S){i={error:S}}finally{try{!p&&!r&&(s=v.return)&&(yield ht(s.call(v)))}finally{if(i)throw i.error}}for(const S of d.flush()){const A=c.decode(S);A&&(yield yield ht(A))}})}function cB(t){return ea(this,arguments,function*(){var n,r,i,s;let l=new Uint8Array;try{for(var c=!0,d=ta(t),f;f=yield ht(d.next()),n=f.done,!n;c=!0){s=f.value,c=!1;const p=s;if(p==null)continue;const v=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Vv(p):p;let y=new Uint8Array(l.length+v.length);y.set(l),y.set(v,l.length),l=y;let S;for(;(S=sB(l))!==-1;)yield yield ht(l.slice(0,S)),l=l.slice(S)}}catch(p){r={error:p}}finally{try{!c&&!n&&(i=d.return)&&(yield ht(i.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield ht(l))})}class uB{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=fB(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function fB(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dB(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,l=await(async()=>{var c;if(e.options.stream)return Ur(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):zl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Ur(t).debug(`[${r}] response parsed`,wo({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bv extends Promise{constructor(e,n,r=dB){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Bv(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bC=Symbol("brand.privateNullableHeaders");function*hB(t){if(!t)return;if(bC in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():I2(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=I2(r[1])?r[1]:[r[1]];let l=!1;for(const c of s)c!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,c])}}const pu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,l]of hB(r)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),l===null?(e.delete(s),n.add(c)):(e.append(s,l),n.delete(c))}}return{[bC]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bm=t=>{var e,n,r,i,s,l;if(typeof globalThis.process<"u")return(r=(n=(e=PO)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var NC;class _h{constructor(e){var n,r,i,s,l,c,d,{baseURL:f=Bm("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=Bm("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:v="v1beta"}=e,y=H0(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:p,apiVersion:v},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(r=S.timeout)!==null&&r!==void 0?r:_h.DEFAULT_TIMEOUT,this.logger=(i=S.logger)!==null&&i!==void 0?i:console;const A="warn";this.logLevel=A,this.logLevel=(l=(s=F2(S.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:F2(Bm("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:A,this.fetchOptions=S.fetchOptions,this.maxRetries=(c=S.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=S.fetch)!==null&&d!==void 0?d:Y7(),this.encoder=X7,this._options=S,this.apiKey=p,this.apiVersion=v,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=pu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return pu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return pu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ki(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ul}`}defaultIdempotencyKey(){return`stainless-node-retry-${M7()}`}makeStatusError(e,n,r,i){return qr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=P7(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return U7(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Bv(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,l;const c=await e,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:f,url:p,timeout:v}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:c});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=r===void 0?"":`, retryOf: ${r}`,A=Date.now();if(Ur(this).debug(`[${y}] sending request`,wo({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:f.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new wg;const w=new AbortController,b=await this.fetchWithTimeout(p,f,v,w).catch(Ag),L=Date.now();if(b instanceof globalThis.Error){const F=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new wg;const z=Sg(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Ur(this).info(`[${y}] connection ${z?"timed out":"failed"} - ${F}`),Ur(this).debug(`[${y}] connection ${z?"timed out":"failed"} (${F})`,wo({retryOfRequestLogID:r,url:p,durationMs:L-A,message:b.message})),this.retryRequest(c,n,r??y);throw Ur(this).info(`[${y}] connection ${z?"timed out":"failed"} - error; no more retries left`),Ur(this).debug(`[${y}] connection ${z?"timed out":"failed"} (error; no more retries left)`,wo({retryOfRequestLogID:r,url:p,durationMs:L-A,message:b.message})),z?new uC:new xh({cause:b})}const H=`[${y}${S}] ${f.method} ${p} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${L-A}ms`;if(!b.ok){const F=await this.shouldRetry(b);if(n&&F){const C=`retrying, ${n} attempts remaining`;return await J7(b.body),Ur(this).info(`${H} - ${C}`),Ur(this).debug(`[${y}] response error (${C})`,wo({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:L-A})),this.retryRequest(c,n,r??y,b.headers)}const z=F?"error; no more retries left":"error; not retryable";Ur(this).info(`${H} - ${z}`);const B=await b.text().catch(C=>Ag(C).message),j=H7(B),I=j?void 0:B;throw Ur(this).debug(`[${y}] response error (${z})`,wo({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:I,durationMs:Date.now()-A})),this.makeStatusError(b.status,j,I,b.headers)}return Ur(this).info(H),Ur(this).debug(`[${y}] response start`,wo({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:L-A})),{response:b,options:c,controller:w,requestLogID:y,retryOfRequestLogID:r,startTime:A}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:l,method:c}=s,d=H0(s,["signal","method"]),f=i.abort.bind(i);l&&l.addEventListener("abort",f,{once:!0});const p=setTimeout(f,r),v=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,y=Object.assign(Object.assign(Object.assign({signal:i.signal},v?{duplex:"half"}:{}),{method:"GET"}),d);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let l;const c=i==null?void 0:i.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(l=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await G7(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const l=Object.assign({},e),{method:c,path:d,query:f,defaultBaseURL:p}=l,v=this.buildURL(d,f,p);"timeout"in l&&B7("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:S}=this.buildBody({options:l}),A=await this.buildHeaders({options:e,method:c,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:A},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:v,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=pu([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),$7()),this._options.defaultHeaders,r,e.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=pu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:K7(e)}:this.encoder({body:e,headers:r})}}_h.DEFAULT_TIMEOUT=6e4;class sr extends _h{constructor(){super(...arguments),this.interactions=new CC(this)}}NC=sr;sr.GeminiNextGenAPIClient=NC;sr.GeminiNextGenAPIClientError=ki;sr.APIError=qr;sr.APIConnectionError=xh;sr.APIConnectionTimeoutError=uC;sr.APIUserAbortError=wg;sr.NotFoundError=pC;sr.ConflictError=mC;sr.RateLimitError=vC;sr.BadRequestError=fC;sr.AuthenticationError=dC;sr.InternalServerError=xC;sr.PermissionDeniedError=hC;sr.UnprocessableEntityError=gC;sr.toFile=tB;sr.Interactions=CC;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pB(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function mB(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function gB(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function vB(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function xB(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(t,["epochCount"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","epochCount"],s);const l=m(t,["learningRateMultiplier"]);if(l!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(m(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(m(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const d=m(t,["learningRate"]);if(e!==void 0&&d!=null&&g(e,["tuningTask","hyperparameters","learningRate"],d),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(m(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(m(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(m(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(m(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function yB(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const B=m(t,["validationDataset"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec"],Hm(B))}else if(i==="PREFERENCE_TUNING"){const B=m(t,["validationDataset"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec"],Hm(B))}else if(i==="DISTILLATION"){const B=m(t,["validationDataset"]);e!==void 0&&B!=null&&g(e,["distillationSpec"],Hm(B))}const s=m(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&g(e,["tunedModelDisplayName"],s);const l=m(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const B=m(t,["epochCount"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],B)}else if(c==="PREFERENCE_TUNING"){const B=m(t,["epochCount"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],B)}else if(c==="DISTILLATION"){const B=m(t,["epochCount"]);e!==void 0&&B!=null&&g(e,["distillationSpec","hyperParameters","epochCount"],B)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const B=m(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],B)}else if(d==="PREFERENCE_TUNING"){const B=m(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],B)}else if(d==="DISTILLATION"){const B=m(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&g(e,["distillationSpec","hyperParameters","learningRateMultiplier"],B)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const B=m(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],B)}else if(f==="PREFERENCE_TUNING"){const B=m(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],B)}else if(f==="DISTILLATION"){const B=m(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&g(e,["distillationSpec","exportLastCheckpointOnly"],B)}let p=m(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const B=m(t,["adapterSize"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],B)}else if(p==="PREFERENCE_TUNING"){const B=m(t,["adapterSize"]);e!==void 0&&B!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],B)}else if(p==="DISTILLATION"){const B=m(t,["adapterSize"]);e!==void 0&&B!=null&&g(e,["distillationSpec","hyperParameters","adapterSize"],B)}let v=m(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const B=m(t,["tuningMode"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","tuningMode"],B)}const y=m(t,["customBaseModel"]);e!==void 0&&y!=null&&g(e,["customBaseModel"],y);let S=m(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const B=m(t,["batchSize"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","batchSize"],B)}let A=m(n,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const B=m(t,["learningRate"]);e!==void 0&&B!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRate"],B)}const w=m(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const b=m(t,["beta"]);e!==void 0&&b!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],b);const L=m(t,["baseTeacherModel"]);e!==void 0&&L!=null&&g(e,["distillationSpec","baseTeacherModel"],L);const H=m(t,["tunedTeacherModelSource"]);e!==void 0&&H!=null&&g(e,["distillationSpec","tunedTeacherModelSource"],H);const F=m(t,["sftLossWeightMultiplier"]);e!==void 0&&F!=null&&g(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],F);const z=m(t,["outputUri"]);return e!==void 0&&z!=null&&g(e,["outputUri"],z),r}function _B(t,e){const n={},r=m(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&kB(s);const l=m(t,["config"]);return l!=null&&xB(l,n),n}function EB(t,e){const n={},r=m(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&DB(s,n,e);const l=m(t,["config"]);return l!=null&&yB(l,n,e),n}function TB(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function SB(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function AB(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const l=m(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function wB(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const l=m(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function CB(t,e){const n={},r=m(t,["config"]);return r!=null&&AB(r,n),n}function bB(t,e){const n={},r=m(t,["config"]);return r!=null&&wB(r,n),n}function NB(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>IC(c))),g(n,["tuningJobs"],l)}return n}function IB(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Ng(c))),g(n,["tuningJobs"],l)}return n}function RB(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["model"],r);const i=m(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function kB(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(n,["examples","examples"],i)}return n}function DB(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function IC(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["state"]);s!=null&&g(n,["state"],jw(s));const l=m(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const d=m(t,["tuningTask","completeTime"]);d!=null&&g(n,["endTime"],d);const f=m(t,["updateTime"]);f!=null&&g(n,["updateTime"],f);const p=m(t,["description"]);p!=null&&g(n,["description"],p);const v=m(t,["baseModel"]);v!=null&&g(n,["baseModel"],v);const y=m(t,["_self"]);return y!=null&&g(n,["tunedModel"],RB(y)),n}function Ng(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["state"]);s!=null&&g(n,["state"],jw(s));const l=m(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(t,["startTime"]);c!=null&&g(n,["startTime"],c);const d=m(t,["endTime"]);d!=null&&g(n,["endTime"],d);const f=m(t,["updateTime"]);f!=null&&g(n,["updateTime"],f);const p=m(t,["error"]);p!=null&&g(n,["error"],p);const v=m(t,["description"]);v!=null&&g(n,["description"],v);const y=m(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const S=m(t,["tunedModel"]);S!=null&&g(n,["tunedModel"],S);const A=m(t,["preTunedModel"]);A!=null&&g(n,["preTunedModel"],A);const w=m(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const b=m(t,["preferenceOptimizationSpec"]);b!=null&&g(n,["preferenceOptimizationSpec"],b);const L=m(t,["distillationSpec"]);L!=null&&g(n,["distillationSpec"],L);const H=m(t,["tuningDataStats"]);H!=null&&g(n,["tuningDataStats"],H);const F=m(t,["encryptionSpec"]);F!=null&&g(n,["encryptionSpec"],F);const z=m(t,["partnerModelTuningSpec"]);z!=null&&g(n,["partnerModelTuningSpec"],z);const B=m(t,["customBaseModel"]);B!=null&&g(n,["customBaseModel"],B);const j=m(t,["experiment"]);j!=null&&g(n,["experiment"],j);const I=m(t,["labels"]);I!=null&&g(n,["labels"],I);const N=m(t,["outputUri"]);N!=null&&g(n,["outputUri"],N);const C=m(t,["pipelineJob"]);C!=null&&g(n,["pipelineJob"],C);const P=m(t,["serviceAccount"]);P!=null&&g(n,["serviceAccount"],P);const D=m(t,["tunedModelDisplayName"]);D!=null&&g(n,["tunedModelDisplayName"],D);const k=m(t,["veoTuningSpec"]);return k!=null&&g(n,["veoTuningSpec"],k),n}function MB(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["metadata"]);s!=null&&g(n,["metadata"],s);const l=m(t,["done"]);l!=null&&g(n,["done"],l);const c=m(t,["error"]);return c!=null&&g(n,["error"],c),n}function Hm(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=m(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FB extends es{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Xo(Wa.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:mg.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=SB(e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>Ng(p))}else{const f=TB(e);return c=Ke("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>IC(p))}}async listInternal(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=bB(e);return c=Ke("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=IB(p),y=new l2;return Object.assign(y,v),y})}else{const f=CB(e);return c=Ke("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=NB(p),y=new l2;return Object.assign(y,v),y})}}async cancel(e){var n,r,i,s;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=mB(e);return c=Ke("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=vB(p),y=new c2;return Object.assign(y,v),y})}else{const f=pB(e);return c=Ke("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:p.headers},y})),l.then(p=>{const v=gB(p),y=new c2;return Object.assign(y,v),y})}}async tuneInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=EB(e,e);return s=Ke("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>Ng(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_B(e);return s=Ke("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),i.then(d=>MB(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PB{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const OB=1024*1024*8,LB=3,UB=1e3,VB=2,z0="x-goog-upload-status";async function BB(t,e,n){var r;const i=await RC(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[z0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function HB(t,e,n){var r;const i=await RC(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[z0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Vw(s),c=new Mv;return Object.assign(c,l),c}async function RC(t,e,n){var r,i;let s=0,l=0,c=new vg(new Response),d="upload";for(s=t.size;l<s;){const f=Math.min(OB,s-l),p=t.slice(l,l+f);l+f>=s&&(d+=", finalize");let v=0,y=UB;for(;v<LB&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[z0]));)v++,await zB(y),y=y*VB;if(l+=f,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[z0])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function GB(t){return{size:t.size,type:t.type}}function zB(t){return new Promise(e=>setTimeout(e,t))}class qB{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BB(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await HB(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GB(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jB{create(e,n,r){return new $B(e,n,r)}}class $B{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O2="x-goog-api-key";class YB{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(O2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(O2,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KB="gl-node/";class kC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new sr({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=VO(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new YB(this.apiKey);this.apiClient=new GV({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:KB+"web",uploader:new qB,downloader:new PB}),this.models=new o7(this.apiClient),this.live=new t7(this.apiClient,i,new jB),this.batches=new m8(this.apiClient),this.chats=new X8(this.models,this.apiClient),this.caches=new Y8(this.apiClient),this.files=new l9(this.apiClient),this.operations=new l7(this.apiClient),this.authTokens=new A7(this.apiClient),this.tunings=new FB(this.apiClient),this.fileSearchStores=new D7(this.apiClient)}}const q0=async(t,e)=>{if(!t||!e)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${e}`,s=await(await fetch(r)).json();if(s.status==="OK"&&s.results&&s.results.length>0){const l=s.results[0],c=l.geometry.location;return{lat:c.lat,lng:c.lng,formattedAddress:l.formatted_address,locationType:l.geometry.location_type,addressComponents:l.address_components}}else return console.warn(`Geocoding failed for address "${t}":`,s.status,s.error_message),null}catch(n){return console.error(`Geocoding fetch error for address "${t}":`,n),null}},JB=1,Ig=t=>new Promise(e=>setTimeout(e,t)),L2=t=>{const e=t.replace(/\D/g,"");if(e.length<5)return"Indefinido";const n=parseInt(e.substring(0,1)),r=parseInt(e.substring(0,2));return n===0||n===1||n===2||n===3?"Sudeste":n===8||n===9?"Sul":n===4||n===5?"Nordeste":n===6?r>=60&&r<=65?"Nordeste":"Norte":n===7?r===77||r===76?"Norte":"Centro-Oeste":"Indefinido"},XB=t=>{const e=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],n=["AC","AP","AM","PA","RO","RR","TO"],r=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],s=["PR","SC","RS"],l=t.toUpperCase().trim();return e.includes(l)?"Nordeste":n.includes(l)?"Norte":r.includes(l)?"Centro-Oeste":i.includes(l)?"Sudeste":s.includes(l)?"Sul":"Indefinido"},U2=t=>{let e="Desconhecido",n="BR",r="Indefinido";if(Array.isArray(t)){const i=t.find(l=>l.types.includes("administrative_area_level_1"));i&&(n=i.short_name);const s=t.find(l=>l.types.includes("administrative_area_level_2")||l.types.includes("locality"));s&&(e=s.long_name),r=XB(n)}return{city:e,state:n,region:r}},WB=async(t,e,n,r,i)=>{var f,p,v;const s=new kC({apiKey:n||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),l=[],c=t.length,d=r.map(y=>`"${y}"`).join(" | ");for(let y=0;y<c;y+=JB){const S=t[y];if(!S)continue;const A=S.Endereo||"",w=eA(A),b=S["Razo Social"]||"Empresa Desconhecida",L=S["Nome do Proprietrio"]||"",H=S.Contato||"",F=w.match(/\d{5}[-]?\d{3}/),z=F?F[0]:"",B=`${e}-${Date.now()}-${y}`;if(!w&&b==="Empresa Desconhecida"){i&&i(y+1,c);continue}const j=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${b}" localizada EXATAMENTE em "${w}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${d} | "Outros".

      IMPORTANTE: Use o endereo "${w}" como ncora principal para a busca.

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let I=0,N=!1;const C=5;for(;!N&&I<=C;)try{const P=await s.models.generateContent({model:"gemini-2.5-flash",contents:j,config:{tools:[{googleMaps:{}}]}});let D=P.text||"{}";D=D.replace(/```json/g,"").replace(/```/g,"").trim();let k={};try{k=JSON.parse(D)}catch{const te=D.match(/\{[\s\S]*\}/);if(te)try{k=JSON.parse(te[0])}catch{}}let U="";const Ee=(v=(p=(f=P.candidates)==null?void 0:f[0])==null?void 0:p.groundingMetadata)==null?void 0:v.groundingChunks;if(Ee&&Array.isArray(Ee)){const Q=Ee.find(te=>{var ce;return(ce=te.maps)==null?void 0:ce.uri});Q&&(U=Q.maps.uri)}let Se=S.extractedLat||(typeof k.lat=="number"?k.lat:0),ae=S.extractedLng||(typeof k.lng=="number"?k.lng:0),le=k.cleanAddress||w,Re=k.city||"Desconhecido",ie=k.state||"BR",Fe=k.region||"Indefinido";if((!Fe||Fe==="Indefinido")&&z&&(Fe=L2(z)),!S.extractedLat||Re==="Desconhecido"||ie==="BR"){const Q=le||A;if(Q&&Q.length>5&&n)try{const te=await q0(Q,n);if(te){if(S.extractedLat||(Se=te.lat,ae=te.lng),te.addressComponents){const ce=U2(te.addressComponents);Re=ce.city,ie=ce.state,Fe=ce.region}(!Fe||Fe==="Indefinido")&&z&&(Fe=L2(z)),te.formattedAddress&&(le=te.formattedAddress)}}catch(te){console.warn(`Geocoding failed for ${S["Razo Social"]}`,te)}}const V=Q=>Array.isArray(Q)?Q:typeof Q=="string"?[Q]:["Outros"];let X=H;k.phone&&(X=X?`${X} | Maps: ${k.phone}`:k.phone),k.website&&(X=X?`${X} | Site: ${k.website}`:`Site: ${k.website}`),l.push({id:B,salespersonId:e,companyName:b,ownerName:L,contact:X,originalAddress:A,cleanAddress:le,category:V(k.category),region:Fe,state:ie,city:Re,lat:Se,lng:ae,googleMapsUri:S.GoogleMapsLink||U}),N=!0}catch(P){const D=P.status===429||P.code===429||P.message&&(P.message.includes("quota")||P.message.includes("429")),k=P.status===503||P.code===503;if((D||k)&&I<C){I++;const U=1e3*Math.pow(2,I);console.warn(`Retry ${I}/${C} for client ${y}`),await Ig(U)}else{console.error(`Failed to process client ${y}`,P);let U=0,Ee=0,Se=A,ae="Erro Proc.",le="BR",Re="Indefinido";if(A&&n)try{console.log(`Attempting fallback geocoding for failed client ${y}...`);const ie=await q0(A,n);if(ie&&(U=ie.lat,Ee=ie.lng,ie.formattedAddress&&(Se=ie.formattedAddress),ie.addressComponents)){const Fe=U2(ie.addressComponents);ae=Fe.city,le=Fe.state,Re=Fe.region}}catch{}l.push({id:B,salespersonId:e,companyName:b,ownerName:L,contact:H,originalAddress:A,cleanAddress:Se,category:["Outros"],region:Re,state:le,city:ae,lat:U,lng:Ee}),N=!0}}i&&i(y+1,c),await Ig(300)}return l},QB=async(t,e,n)=>{const r=new kC({apiKey:e||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),i=10,s=t.length;let l=0;const c=[...t];for(let d=0;d<s;d+=i){const f=t.slice(d,d+i),v=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${f.map(y=>`- ID: ${y.sku} | Nome: ${y.name} | Marca: ${y.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let S=(await r.models.generateContent({model:"gemini-2.5-flash",contents:v})).text||"[]";S=S.replace(/```json/g,"").replace(/```/g,"").trim();let A=[];try{A=JSON.parse(S)}catch{console.error("Failed to parse AI response",S);const b=S.match(/\[.*\]/s);if(b)try{A=JSON.parse(b[0])}catch{}}Array.isArray(A)&&A.forEach(w=>{const b=c.findIndex(L=>String(L.sku)===String(w.sku));b!==-1&&(c[b]={...c[b],category:w.category})})}catch(y){console.error("Batch classification failed",y)}l+=f.length,n&&n(l,s),await Ig(1e3)}return c},ZB=()=>{};var V2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},MC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=s>>2,v=(s&3)<<4|c>>4;let y=(c&15)<<2|f>>6,S=f&63;d||(S=64,l||(y=64)),r.push(n[p],n[v],n[y],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||f==null||v==null)throw new tH;const y=s<<2|c>>4;if(r.push(y),f!==64){const S=c<<4&240|f>>2;if(r.push(S),v!==64){const A=f<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nH=function(t){const e=DC(t);return MC.encodeByteArray(e,!0)},j0=function(t){return nH(t).replace(/\./g,"")},rH=function(t){try{return MC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=()=>iH().__FIREBASE_DEFAULTS__,sH=()=>{if(typeof process>"u"||typeof V2>"u")return;const t=V2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rH(t[1]);return e&&JSON.parse(e)},Hv=()=>{try{return ZB()||aH()||sH()||oH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lH=t=>{var e,n;return(n=(e=Hv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cH=t=>{const e=lH(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FC=()=>{var t;return(t=Hv())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fH(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[j0(JSON.stringify(n)),j0(JSON.stringify(l)),""].join(".")}const Lu={};function hH(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lu))Lu[e]?t.emulator.push(e):t.prod.push(e);return t}function pH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B2=!1;function mH(t,e){if(typeof window>"u"||typeof document>"u"||!Gv(window.location.host)||Lu[t]===e||Lu[t]||B2)return;Lu[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=hH().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,S){y.setAttribute("width","24"),y.setAttribute("id",S),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{B2=!0,l()},y}function p(y,S){y.setAttribute("id",S),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=pH(r),S=n("text"),A=document.getElementById(S)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),L=n("preprendIcon"),H=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const F=y.element;c(F),p(b,w);const z=f();d(H,L),F.append(H,A,b,z),document.body.appendChild(F)}s?(A.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vH(){var e;const t=(e=Hv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xH(){return!vH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yH(){try{return typeof indexedDB=="object"}catch{return!1}}function _H(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="FirebaseError";class mc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EH,Object.setPrototypeOf(this,mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PC.prototype.create)}}class PC{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?TH(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new mc(i,c,r)}}function TH(t,e){return t.replace(SH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SH=/\{\$([^}]+)}/g;function $0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(H2(s)&&H2(l)){if(!$0(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){return t&&t._delegate?t._delegate:t}class rf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CH(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wH(t){return t===Co?void 0:t}function CH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const NH={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},IH=Ot.INFO,RH={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},kH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OC{constructor(e){this.name=e,this._logLevel=IH,this._logHandler=kH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const DH=(t,e)=>e.some(n=>t instanceof n);let G2,z2;function MH(){return G2||(G2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FH(){return z2||(z2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LC=new WeakMap,Rg=new WeakMap,UC=new WeakMap,Gm=new WeakMap,zv=new WeakMap;function PH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(zs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&LC.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function OH(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Rg.set(t,e)}let kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LH(t){kg=t(kg)}function UH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zm(this),e,...n);return UC.set(r,e.sort?e.sort():[e]),zs(r)}:FH().includes(t)?function(...e){return t.apply(zm(this),e),zs(LC.get(this))}:function(...e){return zs(t.apply(zm(this),e))}}function VH(t){return typeof t=="function"?UH(t):(t instanceof IDBTransaction&&OH(t),DH(t,MH())?new Proxy(t,kg):t)}function zs(t){if(t instanceof IDBRequest)return PH(t);if(Gm.has(t))return Gm.get(t);const e=VH(t);return e!==t&&(Gm.set(t,e),zv.set(e,t)),e}const zm=t=>zv.get(t);function BH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=zs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(zs(l.result),d.oldVersion,d.newVersion,zs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const HH=["get","getKey","getAll","getAllKeys","count"],GH=["put","add","delete","clear"],qm=new Map;function q2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HH.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return qm.set(e,s),s}LH(t=>({...t,get:(e,n,r)=>q2(e,n)||t.get(e,n,r),has:(e,n)=>!!q2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qH(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dg="@firebase/app",j2="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new OC("@firebase/app"),jH="@firebase/app-compat",$H="@firebase/analytics-compat",YH="@firebase/analytics",KH="@firebase/app-check-compat",JH="@firebase/app-check",XH="@firebase/auth",WH="@firebase/auth-compat",QH="@firebase/database",ZH="@firebase/data-connect",eG="@firebase/database-compat",tG="@firebase/functions",nG="@firebase/functions-compat",rG="@firebase/installations",iG="@firebase/installations-compat",aG="@firebase/messaging",sG="@firebase/messaging-compat",oG="@firebase/performance",lG="@firebase/performance-compat",cG="@firebase/remote-config",uG="@firebase/remote-config-compat",fG="@firebase/storage",dG="@firebase/storage-compat",hG="@firebase/firestore",pG="@firebase/ai",mG="@firebase/firestore-compat",gG="firebase",vG="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",xG={[Dg]:"fire-core",[jH]:"fire-core-compat",[YH]:"fire-analytics",[$H]:"fire-analytics-compat",[JH]:"fire-app-check",[KH]:"fire-app-check-compat",[XH]:"fire-auth",[WH]:"fire-auth-compat",[QH]:"fire-rtdb",[ZH]:"fire-data-connect",[eG]:"fire-rtdb-compat",[tG]:"fire-fn",[nG]:"fire-fn-compat",[rG]:"fire-iid",[iG]:"fire-iid-compat",[aG]:"fire-fcm",[sG]:"fire-fcm-compat",[oG]:"fire-perf",[lG]:"fire-perf-compat",[cG]:"fire-rc",[uG]:"fire-rc-compat",[fG]:"fire-gcs",[dG]:"fire-gcs-compat",[hG]:"fire-fst",[mG]:"fire-fst-compat",[pG]:"fire-vertex","fire-js":"fire-js",[gG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Map,yG=new Map,Fg=new Map;function $2(t,e){try{t.container.addComponent(e)}catch(n){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function K0(t){const e=t.name;if(Fg.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;Fg.set(e,t);for(const n of af.values())$2(n,t);for(const n of yG.values())$2(n,t);return!0}function _G(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function EG(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new PC("app","Firebase",TG);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=vG;function VC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Mg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(n||(n=FC()),!n)throw qs.create("no-options");const s=af.get(i);if(s){if($0(n,s.options)&&$0(r,s.config))return s;throw qs.create("duplicate-app",{appName:i})}const l=new bH(i);for(const d of Fg.values())l.addComponent(d);const c=new SG(n,r,l);return af.set(i,c),c}function BC(t=Mg){const e=af.get(t);if(!e&&t===Mg&&FC())return VC();if(!e)throw qs.create("no-app",{appName:t});return e}function wG(){return Array.from(af.values())}function Ql(t,e,n){let r=xG[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(l.join(" "));return}K0(new rf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG="firebase-heartbeat-database",bG=1,sf="firebase-heartbeat-store";let jm=null;function HC(){return jm||(jm=BH(CG,bG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sf)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),jm}async function NG(t){try{const n=(await HC()).transaction(sf),r=await n.objectStore(sf).get(GC(t));return await n.done,r}catch(e){if(e instanceof mc)Qa.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qa.warn(n.message)}}}async function Y2(t,e){try{const r=(await HC()).transaction(sf,"readwrite");await r.objectStore(sf).put(e,GC(t)),await r.done}catch(n){if(n instanceof mc)Qa.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qa.warn(r.message)}}}function GC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=1024,RG=30;class kG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>RG){const l=FG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K2(),{heartbeatsToSend:r,unsentEntries:i}=DG(this._heartbeatsCache.heartbeats),s=j0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qa.warn(n),""}}}function K2(){return new Date().toISOString().substring(0,10)}function DG(t,e=IG){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),J2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yH()?_H().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Y2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function J2(t){return j0(JSON.stringify({version:2,heartbeats:t})).length}function FG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){K0(new rf("platform-logger",e=>new zH(e),"PRIVATE")),K0(new rf("heartbeat",e=>new kG(e),"PRIVATE")),Ql(Dg,j2,t),Ql(Dg,j2,"esm2020"),Ql("fire-js","")}PG("");var OG="firebase",LG="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ql(OG,LG,"app");var X2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function C(){}C.prototype=N.prototype,I.F=N.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(P,D,k){for(var U=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)U[Ee-2]=arguments[Ee];return N.prototype[D].apply(P,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,N,C){C||(C=0);const P=Array(16);if(typeof N=="string")for(var D=0;D<16;++D)P[D]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(D=0;D<16;++D)P[D]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],U;U=N+(k^C&(D^k))+P[0]+3614090360&4294967295,N=C+(U<<7&4294967295|U>>>25),U=k+(D^N&(C^D))+P[1]+3905402710&4294967295,k=N+(U<<12&4294967295|U>>>20),U=D+(C^k&(N^C))+P[2]+606105819&4294967295,D=k+(U<<17&4294967295|U>>>15),U=C+(N^D&(k^N))+P[3]+3250441966&4294967295,C=D+(U<<22&4294967295|U>>>10),U=N+(k^C&(D^k))+P[4]+4118548399&4294967295,N=C+(U<<7&4294967295|U>>>25),U=k+(D^N&(C^D))+P[5]+1200080426&4294967295,k=N+(U<<12&4294967295|U>>>20),U=D+(C^k&(N^C))+P[6]+2821735955&4294967295,D=k+(U<<17&4294967295|U>>>15),U=C+(N^D&(k^N))+P[7]+4249261313&4294967295,C=D+(U<<22&4294967295|U>>>10),U=N+(k^C&(D^k))+P[8]+1770035416&4294967295,N=C+(U<<7&4294967295|U>>>25),U=k+(D^N&(C^D))+P[9]+2336552879&4294967295,k=N+(U<<12&4294967295|U>>>20),U=D+(C^k&(N^C))+P[10]+4294925233&4294967295,D=k+(U<<17&4294967295|U>>>15),U=C+(N^D&(k^N))+P[11]+2304563134&4294967295,C=D+(U<<22&4294967295|U>>>10),U=N+(k^C&(D^k))+P[12]+1804603682&4294967295,N=C+(U<<7&4294967295|U>>>25),U=k+(D^N&(C^D))+P[13]+4254626195&4294967295,k=N+(U<<12&4294967295|U>>>20),U=D+(C^k&(N^C))+P[14]+2792965006&4294967295,D=k+(U<<17&4294967295|U>>>15),U=C+(N^D&(k^N))+P[15]+1236535329&4294967295,C=D+(U<<22&4294967295|U>>>10),U=N+(D^k&(C^D))+P[1]+4129170786&4294967295,N=C+(U<<5&4294967295|U>>>27),U=k+(C^D&(N^C))+P[6]+3225465664&4294967295,k=N+(U<<9&4294967295|U>>>23),U=D+(N^C&(k^N))+P[11]+643717713&4294967295,D=k+(U<<14&4294967295|U>>>18),U=C+(k^N&(D^k))+P[0]+3921069994&4294967295,C=D+(U<<20&4294967295|U>>>12),U=N+(D^k&(C^D))+P[5]+3593408605&4294967295,N=C+(U<<5&4294967295|U>>>27),U=k+(C^D&(N^C))+P[10]+38016083&4294967295,k=N+(U<<9&4294967295|U>>>23),U=D+(N^C&(k^N))+P[15]+3634488961&4294967295,D=k+(U<<14&4294967295|U>>>18),U=C+(k^N&(D^k))+P[4]+3889429448&4294967295,C=D+(U<<20&4294967295|U>>>12),U=N+(D^k&(C^D))+P[9]+568446438&4294967295,N=C+(U<<5&4294967295|U>>>27),U=k+(C^D&(N^C))+P[14]+3275163606&4294967295,k=N+(U<<9&4294967295|U>>>23),U=D+(N^C&(k^N))+P[3]+4107603335&4294967295,D=k+(U<<14&4294967295|U>>>18),U=C+(k^N&(D^k))+P[8]+1163531501&4294967295,C=D+(U<<20&4294967295|U>>>12),U=N+(D^k&(C^D))+P[13]+2850285829&4294967295,N=C+(U<<5&4294967295|U>>>27),U=k+(C^D&(N^C))+P[2]+4243563512&4294967295,k=N+(U<<9&4294967295|U>>>23),U=D+(N^C&(k^N))+P[7]+1735328473&4294967295,D=k+(U<<14&4294967295|U>>>18),U=C+(k^N&(D^k))+P[12]+2368359562&4294967295,C=D+(U<<20&4294967295|U>>>12),U=N+(C^D^k)+P[5]+4294588738&4294967295,N=C+(U<<4&4294967295|U>>>28),U=k+(N^C^D)+P[8]+2272392833&4294967295,k=N+(U<<11&4294967295|U>>>21),U=D+(k^N^C)+P[11]+1839030562&4294967295,D=k+(U<<16&4294967295|U>>>16),U=C+(D^k^N)+P[14]+4259657740&4294967295,C=D+(U<<23&4294967295|U>>>9),U=N+(C^D^k)+P[1]+2763975236&4294967295,N=C+(U<<4&4294967295|U>>>28),U=k+(N^C^D)+P[4]+1272893353&4294967295,k=N+(U<<11&4294967295|U>>>21),U=D+(k^N^C)+P[7]+4139469664&4294967295,D=k+(U<<16&4294967295|U>>>16),U=C+(D^k^N)+P[10]+3200236656&4294967295,C=D+(U<<23&4294967295|U>>>9),U=N+(C^D^k)+P[13]+681279174&4294967295,N=C+(U<<4&4294967295|U>>>28),U=k+(N^C^D)+P[0]+3936430074&4294967295,k=N+(U<<11&4294967295|U>>>21),U=D+(k^N^C)+P[3]+3572445317&4294967295,D=k+(U<<16&4294967295|U>>>16),U=C+(D^k^N)+P[6]+76029189&4294967295,C=D+(U<<23&4294967295|U>>>9),U=N+(C^D^k)+P[9]+3654602809&4294967295,N=C+(U<<4&4294967295|U>>>28),U=k+(N^C^D)+P[12]+3873151461&4294967295,k=N+(U<<11&4294967295|U>>>21),U=D+(k^N^C)+P[15]+530742520&4294967295,D=k+(U<<16&4294967295|U>>>16),U=C+(D^k^N)+P[2]+3299628645&4294967295,C=D+(U<<23&4294967295|U>>>9),U=N+(D^(C|~k))+P[0]+4096336452&4294967295,N=C+(U<<6&4294967295|U>>>26),U=k+(C^(N|~D))+P[7]+1126891415&4294967295,k=N+(U<<10&4294967295|U>>>22),U=D+(N^(k|~C))+P[14]+2878612391&4294967295,D=k+(U<<15&4294967295|U>>>17),U=C+(k^(D|~N))+P[5]+4237533241&4294967295,C=D+(U<<21&4294967295|U>>>11),U=N+(D^(C|~k))+P[12]+1700485571&4294967295,N=C+(U<<6&4294967295|U>>>26),U=k+(C^(N|~D))+P[3]+2399980690&4294967295,k=N+(U<<10&4294967295|U>>>22),U=D+(N^(k|~C))+P[10]+4293915773&4294967295,D=k+(U<<15&4294967295|U>>>17),U=C+(k^(D|~N))+P[1]+2240044497&4294967295,C=D+(U<<21&4294967295|U>>>11),U=N+(D^(C|~k))+P[8]+1873313359&4294967295,N=C+(U<<6&4294967295|U>>>26),U=k+(C^(N|~D))+P[15]+4264355552&4294967295,k=N+(U<<10&4294967295|U>>>22),U=D+(N^(k|~C))+P[6]+2734768916&4294967295,D=k+(U<<15&4294967295|U>>>17),U=C+(k^(D|~N))+P[13]+1309151649&4294967295,C=D+(U<<21&4294967295|U>>>11),U=N+(D^(C|~k))+P[4]+4149444226&4294967295,N=C+(U<<6&4294967295|U>>>26),U=k+(C^(N|~D))+P[11]+3174756917&4294967295,k=N+(U<<10&4294967295|U>>>22),U=D+(N^(k|~C))+P[2]+718787259&4294967295,D=k+(U<<15&4294967295|U>>>17),U=C+(k^(D|~N))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(D+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,N){N===void 0&&(N=I.length);const C=N-this.blockSize,P=this.C;let D=this.h,k=0;for(;k<N;){if(D==0)for(;k<=C;)i(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<N;)if(P[D++]=I.charCodeAt(k++),D==this.blockSize){i(this,P),D=0;break}}else for(;k<N;)if(P[D++]=I[k++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=N},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)I[N++]=this.g[C]>>>P&255;return I};function s(I,N){var C=c;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=N(I)}function l(I,N){this.h=N;const C=[];let P=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;P&&k==N||(C[D]=k,P=!1)}this.g=C}var c={};function d(I){return-128<=I&&I<128?s(I,function(N){return new l([N|0],N<0?-1:0)}):new l([I|0],I<0?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return b(f(-I));const N=[];let C=1;for(let P=0;I>=C;P++)N[P]=I/C|0,C*=4294967296;return new l(N,0)}function p(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return b(p(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=f(Math.pow(N,8));let P=v;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const U=parseInt(I.substring(k,k+D),N);D<8?(D=f(Math.pow(N,D)),P=P.j(D).add(f(U))):(P=P.j(C),P=P.add(f(U)))}return P}var v=d(0),y=d(1),S=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-b(this).m();let I=0,N=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);I+=(P>=0?P:4294967296+P)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(w(this))return"-"+b(this).toString(I);const N=f(Math.pow(I,6));var C=this;let P="";for(;;){const D=z(C,N).g;C=L(C,D.j(N));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,A(C))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=L(this,I),w(I)?-1:A(I)?0:1};function b(I){const N=I.g.length,C=[];for(let P=0;P<N;P++)C[P]=~I.g[P];return new l(C,~I.h).add(y)}t.abs=function(){return w(this)?b(this):this},t.add=function(I){const N=Math.max(this.g.length,I.g.length),C=[];let P=0;for(let D=0;D<=N;D++){let k=P+(this.i(D)&65535)+(I.i(D)&65535),U=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);P=U>>>16,k&=65535,U&=65535,C[D]=U<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function L(I,N){return I.add(b(N))}t.j=function(I){if(A(this)||A(I))return v;if(w(this))return w(I)?b(this).j(b(I)):b(b(this).j(I));if(w(I))return b(this.j(b(I)));if(this.l(S)<0&&I.l(S)<0)return f(this.m()*I.m());const N=this.g.length+I.g.length,C=[];for(var P=0;P<2*N;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<I.g.length;D++){const k=this.i(P)>>>16,U=this.i(P)&65535,Ee=I.i(D)>>>16,Se=I.i(D)&65535;C[2*P+2*D]+=U*Se,H(C,2*P+2*D),C[2*P+2*D+1]+=k*Se,H(C,2*P+2*D+1),C[2*P+2*D+1]+=U*Ee,H(C,2*P+2*D+1),C[2*P+2*D+2]+=k*Ee,H(C,2*P+2*D+2)}for(I=0;I<N;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=N;I<2*N;I++)C[I]=0;return new l(C,0)};function H(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function F(I,N){this.g=I,this.h=N}function z(I,N){if(A(N))throw Error("division by zero");if(A(I))return new F(v,v);if(w(I))return N=z(b(I),N),new F(b(N.g),b(N.h));if(w(N))return N=z(I,b(N)),new F(b(N.g),N.h);if(I.g.length>30){if(w(I)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var C=y,P=N;P.l(I)<=0;)C=B(C),P=B(P);var D=j(C,1),k=j(P,1);for(P=j(P,2),C=j(C,2);!A(P);){var U=k.add(P);U.l(I)<=0&&(D=D.add(C),k=U),P=j(P,1),C=j(C,1)}return N=L(I,D.j(N)),new F(D,N)}for(D=v;I.l(N)>=0;){for(C=Math.max(1,Math.floor(I.m()/N.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=f(C),U=k.j(N);w(U)||U.l(I)>0;)C-=P,k=f(C),U=k.j(N);A(k)&&(k=y),D=D.add(k),I=L(I,U)}return new F(D,I)}t.B=function(I){return z(this,I).h},t.and=function(I){const N=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)&I.i(P);return new l(C,this.h&I.h)},t.or=function(I){const N=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)|I.i(P);return new l(C,this.h|I.h)},t.xor=function(I){const N=Math.max(this.g.length,I.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)^I.i(P);return new l(C,this.h^I.h)};function B(I){const N=I.g.length+1,C=[];for(let P=0;P<N;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new l(C,I.h)}function j(I,N){const C=N>>5;N%=32;const P=I.g.length-C,D=[];for(let k=0;k<P;k++)D[k]=N>0?I.i(k+C)>>>N|I.i(k+C+1)<<32-N:I.i(k+C);return new l(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,qv=l}).apply(typeof X2<"u"?X2:typeof self<"u"?self:typeof window<"u"?window:{});var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zC,wu,qC,x0,Pg,jC,$C,YC;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof a0=="object"&&a0];for(var R=0;R<x.length;++R){var O=x[R];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(x,R){if(R)e:{var O=r;x=x.split(".");for(var K=0;K<x.length-1;K++){var de=x[K];if(!(de in O))break e;O=O[de]}x=x[x.length-1],K=O[x],R=R(K),R!=K&&R!=null&&e(O,x,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(R){var O=[],K;for(K in R)Object.prototype.hasOwnProperty.call(R,K)&&O.push([K,R[K]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(x){var R=typeof x;return R=="object"&&x!=null||R=="function"}function d(x,R,O){return x.call.apply(x.bind,arguments)}function f(x,R,O){return f=d,f.apply(null,arguments)}function p(x,R){var O=Array.prototype.slice.call(arguments,1);return function(){var K=O.slice();return K.push.apply(K,arguments),x.apply(this,K)}}function v(x,R){function O(){}O.prototype=R.prototype,x.Z=R.prototype,x.prototype=new O,x.prototype.constructor=x,x.Ob=function(K,de,Te){for(var qe=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)qe[vt-2]=arguments[vt];return R.prototype[de].apply(K,qe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function S(x){const R=x.length;if(R>0){const O=Array(R);for(let K=0;K<R;K++)O[K]=x[K];return O}return[]}function A(x,R){for(let K=1;K<arguments.length;K++){const de=arguments[K];var O=typeof de;if(O=O!="object"?O:de?Array.isArray(de)?"array":O:"null",O=="array"||O=="object"&&typeof de.length=="number"){O=x.length||0;const Te=de.length||0;x.length=O+Te;for(let qe=0;qe<Te;qe++)x[O+qe]=de[qe]}else x.push(de)}}class w{constructor(R,O){this.i=R,this.j=O,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(x){l.setTimeout(()=>{throw x},0)}function L(){var x=I;let R=null;return x.g&&(R=x.g,x.g=x.g.next,x.g||(x.h=null),R.next=null),R}class H{constructor(){this.h=this.g=null}add(R,O){const K=F.get();K.set(R,O),this.h?this.h.next=K:this.g=K,this.h=K}}var F=new w(()=>new z,x=>x.reset());class z{constructor(){this.next=this.g=this.h=null}set(R,O){this.h=R,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let B,j=!1,I=new H,N=()=>{const x=Promise.resolve(void 0);B=()=>{x.then(C)}};function C(){for(var x;x=L();){try{x.h.call(x.g)}catch(O){b(O)}var R=F;R.j(x),R.h<100&&(R.h++,x.next=R.g,R.g=x)}j=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(x,R){this.type=x,this.g=this.target=R,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,R=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const O=()=>{};l.addEventListener("test",O,R),l.removeEventListener("test",O,R)}catch{}return x})();function U(x){return/^[\s\xa0]*$/.test(x)}function Ee(x,R){D.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,R)}v(Ee,D),Ee.prototype.init=function(x,R){const O=this.type=x.type,K=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=R,R=x.relatedTarget,R||(O=="mouseover"?R=x.fromElement:O=="mouseout"&&(R=x.toElement)),this.relatedTarget=R,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),ae=0;function le(x,R,O,K,de){this.listener=x,this.proxy=null,this.src=R,this.type=O,this.capture=!!K,this.ha=de,this.key=++ae,this.da=this.fa=!1}function Re(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function ie(x,R,O){for(const K in x)R.call(O,x[K],K,x)}function Fe(x,R){for(const O in x)R.call(void 0,x[O],O,x)}function W(x){const R={};for(const O in x)R[O]=x[O];return R}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(x,R){let O,K;for(let de=1;de<arguments.length;de++){K=arguments[de];for(O in K)x[O]=K[O];for(let Te=0;Te<V.length;Te++)O=V[Te],Object.prototype.hasOwnProperty.call(K,O)&&(x[O]=K[O])}}function Q(x){this.src=x,this.g={},this.h=0}Q.prototype.add=function(x,R,O,K,de){const Te=x.toString();x=this.g[Te],x||(x=this.g[Te]=[],this.h++);const qe=ce(x,R,K,de);return qe>-1?(R=x[qe],O||(R.fa=!1)):(R=new le(R,this.src,Te,!!K,de),R.fa=O,x.push(R)),R};function te(x,R){const O=R.type;if(O in x.g){var K=x.g[O],de=Array.prototype.indexOf.call(K,R,void 0),Te;(Te=de>=0)&&Array.prototype.splice.call(K,de,1),Te&&(Re(R),x.g[O].length==0&&(delete x.g[O],x.h--))}}function ce(x,R,O,K){for(let de=0;de<x.length;++de){const Te=x[de];if(!Te.da&&Te.listener==R&&Te.capture==!!O&&Te.ha==K)return de}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ce={};function we(x,R,O,K,de){if(Array.isArray(R)){for(let Te=0;Te<R.length;Te++)we(x,R[Te],O,K,de);return null}return O=tt(O),x&&x[Se]?x.J(R,O,c(K)?!!K.capture:!1,de):ke(x,R,O,!1,K,de)}function ke(x,R,O,K,de,Te){if(!R)throw Error("Invalid event type");const qe=c(de)?!!de.capture:!!de;let vt=ze(x);if(vt||(x[be]=vt=new Q(x)),O=vt.add(R,O,K,qe,Te),O.proxy)return O;if(K=$e(),O.proxy=K,K.src=x,K.listener=O,x.addEventListener)k||(de=qe),de===void 0&&(de=!1),x.addEventListener(R.toString(),K,de);else if(x.attachEvent)x.attachEvent(Je(R.toString()),K);else if(x.addListener&&x.removeListener)x.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return O}function $e(){function x(O){return R.call(x.src,x.listener,O)}const R=Xe;return x}function ne(x,R,O,K,de){if(Array.isArray(R))for(var Te=0;Te<R.length;Te++)ne(x,R[Te],O,K,de);else K=c(K)?!!K.capture:!!K,O=tt(O),x&&x[Se]?(x=x.i,Te=String(R).toString(),Te in x.g&&(R=x.g[Te],O=ce(R,O,K,de),O>-1&&(Re(R[O]),Array.prototype.splice.call(R,O,1),R.length==0&&(delete x.g[Te],x.h--)))):x&&(x=ze(x))&&(R=x.g[R.toString()],x=-1,R&&(x=ce(R,O,K,de)),(O=x>-1?R[x]:null)&&rt(O))}function rt(x){if(typeof x!="number"&&x&&!x.da){var R=x.src;if(R&&R[Se])te(R.i,x);else{var O=x.type,K=x.proxy;R.removeEventListener?R.removeEventListener(O,K,x.capture):R.detachEvent?R.detachEvent(Je(O),K):R.addListener&&R.removeListener&&R.removeListener(K),(O=ze(R))?(te(O,x),O.h==0&&(O.src=null,R[be]=null)):Re(x)}}}function Je(x){return x in Ce?Ce[x]:Ce[x]="on"+x}function Xe(x,R){if(x.da)x=!0;else{R=new Ee(R,this);const O=x.listener,K=x.ha||x.src;x.fa&&rt(x),x=O.call(K,R)}return x}function ze(x){return x=x[be],x instanceof Q?x:null}var Ue="__closure_events_fn_"+(Math.random()*1e9>>>0);function tt(x){return typeof x=="function"?x:(x[Ue]||(x[Ue]=function(R){return x.handleEvent(R)}),x[Ue])}function nt(){P.call(this),this.i=new Q(this),this.M=this,this.G=null}v(nt,P),nt.prototype[Se]=!0,nt.prototype.removeEventListener=function(x,R,O,K){ne(this,x,R,O,K)};function lt(x,R){var O,K=x.G;if(K)for(O=[];K;K=K.G)O.push(K);if(x=x.M,K=R.type||R,typeof R=="string")R=new D(R,x);else if(R instanceof D)R.target=R.target||x;else{var de=R;R=new D(K,x),X(R,de)}de=!0;let Te,qe;if(O)for(qe=O.length-1;qe>=0;qe--)Te=R.g=O[qe],de=on(Te,K,!0,R)&&de;if(Te=R.g=x,de=on(Te,K,!0,R)&&de,de=on(Te,K,!1,R)&&de,O)for(qe=0;qe<O.length;qe++)Te=R.g=O[qe],de=on(Te,K,!1,R)&&de}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var x=this.i;for(const R in x.g){const O=x.g[R];for(let K=0;K<O.length;K++)Re(O[K]);delete x.g[R],x.h--}}this.G=null},nt.prototype.J=function(x,R,O,K){return this.i.add(String(x),R,!1,O,K)},nt.prototype.K=function(x,R,O,K){return this.i.add(String(x),R,!0,O,K)};function on(x,R,O,K){if(R=x.i.g[String(R)],!R)return!0;R=R.concat();let de=!0;for(let Te=0;Te<R.length;++Te){const qe=R[Te];if(qe&&!qe.da&&qe.capture==O){const vt=qe.listener,Mn=qe.ha||qe.src;qe.fa&&te(x.i,qe),de=vt.call(Mn,K)!==!1&&de}}return de&&!K.defaultPrevented}function Sn(x,R){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=f(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:l.setTimeout(x,R||0)}function Rn(x){x.g=Sn(()=>{x.g=null,x.i&&(x.i=!1,Rn(x))},x.l);const R=x.h;x.h=null,x.m.apply(null,R)}class ft extends P{constructor(R,O){super(),this.m=R,this.l=O,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yt(x){P.call(this),this.h=x,this.g={}}v(Yt,P);var kt=[];function tn(x){ie(x.g,function(R,O){this.g.hasOwnProperty(O)&&rt(R)},x),x.g={}}Yt.prototype.N=function(){Yt.Z.N.call(this),tn(this)},Yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=l.JSON.stringify,Un=l.JSON.parse,it=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function wt(){}function Kt(){}var Et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}v(zt,D);function or(){D.call(this,"c")}v(or,D);var hn={},ns=null;function Mi(){return ns=ns||new nt}hn.Ia="serverreachability";function Sa(x){D.call(this,hn.Ia,x)}v(Sa,D);function Pr(x){const R=Mi();lt(R,new Sa(R))}hn.STAT_EVENT="statevent";function kn(x,R){D.call(this,hn.STAT_EVENT,x),this.stat=R}v(kn,D);function un(x){const R=Mi();lt(R,new kn(R,x))}hn.Ja="timingevent";function ue(x,R){D.call(this,hn.Ja,x),this.size=R}v(ue,D);function Be(x,R){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},R)}function He(){this.g=!0}He.prototype.ua=function(){this.g=!1};function st(x,R,O,K,de,Te){x.info(function(){if(x.g)if(Te){var qe="",vt=Te.split("&");for(let jt=0;jt<vt.length;jt++){var Mn=vt[jt].split("=");if(Mn.length>1){const xn=Mn[0];Mn=Mn[1];const vi=xn.split("_");qe=vi.length>=2&&vi[1]=="type"?qe+(xn+"="+Mn+"&"):qe+(xn+"=redacted&")}}}else qe=null;else qe=Te;return"XMLHTTP REQ ("+K+") [attempt "+de+"]: "+R+`
`+O+`
`+qe})}function gt(x,R,O,K,de,Te,qe){x.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+de+"]: "+R+`
`+O+`
`+Te+" "+qe})}function Tt(x,R,O,K){x.info(function(){return"XMLHTTP TEXT ("+R+"): "+pn(x,O)+(K?" "+K:"")})}function Ft(x,R){x.info(function(){return"TIMEOUT: "+R})}He.prototype.info=function(){};function pn(x,R){if(!x.g)return R;if(!R)return null;try{const Te=JSON.parse(R);if(Te){for(x=0;x<Te.length;x++)if(Array.isArray(Te[x])){var O=Te[x];if(!(O.length<2)){var K=O[1];if(Array.isArray(K)&&!(K.length<1)){var de=K[0];if(de!="noop"&&de!="stop"&&de!="close")for(let qe=1;qe<K.length;qe++)K[qe]=""}}}}return Nt(Te)}catch{return R}}var An={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jr;function qt(){}v(qt,wt),qt.prototype.g=function(){return new XMLHttpRequest},jr=new qt;function mn(x){return encodeURIComponent(String(x))}function G(x){var R=1;x=x.split(":");const O=[];for(;R>0&&x.length;)O.push(x.shift()),R--;return x.length&&O.push(x.join(":")),O}function ee(x,R,O,K){this.j=x,this.i=R,this.l=O,this.S=K||1,this.V=new Yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Y}function Y(){this.i=null,this.g="",this.h=!1}var J={},Z={};function re(x,R,O){x.M=1,x.A=Zs(Vn(R)),x.u=O,x.R=!0,me(x,null)}function me(x,R){x.F=Date.now(),xe(x),x.B=Vn(x.A);var O=x.B,K=x.S;Array.isArray(K)||(K=[String(K)]),el(O.i,"t",K),x.C=0,O=x.j.L,x.h=new Y,x.g=Uf(x.j,O?R:null,!x.u),x.P>0&&(x.O=new ft(f(x.Y,x,x.g),x.P)),R=x.V,O=x.g,K=x.ba;var de="readystatechange";Array.isArray(de)||(de&&(kt[0]=de.toString()),de=kt);for(let Te=0;Te<de.length;Te++){const qe=we(O,de[Te],K||R.handleEvent,!1,R.h||R);if(!qe)break;R.g[qe.key]=qe}R=x.J?W(x.J):{},x.u?(x.v||(x.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,R)):(x.v="GET",x.g.ea(x.B,x.v,null,R)),Pr(),st(x.i,x.v,x.B,x.l,x.S,x.u)}ee.prototype.ba=function(x){x=x.target;const R=this.O;R&&Ui(x)==3?R.j():this.Y(x)},ee.prototype.Y=function(x){try{if(x==this.g)e:{const vt=Ui(this.g),Mn=this.g.ya(),jt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||lr(this.g)))){this.K||vt!=4||Mn==7||(Mn==8||jt<=0?Pr(3):Pr(2)),Ge(this);var R=this.g.ca();this.X=R;var O=Ne(this);if(this.o=R==200,gt(this.i,this.v,this.B,this.l,this.S,vt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var K,de=this.g;if((K=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(K)){var Te=K;break t}}Te=null}if(x=Te)Tt(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,je(this,x);else{this.o=!1,this.m=3,un(12),Oe(this),Ye(this);break e}}if(this.R){x=!0;let xn;for(;!this.K&&this.C<O.length;)if(xn=ye(this,O),xn==Z){vt==4&&(this.m=4,un(14),x=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==J){this.m=4,un(15),Tt(this.i,this.l,O,"[Invalid Chunk]"),x=!1;break}else Tt(this.i,this.l,xn,null),je(this,xn);if(ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||O.length!=0||this.h.h||(this.m=1,un(16),x=!1),this.o=this.o&&x,!x)Tt(this.i,this.l,O,"[Invalid Chunked Response]"),Oe(this),Ye(this);else if(O.length>0&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.aa&&!qe.P&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Nc(qe),qe.P=!0,un(11))}}else Tt(this.i,this.l,O,null),je(this,O);vt==4&&Oe(this),this.o&&!this.K&&(vt==4?Ff(this.j,this):(this.o=!1,xe(this)))}else wa(this.g),R==400&&O.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),Oe(this),Ye(this)}}}catch{}finally{}};function Ne(x){if(!ge(x))return x.g.la();const R=lr(x.g);if(R==="")return"";let O="";const K=R.length,de=Ui(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Oe(x),Ye(x),"";x.h.i=new l.TextDecoder}for(let Te=0;Te<K;Te++)x.h.h=!0,O+=x.h.i.decode(R[Te],{stream:!(de&&Te==K-1)});return R.length=0,x.h.g+=O,x.C=0,x.h.g}function ge(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function ye(x,R){var O=x.C,K=R.indexOf(`
`,O);return K==-1?Z:(O=Number(R.substring(O,K)),isNaN(O)?J:(K+=1,K+O>R.length?Z:(R=R.slice(K,K+O),x.C=K+O,R)))}ee.prototype.cancel=function(){this.K=!0,Oe(this)};function xe(x){x.T=Date.now()+x.H,Le(x,x.H)}function Le(x,R){if(x.D!=null)throw Error("WatchDog timer not null");x.D=Be(f(x.aa,x),R)}function Ge(x){x.D&&(l.clearTimeout(x.D),x.D=null)}ee.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(Ft(this.i,this.B),this.M!=2&&(Pr(),un(17)),Oe(this),this.m=2,Ye(this)):Le(this,this.T-x)};function Ye(x){x.j.I==0||x.K||Ff(x.j,x)}function Oe(x){Ge(x);var R=x.O;R&&typeof R.dispose=="function"&&R.dispose(),x.O=null,tn(x.V),x.g&&(R=x.g,x.g=null,R.abort(),R.dispose())}function je(x,R){try{var O=x.j;if(O.I!=0&&(O.g==x||_r(O.h,x))){if(!x.L&&_r(O.h,x)&&O.I==3){try{var K=O.Ba.g.parse(R)}catch{K=null}if(Array.isArray(K)&&K.length==3){var de=K;if(de[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<x.F)al(O),fs(O);else break e;so(O),un(18)}}else O.xa=de[1],0<O.xa-O.K&&de[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Be(f(O.Va,O),6e3));ln(O.h)<=1&&O.ta&&(O.ta=void 0)}else la(O,11)}else if((x.L||O.g==x)&&al(O),!U(R))for(de=O.Ba.g.parse(R),R=0;R<de.length;R++){let jt=de[R];const xn=jt[0];if(!(xn<=O.K))if(O.K=xn,jt=jt[1],O.I==2)if(jt[0]=="c"){O.M=jt[1],O.ba=jt[2];const vi=jt[3];vi!=null&&(O.ka=vi,O.j.info("VER="+O.ka));const ca=jt[4];ca!=null&&(O.za=ca,O.j.info("SVER="+O.za));const Vi=jt[5];Vi!=null&&typeof Vi=="number"&&Vi>0&&(K=1.5*Vi,O.O=K,O.j.info("backChannelRequestTimeoutMs_="+K)),K=O;const Bi=x.g;if(Bi){const oo=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var Te=K.h;Te.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(Fi(Te,Te.h),Te.h=null))}if(K.G){const sl=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(K.wa=sl,Qt(K.J,K.G,sl))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-x.F,O.j.info("Handshake RTT: "+O.T+"ms")),K=O;var qe=x;if(K.na=Lf(K,K.L?K.ba:null,K.W),qe.L){Pi(K.h,qe);var vt=qe,Mn=K.O;Mn&&(vt.H=Mn),vt.D&&(Ge(vt),xe(vt)),K.g=qe}else Df(K);O.i.length>0&&oa(O)}else jt[0]!="stop"&&jt[0]!="close"||la(O,7);else O.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?la(O,7):Cc(O):jt[0]!="noop"&&O.l&&O.l.qa(jt),O.A=0)}}Pr(4)}catch{}}var Qe=class{constructor(x,R){this.g=x,this.map=R}};function Xt(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wt(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function ln(x){return x.h?1:x.g?x.g.size:0}function _r(x,R){return x.h?x.h==R:x.g?x.g.has(R):!1}function Fi(x,R){x.g?x.g.add(R):x.h=R}function Pi(x,R){x.h&&x.h==R?x.h=null:x.g&&x.g.has(R)&&x.g.delete(R)}Xt.prototype.cancel=function(){if(this.i=ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ni(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let R=x.i;for(const O of x.g.values())R=R.concat(O.G);return R}return S(x.i)}var rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Er(x,R){if(x){x=x.split("&");for(let O=0;O<x.length;O++){const K=x[O].indexOf("=");let de,Te=null;K>=0?(de=x[O].substring(0,K),Te=x[O].substring(K+1)):de=x[O],R(de,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function ri(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;x instanceof ri?(this.l=x.l,er(this,x.j),this.o=x.o,this.g=x.g,is(this,x.u),this.h=x.h,yc(this,Rf(x.i)),this.m=x.m):x&&(R=String(x).match(rs))?(this.l=!1,er(this,R[1]||"",!0),this.o=ra(R[2]||""),this.g=ra(R[3]||"",!0),is(this,R[4]),this.h=ra(R[5]||"",!0),yc(this,R[6]||"",!0),this.m=ra(R[7]||"")):(this.l=!1,this.i=new ss(null,this.l))}ri.prototype.toString=function(){const x=[];var R=this.j;R&&x.push(eo(R,Zo,!0),":");var O=this.g;return(O||R=="file")&&(x.push("//"),(R=this.o)&&x.push(eo(R,Zo,!0),"@"),x.push(mn(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&x.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&x.push("/"),x.push(eo(O,O.charAt(0)=="/"?_c:bf,!0))),(O=this.i.toString())&&x.push("?",O),(O=this.m)&&x.push("#",eo(O,Nf)),x.join("")},ri.prototype.resolve=function(x){const R=Vn(this);let O=!!x.j;O?er(R,x.j):O=!!x.o,O?R.o=x.o:O=!!x.g,O?R.g=x.g:O=x.u!=null;var K=x.h;if(O)is(R,x.u);else if(O=!!x.h){if(K.charAt(0)!="/")if(this.g&&!this.h)K="/"+K;else{var de=R.h.lastIndexOf("/");de!=-1&&(K=R.h.slice(0,de+1)+K)}if(de=K,de==".."||de==".")K="";else if(de.indexOf("./")!=-1||de.indexOf("/.")!=-1){K=de.lastIndexOf("/",0)==0,de=de.split("/");const Te=[];for(let qe=0;qe<de.length;){const vt=de[qe++];vt=="."?K&&qe==de.length&&Te.push(""):vt==".."?((Te.length>1||Te.length==1&&Te[0]!="")&&Te.pop(),K&&qe==de.length&&Te.push("")):(Te.push(vt),K=!0)}K=Te.join("/")}else K=de}return O?R.h=K:O=x.i.toString()!=="",O?yc(R,Rf(x.i)):O=!!x.m,O&&(R.m=x.m),R};function Vn(x){return new ri(x)}function er(x,R,O){x.j=O?ra(R,!0):R,x.j&&(x.j=x.j.replace(/:$/,""))}function is(x,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);x.u=R}else x.u=null}function yc(x,R,O){R instanceof ss?(x.i=R,tl(x.i,x.l)):(O||(R=eo(R,as)),x.i=new ss(R,x.l))}function Qt(x,R,O){x.i.set(R,O)}function Zs(x){return Qt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function ra(x,R){return x?R?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function eo(x,R,O){return typeof x=="string"?(x=encodeURI(x).replace(R,$r),O&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function $r(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Zo=/[#\/\?@]/g,bf=/[#\?:]/g,_c=/[#\?]/g,as=/[#\?@]/g,Nf=/#/g;function ss(x,R){this.h=this.g=null,this.i=x||null,this.j=!!R}function Yr(x){x.g||(x.g=new Map,x.h=0,x.i&&Er(x.i,function(R,O){x.add(decodeURIComponent(R.replace(/\+/g," ")),O)}))}t=ss.prototype,t.add=function(x,R){Yr(this),this.i=null,x=os(this,x);let O=this.g.get(x);return O||this.g.set(x,O=[]),O.push(R),this.h+=1,this};function If(x,R){Yr(x),R=os(x,R),x.g.has(R)&&(x.i=null,x.h-=x.g.get(R).length,x.g.delete(R))}function Ec(x,R){return Yr(x),R=os(x,R),x.g.has(R)}t.forEach=function(x,R){Yr(this),this.g.forEach(function(O,K){O.forEach(function(de){x.call(R,de,K,this)},this)},this)};function Tc(x,R){Yr(x);let O=[];if(typeof R=="string")Ec(x,R)&&(O=O.concat(x.g.get(os(x,R))));else for(x=Array.from(x.g.values()),R=0;R<x.length;R++)O=O.concat(x[R]);return O}t.set=function(x,R){return Yr(this),this.i=null,x=os(this,x),Ec(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[R]),this.h+=1,this},t.get=function(x,R){return x?(x=Tc(this,x),x.length>0?String(x[0]):R):R};function el(x,R,O){If(x,R),O.length>0&&(x.i=null,x.g.set(os(x,R),S(O)),x.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],R=Array.from(this.g.keys());for(let K=0;K<R.length;K++){var O=R[K];const de=mn(O);O=Tc(this,O);for(let Te=0;Te<O.length;Te++){let qe=de;O[Te]!==""&&(qe+="="+mn(O[Te])),x.push(qe)}}return this.i=x.join("&")};function Rf(x){const R=new ss;return R.i=x.i,x.g&&(R.g=new Map(x.g),R.h=x.h),R}function os(x,R){return R=String(R),x.j&&(R=R.toLowerCase()),R}function tl(x,R){R&&!x.j&&(Yr(x),x.i=null,x.g.forEach(function(O,K){const de=K.toLowerCase();K!=de&&(If(this,K),el(this,de,O))},x)),x.j=R}function Oi(x,R){const O=new He;if(l.Image){const K=new Image;K.onload=p(mi,O,"TestLoadImage: loaded",!0,R,K),K.onerror=p(mi,O,"TestLoadImage: error",!1,R,K),K.onabort=p(mi,O,"TestLoadImage: abort",!1,R,K),K.ontimeout=p(mi,O,"TestLoadImage: timeout",!1,R,K),l.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=x}else R(!1)}function Sc(x,R){const O=new He,K=new AbortController,de=setTimeout(()=>{K.abort(),mi(O,"TestPingServer: timeout",!1,R)},1e4);fetch(x,{signal:K.signal}).then(Te=>{clearTimeout(de),Te.ok?mi(O,"TestPingServer: ok",!0,R):mi(O,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(de),mi(O,"TestPingServer: error",!1,R)})}function mi(x,R,O,K,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),K(O)}catch{}}function ls(){this.g=new it}function ia(x){this.i=x.Sb||null,this.h=x.ab||!1}v(ia,wt),ia.prototype.g=function(){return new to(this.i,this.h)};function to(x,R){nt.call(this),this.H=x,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(to,nt),t=to.prototype,t.open=function(x,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=R,this.readyState=1,Li(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(R.body=x),(this.H||l).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Li(this)),this.g&&(this.readyState=3,Li(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nl(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function nl(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var R=x.value?x.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!x.done}))&&(this.response=this.responseText+=R)}x.done?cs(this):Li(this),this.readyState==3&&nl(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,cs(this))},t.Na=function(x){this.g&&(this.response=x,cs(this))},t.ga=function(){this.g&&cs(this)};function cs(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Li(x)}t.setRequestHeader=function(x,R){this.A.append(x,R)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],R=this.h.entries();for(var O=R.next();!O.done;)O=O.value,x.push(O[0]+": "+O[1]),O=R.next();return x.join(`\r
`)};function Li(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function gi(x){let R="";return ie(x,function(O,K){R+=K,R+=":",R+=O,R+=`\r
`}),R}function no(x,R,O){e:{for(K in O){var K=!1;break e}K=!0}K||(O=gi(O),typeof x=="string"?O!=null&&mn(O):Qt(x,R,O))}function nn(x){nt.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(nn,nt);var aa=/^https?$/i,Ac=["POST","PUT"];t=nn.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,R,O,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);R=R?R.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jr.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(R,String(x),!0),this.B=!1}catch(Te){ro(this,Te);return}if(x=O||"",O=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var de in K)O.set(de,K[de]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const Te of K.keys())O.set(Te,K.get(Te));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(O.keys()).find(Te=>Te.toLowerCase()=="content-type"),de=l.FormData&&x instanceof l.FormData,!(Array.prototype.indexOf.call(Ac,R,void 0)>=0)||K||de||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,qe]of O)this.g.setRequestHeader(Te,qe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Te){ro(this,Te)}};function ro(x,R){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=R,x.o=5,wc(x),Aa(x)}function wc(x){x.A||(x.A=!0,lt(x,"complete"),lt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,lt(this,"complete"),lt(this,"abort"),Aa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Aa(this,!0)),nn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?io(this):this.Xa())},t.Xa=function(){io(this)};function io(x){if(x.h&&typeof s<"u"){if(x.v&&Ui(x)==4)setTimeout(x.Ca.bind(x),0);else if(lt(x,"readystatechange"),Ui(x)==4){x.h=!1;try{const Te=x.ca();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var O;if(!(O=R)){var K;if(K=Te===0){let qe=String(x.D).match(rs)[1]||null;!qe&&l.self&&l.self.location&&(qe=l.self.location.protocol.slice(0,-1)),K=!aa.test(qe?qe.toLowerCase():"")}O=K}if(O)lt(x,"complete"),lt(x,"success");else{x.o=6;try{var de=Ui(x)>2?x.g.statusText:""}catch{de=""}x.l=de+" ["+x.ca()+"]",wc(x)}}finally{Aa(x)}}}}function Aa(x,R){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const O=x.g;x.g=null,R||lt(x,"ready");try{O.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ui(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var R=this.g.responseText;return x&&R.indexOf(x)==0&&(R=R.substring(x.length)),Un(R)}};function lr(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(x){const R={};x=(x.g&&Ui(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<x.length;K++){if(U(x[K]))continue;var O=G(x[K]);const de=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Te=R[de]||[];R[de]=Te,Te.push(O)}Fe(R,function(K){return K.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(x,R,O){return O&&O.internalChannelParams&&O.internalChannelParams[x]||R}function us(x){this.za=0,this.i=[],this.j=new He,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sa("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sa("baseRetryDelayMs",5e3,x),this.Za=sa("retryDelaySeedMs",1e4,x),this.Ta=sa("forwardChannelMaxRetries",2,x),this.va=sa("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new Xt(x&&x.concurrentRequestLimit),this.Ba=new ls,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=us.prototype,t.ka=8,t.I=1,t.connect=function(x,R,O,K){un(0),this.W=x,this.H=R||{},O&&K!==void 0&&(this.H.OSID=O,this.H.OAID=K),this.F=this.X,this.J=Lf(this,null,this.W),oa(this)};function Cc(x){if(rl(x),x.I==3){var R=x.V++,O=Vn(x.J);if(Qt(O,"SID",x.M),Qt(O,"RID",R),Qt(O,"TYPE","terminate"),ao(x,O),R=new ee(x,x.j,R),R.M=2,R.A=Zs(Vn(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(R.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=R.A,O=!0),O||(R.g=Uf(R.j,null),R.g.ea(R.A)),R.F=Date.now(),xe(R)}Of(x)}function fs(x){x.g&&(Nc(x),x.g.cancel(),x.g=null)}function rl(x){fs(x),x.v&&(l.clearTimeout(x.v),x.v=null),al(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&l.clearTimeout(x.m),x.m=null)}function oa(x){if(!Wt(x.h)&&!x.m){x.m=!0;var R=x.Ea;B||N(),j||(B(),j=!0),I.add(R,x),x.D=0}}function il(x,R){return ln(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=R.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=Be(f(x.Ea,x,R),Pf(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const de=new ee(this,this.j,x);let Te=this.o;if(this.U&&(Te?(Te=W(Te),X(Te,this.U)):Te=this.U),this.u!==null||this.R||(de.J=Te,Te=null),this.S)e:{for(var R=0,O=0;O<this.i.length;O++){t:{var K=this.i[O];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(R+=K,R>4096){R=O;break e}if(R===4096||O===this.i.length-1){R=O+1;break e}}R=1e3}else R=1e3;R=kf(this,de,R),O=Vn(this.J),Qt(O,"RID",x),Qt(O,"CVER",22),this.G&&Qt(O,"X-HTTP-Session-Id",this.G),ao(this,O),Te&&(this.R?R="headers="+mn(gi(Te))+"&"+R:this.u&&no(O,this.u,Te)),Fi(this.h,de),this.Ra&&Qt(O,"TYPE","init"),this.S?(Qt(O,"$req",R),Qt(O,"SID","null"),de.U=!0,re(de,O,null)):re(de,O,R),this.I=2}}else this.I==3&&(x?bc(this,x):this.i.length==0||Wt(this.h)||bc(this))};function bc(x,R){var O;R?O=R.l:O=x.V++;const K=Vn(x.J);Qt(K,"SID",x.M),Qt(K,"RID",O),Qt(K,"AID",x.K),ao(x,K),x.u&&x.o&&no(K,x.u,x.o),O=new ee(x,x.j,O,x.D+1),x.u===null&&(O.J=x.o),R&&(x.i=R.G.concat(x.i)),R=kf(x,O,1e3),O.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Fi(x.h,O),re(O,K,R)}function ao(x,R){x.H&&ie(x.H,function(O,K){Qt(R,K,O)}),x.l&&ie({},function(O,K){Qt(R,K,O)})}function kf(x,R,O){O=Math.min(x.i.length,O);const K=x.l?f(x.l.Ka,x.l,x):null;e:{var de=x.i;let vt=-1;for(;;){const Mn=["count="+O];vt==-1?O>0?(vt=de[0].g,Mn.push("ofs="+vt)):vt=0:Mn.push("ofs="+vt);let jt=!0;for(let xn=0;xn<O;xn++){var Te=de[xn].g;const vi=de[xn].map;if(Te-=vt,Te<0)vt=Math.max(0,de[xn].g-100),jt=!1;else try{Te="req"+Te+"_"||"";try{var qe=vi instanceof Map?vi:Object.entries(vi);for(const[ca,Vi]of qe){let Bi=Vi;c(Vi)&&(Bi=Nt(Vi)),Mn.push(Te+ca+"="+encodeURIComponent(Bi))}}catch(ca){throw Mn.push(Te+"type="+encodeURIComponent("_badmap")),ca}}catch{K&&K(vi)}}if(jt){qe=Mn.join("&");break e}}qe=void 0}return x=x.i.splice(0,O),R.G=x,qe}function Df(x){if(!x.g&&!x.v){x.Y=1;var R=x.Da;B||N(),j||(B(),j=!0),I.add(R,x),x.A=0}}function so(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=Be(f(x.Da,x),Pf(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,Mf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=Be(f(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),fs(this),Mf(this))};function Nc(x){x.B!=null&&(l.clearTimeout(x.B),x.B=null)}function Mf(x){x.g=new ee(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var R=Vn(x.na);Qt(R,"RID","rpc"),Qt(R,"SID",x.M),Qt(R,"AID",x.K),Qt(R,"CI",x.F?"0":"1"),!x.F&&x.ia&&Qt(R,"TO",x.ia),Qt(R,"TYPE","xmlhttp"),ao(x,R),x.u&&x.o&&no(R,x.u,x.o),x.O&&(x.g.H=x.O);var O=x.g;x=x.ba,O.M=1,O.A=Zs(Vn(R)),O.u=null,O.R=!0,me(O,x)}t.Va=function(){this.C!=null&&(this.C=null,fs(this),so(this),un(19))};function al(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function Ff(x,R){var O=null;if(x.g==R){al(x),Nc(x),x.g=null;var K=2}else if(_r(x.h,R))O=R.G,Pi(x.h,R),K=1;else return;if(x.I!=0){if(R.o)if(K==1){O=R.u?R.u.length:0,R=Date.now()-R.F;var de=x.D;K=Mi(),lt(K,new ue(K,O)),oa(x)}else Df(x);else if(de=R.m,de==3||de==0&&R.X>0||!(K==1&&il(x,R)||K==2&&so(x)))switch(O&&O.length>0&&(R=x.h,R.i=R.i.concat(O)),de){case 1:la(x,5);break;case 4:la(x,10);break;case 3:la(x,6);break;default:la(x,2)}}}function Pf(x,R){let O=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(O*=2),O*R}function la(x,R){if(x.j.info("Error code "+R),R==2){var O=f(x.bb,x),K=x.Ua;const de=!K;K=new ri(K||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||er(K,"https"),Zs(K),de?Oi(K.toString(),O):Sc(K.toString(),O)}else un(2);x.I=0,x.l&&x.l.pa(R),Of(x),rl(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function Of(x){if(x.I=0,x.ja=[],x.l){const R=ni(x.h);(R.length!=0||x.i.length!=0)&&(A(x.ja,R),A(x.ja,x.i),x.h.i.length=0,S(x.i),x.i.length=0),x.l.oa()}}function Lf(x,R,O){var K=O instanceof ri?Vn(O):new ri(O);if(K.g!="")R&&(K.g=R+"."+K.g),is(K,K.u);else{var de=l.location;K=de.protocol,R=R?R+"."+de.hostname:de.hostname,de=+de.port;const Te=new ri(null);K&&er(Te,K),R&&(Te.g=R),de&&is(Te,de),O&&(Te.h=O),K=Te}return O=x.G,R=x.wa,O&&R&&Qt(K,O,R),Qt(K,"VER",x.ka),ao(x,K),K}function Uf(x,R,O){if(R&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=x.Aa&&!x.ma?new nn(new ia({ab:O})):new nn(x.ma),R.Fa(x.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vf(){}t=Vf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ds(){}ds.prototype.g=function(x,R){return new Or(x,R)};function Or(x,R){nt.call(this),this.g=new us(R),this.l=x,this.h=R&&R.messageUrlParams||null,x=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(x?x["X-WebChannel-Content-Type"]=R.messageContentType:x={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(x?x["X-WebChannel-Client-Profile"]=R.sa:x={"X-WebChannel-Client-Profile":R.sa}),this.g.U=x,(x=R&&R.Qb)&&!U(x)&&(this.g.u=x),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!U(R)&&(this.g.G=R,x=this.h,x!==null&&R in x&&(x=this.h,R in x&&delete x[R])),this.j=new Ca(this)}v(Or,nt),Or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Or.prototype.close=function(){Cc(this.g)},Or.prototype.o=function(x){var R=this.g;if(typeof x=="string"){var O={};O.__data__=x,x=O}else this.v&&(O={},O.__data__=Nt(x),x=O);R.i.push(new Qe(R.Ya++,x)),R.I==3&&oa(R)},Or.prototype.N=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,Or.Z.N.call(this)};function Bf(x){zt.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var R=x.__sm__;if(R){e:{for(const O in R){x=O;break e}x=void 0}(this.i=x)&&(x=this.i,R=R!==null&&x in R?R[x]:void 0),this.data=R}else this.data=x}v(Bf,zt);function Hf(){or.call(this),this.status=1}v(Hf,or);function Ca(x){this.g=x}v(Ca,Vf),Ca.prototype.ra=function(){lt(this.g,"a")},Ca.prototype.qa=function(x){lt(this.g,new Bf(x))},Ca.prototype.pa=function(x){lt(this.g,new Hf)},Ca.prototype.oa=function(){lt(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,Or.prototype.send=Or.prototype.o,Or.prototype.open=Or.prototype.m,Or.prototype.close=Or.prototype.close,YC=function(){return new ds},$C=function(){return Mi()},jC=hn,Pg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,x0=An,Dn.COMPLETE="complete",qC=Dn,Kt.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",nt.prototype.listen=nt.prototype.J,wu=Kt,nn.prototype.listenOnce=nn.prototype.K,nn.prototype.getLastError=nn.prototype.Ha,nn.prototype.getLastErrorCode=nn.prototype.ya,nn.prototype.getStatus=nn.prototype.ca,nn.prototype.getResponseJson=nn.prototype.La,nn.prototype.getResponseText=nn.prototype.la,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Fa,zC=nn}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="12.9.0";function UG(t){gc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new OC("@firebase/firestore");function Vl(){return Vo.logLevel}function et(t,...e){if(Vo.logLevel<=Ot.DEBUG){const n=e.map(jv);Vo.debug(`Firestore (${gc}): ${t}`,...n)}}function Bo(t,...e){if(Vo.logLevel<=Ot.ERROR){const n=e.map(jv);Vo.error(`Firestore (${gc}): ${t}`,...n)}}function of(t,...e){if(Vo.logLevel<=Ot.WARN){const n=e.map(jv);Vo.warn(`Firestore (${gc}): ${t}`,...n)}}function jv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KC(t,r,n)}function KC(t,e,n){let r=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bo(r),new Error(r)}function Nn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KC(e,i,r)}function dn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends mc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wr.UNAUTHENTICATED)))}shutdown(){}}class BG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class HG{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nn(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new Do;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Do,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Do)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nn(typeof r.accessToken=="string",31837,{l:r}),new JC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nn(e===null||typeof e=="string",2055,{h:e}),new wr(e)}}class GG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class zG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,EG(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Nn(this.o===void 0,3512);const r=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,et("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Nn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=jG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Jt(t,e){return t<e?-1:t>e?1:0}function Og(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return $m(i)===$m(s)?Jt(i,s):$m(i)?1:-1}return Jt(t.length,e.length)}const $G=55296,YG=57343;function $m(t){const e=t.charCodeAt(0);return e>=$G&&e<=YG}function ic(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="__name__";class ga{constructor(e,n,r){n===void 0?n=0:n>e.length&&At(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&At(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ga.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ga?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ga.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Jt(e.length,n.length)}static compareSegments(e,n){const r=ga.isNumericId(e),i=ga.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ga.extractNumericId(e).compare(ga.extractNumericId(n)):Og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qv.fromString(e.substring(4,e.length-2))}}class Ln extends ga{construct(e,n,r){return new Ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ln(n)}static emptyPath(){return new Ln([])}}const KG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends ga{construct(e,n,r){return new gr(e,n,r)}static isValidIdentifier(e){return KG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q2}static keyField(){return new gr([Q2])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ct(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ct(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ct(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new ct(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(n)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(Ln.fromString(e))}static fromName(e){return new St(Ln.fromString(e).popFirst(5))}static empty(){return new St(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Ln(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t,e,n){if(!n)throw new ct(Ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XG(t,e,n,r){if(e===!0&&r===!0)throw new ct(Ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z2(t){if(!St.isDocumentKey(t))throw new ct(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At(12329,{type:typeof t})}function Lg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yv(t);throw new ct(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function _f(t,e){if(!XC(t))throw new ct(Ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ct(Ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=-62135596800,tS=1e6;class Tn{static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tS);return new Tn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ct(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eS)throw new ct(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tS}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_f(e,Tn._jsonSchema))return new Tn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-eS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tn._jsonSchemaVersion="firestore/timestamp/1.0",Tn._jsonSchema={type:Jn("string",Tn._jsonSchemaVersion),seconds:Jn("number"),nanoseconds:Jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{static fromTimestamp(e){return new _n(e)}static min(){return new _n(new Tn(0,0))}static max(){return new _n(new Tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=-1;function WG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_n.fromTimestamp(r===1e9?new Tn(n+1,0):new Tn(n,r));return new Ys(i,St.empty(),e)}function QG(t){return new Ys(t.readTime,t.key,lf)}class Ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ys(_n.min(),St.empty(),lf)}static max(){return new Ys(_n.max(),St.empty(),lf)}}function ZG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=St.comparator(t.documentKey,e.documentKey),n!==0?n:Jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kv(t){if(t.code!==Ve.FAILED_PRECONDITION||t.message!==ez)throw t;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Pe.reject(n)}static resolve(e){return new Pe(((n,r)=>{n(e)}))}static reject(e){return new Pe(((n,r)=>{r(e)}))}static waitFor(e){return new Pe(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=Pe.resolve(!1);for(const r of e)n=n.next((i=>i?Pe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Pe(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const f=d;n(e[f]).next((p=>{l[f]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new Pe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function nz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ef(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-1;function Wv(t){return t==null}function J0(t){return t===0&&1/t==-1/0}function rz(t){return typeof t=="number"&&Number.isInteger(t)&&!J0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="";function iz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nS(e)),e=az(t.get(n),e);return nS(e)}function az(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case WC:n+="";break;default:n+=s}}return n}function nS(t){return t+WC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){this.comparator=e,this.root=n||hr.EMPTY}insert(e,n){return new ti(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new s0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new s0(this.root,e,this.comparator,!1)}getReverseIterator(){return new s0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new s0(this.root,e,this.comparator,!0)}}class s0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??hr.RED,this.left=i??hr.EMPTY,this.right=s??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new hr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return hr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new hr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new ti(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iS(this.data.getIterator())}getIteratorFrom(e){return new iS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class iS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Qi([])}unionWith(e){let n=new yr(gr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sz("Invalid base64 string: "+s):s}})(e);return new ya(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new ya(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ya.EMPTY_BYTE_STRING=new ya("");const oz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(t){if(Nn(!!t,39018),typeof t=="string"){let e=0;const n=oz.exec(t);if(Nn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(t.seconds),nanos:pr(t.nanos)}}function pr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ac(t){return typeof t=="string"?ya.fromBase64String(t):ya.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="server_timestamp",eb="__type__",tb="__previous_value__",nb="__local_write_time__";function Qv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[eb])==null?void 0:r.stringValue)===ZC}function Zv(t){const e=t.mapValue.fields[tb];return Qv(e)?Zv(e):e}function X0(t){const e=Ho(t.mapValue.fields[nb].timestampValue);return new Tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n,r,i,s,l,c,d,f,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p,this.apiKey=v}}const W0="(default)";class Q0{constructor(e,n){this.projectId=e,this.database=n||W0}static empty(){return new Q0("","")}get isDefaultDatabase(){return this.database===W0}isEqual(e){return e instanceof Q0&&e.projectId===this.projectId&&e.database===this.database}}function cz(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ct(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q0(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="__type__",uz="__max__",o0={mapValue:{}},ib="__vector__",Ug="value";function Go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:dz(t)?9007199254740991:fz(t)?10:11:At(28295,{value:t})}function _a(t,e){if(t===e)return!0;const n=Go(t);if(n!==Go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return X0(t).isEqual(X0(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Ho(i.timestampValue),c=Ho(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ac(i.bytesValue).isEqual(ac(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return pr(i.geoPointValue.latitude)===pr(s.geoPointValue.latitude)&&pr(i.geoPointValue.longitude)===pr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return pr(i.integerValue)===pr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=pr(i.doubleValue),c=pr(s.doubleValue);return l===c?J0(l)===J0(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return ic(t.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(rS(l)!==rS(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!_a(l[d],c[d])))return!1;return!0})(t,e);default:return At(52216,{left:t})}}function cf(t,e){return(t.values||[]).find((n=>_a(n,e)))!==void 0}function sc(t,e){if(t===e)return 0;const n=Go(t),r=Go(e);if(n!==r)return Jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=pr(s.integerValue||s.doubleValue),d=pr(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return aS(t.timestampValue,e.timestampValue);case 4:return aS(X0(t),X0(e));case 5:return Og(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=ac(s),d=ac(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=Jt(c[f],d[f]);if(p!==0)return p}return Jt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Jt(pr(s.latitude),pr(l.latitude));return c!==0?c:Jt(pr(s.longitude),pr(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return sS(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var y,S,A,w;const c=s.fields||{},d=l.fields||{},f=(y=c[Ug])==null?void 0:y.arrayValue,p=(S=d[Ug])==null?void 0:S.arrayValue,v=Jt(((A=f==null?void 0:f.values)==null?void 0:A.length)||0,((w=p==null?void 0:p.values)==null?void 0:w.length)||0);return v!==0?v:sS(f,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===o0.mapValue&&l===o0.mapValue)return 0;if(s===o0.mapValue)return 1;if(l===o0.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let v=0;v<d.length&&v<p.length;++v){const y=Og(d[v],p[v]);if(y!==0)return y;const S=sc(c[d[v]],f[p[v]]);if(S!==0)return S}return Jt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw At(23264,{he:n})}}function aS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Jt(t,e);const n=Ho(t),r=Ho(e),i=Jt(n.seconds,r.seconds);return i!==0?i:Jt(n.nanos,r.nanos)}function sS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=sc(n[i],r[i]);if(s)return s}return Jt(n.length,r.length)}function oc(t){return Vg(t)}function Vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ho(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ac(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return St.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Vg(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Vg(n.fields[l])}`;return i+"}"})(t.mapValue):At(61005,{value:t})}function y0(t){switch(Go(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zv(t);return e?16+y0(e):16;case 5:return 2*t.stringValue.length;case 6:return ac(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+y0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vc(r.fields,((s,l)=>{i+=s.length+y0(l)})),i})(t.mapValue);default:throw At(13486,{value:t})}}function Bg(t){return!!t&&"integerValue"in t}function e1(t){return!!t&&"arrayValue"in t}function _0(t){return!!t&&"mapValue"in t}function fz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rb])==null?void 0:r.stringValue)===ib}function Uu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return{...t}}function dz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.value=e}static empty(){return new Ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=gr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Uu(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ki(Uu(this.value))}}function ab(t){const e=[];return vc(t.fields,((n,r)=>{const i=new gr([n]);if(_0(r)){const s=ab(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new $i(e,0,_n.min(),_n.min(),_n.min(),Ki.empty(),0)}static newFoundDocument(e,n,r,i){return new $i(e,1,n,_n.min(),r,i,0)}static newNoDocument(e,n){return new $i(e,2,n,_n.min(),_n.min(),Ki.empty(),0)}static newUnknownDocument(e,n){return new $i(e,3,n,_n.min(),_n.min(),Ki.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_n.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.position=e,this.inclusive=n}}function oS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=St.comparator(St.fromName(l.referenceValue),n.key):r=sc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_a(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{}class ir extends sb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mz(e,n,r):n==="array-contains"?new xz(e,r):n==="in"?new yz(e,r):n==="not-in"?new _z(e,r):n==="array-contains-any"?new Ez(e,r):new ir(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gz(e,r):new vz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(sc(n,this.value)):n!==null&&Go(this.value)===Go(n)&&this.matchesComparison(sc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ks extends sb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ks(e,n)}matches(e){return ob(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ob(t){return t.op==="and"}function lb(t){return pz(t)&&ob(t)}function pz(t){for(const e of t.filters)if(e instanceof Ks)return!1;return!0}function Hg(t){if(t instanceof ir)return t.field.canonicalString()+t.op.toString()+oc(t.value);if(lb(t))return t.filters.map((e=>Hg(e))).join(",");{const e=t.filters.map((n=>Hg(n))).join(",");return`${t.op}(${e})`}}function cb(t,e){return t instanceof ir?(function(r,i){return i instanceof ir&&r.op===i.op&&r.field.isEqual(i.field)&&_a(r.value,i.value)})(t,e):t instanceof Ks?(function(r,i){return i instanceof Ks&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&cb(l,i.filters[c])),!0):!1})(t,e):void At(19439)}function ub(t){return t instanceof ir?(function(n){return`${n.field.canonicalString()} ${n.op} ${oc(n.value)}`})(t):t instanceof Ks?(function(n){return n.op.toString()+" {"+n.getFilters().map(ub).join(" ,")+"}"})(t):"Filter"}class mz extends ir{constructor(e,n,r){super(e,n,r),this.key=St.fromName(r.referenceValue)}matches(e){const n=St.comparator(e.key,this.key);return this.matchesComparison(n)}}class gz extends ir{constructor(e,n){super(e,"in",n),this.keys=fb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vz extends ir{constructor(e,n){super(e,"not-in",n),this.keys=fb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>St.fromName(r.referenceValue)))}class xz extends ir{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return e1(n)&&cf(n.arrayValue,this.value)}}class yz extends ir{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cf(this.value.arrayValue,n)}}class _z extends ir{constructor(e,n){super(e,"not-in",n)}matches(e){if(cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cf(this.value.arrayValue,n)}}class Ez extends ir{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!e1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>cf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function cS(t,e=null,n=[],r=[],i=null,s=null,l=null){return new Tz(t,e,n,r,i,s,l)}function t1(t){const e=dn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Hg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Wv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>oc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>oc(r))).join(",")),e.Te=n}return e.Te}function n1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lS(t.startAt,e.startAt)&&lS(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Sz(t,e,n,r,i,s,l,c){return new Eh(t,e,n,r,i,s,l,c)}function Az(t){return new Eh(t)}function uS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wz(t){return St.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Cz(t){return t.collectionGroup!==null}function Vu(t){const e=dn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new yr(gr.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new eh(s,r))})),n.has(gr.keyField().canonicalString())||e.Ie.push(new eh(gr.keyField(),r))}return e.Ie}function Mo(t){const e=dn(t);return e.Ee||(e.Ee=bz(e,Vu(t))),e.Ee}function bz(t,e){if(t.limitType==="F")return cS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new eh(i.field,s)}));const n=t.endAt?new Z0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Z0(t.startAt.position,t.startAt.inclusive):null;return cS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gg(t,e,n){return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function db(t,e){return n1(Mo(t),Mo(e))&&t.limitType===e.limitType}function hb(t){return`${t1(Mo(t))}|lt:${t.limitType}`}function mu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>ub(i))).join(", ")}]`),Wv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>oc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>oc(i))).join(",")),`Target(${r})`})(Mo(t))}; limitType=${t.limitType})`}function r1(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):St.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Vu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const f=oS(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Vu(r),i)||r.endAt&&!(function(l,c,d){const f=oS(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Vu(r),i))})(t,e)}function Nz(t){return(e,n)=>{let r=!1;for(const i of Vu(t)){const s=Iz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Iz(t,e,n){const r=t.field.isKeyField()?St.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),f=c.data.field(s);return d!==null&&f!==null?sc(d,f):At(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return At(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return QC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=new ti(St.comparator);function th(){return Rz}const pb=new ti(St.comparator);function l0(...t){let e=pb;for(const n of t)e=e.insert(n.key,n);return e}function mb(t){let e=pb;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Io(){return Bu()}function gb(){return Bu()}function Bu(){return new Wo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const kz=new ti(St.comparator),Dz=new yr(St.comparator);function br(...t){let e=Dz;for(const n of t)e=e.add(n);return e}const Mz=new yr(Jt);function Fz(){return Mz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J0(e)?"-0":e}}function vb(t){return{integerValue:""+t}}function Pz(t,e){return rz(e)?vb(e):i1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this._=void 0}}function Oz(t,e,n){return t instanceof nh?(function(i,s){const l={fields:{[eb]:{stringValue:ZC},[nb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qv(s)&&(s=Zv(s)),s&&(l.fields[tb]=s),{mapValue:l}})(n,e):t instanceof uf?yb(t,e):t instanceof ff?_b(t,e):(function(i,s){const l=xb(i,s),c=fS(l)+fS(i.Ae);return Bg(l)&&Bg(i.Ae)?vb(c):i1(i.serializer,c)})(t,e)}function Lz(t,e,n){return t instanceof uf?yb(t,e):t instanceof ff?_b(t,e):n}function xb(t,e){return t instanceof rh?(function(r){return Bg(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class nh extends Th{}class uf extends Th{constructor(e){super(),this.elements=e}}function yb(t,e){const n=Eb(e);for(const r of t.elements)n.some((i=>_a(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ff extends Th{constructor(e){super(),this.elements=e}}function _b(t,e){let n=Eb(e);for(const r of t.elements)n=n.filter((i=>!_a(i,r)));return{arrayValue:{values:n}}}class rh extends Th{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fS(t){return pr(t.integerValue||t.doubleValue)}function Eb(t){return e1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Uz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof uf&&i instanceof uf||r instanceof ff&&i instanceof ff?ic(r.elements,i.elements,_a):r instanceof rh&&i instanceof rh?_a(r.Ae,i.Ae):r instanceof nh&&i instanceof nh})(t.transform,e.transform)}class Vz{constructor(e,n){this.version=e,this.transformResults=n}}class $a{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $a}static exists(e){return new $a(void 0,e)}static updateTime(e){return new $a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function E0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sh{}function Tb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ab(t.key,$a.none()):new Tf(t.key,t.data,$a.none());{const n=t.data,r=Ki.empty();let i=new yr(gr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Qo(t.key,r,new Qi(i.toArray()),$a.none())}}function Bz(t,e,n){t instanceof Tf?(function(i,s,l){const c=i.value.clone(),d=hS(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Qo?(function(i,s,l){if(!E0(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=hS(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(Sb(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Hu(t,e,n,r){return t instanceof Tf?(function(s,l,c,d){if(!E0(s.precondition,l))return c;const f=s.value.clone(),p=pS(s.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof Qo?(function(s,l,c,d){if(!E0(s.precondition,l))return c;const f=pS(s.fieldTransforms,d,l),p=l.data;return p.setAll(Sb(s)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(s,l,c){return E0(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function Hz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=xb(r.transform,i||null);s!=null&&(n===null&&(n=Ki.empty()),n.set(r.field,s))}return n||null}function dS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ic(r,i,((s,l)=>Uz(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tf extends Sh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qo extends Sh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Sb(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function hS(t,e,n){const r=new Map;Nn(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,Lz(l,c,n[i]))}return r}function pS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,Oz(s,l,e))}return r}class Ab extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gz extends Sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Bz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gb();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=Tb(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(_n.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),br())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,((n,r)=>dS(n,r)))&&ic(this.baseMutations,e.baseMutations,((n,r)=>dS(n,r)))}}class a1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Nn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return kz})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new a1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,Pt;function jz(t){switch(t){case Ve.OK:return At(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return At(15467,{code:t})}}function $z(t){if(t===void 0)return Bo("GRPC error has no .code"),Ve.UNKNOWN;switch(t){case jn.OK:return Ve.OK;case jn.CANCELLED:return Ve.CANCELLED;case jn.UNKNOWN:return Ve.UNKNOWN;case jn.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case jn.INTERNAL:return Ve.INTERNAL;case jn.UNAVAILABLE:return Ve.UNAVAILABLE;case jn.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case jn.NOT_FOUND:return Ve.NOT_FOUND;case jn.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case jn.ABORTED:return Ve.ABORTED;case jn.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case jn.DATA_LOSS:return Ve.DATA_LOSS;default:return At(39323,{code:t})}}(Pt=jn||(jn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new qv([4294967295,4294967295],0);class Yz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Jz(t,e){return zg(t,e.toTimestamp())}function Zl(t){return Nn(!!t,49232),_n.fromTimestamp((function(n){const r=Ho(n);return new Tn(r.seconds,r.nanos)})(t))}function wb(t,e){return qg(t,e).canonicalString()}function qg(t,e){const n=(function(i){return new Ln(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Xz(t){const e=Ln.fromString(t);return Nn(iq(e),10190,{key:e.toString()}),e}function jg(t,e){return wb(t.databaseId,e.path)}function Wz(t){const e=Xz(t);return e.length===4?Ln.emptyPath():Zz(e)}function Qz(t){return new Ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zz(t){return Nn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mS(t,e,n){return{name:jg(t,e),fields:n.value.mapValue.fields}}function eq(t,e){let n;if(e instanceof Tf)n={update:mS(t,e.key,e.value)};else if(e instanceof Ab)n={delete:jg(t,e.key)};else if(e instanceof Qo)n={update:mS(t,e.key,e.data),updateMask:rq(e.fieldMask)};else{if(!(e instanceof Gz))return At(16599,{dt:e.type});n={verify:jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof nh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof uf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ff)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rh)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw At(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Jz(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:At(27497)})(t,e.precondition)),n}function tq(t,e){return t&&t.length>0?(Nn(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Zl(i.updateTime):Zl(s);return l.isEqual(_n.min())&&(l=Zl(s)),new Vz(l,i.transformResults||[])})(n,e)))):[]}function nq(t){let e=Wz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Nn(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(v){const y=Cb(v);return y instanceof Ks&&lb(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((y=>(function(A){return new eh(Bl(A.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(v){let y;return y=typeof v=="object"?v.value:v,Wv(y)?null:y})(n.limit));let d=null;n.startAt&&(d=(function(v){const y=!!v.before,S=v.values||[];return new Z0(S,y)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const y=!v.before,S=v.values||[];return new Z0(S,y)})(n.endAt)),Sz(e,i,l,s,c,"F",d,f)}function Cb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bl(n.unaryFilter.field);return ir.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bl(n.unaryFilter.field);return ir.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bl(n.unaryFilter.field);return ir.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bl(n.unaryFilter.field);return ir.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(t):t.fieldFilter!==void 0?(function(n){return ir.create(Bl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ks.create(n.compositeFilter.filters.map((r=>Cb(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(n.compositeFilter.op))})(t):At(30097,{filter:t})}function Bl(t){return gr.fromServerFormat(t.fieldPath)}function rq(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function bb(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.yt=e}}function sq(t){const e=nq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this.Sn=new lq}addToCollectionParentIndex(e,n){return this.Sn.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(Ys.min())}updateCollectionGroup(e,n,r){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class lq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yr(Ln.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yr(Ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(Nb,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new lc(0)}static ar(){return new lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="LruGarbageCollector",cq=1048576;function xS([t,e],[n,r]){const i=Jt(t,n);return i===0?Jt(e,r):i}class uq{constructor(e){this.Pr=e,this.buffer=new yr(xS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class fq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){et(vS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ef(n)?et(vS,"Ignoring IndexedDB error during garbage collection: ",n):await Kv(n)}await this.Ar(3e5)}))}}class dq{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Pe.resolve(Jv.ce);const r=new uq(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(gS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,c=Date.now(),this.removeTargets(e,r,n)))).next((v=>(s=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(f=Date.now(),Vl()<=Ot.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v}))))}}function hq(t,e){return new dq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(){this.changes=new Wo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Hu(r.mutation,i,Qi.empty(),Tn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,br()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=br()){const i=Io();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=l0();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Io();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,br())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=th();const l=Bu(),c=(function(){return Bu()})();return n.forEach(((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof Qo)?s=s.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Hu(p.mutation,f,p.mutation.getFieldMask(),Tn.now())):l.set(f.key,Qi.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((f,p)=>l.set(f,p))),n.forEach(((f,p)=>c.set(f,new mq(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Bu();let i=new ti(((l,c)=>l-c)),s=br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||Qi.empty();p=c.applyToLocalView(f,p),r.set(d,p);const v=(i.get(c.batchId)||br()).add(d);i=i.insert(c.batchId,v)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,v=gb();p.forEach((y=>{if(!s.has(y)){const S=Tb(n.get(y),r.get(y));S!==null&&v.set(y,S),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return Pe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return wz(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cz(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Pe.resolve(Io());let c=lf,d=s;return l.next((f=>Pe.forEach(f,((p,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(p)?Pe.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,d,f,br()))).next((p=>({batchId:c,changes:mb(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new St(n)).next((r=>{let i=l0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=l0();return this.indexManager.getCollectionParents(e,s).next((c=>Pe.forEach(c,(d=>{const f=(function(v,y){return new Eh(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((p=>{p.forEach(((v,y)=>{l=l.insert(v,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,$i.newInvalidDocument(p)))}));let c=l0();return l.forEach(((d,f)=>{const p=s.get(d);p!==void 0&&Hu(p.mutation,f,Qi.empty(),Tn.now()),r1(n,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Zl(i.createTime)}})(n)),Pe.resolve()}getNamedQuery(e,n){return Pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:sq(i.bundledQuery),readTime:Zl(i.readTime)}})(n)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.overlays=new ti(St.comparator),this.Lr=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Io();return Pe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),Pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),Pe.resolve()}getOverlaysForCollection(e,n,r){const i=Io(),s=n.length+1,l=new St(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ti(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=s.get(f.largestBatchId);p===null&&(p=Io(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Io(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=i)););return Pe.resolve(c)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new qz(n,r));let s=this.Lr.get(n);s===void 0&&(s=br(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.sessionToken=ya.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.kr=new yr(rr.Kr),this.qr=new yr(rr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new rr(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new rr(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new St(new Ln([])),r=new rr(n,e),i=new rr(n,e+1),s=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),s.push(l.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new St(new Ln([])),r=new rr(n,e),i=new rr(n,e+1);let s=br();return this.qr.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new rr(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rr{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return St.comparator(e.key,n.key)||Jt(e.Hr,n.Hr)}static Ur(e,n){return Jt(e.Hr,n.Hr)||St.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new yr(rr.Kr)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new zz(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Jr=this.Jr.add(new rr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Pe.resolve(l)}lookupMutationBatch(e,n){return Pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?Xv:this.Yn-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rr(n,0),i=new rr(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(l=>{const c=this.Zr(l.Hr);s.push(c)})),Pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Jt);return n.forEach((i=>{const s=new rr(i,0),l=new rr(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,l],(c=>{r=r.add(c.Hr)}))})),Pe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;St.isDocumentKey(s)||(s=s.child(""));const l=new rr(new St(s),0);let c=new yr(Jt);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Hr)),!0)}),l),Pe.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Nn(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Pe.forEach(n.mutations,(i=>{const s=new rr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new rr(n,0),i=this.Jr.firstAfterOrEqual(r);return Pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(e){this.ti=e,this.docs=(function(){return new ti(St.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Pe.resolve(r?r.document.mutableCopy():$i.newInvalidDocument(n))}getEntries(e,n){let r=th();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$i.newInvalidDocument(i))})),Pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=th();const l=n.path,c=new St(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||ZG(QG(p),r)<=0||(i.has(p.key)||r1(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Pe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){At(9500)}ni(e,n){return Pe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Tq(this)}getSize(e){return Pe.resolve(this.size)}}class Tq extends pq{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.persistence=e,this.ri=new Wo((n=>t1(n)),n1),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.ii=0,this.si=new s1,this.targetCount=0,this.oi=lc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.lr(n),Pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Pe.waitFor(s).next((()=>i))}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Pe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Pe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Pe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Pe.resolve(r)}containsKey(e,n){return Pe.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this._i={},this.overlays={},this.ai=new Jv(0),this.ui=!1,this.ui=!0,this.ci=new yq,this.referenceDelegate=e(this),this.li=new Sq(this),this.indexManager=new oq,this.remoteDocumentCache=(function(i){return new Eq(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new aq(n),this.Pi=new vq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new _q(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){et("MemoryPersistence","Starting transaction:",e);const i=new Aq(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return Pe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Aq extends tz{constructor(e){super(),this.currentSequenceNumber=e}}class o1{constructor(e){this.persistence=e,this.Ri=new s1,this.Ai=null}static Vi(e){return new o1(e)}get di(){if(this.Ai)return this.Ai;throw At(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Pe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.di,(r=>{const i=St.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,_n.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Pe.or([()=>Pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.fi=new Wo((r=>iz(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=hq(this,n)}static Vi(e,n){return new ih(e,n)}Ti(){}Ii(e){return Pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Pe.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?Pe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((c=>{c||(r++,s.removeEntry(l,_n.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Pe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=y0(e.data.value)),n}wr(e,n,r){return Pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=br(),i=br();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new l1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xH()?8:nz(gH())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new wq;return this.ys(e,n,l).next((c=>{if(s.result=c,this.As)return this.ws(e,n,l,c.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Vl()<=Ot.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",mu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Pe.resolve()):(Vl()<=Ot.DEBUG&&et("QueryEngine","Query:",mu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Vl()<=Ot.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",mu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mo(n))):Pe.resolve())}gs(e,n){if(uS(n))return Pe.resolve(null);let r=Mo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Gg(n,null,"F"),r=Mo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=br(...s);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.bs(n,c);return this.Ss(n,f,l,d.readTime)?this.gs(e,Gg(n,null,"F")):this.Ds(e,f,n,d)}))))})))))}ps(e,n,r,i){return uS(n)||i.isEqual(_n.min())?Pe.resolve(null):this.fs.getDocuments(e,r).next((s=>{const l=this.bs(n,s);return this.Ss(n,l,r,i)?Pe.resolve(null):(Vl()<=Ot.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mu(n)),this.Ds(e,l,n,WG(i,lf)).next((c=>c)))}))}bs(e,n){let r=new yr(Nz(e));return n.forEach(((i,s)=>{r1(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Vl()<=Ot.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",mu(n)),this.fs.getDocumentsMatchingQuery(e,n,Ys.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq="LocalStore";class Nq{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new ti(Jt),this.Fs=new Wo((s=>t1(s)),n1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gq(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Iq(t,e,n,r){return new Nq(t,e,n,r)}async function Rb(t,e){const n=dn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=br();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of s){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function Rq(t,e){const n=dn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,p){const v=f.batch,y=v.keys();let S=Pe.resolve();return y.forEach((A=>{S=S.next((()=>p.getEntry(d,A))).next((w=>{const b=f.docVersions.get(A);Nn(b!==null,48541),w.version.compareTo(b)<0&&(v.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),p.addEntry(w)))}))})),S.next((()=>c.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=br();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function kq(t){const e=dn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Dq(t,e){const n=dn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}class yS{constructor(){this.activeTargetIds=Fz()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mq{constructor(){this.vo=new yS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="ConnectivityMonitor";class ES{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){et(_S,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){et(_S,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0=null;function $g(){return c0===null?c0=(function(){return 268435456+Math.round(2147483648*Math.random())})():c0++,"0x"+c0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",Pq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Oq{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===W0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const l=$g(),c=this.Qo(e,n.toUriEncodedString());et(Ym,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,i,s);const{host:f}=new URL(c),p=Gv(f);return this.zo(e,c,d,r,p).then((v=>(et(Ym,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw of(Ym,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v}))}jo(e,n,r,i,s,l){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=Pq[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="WebChannelConnection",gu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class ec extends Oq{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ec.c_){const e=$C();gu(e,jC.STAT_EVENT,(n=>{n.stat===Pg.PROXY?et(Ar,"STAT_EVENT: detected buffering proxy"):n.stat===Pg.NOPROXY&&et(Ar,"STAT_EVENT: detected no buffering proxy")})),ec.c_=!0}}zo(e,n,r,i,s){const l=$g();return new Promise(((c,d)=>{const f=new zC;f.setWithCredentials(!0),f.listenOnce(qC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case x0.NO_ERROR:const v=f.getResponseJson();et(Ar,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case x0.TIMEOUT:et(Ar,`RPC '${e}' ${l} timed out`),d(new ct(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case x0.HTTP_ERROR:const y=f.getStatus();if(et(Ar,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let S=f.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const w=(function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(H)>=0?H:Ve.UNKNOWN})(A.status);d(new ct(w,A.message))}else d(new ct(Ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ct(Ve.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{et(Ar,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);et(Ar,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=$g(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");et(Ar,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=l.createWebChannel(f,c);this.I_(p);let v=!1,y=!1;const S=new Lq({Ho:A=>{y?et(Ar,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(et(Ar,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),et(Ar,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Jo:()=>p.close()});return gu(p,wu.EventType.OPEN,(()=>{y||(et(Ar,`RPC '${e}' stream ${i} transport opened.`),S.i_())})),gu(p,wu.EventType.CLOSE,(()=>{y||(y=!0,et(Ar,`RPC '${e}' stream ${i} transport closed`),S.o_(),this.E_(p))})),gu(p,wu.EventType.ERROR,(A=>{y||(y=!0,of(Ar,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.o_(new ct(Ve.UNAVAILABLE,"The operation could not be completed")))})),gu(p,wu.EventType.MESSAGE,(A=>{var w;if(!y){const b=A.data[0];Nn(!!b,16349);const L=b,H=(L==null?void 0:L.error)||((w=L[0])==null?void 0:w.error);if(H){et(Ar,`RPC '${e}' stream ${i} received error:`,H);const F=H.status;let z=(function(I){const N=jn[I];if(N!==void 0)return $z(N)})(F),B=H.message;F==="NOT_FOUND"&&B.includes("database")&&B.includes("does not exist")&&B.includes(this.databaseId.database)&&of(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),z===void 0&&(z=Ve.INTERNAL,B="Unknown error status: "+F+" with message "+H.message),y=!0,S.o_(new ct(z,B)),p.close()}else et(Ar,`RPC '${e}' stream ${i} received:`,b),S.__(b)}})),ec.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return YC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uq(t){return new ec(t)}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return new Yz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ec.c_=!1;class kb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="PersistentStream";class Vq{constructor(e,n,r,i,s,l,c,d){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ve.RESOURCE_EXHAUSTED?(Bo(n.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ct(Ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return et(TS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(et(TS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bq extends Vq{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Nn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Nn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Nn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tq(e.writeResults,e.commitTime),r=Zl(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Qz(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>eq(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{}class Gq extends Hq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ct(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Wo(e,qg(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(Ve.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,qg(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(Ve.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function zq(t,e,n,r){return new Gq(t,e,n,r)}class qq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bo(n),this.aa=!1):et("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RemoteStore";class jq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{wf(this)&&(et(Sf,"Restarting streams for network reachability change."),await(async function(d){const f=dn(d);f.Ea.add(4),await Af(f),f.Va.set("Unknown"),f.Ea.delete(4),await wh(f)})(this))}))})),this.Va=new qq(r,i)}}async function wh(t){if(wf(t))for(const e of t.Ra)await e(!0)}async function Af(t){for(const e of t.Ra)await e(!1)}function wf(t){return dn(t).Ea.size===0}async function Db(t,e,n){if(!Ef(e))throw e;t.Ea.add(1),await Af(t),t.Va.set("Offline"),n||(n=()=>kq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{et(Sf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wh(t)}))}function Mb(t,e){return e().catch((n=>Db(t,n,e)))}async function Ch(t){const e=dn(t),n=Js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xv;for(;$q(e);)try{const i=await Dq(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Yq(e,i)}catch(i){await Db(e,i)}Fb(e)&&Pb(e)}function $q(t){return wf(t)&&t.Ta.length<10}function Yq(t,e){t.Ta.push(e);const n=Js(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Fb(t){return wf(t)&&!Js(t).x_()&&t.Ta.length>0}function Pb(t){Js(t).start()}async function Kq(t){Js(t).ra()}async function Jq(t){const e=Js(t);for(const n of t.Ta)e.ea(n.mutations)}async function Xq(t,e,n){const r=t.Ta.shift(),i=a1.from(r,e,n);await Mb(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ch(t)}async function Wq(t,e){e&&Js(t).Y_&&await(async function(r,i){if((function(l){return jz(l)&&l!==Ve.ABORTED})(i.code)){const s=r.Ta.shift();Js(r).B_(),await Mb(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Ch(r)}})(t,e),Fb(t)&&Pb(t)}async function SS(t,e){const n=dn(t);n.asyncQueue.verifyOperationInProgress(),et(Sf,"RemoteStore received new credentials");const r=wf(n);n.Ea.add(3),await Af(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wh(n)}async function Qq(t,e){const n=dn(t);e?(n.Ea.delete(2),await wh(n)):e||(n.Ea.add(2),await Af(n),n.Va.set("Unknown"))}function Js(t){return t.fa||(t.fa=(function(n,r,i){const s=dn(n);return s.sa(),new Bq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Kq.bind(null,t),t_:Wq.bind(null,t),ta:Jq.bind(null,t),na:Xq.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Ch(t)):(await t.fa.stop(),t.Ta.length>0&&(et(Sf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Do,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new c1(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ob(t,e){if(Bo("AsyncQueue",`${e}: ${t}`),Ef(t))return new ct(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}class Zq{constructor(){this.queries=AS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=dn(n),s=i.queries;i.queries=AS(),s.forEach(((l,c)=>{for(const d of c.ba)d.onError(r)}))})(this,new ct(Ve.ABORTED,"Firestore shutting down"))}}function AS(){return new Wo((t=>hb(t)),db)}function ej(t){t.Ca.forEach((e=>{e.next()}))}var wS,CS;(CS=wS||(wS={})).Ma="default",CS.Cache="cache";const tj="SyncEngine";class nj{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Wo((c=>hb(c)),db),this.Iu=new Map,this.Eu=new Set,this.Ru=new ti(St.comparator),this.Au=new Map,this.Vu=new s1,this.du={},this.mu=new Map,this.fu=lc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rj(t,e,n){const r=oj(t);try{const i=await(function(l,c){const d=dn(l),f=Tn.now(),p=c.reduce(((S,A)=>S.add(A.key)),br());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=th(),w=br();return d.xs.getEntries(S,p).next((b=>{A=b,A.forEach(((L,H)=>{H.isValidDocument()||(w=w.add(L))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,A))).next((b=>{v=b;const L=[];for(const H of c){const F=Hz(H,v.get(H.key).overlayedDocument);F!=null&&L.push(new Qo(H.key,F,ab(F.value.mapValue),$a.exists(!0)))}return d.mutationQueue.addMutationBatch(S,f,L,c)})).next((b=>{y=b;const L=b.applyToLocalDocumentSet(v,w);return d.documentOverlayCache.saveOverlays(S,b.batchId,L)}))})).then((()=>({batchId:y.batchId,changes:mb(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let f=l.du[l.currentUser.toKey()];f||(f=new ti(Jt)),f=f.insert(c,d),l.du[l.currentUser.toKey()]=f})(r,i.batchId,n),await bh(r,i.changes),await Ch(r.remoteStore)}catch(i){const s=Ob(i,"Failed to persist write");n.reject(s)}}function bS(t,e,n){const r=dn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=dn(l);d.onlineState=c;let f=!1;d.queries.forEach(((p,v)=>{for(const y of v.ba)y.va(c)&&(f=!0)})),f&&ej(d)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ij(t,e){const n=dn(t),r=e.batch.batchId;try{const i=await Rq(n.localStore,e);Ub(n,r,null),Lb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bh(n,i)}catch(i){await Kv(i)}}async function aj(t,e,n){const r=dn(t);try{const i=await(function(l,c){const d=dn(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next((v=>(Nn(v!==null,37113),p=v.keys(),d.mutationQueue.removeMutationBatch(f,v)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);Ub(r,e,n),Lb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bh(r,i)}catch(i){await Kv(i)}}function Lb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function Ub(t,e,n){const r=dn(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}async function bh(t,e,n){const r=dn(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((f=>{var p;if((f||n)&&r.isPrimaryClient){const v=f?!f.fromCache:(p=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(f){i.push(f);const v=l1.Es(d.targetId,f);s.push(v)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(d,f){const p=dn(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Pe.forEach(f,(y=>Pe.forEach(y.Ts,(S=>p.persistence.referenceDelegate.addReference(v,y.targetId,S))).next((()=>Pe.forEach(y.Is,(S=>p.persistence.referenceDelegate.removeReference(v,y.targetId,S)))))))))}catch(v){if(!Ef(v))throw v;et(bq,"Failed to update sequence numbers: "+v)}for(const v of f){const y=v.targetId;if(!v.fromCache){const S=p.vs.get(y),A=S.snapshotVersion,w=S.withLastLimboFreeSnapshotVersion(A);p.vs=p.vs.insert(y,w)}}})(r.localStore,s))}async function sj(t,e){const n=dn(t);if(!n.currentUser.isEqual(e)){et(tj,"User change. New user:",e.toKey());const r=await Rb(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new ct(Ve.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bh(n,r.Ns)}}function oj(t){const e=dn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ij.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aj.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Iq(this.persistence,new Cq,e.initialUser,this.serializer)}Cu(e){return new Ib(o1.Vi,this.serializer)}Du(e){return new Mq}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class lj extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Nn(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new fq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new Ib((r=>ih.Vi(r,n)),this.serializer)}}class Yg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sj.bind(null,this.syncEngine),await Qq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zq})()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),r=Uq(e.databaseInfo);return zq(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new jq(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>bS(this.syncEngine,n,0)),(function(){return ES.v()?new ES:new Fq})())}createSyncEngine(e,n){return(function(i,s,l,c,d,f,p){const v=new nj(i,s,l,c,d,f);return p&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=dn(i);et(Sf,"RemoteStore shutting down."),s.Ea.add(5),await Af(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Yg.provider={build:()=>new Yg};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class cj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=wr.UNAUTHENTICATED,this.clientId=$v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{et(Xs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(et(Xs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Do;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ob(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jm(t,e){t.asyncQueue.verifyOperationInProgress(),et(Xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Rb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function NS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uj(t);et(Xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>SS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>SS(e.remoteStore,i))),t._onlineComponents=e}async function uj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){et(Xs,"Using user provided OfflineComponentProvider");try{await Jm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;of("Error using user provided cache. Falling back to memory cache: "+n),await Jm(t,new ah)}}else et(Xs,"Using default OfflineComponentProvider"),await Jm(t,new lj(void 0));return t._offlineComponents}async function fj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(et(Xs,"Using user provided OnlineComponentProvider"),await NS(t,t._uninitializedComponentsProvider._online)):(et(Xs,"Using default OnlineComponentProvider"),await NS(t,new Yg))),t._onlineComponents}function dj(t){return fj(t).then((e=>e.syncEngine))}function hj(t,e){const n=new Do;return t.asyncQueue.enqueueAndForget((async()=>rj(await dj(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="ComponentProvider",IS=new Map;function mj(t,e,n,r,i){return new lz(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Vb(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firestore.googleapis.com",RS=!0;class kS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ct(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=RS}else this.host=e.host,this.ssl=e.ssl??RS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cq)throw new ct(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class u1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VG;switch(r.type){case"firstParty":return new zG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=IS.get(n);r&&(et(pj,"Removing Datastore"),IS.delete(n),r.terminate())})(this),Promise.resolve()}}function gj(t,e,n,r={}){var f;t=Lg(t,u1);const i=Gv(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(fH(`https://${c}`),mH("Firestore",!0)),s.host!==Bb&&s.host!==c&&of("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:c,ssl:i,emulatorOptions:r};if(!$0(d,l)&&(t._setSettings(d),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=wr.MOCK_USER;else{p=dH(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ct(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new wr(y)}t._authCredentials=new BG(new JC(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new f1(this.firestore,e,this._query)}}class kr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new df(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}toJSON(){return{type:kr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(_f(n,kr._jsonSchema))return new kr(e,r||null,new St(Ln.fromString(n.referencePath)))}}kr._jsonSchemaVersion="firestore/documentReference/1.0",kr._jsonSchema={type:Jn("string",kr._jsonSchemaVersion),referencePath:Jn("string")};class df extends f1{constructor(e,n,r){super(e,n,Az(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new St(e))}withConverter(e){return new df(this.firestore,e,this._path)}}function vj(t,e,...n){if(t=Y0(t),arguments.length===1&&(e=$v.newId()),JG("doc","path",e),t instanceof u1){const r=Ln.fromString(e,...n);return Z2(r),new kr(t,null,new St(r))}{if(!(t instanceof kr||t instanceof df))throw new ct(Ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ln.fromString(e,...n));return Z2(r),new kr(t.firestore,t instanceof df?t.converter:null,new St(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="AsyncQueue";class MS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kb(this,"async_queue_retry"),this._c=()=>{const r=Km();r&&et(DS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Do;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ef(e))throw e;et(DS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Bo("INTERNAL UNHANDLED ERROR: ",FS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=c1.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&At(47125,{Pc:FS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function FS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hb extends u1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MS(e),this._firestoreClient=void 0,await e}}}function xj(t,e){const n=typeof t=="object"?t:BC(),r=typeof t=="string"?t:W0,i=_G(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cH("firestore");s&&gj(i,...s)}return i}function yj(t){if(t._terminated)throw new ct(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_j(t),t._firestoreClient}function _j(t){var r,i,s,l;const e=t._freezeSettings(),n=mj(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(ya.fromBase64String(e))}catch(n){throw new ct(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ji(ya.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ji._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_f(e,Ji._jsonSchema))return Ji.fromBase64String(e.bytes)}}Ji._jsonSchemaVersion="firestore/bytes/1.0",Ji._jsonSchema={type:Jn("string",Ji._jsonSchemaVersion),bytes:Jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ct(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ct(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ct(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ya._jsonSchemaVersion}}static fromJSON(e){if(_f(e,Ya._jsonSchema))return new Ya(e.latitude,e.longitude)}}Ya._jsonSchemaVersion="firestore/geoPoint/1.0",Ya._jsonSchema={type:Jn("string",Ya._jsonSchemaVersion),latitude:Jn("number"),longitude:Jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:va._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_f(e,va._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new va(e.vectorValues);throw new ct(Ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}va._jsonSchemaVersion="firestore/vectorValue/1.0",va._jsonSchema={type:Jn("string",va._jsonSchemaVersion),vectorValues:Jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=/^__.*__$/;class Tj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tf(e,this.data,n,this.fieldTransforms)}}function qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{dataSource:t})}}class d1{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new d1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return sh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(qb(this.dataSource)&&Ej.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Sj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}createContext(e,n,r,i=!1){return new d1({dataSource:e,methodName:n,targetDoc:r,path:gr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Aj(t){const e=t._freezeSettings(),n=Ah(t._databaseId);return new Sj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wj(t,e,n,r,i,s={}){const l=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);Kb("Data must be an object, but it was:",l,r);const c=$b(r,l);let d,f;if(s.merge)d=new Qi(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const y=h1(e,v,n);if(!l.contains(y))throw new ct(Ve.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Nj(p,y)||p.push(y)}d=new Qi(p),f=l.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,f=l.fieldTransforms;return new Tj(new Ki(c),d,f)}function jb(t,e){if(Yb(t=Y0(t)))return Kb("Unsupported field value:",e,t),$b(t,e);if(t instanceof zb)return(function(r,i){if(!qb(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=jb(c,i.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Y0(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Pz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Tn.fromDate(r);return{timestampValue:zg(i.serializer,s)}}if(r instanceof Tn){const s=new Tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zg(i.serializer,s)}}if(r instanceof Ya)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:Kz(i.serializer,r._byteString)};if(r instanceof kr){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof va)return(function(l,c){const d=l instanceof va?l.toArray():l;return{mapValue:{fields:{[rb]:{stringValue:ib},[Ug]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw c.createError("VectorValues must only contain numeric values.");return i1(c.serializer,p)}))}}}}}})(r,i);if(bb(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Yv(r)}`)})(t,e)}function $b(t,e){const n={};return QC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(t,((r,i)=>{const s=jb(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function Yb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tn||t instanceof Ya||t instanceof Ji||t instanceof kr||t instanceof zb||t instanceof va||bb(t))}function Kb(t,e,n){if(!Yb(n)||!XC(n)){const r=Yv(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function h1(t,e,n){if((e=Y0(e))instanceof Gb)return e._internalPath;if(typeof e=="string")return bj(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Cj=new RegExp("[~\\*/\\[\\]]");function bj(t,e,n){if(e.search(Cj)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gb(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ct(Ve.INVALID_ARGUMENT,c+t+d)}function Nj(t,e){return t.some((n=>n.isEqual(e)))}const PS="@firebase/firestore",OS="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ij(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(h1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ij extends Jb{data(){return super.data()}}function Rj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class u0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tc extends Jb{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new T0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(h1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=tc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}tc._jsonSchemaVersion="firestore/documentSnapshot/1.0",tc._jsonSchema={type:Jn("string",tc._jsonSchemaVersion),bundleSource:Jn("string","DocumentSnapshot"),bundleName:Jn("string"),bundle:Jn("string")};class T0 extends tc{data(e={}){return super.data(e)}}class Gu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new u0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new T0(this._firestore,this._userDataWriter,r.key,r,new u0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new T0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new u0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new T0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new u0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:kj(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$v.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gu._jsonSchemaVersion="firestore/querySnapshot/1.0",Gu._jsonSchema={type:Jn("string",Gu._jsonSchemaVersion),bundleSource:Jn("string","QuerySnapshot"),bundleName:Jn("string"),bundle:Jn("string")};function Dj(t,e,n){t=Lg(t,kr);const r=Lg(t.firestore,Hb),i=Rj(t.converter,e),s=Aj(r);return Mj(r,[wj(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$a.none())])}function Mj(t,e){const n=yj(t);return hj(n,e)}(function(e,n=!0){UG(AG),K0(new rf("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Hb(new HG(r.getProvider("auth-internal")),new qG(l,r.getProvider("app-check-internal")),cz(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Ql(PS,OS,e),Ql(PS,OS,"esm2020")})();const Xb=()=>{const t=localStorage.getItem("firebase_config");return t?JSON.parse(t):{apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"}},Fj=t=>{localStorage.setItem("firebase_config",JSON.stringify(t))},Pj=()=>{localStorage.removeItem("firebase_config")};let Xm,Kg;const Wb=async t=>{try{const e=t||Xb();return e?(wG().length>0?Xm=BC():Xm=VC(e),Kg=xj(Xm),!0):!1}catch(e){return console.error("Error initializing Firebase:",e),!1}},LS=async(t,e,n,r)=>{if(Kg)try{const i={clients:t,products:e,categories:n,users:r,lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await Dj(vj(Kg,"rota-vendas","master-data"),i)}catch(i){throw console.error("Error saving to cloud:",i),i}};var Jg=YS(),Wm,US;function Oj(){return US||(US=1,Wm=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),Wm}var Lj=Oj();const Xg=oh(Lj);function Uj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vj(t){var e=Uj(t,"string");return typeof e=="symbol"?e:String(e)}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}function zo(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const Ga={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},Bj="https://maps.googleapis.com/maps/api/js";class hf{static async load(e,n){var r;const i=e.libraries?e.libraries.split(","):[],s=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=Ga.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=s,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==s&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const l=["maps",...i];await Promise.all(l.map(c=>google.maps.importLibrary(c)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((i,s)=>{var l;const c=document.createElement("script"),d=new URLSearchParams;for(const[f,p]of Object.entries(e)){const v=f.replace(/[A-Z]/g,y=>"_"+y[0].toLowerCase());d.set(v,p)}d.set("loading","async"),d.set("callback","__googleMapsCallback__"),c.async=!0,c.src=Bj+"?"+d.toString(),c.nonce=((l=document.querySelector("script[nonce]"))==null?void 0:l.nonce)||"",c.onerror=()=>{this.loadingStatus=Ga.FAILED,this.notifyLoadingStatusListeners(),s(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=Ga.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=Ga.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=Ga.LOADING,this.notifyLoadingStatusListeners(),document.head.append(c)}),n);google.maps.importLibrary=i=>r().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}hf.loadingStatus=Ga.NOT_LOADED;hf.serializedApiParams=void 0;hf.listeners=[];const Hj=["onLoad","apiKey","version","libraries"],Gj=["children"],zj="GMP_visgl_rgmlibrary_v1_default",Cf=Kn.createContext(null);function qj(){const[t,e]=he.useState({});return{mapInstances:t,addMapInstance:(s,l="default")=>{e(c=>Ka({},c,{[l]:s}))},removeMapInstance:(s="default")=>{e(l=>zo(l,[s].map(Vj)))},clearMapInstances:()=>{e({})}}}function jj(t){const{onLoad:e,apiKey:n,version:r,libraries:i=[]}=t,s=zo(t,Hj),[l,c]=he.useState(hf.loadingStatus),[d,f]=he.useReducer((S,A)=>Ka({},S,{[A.name]:A.value}),{}),p=he.useMemo(()=>i==null?void 0:i.join(","),[i]),v=he.useMemo(()=>JSON.stringify(Ka({apiKey:n,version:r},s)),[n,r,s]),y=he.useCallback(async S=>{var A;if(d[S])return d[S];if(!((A=google)!=null&&(A=A.maps)!=null&&A.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const w=await window.google.maps.importLibrary(S);return f({name:S,value:w}),w},[d]);return he.useEffect(()=>{(async()=>{try{const S=Ka({key:n},s);r&&(S.v=r),(p==null?void 0:p.length)>0&&(S.libraries=p),S.solutionChannel===void 0?S.solutionChannel=zj:S.solutionChannel===""&&delete S.solutionChannel,await hf.load(S,A=>c(A));for(const A of["core","maps",...i])await y(A);e&&e()}catch(S){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",S)}})()},[n,p,v]),{status:l,loadedLibraries:d,importLibrary:y}}const $j=t=>{const{children:e}=t,n=zo(t,Gj),{mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:l}=qj(),{status:c,loadedLibraries:d,importLibrary:f}=jj(n),p=he.useMemo(()=>({mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:l,status:c,loadedLibraries:d,importLibrary:f}),[r,i,s,l,c,d,f]);return Kn.createElement(Cf.Provider,{value:p},e)};function Yj(t,e){for(const n of Wj){const r=e[n],i=Qb[n];he.useEffect(()=>{if(!t||!r)return;const s=google.maps.event.addListener(t,i,l=>{r(Kj(i,t,l))});return()=>s.remove()},[t,i,r])}}function Kj(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(Jj.includes(t)){const s=r,l=e.getCenter(),c=e.getZoom(),d=e.getHeading()||0,f=e.getTilt()||0,p=e.getBounds();return(!l||!p||!Number.isFinite(c))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),s.detail={center:(l==null?void 0:l.toJSON())||{lat:0,lng:0},zoom:c||0,heading:d,tilt:f,bounds:(p==null?void 0:p.toJSON())||{north:90,east:180,south:-90,west:-180}},s}else if(Xj.includes(t)){var i;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const s=r;return s.domEvent=n.domEvent,s.stoppable=!0,s.stop=()=>n.stop(),s.detail={latLng:((i=n.latLng)==null?void 0:i.toJSON())||null,placeId:n.placeId},s}return r}const Qb={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},Jj=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],Xj=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],Wj=Object.keys(Qb);function Zb(t,e){const n=he.useRef(void 0);(!n.current||!Xg(e,n.current))&&(n.current=e),he.useEffect(t,n.current)}const Qj=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function Zj(t,e){const n={},r=Object.keys(e);for(const i of r)Qj.has(i)&&(n[i]=e[i]);Zb(()=>{t&&t.setOptions(n)},[n])}function eN(){var t;return((t=he.useContext(Cf))==null?void 0:t.status)||Ga.NOT_LOADED}function e$(t,e){const{viewport:n,viewState:r}=e,i=!!n;return he.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:s,longitude:l,bearing:c,pitch:d,zoom:f}=r;t.moveCamera({center:{lat:s,lng:l},heading:c,tilt:d,zoom:f+1})},[t,r]),i}function t$(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function tN(t){return t$(t)?t:t.toJSON()}function n$(t,e,n){const r=n.center?tN(n.center):null;let i=null,s=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(i=r.lat,s=r.lng);const l=Number.isFinite(n.zoom)?n.zoom:null,c=Number.isFinite(n.heading)?n.heading:null,d=Number.isFinite(n.tilt)?n.tilt:null;he.useLayoutEffect(()=>{if(!t)return;const f={};let p=!1;i!==null&&s!==null&&(e.current.center.lat!==i||e.current.center.lng!==s)&&(f.center={lat:i,lng:s},p=!0),l!==null&&e.current.zoom!==l&&(f.zoom=l,p=!0),c!==null&&e.current.heading!==c&&(f.heading=c,p=!0),d!==null&&e.current.tilt!==d&&(f.tilt=d,p=!0),p&&t.moveCamera(f)})}const r$=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Kn.createElement("div",{style:t},Kn.createElement("h2",null,"Error: AuthFailure"),Kn.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Kn.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function i$(){const[t,e]=he.useState(null),n=he.useCallback(r=>e(r),[e]);return[t,n]}function nN(){return eN()===Ga.LOADED}function a$(){const[,t]=he.useReducer(e=>e+1,0);return t}function s$(t,e){const n=t.getCenter(),r=t.getZoom(),i=t.getHeading()||0,s=t.getTilt()||0,l=t.getBounds();(!n||!l||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:i,tilt:s})}function o$(t){const e=a$(),n=he.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return he.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{s$(t,n),e()});return()=>r.remove()},[t,e]),n}const l$=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],c$=["padding"];class S0{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}S0.entries={};function u$(t,e){const n=nN(),[r,i]=he.useState(null),[s,l]=i$(),c=o$(r),{id:d,defaultBounds:f,defaultCenter:p,defaultZoom:v,defaultHeading:y,defaultTilt:S,reuseMaps:A}=t,w=zo(t,l$),b=t.zoom!==void 0||t.defaultZoom!==void 0,L=t.center!==void 0||t.defaultCenter!==void 0;!f&&(!b||!L)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!w.center&&p&&(w.center=p),!w.zoom&&Number.isFinite(v)&&(w.zoom=v),!w.heading&&Number.isFinite(y)&&(w.heading=y),!w.tilt&&Number.isFinite(S)&&(w.tilt=S);for(const F of Object.keys(w))w[F]===void 0&&delete w[F];const H=he.useRef();return he.useEffect(()=>{if(!s||!n)return;const{addMapInstance:F,removeMapInstance:z}=e,B=t.mapId,j=B||"default";let I,N;if(A&&S0.has(j)?(N=S0.pop(j),I=N.getDiv(),s.appendChild(I),N.setOptions(w),setTimeout(()=>N.setCenter(N.getCenter()),0)):(I=document.createElement("div"),I.style.height="100%",s.appendChild(I),N=new google.maps.Map(I,w)),i(N),F(N,d),f){const{padding:C}=f,P=zo(f,c$);N.fitBounds(P,C)}else(!b||!L)&&N.fitBounds({east:180,west:-180,south:-90,north:90});if(H.current){const{mapId:C,cameraState:P}=H.current;C!==B&&N.setOptions(P)}return()=>{H.current={mapId:B,cameraState:c.current},I.remove(),A?S0.push(j,N):google.maps.event.clearInstanceListeners(N),i(null),z(d)}},[s,n,d,t.mapId]),[r,l,c]}const rN=Kn.createContext(null),iN=t=>{const{children:e,id:n,className:r,style:i}=t,s=he.useContext(Cf),l=eN();if(!s)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[c,d,f]=u$(t,s);n$(c,f,t),Yj(c,t),Zj(c,t);const p=e$(c,t),v=!!t.controlled;he.useEffect(()=>{if(c)return p&&c.setOptions({disableDefaultUI:!0}),(p||v)&&c.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{c.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[c,p,v,t.gestureHandling,t.keyboardShortcuts]);const y=t.center?tN(t.center):null;let S=null,A=null;y&&Number.isFinite(y.lat)&&Number.isFinite(y.lng)&&(S=y.lat,A=y.lng);const w=he.useMemo(()=>{var H,F,z,B,j;return{center:{lat:(H=S)!=null?H:0,lng:(F=A)!=null?F:0},zoom:(z=t.zoom)!=null?z:0,heading:(B=t.heading)!=null?B:0,tilt:(j=t.tilt)!=null?j:0}},[S,A,t.zoom,t.heading,t.tilt]);he.useLayoutEffect(()=>{if(!c||!v)return;c.moveCamera(w);const H=c.addListener("bounds_changed",()=>{c.moveCamera(w)});return()=>H.remove()},[c,v,w]);const b=he.useMemo(()=>Ka({width:"100%",height:"100%",position:"relative",zIndex:p?-1:0},i),[i,p]),L=he.useMemo(()=>({map:c}),[c]);return l===Ga.AUTH_FAILURE?Kn.createElement("div",{style:Ka({position:"relative"},r?{}:b),className:r},Kn.createElement(r$,null)):Kn.createElement("div",Ka({ref:d,"data-testid":"map",style:r?void 0:b,className:r},n?{id:n}:{}),c?Kn.createElement(rN.Provider,{value:L},e):null)};iN.deckGLViewProps=!0;const VS=new Set;function f$(...t){const e=JSON.stringify(t);VS.has(e)||(VS.add(e),console.error(...t))}const xc=(t=null)=>{const e=he.useContext(Cf),{map:n}=he.useContext(rN)||{};if(e===null)return f$("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function aN(t){const e=nN(),n=he.useContext(Cf);return he.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function sN(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(n==null){if(e==null)return;for(const i in e)e.hasOwnProperty(i)&&BS(r,i,e[i]);return}for(const i in n)n.hasOwnProperty(i)&&(e==null||!e.hasOwnProperty(i))&&(i.indexOf("--")===0?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="");if(e!=null)for(const i in e){const s=e[i];e.hasOwnProperty(i)&&n[i]!==s&&BS(r,i,s)}}function BS(t,e,n){const r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n=="number"&&n!==0&&!h$(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const d$=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function h$(t){return d$.has(t)}function ql(t,e,n){he.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function vu(t,e,n){he.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}const p$=Kn.createContext(null);function m$(t){const[e,n]=he.useState(null),[r,i]=he.useState(null),s=he.useRef(null),l=xc(),c=aN("marker"),{children:d,className:f,style:p,onClick:v,onDrag:y,onDragStart:S,onDragEnd:A,collisionBehavior:w,clickable:b,draggable:L,position:H,title:F,zIndex:z}=t,B=he.Children.count(d);return he.useEffect(()=>{if(!l||!c)return;const j=new c.AdvancedMarkerElement;j.map=l,n(j);let I=null;return B>0&&(I=document.createElement("div"),j.content=I,i(I)),()=>{var N;j.map=null,(N=I)==null||N.remove(),n(null),i(null)}},[l,c,B]),he.useEffect(()=>{!e||!e.content||(e.content.className=f||"")},[e,f]),vu(r,"className",f??""),he.useEffect(()=>{r&&(sN(r,p||null,s.current),s.current=p||null)},[r,f,p]),vu(e,"position",H),vu(e,"title",F??""),vu(e,"zIndex",z),vu(e,"collisionBehavior",w),he.useEffect(()=>{e&&(L!==void 0?e.gmpDraggable=L:y||S||A?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,L,y,A,S]),he.useEffect(()=>{e&&(b!==void 0?e.gmpClickable=b:v?e.gmpClickable=!0:e.gmpClickable=!1)},[e,b,v]),ql(e,"click",v),ql(e,"drag",y),ql(e,"dragstart",S),ql(e,"dragend",A),[e,r]}he.forwardRef((t,e)=>{const{children:n}=t,[r,i]=m$(t),s=he.useMemo(()=>r?{marker:r}:null,[r]);return he.useImperativeHandle(e,()=>r,[r]),i?Kn.createElement(p$.Provider,{value:s},Jg.createPortal(n,i)):null});const g$=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],v$=t=>{const{children:e,headerContent:n,style:r,className:i,pixelOffset:s,anchor:l,shouldFocus:c,onClose:d,onCloseClick:f}=t,p=zo(t,g$),v=aN("maps"),[y,S]=he.useState(null),A=he.useRef(null),w=he.useRef(null);he.useEffect(()=>{if(!v)return;A.current=document.createElement("div"),w.current=document.createElement("div");const H=p;s&&(H.pixelOffset=new google.maps.Size(s[0],s[1])),n&&(H.headerContent=typeof n=="string"?n:w.current);const F=new google.maps.InfoWindow(p);return F.setContent(A.current),S(F),()=>{var z,B;F.setContent(null),(z=A.current)==null||z.remove(),(B=w.current)==null||B.remove(),A.current=null,w.current=null,S(null)}},[v]);const b=he.useRef(null);he.useEffect(()=>{!y||!A.current||(sN(A.current,r||null,b.current),b.current=r||null,i!==A.current.className&&(A.current.className=i||""))},[y,i,r]),Zb(()=>{if(!y)return;const H=p;s?H.pixelOffset=new google.maps.Size(s[0],s[1]):H.pixelOffset=null,n?H.headerContent=typeof n=="string"?n:w.current:H.headerContent=null,y.setOptions(p)},[p,s,n]),ql(y,"close",d),ql(y,"closeclick",f);const L=xc();return he.useEffect(()=>{if(!L||!y||l===null)return;const H=!!l,F={map:L};return l&&(F.anchor=l),c!==void 0&&(F.shouldFocus=c),y.open(F),()=>{H&&y.set("anchor",null),y.close()}},[y,l,L,c]),Kn.createElement(Kn.Fragment,null,A.current&&Jg.createPortal(e,A.current),w.current!==null&&Jg.createPortal(n,w.current))},x$=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function y$(t){const[e,n]=he.useState(null),r=xc(),{onClick:i,onDrag:s,onDragStart:l,onDragEnd:c,onMouseOver:d,onMouseOut:f}=t,p=zo(t,x$),{position:v,draggable:y}=p;return he.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const S=new google.maps.Marker(p);return S.setMap(r),n(S),()=>{S.setMap(null),n(null)}},[r]),he.useEffect(()=>{if(!e)return;const S=e,A=google.maps.event;return i&&A.addListener(S,"click",i),s&&A.addListener(S,"drag",s),l&&A.addListener(S,"dragstart",l),c&&A.addListener(S,"dragend",c),d&&A.addListener(S,"mouseover",d),f&&A.addListener(S,"mouseout",f),e.setDraggable(!!y),()=>{A.clearInstanceListeners(S)}},[e,y,i,s,l,c,d,f]),he.useEffect(()=>{e&&p&&e.setOptions(p)},[e,p]),he.useEffect(()=>{y||!v||!e||e.setPosition(v)},[y,v,e]),e}he.forwardRef((t,e)=>{const n=y$(t);return he.useImperativeHandle(e,()=>n,[n]),Kn.createElement(Kn.Fragment,null)});const HS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Qm=1,xu=8;class p1{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==Qm)throw new Error(`Got v${i} data when expected v${Qm}.`);const s=HS[r&15];if(!s)throw new Error("Unrecognized array type.");const[l]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new p1(c,l,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=HS.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,xu,e),this.coords=new this.ArrayType(this.data,xu+c+d,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(xu+l+c+d),this.ids=new this.IndexArrayType(this.data,xu,e),this.coords=new this.ArrayType(this.data,xu+c+d,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Qm<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Wg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:l,nodeSize:c}=this,d=[0,s.length-1,0],f=[];for(;d.length;){const p=d.pop()||0,v=d.pop()||0,y=d.pop()||0;if(v-y<=c){for(let b=y;b<=v;b++){const L=l[2*b],H=l[2*b+1];L>=e&&L<=r&&H>=n&&H<=i&&f.push(s[b])}continue}const S=y+v>>1,A=l[2*S],w=l[2*S+1];A>=e&&A<=r&&w>=n&&w<=i&&f.push(s[S]),(p===0?e<=A:n<=w)&&(d.push(y),d.push(S-1),d.push(1-p)),(p===0?r>=A:i>=w)&&(d.push(S+1),d.push(v),d.push(1-p))}return f}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:l}=this,c=[0,i.length-1,0],d=[],f=r*r;for(;c.length;){const p=c.pop()||0,v=c.pop()||0,y=c.pop()||0;if(v-y<=l){for(let b=y;b<=v;b++)GS(s[2*b],s[2*b+1],e,n)<=f&&d.push(i[b]);continue}const S=y+v>>1,A=s[2*S],w=s[2*S+1];GS(A,w,e,n)<=f&&d.push(i[S]),(p===0?e-r<=A:n-r<=w)&&(c.push(y),c.push(S-1),c.push(1-p)),(p===0?e+r>=A:n+r>=w)&&(c.push(S+1),c.push(v),c.push(1-p))}return d}}function Wg(t,e,n,r,i,s){if(i-r<=n)return;const l=r+i>>1;oN(t,e,l,r,i,s),Wg(t,e,n,r,l-1,1-s),Wg(t,e,n,l+1,i,1-s)}function oN(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const f=i-r+1,p=n-r+1,v=Math.log(f),y=.5*Math.exp(2*v/3),S=.5*Math.sqrt(v*y*(f-y)/f)*(p-f/2<0?-1:1),A=Math.max(r,Math.floor(n-p*y/f+S)),w=Math.min(i,Math.floor(n+(f-p)*y/f+S));oN(t,e,n,A,w,s)}const l=e[2*n+s];let c=r,d=i;for(yu(t,e,r,n),e[2*i+s]>l&&yu(t,e,r,i);c<d;){for(yu(t,e,c,d),c++,d--;e[2*c+s]<l;)c++;for(;e[2*d+s]>l;)d--}e[2*r+s]===l?yu(t,e,r,d):(d++,yu(t,e,d,i)),d<=n&&(r=d+1),n<=d&&(i=d-1)}}function yu(t,e,n,r){Zm(t,n,r),Zm(e,2*n,2*r),Zm(e,2*n+1,2*r+1)}function Zm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function GS(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const _$={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},zS=Math.fround||(t=>(e=>(t[0]=+e,t[0])))(new Float32Array(1)),Ao=2,Ls=3,eg=4,Os=5,lN=6;class E${constructor(e){this.options=Object.assign(Object.create(_$),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const l=[];for(let d=0;d<e.length;d++){const f=e[d];if(!f.geometry)continue;const[p,v]=f.geometry.coordinates,y=zS(f0(p)),S=zS(d0(v));l.push(y,S,1/0,d,-1,1),this.options.reduce&&l.push(0)}let c=this.trees[i+1]=this._createTree(l);n&&console.timeEnd(s);for(let d=i;d>=r;d--){const f=+Date.now();c=this.trees[d]=this._createTree(this._cluster(c,d)),n&&console.log("z%d: %d clusters in %dms",d,c.numItems,+Date.now()-f)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const v=this.getClusters([r,i,180,l],n),y=this.getClusters([-180,i,s,l],n);return v.concat(y)}const c=this.trees[this._limitZoom(n)],d=c.range(f0(r),d0(l),f0(s),d0(i)),f=c.data,p=[];for(const v of d){const y=this.stride*v;p.push(f[y+Os]>1?qS(f,y,this.clusterProps):this.points[f[y+Ls]])}return p}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const l=s.data;if(n*this.stride>=l.length)throw new Error(i);const c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),d=l[n*this.stride],f=l[n*this.stride+1],p=s.within(d,f,c),v=[];for(const y of p){const S=y*this.stride;l[S+eg]===e&&v.push(l[S+Os]>1?qS(l,S,this.clusterProps):this.points[l[S+Ls]])}if(v.length===0)throw new Error(i);return v}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:l,radius:c}=this.options,d=c/l,f=(r-d)/s,p=(r+1+d)/s,v={features:[]};return this._addTileFeatures(i.range((n-d)/s,f,(n+1+d)/s,p),i.data,n,r,s,v),n===0&&this._addTileFeatures(i.range(1-d/s,f,1,p),i.data,s,r,s,v),n===s-1&&this._addTileFeatures(i.range(0,f,d/s,p),i.data,-1,r,s,v),v.features.length?v:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const l=this.getChildren(n);for(const c of l){const d=c.properties;if(d&&d.cluster?s+d.point_count<=i?s+=d.point_count:s=this._appendLeaves(e,d.cluster_id,r,i,s):s<i?s++:e.push(c),e.length===r)break}return s}_createTree(e){const n=new p1(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,l){for(const c of e){const d=c*this.stride,f=n[d+Os]>1;let p,v,y;if(f)p=cN(n,d,this.clusterProps),v=n[d],y=n[d+1];else{const w=this.points[n[d+Ls]];p=w.properties;const[b,L]=w.geometry.coordinates;v=f0(b),y=d0(L)}const S={type:1,geometry:[[Math.round(this.options.extent*(v*s-r)),Math.round(this.options.extent*(y*s-i))]],tags:p};let A;f||this.options.generateId?A=n[d+Ls]:A=this.points[n[d+Ls]].id,A!==void 0&&(S.id=A),l.features.push(S)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:l}=this.options,c=r/(i*Math.pow(2,n)),d=e.data,f=[],p=this.stride;for(let v=0;v<d.length;v+=p){if(d[v+Ao]<=n)continue;d[v+Ao]=n;const y=d[v],S=d[v+1],A=e.within(d[v],d[v+1],c),w=d[v+Os];let b=w;for(const L of A){const H=L*p;d[H+Ao]>n&&(b+=d[H+Os])}if(b>w&&b>=l){let L=y*w,H=S*w,F,z=-1;const B=((v/p|0)<<5)+(n+1)+this.points.length;for(const j of A){const I=j*p;if(d[I+Ao]<=n)continue;d[I+Ao]=n;const N=d[I+Os];L+=d[I]*N,H+=d[I+1]*N,d[I+eg]=B,s&&(F||(F=this._map(d,v,!0),z=this.clusterProps.length,this.clusterProps.push(F)),s(F,this._map(d,I)))}d[v+eg]=B,f.push(L/b,H/b,1/0,B,-1,b),s&&f.push(z)}else{for(let L=0;L<p;L++)f.push(d[v+L]);if(b>1)for(const L of A){const H=L*p;if(!(d[H+Ao]<=n)){d[H+Ao]=n;for(let F=0;F<p;F++)f.push(d[H+F])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Os]>1){const l=this.clusterProps[e[n+lN]];return r?Object.assign({},l):l}const i=this.points[e[n+Ls]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}}function qS(t,e,n){return{type:"Feature",id:t[e+Ls],properties:cN(t,e,n),geometry:{type:"Point",coordinates:[T$(t[e]),S$(t[e+1])]}}}function cN(t,e,n){const r=t[e+Os],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+lN],l=s===-1?{}:Object.assign({},n[s]);return Object.assign(l,{cluster:!0,cluster_id:t[e+Ls],point_count:r,point_count_abbreviated:i})}function f0(t){return t/360+.5}function d0(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function T$(t){return(t-.5)*360}function S$(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function A$(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class di{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Qg{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(di.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>di.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(di.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class w${constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return C$(e)}}const C$=t=>t.map(n=>new Qg({position:di.getPosition(n),markers:[n]}));class uN extends w${constructor(e){var{maxZoom:n,radius:r=60}=e,i=A$(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new E$(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!Xg(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const l=di.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[l.lng(),l.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Xg(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Qg({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new Qg({markers:[i],position:di.getPosition(i)})}}class b${constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,l)=>s+l,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class N${render({count:e,position:n},r,i){const l=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,d=Number(google.maps.Marker.MAX_ZINDEX)+e;if(di.isAdvancedMarkerAvailable(i)){const v=new DOMParser().parseFromString(l,"image/svg+xml").documentElement;v.setAttribute("transform","translate(0 25)");const y={map:i,position:n,zIndex:d,title:c,content:v};return new google.maps.marker.AdvancedMarkerElement(y)}const f={position:n,zIndex:d,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(l)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(f)}}function I$(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class m1{constructor(){I$(m1,google.maps.OverlayView)}}var zu;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(zu||(zu={}));const R$=(t,e,n)=>{n.fitBounds(e.bounds)};class k$ extends m1{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new uN(r),renderer:s=new N$,onClusterClick:l=R$}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=l,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(di.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,zu.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const l of n)l.markers.length==1&&i.add(l.markers[0]);const s=[];for(const l of this.clusters)l.marker!=null&&(l.markers.length==1?i.has(l.marker)||di.setMap(l.marker,null):s.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(l=>di.setMap(l,null)))}google.maps.event.trigger(this,zu.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>di.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new b$(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>di.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,zu.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),di.setMap(r.marker,n)})}}const D$=({clients:t})=>{const e=xc(),n=he.useRef(0);return he.useEffect(()=>{if(!e||!window.google||t.length===0)return;if(Math.abs(t.length-n.current)>0){const i=new google.maps.LatLngBounds;let s=!1;if(t.forEach(l=>{l.lat&&l.lng&&(i.extend({lat:l.lat,lng:l.lng}),s=!0)}),s){e.fitBounds(i);const l=google.maps.event.addListenerOnce(e,"idle",()=>{e.getZoom()>16&&e.setZoom(16)});return n.current=t.length,()=>google.maps.event.removeListener(l)}}},[e,t]),null},M$=()=>{const t=xc();return t?T.jsxs("div",{className:"absolute bottom-6 right-4 flex flex-col gap-2 z-10 shadow-lg bg-transparent",children:[T.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)+1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom In",children:T.jsx(tv,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)-1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom Out",children:T.jsx(WI,{className:"w-5 h-5"})})]}):null},F$=t=>{switch(t){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},jS=t=>{let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=(e&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n},P$=(t,e=[],n)=>{if(n)return{bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};const r=e.find(i=>i.id===t.salespersonId);return r?r.color?{bg:r.color,border:"black",glyph:"#fff"}:{bg:jS(r.id+r.name),border:"black",glyph:"#fff"}:t.ownerName?{bg:jS(t.ownerName),border:"black",glyph:"#fff"}:F$(t.region)},O$=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,L$=({clients:t,onClientSelect:e,productFilterActive:n,users:r,isClusteringEnabled:i})=>{const s=xc(),l=he.useRef(null),c=he.useRef([]),d=he.useMemo(()=>{const f=document.createElement("div");return f.innerHTML=O$,f.style.display="flex",f.style.alignItems="center",f.style.justifyContent="center",f},[]);return he.useEffect(()=>{if(!s)return;if(!google.maps.marker){console.warn("Google Maps Marker library not loaded. Likely an invalid API Key.");return}l.current&&(l.current.clearMarkers(),l.current.setMap(null)),c.current.forEach(S=>{S.map=null,google.maps.event.clearInstanceListeners(S)}),c.current=[],i?l.current=new k$({map:s,markers:[],algorithm:new uN({maxZoom:13,radius:80})}):l.current=null;let f=!0,p=0;const v=500,y=()=>{if(!f||!google.maps.marker)return;const S=t.slice(p,p+v);if(S.length===0)return;const A=S.map(w=>{const b=P$(w,r,!!n);let L=null;n&&(L=d.cloneNode(!0),L.style.color=b.glyph);const H={background:b.bg,borderColor:b.border,glyphColor:b.glyph,scale:1};L&&(H.glyph=L);const F=new google.maps.marker.PinElement(H),z=new google.maps.marker.AdvancedMarkerElement({position:{lat:w.lat,lng:w.lng},content:F.element,map:i?null:s,title:w.companyName});return z.addListener("click",()=>{e(w.id)}),z});f&&(i&&l.current&&l.current.addMarkers(A),c.current.push(...A)),p+=v,p<t.length&&requestAnimationFrame(y)};return y(),()=>{f=!1,l.current&&(l.current.clearMarkers(),l.current.setMap(null)),c.current.forEach(S=>{S.map=null})}},[s,t,n,e,d,r,i]),T.jsx(D$,{clients:t})},U$=({clients:t,apiKey:e,onInvalidKey:n,productFilterActive:r,highlightProductTerm:i,activeProductCategory:s,users:l})=>{const c={lat:-14.235,lng:-51.9253},[d,f]=he.useState(null),[p,v]=he.useState(!1),[y,S]=he.useState(!1),[A,w]=he.useState(!0),b=t.find(z=>z.id===d);he.useEffect(()=>(e&&v(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),v(!0)},()=>{var B;window.gm_authFailure=()=>{};const z=document.getElementsByTagName("script");for(let j=z.length-1;j>=0;j--){const I=z[j];I.src&&I.src.includes("maps.googleapis.com/maps/api/js")&&((B=I.parentNode)==null||B.removeChild(I))}}),[e]);const L=he.useMemo(()=>{if(!(b!=null&&b.purchasedProducts))return[];const z=!!i,B=s&&s!=="Todos";if(!z&&!B)return b.purchasedProducts;const j=i?i.toLowerCase():"",I=s||"";return[...b.purchasedProducts].sort((N,C)=>{let P=0,D=0;return B&&N.category===I&&(P+=2),B&&C.category===I&&(D+=2),z&&((N.name.toLowerCase().includes(j)||N.sku.toLowerCase().includes(j)||N.brand.toLowerCase().includes(j)||N.factoryCode.toLowerCase().includes(j))&&(P+=1),(C.name.toLowerCase().includes(j)||C.sku.toLowerCase().includes(j)||C.brand.toLowerCase().includes(j)||C.factoryCode.toLowerCase().includes(j))&&(D+=1)),D-P})},[b,i,s]),H=()=>{S(!y)};if(!e)return T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:T.jsx(bm,{className:"w-8 h-8"})}),T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),T.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[T.jsx(bm,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(p)return T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:T.jsx(Ja,{className:"w-8 h-8"})}),T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),T.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),T.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[T.jsx(bm,{className:"w-4 h-4"})," Trocar API Key"]})]});const F=y?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-xl overflow-hidden shadow-sm border border-gray-200 relative z-0";return T.jsx("div",{className:F,children:T.jsx($j,{apiKey:e,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:T.jsxs(iN,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[T.jsx(L$,{clients:t,onClientSelect:f,productFilterActive:r,users:l,isClusteringEnabled:A}),T.jsx(M$,{}),T.jsxs("div",{className:"absolute top-4 right-16 flex gap-2 z-10",children:[T.jsx("button",{onClick:()=>w(!A),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${A?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:A?"Desativar Agrupamento":"Ativar Agrupamento",children:A?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex -space-x-1",children:[T.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),T.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):T.jsxs(T.Fragment,{children:[T.jsx(qu,{className:"w-3 h-3"}),"Solto"]})}),T.jsx("button",{onClick:H,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:y?"Sair da Tela Cheia":"Tela Cheia",children:y?T.jsx(JI,{className:"w-5 h-5"}):T.jsx(jI,{className:"w-5 h-5"})})]}),b&&T.jsx(v$,{position:{lat:b.lat,lng:b.lng},onCloseClick:()=>f(null),headerContent:T.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[T.jsx(ch,{className:"w-4 h-4 text-blue-600"}),b.companyName]}),children:T.jsx("div",{className:"min-w-[200px] max-w-[280px] p-1",children:T.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[T.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[T.jsx(ev,{className:"w-3 h-3"}),b.city," - ",b.state," (",b.region,")"]}),T.jsxs("p",{className:"flex items-center gap-2",children:[T.jsx($l,{className:"w-3 h-3 text-gray-400"}),T.jsx("span",{className:"font-medium text-gray-700",children:b.ownerName||"No informado"})]}),T.jsxs("p",{className:"flex items-center gap-2",children:[T.jsx(rR,{className:"w-3 h-3 text-gray-400"}),T.jsx("span",{className:"font-medium text-gray-700",children:b.contact||"Sem contato"})]}),T.jsxs("p",{className:"flex items-start gap-2",children:[T.jsx(qu,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),T.jsx("span",{className:"leading-tight",children:b.cleanAddress})]}),r&&L.length>0&&T.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[T.jsxs("p",{className:"text-[10px] uppercase font-bold text-rose-600 mb-1 flex items-center gap-1",children:[T.jsx(WS,{className:"w-3 h-3"}),"Produtos Vendidos (Filtro)"]}),T.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1 pr-1 custom-scrollbar",children:[L.slice(0,3).map((z,B)=>{const j=(i==null?void 0:i.toLowerCase())||"",I=j&&(z.name.toLowerCase().includes(j)||z.sku.toLowerCase().includes(j)||z.brand.toLowerCase().includes(j)||z.factoryCode.toLowerCase().includes(j));return T.jsxs("div",{className:`${I?"bg-rose-100 border-rose-300":"bg-rose-50 border-rose-100"} p-1.5 rounded border flex justify-between items-center transition-colors`,children:[T.jsxs("div",{className:"flex flex-col overflow-hidden max-w-[120px]",children:[T.jsx("span",{className:`truncate font-medium ${I?"text-rose-950 font-bold":"text-rose-900"}`,title:z.name,children:z.name}),T.jsxs("span",{className:"text-[9px] text-gray-500 truncate",children:[z.sku,"  ",z.brand]})]}),T.jsx("span",{className:"text-rose-700 font-bold",children:z.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},B)}),L.length>3&&T.jsxs("p",{className:"text-[10px] text-center text-gray-400 italic",children:["e mais ",L.length-3," itens..."]})]})]}),T.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[T.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[T.jsx(nv,{className:"w-3 h-3 mr-1"}),b.category.join(", ")]}),T.jsx("a",{href:b.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${b.lat},${b.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},V$=({client:t,isOpen:e,onClose:n,onSave:r})=>{const[i,s]=he.useState(()=>({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]}));if(Kn.useEffect(()=>{s({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]})},[t]),!e)return null;const l=d=>{d.preventDefault(),r(i),n()},c=d=>{const{name:f,value:p}=d.target;s(v=>{const y={[f]:p};return f==="state"&&(y.region=rv(p)),{...v,...y}})};return T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:T.jsxs("div",{className:"bg-surface-container-high w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx(ch,{className:"w-5 h-5 text-primary"}),T.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),T.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),T.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:t.id})]}),T.jsx("button",{onClick:n,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",children:T.jsx(Po,{className:"w-6 h-6"})})]}),T.jsxs("form",{onSubmit:l,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),T.jsx("input",{type:"text",name:"companyName",value:i.companyName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),T.jsx("input",{type:"text",name:"ownerName",value:i.ownerName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Contato"}),T.jsx("input",{type:"text",name:"contact",value:i.contact,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),T.jsxs("div",{className:"md:col-span-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),T.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:$u.filter(d=>d!=="Todos").map(d=>{const f=i.category.includes(d);return T.jsx("button",{type:"button",onClick:()=>{s(p=>{const v=p.category||[];return v.includes(d)?v.length===1?p:{...p,category:v.filter(y=>y!==d)}:{...p,category:[...v,d]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${f?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:d},d)})})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),T.jsxs("div",{className:"relative",children:[T.jsxs("select",{name:"region",value:i.region,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",children:[T.jsx("option",{value:"Indefinido",children:"Indefinido"}),uh.map(d=>T.jsx("option",{value:d,children:d},d))]}),T.jsx(ev,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Municpio"}),T.jsx("input",{type:"text",name:"city",value:i.city,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"UF"}),T.jsx("input",{type:"text",name:"state",maxLength:2,value:i.state,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all uppercase"})]})]}),T.jsxs("div",{className:"space-y-1 pt-2",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),T.jsx("input",{type:"text",name:"cleanAddress",value:i.cleanAddress,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]})]}),T.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[T.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),T.jsxs("button",{type:"submit",onClick:l,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[T.jsx(lh,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},B$=({isOpen:t,onClose:e,onAdd:n,salespersonId:r,ownerName:i})=>{const[s,l]=he.useState({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),[c,d]=he.useState(""),[f,p]=he.useState(!1);if(he.useEffect(()=>{t&&(l({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),d(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async A=>{},A=>{console.warn("Location access denied or error:",A)}))},[t]),!t)return null;const v=(A,w)=>{l(b=>{const L={[A]:w};return A==="state"&&(L.region=rv(w)),{...b,...L}}),c&&d("")},y=A=>{l(w=>{const b=w.category;return b.includes(A)?b.length===1?w:{...w,category:b.filter(L=>L!==A)}:{...w,category:[...b,A]}})},S=A=>{if(A.preventDefault(),!s.companyName||!s.originalAddress||!s.city||!s.state||!s.contact){d("Por favor, preencha todos os campos obrigatrios (*).");return}p(!0);const w=`${s.originalAddress}, ${s.city} - ${s.state}`;n({companyName:s.companyName,ownerName:s.ownerName||"No Informado",contact:s.contact,category:s.category,region:s.region,state:s.state,city:s.city,originalAddress:w,salespersonId:r,googleMapsUri:""}),p(!1),e()};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx(ch,{className:"w-5 h-5 text-primary"}),T.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),T.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),T.jsx("button",{onClick:e,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:T.jsx(Po,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:T.jsxs("form",{id:"add-client-form",onSubmit:S,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),T.jsx("input",{type:"text",required:!0,value:s.companyName,onChange:A=>v("companyName",A.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),T.jsx("input",{type:"text",value:s.ownerName,onChange:A=>v("ownerName",A.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),T.jsx("input",{type:"text",required:!0,value:s.contact,onChange:A=>v("contact",A.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),T.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:$u.filter(A=>A!=="Todos").map(A=>{const w=s.category.includes(A);return T.jsx("button",{type:"button",onClick:()=>y(A),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${w?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:A},A)})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),T.jsxs("div",{className:"relative",children:[T.jsx("select",{value:s.region,onChange:A=>v("region",A.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:uh.map(A=>T.jsx("option",{value:A,children:A},A))}),T.jsx(ev,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),T.jsx("input",{type:"text",required:!0,value:s.city,onChange:A=>v("city",A.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),T.jsxs("div",{className:"relative",children:[T.jsx("select",{required:!0,value:s.state,onChange:A=>v("state",A.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(A=>T.jsx("option",{value:A,children:A},A))}),T.jsx(qu,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),T.jsx("textarea",{rows:2,required:!0,value:s.originalAddress,onChange:A=>v("originalAddress",A.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none resize-none transition-colors",placeholder:"Rua, Nmero, Bairro, CEP"}),T.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),c&&T.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[T.jsx(Ja,{className:"w-5 h-5"}),c]}),T.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:T.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[T.jsx(qu,{className:"w-4 h-4 shrink-0"}),T.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})})]})}),T.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[T.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:f,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:f?"Salvando...":T.jsxs(T.Fragment,{children:[T.jsx(lh,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},H$=({clients:t,onUpdateClient:e,onAddClient:n,currentUserRole:r,currentUserId:i,currentUserName:s})=>{const[l,c]=he.useState(""),[d,f]=he.useState("Todos"),[p,v]=he.useState("Todos"),[y,S]=he.useState(null),[A,w]=he.useState(!1),[b,L]=he.useState(!1),H=he.useMemo(()=>t.filter(B=>{const j=B.companyName.toLowerCase().includes(l.toLowerCase())||B.ownerName.toLowerCase().includes(l.toLowerCase()),I=d==="Todos"||B.region===d,N=p==="Todos"||Array.isArray(B.category)&&B.category.some(C=>C.trim()===p.trim());return j&&I&&N}),[t,l,d,p]),F=()=>{const B=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","Link Maps"],j=H.map(k=>[k.id,k.companyName,k.ownerName,k.contact,k.cleanAddress,k.city,k.state,k.region,k.category.join("; "),k.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${k.lat},${k.lng}`]),I=k=>{if(k==null)return"";const U=String(k);return U.includes('"')||U.includes(",")||U.includes(`
`)?`"${U.replace(/"/g,'""')}"`:U},N=[B.join(","),...j.map(k=>k.map(I).join(","))].join(`
`),C=new Blob([`\uFEFF${N}`],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(C),D=document.createElement("a");D.setAttribute("href",P),D.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},z=B=>{S(B),w(!0)};return T.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50",children:[T.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 shadow-sm z-10",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex flex-wrap items-center gap-3 flex-1",children:[T.jsxs("div",{className:"relative group w-full md:w-64",children:[T.jsx(ju,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),T.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",value:l,onChange:B=>c(B.target.value),className:"pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white focus:outline-none w-full transition-all"})]}),T.jsx("div",{className:"h-8 w-px bg-gray-200 hidden md:block"}),T.jsxs("select",{value:d,onChange:B=>f(B.target.value),className:"bg-gray-50 border border-gray-200 rounded-lg text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-100 transition-colors cursor-pointer",children:[T.jsx("option",{value:"Todos",children:"Todas Regies"}),uh.map(B=>T.jsx("option",{value:B,children:B},B))]}),T.jsx("select",{value:p,onChange:B=>v(B.target.value),className:"bg-gray-50 border border-gray-200 rounded-lg text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-100 transition-colors cursor-pointer",children:$u.map(B=>T.jsx("option",{value:B,children:B==="Todos"?"Todos Segmentos":B},B))})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[r==="salesperson"&&n&&T.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95",children:[T.jsx(tv,{className:"w-5 h-5"}),"Novo Cliente"]}),T.jsxs("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 hover:text-green-600 hover:border-green-200 transition-all shadow-sm",title:"Baixar lista em Excel/CSV",children:[T.jsx(SI,{className:"w-4 h-4"}),T.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]})]})]}),T.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium",children:["Exibindo ",H.length," de ",t.length," clientes"]})]}),T.jsx("div",{className:"overflow-x-auto bg-surface flex-1 custom-scrollbar relative p-4",children:H.length===0?T.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center text-on-surface-variant animate-fade-in",children:[T.jsx("div",{className:"bg-surface-container-highest p-4 rounded-full mb-3",children:T.jsx(ju,{className:"w-8 h-8 opacity-50"})}),T.jsx("p",{className:"text-sm",children:"Nenhum cliente encontrado com os filtros atuais."})]}):T.jsx("div",{className:"grid gap-3 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:H.map(B=>T.jsxs("div",{className:"bg-surface-container-low border border-outline-variant/30 rounded-xl p-4 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 p-0",children:T.jsx("span",{className:`px-3 py-1 rounded-bl-xl text-[10px] font-bold uppercase tracking-wider
                        ${B.region==="Nordeste"?"bg-orange-100 text-orange-800":B.region==="Sudeste"?"bg-blue-100 text-blue-800":B.region==="Sul"?"bg-purple-100 text-purple-800":B.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:B.region})}),T.jsxs("div",{className:"flex items-start gap-4 pr-12",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:B.companyName.charAt(0).toUpperCase()}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",children:B.companyName}),T.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant mt-0.5",children:[T.jsx(nv,{className:"w-3 h-3"}),T.jsx("span",{className:"truncate",children:B.category.join(", ")})]})]})]}),T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[T.jsx(ch,{className:"w-4 h-4 shrink-0"}),T.jsx("span",{className:"truncate",children:B.ownerName})]}),T.jsxs("a",{href:B.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${B.lat},${B.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-2 text-sm text-on-surface-variant hover:text-primary transition-colors group/link",children:[T.jsx(qu,{className:"w-4 h-4 shrink-0 mt-0.5"}),T.jsx("span",{className:"line-clamp-2 group-hover/link:underline",children:B.cleanAddress}),T.jsx(wI,{className:"w-3 h-3 opacity-0 group-hover/link:opacity-100 transition-opacity ml-auto"})]})]}),T.jsx("div",{className:"mt-4 pt-3 border-t border-outline-variant/20 flex items-center justify-end gap-2",children:T.jsxs("button",{onClick:()=>z(B),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-primary hover:bg-primary-container/30 rounded-full transition-colors",children:[T.jsx(eR,{className:"w-3.5 h-3.5"})," Editar"]})})]},B.id))})}),y&&T.jsx(V$,{isOpen:A,client:y,onClose:()=>w(!1),onSave:B=>{e(B),S(null)}}),n&&i&&T.jsx(B$,{isOpen:b,onClose:()=>L(!1),onAdd:n,salespersonId:i,ownerName:s||"Vendedor"})]})},G$=({users:t,onLogin:e})=>{const[n,r]=he.useState("login"),[i,s]=he.useState(""),[l,c]=he.useState(""),[d,f]=he.useState(""),[p,v]=he.useState(""),[y,S]=he.useState(""),[A,w]=he.useState(""),[b,L]=he.useState(!1),H=I=>{I.preventDefault();const N=t.find(C=>C.username.toLowerCase()===i.toLowerCase());N&&N.password===l?e(N):f("Credenciais invlidas. Tente novamente.")},F=()=>{f(""),w(""),v(""),S("")},z=I=>{F(),r(I)},B=async I=>{I.preventDefault(),f(""),L(!0),await new Promise(C=>setTimeout(C,1500));const N=t.find(C=>{var P;return((P=C.email)==null?void 0:P.toLowerCase())===p.toLowerCase()});w(N?`Seu usurio foi enviado para: ${p}`:"Se este e-mail estiver cadastrado, voc receber seu usurio em breve."),L(!1)},j=async I=>{I.preventDefault(),f(""),L(!0),await new Promise(C=>setTimeout(C,1500));const N=t.find(C=>{var P;return C.username.toLowerCase()===y.toLowerCase()||((P=C.email)==null?void 0:P.toLowerCase())===y.toLowerCase()});N&&N.email?w(`Instrues de redefinio enviadas para: ${N.email}`):w("Se os dados estiverem corretos, enviamos as instrues para o seu e-mail de cadastro."),L(!1)};return T.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),T.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[T.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[n!=="login"&&T.jsx("button",{onClick:()=>z("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:T.jsx(sI,{className:"w-6 h-6"})}),T.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:T.jsx(cR,{className:"w-7 h-7 text-white"})}),T.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),T.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),T.jsxs("div",{className:"p-8 space-y-6",children:[n==="login"&&T.jsxs("form",{onSubmit:H,className:"space-y-6 pt-2 animate-fade-in",children:[T.jsx("div",{className:"text-center pb-2",children:T.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),T.jsxs("div",{className:"relative",children:[T.jsx($l,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"text",value:i,onChange:I=>s(I.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),T.jsx("div",{className:"text-right mt-1",children:T.jsx("button",{type:"button",onClick:()=>z("forgot_user"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci o usurio"})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),T.jsxs("div",{className:"relative",children:[T.jsx(ng,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"password",value:l,onChange:I=>c(I.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),T.jsx("div",{className:"text-right mt-1",children:T.jsx("button",{type:"button",onClick:()=>z("forgot_pass"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci a senha"})})]})]}),d&&T.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[T.jsx(Ja,{className:"w-4 h-4 flex-shrink-0"}),d]}),T.jsxs("button",{type:"submit",className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:["Entrar ",T.jsx(lI,{className:"w-4 h-4"})]})]}),n==="forgot_user"&&T.jsxs("div",{className:"animate-fade-in space-y-6",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx($l,{className:"w-8 h-8 text-blue-600"})}),T.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recuperar Usurio"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu e-mail cadastrado. Enviaremos seu nome de usurio para ele."})]}),A?T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[T.jsx(A0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),T.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"E-mail Enviado!"}),T.jsx("p",{className:"text-sm text-green-700",children:A}),T.jsx("button",{onClick:()=>z("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):T.jsxs("form",{onSubmit:B,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"E-mail Cadastrado"}),T.jsxs("div",{className:"relative",children:[T.jsx(BI,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"email",required:!0,value:p,onChange:I=>v(I.target.value),placeholder:"exemplo@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),T.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[b?"Enviando...":"Recuperar Usurio",!b&&T.jsx(J_,{className:"w-4 h-4"})]})]})]}),n==="forgot_pass"&&T.jsxs("div",{className:"animate-fade-in space-y-6",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"bg-orange-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(ng,{className:"w-8 h-8 text-orange-600"})}),T.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Redefinir Senha"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu usurio ou e-mail. Enviaremos as instrues de redefinio."})]}),A?T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[T.jsx(A0,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),T.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"Sucesso!"}),T.jsx("p",{className:"text-sm text-green-700",children:A}),T.jsx("button",{onClick:()=>z("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):T.jsxs("form",{onSubmit:j,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio ou E-mail"}),T.jsxs("div",{className:"relative",children:[T.jsx($l,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"text",required:!0,value:y,onChange:I=>S(I.target.value),placeholder:"Digite seu usurio ou email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),T.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[b?"Enviando...":"Enviar Instrues",!b&&T.jsx(J_,{className:"w-4 h-4"})]})]})]})]})]})]})},z$=({users:t,onAddUser:e,onUpdateUser:n,onDeleteUser:r,onCleanupDuplicates:i,totalClients:s})=>{const[l,c]=he.useState(null),[d,f]=he.useState(""),[p,v]=he.useState(""),[y,S]=he.useState(""),[A,w]=he.useState("salesperson"),[b,L]=he.useState("Externo"),[H,F]=he.useState("#3B82F6"),[z,B]=he.useState("Todos"),j=()=>{c(null),f(""),v(""),S(""),w("salesperson"),L("Externo"),F("#3B82F6")},I=D=>{c(D.id),f(D.name),v(D.username),S(D.password||""),w(D.role),L(D.salesCategory||"N/A"),F(D.color||"#3B82F6"),window.scrollTo({top:0,behavior:"smooth"})},N=D=>{if(D.preventDefault(),!d||!p||!y)return;const k={id:l||Date.now().toString(),name:d,username:p,role:A,password:y,salesCategory:A==="salesperson"?b:"N/A",color:A==="salesperson"?H:void 0};l?n(k):e(k),j()},C=t.filter(D=>z==="Todos"?!0:D.role==="admin"?!1:D.salesCategory===z),P=["Todos","Externo","Interno","Mercado Livre"];return T.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[T.jsxs("div",{className:`bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 transition-all border ${l?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${l?"text-primary":"text-on-surface"}`,children:[l?T.jsx(Nm,{className:"w-5 h-5"}):T.jsx(W_,{className:"w-5 h-5 text-primary"}),l?"Editar Usurio":"Cadastrar Novo Usurio"]}),l&&T.jsxs("button",{onClick:j,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[T.jsx(Po,{className:"w-4 h-4"})," Cancelar Edio"]})]}),T.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"lg:col-span-2",children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),T.jsx("input",{type:"text",value:d,onChange:D=>f(D.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),T.jsx("input",{type:"text",value:p,onChange:D=>v(D.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),T.jsx("input",{type:"text",value:y,onChange:D=>S(D.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),T.jsxs("select",{value:A,onChange:D=>w(D.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[T.jsx("option",{value:"salesperson",children:"Vendedor"}),T.jsx("option",{value:"admin",children:"Administrador"})]})]}),A==="salesperson"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),T.jsxs("select",{value:b,onChange:D=>L(D.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[T.jsx("option",{value:"Externo",children:"Externo"}),T.jsx("option",{value:"Interno",children:"Interno"}),T.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"color",value:H,onChange:D=>F(D.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),T.jsx("input",{type:"text",value:H,onChange:D=>F(D.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),T.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:T.jsxs("button",{type:"submit",disabled:!d||!p||!y,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${l?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[l?T.jsx(lh,{className:"w-4 h-4"}):T.jsx(W_,{className:"w-4 h-4"}),l?"Salvar Alteraes":"Criar Acesso"]})})]})]}),T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 overflow-hidden",children:[T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[T.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[T.jsx($l,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",C.length,")"]}),T.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[T.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[T.jsx(Ja,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),T.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",T.jsx("strong",{children:s}),s>143&&T.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),T.jsxs("button",{onClick:i,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[T.jsx(Ja,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),T.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:P.map(D=>T.jsx("button",{onClick:()=>B(D),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${z===D?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:D},D))})]}),T.jsx("div",{className:"hidden md:block overflow-x-auto",children:T.jsxs("table",{className:"w-full text-sm text-left",children:[T.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),T.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),T.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[C.map(D=>T.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${l===D.id?"bg-primary-container/30":""}`,children:[T.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:D.name}),T.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:D.username}),T.jsx("td",{className:"px-6 py-4",children:T.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${D.role==="admin"?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:D.role==="admin"?"Admin":"Vendedor"})}),T.jsx("td",{className:"px-6 py-4",children:D.role==="salesperson"?T.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[T.jsx(JS,{className:"w-3.5 h-3.5"}),D.salesCategory||"N/A"]}):T.jsx("span",{className:"text-outline-variant",children:"-"})}),T.jsx("td",{className:"px-6 py-4",children:D.role==="salesperson"&&D.color?T.jsx("div",{className:"flex items-center gap-2",title:D.color,children:T.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:D.color}})}):T.jsx("span",{className:"text-outline-variant",children:"-"})}),T.jsx("td",{className:"px-6 py-4 text-right",children:T.jsxs("div",{className:"flex items-center justify-end gap-2",children:[T.jsx("button",{onClick:()=>I(D),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:T.jsx(Nm,{className:"w-4 h-4"})}),D.username!=="admin"&&T.jsx("button",{onClick:()=>r(D.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:T.jsx(Fo,{className:"w-4 h-4"})})]})})]},D.id)),C.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),T.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[C.map(D=>T.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${l===D.id?"bg-primary-container/30 border-primary/30":""}`,children:[T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-on-surface",children:D.name}),T.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",D.username]})]}),T.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${D.role==="admin"?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:D.role==="admin"?"Admin":"Vendedor"})]}),T.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[T.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[T.jsx("span",{children:"Categoria:"}),T.jsx("span",{className:"font-medium text-on-surface",children:D.salesCategory||"-"})]}),T.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[T.jsx("span",{children:"Senha:"}),T.jsx("span",{className:"font-mono",children:D.password||"***"})]})]}),T.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[T.jsxs("button",{onClick:()=>I(D),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[T.jsx(Nm,{className:"w-3.5 h-3.5"})," Editar"]}),D.username!=="admin"&&T.jsxs("button",{onClick:()=>r(D.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[T.jsx(Fo,{className:"w-3.5 h-3.5"})," Remover"]})]})]},D.id)),C.length===0&&T.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},q$=({categories:t,onAddCategory:e,onDeleteCategory:n})=>{const[r,i]=he.useState(""),s=l=>{l.preventDefault(),r.trim()&&(e(r.trim()),i(""))};return T.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[T.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[T.jsx(XS,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),T.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),T.jsxs("form",{onSubmit:s,className:"flex gap-3 mb-8",children:[T.jsxs("div",{className:"relative flex-1",children:[T.jsx(nv,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),T.jsx("input",{type:"text",value:r,onChange:l=>i(l.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),T.jsxs("button",{type:"submit",disabled:!r.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[T.jsx(tv,{className:"w-4 h-4"})," Adicionar"]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[t.map(l=>T.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[T.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[T.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),l]}),T.jsx("button",{onClick:()=>n(l),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:T.jsx(Fo,{className:"w-4 h-4"})})]},l)),t.length===0&&T.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},j$=({products:t,onUploadProducts:e,onClearProducts:n,onSaveProducts:r,apiKey:i})=>{const[s,l]=he.useState(!1),[c,d]=he.useState(""),[f,p]=he.useState(!1),[v,y]=he.useState({current:0,total:0}),[S,A]=he.useState([]),[w,b]=he.useState(null),[L,H]=he.useState(!1);he.useEffect(()=>{A(t),H(!1)},[t]);const F=async k=>{var Ee;const U=(Ee=k.target.files)==null?void 0:Ee[0];if(U){l(!0);try{let Se=[];const ae=U.name.toLowerCase();if(ae.endsWith(".csv"))Se=await nA(U);else if(ae.endsWith(".xlsx")||ae.endsWith(".xls"))Se=await Uw(U);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");e(Se),k.target.value=""}catch(Se){console.error("Error parsing products:",Se),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{l(!1)}}},z=()=>{r&&(r(S),H(!1),alert("Alteraes salvas com sucesso!"))},B=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(S.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${S.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){p(!0),y({current:0,total:S.length});try{const k=await QB(S,i,(U,Ee)=>{y({current:U,total:Ee})});A(k),H(!0),alert(` ${k.length} produtos foram categorizados pela IA!`)}catch(k){console.error("AI Categorization failed",k),alert(`Erro ao categorizar produtos: ${k.message||"Erro desconhecido"}`)}finally{p(!1),y({current:0,total:0})}}},j=(k,U,Ee)=>{const Se=[...S];Se[k]={...Se[k],[U]:Ee},A(Se),H(!0)},I=k=>{let U="asc";w&&w.key===k&&w.direction==="asc"&&(U="desc"),b({key:k,direction:U})},N=k=>w?[...k].sort((U,Ee)=>{let Se=U[w.key],ae=Ee[w.key];return w.key==="price"||w.key==="discount"?(Se=Number(Se||0),ae=Number(ae||0)):(Se=String(Se||"").toLowerCase(),ae=String(ae||"").toLowerCase()),Se<ae?w.direction==="asc"?-1:1:Se>ae?w.direction==="asc"?1:-1:0}):k,C=S.map((k,U)=>({...k,originalIndex:U})).filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.sku.toLowerCase().includes(c.toLowerCase())||k.brand.toLowerCase().includes(c.toLowerCase())||k.factoryCode.toLowerCase().includes(c.toLowerCase())),P=N(C),D=({column:k})=>(w==null?void 0:w.key)!==k?T.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):w.direction==="asc"?T.jsx(uI,{className:"w-3 h-3 ml-1 inline-block text-primary"}):T.jsx(iI,{className:"w-3 h-3 ml-1 inline-block text-primary"});return T.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[T.jsx(jl,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),T.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),T.jsxs("div",{className:"flex gap-3",children:[L&&T.jsxs("button",{onClick:z,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[T.jsx(lh,{className:"w-4 h-4"})," Salvar Alteraes"]}),t.length>0&&T.jsxs("button",{onClick:B,disabled:f,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[f?T.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):T.jsx(X_,{className:"w-4 h-4"}),f?"Processando...":"IA Classificar"]}),t.length>0&&T.jsxs("button",{onClick:n,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[T.jsx(Fo,{className:"w-4 h-4"})," Limpar"]}),T.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${s?"opacity-50 pointer-events-none":""}`,children:[s?T.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):T.jsx(_R,{className:"w-4 h-4"}),s?"Processando...":"Importar CSV",T.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:F})]})]})]}),t.length===0?T.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[T.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:T.jsx(h0,{className:"w-8 h-8 text-outline"})}),T.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),T.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):T.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[T.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[T.jsx(ju,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),T.jsx("input",{type:"text",value:c,onChange:k=>d(k.target.value),placeholder:"Filtrar por SKU, Marca, Cdigo ou Descrio...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),T.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:T.jsxs("table",{className:"w-full text-sm text-left",children:[T.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:T.jsxs("tr",{children:[T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>I("sku"),children:["SKU ",T.jsx(D,{column:"sku"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("brand"),children:["Marca ",T.jsx(D,{column:"brand"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("factoryCode"),children:["Cd. Fbrica ",T.jsx(D,{column:"factoryCode"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>I("name"),children:["Descrio ",T.jsx(D,{column:"name"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>I("category"),children:["Categoria ",T.jsx(D,{column:"category"})]}),T.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("price"),children:["Preo (R$) ",T.jsx(D,{column:"price"})]}),T.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>I("discount"),children:["Desc. (%) ",T.jsx(D,{column:"discount"})]})]})}),T.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:P.map(k=>T.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[T.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:k.sku}),T.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs",children:k.brand}),T.jsx("td",{className:"px-4 py-2 font-mono text-xs text-on-surface-variant",children:k.factoryCode}),T.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:k.name,children:k.name}),T.jsx("td",{className:"px-2 py-2",children:T.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.category,onChange:U=>j(k.originalIndex,"category",U.target.value)})}),T.jsx("td",{className:"px-2 py-2 text-right",children:T.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.price,onChange:U=>j(k.originalIndex,"price",parseFloat(U.target.value)||0)})}),T.jsx("td",{className:"px-2 py-2 text-right",children:T.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.discount||0,onChange:U=>j(k.originalIndex,"discount",parseFloat(U.target.value)||0)})})]},`${k.sku}-${k.originalIndex}`))})]})}),T.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[P.map(k=>T.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:k.sku}),T.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:k.name}),T.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:k.brand})]}),T.jsx("div",{className:"text-right",children:T.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:k.factoryCode})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Categoria"}),T.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:k.category,onChange:U=>j(k.originalIndex,"category",U.target.value)})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),T.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:k.discount||0,onChange:U=>j(k.originalIndex,"discount",parseFloat(U.target.value)||0)})]})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),T.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:k.price,onChange:U=>j(k.originalIndex,"price",parseFloat(U.target.value)||0)})]})]},`${k.sku}-${k.originalIndex}`)),P.length===0&&T.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),T.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[T.jsxs("span",{children:["Total de Produtos: ",T.jsx("strong",{children:S.length})]}),T.jsxs("span",{children:["Exibindo: ",T.jsx("strong",{children:P.length})]})]})]})]}),f&&T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[T.jsx(X_,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),T.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&p(!1)},className:"text-on-surface-variant hover:text-on-surface",children:T.jsx(Po,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[T.jsx("span",{children:"Processando produtos..."}),T.jsxs("span",{className:"font-mono font-bold text-primary",children:[v.current," / ",v.total]})]}),T.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${v.current/v.total*100}%`}})}),T.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},$$=({isOpen:t,onClose:e,onSaveToCloud:n,onClearDatabase:r,isFirebaseConnected:i=!1})=>{const[s,l]=he.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[c,d]=he.useState("idle"),[f,p]=he.useState("");he.useEffect(()=>{if(t){const A=Xb();A&&(l(A),d("success"),p("Configurao salva encontrada."))}},[t]);const v=A=>{l({...s,[A.target.name]:A.target.value}),d("idle"),p("")},y=async()=>{if(d("testing"),p("Testando conexo..."),!s.apiKey||!s.projectId){d("error"),p("Campos obrigatrios faltando.");return}try{await Wb(s)?(Fj(s),d("success"),p("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(d("error"),p("Falha ao conectar. Verifique as credenciais."))}catch(A){d("error"),p("Erro: "+A.message)}},S=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(Pj(),l({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),d("idle"),p("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return t?T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:T.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[T.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:T.jsx(tg,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold",children:"Configurao de Nuvem"}),T.jsx("p",{className:"text-xs text-slate-400",children:"Sincronizao via Firebase Firestore"})]})]}),T.jsx("button",{onClick:e,className:"text-white/50 hover:text-white",children:""})]}),T.jsxs("div",{className:"p-6 space-y-4",children:[T.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-blue-50 p-3 rounded border border-blue-100",children:["Insira os dados do seu projeto Firebase. Voc pode encontrar isso no Console do Firebase ",">"," Configuraes do Projeto ",">"," Seus aplicativos."]}),T.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[T.jsx("input",{type:"text",name:"apiKey",placeholder:"apiKey",value:s.apiKey,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"authDomain",placeholder:"authDomain",value:s.authDomain,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"projectId",placeholder:"projectId",value:s.projectId,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"storageBucket",placeholder:"storageBucket",value:s.storageBucket,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"messagingSenderId",placeholder:"messagingSenderId",value:s.messagingSenderId,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"appId",placeholder:"appId",value:s.appId,onChange:v,className:"text-xs p-2 border rounded"})]}),f&&T.jsxs("div",{className:`text-xs p-2 rounded flex items-center gap-2 ${c==="error"?"bg-red-50 text-red-600":c==="success"?"bg-green-50 text-green-600":"bg-gray-50 text-gray-600"}`,children:[c==="testing"&&T.jsx(bu,{className:"w-3 h-3 animate-spin"}),c==="success"&&T.jsx(A0,{className:"w-3 h-3"}),f]})]}),i&&n&&r&&T.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[T.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-3",children:"Aes da Nuvem"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[T.jsx(tg,{className:"w-4 h-4"}),"Salvar na Nuvem"]}),T.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[T.jsx(Fo,{className:"w-4 h-4"}),"Limpar Base"]})]})]}),T.jsxs("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-2",children:[c==="success"&&T.jsxs("button",{onClick:S,className:"px-4 py-2 text-red-500 text-xs font-bold hover:bg-red-50 rounded transition-colors mr-auto flex items-center gap-1",children:[T.jsx(Fo,{className:"w-3 h-3"})," Desconectar"]}),T.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium text-sm hover:bg-gray-200 rounded-lg",children:"Cancelar"}),T.jsx("button",{onClick:y,disabled:c==="testing",className:"px-6 py-2 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:c==="testing"?"Verificando...":"Salvar e Conectar"})]})]})}):null},Y$=({onAccept:t,onDecline:e})=>{const[n,r]=he.useState(!1);he.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const c=setTimeout(()=>r(!0),1500);return()=>clearTimeout(c)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),r(!1),t()},s=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),r(!1),e()};return n?T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 animate-slide-up",children:T.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600 shrink-0",children:T.jsx(EI,{className:"w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Este site utiliza cookies e armazenamento local"}),T.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Ns armazenamos dados no seu navegador para garantir que o sistema carregue instantaneamente na prxima vez que voc acessar (cache offline). Isso permite que voc trabalhe mais rpido e at mesmo sem internet."})]})]}),T.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[T.jsx("button",{onClick:s,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Agora no"}),T.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[T.jsx(A0,{className:"w-4 h-4"}),"Permitir Cache Rpido"]})]})]})}):null},K$=({users:t,uploadedFiles:e,onUploadClients:n,onUploadProducts:r,onDeleteFile:i,onReassignSalesperson:s,procState:l={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,d]=he.useState("clients"),[f,p]=he.useState(""),[v,y]=he.useState([]),S=F=>{if(F.target.files&&F.target.files.length>0){const z=Array.from(F.target.files).map(B=>({file:B,targetUserId:f||""}));y(B=>[...B,...z]),F.target.value=""}},A=F=>{y(z=>z.filter((B,j)=>j!==F))},w=(F,z)=>{y(B=>{const j=[...B];return j[F].targetUserId=z,j})},b=async()=>{const F=v.filter(z=>z.targetUserId);if(F.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const z of F)await n(z.file,z.targetUserId,!0);y([])},L=F=>{var B;const z=(B=F.target.files)==null?void 0:B[0];z&&(r(z),F.target.value="")},H=e.filter(F=>F.type===c);return T.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[T.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:T.jsxs("div",{children:[T.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[T.jsx(w0,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),T.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),T.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[T.jsxs("button",{onClick:()=>d("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[T.jsx(rg,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&T.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),T.jsxs("button",{onClick:()=>d("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[T.jsx(jl,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&T.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),(l==null?void 0:l.isActive)&&T.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${l.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[l.status==="processing"||l.status==="reading"?T.jsx(bu,{className:"w-5 h-5 animate-spin"}):l.status==="completed"?T.jsx(Cu,{className:"w-5 h-5"}):T.jsx(Ja,{className:"w-5 h-5"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-sm",children:l.status==="reading"?"Lendo arquivo...":l.status==="processing"?"Processando dados...":l.status==="completed"?"Importao Concluda!":"Erro na Importao"}),l.errorMessage&&T.jsx("p",{className:"text-xs mt-1 opacity-80",children:l.errorMessage})]})]}),T.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[T.jsx("div",{className:"lg:col-span-4",children:T.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[T.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[T.jsx(X$,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?T.jsxs("div",{className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),T.jsxs("div",{className:"relative",children:[T.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:f,onChange:F=>p(F.target.value),children:[T.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),t.filter(F=>F.role==="salesperson").map(F=>T.jsx("option",{value:F.id,children:F.name},F.id))]}),T.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:T.jsx(J$,{className:"w-4 h-4"})})]})]}),v.length>0&&T.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[T.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[T.jsxs("span",{children:["Arquivos na Fila (",v.length,")"]}),T.jsx("button",{onClick:()=>y([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),T.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:v.map((F,z)=>T.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[T.jsx(h0,{className:"w-4 h-4 text-primary shrink-0"}),T.jsx("span",{className:"truncate flex-1 font-medium",title:F.file.name,children:F.file.name}),T.jsxs("select",{value:F.targetUserId,onChange:B=>w(z,B.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${F.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[T.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),t.filter(B=>B.role==="salesperson").map(B=>T.jsx("option",{value:B.id,children:B.name},B.id))]}),T.jsx("button",{onClick:()=>A(z),className:"text-on-surface-variant hover:text-error p-1",children:T.jsx(Po,{className:"w-3 h-3"})})]},z))}),T.jsx("button",{onClick:b,disabled:(l==null?void 0:l.isActive)||v.some(F=>!F.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:l!=null&&l.isActive?T.jsxs(T.Fragment,{children:[T.jsx(bu,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):T.jsxs(T.Fragment,{children:[T.jsx(Cu,{className:"w-3 h-3"}),"Processar ",v.length," Arquivos"]})})]}),T.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${f?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[T.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[T.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${f?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:T.jsx(w0,{className:"w-6 h-6"})}),T.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),T.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:S,disabled:(l==null?void 0:l.isActive)&&l.status==="processing"})]}),T.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant",children:[T.jsx(Y_,{className:"w-3 h-3"}),T.jsx("span",{children:"Suporta .csv, .xlsx, .xls (Mltiplos arquivos)"})]})]}):T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[T.jsx(jl,{className:"w-5 h-5 shrink-0"}),T.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),T.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[T.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:T.jsx(jl,{className:"w-6 h-6"})}),T.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),T.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:L,disabled:(l==null?void 0:l.isActive)&&l.status==="processing"})]})]})]})}),T.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[T.jsx("div",{className:"flex items-center justify-between mb-2",children:T.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[T.jsx(h0,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",T.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:H.length})]})}),H.length===0?T.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[T.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:T.jsx(Y_,{className:"w-10 h-10 text-outline"})}),T.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),T.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):T.jsx("div",{className:"space-y-3",children:H.map(F=>T.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[T.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[T.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${F.status==="error"?"bg-error-container text-error":F.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:F.status==="processing"?T.jsx(bu,{className:"w-5 h-5 animate-spin"}):F.status==="error"?T.jsx(Ja,{className:"w-5 h-5"}):T.jsx(h0,{className:"w-5 h-5"})}),T.jsxs("div",{className:"min-w-0",children:[T.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:F.fileName,children:F.fileName}),T.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(hI,{className:"w-3 h-3"}),new Date(F.uploadDate).toLocaleDateString(),T.jsx("span",{className:"opacity-60 ml-1",children:new Date(F.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Cu,{className:"w-3 h-3"}),F.itemCount," registros"]})]}),F.status==="error"&&T.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:F.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&T.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:(()=>{var B;const z=t.find(j=>j.id===F.salespersonId);return((B=z==null?void 0:z.name)==null?void 0:B.charAt(0))||"?"})()}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsxs("select",{value:F.salespersonId,onChange:z=>s==null?void 0:s(F.id,z.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:F.status==="processing",children:[T.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),t.filter(z=>z.role==="salesperson").map(z=>T.jsx("option",{value:z.id,className:"bg-surface text-on-surface",children:z.name},z.id))]}),T.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),T.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:F.status==="processing"?T.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):T.jsxs("button",{onClick:()=>i(F.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[T.jsx(Fo,{className:"w-4 h-4"}),T.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},F.id))})]})]})]})};function J$(t){return T.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),T.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function X$(t){return T.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),T.jsx("circle",{cx:"12",cy:"10",r:"5"}),T.jsx("path",{d:"M12 15V3"}),T.jsx("path",{d:"m9 6 3-3 3 3"})]})}const $S=[{id:"admin",name:"Administrador Geral",username:"admin",email:"admin@vendas.ai",role:"admin",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"salesperson",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"salesperson",password:"123",salesCategory:"Interno",color:"#3B82F6"}],W$=()=>{const[t,e]=he.useState(()=>{try{const ue=localStorage.getItem("vendas_ai_users");return ue?JSON.parse(ue):$S}catch(ue){return console.error("Failed to load users from storage",ue),$S}}),[n,r]=he.useState([]),[i,s]=he.useState(()=>{try{const ue=localStorage.getItem("vendas_ai_categories");return ue?JSON.parse(ue):$u.filter(Be=>Be!=="Todos")}catch{return $u.filter(Be=>Be!=="Todos")}}),[l,c]=he.useState(()=>{try{const ue=localStorage.getItem("vendas_ai_products");return ue?JSON.parse(ue):[]}catch(ue){return console.error("Failed to load products from storage",ue),[]}}),[d,f]=he.useState(null),[p,v]=he.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[y,S]=he.useState("AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"),[A,w]=he.useState(0),[b,L]=he.useState("map"),[H,F]=he.useState(!1),[z,B]=he.useState(!1),[j,I]=he.useState(!1),[N,C]=he.useState(!1),[P,D]=he.useState(void 0),[k,U]=he.useState(""),[Ee,Se]=he.useState("Todas"),[ae,le]=he.useState("Todos"),[Re,ie]=he.useState("Todas"),[Fe,W]=he.useState("Todos"),[V,X]=he.useState("Todos"),[Q,te]=he.useState("Todos"),[ce,be]=he.useState("Todos"),[Ce,we]=he.useState(""),[ke,$e]=he.useState(""),[ne,rt]=he.useState(!1),[Je,Xe]=he.useState(()=>{try{const ue=localStorage.getItem("vendas_ai_files");return ue?JSON.parse(ue):[]}catch{return[]}});he.useEffect(()=>{try{localStorage.setItem("vendas_ai_files",JSON.stringify(Je))}catch(ue){console.error("Failed to save uploaded files",ue)}},[Je]),he.useEffect(()=>{(async()=>{const Be=await Wb();C(Be),console.log("Loading data from LocalStorage...");const He=localStorage.getItem("vendas_ai_clients");if(He)try{const Ft=JSON.parse(He);r(Ft.map(pn=>({...pn,category:Array.isArray(pn.category)?pn.category:typeof pn.category=="string"?[pn.category]:["Outros"],region:rv(pn.state)})))}catch(Ft){console.error(Ft)}const st=localStorage.getItem("vendas_ai_users");st&&e(JSON.parse(st));const gt=localStorage.getItem("vendas_ai_categories");gt&&s(JSON.parse(gt));const Tt=localStorage.getItem("vendas_ai_products");Tt&&c(JSON.parse(Tt))})()},[]),he.useEffect(()=>{if(N&&n.length>0){const ue=setTimeout(()=>{LS(n,l,i,t).catch(Be=>console.error("Auto-save failed",Be))},2e3);return()=>clearTimeout(ue)}},[n,l,i,t,N]),he.useEffect(()=>{S("AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc")},[]),he.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(n))},[n]),he.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(i))},[i]),he.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(l))},[l]),he.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(t))},[t]);const ze=ue=>{e([...t,ue])},Ue=ue=>{e(t.map(Be=>Be.id===ue.id?ue:Be))},tt=ue=>{Xe(Be=>Be.map(He=>He.salespersonId===ue?{...He,salespersonId:"",salespersonName:"None"}:He)),e(t.filter(Be=>Be.id!==ue))},nt=()=>{if(!window.confirm(` Remover Clientes Duplicados?

Esta ao ir:
 Identificar clientes com mesmo nome e endereo
 Manter apenas 1 registro de cada
 Atualizar a contagem total

Deseja continuar?`))return;const Be=new Map,He=[];let st=0;if(n.forEach(gt=>{const Tt=`${gt.companyName}-${gt.address}`.toLowerCase().trim();Be.has(Tt)?st++:(Be.set(Tt,gt),He.push(gt))}),st===0){alert(" Nenhum cliente duplicado encontrado!");return}r(He),alert(` Limpeza Concluda!

${st} clientes duplicados removidos
Total anterior: ${n.length}
Total atual: ${He.length}`)},lt=ue=>{i.includes(ue)||s([...i,ue])},on=ue=>{s(i.filter(Be=>Be!==ue))},Sn=ue=>{c(Be=>{const He=[...Be,...ue];return Nt(n,He),He})},Rn=ue=>{c(ue)},ft=()=>{c([]),r(ue=>ue.map(Be=>({...Be,purchasedProducts:[]})))},Yt=()=>{window.confirm(` ATENO: Limpar TODOS os Clientes?

Esta ao ir:
 Remover TODOS os clientes do sistema
 Limpar a listagem de arquivos
 Resetar contadores

Os vendedores, produtos e categorias no sero afetados.

Deseja continuar?`)&&(r([]),Xe(ue=>ue.filter(Be=>Be.type!=="clients")),alert(` Base de Clientes Limpa!

Voc pode agora fazer upload de novas planilhas de clientes.`))},kt=async ue=>{const Be=n.find(st=>st.id===ue.id);let He={...ue};if(Be&&Be.cleanAddress!==ue.cleanAddress)try{const st=await q0(ue.cleanAddress,y||"");st&&(He.lat=st.lat,He.lng=st.lng,st.formattedAddress&&(He.cleanAddress=st.formattedAddress))}catch(st){console.error("Failed to re-geocode updated client:",st)}r(st=>st.map(gt=>gt.id===He.id?He:gt))},tn=async ue=>{let Be={...ue};if((!Be.lat||!Be.lng)&&Be.cleanAddress)try{const He=await q0(Be.cleanAddress,y||"");He&&(Be.lat=He.lat,Be.lng=He.lng,He.formattedAddress&&(Be.cleanAddress=He.formattedAddress))}catch(He){console.error("Failed to geocode new client:",He)}r(He=>[...He,Be]),setTimeout(()=>{const He=document.querySelector(".overflow-y-auto");He&&(He.scrollTop=He.scrollHeight)},100)},Nt=(ue,Be)=>{if(Be.length===0)return;const He=ue.map(st=>{if(st.purchasedProducts&&st.purchasedProducts.length>0)return st;let gt=Be.filter(An=>st.category.some(Dn=>An.category.toLowerCase().includes(Dn.toLowerCase())||Dn.toLowerCase().includes(An.category.toLowerCase())));gt.length===0&&(gt=Be);const Tt=Math.floor(Math.random()*5)+1,pn=[...gt].sort(()=>.5-Math.random()).slice(0,Tt);return{...st,purchasedProducts:pn}});r(He)},Un=async()=>{if(window.aistudio)try{await window.aistudio.openSelectKey();const ue="AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc";ue&&S(ue),w(Be=>Be+1)}catch(ue){console.error(ue)}else console.error("AI Studio environment not detected.")},it=he.useMemo(()=>{if(!d)return[];let ue=[];return d.role==="admin"?V!=="Todos"?ue=n.filter(Be=>Be.salespersonId===V):ue=n:ue=n.filter(Be=>Be.salespersonId===d.id),ue},[d,n,V]),wt=he.useMemo(()=>it.filter(ue=>{const Be=Ee==="Todas"||ue.region===Ee,He=ae==="Todos"||ue.state===ae,st=Re==="Todas"||ue.city===Re,gt=Fe==="Todos"||Array.isArray(ue.category)&&ue.category.includes(Fe);let Tt=!0;if((d==null?void 0:d.role)==="admin"&&Q!=="Todos"){const jr=t.find(qt=>qt.id===ue.salespersonId);(!jr||jr.salesCategory!==Q)&&(Tt=!1)}const Ft=k.toLowerCase(),pn=k===""||ue.companyName.toLowerCase().includes(Ft)||ue.ownerName&&ue.ownerName.toLowerCase().includes(Ft);let An=!0;const Dn=Ce.toLowerCase();if(ce!=="Todos"||Dn!=="")if(!ue.purchasedProducts||ue.purchasedProducts.length===0)An=!1;else{const jr=ce==="Todos"||ue.purchasedProducts.some(mn=>mn.category===ce),qt=Dn===""||ue.purchasedProducts.some(mn=>mn.name.toLowerCase().includes(Dn)||mn.sku.toLowerCase().includes(Dn)||mn.brand.toLowerCase().includes(Dn)||mn.factoryCode.toLowerCase().includes(Dn)||mn.price.toString().includes(Dn));An=jr&&qt}return Be&&He&&st&&gt&&pn&&An&&Tt}),[it,Ee,ae,Re,Fe,k,ce,Ce,Q,t,d]),Kt=he.useMemo(()=>{const ue=new Set(l.map(Be=>Be.category));return Array.from(ue).sort()},[l]),Et=he.useMemo(()=>{let ue=it;Ee!=="Todas"&&(ue=ue.filter(He=>He.region===Ee));const Be=new Set(ue.map(He=>He.state).filter(Boolean));return Array.from(Be).sort()},[it,Ee]),zt=he.useMemo(()=>{let ue=it;if(Ee!=="Todas"&&(ue=ue.filter(He=>He.region===Ee)),ae!=="Todos")ue=ue.filter(He=>He.state===ae);else return[];const Be=new Set(ue.map(He=>He.city).filter(Boolean));return Array.from(Be).sort()},[it,Ee,ae]),or=ue=>{if(f(ue),U(""),Se("Todas"),le("Todos"),ie("Todas"),X("Todos"),te("Todos"),te("Todos"),L("map"),rt(!1),ue.role==="admin"){const Be=t.find(He=>He.role==="salesperson");Be&&$e(Be.id)}},hn=()=>{f(null),X("Todos"),te("Todos")},ns=async(ue,Be,He=!1)=>{const st=t.find(Ft=>Ft.id===Be),gt=st?st.name:"Desconhecido";if(n.length>0&&!He&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const Tt=crypto.randomUUID();v({isActive:!0,total:0,current:0,fileName:ue.name,ownerName:gt,status:"reading"});try{let Ft=[];const pn=ue.name.toLowerCase();if(console.log(`Processing file: ${ue.name}, Lower: ${pn}`),pn.endsWith(".csv"))console.log("Selected Parser: CSV"),Ft=await kR(ue);else if(pn.endsWith(".xlsx")||pn.endsWith(".xls"))console.log("Selected Parser: Excel"),Ft=await FO(ue);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",Ft.length),Ft.length>0&&console.log("Sample Parsed Item:",Ft[0]),Ft.length===0)throw new Error("Arquivo vazio.");const An={id:Tt,fileName:ue.name,uploadDate:new Date().toISOString(),salespersonId:Be,salespersonName:gt,type:"clients",itemCount:Ft.length,status:"processing"};Xe(qt=>[An,...qt]),v(qt=>({...qt,total:Ft.length,status:"processing"}));const jr=(await WB(Ft,Be,y,i,(qt,mn)=>{v(G=>({...G,current:qt,total:mn}))})).map(qt=>({...qt,sourceFileId:Tt}));r(qt=>[...qt,...jr]),v(qt=>({...qt,status:"completed"})),Xe(qt=>qt.map(mn=>mn.id===Tt?{...mn,status:"completed"}:mn)),setTimeout(()=>{v(qt=>qt.status==="completed"?{...qt,isActive:!1}:qt)},5e3)}catch(Ft){console.error(Ft),v(pn=>({...pn,status:"error",errorMessage:Ft.message||"Erro desconhecido"})),Xe(pn=>pn.map(An=>An.id===Tt?{...An,status:"error",errorMessage:Ft.message||"Erro desconhecido"}:An))}},Mi=ue=>{const Be=Je.find(He=>He.id===ue);Be&&window.confirm(`Tem certeza que deseja excluir o arquivo "${Be.fileName}"?

Isso remover todos os ${Be.itemCount} registros associados.`)&&(Be.type==="clients"?r(He=>He.filter(st=>st.sourceFileId!==ue)):Be.type==="products"&&c(He=>He.filter(st=>st.sourceFileId!==ue)),Xe(He=>He.filter(st=>st.id!==ue)))},Sa=(ue,Be)=>{const He=t.find(gt=>gt.id===Be),st=(He==null?void 0:He.name)||"None";Xe(gt=>gt.map(Tt=>Tt.id===ue?{...Tt,salespersonId:Be,salespersonName:st}:Tt)),r(gt=>gt.map(Tt=>Tt.sourceFileId===ue?{...Tt,salespersonId:Be}:Tt)),Be?(L("map"),X(Be),alert(`Arquivo e ${wt.filter(gt=>gt.sourceFileId===ue).length} clientes reatribudos para: ${st}

Mapa filtrado automaticamente.`)):(X("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},Pr=async ue=>{const Be=crypto.randomUUID();v({isActive:!0,total:0,current:0,fileName:ue.name,ownerName:"Sistema",status:"reading"});try{let He=[];const st=ue.name.toLowerCase();if(st.endsWith(".csv"))He=await nA(ue);else if(st.endsWith(".xlsx")||st.endsWith(".xls"))He=await Uw(ue);else throw new Error("Formato no suportado.");if(He.length===0)throw new Error("Arquivo vazio.");He=He.map(Tt=>({...Tt,sourceFileId:Be}));const gt={id:Be,fileName:ue.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:He.length,status:"completed"};Xe(Tt=>[gt,...Tt]),Sn(He),v({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${He.length} produtos importados com sucesso.`)}catch(He){console.error(He),v(st=>({...st,status:"error",errorMessage:He.message})),Xe(st=>st.map(gt=>gt.id===Be?{...gt,status:"error",errorMessage:He.message}:gt))}};if(!d)return T.jsx(G$,{users:t,onLogin:or});const kn=d.role==="admin",un=ce!=="Todos"||Ce!=="";return T.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[ne&&T.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>rt(!1)}),T.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${ne?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[T.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[T.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[T.jsx(K_,{className:"w-6 h-6"}),"Vendas A.I."]}),T.jsx("button",{onClick:()=>rt(!1),className:"md:hidden text-on-surface-variant hover:text-primary",children:T.jsx(Po,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"px-6 py-2",children:T.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:kn?"Painel Administrativo":"Portal do Vendedor"})}),T.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[T.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),T.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),T.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md ${kn?"bg-tertiary":"bg-secondary"}`,children:d.name.charAt(0)}),T.jsxs("div",{className:"min-w-0",children:[T.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:d.name}),T.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:d.email})]})]})]}),T.jsxs("nav",{className:"space-y-1 mb-8",children:[T.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),T.jsxs("button",{onClick:()=>{L("map"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${b==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(zI,{className:`w-5 h-5 ${b==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),T.jsxs("button",{onClick:()=>{L("table"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${b==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(gR,{className:`w-5 h-5 ${b==="table"?"fill-current":""}`}),"Listagem de Dados"]})]}),T.jsxs("nav",{className:"space-y-1 mb-8",children:[T.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),T.jsxs("button",{onClick:()=>{L("admin_users"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${b==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(rg,{className:`w-5 h-5 ${b==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),T.jsxs("button",{onClick:()=>{L("admin_categories"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${b==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(XS,{className:`w-5 h-5 ${b==="admin_categories"?"fill-current":""}`}),"Categorias"]}),T.jsxs("button",{onClick:()=>{L("admin_products"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${b==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(jl,{className:`w-5 h-5 ${b==="admin_products"?"fill-current":""}`}),"Produtos"]}),T.jsxs("button",{onClick:()=>{L("admin_files"),rt(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${b==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(w0,{className:`w-5 h-5 ${b==="admin_files"?"fill-current":""}`}),"Arquivos"]}),T.jsxs("button",{onClick:()=>{I(!0),rt(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[T.jsx(tg,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),T.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[T.jsxs("button",{onClick:hn,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",children:[T.jsx(UI,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),T.jsx("div",{className:"text-center mt-4",children:T.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),T.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[T.jsx("button",{onClick:()=>rt(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",children:T.jsx(YI,{className:"w-6 h-6"})}),T.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[T.jsx(K_,{className:"w-5 h-5"})," Vendas A.I."]}),T.jsx("div",{className:"w-10"})," "]}),T.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!kn&&b==="table"&&T.jsx("button",{onClick:()=>F(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",children:T.jsx(rg,{className:"w-6 h-6"})}),T.jsx($$,{isOpen:j,onClose:()=>I(!1),onSaveToCloud:()=>{LS(n,l,i,t),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:Yt,isFirebaseConnected:N}),T.jsx(Y$,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),T.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[T.jsx("span",{children:"Portal"}),T.jsx(gI,{className:"w-4 h-4"}),T.jsx("span",{className:"font-semibold text-blue-600",children:b==="map"?"Mapa da Carteira":b==="table"?"Listagem de Clientes":b==="admin_categories"?"Categorias de Clientes":b==="admin_products"?"Catlogo de Produtos":"Gesto de Usurios"})]}),T.jsxs("div",{className:"flex items-center gap-6",children:[T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-xs text-gray-400",children:kn?"Clientes Visualizados":"Meus Clientes"}),T.jsx("p",{className:"text-lg font-bold leading-none",children:it.length})]}),kn&&T.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[T.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),T.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:n.length})]})]})]}),b==="admin_users"&&kn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(z$,{users:t,onAddUser:ze,onUpdateUser:Ue,onDeleteUser:tt,onCleanupDuplicates:nt,totalClients:n.length})}):b==="admin_categories"&&kn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(q$,{categories:i,onAddCategory:lt,onDeleteCategory:on})}):b==="admin_products"&&kn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(j$,{products:l,onUploadProducts:Sn,onClearProducts:ft,onSaveProducts:Rn,apiKey:y})}):b==="admin_files"&&kn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(K$,{users:t,uploadedFiles:Je,onUploadClients:(ue,Be)=>{$e(Be);const He=t.find(gt=>gt.id===Be),st=(He==null?void 0:He.name)||"Unknown";ns(ue,Be,st)},onUploadProducts:Pr,onDeleteFile:Mi,onReassignSalesperson:Sa,procState:p})}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-gray-100 p-4 border-b border-gray-200 flex flex-col gap-3",children:[T.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[T.jsxs("div",{className:"relative mr-2",children:[T.jsx(ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),T.jsx("input",{type:"text",value:k,onChange:ue=>U(ue.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-4 py-1.5 text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 w-56 border outline-none"})]}),T.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2 hidden sm:block"}),T.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mr-2",children:[T.jsx(RI,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-bold hidden md:inline",children:"Filtros:"})]}),kn&&T.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-2 py-1 rounded-md border border-purple-100 mr-2",children:[T.jsxs("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-wider flex items-center gap-1",children:[T.jsx(fR,{className:"w-3 h-3"})," Admin"]}),T.jsxs("div",{className:"relative",children:[T.jsx($l,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),T.jsxs("select",{value:V,onChange:ue=>X(ue.target.value),className:"text-sm border-purple-300 bg-white text-purple-900 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium",children:[T.jsx("option",{value:"Todos",children:"Todos Vendedores"}),t.filter(ue=>ue.role==="salesperson").map(ue=>T.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),T.jsxs("div",{className:"relative",children:[T.jsx(JS,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),T.jsxs("select",{value:Q,onChange:ue=>te(ue.target.value),className:"text-sm border-purple-300 bg-white text-purple-900 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium",children:[T.jsx("option",{value:"Todos",children:"Todas Equipes"}),T.jsx("option",{value:"Externo",children:"Externo"}),T.jsx("option",{value:"Interno",children:"Interno"}),T.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),T.jsxs("select",{value:Ee,onChange:ue=>{Se(ue.target.value),le("Todos"),ie("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",children:[T.jsx("option",{value:"Todas",children:"Todas Regies"}),uh.map(ue=>T.jsx("option",{value:ue,children:ue},ue))]}),T.jsxs("select",{value:ae,onChange:ue=>{le(ue.target.value),ie("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",disabled:Et.length===0,children:[T.jsxs("option",{value:"Todos",children:["Todos Estados ",Ee!=="Todas"?`(${Ee})`:""]}),Et.map(ue=>T.jsx("option",{value:ue,children:ue},ue))]}),T.jsxs("select",{value:Re,onChange:ue=>ie(ue.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5 min-w-[120px]",disabled:ae==="Todos"||zt.length===0,children:[T.jsx("option",{value:"Todas",children:"Todas Cidades"}),zt.map(ue=>T.jsx("option",{value:ue,children:ue},ue))]}),T.jsxs("div",{className:"flex items-center gap-1 relative ml-2",children:[T.jsx(WS,{className:"w-4 h-4 text-gray-400 absolute left-2 pointer-events-none"}),T.jsxs("select",{value:Fe,onChange:ue=>W(ue.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-8 pr-3 py-1.5",children:[T.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),i.map(ue=>T.jsx("option",{value:ue,children:ue},ue))]})]})]}),T.jsxs("div",{className:"flex flex-wrap gap-3 items-center bg-white border border-gray-200 p-2 rounded-lg shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[T.jsx(jl,{className:"w-4 h-4"}),"Vendas:"]}),T.jsxs("select",{value:ce,onChange:ue=>be(ue.target.value),className:`text-sm rounded-md px-3 py-1.5 border transition-colors ${ce!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[T.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),Kt.map(ue=>T.jsx("option",{value:ue,children:ue},ue))]}),T.jsxs("div",{className:"relative",children:[T.jsx(ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),T.jsx("input",{type:"text",value:Ce,onChange:ue=>we(ue.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-8 pr-3 py-1.5 text-sm border rounded-md focus:ring-green-500 focus:border-green-500 outline-none w-64 transition-colors ${Ce?"bg-green-50 border-green-300":"border-gray-300"}`})]}),un&&T.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[T.jsx(Cu,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!un&&T.jsx("span",{className:"ml-auto text-xs text-gray-400",children:l.length===0?"Nenhum produto cadastrado no admin.":`${l.length} produtos no catlogo.`})]}),T.jsx("div",{className:"flex justify-end",children:T.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[wt.length," resultados encontrados"]})})]}),T.jsx("div",{className:"flex-1 overflow-hidden p-4 bg-gray-100",children:it.length===0&&!p.isActive?T.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:kn?T.jsxs(T.Fragment,{children:[T.jsx(w0,{className:"w-12 h-12 mb-2 opacity-20"}),T.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),T.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):T.jsxs(T.Fragment,{children:[T.jsx(ng,{className:"w-12 h-12 mb-2 opacity-20"}),T.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),T.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):T.jsx("div",{className:"h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative",children:b==="map"?T.jsx(U$,{clients:wt,apiKey:y,onInvalidKey:Un,productFilterActive:un,highlightProductTerm:Ce,activeProductCategory:ce,users:t},`${y}-${A}`):T.jsx(H$,{clients:wt,onUpdateClient:kt,onAddClient:tn,currentUserRole:d==null?void 0:d.role,currentUserId:d==null?void 0:d.id,currentUserName:d==null?void 0:d.name})})})]}),p.isActive&&T.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[T.jsx("div",{className:`h-1.5 w-full ${p.status==="error"?"bg-red-200":"bg-blue-100"}`,children:T.jsx("div",{className:`h-full transition-all duration-300 ${p.status==="completed"?"bg-green-500 w-full":p.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:p.total>0?`${p.current/p.total*100}%`:"0%"}})}),T.jsxs("div",{className:"p-4",children:[T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{children:[T.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[p.status==="completed"&&T.jsx(Cu,{className:"w-4 h-4 text-green-500"}),p.status==="processing"&&T.jsx(bu,{className:"w-4 h-4 text-blue-500 animate-spin"}),p.status==="error"&&T.jsx(Ja,{className:"w-4 h-4 text-red-500"}),p.status==="reading"?"Lendo Arquivo...":p.status==="processing"?"Processando Planilha":p.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[p.fileName," ",T.jsx("span",{className:"mx-1",children:""})," ",p.ownerName]})]}),T.jsx("button",{onClick:()=>v(ue=>({...ue,isActive:!1})),className:"text-gray-400 hover:text-gray-600",children:T.jsx(Po,{className:"w-4 h-4"})})]}),p.status==="processing"&&T.jsxs("div",{className:"mt-3",children:[T.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[T.jsx("span",{children:"Progresso (IA + Maps)"}),T.jsxs("span",{className:"font-mono",children:[p.current," / ",p.total]})]}),T.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),p.status==="error"&&T.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:p.errorMessage})]})]})]})]})};class Q$ extends Kn.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:T.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[T.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[T.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:T.jsx(Ja,{className:"w-8 h-8"})}),T.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),T.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),T.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:(e=this.state.error)==null?void 0:e.toString()}),T.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const fN=document.getElementById("root");if(!fN)throw new Error("Could not find root element to mount to");const Z$=W4.createRoot(fN);Z$.render(T.jsx(Kn.StrictMode,{children:T.jsx(Q$,{children:T.jsx(W$,{})})}));
