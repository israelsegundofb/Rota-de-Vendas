(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function S0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zm={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function JR(){if(pE)return Su;pE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Su.Fragment=e,Su.jsx=n,Su.jsxs=n,Su}var mE;function WR(){return mE||(mE=1,zm.exports=JR()),zm.exports}var T=WR(),qm={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function XR(){if(gE)return xt;gE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function A(X){return X===null||typeof X!="object"?null:(X=y&&X[y]||X["@@iterator"],typeof X=="function"?X:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function O(X,B,Q){this.props=X,this.context=B,this.refs=C,this.updater=Q||S}O.prototype.isReactComponent={},O.prototype.setState=function(X,B){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,B,"setState")},O.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function H(){}H.prototype=O.prototype;function D(X,B,Q){this.props=X,this.context=B,this.refs=C,this.updater=Q||S}var z=D.prototype=new H;z.constructor=D,w(z,O.prototype),z.isPureReactComponent=!0;var G=Array.isArray;function j(){}var I={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function b(X,B,Q){var Z=Q.ref;return{$$typeof:t,type:X,key:B,ref:Z!==void 0?Z:null,props:Q}}function P(X,B){return b(X.type,B,X.props)}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function k(X){var B={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Q){return B[Q]})}var U=/\/+/g;function Te(X,B){return typeof X=="object"&&X!==null&&X.key!=null?k(""+X.key):B.toString(36)}function Ae(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(j,j):(X.status="pending",X.then(function(B){X.status==="pending"&&(X.status="fulfilled",X.value=B)},function(B){X.status==="pending"&&(X.status="rejected",X.reason=B)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ae(X,B,Q,Z,te){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var be=!1;if(X===null)be=!0;else switch(ue){case"bigint":case"string":case"number":be=!0;break;case"object":switch(X.$$typeof){case t:case e:be=!0;break;case h:return be=X._init,ae(be(X._payload),B,Q,Z,te)}}if(be)return te=te(X),be=Z===""?"."+Te(X,0):Z,G(te)?(Q="",be!=null&&(Q=be.replace(U,"$&/")+"/"),ae(te,B,Q,"",function(Ie){return Ie})):te!=null&&(M(te)&&(te=P(te,Q+(te.key==null||X&&X.key===te.key?"":(""+te.key).replace(U,"$&/")+"/")+be)),B.push(te)),1;be=0;var Ce=Z===""?".":Z+":";if(G(X))for(var we=0;we<X.length;we++)Z=X[we],ue=Ce+Te(Z,we),be+=ae(Z,B,Q,ue,te);else if(we=A(X),typeof we=="function")for(X=we.call(X),we=0;!(Z=X.next()).done;)Z=Z.value,ue=Ce+Te(Z,we++),be+=ae(Z,B,Q,ue,te);else if(ue==="object"){if(typeof X.then=="function")return ae(Ae(X),B,Q,Z,te);throw B=String(X),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return be}function le(X,B,Q){if(X==null)return X;var Z=[],te=0;return ae(X,Z,"","",function(ue){return B.call(Q,ue,te++)}),Z}function Ne(X){if(X._status===-1){var B=X._result;B=B(),B.then(function(Q){(X._status===0||X._status===-1)&&(X._status=1,X._result=Q)},function(Q){(X._status===0||X._status===-1)&&(X._status=2,X._result=Q)}),X._status===-1&&(X._status=0,X._result=B)}if(X._status===1)return X._result.default;throw X._result}var ie=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Fe={map:le,forEach:function(X,B,Q){le(X,function(){B.apply(this,arguments)},Q)},count:function(X){var B=0;return le(X,function(){B++}),B},toArray:function(X){return le(X,function(B){return B})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return xt.Activity=v,xt.Children=Fe,xt.Component=O,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=D,xt.StrictMode=r,xt.Suspense=f,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return I.H.useMemoCache(X)}},xt.cache=function(X){return function(){return X.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(X,B,Q){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Z=w({},X.props),te=X.key;if(B!=null)for(ue in B.key!==void 0&&(te=""+B.key),B)!N.call(B,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&B.ref===void 0||(Z[ue]=B[ue]);var ue=arguments.length-2;if(ue===1)Z.children=Q;else if(1<ue){for(var be=Array(ue),Ce=0;Ce<ue;Ce++)be[Ce]=arguments[Ce+2];Z.children=be}return b(X.type,te,Z)},xt.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:s,_context:X},X},xt.createElement=function(X,B,Q){var Z,te={},ue=null;if(B!=null)for(Z in B.key!==void 0&&(ue=""+B.key),B)N.call(B,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(te[Z]=B[Z]);var be=arguments.length-2;if(be===1)te.children=Q;else if(1<be){for(var Ce=Array(be),we=0;we<be;we++)Ce[we]=arguments[we+2];te.children=Ce}if(X&&X.defaultProps)for(Z in be=X.defaultProps,be)te[Z]===void 0&&(te[Z]=be[Z]);return b(X,ue,te)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(X){return{$$typeof:c,render:X}},xt.isValidElement=M,xt.lazy=function(X){return{$$typeof:h,_payload:{_status:-1,_result:X},_init:Ne}},xt.memo=function(X,B){return{$$typeof:d,type:X,compare:B===void 0?null:B}},xt.startTransition=function(X){var B=I.T,Q={};I.T=Q;try{var Z=X(),te=I.S;te!==null&&te(Q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(j,ie)}catch(ue){ie(ue)}finally{B!==null&&Q.types!==null&&(B.types=Q.types),I.T=B}},xt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xt.use=function(X){return I.H.use(X)},xt.useActionState=function(X,B,Q){return I.H.useActionState(X,B,Q)},xt.useCallback=function(X,B){return I.H.useCallback(X,B)},xt.useContext=function(X){return I.H.useContext(X)},xt.useDebugValue=function(){},xt.useDeferredValue=function(X,B){return I.H.useDeferredValue(X,B)},xt.useEffect=function(X,B){return I.H.useEffect(X,B)},xt.useEffectEvent=function(X){return I.H.useEffectEvent(X)},xt.useId=function(){return I.H.useId()},xt.useImperativeHandle=function(X,B,Q){return I.H.useImperativeHandle(X,B,Q)},xt.useInsertionEffect=function(X,B){return I.H.useInsertionEffect(X,B)},xt.useLayoutEffect=function(X,B){return I.H.useLayoutEffect(X,B)},xt.useMemo=function(X,B){return I.H.useMemo(X,B)},xt.useOptimistic=function(X,B){return I.H.useOptimistic(X,B)},xt.useReducer=function(X,B,Q){return I.H.useReducer(X,B,Q)},xt.useRef=function(X){return I.H.useRef(X)},xt.useState=function(X){return I.H.useState(X)},xt.useSyncExternalStore=function(X,B,Q){return I.H.useSyncExternalStore(X,B,Q)},xt.useTransition=function(){return I.H.useTransition()},xt.version="19.2.4",xt}var vE;function Sv(){return vE||(vE=1,qm.exports=XR()),qm.exports}var de=Sv();const Wn=S0(de);var jm={exports:{}},wu={},$m={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function QR(){return xE||(xE=1,(function(t){function e(ae,le){var Ne=ae.length;ae.push(le);e:for(;0<Ne;){var ie=Ne-1>>>1,Fe=ae[ie];if(0<i(Fe,le))ae[ie]=le,ae[Ne]=Fe,Ne=ie;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var le=ae[0],Ne=ae.pop();if(Ne!==le){ae[0]=Ne;e:for(var ie=0,Fe=ae.length,X=Fe>>>1;ie<X;){var B=2*(ie+1)-1,Q=ae[B],Z=B+1,te=ae[Z];if(0>i(Q,Ne))Z<Fe&&0>i(te,Q)?(ae[ie]=te,ae[Z]=Ne,ie=Z):(ae[ie]=Q,ae[B]=Ne,ie=B);else if(Z<Fe&&0>i(te,Ne))ae[ie]=te,ae[Z]=Ne,ie=Z;else break e}}return le}function i(ae,le){var Ne=ae.sortIndex-le.sortIndex;return Ne!==0?Ne:ae.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],h=1,v=null,y=3,A=!1,S=!1,w=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function z(ae){for(var le=n(d);le!==null;){if(le.callback===null)r(d);else if(le.startTime<=ae)r(d),le.sortIndex=le.expirationTime,e(f,le);else break;le=n(d)}}function G(ae){if(w=!1,z(ae),!S)if(n(f)!==null)S=!0,j||(j=!0,k());else{var le=n(d);le!==null&&Ae(G,le.startTime-ae)}}var j=!1,I=-1,N=5,b=-1;function P(){return C?!0:!(t.unstable_now()-b<N)}function M(){if(C=!1,j){var ae=t.unstable_now();b=ae;var le=!0;try{e:{S=!1,w&&(w=!1,H(I),I=-1),A=!0;var Ne=y;try{t:{for(z(ae),v=n(f);v!==null&&!(v.expirationTime>ae&&P());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,y=v.priorityLevel;var Fe=ie(v.expirationTime<=ae);if(ae=t.unstable_now(),typeof Fe=="function"){v.callback=Fe,z(ae),le=!0;break t}v===n(f)&&r(f),z(ae)}else r(f);v=n(f)}if(v!==null)le=!0;else{var X=n(d);X!==null&&Ae(G,X.startTime-ae),le=!1}}break e}finally{v=null,y=Ne,A=!1}le=void 0}}finally{le?k():j=!1}}}var k;if(typeof D=="function")k=function(){D(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Te=U.port2;U.port1.onmessage=M,k=function(){Te.postMessage(null)}}else k=function(){O(M,0)};function Ae(ae,le){I=O(function(){ae(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(ae){switch(y){case 1:case 2:case 3:var le=3;break;default:le=y}var Ne=y;y=le;try{return ae()}finally{y=Ne}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ae,le){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Ne=y;y=ae;try{return le()}finally{y=Ne}},t.unstable_scheduleCallback=function(ae,le,Ne){var ie=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?ie+Ne:ie):Ne=ie,ae){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=Ne+Fe,ae={id:h++,callback:le,priorityLevel:ae,startTime:Ne,expirationTime:Fe,sortIndex:-1},Ne>ie?(ae.sortIndex=Ne,e(d,ae),n(f)===null&&ae===n(d)&&(w?(H(I),I=-1):w=!0,Ae(G,Ne-ie))):(ae.sortIndex=Fe,e(f,ae),S||A||(S=!0,j||(j=!0,k()))),ae},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(ae){var le=y;return function(){var Ne=y;y=le;try{return ae.apply(this,arguments)}finally{y=Ne}}}})(Km)),Km}var yE;function ZR(){return yE||(yE=1,$m.exports=QR()),$m.exports}var Ym={exports:{}},Cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function e4(){if(_E)return Cr;_E=1;var t=Sv();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,d,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Cr.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(f,d,null,h)},Cr.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},Cr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Cr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Cr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,v=c(h,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:A}):h==="script"&&r.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Cr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,v=c(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cr.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Cr.requestFormReset=function(f){r.d.r(f)},Cr.unstable_batchedUpdates=function(f,d){return f(d)},Cr.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},Cr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Cr.version="19.2.4",Cr}var EE;function MS(){if(EE)return Ym.exports;EE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ym.exports=e4(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function t4(){if(TE)return wu;TE=1;var t=ZR(),e=Sv(),n=MS();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function d(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,p=o;;){var _=u.return;if(_===null)break;var E=_.alternate;if(E===null){if(p=_.return,p!==null){u=p;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===u)return f(_),a;if(E===p)return f(_),o;E=E.sibling}throw Error(r(188))}if(u.return!==p.return)u=_,p=E;else{for(var F=!1,q=_.child;q;){if(q===u){F=!0,u=_,p=E;break}if(q===p){F=!0,p=_,u=E;break}q=q.sibling}if(!F){for(q=E.child;q;){if(q===u){F=!0,u=E,p=_;break}if(q===p){F=!0,p=E,u=_;break}q=q.sibling}if(!F)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function h(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=h(a),o!==null)return o;a=a.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),D=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var U=Symbol.for("react.client.reference");function Te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===U?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case j:return"SuspenseList";case b:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case D:return a.displayName||"Context";case H:return(a._context.displayName||"Context")+".Consumer";case z:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return o=a.displayName||null,o!==null?o:Te(a.type)||"Memo";case N:o=a._payload,a=a._init;try{return Te(a(o))}catch{}}return null}var Ae=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},ie=[],Fe=-1;function X(a){return{current:a}}function B(a){0>Fe||(a.current=ie[Fe],ie[Fe]=null,Fe--)}function Q(a,o){Fe++,ie[Fe]=a.current,a.current=o}var Z=X(null),te=X(null),ue=X(null),be=X(null);function Ce(a,o){switch(Q(ue,o),Q(te,a),Q(Z,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?O_(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=O_(o),a=U_(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}B(Z),Q(Z,a)}function we(){B(Z),B(te),B(ue)}function Ie(a){a.memoizedState!==null&&Q(be,a);var o=Z.current,u=U_(o,a.type);o!==u&&(Q(te,a),Q(Z,u))}function $e(a){te.current===a&&(B(Z),B(te)),be.current===a&&(B(be),_u._currentValue=Ne)}var ne,ut;function We(a){if(ne===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ne=o&&o[1]||"",ut=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+ut}var Ye=!1;function Be(a,o){if(!a||Ye)return"";Ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Se){var _e=Se}Reflect.construct(a,[],Me)}else{try{Me.call()}catch(Se){_e=Se}a.call(Me.prototype)}}else{try{throw Error()}catch(Se){_e=Se}(Me=a())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Se){if(Se&&_e&&typeof Se.stack=="string")return[Se.stack,_e.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=p.DetermineComponentFrameRoot(),F=E[0],q=E[1];if(F&&q){var se=F.split(`
`),ve=q.split(`
`);for(_=p=0;p<se.length&&!se[p].includes("DetermineComponentFrameRoot");)p++;for(;_<ve.length&&!ve[_].includes("DetermineComponentFrameRoot");)_++;if(p===se.length||_===ve.length)for(p=se.length-1,_=ve.length-1;1<=p&&0<=_&&se[p]!==ve[_];)_--;for(;1<=p&&0<=_;p--,_--)if(se[p]!==ve[_]){if(p!==1||_!==1)do if(p--,_--,0>_||se[p]!==ve[_]){var ke=`
`+se[p].replace(" at new "," at ");return a.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",a.displayName)),ke}while(1<=p&&0<=_);break}}}finally{Ye=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?We(u):""}function Le(a,o){switch(a.tag){case 26:case 27:case 5:return We(a.type);case 16:return We("Lazy");case 13:return a.child!==o&&o!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Be(a.type,!1);case 11:return Be(a.type.render,!1);case 1:return Be(a.type,!0);case 31:return We("Activity");default:return""}}function nt(a){try{var o="",u=null;do o+=Le(a,u),u=a,a=a.return;while(a);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var rt=Object.prototype.hasOwnProperty,ot=t.unstable_scheduleCallback,fn=t.unstable_cancelCallback,Nn=t.unstable_shouldYield,Fn=t.unstable_requestPaint,ft=t.unstable_now,Xt=t.unstable_getCurrentPriorityLevel,Pt=t.unstable_ImmediatePriority,sn=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,Bn=t.unstable_LowPriority,ht=t.unstable_IdlePriority,Lt=t.log,bt=t.unstable_setDisableYieldValue,Et=null,Qt=null;function ir(a){if(typeof Lt=="function"&&bt(a),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Et,a)}catch{}}var mn=Math.clz32?Math.clz32:ba,os=Math.log,Li=Math.LN2;function ba(a){return a>>>=0,a===0?32:31-(os(a)/Li|0)|0}var Ur=256,Oi=262144,En=4194304;function dn(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ar(a,o,u){var p=a.pendingLanes;if(p===0)return 0;var _=0,E=a.suspendedLanes,F=a.pingedLanes;a=a.warmLanes;var q=p&134217727;return q!==0?(p=q&~E,p!==0?_=dn(p):(F&=q,F!==0?_=dn(F):u||(u=q&~a,u!==0&&(_=dn(u))))):(q=p&~E,q!==0?_=dn(q):F!==0?_=dn(F):u||(u=p&~a,u!==0&&(_=dn(u)))),_===0?0:o!==0&&o!==_&&(o&E)===0&&(E=_&-_,u=o&-o,E>=u||E===32&&(u&4194048)!==0)?o:_}function ce(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function He(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var a=En;return En<<=1,(En&62914560)===0&&(En=4194304),a}function et(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function mt(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function zt(a,o,u,p,_,E){var F=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,se=a.expirationTimes,ve=a.hiddenUpdates;for(u=F&~u;0<u;){var ke=31-mn(u),Me=1<<ke;q[ke]=0,se[ke]=-1;var _e=ve[ke];if(_e!==null)for(ve[ke]=null,ke=0;ke<_e.length;ke++){var Se=_e[ke];Se!==null&&(Se.lane&=-536870913)}u&=~Me}p!==0&&qt(a,p,0),E!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=E&~(F&~o))}function qt(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var p=31-mn(o);a.entangledLanes|=o,a.entanglements[p]=a.entanglements[p]|1073741824|u&261930}function Tn(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var p=31-mn(u),_=1<<p;_&o|a[p]&o&&(a[p]|=o),u&=~_}}function In(a,o){var u=o&-o;return u=(u&42)!==0?1:gn(u),(u&(a.suspendedLanes|o))!==0?0:u}function gn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function V(){var a=le.p;return a!==0?a:(a=window.event,a===void 0?32:oE(a.type))}function W(a,o){var u=le.p;try{return le.p=a,o()}finally{le.p=u}}var K=Math.random().toString(36).slice(2),J="__reactFiber$"+K,ee="__reactProps$"+K,re="__reactContainer$"+K,me="__reactEvents$"+K,Re="__reactListeners$"+K,ge="__reactHandles$"+K,ye="__reactResources$"+K,xe="__reactMarker$"+K;function Ve(a){delete a[J],delete a[ee],delete a[me],delete a[Re],delete a[ge]}function Ge(a){var o=a[J];if(o)return o;for(var u=a.parentNode;u;){if(o=u[re]||u[J]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=j_(a);a!==null;){if(u=a[J])return u;a=j_(a)}return o}a=u,u=a.parentNode}return null}function Ke(a){if(a=a[J]||a[re]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Oe(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function je(a){var o=a[ye];return o||(o=a[ye]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ze(a){a[xe]=!0}var en=new Set,tn={};function hn(a,o){Sr(a,o),Sr(a+"Capture",o)}function Sr(a,o){for(tn[a]=o,a=0;a<o.length;a++)en.add(o[a])}var Ui=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vi={},ri={};function ls(a){return rt.call(ri,a)?!0:rt.call(Vi,a)?!1:Ui.test(a)?ri[a]=!0:(Vi[a]=!0,!1)}function wr(a,o,u){if(ls(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function ii(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Hn(a,o,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+p)}}function ar(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function cs(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Dc(a,o,u){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,E=p.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return _.call(this)},set:function(F){u=""+F,E.call(this,F)}}),Object.defineProperty(a,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(F){u=""+F},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function nn(a){if(!a._valueTracker){var o=cs(a)?"checked":"value";a._valueTracker=Dc(a,o,""+a[o])}}function co(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return a&&(p=cs(a)?a.checked?"true":"false":a.value),a=p,a!==u?(o.setValue(a),!0):!1}function aa(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var uo=/[\n"\\]/g;function Yr(a){return a.replace(uo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function cl(a,o,u,p,_,E,F,q){a.name="",F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.type=F:a.removeAttribute("type"),o!=null?F==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+ar(o)):a.value!==""+ar(o)&&(a.value=""+ar(o)):F!=="submit"&&F!=="reset"||a.removeAttribute("value"),o!=null?Mc(a,F,ar(o)):u!=null?Mc(a,F,ar(u)):p!=null&&a.removeAttribute("value"),_==null&&E!=null&&(a.defaultChecked=!!E),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+ar(q):a.removeAttribute("name")}function qf(a,o,u,p,_,E,F,q){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),o!=null||u!=null){if(!(E!=="submit"&&E!=="reset"||o!=null)){nn(a);return}u=u!=null?""+ar(u):"",o=o!=null?""+ar(o):u,q||o===a.value||(a.value=o),a.defaultValue=o}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=q?a.checked:!!p,a.defaultChecked=!!p,F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(a.name=F),nn(a)}function Mc(a,o,u){o==="number"&&aa(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function us(a,o,u,p){if(a=a.options,o){o={};for(var _=0;_<u.length;_++)o["$"+u[_]]=!0;for(u=0;u<a.length;u++)_=o.hasOwnProperty("$"+a[u].value),a[u].selected!==_&&(a[u].selected=_),_&&p&&(a[u].defaultSelected=!0)}else{for(u=""+ar(u),o=null,_=0;_<a.length;_++){if(a[_].value===u){a[_].selected=!0,p&&(a[_].defaultSelected=!0);return}o!==null||a[_].disabled||(o=a[_])}o!==null&&(o.selected=!0)}}function jf(a,o,u){if(o!=null&&(o=""+ar(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+ar(u):""}function fs(a,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(Ae(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=ar(o),a.defaultValue=u,p=a.textContent,p===u&&p!==""&&p!==null&&(a.value=p),nn(a)}function Jr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var $f=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(a,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":p?a.setProperty(o,u):typeof u!="number"||u===0||$f.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Pc(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var _ in o)p=o[_],o.hasOwnProperty(_)&&u[_]!==p&&Fc(a,_,p)}else for(var E in o)o.hasOwnProperty(E)&&Fc(a,E,o[E])}function ul(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fl(a){return ds.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Bi(){}var Lc=null;function gi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var hs=null,sa=null;function fo(a){var o=Ke(a);if(o&&(a=o.stateNode)){var u=a[ee]||null;e:switch(a=o.stateNode,o.type){case"input":if(cl(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Yr(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==a&&p.form===a.form){var _=p[ee]||null;if(!_)throw Error(r(90));cl(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===a.form&&co(p)}break e;case"textarea":jf(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&us(a,!!u.multiple,o,!1)}}}var dl=!1;function ps(a,o,u){if(dl)return a(o,u);dl=!0;try{var p=a(o);return p}finally{if(dl=!1,(hs!==null||sa!==null)&&(Bd(),hs&&(o=hs,a=sa,sa=hs=null,fo(o),a)))for(o=0;o<a.length;o++)fo(a[o])}}function Hi(a,o){var u=a.stateNode;if(u===null)return null;var p=u[ee]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=!1;if(vi)try{var on={};Object.defineProperty(on,"passive",{get:function(){ho=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{ho=!1}var oa=null,Oc=null,po=null;function Uc(){if(po)return po;var a,o=Oc,u=o.length,p,_="value"in oa?oa.value:oa.textContent,E=_.length;for(a=0;a<u&&o[a]===_[a];a++);var F=u-a;for(p=1;p<=F&&o[u-p]===_[E-p];p++);return po=_.slice(a,1<p?1-p:void 0)}function mo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Na(){return!0}function Gi(){return!1}function dr(a){function o(u,p,_,E,F){this._reactName=u,this._targetInst=_,this.type=p,this.nativeEvent=E,this.target=F,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(E):E[q]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Na:Gi,this.isPropagationStopped=Gi,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),o}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=dr(Ia),ms=v({},Ia,{view:0,detail:0}),Vc=dr(ms),gs,hl,ca,pl=v({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ca&&(ca&&a.type==="mousemove"?(gs=a.screenX-ca.screenX,hl=a.screenY-ca.screenY):hl=gs=0,ca=a),gs)},movementY:function(a){return"movementY"in a?a.movementY:hl}}),Bc=dr(pl),go=v({},pl,{dataTransfer:0}),Yf=dr(go),Jf=v({},ms,{relatedTarget:0}),vo=dr(Jf),Hc=v({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=dr(Hc),ml=v({},Ia,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xf=dr(ml),Qf=v({},Ia,{data:0}),ua=dr(Qf),Zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ed={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=td[a])?!!o[a]:!1}function vs(){return nd}var Vr=v({},ms,{key:function(a){if(a.key){var o=Zf[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=mo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ed[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(a){return a.type==="keypress"?mo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?mo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),rd=dr(Vr),id=v({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ra=dr(id),x=v({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),R=dr(x),L=v({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y=dr(L),he=v({},pl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ee=dr(he),qe=v({},Ia,{newState:0,oldState:0}),Tt=dr(qe),Pn=[9,13,27,32],Jt=vi&&"CompositionEvent"in window,An=null;vi&&"documentMode"in document&&(An=document.documentMode);var xi=vi&&"TextEvent"in window&&!An,fa=vi&&(!Jt||An&&8<An&&11>=An),zi=" ",qi=!1;function xo(a,o){switch(a){case"keyup":return Pn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var vl=!1;function yI(a,o){switch(a){case"compositionend":return gl(o);case"keypress":return o.which!==32?null:(qi=!0,zi);case"textInput":return a=o.data,a===zi&&qi?null:a;default:return null}}function _I(a,o){if(vl)return a==="compositionend"||!Jt&&xo(a,o)?(a=Uc(),po=Oc=oa=null,vl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return fa&&o.locale!=="ko"?null:o.data;default:return null}}var EI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!EI[a.type]:o==="textarea"}function J1(a,o,u,p){hs?sa?sa.push(p):sa=[p]:hs=p,o=Kd(o,"onChange"),0<o.length&&(u=new la("onChange","change",null,u,p),a.push({event:u,listeners:o}))}var Gc=null,zc=null;function TI(a){k_(a,0)}function ad(a){var o=Oe(a);if(co(o))return a}function W1(a,o){if(a==="change")return o}var X1=!1;if(vi){var W0;if(vi){var X0="oninput"in document;if(!X0){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),X0=typeof Q1.oninput=="function"}W0=X0}else W0=!1;X1=W0&&(!document.documentMode||9<document.documentMode)}function Z1(){Gc&&(Gc.detachEvent("onpropertychange",ex),zc=Gc=null)}function ex(a){if(a.propertyName==="value"&&ad(zc)){var o=[];J1(o,zc,a,gi(a)),ps(TI,o)}}function AI(a,o,u){a==="focusin"?(Z1(),Gc=o,zc=u,Gc.attachEvent("onpropertychange",ex)):a==="focusout"&&Z1()}function SI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ad(zc)}function wI(a,o){if(a==="click")return ad(o)}function CI(a,o){if(a==="input"||a==="change")return ad(o)}function bI(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ai=typeof Object.is=="function"?Object.is:bI;function qc(a,o){if(ai(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var _=u[p];if(!rt.call(o,_)||!ai(a[_],o[_]))return!1}return!0}function tx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function nx(a,o){var u=tx(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=o&&p>=o)return{node:u,offset:o-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=tx(u)}}function rx(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?rx(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function ix(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=aa(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=aa(a.document)}return o}function Q0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var NI=vi&&"documentMode"in document&&11>=document.documentMode,xl=null,Z0=null,jc=null,ep=!1;function ax(a,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ep||xl==null||xl!==aa(p)||(p=xl,"selectionStart"in p&&Q0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),jc&&qc(jc,p)||(jc=p,p=Kd(Z0,"onSelect"),0<p.length&&(o=new la("onSelect","select",null,o,u),a.push({event:o,listeners:p}),o.target=xl)))}function yo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var yl={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionrun:yo("Transition","TransitionRun"),transitionstart:yo("Transition","TransitionStart"),transitioncancel:yo("Transition","TransitionCancel"),transitionend:yo("Transition","TransitionEnd")},tp={},sx={};vi&&(sx=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function _o(a){if(tp[a])return tp[a];if(!yl[a])return a;var o=yl[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in sx)return tp[a]=o[u];return a}var ox=_o("animationend"),lx=_o("animationiteration"),cx=_o("animationstart"),II=_o("transitionrun"),RI=_o("transitionstart"),kI=_o("transitioncancel"),ux=_o("transitionend"),fx=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function ji(a,o){fx.set(a,o),hn(o,[a])}var sd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},yi=[],_l=0,rp=0;function od(){for(var a=_l,o=rp=_l=0;o<a;){var u=yi[o];yi[o++]=null;var p=yi[o];yi[o++]=null;var _=yi[o];yi[o++]=null;var E=yi[o];if(yi[o++]=null,p!==null&&_!==null){var F=p.pending;F===null?_.next=_:(_.next=F.next,F.next=_),p.pending=_}E!==0&&dx(u,_,E)}}function ld(a,o,u,p){yi[_l++]=a,yi[_l++]=o,yi[_l++]=u,yi[_l++]=p,rp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function ip(a,o,u,p){return ld(a,o,u,p),cd(a)}function Eo(a,o){return ld(a,null,null,o),cd(a)}function dx(a,o,u){a.lanes|=u;var p=a.alternate;p!==null&&(p.lanes|=u);for(var _=!1,E=a.return;E!==null;)E.childLanes|=u,p=E.alternate,p!==null&&(p.childLanes|=u),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(_=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,_&&o!==null&&(_=31-mn(u),a=E.hiddenUpdates,p=a[_],p===null?a[_]=[o]:p.push(o),o.lane=u|536870912),E):null}function cd(a){if(50<hu)throw hu=0,hm=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var El={};function DI(a,o,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(a,o,u,p){return new DI(a,o,u,p)}function ap(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ka(a,o){var u=a.alternate;return u===null?(u=si(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function hx(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function ud(a,o,u,p,_,E){var F=0;if(p=a,typeof a=="function")ap(a)&&(F=1);else if(typeof a=="string")F=OR(a,u,Z.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case b:return a=si(31,u,o,_),a.elementType=b,a.lanes=E,a;case w:return To(u.children,_,E,o);case C:F=8,_|=24;break;case O:return a=si(12,u,o,_|2),a.elementType=O,a.lanes=E,a;case G:return a=si(13,u,o,_),a.elementType=G,a.lanes=E,a;case j:return a=si(19,u,o,_),a.elementType=j,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:F=10;break e;case H:F=9;break e;case z:F=11;break e;case I:F=14;break e;case N:F=16,p=null;break e}F=29,u=Error(r(130,a===null?"null":typeof a,"")),p=null}return o=si(F,u,o,_),o.elementType=a,o.type=p,o.lanes=E,o}function To(a,o,u,p){return a=si(7,a,p,o),a.lanes=u,a}function sp(a,o,u){return a=si(6,a,null,o),a.lanes=u,a}function px(a){var o=si(18,null,null,0);return o.stateNode=a,o}function op(a,o,u){return o=si(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var mx=new WeakMap;function _i(a,o){if(typeof a=="object"&&a!==null){var u=mx.get(a);return u!==void 0?u:(o={value:a,source:o,stack:nt(o)},mx.set(a,o),o)}return{value:a,source:o,stack:nt(o)}}var Tl=[],Al=0,fd=null,$c=0,Ei=[],Ti=0,xs=null,da=1,ha="";function Da(a,o){Tl[Al++]=$c,Tl[Al++]=fd,fd=a,$c=o}function gx(a,o,u){Ei[Ti++]=da,Ei[Ti++]=ha,Ei[Ti++]=xs,xs=a;var p=da;a=ha;var _=32-mn(p)-1;p&=~(1<<_),u+=1;var E=32-mn(o)+_;if(30<E){var F=_-_%5;E=(p&(1<<F)-1).toString(32),p>>=F,_-=F,da=1<<32-mn(o)+_|u<<_|p,ha=E+a}else da=1<<E|u<<_|p,ha=a}function lp(a){a.return!==null&&(Da(a,1),gx(a,1,0))}function cp(a){for(;a===fd;)fd=Tl[--Al],Tl[Al]=null,$c=Tl[--Al],Tl[Al]=null;for(;a===xs;)xs=Ei[--Ti],Ei[Ti]=null,ha=Ei[--Ti],Ei[Ti]=null,da=Ei[--Ti],Ei[Ti]=null}function vx(a,o){Ei[Ti++]=da,Ei[Ti++]=ha,Ei[Ti++]=xs,da=o.id,ha=o.overflow,xs=a}var hr=null,xn=null,Ot=!1,ys=null,Ai=!1,up=Error(r(519));function _s(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kc(_i(o,a)),up}function xx(a){var o=a.stateNode,u=a.type,p=a.memoizedProps;switch(o[J]=a,o[ee]=p,u){case"dialog":It("cancel",o),It("close",o);break;case"iframe":case"object":case"embed":It("load",o);break;case"video":case"audio":for(u=0;u<mu.length;u++)It(mu[u],o);break;case"source":It("error",o);break;case"img":case"image":case"link":It("error",o),It("load",o);break;case"details":It("toggle",o);break;case"input":It("invalid",o),qf(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":It("invalid",o);break;case"textarea":It("invalid",o),fs(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||P_(o.textContent,u)?(p.popover!=null&&(It("beforetoggle",o),It("toggle",o)),p.onScroll!=null&&It("scroll",o),p.onScrollEnd!=null&&It("scrollend",o),p.onClick!=null&&(o.onclick=Bi),o=!0):o=!1,o||_s(a,!0)}function yx(a){for(hr=a.return;hr;)switch(hr.tag){case 5:case 31:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:hr=hr.return}}function Sl(a){if(a!==hr)return!1;if(!Ot)return yx(a),Ot=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||Nm(a.type,a.memoizedProps)),u=!u),u&&xn&&_s(a),yx(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xn=q_(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));xn=q_(a)}else o===27?(o=xn,Fs(a.type)?(a=Mm,Mm=null,xn=a):xn=o):xn=hr?wi(a.stateNode.nextSibling):null;return!0}function Ao(){xn=hr=null,Ot=!1}function fp(){var a=ys;return a!==null&&(Zr===null?Zr=a:Zr.push.apply(Zr,a),ys=null),a}function Kc(a){ys===null?ys=[a]:ys.push(a)}var dp=X(null),So=null,Ma=null;function Es(a,o,u){Q(dp,o._currentValue),o._currentValue=u}function Fa(a){a._currentValue=dp.current,B(dp)}function hp(a,o,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===u)break;a=a.return}}function pp(a,o,u,p){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var E=_.dependencies;if(E!==null){var F=_.child;E=E.firstContext;e:for(;E!==null;){var q=E;E=_;for(var se=0;se<o.length;se++)if(q.context===o[se]){E.lanes|=u,q=E.alternate,q!==null&&(q.lanes|=u),hp(E.return,u,a),p||(F=null);break e}E=q.next}}else if(_.tag===18){if(F=_.return,F===null)throw Error(r(341));F.lanes|=u,E=F.alternate,E!==null&&(E.lanes|=u),hp(F,u,a),F=null}else F=_.child;if(F!==null)F.return=_;else for(F=_;F!==null;){if(F===a){F=null;break}if(_=F.sibling,_!==null){_.return=F.return,F=_;break}F=F.return}_=F}}function wl(a,o,u,p){a=null;for(var _=o,E=!1;_!==null;){if(!E){if((_.flags&524288)!==0)E=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var F=_.alternate;if(F===null)throw Error(r(387));if(F=F.memoizedProps,F!==null){var q=_.type;ai(_.pendingProps.value,F.value)||(a!==null?a.push(q):a=[q])}}else if(_===be.current){if(F=_.alternate,F===null)throw Error(r(387));F.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(_u):a=[_u])}_=_.return}a!==null&&pp(o,a,u,p),o.flags|=262144}function dd(a){for(a=a.firstContext;a!==null;){if(!ai(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function wo(a){So=a,Ma=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function pr(a){return _x(So,a)}function hd(a,o){return So===null&&wo(a),_x(a,o)}function _x(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ma===null){if(a===null)throw Error(r(308));Ma=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else Ma=Ma.next=o;return u}var MI=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,p){a.push(p)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},FI=t.unstable_scheduleCallback,PI=t.unstable_NormalPriority,Gn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mp(){return{controller:new MI,data:new Map,refCount:0}}function Yc(a){a.refCount--,a.refCount===0&&FI(PI,function(){a.controller.abort()})}var Jc=null,gp=0,Cl=0,bl=null;function LI(a,o){if(Jc===null){var u=Jc=[];gp=0,Cl=ym(),bl={status:"pending",value:void 0,then:function(p){u.push(p)}}}return gp++,o.then(Ex,Ex),o}function Ex(){if(--gp===0&&Jc!==null){bl!==null&&(bl.status="fulfilled");var a=Jc;Jc=null,Cl=0,bl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function OI(a,o){var u=[],p={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return a.then(function(){p.status="fulfilled",p.value=o;for(var _=0;_<u.length;_++)(0,u[_])(o)},function(_){for(p.status="rejected",p.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),p}var Tx=ae.S;ae.S=function(a,o){a_=ft(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&LI(a,o),Tx!==null&&Tx(a,o)};var Co=X(null);function vp(){var a=Co.current;return a!==null?a:pn.pooledCache}function pd(a,o){o===null?Q(Co,Co.current):Q(Co,o.pool)}function Ax(){var a=vp();return a===null?null:{parent:Gn._currentValue,pool:a}}var Nl=Error(r(460)),xp=Error(r(474)),md=Error(r(542)),gd={then:function(){}};function Sx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function wx(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Bi,Bi),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,bx(a),a;default:if(typeof o.status=="string")o.then(Bi,Bi);else{if(a=pn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(p){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=p}},function(p){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,bx(a),a}throw No=o,Nl}}function bo(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(No=u,Nl):u}}var No=null;function Cx(){if(No===null)throw Error(r(459));var a=No;return No=null,a}function bx(a){if(a===Nl||a===md)throw Error(r(483))}var Il=null,Wc=0;function vd(a){var o=Wc;return Wc+=1,Il===null&&(Il=[]),wx(Il,a,o)}function Xc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function xd(a,o){throw o.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Nx(a){function o(fe,oe){if(a){var pe=fe.deletions;pe===null?(fe.deletions=[oe],fe.flags|=16):pe.push(oe)}}function u(fe,oe){if(!a)return null;for(;oe!==null;)o(fe,oe),oe=oe.sibling;return null}function p(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function _(fe,oe){return fe=ka(fe,oe),fe.index=0,fe.sibling=null,fe}function E(fe,oe,pe){return fe.index=pe,a?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<oe?(fe.flags|=67108866,oe):pe):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function F(fe){return a&&fe.alternate===null&&(fe.flags|=67108866),fe}function q(fe,oe,pe,De){return oe===null||oe.tag!==6?(oe=sp(pe,fe.mode,De),oe.return=fe,oe):(oe=_(oe,pe),oe.return=fe,oe)}function se(fe,oe,pe,De){var at=pe.type;return at===w?ke(fe,oe,pe.props.children,De,pe.key):oe!==null&&(oe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&bo(at)===oe.type)?(oe=_(oe,pe.props),Xc(oe,pe),oe.return=fe,oe):(oe=ud(pe.type,pe.key,pe.props,null,fe.mode,De),Xc(oe,pe),oe.return=fe,oe)}function ve(fe,oe,pe,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==pe.containerInfo||oe.stateNode.implementation!==pe.implementation?(oe=op(pe,fe.mode,De),oe.return=fe,oe):(oe=_(oe,pe.children||[]),oe.return=fe,oe)}function ke(fe,oe,pe,De,at){return oe===null||oe.tag!==7?(oe=To(pe,fe.mode,De,at),oe.return=fe,oe):(oe=_(oe,pe),oe.return=fe,oe)}function Me(fe,oe,pe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=sp(""+oe,fe.mode,pe),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return pe=ud(oe.type,oe.key,oe.props,null,fe.mode,pe),Xc(pe,oe),pe.return=fe,pe;case S:return oe=op(oe,fe.mode,pe),oe.return=fe,oe;case N:return oe=bo(oe),Me(fe,oe,pe)}if(Ae(oe)||k(oe))return oe=To(oe,fe.mode,pe,null),oe.return=fe,oe;if(typeof oe.then=="function")return Me(fe,vd(oe),pe);if(oe.$$typeof===D)return Me(fe,hd(fe,oe),pe);xd(fe,oe)}return null}function _e(fe,oe,pe,De){var at=oe!==null?oe.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return at!==null?null:q(fe,oe,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case A:return pe.key===at?se(fe,oe,pe,De):null;case S:return pe.key===at?ve(fe,oe,pe,De):null;case N:return pe=bo(pe),_e(fe,oe,pe,De)}if(Ae(pe)||k(pe))return at!==null?null:ke(fe,oe,pe,De,null);if(typeof pe.then=="function")return _e(fe,oe,vd(pe),De);if(pe.$$typeof===D)return _e(fe,oe,hd(fe,pe),De);xd(fe,pe)}return null}function Se(fe,oe,pe,De,at){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return fe=fe.get(pe)||null,q(oe,fe,""+De,at);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case A:return fe=fe.get(De.key===null?pe:De.key)||null,se(oe,fe,De,at);case S:return fe=fe.get(De.key===null?pe:De.key)||null,ve(oe,fe,De,at);case N:return De=bo(De),Se(fe,oe,pe,De,at)}if(Ae(De)||k(De))return fe=fe.get(pe)||null,ke(oe,fe,De,at,null);if(typeof De.then=="function")return Se(fe,oe,pe,vd(De),at);if(De.$$typeof===D)return Se(fe,oe,pe,hd(oe,De),at);xd(oe,De)}return null}function Qe(fe,oe,pe,De){for(var at=null,$t=null,tt=oe,Ct=oe=0,Dt=null;tt!==null&&Ct<pe.length;Ct++){tt.index>Ct?(Dt=tt,tt=null):Dt=tt.sibling;var Kt=_e(fe,tt,pe[Ct],De);if(Kt===null){tt===null&&(tt=Dt);break}a&&tt&&Kt.alternate===null&&o(fe,tt),oe=E(Kt,oe,Ct),$t===null?at=Kt:$t.sibling=Kt,$t=Kt,tt=Dt}if(Ct===pe.length)return u(fe,tt),Ot&&Da(fe,Ct),at;if(tt===null){for(;Ct<pe.length;Ct++)tt=Me(fe,pe[Ct],De),tt!==null&&(oe=E(tt,oe,Ct),$t===null?at=tt:$t.sibling=tt,$t=tt);return Ot&&Da(fe,Ct),at}for(tt=p(tt);Ct<pe.length;Ct++)Dt=Se(tt,fe,Ct,pe[Ct],De),Dt!==null&&(a&&Dt.alternate!==null&&tt.delete(Dt.key===null?Ct:Dt.key),oe=E(Dt,oe,Ct),$t===null?at=Dt:$t.sibling=Dt,$t=Dt);return a&&tt.forEach(function(Vs){return o(fe,Vs)}),Ot&&Da(fe,Ct),at}function ct(fe,oe,pe,De){if(pe==null)throw Error(r(151));for(var at=null,$t=null,tt=oe,Ct=oe=0,Dt=null,Kt=pe.next();tt!==null&&!Kt.done;Ct++,Kt=pe.next()){tt.index>Ct?(Dt=tt,tt=null):Dt=tt.sibling;var Vs=_e(fe,tt,Kt.value,De);if(Vs===null){tt===null&&(tt=Dt);break}a&&tt&&Vs.alternate===null&&o(fe,tt),oe=E(Vs,oe,Ct),$t===null?at=Vs:$t.sibling=Vs,$t=Vs,tt=Dt}if(Kt.done)return u(fe,tt),Ot&&Da(fe,Ct),at;if(tt===null){for(;!Kt.done;Ct++,Kt=pe.next())Kt=Me(fe,Kt.value,De),Kt!==null&&(oe=E(Kt,oe,Ct),$t===null?at=Kt:$t.sibling=Kt,$t=Kt);return Ot&&Da(fe,Ct),at}for(tt=p(tt);!Kt.done;Ct++,Kt=pe.next())Kt=Se(tt,fe,Ct,Kt.value,De),Kt!==null&&(a&&Kt.alternate!==null&&tt.delete(Kt.key===null?Ct:Kt.key),oe=E(Kt,oe,Ct),$t===null?at=Kt:$t.sibling=Kt,$t=Kt);return a&&tt.forEach(function(YR){return o(fe,YR)}),Ot&&Da(fe,Ct),at}function un(fe,oe,pe,De){if(typeof pe=="object"&&pe!==null&&pe.type===w&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case A:e:{for(var at=pe.key;oe!==null;){if(oe.key===at){if(at=pe.type,at===w){if(oe.tag===7){u(fe,oe.sibling),De=_(oe,pe.props.children),De.return=fe,fe=De;break e}}else if(oe.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===N&&bo(at)===oe.type){u(fe,oe.sibling),De=_(oe,pe.props),Xc(De,pe),De.return=fe,fe=De;break e}u(fe,oe);break}else o(fe,oe);oe=oe.sibling}pe.type===w?(De=To(pe.props.children,fe.mode,De,pe.key),De.return=fe,fe=De):(De=ud(pe.type,pe.key,pe.props,null,fe.mode,De),Xc(De,pe),De.return=fe,fe=De)}return F(fe);case S:e:{for(at=pe.key;oe!==null;){if(oe.key===at)if(oe.tag===4&&oe.stateNode.containerInfo===pe.containerInfo&&oe.stateNode.implementation===pe.implementation){u(fe,oe.sibling),De=_(oe,pe.children||[]),De.return=fe,fe=De;break e}else{u(fe,oe);break}else o(fe,oe);oe=oe.sibling}De=op(pe,fe.mode,De),De.return=fe,fe=De}return F(fe);case N:return pe=bo(pe),un(fe,oe,pe,De)}if(Ae(pe))return Qe(fe,oe,pe,De);if(k(pe)){if(at=k(pe),typeof at!="function")throw Error(r(150));return pe=at.call(pe),ct(fe,oe,pe,De)}if(typeof pe.then=="function")return un(fe,oe,vd(pe),De);if(pe.$$typeof===D)return un(fe,oe,hd(fe,pe),De);xd(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,oe!==null&&oe.tag===6?(u(fe,oe.sibling),De=_(oe,pe),De.return=fe,fe=De):(u(fe,oe),De=sp(pe,fe.mode,De),De.return=fe,fe=De),F(fe)):u(fe,oe)}return function(fe,oe,pe,De){try{Wc=0;var at=un(fe,oe,pe,De);return Il=null,at}catch(tt){if(tt===Nl||tt===md)throw tt;var $t=si(29,tt,null,fe.mode);return $t.lanes=De,$t.return=fe,$t}finally{}}}var Io=Nx(!0),Ix=Nx(!1),Ts=!1;function yp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _p(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function As(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ss(a,o,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Wt&2)!==0){var _=p.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),p.pending=o,o=cd(a),dx(a,null,u),o}return ld(a,p,o,u),cd(a)}function Qc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Tn(a,u)}}function Ep(a,o){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var _=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var F={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};E===null?_=E=F:E=E.next=F,u=u.next}while(u!==null);E===null?_=E=o:E=E.next=o}else _=E=o;u={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:p.shared,callbacks:p.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Tp=!1;function Zc(){if(Tp){var a=bl;if(a!==null)throw a}}function eu(a,o,u,p){Tp=!1;var _=a.updateQueue;Ts=!1;var E=_.firstBaseUpdate,F=_.lastBaseUpdate,q=_.shared.pending;if(q!==null){_.shared.pending=null;var se=q,ve=se.next;se.next=null,F===null?E=ve:F.next=ve,F=se;var ke=a.alternate;ke!==null&&(ke=ke.updateQueue,q=ke.lastBaseUpdate,q!==F&&(q===null?ke.firstBaseUpdate=ve:q.next=ve,ke.lastBaseUpdate=se))}if(E!==null){var Me=_.baseState;F=0,ke=ve=se=null,q=E;do{var _e=q.lane&-536870913,Se=_e!==q.lane;if(Se?(kt&_e)===_e:(p&_e)===_e){_e!==0&&_e===Cl&&(Tp=!0),ke!==null&&(ke=ke.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Qe=a,ct=q;_e=o;var un=u;switch(ct.tag){case 1:if(Qe=ct.payload,typeof Qe=="function"){Me=Qe.call(un,Me,_e);break e}Me=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=ct.payload,_e=typeof Qe=="function"?Qe.call(un,Me,_e):Qe,_e==null)break e;Me=v({},Me,_e);break e;case 2:Ts=!0}}_e=q.callback,_e!==null&&(a.flags|=64,Se&&(a.flags|=8192),Se=_.callbacks,Se===null?_.callbacks=[_e]:Se.push(_e))}else Se={lane:_e,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ke===null?(ve=ke=Se,se=Me):ke=ke.next=Se,F|=_e;if(q=q.next,q===null){if(q=_.shared.pending,q===null)break;Se=q,q=Se.next,Se.next=null,_.lastBaseUpdate=Se,_.shared.pending=null}}while(!0);ke===null&&(se=Me),_.baseState=se,_.firstBaseUpdate=ve,_.lastBaseUpdate=ke,E===null&&(_.shared.lanes=0),Is|=F,a.lanes=F,a.memoizedState=Me}}function Rx(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function kx(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Rx(u[a],o)}var Rl=X(null),yd=X(0);function Dx(a,o){a=za,Q(yd,a),Q(Rl,o),za=a|o.baseLanes}function Ap(){Q(yd,za),Q(Rl,Rl.current)}function Sp(){za=yd.current,B(Rl),B(yd)}var oi=X(null),Si=null;function ws(a){var o=a.alternate;Q(Ln,Ln.current&1),Q(oi,a),Si===null&&(o===null||Rl.current!==null||o.memoizedState!==null)&&(Si=a)}function wp(a){Q(Ln,Ln.current),Q(oi,a),Si===null&&(Si=a)}function Mx(a){a.tag===22?(Q(Ln,Ln.current),Q(oi,a),Si===null&&(Si=a)):Cs()}function Cs(){Q(Ln,Ln.current),Q(oi,oi.current)}function li(a){B(oi),Si===a&&(Si=null),B(Ln)}var Ln=X(0);function _d(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||km(u)||Dm(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Pa=0,At=null,ln=null,zn=null,Ed=!1,kl=!1,Ro=!1,Td=0,tu=0,Dl=null,UI=0;function Rn(){throw Error(r(321))}function Cp(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ai(a[u],o[u]))return!1;return!0}function bp(a,o,u,p,_,E){return Pa=E,At=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ae.H=a===null||a.memoizedState===null?gy:Gp,Ro=!1,E=u(p,_),Ro=!1,kl&&(E=Px(o,u,p,_)),Fx(a),E}function Fx(a){ae.H=iu;var o=ln!==null&&ln.next!==null;if(Pa=0,zn=ln=At=null,Ed=!1,tu=0,Dl=null,o)throw Error(r(300));a===null||qn||(a=a.dependencies,a!==null&&dd(a)&&(qn=!0))}function Px(a,o,u,p){At=a;var _=0;do{if(kl&&(Dl=null),tu=0,kl=!1,25<=_)throw Error(r(301));if(_+=1,zn=ln=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}ae.H=vy,E=o(u,p)}while(kl);return E}function VI(){var a=ae.H,o=a.useState()[0];return o=typeof o.then=="function"?nu(o):o,a=a.useState()[0],(ln!==null?ln.memoizedState:null)!==a&&(At.flags|=1024),o}function Np(){var a=Td!==0;return Td=0,a}function Ip(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Rp(a){if(Ed){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Ed=!1}Pa=0,zn=ln=At=null,kl=!1,tu=Td=0,Dl=null}function Br(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?At.memoizedState=zn=a:zn=zn.next=a,zn}function On(){if(ln===null){var a=At.alternate;a=a!==null?a.memoizedState:null}else a=ln.next;var o=zn===null?At.memoizedState:zn.next;if(o!==null)zn=o,ln=a;else{if(a===null)throw At.alternate===null?Error(r(467)):Error(r(310));ln=a,a={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},zn===null?At.memoizedState=zn=a:zn=zn.next=a}return zn}function Ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(a){var o=tu;return tu+=1,Dl===null&&(Dl=[]),a=wx(Dl,a,o),o=At,(zn===null?o.memoizedState:zn.next)===null&&(o=o.alternate,ae.H=o===null||o.memoizedState===null?gy:Gp),a}function Sd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nu(a);if(a.$$typeof===D)return pr(a)}throw Error(r(438,String(a)))}function kp(a){var o=null,u=At.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=At.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Ad(),At.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),p=0;p<a;p++)u[p]=P;return o.index++,u}function La(a,o){return typeof o=="function"?o(a):o}function wd(a){var o=On();return Dp(o,ln,a)}function Dp(a,o,u){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var _=a.baseQueue,E=p.pending;if(E!==null){if(_!==null){var F=_.next;_.next=E.next,E.next=F}o.baseQueue=_=E,p.pending=null}if(E=a.baseState,_===null)a.memoizedState=E;else{o=_.next;var q=F=null,se=null,ve=o,ke=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(kt&Me)===Me:(Pa&Me)===Me){var _e=ve.revertLane;if(_e===0)se!==null&&(se=se.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===Cl&&(ke=!0);else if((Pa&_e)===_e){ve=ve.next,_e===Cl&&(ke=!0);continue}else Me={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(q=se=Me,F=E):se=se.next=Me,At.lanes|=_e,Is|=_e;Me=ve.action,Ro&&u(E,Me),E=ve.hasEagerState?ve.eagerState:u(E,Me)}else _e={lane:Me,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},se===null?(q=se=_e,F=E):se=se.next=_e,At.lanes|=Me,Is|=Me;ve=ve.next}while(ve!==null&&ve!==o);if(se===null?F=E:se.next=q,!ai(E,a.memoizedState)&&(qn=!0,ke&&(u=bl,u!==null)))throw u;a.memoizedState=E,a.baseState=F,a.baseQueue=se,p.lastRenderedState=E}return _===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Mp(a){var o=On(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var p=u.dispatch,_=u.pending,E=o.memoizedState;if(_!==null){u.pending=null;var F=_=_.next;do E=a(E,F.action),F=F.next;while(F!==_);ai(E,o.memoizedState)||(qn=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),u.lastRenderedState=E}return[E,p]}function Lx(a,o,u){var p=At,_=On(),E=Ot;if(E){if(u===void 0)throw Error(r(407));u=u()}else u=o();var F=!ai((ln||_).memoizedState,u);if(F&&(_.memoizedState=u,qn=!0),_=_.queue,Lp(Vx.bind(null,p,_,a),[a]),_.getSnapshot!==o||F||zn!==null&&zn.memoizedState.tag&1){if(p.flags|=2048,Ml(9,{destroy:void 0},Ux.bind(null,p,_,u,o),null),pn===null)throw Error(r(349));E||(Pa&127)!==0||Ox(p,o,u)}return u}function Ox(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=At.updateQueue,o===null?(o=Ad(),At.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function Ux(a,o,u,p){o.value=u,o.getSnapshot=p,Bx(o)&&Hx(a)}function Vx(a,o,u){return u(function(){Bx(o)&&Hx(a)})}function Bx(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ai(a,u)}catch{return!0}}function Hx(a){var o=Eo(a,2);o!==null&&ei(o,a,2)}function Fp(a){var o=Br();if(typeof a=="function"){var u=a;if(a=u(),Ro){ir(!0);try{u()}finally{ir(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:a},o}function Gx(a,o,u,p){return a.baseState=u,Dp(a,ln,typeof p=="function"?p:La)}function BI(a,o,u,p,_){if(Nd(a))throw Error(r(485));if(a=o.action,a!==null){var E={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(F){E.listeners.push(F)}};ae.T!==null?u(!0):E.isTransition=!1,p(E),u=o.pending,u===null?(E.next=o.pending=E,zx(o,E)):(E.next=u.next,o.pending=u.next=E)}}function zx(a,o){var u=o.action,p=o.payload,_=a.state;if(o.isTransition){var E=ae.T,F={};ae.T=F;try{var q=u(_,p),se=ae.S;se!==null&&se(F,q),qx(a,o,q)}catch(ve){Pp(a,o,ve)}finally{E!==null&&F.types!==null&&(E.types=F.types),ae.T=E}}else try{E=u(_,p),qx(a,o,E)}catch(ve){Pp(a,o,ve)}}function qx(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){jx(a,o,p)},function(p){return Pp(a,o,p)}):jx(a,o,u)}function jx(a,o,u){o.status="fulfilled",o.value=u,$x(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,zx(a,u)))}function Pp(a,o,u){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,$x(o),o=o.next;while(o!==p)}a.action=null}function $x(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function Kx(a,o){return o}function Yx(a,o){if(Ot){var u=pn.formState;if(u!==null){e:{var p=At;if(Ot){if(xn){t:{for(var _=xn,E=Ai;_.nodeType!==8;){if(!E){_=null;break t}if(_=wi(_.nextSibling),_===null){_=null;break t}}E=_.data,_=E==="F!"||E==="F"?_:null}if(_){xn=wi(_.nextSibling),p=_.data==="F!";break e}}_s(p)}p=!1}p&&(o=u[0])}}return u=Br(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:o},u.queue=p,u=hy.bind(null,At,p),p.dispatch=u,p=Fp(!1),E=Hp.bind(null,At,!1,p.queue),p=Br(),_={state:o,dispatch:null,action:a,pending:null},p.queue=_,u=BI.bind(null,At,_,E,u),_.dispatch=u,p.memoizedState=a,[o,u,!1]}function Jx(a){var o=On();return Wx(o,ln,a)}function Wx(a,o,u){if(o=Dp(a,o,Kx)[0],a=wd(La)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=nu(o)}catch(F){throw F===Nl?md:F}else p=o;o=On();var _=o.queue,E=_.dispatch;return u!==o.memoizedState&&(At.flags|=2048,Ml(9,{destroy:void 0},HI.bind(null,_,u),null)),[p,E,a]}function HI(a,o){a.action=o}function Xx(a){var o=On(),u=ln;if(u!==null)return Wx(o,u,a);On(),o=o.memoizedState,u=On();var p=u.queue.dispatch;return u.memoizedState=a,[o,p,!1]}function Ml(a,o,u,p){return a={tag:a,create:u,deps:p,inst:o,next:null},o=At.updateQueue,o===null&&(o=Ad(),At.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,o.lastEffect=a),a}function Qx(){return On().memoizedState}function Cd(a,o,u,p){var _=Br();At.flags|=a,_.memoizedState=Ml(1|o,{destroy:void 0},u,p===void 0?null:p)}function bd(a,o,u,p){var _=On();p=p===void 0?null:p;var E=_.memoizedState.inst;ln!==null&&p!==null&&Cp(p,ln.memoizedState.deps)?_.memoizedState=Ml(o,E,u,p):(At.flags|=a,_.memoizedState=Ml(1|o,E,u,p))}function Zx(a,o){Cd(8390656,8,a,o)}function Lp(a,o){bd(2048,8,a,o)}function GI(a){At.flags|=4;var o=At.updateQueue;if(o===null)o=Ad(),At.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function ey(a){var o=On().memoizedState;return GI({ref:o,nextImpl:a}),function(){if((Wt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function ty(a,o){return bd(4,2,a,o)}function ny(a,o){return bd(4,4,a,o)}function ry(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function iy(a,o,u){u=u!=null?u.concat([a]):null,bd(4,4,ry.bind(null,o,a),u)}function Op(){}function ay(a,o){var u=On();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&Cp(o,p[1])?p[0]:(u.memoizedState=[a,o],a)}function sy(a,o){var u=On();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&Cp(o,p[1]))return p[0];if(p=a(),Ro){ir(!0);try{a()}finally{ir(!1)}}return u.memoizedState=[p,o],p}function Up(a,o,u){return u===void 0||(Pa&1073741824)!==0&&(kt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=o_(),At.lanes|=a,Is|=a,u)}function oy(a,o,u,p){return ai(u,o)?u:Rl.current!==null?(a=Up(a,u,p),ai(a,o)||(qn=!0),a):(Pa&42)===0||(Pa&1073741824)!==0&&(kt&261930)===0?(qn=!0,a.memoizedState=u):(a=o_(),At.lanes|=a,Is|=a,o)}function ly(a,o,u,p,_){var E=le.p;le.p=E!==0&&8>E?E:8;var F=ae.T,q={};ae.T=q,Hp(a,!1,o,u);try{var se=_(),ve=ae.S;if(ve!==null&&ve(q,se),se!==null&&typeof se=="object"&&typeof se.then=="function"){var ke=OI(se,p);ru(a,o,ke,fi(a))}else ru(a,o,p,fi(a))}catch(Me){ru(a,o,{then:function(){},status:"rejected",reason:Me},fi())}finally{le.p=E,F!==null&&q.types!==null&&(F.types=q.types),ae.T=F}}function zI(){}function Vp(a,o,u,p){if(a.tag!==5)throw Error(r(476));var _=cy(a).queue;ly(a,_,o,Ne,u===null?zI:function(){return uy(a),u(p)})}function cy(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:Ne},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function uy(a){var o=cy(a);o.next===null&&(o=a.alternate.memoizedState),ru(a,o.next.queue,{},fi())}function Bp(){return pr(_u)}function fy(){return On().memoizedState}function dy(){return On().memoizedState}function qI(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=fi();a=As(u);var p=Ss(o,a,u);p!==null&&(ei(p,o,u),Qc(p,o,u)),o={cache:mp()},a.payload=o;return}o=o.return}}function jI(a,o,u){var p=fi();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Nd(a)?py(o,u):(u=ip(a,o,u,p),u!==null&&(ei(u,a,p),my(u,o,p)))}function hy(a,o,u){var p=fi();ru(a,o,u,p)}function ru(a,o,u,p){var _={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Nd(a))py(o,_);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var F=o.lastRenderedState,q=E(F,u);if(_.hasEagerState=!0,_.eagerState=q,ai(q,F))return ld(a,o,_,0),pn===null&&od(),!1}catch{}finally{}if(u=ip(a,o,_,p),u!==null)return ei(u,a,p),my(u,o,p),!0}return!1}function Hp(a,o,u,p){if(p={lane:2,revertLane:ym(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Nd(a)){if(o)throw Error(r(479))}else o=ip(a,u,p,2),o!==null&&ei(o,a,2)}function Nd(a){var o=a.alternate;return a===At||o!==null&&o===At}function py(a,o){kl=Ed=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function my(a,o,u){if((u&4194048)!==0){var p=o.lanes;p&=a.pendingLanes,u|=p,o.lanes=u,Tn(a,u)}}var iu={readContext:pr,use:Sd,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn};iu.useEffectEvent=Rn;var gy={readContext:pr,use:Sd,useCallback:function(a,o){return Br().memoizedState=[a,o===void 0?null:o],a},useContext:pr,useEffect:Zx,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Cd(4194308,4,ry.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Cd(4194308,4,a,o)},useInsertionEffect:function(a,o){Cd(4,2,a,o)},useMemo:function(a,o){var u=Br();o=o===void 0?null:o;var p=a();if(Ro){ir(!0);try{a()}finally{ir(!1)}}return u.memoizedState=[p,o],p},useReducer:function(a,o,u){var p=Br();if(u!==void 0){var _=u(o);if(Ro){ir(!0);try{u(o)}finally{ir(!1)}}}else _=o;return p.memoizedState=p.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},p.queue=a,a=a.dispatch=jI.bind(null,At,a),[p.memoizedState,a]},useRef:function(a){var o=Br();return a={current:a},o.memoizedState=a},useState:function(a){a=Fp(a);var o=a.queue,u=hy.bind(null,At,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:Op,useDeferredValue:function(a,o){var u=Br();return Up(u,a,o)},useTransition:function(){var a=Fp(!1);return a=ly.bind(null,At,a.queue,!0,!1),Br().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var p=At,_=Br();if(Ot){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),pn===null)throw Error(r(349));(kt&127)!==0||Ox(p,o,u)}_.memoizedState=u;var E={value:u,getSnapshot:o};return _.queue=E,Zx(Vx.bind(null,p,E,a),[a]),p.flags|=2048,Ml(9,{destroy:void 0},Ux.bind(null,p,E,u,o),null),u},useId:function(){var a=Br(),o=pn.identifierPrefix;if(Ot){var u=ha,p=da;u=(p&~(1<<32-mn(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Td++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=UI++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Bp,useFormState:Yx,useActionState:Yx,useOptimistic:function(a){var o=Br();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Hp.bind(null,At,!0,u),u.dispatch=o,[a,o]},useMemoCache:kp,useCacheRefresh:function(){return Br().memoizedState=qI.bind(null,At)},useEffectEvent:function(a){var o=Br(),u={impl:a};return o.memoizedState=u,function(){if((Wt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Gp={readContext:pr,use:Sd,useCallback:ay,useContext:pr,useEffect:Lp,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:wd,useRef:Qx,useState:function(){return wd(La)},useDebugValue:Op,useDeferredValue:function(a,o){var u=On();return oy(u,ln.memoizedState,a,o)},useTransition:function(){var a=wd(La)[0],o=On().memoizedState;return[typeof a=="boolean"?a:nu(a),o]},useSyncExternalStore:Lx,useId:fy,useHostTransitionStatus:Bp,useFormState:Jx,useActionState:Jx,useOptimistic:function(a,o){var u=On();return Gx(u,ln,a,o)},useMemoCache:kp,useCacheRefresh:dy};Gp.useEffectEvent=ey;var vy={readContext:pr,use:Sd,useCallback:ay,useContext:pr,useEffect:Lp,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:Mp,useRef:Qx,useState:function(){return Mp(La)},useDebugValue:Op,useDeferredValue:function(a,o){var u=On();return ln===null?Up(u,a,o):oy(u,ln.memoizedState,a,o)},useTransition:function(){var a=Mp(La)[0],o=On().memoizedState;return[typeof a=="boolean"?a:nu(a),o]},useSyncExternalStore:Lx,useId:fy,useHostTransitionStatus:Bp,useFormState:Xx,useActionState:Xx,useOptimistic:function(a,o){var u=On();return ln!==null?Gx(u,ln,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:kp,useCacheRefresh:dy};vy.useEffectEvent=ey;function zp(a,o,u,p){o=a.memoizedState,u=u(p,o),u=u==null?o:v({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var qp={enqueueSetState:function(a,o,u){a=a._reactInternals;var p=fi(),_=As(p);_.payload=o,u!=null&&(_.callback=u),o=Ss(a,_,p),o!==null&&(ei(o,a,p),Qc(o,a,p))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var p=fi(),_=As(p);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Ss(a,_,p),o!==null&&(ei(o,a,p),Qc(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=fi(),p=As(u);p.tag=2,o!=null&&(p.callback=o),o=Ss(a,p,u),o!==null&&(ei(o,a,u),Qc(o,a,u))}};function xy(a,o,u,p,_,E,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,E,F):o.prototype&&o.prototype.isPureReactComponent?!qc(u,p)||!qc(_,E):!0}function yy(a,o,u,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==a&&qp.enqueueReplaceState(o,o.state,null)}function ko(a,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(a=a.defaultProps){u===o&&(u=v({},u));for(var _ in a)u[_]===void 0&&(u[_]=a[_])}return u}function _y(a){sd(a)}function Ey(a){console.error(a)}function Ty(a){sd(a)}function Id(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Ay(a,o,u){try{var p=a.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function jp(a,o,u){return u=As(u),u.tag=3,u.payload={element:null},u.callback=function(){Id(a,o)},u}function Sy(a){return a=As(a),a.tag=3,a}function wy(a,o,u,p){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var E=p.value;a.payload=function(){return _(E)},a.callback=function(){Ay(o,u,p)}}var F=u.stateNode;F!==null&&typeof F.componentDidCatch=="function"&&(a.callback=function(){Ay(o,u,p),typeof _!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var q=p.stack;this.componentDidCatch(p.value,{componentStack:q!==null?q:""})})}function $I(a,o,u,p,_){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&wl(o,u,_,!0),u=oi.current,u!==null){switch(u.tag){case 31:case 13:return Si===null?Hd():u.alternate===null&&kn===0&&(kn=3),u.flags&=-257,u.flags|=65536,u.lanes=_,p===gd?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),gm(a,p,_)),!1;case 22:return u.flags|=65536,p===gd?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),gm(a,p,_)),!1}throw Error(r(435,u.tag))}return gm(a,p,_),Hd(),!1}if(Ot)return o=oi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,p!==up&&(a=Error(r(422),{cause:p}),Kc(_i(a,u)))):(p!==up&&(o=Error(r(423),{cause:p}),Kc(_i(o,u))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,p=_i(p,u),_=jp(a.stateNode,p,_),Ep(a,_),kn!==4&&(kn=2)),!1;var E=Error(r(520),{cause:p});if(E=_i(E,u),du===null?du=[E]:du.push(E),kn!==4&&(kn=2),o===null)return!0;p=_i(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=_&-_,u.lanes|=a,a=jp(u.stateNode,p,a),Ep(u,a),!1;case 1:if(o=u.type,E=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Rs===null||!Rs.has(E))))return u.flags|=65536,_&=-_,u.lanes|=_,_=Sy(_),wy(_,a,u,p),Ep(u,_),!1}u=u.return}while(u!==null);return!1}var $p=Error(r(461)),qn=!1;function mr(a,o,u,p){o.child=a===null?Ix(o,null,u,p):Io(o,a.child,u,p)}function Cy(a,o,u,p,_){u=u.render;var E=o.ref;if("ref"in p){var F={};for(var q in p)q!=="ref"&&(F[q]=p[q])}else F=p;return wo(o),p=bp(a,o,u,F,E,_),q=Np(),a!==null&&!qn?(Ip(a,o,_),Oa(a,o,_)):(Ot&&q&&lp(o),o.flags|=1,mr(a,o,p,_),o.child)}function by(a,o,u,p,_){if(a===null){var E=u.type;return typeof E=="function"&&!ap(E)&&E.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=E,Ny(a,o,E,p,_)):(a=ud(u.type,null,p,o,o.mode,_),a.ref=o.ref,a.return=o,o.child=a)}if(E=a.child,!em(a,_)){var F=E.memoizedProps;if(u=u.compare,u=u!==null?u:qc,u(F,p)&&a.ref===o.ref)return Oa(a,o,_)}return o.flags|=1,a=ka(E,p),a.ref=o.ref,a.return=o,o.child=a}function Ny(a,o,u,p,_){if(a!==null){var E=a.memoizedProps;if(qc(E,p)&&a.ref===o.ref)if(qn=!1,o.pendingProps=p=E,em(a,_))(a.flags&131072)!==0&&(qn=!0);else return o.lanes=a.lanes,Oa(a,o,_)}return Kp(a,o,u,p,_)}function Iy(a,o,u,p){var _=p.children,E=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(E=E!==null?E.baseLanes|u:u,a!==null){for(p=o.child=a.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~E}else p=0,o.child=null;return Ry(a,o,E,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&pd(o,E!==null?E.cachePool:null),E!==null?Dx(o,E):Ap(),Mx(o);else return p=o.lanes=536870912,Ry(a,o,E!==null?E.baseLanes|u:u,u,p)}else E!==null?(pd(o,E.cachePool),Dx(o,E),Cs(),o.memoizedState=null):(a!==null&&pd(o,null),Ap(),Cs());return mr(a,o,_,u),o.child}function au(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Ry(a,o,u,p,_){var E=vp();return E=E===null?null:{parent:Gn._currentValue,pool:E},o.memoizedState={baseLanes:u,cachePool:E},a!==null&&pd(o,null),Ap(),Mx(o),a!==null&&wl(a,o,p,!0),o.childLanes=_,null}function Rd(a,o){return o=Dd({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function ky(a,o,u){return Io(o,a.child,null,u),a=Rd(o,o.pendingProps),a.flags|=2,li(o),o.memoizedState=null,a}function KI(a,o,u){var p=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Ot){if(p.mode==="hidden")return a=Rd(o,p),o.lanes=536870912,au(null,a);if(wp(o),(a=xn)?(a=z_(a,Ai),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:xs!==null?{id:da,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},u=px(a),u.return=o,o.child=u,hr=o,xn=null)):a=null,a===null)throw _s(o);return o.lanes=536870912,null}return Rd(o,p)}var E=a.memoizedState;if(E!==null){var F=E.dehydrated;if(wp(o),_)if(o.flags&256)o.flags&=-257,o=ky(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(qn||wl(a,o,u,!1),_=(u&a.childLanes)!==0,qn||_){if(p=pn,p!==null&&(F=In(p,u),F!==0&&F!==E.retryLane))throw E.retryLane=F,Eo(a,F),ei(p,a,F),$p;Hd(),o=ky(a,o,u)}else a=E.treeContext,xn=wi(F.nextSibling),hr=o,Ot=!0,ys=null,Ai=!1,a!==null&&vx(o,a),o=Rd(o,p),o.flags|=4096;return o}return a=ka(a.child,{mode:p.mode,children:p.children}),a.ref=o.ref,o.child=a,a.return=o,a}function kd(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Kp(a,o,u,p,_){return wo(o),u=bp(a,o,u,p,void 0,_),p=Np(),a!==null&&!qn?(Ip(a,o,_),Oa(a,o,_)):(Ot&&p&&lp(o),o.flags|=1,mr(a,o,u,_),o.child)}function Dy(a,o,u,p,_,E){return wo(o),o.updateQueue=null,u=Px(o,p,u,_),Fx(a),p=Np(),a!==null&&!qn?(Ip(a,o,E),Oa(a,o,E)):(Ot&&p&&lp(o),o.flags|=1,mr(a,o,u,E),o.child)}function My(a,o,u,p,_){if(wo(o),o.stateNode===null){var E=El,F=u.contextType;typeof F=="object"&&F!==null&&(E=pr(F)),E=new u(p,E),o.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=qp,o.stateNode=E,E._reactInternals=o,E=o.stateNode,E.props=p,E.state=o.memoizedState,E.refs={},yp(o),F=u.contextType,E.context=typeof F=="object"&&F!==null?pr(F):El,E.state=o.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(zp(o,u,F,p),E.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(F=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),F!==E.state&&qp.enqueueReplaceState(E,E.state,null),eu(o,p,E,_),Zc(),E.state=o.memoizedState),typeof E.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(a===null){E=o.stateNode;var q=o.memoizedProps,se=ko(u,q);E.props=se;var ve=E.context,ke=u.contextType;F=El,typeof ke=="object"&&ke!==null&&(F=pr(ke));var Me=u.getDerivedStateFromProps;ke=typeof Me=="function"||typeof E.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,ke||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(q||ve!==F)&&yy(o,E,p,F),Ts=!1;var _e=o.memoizedState;E.state=_e,eu(o,p,E,_),Zc(),ve=o.memoizedState,q||_e!==ve||Ts?(typeof Me=="function"&&(zp(o,u,Me,p),ve=o.memoizedState),(se=Ts||xy(o,u,se,p,_e,ve,F))?(ke||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ve),E.props=p,E.state=ve,E.context=F,p=se):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{E=o.stateNode,_p(a,o),F=o.memoizedProps,ke=ko(u,F),E.props=ke,Me=o.pendingProps,_e=E.context,ve=u.contextType,se=El,typeof ve=="object"&&ve!==null&&(se=pr(ve)),q=u.getDerivedStateFromProps,(ve=typeof q=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(F!==Me||_e!==se)&&yy(o,E,p,se),Ts=!1,_e=o.memoizedState,E.state=_e,eu(o,p,E,_),Zc();var Se=o.memoizedState;F!==Me||_e!==Se||Ts||a!==null&&a.dependencies!==null&&dd(a.dependencies)?(typeof q=="function"&&(zp(o,u,q,p),Se=o.memoizedState),(ke=Ts||xy(o,u,ke,p,_e,Se,se)||a!==null&&a.dependencies!==null&&dd(a.dependencies))?(ve||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,Se,se),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,Se,se)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||F===a.memoizedProps&&_e===a.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&_e===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Se),E.props=p,E.state=Se,E.context=se,p=ke):(typeof E.componentDidUpdate!="function"||F===a.memoizedProps&&_e===a.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||F===a.memoizedProps&&_e===a.memoizedState||(o.flags|=1024),p=!1)}return E=p,kd(a,o),p=(o.flags&128)!==0,E||p?(E=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:E.render(),o.flags|=1,a!==null&&p?(o.child=Io(o,a.child,null,_),o.child=Io(o,null,u,_)):mr(a,o,u,_),o.memoizedState=E.state,a=o.child):a=Oa(a,o,_),a}function Fy(a,o,u,p){return Ao(),o.flags|=256,mr(a,o,u,p),o.child}var Yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jp(a){return{baseLanes:a,cachePool:Ax()}}function Wp(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ui),a}function Py(a,o,u){var p=o.pendingProps,_=!1,E=(o.flags&128)!==0,F;if((F=E)||(F=a!==null&&a.memoizedState===null?!1:(Ln.current&2)!==0),F&&(_=!0,o.flags&=-129),F=(o.flags&32)!==0,o.flags&=-33,a===null){if(Ot){if(_?ws(o):Cs(),(a=xn)?(a=z_(a,Ai),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:xs!==null?{id:da,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},u=px(a),u.return=o,o.child=u,hr=o,xn=null)):a=null,a===null)throw _s(o);return Dm(a)?o.lanes=32:o.lanes=536870912,null}var q=p.children;return p=p.fallback,_?(Cs(),_=o.mode,q=Dd({mode:"hidden",children:q},_),p=To(p,_,u,null),q.return=o,p.return=o,q.sibling=p,o.child=q,p=o.child,p.memoizedState=Jp(u),p.childLanes=Wp(a,F,u),o.memoizedState=Yp,au(null,p)):(ws(o),Xp(o,q))}var se=a.memoizedState;if(se!==null&&(q=se.dehydrated,q!==null)){if(E)o.flags&256?(ws(o),o.flags&=-257,o=Qp(a,o,u)):o.memoizedState!==null?(Cs(),o.child=a.child,o.flags|=128,o=null):(Cs(),q=p.fallback,_=o.mode,p=Dd({mode:"visible",children:p.children},_),q=To(q,_,u,null),q.flags|=2,p.return=o,q.return=o,p.sibling=q,o.child=p,Io(o,a.child,null,u),p=o.child,p.memoizedState=Jp(u),p.childLanes=Wp(a,F,u),o.memoizedState=Yp,o=au(null,p));else if(ws(o),Dm(q)){if(F=q.nextSibling&&q.nextSibling.dataset,F)var ve=F.dgst;F=ve,p=Error(r(419)),p.stack="",p.digest=F,Kc({value:p,source:null,stack:null}),o=Qp(a,o,u)}else if(qn||wl(a,o,u,!1),F=(u&a.childLanes)!==0,qn||F){if(F=pn,F!==null&&(p=In(F,u),p!==0&&p!==se.retryLane))throw se.retryLane=p,Eo(a,p),ei(F,a,p),$p;km(q)||Hd(),o=Qp(a,o,u)}else km(q)?(o.flags|=192,o.child=a.child,o=null):(a=se.treeContext,xn=wi(q.nextSibling),hr=o,Ot=!0,ys=null,Ai=!1,a!==null&&vx(o,a),o=Xp(o,p.children),o.flags|=4096);return o}return _?(Cs(),q=p.fallback,_=o.mode,se=a.child,ve=se.sibling,p=ka(se,{mode:"hidden",children:p.children}),p.subtreeFlags=se.subtreeFlags&65011712,ve!==null?q=ka(ve,q):(q=To(q,_,u,null),q.flags|=2),q.return=o,p.return=o,p.sibling=q,o.child=p,au(null,p),p=o.child,q=a.child.memoizedState,q===null?q=Jp(u):(_=q.cachePool,_!==null?(se=Gn._currentValue,_=_.parent!==se?{parent:se,pool:se}:_):_=Ax(),q={baseLanes:q.baseLanes|u,cachePool:_}),p.memoizedState=q,p.childLanes=Wp(a,F,u),o.memoizedState=Yp,au(a.child,p)):(ws(o),u=a.child,a=u.sibling,u=ka(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,a!==null&&(F=o.deletions,F===null?(o.deletions=[a],o.flags|=16):F.push(a)),o.child=u,o.memoizedState=null,u)}function Xp(a,o){return o=Dd({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Dd(a,o){return a=si(22,a,null,o),a.lanes=0,a}function Qp(a,o,u){return Io(o,a.child,null,u),a=Xp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Ly(a,o,u){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),hp(a.return,o,u)}function Zp(a,o,u,p,_,E){var F=a.memoizedState;F===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:_,treeForkCount:E}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=p,F.tail=u,F.tailMode=_,F.treeForkCount=E)}function Oy(a,o,u){var p=o.pendingProps,_=p.revealOrder,E=p.tail;p=p.children;var F=Ln.current,q=(F&2)!==0;if(q?(F=F&1|2,o.flags|=128):F&=1,Q(Ln,F),mr(a,o,p,u),p=Ot?$c:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ly(a,u,o);else if(a.tag===19)Ly(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(u=o.child,_=null;u!==null;)a=u.alternate,a!==null&&_d(a)===null&&(_=u),u=u.sibling;u=_,u===null?(_=o.child,o.child=null):(_=u.sibling,u.sibling=null),Zp(o,!1,_,u,E,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=o.child,o.child=null;_!==null;){if(a=_.alternate,a!==null&&_d(a)===null){o.child=_;break}a=_.sibling,_.sibling=u,u=_,_=a}Zp(o,!0,u,null,E,p);break;case"together":Zp(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Oa(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Is|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(wl(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ka(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ka(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function em(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&dd(a)))}function YI(a,o,u){switch(o.tag){case 3:Ce(o,o.stateNode.containerInfo),Es(o,Gn,a.memoizedState.cache),Ao();break;case 27:case 5:Ie(o);break;case 4:Ce(o,o.stateNode.containerInfo);break;case 10:Es(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,wp(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ws(o),o.flags|=128,null):(u&o.child.childLanes)!==0?Py(a,o,u):(ws(o),a=Oa(a,o,u),a!==null?a.sibling:null);ws(o);break;case 19:var _=(a.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(wl(a,o,u,!1),p=(u&o.childLanes)!==0),_){if(p)return Oy(a,o,u);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Q(Ln,Ln.current),p)break;return null;case 22:return o.lanes=0,Iy(a,o,u,o.pendingProps);case 24:Es(o,Gn,a.memoizedState.cache)}return Oa(a,o,u)}function Uy(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)qn=!0;else{if(!em(a,u)&&(o.flags&128)===0)return qn=!1,YI(a,o,u);qn=(a.flags&131072)!==0}else qn=!1,Ot&&(o.flags&1048576)!==0&&gx(o,$c,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(a=bo(o.elementType),o.type=a,typeof a=="function")ap(a)?(p=ko(a,p),o.tag=1,o=My(null,o,a,p,u)):(o.tag=0,o=Kp(null,o,a,p,u));else{if(a!=null){var _=a.$$typeof;if(_===z){o.tag=11,o=Cy(null,o,a,p,u);break e}else if(_===I){o.tag=14,o=by(null,o,a,p,u);break e}}throw o=Te(a)||a,Error(r(306,o,""))}}return o;case 0:return Kp(a,o,o.type,o.pendingProps,u);case 1:return p=o.type,_=ko(p,o.pendingProps),My(a,o,p,_,u);case 3:e:{if(Ce(o,o.stateNode.containerInfo),a===null)throw Error(r(387));p=o.pendingProps;var E=o.memoizedState;_=E.element,_p(a,o),eu(o,p,null,u);var F=o.memoizedState;if(p=F.cache,Es(o,Gn,p),p!==E.cache&&pp(o,[Gn],u,!0),Zc(),p=F.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:F.cache},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){o=Fy(a,o,p,u);break e}else if(p!==_){_=_i(Error(r(424)),o),Kc(_),o=Fy(a,o,p,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(xn=wi(a.firstChild),hr=o,Ot=!0,ys=null,Ai=!0,u=Ix(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ao(),p===_){o=Oa(a,o,u);break e}mr(a,o,p,u)}o=o.child}return o;case 26:return kd(a,o),a===null?(u=J_(o.type,null,o.pendingProps,null))?o.memoizedState=u:Ot||(u=o.type,a=o.pendingProps,p=Yd(ue.current).createElement(u),p[J]=o,p[ee]=a,gr(p,u,a),Ze(p),o.stateNode=p):o.memoizedState=J_(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ie(o),a===null&&Ot&&(p=o.stateNode=$_(o.type,o.pendingProps,ue.current),hr=o,Ai=!0,_=xn,Fs(o.type)?(Mm=_,xn=wi(p.firstChild)):xn=_),mr(a,o,o.pendingProps.children,u),kd(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Ot&&((_=p=xn)&&(p=SR(p,o.type,o.pendingProps,Ai),p!==null?(o.stateNode=p,hr=o,xn=wi(p.firstChild),Ai=!1,_=!0):_=!1),_||_s(o)),Ie(o),_=o.type,E=o.pendingProps,F=a!==null?a.memoizedProps:null,p=E.children,Nm(_,E)?p=null:F!==null&&Nm(_,F)&&(o.flags|=32),o.memoizedState!==null&&(_=bp(a,o,VI,null,null,u),_u._currentValue=_),kd(a,o),mr(a,o,p,u),o.child;case 6:return a===null&&Ot&&((a=u=xn)&&(u=wR(u,o.pendingProps,Ai),u!==null?(o.stateNode=u,hr=o,xn=null,a=!0):a=!1),a||_s(o)),null;case 13:return Py(a,o,u);case 4:return Ce(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Io(o,null,p,u):mr(a,o,p,u),o.child;case 11:return Cy(a,o,o.type,o.pendingProps,u);case 7:return mr(a,o,o.pendingProps,u),o.child;case 8:return mr(a,o,o.pendingProps.children,u),o.child;case 12:return mr(a,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,Es(o,o.type,p.value),mr(a,o,p.children,u),o.child;case 9:return _=o.type._context,p=o.pendingProps.children,wo(o),_=pr(_),p=p(_),o.flags|=1,mr(a,o,p,u),o.child;case 14:return by(a,o,o.type,o.pendingProps,u);case 15:return Ny(a,o,o.type,o.pendingProps,u);case 19:return Oy(a,o,u);case 31:return KI(a,o,u);case 22:return Iy(a,o,u,o.pendingProps);case 24:return wo(o),p=pr(Gn),a===null?(_=vp(),_===null&&(_=pn,E=mp(),_.pooledCache=E,E.refCount++,E!==null&&(_.pooledCacheLanes|=u),_=E),o.memoizedState={parent:p,cache:_},yp(o),Es(o,Gn,_)):((a.lanes&u)!==0&&(_p(a,o),eu(o,null,null,u),Zc()),_=a.memoizedState,E=o.memoizedState,_.parent!==p?(_={parent:p,cache:p},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),Es(o,Gn,p)):(p=E.cache,Es(o,Gn,p),p!==_.cache&&pp(o,[Gn],u,!0))),mr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ua(a){a.flags|=4}function tm(a,o,u,p,_){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(f_())a.flags|=8192;else throw No=gd,xp}else a.flags&=-16777217}function Vy(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!eE(o))if(f_())a.flags|=8192;else throw No=gd,xp}function Md(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ze():536870912,a.lanes|=o,Ol|=o)}function su(a,o){if(!Ot)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function yn(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(o)for(var _=a.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)u|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=p,a.childLanes=u,o}function JI(a,o,u){var p=o.pendingProps;switch(cp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(o),null;case 1:return yn(o),null;case 3:return u=o.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Fa(Gn),we(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Sl(o)?Ua(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fp())),yn(o),null;case 26:var _=o.type,E=o.memoizedState;return a===null?(Ua(o),E!==null?(yn(o),Vy(o,E)):(yn(o),tm(o,_,null,p,u))):E?E!==a.memoizedState?(Ua(o),yn(o),Vy(o,E)):(yn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==p&&Ua(o),yn(o),tm(o,_,a,p,u)),null;case 27:if($e(o),u=ue.current,_=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ua(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return yn(o),null}a=Z.current,Sl(o)?xx(o):(a=$_(_,p,u),o.stateNode=a,Ua(o))}return yn(o),null;case 5:if($e(o),_=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==p&&Ua(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return yn(o),null}if(E=Z.current,Sl(o))xx(o);else{var F=Yd(ue.current);switch(E){case 1:E=F.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:E=F.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":E=F.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":E=F.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":E=F.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof p.is=="string"?F.createElement("select",{is:p.is}):F.createElement("select"),p.multiple?E.multiple=!0:p.size&&(E.size=p.size);break;default:E=typeof p.is=="string"?F.createElement(_,{is:p.is}):F.createElement(_)}}E[J]=o,E[ee]=p;e:for(F=o.child;F!==null;){if(F.tag===5||F.tag===6)E.appendChild(F.stateNode);else if(F.tag!==4&&F.tag!==27&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===o)break e;for(;F.sibling===null;){if(F.return===null||F.return===o)break e;F=F.return}F.sibling.return=F.return,F=F.sibling}o.stateNode=E;e:switch(gr(E,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ua(o)}}return yn(o),tm(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==p&&Ua(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(a=ue.current,Sl(o)){if(a=o.stateNode,u=o.memoizedProps,p=null,_=hr,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}a[J]=o,a=!!(a.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||P_(a.nodeValue,u)),a||_s(o,!0)}else a=Yd(a).createTextNode(p),a[J]=o,o.stateNode=a}return yn(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(p=Sl(o),u!==null){if(a===null){if(!p)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[J]=o}else Ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),a=!1}else u=fp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(li(o),o):(li(o),null);if((o.flags&128)!==0)throw Error(r(558))}return yn(o),null;case 13:if(p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=Sl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[J]=o}else Ao(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;yn(o),_=!1}else _=fp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(li(o),o):(li(o),null)}return li(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,a=a!==null&&a.memoizedState!==null,u&&(p=o.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),E=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),E!==_&&(p.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Md(o,o.updateQueue),yn(o),null);case 4:return we(),a===null&&Am(o.stateNode.containerInfo),yn(o),null;case 10:return Fa(o.type),yn(o),null;case 19:if(B(Ln),p=o.memoizedState,p===null)return yn(o),null;if(_=(o.flags&128)!==0,E=p.rendering,E===null)if(_)su(p,!1);else{if(kn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(E=_d(a),E!==null){for(o.flags|=128,su(p,!1),a=E.updateQueue,o.updateQueue=a,Md(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)hx(u,a),u=u.sibling;return Q(Ln,Ln.current&1|2),Ot&&Da(o,p.treeForkCount),o.child}a=a.sibling}p.tail!==null&&ft()>Ud&&(o.flags|=128,_=!0,su(p,!1),o.lanes=4194304)}else{if(!_)if(a=_d(E),a!==null){if(o.flags|=128,_=!0,a=a.updateQueue,o.updateQueue=a,Md(o,a),su(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!Ot)return yn(o),null}else 2*ft()-p.renderingStartTime>Ud&&u!==536870912&&(o.flags|=128,_=!0,su(p,!1),o.lanes=4194304);p.isBackwards?(E.sibling=o.child,o.child=E):(a=p.last,a!==null?a.sibling=E:o.child=E,p.last=E)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=ft(),a.sibling=null,u=Ln.current,Q(Ln,_?u&1|2:u&1),Ot&&Da(o,p.treeForkCount),a):(yn(o),null);case 22:case 23:return li(o),Sp(),p=o.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(yn(o),o.subtreeFlags&6&&(o.flags|=8192)):yn(o),u=o.updateQueue,u!==null&&Md(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),a!==null&&B(Co),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fa(Gn),yn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function WI(a,o){switch(cp(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Fa(Gn),we(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return $e(o),null;case 31:if(o.memoizedState!==null){if(li(o),o.alternate===null)throw Error(r(340));Ao()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(li(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Ao()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return B(Ln),null;case 4:return we(),null;case 10:return Fa(o.type),null;case 22:case 23:return li(o),Sp(),a!==null&&B(Co),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Fa(Gn),null;case 25:return null;default:return null}}function By(a,o){switch(cp(o),o.tag){case 3:Fa(Gn),we();break;case 26:case 27:case 5:$e(o);break;case 4:we();break;case 31:o.memoizedState!==null&&li(o);break;case 13:li(o);break;case 19:B(Ln);break;case 10:Fa(o.type);break;case 22:case 23:li(o),Sp(),a!==null&&B(Co);break;case 24:Fa(Gn)}}function ou(a,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&a)===a){p=void 0;var E=u.create,F=u.inst;p=E(),F.destroy=p}u=u.next}while(u!==_)}}catch(q){an(o,o.return,q)}}function bs(a,o,u){try{var p=o.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var E=_.next;p=E;do{if((p.tag&a)===a){var F=p.inst,q=F.destroy;if(q!==void 0){F.destroy=void 0,_=o;var se=u,ve=q;try{ve()}catch(ke){an(_,se,ke)}}}p=p.next}while(p!==E)}}catch(ke){an(o,o.return,ke)}}function Hy(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{kx(o,u)}catch(p){an(a,a.return,p)}}}function Gy(a,o,u){u.props=ko(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(p){an(a,o,p)}}function lu(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof u=="function"?a.refCleanup=u(p):u.current=p}}catch(_){an(a,o,_)}}function pa(a,o){var u=a.ref,p=a.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(_){an(a,o,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){an(a,o,_)}else u.current=null}function zy(a){var o=a.type,u=a.memoizedProps,p=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(_){an(a,a.return,_)}}function nm(a,o,u){try{var p=a.stateNode;xR(p,a.type,u,o),p[ee]=o}catch(_){an(a,a.return,_)}}function qy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Fs(a.type)||a.tag===4}function rm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||qy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Fs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function im(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Bi));else if(p!==4&&(p===27&&Fs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(im(a,o,u),a=a.sibling;a!==null;)im(a,o,u),a=a.sibling}function Fd(a,o,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(p!==4&&(p===27&&Fs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Fd(a,o,u),a=a.sibling;a!==null;)Fd(a,o,u),a=a.sibling}function jy(a){var o=a.stateNode,u=a.memoizedProps;try{for(var p=a.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);gr(o,p,u),o[J]=a,o[ee]=u}catch(E){an(a,a.return,E)}}var Va=!1,jn=!1,am=!1,$y=typeof WeakSet=="function"?WeakSet:Set,sr=null;function XI(a,o){if(a=a.containerInfo,Cm=th,a=ix(a),Q0(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var _=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var F=0,q=-1,se=-1,ve=0,ke=0,Me=a,_e=null;t:for(;;){for(var Se;Me!==u||_!==0&&Me.nodeType!==3||(q=F+_),Me!==E||p!==0&&Me.nodeType!==3||(se=F+p),Me.nodeType===3&&(F+=Me.nodeValue.length),(Se=Me.firstChild)!==null;)_e=Me,Me=Se;for(;;){if(Me===a)break t;if(_e===u&&++ve===_&&(q=F),_e===E&&++ke===p&&(se=F),(Se=Me.nextSibling)!==null)break;Me=_e,_e=Me.parentNode}Me=Se}u=q===-1||se===-1?null:{start:q,end:se}}else u=null}u=u||{start:0,end:0}}else u=null;for(bm={focusedElem:a,selectionRange:u},th=!1,sr=o;sr!==null;)if(o=sr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,sr=a;else for(;sr!==null;){switch(o=sr,E=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)_=a[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,u=o,_=E.memoizedProps,E=E.memoizedState,p=u.stateNode;try{var Qe=ko(u.type,_);a=p.getSnapshotBeforeUpdate(Qe,E),p.__reactInternalSnapshotBeforeUpdate=a}catch(ct){an(u,u.return,ct)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Rm(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Rm(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,sr=a;break}sr=o.return}}function Ky(a,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Ha(a,u),p&4&&ou(5,u);break;case 1:if(Ha(a,u),p&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(F){an(u,u.return,F)}else{var _=ko(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(_,o,a.__reactInternalSnapshotBeforeUpdate)}catch(F){an(u,u.return,F)}}p&64&&Hy(u),p&512&&lu(u,u.return);break;case 3:if(Ha(a,u),p&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{kx(a,o)}catch(F){an(u,u.return,F)}}break;case 27:o===null&&p&4&&jy(u);case 26:case 5:Ha(a,u),o===null&&p&4&&zy(u),p&512&&lu(u,u.return);break;case 12:Ha(a,u);break;case 31:Ha(a,u),p&4&&Wy(a,u);break;case 13:Ha(a,u),p&4&&Xy(a,u),p&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=sR.bind(null,u),CR(a,u))));break;case 22:if(p=u.memoizedState!==null||Va,!p){o=o!==null&&o.memoizedState!==null||jn,_=Va;var E=jn;Va=p,(jn=o)&&!E?Ga(a,u,(u.subtreeFlags&8772)!==0):Ha(a,u),Va=_,jn=E}break;case 30:break;default:Ha(a,u)}}function Yy(a){var o=a.alternate;o!==null&&(a.alternate=null,Yy(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Ve(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Sn=null,Wr=!1;function Ba(a,o,u){for(u=u.child;u!==null;)Jy(a,o,u),u=u.sibling}function Jy(a,o,u){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Et,u)}catch{}switch(u.tag){case 26:jn||pa(u,o),Ba(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:jn||pa(u,o);var p=Sn,_=Wr;Fs(u.type)&&(Sn=u.stateNode,Wr=!1),Ba(a,o,u),vu(u.stateNode),Sn=p,Wr=_;break;case 5:jn||pa(u,o);case 6:if(p=Sn,_=Wr,Sn=null,Ba(a,o,u),Sn=p,Wr=_,Sn!==null)if(Wr)try{(Sn.nodeType===9?Sn.body:Sn.nodeName==="HTML"?Sn.ownerDocument.body:Sn).removeChild(u.stateNode)}catch(E){an(u,o,E)}else try{Sn.removeChild(u.stateNode)}catch(E){an(u,o,E)}break;case 18:Sn!==null&&(Wr?(a=Sn,H_(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),jl(a)):H_(Sn,u.stateNode));break;case 4:p=Sn,_=Wr,Sn=u.stateNode.containerInfo,Wr=!0,Ba(a,o,u),Sn=p,Wr=_;break;case 0:case 11:case 14:case 15:bs(2,u,o),jn||bs(4,u,o),Ba(a,o,u);break;case 1:jn||(pa(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&Gy(u,o,p)),Ba(a,o,u);break;case 21:Ba(a,o,u);break;case 22:jn=(p=jn)||u.memoizedState!==null,Ba(a,o,u),jn=p;break;default:Ba(a,o,u)}}function Wy(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{jl(a)}catch(u){an(o,o.return,u)}}}function Xy(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{jl(a)}catch(u){an(o,o.return,u)}}function QI(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new $y),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new $y),o;default:throw Error(r(435,a.tag))}}function Pd(a,o){var u=QI(a);o.forEach(function(p){if(!u.has(p)){u.add(p);var _=oR.bind(null,a,p);p.then(_,_)}})}function Xr(a,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var _=u[p],E=a,F=o,q=F;e:for(;q!==null;){switch(q.tag){case 27:if(Fs(q.type)){Sn=q.stateNode,Wr=!1;break e}break;case 5:Sn=q.stateNode,Wr=!1;break e;case 3:case 4:Sn=q.stateNode.containerInfo,Wr=!0;break e}q=q.return}if(Sn===null)throw Error(r(160));Jy(E,F,_),Sn=null,Wr=!1,E=_.alternate,E!==null&&(E.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Qy(o,a),o=o.sibling}var $i=null;function Qy(a,o){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Xr(o,a),Qr(a),p&4&&(bs(3,a,a.return),ou(3,a),bs(5,a,a.return));break;case 1:Xr(o,a),Qr(a),p&512&&(jn||u===null||pa(u,u.return)),p&64&&Va&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var _=$i;if(Xr(o,a),Qr(a),p&512&&(jn||u===null||pa(u,u.return)),p&4){var E=u!==null?u.memoizedState:null;if(p=a.memoizedState,u===null)if(p===null)if(a.stateNode===null){e:{p=a.type,u=a.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":E=_.getElementsByTagName("title")[0],(!E||E[xe]||E[J]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=_.createElement(p),_.head.insertBefore(E,_.querySelector("head > title"))),gr(E,p,u),E[J]=a,Ze(E),p=E;break e;case"link":var F=Q_("link","href",_).get(p+(u.href||""));if(F){for(var q=0;q<F.length;q++)if(E=F[q],E.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&E.getAttribute("rel")===(u.rel==null?null:u.rel)&&E.getAttribute("title")===(u.title==null?null:u.title)&&E.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){F.splice(q,1);break t}}E=_.createElement(p),gr(E,p,u),_.head.appendChild(E);break;case"meta":if(F=Q_("meta","content",_).get(p+(u.content||""))){for(q=0;q<F.length;q++)if(E=F[q],E.getAttribute("content")===(u.content==null?null:""+u.content)&&E.getAttribute("name")===(u.name==null?null:u.name)&&E.getAttribute("property")===(u.property==null?null:u.property)&&E.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&E.getAttribute("charset")===(u.charSet==null?null:u.charSet)){F.splice(q,1);break t}}E=_.createElement(p),gr(E,p,u),_.head.appendChild(E);break;default:throw Error(r(468,p))}E[J]=a,Ze(E),p=E}a.stateNode=p}else Z_(_,a.type,a.stateNode);else a.stateNode=X_(_,p,a.memoizedProps);else E!==p?(E===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):E.count--,p===null?Z_(_,a.type,a.stateNode):X_(_,p,a.memoizedProps)):p===null&&a.stateNode!==null&&nm(a,a.memoizedProps,u.memoizedProps)}break;case 27:Xr(o,a),Qr(a),p&512&&(jn||u===null||pa(u,u.return)),u!==null&&p&4&&nm(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Xr(o,a),Qr(a),p&512&&(jn||u===null||pa(u,u.return)),a.flags&32){_=a.stateNode;try{Jr(_,"")}catch(Qe){an(a,a.return,Qe)}}p&4&&a.stateNode!=null&&(_=a.memoizedProps,nm(a,_,u!==null?u.memoizedProps:_)),p&1024&&(am=!0);break;case 6:if(Xr(o,a),Qr(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,u=a.stateNode;try{u.nodeValue=p}catch(Qe){an(a,a.return,Qe)}}break;case 3:if(Xd=null,_=$i,$i=Jd(o.containerInfo),Xr(o,a),$i=_,Qr(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{jl(o.containerInfo)}catch(Qe){an(a,a.return,Qe)}am&&(am=!1,Zy(a));break;case 4:p=$i,$i=Jd(a.stateNode.containerInfo),Xr(o,a),Qr(a),$i=p;break;case 12:Xr(o,a),Qr(a);break;case 31:Xr(o,a),Qr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Pd(a,p)));break;case 13:Xr(o,a),Qr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Od=ft()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Pd(a,p)));break;case 22:_=a.memoizedState!==null;var se=u!==null&&u.memoizedState!==null,ve=Va,ke=jn;if(Va=ve||_,jn=ke||se,Xr(o,a),jn=ke,Va=ve,Qr(a),p&8192)e:for(o=a.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(u===null||se||Va||jn||Do(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){se=u=o;try{if(E=se.stateNode,_)F=E.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none";else{q=se.stateNode;var Me=se.memoizedProps.style,_e=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;q.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(Qe){an(se,se.return,Qe)}}}else if(o.tag===6){if(u===null){se=o;try{se.stateNode.nodeValue=_?"":se.memoizedProps}catch(Qe){an(se,se.return,Qe)}}}else if(o.tag===18){if(u===null){se=o;try{var Se=se.stateNode;_?G_(Se,!0):G_(se.stateNode,!1)}catch(Qe){an(se,se.return,Qe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=a.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Pd(a,u))));break;case 19:Xr(o,a),Qr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Pd(a,p)));break;case 30:break;case 21:break;default:Xr(o,a),Qr(a)}}function Qr(a){var o=a.flags;if(o&2){try{for(var u,p=a.return;p!==null;){if(qy(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,E=rm(a);Fd(a,E,_);break;case 5:var F=u.stateNode;u.flags&32&&(Jr(F,""),u.flags&=-33);var q=rm(a);Fd(a,q,F);break;case 3:case 4:var se=u.stateNode.containerInfo,ve=rm(a);im(a,ve,se);break;default:throw Error(r(161))}}catch(ke){an(a,a.return,ke)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function Zy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;Zy(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ha(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Ky(a,o.alternate,o),o=o.sibling}function Do(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:bs(4,o,o.return),Do(o);break;case 1:pa(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Gy(o,o.return,u),Do(o);break;case 27:vu(o.stateNode);case 26:case 5:pa(o,o.return),Do(o);break;case 22:o.memoizedState===null&&Do(o);break;case 30:Do(o);break;default:Do(o)}a=a.sibling}}function Ga(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,_=a,E=o,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ga(_,E,u),ou(4,E);break;case 1:if(Ga(_,E,u),p=E,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ve){an(p,p.return,ve)}if(p=E,_=p.updateQueue,_!==null){var q=p.stateNode;try{var se=_.shared.hiddenCallbacks;if(se!==null)for(_.shared.hiddenCallbacks=null,_=0;_<se.length;_++)Rx(se[_],q)}catch(ve){an(p,p.return,ve)}}u&&F&64&&Hy(E),lu(E,E.return);break;case 27:jy(E);case 26:case 5:Ga(_,E,u),u&&p===null&&F&4&&zy(E),lu(E,E.return);break;case 12:Ga(_,E,u);break;case 31:Ga(_,E,u),u&&F&4&&Wy(_,E);break;case 13:Ga(_,E,u),u&&F&4&&Xy(_,E);break;case 22:E.memoizedState===null&&Ga(_,E,u),lu(E,E.return);break;case 30:break;default:Ga(_,E,u)}o=o.sibling}}function sm(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Yc(u))}function om(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Yc(a))}function Ki(a,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)e_(a,o,u,p),o=o.sibling}function e_(a,o,u,p){var _=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(a,o,u,p),_&2048&&ou(9,o);break;case 1:Ki(a,o,u,p);break;case 3:Ki(a,o,u,p),_&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Yc(a)));break;case 12:if(_&2048){Ki(a,o,u,p),a=o.stateNode;try{var E=o.memoizedProps,F=E.id,q=E.onPostCommit;typeof q=="function"&&q(F,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(se){an(o,o.return,se)}}else Ki(a,o,u,p);break;case 31:Ki(a,o,u,p);break;case 13:Ki(a,o,u,p);break;case 23:break;case 22:E=o.stateNode,F=o.alternate,o.memoizedState!==null?E._visibility&2?Ki(a,o,u,p):cu(a,o):E._visibility&2?Ki(a,o,u,p):(E._visibility|=2,Fl(a,o,u,p,(o.subtreeFlags&10256)!==0||!1)),_&2048&&sm(F,o);break;case 24:Ki(a,o,u,p),_&2048&&om(o.alternate,o);break;default:Ki(a,o,u,p)}}function Fl(a,o,u,p,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var E=a,F=o,q=u,se=p,ve=F.flags;switch(F.tag){case 0:case 11:case 15:Fl(E,F,q,se,_),ou(8,F);break;case 23:break;case 22:var ke=F.stateNode;F.memoizedState!==null?ke._visibility&2?Fl(E,F,q,se,_):cu(E,F):(ke._visibility|=2,Fl(E,F,q,se,_)),_&&ve&2048&&sm(F.alternate,F);break;case 24:Fl(E,F,q,se,_),_&&ve&2048&&om(F.alternate,F);break;default:Fl(E,F,q,se,_)}o=o.sibling}}function cu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,p=o,_=p.flags;switch(p.tag){case 22:cu(u,p),_&2048&&sm(p.alternate,p);break;case 24:cu(u,p),_&2048&&om(p.alternate,p);break;default:cu(u,p)}o=o.sibling}}var uu=8192;function Pl(a,o,u){if(a.subtreeFlags&uu)for(a=a.child;a!==null;)t_(a,o,u),a=a.sibling}function t_(a,o,u){switch(a.tag){case 26:Pl(a,o,u),a.flags&uu&&a.memoizedState!==null&&UR(u,$i,a.memoizedState,a.memoizedProps);break;case 5:Pl(a,o,u);break;case 3:case 4:var p=$i;$i=Jd(a.stateNode.containerInfo),Pl(a,o,u),$i=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=uu,uu=16777216,Pl(a,o,u),uu=p):Pl(a,o,u));break;default:Pl(a,o,u)}}function n_(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function fu(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];sr=p,i_(p,a)}n_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)r_(a),a=a.sibling}function r_(a){switch(a.tag){case 0:case 11:case 15:fu(a),a.flags&2048&&bs(9,a,a.return);break;case 3:fu(a);break;case 12:fu(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Ld(a)):fu(a);break;default:fu(a)}}function Ld(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];sr=p,i_(p,a)}n_(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:bs(8,o,o.return),Ld(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Ld(o));break;default:Ld(o)}a=a.sibling}}function i_(a,o){for(;sr!==null;){var u=sr;switch(u.tag){case 0:case 11:case 15:bs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Yc(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,sr=p;else e:for(u=a;sr!==null;){p=sr;var _=p.sibling,E=p.return;if(Yy(p),p===u){sr=null;break e}if(_!==null){_.return=E,sr=_;break e}sr=E}}}var ZI={getCacheForType:function(a){var o=pr(Gn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return pr(Gn).controller.signal}},eR=typeof WeakMap=="function"?WeakMap:Map,Wt=0,pn=null,Nt=null,kt=0,rn=0,ci=null,Ns=!1,Ll=!1,lm=!1,za=0,kn=0,Is=0,Mo=0,cm=0,ui=0,Ol=0,du=null,Zr=null,um=!1,Od=0,a_=0,Ud=1/0,Vd=null,Rs=null,Qn=0,ks=null,Ul=null,qa=0,fm=0,dm=null,s_=null,hu=0,hm=null;function fi(){return(Wt&2)!==0&&kt!==0?kt&-kt:ae.T!==null?ym():V()}function o_(){if(ui===0)if((kt&536870912)===0||Ot){var a=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),ui=a}else ui=536870912;return a=oi.current,a!==null&&(a.flags|=32),ui}function ei(a,o,u){(a===pn&&(rn===2||rn===9)||a.cancelPendingCommit!==null)&&(Vl(a,0),Ds(a,kt,ui,!1)),mt(a,u),((Wt&2)===0||a!==pn)&&(a===pn&&((Wt&2)===0&&(Mo|=u),kn===4&&Ds(a,kt,ui,!1)),ma(a))}function l_(a,o,u){if((Wt&6)!==0)throw Error(r(327));var p=!u&&(o&127)===0&&(o&a.expiredLanes)===0||ce(a,o),_=p?rR(a,o):mm(a,o,!0),E=p;do{if(_===0){Ll&&!p&&Ds(a,o,0,!1);break}else{if(u=a.current.alternate,E&&!tR(u)){_=mm(a,o,!1),E=!1;continue}if(_===2){if(E=o,a.errorRecoveryDisabledLanes&E)var F=0;else F=a.pendingLanes&-536870913,F=F!==0?F:F&536870912?536870912:0;if(F!==0){o=F;e:{var q=a;_=du;var se=q.current.memoizedState.isDehydrated;if(se&&(Vl(q,F).flags|=256),F=mm(q,F,!1),F!==2){if(lm&&!se){q.errorRecoveryDisabledLanes|=E,Mo|=E,_=4;break e}E=Zr,Zr=_,E!==null&&(Zr===null?Zr=E:Zr.push.apply(Zr,E))}_=F}if(E=!1,_!==2)continue}}if(_===1){Vl(a,0),Ds(a,o,0,!0);break}e:{switch(p=a,E=_,E){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ds(p,o,ui,!Ns);break e;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(_=Od+300-ft(),10<_)){if(Ds(p,o,ui,!Ns),Ar(p,0,!0)!==0)break e;qa=o,p.timeoutHandle=V_(c_.bind(null,p,u,Zr,Vd,um,o,ui,Mo,Ol,Ns,E,"Throttled",-0,0),_);break e}c_(p,u,Zr,Vd,um,o,ui,Mo,Ol,Ns,E,null,-0,0)}}break}while(!0);ma(a)}function c_(a,o,u,p,_,E,F,q,se,ve,ke,Me,_e,Se){if(a.timeoutHandle=-1,Me=o.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},t_(o,E,Me);var Qe=(E&62914560)===E?Od-ft():(E&4194048)===E?a_-ft():0;if(Qe=VR(Me,Qe),Qe!==null){qa=E,a.cancelPendingCommit=Qe(v_.bind(null,a,o,E,u,p,_,F,q,se,ke,Me,null,_e,Se)),Ds(a,E,F,!ve);return}}v_(a,o,E,u,p,_,F,q,se)}function tR(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var _=u[p],E=_.getSnapshot;_=_.value;try{if(!ai(E(),_))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ds(a,o,u,p){o&=~cm,o&=~Mo,a.suspendedLanes|=o,a.pingedLanes&=~o,p&&(a.warmLanes|=o),p=a.expirationTimes;for(var _=o;0<_;){var E=31-mn(_),F=1<<E;p[E]=-1,_&=~F}u!==0&&qt(a,u,o)}function Bd(){return(Wt&6)===0?(pu(0),!1):!0}function pm(){if(Nt!==null){if(rn===0)var a=Nt.return;else a=Nt,Ma=So=null,Rp(a),Il=null,Wc=0,a=Nt;for(;a!==null;)By(a.alternate,a),a=a.return;Nt=null}}function Vl(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,ER(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),qa=0,pm(),pn=a,Nt=u=ka(a.current,null),kt=o,rn=0,ci=null,Ns=!1,Ll=ce(a,o),lm=!1,Ol=ui=cm=Mo=Is=kn=0,Zr=du=null,um=!1,(o&8)!==0&&(o|=o&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=o;0<p;){var _=31-mn(p),E=1<<_;o|=a[_],p&=~E}return za=o,od(),u}function u_(a,o){At=null,ae.H=iu,o===Nl||o===md?(o=Cx(),rn=3):o===xp?(o=Cx(),rn=4):rn=o===$p?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ci=o,Nt===null&&(kn=1,Id(a,_i(o,a.current)))}function f_(){var a=oi.current;return a===null?!0:(kt&4194048)===kt?Si===null:(kt&62914560)===kt||(kt&536870912)!==0?a===Si:!1}function d_(){var a=ae.H;return ae.H=iu,a===null?iu:a}function h_(){var a=ae.A;return ae.A=ZI,a}function Hd(){kn=4,Ns||(kt&4194048)!==kt&&oi.current!==null||(Ll=!0),(Is&134217727)===0&&(Mo&134217727)===0||pn===null||Ds(pn,kt,ui,!1)}function mm(a,o,u){var p=Wt;Wt|=2;var _=d_(),E=h_();(pn!==a||kt!==o)&&(Vd=null,Vl(a,o)),o=!1;var F=kn;e:do try{if(rn!==0&&Nt!==null){var q=Nt,se=ci;switch(rn){case 8:pm(),F=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(o=!0);var ve=rn;if(rn=0,ci=null,Bl(a,q,se,ve),u&&Ll){F=0;break e}break;default:ve=rn,rn=0,ci=null,Bl(a,q,se,ve)}}nR(),F=kn;break}catch(ke){u_(a,ke)}while(!0);return o&&a.shellSuspendCounter++,Ma=So=null,Wt=p,ae.H=_,ae.A=E,Nt===null&&(pn=null,kt=0,od()),F}function nR(){for(;Nt!==null;)p_(Nt)}function rR(a,o){var u=Wt;Wt|=2;var p=d_(),_=h_();pn!==a||kt!==o?(Vd=null,Ud=ft()+500,Vl(a,o)):Ll=ce(a,o);e:do try{if(rn!==0&&Nt!==null){o=Nt;var E=ci;t:switch(rn){case 1:rn=0,ci=null,Bl(a,o,E,1);break;case 2:case 9:if(Sx(E)){rn=0,ci=null,m_(o);break}o=function(){rn!==2&&rn!==9||pn!==a||(rn=7),ma(a)},E.then(o,o);break e;case 3:rn=7;break e;case 4:rn=5;break e;case 7:Sx(E)?(rn=0,ci=null,m_(o)):(rn=0,ci=null,Bl(a,o,E,7));break;case 5:var F=null;switch(Nt.tag){case 26:F=Nt.memoizedState;case 5:case 27:var q=Nt;if(F?eE(F):q.stateNode.complete){rn=0,ci=null;var se=q.sibling;if(se!==null)Nt=se;else{var ve=q.return;ve!==null?(Nt=ve,Gd(ve)):Nt=null}break t}}rn=0,ci=null,Bl(a,o,E,5);break;case 6:rn=0,ci=null,Bl(a,o,E,6);break;case 8:pm(),kn=6;break e;default:throw Error(r(462))}}iR();break}catch(ke){u_(a,ke)}while(!0);return Ma=So=null,ae.H=p,ae.A=_,Wt=u,Nt!==null?0:(pn=null,kt=0,od(),kn)}function iR(){for(;Nt!==null&&!Nn();)p_(Nt)}function p_(a){var o=Uy(a.alternate,a,za);a.memoizedProps=a.pendingProps,o===null?Gd(a):Nt=o}function m_(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=Dy(u,o,o.pendingProps,o.type,void 0,kt);break;case 11:o=Dy(u,o,o.pendingProps,o.type.render,o.ref,kt);break;case 5:Rp(o);default:By(u,o),o=Nt=hx(o,za),o=Uy(u,o,za)}a.memoizedProps=a.pendingProps,o===null?Gd(a):Nt=o}function Bl(a,o,u,p){Ma=So=null,Rp(o),Il=null,Wc=0;var _=o.return;try{if($I(a,_,o,u,kt)){kn=1,Id(a,_i(u,a.current)),Nt=null;return}}catch(E){if(_!==null)throw Nt=_,E;kn=1,Id(a,_i(u,a.current)),Nt=null;return}o.flags&32768?(Ot||p===1?a=!0:Ll||(kt&536870912)!==0?a=!1:(Ns=a=!0,(p===2||p===9||p===3||p===6)&&(p=oi.current,p!==null&&p.tag===13&&(p.flags|=16384))),g_(o,a)):Gd(o)}function Gd(a){var o=a;do{if((o.flags&32768)!==0){g_(o,Ns);return}a=o.return;var u=JI(o.alternate,o,za);if(u!==null){Nt=u;return}if(o=o.sibling,o!==null){Nt=o;return}Nt=o=a}while(o!==null);kn===0&&(kn=5)}function g_(a,o){do{var u=WI(a.alternate,a);if(u!==null){u.flags&=32767,Nt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){Nt=a;return}Nt=a=u}while(a!==null);kn=6,Nt=null}function v_(a,o,u,p,_,E,F,q,se){a.cancelPendingCommit=null;do zd();while(Qn!==0);if((Wt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(E=o.lanes|o.childLanes,E|=rp,zt(a,u,E,F,q,se),a===pn&&(Nt=pn=null,kt=0),Ul=o,ks=a,qa=u,fm=E,dm=_,s_=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,lR(Rt,function(){return T_(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=ae.T,ae.T=null,_=le.p,le.p=2,F=Wt,Wt|=4;try{XI(a,o,u)}finally{Wt=F,le.p=_,ae.T=p}}Qn=1,x_(),y_(),__()}}function x_(){if(Qn===1){Qn=0;var a=ks,o=Ul,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null;var p=le.p;le.p=2;var _=Wt;Wt|=4;try{Qy(o,a);var E=bm,F=ix(a.containerInfo),q=E.focusedElem,se=E.selectionRange;if(F!==q&&q&&q.ownerDocument&&rx(q.ownerDocument.documentElement,q)){if(se!==null&&Q0(q)){var ve=se.start,ke=se.end;if(ke===void 0&&(ke=ve),"selectionStart"in q)q.selectionStart=ve,q.selectionEnd=Math.min(ke,q.value.length);else{var Me=q.ownerDocument||document,_e=Me&&Me.defaultView||window;if(_e.getSelection){var Se=_e.getSelection(),Qe=q.textContent.length,ct=Math.min(se.start,Qe),un=se.end===void 0?ct:Math.min(se.end,Qe);!Se.extend&&ct>un&&(F=un,un=ct,ct=F);var fe=nx(q,ct),oe=nx(q,un);if(fe&&oe&&(Se.rangeCount!==1||Se.anchorNode!==fe.node||Se.anchorOffset!==fe.offset||Se.focusNode!==oe.node||Se.focusOffset!==oe.offset)){var pe=Me.createRange();pe.setStart(fe.node,fe.offset),Se.removeAllRanges(),ct>un?(Se.addRange(pe),Se.extend(oe.node,oe.offset)):(pe.setEnd(oe.node,oe.offset),Se.addRange(pe))}}}}for(Me=[],Se=q;Se=Se.parentNode;)Se.nodeType===1&&Me.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<Me.length;q++){var De=Me[q];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}th=!!Cm,bm=Cm=null}finally{Wt=_,le.p=p,ae.T=u}}a.current=o,Qn=2}}function y_(){if(Qn===2){Qn=0;var a=ks,o=Ul,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=ae.T,ae.T=null;var p=le.p;le.p=2;var _=Wt;Wt|=4;try{Ky(a,o.alternate,o)}finally{Wt=_,le.p=p,ae.T=u}}Qn=3}}function __(){if(Qn===4||Qn===3){Qn=0,Fn();var a=ks,o=Ul,u=qa,p=s_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Qn=5:(Qn=0,Ul=ks=null,E_(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(Rs=null),wt(u),o=o.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Et,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=ae.T,_=le.p,le.p=2,ae.T=null;try{for(var E=a.onRecoverableError,F=0;F<p.length;F++){var q=p[F];E(q.value,{componentStack:q.stack})}}finally{ae.T=o,le.p=_}}(qa&3)!==0&&zd(),ma(a),_=a.pendingLanes,(u&261930)!==0&&(_&42)!==0?a===hm?hu++:(hu=0,hm=a):hu=0,pu(0)}}function E_(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Yc(o)))}function zd(){return x_(),y_(),__(),T_()}function T_(){if(Qn!==5)return!1;var a=ks,o=fm;fm=0;var u=wt(qa),p=ae.T,_=le.p;try{le.p=32>u?32:u,ae.T=null,u=dm,dm=null;var E=ks,F=qa;if(Qn=0,Ul=ks=null,qa=0,(Wt&6)!==0)throw Error(r(331));var q=Wt;if(Wt|=4,r_(E.current),e_(E,E.current,F,u),Wt=q,pu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Et,E)}catch{}return!0}finally{le.p=_,ae.T=p,E_(a,o)}}function A_(a,o,u){o=_i(u,o),o=jp(a.stateNode,o,2),a=Ss(a,o,2),a!==null&&(mt(a,2),ma(a))}function an(a,o,u){if(a.tag===3)A_(a,a,u);else for(;o!==null;){if(o.tag===3){A_(o,a,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Rs===null||!Rs.has(p))){a=_i(u,a),u=Sy(2),p=Ss(o,u,2),p!==null&&(wy(u,p,o,a),mt(p,2),ma(p));break}}o=o.return}}function gm(a,o,u){var p=a.pingCache;if(p===null){p=a.pingCache=new eR;var _=new Set;p.set(o,_)}else _=p.get(o),_===void 0&&(_=new Set,p.set(o,_));_.has(u)||(lm=!0,_.add(u),a=aR.bind(null,a,o,u),o.then(a,a))}function aR(a,o,u){var p=a.pingCache;p!==null&&p.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,pn===a&&(kt&u)===u&&(kn===4||kn===3&&(kt&62914560)===kt&&300>ft()-Od?(Wt&2)===0&&Vl(a,0):cm|=u,Ol===kt&&(Ol=0)),ma(a)}function S_(a,o){o===0&&(o=ze()),a=Eo(a,o),a!==null&&(mt(a,o),ma(a))}function sR(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),S_(a,u)}function oR(a,o){var u=0;switch(a.tag){case 31:case 13:var p=a.stateNode,_=a.memoizedState;_!==null&&(u=_.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),S_(a,u)}function lR(a,o){return ot(a,o)}var qd=null,Hl=null,vm=!1,jd=!1,xm=!1,Ms=0;function ma(a){a!==Hl&&a.next===null&&(Hl===null?qd=Hl=a:Hl=Hl.next=a),jd=!0,vm||(vm=!0,uR())}function pu(a,o){if(!xm&&jd){xm=!0;do for(var u=!1,p=qd;p!==null;){if(a!==0){var _=p.pendingLanes;if(_===0)var E=0;else{var F=p.suspendedLanes,q=p.pingedLanes;E=(1<<31-mn(42|a)+1)-1,E&=_&~(F&~q),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(u=!0,N_(p,E))}else E=kt,E=Ar(p,p===pn?E:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(E&3)===0||ce(p,E)||(u=!0,N_(p,E));p=p.next}while(u);xm=!1}}function cR(){w_()}function w_(){jd=vm=!1;var a=0;Ms!==0&&_R()&&(a=Ms);for(var o=ft(),u=null,p=qd;p!==null;){var _=p.next,E=C_(p,o);E===0?(p.next=null,u===null?qd=_:u.next=_,_===null&&(Hl=u)):(u=p,(a!==0||(E&3)!==0)&&(jd=!0)),p=_}Qn!==0&&Qn!==5||pu(a),Ms!==0&&(Ms=0)}function C_(a,o){for(var u=a.suspendedLanes,p=a.pingedLanes,_=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var F=31-mn(E),q=1<<F,se=_[F];se===-1?((q&u)===0||(q&p)!==0)&&(_[F]=He(q,o)):se<=o&&(a.expiredLanes|=q),E&=~q}if(o=pn,u=kt,u=Ar(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,u===0||a===o&&(rn===2||rn===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&fn(p),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||ce(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(p!==null&&fn(p),wt(u)){case 2:case 8:u=sn;break;case 32:u=Rt;break;case 268435456:u=ht;break;default:u=Rt}return p=b_.bind(null,a),u=ot(u,p),a.callbackPriority=o,a.callbackNode=u,o}return p!==null&&p!==null&&fn(p),a.callbackPriority=2,a.callbackNode=null,2}function b_(a,o){if(Qn!==0&&Qn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(zd()&&a.callbackNode!==u)return null;var p=kt;return p=Ar(a,a===pn?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(l_(a,p,o),C_(a,ft()),a.callbackNode!=null&&a.callbackNode===u?b_.bind(null,a):null)}function N_(a,o){if(zd())return null;l_(a,o,!0)}function uR(){TR(function(){(Wt&6)!==0?ot(Pt,cR):w_()})}function ym(){if(Ms===0){var a=Cl;a===0&&(a=Ur,Ur<<=1,(Ur&261888)===0&&(Ur=256)),Ms=a}return Ms}function I_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:fl(""+a)}function R_(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function fR(a,o,u,p,_){if(o==="submit"&&u&&u.stateNode===_){var E=I_((_[ee]||null).action),F=p.submitter;F&&(o=(o=F[ee]||null)?I_(o.formAction):F.getAttribute("formAction"),o!==null&&(E=o,F=null));var q=new la("action","action",null,p,_);a.push({event:q,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ms!==0){var se=F?R_(_,F):new FormData(_);Vp(u,{pending:!0,data:se,method:_.method,action:E},null,se)}}else typeof E=="function"&&(q.preventDefault(),se=F?R_(_,F):new FormData(_),Vp(u,{pending:!0,data:se,method:_.method,action:E},E,se))},currentTarget:_}]})}}for(var _m=0;_m<np.length;_m++){var Em=np[_m],dR=Em.toLowerCase(),hR=Em[0].toUpperCase()+Em.slice(1);ji(dR,"on"+hR)}ji(ox,"onAnimationEnd"),ji(lx,"onAnimationIteration"),ji(cx,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(II,"onTransitionRun"),ji(RI,"onTransitionStart"),ji(kI,"onTransitionCancel"),ji(ux,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function k_(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],_=p.event;p=p.listeners;e:{var E=void 0;if(o)for(var F=p.length-1;0<=F;F--){var q=p[F],se=q.instance,ve=q.currentTarget;if(q=q.listener,se!==E&&_.isPropagationStopped())break e;E=q,_.currentTarget=ve;try{E(_)}catch(ke){sd(ke)}_.currentTarget=null,E=se}else for(F=0;F<p.length;F++){if(q=p[F],se=q.instance,ve=q.currentTarget,q=q.listener,se!==E&&_.isPropagationStopped())break e;E=q,_.currentTarget=ve;try{E(_)}catch(ke){sd(ke)}_.currentTarget=null,E=se}}}}function It(a,o){var u=o[me];u===void 0&&(u=o[me]=new Set);var p=a+"__bubble";u.has(p)||(D_(o,a,2,!1),u.add(p))}function Tm(a,o,u){var p=0;o&&(p|=4),D_(u,a,p,o)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Am(a){if(!a[$d]){a[$d]=!0,en.forEach(function(u){u!=="selectionchange"&&(pR.has(u)||Tm(u,!1,a),Tm(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[$d]||(o[$d]=!0,Tm("selectionchange",!1,o))}}function D_(a,o,u,p){switch(oE(o)){case 2:var _=GR;break;case 8:_=zR;break;default:_=Um}u=_.bind(null,o,u,a),_=void 0,!ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),p?_!==void 0?a.addEventListener(o,u,{capture:!0,passive:_}):a.addEventListener(o,u,!0):_!==void 0?a.addEventListener(o,u,{passive:_}):a.addEventListener(o,u,!1)}function Sm(a,o,u,p,_){var E=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var q=p.stateNode.containerInfo;if(q===_)break;if(F===4)for(F=p.return;F!==null;){var se=F.tag;if((se===3||se===4)&&F.stateNode.containerInfo===_)return;F=F.return}for(;q!==null;){if(F=Ge(q),F===null)return;if(se=F.tag,se===5||se===6||se===26||se===27){p=E=F;continue e}q=q.parentNode}}p=p.return}ps(function(){var ve=E,ke=gi(u),Me=[];e:{var _e=fx.get(a);if(_e!==void 0){var Se=la,Qe=a;switch(a){case"keypress":if(mo(u)===0)break e;case"keydown":case"keyup":Se=rd;break;case"focusin":Qe="focus",Se=vo;break;case"focusout":Qe="blur",Se=vo;break;case"beforeblur":case"afterblur":Se=vo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=Yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=R;break;case ox:case lx:case cx:Se=Wf;break;case ux:Se=Y;break;case"scroll":case"scrollend":Se=Vc;break;case"wheel":Se=Ee;break;case"copy":case"cut":case"paste":Se=Xf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Ra;break;case"toggle":case"beforetoggle":Se=Tt}var ct=(o&4)!==0,un=!ct&&(a==="scroll"||a==="scrollend"),fe=ct?_e!==null?_e+"Capture":null:_e;ct=[];for(var oe=ve,pe;oe!==null;){var De=oe;if(pe=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||pe===null||fe===null||(De=Hi(oe,fe),De!=null&&ct.push(gu(oe,De,pe))),un)break;oe=oe.return}0<ct.length&&(_e=new Se(_e,Qe,null,u,ke),Me.push({event:_e,listeners:ct}))}}if((o&7)===0){e:{if(_e=a==="mouseover"||a==="pointerover",Se=a==="mouseout"||a==="pointerout",_e&&u!==Lc&&(Qe=u.relatedTarget||u.fromElement)&&(Ge(Qe)||Qe[re]))break e;if((Se||_e)&&(_e=ke.window===ke?ke:(_e=ke.ownerDocument)?_e.defaultView||_e.parentWindow:window,Se?(Qe=u.relatedTarget||u.toElement,Se=ve,Qe=Qe?Ge(Qe):null,Qe!==null&&(un=s(Qe),ct=Qe.tag,Qe!==un||ct!==5&&ct!==27&&ct!==6)&&(Qe=null)):(Se=null,Qe=ve),Se!==Qe)){if(ct=Bc,De="onMouseLeave",fe="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(ct=Ra,De="onPointerLeave",fe="onPointerEnter",oe="pointer"),un=Se==null?_e:Oe(Se),pe=Qe==null?_e:Oe(Qe),_e=new ct(De,oe+"leave",Se,u,ke),_e.target=un,_e.relatedTarget=pe,De=null,Ge(ke)===ve&&(ct=new ct(fe,oe+"enter",Qe,u,ke),ct.target=pe,ct.relatedTarget=un,De=ct),un=De,Se&&Qe)t:{for(ct=mR,fe=Se,oe=Qe,pe=0,De=fe;De;De=ct(De))pe++;De=0;for(var at=oe;at;at=ct(at))De++;for(;0<pe-De;)fe=ct(fe),pe--;for(;0<De-pe;)oe=ct(oe),De--;for(;pe--;){if(fe===oe||oe!==null&&fe===oe.alternate){ct=fe;break t}fe=ct(fe),oe=ct(oe)}ct=null}else ct=null;Se!==null&&M_(Me,_e,Se,ct,!1),Qe!==null&&un!==null&&M_(Me,un,Qe,ct,!0)}}e:{if(_e=ve?Oe(ve):window,Se=_e.nodeName&&_e.nodeName.toLowerCase(),Se==="select"||Se==="input"&&_e.type==="file")var $t=W1;else if(Y1(_e))if(X1)$t=CI;else{$t=SI;var tt=AI}else Se=_e.nodeName,!Se||Se.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?ve&&ul(ve.elementType)&&($t=W1):$t=wI;if($t&&($t=$t(a,ve))){J1(Me,$t,u,ke);break e}tt&&tt(a,_e,ve),a==="focusout"&&ve&&_e.type==="number"&&ve.memoizedProps.value!=null&&Mc(_e,"number",_e.value)}switch(tt=ve?Oe(ve):window,a){case"focusin":(Y1(tt)||tt.contentEditable==="true")&&(xl=tt,Z0=ve,jc=null);break;case"focusout":jc=Z0=xl=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,ax(Me,u,ke);break;case"selectionchange":if(NI)break;case"keydown":case"keyup":ax(Me,u,ke)}var Ct;if(Jt)e:{switch(a){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else vl?xo(a,u)&&(Dt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Dt="onCompositionStart");Dt&&(fa&&u.locale!=="ko"&&(vl||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&vl&&(Ct=Uc()):(oa=ke,Oc="value"in oa?oa.value:oa.textContent,vl=!0)),tt=Kd(ve,Dt),0<tt.length&&(Dt=new ua(Dt,a,null,u,ke),Me.push({event:Dt,listeners:tt}),Ct?Dt.data=Ct:(Ct=gl(u),Ct!==null&&(Dt.data=Ct)))),(Ct=xi?yI(a,u):_I(a,u))&&(Dt=Kd(ve,"onBeforeInput"),0<Dt.length&&(tt=new ua("onBeforeInput","beforeinput",null,u,ke),Me.push({event:tt,listeners:Dt}),tt.data=Ct)),fR(Me,a,ve,u,ke)}k_(Me,o)})}function gu(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Kd(a,o){for(var u=o+"Capture",p=[];a!==null;){var _=a,E=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||E===null||(_=Hi(a,u),_!=null&&p.unshift(gu(a,_,E)),_=Hi(a,o),_!=null&&p.push(gu(a,_,E))),a.tag===3)return p;a=a.return}return[]}function mR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function M_(a,o,u,p,_){for(var E=o._reactName,F=[];u!==null&&u!==p;){var q=u,se=q.alternate,ve=q.stateNode;if(q=q.tag,se!==null&&se===p)break;q!==5&&q!==26&&q!==27||ve===null||(se=ve,_?(ve=Hi(u,E),ve!=null&&F.unshift(gu(u,ve,se))):_||(ve=Hi(u,E),ve!=null&&F.push(gu(u,ve,se)))),u=u.return}F.length!==0&&a.push({event:o,listeners:F})}var gR=/\r\n?/g,vR=/\u0000|\uFFFD/g;function F_(a){return(typeof a=="string"?a:""+a).replace(gR,`
`).replace(vR,"")}function P_(a,o){return o=F_(o),F_(a)===o}function cn(a,o,u,p,_,E){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Jr(a,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Jr(a,""+p);break;case"className":ii(a,"class",p);break;case"tabIndex":ii(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(a,u,p);break;case"style":Pc(a,p,E);break;case"data":if(o!=="object"){ii(a,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=fl(""+p),a.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(u==="formAction"?(o!=="input"&&cn(a,o,"name",_.name,_,null),cn(a,o,"formEncType",_.formEncType,_,null),cn(a,o,"formMethod",_.formMethod,_,null),cn(a,o,"formTarget",_.formTarget,_,null)):(cn(a,o,"encType",_.encType,_,null),cn(a,o,"method",_.method,_,null),cn(a,o,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(u);break}p=fl(""+p),a.setAttribute(u,p);break;case"onClick":p!=null&&(a.onclick=Bi);break;case"onScroll":p!=null&&It("scroll",a);break;case"onScrollEnd":p!=null&&It("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}u=fl(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""+p):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":p===!0?a.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(u,p):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(u,p):a.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(u):a.setAttribute(u,p);break;case"popover":It("beforetoggle",a),It("toggle",a),wr(a,"popover",p);break;case"xlinkActuate":Hn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Hn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Hn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Hn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Hn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Hn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Hn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":wr(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Kf.get(u)||u,wr(a,u,p))}}function wm(a,o,u,p,_,E){switch(u){case"style":Pc(a,p,E);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof p=="string"?Jr(a,p):(typeof p=="number"||typeof p=="bigint")&&Jr(a,""+p);break;case"onScroll":p!=null&&It("scroll",a);break;case"onScrollEnd":p!=null&&It("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tn.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),o=u.slice(2,_?u.length-7:void 0),E=a[ee]||null,E=E!=null?E[u]:null,typeof E=="function"&&a.removeEventListener(o,E,_),typeof p=="function")){typeof E!="function"&&E!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,p,_);break e}u in a?a[u]=p:p===!0?a.setAttribute(u,""):wr(a,u,p)}}}function gr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",a),It("load",a);var p=!1,_=!1,E;for(E in u)if(u.hasOwnProperty(E)){var F=u[E];if(F!=null)switch(E){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:cn(a,o,E,F,u,null)}}_&&cn(a,o,"srcSet",u.srcSet,u,null),p&&cn(a,o,"src",u.src,u,null);return;case"input":It("invalid",a);var q=E=F=_=null,se=null,ve=null;for(p in u)if(u.hasOwnProperty(p)){var ke=u[p];if(ke!=null)switch(p){case"name":_=ke;break;case"type":F=ke;break;case"checked":se=ke;break;case"defaultChecked":ve=ke;break;case"value":E=ke;break;case"defaultValue":q=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,o));break;default:cn(a,o,p,ke,u,null)}}qf(a,E,q,se,ve,F,_,!1);return;case"select":It("invalid",a),p=F=E=null;for(_ in u)if(u.hasOwnProperty(_)&&(q=u[_],q!=null))switch(_){case"value":E=q;break;case"defaultValue":F=q;break;case"multiple":p=q;default:cn(a,o,_,q,u,null)}o=E,u=F,a.multiple=!!p,o!=null?us(a,!!p,o,!1):u!=null&&us(a,!!p,u,!0);return;case"textarea":It("invalid",a),E=_=p=null;for(F in u)if(u.hasOwnProperty(F)&&(q=u[F],q!=null))switch(F){case"value":p=q;break;case"defaultValue":_=q;break;case"children":E=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:cn(a,o,F,q,u,null)}fs(a,p,_,E);return;case"option":for(se in u)if(u.hasOwnProperty(se)&&(p=u[se],p!=null))switch(se){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:cn(a,o,se,p,u,null)}return;case"dialog":It("beforetoggle",a),It("toggle",a),It("cancel",a),It("close",a);break;case"iframe":case"object":It("load",a);break;case"video":case"audio":for(p=0;p<mu.length;p++)It(mu[p],a);break;case"image":It("error",a),It("load",a);break;case"details":It("toggle",a);break;case"embed":case"source":case"link":It("error",a),It("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in u)if(u.hasOwnProperty(ve)&&(p=u[ve],p!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:cn(a,o,ve,p,u,null)}return;default:if(ul(o)){for(ke in u)u.hasOwnProperty(ke)&&(p=u[ke],p!==void 0&&wm(a,o,ke,p,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(p=u[q],p!=null&&cn(a,o,q,p,u,null))}function xR(a,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,E=null,F=null,q=null,se=null,ve=null,ke=null;for(Se in u){var Me=u[Se];if(u.hasOwnProperty(Se)&&Me!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":se=Me;default:p.hasOwnProperty(Se)||cn(a,o,Se,null,p,Me)}}for(var _e in p){var Se=p[_e];if(Me=u[_e],p.hasOwnProperty(_e)&&(Se!=null||Me!=null))switch(_e){case"type":E=Se;break;case"name":_=Se;break;case"checked":ve=Se;break;case"defaultChecked":ke=Se;break;case"value":F=Se;break;case"defaultValue":q=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,o));break;default:Se!==Me&&cn(a,o,_e,Se,p,Me)}}cl(a,F,q,se,ve,ke,E,_);return;case"select":Se=F=q=_e=null;for(E in u)if(se=u[E],u.hasOwnProperty(E)&&se!=null)switch(E){case"value":break;case"multiple":Se=se;default:p.hasOwnProperty(E)||cn(a,o,E,null,p,se)}for(_ in p)if(E=p[_],se=u[_],p.hasOwnProperty(_)&&(E!=null||se!=null))switch(_){case"value":_e=E;break;case"defaultValue":q=E;break;case"multiple":F=E;default:E!==se&&cn(a,o,_,E,p,se)}o=q,u=F,p=Se,_e!=null?us(a,!!u,_e,!1):!!p!=!!u&&(o!=null?us(a,!!u,o,!0):us(a,!!u,u?[]:"",!1));return;case"textarea":Se=_e=null;for(q in u)if(_=u[q],u.hasOwnProperty(q)&&_!=null&&!p.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:cn(a,o,q,null,p,_)}for(F in p)if(_=p[F],E=u[F],p.hasOwnProperty(F)&&(_!=null||E!=null))switch(F){case"value":_e=_;break;case"defaultValue":Se=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==E&&cn(a,o,F,_,p,E)}jf(a,_e,Se);return;case"option":for(var Qe in u)if(_e=u[Qe],u.hasOwnProperty(Qe)&&_e!=null&&!p.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:cn(a,o,Qe,null,p,_e)}for(se in p)if(_e=p[se],Se=u[se],p.hasOwnProperty(se)&&_e!==Se&&(_e!=null||Se!=null))switch(se){case"selected":a.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:cn(a,o,se,_e,p,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in u)_e=u[ct],u.hasOwnProperty(ct)&&_e!=null&&!p.hasOwnProperty(ct)&&cn(a,o,ct,null,p,_e);for(ve in p)if(_e=p[ve],Se=u[ve],p.hasOwnProperty(ve)&&_e!==Se&&(_e!=null||Se!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,o));break;default:cn(a,o,ve,_e,p,Se)}return;default:if(ul(o)){for(var un in u)_e=u[un],u.hasOwnProperty(un)&&_e!==void 0&&!p.hasOwnProperty(un)&&wm(a,o,un,void 0,p,_e);for(ke in p)_e=p[ke],Se=u[ke],!p.hasOwnProperty(ke)||_e===Se||_e===void 0&&Se===void 0||wm(a,o,ke,_e,p,Se);return}}for(var fe in u)_e=u[fe],u.hasOwnProperty(fe)&&_e!=null&&!p.hasOwnProperty(fe)&&cn(a,o,fe,null,p,_e);for(Me in p)_e=p[Me],Se=u[Me],!p.hasOwnProperty(Me)||_e===Se||_e==null&&Se==null||cn(a,o,Me,_e,p,Se)}function L_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var _=u[p],E=_.transferSize,F=_.initiatorType,q=_.duration;if(E&&q&&L_(F)){for(F=0,q=_.responseEnd,p+=1;p<u.length;p++){var se=u[p],ve=se.startTime;if(ve>q)break;var ke=se.transferSize,Me=se.initiatorType;ke&&L_(Me)&&(se=se.responseEnd,F+=ke*(se<q?1:(q-ve)/(se-ve)))}if(--p,o+=8*(E+F)/(_.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Cm=null,bm=null;function Yd(a){return a.nodeType===9?a:a.ownerDocument}function O_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Nm(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Im=null;function _R(){var a=window.event;return a&&a.type==="popstate"?a===Im?!1:(Im=a,!0):(Im=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(a){return B_.resolve(null).then(a).catch(AR)}:V_;function AR(a){setTimeout(function(){throw a})}function Fs(a){return a==="head"}function H_(a,o){var u=o,p=0;do{var _=u.nextSibling;if(a.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(p===0){a.removeChild(_),jl(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")vu(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,vu(u);for(var E=u.firstChild;E;){var F=E.nextSibling,q=E.nodeName;E[xe]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&E.rel.toLowerCase()==="stylesheet"||u.removeChild(E),E=F}}else u==="body"&&vu(a.ownerDocument.body);u=_}while(u);jl(o)}function G_(a,o){var u=a;a=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=p}while(u)}function Rm(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Rm(u),Ve(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function SR(a,o,u,p){for(;a.nodeType===1;){var _=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[xe])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var E=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=wi(a.nextSibling),a===null)break}return null}function wR(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=wi(a.nextSibling),a===null))return null;return a}function z_(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=wi(a.nextSibling),a===null))return null;return a}function km(a){return a.data==="$?"||a.data==="$~"}function Dm(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function CR(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function wi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Mm=null;function q_(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return wi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function j_(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function $_(a,o,u){switch(o=Yd(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function vu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Ve(a)}var Ci=new Map,K_=new Set;function Jd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ja=le.d;le.d={f:bR,r:NR,D:IR,C:RR,L:kR,m:DR,X:FR,S:MR,M:PR};function bR(){var a=ja.f(),o=Bd();return a||o}function NR(a){var o=Ke(a);o!==null&&o.tag===5&&o.type==="form"?uy(o):ja.r(a)}var Gl=typeof document>"u"?null:document;function Y_(a,o,u){var p=Gl;if(p&&typeof o=="string"&&o){var _=Yr(o);_='link[rel="'+a+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),K_.has(_)||(K_.add(_),a={rel:a,crossOrigin:u,href:o},p.querySelector(_)===null&&(o=p.createElement("link"),gr(o,"link",a),Ze(o),p.head.appendChild(o)))}}function IR(a){ja.D(a),Y_("dns-prefetch",a,null)}function RR(a,o){ja.C(a,o),Y_("preconnect",a,o)}function kR(a,o,u){ja.L(a,o,u);var p=Gl;if(p&&a&&o){var _='link[rel="preload"][as="'+Yr(o)+'"]';o==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Yr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Yr(u.imageSizes)+'"]')):_+='[href="'+Yr(a)+'"]';var E=_;switch(o){case"style":E=zl(a);break;case"script":E=ql(a)}Ci.has(E)||(a=v({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ci.set(E,a),p.querySelector(_)!==null||o==="style"&&p.querySelector(xu(E))||o==="script"&&p.querySelector(yu(E))||(o=p.createElement("link"),gr(o,"link",a),Ze(o),p.head.appendChild(o)))}}function DR(a,o){ja.m(a,o);var u=Gl;if(u&&a){var p=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+Yr(p)+'"][href="'+Yr(a)+'"]',E=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=ql(a)}if(!Ci.has(E)&&(a=v({rel:"modulepreload",href:a},o),Ci.set(E,a),u.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(yu(E)))return}p=u.createElement("link"),gr(p,"link",a),Ze(p),u.head.appendChild(p)}}}function MR(a,o,u){ja.S(a,o,u);var p=Gl;if(p&&a){var _=je(p).hoistableStyles,E=zl(a);o=o||"default";var F=_.get(E);if(!F){var q={loading:0,preload:null};if(F=p.querySelector(xu(E)))q.loading=5;else{a=v({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ci.get(E))&&Fm(a,u);var se=F=p.createElement("link");Ze(se),gr(se,"link",a),se._p=new Promise(function(ve,ke){se.onload=ve,se.onerror=ke}),se.addEventListener("load",function(){q.loading|=1}),se.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Wd(F,o,p)}F={type:"stylesheet",instance:F,count:1,state:q},_.set(E,F)}}}function FR(a,o){ja.X(a,o);var u=Gl;if(u&&a){var p=je(u).hoistableScripts,_=ql(a),E=p.get(_);E||(E=u.querySelector(yu(_)),E||(a=v({src:a,async:!0},o),(o=Ci.get(_))&&Pm(a,o),E=u.createElement("script"),Ze(E),gr(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(_,E))}}function PR(a,o){ja.M(a,o);var u=Gl;if(u&&a){var p=je(u).hoistableScripts,_=ql(a),E=p.get(_);E||(E=u.querySelector(yu(_)),E||(a=v({src:a,async:!0,type:"module"},o),(o=Ci.get(_))&&Pm(a,o),E=u.createElement("script"),Ze(E),gr(E,"link",a),u.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},p.set(_,E))}}function J_(a,o,u,p){var _=(_=ue.current)?Jd(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=zl(u.href),u=je(_).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=zl(u.href);var E=je(_).hoistableStyles,F=E.get(a);if(F||(_=_.ownerDocument||_,F={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,F),(E=_.querySelector(xu(a)))&&!E._p&&(F.instance=E,F.state.loading=5),Ci.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(a,u),E||LR(_,a,u,F.state))),o&&p===null)throw Error(r(528,""));return F}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ql(u),u=je(_).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function zl(a){return'href="'+Yr(a)+'"'}function xu(a){return'link[rel="stylesheet"]['+a+"]"}function W_(a){return v({},a,{"data-precedence":a.precedence,precedence:null})}function LR(a,o,u,p){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=a.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),gr(o,"link",u),Ze(o),a.head.appendChild(o))}function ql(a){return'[src="'+Yr(a)+'"]'}function yu(a){return"script[async]"+a}function X_(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=a.querySelector('style[data-href~="'+Yr(u.href)+'"]');if(p)return o.instance=p,Ze(p),p;var _=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Ze(p),gr(p,"style",_),Wd(p,u.precedence,a),o.instance=p;case"stylesheet":_=zl(u.href);var E=a.querySelector(xu(_));if(E)return o.state.loading|=4,o.instance=E,Ze(E),E;p=W_(u),(_=Ci.get(_))&&Fm(p,_),E=(a.ownerDocument||a).createElement("link"),Ze(E);var F=E;return F._p=new Promise(function(q,se){F.onload=q,F.onerror=se}),gr(E,"link",p),o.state.loading|=4,Wd(E,u.precedence,a),o.instance=E;case"script":return E=ql(u.src),(_=a.querySelector(yu(E)))?(o.instance=_,Ze(_),_):(p=u,(_=Ci.get(E))&&(p=v({},u),Pm(p,_)),a=a.ownerDocument||a,_=a.createElement("script"),Ze(_),gr(_,"link",p),a.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Wd(p,u.precedence,a));return o.instance}function Wd(a,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,E=_,F=0;F<p.length;F++){var q=p[F];if(q.dataset.precedence===o)E=q;else if(E!==_)break}E?E.parentNode.insertBefore(a,E.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Fm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Pm(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Xd=null;function Q_(a,o,u){if(Xd===null){var p=new Map,_=Xd=new Map;_.set(u,p)}else _=Xd,p=_.get(u),p||(p=new Map,_.set(u,p));if(p.has(a))return p;for(p.set(a,null),u=u.getElementsByTagName(a),_=0;_<u.length;_++){var E=u[_];if(!(E[xe]||E[J]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var F=E.getAttribute(o)||"";F=a+F;var q=p.get(F);q?q.push(E):p.set(F,[E])}}return p}function Z_(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function OR(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function eE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function UR(a,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=zl(p.href),E=o.querySelector(xu(_));if(E){o=E._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Qd.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=E,Ze(E);return}E=o.ownerDocument||o,p=W_(p),(_=Ci.get(_))&&Fm(p,_),E=E.createElement("link"),Ze(E);var F=E;F._p=new Promise(function(q,se){F.onload=q,F.onerror=se}),gr(E,"link",p),u.instance=E}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Qd.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var Lm=0;function VR(a,o){return a.stylesheets&&a.count===0&&eh(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var p=setTimeout(function(){if(a.stylesheets&&eh(a,a.stylesheets),a.unsuspend){var E=a.unsuspend;a.unsuspend=null,E()}},6e4+o);0<a.imgBytes&&Lm===0&&(Lm=62500*yR());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&eh(a,a.stylesheets),a.unsuspend)){var E=a.unsuspend;a.unsuspend=null,E()}},(a.imgBytes>Lm?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function Qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Zd=null;function eh(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Zd=new Map,o.forEach(BR,a),Zd=null,Qd.call(a))}function BR(a,o){if(!(o.state.loading&4)){var u=Zd.get(a);if(u)var p=u.get(null);else{u=new Map,Zd.set(a,u);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<_.length;E++){var F=_[E];(F.nodeName==="LINK"||F.getAttribute("media")!=="not all")&&(u.set(F.dataset.precedence,F),p=F)}p&&u.set(null,p)}_=o.instance,F=_.getAttribute("data-precedence"),E=u.get(F)||p,E===p&&u.set(null,_),u.set(F,_),this.count++,p=Qd.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),E?E.parentNode.insertBefore(_,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),o.state.loading|=4}}var _u={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function HR(a,o,u,p,_,E,F,q,se){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=et(0),this.hiddenUpdates=et(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=E,this.onRecoverableError=F,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=se,this.incompleteTransitions=new Map}function tE(a,o,u,p,_,E,F,q,se,ve,ke,Me){return a=new HR(a,o,u,F,se,ve,ke,Me,q),o=1,E===!0&&(o|=24),E=si(3,null,null,o),a.current=E,E.stateNode=a,o=mp(),o.refCount++,a.pooledCache=o,o.refCount++,E.memoizedState={element:p,isDehydrated:u,cache:o},yp(E),a}function nE(a){return a?(a=El,a):El}function rE(a,o,u,p,_,E){_=nE(_),p.context===null?p.context=_:p.pendingContext=_,p=As(o),p.payload={element:u},E=E===void 0?null:E,E!==null&&(p.callback=E),u=Ss(a,p,o),u!==null&&(ei(u,a,o),Qc(u,a,o))}function iE(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function Om(a,o){iE(a,o),(a=a.alternate)&&iE(a,o)}function aE(a){if(a.tag===13||a.tag===31){var o=Eo(a,67108864);o!==null&&ei(o,a,67108864),Om(a,67108864)}}function sE(a){if(a.tag===13||a.tag===31){var o=fi();o=gn(o);var u=Eo(a,o);u!==null&&ei(u,a,o),Om(a,o)}}var th=!0;function GR(a,o,u,p){var _=ae.T;ae.T=null;var E=le.p;try{le.p=2,Um(a,o,u,p)}finally{le.p=E,ae.T=_}}function zR(a,o,u,p){var _=ae.T;ae.T=null;var E=le.p;try{le.p=8,Um(a,o,u,p)}finally{le.p=E,ae.T=_}}function Um(a,o,u,p){if(th){var _=Vm(p);if(_===null)Sm(a,o,p,nh,u),lE(a,p);else if(jR(_,a,o,u,p))p.stopPropagation();else if(lE(a,p),o&4&&-1<qR.indexOf(a)){for(;_!==null;){var E=Ke(_);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var F=dn(E.pendingLanes);if(F!==0){var q=E;for(q.pendingLanes|=2,q.entangledLanes|=2;F;){var se=1<<31-mn(F);q.entanglements[1]|=se,F&=~se}ma(E),(Wt&6)===0&&(Ud=ft()+500,pu(0))}}break;case 31:case 13:q=Eo(E,2),q!==null&&ei(q,E,2),Bd(),Om(E,2)}if(E=Vm(p),E===null&&Sm(a,o,p,nh,u),E===_)break;_=E}_!==null&&p.stopPropagation()}else Sm(a,o,p,null,u)}}function Vm(a){return a=gi(a),Bm(a)}var nh=null;function Bm(a){if(nh=null,a=Ge(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return nh=a,null}function oE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case Pt:return 2;case sn:return 8;case Rt:case Bn:return 32;case ht:return 268435456;default:return 32}default:return 32}}var Hm=!1,Ps=null,Ls=null,Os=null,Eu=new Map,Tu=new Map,Us=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lE(a,o){switch(a){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":Eu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(o.pointerId)}}function Au(a,o,u,p,_,E){return a===null||a.nativeEvent!==E?(a={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:E,targetContainers:[_]},o!==null&&(o=Ke(o),o!==null&&aE(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),a)}function jR(a,o,u,p,_){switch(o){case"focusin":return Ps=Au(Ps,a,o,u,p,_),!0;case"dragenter":return Ls=Au(Ls,a,o,u,p,_),!0;case"mouseover":return Os=Au(Os,a,o,u,p,_),!0;case"pointerover":var E=_.pointerId;return Eu.set(E,Au(Eu.get(E)||null,a,o,u,p,_)),!0;case"gotpointercapture":return E=_.pointerId,Tu.set(E,Au(Tu.get(E)||null,a,o,u,p,_)),!0}return!1}function cE(a){var o=Ge(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,W(a.priority,function(){sE(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,W(a.priority,function(){sE(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function rh(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Vm(a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);Lc=p,u.target.dispatchEvent(p),Lc=null}else return o=Ke(u),o!==null&&aE(o),a.blockedOn=u,!1;o.shift()}return!0}function uE(a,o,u){rh(a)&&u.delete(o)}function $R(){Hm=!1,Ps!==null&&rh(Ps)&&(Ps=null),Ls!==null&&rh(Ls)&&(Ls=null),Os!==null&&rh(Os)&&(Os=null),Eu.forEach(uE),Tu.forEach(uE)}function ih(a,o){a.blockedOn===o&&(a.blockedOn=null,Hm||(Hm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$R)))}var ah=null;function fE(a){ah!==a&&(ah=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ah===a&&(ah=null);for(var o=0;o<a.length;o+=3){var u=a[o],p=a[o+1],_=a[o+2];if(typeof p!="function"){if(Bm(p||u)===null)continue;break}var E=Ke(u);E!==null&&(a.splice(o,3),o-=3,Vp(E,{pending:!0,data:_,method:u.method,action:p},p,_))}}))}function jl(a){function o(se){return ih(se,a)}Ps!==null&&ih(Ps,a),Ls!==null&&ih(Ls,a),Os!==null&&ih(Os,a),Eu.forEach(o),Tu.forEach(o);for(var u=0;u<Us.length;u++){var p=Us[u];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Us.length&&(u=Us[0],u.blockedOn===null);)cE(u),u.blockedOn===null&&Us.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var _=u[p],E=u[p+1],F=_[ee]||null;if(typeof E=="function")F||fE(u);else if(F){var q=null;if(E&&E.hasAttribute("formAction")){if(_=E,F=E[ee]||null)q=F.formAction;else if(Bm(_)!==null)continue}else q=F.action;typeof q=="function"?u[p+1]=q:(u.splice(p,3),p-=3),fE(u)}}}function dE(){function a(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(F){return _=F})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function Gm(a){this._internalRoot=a}sh.prototype.render=Gm.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=fi();rE(u,p,a,o,null,null)},sh.prototype.unmount=Gm.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;rE(a.current,2,null,a,null,null),Bd(),o[re]=null}};function sh(a){this._internalRoot=a}sh.prototype.unstable_scheduleHydration=function(a){if(a){var o=V();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Us.length&&o!==0&&o<Us[u].priority;u++);Us.splice(u,0,a),u===0&&cE(a)}};var hE=e.version;if(hE!=="19.2.4")throw Error(r(527,hE,"19.2.4"));le.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(o),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var KR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Et=oh.inject(KR),Qt=oh}catch{}}return wu.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,p="",_=_y,E=Ey,F=Ty;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(F=o.onRecoverableError)),o=tE(a,1,!1,null,null,u,p,null,_,E,F,dE),a[re]=o.current,Am(a),new Gm(o)},wu.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var p=!1,_="",E=_y,F=Ey,q=Ty,se=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(F=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(se=u.formState)),o=tE(a,1,!0,o,u??null,p,_,se,E,F,q,dE),o.context=nE(null),u=o.current,p=fi(),p=gn(p),_=As(p),_.callback=null,Ss(u,_,p),u=p,o.current.lanes=u,mt(o,u),ma(o),a[re]=o.current,Am(a),new sh(o)},wu.version="19.2.4",wu}var AE;function n4(){if(AE)return jm.exports;AE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=t4(),jm.exports}var r4=n4();const i4=S0(r4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=t=>{const e=s4(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=de.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...c},f)=>de.createElement("svg",{ref:f,...o4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:FS("lucide",i),...!s&&!l4(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,h])=>de.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=de.forwardRef(({className:r,...i},s)=>de.createElement(c4,{ref:s,iconNode:e,className:FS(`lucide-${a4(SE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=SE(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],f4=st("arrow-down",u4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],h4=st("arrow-left",d4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],m4=st("arrow-right",p4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],v4=st("arrow-up",g4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],PS=st("briefcase",x4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_4=st("calendar",y4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hh=st("check",E4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A4=st("chevron-right",T4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qa=st("circle-alert",S4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hu=st("circle-check-big",w4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Sg=st("cloud",C4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],N4=st("cookie",b4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],R4=st("download",I4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],D4=st("external-link",k4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ih=st("file-spreadsheet",M4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],wE=st("file-text",F4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Gh=st("file-up",P4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],O4=st("funnel",L4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wv=st("globe",U4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Jm=st("key",V4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LS=st("layers",B4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CE=st("layout-dashboard",H4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gu=st("loader-circle",G4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wg=st("lock",z4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],j4=st("log-out",q4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],K4=st("mail",$4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sf=st("map-pin",Y4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],W4=st("map",J4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Q4=st("maximize-2",X4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],ek=st("menu",Z4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],nk=st("minimize-2",tk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M5 12h14",key:"1ays0h"}]],ik=st("minus",rk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rc=st("package",ak);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ok=st("pen",sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Wm=st("pencil",lk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uk=st("phone",ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cv=st("plus",fk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],w0=st("save",dk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],of=st("search",hk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bE=st("send",pk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gk=st("shield-check",mk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xk=st("shield",vk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],OS=st("shopping-bag",yk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],NE=st("sparkles",_k);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],C0=st("store",Ek);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Ak=st("table",Tk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],bv=st("tag",Sk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zo=st("trash-2",wk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bk=st("upload",Ck);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],IE=st("user-plus",Nk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ic=st("user",Ik);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cg=st("users",Rk);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qo=st("x",kk),b0=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],lf=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],Dk={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},Nv=t=>{const e=t.toUpperCase().trim();return Dk[e]||"Indefinido"};var Rh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Mk=Rh.exports,RE;function Fk(){return RE||(RE=1,(function(t,e){((n,r)=>{t.exports=r()})(Mk,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,c={},f=0,d={};function h(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var P=G(b);P.chunkSize=parseInt(P.chunkSize),b.step||b.chunk||(P.chunkSize=null),this._handle=new w(P),(this._handle.streamer=this)._config=P}).call(this,N),this.parseChunk=function(b,P){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let U=this._config.newline;U||(k=this._config.quoteChar||'"',U=this._handle.guessLineEndings(b,k)),b=[...b.split(U).slice(M)].join(U)}this.isFirstChunk&&I(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(b))!==void 0&&(b=k),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+b,k=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=k.meta.cursor,M=(this._finished||(this._partialLine=M.substring(b-this._baseIndex),this._baseIndex=b),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:k,workerId:d.WORKER_ID,finished:M});else if(I(this._config.chunk)&&!P){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!M||!I(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(b){I(this._config.error)?this._config.error(b):l&&this._config.error&&r.postMessage({workerId:d.WORKER_ID,error:b,finished:!1})}}function v(N){var b;(N=N||{}).chunkSize||(N.chunkSize=d.RemoteChunkSize),h.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),s||(b.onload=j(this._chunkLoaded,this),b.onerror=j(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var P,M=this._config.downloadRequestHeaders;for(P in M)b.setRequestHeader(P,M[P])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+k));try{b.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}s&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(P=>(P=P.getResponseHeader("Content-Range"))!==null?parseInt(P.substring(P.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(P){P=b.statusText||P,this._sendError(new Error(P))}}function y(N){(N=N||{}).chunkSize||(N.chunkSize=d.LocalChunkSize),h.call(this,N);var b,P,M=typeof FileReader<"u";this.stream=function(k){this._input=k,P=k.slice||k.webkitSlice||k.mozSlice,M?((b=new FileReader).onload=j(this._chunkLoaded,this),b.onerror=j(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),k=P.call(k,this._start,U)),b.readAsText(k,this._config.encoding));M||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(b.error)}}function A(N){var b;h.call(this,N=N||{}),this.stream=function(P){return b=P,this._nextChunk()},this._nextChunk=function(){var P,M;if(!this._finished)return P=this._config.chunkSize,b=P?(M=b.substring(0,P),b.substring(P)):(M=b,""),this._finished=!b,this.parseChunk(M)}}function S(N){h.call(this,N=N||{});var b=[],P=!0,M=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):P=!0},this._streamData=j(function(k){try{b.push(typeof k=="string"?k:k.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(U){this._streamError(U)}},this),this._streamError=j(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=j(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(N){var b,P,M,k,U=Math.pow(2,53),Te=-U,Ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,le=this,Ne=0,ie=0,Fe=!1,X=!1,B=[],Q={data:[],errors:[],meta:{}};function Z(Ce){return N.skipEmptyLines==="greedy"?Ce.join("").trim()==="":Ce.length===1&&Ce[0].length===0}function te(){if(Q&&M&&(be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),M=!1),N.skipEmptyLines&&(Q.data=Q.data.filter(function(ne){return!Z(ne)})),ue()){let ne=function(ut,We){I(N.transformHeader)&&(ut=N.transformHeader(ut,We)),B.push(ut)};var $e=ne;if(Q)if(Array.isArray(Q.data[0])){for(var Ce=0;ue()&&Ce<Q.data.length;Ce++)Q.data[Ce].forEach(ne);Q.data.splice(0,1)}else Q.data.forEach(ne)}function we(ne,ut){for(var We=N.header?{}:[],Ye=0;Ye<ne.length;Ye++){var Be=Ye,Le=ne[Ye],Le=((nt,rt)=>(ot=>(N.dynamicTypingFunction&&N.dynamicTyping[ot]===void 0&&(N.dynamicTyping[ot]=N.dynamicTypingFunction(ot)),(N.dynamicTyping[ot]||N.dynamicTyping)===!0))(nt)?rt==="true"||rt==="TRUE"||rt!=="false"&&rt!=="FALSE"&&((ot=>{if(Ae.test(ot)&&(ot=parseFloat(ot),Te<ot&&ot<U))return 1})(rt)?parseFloat(rt):ae.test(rt)?new Date(rt):rt===""?null:rt):rt)(Be=N.header?Ye>=B.length?"__parsed_extra":B[Ye]:Be,Le=N.transform?N.transform(Le,Be):Le);Be==="__parsed_extra"?(We[Be]=We[Be]||[],We[Be].push(Le)):We[Be]=Le}return N.header&&(Ye>B.length?be("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+Ye,ie+ut):Ye<B.length&&be("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+Ye,ie+ut)),We}var Ie;Q&&(N.header||N.dynamicTyping||N.transform)&&(Ie=1,!Q.data.length||Array.isArray(Q.data[0])?(Q.data=Q.data.map(we),Ie=Q.data.length):Q.data=we(Q.data,0),N.header&&Q.meta&&(Q.meta.fields=B),ie+=Ie)}function ue(){return N.header&&B.length===0}function be(Ce,we,Ie,$e){Ce={type:Ce,code:we,message:Ie},$e!==void 0&&(Ce.row=$e),Q.errors.push(Ce)}I(N.step)&&(k=N.step,N.step=function(Ce){Q=Ce,ue()?te():(te(),Q.data.length!==0&&(Ne+=Ce.data.length,N.preview&&Ne>N.preview?P.abort():(Q.data=Q.data[0],k(Q,le))))}),this.parse=function(Ce,we,Ie){var $e=N.quoteChar||'"',$e=(N.newline||(N.newline=this.guessLineEndings(Ce,$e)),M=!1,N.delimiter?I(N.delimiter)&&(N.delimiter=N.delimiter(Ce),Q.meta.delimiter=N.delimiter):(($e=((ne,ut,We,Ye,Be)=>{var Le,nt,rt,ot;Be=Be||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var fn=0;fn<Be.length;fn++){for(var Nn,Fn=Be[fn],ft=0,Xt=0,Pt=0,sn=(rt=void 0,new O({comments:Ye,delimiter:Fn,newline:ut,preview:10}).parse(ne)),Rt=0;Rt<sn.data.length;Rt++)We&&Z(sn.data[Rt])?Pt++:(Nn=sn.data[Rt].length,Xt+=Nn,rt===void 0?rt=Nn:0<Nn&&(ft+=Math.abs(Nn-rt),rt=Nn));0<sn.data.length&&(Xt/=sn.data.length-Pt),(nt===void 0||ft<=nt)&&(ot===void 0||ot<Xt)&&1.99<Xt&&(nt=ft,Le=Fn,ot=Xt)}return{successful:!!(N.delimiter=Le),bestDelimiter:Le}})(Ce,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=$e.bestDelimiter:(M=!0,N.delimiter=d.DefaultDelimiter),Q.meta.delimiter=N.delimiter),G(N));return N.preview&&N.header&&$e.preview++,b=Ce,P=new O($e),Q=P.parse(b,we,Ie),te(),Fe?{meta:{paused:!0}}:Q||{meta:{paused:!1}}},this.paused=function(){return Fe},this.pause=function(){Fe=!0,P.abort(),b=I(N.chunk)?"":b.substring(P.getCharIndex())},this.resume=function(){le.streamer._halted?(Fe=!1,le.streamer.parseChunk(b,!0)):setTimeout(le.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,P.abort(),Q.meta.aborted=!0,I(N.complete)&&N.complete(Q),b=""},this.guessLineEndings=function(ne,$e){ne=ne.substring(0,1048576);var $e=new RegExp(C($e)+"([^]*?)"+C($e),"gm"),Ie=(ne=ne.replace($e,"")).split("\r"),$e=ne.split(`
`),ne=1<$e.length&&$e[0].length<Ie[0].length;if(Ie.length===1||ne)return`
`;for(var ut=0,We=0;We<Ie.length;We++)Ie[We][0]===`
`&&ut++;return ut>=Ie.length/2?`\r
`:"\r"}}function C(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function O(N){var b=(N=N||{}).delimiter,P=N.newline,M=N.comments,k=N.step,U=N.preview,Te=N.fastMode,Ae=null,ae=!1,le=N.quoteChar==null?'"':N.quoteChar,Ne=le;if(N.escapeChar!==void 0&&(Ne=N.escapeChar),(typeof b!="string"||-1<d.BAD_DELIMITERS.indexOf(b))&&(b=","),M===b)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<d.BAD_DELIMITERS.indexOf(M))&&(M=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var ie=0,Fe=!1;this.parse=function(X,B,Q){if(typeof X!="string")throw new Error("Input must be a string");var Z=X.length,te=b.length,ue=P.length,be=M.length,Ce=I(k),we=[],Ie=[],$e=[],ne=ie=0;if(!X)return ft();if(Te||Te!==!1&&X.indexOf(le)===-1){for(var ut=X.split(P),We=0;We<ut.length;We++){if($e=ut[We],ie+=$e.length,We!==ut.length-1)ie+=P.length;else if(Q)return ft();if(!M||$e.substring(0,be)!==M){if(Ce){if(we=[],ot($e.split(b)),Xt(),Fe)return ft()}else ot($e.split(b));if(U&&U<=We)return we=we.slice(0,U),ft(!0)}}return ft()}for(var Ye=X.indexOf(b,ie),Be=X.indexOf(P,ie),Le=new RegExp(C(Ne)+C(le),"g"),nt=X.indexOf(le,ie);;)if(X[ie]===le)for(nt=ie,ie++;;){if((nt=X.indexOf(le,nt+1))===-1)return Q||Ie.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:we.length,index:ie}),Nn();if(nt===Z-1)return Nn(X.substring(ie,nt).replace(Le,le));if(le===Ne&&X[nt+1]===Ne)nt++;else if(le===Ne||nt===0||X[nt-1]!==Ne){Ye!==-1&&Ye<nt+1&&(Ye=X.indexOf(b,nt+1));var rt=fn((Be=Be!==-1&&Be<nt+1?X.indexOf(P,nt+1):Be)===-1?Ye:Math.min(Ye,Be));if(X.substr(nt+1+rt,te)===b){$e.push(X.substring(ie,nt).replace(Le,le)),X[ie=nt+1+rt+te]!==le&&(nt=X.indexOf(le,ie)),Ye=X.indexOf(b,ie),Be=X.indexOf(P,ie);break}if(rt=fn(Be),X.substring(nt+1+rt,nt+1+rt+ue)===P){if($e.push(X.substring(ie,nt).replace(Le,le)),Fn(nt+1+rt+ue),Ye=X.indexOf(b,ie),nt=X.indexOf(le,ie),Ce&&(Xt(),Fe))return ft();if(U&&we.length>=U)return ft(!0);break}Ie.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:we.length,index:ie}),nt++}}else if(M&&$e.length===0&&X.substring(ie,ie+be)===M){if(Be===-1)return ft();ie=Be+ue,Be=X.indexOf(P,ie),Ye=X.indexOf(b,ie)}else if(Ye!==-1&&(Ye<Be||Be===-1))$e.push(X.substring(ie,Ye)),ie=Ye+te,Ye=X.indexOf(b,ie);else{if(Be===-1)break;if($e.push(X.substring(ie,Be)),Fn(Be+ue),Ce&&(Xt(),Fe))return ft();if(U&&we.length>=U)return ft(!0)}return Nn();function ot(Pt){we.push(Pt),ne=ie}function fn(Pt){var sn=0;return sn=Pt!==-1&&(Pt=X.substring(nt+1,Pt))&&Pt.trim()===""?Pt.length:sn}function Nn(Pt){return Q||(Pt===void 0&&(Pt=X.substring(ie)),$e.push(Pt),ie=Z,ot($e),Ce&&Xt()),ft()}function Fn(Pt){ie=Pt,ot($e),$e=[],Be=X.indexOf(P,ie)}function ft(Pt){if(N.header&&!B&&we.length&&!ae){var sn=we[0],Rt=Object.create(null),Bn=new Set(sn);let ht=!1;for(let Lt=0;Lt<sn.length;Lt++){let bt=sn[Lt];if(Rt[bt=I(N.transformHeader)?N.transformHeader(bt,Lt):bt]){let Et,Qt=Rt[bt];for(;Et=bt+"_"+Qt,Qt++,Bn.has(Et););Bn.add(Et),sn[Lt]=Et,Rt[bt]++,ht=!0,(Ae=Ae===null?{}:Ae)[Et]=bt}else Rt[bt]=1,sn[Lt]=bt;Bn.add(bt)}ht&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:we,errors:Ie,meta:{delimiter:b,linebreak:P,aborted:Fe,truncated:!!Pt,cursor:ne+(B||0),renamedHeaders:Ae}}}function Xt(){k(ft()),we=[],Ie=[]}},this.abort=function(){Fe=!0},this.getCharIndex=function(){return ie}}function H(N){var b=N.data,P=c[b.workerId],M=!1;if(b.error)P.userError(b.error,b.file);else if(b.results&&b.results.data){var k={abort:function(){M=!0,D(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z,resume:z};if(I(P.userStep)){for(var U=0;U<b.results.data.length&&(P.userStep({data:b.results.data[U],errors:b.results.errors,meta:b.results.meta},k),!M);U++);delete b.results}else I(P.userChunk)&&(P.userChunk(b.results,k,b.file),delete b.results)}b.finished&&!M&&D(b.workerId,b.results)}function D(N,b){var P=c[N];I(P.userComplete)&&P.userComplete(b),P.terminate(),delete c[N]}function z(){throw new Error("Not implemented.")}function G(N){if(typeof N!="object"||N===null)return N;var b,P=Array.isArray(N)?[]:{};for(b in N)P[b]=G(N[b]);return P}function j(N,b){return function(){N.apply(b,arguments)}}function I(N){return typeof N=="function"}return d.parse=function(N,b){var P=(b=b||{}).dynamicTyping||!1;if(I(P)&&(b.dynamicTypingFunction=P,P={}),b.dynamicTyping=P,b.transform=!!I(b.transform)&&b.transform,!b.worker||!d.WORKERS_SUPPORTED)return P=null,d.NODE_STREAM_INPUT,typeof N=="string"?(N=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(N),P=new(b.download?v:A)(b)):N.readable===!0&&I(N.read)&&I(N.on)?P=new S(b):(r.File&&N instanceof File||N instanceof Object)&&(P=new y(b)),P.stream(N);(P=(()=>{var M;return!!d.WORKERS_SUPPORTED&&(M=(()=>{var k=r.URL||r.webkitURL||null,U=n.toString();return d.BLOB_URL||(d.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(M=new r.Worker(M)).onmessage=H,M.id=f++,c[M.id]=M)})()).userStep=b.step,P.userChunk=b.chunk,P.userComplete=b.complete,P.userError=b.error,b.step=I(b.step),b.chunk=I(b.chunk),b.complete=I(b.complete),b.error=I(b.error),delete b.worker,P.postMessage({input:N,config:b,workerId:P.id})},d.unparse=function(N,b){var P=!1,M=!0,k=",",U=`\r
`,Te='"',Ae=Te+Te,ae=!1,le=null,Ne=!1,ie=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||d.BAD_DELIMITERS.filter(function(B){return b.delimiter.indexOf(B)!==-1}).length||(k=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(P=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(ae=b.skipEmptyLines),typeof b.newline=="string"&&(U=b.newline),typeof b.quoteChar=="string"&&(Te=b.quoteChar),typeof b.header=="boolean"&&(M=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");le=b.columns}b.escapeChar!==void 0&&(Ae=b.escapeChar+Te),b.escapeFormulae instanceof RegExp?Ne=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(Ne=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(Te),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return Fe(null,N,ae);if(typeof N[0]=="object")return Fe(le||Object.keys(N[0]),N,ae)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||le),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),Fe(N.fields||[],N.data||[],ae);throw new Error("Unable to serialize unrecognized input");function Fe(B,Q,Z){var te="",ue=(typeof B=="string"&&(B=JSON.parse(B)),typeof Q=="string"&&(Q=JSON.parse(Q)),Array.isArray(B)&&0<B.length),be=!Array.isArray(Q[0]);if(ue&&M){for(var Ce=0;Ce<B.length;Ce++)0<Ce&&(te+=k),te+=X(B[Ce],Ce);0<Q.length&&(te+=U)}for(var we=0;we<Q.length;we++){var Ie=(ue?B:Q[we]).length,$e=!1,ne=ue?Object.keys(Q[we]).length===0:Q[we].length===0;if(Z&&!ue&&($e=Z==="greedy"?Q[we].join("").trim()==="":Q[we].length===1&&Q[we][0].length===0),Z==="greedy"&&ue){for(var ut=[],We=0;We<Ie;We++){var Ye=be?B[We]:We;ut.push(Q[we][Ye])}$e=ut.join("").trim()===""}if(!$e){for(var Be=0;Be<Ie;Be++){0<Be&&!ne&&(te+=k);var Le=ue&&be?B[Be]:Be;te+=X(Q[we][Le],Be)}we<Q.length-1&&(!Z||0<Ie&&!ne)&&(te+=U)}}return te}function X(B,Q){var Z,te;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(te=!1,Ne&&typeof B=="string"&&Ne.test(B)&&(B="'"+B,te=!0),Z=B.toString().replace(ie,Ae),(te=te||P===!0||typeof P=="function"&&P(B,Q)||Array.isArray(P)&&P[Q]||((ue,be)=>{for(var Ce=0;Ce<be.length;Ce++)if(-1<ue.indexOf(be[Ce]))return!0;return!1})(Z,d.BAD_DELIMITERS)||-1<Z.indexOf(k)||Z.charAt(0)===" "||Z.charAt(Z.length-1)===" ")?Te+Z+Te:Z)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!s&&!!r.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=O,d.ParserHandle=w,d.NetworkStreamer=v,d.FileStreamer=y,d.StringStreamer=A,d.ReadableStreamStreamer=S,r.jQuery&&((i=r.jQuery).fn.parse=function(N){var b=N.config||{},P=[];return this.each(function(U){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Te=0;Te<this.files.length;Te++)P.push({file:this.files[Te],inputElem:this,instanceConfig:i.extend({},b)})}),M(),this;function M(){if(P.length===0)I(N.complete)&&N.complete();else{var U,Te,Ae,ae,le=P[0];if(I(N.before)){var Ne=N.before(le.file,le.inputElem);if(typeof Ne=="object"){if(Ne.action==="abort")return U="AbortError",Te=le.file,Ae=le.inputElem,ae=Ne.reason,void(I(N.error)&&N.error({name:U},Te,Ae,ae));if(Ne.action==="skip")return void k();typeof Ne.config=="object"&&(le.instanceConfig=i.extend(le.instanceConfig,Ne.config))}else if(Ne==="skip")return void k()}var ie=le.instanceConfig.complete;le.instanceConfig.complete=function(Fe){I(ie)&&ie(Fe,le.file,le.inputElem),k()},d.parse(le.file,le.instanceConfig)}}function k(){P.splice(0,1),M()}}),l&&(r.onmessage=function(N){N=N.data,d.WORKER_ID===void 0&&N&&(d.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:d.WORKER_ID,results:d.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=d.parse(N.input,N.config))&&r.postMessage({workerId:d.WORKER_ID,results:N,finished:!0})}),(v.prototype=Object.create(h.prototype)).constructor=v,(y.prototype=Object.create(h.prototype)).constructor=y,(A.prototype=Object.create(A.prototype)).constructor=A,(S.prototype=Object.create(h.prototype)).constructor=S,d})})(Rh)),Rh.exports}var Pk=Fk();const US=S0(Pk),kE=t=>{if(!t)return null;const e=t.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(e)return{lat:parseFloat(e[1]),lng:parseFloat(e[2])};const n=t.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return n?{lat:parseFloat(n[1]),lng:parseFloat(n[2])}:null},Lk=t=>{if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("query")||e.searchParams.get("q");if(n&&!n.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return n}catch{const n=t.match(/[?&]query=([^&]+)/)||t.match(/[?&]q=([^&]+)/);if(n)return decodeURIComponent(n[1].replace(/\+/g," "))}return null},VS=t=>{if(t==null)return{address:""};const e=String(t).trim(),n=e.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(n){const i=n[1].replace(/""/g,'"').trim(),s=n[2].replace(/""/g,'"').trim(),l=kE(i);return{link:i,address:s,...l}}const r=BS(e);if(r.includes("google.com/maps")||r.includes("maps.app.goo.gl")){const i=Lk(r),s=kE(r);return{link:r,address:i||r,...s}}return{address:r}},BS=t=>{if(t==null)return"";const e=String(t),n=e.match(/"([^"]+)"\)$/);return n&&n[1]?n[1].trim():e.startsWith("=")?e.replace(/[="()]/g,"").trim():e.trim()},Ok=t=>{const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},DE=t=>{if(!t)return 0;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},HS=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),GS=t=>new Promise((e,n)=>{US.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:r=>{const i=r.data,s=[];i.forEach(l=>{const c={};Object.keys(l).forEach(C=>{c[HS(C)]=l[C]});const f=c["numero do sku"]||c.sku||"",d=c.marca||c.fabricante||"Genrico",h=c["cod.fabrica"]||c["cod fabrica"]||c["codigo fabrica"]||"",v=c.descricao||c.nome||c.produto||"",y=Ok(c["preco de venda"]||c.preco||"0"),A=c.categoria||d,S=DE(c.margem||"0"),w=DE(c.desconto||c.discount||"0");(f||v)&&s.push({category:A,sku:f,brand:d,factoryCode:h,name:v,price:y,margin:S,discount:w})}),e(s)},error:r=>n(r)})}),Uk=t=>new Promise((e,n)=>{US.parse(t,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:r=>r.trim().replace(/^\ufeff/,""),complete:r=>{const i=r.data,s=[];if(i.forEach(l=>{const c={};Object.keys(l).forEach(S=>{c[HS(S)]=l[S]});const f=c.endereco||c.logradouro||c.localizacao||c["endereco cobranca"]||c["link google maps"]||"";let{address:d,link:h,lat:v,lng:y}=VS(f);const A=c.cep||c.zip||c["codigo postal"]||"";A&&d&&!d.toLowerCase().includes(A.toLowerCase())&&(d=`${d}, ${A}`),s.push({"Razo Social":c["razao social"]||c.cliente||c["nome fantasia"]||c.fantasia||c.empresa||c["nome comercial"]||"","Nome do Proprietrio":c["nome do proprietario"]||c.proprietario||c.dono||c["contato principal"]||"",Contato:c.contato||c.telefone||c.celular||c.whatsapp||"",Endereo:d,GoogleMapsLink:h,extractedLat:v,extractedLng:y})}),s.length>0){const l=s[0];!l["Razo Social"]&&!l.Endereo&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}e(s)},error:r=>{n(r)}})});/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var zS=1252,Vk=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Iv={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Rv=function(t){Vk.indexOf(t)!=-1&&(zS=Iv[0]=t)};function Bk(){Rv(1252)}var Xi=function(t){Rv(t)};function qS(){Xi(1200),Bk()}function ME(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function Hk(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function jS(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Du=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?Hk(t.slice(2)):e==254&&n==255?jS(t.slice(2)):e==65279?t.slice(1):t},lh=function(e){return String.fromCharCode(e)},FE=function(e){return String.fromCharCode(e)},cf,qs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function PE(t){for(var e="",n=0,r=0,i=0,s=0,l=0,c=0,f=0,d=0;d<t.length;)n=t.charCodeAt(d++),s=n>>2,r=t.charCodeAt(d++),l=(n&3)<<4|r>>4,i=t.charCodeAt(d++),c=(r&15)<<2|i>>6,f=i&63,isNaN(r)?c=f=64:isNaN(i)&&(f=64),e+=qs.charAt(s)+qs.charAt(l)+qs.charAt(c)+qs.charAt(f);return e}function mi(t){var e="",n=0,r=0,i=0,s=0,l=0,c=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)s=qs.indexOf(t.charAt(d++)),l=qs.indexOf(t.charAt(d++)),n=s<<2|l>>4,e+=String.fromCharCode(n),c=qs.indexOf(t.charAt(d++)),r=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),f=qs.indexOf(t.charAt(d++)),i=(c&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Ut=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Qo=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Zs(t){return Ut?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function LE(t){return Ut?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Wi=function(e){return Ut?Qo(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Zo(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function kv(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return kv(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var zs=Ut?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Qo(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Gk(t){for(var e=[],n=0,r=t.length+250,i=Zs(t.length+255),s=0;s<t.length;++s){var l=t.charCodeAt(s);if(l<128)i[n++]=l;else if(l<2048)i[n++]=192|l>>6&31,i[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++s)&1023;i[n++]=240|l>>8&7,i[n++]=128|l>>2&63,i[n++]=128|c>>6&15|(l&3)<<4,i[n++]=128|c&63}else i[n++]=224|l>>12&15,i[n++]=128|l>>6&63,i[n++]=128|l&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Zs(65535),r=65530)}return e.push(i.slice(0,n)),zs(e)}var jr=/\u0000/g,Mu=/[\u0001-\u0006]/g;function ac(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Qi(t,e){var n=""+t;return n.length>=e?n:Dn("0",e-n.length)+n}function Dv(t,e){var n=""+t;return n.length>=e?n:Dn(" ",e-n.length)+n}function zh(t,e){var n=""+t;return n.length>=e?n:n+Dn(" ",e-n.length)}function zk(t,e){var n=""+Math.round(t);return n.length>=e?n:Dn("0",e-n.length)+n}function qk(t,e){var n=""+t;return n.length>=e?n:Dn("0",e-n.length)+n}var OE=Math.pow(2,32);function $l(t,e){if(t>OE||t<-OE)return zk(t,e);var n=Math.round(t);return qk(n,e)}function qh(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var UE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xm=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function jk(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var St={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},VE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$k={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jh(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,l=1,c=0,f=1,d=0,h=0,v=Math.floor(i);d<e&&(v=Math.floor(i),c=v*l+s,h=v*d+f,!(i-v<5e-8));)i=1/(i-v),s=l,l=c,f=d,d=h;if(h>e&&(d>e?(h=f,c=s):(h=d,c=l)),!n)return[0,r*c,h];var y=Math.floor(r*c/h);return[y,r*c-y*h,h]}function Uo(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,l=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)l=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),l=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=Qk(f,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var $S=new Date(1899,11,31,0,0,0),Kk=$S.getTime(),Yk=new Date(1900,2,1,0,0,0);function KS(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Yk&&(n+=1440*60*1e3),(n-(Kk+(t.getTimezoneOffset()-$S.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Mv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Jk(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Wk(t){var e=t<0?12:11,n=Mv(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Xk(t){var e=Mv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function uf(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Wk(t):e===10?n=t.toFixed(10).substr(0,12):n=Xk(t),Mv(Jk(n.toUpperCase()))}function jo(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):uf(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Mi(14,KS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Qk(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Zk(t,e,n,r){var i="",s=0,l=0,c=n.y,f,d=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:f=c%100,d=2;break;default:f=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,d=e.length;break;case 3:return Xm[n.m-1][1];case 5:return Xm[n.m-1][0];default:return Xm[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,d=e.length;break;case 3:return UE[n.q][0];default:return UE[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Qi(n.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(n.S+n.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=Qi(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:f=c,d=1;break}var h=d>0?Qi(f,d):"";return h}function js(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var YS=/%/g;function e3(t,e,n){var r=e.replace(YS,""),i=e.length-r.length;return Ya(t,r,n*Math.pow(10,2*i))+Dn("%",i)}function t3(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ya(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function JS(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+JS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+s):n+="E+"+(l-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var WS=/# (\?+)( ?)\/( ?)(\d+)/;function n3(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),l=i-s*r,c=r;return n+(s===0?"":""+s)+" "+(l===0?Dn(" ",t[1].length+1+t[4].length):Dv(l,t[1].length)+t[2]+"/"+t[3]+Qi(c,t[4].length))}function r3(t,e,n){return n+(e===0?"":""+e)+Dn(" ",t[1].length+2+t[4].length)}var XS=/^#*0*\.([0#]+)/,QS=/\).*[0#]/,ZS=/\(###\) ###\\?-####/;function Gr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function BE(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function HE(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function i3(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function a3(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ni(t,e,n){if(t.charCodeAt(0)===40&&!e.match(QS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ni("n",r,n):"("+Ni("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return t3(t,e,n);if(e.indexOf("%")!==-1)return e3(t,e,n);if(e.indexOf("E")!==-1)return JS(e,n);if(e.charCodeAt(0)===36)return"$"+Ni(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,l,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+$l(f,e.length);if(e.match(/^[#?]+$/))return i=$l(n,0),i==="0"&&(i=""),i.length>e.length?i:Gr(e.substr(0,e.length-i.length))+i;if(s=e.match(WS))return n3(s,f,d);if(e.match(/^#+0+$/))return d+$l(f,e.length-e.indexOf("0"));if(s=e.match(XS))return i=BE(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Gr(s[1])).replace(/\.$/,"."+Gr(s[1])).replace(/\.(\d*)$/,function(S,w){return"."+w+Dn("0",Gr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+BE(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+js($l(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ni(t,e,-n):js(""+(Math.floor(n)+i3(n,s[1].length)))+"."+Qi(HE(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ni(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ac(Ni(t,e.replace(/[\\-]/g,""),n)),l=0,ac(ac(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(ZS))return i=Ni(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=jh(f,Math.pow(10,l)-1,!1),i=""+d,h=Ya("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=zh(c[2],l),h.length<s[4].length&&(h=Gr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=jh(f,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Dv(c[1],l)+s[2]+"/"+s[3]+zh(c[2],l):Dn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=$l(n,0),e.length<=i.length?i:Gr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=e.indexOf(".")-l,y=e.length-i.length-v;return Gr(e.substr(0,v)+i+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=HE(n,s[1].length),n<0?"-"+Ni(t,e,-n):js(a3(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Qi(0,3-S.length):"")+S})+"."+Qi(l,s[1].length);switch(e){case"###,##0.00":return Ni(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var A=js($l(f,0));return A!=="0"?d+A:"";case"###,###.00":return Ni(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ni(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function s3(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Ya(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function o3(t,e,n){var r=e.replace(YS,""),i=e.length-r.length;return Ya(t,r,n*Math.pow(10,2*i))+Dn("%",i)}function ew(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ew(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+s):n+="E+"+(l-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,f,d,h){return f+d+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function va(t,e,n){if(t.charCodeAt(0)===40&&!e.match(QS)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?va("n",r,n):"("+va("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return s3(t,e,n);if(e.indexOf("%")!==-1)return o3(t,e,n);if(e.indexOf("E")!==-1)return ew(e,n);if(e.charCodeAt(0)===36)return"$"+va(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,l,c,f=Math.abs(n),d=n<0?"-":"";if(e.match(/^00+$/))return d+Qi(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Gr(e.substr(0,e.length-i.length))+i;if(s=e.match(WS))return r3(s,f,d);if(e.match(/^#+0+$/))return d+Qi(f,e.length-e.indexOf("0"));if(s=e.match(XS))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Gr(s[1])).replace(/\.$/,"."+Gr(s[1])),i=i.replace(/\.(\d*)$/,function(S,w){return"."+w+Dn("0",Gr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+js(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+va(t,e,-n):js(""+n)+"."+Dn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return va(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ac(va(t,e.replace(/[\\-]/g,""),n)),l=0,ac(ac(e.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<i.length?i.charAt(l++):S==="0"?"0":""}));if(e.match(ZS))return i=va(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=jh(f,Math.pow(10,l)-1,!1),i=""+d,h=Ya("n",s[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=zh(c[2],l),h.length<s[4].length&&(h=Gr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=jh(f,Math.pow(10,l)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Dv(c[1],l)+s[2]+"/"+s[3]+zh(c[2],l):Dn(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Gr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var v=e.indexOf(".")-l,y=e.length-i.length-v;return Gr(e.substr(0,v)+i+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+va(t,e,-n):js(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Qi(0,3-S.length):"")+S})+"."+Qi(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var A=js(""+f);return A!=="0"?d+A:"";default:if(e.match(/\.[0#?]*$/))return va(t,e.slice(0,e.lastIndexOf(".")),n)+Gr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ya(t,e,n){return(n|0)===n?va(t,e,n):Ni(t,e,n)}function l3(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var tw=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function _c(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":qh(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(tw))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function c3(t,e,n,r){for(var i=[],s="",l=0,c="",f="t",d,h,v,y="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!qh(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(v=t.charCodeAt(++l))!==34&&l<t.length;)s+=String.fromCharCode(v);i[i.length]={t:"t",v:s},++l;break;case"\\":var A=t.charAt(++l),S=A==="("||A===")"?A:"t";i[i.length]={t:S,v:A},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(d==null&&(d=Uo(e,n,t.charAt(l+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},f=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=Uo(e,n),d==null))return"";for(s=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&f.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=y),i[i.length]={t:c,v:s},f=c;break;case"A":case"a":case"":var w={t:c,v:c};if(d==null&&(d=Uo(e,n)),t.substr(l,3).toUpperCase()==="A/P"?(d!=null&&(w.v=d.H>=12?"P":"A"),w.t="T",y="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(d!=null&&(w.v=d.H>=12?"PM":"AM"),w.t="T",l+=5,y="h"):t.substr(l,5).toUpperCase()==="/"?(d!=null&&(w.v=d.H>=12?"":""),w.t="T",l+=5,y="h"):(w.t="t",++l),d==null&&w.t==="T")return"";i[i.length]=w,f=c;break;case"[":for(s=c;t.charAt(l++)!=="]"&&l<t.length;)s+=t.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(tw)){if(d==null&&(d=Uo(e,n),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",_c(t)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++l<t.length&&(c=t.charAt(l))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;t.charAt(++l)===c;)s+=c;i[i.length]={t:c,v:s},f=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)s+=t.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var C=0,O=0,H;for(l=i.length-1,f="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=y,f="h",C<1&&(C=1);break;case"s":(H=i[l].v.match(/\.0+$/))&&(O=Math.max(O,H[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=i[l].t;break;case"m":f==="s"&&(i[l].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[l].v.match(/[Hh]/)&&(C=1),C<2&&i[l].v.match(/[Mm]/)&&(C=2),C<3&&i[l].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var D="",z;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=Zk(i[l].t.charCodeAt(0),i[l].v,d,O),i[l].t="t";break;case"n":case"?":for(z=l+1;i[z]!=null&&((c=i[z].t)==="?"||c==="D"||(c===" "||c==="t")&&i[z+1]!=null&&(i[z+1].t==="?"||i[z+1].t==="t"&&i[z+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[z].v==="/"||i[z].v===" "&&i[z+1]!=null&&i[z+1].t=="?"));)i[l].v+=i[z].v,i[z]={v:"",t:";"},++z;D+=i[l].v,l=z-1;break;case"G":i[l].t="t",i[l].v=jo(e,n);break}var G="",j,I;if(D.length>0){D.charCodeAt(0)==40?(j=e<0&&D.charCodeAt(0)===45?-e:e,I=Ya("n",D,j)):(j=e<0&&r>1?-e:e,I=Ya("n",D,j),j<0&&i[0]&&i[0].t=="t"&&(I=I.substr(1),i[0].v="-"+i[0].v)),z=I.length-1;var N=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){N=l;break}var b=i.length;if(N===i.length&&I.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(z>=i[l].v.length-1?(z-=i[l].v.length,i[l].v=I.substr(z+1,i[l].v.length)):z<0?i[l].v="":(i[l].v=I.substr(0,z+1),z=-1),i[l].t="t",b=l);z>=0&&b<i.length&&(i[b].v=I.substr(0,z+1)+i[b].v)}else if(N!==i.length&&I.indexOf("E")===-1){for(z=I.indexOf(".")-1,l=N;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(h=i[l].v.indexOf(".")>-1&&l===N?i[l].v.indexOf(".")-1:i[l].v.length-1,G=i[l].v.substr(h+1);h>=0;--h)z>=0&&(i[l].v.charAt(h)==="0"||i[l].v.charAt(h)==="#")&&(G=I.charAt(z--)+G);i[l].v=G,i[l].t="t",b=l}for(z>=0&&b<i.length&&(i[b].v=I.substr(0,z+1)+i[b].v),z=I.indexOf(".")+1,l=N;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==N)){for(h=i[l].v.indexOf(".")>-1&&l===N?i[l].v.indexOf(".")+1:0,G=i[l].v.substr(0,h);h<i[l].v.length;++h)z<I.length&&(G+=I.charAt(z++));i[l].v=G,i[l].t="t",b=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(j=r>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=Ya(i[l].t,i[l].v,j),i[l].t="t");var P="";for(l=0;l!==i.length;++l)i[l]!=null&&(P+=i[l].v);return P}var GE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function zE(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function u3(t,e){var n=l3(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(GE),c=n[1].match(GE);return zE(e,l)?[r,n[0]]:zE(e,c)?[r,n[1]]:[r,n[l!=null&&c!=null?2:1]]}return[r,s]}function Mi(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:St)[t],r==null&&(r=n.table&&n.table[VE[t]]||St[VE[t]]),r==null&&(r=$k[t]||"General");break}if(qh(r,0))return jo(e,n);e instanceof Date&&(e=KS(e,n.date1904));var i=u3(r,e);if(qh(i[1]))return jo(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return c3(i[1],e,n,i[0])}function Bo(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(St[n]==null){e<0&&(e=n);continue}if(St[n]==t){e=n;break}}e<0&&(e=391)}return St[e]=t,e}function nw(){St=jk()}var f3={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rw=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function d3(t){var e=typeof t=="number"?St[t]:t;return e=e.replace(rw,"(\\d+)"),new RegExp("^"+e+"$")}function h3(t,e,n){var r=-1,i=-1,s=-1,l=-1,c=-1,f=-1;(e.match(rw)||[]).forEach(function(v,y){var A=parseInt(n[y+1],10);switch(v.toLowerCase().charAt(0)){case"y":r=A;break;case"d":s=A;break;case"h":l=A;break;case"s":f=A;break;case"m":l>=0?c=A:i=A;break}}),f>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return l==-1&&c==-1&&f==-1?d:r==-1&&i==-1&&s==-1?h:d+"T"+h}var p3=(function(){var t={};t.version="1.2.0";function e(){for(var I=0,N=new Array(256),b=0;b!=256;++b)I=b,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,N[b]=I;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(I){var N=0,b=0,P=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)M[P]=I[P];for(P=0;P!=256;++P)for(b=I[P],N=256+P;N<4096;N+=256)b=M[N]=b>>>8^I[b&255];var k=[];for(P=1;P!=16;++P)k[P-1]=typeof Int32Array<"u"?M.subarray(P*256,P*256+256):M.slice(P*256,P*256+256);return k}var i=r(n),s=i[0],l=i[1],c=i[2],f=i[3],d=i[4],h=i[5],v=i[6],y=i[7],A=i[8],S=i[9],w=i[10],C=i[11],O=i[12],H=i[13],D=i[14];function z(I,N){for(var b=N^-1,P=0,M=I.length;P<M;)b=b>>>8^n[(b^I.charCodeAt(P++))&255];return~b}function G(I,N){for(var b=N^-1,P=I.length-15,M=0;M<P;)b=D[I[M++]^b&255]^H[I[M++]^b>>8&255]^O[I[M++]^b>>16&255]^C[I[M++]^b>>>24]^w[I[M++]]^S[I[M++]]^A[I[M++]]^y[I[M++]]^v[I[M++]]^h[I[M++]]^d[I[M++]]^f[I[M++]]^c[I[M++]]^l[I[M++]]^s[I[M++]]^n[I[M++]];for(P+=15;M<P;)b=b>>>8^n[(b^I[M++])&255];return~b}function j(I,N){for(var b=N^-1,P=0,M=I.length,k=0,U=0;P<M;)k=I.charCodeAt(P++),k<128?b=b>>>8^n[(b^k)&255]:k<2048?(b=b>>>8^n[(b^(192|k>>6&31))&255],b=b>>>8^n[(b^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,U=I.charCodeAt(P++)&1023,b=b>>>8^n[(b^(240|k>>8&7))&255],b=b>>>8^n[(b^(128|k>>2&63))&255],b=b>>>8^n[(b^(128|U>>6&15|(k&3)<<4))&255],b=b>>>8^n[(b^(128|U&63))&255]):(b=b>>>8^n[(b^(224|k>>12&15))&255],b=b>>>8^n[(b^(128|k>>6&63))&255],b=b>>>8^n[(b^(128|k&63))&255]);return~b}return t.table=n,t.bstr=z,t.buf=G,t.str=j,t})(),Ht=(function(){var e={};e.version="1.2.1";function n(V,W){for(var K=V.split("/"),J=W.split("/"),ee=0,re=0,me=Math.min(K.length,J.length);ee<me;++ee){if(re=K[ee].length-J[ee].length)return re;if(K[ee]!=J[ee])return K[ee]<J[ee]?-1:1}return K.length-J.length}function r(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:r(V.slice(0,-1));var W=V.lastIndexOf("/");return W===-1?V:V.slice(0,W+1)}function i(V){if(V.charAt(V.length-1)=="/")return i(V.slice(0,-1));var W=V.lastIndexOf("/");return W===-1?V:V.slice(W+1)}function s(V,W){typeof W=="string"&&(W=new Date(W));var K=W.getHours();K=K<<6|W.getMinutes(),K=K<<5|W.getSeconds()>>>1,V.write_shift(2,K);var J=W.getFullYear()-1980;J=J<<4|W.getMonth()+1,J=J<<5|W.getDate(),V.write_shift(2,J)}function l(V){var W=V.read_shift(2)&65535,K=V.read_shift(2)&65535,J=new Date,ee=K&31;K>>>=5;var re=K&15;K>>>=4,J.setMilliseconds(0),J.setFullYear(K+1980),J.setMonth(re-1),J.setDate(ee);var me=W&31;W>>>=5;var Re=W&63;return W>>>=6,J.setHours(W),J.setMinutes(Re),J.setSeconds(me<<1),J}function c(V){xr(V,0);for(var W={},K=0;V.l<=V.length-4;){var J=V.read_shift(2),ee=V.read_shift(2),re=V.l+ee,me={};switch(J){case 21589:K=V.read_shift(1),K&1&&(me.mtime=V.read_shift(4)),ee>5&&(K&2&&(me.atime=V.read_shift(4)),K&4&&(me.ctime=V.read_shift(4))),me.mtime&&(me.mt=new Date(me.mtime*1e3));break}V.l=re,W[J]=me}return W}var f;function d(){return f||(f={})}function h(V,W){if(V[0]==80&&V[1]==75)return Ur(V,W);if((V[0]|32)==109&&(V[1]|32)==105)return mt(V,W);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var K=3,J=512,ee=0,re=0,me=0,Re=0,ge=0,ye=[],xe=V.slice(0,512);xr(xe,0);var Ve=v(xe);switch(K=Ve[0],K){case 3:J=512;break;case 4:J=4096;break;case 0:if(Ve[1]==0)return Ur(V,W);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}J!==512&&(xe=V.slice(0,J),xr(xe,28));var Ge=V.slice(0,J);y(xe,K);var Ke=xe.read_shift(4,"i");if(K===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);xe.l+=4,me=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),Re=xe.read_shift(4,"i"),ee=xe.read_shift(4,"i"),ge=xe.read_shift(4,"i"),re=xe.read_shift(4,"i");for(var Oe=-1,je=0;je<109&&(Oe=xe.read_shift(4,"i"),!(Oe<0));++je)ye[je]=Oe;var Ze=A(V,J);C(ge,re,Ze,J,ye);var en=H(Ze,me,ye,J);en[me].name="!Directory",ee>0&&Re!==U&&(en[Re].name="!MiniFAT"),en[ye[0]].name="!FAT",en.fat_addrs=ye,en.ssz=J;var tn={},hn=[],Sr=[],Ui=[];D(me,en,Ze,hn,ee,tn,Sr,Re),S(Sr,Ui,hn),hn.shift();var Vi={FileIndex:Sr,FullPaths:Ui};return W&&W.raw&&(Vi.raw={header:Ge,sectors:Ze}),Vi}function v(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(Te,"Header Signature: "),V.l+=16;var W=V.read_shift(2,"u");return[V.read_shift(2,"u"),W]}function y(V,W){var K=9;switch(V.l+=2,K=V.read_shift(2)){case 9:if(W!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(W!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function A(V,W){for(var K=Math.ceil(V.length/W)-1,J=[],ee=1;ee<K;++ee)J[ee-1]=V.slice(ee*W,(ee+1)*W);return J[K-1]=V.slice(K*W),J}function S(V,W,K){for(var J=0,ee=0,re=0,me=0,Re=0,ge=K.length,ye=[],xe=[];J<ge;++J)ye[J]=xe[J]=J,W[J]=K[J];for(;Re<xe.length;++Re)J=xe[Re],ee=V[J].L,re=V[J].R,me=V[J].C,ye[J]===J&&(ee!==-1&&ye[ee]!==ee&&(ye[J]=ye[ee]),re!==-1&&ye[re]!==re&&(ye[J]=ye[re])),me!==-1&&(ye[me]=J),ee!==-1&&J!=ye[J]&&(ye[ee]=ye[J],xe.lastIndexOf(ee)<Re&&xe.push(ee)),re!==-1&&J!=ye[J]&&(ye[re]=ye[J],xe.lastIndexOf(re)<Re&&xe.push(re));for(J=1;J<ge;++J)ye[J]===J&&(re!==-1&&ye[re]!==re?ye[J]=ye[re]:ee!==-1&&ye[ee]!==ee&&(ye[J]=ye[ee]));for(J=1;J<ge;++J)if(V[J].type!==0){if(Re=J,Re!=ye[Re])do Re=ye[Re],W[J]=W[Re]+"/"+W[J];while(Re!==0&&ye[Re]!==-1&&Re!=ye[Re]);ye[J]=-1}for(W[0]+="/",J=1;J<ge;++J)V[J].type!==2&&(W[J]+="/")}function w(V,W,K){for(var J=V.start,ee=V.size,re=[],me=J;K&&ee>0&&me>=0;)re.push(W.slice(me*k,me*k+k)),ee-=k,me=Oo(K,me*4);return re.length===0?Zn(0):zs(re).slice(0,V.size)}function C(V,W,K,J,ee){var re=U;if(V===U){if(W!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var me=K[V],Re=(J>>>2)-1;if(!me)return;for(var ge=0;ge<Re&&(re=Oo(me,ge*4))!==U;++ge)ee.push(re);C(Oo(me,J-4),W-1,K,J,ee)}}function O(V,W,K,J,ee){var re=[],me=[];ee||(ee=[]);var Re=J-1,ge=0,ye=0;for(ge=W;ge>=0;){ee[ge]=!0,re[re.length]=ge,me.push(V[ge]);var xe=K[Math.floor(ge*4/J)];if(ye=ge*4&Re,J<4+ye)throw new Error("FAT boundary crossed: "+ge+" 4 "+J);if(!V[xe])break;ge=Oo(V[xe],ye)}return{nodes:re,data:ZE([me])}}function H(V,W,K,J){var ee=V.length,re=[],me=[],Re=[],ge=[],ye=J-1,xe=0,Ve=0,Ge=0,Ke=0;for(xe=0;xe<ee;++xe)if(Re=[],Ge=xe+W,Ge>=ee&&(Ge-=ee),!me[Ge]){ge=[];var Oe=[];for(Ve=Ge;Ve>=0;){Oe[Ve]=!0,me[Ve]=!0,Re[Re.length]=Ve,ge.push(V[Ve]);var je=K[Math.floor(Ve*4/J)];if(Ke=Ve*4&ye,J<4+Ke)throw new Error("FAT boundary crossed: "+Ve+" 4 "+J);if(!V[je]||(Ve=Oo(V[je],Ke),Oe[Ve]))break}re[Ge]={nodes:Re,data:ZE([ge])}}return re}function D(V,W,K,J,ee,re,me,Re){for(var ge=0,ye=J.length?2:0,xe=W[V].data,Ve=0,Ge=0,Ke;Ve<xe.length;Ve+=128){var Oe=xe.slice(Ve,Ve+128);xr(Oe,64),Ge=Oe.read_shift(2),Ke=Uv(Oe,0,Ge-ye),J.push(Ke);var je={name:Ke,type:Oe.read_shift(1),color:Oe.read_shift(1),L:Oe.read_shift(4,"i"),R:Oe.read_shift(4,"i"),C:Oe.read_shift(4,"i"),clsid:Oe.read_shift(16),state:Oe.read_shift(4,"i"),start:0,size:0},Ze=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);Ze!==0&&(je.ct=z(Oe,Oe.l-8));var en=Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2)+Oe.read_shift(2);en!==0&&(je.mt=z(Oe,Oe.l-8)),je.start=Oe.read_shift(4,"i"),je.size=Oe.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=U,je.name=""),je.type===5?(ge=je.start,ee>0&&ge!==U&&(W[ge].name="!StreamData")):je.size>=4096?(je.storage="fat",W[je.start]===void 0&&(W[je.start]=O(K,je.start,W.fat_addrs,W.ssz)),W[je.start].name=je.name,je.content=W[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:ge!==U&&je.start!==U&&W[ge]&&(je.content=w(je,W[ge].data,(W[Re]||{}).data))),je.content&&xr(je.content,0),re[Ke]=je,me.push(je)}}function z(V,W){return new Date((di(V,W+4)/1e7*Math.pow(2,32)+di(V,W)/1e7-11644473600)*1e3)}function G(V,W){return d(),h(f.readFileSync(V),W)}function j(V,W){var K=W&&W.type;switch(K||Ut&&Buffer.isBuffer(V)&&(K="buffer"),K||"base64"){case"file":return G(V,W);case"base64":return h(Wi(mi(V)),W);case"binary":return h(Wi(V),W)}return h(V,W)}function I(V,W){var K=W||{},J=K.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=J+"/",V.FileIndex[0]={name:J,type:5}),K.CLSID&&(V.FileIndex[0].clsid=K.CLSID),N(V)}function N(V){var W="Sh33tJ5";if(!Ht.find(V,"/"+W)){var K=Zn(4);K[0]=55,K[1]=K[3]=50,K[2]=54,V.FileIndex.push({name:W,type:2,content:K,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+W),b(V)}}function b(V,W){I(V);for(var K=!1,J=!1,ee=V.FullPaths.length-1;ee>=0;--ee){var re=V.FileIndex[ee];switch(re.type){case 0:J?K=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(re.R*re.L*re.C)&&(K=!0),re.R>-1&&re.L>-1&&re.R==re.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!W)){var me=new Date(1987,1,19),Re=0,ge=Object.create?Object.create(null):{},ye=[];for(ee=0;ee<V.FullPaths.length;++ee)ge[V.FullPaths[ee]]=!0,V.FileIndex[ee].type!==0&&ye.push([V.FullPaths[ee],V.FileIndex[ee]]);for(ee=0;ee<ye.length;++ee){var xe=r(ye[ee][0]);J=ge[xe],J||(ye.push([xe,{name:i(xe).replace("/",""),type:1,clsid:ae,ct:me,mt:me,content:null}]),ge[xe]=!0)}for(ye.sort(function(Ke,Oe){return n(Ke[0],Oe[0])}),V.FullPaths=[],V.FileIndex=[],ee=0;ee<ye.length;++ee)V.FullPaths[ee]=ye[ee][0],V.FileIndex[ee]=ye[ee][1];for(ee=0;ee<ye.length;++ee){var Ve=V.FileIndex[ee],Ge=V.FullPaths[ee];if(Ve.name=i(Ge).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||ae,ee===0)Ve.C=ye.length>1?1:-1,Ve.size=0,Ve.type=5;else if(Ge.slice(-1)=="/"){for(Re=ee+1;Re<ye.length&&r(V.FullPaths[Re])!=Ge;++Re);for(Ve.C=Re>=ye.length?-1:Re,Re=ee+1;Re<ye.length&&r(V.FullPaths[Re])!=r(Ge);++Re);Ve.R=Re>=ye.length?-1:Re,Ve.type=1}else r(V.FullPaths[ee+1]||"")==r(Ge)&&(Ve.R=ee+1),Ve.type=2}}}function P(V,W){var K=W||{};if(K.fileType=="mad")return zt(V,K);switch(b(V),K.fileType){case"zip":return En(V,K)}var J=(function(Ke){for(var Oe=0,je=0,Ze=0;Ze<Ke.FileIndex.length;++Ze){var en=Ke.FileIndex[Ze];if(en.content){var tn=en.content.length;tn>0&&(tn<4096?Oe+=tn+63>>6:je+=tn+511>>9)}}for(var hn=Ke.FullPaths.length+3>>2,Sr=Oe+7>>3,Ui=Oe+127>>7,Vi=Sr+je+hn+Ui,ri=Vi+127>>7,ls=ri<=109?0:Math.ceil((ri-109)/127);Vi+ri+ls+127>>7>ri;)ls=++ri<=109?0:Math.ceil((ri-109)/127);var wr=[1,ls,ri,Ui,hn,je,Oe,0];return Ke.FileIndex[0].size=Oe<<6,wr[7]=(Ke.FileIndex[0].start=wr[0]+wr[1]+wr[2]+wr[3]+wr[4]+wr[5])+(wr[6]+7>>3),wr})(V),ee=Zn(J[7]<<9),re=0,me=0;{for(re=0;re<8;++re)ee.write_shift(1,Ae[re]);for(re=0;re<8;++re)ee.write_shift(2,0);for(ee.write_shift(2,62),ee.write_shift(2,3),ee.write_shift(2,65534),ee.write_shift(2,9),ee.write_shift(2,6),re=0;re<3;++re)ee.write_shift(2,0);for(ee.write_shift(4,0),ee.write_shift(4,J[2]),ee.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),ee.write_shift(4,0),ee.write_shift(4,4096),ee.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:U),ee.write_shift(4,J[3]),ee.write_shift(-4,J[1]?J[0]-1:U),ee.write_shift(4,J[1]),re=0;re<109;++re)ee.write_shift(-4,re<J[2]?J[1]+re:-1)}if(J[1])for(me=0;me<J[1];++me){for(;re<236+me*127;++re)ee.write_shift(-4,re<J[2]?J[1]+re:-1);ee.write_shift(-4,me===J[1]-1?U:me+1)}var Re=function(Ke){for(me+=Ke;re<me-1;++re)ee.write_shift(-4,re+1);Ke&&(++re,ee.write_shift(-4,U))};for(me=re=0,me+=J[1];re<me;++re)ee.write_shift(-4,le.DIFSECT);for(me+=J[2];re<me;++re)ee.write_shift(-4,le.FATSECT);Re(J[3]),Re(J[4]);for(var ge=0,ye=0,xe=V.FileIndex[0];ge<V.FileIndex.length;++ge)xe=V.FileIndex[ge],xe.content&&(ye=xe.content.length,!(ye<4096)&&(xe.start=me,Re(ye+511>>9)));for(Re(J[6]+7>>3);ee.l&511;)ee.write_shift(-4,le.ENDOFCHAIN);for(me=re=0,ge=0;ge<V.FileIndex.length;++ge)xe=V.FileIndex[ge],xe.content&&(ye=xe.content.length,!(!ye||ye>=4096)&&(xe.start=me,Re(ye+63>>6)));for(;ee.l&511;)ee.write_shift(-4,le.ENDOFCHAIN);for(re=0;re<J[4]<<2;++re){var Ve=V.FullPaths[re];if(!Ve||Ve.length===0){for(ge=0;ge<17;++ge)ee.write_shift(4,0);for(ge=0;ge<3;++ge)ee.write_shift(4,-1);for(ge=0;ge<12;++ge)ee.write_shift(4,0);continue}xe=V.FileIndex[re],re===0&&(xe.start=xe.size?xe.start-1:U);var Ge=re===0&&K.root||xe.name;if(ye=2*(Ge.length+1),ee.write_shift(64,Ge,"utf16le"),ee.write_shift(2,ye),ee.write_shift(1,xe.type),ee.write_shift(1,xe.color),ee.write_shift(-4,xe.L),ee.write_shift(-4,xe.R),ee.write_shift(-4,xe.C),xe.clsid)ee.write_shift(16,xe.clsid,"hex");else for(ge=0;ge<4;++ge)ee.write_shift(4,0);ee.write_shift(4,xe.state||0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(4,xe.start),ee.write_shift(4,xe.size),ee.write_shift(4,0)}for(re=1;re<V.FileIndex.length;++re)if(xe=V.FileIndex[re],xe.size>=4096)if(ee.l=xe.start+1<<9,Ut&&Buffer.isBuffer(xe.content))xe.content.copy(ee,ee.l,0,xe.size),ee.l+=xe.size+511&-512;else{for(ge=0;ge<xe.size;++ge)ee.write_shift(1,xe.content[ge]);for(;ge&511;++ge)ee.write_shift(1,0)}for(re=1;re<V.FileIndex.length;++re)if(xe=V.FileIndex[re],xe.size>0&&xe.size<4096)if(Ut&&Buffer.isBuffer(xe.content))xe.content.copy(ee,ee.l,0,xe.size),ee.l+=xe.size+63&-64;else{for(ge=0;ge<xe.size;++ge)ee.write_shift(1,xe.content[ge]);for(;ge&63;++ge)ee.write_shift(1,0)}if(Ut)ee.l=ee.length;else for(;ee.l<ee.length;)ee.write_shift(1,0);return ee}function M(V,W){var K=V.FullPaths.map(function(ge){return ge.toUpperCase()}),J=K.map(function(ge){var ye=ge.split("/");return ye[ye.length-(ge.slice(-1)=="/"?2:1)]}),ee=!1;W.charCodeAt(0)===47?(ee=!0,W=K[0].slice(0,-1)+W):ee=W.indexOf("/")!==-1;var re=W.toUpperCase(),me=ee===!0?K.indexOf(re):J.indexOf(re);if(me!==-1)return V.FileIndex[me];var Re=!re.match(Mu);for(re=re.replace(jr,""),Re&&(re=re.replace(Mu,"!")),me=0;me<K.length;++me)if((Re?K[me].replace(Mu,"!"):K[me]).replace(jr,"")==re||(Re?J[me].replace(Mu,"!"):J[me]).replace(jr,"")==re)return V.FileIndex[me];return null}var k=64,U=-2,Te="d0cf11e0a1b11ae1",Ae=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:Te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ne(V,W,K){d();var J=P(V,K);f.writeFileSync(W,J)}function ie(V){for(var W=new Array(V.length),K=0;K<V.length;++K)W[K]=String.fromCharCode(V[K]);return W.join("")}function Fe(V,W){var K=P(V,W);switch(W&&W.type||"buffer"){case"file":return d(),f.writeFileSync(W.filename,K),K;case"binary":return typeof K=="string"?K:ie(K);case"base64":return PE(typeof K=="string"?K:ie(K));case"buffer":if(Ut)return Buffer.isBuffer(K)?K:Qo(K);case"array":return typeof K=="string"?Wi(K):K}return K}var X;function B(V){try{var W=V.InflateRaw,K=new W;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)X=V;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function Q(V,W){if(!X)return Li(V,W);var K=X.InflateRaw,J=new K,ee=J._processChunk(V.slice(V.l),J._finishFlushFlag);return V.l+=J.bytesRead,ee}function Z(V){return X?X.deflateRawSync(V):ht(V)}var te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],be=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ce(V){var W=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(W>>16|W>>8|W)&255}for(var we=typeof Uint8Array<"u",Ie=we?new Uint8Array(256):[],$e=0;$e<256;++$e)Ie[$e]=Ce($e);function ne(V,W){var K=Ie[V&255];return W<=8?K>>>8-W:(K=K<<8|Ie[V>>8&255],W<=16?K>>>16-W:(K=K<<8|Ie[V>>16&255],K>>>24-W))}function ut(V,W){var K=W&7,J=W>>>3;return(V[J]|(K<=6?0:V[J+1]<<8))>>>K&3}function We(V,W){var K=W&7,J=W>>>3;return(V[J]|(K<=5?0:V[J+1]<<8))>>>K&7}function Ye(V,W){var K=W&7,J=W>>>3;return(V[J]|(K<=4?0:V[J+1]<<8))>>>K&15}function Be(V,W){var K=W&7,J=W>>>3;return(V[J]|(K<=3?0:V[J+1]<<8))>>>K&31}function Le(V,W){var K=W&7,J=W>>>3;return(V[J]|(K<=1?0:V[J+1]<<8))>>>K&127}function nt(V,W,K){var J=W&7,ee=W>>>3,re=(1<<K)-1,me=V[ee]>>>J;return K<8-J||(me|=V[ee+1]<<8-J,K<16-J)||(me|=V[ee+2]<<16-J,K<24-J)||(me|=V[ee+3]<<24-J),me&re}function rt(V,W,K){var J=W&7,ee=W>>>3;return J<=5?V[ee]|=(K&7)<<J:(V[ee]|=K<<J&255,V[ee+1]=(K&7)>>8-J),W+3}function ot(V,W,K){var J=W&7,ee=W>>>3;return K=(K&1)<<J,V[ee]|=K,W+1}function fn(V,W,K){var J=W&7,ee=W>>>3;return K<<=J,V[ee]|=K&255,K>>>=8,V[ee+1]=K,W+8}function Nn(V,W,K){var J=W&7,ee=W>>>3;return K<<=J,V[ee]|=K&255,K>>>=8,V[ee+1]=K&255,V[ee+2]=K>>>8,W+16}function Fn(V,W){var K=V.length,J=2*K>W?2*K:W+5,ee=0;if(K>=W)return V;if(Ut){var re=LE(J);if(V.copy)V.copy(re);else for(;ee<V.length;++ee)re[ee]=V[ee];return re}else if(we){var me=new Uint8Array(J);if(me.set)me.set(V);else for(;ee<K;++ee)me[ee]=V[ee];return me}return V.length=J,V}function ft(V){for(var W=new Array(V),K=0;K<V;++K)W[K]=0;return W}function Xt(V,W,K){var J=1,ee=0,re=0,me=0,Re=0,ge=V.length,ye=we?new Uint16Array(32):ft(32);for(re=0;re<32;++re)ye[re]=0;for(re=ge;re<K;++re)V[re]=0;ge=V.length;var xe=we?new Uint16Array(ge):ft(ge);for(re=0;re<ge;++re)ye[ee=V[re]]++,J<ee&&(J=ee),xe[re]=0;for(ye[0]=0,re=1;re<=J;++re)ye[re+16]=Re=Re+ye[re-1]<<1;for(re=0;re<ge;++re)Re=V[re],Re!=0&&(xe[re]=ye[Re+16]++);var Ve=0;for(re=0;re<ge;++re)if(Ve=V[re],Ve!=0)for(Re=ne(xe[re],J)>>J-Ve,me=(1<<J+4-Ve)-1;me>=0;--me)W[Re|me<<Ve]=Ve&15|re<<4;return J}var Pt=we?new Uint16Array(512):ft(512),sn=we?new Uint16Array(32):ft(32);if(!we){for(var Rt=0;Rt<512;++Rt)Pt[Rt]=0;for(Rt=0;Rt<32;++Rt)sn[Rt]=0}(function(){for(var V=[],W=0;W<32;W++)V.push(5);Xt(V,sn,32);var K=[];for(W=0;W<=143;W++)K.push(8);for(;W<=255;W++)K.push(9);for(;W<=279;W++)K.push(7);for(;W<=287;W++)K.push(8);Xt(K,Pt,288)})();var Bn=(function(){for(var W=we?new Uint8Array(32768):[],K=0,J=0;K<be.length-1;++K)for(;J<be[K+1];++J)W[J]=K;for(;J<32768;++J)W[J]=29;var ee=we?new Uint8Array(259):[];for(K=0,J=0;K<ue.length-1;++K)for(;J<ue[K+1];++J)ee[J]=K;function re(Re,ge){for(var ye=0;ye<Re.length;){var xe=Math.min(65535,Re.length-ye),Ve=ye+xe==Re.length;for(ge.write_shift(1,+Ve),ge.write_shift(2,xe),ge.write_shift(2,~xe&65535);xe-- >0;)ge[ge.l++]=Re[ye++]}return ge.l}function me(Re,ge){for(var ye=0,xe=0,Ve=we?new Uint16Array(32768):[];xe<Re.length;){var Ge=Math.min(65535,Re.length-xe);if(Ge<10){for(ye=rt(ge,ye,+(xe+Ge==Re.length)),ye&7&&(ye+=8-(ye&7)),ge.l=ye/8|0,ge.write_shift(2,Ge),ge.write_shift(2,~Ge&65535);Ge-- >0;)ge[ge.l++]=Re[xe++];ye=ge.l*8;continue}ye=rt(ge,ye,+(xe+Ge==Re.length)+2);for(var Ke=0;Ge-- >0;){var Oe=Re[xe];Ke=(Ke<<5^Oe)&32767;var je=-1,Ze=0;if((je=Ve[Ke])&&(je|=xe&-32768,je>xe&&(je-=32768),je<xe))for(;Re[je+Ze]==Re[xe+Ze]&&Ze<250;)++Ze;if(Ze>2){Oe=ee[Ze],Oe<=22?ye=fn(ge,ye,Ie[Oe+1]>>1)-1:(fn(ge,ye,3),ye+=5,fn(ge,ye,Ie[Oe-23]>>5),ye+=3);var en=Oe<8?0:Oe-4>>2;en>0&&(Nn(ge,ye,Ze-ue[Oe]),ye+=en),Oe=W[xe-je],ye=fn(ge,ye,Ie[Oe]>>3),ye-=3;var tn=Oe<4?0:Oe-2>>1;tn>0&&(Nn(ge,ye,xe-je-be[Oe]),ye+=tn);for(var hn=0;hn<Ze;++hn)Ve[Ke]=xe&32767,Ke=(Ke<<5^Re[xe])&32767,++xe;Ge-=Ze-1}else Oe<=143?Oe=Oe+48:ye=ot(ge,ye,1),ye=fn(ge,ye,Ie[Oe]),Ve[Ke]=xe&32767,++xe}ye=fn(ge,ye,0)-1}return ge.l=(ye+7)/8|0,ge.l}return function(ge,ye){return ge.length<8?re(ge,ye):me(ge,ye)}})();function ht(V){var W=Zn(50+Math.floor(V.length*1.1)),K=Bn(V,W);return W.slice(0,K)}var Lt=we?new Uint16Array(32768):ft(32768),bt=we?new Uint16Array(32768):ft(32768),Et=we?new Uint16Array(128):ft(128),Qt=1,ir=1;function mn(V,W){var K=Be(V,W)+257;W+=5;var J=Be(V,W)+1;W+=5;var ee=Ye(V,W)+4;W+=4;for(var re=0,me=we?new Uint8Array(19):ft(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ge=1,ye=we?new Uint8Array(8):ft(8),xe=we?new Uint8Array(8):ft(8),Ve=me.length,Ge=0;Ge<ee;++Ge)me[te[Ge]]=re=We(V,W),ge<re&&(ge=re),ye[re]++,W+=3;var Ke=0;for(ye[0]=0,Ge=1;Ge<=ge;++Ge)xe[Ge]=Ke=Ke+ye[Ge-1]<<1;for(Ge=0;Ge<Ve;++Ge)(Ke=me[Ge])!=0&&(Re[Ge]=xe[Ke]++);var Oe=0;for(Ge=0;Ge<Ve;++Ge)if(Oe=me[Ge],Oe!=0){Ke=Ie[Re[Ge]]>>8-Oe;for(var je=(1<<7-Oe)-1;je>=0;--je)Et[Ke|je<<Oe]=Oe&7|Ge<<3}var Ze=[];for(ge=1;Ze.length<K+J;)switch(Ke=Et[Le(V,W)],W+=Ke&7,Ke>>>=3){case 16:for(re=3+ut(V,W),W+=2,Ke=Ze[Ze.length-1];re-- >0;)Ze.push(Ke);break;case 17:for(re=3+We(V,W),W+=3;re-- >0;)Ze.push(0);break;case 18:for(re=11+Le(V,W),W+=7;re-- >0;)Ze.push(0);break;default:Ze.push(Ke),ge<Ke&&(ge=Ke);break}var en=Ze.slice(0,K),tn=Ze.slice(K);for(Ge=K;Ge<286;++Ge)en[Ge]=0;for(Ge=J;Ge<30;++Ge)tn[Ge]=0;return Qt=Xt(en,Lt,286),ir=Xt(tn,bt,30),W}function os(V,W){if(V[0]==3&&!(V[1]&3))return[Zs(W),2];for(var K=0,J=0,ee=LE(W||1<<18),re=0,me=ee.length>>>0,Re=0,ge=0;(J&1)==0;){if(J=We(V,K),K+=3,J>>>1)J>>1==1?(Re=9,ge=5):(K=mn(V,K),Re=Qt,ge=ir);else{K&7&&(K+=8-(K&7));var ye=V[K>>>3]|V[(K>>>3)+1]<<8;if(K+=32,ye>0)for(!W&&me<re+ye&&(ee=Fn(ee,re+ye),me=ee.length);ye-- >0;)ee[re++]=V[K>>>3],K+=8;continue}for(;;){!W&&me<re+32767&&(ee=Fn(ee,re+32767),me=ee.length);var xe=nt(V,K,Re),Ve=J>>>1==1?Pt[xe]:Lt[xe];if(K+=Ve&15,Ve>>>=4,(Ve>>>8&255)===0)ee[re++]=Ve;else{if(Ve==256)break;Ve-=257;var Ge=Ve<8?0:Ve-4>>2;Ge>5&&(Ge=0);var Ke=re+ue[Ve];Ge>0&&(Ke+=nt(V,K,Ge),K+=Ge),xe=nt(V,K,ge),Ve=J>>>1==1?sn[xe]:bt[xe],K+=Ve&15,Ve>>>=4;var Oe=Ve<4?0:Ve-2>>1,je=be[Ve];for(Oe>0&&(je+=nt(V,K,Oe),K+=Oe),!W&&me<Ke&&(ee=Fn(ee,Ke+100),me=ee.length);re<Ke;)ee[re]=ee[re-je],++re}}}return W?[ee,K+7>>>3]:[ee.slice(0,re),K+7>>>3]}function Li(V,W){var K=V.slice(V.l||0),J=os(K,W);return V.l+=J[1],J[0]}function ba(V,W){if(V)typeof console<"u"&&console.error(W);else throw new Error(W)}function Ur(V,W){var K=V;xr(K,0);var J=[],ee=[],re={FileIndex:J,FullPaths:ee};I(re,{root:W.root});for(var me=K.length-4;(K[me]!=80||K[me+1]!=75||K[me+2]!=5||K[me+3]!=6)&&me>=0;)--me;K.l=me+4,K.l+=4;var Re=K.read_shift(2);K.l+=6;var ge=K.read_shift(4);for(K.l=ge,me=0;me<Re;++me){K.l+=20;var ye=K.read_shift(4),xe=K.read_shift(4),Ve=K.read_shift(2),Ge=K.read_shift(2),Ke=K.read_shift(2);K.l+=8;var Oe=K.read_shift(4),je=c(K.slice(K.l+Ve,K.l+Ve+Ge));K.l+=Ve+Ge+Ke;var Ze=K.l;K.l=Oe+4,Oi(K,ye,xe,re,je),K.l=Ze}return re}function Oi(V,W,K,J,ee){V.l+=2;var re=V.read_shift(2),me=V.read_shift(2),Re=l(V);if(re&8257)throw new Error("Unsupported ZIP encryption");for(var ge=V.read_shift(4),ye=V.read_shift(4),xe=V.read_shift(4),Ve=V.read_shift(2),Ge=V.read_shift(2),Ke="",Oe=0;Oe<Ve;++Oe)Ke+=String.fromCharCode(V[V.l++]);if(Ge){var je=c(V.slice(V.l,V.l+Ge));(je[21589]||{}).mt&&(Re=je[21589].mt),((ee||{})[21589]||{}).mt&&(Re=ee[21589].mt)}V.l+=Ge;var Ze=V.slice(V.l,V.l+ye);switch(me){case 8:Ze=Q(V,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+me)}var en=!1;re&8&&(ge=V.read_shift(4),ge==134695760&&(ge=V.read_shift(4),en=!0),ye=V.read_shift(4),xe=V.read_shift(4)),ye!=W&&ba(en,"Bad compressed size: "+W+" != "+ye),xe!=K&&ba(en,"Bad uncompressed size: "+K+" != "+xe),Tn(J,Ke,Ze,{unsafe:!0,mt:Re})}function En(V,W){var K=W||{},J=[],ee=[],re=Zn(1),me=K.compression?8:0,Re=0,ge=0,ye=0,xe=0,Ve=0,Ge=V.FullPaths[0],Ke=Ge,Oe=V.FileIndex[0],je=[],Ze=0;for(ge=1;ge<V.FullPaths.length;++ge)if(Ke=V.FullPaths[ge].slice(Ge.length),Oe=V.FileIndex[ge],!(!Oe.size||!Oe.content||Ke=="Sh33tJ5")){var en=xe,tn=Zn(Ke.length);for(ye=0;ye<Ke.length;++ye)tn.write_shift(1,Ke.charCodeAt(ye)&127);tn=tn.slice(0,tn.l),je[Ve]=p3.buf(Oe.content,0);var hn=Oe.content;me==8&&(hn=Z(hn)),re=Zn(30),re.write_shift(4,67324752),re.write_shift(2,20),re.write_shift(2,Re),re.write_shift(2,me),Oe.mt?s(re,Oe.mt):re.write_shift(4,0),re.write_shift(-4,je[Ve]),re.write_shift(4,hn.length),re.write_shift(4,Oe.content.length),re.write_shift(2,tn.length),re.write_shift(2,0),xe+=re.length,J.push(re),xe+=tn.length,J.push(tn),xe+=hn.length,J.push(hn),re=Zn(46),re.write_shift(4,33639248),re.write_shift(2,0),re.write_shift(2,20),re.write_shift(2,Re),re.write_shift(2,me),re.write_shift(4,0),re.write_shift(-4,je[Ve]),re.write_shift(4,hn.length),re.write_shift(4,Oe.content.length),re.write_shift(2,tn.length),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(4,0),re.write_shift(4,en),Ze+=re.l,ee.push(re),Ze+=tn.length,ee.push(tn),++Ve}return re=Zn(22),re.write_shift(4,101010256),re.write_shift(2,0),re.write_shift(2,0),re.write_shift(2,Ve),re.write_shift(2,Ve),re.write_shift(4,Ze),re.write_shift(4,xe),re.write_shift(2,0),zs([zs(J),zs(ee),re])}var dn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ar(V,W){if(V.ctype)return V.ctype;var K=V.name||"",J=K.match(/\.([^\.]+)$/);return J&&dn[J[1]]||W&&(J=(K=W).match(/[\.\\]([^\.\\])+$/),J&&dn[J[1]])?dn[J[1]]:"application/octet-stream"}function ce(V){for(var W=PE(V),K=[],J=0;J<W.length;J+=76)K.push(W.slice(J,J+76));return K.join(`\r
`)+`\r
`}function He(V){var W=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ye){var xe=ye.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});W=W.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),W.charAt(0)==`
`&&(W="=0D"+W.slice(1)),W=W.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],J=W.split(`\r
`),ee=0;ee<J.length;++ee){var re=J[ee];if(re.length==0){K.push("");continue}for(var me=0;me<re.length;){var Re=76,ge=re.slice(me,me+Re);ge.charAt(Re-1)=="="?Re--:ge.charAt(Re-2)=="="?Re-=2:ge.charAt(Re-3)=="="&&(Re-=3),ge=re.slice(me,me+Re),me+=Re,me<re.length&&(ge+="="),K.push(ge)}}return K.join(`\r
`)}function ze(V){for(var W=[],K=0;K<V.length;++K){for(var J=V[K];K<=V.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+V[++K];W.push(J)}for(var ee=0;ee<W.length;++ee)W[ee]=W[ee].replace(/[=][0-9A-Fa-f]{2}/g,function(re){return String.fromCharCode(parseInt(re.slice(1),16))});return Wi(W.join(`\r
`))}function et(V,W,K){for(var J="",ee="",re="",me,Re=0;Re<10;++Re){var ge=W[Re];if(!ge||ge.match(/^\s*$/))break;var ye=ge.match(/^(.*?):\s*([^\s].*)$/);if(ye)switch(ye[1].toLowerCase()){case"content-location":J=ye[2].trim();break;case"content-type":re=ye[2].trim();break;case"content-transfer-encoding":ee=ye[2].trim();break}}switch(++Re,ee.toLowerCase()){case"base64":me=Wi(mi(W.slice(Re).join("")));break;case"quoted-printable":me=ze(W.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ee)}var xe=Tn(V,J.slice(K.length),me,{unsafe:!0});re&&(xe.ctype=re)}function mt(V,W){if(ie(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=W&&W.root||"",J=(Ut&&Buffer.isBuffer(V)?V.toString("binary"):ie(V)).split(`\r
`),ee=0,re="";for(ee=0;ee<J.length;++ee)if(re=J[ee],!!/^Content-Location:/i.test(re)&&(re=re.slice(re.indexOf("file")),K||(K=re.slice(0,re.lastIndexOf("/")+1)),re.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),re.slice(0,K.length)!=K););var me=(J[1]||"").match(/boundary="(.*?)"/);if(!me)throw new Error("MAD cannot find boundary");var Re="--"+(me[1]||""),ge=[],ye=[],xe={FileIndex:ge,FullPaths:ye};I(xe);var Ve,Ge=0;for(ee=0;ee<J.length;++ee){var Ke=J[ee];Ke!==Re&&Ke!==Re+"--"||(Ge++&&et(xe,J.slice(Ve,ee),K),Ve=ee)}return xe}function zt(V,W){var K=W||{},J=K.boundary||"SheetJS";J="------="+J;for(var ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],re=V.FullPaths[0],me=re,Re=V.FileIndex[0],ge=1;ge<V.FullPaths.length;++ge)if(me=V.FullPaths[ge].slice(re.length),Re=V.FileIndex[ge],!(!Re.size||!Re.content||me=="Sh33tJ5")){me=me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ze){return"_x"+Ze.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ze){return"_u"+Ze.charCodeAt(0).toString(16)+"_"});for(var ye=Re.content,xe=Ut&&Buffer.isBuffer(ye)?ye.toString("binary"):ie(ye),Ve=0,Ge=Math.min(1024,xe.length),Ke=0,Oe=0;Oe<=Ge;++Oe)(Ke=xe.charCodeAt(Oe))>=32&&Ke<128&&++Ve;var je=Ve>=Ge*4/5;ee.push(J),ee.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+me),ee.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),ee.push("Content-Type: "+Ar(Re,me)),ee.push(""),ee.push(je?He(xe):ce(xe))}return ee.push(J+`--\r
`),ee.join(`\r
`)}function qt(V){var W={};return I(W,V),W}function Tn(V,W,K,J){var ee=J&&J.unsafe;ee||I(V);var re=!ee&&Ht.find(V,W);if(!re){var me=V.FullPaths[0];W.slice(0,me.length)==me?me=W:(me.slice(-1)!="/"&&(me+="/"),me=(me+W).replace("//","/")),re={name:i(W),type:2},V.FileIndex.push(re),V.FullPaths.push(me),ee||Ht.utils.cfb_gc(V)}return re.content=K,re.size=K?K.length:0,J&&(J.CLSID&&(re.clsid=J.CLSID),J.mt&&(re.mt=J.mt),J.ct&&(re.ct=J.ct)),re}function In(V,W){I(V);var K=Ht.find(V,W);if(K){for(var J=0;J<V.FileIndex.length;++J)if(V.FileIndex[J]==K)return V.FileIndex.splice(J,1),V.FullPaths.splice(J,1),!0}return!1}function gn(V,W,K){I(V);var J=Ht.find(V,W);if(J){for(var ee=0;ee<V.FileIndex.length;++ee)if(V.FileIndex[ee]==J)return V.FileIndex[ee].name=i(K),V.FullPaths[ee]=K,!0}return!1}function wt(V){b(V,!0)}return e.find=M,e.read=j,e.parse=h,e.write=Fe,e.writeFile=Ne,e.utils={cfb_new:qt,cfb_add:Tn,cfb_del:In,cfb_mov:gn,cfb_gc:wt,ReadShift:zu,CheckField:ww,prep_blob:xr,bconcat:zs,use_zlib:B,_deflateRaw:ht,_inflateRaw:Li,consts:le},e})();function m3(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ta(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function Fv(t){for(var e=[],n=Ta(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var $h=new Date(1899,11,30,0,0,0);function $r(t,e){var n=t.getTime(),r=$h.getTime()+(t.getTimezoneOffset()-$h.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var iw=new Date,g3=$h.getTime()+(iw.getTimezoneOffset()-$h.getTimezoneOffset())*6e4,qE=iw.getTimezoneOffset();function N0(t){var e=new Date;return e.setTime(t*24*60*60*1e3+g3),e.getTimezoneOffset()!==qE&&e.setTime(e.getTime()+(e.getTimezoneOffset()-qE)*6e4),e}function v3(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var jE=new Date("2017-02-19T19:06:09.000Z"),aw=isNaN(jE.getFullYear())?new Date("2/19/17"):jE,x3=aw.getFullYear()==2017;function ur(t,e){var n=new Date(t);if(x3)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(aw.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function $o(t,e){if(Ut&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Pu(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Pu(jS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Pu(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Pu(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function _r(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=_r(t[n]));return e}function Dn(t,e){for(var n="";n.length<e;)n+=t;return n}function ea(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var y3=["january","february","march","april","may","june","july","august","september","october","november","december"];function hc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&y3.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var _3=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),l=[s[0]],c=1;c<s.length;++c)l.push(i),l.push(s[c]);return l}})();function sw(t){return t?t.content&&t.type?$o(t.content,!0):t.data?Du(t.data):t.asNodeBuffer&&Ut?Du(t.asNodeBuffer().toString("binary")):t.asBinary?Du(t.asBinary()):t._data&&t._data.getContent?Du($o(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function ow(t){if(!t)return null;if(t.data)return ME(t.data);if(t.asNodeBuffer&&Ut)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?ME(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function E3(t){return t&&t.name.slice(-4)===".bin"?ow(t):sw(t)}function Ii(t,e){for(var n=t.FullPaths||Ta(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var l=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==l||i==l)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function Pv(t,e){var n=Ii(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Yn(t,e,n){if(!n)return E3(Pv(t,e));if(!e)return null;try{return Yn(t,e)}catch{return null}}function pi(t,e,n){if(!n)return sw(Pv(t,e));if(!e)return null;try{return pi(t,e)}catch{return null}}function T3(t,e,n){return ow(Pv(t,e))}function $E(t){for(var e=t.FullPaths||Ta(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function A3(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Ut?r=Qo(n):r=Gk(n),Ht.utils.cfb_add(t,e,r)}Ht.utils.cfb_add(t,e,n)}else t.file(e,n)}function lw(t,e){switch(e.type){case"base64":return Ht.read(t,{type:"base64"});case"binary":return Ht.read(t,{type:"binary"});case"buffer":case"array":return Ht.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Fu(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var cw=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,S3=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,KE=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,w3=/<[^>]*>/g,Or=cw.match(KE)?KE:w3,C3=/<\w*:/,b3=/<(\/?)\w+:/;function pt(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var l=t.match(S3),c=0,f="",d=0,h="",v="",y=1;if(l)for(d=0;d!=l.length;++d){for(v=l[d],s=0;s!=v.length&&v.charCodeAt(s)!==61;++s);for(h=v.slice(0,s).trim();v.charCodeAt(s+1)==32;)++s;for(y=(i=v.charCodeAt(s+1))==34||i==39?1:0,f=v.slice(s+1+y,v.length-y),c=0;c!=h.length&&h.charCodeAt(c)!==58;++c);if(c===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=f,r[h.toLowerCase()]=f;else{var A=(c===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(c+1);if(r[A]&&h.slice(c-3,c)=="ext")continue;r[A]=f,r[A.toLowerCase()]=f}}return r}function wa(t){return t.replace(b3,"<$1")}var uw={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},N3=Fv(uw),jt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(c,f){return uw[c]||String.fromCharCode(parseInt(f,c.indexOf("x")>-1?16:10))||c}).replace(e,function(c,f){return String.fromCharCode(parseInt(f,16))});var l=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,l)+n(i.slice(l+3))}})(),I3=/[&<>'"]/g,R3=/[\u0000-\u001f]/g;function Lv(t){var e=t+"";return e.replace(I3,function(n){return N3[n]}).replace(/\n/g,"<br/>").replace(R3,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var YE=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function wn(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qm(t){for(var e="",n=0,r=0,i=0,s=0,l=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){l=(r&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}l=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function JE(t){var e=Zs(2*t.length),n,r,i=1,s=0,l=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function WE(t){return Qo(t,"binary").toString("utf8")}var ch="foo bar baz",vn=Ut&&(WE(ch)==Qm(ch)&&WE||JE(ch)==Qm(ch)&&JE)||Qm,Pu=Ut?function(t){return Qo(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},ff=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),fw=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),k3=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),D3=/<\/?(?:vt:)?variant>/g,M3=/<(?:vt:)([^>]*)>([\s\S]*)</;function XE(t,e){var n=pt(t),r=t.match(k3(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var l=s.replace(D3,"").match(M3);l&&i.push({v:vn(l[2]),t:l[1]})}),i}var F3=/(^\s|\s$|\n)/;function P3(t){return Ta(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function L3(t,e,n){return"<"+t+(n!=null?P3(n):"")+(e!=null?(e.match(F3)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Ov(t){if(Ut&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return vn(Zo(kv(t)));throw new Error("Bad input format: expected Buffer or string")}var df=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,O3={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},U3=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function V3(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function B3(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=r?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)t[n+c]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var QE=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},ZE=Ut?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Qo(e)})):QE(t)}:QE,eT=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Ka(t,i)));return r.join("").replace(jr,"")},Uv=Ut?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(jr,""):eT(t,e,n)}:eT,tT=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},dw=Ut?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):tT(t,e,n)}:tT,nT=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Kl(t,i)));return r.join("")},Df=Ut?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):nT(e,n,r)}:nT,hw=function(t,e){var n=di(t,e);return n>0?Df(t,e+4,e+4+n-1):""},pw=hw,mw=function(t,e){var n=di(t,e);return n>0?Df(t,e+4,e+4+n-1):""},gw=mw,vw=function(t,e){var n=2*di(t,e);return n>0?Df(t,e+4,e+4+n-1):""},xw=vw,yw=function(e,n){var r=di(e,n);return r>0?Uv(e,n+4,n+4+r):""},_w=yw,Ew=function(t,e){var n=di(t,e);return n>0?Df(t,e+4,e+4+n):""},Tw=Ew,Aw=function(t,e){return V3(t,e)},Kh=Aw,Sw=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ut&&(pw=function(e,n){if(!Buffer.isBuffer(e))return hw(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},gw=function(e,n){if(!Buffer.isBuffer(e))return mw(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},xw=function(e,n){if(!Buffer.isBuffer(e))return vw(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},_w=function(e,n){if(!Buffer.isBuffer(e))return yw(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},Tw=function(e,n){if(!Buffer.isBuffer(e))return Ew(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Kh=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):Aw(e,n)},Sw=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Kl=function(t,e){return t[e]},Ka=function(t,e){return t[e+1]*256+t[e]},H3=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},di=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Oo=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},G3=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function zu(t,e){var n="",r,i,s=[],l,c,f,d;switch(e){case"dbcs":if(d=this.l,Ut&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(Ka(this,d)),d+=2;t*=2;break;case"utf8":n=Df(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Uv(this,this.l,this.l+t);break;case"wstr":return zu.call(this,t,"dbcs");case"lpstr-ansi":n=pw(this,this.l),t=4+di(this,this.l);break;case"lpstr-cp":n=gw(this,this.l),t=4+di(this,this.l);break;case"lpwstr":n=xw(this,this.l),t=4+2*di(this,this.l);break;case"lpp4":t=4+di(this,this.l),n=_w(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+di(this,this.l),n=Tw(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=Kl(this,this.l+t++))!==0;)s.push(lh(l));n=s.join("");break;case"_wstr":for(t=0,n="";(l=Ka(this,this.l+t))!==0;)s.push(lh(l)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",d=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Kl(this,d),this.l=d+1,c=zu.call(this,t-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(lh(Ka(this,d))),d+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",d=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(d)!==-1)return l=Kl(this,d),this.l=d+1,c=zu.call(this,t-f,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(lh(Kl(this,d))),d+=1}n=s.join("");break;default:switch(t){case 1:return r=Kl(this,this.l),this.l++,r;case 2:return r=(e==="i"?H3:Ka)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?Oo:G3)(this,this.l),this.l+=4,r):(i=di(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Kh(this,this.l):i=Kh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=dw(this,this.l,t);break}}return this.l+=t,n}var z3=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},q3=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},j3=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function $3(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)j3(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,z3(this,e,this.l);break;case 8:if(r=8,n==="f"){B3(this,e,this.l);break}case 16:break;case-4:r=4,q3(this,e,this.l);break}return this.l+=r,this}function ww(t,e){var n=dw(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function xr(t,e){t.l=e,t.read_shift=zu,t.chk=ww,t.write_shift=$3}function Lr(t,e){t.l+=e}function Zn(t){var e=Zs(t);return xr(e,0),e}function is(t,e,n){if(t){var r,i,s;xr(t,t.l||0);for(var l=t.length,c=0,f=0;t.l<l;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var d=Zh[c]||Zh[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;f=t.l+s;var h=d.f&&d.f(t,s,n);if(t.l=f,e(h,d,c))return}}}function bg(){var t=[],e=Ut?256:2048,n=function(d){var h=Zn(d);return xr(h,0),h},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=n(Math.max(d+1,e)))},l=function(){return i(),zs(t)},c=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:l,_bufs:t}}function qu(t,e,n){var r=_r(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function rT(t,e,n){var r=_r(t);return r.s=qu(r.s,e.s,n),r.e=qu(r.e,e.s,n),r}function ju(t,e){if(t.cRel&&t.c<0)for(t=_r(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=_r(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=yt(t);return!t.cRel&&t.cRel!=null&&(n=J3(n)),!t.rRel&&t.rRel!=null&&(n=K3(n)),n}function Zm(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+tr(t.s.c)+":"+(t.e.cRel?"":"$")+tr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Er(t.s.r)+":"+(t.e.rRel?"":"$")+Er(t.e.r):ju(t.s,e.biff)+":"+ju(t.e,e.biff)}function Vv(t){return parseInt(Y3(t),10)-1}function Er(t){return""+(t+1)}function K3(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Y3(t){return t.replace(/\$(\d+)$/,"$1")}function Bv(t){for(var e=W3(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function tr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function J3(t){return t.replace(/^([A-Z])/,"$$$1")}function W3(t){return t.replace(/^\$([A-Z])/,"$1")}function X3(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function yt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Ec(t){var e=t.indexOf(":");return e==-1?{s:qr(t),e:qr(t)}:{s:qr(t.slice(0,e)),e:qr(t.slice(e+1))}}function Gt(t,e){return typeof e>"u"||typeof e=="number"?Gt(t.s,t.e):(typeof t!="string"&&(t=yt(t)),typeof e!="string"&&(e=yt(e)),t==e?t:t+":"+e)}function Mn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function iT(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Mi(t.z,n?$r(e):e)}catch{}try{return t.w=Mi((t.XF||{}).numFmtId||(n?14:0),n?$r(e):e)}catch{return""+e}}function Za(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?nl[t.v]||t.v:e==null?iT(t,t.v):iT(t,e))}function oo(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function Cw(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),l=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?qr(r.origin):r.origin;l=f.r,c=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Mn(s["!ref"]);d.s.c=h.s.c,d.s.r=h.s.r,d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),l==-1&&(d.e.r=l=h.e.r+1)}for(var v=0;v!=e.length;++v)if(e[v]){if(!Array.isArray(e[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[v].length;++y)if(!(typeof e[v][y]>"u")){var A={v:e[v][y]},S=l+v,w=c+y;if(d.s.r>S&&(d.s.r=S),d.s.c>w&&(d.s.c=w),d.e.r<S&&(d.e.r=S),d.e.c<w&&(d.e.c=w),e[v][y]&&typeof e[v][y]=="object"&&!Array.isArray(e[v][y])&&!(e[v][y]instanceof Date))A=e[v][y];else if(Array.isArray(A.v)&&(A.f=e[v][y][1],A.v=A.v[0]),A.v===null)if(A.f)A.t="n";else if(r.nullError)A.t="e",A.v=0;else if(r.sheetStubs)A.t="z";else continue;else typeof A.v=="number"?A.t="n":typeof A.v=="boolean"?A.t="b":A.v instanceof Date?(A.z=r.dateNF||St[14],r.cellDates?(A.t="d",A.w=Mi(A.z,$r(A.v))):(A.t="n",A.v=$r(A.v),A.w=Mi(A.z,A.v))):A.t="s";if(i)s[S]||(s[S]=[]),s[S][w]&&s[S][w].z&&(A.z=s[S][w].z),s[S][w]=A;else{var C=yt({c:w,r:S});s[C]&&s[C].z&&(A.z=s[C].z),s[C]=A}}}return d.s.c<1e7&&(s["!ref"]=Gt(d)),s}function Tc(t,e){return Cw(null,t,e)}function Q3(t){return t.read_shift(4,"i")}function Pr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Z3(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Hv(t,e){var n=t.l,r=t.read_shift(1),i=Pr(t),s=[],l={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),f=0;f!=c;++f)s.push(Z3(t));l.r=s}else l.r=[{ich:0,ifnt:0}];return t.l=n+e,l}var eD=Hv;function Pi(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function el(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var tD=Pr;function Gv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var nD=Pr,Ng=Gv;function zv(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Kh([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Oo(e,0)>>2;return n?i/100:i}function bw(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var tl=bw;function Dr(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function rD(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=Ho[i];d&&(e.rgb=pf(d));break;case 2:e.rgb=pf([l,c,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function iD(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function Nw(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function aD(t){return Nw(t,1)}function sD(t){return Nw(t,2)}var qv=2,ti=3,uh=11,aT=12,Yh=19,fh=64,oD=65,lD=71,cD=4108,uD=4126,or=80,Iw=81,fD=[or,Iw],dD={1:{n:"CodePage",t:qv},2:{n:"Category",t:or},3:{n:"PresentationFormat",t:or},4:{n:"ByteCount",t:ti},5:{n:"LineCount",t:ti},6:{n:"ParagraphCount",t:ti},7:{n:"SlideCount",t:ti},8:{n:"NoteCount",t:ti},9:{n:"HiddenCount",t:ti},10:{n:"MultimediaClipCount",t:ti},11:{n:"ScaleCrop",t:uh},12:{n:"HeadingPairs",t:cD},13:{n:"TitlesOfParts",t:uD},14:{n:"Manager",t:or},15:{n:"Company",t:or},16:{n:"LinksUpToDate",t:uh},17:{n:"CharacterCount",t:ti},19:{n:"SharedDoc",t:uh},22:{n:"HyperlinksChanged",t:uh},23:{n:"AppVersion",t:ti,p:"version"},24:{n:"DigSig",t:oD},26:{n:"ContentType",t:or},27:{n:"ContentStatus",t:or},28:{n:"Language",t:or},29:{n:"Version",t:or},255:{},2147483648:{n:"Locale",t:Yh},2147483651:{n:"Behavior",t:Yh},1919054434:{}},hD={1:{n:"CodePage",t:qv},2:{n:"Title",t:or},3:{n:"Subject",t:or},4:{n:"Author",t:or},5:{n:"Keywords",t:or},6:{n:"Comments",t:or},7:{n:"Template",t:or},8:{n:"LastAuthor",t:or},9:{n:"RevNumber",t:or},10:{n:"EditTime",t:fh},11:{n:"LastPrinted",t:fh},12:{n:"CreatedDate",t:fh},13:{n:"ModifiedDate",t:fh},14:{n:"PageCount",t:ti},15:{n:"WordCount",t:ti},16:{n:"CharCount",t:ti},17:{n:"Thumbnail",t:lD},18:{n:"Application",t:or},19:{n:"DocSecurity",t:ti},255:{},2147483648:{n:"Locale",t:Yh},2147483651:{n:"Behavior",t:Yh},1919054434:{}},sT={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},pD=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function mD(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var gD=mD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ho=_r(gD),nl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Rw={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},oT={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function vD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function xD(t){var e=vD();if(!t||!t.match)return e;var n={};if((t.match(Or)||[]).forEach(function(r){var i=pt(r);switch(i[0].replace(C3,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[oT[i.ContentType]]!==void 0&&e[oT[i.ContentType]].push(i.PartName);break}}),e.xmlns!==O3.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Zl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Ig(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function $u(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Or)||[]).forEach(function(i){var s=pt(i);if(s[0]==="<Relationship"){var l={};l.Type=s.Type,l.Target=s.Target,l.Id=s.Id,s.TargetMode&&(l.TargetMode=s.TargetMode);var c=s.TargetMode==="External"?s.Target:Fu(s.Target,e);n[c]=l,r[s.Id]=l}}),n["!id"]=r,n}var yD="application/vnd.oasis.opendocument.spreadsheet";function _D(t,e){for(var n=Ov(t),r,i;r=df.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=pt(r[0],!1),i.path=="/"&&i.type!==yD)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Ku=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ED=(function(){for(var t=new Array(Ku.length),e=0;e<Ku.length;++e){var n=Ku[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function kw(t){var e={};t=vn(t);for(var n=0;n<Ku.length;++n){var r=Ku[n],i=t.match(ED[n]);i!=null&&i.length>0&&(e[r[1]]=jt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=ur(e[r[1]]))}return e}var TD=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Dw(t,e,n,r){var i=[];if(typeof t=="string")i=XE(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(h){return{v:h}}));var l=typeof e=="string"?XE(e,r).map(function(h){return h.v}):e,c=0,f=0;if(l.length>0)for(var d=0;d!==i.length;d+=2){switch(f=+i[d+1].v,i[d].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=l.slice(c,c+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=f,n.DefinedNames=l.slice(c,c+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=l.slice(c,c+f);break}c+=f}}function AD(t,e,n){var r={};return e||(e={}),t=vn(t),TD.forEach(function(i){var s=(t.match(ff(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=jt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var l=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(r[i[1]]=l[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Dw(r.HeadingPairs,r.TitlesOfParts,e,n),e}var SD=/<[^>]+>[^<]*/g;function wD(t,e){var n={},r="",i=t.match(SD);if(i)for(var s=0;s!=i.length;++s){var l=i[s],c=pt(l);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=jt(c.name);break;case"</property>":r=null;break;default:if(l.indexOf("<vt:")===0){var f=l.split(">"),d=f[0].slice(4),h=f[1];switch(d){case"lpstr":case"bstr":case"lpwstr":n[r]=jt(h);break;case"bool":n[r]=wn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=ur(h);break;case"cy":case"error":n[r]=jt(h);break;default:if(d.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",l,d,f)}}else if(l.slice(0,2)!=="</"){if(e.WTF)throw new Error(l)}}}return n}var CD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},eg;function bD(t,e,n){eg||(eg=Fv(CD)),e=eg[e]||e,t[e]=n}function jv(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Mw(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function Fw(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function Pw(t,e,n){return e===31?Fw(t):Mw(t,e,n)}function Rg(t,e,n){return Pw(t,e,n===!1?0:4)}function ND(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Pw(t,e,0)}function ID(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(jr,""),t.l-i&2&&(t.l+=2)}return n}function RD(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(jr,"");return n}function kD(t){var e=t.l,n=Jh(t,Iw);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=Jh(t,ti);return[n,r]}function DD(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(kD(t));return n}function lT(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),l=t.read_shift(4);r[s]=t.read_shift(l,e===1200?"utf16le":"utf8").replace(jr,"").replace(Mu,"!"),e===1200&&l%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function Lw(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function MD(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Jh(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==aT&&r!==e&&fD.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===aT?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return Mw(t,r,4).replace(jr,"");case 31:return Fw(t);case 64:return jv(t);case 65:return Lw(t);case 71:return MD(t);case 80:return Rg(t,r,!s.raw).replace(jr,"");case 81:return ND(t,r).replace(jr,"");case 4108:return DD(t);case 4126:case 4127:return r==4127?ID(t):RD(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function cT(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],l=0,c=0,f=-1,d={};for(l=0;l!=i;++l){var h=t.read_shift(4),v=t.read_shift(4);s[l]=[h,v+n]}s.sort(function(H,D){return H[1]-D[1]});var y={};for(l=0;l!=i;++l){if(t.l!==s[l][1]){var A=!0;if(l>0&&e)switch(e[s[l-1][0]].t){case 2:t.l+2===s[l][1]&&(t.l+=2,A=!1);break;case 80:t.l<=s[l][1]&&(t.l=s[l][1],A=!1);break;case 4108:t.l<=s[l][1]&&(t.l=s[l][1],A=!1);break}if((!e||l==0)&&t.l<=s[l][1]&&(A=!1,t.l=s[l][1]),A)throw new Error("Read Error: Expected address "+s[l][1]+" at "+t.l+" :"+l)}if(e){var S=e[s[l][0]];if(y[S.n]=Jh(t,S.t,{raw:!0}),S.p==="version"&&(y[S.n]=String(y[S.n]>>16)+"."+("0000"+String(y[S.n]&65535)).slice(-4)),S.n=="CodePage")switch(y[S.n]){case 0:y[S.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Xi(c=y[S.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+y[S.n])}}else if(s[l][0]===1){if(c=y.CodePage=Jh(t,qv),Xi(c),f!==-1){var w=t.l;t.l=s[f][1],d=lT(t,c),t.l=w}}else if(s[l][0]===0){if(c===0){f=l,t.l=s[l+1][1];continue}d=lT(t,c)}else{var C=d[s[l][0]],O;switch(t[t.l]){case 65:t.l+=4,O=Lw(t);break;case 30:t.l+=4,O=Rg(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,O=Rg(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,O=t.read_shift(4,"i");break;case 19:t.l+=4,O=t.read_shift(4);break;case 5:t.l+=4,O=t.read_shift(8,"f");break;case 11:t.l+=4,O=Un(t,4);break;case 64:t.l+=4,O=ur(jv(t));break;default:throw new Error("unparsed value: "+t[t.l])}y[C]=O}}return t.l=n+r,y}function uT(t,e,n){var r=t.content;if(!r)return{};xr(r,0);var i,s,l,c,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var d=r.read_shift(4),h=r.read_shift(16);if(h!==Ht.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),c=r.read_shift(4),i===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);i===2&&(l=r.read_shift(16),f=r.read_shift(4));var v=cT(r,e),y={SystemIdentifier:d};for(var A in v)y[A]=v[A];if(y.FMTID=s,i===1)return y;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var S;try{S=cT(r,null)}catch{}for(A in S)y[A]=S[A];return y.FMTID=[s,l],y}function Bs(t,e){return t.read_shift(e),null}function FD(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Un(t,e){return t.read_shift(e)===1}function Jn(t){return t.read_shift(2,"u")}function Ow(t,e){return FD(t,e,Jn)}function PD(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function Mf(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var l=r?t.read_shift(r,i):"";return l}function LD(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),l=0,c,f={};i&&(l=t.read_shift(2)),r&&(c=t.read_shift(4));var d=s==2?"dbcs-cont":"sbcs-cont",h=e===0?"":t.read_shift(e,d);return i&&(t.l+=4*l),r&&(t.l+=c),f.t=h,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function Ko(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function Ff(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Ko(t,r,n)}function rl(t,e,n){if(n.biff>5)return Ff(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function OD(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function UD(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(jr,"");return r&&(t.l+=24),i}function VD(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=t.read_shift(s>>1,"utf16le").replace(jr,"");return n+l}function BD(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return UD(t);case"0303000000000000c000000000000046":return VD(t);default:throw new Error("Unsupported Moniker "+n)}}function dh(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(jr,""):"";return n}function HD(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,l,c,f,d="",h,v;i&16&&(s=dh(t,n-t.l)),i&128&&(l=dh(t,n-t.l)),(i&257)===257&&(c=dh(t,n-t.l)),(i&257)===1&&(f=BD(t,n-t.l)),i&8&&(d=dh(t,n-t.l)),i&32&&(h=t.read_shift(16)),i&64&&(v=jv(t)),t.l=n;var y=l||c||f||"";y&&d&&(y+="#"+d),y||(y="#"+d),i&2&&y.charAt(0)=="/"&&y.charAt(1)!="/"&&(y="file://"+y);var A={Target:y};return h&&(A.guid=h),v&&(A.time=v),s&&(A.Tooltip=s),A}function Uw(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function Vw(t,e){var n=Uw(t);return n[3]=0,n}function Ca(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function GD(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function zD(t,e,n){return e===0?"":rl(t,e,n)}function qD(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),l=t.read_shift(r,"i");return[i,s,l]}function Bw(t){var e=t.read_shift(2),n=zv(t);return[e,n]}function jD(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=Mf(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function I0(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function Hw(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var $D=Hw;function Gw(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function KD(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function YD(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function br(t){t.l+=2,t.l+=t.read_shift(2)}var JD={0:br,4:br,5:br,6:br,7:YD,8:br,9:br,10:br,11:br,12:br,13:KD,14:br,15:br,16:br,17:br,18:br,19:br,20:br,21:Gw};function WD(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(JD[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function hh(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function XD(t,e){return e===0||t.read_shift(2),1200}function QD(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=rl(t,0,n);return t.read_shift(e+r-t.l),i}function ZD(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function eM(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var l=Mf(t,0,n);return l.length===0&&(l="Sheet1"),{pos:r,hs:i,dt:s,name:l}}function tM(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],l=0;l!=i&&t.l<n;++l)s.push(LD(t));return s.Count=r,s.Unique=i,s}function nM(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function rM(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function iM(t){var e=GD(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function aM(t){return t.read_shift(2),t.read_shift(4)}function fT(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function sM(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2),f=t.read_shift(2),d=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:l,FirstTab:c,Selected:f,TabRatio:d}}function oM(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function lM(){}function cM(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Mf(t,0,n),r}function uM(t){var e=Ca(t);return e.isst=t.read_shift(4),e}function fM(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Ca(t);n.biff==2&&t.l++;var s=Ff(t,r-t.l,n);return i.val=s,i}function dM(t,e,n){var r=t.read_shift(2),i=rl(t,0,n);return[r,i]}var hM=rl;function dT(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),l=t.read_shift(i),c=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:s,c},e:{r:l,c:f}}}function pM(t){var e=t.read_shift(2),n=t.read_shift(2),r=Bw(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function mM(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(Bw(t));if(t.l!==n)throw new Error("MulRK read error");var l=t.read_shift(2);if(s.length!=l-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:l,rkrec:s}}function gM(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var l=t.read_shift(2);if(s.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:l,ixfe:s}}function vM(t,e,n,r){var i={},s=t.read_shift(4),l=t.read_shift(4),c=t.read_shift(4),f=t.read_shift(2);return i.patternType=pD[c>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=c&127,i.icvBottom=c>>7&127,i.icvDiag=c>>14&127,i.dgDiag=c>>21&15,i.icvFore=f&127,i.icvBack=f>>7&127,i.fsxButton=f>>14&1),i}function xM(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=vM(t,e,r.fStyle,n),r}function yM(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function hT(t,e,n){var r=Ca(t);(n.biff==2||e==9)&&++t.l;var i=PD(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function _M(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Ca(t),i=Dr(t);return r.val=i,r}var pT=zD;function EM(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var l=Ko(t,s),c=[];r>t.l;)c.push(Ff(t));return[s,i,l,c]}function mT(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=jD(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var TM=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function gT(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var d=Ko(t,l,n);i&32&&(d=TM[d.charCodeAt(0)]);var h=r-t.l;n&&n.biff==2&&--h;var v=r==t.l||c===0||!(h>0)?[]:r5(t,h,n,c);return{chKey:s,Name:d,itab:f,rgce:v}}function zw(t,e,n){if(n.biff<8)return AM(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(qD(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function AM(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Mf(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function SM(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Ko(t,r,n),l=Ko(t,i,n);return[s,l]}function wM(t,e,n){var r=Hw(t);t.l++;var i=t.read_shift(1);return e-=8,[i5(t,e,n),i,r]}function vT(t,e,n){var r=$D(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,t5(t,e,n)]}function CM(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function bM(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),l=t.read_shift(2),c=rl(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},c,l,s]}}function NM(t,e,n){return bM(t,e,n)}function IM(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(I0(t));return n}function RM(t,e,n){if(n&&n.biff<8)return DM(t,e,n);var r=Gw(t),i=WD(t,e-22,r[1]);return{cmo:r,ft:i}}var kM={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function DM(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var l=[];return l.push((kM[r]||Lr)(t,e,n)),{cmo:[i,r,s],ft:l}}function MM(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:l=OD(t,6,n);var c=t.read_shift(2);t.read_shift(2),Jn(t,2);var f=t.read_shift(2);t.l+=f;for(var d=1;d<t.lens.length-1;++d){if(t.l-r!=t.lens[d])throw new Error("TxO: bad continue record");var h=t[t.l],v=Ko(t,t.lens[d+1]-t.lens[d]-1);if(i+=v,i.length>=(h?c:2*c))break}if(i.length!==c&&i.length!==c*2)throw new Error("cchText: "+c+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function FM(t,e){var n=I0(t);t.l+=16;var r=HD(t,e-24);return[n,r]}function PM(t,e){t.read_shift(2);var n=I0(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(jr,""),[n,r]}function LM(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=sT[n]||n,n=t.read_shift(2),e[1]=sT[n]||n,e}function OM(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Vw(t));return n}function UM(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Vw(t));return n}function VM(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function qw(t,e,n){if(!n.cellStyles)return Lr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),l=t.read_shift(r),c=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var d={s:i,e:s,w:l,ixfe:c,flags:f};return(n.biff>=5||!n.biff)&&(d.level=f>>8&7),d}function BM(t,e){var n={};return e<32||(t.l+=16,n.header=Dr(t),n.footer=Dr(t),t.l+=2),n}function HM(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var GM=Ca,zM=Ow,qM=Ff;function jM(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function $M(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Ca(t);++t.l;var i=rl(t,e-7,n);return r.t="str",r.val=i,r}function KM(t){var e=Ca(t);++t.l;var n=Dr(t);return e.t="n",e.val=n,e}function YM(t){var e=Ca(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function JM(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function WM(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function XM(t,e,n){var r=t.l+e,i=Ca(t),s=t.read_shift(2),l=Ko(t,s,n);return t.l=r,i.t="str",i.val=l,i}var QM=[2,3,48,49,131,139,140,245],xT=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Fv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,f){var d=[],h=Zs(1);switch(f.type){case"base64":h=Wi(mi(c));break;case"binary":h=Wi(c);break;case"buffer":case"array":h=c;break}xr(h,0);var v=h.read_shift(1),y=!!(v&136),A=!1,S=!1;switch(v){case 2:break;case 3:break;case 48:A=!0,y=!0;break;case 49:A=!0,y=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var w=0,C=521;v==2&&(w=h.read_shift(2)),h.l+=3,v!=2&&(w=h.read_shift(4)),w>1048576&&(w=1e6),v!=2&&(C=h.read_shift(2));var O=h.read_shift(2),H=f.codepage||1252;v!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(H=t[h[h.l]]),h.l+=1,h.l+=2),S&&(h.l+=36);for(var D=[],z={},G=Math.min(h.length,v==2?521:C-10-(A?264:0)),j=S?32:11;h.l<G&&h[h.l]!=13;)switch(z={},z.name=cf.utils.decode(H,h.slice(h.l,h.l+j)).replace(/[\u0000\r\n].*$/g,""),h.l+=j,z.type=String.fromCharCode(h.read_shift(1)),v!=2&&!S&&(z.offset=h.read_shift(4)),z.len=h.read_shift(1),v==2&&(z.offset=h.read_shift(2)),z.dec=h.read_shift(1),z.name.length&&D.push(z),v!=2&&(h.l+=S?13:14),z.type){case"B":(!A||z.len!=8)&&f.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+z.type)}if(h[h.l]!==13&&(h.l=C-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=C;var I=0,N=0;for(d[0]=[],N=0;N!=D.length;++N)d[0][N]=D[N].name;for(;w-- >0;){if(h[h.l]===42){h.l+=O;continue}for(++h.l,d[++I]=[],N=0,N=0;N!=D.length;++N){var b=h.slice(h.l,h.l+D[N].len);h.l+=D[N].len,xr(b,0);var P=cf.utils.decode(H,b);switch(D[N].type){case"C":P.trim().length&&(d[I][N]=P.replace(/\s+$/,""));break;case"D":P.length===8?d[I][N]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):d[I][N]=P;break;case"F":d[I][N]=parseFloat(P.trim());break;case"+":case"I":d[I][N]=S?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":d[I][N]=!0;break;case"N":case"F":d[I][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));d[I][N]="##MEMO##"+(S?parseInt(P.trim(),10):b.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(d[I][N]=+P||0);break;case"@":d[I][N]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":d[I][N]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":d[I][N]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[I][N]=-b.read_shift(-8,"f");break;case"B":if(A&&D[N].len==8){d[I][N]=b.read_shift(8,"f");break}case"G":case"P":b.l+=D[N].len;break;case"0":if(D[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+D[N].type)}}}if(v!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return f&&f.sheetRows&&(d=d.slice(0,f.sheetRows)),f.DBF=D,d}function r(c,f){var d=f||{};d.dateNF||(d.dateNF="yyyymmdd");var h=Tc(n(c,d),d);return h["!cols"]=d.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete d.DBF,h}function i(c,f){try{return oo(r(c,f),f)}catch(d){if(f&&f.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,f){var d=f||{};if(+d.codepage>=0&&Xi(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var h=bg(),v=Lg(c,{header:1,raw:!0,cellDates:!0}),y=v[0],A=v.slice(1),S=c["!cols"]||[],w=0,C=0,O=0,H=1;for(w=0;w<y.length;++w){if(((S[w]||{}).DBF||{}).name){y[w]=S[w].DBF.name,++O;continue}if(y[w]!=null){if(++O,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(C=0;C<1024;++C)if(y.indexOf(y[w]+"_"+C)==-1){y[w]+="_"+C;break}}}}var D=Mn(c["!ref"]),z=[],G=[],j=[];for(w=0;w<=D.e.c-D.s.c;++w){var I="",N="",b=0,P=[];for(C=0;C<A.length;++C)A[C][w]!=null&&P.push(A[C][w]);if(P.length==0||y[w]==null){z[w]="?";continue}for(C=0;C<P.length;++C){switch(typeof P[C]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=P[C]instanceof Date?"D":"C";break;default:N="C"}b=Math.max(b,String(P[C]).length),I=I&&I!=N?"C":N}b>250&&(b=250),N=((S[w]||{}).DBF||{}).type,N=="C"&&S[w].DBF.len>b&&(b=S[w].DBF.len),I=="B"&&N=="N"&&(I="N",j[w]=S[w].DBF.dec,b=S[w].DBF.len),G[w]=I=="C"||N=="N"?b:s[I]||0,H+=G[w],z[w]=I}var M=h.next(32);for(M.write_shift(4,318902576),M.write_shift(4,A.length),M.write_shift(2,296+32*O),M.write_shift(2,H),w=0;w<4;++w)M.write_shift(4,0);for(M.write_shift(4,0|(+e[zS]||3)<<8),w=0,C=0;w<y.length;++w)if(y[w]!=null){var k=h.next(32),U=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,U,"sbcs"),k.write_shift(1,z[w]=="?"?"C":z[w],"sbcs"),k.write_shift(4,C),k.write_shift(1,G[w]||s[z[w]]||0),k.write_shift(1,j[w]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),C+=G[w]||s[z[w]]||0}var Te=h.next(264);for(Te.write_shift(4,13),w=0;w<65;++w)Te.write_shift(4,0);for(w=0;w<A.length;++w){var Ae=h.next(H);for(Ae.write_shift(1,0),C=0;C<y.length;++C)if(y[C]!=null)switch(z[C]){case"L":Ae.write_shift(1,A[w][C]==null?63:A[w][C]?84:70);break;case"B":Ae.write_shift(8,A[w][C]||0,"f");break;case"N":var ae="0";for(typeof A[w][C]=="number"&&(ae=A[w][C].toFixed(j[C]||0)),O=0;O<G[C]-ae.length;++O)Ae.write_shift(1,32);Ae.write_shift(1,ae,"sbcs");break;case"D":A[w][C]?(Ae.write_shift(4,("0000"+A[w][C].getFullYear()).slice(-4),"sbcs"),Ae.write_shift(2,("00"+(A[w][C].getMonth()+1)).slice(-2),"sbcs"),Ae.write_shift(2,("00"+A[w][C].getDate()).slice(-2),"sbcs")):Ae.write_shift(8,"00000000","sbcs");break;case"C":var le=String(A[w][C]!=null?A[w][C]:"").slice(0,G[C]);for(Ae.write_shift(1,le,"sbcs"),O=0;O<G[C]-le.length;++O)Ae.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:l}})(),ZM=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ta(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(y,A){var S=t[A];return typeof S=="number"?FE(S):S},r=function(y,A,S){var w=A.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return w==59?y:FE(w)};t["|"]=254;function i(y,A){switch(A.type){case"base64":return s(mi(y),A);case"binary":return s(y,A);case"buffer":return s(Ut&&Buffer.isBuffer(y)?y.toString("binary"):Zo(y),A);case"array":return s($o(y),A)}throw new Error("Unrecognized type "+A.type)}function s(y,A){var S=y.split(/[\n\r]+/),w=-1,C=-1,O=0,H=0,D=[],z=[],G=null,j={},I=[],N=[],b=[],P=0,M;for(+A.codepage>=0&&Xi(+A.codepage);O!==S.length;++O){P=0;var k=S[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),U=k.replace(/;;/g,"\0").split(";").map(function(te){return te.replace(/\u0000/g,";")}),Te=U[0],Ae;if(k.length>0)switch(Te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&z.push(k.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,le=!1,Ne=!1,ie=!1,Fe=-1,X=-1;for(H=1;H<U.length;++H)switch(U[H].charAt(0)){case"A":break;case"X":C=parseInt(U[H].slice(1))-1,le=!0;break;case"Y":for(w=parseInt(U[H].slice(1))-1,le||(C=0),M=D.length;M<=w;++M)D[M]=[];break;case"K":Ae=U[H].slice(1),Ae.charAt(0)==='"'?Ae=Ae.slice(1,Ae.length-1):Ae==="TRUE"?Ae=!0:Ae==="FALSE"?Ae=!1:isNaN(ea(Ae))?isNaN(hc(Ae).getDate())||(Ae=ur(Ae)):(Ae=ea(Ae),G!==null&&_c(G)&&(Ae=N0(Ae))),ae=!0;break;case"E":ie=!0;var B=sc(U[H].slice(1),{r:w,c:C});D[w][C]=[D[w][C],B];break;case"S":Ne=!0,D[w][C]=[D[w][C],"S5S"];break;case"G":break;case"R":Fe=parseInt(U[H].slice(1))-1;break;case"C":X=parseInt(U[H].slice(1))-1;break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+k)}if(ae&&(D[w][C]&&D[w][C].length==2?D[w][C][0]=Ae:D[w][C]=Ae,G=null),Ne){if(ie)throw new Error("SYLK shared formula cannot have own formula");var Q=Fe>-1&&D[Fe][X];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");D[w][C][1]=eC(Q[1],{r:w-Fe,c:C-X})}break;case"F":var Z=0;for(H=1;H<U.length;++H)switch(U[H].charAt(0)){case"X":C=parseInt(U[H].slice(1))-1,++Z;break;case"Y":for(w=parseInt(U[H].slice(1))-1,M=D.length;M<=w;++M)D[M]=[];break;case"M":P=parseInt(U[H].slice(1))/20;break;case"F":break;case"G":break;case"P":G=z[parseInt(U[H].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=U[H].slice(1).split(" "),M=parseInt(b[0],10);M<=parseInt(b[1],10);++M)P=parseInt(b[2],10),N[M-1]=P===0?{hidden:!0}:{wch:P},pc(N[M-1]);break;case"C":C=parseInt(U[H].slice(1))-1,N[C]||(N[C]={});break;case"R":w=parseInt(U[H].slice(1))-1,I[w]||(I[w]={}),P>0?(I[w].hpt=P,I[w].hpx=mf(P)):P===0&&(I[w].hidden=!0);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+k)}Z<1&&(G=null);break;default:if(A&&A.WTF)throw new Error("SYLK bad record "+k)}}return I.length>0&&(j["!rows"]=I),N.length>0&&(j["!cols"]=N),A&&A.sheetRows&&(D=D.slice(0,A.sheetRows)),[D,j]}function l(y,A){var S=i(y,A),w=S[0],C=S[1],O=Tc(w,A);return Ta(C).forEach(function(H){O[H]=C[H]}),O}function c(y,A){return oo(l(y,A),A)}function f(y,A,S,w){var C="C;Y"+(S+1)+";X"+(w+1)+";K";switch(y.t){case"n":C+=y.v||0,y.f&&!y.F&&(C+=";E"+VF(y.f,{r:S,c:w}));break;case"b":C+=y.v?"TRUE":"FALSE";break;case"e":C+=y.w||y.v;break;case"d":C+='"'+(y.w||y.v)+'"';break;case"s":C+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function d(y,A){A.forEach(function(S,w){var C="F;W"+(w+1)+" "+(w+1)+" ";S.hidden?C+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Xh(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=Qh(S.wpx)),typeof S.wch=="number"&&(C+=Math.round(S.wch))),C.charAt(C.length-1)!=" "&&y.push(C)})}function h(y,A){A.forEach(function(S,w){var C="F;";S.hidden?C+="M0;":S.hpt?C+="M"+20*S.hpt+";":S.hpx&&(C+="M"+20*Xw(S.hpx)+";"),C.length>2&&y.push(C+"R"+(w+1))})}function v(y,A){var S=["ID;PWXL;N;E"],w=[],C=Mn(y["!ref"]),O,H=Array.isArray(y),D=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),y["!cols"]&&d(S,y["!cols"]),y["!rows"]&&h(S,y["!rows"]),S.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var z=C.s.r;z<=C.e.r;++z)for(var G=C.s.c;G<=C.e.c;++G){var j=yt({r:z,c:G});O=H?(y[z]||[])[G]:y[j],!(!O||O.v==null&&(!O.f||O.F))&&w.push(f(O,y,z,G))}return S.join(D)+D+w.join(D)+D+"E"+D}return{to_workbook:c,to_sheet:l,from_sheet:v}})(),e6=(function(){function t(s,l){switch(l.type){case"base64":return e(mi(s),l);case"binary":return e(s,l);case"buffer":return e(Ut&&Buffer.isBuffer(s)?s.toString("binary"):Zo(s),l);case"array":return e($o(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var c=s.split(`
`),f=-1,d=-1,h=0,v=[];h!==c.length;++h){if(c[h].trim()==="BOT"){v[++f]=[],d=0;continue}if(!(f<0)){var y=c[h].trim().split(","),A=y[0],S=y[1];++h;for(var w=c[h]||"";(w.match(/["]/g)||[]).length&1&&h<c.length-1;)w+=`
`+c[++h];switch(w=w.trim(),+A){case-1:if(w==="BOT"){v[++f]=[],d=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?v[f][d]=!0:w==="FALSE"?v[f][d]=!1:isNaN(ea(S))?isNaN(hc(S).getDate())?v[f][d]=S:v[f][d]=ur(S):v[f][d]=ea(S),++d;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),v[f][d++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function n(s,l){return Tc(t(s,l),l)}function r(s,l){return oo(n(s,l),l)}var i=(function(){var s=function(f,d,h,v,y){f.push(d),f.push(h+","+v),f.push('"'+y.replace(/"/g,'""')+'"')},l=function(f,d,h,v){f.push(d+","+h),f.push(d==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(f){var d=[],h=Mn(f["!ref"]),v,y=Array.isArray(f);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,h.e.r-h.s.r+1,""),s(d,"TUPLES",0,h.e.c-h.s.c+1,""),s(d,"DATA",0,0,"");for(var A=h.s.r;A<=h.e.r;++A){l(d,-1,0,"BOT");for(var S=h.s.c;S<=h.e.c;++S){var w=yt({r:A,c:S});if(v=y?(f[A]||[])[S]:f[w],!v){l(d,1,0,"");continue}switch(v.t){case"n":var C=v.w;!C&&v.v!=null&&(C=v.v),C==null?v.f&&!v.F?l(d,1,0,"="+v.f):l(d,1,0,""):l(d,0,C,"V");break;case"b":l(d,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(d,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Mi(v.z||St[14],$r(ur(v.v)))),l(d,0,v.w,"V");break;default:l(d,1,0,"")}}}l(d,-1,0,"EOD");var O=`\r
`,H=d.join(O);return H}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),t6=(function(){function t(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(v,y){for(var A=v.split(`
`),S=-1,w=-1,C=0,O=[];C!==A.length;++C){var H=A[C].trim().split(":");if(H[0]==="cell"){var D=qr(H[1]);if(O.length<=D.r)for(S=O.length;S<=D.r;++S)O[S]||(O[S]=[]);switch(S=D.r,w=D.c,H[2]){case"t":O[S][w]=t(H[3]);break;case"v":O[S][w]=+H[3];break;case"vtf":var z=H[H.length-1];case"vtc":switch(H[3]){case"nl":O[S][w]=!!+H[4];break;default:O[S][w]=+H[4];break}H[2]=="vtf"&&(O[S][w]=[O[S][w],z])}}}return y&&y.sheetRows&&(O=O.slice(0,y.sheetRows)),O}function r(v,y){return Tc(n(v,y),y)}function i(v,y){return oo(r(v,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function d(v){if(!v||!v["!ref"])return"";for(var y=[],A=[],S,w="",C=Ec(v["!ref"]),O=Array.isArray(v),H=C.s.r;H<=C.e.r;++H)for(var D=C.s.c;D<=C.e.c;++D)if(w=yt({r:H,c:D}),S=O?(v[H]||[])[D]:v[w],!(!S||S.v==null||S.t==="z")){switch(A=["cell",w,"t"],S.t){case"s":case"str":A.push(e(S.v));break;case"n":S.f?(A[2]="vtf",A[3]="n",A[4]=S.v,A[5]=e(S.f)):(A[2]="v",A[3]=S.v);break;case"b":A[2]="vt"+(S.f?"f":"c"),A[3]="nl",A[4]=S.v?"1":"0",A[5]=e(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var z=$r(ur(S.v));A[2]="vtc",A[3]="nd",A[4]=""+z,A[5]=S.w||Mi(S.z||St[14],z);break;case"e":continue}y.push(A.join(":"))}return y.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function h(v){return[s,l,c,l,d(v),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),hf=(function(){function t(h,v,y,A,S){S.raw?v[y][A]=h:h===""||(h==="TRUE"?v[y][A]=!0:h==="FALSE"?v[y][A]=!1:isNaN(ea(h))?isNaN(hc(h).getDate())?v[y][A]=h:v[y][A]=ur(h):v[y][A]=ea(h))}function e(h,v){var y=v||{},A=[];if(!h||h.length===0)return A;for(var S=h.split(/[\r\n]/),w=S.length-1;w>=0&&S[w].length===0;)--w;for(var C=10,O=0,H=0;H<=w;++H)O=S[H].indexOf(" "),O==-1?O=S[H].length:O++,C=Math.max(C,O);for(H=0;H<=w;++H){A[H]=[];var D=0;for(t(S[H].slice(0,C).trim(),A,H,D,y),D=1;D<=(S[H].length-C)/10+1;++D)t(S[H].slice(C+(D-1)*10,C+D*10).trim(),A,H,D,y)}return y.sheetRows&&(A=A.slice(0,y.sheetRows)),A}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var v={},y=!1,A=0,S=0;A<h.length;++A)(S=h.charCodeAt(A))==34?y=!y:!y&&S in n&&(v[S]=(v[S]||0)+1);S=[];for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&S.push([v[A],A]);if(!S.length){v=r;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&S.push([v[A],A])}return S.sort(function(w,C){return w[0]-C[0]||r[w[1]]-r[C[1]]}),n[S.pop()[1]]||44}function s(h,v){var y=v||{},A="",S=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(A=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(A=h.charAt(4),h=h.slice(6)):A=i(h.slice(0,1024)):y&&y.FS?A=y.FS:A=i(h.slice(0,1024));var C=0,O=0,H=0,D=0,z=0,G=A.charCodeAt(0),j=!1,I=0,N=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var b=y.dateNF!=null?d3(y.dateNF):null;function P(){var M=h.slice(D,z),k={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)k.t="z";else if(y.raw)k.t="s",k.v=M;else if(M.trim().length===0)k.t="s",k.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(k.t="s",k.v=M.slice(2,-1).replace(/""/g,'"')):HF(M)?(k.t="n",k.f=M.slice(1)):(k.t="s",k.v=M);else if(M=="TRUE")k.t="b",k.v=!0;else if(M=="FALSE")k.t="b",k.v=!1;else if(!isNaN(H=ea(M)))k.t="n",y.cellText!==!1&&(k.w=M),k.v=H;else if(!isNaN(hc(M).getDate())||b&&M.match(b)){k.z=y.dateNF||St[14];var U=0;b&&M.match(b)&&(M=h3(M,y.dateNF,M.match(b)||[]),U=1),y.cellDates?(k.t="d",k.v=ur(M,U)):(k.t="n",k.v=$r(ur(M,U))),y.cellText!==!1&&(k.w=Mi(k.z,k.v instanceof Date?$r(k.v):k.v)),y.cellNF||delete k.z}else k.t="s",k.v=M;if(k.t=="z"||(y.dense?(S[C]||(S[C]=[]),S[C][O]=k):S[yt({c:O,r:C})]=k),D=z+1,N=h.charCodeAt(D),w.e.c<O&&(w.e.c=O),w.e.r<C&&(w.e.r=C),I==G)++O;else if(O=0,++C,y.sheetRows&&y.sheetRows<=C)return!0}e:for(;z<h.length;++z)switch(I=h.charCodeAt(z)){case 34:N===34&&(j=!j);break;case G:case 10:case 13:if(!j&&P())break e;break}return z-D>0&&P(),S["!ref"]=Gt(w),S}function l(h,v){return!(v&&v.PRN)||v.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,v):Tc(e(h,v),v)}function c(h,v){var y="",A=v.type=="string"?[0,0,0,0]:Zv(h,v);switch(v.type){case"base64":y=mi(h);break;case"binary":y=h;break;case"buffer":v.codepage==65001?y=h.toString("utf8"):v.codepage&&typeof cf<"u"||(y=Ut&&Buffer.isBuffer(h)?h.toString("binary"):Zo(h));break;case"array":y=$o(h);break;case"string":y=h;break;default:throw new Error("Unrecognized type "+v.type)}return A[0]==239&&A[1]==187&&A[2]==191?y=vn(y.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?y=vn(y):v.type=="binary"&&typeof cf<"u",y.slice(0,19)=="socialcalc:version:"?t6.to_sheet(v.type=="string"?y:vn(y),v):l(y,v)}function f(h,v){return oo(c(h,v),v)}function d(h){for(var v=[],y=Mn(h["!ref"]),A,S=Array.isArray(h),w=y.s.r;w<=y.e.r;++w){for(var C=[],O=y.s.c;O<=y.e.c;++O){var H=yt({r:w,c:O});if(A=S?(h[w]||[])[O]:h[H],!A||A.v==null){C.push("          ");continue}for(var D=(A.w||(Za(A),A.w)||"").slice(0,10);D.length<10;)D+=" ";C.push(D+(O===0?" ":""))}v.push(C.join(""))}return v.join(`
`)}return{to_workbook:f,to_sheet:c,from_sheet:d}})();function n6(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=ZM.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return hf.to_workbook(t,e)}}var Yu=(function(){function t(B,Q,Z){if(B){xr(B,B.l||0);for(var te=Z.Enum||Fe;B.l<B.length;){var ue=B.read_shift(2),be=te[ue]||te[65535],Ce=B.read_shift(2),we=B.l+Ce,Ie=be.f&&be.f(B,Ce,Z);if(B.l=we,Q(Ie,be,ue))return}}}function e(B,Q){switch(Q.type){case"base64":return n(Wi(mi(B)),Q);case"binary":return n(Wi(B),Q);case"buffer":case"array":return n(B,Q)}throw"Unsupported type "+Q.type}function n(B,Q){if(!B)return B;var Z=Q||{},te=Z.dense?[]:{},ue="Sheet1",be="",Ce=0,we={},Ie=[],$e=[],ne={s:{r:0,c:0},e:{r:0,c:0}},ut=Z.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)Z.Enum=Fe,t(B,function(Le,nt,rt){switch(rt){case 0:Z.vers=Le,Le>=4096&&(Z.qpro=!0);break;case 6:ne=Le;break;case 204:Le&&(be=Le);break;case 222:be=Le;break;case 15:case 51:Z.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:rt==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=Z.dateNF||St[14],Z.cellDates&&(Le[1].t="d",Le[1].v=N0(Le[1].v))),Z.qpro&&Le[3]>Ce&&(te["!ref"]=Gt(ne),we[ue]=te,Ie.push(ue),te=Z.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Ce=Le[3],ue=be||"Sheet"+(Ce+1),be="");var ot=Z.dense?(te[Le[0].r]||[])[Le[0].c]:te[yt(Le[0])];if(ot){ot.t=Le[1].t,ot.v=Le[1].v,Le[1].z!=null&&(ot.z=Le[1].z),Le[1].f!=null&&(ot.f=Le[1].f);break}Z.dense?(te[Le[0].r]||(te[Le[0].r]=[]),te[Le[0].r][Le[0].c]=Le[1]):te[yt(Le[0])]=Le[1];break}},Z);else if(B[2]==26||B[2]==14)Z.Enum=X,B[2]==14&&(Z.qpro=!0,B.l=0),t(B,function(Le,nt,rt){switch(rt){case 204:ue=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>Ce&&(te["!ref"]=Gt(ne),we[ue]=te,Ie.push(ue),te=Z.dense?[]:{},ne={s:{r:0,c:0},e:{r:0,c:0}},Ce=Le[3],ue="Sheet"+(Ce+1)),ut>0&&Le[0].r>=ut)break;Z.dense?(te[Le[0].r]||(te[Le[0].r]=[]),te[Le[0].r][Le[0].c]=Le[1]):te[yt(Le[0])]=Le[1],ne.e.c<Le[0].c&&(ne.e.c=Le[0].c),ne.e.r<Le[0].r&&(ne.e.r=Le[0].r);break;case 27:Le[14e3]&&($e[Le[14e3][0]]=Le[14e3][1]);break;case 1537:$e[Le[0]]=Le[1],Le[0]==Ce&&(ue=Le[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(te["!ref"]=Gt(ne),we[be||ue]=te,Ie.push(be||ue),!$e.length)return{SheetNames:Ie,Sheets:we};for(var We={},Ye=[],Be=0;Be<$e.length;++Be)we[Ie[Be]]?(Ye.push($e[Be]||Ie[Be]),We[$e[Be]]=we[$e[Be]]||we[Ie[Be]]):(Ye.push($e[Be]),We[$e[Be]]={"!ref":"A1"});return{SheetNames:Ye,Sheets:We}}function r(B,Q){var Z=Q||{};if(+Z.codepage>=0&&Xi(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var te=bg(),ue=Mn(B["!ref"]),be=Array.isArray(B),Ce=[];Ji(te,0,s(1030)),Ji(te,6,f(ue));for(var we=Math.min(ue.e.r,8191),Ie=ue.s.r;Ie<=we;++Ie)for(var $e=Er(Ie),ne=ue.s.c;ne<=ue.e.c;++ne){Ie===ue.s.r&&(Ce[ne]=tr(ne));var ut=Ce[ne]+$e,We=be?(B[Ie]||[])[ne]:B[ut];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?Ji(te,13,A(Ie,ne,We.v)):Ji(te,14,w(Ie,ne,We.v));else{var Ye=Za(We);Ji(te,15,v(Ie,ne,Ye.slice(0,239)))}}return Ji(te,1),te.end()}function i(B,Q){var Z=Q||{};if(+Z.codepage>=0&&Xi(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var te=bg();Ji(te,0,l(B));for(var ue=0,be=0;ue<B.SheetNames.length;++ue)(B.Sheets[B.SheetNames[ue]]||{})["!ref"]&&Ji(te,27,ie(B.SheetNames[ue],be++));var Ce=0;for(ue=0;ue<B.SheetNames.length;++ue){var we=B.Sheets[B.SheetNames[ue]];if(!(!we||!we["!ref"])){for(var Ie=Mn(we["!ref"]),$e=Array.isArray(we),ne=[],ut=Math.min(Ie.e.r,8191),We=Ie.s.r;We<=ut;++We)for(var Ye=Er(We),Be=Ie.s.c;Be<=Ie.e.c;++Be){We===Ie.s.r&&(ne[Be]=tr(Be));var Le=ne[Be]+Ye,nt=$e?(we[We]||[])[Be]:we[Le];if(!(!nt||nt.t=="z"))if(nt.t=="n")Ji(te,23,P(We,Be,Ce,nt.v));else{var rt=Za(nt);Ji(te,22,I(We,Be,Ce,rt.slice(0,239)))}}++Ce}}return Ji(te,1),te.end()}function s(B){var Q=Zn(2);return Q.write_shift(2,B),Q}function l(B){var Q=Zn(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var Z=0,te=0,ue=0,be=0;be<B.SheetNames.length;++be){var Ce=B.SheetNames[be],we=B.Sheets[Ce];if(!(!we||!we["!ref"])){++ue;var Ie=Ec(we["!ref"]);Z<Ie.e.r&&(Z=Ie.e.r),te<Ie.e.c&&(te=Ie.e.c)}}return Z>8191&&(Z=8191),Q.write_shift(2,Z),Q.write_shift(1,ue),Q.write_shift(1,te),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function c(B,Q,Z){var te={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&Z.qpro?(te.s.c=B.read_shift(1),B.l++,te.s.r=B.read_shift(2),te.e.c=B.read_shift(1),B.l++,te.e.r=B.read_shift(2),te):(te.s.c=B.read_shift(2),te.s.r=B.read_shift(2),Q==12&&Z.qpro&&(B.l+=2),te.e.c=B.read_shift(2),te.e.r=B.read_shift(2),Q==12&&Z.qpro&&(B.l+=2),te.s.c==65535&&(te.s.c=te.e.c=te.s.r=te.e.r=0),te)}function f(B){var Q=Zn(8);return Q.write_shift(2,B.s.c),Q.write_shift(2,B.s.r),Q.write_shift(2,B.e.c),Q.write_shift(2,B.e.r),Q}function d(B,Q,Z){var te=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(te[0].c=B.read_shift(1),te[3]=B.read_shift(1),te[0].r=B.read_shift(2),B.l+=2):(te[2]=B.read_shift(1),te[0].c=B.read_shift(2),te[0].r=B.read_shift(2)),te}function h(B,Q,Z){var te=B.l+Q,ue=d(B,Q,Z);if(ue[1].t="s",Z.vers==20768){B.l++;var be=B.read_shift(1);return ue[1].v=B.read_shift(be,"utf8"),ue}return Z.qpro&&B.l++,ue[1].v=B.read_shift(te-B.l,"cstr"),ue}function v(B,Q,Z){var te=Zn(7+Z.length);te.write_shift(1,255),te.write_shift(2,Q),te.write_shift(2,B),te.write_shift(1,39);for(var ue=0;ue<te.length;++ue){var be=Z.charCodeAt(ue);te.write_shift(1,be>=128?95:be)}return te.write_shift(1,0),te}function y(B,Q,Z){var te=d(B,Q,Z);return te[1].v=B.read_shift(2,"i"),te}function A(B,Q,Z){var te=Zn(7);return te.write_shift(1,255),te.write_shift(2,Q),te.write_shift(2,B),te.write_shift(2,Z,"i"),te}function S(B,Q,Z){var te=d(B,Q,Z);return te[1].v=B.read_shift(8,"f"),te}function w(B,Q,Z){var te=Zn(13);return te.write_shift(1,255),te.write_shift(2,Q),te.write_shift(2,B),te.write_shift(8,Z,"f"),te}function C(B,Q,Z){var te=B.l+Q,ue=d(B,Q,Z);if(ue[1].v=B.read_shift(8,"f"),Z.qpro)B.l=te;else{var be=B.read_shift(2);z(B.slice(B.l,B.l+be),ue),B.l+=be}return ue}function O(B,Q,Z){var te=Q&32768;return Q&=-32769,Q=(te?B:0)+(Q>=8192?Q-16384:Q),(te?"":"$")+(Z?tr(Q):Er(Q))}var H={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},D=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function z(B,Q){xr(B,0);for(var Z=[],te=0,ue="",be="",Ce="",we="";B.l<B.length;){var Ie=B[B.l++];switch(Ie){case 0:Z.push(B.read_shift(8,"f"));break;case 1:be=O(Q[0].c,B.read_shift(2),!0),ue=O(Q[0].r,B.read_shift(2),!1),Z.push(be+ue);break;case 2:{var $e=O(Q[0].c,B.read_shift(2),!0),ne=O(Q[0].r,B.read_shift(2),!1);be=O(Q[0].c,B.read_shift(2),!0),ue=O(Q[0].r,B.read_shift(2),!1),Z.push($e+ne+":"+be+ue)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(B.read_shift(2));break;case 6:{for(var ut="";Ie=B[B.l++];)ut+=String.fromCharCode(Ie);Z.push('"'+ut.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:we=Z.pop(),Ce=Z.pop(),Z.push(["AND","OR"][Ie-20]+"("+Ce+","+we+")");break;default:if(Ie<32&&D[Ie])we=Z.pop(),Ce=Z.pop(),Z.push(Ce+D[Ie]+we);else if(H[Ie]){if(te=H[Ie][1],te==69&&(te=B[B.l++]),te>Z.length){console.error("WK1 bad formula parse 0x"+Ie.toString(16)+":|"+Z.join("|")+"|");return}var We=Z.slice(-te);Z.length-=te,Z.push(H[Ie][0]+"("+We.join(",")+")")}else return Ie<=7?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=24?console.error("WK1 unsupported op "+Ie.toString(16)):Ie<=30?console.error("WK1 invalid opcode "+Ie.toString(16)):Ie<=115?console.error("WK1 unsupported function opcode "+Ie.toString(16)):console.error("WK1 unrecognized opcode "+Ie.toString(16))}}Z.length==1?Q[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function G(B){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=B.read_shift(2),Q[3]=B[B.l++],Q[0].c=B[B.l++],Q}function j(B,Q){var Z=G(B);return Z[1].t="s",Z[1].v=B.read_shift(Q-4,"cstr"),Z}function I(B,Q,Z,te){var ue=Zn(6+te.length);ue.write_shift(2,B),ue.write_shift(1,Z),ue.write_shift(1,Q),ue.write_shift(1,39);for(var be=0;be<te.length;++be){var Ce=te.charCodeAt(be);ue.write_shift(1,Ce>=128?95:Ce)}return ue.write_shift(1,0),ue}function N(B,Q){var Z=G(B);Z[1].v=B.read_shift(2);var te=Z[1].v>>1;if(Z[1].v&1)switch(te&7){case 0:te=(te>>3)*5e3;break;case 1:te=(te>>3)*500;break;case 2:te=(te>>3)/20;break;case 3:te=(te>>3)/200;break;case 4:te=(te>>3)/2e3;break;case 5:te=(te>>3)/2e4;break;case 6:te=(te>>3)/16;break;case 7:te=(te>>3)/64;break}return Z[1].v=te,Z}function b(B,Q){var Z=G(B),te=B.read_shift(4),ue=B.read_shift(4),be=B.read_shift(2);if(be==65535)return te===0&&ue===3221225472?(Z[1].t="e",Z[1].v=15):te===0&&ue===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var Ce=be&32768;return be=(be&32767)-16446,Z[1].v=(1-Ce*2)*(ue*Math.pow(2,be+32)+te*Math.pow(2,be)),Z}function P(B,Q,Z,te){var ue=Zn(14);if(ue.write_shift(2,B),ue.write_shift(1,Z),ue.write_shift(1,Q),te==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var be=0,Ce=0,we=0,Ie=0;return te<0&&(be=1,te=-te),Ce=Math.log2(te)|0,te/=Math.pow(2,Ce-31),Ie=te>>>0,(Ie&2147483648)==0&&(te/=2,++Ce,Ie=te>>>0),te-=Ie,Ie|=2147483648,Ie>>>=0,te*=Math.pow(2,32),we=te>>>0,ue.write_shift(4,we),ue.write_shift(4,Ie),Ce+=16383+(be?32768:0),ue.write_shift(2,Ce),ue}function M(B,Q){var Z=b(B);return B.l+=Q-14,Z}function k(B,Q){var Z=G(B),te=B.read_shift(4);return Z[1].v=te>>6,Z}function U(B,Q){var Z=G(B),te=B.read_shift(8,"f");return Z[1].v=te,Z}function Te(B,Q){var Z=U(B);return B.l+=Q-10,Z}function Ae(B,Q){return B[B.l+Q-1]==0?B.read_shift(Q,"cstr"):""}function ae(B,Q){var Z=B[B.l++];Z>Q-1&&(Z=Q-1);for(var te="";te.length<Z;)te+=String.fromCharCode(B[B.l++]);return te}function le(B,Q,Z){if(!(!Z.qpro||Q<21)){var te=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ue=B.read_shift(Q-21,"cstr");return[te,ue]}}function Ne(B,Q){for(var Z={},te=B.l+Q;B.l<te;){var ue=B.read_shift(2);if(ue==14e3){for(Z[ue]=[0,""],Z[ue][0]=B.read_shift(2);B[B.l];)Z[ue][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return Z}function ie(B,Q){var Z=Zn(5+B.length);Z.write_shift(2,14e3),Z.write_shift(2,Q);for(var te=0;te<B.length;++te){var ue=B.charCodeAt(te);Z[Z.l++]=ue>127?95:ue}return Z[Z.l++]=0,Z}var Fe={0:{n:"BOF",f:Jn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ae},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ne},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:Te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function r6(t){var e={},n=t.match(Or),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=pt(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=Iv[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var i6=(function(){var t=ff("t"),e=ff("rPr");function n(s){var l=s.match(t);if(!l)return{t:"s",v:""};var c={t:"s",v:jt(l[1])},f=s.match(e);return f&&(c.s=r6(f[1])),c}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(r,"").split(i).map(n).filter(function(c){return c.v})}})(),a6=(function(){var e=/(\r\n|\n)/g;function n(i,s,l){var c=[];i.u&&c.push("text-decoration: underline;"),i.uval&&c.push("text-underline-style:"+i.uval+";"),i.sz&&c.push("font-size:"+i.sz+"pt;"),i.outline&&c.push("text-effect: outline;"),i.shadow&&c.push("text-shadow: auto;"),s.push('<span style="'+c.join("")+'">'),i.b&&(s.push("<b>"),l.push("</b>")),i.i&&(s.push("<i>"),l.push("</i>")),i.strike&&(s.push("<s>"),l.push("</s>"));var f=i.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(s.push("<"+f+">"),l.push("</"+f+">")),l.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),s6=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,o6=/<(?:\w+:)?r>/,l6=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $v(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=jt(vn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=vn(t),n&&(r.h=Lv(r.t))):t.match(o6)&&(r.r=vn(t),r.t=jt(vn((t.replace(l6,"").match(s6)||[]).join("").replace(Or,""))),n&&(r.h=a6(i6(r.r)))),r):{t:""}}var c6=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,u6=/<(?:\w+:)?(?:si|sstItem)>/g,f6=/<\/(?:\w+:)?(?:si|sstItem)>/;function d6(t,e){var n=[],r="";if(!t)return n;var i=t.match(c6);if(i){r=i[2].replace(u6,"").split(f6);for(var s=0;s!=r.length;++s){var l=$v(r[s].trim(),e);l!=null&&(n[n.length]=l)}i=pt(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function h6(t){return[t.read_shift(4),t.read_shift(4)]}function p6(t,e){var n=[],r=!1;return is(t,function(s,l,c){switch(c){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(l.T,!r||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),n}function jw(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function Ja(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function m6(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ja(t,4),e.U=Ja(t,4),e.W=Ja(t,4),e}function g6(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function v6(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(g6(t));return e}function x6(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function y6(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ja(t,4),e.U=Ja(t,4),e.W=Ja(t,4),e}function _6(t){var e=y6(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function $w(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function Kw(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function E6(t){var e=Ja(t);switch(e.Minor){case 2:return[e.Minor,T6(t)];case 3:return[e.Minor,A6()];case 4:return[e.Minor,S6(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function T6(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=$w(t,n),i=Kw(t,t.length-t.l);return{t:"Std",h:r,v:i}}function A6(){throw new Error("File is password-protected: ECMA-376 Extensible")}function S6(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Or,function(s){var l=pt(s);switch(wa(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(c){r[c]=l[c]});break;case"<dataIntegrity":r.encryptedHmacKey=l.encryptedHmacKey,r.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(l);break;default:throw l[0]}}),r}function w6(t,e){var n={},r=n.EncryptionVersionInfo=Ja(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=$w(t,i),e-=i,n.EncryptionVerifier=Kw(t,e),n}function C6(t){var e={},n=e.EncryptionVersionInfo=Ja(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function b6(t){var e=0,n,r=jw(t),i=r.length+1,s,l,c,f,d;for(n=Zs(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)l=n[s],c=(e&16384)===0?0:1,f=e<<1&32767,d=c|f,e=d^l;return e^52811}var Yw=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(l){return(l/2|l*128)&255},i=function(l,c){return r(l^c)},s=function(l){for(var c=e[l.length-1],f=104,d=l.length-1;d>=0;--d)for(var h=l[d],v=0;v!=7;++v)h&64&&(c^=n[f]),h*=2,--f;return c};return function(l){for(var c=jw(l),f=s(c),d=c.length,h=Zs(16),v=0;v!=16;++v)h[v]=0;var y,A,S;for((d&1)===1&&(y=f>>8,h[d]=i(t[0],y),--d,y=f&255,A=c[c.length-1],h[d]=i(A,y));d>0;)--d,y=f>>8,h[d]=i(c[d],y),--d,y=f&255,h[d]=i(c[d],y);for(d=15,S=15-c.length;S>0;)y=f>>8,h[d]=i(t[S],y),--d,--S,y=f&255,h[d]=i(c[d],y),--d,--S;return h}})(),N6=function(t,e,n,r,i){i||(i=e),r||(r=Yw(t));var s,l;for(s=0;s!=e.length;++s)l=e[s],l^=r[n],l=(l>>5|l<<3)&255,i[s]=l,++n;return[i,n,r]},I6=function(t){var e=0,n=Yw(t);return function(r){var i=N6("",r,e,n);return e=i[1],i[0]}};function R6(t,e,n,r){var i={key:Jn(t),verificationBytes:Jn(t)};return n.password&&(i.verifier=b6(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=I6(n.password)),i}function k6(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=C6(t):r.Data=w6(t,e),r}function D6(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?k6(t,e-2,r):R6(t,n.biff>=8?e:e-2,n,r),r}var M6=(function(){function t(i,s){switch(s.type){case"base64":return e(mi(i),s);case"binary":return e(i,s);case"buffer":return e(Ut&&Buffer.isBuffer(i)?i.toString("binary"):Zo(i),s);case"array":return e($o(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},c=l.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(h,v){Array.isArray(c)&&(c[v]=[]);for(var y=/\\\w+\b/g,A=0,S,w=-1;S=y.exec(h);){switch(S[0]){case"\\cell":var C=h.slice(A,y.lastIndex-S[0].length);if(C[0]==" "&&(C=C.slice(1)),++w,C.length){var O={v:C,t:"s"};Array.isArray(c)?c[v][w]=O:c[yt({r:v,c:w})]=O}break}A=y.lastIndex}w>d.e.c&&(d.e.c=w)}),c["!ref"]=Gt(d),c}function n(i,s){return oo(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],l=Mn(i["!ref"]),c,f=Array.isArray(i),d=l.s.r;d<=l.e.r;++d){s.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var v=yt({r:d,c:h});c=f?(i[d]||[])[h]:i[v],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Za(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function F6(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function pf(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function P6(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),l=i-s;if(l===0)return[0,0,e];var c=0,f=0,d=i+s;switch(f=l/(d>1?2-d:d),i){case e:c=((n-r)/l+6)%6;break;case n:c=(r-e)/l+2;break;case r:c=(e-n)/l+4;break}return[c/6,f,d/2]}function L6(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,l=[s,s,s],c=6*e,f;if(n!==0)switch(c|0){case 0:case 6:f=i*c,l[0]+=i,l[1]+=f;break;case 1:f=i*(2-c),l[0]+=f,l[1]+=i;break;case 2:f=i*(c-2),l[1]+=i,l[2]+=f;break;case 3:f=i*(4-c),l[1]+=f,l[2]+=i;break;case 4:f=i*(c-4),l[2]+=i,l[0]+=f;break;case 5:f=i*(6-c),l[2]+=f,l[0]+=i;break}for(var d=0;d!=3;++d)l[d]=Math.round(l[d]*255);return l}function Wh(t,e){if(e===0)return t;var n=P6(F6(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),pf(L6(n))}var Jw=6,O6=15,U6=1,zr=Jw;function Xh(t){return Math.floor((t+Math.round(128/zr)/256)*zr)}function Qh(t){return Math.floor((t-5)/zr*100+.5)/100}function kg(t){return Math.round((t*zr+5)/zr*256)/256}function tg(t){return kg(Qh(Xh(t)))}function Kv(t){var e=Math.abs(t-tg(t)),n=zr;if(e>.005)for(zr=U6;zr<O6;++zr)Math.abs(t-tg(t))<=e&&(e=Math.abs(t-tg(t)),n=zr);zr=n}function pc(t){t.width?(t.wpx=Xh(t.width),t.wch=Qh(t.wpx),t.MDW=zr):t.wpx?(t.wch=Qh(t.wpx),t.width=kg(t.wch),t.MDW=zr):typeof t.wch=="number"&&(t.width=kg(t.wch),t.wpx=Xh(t.width),t.MDW=zr),t.customWidth&&delete t.customWidth}var V6=96,Ww=V6;function Xw(t){return t*96/Ww}function mf(t){return t*Ww/96}var B6={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function H6(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Or)||[]).forEach(function(l){var c=pt(l);switch(wa(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},c.diagonalUp&&(i.diagonalUp=wn(c.diagonalUp)),c.diagonalDown&&(i.diagonalDown=wn(c.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in borders")}})}function G6(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Or)||[]).forEach(function(l){var c=pt(l);switch(wa(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":c.patternType&&(i.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),c.indexed&&(i.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(i.bgColor.theme=parseInt(c.theme,10)),c.tint&&(i.bgColor.tint=parseFloat(c.tint)),c.rgb&&(i.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),c.theme&&(i.fgColor.theme=parseInt(c.theme,10)),c.tint&&(i.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(i.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fills")}})}function z6(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Or)||[]).forEach(function(l){var c=pt(l);switch(wa(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":c.val&&(i.name=vn(c.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=c.val?wn(c.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=c.val?wn(c.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(c.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=c.val?wn(c.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=c.val?wn(c.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=c.val?wn(c.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=c.val?wn(c.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=c.val?wn(c.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":c.val&&(i.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(i.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(i.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(i.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=Iv[parseInt(c.val,10)];break;case"<color":if(i.color||(i.color={}),c.auto&&(i.color.auto=wn(c.auto)),c.rgb)i.color.rgb=c.rgb.slice(-6);else if(c.indexed){i.color.index=parseInt(c.indexed,10);var f=Ho[i.color.index];i.color.index==81&&(f=Ho[1]),f||(f=Ho[1]),i.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else c.theme&&(i.color.theme=parseInt(c.theme,10),c.tint&&(i.color.tint=parseFloat(c.tint)),c.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=Wh(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+c[0]+" in fonts")}})}function q6(t,e,n){e.NumberFmt=[];for(var r=Ta(St),i=0;i<r.length;++i)e.NumberFmt[r[i]]=St[r[i]];var s=t[0].match(Or);if(s)for(i=0;i<s.length;++i){var l=pt(s[i]);switch(wa(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=jt(vn(l.formatCode)),f=parseInt(l.numFmtId,10);if(e.NumberFmt[f]=c,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=c}Bo(c,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}var ph=["numFmtId","fillId","fontId","borderId","xfId"],mh=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function j6(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Or)||[]).forEach(function(s){var l=pt(s),c=0;switch(wa(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=l,delete r[0],c=0;c<ph.length;++c)r[ph[c]]&&(r[ph[c]]=parseInt(r[ph[c]],10));for(c=0;c<mh.length;++c)r[mh[c]]&&(r[mh[c]]=wn(r[mh[c]]));if(e.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[c]){r.numFmtId=c;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};l.vertical&&(f.vertical=l.vertical),l.horizontal&&(f.horizontal=l.horizontal),l.textRotation!=null&&(f.textRotation=l.textRotation),l.indent&&(f.indent=l.indent),l.wrapText&&(f.wrapText=wn(l.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}var $6=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,f,d){var h={};if(!c)return h;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var v;return(v=c.match(e))&&q6(v,h,d),(v=c.match(i))&&z6(v,h,f,d),(v=c.match(r))&&G6(v,h,f,d),(v=c.match(s))&&H6(v,h,f,d),(v=c.match(n))&&j6(v,h,d),h}})();function K6(t,e){var n=t.read_shift(2),r=Pr(t);return[n,r]}function Y6(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=iD(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(r.underline=l);var c=t.read_shift(1);c>0&&(r.family=c);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=rD(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Pr(t),r}var J6=Lr;function W6(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var X6=Lr;function Q6(t,e,n){var r={};r.NumberFmt=[];for(var i in St)r.NumberFmt[i]=St[i];r.CellXf=[],r.Fonts=[];var s=[],l=!1;return is(t,function(f,d,h){switch(h){case 44:r.NumberFmt[f[0]]=f[1],Bo(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=Wh(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:s.push(h),l=!0;break;case 38:s.pop(),l=!1;break;default:if(d.T>0)s.push(h);else if(d.T<0)s.pop();else if(!l||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}var Z6=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function eF(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Or)||[]).forEach(function(i){var s=pt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Z6.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function tF(){}function nF(){}var rF=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,iF=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,aF=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function sF(t,e,n){e.themeElements={};var r;[["clrScheme",rF,eF],["fontScheme",iF,tF],["fmtScheme",aF,nF]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var oF=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Qw(t,e){(!t||t.length===0)&&(t=lF());var n,r={};if(!(n=t.match(oF)))throw new Error("themeElements not found in theme");return sF(n[0],r,e),r.raw=t,r}function lF(t,e){var n=[cw];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function cF(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var l;try{l=lw(s,{type:"array"})}catch{return}var c=pi(l,"theme/theme/theme1.xml",!0);if(c)return Qw(c,n)}}function uF(t){return t.read_shift(4)}function fF(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=dF(t,4);break;case 2:e.xclrValue=Uw(t);break;case 3:e.xclrValue=uF(t);break;case 4:t.l+=4;break}return t.l+=8,e}function dF(t,e){return Lr(t,e)}function hF(t,e){return Lr(t,e)}function pF(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=fF(t);break;case 6:r[1]=hF(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function mF(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(pF(t,n-t.l));return{ixfe:r,ext:s}}function gF(t,e){e.forEach(function(n){n[0]})}function vF(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Pr(t)}}function xF(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function yF(t){return t.l+=4,t.read_shift(4)!=0}function _F(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],l=!1,c=2;return is(t,function(f,d,h){switch(h){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(v){c==1?r.Cell.push({type:r.Types[v[0]-1].name,index:v[1]}):c==0&&r.Value.push({type:r.Types[v[0]-1].name,index:v[1]})});break;case 337:c=f?1:0;break;case 338:c=2;break;case 35:s.push(h),l=!0;break;case 36:s.pop(),l=!1;break;default:if(!d.T){if(!l||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function EF(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,l;return t.replace(Or,function(c){var f=pt(c);switch(wa(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var d=0;d<r.Types.length;++d)r.Types[d].name==f.name&&(l=r.Types[d]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):s==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+f.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return c}),r}function TF(t){var e=[];if(!t)return e;var n=1;return(t.match(Or)||[]).forEach(function(r){var i=pt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function AF(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=yt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function SF(t,e,n){var r=[];return is(t,function(s,l,c){switch(c){case 63:r.push(s);break;default:if(!l.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function wF(t,e,n,r){if(!t)return t;var i=r||{},s=!1;is(t,function(c,f,d){switch(d){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!f.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}},i)}function CF(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function yT(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(l){var c=qr(l.ref);if(i?(t[c.r]||(t[c.r]=[]),s=t[c.r][c.c]):s=t[l.ref],!s){s={t:"z"},i?t[c.r][c.c]=s:t[l.ref]=s;var f=Mn(t["!ref"]||"BDWGO1000001:A1");f.s.r>c.r&&(f.s.r=c.r),f.e.r<c.r&&(f.e.r=c.r),f.s.c>c.c&&(f.s.c=c.c),f.e.c<c.c&&(f.e.c=c.c);var d=Gt(f);d!==t["!ref"]&&(t["!ref"]=d)}s.c||(s.c=[]);var h={a:l.author,t:l.t,r:l.r,T:n};l.h&&(h.h=l.h);for(var v=s.c.length-1;v>=0;--v){if(!n&&s.c[v].T)return;n&&!s.c[v].T&&s.c.splice(v,1)}if(n&&r){for(v=0;v<r.length;++v)if(h.a==r[v].id){h.a=r[v].name||h.a;break}}s.c.push(h)})}function bF(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&n.push(c[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var c=l.match(/<(?:\w+:)?comment[^>]*>/);if(c){var f=pt(c[0]),d={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},h=qr(f.ref);if(!(e.sheetRows&&e.sheetRows<=h.r)){var v=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),y=!!v&&!!v[1]&&$v(v[1])||{r:"",t:"",h:""};d.r=y.r,y.r=="<t></t>"&&(y.t=y.h=""),d.t=(y.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(d.h=y.h),r.push(d)}}}}),r}function NF(t,e){var n=[],r=!1,i={},s=0;return t.replace(Or,function(c,f){var d=pt(c);switch(wa(d[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:d.personId,guid:d.id,ref:d.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=f+c.length;break;case"</text>":i.t=t.slice(s,f).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in threaded comments")}return c}),n}function IF(t,e){var n=[],r=!1;return t.replace(Or,function(s){var l=pt(s);switch(wa(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return s}),n}function RF(t){var e={};e.iauthor=t.read_shift(4);var n=tl(t);return e.rfx=n.s,e.ref=yt(n.s),t.l+=16,e}var kF=Pr;function DF(t,e){var n=[],r=[],i={},s=!1;return is(t,function(c,f,d){switch(d){case 632:r.push(c);break;case 635:i=c;break;case 637:i.t=c.t,i.h=c.h,i.r=c.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}var MF="application/vnd.ms-office.vbaProject";function FF(t){var e=Ht.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ht.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Ht.write(e)}function PF(){return{"!type":"dialog"}}function LF(){return{"!type":"dialog"}}function OF(){return{"!type":"macro"}}function UF(){return{"!type":"macro"}}var sc=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,l){var c=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return c?h+=e.c:--h,f?d+=e.r:--d,i+(c?"":"$")+tr(h)+(f?"":"$")+Er(d)}return function(i,s){return e=s,i.replace(t,n)}})(),Zw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VF=(function(){return function(e,n){return e.replace(Zw,function(r,i,s,l,c,f){var d=Bv(l)-(s?0:n.c),h=Vv(f)-(c?0:n.r),v=h==0?"":c?h+1:"["+h+"]",y=d==0?"":s?d+1:"["+d+"]";return i+"R"+v+"C"+y})}})();function eC(t,e){return t.replace(Zw,function(n,r,i,s,l,c){return r+(i=="$"?i+s:tr(Bv(s)+e.c))+(l=="$"?l+c:Er(Vv(c)+e.r))})}function BF(t,e,n){var r=Ec(e),i=r.s,s=qr(n),l={r:s.r-i.r,c:s.c-i.c};return eC(t,l)}function HF(t){return t.length!=1}function _T(t){return t.replace(/_xlfn\./g,"")}function $n(t){t.l+=1}function eo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function tC(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return nC(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),l=eo(t),c=eo(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function nC(t){var e=eo(t),n=eo(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function GF(t,e,n){if(n.biff<8)return nC(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=eo(t),l=eo(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function rC(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return zF(t);var r=t.read_shift(n&&n.biff==12?4:2),i=eo(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function zF(t){var e=eo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function qF(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function jF(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return $F(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:c}}function $F(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function KF(t,e,n){var r=(t[t.l++]&96)>>5,i=tC(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function YF(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var l=tC(t,s,n);return[r,i,l]}function JF(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function WF(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function XF(t,e,n){var r=(t[t.l++]&96)>>5,i=GF(t,e-1,n);return[r,i]}function QF(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function ET(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function ZF(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function eP(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function tP(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function nP(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function rP(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function iC(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function iP(t){return t.read_shift(2),iC(t)}function aP(t){return t.read_shift(2),iC(t)}function sP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=rC(t,0,n);return[r,i]}function oP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=jF(t,0,n);return[r,i]}function lP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=rC(t,0,n);return[r,i,s]}function cP(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[u5[i],oC[i],r]}function uP(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:fP(t);return[i,(s[0]===0?oC:c5)[s[1]]]}function fP(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function dP(t,e,n){t.l+=n&&n.biff==2?3:4}function hP(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function pP(t){return t.l++,nl[t.read_shift(1)]}function mP(t){return t.l++,t.read_shift(2)}function gP(t){return t.l++,t.read_shift(1)!==0}function vP(t){return t.l++,Dr(t)}function xP(t,e,n){return t.l++,Mf(t,e-1,n)}function yP(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Un(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=nl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Dr(t);break;case 2:n[1]=rl(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function _P(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?tl:I0)(t));return i}function EP(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var c=0;c!=i;++c)l[s][c]=yP(t,n.biff);return l}function TP(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function AP(t,e,n){if(n.biff==5)return SP(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function SP(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function wP(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function CP(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function bP(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function NP(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var IP=Lr,RP=Lr,kP=Lr;function Pf(t,e,n){return t.l+=2,[qF(t)]}function Yv(t){return t.l+=6,[]}var DP=Pf,MP=Yv,FP=Yv,PP=Pf;function aC(t){return t.l+=2,[Jn(t),t.read_shift(2)&1]}var LP=Pf,OP=aC,UP=Yv,VP=Pf,BP=Pf,HP=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function GP(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),l=HP[n>>2&31];return{ixti:e,coltype:n&3,rt:l,idx:r,c:i,C:s}}function zP(t){return t.l+=2,[t.read_shift(4)]}function qP(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function jP(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function $P(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function KP(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function YP(t){return t.l+=4,[0,0]}var TT={1:{n:"PtgExp",f:hP},2:{n:"PtgTbl",f:kP},3:{n:"PtgAdd",f:$n},4:{n:"PtgSub",f:$n},5:{n:"PtgMul",f:$n},6:{n:"PtgDiv",f:$n},7:{n:"PtgPower",f:$n},8:{n:"PtgConcat",f:$n},9:{n:"PtgLt",f:$n},10:{n:"PtgLe",f:$n},11:{n:"PtgEq",f:$n},12:{n:"PtgGe",f:$n},13:{n:"PtgGt",f:$n},14:{n:"PtgNe",f:$n},15:{n:"PtgIsect",f:$n},16:{n:"PtgUnion",f:$n},17:{n:"PtgRange",f:$n},18:{n:"PtgUplus",f:$n},19:{n:"PtgUminus",f:$n},20:{n:"PtgPercent",f:$n},21:{n:"PtgParen",f:$n},22:{n:"PtgMissArg",f:$n},23:{n:"PtgStr",f:xP},26:{n:"PtgSheet",f:qP},27:{n:"PtgEndSheet",f:jP},28:{n:"PtgErr",f:pP},29:{n:"PtgBool",f:gP},30:{n:"PtgInt",f:mP},31:{n:"PtgNum",f:vP},32:{n:"PtgArray",f:QF},33:{n:"PtgFunc",f:cP},34:{n:"PtgFuncVar",f:uP},35:{n:"PtgName",f:TP},36:{n:"PtgRef",f:sP},37:{n:"PtgArea",f:KF},38:{n:"PtgMemArea",f:wP},39:{n:"PtgMemErr",f:IP},40:{n:"PtgMemNoMem",f:RP},41:{n:"PtgMemFunc",f:CP},42:{n:"PtgRefErr",f:bP},43:{n:"PtgAreaErr",f:JF},44:{n:"PtgRefN",f:oP},45:{n:"PtgAreaN",f:XF},46:{n:"PtgMemAreaN",f:$P},47:{n:"PtgMemNoMemN",f:KP},57:{n:"PtgNameX",f:AP},58:{n:"PtgRef3d",f:lP},59:{n:"PtgArea3d",f:YF},60:{n:"PtgRefErr3d",f:NP},61:{n:"PtgAreaErr3d",f:WF},255:{}},JP={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},WP={1:{n:"PtgElfLel",f:aC},2:{n:"PtgElfRw",f:VP},3:{n:"PtgElfCol",f:DP},6:{n:"PtgElfRwV",f:BP},7:{n:"PtgElfColV",f:PP},10:{n:"PtgElfRadical",f:LP},11:{n:"PtgElfRadicalS",f:UP},13:{n:"PtgElfColS",f:MP},15:{n:"PtgElfColSV",f:FP},16:{n:"PtgElfRadicalLel",f:OP},25:{n:"PtgList",f:GP},29:{n:"PtgSxName",f:zP},255:{}},XP={0:{n:"PtgAttrNoop",f:YP},1:{n:"PtgAttrSemi",f:rP},2:{n:"PtgAttrIf",f:tP},4:{n:"PtgAttrChoose",f:ZF},8:{n:"PtgAttrGoto",f:eP},16:{n:"PtgAttrSum",f:dP},32:{n:"PtgAttrBaxcel",f:ET},33:{n:"PtgAttrBaxcel",f:ET},64:{n:"PtgAttrSpace",f:iP},65:{n:"PtgAttrSpaceSemi",f:aP},128:{n:"PtgAttrIfError",f:nP},255:{}};function Lf(t,e,n,r){if(r.biff<8)return Lr(t,e);for(var i=t.l+e,s=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=EP(t,0,r),s.push(n[l][1]);break;case"PtgMemArea":n[l][2]=_P(t,n[l][1],r),s.push(n[l][2]);break;case"PtgExp":r&&r.biff==12&&(n[l][1][1]=t.read_shift(4),s.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return e=i-t.l,e!==0&&s.push(Lr(t,e)),s}function Of(t,e,n){for(var r=t.l+e,i,s,l=[];r!=t.l;)e=r-t.l,s=t[t.l],i=TT[s]||TT[JP[s]],(s===24||s===25)&&(i=(s===24?WP:XP)[t[t.l+1]]),!i||!i.f?Lr(t,e):l.push([i.n,i.f(t,e,n)]);return l}function QP(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var ZP={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function e5(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function sC(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function AT(t,e,n){var r=sC(t,e,n);return r=="#REF"?r:e5(r,n)}function Rr(t,e,n,r,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},c=[],f,d,h,v=0,y=0,A,S="";if(!t[0]||!t[0][0])return"";for(var w=-1,C="",O=0,H=t[0].length;O<H;++O){var D=t[0][O];switch(D[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=c.pop(),d=c.pop(),w>=0){switch(t[0][w][1][0]){case 0:C=Dn(" ",t[0][w][1][1]);break;case 1:C=Dn("\r",t[0][w][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}d=d+C,w=-1}c.push(d+ZP[D[0]]+f);break;case"PtgIsect":f=c.pop(),d=c.pop(),c.push(d+" "+f);break;case"PtgUnion":f=c.pop(),d=c.pop(),c.push(d+","+f);break;case"PtgRange":f=c.pop(),d=c.pop(),c.push(d+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=qu(D[1][1],l,i),c.push(ju(h,s));break;case"PtgRefN":h=n?qu(D[1][1],n,i):D[1][1],c.push(ju(h,s));break;case"PtgRef3d":v=D[1][1],h=qu(D[1][2],l,i),S=AT(r,v,i),c.push(S+"!"+ju(h,s));break;case"PtgFunc":case"PtgFuncVar":var z=D[1][0],G=D[1][1];z||(z=0),z&=127;var j=z==0?[]:c.slice(-z);c.length-=z,G==="User"&&(G=j.shift()),c.push(G+"("+j.join(",")+")");break;case"PtgBool":c.push(D[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(D[1]);break;case"PtgNum":c.push(String(D[1]));break;case"PtgStr":c.push('"'+D[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(D[1]);break;case"PtgAreaN":A=rT(D[1][1],n?{s:n}:l,i),c.push(Zm(A,i));break;case"PtgArea":A=rT(D[1][1],l,i),c.push(Zm(A,i));break;case"PtgArea3d":v=D[1][1],A=D[1][2],S=AT(r,v,i),c.push(S+"!"+Zm(A,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=D[1][2];var I=(r.names||[])[y-1]||(r[0]||[])[y],N=I?I.Name:"SH33TJSNAME"+String(y);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),c.push(N);break;case"PtgNameX":var b=D[1][1];y=D[1][2];var P;if(i.biff<=5)b<0&&(b=-b),r[b]&&(P=r[b][y]);else{var M="";if(((r[b]||[])[0]||[])[0]==14849||(((r[b]||[])[0]||[])[0]==1025?r[b][y]&&r[b][y].itab>0&&(M=r.SheetNames[r[b][y].itab-1]+"!"):M=r.SheetNames[y-1]+"!"),r[b]&&r[b][y])M+=r[b][y].Name;else if(r[0]&&r[0][y])M+=r[0][y].Name;else{var k=(sC(r,b,i)||"").split(";;");k[y-1]?M=k[y-1]:M+="SH33TJSERRX"}c.push(M);break}P||(P={Name:"SH33TJSERRY"}),c.push(P.Name);break;case"PtgParen":var U="(",Te=")";if(w>=0){switch(C="",t[0][w][1][0]){case 2:U=Dn(" ",t[0][w][1][1])+U;break;case 3:U=Dn("\r",t[0][w][1][1])+U;break;case 4:Te=Dn(" ",t[0][w][1][1])+Te;break;case 5:Te=Dn("\r",t[0][w][1][1])+Te;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}c.push(U+c.pop()+Te);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:D[1][1],r:D[1][0]};var Ae={c:n.c,r:n.r};if(r.sharedf[yt(h)]){var ae=r.sharedf[yt(h)];c.push(Rr(ae,l,Ae,r,i))}else{var le=!1;for(f=0;f!=r.arrayf.length;++f)if(d=r.arrayf[f],!(h.c<d[0].s.c||h.c>d[0].e.c)&&!(h.r<d[0].s.r||h.r>d[0].e.r)){c.push(Rr(d[1],l,Ae,r,i)),le=!0;break}le||c.push(D[1])}break;case"PtgArray":c.push("{"+QP(D[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+D[1].idx+"[#"+D[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(D));default:throw new Error("Unrecognized Formula Token: "+String(D))}var Ne=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&Ne.indexOf(t[0][O][0])==-1){D=t[0][w];var ie=!0;switch(D[1][0]){case 4:ie=!1;case 0:C=Dn(" ",D[1][1]);break;case 5:ie=!1;case 1:C=Dn("\r",D[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+D[1][0])}c.push((ie?C:"")+c.pop()+(ie?"":C)),w=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function t5(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,l=t.read_shift(i);if(l==65535)return[[],Lr(t,e-2)];var c=Of(t,l,n);return e!==l+i&&(s=Lf(t,e-l-i,c,n)),t.l=r,[c,s]}function n5(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,l=t.read_shift(i);if(l==65535)return[[],Lr(t,e-2)];var c=Of(t,l,n);return e!==l+i&&(s=Lf(t,e-l-i,c,n)),t.l=r,[c,s]}function r5(t,e,n,r){var i=t.l+e,s=Of(t,r,n),l;return i!==t.l&&(l=Lf(t,i-t.l,s,n)),[s,l]}function i5(t,e,n){var r=t.l+e,i,s=t.read_shift(2),l=Of(t,s,n);return s==65535?[[],Lr(t,e-2)]:(e!==s+2&&(i=Lf(t,r-s-2,l,n)),[l,i])}function a5(t){var e;if(Ka(t,t.l+6)!==65535)return[Dr(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function ng(t,e,n){var r=t.l+e,i=Ca(t);n.biff==2&&++t.l;var s=a5(t),l=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var c=n5(t,r-t.l,n);return{cell:i,val:s[0],formula:c,shared:l>>3&1,tt:s[1]}}function R0(t,e,n){var r=t.read_shift(4),i=Of(t,r,n),s=t.read_shift(4),l=s>0?Lf(t,s,i,n):null;return[i,l]}var s5=R0,k0=R0,o5=R0,l5=R0,c5={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},oC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},u5={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ST(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function rg(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Ju={},oc={};function Wu(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function lC(t,e,n,r,i,s){try{r.cellNF&&(t.z=St[e])}catch(c){if(r.WTF)throw c}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=ur(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(St[e]==null&&Bo(f3[e]||"General",e),t.t==="e")t.w=t.w||nl[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=uf(t.v);else if(t.t==="d"){var l=$r(t.v);(l|0)===l?t.w=l.toString(10):t.w=uf(l)}else{if(t.v===void 0)return"";t.w=jo(t.v,oc)}else t.t==="d"?t.w=Mi(e,$r(t.v),oc):t.w=Mi(e,t.v,oc)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Wh(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Wh(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&s.Fills)throw c}}}function f5(t,e){var n=Mn(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Gt(n))}var d5=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,h5=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,p5=/<(?:\w:)?hyperlink [^>]*>/mg,m5=/"(\w*:\w*)"/,g5=/<(?:\w:)?col\b[^>]*[\/]?>/g,v5=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,x5=/<(?:\w:)?pageMargins[^>]*\/>/g,cC=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,y5=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,_5=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function E5(t,e,n,r,i,s,l){if(!t)return t;r||(r={"!id":{}});var c=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},d="",h="",v=t.match(h5);v?(d=t.slice(0,v.index),h=t.slice(v.index+v[0].length)):d=h=t;var y=d.match(cC);y?Jv(y[0],c,i,n):(y=d.match(y5))&&T5(y[0],y[1]||"",c,i,n);var A=(d.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(A>0){var S=d.slice(A,A+50).match(m5);S&&f5(c,S[1])}var w=d.match(_5);w&&w[1]&&N5(w[1],i);var C=[];if(e.cellStyles){var O=d.match(g5);O&&w5(C,O)}v&&I5(v[1],c,e,f,s,l);var H=h.match(v5);H&&(c["!autofilter"]=C5(H[0]));var D=[],z=h.match(d5);if(z)for(A=0;A!=z.length;++A)D[A]=Mn(z[A].slice(z[A].indexOf('"')+1));var G=h.match(p5);G&&A5(c,G,r);var j=h.match(x5);if(j&&(c["!margins"]=S5(pt(j[0]))),!c["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(c["!ref"]=Gt(f)),e.sheetRows>0&&c["!ref"]){var I=Mn(c["!ref"]);e.sheetRows<=+I.e.r&&(I.e.r=e.sheetRows-1,I.e.r>f.e.r&&(I.e.r=f.e.r),I.e.r<I.s.r&&(I.s.r=I.e.r),I.e.c>f.e.c&&(I.e.c=f.e.c),I.e.c<I.s.c&&(I.s.c=I.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Gt(I))}return C.length>0&&(c["!cols"]=C),D.length>0&&(c["!merges"]=D),c}function Jv(t,e,n,r){var i=pt(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=jt(vn(i.codeName)))}function T5(t,e,n,r,i){Jv(t.slice(0,t.indexOf(">")),n,r,i)}function A5(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=pt(vn(e[i]),!0);if(!s.ref)return;var l=((n||{})["!id"]||[])[s.id];l?(s.Target=l.Target,s.location&&(s.Target+="#"+jt(s.location))):(s.Target="#"+jt(s.location),l={Target:s.Target,TargetMode:"Internal"}),s.Rel=l,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var c=Mn(s.ref),f=c.s.r;f<=c.e.r;++f)for(var d=c.s.c;d<=c.e.c;++d){var h=yt({c:d,r:f});r?(t[f]||(t[f]=[]),t[f][d]||(t[f][d]={t:"z",v:void 0}),t[f][d].l=s):(t[h]||(t[h]={t:"z",v:void 0}),t[h].l=s)}}}function S5(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function w5(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=pt(e[r],!0);i.hidden&&(i.hidden=wn(i.hidden));var s=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Kv(i.width)),pc(i);s<=l;)t[s++]=_r(i)}}function C5(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var b5=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function N5(t,e){e.Views||(e.Views=[{}]),(t.match(b5)||[]).forEach(function(n,r){var i=pt(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),wn(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var I5=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=ff("v"),l=ff("f");return function(f,d,h,v,y,A){for(var S=0,w="",C=[],O=[],H=0,D=0,z=0,G="",j,I,N=0,b=0,P,M,k=0,U=0,Te=Array.isArray(A.CellXf),Ae,ae=[],le=[],Ne=Array.isArray(d),ie=[],Fe={},X=!1,B=!!h.sheetStubs,Q=f.split(e),Z=0,te=Q.length;Z!=te;++Z){w=Q[Z].trim();var ue=w.length;if(ue!==0){var be=0;e:for(S=0;S<ue;++S)switch(w[S]){case">":if(w[S-1]!="/"){++S;break e}if(h&&h.cellStyles){if(I=pt(w.slice(be,S),!0),N=I.r!=null?parseInt(I.r,10):N+1,b=-1,h.sheetRows&&h.sheetRows<N)continue;Fe={},X=!1,I.ht&&(X=!0,Fe.hpt=parseFloat(I.ht),Fe.hpx=mf(Fe.hpt)),I.hidden=="1"&&(X=!0,Fe.hidden=!0),I.outlineLevel!=null&&(X=!0,Fe.level=+I.outlineLevel),X&&(ie[N-1]=Fe)}break;case"<":be=S;break}if(be>=S)break;if(I=pt(w.slice(be,S),!0),N=I.r!=null?parseInt(I.r,10):N+1,b=-1,!(h.sheetRows&&h.sheetRows<N)){v.s.r>N-1&&(v.s.r=N-1),v.e.r<N-1&&(v.e.r=N-1),h&&h.cellStyles&&(Fe={},X=!1,I.ht&&(X=!0,Fe.hpt=parseFloat(I.ht),Fe.hpx=mf(Fe.hpt)),I.hidden=="1"&&(X=!0,Fe.hidden=!0),I.outlineLevel!=null&&(X=!0,Fe.level=+I.outlineLevel),X&&(ie[N-1]=Fe)),C=w.slice(S).split(t);for(var Ce=0;Ce!=C.length&&C[Ce].trim().charAt(0)=="<";++Ce);for(C=C.slice(Ce),S=0;S!=C.length;++S)if(w=C[S].trim(),w.length!==0){if(O=w.match(n),H=S,D=0,z=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,O!=null&&O.length===2){for(H=0,G=O[1],D=0;D!=G.length&&!((z=G.charCodeAt(D)-64)<1||z>26);++D)H=26*H+z;--H,b=H}else++b;for(D=0;D!=w.length&&w.charCodeAt(D)!==62;++D);if(++D,I=pt(w.slice(0,D),!0),I.r||(I.r=yt({r:N-1,c:b})),G=w.slice(D),j={t:""},(O=G.match(s))!=null&&O[1]!==""&&(j.v=jt(O[1])),h.cellFormula){if((O=G.match(l))!=null&&O[1]!==""){if(j.f=jt(vn(O[1])).replace(/\r\n/g,`
`),h.xlfn||(j.f=_T(j.f)),O[0].indexOf('t="array"')>-1)j.F=(G.match(i)||[])[1],j.F.indexOf(":")>-1&&ae.push([Mn(j.F),j.F]);else if(O[0].indexOf('t="shared"')>-1){M=pt(O[0]);var we=jt(vn(O[1]));h.xlfn||(we=_T(we)),le[parseInt(M.si,10)]=[M,we,I.r]}}else(O=G.match(/<f[^>]*\/>/))&&(M=pt(O[0]),le[M.si]&&(j.f=BF(le[M.si][1],le[M.si][2],I.r)));var Ie=qr(I.r);for(D=0;D<ae.length;++D)Ie.r>=ae[D][0].s.r&&Ie.r<=ae[D][0].e.r&&Ie.c>=ae[D][0].s.c&&Ie.c<=ae[D][0].e.c&&(j.F=ae[D][1])}if(I.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(B)j.t="z";else continue;else j.t=I.t||"n";switch(v.s.c>b&&(v.s.c=b),v.e.c<b&&(v.e.c=b),j.t){case"n":if(j.v==""||j.v==null){if(!B)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!B)continue;j.t="z"}else P=Ju[parseInt(j.v,10)],j.v=P.t,j.r=P.r,h.cellHTML&&(j.h=P.h);break;case"str":j.t="s",j.v=j.v!=null?vn(j.v):"",h.cellHTML&&(j.h=Lv(j.v));break;case"inlineStr":O=G.match(r),j.t="s",O!=null&&(P=$v(O[1]))?(j.v=P.t,h.cellHTML&&(j.h=P.h)):j.v="";break;case"b":j.v=wn(j.v);break;case"d":h.cellDates?j.v=ur(j.v,1):(j.v=$r(ur(j.v,1)),j.t="n");break;case"e":(!h||h.cellText!==!1)&&(j.w=j.v),j.v=Rw[j.v];break}if(k=U=0,Ae=null,Te&&I.s!==void 0&&(Ae=A.CellXf[I.s],Ae!=null&&(Ae.numFmtId!=null&&(k=Ae.numFmtId),h.cellStyles&&Ae.fillId!=null&&(U=Ae.fillId))),lC(j,k,U,h,y,A),h.cellDates&&Te&&j.t=="n"&&_c(St[k])&&(j.t="d",j.v=N0(j.v)),I.cm&&h.xlmeta){var $e=(h.xlmeta.Cell||[])[+I.cm-1];$e&&$e.type=="XLDAPR"&&(j.D=!0)}if(Ne){var ne=qr(I.r);d[ne.r]||(d[ne.r]=[]),d[ne.r][ne.c]=j}else d[I.r]=j}}}}ie.length>0&&(d["!rows"]=ie)}})();function R5(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var k5=tl;function D5(){}function M5(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=tD(t),n}function F5(t){var e=Pi(t);return[e]}function P5(t){var e=el(t);return[e]}function L5(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"b"]}function O5(t){var e=el(t),n=t.read_shift(1);return[e,n,"b"]}function U5(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"e"]}function V5(t){var e=el(t),n=t.read_shift(1);return[e,n,"e"]}function B5(t){var e=Pi(t),n=t.read_shift(4);return[e,n,"s"]}function H5(t){var e=el(t),n=t.read_shift(4);return[e,n,"s"]}function G5(t){var e=Pi(t),n=Dr(t);return[e,n,"n"]}function uC(t){var e=el(t),n=Dr(t);return[e,n,"n"]}function z5(t){var e=Pi(t),n=zv(t);return[e,n,"n"]}function q5(t){var e=el(t),n=zv(t);return[e,n,"n"]}function j5(t){var e=Pi(t),n=Hv(t);return[e,n,"is"]}function $5(t){var e=Pi(t),n=Pr(t);return[e,n,"str"]}function K5(t){var e=el(t),n=Pr(t);return[e,n,"str"]}function Y5(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),l=[i,s,"b"];if(n.cellFormula){t.l+=2;var c=k0(t,r-t.l,n);l[3]=Rr(c,null,i,n.supbooks,n)}else t.l=r;return l}function J5(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),l=[i,s,"e"];if(n.cellFormula){t.l+=2;var c=k0(t,r-t.l,n);l[3]=Rr(c,null,i,n.supbooks,n)}else t.l=r;return l}function W5(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Dr(t),l=[i,s,"n"];if(n.cellFormula){t.l+=2;var c=k0(t,r-t.l,n);l[3]=Rr(c,null,i,n.supbooks,n)}else t.l=r;return l}function X5(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Pr(t),l=[i,s,"str"];if(n.cellFormula){t.l+=2;var c=k0(t,r-t.l,n);l[3]=Rr(c,null,i,n.supbooks,n)}else t.l=r;return l}var Q5=tl;function Z5(t,e){var n=t.l+e,r=tl(t),i=Gv(t),s=Pr(t),l=Pr(t),c=Pr(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:c};return l&&(f.Tooltip=l),f}function eL(){}function tL(t,e,n){var r=t.l+e,i=bw(t),s=t.read_shift(1),l=[i];if(l[2]=s,n.cellFormula){var c=s5(t,r-t.l,n);l[1]=c}else t.l=r;return l}function nL(t,e,n){var r=t.l+e,i=tl(t),s=[i];if(n.cellFormula){var l=l5(t,r-t.l,n);s[1]=l,t.l=r}else t.l=r;return s}var rL=["left","right","top","bottom","header","footer"];function iL(t){var e={};return rL.forEach(function(n){e[n]=Dr(t)}),e}function aL(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function sL(){}function oL(){}function lL(t,e,n,r,i,s,l){if(!t)return t;var c=e||{};r||(r={"!id":{}});var f=c.dense?[]:{},d,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,y=!1,A,S,w,C,O,H,D,z,G,j=[];c.biff=12,c["!row"]=0;var I=0,N=!1,b=[],P={},M=c.supbooks||i.supbooks||[[]];if(M.sharedf=P,M.arrayf=b,M.SheetNames=i.SheetNames||i.Sheets.map(function(Ne){return Ne.name}),!c.supbooks&&(c.supbooks=M,i.Names))for(var k=0;k<i.Names.length;++k)M[0][k+1]=i.Names[k];var U=[],Te=[],Ae=!1;Zh[16]={n:"BrtShortReal",f:uC};var ae;if(is(t,function(ie,Fe,X){if(!y)switch(X){case 148:d=ie;break;case 0:A=ie,c.sheetRows&&c.sheetRows<=A.r&&(y=!0),z=Er(C=A.r),c["!row"]=A.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=mf(ie.hpt)),Te[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(S={t:ie[2]},ie[2]){case"n":S.v=ie[1];break;case"s":D=Ju[ie[1]],S.v=D.t,S.r=D.r;break;case"b":S.v=!!ie[1];break;case"e":S.v=ie[1],c.cellText!==!1&&(S.w=nl[S.v]);break;case"str":S.t="s",S.v=ie[1];break;case"is":S.t="s",S.v=ie[1].t;break}if((w=l.CellXf[ie[0].iStyleRef])&&lC(S,w.numFmtId,null,c,s,l),O=ie[0].c==-1?O+1:ie[0].c,c.dense?(f[C]||(f[C]=[]),f[C][O]=S):f[tr(O)+z]=S,c.cellFormula){for(N=!1,I=0;I<b.length;++I){var B=b[I];A.r>=B[0].s.r&&A.r<=B[0].e.r&&O>=B[0].s.c&&O<=B[0].e.c&&(S.F=Gt(B[0]),N=!0)}!N&&ie.length>3&&(S.f=ie[3])}if(h.s.r>A.r&&(h.s.r=A.r),h.s.c>O&&(h.s.c=O),h.e.r<A.r&&(h.e.r=A.r),h.e.c<O&&(h.e.c=O),c.cellDates&&w&&S.t=="n"&&_c(St[w.numFmtId])){var Q=Uo(S.v);Q&&(S.t="d",S.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 1:case 12:if(!c.sheetStubs||v)break;S={t:"z",v:void 0},O=ie[0].c==-1?O+1:ie[0].c,c.dense?(f[C]||(f[C]=[]),f[C][O]=S):f[tr(O)+z]=S,h.s.r>A.r&&(h.s.r=A.r),h.s.c>O&&(h.s.c=O),h.e.r<A.r&&(h.e.r=A.r),h.e.c<O&&(h.e.c=O),ae&&(ae.type=="XLDAPR"&&(S.D=!0),ae=void 0);break;case 176:j.push(ie);break;case 49:ae=((c.xlmeta||{}).Cell||[])[ie-1];break;case 494:var Z=r["!id"][ie.relId];for(Z?(ie.Target=Z.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=Z):ie.relId==""&&(ie.Target="#"+ie.loc),C=ie.rfx.s.r;C<=ie.rfx.e.r;++C)for(O=ie.rfx.s.c;O<=ie.rfx.e.c;++O)c.dense?(f[C]||(f[C]=[]),f[C][O]||(f[C][O]={t:"z",v:void 0}),f[C][O].l=ie):(H=yt({c:O,r:C}),f[H]||(f[H]={t:"z",v:void 0}),f[H].l=ie);break;case 426:if(!c.cellFormula)break;b.push(ie),G=c.dense?f[C][O]:f[tr(O)+z],G.f=Rr(ie[1],h,{r:A.r,c:O},M,c),G.F=Gt(ie[0]);break;case 427:if(!c.cellFormula)break;P[yt(ie[0].s)]=ie[1],G=c.dense?f[C][O]:f[tr(O)+z],G.f=Rr(ie[1],h,{r:A.r,c:O},M,c);break;case 60:if(!c.cellStyles)break;for(;ie.e>=ie.s;)U[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},Ae||(Ae=!0,Kv(ie.w/256)),pc(U[ie.e+1]);break;case 161:f["!autofilter"]={ref:Gt(ie)};break;case 476:f["!margins"]=ie;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ie.name&&(i.Sheets[n].CodeName=ie.name),(ie.above||ie.left)&&(f["!outline"]={above:ie.above,left:ie.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ie.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:v=!0;break;case 36:v=!1;break;case 37:v=!0;break;case 38:v=!1;break;default:if(!Fe.T){if(!v||c.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},c),delete c.supbooks,delete c["!row"],!f["!ref"]&&(h.s.r<2e6||d&&(d.e.r>0||d.e.c>0||d.s.r>0||d.s.c>0))&&(f["!ref"]=Gt(d||h)),c.sheetRows&&f["!ref"]){var le=Mn(f["!ref"]);c.sheetRows<=+le.e.r&&(le.e.r=c.sheetRows-1,le.e.r>h.e.r&&(le.e.r=h.e.r),le.e.r<le.s.r&&(le.s.r=le.e.r),le.e.c>h.e.c&&(le.e.c=h.e.c),le.e.c<le.s.c&&(le.s.c=le.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Gt(le))}return j.length>0&&(f["!merges"]=j),U.length>0&&(f["!cols"]=U),Te.length>0&&(f["!rows"]=Te),f}function cL(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var l=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(e[+l[1]]=n?+l[2]:l[2])});var i=jt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function uL(t,e,n,r,i,s){var l=s||{"!type":"chart"};if(!t)return s;var c=0,f=0,d="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(v){var y=cL(v);h.s.r=h.s.c=0,h.e.c=c,d=tr(c),y[0].forEach(function(A,S){l[d+Er(S)]={t:"n",v:A,z:y[1]},f=S}),h.e.r<f&&(h.e.r=f),++c}),c>0&&(l["!ref"]=Gt(h)),l}function fL(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l,c=t.match(cC);return c&&Jv(c[0],s,i,n),(l=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=l[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function dL(t,e){t.l+=10;var n=Pr(t);return{name:n}}function hL(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},l=!1;return is(t,function(f,d,h){switch(h){case 550:s["!rel"]=f;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),f.name&&(i.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(d.T>0)){if(!(d.T<0)){if(!l||e.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var fC=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],pL=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],mL=[],gL=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function wT(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=wn(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function CT(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=wn(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function dC(t){CT(t.WBProps,fC),CT(t.CalcPr,gL),wT(t.WBView,pL),wT(t.Sheets,mL),oc.date1904=wn(t.WBProps.date1904)}var vL="][*?/\\".split("");function xL(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return vL.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var yL=/<\w+:workbook/;function _L(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},l=0;if(t.replace(Or,function(f,d){var h=pt(f);switch(wa(h[0])){case"<?xml":break;case"<workbook":f.match(yL)&&(i="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":fC.forEach(function(v){if(h[v[0]]!=null)switch(v[2]){case"bool":n.WBProps[v[0]]=wn(h[v[0]]);break;case"int":n.WBProps[v[0]]=parseInt(h[v[0]],10);break;default:n.WBProps[v[0]]=h[v[0]]}}),h.codeName&&(n.WBProps.CodeName=vn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=jt(vn(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=vn(h.name),h.comment&&(s.Comment=h.comment),h.localSheetId&&(s.Sheet=+h.localSheetId),wn(h.hidden||"0")&&(s.Hidden=!0),l=d+f.length;break;case"</definedName>":s.Ref=jt(vn(t.slice(l,d))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return f}),U3.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return dC(n),n}function EL(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Ng(t),n.name=Pr(t),n}function TL(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Pr(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function AL(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function SL(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=nD(t),l=o5(t,0,n),c=Gv(t);t.l=r;var f={Name:s,Ptg:l};return i<268435455&&(f.Sheet=i),c&&(f.Comment=c),f}function wL(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],l=[[]];return l.SheetNames=[],l.XTI=[],Zh[16]={n:"BrtFRTArchID$",f:AL},is(t,function(f,d,h){switch(h){case 156:l.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=Rr(f.Ptg,null,null,l,e),delete e.SID,delete f.Ptg,s.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([h,f]):l[0]=[h,f],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(f),l.XTI=l.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!d.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},e),dC(n),n.Names=s,n.supbooks=l,n}function CL(t,e,n){return e.slice(-4)===".bin"?wL(t,n):_L(t,n)}function bL(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?lL(t,r,n,i,s,l,c):E5(t,r,n,i,s,l,c)}function NL(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?hL(t,r,n,i,s):fL(t,r,n,i,s)}function IL(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?OF():UF()}function RL(t,e,n,r,i,s,l,c){return e.slice(-4)===".bin"?PF():LF()}function kL(t,e,n,r){return e.slice(-4)===".bin"?Q6(t,n,r):$6(t,n,r)}function DL(t,e,n){return Qw(t,n)}function ML(t,e,n){return e.slice(-4)===".bin"?p6(t,n):d6(t,n)}function FL(t,e,n){return e.slice(-4)===".bin"?DF(t,n):bF(t,n)}function PL(t,e,n){return e.slice(-4)===".bin"?SF(t):TF(t)}function LL(t,e,n,r){return n.slice(-4)===".bin"?wF(t,e,n,r):void 0}function OL(t,e,n){return e.slice(-4)===".bin"?_F(t,e,n):EF(t,e,n)}var hC=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,pC=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Yi(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(hC),s,l,c,f;if(i)for(f=0;f!=i.length;++f)s=i[f].match(pC),(l=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?c="xmlns"+s[1].slice(6):c=s[1].slice(l+1),r[c]=s[2].slice(1,s[2].length-1));return r}function UL(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(hC),i,s,l,c;if(r)for(c=0;c!=r.length;++c)i=r[c].match(pC),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(s+1),n[l]=i[2].slice(1,i[2].length-1));return n}var Xu;function VL(t,e){var n=Xu[t]||jt(t);return n==="General"?jo(e):Mi(n,e)}function BL(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=wn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=ur(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[jt(e)]=i}function HL(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||nl[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=uf(t.v):t.w=jo(t.v):t.w=VL(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Xu[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&_c(r)){var i=Uo(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function GL(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=B6[r.Pattern]||r.Pattern)}t[e.ID]=e}function zL(t,e,n,r,i,s,l,c,f,d){var h="General",v=r.StyleID,y={};d=d||{};var A=[],S=0;for(v===void 0&&c&&(v=c.StyleID),v===void 0&&l&&(v=l.StyleID);s[v]!==void 0&&(s[v].nf&&(h=s[v].nf),s[v].Interior&&A.push(s[v].Interior),!!s[v].Parent);)v=s[v].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=wn(t);break;case"String":r.t="s",r.r=YE(jt(t)),r.v=t.indexOf("<")>-1?jt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(ur(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=jt(t):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=Rw[t],d.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=YE(e||t));break}if(HL(r,h,d),d.cellFormula!==!1)if(r.Formula){var w=jt(r.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),r.f=sc(w,i),delete r.Formula,r.ArrayRange=="RC"?r.F=sc("RC:RC",i):r.ArrayRange&&(r.F=sc(r.ArrayRange,i),f.push([Mn(r.F),r.F]))}else for(S=0;S<f.length;++S)i.r>=f[S][0].s.r&&i.r<=f[S][0].e.r&&i.c>=f[S][0].s.c&&i.c<=f[S][0].e.c&&(r.F=f[S][1]);d.cellStyles&&(A.forEach(function(C){!y.patternType&&C.patternType&&(y.patternType=C.patternType)}),r.s=y),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function qL(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function ig(t,e){var n=e||{};nw();var r=Du(Ov(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=vn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=_r(n);return l.type="string",hf.to_workbook(r,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(s=!0)}),s)return ZL(r,n);Xu={"General Number":"General","General Date":St[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":St[15],"Short Date":St[14],"Long Time":St[19],"Medium Time":St[18],"Short Time":St[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:St[2],Standard:St[4],Percent:St[10],Scientific:St[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,f=[],d,h={},v=[],y=n.dense?[]:{},A="",S={},w={},C=Yi('<Data ss:Type="String">'),O=0,H=0,D=0,z={s:{r:2e6,c:2e6},e:{r:0,c:0}},G={},j={},I="",N=0,b=[],P={},M={},k=0,U=[],Te=[],Ae={},ae=[],le,Ne=!1,ie=[],Fe=[],X={},B=0,Q=0,Z={Sheets:[],WBProps:{date1904:!1}},te={};df.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var ue="";c=df.exec(r);)switch(c[3]=(ue=c[3]).toLowerCase()){case"data":if(ue=="data"){if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break}if(f[f.length-1][1])break;c[1]==="/"?zL(r.slice(O,c.index),I,C,f[f.length-1][0]=="comment"?Ae:S,{c:H,r:D},G,ae[H],w,ie,n):(I="",C=Yi(c[0]),O=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(Te.length>0&&(S.c=Te),(!n.sheetRows||n.sheetRows>D)&&S.v!==void 0&&(n.dense?(y[D]||(y[D]=[]),y[D][H]=S):y[tr(H)+Er(D)]=S),S.HRef&&(S.l={Target:jt(S.HRef)},S.HRefScreenTip&&(S.l.Tooltip=S.HRefScreenTip),delete S.HRef,delete S.HRefScreenTip),(S.MergeAcross||S.MergeDown)&&(B=H+(parseInt(S.MergeAcross,10)|0),Q=D+(parseInt(S.MergeDown,10)|0),b.push({s:{c:H,r:D},e:{c:B,r:Q}})),!n.sheetStubs)S.MergeAcross?H=B+1:++H;else if(S.MergeAcross||S.MergeDown){for(var be=H;be<=B;++be)for(var Ce=D;Ce<=Q;++Ce)(be>H||Ce>D)&&(n.dense?(y[Ce]||(y[Ce]=[]),y[Ce][be]={t:"z"}):y[tr(be)+Er(Ce)]={t:"z"});H=B+1}else++H;else S=UL(c[0]),S.Index&&(H=+S.Index-1),H<z.s.c&&(z.s.c=H),H>z.e.c&&(z.e.c=H),c[0].slice(-2)==="/>"&&++H,Te=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(D<z.s.r&&(z.s.r=D),D>z.e.r&&(z.e.r=D),c[0].slice(-2)==="/>"&&(w=Yi(c[0]),w.Index&&(D=+w.Index-1)),H=0,++D):(w=Yi(c[0]),w.Index&&(D=+w.Index-1),X={},(w.AutoFitHeight=="0"||w.Height)&&(X.hpx=parseInt(w.Height,10),X.hpt=Xw(X.hpx),Fe[D]=X),w.Hidden=="1"&&(X.hidden=!0,Fe[D]=X));break;case"worksheet":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));v.push(A),z.s.r<=z.e.r&&z.s.c<=z.e.c&&(y["!ref"]=Gt(z),n.sheetRows&&n.sheetRows<=z.e.r&&(y["!fullref"]=y["!ref"],z.e.r=n.sheetRows-1,y["!ref"]=Gt(z))),b.length&&(y["!merges"]=b),ae.length>0&&(y["!cols"]=ae),Fe.length>0&&(y["!rows"]=Fe),h[A]=y}else z={s:{r:2e6,c:2e6},e:{r:0,c:0}},D=H=0,f.push([c[3],!1]),d=Yi(c[0]),A=jt(d.Name),y=n.dense?[]:{},b=[],ie=[],Fe=[],te={name:A,Hidden:0},Z.Sheets.push(te);break;case"table":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else{if(c[0].slice(-2)=="/>")break;f.push([c[3],!1]),ae=[],Ne=!1}break;case"style":c[1]==="/"?GL(G,j,n):j=Yi(c[0]);break;case"numberformat":j.nf=jt(Yi(c[0]).Format||"General"),Xu[j.nf]&&(j.nf=Xu[j.nf]);for(var we=0;we!=392&&St[we]!=j.nf;++we);if(we==392){for(we=57;we!=392;++we)if(St[we]==null){Bo(j.nf,we);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(le=Yi(c[0]),le.Hidden&&(le.hidden=!0,delete le.Hidden),le.Width&&(le.wpx=parseInt(le.Width,10)),!Ne&&le.wpx>10){Ne=!0,zr=Jw;for(var Ie=0;Ie<ae.length;++Ie)ae[Ie]&&pc(ae[Ie])}Ne&&pc(le),ae[le.Index-1||ae.length]=le;for(var $e=0;$e<+le.Span;++$e)ae[ae.length]=_r(le);break;case"namedrange":if(c[1]==="/")break;Z.Names||(Z.Names=[]);var ne=pt(c[0]),ut={Name:ne.Name,Ref:sc(ne.RefersTo.slice(1),{r:0,c:0})};Z.Sheets.length>0&&(ut.Sheet=Z.Sheets.length-1),Z.Names.push(ut);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?I+=r.slice(N,c.index):N=c.index+c[0].length;break;case"interior":if(!n.cellStyles)break;j.Interior=Yi(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?bD(P,ue,r.slice(k,c.index)):k=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else f.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"));qL(Ae),Te.push(Ae)}else f.push([c[3],!1]),d=Yi(c[0]),Ae={a:d.Author};break;case"autofilter":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var We=Yi(c[0]);y["!autofilter"]={ref:sc(We.Range).replace(/\$/g,"")},f.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((d=f.pop())[0]!==c[3])throw new Error("Bad state: "+d.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&f.push([c[3],!0]);break;case"null":break;default:if(f.length==0&&c[3]=="document"||f.length==0&&c[3]=="uof")return DT(r,n);var Ye=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ye=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ye=!1}break;case"excelworkbook":switch(c[3]){case"date1904":Z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ye=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:Ye=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(k,c.index)){case"SheetHidden":te.Hidden=1;break;case"SheetVeryHidden":te.Hidden=2;break}else k=c.index+c[0].length;break;case"header":y["!margins"]||Wu(y["!margins"]={},"xlml"),isNaN(+pt(c[0]).Margin)||(y["!margins"].header=+pt(c[0]).Margin);break;case"footer":y["!margins"]||Wu(y["!margins"]={},"xlml"),isNaN(+pt(c[0]).Margin)||(y["!margins"].footer=+pt(c[0]).Margin);break;case"pagemargins":var Be=pt(c[0]);y["!margins"]||Wu(y["!margins"]={},"xlml"),isNaN(+Be.Top)||(y["!margins"].top=+Be.Top),isNaN(+Be.Left)||(y["!margins"].left=+Be.Left),isNaN(+Be.Right)||(y["!margins"].right=+Be.Right),isNaN(+Be.Bottom)||(y["!margins"].bottom=+Be.Bottom);break;case"displayrighttoleft":Z.Views||(Z.Views=[]),Z.Views[0]||(Z.Views[0]={}),Z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":y["!outline"]||(y["!outline"]={}),y["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":y["!outline"]||(y["!outline"]={}),y["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ye=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ye=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ye=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ye=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ye=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ye=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ye=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ye=!1}break;case"smarttags":break;default:Ye=!1;break}if(Ye||c[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?BL(M,ue,U,r.slice(k,c.index)):(U=c,k=c.index+c[0].length);break}if(n.WTF)throw"Unrecognized tag: "+c[3]+"|"+f.join("|")}var Le={};return!n.bookSheets&&!n.bookProps&&(Le.Sheets=h),Le.SheetNames=v,Le.Workbook=Z,Le.SSF=_r(St),Le.Props=P,Le.Custprops=M,Le}function Dg(t,e){switch(Qv(e=e||{}),e.type||"base64"){case"base64":return ig(mi(t),e);case"binary":case"buffer":case"file":return ig(t,e);case"array":return ig(Zo(t),e)}}function jL(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=aD(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=sD(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var $L=[60,1084,2066,2165,2175];function KL(t,e,n,r,i){var s=r,l=[],c=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(c)}l.push(c),n.l+=s;for(var f=Ka(n,n.l),d=Mg[f],h=0;d!=null&&$L.indexOf(f)>-1;)s=Ka(n,n.l+2),h=n.l+4,f==2066?h+=4:(f==2165||f==2175)&&(h+=12),c=n.slice(h,n.l+4+s),l.push(c),n.l+=4+s,d=Mg[f=Ka(n,n.l)];var v=zs(l);xr(v,0);var y=0;v.lens=[];for(var A=0;A<l.length;++A)v.lens.push(y),y+=l[A].length;if(v.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+v.length+" < "+r;return e.f(v,v.length,i)}function ga(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=St[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||nl[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=uf(t.v):t.w=jo(t.v):t.w=Mi(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&_c(St[r]||String(r))){var i=Uo(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function gh(t,e,n){return{v:t,ixfe:e,t:n}}function YL(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},l={},c=null,f=[],d="",h={},v,y="",A,S,w,C,O={},H=[],D,z,G=[],j=[],I={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},b=function(ht){return ht<8?Ho[ht]:ht<64&&j[ht-8]||Ho[ht]},P=function(ht,Lt,bt){var Et=Lt.XF.data;if(!(!Et||!Et.patternType||!bt||!bt.cellStyles)){Lt.s={},Lt.s.patternType=Et.patternType;var Qt;(Qt=pf(b(Et.icvFore)))&&(Lt.s.fgColor={rgb:Qt}),(Qt=pf(b(Et.icvBack)))&&(Lt.s.bgColor={rgb:Qt})}},M=function(ht,Lt,bt){if(!(X>1)&&!(bt.sheetRows&&ht.r>=bt.sheetRows)){if(bt.cellStyles&&Lt.XF&&Lt.XF.data&&P(ht,Lt,bt),delete Lt.ixfe,delete Lt.XF,v=ht,y=yt(ht),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<l.s.r&&(l.s.r=ht.r),ht.c<l.s.c&&(l.s.c=ht.c),ht.r+1>l.e.r&&(l.e.r=ht.r+1),ht.c+1>l.e.c&&(l.e.c=ht.c+1),bt.cellFormula&&Lt.f){for(var Et=0;Et<H.length;++Et)if(!(H[Et][0].s.c>ht.c||H[Et][0].s.r>ht.r)&&!(H[Et][0].e.c<ht.c||H[Et][0].e.r<ht.r)){Lt.F=Gt(H[Et][0]),(H[Et][0].s.c!=ht.c||H[Et][0].s.r!=ht.r)&&delete Lt.f,Lt.f&&(Lt.f=""+Rr(H[Et][1],l,ht,ie,k));break}}bt.dense?(i[ht.r]||(i[ht.r]=[]),i[ht.r][ht.c]=Lt):i[y]=Lt}},k={enc:!1,sbcch:0,snames:[],sharedf:O,arrayf:H,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(k.password=e.password);var U,Te=[],Ae=[],ae=[],le=[],Ne=!1,ie=[];ie.SheetNames=k.snames,ie.sharedf=k.sharedf,ie.arrayf=k.arrayf,ie.names=[],ie.XTI=[];var Fe=0,X=0,B=0,Q=[],Z=[],te;k.codepage=1200,Xi(1200);for(var ue=!1;t.l<t.length-1;){var be=t.l,Ce=t.read_shift(2);if(Ce===0&&Fe===10)break;var we=t.l===t.length?0:t.read_shift(2),Ie=Mg[Ce];if(Ie&&Ie.f){if(e.bookSheets&&Fe===133&&Ce!==133)break;if(Fe=Ce,Ie.r===2||Ie.r==12){var $e=t.read_shift(2);if(we-=2,!k.enc&&$e!==Ce&&(($e&255)<<8|$e>>8)!==Ce)throw new Error("rt mismatch: "+$e+"!="+Ce);Ie.r==12&&(t.l+=10,we-=10)}var ne={};if(Ce===10?ne=Ie.f(t,we,k):ne=KL(Ce,Ie,t,we,k),X==0&&[9,521,1033,2057].indexOf(Fe)===-1)continue;switch(Ce){case 34:n.opts.Date1904=I.WBProps.date1904=ne;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(k.enc||(t.l=0),k.enc=ne,!e.password)throw new Error("File is password-protected");if(ne.valid==null)throw new Error("Encryption scheme unsupported");if(!ne.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=ne;break;case 66:var ut=Number(ne);switch(ut){case 21010:ut=1200;break;case 32768:ut=1e4;break;case 32769:ut=1252;break}Xi(k.codepage=ut),ue=!0;break;case 317:k.rrtabid=ne;break;case 25:k.winlocked=ne;break;case 439:n.opts.RefreshAll=ne;break;case 12:n.opts.CalcCount=ne;break;case 16:n.opts.CalcDelta=ne;break;case 17:n.opts.CalcIter=ne;break;case 13:n.opts.CalcMode=ne;break;case 14:n.opts.CalcPrecision=ne;break;case 95:n.opts.CalcSaveRecalc=ne;break;case 15:k.CalcRefMode=ne;break;case 2211:n.opts.FullCalc=ne;break;case 129:ne.fDialog&&(i["!type"]="dialog"),ne.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ne.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:G.push(ne);break;case 430:ie.push([ne]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(ne);break;case 24:case 536:te={Name:ne.Name,Ref:Rr(ne.rgce,l,null,ie,k)},ne.itab>0&&(te.Sheet=ne.itab-1),ie.names.push(te),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(ne),ne.Name=="_xlnm._FilterDatabase"&&ne.itab>0&&ne.rgce&&ne.rgce[0]&&ne.rgce[0][0]&&ne.rgce[0][0][0]=="PtgArea3d"&&(Z[ne.itab-1]={ref:Gt(ne.rgce[0][0][1][2])});break;case 22:k.ExternCount=ne;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(ne),ie.XTI=ie.XTI.concat(ne);break;case 2196:if(k.biff<8)break;te!=null&&(te.Comment=ne[1]);break;case 18:i["!protect"]=ne;break;case 19:ne!==0&&k.WTF&&console.error("Password verifier: "+ne);break;case 133:s[ne.pos]=ne,k.snames.push(ne.name);break;case 10:{if(--X)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=Gt(l),e.sheetRows&&e.sheetRows<=l.e.r){var We=l.e.r;l.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Gt(l),l.e.r=We}l.e.r++,l.e.c++}Te.length>0&&(i["!merges"]=Te),Ae.length>0&&(i["!objects"]=Ae),ae.length>0&&(i["!cols"]=ae),le.length>0&&(i["!rows"]=le),I.Sheets.push(N)}d===""?h=i:r[d]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[Ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ne.BIFFVer]||8),k.biffguess=ne.BIFFVer==0,ne.BIFFVer==0&&ne.dt==4096&&(k.biff=5,ue=!0,Xi(k.codepage=28591)),k.biff==8&&ne.BIFFVer==0&&ne.dt==16&&(k.biff=2),X++)break;if(i=e.dense?[]:{},k.biff<8&&!ue&&(ue=!0,Xi(k.codepage=e.codepage||1252)),k.biff<5||ne.BIFFVer==0&&ne.dt==4096){d===""&&(d="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var Ye={pos:t.l-we,name:d};s[Ye.pos]=Ye,k.snames.push(d)}else d=(s[be]||{name:""}).name;ne.dt==32&&(i["!type"]="chart"),ne.dt==64&&(i["!type"]="macro"),Te=[],Ae=[],k.arrayf=H=[],ae=[],le=[],Ne=!1,N={Hidden:(s[be]||{hs:0}).hs,name:d}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ne.r]||[])[ne.c]:i[yt({c:ne.c,r:ne.r})])&&++ne.c,D={ixfe:ne.ixfe,XF:G[ne.ixfe]||{},v:ne.val,t:"n"},B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 5:case 517:D={ixfe:ne.ixfe,XF:G[ne.ixfe],v:ne.val,t:ne.t},B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 638:D={ixfe:ne.ixfe,XF:G[ne.ixfe],v:ne.rknum,t:"n"},B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 189:for(var Be=ne.c;Be<=ne.C;++Be){var Le=ne.rkrec[Be-ne.c][0];D={ixfe:Le,XF:G[Le],v:ne.rkrec[Be-ne.c][1],t:"n"},B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:Be,r:ne.r},D,e)}break;case 6:case 518:case 1030:{if(ne.val=="String"){c=ne;break}if(D=gh(ne.val,ne.cell.ixfe,ne.tt),D.XF=G[D.ixfe],e.cellFormula){var nt=ne.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var rt=nt[0][0][1][0],ot=nt[0][0][1][1],fn=yt({r:rt,c:ot});O[fn]?D.f=""+Rr(ne.formula,l,ne.cell,ie,k):D.F=((e.dense?(i[rt]||[])[ot]:i[fn])||{}).F}else D.f=""+Rr(ne.formula,l,ne.cell,ie,k)}B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M(ne.cell,D,e),c=ne}break;case 7:case 519:if(c)c.val=ne,D=gh(ne,c.cell.ixfe,"s"),D.XF=G[D.ixfe],e.cellFormula&&(D.f=""+Rr(c.formula,l,c.cell,ie,k)),B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M(c.cell,D,e),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{H.push(ne);var Nn=yt(ne[0].s);if(A=e.dense?(i[ne[0].s.r]||[])[ne[0].s.c]:i[Nn],e.cellFormula&&A){if(!c||!Nn||!A)break;A.f=""+Rr(ne[1],l,ne[0],ie,k),A.F=Gt(ne[0])}}break;case 1212:{if(!e.cellFormula)break;if(y){if(!c)break;O[yt(c.cell)]=ne[0],A=e.dense?(i[c.cell.r]||[])[c.cell.c]:i[yt(c.cell)],(A||{}).f=""+Rr(ne[0],l,v,ie,k)}}break;case 253:D=gh(f[ne.isst].t,ne.ixfe,"s"),f[ne.isst].h&&(D.h=f[ne.isst].h),D.XF=G[D.ixfe],B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 513:e.sheetStubs&&(D={ixfe:ne.ixfe,XF:G[ne.ixfe],t:"z"},B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e));break;case 190:if(e.sheetStubs)for(var Fn=ne.c;Fn<=ne.C;++Fn){var ft=ne.ixfe[Fn-ne.c];D={ixfe:ft,XF:G[ft],t:"z"},B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:Fn,r:ne.r},D,e)}break;case 214:case 516:case 4:D=gh(ne.val,ne.ixfe,"s"),D.XF=G[D.ixfe],B>0&&(D.z=Q[D.ixfe>>8&63]),ga(D,e,n.opts.Date1904),M({c:ne.c,r:ne.r},D,e);break;case 0:case 512:X===1&&(l=ne);break;case 252:f=ne;break;case 1054:if(k.biff==4){Q[B++]=ne[1];for(var Xt=0;Xt<B+163&&St[Xt]!=ne[1];++Xt);Xt>=163&&Bo(ne[1],B+163)}else Bo(ne[1],ne[0]);break;case 30:{Q[B++]=ne;for(var Pt=0;Pt<B+163&&St[Pt]!=ne;++Pt);Pt>=163&&Bo(ne,B+163)}break;case 229:Te=Te.concat(ne);break;case 93:Ae[ne.cmo[0]]=k.lastobj=ne;break;case 438:k.lastobj.TxO=ne;break;case 127:k.lastobj.ImData=ne;break;case 440:for(C=ne[0].s.r;C<=ne[0].e.r;++C)for(w=ne[0].s.c;w<=ne[0].e.c;++w)A=e.dense?(i[C]||[])[w]:i[yt({c:w,r:C})],A&&(A.l=ne[1]);break;case 2048:for(C=ne[0].s.r;C<=ne[0].e.r;++C)for(w=ne[0].s.c;w<=ne[0].e.c;++w)A=e.dense?(i[C]||[])[w]:i[yt({c:w,r:C})],A&&A.l&&(A.l.Tooltip=ne[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;A=e.dense?(i[ne[0].r]||[])[ne[0].c]:i[yt(ne[0])];var sn=Ae[ne[2]];A||(e.dense?(i[ne[0].r]||(i[ne[0].r]=[]),A=i[ne[0].r][ne[0].c]={t:"z"}):A=i[yt(ne[0])]={t:"z"},l.e.r=Math.max(l.e.r,ne[0].r),l.s.r=Math.min(l.s.r,ne[0].r),l.e.c=Math.max(l.e.c,ne[0].c),l.s.c=Math.min(l.s.c,ne[0].c)),A.c||(A.c=[]),S={a:ne[1],t:sn.TxO.t},A.c.push(S)}break;case 2173:gF(G[ne.ixfe],ne.ext);break;case 125:{if(!k.cellStyles)break;for(;ne.e>=ne.s;)ae[ne.e--]={width:ne.w/256,level:ne.level||0,hidden:!!(ne.flags&1)},Ne||(Ne=!0,Kv(ne.w/256)),pc(ae[ne.e+1])}break;case 520:{var Rt={};ne.level!=null&&(le[ne.r]=Rt,Rt.level=ne.level),ne.hidden&&(le[ne.r]=Rt,Rt.hidden=!0),ne.hpt&&(le[ne.r]=Rt,Rt.hpt=ne.hpt,Rt.hpx=mf(ne.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Wu(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ce]]=ne;break;case 161:i["!margins"]||Wu(i["!margins"]={}),i["!margins"].header=ne.header,i["!margins"].footer=ne.footer;break;case 574:ne.RTL&&(I.Views[0].RTL=!0);break;case 146:j=ne;break;case 2198:U=ne;break;case 140:z=ne;break;case 442:d?N.CodeName=ne||N.name:I.WBProps.CodeName=ne||"ThisWorkbook";break}}else Ie||console.error("Missing Info for XLS Record 0x"+Ce.toString(16)),t.l+=we}return n.SheetNames=Ta(s).sort(function(Bn,ht){return Number(Bn)-Number(ht)}).map(function(Bn){return s[Bn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&Z.forEach(function(Bn,ht){n.Sheets[n.SheetNames[ht]]["!autofilter"]=Bn}),n.Strings=f,n.SSF=_r(St),k.enc&&(n.Encryption=k.enc),U&&(n.Themes=U),n.Metadata={},z!==void 0&&(n.Metadata.Country=z),ie.names.length>0&&(I.Names=ie.names),n.Workbook=I,n}var bT={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JL(t,e,n){var r=Ht.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=uT(r,dD,bT.DSI);for(var s in i)e[s]=i[s]}catch(d){if(n.WTF)throw d}var l=Ht.find(t,"/!SummaryInformation");if(l&&l.size>0)try{var c=uT(l,hD,bT.SI);for(var f in c)e[f]==null&&(e[f]=c[f])}catch(d){if(n.WTF)throw d}e.HeadingPairs&&e.TitlesOfParts&&(Dw(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function mC(t,e){e||(e={}),Qv(e),qS(),e.codepage&&Rv(e.codepage);var n,r;if(t.FullPaths){if(Ht.find(t,"/encryption"))throw new Error("File is password-protected");n=Ht.find(t,"!CompObj"),r=Ht.find(t,"/Workbook")||Ht.find(t,"/Book")}else{switch(e.type){case"base64":t=Wi(mi(t));break;case"binary":t=Wi(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}xr(t,0),r={content:t}}var i,s;if(n&&jL(n),e.bookProps&&!e.bookSheets)i={};else{var l=Ut?"buffer":"array";if(r&&r.content)i=YL(r.content,e);else if((s=Ht.find(t,"PerfectOffice_MAIN"))&&s.content)i=Yu.to_workbook(s.content,(e.type=l,e));else if((s=Ht.find(t,"NativeContent_MAIN"))&&s.content)i=Yu.to_workbook(s.content,(e.type=l,e));else throw(s=Ht.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ht.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=FF(t))}var c={};return t.FullPaths&&JL(t,c,e),i.Props=i.Custprops=c,e.bookFiles&&(i.cfb=t),i}var Zh={0:{f:R5},1:{f:F5},2:{f:z5},3:{f:U5},4:{f:L5},5:{f:G5},6:{f:$5},7:{f:B5},8:{f:X5},9:{f:W5},10:{f:Y5},11:{f:J5},12:{f:P5},13:{f:q5},14:{f:V5},15:{f:O5},16:{f:uC},17:{f:K5},18:{f:H5},19:{f:Hv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SL},40:{},42:{},43:{f:Y6},44:{f:K6},45:{f:J6},46:{f:X6},47:{f:W6},48:{},49:{f:Q3},50:{},51:{f:xF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qw},62:{f:j5},63:{f:AF},64:{f:sL},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Lr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:aL},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:M5},148:{f:k5,p:16},151:{f:eL},152:{},153:{f:TL},154:{},155:{},156:{f:EL},157:{},158:{},159:{T:1,f:h6},160:{T:-1},161:{T:1,f:tl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Q5},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vF},336:{T:-1},337:{f:yF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ng},357:{},358:{},359:{},360:{T:1},361:{},362:{f:zw},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:tL},427:{f:nL},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:iL},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:D5},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Z5},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ng},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:kF},633:{T:1},634:{T:-1},635:{T:1,f:RF},636:{T:-1},637:{f:eD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:dL},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:oL},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Mg={6:{f:ng},10:{f:Bs},12:{f:Jn},13:{f:Jn},14:{f:Un},15:{f:Un},16:{f:Dr},17:{f:Un},18:{f:Un},19:{f:Jn},20:{f:pT},21:{f:pT},23:{f:zw},24:{f:gT},25:{f:Un},26:{},27:{},28:{f:NM},29:{},34:{f:Un},35:{f:mT},38:{f:Dr},39:{f:Dr},40:{f:Dr},41:{f:Dr},42:{f:Un},43:{f:Un},47:{f:D6},49:{f:cM},51:{f:Jn},60:{},61:{f:sM},64:{f:Un},65:{f:lM},66:{f:Jn},77:{},80:{},81:{},82:{},85:{f:Jn},89:{},90:{},91:{},92:{f:QD},93:{f:RM},94:{},95:{f:Un},96:{},97:{},99:{f:Un},125:{f:qw},128:{f:yM},129:{f:ZD},130:{f:Jn},131:{f:Un},132:{f:Un},133:{f:eM},134:{},140:{f:LM},141:{f:Jn},144:{},146:{f:UM},151:{},152:{},153:{},154:{},155:{},156:{f:Jn},157:{},158:{},160:{f:zM},161:{f:BM},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:mM},190:{f:gM},193:{f:Bs},197:{},198:{},199:{},200:{},201:{},202:{f:Un},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Jn},220:{},221:{f:Un},222:{},224:{f:xM},225:{f:XD},226:{f:Bs},227:{},229:{f:IM},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:tM},253:{f:uM},255:{f:nM},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Ow},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Un},353:{f:Bs},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:EM},431:{f:Un},432:{},433:{},434:{},437:{},438:{f:MM},439:{f:Un},440:{f:FM},441:{},442:{f:Ff},443:{},444:{f:Jn},445:{},446:{},448:{f:Bs},449:{f:aM,r:2},450:{f:Bs},512:{f:dT},513:{f:GM},515:{f:_M},516:{f:fM},517:{f:hT},519:{f:qM},520:{f:rM},523:{},545:{f:vT},549:{f:fT},566:{},574:{f:oM},638:{f:pM},659:{},1048:{},1054:{f:dM},1084:{},1212:{f:wM},2048:{f:PM},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Bs},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:VM,r:12},2173:{f:mF,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Un,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:SM,r:12},2197:{},2198:{f:cF,r:12},2199:{},2200:{},2201:{},2202:{f:CM,r:12},2203:{f:Bs},2204:{},2205:{},2206:{},2207:{},2211:{f:iM},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Jn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:HM},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:OM},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:dT},1:{},2:{f:YM},3:{f:KM},4:{f:$M},5:{f:hT},7:{f:JM},8:{},9:{f:hh},11:{},22:{f:Jn},30:{f:hM},31:{},32:{},33:{f:vT},36:{},37:{f:fT},50:{f:WM},62:{},52:{},67:{},68:{f:Jn},69:{},86:{},126:{},127:{f:jM},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:XM},223:{},234:{},354:{},421:{},518:{f:ng},521:{f:hh},536:{f:gT},547:{f:mT},561:{},579:{},1030:{f:ng},1033:{f:hh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ji(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&Sw(n)&&t.push(n)}}function NT(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),l=i.index,c=s&&s.index||t.length,f=_3(t.slice(l,c),/(:?<tr[^>]*>)/i,"<tr>"),d=-1,h=0,v=0,y=0,A={s:{r:1e7,c:1e7},e:{r:0,c:0}},S=[];for(l=0;l<f.length;++l){var w=f[l].trim(),C=w.slice(0,3).toLowerCase();if(C=="<tr"){if(++d,n.sheetRows&&n.sheetRows<=d){--d;break}h=0;continue}if(!(C!="<td"&&C!="<th")){var O=w.split(/<\/t[dh]>/i);for(c=0;c<O.length;++c){var H=O[c].trim();if(H.match(/<t[dh]/i)){for(var D=H,z=0;D.charAt(0)=="<"&&(z=D.indexOf(">"))>-1;)D=D.slice(z+1);for(var G=0;G<S.length;++G){var j=S[G];j.s.c==h&&j.s.r<d&&d<=j.e.r&&(h=j.e.c+1,G=-1)}var I=pt(H.slice(0,H.indexOf(">")));y=I.colspan?+I.colspan:1,((v=+I.rowspan)>1||y>1)&&S.push({s:{r:d,c:h},e:{r:d+(v||1)-1,c:h+y-1}});var N=I.t||I["data-t"]||"";if(!D.length){h+=y;continue}if(D=fw(D),A.s.r>d&&(A.s.r=d),A.e.r<d&&(A.e.r=d),A.s.c>h&&(A.s.c=h),A.e.c<h&&(A.e.c=h),!D.length){h+=y;continue}var b={t:"s",v:D};n.raw||!D.trim().length||N=="s"||(D==="TRUE"?b={t:"b",v:!0}:D==="FALSE"?b={t:"b",v:!1}:isNaN(ea(D))?isNaN(hc(D).getDate())||(b={t:"d",v:ur(D)},n.cellDates||(b={t:"n",v:$r(b.v)}),b.z=n.dateNF||St[14]):b={t:"n",v:ea(D)}),n.dense?(r[d]||(r[d]=[]),r[d][h]=b):r[yt({r:d,c:h})]=b,h+=y}}}}return r["!ref"]=Gt(A),S.length&&(r["!merges"]=S),r}function WL(t,e,n,r){for(var i=t["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,f=0,d=0;d<i.length;++d)if(!(i[d].s.r>n||i[d].s.c>l)&&!(i[d].e.r<n||i[d].e.c<l)){if(i[d].s.r<n||i[d].s.c<l){c=-1;break}c=i[d].e.r-i[d].s.r+1,f=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var h=yt({r:n,c:l}),v=r.dense?(t[n]||[])[l]:t[h],y=v&&v.v!=null&&(v.h||Lv(v.w||(Za(v),v.w)||""))||"",A={};c>1&&(A.rowspan=c),f>1&&(A.colspan=f),r.editable?y='<span contenteditable="true">'+y+"</span>":v&&(A["data-t"]=v&&v.t||"z",v.v!=null&&(A["data-v"]=v.v),v.z!=null&&(A["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+v.l.Target+'">'+y+"</a>")),A.id=(r.id||"sjs")+"-"+h,s.push(L3("td",y,A))}}var S="<tr>";return S+s.join("")+"</tr>"}var XL='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',QL="</body></html>";function ZL(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return oo(NT(n[0],e),e);var r=e1();return n.forEach(function(i,s){t1(r,NT(i,e),"Sheet"+(s+1))}),r}function eO(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function tO(t,e){var n=e||{},r=n.header!=null?n.header:XL,i=n.footer!=null?n.footer:QL,s=[r],l=Ec(t["!ref"]);n.dense=Array.isArray(t),s.push(eO(t,l,n));for(var c=l.s.r;c<=l.e.r;++c)s.push(WL(t,l,c,n));return s.push("</table>"+i),s.join("")}function gC(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?qr(r.origin):r.origin;i=l.r,s=l.c}var c=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=Ec(t["!ref"]);d.s.r=Math.min(d.s.r,h.s.r),d.s.c=Math.min(d.s.c,h.s.c),d.e.r=Math.max(d.e.r,h.e.r),d.e.c=Math.max(d.e.c,h.e.c),i==-1&&(d.e.r=i=h.e.r+1)}var v=[],y=0,A=t["!rows"]||(t["!rows"]=[]),S=0,w=0,C=0,O=0,H=0,D=0;for(t["!cols"]||(t["!cols"]=[]);S<c.length&&w<f;++S){var z=c[S];if(IT(z)){if(r.display)continue;A[w]={hidden:!0}}var G=z.children;for(C=O=0;C<G.length;++C){var j=G[C];if(!(r.display&&IT(j))){var I=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):fw(j.innerHTML),N=j.getAttribute("data-z")||j.getAttribute("z");for(y=0;y<v.length;++y){var b=v[y];b.s.c==O+s&&b.s.r<w+i&&w+i<=b.e.r&&(O=b.e.c+1-s,y=-1)}D=+j.getAttribute("colspan")||1,((H=+j.getAttribute("rowspan")||1)>1||D>1)&&v.push({s:{r:w+i,c:O+s},e:{r:w+i+(H||1)-1,c:O+s+(D||1)-1}});var P={t:"s",v:I},M=j.getAttribute("data-t")||j.getAttribute("t")||"";I!=null&&(I.length==0?P.t=M||"z":r.raw||I.trim().length==0||M=="s"||(I==="TRUE"?P={t:"b",v:!0}:I==="FALSE"?P={t:"b",v:!1}:isNaN(ea(I))?isNaN(hc(I).getDate())||(P={t:"d",v:ur(I)},r.cellDates||(P={t:"n",v:$r(P.v)}),P.z=r.dateNF||St[14]):P={t:"n",v:ea(I)})),P.z===void 0&&N!=null&&(P.z=N);var k="",U=j.getElementsByTagName("A");if(U&&U.length)for(var Te=0;Te<U.length&&!(U[Te].hasAttribute("href")&&(k=U[Te].getAttribute("href"),k.charAt(0)!="#"));++Te);k&&k.charAt(0)!="#"&&(P.l={Target:k}),r.dense?(t[w+i]||(t[w+i]=[]),t[w+i][O+s]=P):t[yt({c:O+s,r:w+i})]=P,d.e.c<O+s&&(d.e.c=O+s),O+=D}}++w}return v.length&&(t["!merges"]=(t["!merges"]||[]).concat(v)),d.e.r=Math.max(d.e.r,w-1+i),t["!ref"]=Gt(d),w>=f&&(t["!fullref"]=Gt((d.e.r=c.length-S+w-1+i,d))),t}function vC(t,e){var n=e||{},r=n.dense?[]:{};return gC(r,t,e)}function nO(t,e){return oo(vC(t,e),e)}function IT(t){var e="",n=rO(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function rO(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function iO(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=jt(e.replace(/<[^>]*>/g,""));return[n]}var RT={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function xC(t,e){var n=e||{},r=Ov(t),i=[],s,l,c={name:""},f="",d=0,h,v,y={},A=[],S=n.dense?[]:{},w,C,O={value:""},H="",D=0,z=[],G=-1,j=-1,I={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,b={},P=[],M={},k=0,U=0,Te=[],Ae=1,ae=1,le=[],Ne={Names:[]},ie={},Fe=["",""],X=[],B={},Q="",Z=0,te=!1,ue=!1,be=0;for(df.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=df.exec(r);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(I.e.c>=I.s.c&&I.e.r>=I.s.r?S["!ref"]=Gt(I):S["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=I.e.r&&(S["!fullref"]=S["!ref"],I.e.r=n.sheetRows-1,S["!ref"]=Gt(I)),P.length&&(S["!merges"]=P),Te.length&&(S["!rows"]=Te),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),A.push(h.name),y[h.name]=S,ue=!1):w[0].charAt(w[0].length-2)!=="/"&&(h=pt(w[0],!1),G=j=-1,I.s.r=I.s.c=1e7,I.e.r=I.e.c=0,S=n.dense?[]:{},P=[],Te=[],ue=!0);break;case"table-row-group":w[1]==="/"?--N:++N;break;case"table-row":case"":if(w[1]==="/"){G+=Ae,Ae=1;break}if(v=pt(w[0],!1),v.?G=v.-1:G==-1&&(G=0),Ae=+v["number-rows-repeated"]||1,Ae<10)for(be=0;be<Ae;++be)N>0&&(Te[G+be]={level:N});j=-1;break;case"covered-table-cell":w[1]!=="/"&&++j,n.sheetStubs&&(n.dense?(S[G]||(S[G]=[]),S[G][j]={t:"z"}):S[yt({r:G,c:j})]={t:"z"}),H="",z=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++j,O=pt(w[0],!1),ae=parseInt(O["number-columns-repeated"]||"1",10),C={t:"z",v:null},O.formula&&n.cellFormula!=!1&&(C.f=ST(jt(O.formula))),(O.||O["value-type"])=="string"&&(C.t="s",C.v=jt(O["string-value"]||""),n.dense?(S[G]||(S[G]=[]),S[G][j]=C):S[yt({r:G,c:j})]=C),j+=ae-1;else if(w[1]!=="/"){++j,H="",D=0,z=[],ae=1;var Ce=Ae?G+Ae-1:G;if(j>I.e.c&&(I.e.c=j),j<I.s.c&&(I.s.c=j),G<I.s.r&&(I.s.r=G),Ce>I.e.r&&(I.e.r=Ce),O=pt(w[0],!1),X=[],B={},C={t:O.||O["value-type"],v:null},n.cellFormula)if(O.formula&&(O.formula=jt(O.formula)),O["number-matrix-columns-spanned"]&&O["number-matrix-rows-spanned"]&&(k=parseInt(O["number-matrix-rows-spanned"],10)||0,U=parseInt(O["number-matrix-columns-spanned"],10)||0,M={s:{r:G,c:j},e:{r:G+k-1,c:j+U-1}},C.F=Gt(M),le.push([M,C.F])),O.formula)C.f=ST(O.formula);else for(be=0;be<le.length;++be)G>=le[be][0].s.r&&G<=le[be][0].e.r&&j>=le[be][0].s.c&&j<=le[be][0].e.c&&(C.F=le[be][1]);switch((O["number-columns-spanned"]||O["number-rows-spanned"])&&(k=parseInt(O["number-rows-spanned"],10)||0,U=parseInt(O["number-columns-spanned"],10)||0,M={s:{r:G,c:j},e:{r:G+k-1,c:j+U-1}},P.push(M)),O["number-columns-repeated"]&&(ae=parseInt(O["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=wn(O["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(O.value);break;case"percentage":C.t="n",C.v=parseFloat(O.value);break;case"currency":C.t="n",C.v=parseFloat(O.value);break;case"date":C.t="d",C.v=ur(O["date-value"]),n.cellDates||(C.t="n",C.v=$r(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=v3(O["time-value"])/86400,n.cellDates&&(C.t="d",C.v=N0(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(O.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",O["string-value"]!=null&&(H=jt(O["string-value"]),z=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(te=!1,C.t==="s"&&(C.v=H||"",z.length&&(C.R=z),te=D==0),ie.Target&&(C.l=ie),X.length>0&&(C.c=X,X=[]),H&&n.cellText!==!1&&(C.w=H),te&&(C.t="z",delete C.v),(!te||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=G))for(var we=0;we<Ae;++we){if(ae=parseInt(O["number-columns-repeated"]||"1",10),n.dense)for(S[G+we]||(S[G+we]=[]),S[G+we][j]=we==0?C:_r(C);--ae>0;)S[G+we][j+ae]=_r(C);else for(S[yt({r:G+we,c:j})]=C;--ae>0;)S[yt({r:G+we,c:j+ae})]=_r(C);I.e.c<=j&&(I.e.c=j)}ae=parseInt(O["number-columns-repeated"]||"1",10),j+=ae-1,ae=0,C={},H="",z=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;B.t=H,z.length&&(B.R=z),B.a=Q,X.push(B)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);Q="",Z=0,H="",D=0,z=[];break;case"creator":w[1]==="/"?Q=r.slice(Z,w.index):Z=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);H="",D=0,z=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(b[c.name]=f,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(f="",c=pt(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=pt(w[0],!1),f+=RT[w[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=pt(w[0],!1),f+=RT[w[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(d,w.index);break}else d=w.index+w[0].length;break;case"named-range":l=pt(w[0],!1),Fe=rg(l["cell-range-address"]);var Ie={Name:l.name,Ref:Fe[0]+"!"+Fe[1]};ue&&(Ie.Sheet=A.length),Ne.Names.push(Ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!O||!O["string-value"])){var $e=iO(r.slice(D,w.index));H=(H.length>0?H+`
`:"")+$e[0]}else pt(w[0],!1),D=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{Fe=rg(pt(w[0])["target-range-address"]),y[Fe[0]]["!autofilter"]={ref:Fe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(ie=pt(w[0],!1),!ie.href)break;ie.Target=jt(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(Fe=rg(ie.Target.slice(1)),ie.Target="#"+Fe[0]+"!"+Fe[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(w)}}var ne={Sheets:y,SheetNames:A,Workbook:Ne};return n.bookSheets&&delete ne.Sheets,ne}function kT(t,e){e=e||{},Ii(t,"META-INF/manifest.xml")&&_D(Yn(t,"META-INF/manifest.xml"),e);var n=pi(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=xC(vn(n),e);return Ii(t,"meta.xml")&&(r.Props=kw(Yn(t,"meta.xml"))),r}function DT(t,e){return xC(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Wv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fg(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):vn(Zo(t))}function Pg(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function MT(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function aO(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function gf(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function nr(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Mr(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=gf(t,n),s=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);c=t.slice(f,n[0])}break;case 5:l=4,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=gf(t,n),c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Xv(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function sO(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=gf(t,r),s=Mr(t.slice(r[0],r[0]+i));r[0]+=i;var l={id:nr(s[1][0].data),messages:[]};s[2].forEach(function(c){var f=Mr(c.data),d=nr(f[3][0].data);l.messages.push({meta:f,data:t.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(l.merge=nr(s[3][0].data)>>>0>0),n.push(l)}return n}function oO(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=gf(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var l=e[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[n[0]],c>1&&(l|=e[n[0]+1]<<8),c>2&&(l|=e[n[0]+2]<<16),c>3&&(l|=e[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(e.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var f=0,d=0;if(s==1?(d=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(d=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Pg(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(d>=f)for(i.push(i[0].slice(-f)),d-=f;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-f,-f+d))}}var h=Pg(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function lO(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(oO(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Pg(e)}function cO(t,e,n,r){var i=Wv(t),s=i.getUint32(4,!0),l=(r>1?12:8)+MT(s&(r>1?3470:398))*4,c=-1,f=-1,d=NaN,h=new Date(2001,0,1);s&512&&(c=i.getUint32(l,!0),l+=4),l+=MT(s&(r>1?12288:4096))*4,s&16&&(f=i.getUint32(l,!0),l+=4),s&32&&(d=i.getFloat64(l,!0),l+=8),s&64&&(h.setTime(h.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var v;switch(t[2]){case 0:break;case 2:v={t:"n",v:d};break;case 3:v={t:"s",v:e[f]};break;case 5:v={t:"d",v:h};break;case 6:v={t:"b",v:d>0};break;case 7:v={t:"n",v:d/86400};break;case 8:v={t:"e",v:0};break;case 9:if(c>-1)v={t:"s",v:n[c]};else if(f>-1)v={t:"s",v:e[f]};else if(!isNaN(d))v={t:"n",v:d};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return v}function uO(t,e,n){var r=Wv(t),i=r.getUint32(8,!0),s=12,l=-1,c=-1,f=NaN,d=NaN,h=new Date(2001,0,1);i&1&&(f=aO(t,s),s+=16),i&2&&(d=r.getFloat64(s,!0),s+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(c=r.getUint32(s,!0),s+=4),i&16&&(l=r.getUint32(s,!0),s+=4);var v;switch(t[1]){case 0:break;case 2:v={t:"n",v:f};break;case 3:v={t:"s",v:e[c]};break;case 5:v={t:"d",v:h};break;case 6:v={t:"b",v:d>0};break;case 7:v={t:"n",v:d/86400};break;case 8:v={t:"e",v:0};break;case 9:if(l>-1)v={t:"s",v:n[l]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:v={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return v}function fO(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return cO(t,e,n,t[0]);case 5:return uO(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Ys(t){var e=Mr(t);return gf(e[1][0].data)}function FT(t,e){var n=Mr(e.data),r=nr(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(l){var c=Mr(l.data),f=nr(c[1][0].data)>>>0;switch(r){case 1:s[f]=Fg(c[3][0].data);break;case 8:{var d=t[Ys(c[9][0].data)][0],h=Mr(d.data),v=t[Ys(h[1][0].data)][0],y=nr(v.meta[1][0].data);if(y!=2001)throw new Error("2000 unexpected reference to ".concat(y));var A=Mr(v.data);s[f]=A[3].map(function(S){return Fg(S.data)}).join("")}break}}),s}function dO(t,e){var n,r,i,s,l,c,f,d,h,v,y,A,S,w,C=Mr(t),O=nr(C[1][0].data)>>>0,H=nr(C[2][0].data)>>>0,D=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&nr(C[8][0].data)>0||!1,z,G;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&e!=0)z=(c=(l=C[7])==null?void 0:l[0])==null?void 0:c.data,G=(d=(f=C[6])==null?void 0:f[0])==null?void 0:d.data;else if((v=(h=C[4])==null?void 0:h[0])!=null&&v.data&&e!=1)z=(A=(y=C[4])==null?void 0:y[0])==null?void 0:A.data,G=(w=(S=C[3])==null?void 0:S[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var j=D?4:1,I=Wv(z),N=[],b=0;b<z.length/2;++b){var P=I.getUint16(b*2,!0);P<65535&&N.push([b,P])}if(N.length!=H)throw"Expected ".concat(H," cells, found ").concat(N.length);var M=[];for(b=0;b<N.length-1;++b)M[N[b][0]]=G.subarray(N[b][1]*j,N[b+1][1]*j);return N.length>=1&&(M[N[N.length-1][0]]=G.subarray(N[N.length-1][1]*j)),{R:O,cells:M}}function hO(t,e){var n,r=Mr(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?nr(r[7][0].data)>>>0>0?1:0:-1,s=Xv(r[5],function(l){return dO(l,i)});return{nrows:nr(r[4][0].data)>>>0,data:s.reduce(function(l,c){return l[c.R]||(l[c.R]=[]),c.cells.forEach(function(f,d){if(l[c.R][d])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(d));l[c.R][d]=f}),l},[])}}function pO(t,e,n){var r,i=Mr(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(nr(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(nr(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Gt(s);var l=Mr(i[4][0].data),c=FT(t,t[Ys(l[4][0].data)][0]),f=(r=l[17])!=null&&r[0]?FT(t,t[Ys(l[17][0].data)][0]):[],d=Mr(l[3][0].data),h=0;d[1].forEach(function(v){var y=Mr(v.data),A=t[Ys(y[2][0].data)][0],S=nr(A.meta[1][0].data);if(S!=6002)throw new Error("6001 unexpected reference to ".concat(S));var w=hO(t,A);w.data.forEach(function(C,O){C.forEach(function(H,D){var z=yt({r:h+O,c:D}),G=fO(H,c,f);G&&(n[z]=G)})}),h+=w.nrows})}function mO(t,e){var n=Mr(e.data),r={"!ref":"A1"},i=t[Ys(n[2][0].data)],s=nr(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return pO(t,i[0],r),r}function gO(t,e){var n,r=Mr(e.data),i={name:(n=r[1])!=null&&n[0]?Fg(r[1][0].data):"",sheets:[]},s=Xv(r[2],Ys);return s.forEach(function(l){t[l].forEach(function(c){var f=nr(c.meta[1][0].data);f==6e3&&i.sheets.push(mO(t,c))})}),i}function vO(t,e){var n=e1(),r=Mr(e.data),i=Xv(r[1],Ys);if(i.forEach(function(s){t[s].forEach(function(l){var c=nr(l.meta[1][0].data);if(c==2){var f=gO(t,l);f.sheets.forEach(function(d,h){t1(n,d,h==0?f.name:f.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function ag(t){var e,n,r,i,s={},l=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var d;try{d=lO(f.content)}catch(v){return console.log("?? "+f.content.length+" "+(v.message||v))}var h;try{h=sO(d)}catch(v){return console.log("## "+(v.message||v))}h.forEach(function(v){s[v.id]=v.messages,l.push(v.id)})}}),!l.length)throw new Error("File has no messages");var c=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&nr(s[1][0].meta[1][0].data)==1&&s[1][0];if(c||l.forEach(function(f){s[f].forEach(function(d){var h=nr(d.meta[1][0].data)>>>0;if(h==1)if(!c)c=d;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return vO(s,c)}function xO(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Qv(t){xO([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function yO(t){return Zl.WS.indexOf(t)>-1?"sheet":t==Zl.CS?"chart":t==Zl.DS?"dialog":t==Zl.MS?"macro":t&&t.length?t:"sheet"}function _O(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,yO(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function EO(t,e,n,r,i,s,l,c,f,d,h,v){try{s[r]=$u(pi(t,n,!0),e);var y=Yn(t,e),A;switch(c){case"sheet":A=bL(y,e,i,f,s[r],d,h,v);break;case"chart":if(A=NL(y,e,i,f,s[r],d,h,v),!A||!A["!drawel"])break;var S=Fu(A["!drawel"].Target,e),w=Ig(S),C=CF(pi(t,S,!0),$u(pi(t,w,!0),S)),O=Fu(C,S),H=Ig(O);A=uL(pi(t,O,!0),O,f,$u(pi(t,H,!0),O),d,A);break;case"macro":A=IL(y,e,i,f,s[r],d,h,v);break;case"dialog":A=RL(y,e,i,f,s[r],d,h,v);break;default:throw new Error("Unrecognized sheet type "+c)}l[r]=A;var D=[];s&&s[r]&&Ta(s[r]).forEach(function(z){var G="";if(s[r][z].Type==Zl.CMNT){G=Fu(s[r][z].Target,e);var j=FL(Yn(t,G,!0),G,f);if(!j||!j.length)return;yT(A,j,!1)}s[r][z].Type==Zl.TCMNT&&(G=Fu(s[r][z].Target,e),D=D.concat(NF(Yn(t,G,!0),f)))}),D&&D.length&&yT(A,D,!0,f.people||[])}catch(z){if(f.WTF)throw z}}function bi(t){return t.charAt(0)=="/"?t.slice(1):t}function TO(t,e){if(nw(),e=e||{},Qv(e),Ii(t,"META-INF/manifest.xml")||Ii(t,"objectdata.xml"))return kT(t,e);if(Ii(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof ag<"u"){if(t.FileIndex)return ag(t);var n=Ht.utils.cfb_new();return $E(t).forEach(function(Te){A3(n,Te,T3(t,Te))}),ag(n)}throw new Error("Unsupported NUMBERS file")}if(!Ii(t,"[Content_Types].xml"))throw Ii(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ii(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=$E(t),i=xD(pi(t,"[Content_Types].xml")),s=!1,l,c;if(i.workbooks.length===0&&(c="xl/workbook.xml",Yn(t,c,!0)&&i.workbooks.push(c)),i.workbooks.length===0){if(c="xl/workbook.bin",!Yn(t,c,!0))throw new Error("Could not find workbook");i.workbooks.push(c),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},d={};if(!e.bookSheets&&!e.bookProps){if(Ju=[],i.sst)try{Ju=ML(Yn(t,bi(i.sst)),i.sst,e)}catch(Te){if(e.WTF)throw Te}e.cellStyles&&i.themes.length&&(f=DL(pi(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(d=kL(Yn(t,bi(i.style)),i.style,f,e))}i.links.map(function(Te){try{var Ae=$u(pi(t,Ig(bi(Te))),Te);return LL(Yn(t,bi(Te)),Ae,Te,e)}catch{}});var h=CL(Yn(t,bi(i.workbooks[0])),i.workbooks[0],e),v={},y="";i.coreprops.length&&(y=Yn(t,bi(i.coreprops[0]),!0),y&&(v=kw(y)),i.extprops.length!==0&&(y=Yn(t,bi(i.extprops[0]),!0),y&&AD(y,v,e)));var A={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(y=pi(t,bi(i.custprops[0]),!0),y&&(A=wD(y,e)));var S={};if((e.bookSheets||e.bookProps)&&(h.Sheets?l=h.Sheets.map(function(Ae){return Ae.name}):v.Worksheets&&v.SheetNames.length>0&&(l=v.SheetNames),e.bookProps&&(S.Props=v,S.Custprops=A),e.bookSheets&&typeof l<"u"&&(S.SheetNames=l),e.bookSheets?S.SheetNames:e.bookProps))return S;l={};var w={};e.bookDeps&&i.calcchain&&(w=PL(Yn(t,bi(i.calcchain)),i.calcchain));var C=0,O={},H,D;{var z=h.Sheets;v.Worksheets=z.length,v.SheetNames=[];for(var G=0;G!=z.length;++G)v.SheetNames[G]=z[G].name}var j=s?"bin":"xml",I=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,I+1)+"_rels/"+i.workbooks[0].slice(I+1)+".rels").replace(/^\//,"");Ii(t,N)||(N="xl/_rels/workbook."+j+".rels");var b=$u(pi(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=OL(Yn(t,bi(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=IF(Yn(t,bi(i.people[0])),e)),b&&(b=_O(b,h.Sheets));var P=Yn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=v.Worksheets;++C){var M="sheet";if(b&&b[C]?(H="xl/"+b[C][1].replace(/[\/]?xl\//,""),Ii(t,H)||(H=b[C][1]),Ii(t,H)||(H=N.replace(/_rels\/.*$/,"")+b[C][1]),M=b[C][2]):(H="xl/worksheets/sheet"+(C+1-P)+"."+j,H=H.replace(/sheet0\./,"sheet.")),D=H.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(v.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var k=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==C&&(k=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==v.SheetNames[C].toLowerCase()&&(k=1);if(!k)continue e}}EO(t,H,D,v.SheetNames[C],C,O,l,M,e,h,f,d)}return S={Directory:i,Workbook:h,Props:v,Custprops:A,Deps:w,Sheets:l,SheetNames:v.SheetNames,Strings:Ju,Styles:d,Themes:f,SSF:_r(St)},e&&e.bookFiles&&(t.files?(S.keys=r,S.files=t.files):(S.keys=[],S.files={},t.FullPaths.forEach(function(Te,Ae){Te=Te.replace(/^Root Entry[\/]/,""),S.keys.push(Te),S.files[Te]=t.FileIndex[Ae]}))),e&&e.bookVBA&&(i.vba.length>0?S.vbaraw=Yn(t,bi(i.vba[0]),!0):i.defaults&&i.defaults.bin===MF&&(S.vbaraw=Yn(t,"xl/vbaProject.bin",!0))),S}function AO(t,e){var n=e||{},r="Workbook",i=Ht.find(t,r);try{if(r="/!DataSpaces/Version",i=Ht.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(m6(i.content),r="/!DataSpaces/DataSpaceMap",i=Ht.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=v6(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ht.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=x6(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ht.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);_6(i.content)}catch{}if(r="/EncryptionInfo",i=Ht.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=E6(i.content);if(r="/EncryptedPackage",i=Ht.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],i.content,n.password||"",n);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function Zv(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=mi(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function SO(t,e){return Ht.find(t,"EncryptedPackage")?AO(t,e):mC(t,e)}function wO(t,e){var n,r=t,i=e||{};return i.type||(i.type=Ut&&Buffer.isBuffer(t)?"buffer":"base64"),n=lw(r,i),TO(n,i)}function yC(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return Dg(t.slice(n),e);default:break e}return hf.to_workbook(t,e)}function CO(t,e){var n="",r=Zv(t,e);switch(e.type){case"base64":n=mi(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=$o(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=vn(n)),e.type="binary",yC(n,e)}function bO(t,e){var n=t;return e.type=="base64"&&(n=mi(n)),n=cf.utils.decode(1200,n.slice(2),"str"),e.type="binary",yC(n,e)}function NO(t){return t.match(/[^\x00-\x7F]/)?Pu(t):t}function sg(t,e,n,r){return r?(n.type="string",hf.to_workbook(t,n)):hf.to_workbook(e,n)}function e0(t,e){qS();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return e0(new Uint8Array(t),(n=_r(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),oc={},n.dateNF&&(oc.dateNF=n.dateNF),n.type||(n.type=Ut&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Ut?"buffer":"binary",r=m3(t),typeof Uint8Array<"u"&&!Ut&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=NO(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),c=new Uint8Array(l);if(c.foo="bar",!c.foo)return n=_r(n),n.type="array",e0(kv(r),n)}switch((i=Zv(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return SO(Ht.read(r,n),n);break;case 9:if(i[1]<=8)return mC(r,n);break;case 60:return Dg(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return n6(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return e6.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?wO(r,n):sg(t,r,n,s);case 239:return i[3]===60?Dg(r,n):sg(t,r,n,s);case 255:if(i[1]===254)return bO(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Yu.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Yu.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return xT.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return M6.to_workbook(r,n);break;case 10:case 13:case 32:return CO(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return QM.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?xT.to_workbook(r,n):sg(t,r,n,s)}function IO(t,e,n,r,i,s,l,c){var f=Er(n),d=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),v=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:n,enumerable:!1})}catch{y.__rowNum__=n}else y.__rowNum__=n;if(!l||t[n])for(var A=e.s.c;A<=e.e.c;++A){var S=l?t[n][A]:t[r[A]+f];if(S===void 0||S.t===void 0){if(d===void 0)continue;s[A]!=null&&(y[s[A]]=d);continue}var w=S.v;switch(S.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(s[A]!=null){if(w==null)if(S.t=="e"&&w===null)y[s[A]]=null;else if(d!==void 0)y[s[A]]=d;else if(h&&w===null)y[s[A]]=null;else continue;else y[s[A]]=h&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?w:Za(S,w,c);w!=null&&(v=!1)}}return{row:y,isempty:v}}function Lg(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],l=0,c="",f={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},h=d.range!=null?d.range:t["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof h){case"string":f=Mn(h);break;case"number":f=Mn(t["!ref"]),f.s.r=h;break;default:f=h}r>0&&(i=0);var v=Er(f.s.r),y=[],A=[],S=0,w=0,C=Array.isArray(t),O=f.s.r,H=0,D={};C&&!t[O]&&(t[O]=[]);var z=d.skipHidden&&t["!cols"]||[],G=d.skipHidden&&t["!rows"]||[];for(H=f.s.c;H<=f.e.c;++H)if(!(z[H]||{}).hidden)switch(y[H]=tr(H),n=C?t[O][H]:t[y[H]+v],r){case 1:s[H]=H-f.s.c;break;case 2:s[H]=y[H];break;case 3:s[H]=d.header[H-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=Za(n,null,d),w=D[l]||0,!w)D[l]=1;else{do c=l+"_"+w++;while(D[c]);D[l]=w,D[c]=1}s[H]=c}for(O=f.s.r+i;O<=f.e.r;++O)if(!(G[O]||{}).hidden){var j=IO(t,f,O,y,r,s,C,d);(j.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(A[S++]=j.row)}return A.length=S,A}var PT=/"/g;function RO(t,e,n,r,i,s,l,c){for(var f=!0,d=[],h="",v=Er(n),y=e.s.c;y<=e.e.c;++y)if(r[y]){var A=c.dense?(t[n]||[])[y]:t[r[y]+v];if(A==null)h="";else if(A.v!=null){f=!1,h=""+(c.rawNumbers&&A.t=="n"?A.v:Za(A,null,c));for(var S=0,w=0;S!==h.length;++S)if((w=h.charCodeAt(S))===i||w===s||w===34||c.forceQuotes){h='"'+h.replace(PT,'""')+'"';break}h=="ID"&&(h='"ID"')}else A.f!=null&&!A.F?(f=!1,h="="+A.f,h.indexOf(",")>=0&&(h='"'+h.replace(PT,'""')+'"')):h="";d.push(h)}return c.blankrows===!1&&f?null:d.join(l)}function _C(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=Mn(t["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,f=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),h="",v=[];r.dense=Array.isArray(t);for(var y=r.skipHidden&&t["!cols"]||[],A=r.skipHidden&&t["!rows"]||[],S=i.s.c;S<=i.e.c;++S)(y[S]||{}).hidden||(v[S]=tr(S));for(var w=0,C=i.s.r;C<=i.e.r;++C)(A[C]||{}).hidden||(h=RO(t,i,C,v,l,f,s,r),h!=null&&(r.strip&&(h=h.replace(d,"")),(h||r.blankrows!==!1)&&n.push((w++?c:"")+h)));return delete r.dense,n.join("")}function kO(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=_C(t,e);return n}function DO(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=Mn(t["!ref"]),s="",l=[],c,f=[],d=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=tr(c);for(var h=i.s.r;h<=i.e.r;++h)for(s=Er(h),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+s,n=d?(t[h]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function EC(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},l=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var f=typeof r.origin=="string"?qr(r.origin):r.origin;l=f.r,c=f.c}var d,h={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(s["!ref"]){var v=Mn(s["!ref"]);h.e.c=Math.max(h.e.c,v.e.c),h.e.r=Math.max(h.e.r,v.e.r),l==-1&&(l=v.e.r+1,h.e.r=l+e.length-1+i)}else l==-1&&(l=0,h.e.r=e.length-1+i);var y=r.header||[],A=0;e.forEach(function(w,C){Ta(w).forEach(function(O){(A=y.indexOf(O))==-1&&(y[A=y.length]=O);var H=w[O],D="z",z="",G=yt({c:c+A,r:l+C+i});d=vf(s,G),H&&typeof H=="object"&&!(H instanceof Date)?s[G]=H:(typeof H=="number"?D="n":typeof H=="boolean"?D="b":typeof H=="string"?D="s":H instanceof Date?(D="d",r.cellDates||(D="n",H=$r(H)),z=r.dateNF||St[14]):H===null&&r.nullError&&(D="e",H=0),d?(d.t=D,d.v=H,delete d.w,delete d.R,z&&(d.z=z)):s[G]=d={t:D,v:H},z&&(d.z=z))})}),h.e.c=Math.max(h.e.c,c+y.length-1);var S=Er(l);if(i)for(A=0;A<y.length;++A)s[tr(A+c)+S]={t:"s",v:y[A]};return s["!ref"]=Gt(h),s}function MO(t,e){return EC(null,t,e)}function vf(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=qr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?vf(t,yt(e)):vf(t,yt({r:e,c:n||0}))}function FO(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function e1(){return{SheetNames:[],Sheets:{}}}function t1(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=l+i)!=-1;++i);}if(xL(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function PO(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=FO(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function LO(t,e){return t.z=e,t}function TC(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function OO(t,e,n){return TC(t,"#"+e,n)}function UO(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function VO(t,e,n,r){for(var i=typeof e!="string"?e:Mn(e),s=typeof e=="string"?e:Gt(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var f=vf(t,l,c);f.t="n",f.F=s,delete f.v,l==i.s.r&&c==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var kh={encode_col:tr,encode_row:Er,encode_cell:yt,encode_range:Gt,decode_col:Bv,decode_row:Vv,split_cell:X3,decode_cell:qr,decode_range:Ec,format_cell:Za,sheet_add_aoa:Cw,sheet_add_json:EC,sheet_add_dom:gC,aoa_to_sheet:Tc,json_to_sheet:MO,table_to_sheet:vC,table_to_book:nO,sheet_to_csv:_C,sheet_to_txt:kO,sheet_to_json:Lg,sheet_to_html:tO,sheet_to_formulae:DO,sheet_to_row_object_array:Lg,sheet_get_cell:vf,book_new:e1,book_append_sheet:t1,book_set_sheet_visibility:PO,cell_set_number_format:LO,cell_set_hyperlink:TC,cell_set_internal_link:OO,cell_add_comment:UO,sheet_set_array_formula:VO,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const AC=t=>String(t).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),BO=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[R$\s.]/g,"").replace(",",".");return parseFloat(e)||0},LT=t=>{if(!t)return 0;if(typeof t=="number")return t;const e=String(t).replace(/[%]/g,"").replace(",",".");return parseFloat(e)||0},HO=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var s;try{const l=(s=i.target)==null?void 0:s.result,c=e0(l,{type:"binary"}),f=c.SheetNames[0],d=c.Sheets[f];if(!d["!ref"]){e([]);return}const h=kh.decode_range(d["!ref"]),v=[],y=[],A=h.s.r;for(let S=h.s.c;S<=h.e.c;++S){const w=kh.encode_cell({c:S,r:A}),C=d[w];if(C&&C.v){const O=String(C.v);y.push({index:S,name:O,normalized:AC(O)})}}for(let S=A+1;S<=h.e.r;++S){const w={};let C;if(y.forEach(P=>{const M=kh.encode_cell({c:P.index,r:S}),k=d[M];k&&(w[P.normalized]=k.v,!C&&(P.normalized.includes("endereco")||P.normalized.includes("logradouro")||P.normalized.includes("localizacao")||P.normalized==="rua"||P.normalized==="mapa"||P.normalized==="link")&&k.l&&k.l.Target&&(C=k.l.Target))}),Object.keys(w).length===0)continue;const O=w.endereco||w.logradouro||w.localizacao||w["endereco completo"]||w.rua||w.end||"",{address:H,link:D,lat:z,lng:G}=VS(O),j=C||D,I=w["razao social"]||w.cliente||w["nome fantasia"]||w.empresa||w.nome||w["nome cliente"]||w.parceiro||w.loja||"",N=w["nome do proprietario"]||w.proprietario||w.dono||w["contato principal"]||w.responsavel||w.socio||"",b=String(w.contato||w.telefone||w.celular||w.whatsapp||w.tel||w.fone||"");(I||H||O)&&v.push({"Razo Social":I,"Nome do Proprietrio":N,Contato:b,Endereo:H,GoogleMapsLink:j,extractedLat:z,extractedLng:G})}e(v)}catch(l){console.error("Excel Parsing Error:",l),n(l)}},r.onerror=i=>n(i),r.readAsBinaryString(t)}),SC=t=>new Promise((e,n)=>{const r=new FileReader;r.onload=i=>{var s;try{const l=(s=i.target)==null?void 0:s.result,c=e0(l,{type:"binary"}),f=c.SheetNames[0],d=c.Sheets[f],h=[];kh.sheet_to_json(d,{defval:""}).forEach(y=>{const A={};Object.keys(y).forEach(j=>{A[AC(j)]=y[j]});const S=String(A["numero do sku"]||A.sku||""),w=A.marca||A.fabricante||"Genrico",C=String(A["cod.fabrica"]||A["cod fabrica"]||A["codigo fabrica"]||""),O=A.descricao||A.nome||A.produto||"",H=BO(A["preco de venda"]||A.preco||0),D=A.categoria||w||"Geral",z=LT(A.margem||0),G=LT(A.desconto||A.discount||0);(S||O)&&h.push({category:D,sku:S,brand:w,factoryCode:C,name:O,price:H,margin:z,discount:G})}),e(h)}catch(l){console.error("Product Excel Parsing Error:",l),n(l)}},r.onerror=i=>n(i),r.readAsBinaryString(t)});var GO={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let zO,qO;function jO(){return{geminiUrl:zO,vertexUrl:qO}}function $O(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const l=jO();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(s=l.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class as{}function Je(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let s=0;s<e.length-1;s++){const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const f=t[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];g(h,e.slice(s+1),n[d])}else for(const d of f)g(d,e.slice(s+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const f=t[c];g(f[0],e.slice(s+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const l=t[s];return Array.isArray(l)?l.map(c=>m(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function KO(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),l=new Set;let c=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){c=f;break}if(c!==-1&&s.length>c)for(let f=c;f<s.length;f++){const d=s[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Og(t,i,s,0,l)}}function Og(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const l=s.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const f of c[l])Og(f,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of c)f[d]=l[d];for(const[d,h]of Object.entries(f)){const v=[];for(const y of n.slice(r))y==="*"?v.push(d):v.push(y);g(l,v,h)}for(const d of c)delete l[d]}}else{const l=t;s in l&&Og(l[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YO(t){const e={},n=m(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=m(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function JO(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],XO(l)),e}function WO(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],QO(l)),e}function XO(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>ZO(l))),g(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function QO(t){const e={},n=m(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>e8(l))),g(e,["generatedVideos"],s)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=m(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function ZO(t){const e={},n=m(t,["video"]);return n!=null&&g(e,["video"],s8(n)),e}function e8(t){const e={},n=m(t,["_self"]);return n!=null&&g(e,["video"],o8(n)),e}function t8(t){const e={},n=m(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function n8(t){const e={},n=m(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function r8(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],i8(l)),e}function i8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&g(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function wC(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],a8(l)),e}function a8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&g(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function s8(t){const e={},n=m(t,["uri"]);n!=null&&g(e,["uri"],n);const r=m(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],n1(r));const i=m(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function o8(t){const e={},n=m(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],n1(r));const i=m(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var OT;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(OT||(OT={}));var UT;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(UT||(UT={}));var VT;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(VT||(VT={}));var $s;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})($s||($s={}));var BT;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(BT||(BT={}));var HT;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(HT||(HT={}));var GT;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(GT||(GT={}));var zT;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zT||(zT={}));var qT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(qT||(qT={}));var jT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jT||(jT={}));var $T;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($T||($T={}));var KT;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(KT||(KT={}));var YT;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(YT||(YT={}));var JT;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(JT||(JT={}));var WT;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(WT||(WT={}));var XT;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(XT||(XT={}));var QT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(QT||(QT={}));var ZT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ZT||(ZT={}));var e2;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(e2||(e2={}));var t2;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(t2||(t2={}));var n2;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(n2||(n2={}));var t0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(t0||(t0={}));var r2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(r2||(r2={}));var i2;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(i2||(i2={}));var a2;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(a2||(a2={}));var Ug;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ug||(Ug={}));var s2;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(s2||(s2={}));var o2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(o2||(o2={}));var Vg;(function(t){t.COLLECTION="COLLECTION"})(Vg||(Vg={}));var l2;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(l2||(l2={}));var c2;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(c2||(c2={}));var u2;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(u2||(u2={}));var f2;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(f2||(f2={}));var d2;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(d2||(d2={}));var h2;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(h2||(h2={}));var p2;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(p2||(p2={}));var m2;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(m2||(m2={}));var g2;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(g2||(g2={}));var v2;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(v2||(v2={}));var x2;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(x2||(x2={}));var y2;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(y2||(y2={}));var _2;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_2||(_2={}));var E2;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(E2||(E2={}));var T2;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(T2||(T2={}));var A2;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(A2||(A2={}));var S2;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(S2||(S2={}));var w2;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(w2||(w2={}));var C2;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(C2||(C2={}));var b2;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(b2||(b2={}));var N2;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(N2||(N2={}));var I2;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(I2||(I2={}));var R2;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(R2||(R2={}));var k2;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(k2||(k2={}));var D2;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(D2||(D2={}));var M2;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(M2||(M2={}));var F2;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(F2||(F2={}));var ec;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ec||(ec={}));class Bg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Cu{get text(){var e,n,r,i,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const v=[];for(const y of(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[A,S]of Object.entries(y))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(S!==null||S!==void 0)&&v.push(A);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,d+=y.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const v of(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[y,A]of Object.entries(v))y!=="inlineData"&&(A!==null||A!==void 0)&&h.push(y);v.inlineData&&typeof v.inlineData.data=="string"&&(d+=atob(v.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,s,l,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,l,c,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(c=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class P2{}class L2{}class l8{}class c8{}class u8{}class f8{}class O2{}class U2{}class V2{}class d8{}class n0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new n0;let i;const s=e;return n?i=WO(s):i=JO(s),Object.assign(r,i),r}}class B2{}class H2{}class G2{}class z2{}class h8{}class p8{}class m8{}class r1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new r1,s=r8(e);return Object.assign(r,s),r}}class g8{}class v8{}class x8{}class y8{}class q2{}class _8{get text(){var e,n,r;let i="",s=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="inlineData"&&f!==null&&s.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class E8{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class i1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new i1,s=wC(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function CC(t,e){const n=Yt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function bC(t){return Array.isArray(t)?t.map(e=>r0(e)):[r0(t)]}function r0(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function NC(t){const e=r0(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function IC(t){const e=r0(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function j2(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function RC(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>j2(e)):[j2(t)]}function Hg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $2(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function K2(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Fr(t){if(t==null)throw new Error("ContentUnion is required");return Hg(t)?t:{role:"user",parts:RC(t)}}function a1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Fr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Fr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Fr(n)):[Fr(e)]}function Di(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($2(t)||K2(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Fr(t)]}const e=[],n=[],r=Hg(t[0]);for(const i of t){const s=Hg(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if($2(i)||K2(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:RC(n)}),e}function T8(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values($s).includes(n[0].toUpperCase())?n[0].toUpperCase():$s.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values($s).includes(r.toUpperCase())?r.toUpperCase():$s.TYPE_UNSPECIFIED})}}function lc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&T8(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values($s).includes(c.toUpperCase())?c.toUpperCase():$s.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=lc(c);else if(r.includes(l)){const f=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}f.push(lc(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(c))f[d]=lc(h);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=c}return e}function s1(t){return lc(t)}function o1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function l1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ac(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=lc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=lc(e.response));return t}function Sc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function A8(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ss(t,e){if(typeof e!="string")throw new Error("name must be a string");return A8(t,e,"cachedContents")}function kC(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function lo(t){return n1(t)}function S8(t){return t!=null&&typeof t=="object"&&"name"in t}function w8(t){return t!=null&&typeof t=="object"&&"video"in t}function C8(t){return t!=null&&typeof t=="object"&&"uri"in t}function DC(t){var e;let n;if(S8(t)&&(n=t.name),!(C8(t)&&(n=t.uri,n===void 0))&&!(w8(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function MC(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function FC(t){for(const e of["models","tunedModels","publisherModels"])if(b8(t,e))return t[e];return[]}function b8(t,e){return t!==null&&typeof t=="object"&&e in t}function N8(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function I8(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const l=N8(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function PC(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function R8(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function LC(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function wc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function OC(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k8(t){const e={},n=m(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=m(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>fU(l))),g(e,["inlinedResponses"],s)}const i=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["inlinedEmbedContentResponses"],s)}return e}function D8(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=m(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=m(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function M8(t){const e={},n=m(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=m(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dh(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=m(t,["metadata","state"]);i!=null&&g(e,["state"],OC(i));const s=m(t,["metadata","createTime"]);s!=null&&g(e,["createTime"],s);const l=m(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const c=m(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const f=m(t,["metadata","model"]);f!=null&&g(e,["model"],f);const d=m(t,["metadata","output"]);return d!=null&&g(e,["dest"],k8(LC(d))),e}function Gg(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=m(t,["state"]);i!=null&&g(e,["state"],OC(i));const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["createTime"]);l!=null&&g(e,["createTime"],l);const c=m(t,["startTime"]);c!=null&&g(e,["startTime"],c);const f=m(t,["endTime"]);f!=null&&g(e,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const h=m(t,["model"]);h!=null&&g(e,["model"],h);const v=m(t,["inputConfig"]);v!=null&&g(e,["src"],F8(v));const y=m(t,["outputConfig"]);y!=null&&g(e,["dest"],D8(LC(y)));const A=m(t,["completionStats"]);return A!=null&&g(e,["completionStats"],A),e}function F8(t){const e={},n=m(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=m(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=m(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function P8(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=m(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>uU(t,l))),g(n,["requests","requests"],s)}return n}function L8(t){const e={},n=m(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=m(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=m(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function O8(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function U8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],wc(t,r)),n}function V8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],wc(t,r)),n}function B8(t){const e={},n=m(t,["content"]);n!=null&&g(e,["content"],n);const r=m(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],H8(r));const i=m(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=m(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const l=m(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=m(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=m(t,["index"]);f!=null&&g(e,["index"],f);const d=m(t,["logprobsResult"]);d!=null&&g(e,["logprobsResult"],d);const h=m(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(A=>A)),g(e,["safetyRatings"],y)}const v=m(t,["urlContextMetadata"]);return v!=null&&g(e,["urlContextMetadata"],v),e}function H8(t){const e={},n=m(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function UC(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>xU(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function G8(t,e){const n={},r=m(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function z8(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=m(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],M8(R8(i))),n}function Y2(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Yt(t,r));const i=m(e,["src"]);i!=null&&g(n,["batch","inputConfig"],P8(t,PC(t,i)));const s=m(e,["config"]);return s!=null&&G8(s,n),n}function q8(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],Yt(t,r));const i=m(e,["src"]);i!=null&&g(n,["inputConfig"],L8(PC(t,i)));const s=m(e,["config"]);return s!=null&&z8(s,n),n}function j8(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function $8(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["_url","model"],Yt(t,r));const i=m(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Z8(t,i));const s=m(e,["config"]);return s!=null&&j8(s,n),n}function K8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],wc(t,r)),n}function Y8(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],wc(t,r)),n}function J8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);return s!=null&&g(e,["error"],s),e}function W8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);return s!=null&&g(e,["error"],s),e}function X8(t,e){const n={},r=m(e,["contents"]);if(r!=null){let s=a1(t,r);Array.isArray(s)&&(s=s.map(l=>l)),g(n,["requests[]","request","content"],s)}const i=m(e,["config"]);return i!=null&&(g(n,["_self"],Q8(i,n)),KO(n,{"requests[].*":"requests[].request.*"})),n}function Q8(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=m(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=m(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Z8(t,e){const n={},r=m(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=m(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],X8(t,i)),n}function eU(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function tU(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function nU(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&g(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function rU(t,e,n){const r={},i=m(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],UC(Fr(i)));const s=m(e,["temperature"]);s!=null&&g(r,["temperature"],s);const l=m(e,["topP"]);l!=null&&g(r,["topP"],l);const c=m(e,["topK"]);c!=null&&g(r,["topK"],c);const f=m(e,["candidateCount"]);f!=null&&g(r,["candidateCount"],f);const d=m(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const h=m(e,["stopSequences"]);h!=null&&g(r,["stopSequences"],h);const v=m(e,["responseLogprobs"]);v!=null&&g(r,["responseLogprobs"],v);const y=m(e,["logprobs"]);y!=null&&g(r,["logprobs"],y);const A=m(e,["presencePenalty"]);A!=null&&g(r,["presencePenalty"],A);const S=m(e,["frequencyPenalty"]);S!=null&&g(r,["frequencyPenalty"],S);const w=m(e,["seed"]);w!=null&&g(r,["seed"],w);const C=m(e,["responseMimeType"]);C!=null&&g(r,["responseMimeType"],C);const O=m(e,["responseSchema"]);O!=null&&g(r,["responseSchema"],s1(O));const H=m(e,["responseJsonSchema"]);if(H!=null&&g(r,["responseJsonSchema"],H),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=m(e,["safetySettings"]);if(n!==void 0&&D!=null){let U=D;Array.isArray(U)&&(U=U.map(Te=>yU(Te))),g(n,["safetySettings"],U)}const z=m(e,["tools"]);if(n!==void 0&&z!=null){let U=Sc(z);Array.isArray(U)&&(U=U.map(Te=>EU(Ac(Te)))),g(n,["tools"],U)}const G=m(e,["toolConfig"]);if(n!==void 0&&G!=null&&g(n,["toolConfig"],_U(G)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=m(e,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],ss(t,j));const I=m(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const N=m(e,["mediaResolution"]);N!=null&&g(r,["mediaResolution"],N);const b=m(e,["speechConfig"]);if(b!=null&&g(r,["speechConfig"],o1(b)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=m(e,["thinkingConfig"]);P!=null&&g(r,["thinkingConfig"],P);const M=m(e,["imageConfig"]);M!=null&&g(r,["imageConfig"],cU(M));const k=m(e,["enableEnhancedCivicAnswers"]);if(k!=null&&g(r,["enableEnhancedCivicAnswers"],k),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function iU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>B8(d))),g(e,["candidates"],f)}const i=m(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=m(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const l=m(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=m(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function aU(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],wc(t,r)),n}function sU(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],wc(t,r)),n}function oU(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function lU(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function cU(t){const e={},n=m(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=m(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function uU(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["request","model"],Yt(t,r));const i=m(e,["contents"]);if(i!=null){let c=Di(i);Array.isArray(c)&&(c=c.map(f=>UC(f))),g(n,["request","contents"],c)}const s=m(e,["metadata"]);s!=null&&g(n,["metadata"],s);const l=m(e,["config"]);return l!=null&&g(n,["request","generationConfig"],rU(t,l,m(n,["request"],{}))),n}function fU(t){const e={},n=m(t,["response"]);n!=null&&g(e,["response"],iU(n));const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["error"]);return i!=null&&g(e,["error"],i),e}function dU(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function hU(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=m(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function pU(t){const e={},n=m(t,["config"]);return n!=null&&dU(n,e),e}function mU(t){const e={},n=m(t,["config"]);return n!=null&&hU(n,e),e}function gU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Dh(l))),g(e,["batchJobs"],s)}return e}function vU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Gg(l))),g(e,["batchJobs"],s)}return e}function xU(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],eU(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],tU(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&g(e,["inlineData"],O8(f));const d=m(t,["text"]);d!=null&&g(e,["text"],d);const h=m(t,["thought"]);h!=null&&g(e,["thought"],h);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function yU(t){const e={},n=m(t,["category"]);if(n!=null&&g(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function _U(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],nU(r)),e}function EU(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),g(e,["functionDeclarations"],h)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],oU(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],lU(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var es;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(es||(es={}));class il{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TU extends as{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new il(es.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Y2(this.apiClient,e),r=n._url,i=Je("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const h of f){const v=Object.assign({},h);if(v.systemInstruction){const y=v.systemInstruction;delete v.systemInstruction;const A=v.request;A.systemInstruction=y,v.request=A}d.push(v)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),l=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=q8(this.apiClient,e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Gg(h))}else{const d=Y2(this.apiClient,e);return c=Je("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>Dh(h))}}async createEmbeddingsInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$8(this.apiClient,e);return s=Je("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Dh(f))}}async get(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=sU(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Gg(h))}else{const d=aU(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>Dh(h))}}async cancel(e){var n,r,i,s;let l="",c={};if(this.apiClient.isVertexAI()){const f=V8(this.apiClient,e);l=Je("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=U8(this.apiClient,e);l=Je("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=mU(e);return c=Je("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=vU(h),y=new q2;return Object.assign(y,v),y})}else{const d=pU(e);return c=Je("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=gU(h),y=new q2;return Object.assign(y,v),y})}}async delete(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Y8(this.apiClient,e);return c=Je("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>W8(h))}else{const d=K8(this.apiClient,e);return c=Je("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>J8(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AU(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function J2(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>$U(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function SU(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let h=Di(l);Array.isArray(h)&&(h=h.map(v=>J2(v))),g(e,["contents"],h)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],J2(Fr(c)));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(v=>YU(v))),g(e,["tools"],h)}const d=m(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],KU(d)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function wU(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=m(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const l=m(t,["contents"]);if(e!==void 0&&l!=null){let v=Di(l);Array.isArray(v)&&(v=v.map(y=>y)),g(e,["contents"],v)}const c=m(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],Fr(c));const f=m(t,["tools"]);if(e!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(y=>JU(y))),g(e,["tools"],v)}const d=m(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],d);const h=m(t,["kmsKeyName"]);return e!==void 0&&h!=null&&g(e,["encryption_spec","kmsKeyName"],h),n}function CU(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],CC(t,r));const i=m(e,["config"]);return i!=null&&SU(i,n),n}function bU(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["model"],CC(t,r));const i=m(e,["config"]);return i!=null&&wU(i,n),n}function NU(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ss(t,r)),n}function IU(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ss(t,r)),n}function RU(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function kU(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function DU(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function MU(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function FU(t){const e={},n=m(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=m(t,["mode"]);if(r!=null&&g(e,["mode"],r),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function PU(t){const e={},n=m(t,["description"]);n!=null&&g(e,["description"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const l=m(t,["response"]);l!=null&&g(e,["response"],l);const c=m(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function LU(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ss(t,r)),n}function OU(t,e){const n={},r=m(e,["name"]);return r!=null&&g(n,["_url","name"],ss(t,r)),n}function UU(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function VU(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function BU(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function HU(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function GU(t){const e={},n=m(t,["config"]);return n!=null&&BU(n,e),e}function zU(t){const e={},n=m(t,["config"]);return n!=null&&HU(n,e),e}function qU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["cachedContents"],s)}return e}function jU(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["cachedContents"],s)}return e}function $U(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],DU(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],MU(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&g(e,["inlineData"],AU(f));const d=m(t,["text"]);d!=null&&g(e,["text"],d);const h=m(t,["thought"]);h!=null&&g(e,["thought"],h);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function KU(t){const e={},n=m(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=m(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],FU(r)),e}function YU(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),g(e,["functionDeclarations"],h)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],UU(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],VU(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function JU(t){const e={},n=m(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(y=>PU(y))),g(e,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function WU(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function XU(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=m(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function QU(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ss(t,r));const i=m(e,["config"]);return i!=null&&WU(i,n),n}function ZU(t,e){const n={},r=m(e,["name"]);r!=null&&g(n,["_url","name"],ss(t,r));const i=m(e,["config"]);return i!=null&&XU(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e9 extends as{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new il(es.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=bU(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=CU(this.apiClient,e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=OU(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=LU(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=IU(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=kU(h),y=new G2;return Object.assign(y,v),y})}else{const d=NU(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=RU(h),y=new G2;return Object.assign(y,v),y})}}async update(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=ZU(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=QU(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=zU(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=jU(h),y=new z2;return Object.assign(y,v),y})}else{const d=GU(e);return c=Je("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=qU(h),y=new z2;return Object.assign(y,v),y})}}}function i0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function W2(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gt(t){return this instanceof gt?(this.v=t,this):new gt(t)}function ta(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(A){return function(S){return Promise.resolve(S).then(A,v)}}function c(A,S){r[A]&&(i[A]=function(w){return new Promise(function(C,O){s.push([A,w,C,O])>1||f(A,w)})},S&&(i[A]=S(i[A])))}function f(A,S){try{d(r[A](S))}catch(w){y(s[0][3],w)}}function d(A){A.value instanceof gt?Promise.resolve(A.value.v).then(h,v):y(s[0][2],A)}function h(A){f("next",A)}function v(A){f("throw",A)}function y(A,S){A(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}function na(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof W2=="function"?W2(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(l){return new Promise(function(c,f){l=t[s](l),i(c,f,l.done,l.value)})}}function i(s,l,c,f){Promise.resolve(f).then(function(d){s({value:d,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t9(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:VC(n)}function VC(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function n9(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function X2(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!VC(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class r9{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new i9(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class i9{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),n9(s)}async sendMessage(e){var n;await this.sendPromise;const r=Fr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,c;const f=await i,d=(l=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let y=[];h!=null&&(y=(c=h.slice(v))!==null&&c!==void 0?c:[]);const A=d?[d]:[];this.recordHistory(r,A,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Fr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?X2(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return ta(this,arguments,function*(){var i,s,l,c,f,d;const h=[];try{for(var v=!0,y=na(e),A;A=yield gt(y.next()),i=A.done,!i;v=!0){c=A.value,v=!1;const S=c;if(t9(S)){const w=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;w!==void 0&&h.push(w)}yield yield gt(S)}}catch(S){s={error:S}}finally{try{!v&&!i&&(l=y.return)&&(yield gt(l.call(y)))}finally{if(s)throw s.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...X2(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a9(t){const e={},n=m(t,["file"]);return n!=null&&g(e,["file"],n),e}function s9(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function o9(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","file"],DC(n)),e}function l9(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function c9(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","file"],DC(n)),e}function u9(t){const e={},n=m(t,["uris"]);return n!=null&&g(e,["uris"],n),e}function f9(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function d9(t){const e={},n=m(t,["config"]);return n!=null&&f9(n,e),e}function h9(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["files"],s)}return e}function p9(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m9 extends as{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new il(es.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=d9(e);return s=Je("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=h9(f),h=new g8;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=a9(e);return s=Je("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=s9(f),h=new v8;return Object.assign(h,d),h})}}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=c9(e);return s=Je("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=o9(e);return s=Je("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=l9(f),h=new x8;return Object.assign(h,d),h})}}async registerFilesInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=u9(e);return s=Je("files:register",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=p9(f),h=new y8;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mh(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function g9(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>D9(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function v9(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function x9(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function y9(t){const e={},n=m(t,["description"]);n!=null&&g(e,["description"],n);const r=m(t,["name"]);r!=null&&g(e,["name"],r);const i=m(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=m(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const l=m(t,["response"]);l!=null&&g(e,["response"],l);const c=m(t,["responseJsonSchema"]);if(c!=null&&g(e,["responseJsonSchema"],c),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function _9(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=m(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=m(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=m(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const l=m(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=m(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const f=m(t,["logprobs"]);f!=null&&g(e,["logprobs"],f);const d=m(t,["maxOutputTokens"]);d!=null&&g(e,["maxOutputTokens"],d);const h=m(t,["mediaResolution"]);h!=null&&g(e,["mediaResolution"],h);const v=m(t,["presencePenalty"]);v!=null&&g(e,["presencePenalty"],v);const y=m(t,["responseLogprobs"]);y!=null&&g(e,["responseLogprobs"],y);const A=m(t,["responseMimeType"]);A!=null&&g(e,["responseMimeType"],A);const S=m(t,["responseModalities"]);S!=null&&g(e,["responseModalities"],S);const w=m(t,["responseSchema"]);w!=null&&g(e,["responseSchema"],w);const C=m(t,["routingConfig"]);C!=null&&g(e,["routingConfig"],C);const O=m(t,["seed"]);O!=null&&g(e,["seed"],O);const H=m(t,["speechConfig"]);H!=null&&g(e,["speechConfig"],H);const D=m(t,["stopSequences"]);D!=null&&g(e,["stopSequences"],D);const z=m(t,["temperature"]);z!=null&&g(e,["temperature"],z);const G=m(t,["thinkingConfig"]);G!=null&&g(e,["thinkingConfig"],G);const j=m(t,["topK"]);j!=null&&g(e,["topK"],j);const I=m(t,["topP"]);if(I!=null&&g(e,["topP"],I),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function E9(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function T9(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function A9(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=m(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","seed"],h);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],l1(v));const y=m(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const A=m(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],A);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],g9(Fr(S)));const w=m(t,["tools"]);if(e!==void 0&&w!=null){let j=Sc(w);Array.isArray(j)&&(j=j.map(I=>F9(Ac(I)))),g(e,["setup","tools"],j)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&g(e,["setup","sessionResumption"],M9(C));const O=m(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","inputAudioTranscription"],O);const H=m(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&g(e,["setup","outputAudioTranscription"],H);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],D);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&g(e,["setup","contextWindowCompression"],z);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&g(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function S9(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],_9(r));const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=m(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","seed"],h);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],l1(v));const y=m(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const A=m(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],A);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],Fr(S));const w=m(t,["tools"]);if(e!==void 0&&w!=null){let I=Sc(w);Array.isArray(I)&&(I=I.map(N=>P9(Ac(N)))),g(e,["setup","tools"],I)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&g(e,["setup","sessionResumption"],C);const O=m(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","inputAudioTranscription"],O);const H=m(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&g(e,["setup","outputAudioTranscription"],H);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],D);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&g(e,["setup","contextWindowCompression"],z);const G=m(t,["proactivity"]);e!==void 0&&G!=null&&g(e,["setup","proactivity"],G);const j=m(t,["explicitVadSignal"]);return e!==void 0&&j!=null&&g(e,["setup","explicitVadSignal"],j),n}function w9(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Yt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],A9(i,n)),n}function C9(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Yt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],S9(i,n)),n}function b9(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function N9(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function I9(t){const e={},n=m(t,["media"]);if(n!=null){let d=bC(n);Array.isArray(d)&&(d=d.map(h=>Mh(h))),g(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&g(e,["audio"],Mh(IC(r)));const i=m(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&g(e,["video"],Mh(NC(s)));const l=m(t,["text"]);l!=null&&g(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function R9(t){const e={},n=m(t,["media"]);if(n!=null){let d=bC(n);Array.isArray(d)&&(d=d.map(h=>h)),g(e,["mediaChunks"],d)}const r=m(t,["audio"]);r!=null&&g(e,["audio"],IC(r));const i=m(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=m(t,["video"]);s!=null&&g(e,["video"],NC(s));const l=m(t,["text"]);l!=null&&g(e,["text"],l);const c=m(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const f=m(t,["activityEnd"]);return f!=null&&g(e,["activityEnd"],f),e}function k9(t){const e={},n=m(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=m(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=m(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const s=m(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],s);const l=m(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],L9(l));const c=m(t,["goAway"]);c!=null&&g(e,["goAway"],c);const f=m(t,["sessionResumptionUpdate"]);f!=null&&g(e,["sessionResumptionUpdate"],f);const d=m(t,["voiceActivityDetectionSignal"]);d!=null&&g(e,["voiceActivityDetectionSignal"],d);const h=m(t,["voiceActivity"]);return h!=null&&g(e,["voiceActivity"],O9(h)),e}function D9(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],v9(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],x9(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&g(e,["inlineData"],Mh(f));const d=m(t,["text"]);d!=null&&g(e,["text"],d);const h=m(t,["thought"]);h!=null&&g(e,["thought"],h);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function M9(t){const e={},n=m(t,["handle"]);if(n!=null&&g(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function F9(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),g(e,["functionDeclarations"],h)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],E9(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],T9(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function P9(t){const e={},n=m(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=m(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=m(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=m(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(y=>y9(y))),g(e,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],c);const f=m(t,["googleSearch"]);f!=null&&g(e,["googleSearch"],f);const d=m(t,["googleSearchRetrieval"]);d!=null&&g(e,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function L9(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=m(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const s=m(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const l=m(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const c=m(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const f=m(t,["promptTokensDetails"]);if(f!=null){let A=f;Array.isArray(A)&&(A=A.map(S=>S)),g(e,["promptTokensDetails"],A)}const d=m(t,["cacheTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(S=>S)),g(e,["cacheTokensDetails"],A)}const h=m(t,["candidatesTokensDetails"]);if(h!=null){let A=h;Array.isArray(A)&&(A=A.map(S=>S)),g(e,["responseTokensDetails"],A)}const v=m(t,["toolUsePromptTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(S=>S)),g(e,["toolUsePromptTokensDetails"],A)}const y=m(t,["trafficType"]);return y!=null&&g(e,["trafficType"],y),e}function O9(t){const e={},n=m(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function U9(t,e){const n={},r=m(t,["data"]);if(r!=null&&g(n,["data"],r),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function V9(t,e){const n={},r=m(t,["content"]);r!=null&&g(n,["content"],r);const i=m(t,["citationMetadata"]);i!=null&&g(n,["citationMetadata"],B9(i));const s=m(t,["tokenCount"]);s!=null&&g(n,["tokenCount"],s);const l=m(t,["finishReason"]);l!=null&&g(n,["finishReason"],l);const c=m(t,["avgLogprobs"]);c!=null&&g(n,["avgLogprobs"],c);const f=m(t,["groundingMetadata"]);f!=null&&g(n,["groundingMetadata"],f);const d=m(t,["index"]);d!=null&&g(n,["index"],d);const h=m(t,["logprobsResult"]);h!=null&&g(n,["logprobsResult"],h);const v=m(t,["safetyRatings"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(S=>S)),g(n,["safetyRatings"],A)}const y=m(t,["urlContextMetadata"]);return y!=null&&g(n,["urlContextMetadata"],y),n}function B9(t,e){const n={},r=m(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(n,["citations"],i)}return n}function H9(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["contents"]);if(s!=null){let l=Di(s);Array.isArray(l)&&(l=l.map(c=>c)),g(r,["contents"],l)}return r}function G9(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(n,["tokensInfo"],s)}return n}function z9(t,e){const n={},r=m(t,["values"]);r!=null&&g(n,["values"],r);const i=m(t,["statistics"]);return i!=null&&g(n,["statistics"],q9(i)),n}function q9(t,e){const n={},r=m(t,["truncated"]);r!=null&&g(n,["truncated"],r);const i=m(t,["token_count"]);return i!=null&&g(n,["tokenCount"],i),n}function D0(t,e){const n={},r=m(t,["parts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>ZV(l))),g(n,["parts"],s)}const i=m(t,["role"]);return i!=null&&g(n,["role"],i),n}function j9(t,e){const n={},r=m(t,["controlType"]);r!=null&&g(n,["controlType"],r);const i=m(t,["enableControlImageComputation"]);return i!=null&&g(n,["computeControl"],i),n}function $9(t,e){const n={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function K9(t,e,n){const r={},i=m(t,["systemInstruction"]);e!==void 0&&i!=null&&g(e,["systemInstruction"],Fr(i));const s=m(t,["tools"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>zC(f))),g(e,["tools"],c)}const l=m(t,["generationConfig"]);return e!==void 0&&l!=null&&g(e,["generationConfig"],UV(l)),r}function Y9(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Di(s);Array.isArray(c)&&(c=c.map(f=>D0(f))),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&$9(l),r}function J9(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Di(s);Array.isArray(c)&&(c=c.map(f=>f)),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&K9(l,r),r}function W9(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);i!=null&&g(n,["totalTokens"],i);const s=m(t,["cachedContentTokenCount"]);return s!=null&&g(n,["cachedContentTokenCount"],s),n}function X9(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["totalTokens"]);return i!=null&&g(n,["totalTokens"],i),n}function Q9(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Yt(t,i)),r}function Z9(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Yt(t,i)),r}function eV(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function tV(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function nV(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&g(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&g(e,["parameters","safetySetting"],h);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&g(e,["parameters","personGeneration"],v);const y=m(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const A=m(t,["includeRaiReason"]);e!==void 0&&A!=null&&g(e,["parameters","includeRaiReason"],A);const S=m(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const w=m(t,["outputMimeType"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","mimeType"],w);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","compressionQuality"],C);const O=m(t,["addWatermark"]);e!==void 0&&O!=null&&g(e,["parameters","addWatermark"],O);const H=m(t,["labels"]);e!==void 0&&H!=null&&g(e,["labels"],H);const D=m(t,["editMode"]);e!==void 0&&D!=null&&g(e,["parameters","editMode"],D);const z=m(t,["baseSteps"]);return e!==void 0&&z!=null&&g(e,["parameters","editConfig","baseSteps"],z),r}function rV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>a7(d))),g(r,["instances[0]","referenceImages"],f)}const c=m(e,["config"]);return c!=null&&nV(c,r),r}function iV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>M0(l))),g(n,["generatedImages"],s)}return n}function aV(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&g(e,["requests[]","taskType"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const l=m(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&g(e,["requests[]","outputDimensionality"],l),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function sV(t,e,n){const r={},i=m(t,["taskType"]);e!==void 0&&i!=null&&g(e,["instances[]","task_type"],i);const s=m(t,["title"]);e!==void 0&&s!=null&&g(e,["instances[]","title"],s);const l=m(t,["outputDimensionality"]);e!==void 0&&l!=null&&g(e,["parameters","outputDimensionality"],l);const c=m(t,["mimeType"]);e!==void 0&&c!=null&&g(e,["instances[]","mimeType"],c);const f=m(t,["autoTruncate"]);return e!==void 0&&f!=null&&g(e,["parameters","autoTruncate"],f),r}function oV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["contents"]);if(s!=null){let f=a1(t,s);Array.isArray(f)&&(f=f.map(d=>d)),g(r,["requests[]","content"],f)}const l=m(e,["config"]);l!=null&&aV(l,r);const c=m(e,["model"]);return c!==void 0&&g(r,["requests[]","model"],Yt(t,c)),r}function lV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["contents"]);if(s!=null){let c=a1(t,s);Array.isArray(c)&&(c=c.map(f=>f)),g(r,["instances[]","content"],c)}const l=m(e,["config"]);return l!=null&&sV(l,r),r}function cV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),g(n,["embeddings"],l)}const s=m(t,["metadata"]);return s!=null&&g(n,["metadata"],s),n}function uV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>z9(c))),g(n,["embeddings"],l)}const s=m(t,["metadata"]);return s!=null&&g(n,["metadata"],s),n}function fV(t,e){const n={},r=m(t,["endpoint"]);r!=null&&g(n,["name"],r);const i=m(t,["deployedModelId"]);return i!=null&&g(n,["deployedModelId"],i),n}function dV(t,e){const n={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["fileUri"]);r!=null&&g(n,["fileUri"],r);const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function hV(t,e){const n={},r=m(t,["id"]);r!=null&&g(n,["id"],r);const i=m(t,["args"]);i!=null&&g(n,["args"],i);const s=m(t,["name"]);if(s!=null&&g(n,["name"],s),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function pV(t,e){const n={},r=m(t,["allowedFunctionNames"]);r!=null&&g(n,["allowedFunctionNames"],r);const i=m(t,["mode"]);if(i!=null&&g(n,["mode"],i),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function mV(t,e){const n={},r=m(t,["description"]);r!=null&&g(n,["description"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["parameters"]);s!=null&&g(n,["parameters"],s);const l=m(t,["parametersJsonSchema"]);l!=null&&g(n,["parametersJsonSchema"],l);const c=m(t,["response"]);c!=null&&g(n,["response"],c);const f=m(t,["responseJsonSchema"]);if(f!=null&&g(n,["responseJsonSchema"],f),m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function gV(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],D0(Fr(s)));const l=m(e,["temperature"]);l!=null&&g(i,["temperature"],l);const c=m(e,["topP"]);c!=null&&g(i,["topP"],c);const f=m(e,["topK"]);f!=null&&g(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&g(i,["maxOutputTokens"],h);const v=m(e,["stopSequences"]);v!=null&&g(i,["stopSequences"],v);const y=m(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const A=m(e,["logprobs"]);A!=null&&g(i,["logprobs"],A);const S=m(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const w=m(e,["frequencyPenalty"]);w!=null&&g(i,["frequencyPenalty"],w);const C=m(e,["seed"]);C!=null&&g(i,["seed"],C);const O=m(e,["responseMimeType"]);O!=null&&g(i,["responseMimeType"],O);const H=m(e,["responseSchema"]);H!=null&&g(i,["responseSchema"],s1(H));const D=m(e,["responseJsonSchema"]);if(D!=null&&g(i,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=m(e,["safetySettings"]);if(n!==void 0&&z!=null){let Te=z;Array.isArray(Te)&&(Te=Te.map(Ae=>s7(Ae))),g(n,["safetySettings"],Te)}const G=m(e,["tools"]);if(n!==void 0&&G!=null){let Te=Sc(G);Array.isArray(Te)&&(Te=Te.map(Ae=>h7(Ac(Ae)))),g(n,["tools"],Te)}const j=m(e,["toolConfig"]);if(n!==void 0&&j!=null&&g(n,["toolConfig"],d7(j)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=m(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],ss(t,I));const N=m(e,["responseModalities"]);N!=null&&g(i,["responseModalities"],N);const b=m(e,["mediaResolution"]);b!=null&&g(i,["mediaResolution"],b);const P=m(e,["speechConfig"]);if(P!=null&&g(i,["speechConfig"],o1(P)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=m(e,["thinkingConfig"]);M!=null&&g(i,["thinkingConfig"],M);const k=m(e,["imageConfig"]);k!=null&&g(i,["imageConfig"],zV(k));const U=m(e,["enableEnhancedCivicAnswers"]);if(U!=null&&g(i,["enableEnhancedCivicAnswers"],U),m(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function vV(t,e,n,r){const i={},s=m(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],Fr(s));const l=m(e,["temperature"]);l!=null&&g(i,["temperature"],l);const c=m(e,["topP"]);c!=null&&g(i,["topP"],c);const f=m(e,["topK"]);f!=null&&g(i,["topK"],f);const d=m(e,["candidateCount"]);d!=null&&g(i,["candidateCount"],d);const h=m(e,["maxOutputTokens"]);h!=null&&g(i,["maxOutputTokens"],h);const v=m(e,["stopSequences"]);v!=null&&g(i,["stopSequences"],v);const y=m(e,["responseLogprobs"]);y!=null&&g(i,["responseLogprobs"],y);const A=m(e,["logprobs"]);A!=null&&g(i,["logprobs"],A);const S=m(e,["presencePenalty"]);S!=null&&g(i,["presencePenalty"],S);const w=m(e,["frequencyPenalty"]);w!=null&&g(i,["frequencyPenalty"],w);const C=m(e,["seed"]);C!=null&&g(i,["seed"],C);const O=m(e,["responseMimeType"]);O!=null&&g(i,["responseMimeType"],O);const H=m(e,["responseSchema"]);H!=null&&g(i,["responseSchema"],s1(H));const D=m(e,["responseJsonSchema"]);D!=null&&g(i,["responseJsonSchema"],D);const z=m(e,["routingConfig"]);z!=null&&g(i,["routingConfig"],z);const G=m(e,["modelSelectionConfig"]);G!=null&&g(i,["modelConfig"],G);const j=m(e,["safetySettings"]);if(n!==void 0&&j!=null){let Ne=j;Array.isArray(Ne)&&(Ne=Ne.map(ie=>ie)),g(n,["safetySettings"],Ne)}const I=m(e,["tools"]);if(n!==void 0&&I!=null){let Ne=Sc(I);Array.isArray(Ne)&&(Ne=Ne.map(ie=>zC(Ac(ie)))),g(n,["tools"],Ne)}const N=m(e,["toolConfig"]);n!==void 0&&N!=null&&g(n,["toolConfig"],N);const b=m(e,["labels"]);n!==void 0&&b!=null&&g(n,["labels"],b);const P=m(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],ss(t,P));const M=m(e,["responseModalities"]);M!=null&&g(i,["responseModalities"],M);const k=m(e,["mediaResolution"]);k!=null&&g(i,["mediaResolution"],k);const U=m(e,["speechConfig"]);U!=null&&g(i,["speechConfig"],o1(U));const Te=m(e,["audioTimestamp"]);Te!=null&&g(i,["audioTimestamp"],Te);const Ae=m(e,["thinkingConfig"]);Ae!=null&&g(i,["thinkingConfig"],Ae);const ae=m(e,["imageConfig"]);if(ae!=null&&g(i,["imageConfig"],qV(ae)),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const le=m(e,["modelArmorConfig"]);return n!==void 0&&le!=null&&g(n,["modelArmorConfig"],le),i}function Q2(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Di(s);Array.isArray(c)&&(c=c.map(f=>D0(f))),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&g(r,["generationConfig"],gV(t,l,r)),r}function Z2(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["contents"]);if(s!=null){let c=Di(s);Array.isArray(c)&&(c=c.map(f=>f)),g(r,["contents"],c)}const l=m(e,["config"]);return l!=null&&g(r,["generationConfig"],vV(t,l,r)),r}function eA(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>V9(h))),g(n,["candidates"],d)}const s=m(t,["modelVersion"]);s!=null&&g(n,["modelVersion"],s);const l=m(t,["promptFeedback"]);l!=null&&g(n,["promptFeedback"],l);const c=m(t,["responseId"]);c!=null&&g(n,["responseId"],c);const f=m(t,["usageMetadata"]);return f!=null&&g(n,["usageMetadata"],f),n}function tA(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(v=>v)),g(n,["candidates"],h)}const s=m(t,["createTime"]);s!=null&&g(n,["createTime"],s);const l=m(t,["modelVersion"]);l!=null&&g(n,["modelVersion"],l);const c=m(t,["promptFeedback"]);c!=null&&g(n,["promptFeedback"],c);const f=m(t,["responseId"]);f!=null&&g(n,["responseId"],f);const d=m(t,["usageMetadata"]);return d!=null&&g(n,["usageMetadata"],d),n}function xV(t,e,n){const r={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=m(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const l=m(t,["guidanceScale"]);if(e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=m(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const d=m(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const v=m(t,["language"]);e!==void 0&&v!=null&&g(e,["parameters","language"],v);const y=m(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const A=m(t,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(t,["imageSize"]);if(e!==void 0&&S!=null&&g(e,["parameters","sampleImageSize"],S),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function yV(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=m(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&g(e,["parameters","sampleCount"],l);const c=m(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&g(e,["parameters","guidanceScale"],f);const d=m(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&g(e,["parameters","safetySetting"],h);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&g(e,["parameters","personGeneration"],v);const y=m(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const A=m(t,["includeRaiReason"]);e!==void 0&&A!=null&&g(e,["parameters","includeRaiReason"],A);const S=m(t,["language"]);e!==void 0&&S!=null&&g(e,["parameters","language"],S);const w=m(t,["outputMimeType"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","mimeType"],w);const C=m(t,["outputCompressionQuality"]);e!==void 0&&C!=null&&g(e,["parameters","outputOptions","compressionQuality"],C);const O=m(t,["addWatermark"]);e!==void 0&&O!=null&&g(e,["parameters","addWatermark"],O);const H=m(t,["labels"]);e!==void 0&&H!=null&&g(e,["labels"],H);const D=m(t,["imageSize"]);e!==void 0&&D!=null&&g(e,["parameters","sampleImageSize"],D);const z=m(t,["enhancePrompt"]);return e!==void 0&&z!=null&&g(e,["parameters","enhancePrompt"],z),r}function _V(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["config"]);return l!=null&&xV(l,r),r}function EV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["config"]);return l!=null&&yV(l,r),r}function TV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>FV(c))),g(n,["generatedImages"],l)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&g(n,["positivePromptSafetyAttributes"],HC(s)),n}function AV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>M0(c))),g(n,["generatedImages"],l)}const s=m(t,["positivePromptSafetyAttributes"]);return s!=null&&g(n,["positivePromptSafetyAttributes"],GC(s)),n}function SV(t,e,n){const r={},i=m(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=m(t,["durationSeconds"]);if(e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=m(t,["resolution"]);e!==void 0&&c!=null&&g(e,["parameters","resolution"],c);const f=m(t,["personGeneration"]);if(e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(t,["negativePrompt"]);e!==void 0&&d!=null&&g(e,["parameters","negativePrompt"],d);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=m(t,["lastFrame"]);e!==void 0&&v!=null&&g(e,["instances[0]","lastFrame"],F0(v));const y=m(t,["referenceImages"]);if(e!==void 0&&y!=null){let A=y;Array.isArray(A)&&(A=A.map(S=>C7(S))),g(e,["instances[0]","referenceImages"],A)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function wV(t,e,n){const r={},i=m(t,["numberOfVideos"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const l=m(t,["fps"]);e!==void 0&&l!=null&&g(e,["parameters","fps"],l);const c=m(t,["durationSeconds"]);e!==void 0&&c!=null&&g(e,["parameters","durationSeconds"],c);const f=m(t,["seed"]);e!==void 0&&f!=null&&g(e,["parameters","seed"],f);const d=m(t,["aspectRatio"]);e!==void 0&&d!=null&&g(e,["parameters","aspectRatio"],d);const h=m(t,["resolution"]);e!==void 0&&h!=null&&g(e,["parameters","resolution"],h);const v=m(t,["personGeneration"]);e!==void 0&&v!=null&&g(e,["parameters","personGeneration"],v);const y=m(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const A=m(t,["negativePrompt"]);e!==void 0&&A!=null&&g(e,["parameters","negativePrompt"],A);const S=m(t,["enhancePrompt"]);e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S);const w=m(t,["generateAudio"]);e!==void 0&&w!=null&&g(e,["parameters","generateAudio"],w);const C=m(t,["lastFrame"]);e!==void 0&&C!=null&&g(e,["instances[0]","lastFrame"],ia(C));const O=m(t,["referenceImages"]);if(e!==void 0&&O!=null){let z=O;Array.isArray(z)&&(z=z.map(G=>b7(G))),g(e,["instances[0]","referenceImages"],z)}const H=m(t,["mask"]);e!==void 0&&H!=null&&g(e,["instances[0]","mask"],w7(H));const D=m(t,["compressionQuality"]);return e!==void 0&&D!=null&&g(e,["parameters","compressionQuality"],D),r}function CV(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["metadata"]);i!=null&&g(n,["metadata"],i);const s=m(t,["done"]);s!=null&&g(n,["done"],s);const l=m(t,["error"]);l!=null&&g(n,["error"],l);const c=m(t,["response","generateVideoResponse"]);return c!=null&&g(n,["response"],RV(c)),n}function bV(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["metadata"]);i!=null&&g(n,["metadata"],i);const s=m(t,["done"]);s!=null&&g(n,["done"],s);const l=m(t,["error"]);l!=null&&g(n,["error"],l);const c=m(t,["response"]);return c!=null&&g(n,["response"],kV(c)),n}function NV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["image"]);l!=null&&g(r,["instances[0]","image"],F0(l));const c=m(e,["video"]);c!=null&&g(r,["instances[0]","video"],qC(c));const f=m(e,["source"]);f!=null&&DV(f,r);const d=m(e,["config"]);return d!=null&&SV(d,r),r}function IV(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["prompt"]);s!=null&&g(r,["instances[0]","prompt"],s);const l=m(e,["image"]);l!=null&&g(r,["instances[0]","image"],ia(l));const c=m(e,["video"]);c!=null&&g(r,["instances[0]","video"],jC(c));const f=m(e,["source"]);f!=null&&MV(f,r);const d=m(e,["config"]);return d!=null&&wV(d,r),r}function RV(t,e){const n={},r=m(t,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>LV(c))),g(n,["generatedVideos"],l)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&g(n,["raiMediaFilteredReasons"],s),n}function kV(t,e){const n={},r=m(t,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>OV(c))),g(n,["generatedVideos"],l)}const i=m(t,["raiMediaFilteredCount"]);i!=null&&g(n,["raiMediaFilteredCount"],i);const s=m(t,["raiMediaFilteredReasons"]);return s!=null&&g(n,["raiMediaFilteredReasons"],s),n}function DV(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],F0(s));const l=m(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],qC(l)),r}function MV(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],ia(s));const l=m(t,["video"]);return e!==void 0&&l!=null&&g(e,["instances[0]","video"],jC(l)),r}function FV(t,e){const n={},r=m(t,["_self"]);r!=null&&g(n,["image"],jV(r));const i=m(t,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const s=m(t,["_self"]);return s!=null&&g(n,["safetyAttributes"],HC(s)),n}function M0(t,e){const n={},r=m(t,["_self"]);r!=null&&g(n,["image"],BC(r));const i=m(t,["raiFilteredReason"]);i!=null&&g(n,["raiFilteredReason"],i);const s=m(t,["_self"]);s!=null&&g(n,["safetyAttributes"],GC(s));const l=m(t,["prompt"]);return l!=null&&g(n,["enhancedPrompt"],l),n}function PV(t,e){const n={},r=m(t,["_self"]);r!=null&&g(n,["mask"],BC(r));const i=m(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(n,["labels"],s)}return n}function LV(t,e){const n={},r=m(t,["video"]);return r!=null&&g(n,["video"],A7(r)),n}function OV(t,e){const n={},r=m(t,["_self"]);return r!=null&&g(n,["video"],S7(r)),n}function UV(t,e){const n={},r=m(t,["modelSelectionConfig"]);r!=null&&g(n,["modelConfig"],r);const i=m(t,["responseJsonSchema"]);i!=null&&g(n,["responseJsonSchema"],i);const s=m(t,["audioTimestamp"]);s!=null&&g(n,["audioTimestamp"],s);const l=m(t,["candidateCount"]);l!=null&&g(n,["candidateCount"],l);const c=m(t,["enableAffectiveDialog"]);c!=null&&g(n,["enableAffectiveDialog"],c);const f=m(t,["frequencyPenalty"]);f!=null&&g(n,["frequencyPenalty"],f);const d=m(t,["logprobs"]);d!=null&&g(n,["logprobs"],d);const h=m(t,["maxOutputTokens"]);h!=null&&g(n,["maxOutputTokens"],h);const v=m(t,["mediaResolution"]);v!=null&&g(n,["mediaResolution"],v);const y=m(t,["presencePenalty"]);y!=null&&g(n,["presencePenalty"],y);const A=m(t,["responseLogprobs"]);A!=null&&g(n,["responseLogprobs"],A);const S=m(t,["responseMimeType"]);S!=null&&g(n,["responseMimeType"],S);const w=m(t,["responseModalities"]);w!=null&&g(n,["responseModalities"],w);const C=m(t,["responseSchema"]);C!=null&&g(n,["responseSchema"],C);const O=m(t,["routingConfig"]);O!=null&&g(n,["routingConfig"],O);const H=m(t,["seed"]);H!=null&&g(n,["seed"],H);const D=m(t,["speechConfig"]);D!=null&&g(n,["speechConfig"],D);const z=m(t,["stopSequences"]);z!=null&&g(n,["stopSequences"],z);const G=m(t,["temperature"]);G!=null&&g(n,["temperature"],G);const j=m(t,["thinkingConfig"]);j!=null&&g(n,["thinkingConfig"],j);const I=m(t,["topK"]);I!=null&&g(n,["topK"],I);const N=m(t,["topP"]);if(N!=null&&g(n,["topP"],N),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function VV(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Yt(t,i)),r}function BV(t,e,n){const r={},i=m(e,["model"]);return i!=null&&g(r,["_url","name"],Yt(t,i)),r}function HV(t,e){const n={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=m(t,["enableWidget"]);return r!=null&&g(n,["enableWidget"],r),n}function GV(t,e){const n={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=m(t,["timeRangeFilter"]);return r!=null&&g(n,["timeRangeFilter"],r),n}function zV(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const i=m(t,["imageSize"]);if(i!=null&&g(n,["imageSize"],i),m(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function qV(t,e){const n={},r=m(t,["aspectRatio"]);r!=null&&g(n,["aspectRatio"],r);const i=m(t,["imageSize"]);i!=null&&g(n,["imageSize"],i);const s=m(t,["personGeneration"]);s!=null&&g(n,["personGeneration"],s);const l=m(t,["outputMimeType"]);l!=null&&g(n,["imageOutputOptions","mimeType"],l);const c=m(t,["outputCompressionQuality"]);return c!=null&&g(n,["imageOutputOptions","compressionQuality"],c),n}function jV(t,e){const n={},r=m(t,["bytesBase64Encoded"]);r!=null&&g(n,["imageBytes"],lo(r));const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function BC(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&g(n,["imageBytes"],lo(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function F0(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(t,["imageBytes"]);r!=null&&g(n,["bytesBase64Encoded"],lo(r));const i=m(t,["mimeType"]);return i!=null&&g(n,["mimeType"],i),n}function ia(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["gcsUri"],r);const i=m(t,["imageBytes"]);i!=null&&g(n,["bytesBase64Encoded"],lo(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function $V(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=m(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&g(n,["_url","models_url"],MC(t,f)),i}function KV(t,e,n,r){const i={},s=m(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&g(n,["_query","pageToken"],l);const c=m(e,["filter"]);n!==void 0&&c!=null&&g(n,["_query","filter"],c);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&g(n,["_url","models_url"],MC(t,f)),i}function YV(t,e,n){const r={},i=m(e,["config"]);return i!=null&&$V(t,i,r),r}function JV(t,e,n){const r={},i=m(e,["config"]);return i!=null&&KV(t,i,r),r}function WV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let l=FC(s);Array.isArray(l)&&(l=l.map(c=>zg(c))),g(n,["models"],l)}return n}function XV(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["_self"]);if(s!=null){let l=FC(s);Array.isArray(l)&&(l=l.map(c=>qg(c))),g(n,["models"],l)}return n}function QV(t,e){const n={},r=m(t,["maskMode"]);r!=null&&g(n,["maskMode"],r);const i=m(t,["segmentationClasses"]);i!=null&&g(n,["maskClasses"],i);const s=m(t,["maskDilation"]);return s!=null&&g(n,["dilation"],s),n}function zg(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=m(t,["description"]);s!=null&&g(n,["description"],s);const l=m(t,["version"]);l!=null&&g(n,["version"],l);const c=m(t,["_self"]);c!=null&&g(n,["tunedModelInfo"],p7(c));const f=m(t,["inputTokenLimit"]);f!=null&&g(n,["inputTokenLimit"],f);const d=m(t,["outputTokenLimit"]);d!=null&&g(n,["outputTokenLimit"],d);const h=m(t,["supportedGenerationMethods"]);h!=null&&g(n,["supportedActions"],h);const v=m(t,["temperature"]);v!=null&&g(n,["temperature"],v);const y=m(t,["maxTemperature"]);y!=null&&g(n,["maxTemperature"],y);const A=m(t,["topP"]);A!=null&&g(n,["topP"],A);const S=m(t,["topK"]);S!=null&&g(n,["topK"],S);const w=m(t,["thinking"]);return w!=null&&g(n,["thinking"],w),n}function qg(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["name"],r);const i=m(t,["displayName"]);i!=null&&g(n,["displayName"],i);const s=m(t,["description"]);s!=null&&g(n,["description"],s);const l=m(t,["versionId"]);l!=null&&g(n,["version"],l);const c=m(t,["deployedModels"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(A=>fV(A))),g(n,["endpoints"],y)}const f=m(t,["labels"]);f!=null&&g(n,["labels"],f);const d=m(t,["_self"]);d!=null&&g(n,["tunedModelInfo"],m7(d));const h=m(t,["defaultCheckpointId"]);h!=null&&g(n,["defaultCheckpointId"],h);const v=m(t,["checkpoints"]);if(v!=null){let y=v;Array.isArray(y)&&(y=y.map(A=>A)),g(n,["checkpoints"],y)}return n}function ZV(t,e){const n={},r=m(t,["mediaResolution"]);r!=null&&g(n,["mediaResolution"],r);const i=m(t,["codeExecutionResult"]);i!=null&&g(n,["codeExecutionResult"],i);const s=m(t,["executableCode"]);s!=null&&g(n,["executableCode"],s);const l=m(t,["fileData"]);l!=null&&g(n,["fileData"],dV(l));const c=m(t,["functionCall"]);c!=null&&g(n,["functionCall"],hV(c));const f=m(t,["functionResponse"]);f!=null&&g(n,["functionResponse"],f);const d=m(t,["inlineData"]);d!=null&&g(n,["inlineData"],U9(d));const h=m(t,["text"]);h!=null&&g(n,["text"],h);const v=m(t,["thought"]);v!=null&&g(n,["thought"],v);const y=m(t,["thoughtSignature"]);y!=null&&g(n,["thoughtSignature"],y);const A=m(t,["videoMetadata"]);return A!=null&&g(n,["videoMetadata"],A),n}function e7(t,e){const n={},r=m(t,["productImage"]);return r!=null&&g(n,["image"],ia(r)),n}function t7(t,e,n){const r={},i=m(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const s=m(t,["baseSteps"]);e!==void 0&&s!=null&&g(e,["parameters","baseSteps"],s);const l=m(t,["outputGcsUri"]);e!==void 0&&l!=null&&g(e,["parameters","storageUri"],l);const c=m(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const f=m(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&g(e,["parameters","safetySetting"],f);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&g(e,["parameters","addWatermark"],h);const v=m(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const y=m(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const A=m(t,["enhancePrompt"]);e!==void 0&&A!=null&&g(e,["parameters","enhancePrompt"],A);const S=m(t,["labels"]);return e!==void 0&&S!=null&&g(e,["labels"],S),r}function n7(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["source"]);s!=null&&i7(s,r);const l=m(e,["config"]);return l!=null&&t7(l,r),r}function r7(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>M0(s))),g(n,["generatedImages"],i)}return n}function i7(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["personImage"]);e!==void 0&&s!=null&&g(e,["instances[0]","personImage","image"],ia(s));const l=m(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>e7(f))),g(e,["instances[0]","productImages"],c)}return r}function a7(t,e){const n={},r=m(t,["referenceImage"]);r!=null&&g(n,["referenceImage"],ia(r));const i=m(t,["referenceId"]);i!=null&&g(n,["referenceId"],i);const s=m(t,["referenceType"]);s!=null&&g(n,["referenceType"],s);const l=m(t,["maskImageConfig"]);l!=null&&g(n,["maskImageConfig"],QV(l));const c=m(t,["controlImageConfig"]);c!=null&&g(n,["controlImageConfig"],j9(c));const f=m(t,["styleImageConfig"]);f!=null&&g(n,["styleImageConfig"],f);const d=m(t,["subjectImageConfig"]);return d!=null&&g(n,["subjectImageConfig"],d),n}function HC(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&g(n,["contentType"],s),n}function GC(t,e){const n={},r=m(t,["safetyAttributes","categories"]);r!=null&&g(n,["categories"],r);const i=m(t,["safetyAttributes","scores"]);i!=null&&g(n,["scores"],i);const s=m(t,["contentType"]);return s!=null&&g(n,["contentType"],s),n}function s7(t,e){const n={},r=m(t,["category"]);if(r!=null&&g(n,["category"],r),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=m(t,["threshold"]);return i!=null&&g(n,["threshold"],i),n}function o7(t,e){const n={},r=m(t,["image"]);return r!=null&&g(n,["image"],ia(r)),n}function l7(t,e,n){const r={},i=m(t,["mode"]);e!==void 0&&i!=null&&g(e,["parameters","mode"],i);const s=m(t,["maxPredictions"]);e!==void 0&&s!=null&&g(e,["parameters","maxPredictions"],s);const l=m(t,["confidenceThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","confidenceThreshold"],l);const c=m(t,["maskDilation"]);e!==void 0&&c!=null&&g(e,["parameters","maskDilation"],c);const f=m(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&g(e,["parameters","binaryColorThreshold"],f);const d=m(t,["labels"]);return e!==void 0&&d!=null&&g(e,["labels"],d),r}function c7(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["source"]);s!=null&&f7(s,r);const l=m(e,["config"]);return l!=null&&l7(l,r),r}function u7(t,e){const n={},r=m(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>PV(s))),g(n,["generatedMasks"],i)}return n}function f7(t,e,n){const r={},i=m(t,["prompt"]);e!==void 0&&i!=null&&g(e,["instances[0]","prompt"],i);const s=m(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],ia(s));const l=m(t,["scribbleImage"]);return e!==void 0&&l!=null&&g(e,["instances[0]","scribble"],o7(l)),r}function d7(t,e){const n={},r=m(t,["retrievalConfig"]);r!=null&&g(n,["retrievalConfig"],r);const i=m(t,["functionCallingConfig"]);return i!=null&&g(n,["functionCallingConfig"],pV(i)),n}function h7(t,e){const n={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["computerUse"]);r!=null&&g(n,["computerUse"],r);const i=m(t,["fileSearch"]);i!=null&&g(n,["fileSearch"],i);const s=m(t,["codeExecution"]);if(s!=null&&g(n,["codeExecution"],s),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=m(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(y=>y)),g(n,["functionDeclarations"],v)}const c=m(t,["googleMaps"]);c!=null&&g(n,["googleMaps"],HV(c));const f=m(t,["googleSearch"]);f!=null&&g(n,["googleSearch"],GV(f));const d=m(t,["googleSearchRetrieval"]);d!=null&&g(n,["googleSearchRetrieval"],d);const h=m(t,["urlContext"]);return h!=null&&g(n,["urlContext"],h),n}function zC(t,e){const n={},r=m(t,["retrieval"]);r!=null&&g(n,["retrieval"],r);const i=m(t,["computerUse"]);if(i!=null&&g(n,["computerUse"],i),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=m(t,["codeExecution"]);s!=null&&g(n,["codeExecution"],s);const l=m(t,["enterpriseWebSearch"]);l!=null&&g(n,["enterpriseWebSearch"],l);const c=m(t,["functionDeclarations"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(A=>mV(A))),g(n,["functionDeclarations"],y)}const f=m(t,["googleMaps"]);f!=null&&g(n,["googleMaps"],f);const d=m(t,["googleSearch"]);d!=null&&g(n,["googleSearch"],d);const h=m(t,["googleSearchRetrieval"]);h!=null&&g(n,["googleSearchRetrieval"],h);const v=m(t,["urlContext"]);return v!=null&&g(n,["urlContext"],v),n}function p7(t,e){const n={},r=m(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&g(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&g(n,["updateTime"],s),n}function m7(t,e){const n={},r=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["createTime"]);i!=null&&g(n,["createTime"],i);const s=m(t,["updateTime"]);return s!=null&&g(n,["updateTime"],s),n}function g7(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function v7(t,e,n){const r={},i=m(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=m(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&g(e,["defaultCheckpointId"],l),r}function x7(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","name"],Yt(t,i));const s=m(e,["config"]);return s!=null&&g7(s,r),r}function y7(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["config"]);return s!=null&&v7(s,r),r}function _7(t,e,n){const r={},i=m(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=m(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const l=m(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=m(t,["includeRaiReason"]);e!==void 0&&c!=null&&g(e,["parameters","includeRaiReason"],c);const f=m(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const d=m(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],h);const v=m(t,["imagePreservationFactor"]);e!==void 0&&v!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const y=m(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const A=m(t,["numberOfImages"]);e!==void 0&&A!=null&&g(e,["parameters","sampleCount"],A);const S=m(t,["mode"]);return e!==void 0&&S!=null&&g(e,["parameters","mode"],S),r}function E7(t,e,n){const r={},i=m(e,["model"]);i!=null&&g(r,["_url","model"],Yt(t,i));const s=m(e,["image"]);s!=null&&g(r,["instances[0]","image"],ia(s));const l=m(e,["upscaleFactor"]);l!=null&&g(r,["parameters","upscaleConfig","upscaleFactor"],l);const c=m(e,["config"]);return c!=null&&_7(c,r),r}function T7(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>M0(l))),g(n,["generatedImages"],s)}return n}function A7(t,e){const n={},r=m(t,["uri"]);r!=null&&g(n,["uri"],r);const i=m(t,["encodedVideo"]);i!=null&&g(n,["videoBytes"],lo(i));const s=m(t,["encoding"]);return s!=null&&g(n,["mimeType"],s),n}function S7(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["uri"],r);const i=m(t,["bytesBase64Encoded"]);i!=null&&g(n,["videoBytes"],lo(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}function w7(t,e){const n={},r=m(t,["image"]);r!=null&&g(n,["_self"],ia(r));const i=m(t,["maskMode"]);return i!=null&&g(n,["maskMode"],i),n}function C7(t,e){const n={},r=m(t,["image"]);r!=null&&g(n,["image"],F0(r));const i=m(t,["referenceType"]);return i!=null&&g(n,["referenceType"],i),n}function b7(t,e){const n={},r=m(t,["image"]);r!=null&&g(n,["image"],ia(r));const i=m(t,["referenceType"]);return i!=null&&g(n,["referenceType"],i),n}function qC(t,e){const n={},r=m(t,["uri"]);r!=null&&g(n,["uri"],r);const i=m(t,["videoBytes"]);i!=null&&g(n,["encodedVideo"],lo(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["encoding"],s),n}function jC(t,e){const n={},r=m(t,["uri"]);r!=null&&g(n,["gcsUri"],r);const i=m(t,["videoBytes"]);i!=null&&g(n,["bytesBase64Encoded"],lo(i));const s=m(t,["mimeType"]);return s!=null&&g(n,["mimeType"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N7(t,e){const n={},r=m(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function I7(t){const e={},n=m(t,["config"]);return n!=null&&N7(n,e),e}function R7(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function k7(t){const e={},n=m(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&R7(r,e),e}function D7(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function M7(t,e){const n={},r=m(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["customMetadata"],s)}const i=m(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function F7(t){const e={},n=m(t,["name"]);n!=null&&g(e,["name"],n);const r=m(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=m(t,["done"]);i!=null&&g(e,["done"],i);const s=m(t,["error"]);s!=null&&g(e,["error"],s);const l=m(t,["response"]);return l!=null&&g(e,["response"],L7(l)),e}function P7(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=m(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=m(t,["config"]);return i!=null&&M7(i,e),e}function L7(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["parent"]);r!=null&&g(e,["parent"],r);const i=m(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function O7(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function U7(t){const e={},n=m(t,["config"]);return n!=null&&O7(n,e),e}function V7(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["fileSearchStores"],s)}return e}function $C(t,e){const n={},r=m(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=m(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["customMetadata"],c)}const l=m(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function B7(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=m(t,["config"]);return r!=null&&$C(r,e),e}function H7(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G7="Content-Type",z7="X-Server-Timeout",q7="User-Agent",jg="x-goog-api-client",j7="1.40.0",$7=`google-genai-sdk/${j7}`,K7="v1beta1",Y7="v1beta";class J7{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const c=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!c?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:K7}else{if(!this.clientOptions.apiKey)throw new xf({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Y7,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Vg.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>s.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=l}return n&&n.extraBody!==null&&W7(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nA(i),new Bg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await nA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return ta(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const c="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield gt(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=s.decode(h,{stream:!0});try{const S=JSON.parse(v);if("error"in S){const w=JSON.parse(JSON.stringify(S.error)),C=w.status,O=w.code,H=`got status: ${C}. ${JSON.stringify(S)}`;if(O>=400&&O<600)throw new xf({message:H,status:O})}}catch(S){if(S.name==="ApiError")throw S}l+=v;let y=-1,A=0;for(;;){y=-1,A=0;for(const C of f){const O=l.indexOf(C);O!==-1&&(y===-1||O<y)&&(y=O,A=C.length)}if(y===-1)break;const S=l.substring(0,y);l=l.substring(y+A);const w=S.trim();if(w.startsWith(c)){const C=w.substring(c.length).trim();try{const O=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gt(new Bg(O))}catch(O){throw new Error(`exception parsing stream chunk ${C}. ${O}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=$7+" "+this.clientOptions.userAgentExtra;return e[q7]=n,e[jg]=n,e[G7]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(z7,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,l=await s.stat(e);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const f={file:i},d=this.getFileName(e),h=Je("upload/v1beta/files",f._url),v=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return s.upload(e,v,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,l=await s.stat(n),c=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),v={};r!=null&&$C(r,v);const y=await this.fetchUploadUrl(d,c,f,h,v,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,l){var c;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function nA(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new xf({message:i,status:n}):new Error(i)}}function W7(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,l){const c=Object.assign({},s);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?c[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X7="mcp_used/unknown";let Q7=!1;function KC(t){for(const e of t)if(Z7(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Q7}function YC(t){var e;const n=(e=t[jg])!==null&&e!==void 0?e:"";t[jg]=(n+` ${X7}`).trimStart()}function Z7(t){return t!==null&&typeof t=="object"&&t instanceof c1}function eB(t){return ta(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const l=yield gt(n.listTools({cursor:i}));for(const c of l.tools)yield yield gt(c),s++;if(!l.nextCursor)break;i=l.nextCursor}})}class c1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new c1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},l=[];for(const h of this.mcpClients)try{for(var c=!0,f=(n=void 0,na(eB(h))),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const v=i;l.push(v);const y=v.name;if(s[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);s[y]=h}}catch(v){n={error:v}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),I8(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tB(t,e,n){const r=new E8;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class nB{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=aB(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const h=new Promise(D=>{d=D}),v=e.callbacks,y=function(){d({})},A=this.apiClient,S={onopen:y,onmessage:D=>{tB(A,v.onmessage,D)},onerror:(n=v==null?void 0:v.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=v==null?void 0:v.onclose)!==null&&r!==void 0?r:function(D){}},w=this.webSocketFactory.create(f,iB(l),S);w.connect(),await h;const H={setup:{model:Yt(this.apiClient,e.model)}};return w.send(JSON.stringify(H)),new rB(w,this.apiClient)}}class rB{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=N9(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=b9(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ec.PLAY)}pause(){this.sendPlaybackControl(ec.PAUSE)}stop(){this.sendPlaybackControl(ec.STOP)}resetContext(){this.sendPlaybackControl(ec.RESET_CONTEXT)}close(){this.conn.close()}}function iB(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function aB(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sB="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function oB(t,e,n){const r=new _8;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const l=k9(s);Object.assign(r,l)}else Object.assign(r,s);e(r)}class lB{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new nB(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&KC(e.config.tools)&&YC(v);const y=dB(v);if(this.apiClient.isVertexAI()){const b=this.apiClient.getProject(),P=this.apiClient.getLocation(),M=this.apiClient.getApiKey(),k=!!b&&!!P||!!M;this.apiClient.getCustomBaseUrl()&&!k?h=f:(h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h))}else{const b=this.apiClient.getApiKey();let P="BidiGenerateContent",M="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",M="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${P}?${M}=${b}`}let A=()=>{};const S=new Promise(b=>{A=b}),w=e.callbacks,C=function(){var b;(b=w==null?void 0:w.onopen)===null||b===void 0||b.call(w),A({})},O=this.apiClient,H={onopen:C,onmessage:b=>{oB(O,w.onmessage,b)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(b){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(b){}},D=this.webSocketFactory.create(h,fB(y),H);D.connect(),await S;let z=Yt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const b=this.apiClient.getProject(),P=this.apiClient.getLocation();b&&P&&(z=`projects/${b}/locations/${P}/`+z)}let G={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[t0.AUDIO]}:e.config.responseModalities=[t0.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],I=[];for(const b of j)if(this.isCallableTool(b)){const P=b;I.push(await P.tool())}else I.push(b);I.length>0&&(e.config.tools=I);const N={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=C9(this.apiClient,N):G=w9(this.apiClient,N),delete G.config,D.send(JSON.stringify(G)),new uB(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const cB={turnComplete:!0};class uB{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Di(n.turns),e.isVertexAI()||(r=r.map(i=>D0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(sB)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},cB),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:R9(e)}:n={realtimeInput:I9(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function fB(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dB(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rA=10;function iA(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(cc(l)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function cc(t){return"callTool"in t&&typeof t.callTool=="function"}function hB(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>cc(i)))!==null&&r!==void 0?r:!1}function aA(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(cc(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function sA(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pB extends as{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,l,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hB(n)||iA(n.config))return await this.generateContentInternal(f);const d=aA(n);if(d.length>0){const w=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let h,v;const y=Di(f.contents),A=(s=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:rA;let S=0;for(;S<A&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const w=h.candidates[0].content,C=[];for(const O of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(cc(O)){const D=await O.callTool(h.functionCalls);C.push(...D)}S++,v={role:"user",parts:C},f.contents=Di(f.contents),f.contents.push(w),f.contents.push(v),sA(f.config)&&(y.push(w),y.push(v))}return sA(f.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,s,l,c;if(this.maybeMoveToResponseJsonSchem(n),iA(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const f=aA(n);if(f.length>0){const v=f.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,h=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:l.push(f);let c;return s?c={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new il(es.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,l,c,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((f=(c=n.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const l=await Promise.all(s.map(async f=>cc(f)?await f.tool():f)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&KC(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),YC(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(cc(l)){const c=l,f=await c.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,c)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:rA;let l=!1,c=0;const f=await this.initAfcToolsMap(e);return(function(d,h,v){return ta(this,arguments,function*(){for(var y,A,S,w,C,O;c<s;){l&&(c++,l=!1);const G=yield gt(d.processParamsMaybeAddMcpUsage(v)),j=yield gt(d.generateContentStreamInternal(G)),I=[],N=[];try{for(var H=!0,D=(A=void 0,na(j)),z;z=yield gt(D.next()),y=z.done,!y;H=!0){w=z.value,H=!1;const b=w;if(yield yield gt(b),b.candidates&&(!((C=b.candidates[0])===null||C===void 0)&&C.content)){N.push(b.candidates[0].content);for(const P of(O=b.candidates[0].content.parts)!==null&&O!==void 0?O:[])if(c<s&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(P.functionCall.name)){const M=yield gt(h.get(P.functionCall.name).callTool([P.functionCall]));I.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(b){A={error:b}}finally{try{!H&&!y&&(S=D.return)&&(yield gt(S.call(D)))}finally{if(A)throw A.error}}if(I.length>0){l=!0;const b=new Cu;b.candidates=[{content:{role:"user",parts:I}}],yield yield gt(b);const P=[];P.push(...N),P.push({role:"user",parts:I});const M=Di(v.contents).concat(P);v.contents=M}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Z2(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=tA(h),y=new Cu;return Object.assign(y,v),y})}else{const d=Q2(this.apiClient,e);return c=Je("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=eA(h),y=new Cu;return Object.assign(y,v),y})}}async generateContentStreamInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Z2(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(v){return ta(this,arguments,function*(){var y,A,S,w;try{for(var C=!0,O=na(v),H;H=yield gt(O.next()),y=H.done,!y;C=!0){w=H.value,C=!1;const D=w,z=tA(yield gt(D.json()),e);z.sdkHttpResponse={headers:D.headers};const G=new Cu;Object.assign(G,z),yield yield gt(G)}}catch(D){A={error:D}}finally{try{!C&&!y&&(S=O.return)&&(yield gt(S.call(O)))}finally{if(A)throw A.error}}})})}else{const d=Q2(this.apiClient,e);return c=Je("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(v){return ta(this,arguments,function*(){var y,A,S,w;try{for(var C=!0,O=na(v),H;H=yield gt(O.next()),y=H.done,!y;C=!0){w=H.value,C=!1;const D=w,z=eA(yield gt(D.json()),e);z.sdkHttpResponse={headers:D.headers};const G=new Cu;Object.assign(G,z),yield yield gt(G)}}catch(D){A={error:D}}finally{try{!C&&!y&&(S=O.return)&&(yield gt(S.call(O)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=lV(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=uV(h),y=new P2;return Object.assign(y,v),y})}else{const d=oV(this.apiClient,e);return c=Je("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=cV(h),y=new P2;return Object.assign(y,v),y})}}async generateImagesInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=EV(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=AV(h),y=new L2;return Object.assign(y,v),y})}else{const d=_V(this.apiClient,e);return c=Je("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=TV(h),y=new L2;return Object.assign(y,v),y})}}async editImageInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=rV(this.apiClient,e);return s=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=iV(f),h=new l8;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=E7(this.apiClient,e);return s=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=T7(f),h=new c8;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=n7(this.apiClient,e);return s=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=r7(f),h=new u8;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=c7(this.apiClient,e);return s=Je("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=u7(f),h=new f8;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=BV(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>qg(h))}else{const d=VV(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>zg(h))}}async listInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=JV(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=XV(h),y=new O2;return Object.assign(y,v),y})}else{const d=YV(this.apiClient,e);return c=Je("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=WV(h),y=new O2;return Object.assign(y,v),y})}}async update(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=y7(this.apiClient,e);return c=Je("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>qg(h))}else{const d=x7(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>zg(h))}}async delete(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=Z9(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=tV(h),y=new U2;return Object.assign(y,v),y})}else{const d=Q9(this.apiClient,e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=eV(h),y=new U2;return Object.assign(y,v),y})}}async countTokens(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=J9(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=X9(h),y=new V2;return Object.assign(y,v),y})}else{const d=Y9(this.apiClient,e);return c=Je("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=W9(h),y=new V2;return Object.assign(y,v),y})}}async computeTokens(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=H9(this.apiClient,e);return s=Je("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=G9(f),h=new d8;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=IV(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const v=bV(h),y=new n0;return Object.assign(y,v),y})}else{const d=NV(this.apiClient,e);return c=Je("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l.then(h=>{const v=CV(h),y=new n0;return Object.assign(y,v),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mB extends as{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=n8(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=t8(e);return c=Je("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=YO(e);return s=Je("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gB(t){const e={},n=m(t,["data"]);if(n!=null&&g(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vB(t){const e={},n=m(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>CB(s))),g(e,["parts"],i)}const r=m(t,["role"]);return r!=null&&g(e,["role"],r),e}function xB(t,e,n){const r={},i=m(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const s=m(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&g(n,["newSessionExpireTime"],s);const l=m(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const c=m(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],wB(t,c));const f=m(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&g(n,["fieldMask"],f),r}function yB(t,e){const n={},r=m(e,["config"]);return r!=null&&g(n,["config"],xB(t,r,n)),n}function _B(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function EB(t){const e={},n=m(t,["id"]);n!=null&&g(e,["id"],n);const r=m(t,["args"]);r!=null&&g(e,["args"],r);const i=m(t,["name"]);if(i!=null&&g(e,["name"],i),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TB(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function AB(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function SB(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=m(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=m(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const l=m(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=m(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const f=m(t,["maxOutputTokens"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","maxOutputTokens"],f);const d=m(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const h=m(t,["seed"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","seed"],h);const v=m(t,["speechConfig"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","speechConfig"],l1(v));const y=m(t,["thinkingConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","thinkingConfig"],y);const A=m(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],A);const S=m(t,["systemInstruction"]);e!==void 0&&S!=null&&g(e,["setup","systemInstruction"],vB(Fr(S)));const w=m(t,["tools"]);if(e!==void 0&&w!=null){let j=Sc(w);Array.isArray(j)&&(j=j.map(I=>NB(Ac(I)))),g(e,["setup","tools"],j)}const C=m(t,["sessionResumption"]);e!==void 0&&C!=null&&g(e,["setup","sessionResumption"],bB(C));const O=m(t,["inputAudioTranscription"]);e!==void 0&&O!=null&&g(e,["setup","inputAudioTranscription"],O);const H=m(t,["outputAudioTranscription"]);e!==void 0&&H!=null&&g(e,["setup","outputAudioTranscription"],H);const D=m(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],D);const z=m(t,["contextWindowCompression"]);e!==void 0&&z!=null&&g(e,["setup","contextWindowCompression"],z);const G=m(t,["proactivity"]);if(e!==void 0&&G!=null&&g(e,["setup","proactivity"],G),m(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function wB(t,e){const n={},r=m(e,["model"]);r!=null&&g(n,["setup","model"],Yt(t,r));const i=m(e,["config"]);return i!=null&&g(n,["config"],SB(i,n)),n}function CB(t){const e={},n=m(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=m(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=m(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=m(t,["fileData"]);s!=null&&g(e,["fileData"],_B(s));const l=m(t,["functionCall"]);l!=null&&g(e,["functionCall"],EB(l));const c=m(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const f=m(t,["inlineData"]);f!=null&&g(e,["inlineData"],gB(f));const d=m(t,["text"]);d!=null&&g(e,["text"],d);const h=m(t,["thought"]);h!=null&&g(e,["thought"],h);const v=m(t,["thoughtSignature"]);v!=null&&g(e,["thoughtSignature"],v);const y=m(t,["videoMetadata"]);return y!=null&&g(e,["videoMetadata"],y),e}function bB(t){const e={},n=m(t,["handle"]);if(n!=null&&g(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function NB(t){const e={};if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=m(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=m(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=m(t,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),g(e,["functionDeclarations"],h)}const l=m(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],TB(l));const c=m(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],AB(c));const f=m(t,["googleSearchRetrieval"]);f!=null&&g(e,["googleSearchRetrieval"],f);const d=m(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IB(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function RB(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=IB(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];s&&f.push(s),c.length>0&&f.push(...c),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class kB extends as{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=yB(this.apiClient,e);s=Je("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const f=RB(c,e.config);return i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DB(t,e){const n={},r=m(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function MB(t){const e={},n=m(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&DB(r,e),e}function FB(t){const e={},n=m(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function PB(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=m(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function LB(t){const e={},n=m(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=m(t,["config"]);return r!=null&&PB(r,e),e}function OB(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=m(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=m(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),g(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UB extends as{constructor(e){super(),this.apiClient=e,this.list=async n=>new il(es.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=FB(e);return s=Je("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=MB(e);i=Je("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=LB(e);return s=Je("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=OB(f),h=new h8;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VB extends as{constructor(e,n=new UB(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new il(es.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=I7(e);return s=Je("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=D7(e);return s=Je("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=k7(e);i=Je("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=U7(e);return s=Je("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=V7(f),h=new p8;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=B7(e);return s=Je("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=H7(f),h=new m8;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=P7(e);return s=Je("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=F7(f),h=new r1;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let JC=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return JC=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const BB=()=>JC();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $g(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Kg=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fi extends Error{}class Kr extends Fi{constructor(e,n,r,i){super(`${Kr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new P0({message:r,cause:Kg(n)});const s=n;return e===400?new XC(e,s,r,i):e===401?new QC(e,s,r,i):e===403?new ZC(e,s,r,i):e===404?new eb(e,s,r,i):e===409?new tb(e,s,r,i):e===422?new nb(e,s,r,i):e===429?new rb(e,s,r,i):e>=500?new ib(e,s,r,i):new Kr(e,s,r,i)}}class Yg extends Kr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class P0 extends Kr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class WC extends P0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class XC extends Kr{}class QC extends Kr{}class ZC extends Kr{}class eb extends Kr{}class tb extends Kr{}class nb extends Kr{}class rb extends Kr{}class ib extends Kr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HB=/^[a-z][a-z0-9+.-]*:/i,GB=t=>HB.test(t);let Jg=t=>(Jg=Array.isArray,Jg(t));const zB=Jg;let qB=zB;const oA=qB;function jB(t){if(!t)return!0;for(const e in t)return!1;return!0}function $B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const KB=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Fi(`${t} must be an integer`);if(e<0)throw new Fi(`${t} must be a positive integer`);return e},YB=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JB=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WB(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const XB=()=>{var t,e,n,r,i;const s=WB();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":cA(Deno.build.os),"X-Stainless-Arch":lA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":cA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":lA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=QB();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function QB(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,l=r[3]||0;return{browser:e,version:`${i}.${s}.${l}`}}}return null}const lA=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",cA=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let vh;const ZB=()=>vh??(vh=XB());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eH(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function ab(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function tH(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return ab({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function sb(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nH(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rH=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ob=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function og(t,e,n){return ob(),new File(t,e??"unknown_file",n)}function iH(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const aH=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lb=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",sH=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&lb(t),oH=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function lH(t,e,n){if(ob(),t=await t,sH(t))return t instanceof File?t:og([await t.arrayBuffer()],t.name);if(oH(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),og(await Wg(i),e,n)}const r=await Wg(t);if(e||(e=iH(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return og(r,e,n)}async function Wg(t){var e,n,r,i,s;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(lb(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(aH(t))try{for(var c=!0,f=na(t),d;d=await f.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const h=i;l.push(...await Wg(h))}}catch(h){n={error:h}}finally{try{!c&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${cH(t)}`)}return l}function cH(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cb{constructor(e){this._client=e}}cb._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ub(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const uA=Object.freeze(Object.create(null)),uH=(t=ub)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],l=n.reduce((h,v,y)=>{var A,S,w;/[?#]/.test(v)&&(i=!0);const C=r[y];let O=(i?encodeURIComponent:t)(""+C);return y!==r.length&&(C==null||typeof C=="object"&&C.toString===((w=Object.getPrototypeOf((S=Object.getPrototypeOf((A=C.hasOwnProperty)!==null&&A!==void 0?A:uA))!==null&&S!==void 0?S:uA))===null||w===void 0?void 0:w.toString))&&(O=C+"",s.push({start:h.length+v.length,length:O.length,error:`Value of type ${Object.prototype.toString.call(C).slice(8,-1)} is not a valid path parameter`})),h+v+(y===r.length?"":O)},""),c=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(c))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((h,v)=>h.start-v.start),s.length>0){let h=0;const v=s.reduce((y,A)=>{const S=" ".repeat(A.start-h),w="^".repeat(A.length);return h=A.start+A.length,y+S+w},"");throw new Fi(`Path parameters result in path with invalid segments:
${s.map(y=>y.error).join(`
`)}
${l}
${v}`)}return l}),xh=uH(ub);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fb extends cb{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=i0(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new Fi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new Fi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xh`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(xh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(xh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:l=this._client.apiVersion}=s,c=i0(s,["api_version"]);return this._client.get(xh`/${l}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}fb._key=Object.freeze(["interactions"]);class db extends fb{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fH(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let yh;function u1(t){let e;return(yh??(e=new globalThis.TextEncoder,yh=e.encode.bind(e)))(t)}let _h;function fA(t){let e;return(_h??(e=new globalThis.TextDecoder,_h=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?u1(e):e;this.buffer=fH([this.buffer,n]);const r=[];let i;for(;(i=dH(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(fA(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=fA(this.buffer.subarray(0,s));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}L0.NEWLINE_CHARS=new Set([`
`,"\r"]);L0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dH(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function hH(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a0={off:0,error:200,warn:300,info:400,debug:500},dA=(t,e,n)=>{if(t){if($B(a0,t))return t;Hr(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(a0))}`)}};function Lu(){}function Eh(t,e,n){return!e||a0[t]>a0[n]?Lu:e[t].bind(e)}const pH={error:Lu,warn:Lu,info:Lu,debug:Lu};let hA=new WeakMap;function Hr(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return pH;const i=hA.get(n);if(i&&i[0]===r)return i[1];const s={error:Eh("error",n,r),warn:Eh("warn",n,r),info:Eh("info",n,r),debug:Eh("debug",n,r)};return hA.set(n,[r,s]),s}const Po=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tc{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?Hr(r):console;function l(){return ta(this,arguments,function*(){var f,d,h,v;if(i)throw new Fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var A=!0,S=na(mH(e,n)),w;w=yield gt(S.next()),f=w.done,!f;A=!0){v=w.value,A=!1;const C=v;if(!y)if(C.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield gt(JSON.parse(C.data))}catch(O){throw s.error("Could not parse message into JSON:",C.data),s.error("From chunk:",C.raw),O}}}catch(C){d={error:C}}finally{try{!A&&!f&&(h=S.return)&&(yield gt(h.call(S)))}finally{if(d)throw d.error}}y=!0}catch(C){if($g(C))return yield gt(void 0);throw C}finally{y||n.abort()}})}return new tc(l,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return ta(this,arguments,function*(){var f,d,h,v;const y=new L0,A=sb(e);try{for(var S=!0,w=na(A),C;C=yield gt(w.next()),f=C.done,!f;S=!0){v=C.value,S=!1;const O=v;for(const H of y.decode(O))yield yield gt(H)}}catch(O){d={error:O}}finally{try{!S&&!f&&(h=w.return)&&(yield gt(h.call(w)))}finally{if(d)throw d.error}}for(const O of y.flush())yield yield gt(O)})}function l(){return ta(this,arguments,function*(){var f,d,h,v;if(i)throw new Fi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var A=!0,S=na(s()),w;w=yield gt(S.next()),f=w.done,!f;A=!0){v=w.value,A=!1;const C=v;y||C&&(yield yield gt(JSON.parse(C)))}}catch(C){d={error:C}}finally{try{!A&&!f&&(h=S.return)&&(yield gt(h.call(S)))}finally{if(d)throw d.error}}y=!0}catch(C){if($g(C))return yield gt(void 0);throw C}finally{y||n.abort()}})}return new tc(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const l=r.next();e.push(l),n.push(l)}return s.shift()}});return[new tc(()=>i(e),this.controller,this.client),new tc(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return ab({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const l=u1(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function mH(t,e){return ta(this,arguments,function*(){var r,i,s,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Fi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Fi("Attempted to iterate over a response with no body");const c=new vH,f=new L0,d=sb(t.body);try{for(var h=!0,v=na(gH(d)),y;y=yield gt(v.next()),r=y.done,!r;h=!0){l=y.value,h=!1;const A=l;for(const S of f.decode(A)){const w=c.decode(S);w&&(yield yield gt(w))}}}catch(A){i={error:A}}finally{try{!h&&!r&&(s=v.return)&&(yield gt(s.call(v)))}finally{if(i)throw i.error}}for(const A of f.flush()){const S=c.decode(A);S&&(yield yield gt(S))}})}function gH(t){return ta(this,arguments,function*(){var n,r,i,s;let l=new Uint8Array;try{for(var c=!0,f=na(t),d;d=yield gt(f.next()),n=d.done,!n;c=!0){s=d.value,c=!1;const h=s;if(h==null)continue;const v=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?u1(h):h;let y=new Uint8Array(l.length+v.length);y.set(l),y.set(v,l.length),l=y;let A;for(;(A=hH(l))!==-1;)yield yield gt(l.slice(0,A)),l=l.slice(A)}}catch(h){r={error:h}}finally{try{!c&&!n&&(i=f.return)&&(yield gt(i.call(f)))}finally{if(r)throw r.error}}l.length>0&&(yield yield gt(l))})}class vH{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=xH(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function xH(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yH(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,l=await(async()=>{var c;if(e.options.stream)return Hr(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):tc.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(c=f==null?void 0:f.split(";")[0])===null||c===void 0?void 0:c.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Hr(t).debug(`[${r}] response parsed`,Po({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-s})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f1 extends Promise{constructor(e,n,r=yH){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new f1(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hb=Symbol("brand.privateNullableHeaders");function*_H(t){if(!t)return;if(hb in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():oA(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=oA(r[1])?r[1]:[r[1]];let l=!1;for(const c of s)c!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,c])}}const bu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,l]of _H(r)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),l===null?(e.delete(s),n.add(c)):(e.append(s,l),n.delete(c))}}return{[hb]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lg=t=>{var e,n,r,i,s,l;if(typeof globalThis.process<"u")return(r=(n=(e=GO)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pb;class O0{constructor(e){var n,r,i,s,l,c,f,{baseURL:d=lg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=lg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:v="v1beta"}=e,y=i0(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:h,apiVersion:v},y),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(r=A.timeout)!==null&&r!==void 0?r:O0.DEFAULT_TIMEOUT,this.logger=(i=A.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(s=dA(A.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:dA(lg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=A.fetchOptions,this.maxRetries=(c=A.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(f=A.fetch)!==null&&f!==void 0?f:eH(),this.encoder=rH,this._options=A,this.apiKey=h,this.apiVersion=v,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=bu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return bu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return bu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Fi(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Yl}`}defaultIdempotencyKey(){return`stainless-node-retry-${BB()}`}makeStatusError(e,n,r,i){return Kr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=GB(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return jB(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new f1(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,l;const c=await e,f=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(c);const{req:d,url:h,timeout:v}=await this.buildRequest(c,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:c});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Hr(this).debug(`[${y}] sending request`,Po({retryOfRequestLogID:r,method:c.method,url:h,options:c,headers:d.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Yg;const w=new AbortController,C=await this.fetchWithTimeout(h,d,v,w).catch(Kg),O=Date.now();if(C instanceof globalThis.Error){const D=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Yg;const z=$g(C)||/timed? ?out/i.test(String(C)+("cause"in C?String(C.cause):""));if(n)return Hr(this).info(`[${y}] connection ${z?"timed out":"failed"} - ${D}`),Hr(this).debug(`[${y}] connection ${z?"timed out":"failed"} (${D})`,Po({retryOfRequestLogID:r,url:h,durationMs:O-S,message:C.message})),this.retryRequest(c,n,r??y);throw Hr(this).info(`[${y}] connection ${z?"timed out":"failed"} - error; no more retries left`),Hr(this).debug(`[${y}] connection ${z?"timed out":"failed"} (error; no more retries left)`,Po({retryOfRequestLogID:r,url:h,durationMs:O-S,message:C.message})),z?new WC:new P0({cause:C})}const H=`[${y}${A}] ${d.method} ${h} ${C.ok?"succeeded":"failed"} with status ${C.status} in ${O-S}ms`;if(!C.ok){const D=await this.shouldRetry(C);if(n&&D){const b=`retrying, ${n} attempts remaining`;return await nH(C.body),Hr(this).info(`${H} - ${b}`),Hr(this).debug(`[${y}] response error (${b})`,Po({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:O-S})),this.retryRequest(c,n,r??y,C.headers)}const z=D?"error; no more retries left":"error; not retryable";Hr(this).info(`${H} - ${z}`);const G=await C.text().catch(b=>Kg(b).message),j=YB(G),I=j?void 0:G;throw Hr(this).debug(`[${y}] response error (${z})`,Po({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,message:I,durationMs:Date.now()-S})),this.makeStatusError(C.status,j,I,C.headers)}return Hr(this).info(H),Hr(this).debug(`[${y}] response start`,Po({retryOfRequestLogID:r,url:C.url,status:C.status,headers:C.headers,durationMs:O-S})),{response:C,options:c,controller:w,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:l,method:c}=s,f=i0(s,["signal","method"]),d=i.abort.bind(i);l&&l.addEventListener("abort",d,{once:!0});const h=setTimeout(d,r),v=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,y=Object.assign(Object.assign(Object.assign({signal:i.signal},v?{duplex:"half"}:{}),{method:"GET"}),f);c&&(y.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,y)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let l;const c=i==null?void 0:i.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(l=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!l){const d=parseFloat(f);Number.isNaN(d)?l=Date.parse(f)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await JB(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const l=Object.assign({},e),{method:c,path:f,query:d,defaultBaseURL:h}=l,v=this.buildURL(f,d,h);"timeout"in l&&KB("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:A}=this.buildBody({options:l}),S=await this.buildHeaders({options:e,method:c,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:v,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let c=bu([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),ZB()),this._options.defaultHeaders,r,e.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=bu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:tH(e)}:this.encoder({body:e,headers:r})}}O0.DEFAULT_TIMEOUT=6e4;class fr extends O0{constructor(){super(...arguments),this.interactions=new db(this)}}pb=fr;fr.GeminiNextGenAPIClient=pb;fr.GeminiNextGenAPIClientError=Fi;fr.APIError=Kr;fr.APIConnectionError=P0;fr.APIConnectionTimeoutError=WC;fr.APIUserAbortError=Yg;fr.NotFoundError=eb;fr.ConflictError=tb;fr.RateLimitError=rb;fr.BadRequestError=XC;fr.AuthenticationError=QC;fr.InternalServerError=ib;fr.PermissionDeniedError=ZC;fr.UnprocessableEntityError=nb;fr.toFile=lH;fr.Interactions=db;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EH(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function TH(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function AH(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function SH(t,e){const n={},r=m(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function wH(t,e,n){const r={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=m(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=m(t,["epochCount"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","epochCount"],s);const l=m(t,["learningRateMultiplier"]);if(l!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(m(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(m(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const c=m(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const f=m(t,["learningRate"]);if(e!==void 0&&f!=null&&g(e,["tuningTask","hyperparameters","learningRate"],f),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(m(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(m(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(m(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(m(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function CH(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec"],cg(G))}else if(i==="PREFERENCE_TUNING"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&g(e,["preferenceOptimizationSpec"],cg(G))}else if(i==="DISTILLATION"){const G=m(t,["validationDataset"]);e!==void 0&&G!=null&&g(e,["distillationSpec"],cg(G))}const s=m(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&g(e,["tunedModelDisplayName"],s);const l=m(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],G)}else if(c==="PREFERENCE_TUNING"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],G)}else if(c==="DISTILLATION"){const G=m(t,["epochCount"]);e!==void 0&&G!=null&&g(e,["distillationSpec","hyperParameters","epochCount"],G)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="PREFERENCE_TUNING"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],G)}else if(f==="DISTILLATION"){const G=m(t,["learningRateMultiplier"]);e!==void 0&&G!=null&&g(e,["distillationSpec","hyperParameters","learningRateMultiplier"],G)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],G)}else if(d==="PREFERENCE_TUNING"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],G)}else if(d==="DISTILLATION"){const G=m(t,["exportLastCheckpointOnly"]);e!==void 0&&G!=null&&g(e,["distillationSpec","exportLastCheckpointOnly"],G)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],G)}else if(h==="PREFERENCE_TUNING"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],G)}else if(h==="DISTILLATION"){const G=m(t,["adapterSize"]);e!==void 0&&G!=null&&g(e,["distillationSpec","hyperParameters","adapterSize"],G)}let v=m(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const G=m(t,["tuningMode"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec","tuningMode"],G)}const y=m(t,["customBaseModel"]);e!==void 0&&y!=null&&g(e,["customBaseModel"],y);let A=m(n,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const G=m(t,["batchSize"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec","hyperParameters","batchSize"],G)}let S=m(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const G=m(t,["learningRate"]);e!==void 0&&G!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRate"],G)}const w=m(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const C=m(t,["beta"]);e!==void 0&&C!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],C);const O=m(t,["baseTeacherModel"]);e!==void 0&&O!=null&&g(e,["distillationSpec","baseTeacherModel"],O);const H=m(t,["tunedTeacherModelSource"]);e!==void 0&&H!=null&&g(e,["distillationSpec","tunedTeacherModelSource"],H);const D=m(t,["sftLossWeightMultiplier"]);e!==void 0&&D!=null&&g(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const z=m(t,["outputUri"]);return e!==void 0&&z!=null&&g(e,["outputUri"],z),r}function bH(t,e){const n={},r=m(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&UH(s);const l=m(t,["config"]);return l!=null&&wH(l,n),n}function NH(t,e){const n={},r=m(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=m(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=m(t,["trainingDataset"]);s!=null&&VH(s,n,e);const l=m(t,["config"]);return l!=null&&CH(l,n,e),n}function IH(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function RH(t,e){const n={},r=m(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function kH(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const l=m(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function DH(t,e,n){const r={},i=m(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=m(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const l=m(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function MH(t,e){const n={},r=m(t,["config"]);return r!=null&&kH(r,n),n}function FH(t,e){const n={},r=m(t,["config"]);return r!=null&&DH(r,n),n}function PH(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>mb(c))),g(n,["tuningJobs"],l)}return n}function LH(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=m(t,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Xg(c))),g(n,["tuningJobs"],l)}return n}function OH(t,e){const n={},r=m(t,["name"]);r!=null&&g(n,["model"],r);const i=m(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function UH(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(n,["examples","examples"],i)}return n}function VH(t,e,n){const r={};let i=m(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=m(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}let s=m(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(s==="DISTILLATION"){const l=m(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["distillationSpec","promptDatasetUri"],l)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function mb(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["state"]);s!=null&&g(n,["state"],kC(s));const l=m(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const f=m(t,["tuningTask","completeTime"]);f!=null&&g(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const h=m(t,["description"]);h!=null&&g(n,["description"],h);const v=m(t,["baseModel"]);v!=null&&g(n,["baseModel"],v);const y=m(t,["_self"]);return y!=null&&g(n,["tunedModel"],OH(y)),n}function Xg(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["state"]);s!=null&&g(n,["state"],kC(s));const l=m(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=m(t,["startTime"]);c!=null&&g(n,["startTime"],c);const f=m(t,["endTime"]);f!=null&&g(n,["endTime"],f);const d=m(t,["updateTime"]);d!=null&&g(n,["updateTime"],d);const h=m(t,["error"]);h!=null&&g(n,["error"],h);const v=m(t,["description"]);v!=null&&g(n,["description"],v);const y=m(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const A=m(t,["tunedModel"]);A!=null&&g(n,["tunedModel"],A);const S=m(t,["preTunedModel"]);S!=null&&g(n,["preTunedModel"],S);const w=m(t,["supervisedTuningSpec"]);w!=null&&g(n,["supervisedTuningSpec"],w);const C=m(t,["preferenceOptimizationSpec"]);C!=null&&g(n,["preferenceOptimizationSpec"],C);const O=m(t,["distillationSpec"]);O!=null&&g(n,["distillationSpec"],O);const H=m(t,["tuningDataStats"]);H!=null&&g(n,["tuningDataStats"],H);const D=m(t,["encryptionSpec"]);D!=null&&g(n,["encryptionSpec"],D);const z=m(t,["partnerModelTuningSpec"]);z!=null&&g(n,["partnerModelTuningSpec"],z);const G=m(t,["customBaseModel"]);G!=null&&g(n,["customBaseModel"],G);const j=m(t,["experiment"]);j!=null&&g(n,["experiment"],j);const I=m(t,["labels"]);I!=null&&g(n,["labels"],I);const N=m(t,["outputUri"]);N!=null&&g(n,["outputUri"],N);const b=m(t,["pipelineJob"]);b!=null&&g(n,["pipelineJob"],b);const P=m(t,["serviceAccount"]);P!=null&&g(n,["serviceAccount"],P);const M=m(t,["tunedModelDisplayName"]);M!=null&&g(n,["tunedModelDisplayName"],M);const k=m(t,["veoTuningSpec"]);return k!=null&&g(n,["veoTuningSpec"],k),n}function BH(t,e){const n={},r=m(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=m(t,["name"]);i!=null&&g(n,["name"],i);const s=m(t,["metadata"]);s!=null&&g(n,["metadata"],s);const l=m(t,["done"]);l!=null&&g(n,["done"],l);const c=m(t,["error"]);return c!=null&&g(n,["error"],c),n}function cg(t,e){const n={},r=m(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=m(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HH extends as{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new il(es.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:Ug.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=RH(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>Xg(h))}else{const d=IH(e);return c=Je("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>mb(h))}}async listInternal(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=FH(e);return c=Je("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=LH(h),y=new B2;return Object.assign(y,v),y})}else{const d=MH(e);return c=Je("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=PH(h),y=new B2;return Object.assign(y,v),y})}}async cancel(e){var n,r,i,s;let l,c="",f={};if(this.apiClient.isVertexAI()){const d=TH(e);return c=Je("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=SH(h),y=new H2;return Object.assign(y,v),y})}else{const d=EH(e);return c=Je("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json().then(v=>{const y=v;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const v=AH(h),y=new H2;return Object.assign(y,v),y})}}async tuneInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI()){const c=NH(e,e);return s=Je("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Xg(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=bH(e);return s=Je("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>BH(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GH{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zH=1024*1024*8,qH=3,jH=1e3,$H=2,s0="x-goog-upload-status";async function KH(t,e,n){var r;const i=await gb(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[s0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function YH(t,e,n){var r;const i=await gb(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[s0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=wC(s),c=new i1;return Object.assign(c,l),c}async function gb(t,e,n){var r,i;let s=0,l=0,c=new Bg(new Response),f="upload";for(s=t.size;l<s;){const d=Math.min(zH,s-l),h=t.slice(l,l+d);l+d>=s&&(f+=", finalize");let v=0,y=jH;for(;v<qH&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[s0]));)v++,await WH(y),y=y*$H;if(l+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[s0])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function JH(t){return{size:t.size,type:t.type}}function WH(t){return new Promise(e=>setTimeout(e,t))}class XH{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KH(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YH(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JH(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QH{create(e,n,r){return new ZH(e,n,r)}}class ZH{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pA="x-goog-api-key";class eG{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(pA)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(pA,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tG="gl-node/";class vb{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new fr({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=$O(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new eG(this.apiKey);this.apiClient=new J7({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:tG+"web",uploader:new XH,downloader:new GH}),this.models=new pB(this.apiClient),this.live=new lB(this.apiClient,i,new QH),this.batches=new TU(this.apiClient),this.chats=new r9(this.models,this.apiClient),this.caches=new e9(this.apiClient),this.files=new m9(this.apiClient),this.operations=new mB(this.apiClient),this.authTokens=new kB(this.apiClient),this.tunings=new HH(this.apiClient),this.fileSearchStores=new VB(this.apiClient)}}const o0=async(t,e)=>{if(!t||!e)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const r=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(t)}&key=${e}`,s=await(await fetch(r)).json();if(s.status==="OK"&&s.results&&s.results.length>0){const l=s.results[0],c=l.geometry.location;return{lat:c.lat,lng:c.lng,formattedAddress:l.formatted_address,locationType:l.geometry.location_type,addressComponents:l.address_components}}else return console.warn(`Geocoding failed for address "${t}":`,s.status,s.error_message),null}catch(n){return console.error(`Geocoding fetch error for address "${t}":`,n),null}},nG=1,Qg=t=>new Promise(e=>setTimeout(e,t)),mA=t=>{const e=t.replace(/\D/g,"");if(e.length<5)return"Indefinido";const n=parseInt(e.substring(0,1)),r=parseInt(e.substring(0,2));return n===0||n===1||n===2||n===3?"Sudeste":n===8||n===9?"Sul":n===4||n===5?"Nordeste":n===6?r>=60&&r<=65?"Nordeste":"Norte":n===7?r===77||r===76?"Norte":"Centro-Oeste":"Indefinido"},rG=t=>{const e=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],n=["AC","AP","AM","PA","RO","RR","TO"],r=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],s=["PR","SC","RS"],l=t.toUpperCase().trim();return e.includes(l)?"Nordeste":n.includes(l)?"Norte":r.includes(l)?"Centro-Oeste":i.includes(l)?"Sudeste":s.includes(l)?"Sul":"Indefinido"},gA=t=>{let e="Desconhecido",n="BR",r="Indefinido";if(Array.isArray(t)){const i=t.find(l=>l.types.includes("administrative_area_level_1"));i&&(n=i.short_name);const s=t.find(l=>l.types.includes("administrative_area_level_2")||l.types.includes("locality"));s&&(e=s.long_name),r=rG(n)}return{city:e,state:n,region:r}},iG=async(t,e,n,r,i)=>{var d,h,v;const s=new vb({apiKey:n||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),l=[],c=t.length,f=r.map(y=>`"${y}"`).join(" | ");for(let y=0;y<c;y+=nG){const A=t[y];if(!A)continue;const S=A.Endereo||"",w=BS(S),C=A["Razo Social"]||"Empresa Desconhecida",O=A["Nome do Proprietrio"]||"",H=A.Contato||"",D=w.match(/\d{5}[-]?\d{3}/),z=D?D[0]:"",G=`${e}-${Date.now()}-${y}`;if(!w&&C==="Empresa Desconhecida"){i&&i(y+1,c);continue}const j=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${C}" localizada EXATAMENTE em "${w}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${f} | "Outros".

      IMPORTANTE: Use o endereo "${w}" como ncora principal para a busca.

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let I=0,N=!1;const b=5;for(;!N&&I<=b;)try{const P=await s.models.generateContent({model:"gemini-2.5-flash",contents:j,config:{tools:[{googleMaps:{}}]}});let M=P.text||"{}";M=M.replace(/```json/g,"").replace(/```/g,"").trim();let k={};try{k=JSON.parse(M)}catch{const te=M.match(/\{[\s\S]*\}/);if(te)try{k=JSON.parse(te[0])}catch{}}let U="";const Te=(v=(h=(d=P.candidates)==null?void 0:d[0])==null?void 0:h.groundingMetadata)==null?void 0:v.groundingChunks;if(Te&&Array.isArray(Te)){const Z=Te.find(te=>{var ue;return(ue=te.maps)==null?void 0:ue.uri});Z&&(U=Z.maps.uri)}let Ae=A.extractedLat||(typeof k.lat=="number"?k.lat:0),ae=A.extractedLng||(typeof k.lng=="number"?k.lng:0),le=k.cleanAddress||w,Ne=k.city||"Desconhecido",ie=k.state||"BR",Fe=k.region||"Indefinido";if((!Fe||Fe==="Indefinido")&&z&&(Fe=mA(z)),!A.extractedLat||Ne==="Desconhecido"||ie==="BR"){const Z=le||S;if(Z&&Z.length>5&&n)try{const te=await o0(Z,n);if(te){if(A.extractedLat||(Ae=te.lat,ae=te.lng),te.addressComponents){const ue=gA(te.addressComponents);Ne=ue.city,ie=ue.state,Fe=ue.region}(!Fe||Fe==="Indefinido")&&z&&(Fe=mA(z)),te.formattedAddress&&(le=te.formattedAddress)}}catch(te){console.warn(`Geocoding failed for ${A["Razo Social"]}`,te)}}const B=Z=>Array.isArray(Z)?Z:typeof Z=="string"?[Z]:["Outros"];let Q=H;k.phone&&(Q=Q?`${Q} | Maps: ${k.phone}`:k.phone),k.website&&(Q=Q?`${Q} | Site: ${k.website}`:`Site: ${k.website}`),l.push({id:G,salespersonId:e,companyName:C,ownerName:O,contact:Q,originalAddress:S,cleanAddress:le,category:B(k.category),region:Fe,state:ie,city:Ne,lat:Ae,lng:ae,googleMapsUri:A.GoogleMapsLink||U}),N=!0}catch(P){const M=P.status===429||P.code===429||P.message&&(P.message.includes("quota")||P.message.includes("429")),k=P.status===503||P.code===503;if((M||k)&&I<b){I++;const U=1e3*Math.pow(2,I);console.warn(`Retry ${I}/${b} for client ${y}`),await Qg(U)}else{console.error(`Failed to process client ${y}`,P);let U=0,Te=0,Ae=S,ae="Erro Proc.",le="BR",Ne="Indefinido";if(S&&n)try{console.log(`Attempting fallback geocoding for failed client ${y}...`);const ie=await o0(S,n);if(ie&&(U=ie.lat,Te=ie.lng,ie.formattedAddress&&(Ae=ie.formattedAddress),ie.addressComponents)){const Fe=gA(ie.addressComponents);ae=Fe.city,le=Fe.state,Ne=Fe.region}}catch{}l.push({id:G,salespersonId:e,companyName:C,ownerName:O,contact:H,originalAddress:S,cleanAddress:Ae,category:["Outros"],region:Ne,state:le,city:ae,lat:U,lng:Te}),N=!0}}i&&i(y+1,c),await Qg(300)}return l},aG=async(t,e,n)=>{const r=new vb({apiKey:e||"AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"}),i=10,s=t.length;let l=0;const c=[...t];for(let f=0;f<s;f+=i){const d=t.slice(f,f+i),v=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${d.map(y=>`- ID: ${y.sku} | Nome: ${y.name} | Marca: ${y.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let A=(await r.models.generateContent({model:"gemini-2.5-flash",contents:v})).text||"[]";A=A.replace(/```json/g,"").replace(/```/g,"").trim();let S=[];try{S=JSON.parse(A)}catch{console.error("Failed to parse AI response",A);const C=A.match(/\[.*\]/s);if(C)try{S=JSON.parse(C[0])}catch{}}Array.isArray(S)&&S.forEach(w=>{const C=c.findIndex(O=>String(O.sku)===String(w.sku));C!==-1&&(c[C]={...c[C],category:w.category})})}catch(y){console.error("Batch classification failed",y)}l+=d.length,n&&n(l,s),await Qg(1e3)}return c},sG=()=>{};var vA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=s>>2,v=(s&3)<<4|c>>4;let y=(c&15)<<2|d>>6,A=d&63;f||(A=64,l||(y=64)),r.push(n[h],n[v],n[y],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||d==null||v==null)throw new lG;const y=s<<2|c>>4;if(r.push(y),d!==64){const A=c<<4&240|d>>2;if(r.push(A),v!==64){const S=d<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cG=function(t){const e=xb(t);return yb.encodeByteArray(e,!0)},l0=function(t){return cG(t).replace(/\./g,"")},uG=function(t){try{return yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=()=>fG().__FIREBASE_DEFAULTS__,hG=()=>{if(typeof process>"u"||typeof vA>"u")return;const t=vA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uG(t[1]);return e&&JSON.parse(e)},d1=()=>{try{return sG()||dG()||hG()||pG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mG=t=>{var e,n;return(n=(e=d1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gG=t=>{const e=mG(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_b=()=>{var t;return(t=d1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xG(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[l0(JSON.stringify(n)),l0(JSON.stringify(l)),""].join(".")}const Qu={};function _G(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qu))Qu[e]?t.emulator.push(e):t.prod.push(e);return t}function EG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let xA=!1;function TG(t,e){if(typeof window>"u"||typeof document>"u"||!h1(window.location.host)||Qu[t]===e||Qu[t]||xA)return;Qu[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=_G().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function f(y,A){y.setAttribute("width","24"),y.setAttribute("id",A),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{xA=!0,l()},y}function h(y,A){y.setAttribute("id",A),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=EG(r),A=n("text"),S=document.getElementById(A)||document.createElement("span"),w=n("learnmore"),C=document.getElementById(w)||document.createElement("a"),O=n("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const D=y.element;c(D),h(C,w);const z=d();f(H,O),D.append(H,S,C,z),document.body.appendChild(D)}s?(S.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SG(){var e;const t=(e=d1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wG(){return!SG()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CG(){try{return typeof indexedDB=="object"}catch{return!1}}function bG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="FirebaseError";class Cc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NG,Object.setPrototypeOf(this,Cc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eb.prototype.create)}}class Eb{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?IG(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Cc(i,c,r)}}function IG(t,e){return t.replace(RG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const RG=/\{\$([^}]+)}/g;function c0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(yA(s)&&yA(l)){if(!c0(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){return t&&t._delegate?t._delegate:t}class yf{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MG(e))try{this.getOrInitializeService({instanceIdentifier:Lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lo){return this.instances.has(e)}getOptions(e=Lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lo){return this.component?this.component.multipleInstances?e:Lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DG(t){return t===Lo?void 0:t}function MG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Bt||(Bt={}));const PG={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},LG=Bt.INFO,OG={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},UG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tb{constructor(e){this.name=e,this._logLevel=LG,this._logHandler=UG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const VG=(t,e)=>e.some(n=>t instanceof n);let _A,EA;function BG(){return _A||(_A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HG(){return EA||(EA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,Zg=new WeakMap,Sb=new WeakMap,ug=new WeakMap,p1=new WeakMap;function GG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Js(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Ab.set(n,t)}).catch(()=>{}),p1.set(e,t),e}function zG(t){if(Zg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Zg.set(t,e)}let ev={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qG(t){ev=t(ev)}function jG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fg(this),e,...n);return Sb.set(r,e.sort?e.sort():[e]),Js(r)}:HG().includes(t)?function(...e){return t.apply(fg(this),e),Js(Ab.get(this))}:function(...e){return Js(t.apply(fg(this),e))}}function $G(t){return typeof t=="function"?jG(t):(t instanceof IDBTransaction&&zG(t),VG(t,BG())?new Proxy(t,ev):t)}function Js(t){if(t instanceof IDBRequest)return GG(t);if(ug.has(t))return ug.get(t);const e=$G(t);return e!==t&&(ug.set(t,e),p1.set(e,t)),e}const fg=t=>p1.get(t);function KG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Js(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Js(l.result),f.oldVersion,f.newVersion,Js(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const YG=["get","getKey","getAll","getAllKeys","count"],JG=["put","add","delete","clear"],dg=new Map;function TA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YG.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&f.done]))[0]};return dg.set(e,s),s}qG(t=>({...t,get:(e,n,r)=>TA(e,n)||t.get(e,n,r),has:(e,n)=>!!TA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tv="@firebase/app",AA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new Tb("@firebase/app"),QG="@firebase/app-compat",ZG="@firebase/analytics-compat",ez="@firebase/analytics",tz="@firebase/app-check-compat",nz="@firebase/app-check",rz="@firebase/auth",iz="@firebase/auth-compat",az="@firebase/database",sz="@firebase/data-connect",oz="@firebase/database-compat",lz="@firebase/functions",cz="@firebase/functions-compat",uz="@firebase/installations",fz="@firebase/installations-compat",dz="@firebase/messaging",hz="@firebase/messaging-compat",pz="@firebase/performance",mz="@firebase/performance-compat",gz="@firebase/remote-config",vz="@firebase/remote-config-compat",xz="@firebase/storage",yz="@firebase/storage-compat",_z="@firebase/firestore",Ez="@firebase/ai",Tz="@firebase/firestore-compat",Az="firebase",Sz="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="[DEFAULT]",wz={[tv]:"fire-core",[QG]:"fire-core-compat",[ez]:"fire-analytics",[ZG]:"fire-analytics-compat",[nz]:"fire-app-check",[tz]:"fire-app-check-compat",[rz]:"fire-auth",[iz]:"fire-auth-compat",[az]:"fire-rtdb",[sz]:"fire-data-connect",[oz]:"fire-rtdb-compat",[lz]:"fire-fn",[cz]:"fire-fn-compat",[uz]:"fire-iid",[fz]:"fire-iid-compat",[dz]:"fire-fcm",[hz]:"fire-fcm-compat",[pz]:"fire-perf",[mz]:"fire-perf-compat",[gz]:"fire-rc",[vz]:"fire-rc-compat",[xz]:"fire-gcs",[yz]:"fire-gcs-compat",[_z]:"fire-fst",[Tz]:"fire-fst-compat",[Ez]:"fire-vertex","fire-js":"fire-js",[Az]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Map,Cz=new Map,rv=new Map;function SA(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function f0(t){const e=t.name;if(rv.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;rv.set(e,t);for(const n of _f.values())SA(n,t);for(const n of Cz.values())SA(n,t);return!0}function bz(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nz(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Eb("app","Firebase",Iz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=Sz;function wb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:nv,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=_b()),!n)throw Ws.create("no-options");const s=_f.get(i);if(s){if(c0(n,s.options)&&c0(r,s.config))return s;throw Ws.create("duplicate-app",{appName:i})}const l=new FG(i);for(const f of rv.values())l.addComponent(f);const c=new Rz(n,r,l);return _f.set(i,c),c}function Cb(t=nv){const e=_f.get(t);if(!e&&t===nv&&_b())return wb();if(!e)throw Ws.create("no-app",{appName:t});return e}function Dz(){return Array.from(_f.values())}function uc(t,e,n){let r=wz[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(l.join(" "));return}f0(new yf(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="firebase-heartbeat-database",Fz=1,Ef="firebase-heartbeat-store";let hg=null;function bb(){return hg||(hg=KG(Mz,Fz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ef)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),hg}async function Pz(t){try{const n=(await bb()).transaction(Ef),r=await n.objectStore(Ef).get(Nb(t));return await n.done,r}catch(e){if(e instanceof Cc)ts.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function wA(t,e){try{const r=(await bb()).transaction(Ef,"readwrite");await r.objectStore(Ef).put(e,Nb(t)),await r.done}catch(n){if(n instanceof Cc)ts.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function Nb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=1024,Oz=30;class Uz{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Oz){const l=Hz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CA(),{heartbeatsToSend:r,unsentEntries:i}=Vz(this._heartbeatsCache.heartbeats),s=l0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ts.warn(n),""}}}function CA(){return new Date().toISOString().substring(0,10)}function Vz(t,e=Lz){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),bA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CG()?bG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bA(t){return l0(JSON.stringify({version:2,heartbeats:t})).length}function Hz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){f0(new yf("platform-logger",e=>new WG(e),"PRIVATE")),f0(new yf("heartbeat",e=>new Uz(e),"PRIVATE")),uc(tv,AA,t),uc(tv,AA,"esm2020"),uc("fire-js","")}Gz("");var zz="firebase",qz="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uc(zz,qz,"app");var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,Ib;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,N){function b(){}b.prototype=N.prototype,I.F=N.prototype,I.prototype=new b,I.prototype.constructor=I,I.D=function(P,M,k){for(var U=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)U[Te-2]=arguments[Te];return N.prototype[M].apply(P,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,N,b){b||(b=0);const P=Array(16);if(typeof N=="string")for(var M=0;M<16;++M)P[M]=N.charCodeAt(b++)|N.charCodeAt(b++)<<8|N.charCodeAt(b++)<<16|N.charCodeAt(b++)<<24;else for(M=0;M<16;++M)P[M]=N[b++]|N[b++]<<8|N[b++]<<16|N[b++]<<24;N=I.g[0],b=I.g[1],M=I.g[2];let k=I.g[3],U;U=N+(k^b&(M^k))+P[0]+3614090360&4294967295,N=b+(U<<7&4294967295|U>>>25),U=k+(M^N&(b^M))+P[1]+3905402710&4294967295,k=N+(U<<12&4294967295|U>>>20),U=M+(b^k&(N^b))+P[2]+606105819&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(N^M&(k^N))+P[3]+3250441966&4294967295,b=M+(U<<22&4294967295|U>>>10),U=N+(k^b&(M^k))+P[4]+4118548399&4294967295,N=b+(U<<7&4294967295|U>>>25),U=k+(M^N&(b^M))+P[5]+1200080426&4294967295,k=N+(U<<12&4294967295|U>>>20),U=M+(b^k&(N^b))+P[6]+2821735955&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(N^M&(k^N))+P[7]+4249261313&4294967295,b=M+(U<<22&4294967295|U>>>10),U=N+(k^b&(M^k))+P[8]+1770035416&4294967295,N=b+(U<<7&4294967295|U>>>25),U=k+(M^N&(b^M))+P[9]+2336552879&4294967295,k=N+(U<<12&4294967295|U>>>20),U=M+(b^k&(N^b))+P[10]+4294925233&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(N^M&(k^N))+P[11]+2304563134&4294967295,b=M+(U<<22&4294967295|U>>>10),U=N+(k^b&(M^k))+P[12]+1804603682&4294967295,N=b+(U<<7&4294967295|U>>>25),U=k+(M^N&(b^M))+P[13]+4254626195&4294967295,k=N+(U<<12&4294967295|U>>>20),U=M+(b^k&(N^b))+P[14]+2792965006&4294967295,M=k+(U<<17&4294967295|U>>>15),U=b+(N^M&(k^N))+P[15]+1236535329&4294967295,b=M+(U<<22&4294967295|U>>>10),U=N+(M^k&(b^M))+P[1]+4129170786&4294967295,N=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(N^b))+P[6]+3225465664&4294967295,k=N+(U<<9&4294967295|U>>>23),U=M+(N^b&(k^N))+P[11]+643717713&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^N&(M^k))+P[0]+3921069994&4294967295,b=M+(U<<20&4294967295|U>>>12),U=N+(M^k&(b^M))+P[5]+3593408605&4294967295,N=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(N^b))+P[10]+38016083&4294967295,k=N+(U<<9&4294967295|U>>>23),U=M+(N^b&(k^N))+P[15]+3634488961&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^N&(M^k))+P[4]+3889429448&4294967295,b=M+(U<<20&4294967295|U>>>12),U=N+(M^k&(b^M))+P[9]+568446438&4294967295,N=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(N^b))+P[14]+3275163606&4294967295,k=N+(U<<9&4294967295|U>>>23),U=M+(N^b&(k^N))+P[3]+4107603335&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^N&(M^k))+P[8]+1163531501&4294967295,b=M+(U<<20&4294967295|U>>>12),U=N+(M^k&(b^M))+P[13]+2850285829&4294967295,N=b+(U<<5&4294967295|U>>>27),U=k+(b^M&(N^b))+P[2]+4243563512&4294967295,k=N+(U<<9&4294967295|U>>>23),U=M+(N^b&(k^N))+P[7]+1735328473&4294967295,M=k+(U<<14&4294967295|U>>>18),U=b+(k^N&(M^k))+P[12]+2368359562&4294967295,b=M+(U<<20&4294967295|U>>>12),U=N+(b^M^k)+P[5]+4294588738&4294967295,N=b+(U<<4&4294967295|U>>>28),U=k+(N^b^M)+P[8]+2272392833&4294967295,k=N+(U<<11&4294967295|U>>>21),U=M+(k^N^b)+P[11]+1839030562&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^N)+P[14]+4259657740&4294967295,b=M+(U<<23&4294967295|U>>>9),U=N+(b^M^k)+P[1]+2763975236&4294967295,N=b+(U<<4&4294967295|U>>>28),U=k+(N^b^M)+P[4]+1272893353&4294967295,k=N+(U<<11&4294967295|U>>>21),U=M+(k^N^b)+P[7]+4139469664&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^N)+P[10]+3200236656&4294967295,b=M+(U<<23&4294967295|U>>>9),U=N+(b^M^k)+P[13]+681279174&4294967295,N=b+(U<<4&4294967295|U>>>28),U=k+(N^b^M)+P[0]+3936430074&4294967295,k=N+(U<<11&4294967295|U>>>21),U=M+(k^N^b)+P[3]+3572445317&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^N)+P[6]+76029189&4294967295,b=M+(U<<23&4294967295|U>>>9),U=N+(b^M^k)+P[9]+3654602809&4294967295,N=b+(U<<4&4294967295|U>>>28),U=k+(N^b^M)+P[12]+3873151461&4294967295,k=N+(U<<11&4294967295|U>>>21),U=M+(k^N^b)+P[15]+530742520&4294967295,M=k+(U<<16&4294967295|U>>>16),U=b+(M^k^N)+P[2]+3299628645&4294967295,b=M+(U<<23&4294967295|U>>>9),U=N+(M^(b|~k))+P[0]+4096336452&4294967295,N=b+(U<<6&4294967295|U>>>26),U=k+(b^(N|~M))+P[7]+1126891415&4294967295,k=N+(U<<10&4294967295|U>>>22),U=M+(N^(k|~b))+P[14]+2878612391&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~N))+P[5]+4237533241&4294967295,b=M+(U<<21&4294967295|U>>>11),U=N+(M^(b|~k))+P[12]+1700485571&4294967295,N=b+(U<<6&4294967295|U>>>26),U=k+(b^(N|~M))+P[3]+2399980690&4294967295,k=N+(U<<10&4294967295|U>>>22),U=M+(N^(k|~b))+P[10]+4293915773&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~N))+P[1]+2240044497&4294967295,b=M+(U<<21&4294967295|U>>>11),U=N+(M^(b|~k))+P[8]+1873313359&4294967295,N=b+(U<<6&4294967295|U>>>26),U=k+(b^(N|~M))+P[15]+4264355552&4294967295,k=N+(U<<10&4294967295|U>>>22),U=M+(N^(k|~b))+P[6]+2734768916&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~N))+P[13]+1309151649&4294967295,b=M+(U<<21&4294967295|U>>>11),U=N+(M^(b|~k))+P[4]+4149444226&4294967295,N=b+(U<<6&4294967295|U>>>26),U=k+(b^(N|~M))+P[11]+3174756917&4294967295,k=N+(U<<10&4294967295|U>>>22),U=M+(N^(k|~b))+P[2]+718787259&4294967295,M=k+(U<<15&4294967295|U>>>17),U=b+(k^(M|~N))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+N&4294967295,I.g[1]=I.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,N){N===void 0&&(N=I.length);const b=N-this.blockSize,P=this.C;let M=this.h,k=0;for(;k<N;){if(M==0)for(;k<=b;)i(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<N;)if(P[M++]=I.charCodeAt(k++),M==this.blockSize){i(this,P),M=0;break}}else for(;k<N;)if(P[M++]=I[k++],M==this.blockSize){i(this,P),M=0;break}}this.h=M,this.o+=N},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var N=1;N<I.length-8;++N)I[N]=0;N=this.o*8;for(var b=I.length-8;b<I.length;++b)I[b]=N&255,N/=256;for(this.v(I),I=Array(16),N=0,b=0;b<4;++b)for(let P=0;P<32;P+=8)I[N++]=this.g[b]>>>P&255;return I};function s(I,N){var b=c;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=N(I)}function l(I,N){this.h=N;const b=[];let P=!0;for(let M=I.length-1;M>=0;M--){const k=I[M]|0;P&&k==N||(b[M]=k,P=!1)}this.g=b}var c={};function f(I){return-128<=I&&I<128?s(I,function(N){return new l([N|0],N<0?-1:0)}):new l([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return C(d(-I));const N=[];let b=1;for(let P=0;I>=b;P++)N[P]=I/b|0,b*=4294967296;return new l(N,0)}function h(I,N){if(I.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(I.charAt(0)=="-")return C(h(I.substring(1),N));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(N,8));let P=v;for(let k=0;k<I.length;k+=8){var M=Math.min(8,I.length-k);const U=parseInt(I.substring(k,k+M),N);M<8?(M=d(Math.pow(N,M)),P=P.j(M).add(d(U))):(P=P.j(b),P=P.add(d(U)))}return P}var v=f(0),y=f(1),A=f(16777216);t=l.prototype,t.m=function(){if(w(this))return-C(this).m();let I=0,N=1;for(let b=0;b<this.g.length;b++){const P=this.i(b);I+=(P>=0?P:4294967296+P)*N,N*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(w(this))return"-"+C(this).toString(I);const N=d(Math.pow(I,6));var b=this;let P="";for(;;){const M=z(b,N).g;b=O(b,M.j(N));let k=((b.g.length>0?b.g[0]:b.h)>>>0).toString(I);if(b=M,S(b))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let N=0;N<I.g.length;N++)if(I.g[N]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=O(this,I),w(I)?-1:S(I)?0:1};function C(I){const N=I.g.length,b=[];for(let P=0;P<N;P++)b[P]=~I.g[P];return new l(b,~I.h).add(y)}t.abs=function(){return w(this)?C(this):this},t.add=function(I){const N=Math.max(this.g.length,I.g.length),b=[];let P=0;for(let M=0;M<=N;M++){let k=P+(this.i(M)&65535)+(I.i(M)&65535),U=(k>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);P=U>>>16,k&=65535,U&=65535,b[M]=U<<16|k}return new l(b,b[b.length-1]&-2147483648?-1:0)};function O(I,N){return I.add(C(N))}t.j=function(I){if(S(this)||S(I))return v;if(w(this))return w(I)?C(this).j(C(I)):C(C(this).j(I));if(w(I))return C(this.j(C(I)));if(this.l(A)<0&&I.l(A)<0)return d(this.m()*I.m());const N=this.g.length+I.g.length,b=[];for(var P=0;P<2*N;P++)b[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<I.g.length;M++){const k=this.i(P)>>>16,U=this.i(P)&65535,Te=I.i(M)>>>16,Ae=I.i(M)&65535;b[2*P+2*M]+=U*Ae,H(b,2*P+2*M),b[2*P+2*M+1]+=k*Ae,H(b,2*P+2*M+1),b[2*P+2*M+1]+=U*Te,H(b,2*P+2*M+1),b[2*P+2*M+2]+=k*Te,H(b,2*P+2*M+2)}for(I=0;I<N;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=N;I<2*N;I++)b[I]=0;return new l(b,0)};function H(I,N){for(;(I[N]&65535)!=I[N];)I[N+1]+=I[N]>>>16,I[N]&=65535,N++}function D(I,N){this.g=I,this.h=N}function z(I,N){if(S(N))throw Error("division by zero");if(S(I))return new D(v,v);if(w(I))return N=z(C(I),N),new D(C(N.g),C(N.h));if(w(N))return N=z(I,C(N)),new D(C(N.g),N.h);if(I.g.length>30){if(w(I)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var b=y,P=N;P.l(I)<=0;)b=G(b),P=G(P);var M=j(b,1),k=j(P,1);for(P=j(P,2),b=j(b,2);!S(P);){var U=k.add(P);U.l(I)<=0&&(M=M.add(b),k=U),P=j(P,1),b=j(b,1)}return N=O(I,M.j(N)),new D(M,N)}for(M=v;I.l(N)>=0;){for(b=Math.max(1,Math.floor(I.m()/N.m())),P=Math.ceil(Math.log(b)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=d(b),U=k.j(N);w(U)||U.l(I)>0;)b-=P,k=d(b),U=k.j(N);S(k)&&(k=y),M=M.add(k),I=O(I,U)}return new D(M,I)}t.B=function(I){return z(this,I).h},t.and=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let P=0;P<N;P++)b[P]=this.i(P)&I.i(P);return new l(b,this.h&I.h)},t.or=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let P=0;P<N;P++)b[P]=this.i(P)|I.i(P);return new l(b,this.h|I.h)},t.xor=function(I){const N=Math.max(this.g.length,I.g.length),b=[];for(let P=0;P<N;P++)b[P]=this.i(P)^I.i(P);return new l(b,this.h^I.h)};function G(I){const N=I.g.length+1,b=[];for(let P=0;P<N;P++)b[P]=I.i(P)<<1|I.i(P-1)>>>31;return new l(b,I.h)}function j(I,N){const b=N>>5;N%=32;const P=I.g.length-b,M=[];for(let k=0;k<P;k++)M[k]=N>0?I.i(k+b)>>>N|I.i(k+b+1)<<32-N:I.i(k+b);return new l(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ib=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=h,Xs=l}).apply(typeof NA<"u"?NA:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rb,Ou,kb,Fh,iv,Db,Mb,Fb;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var R=0;R<x.length;++R){var L=x[R];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(x,R){if(R)e:{var L=r;x=x.split(".");for(var Y=0;Y<x.length-1;Y++){var he=x[Y];if(!(he in L))break e;L=L[he]}x=x[x.length-1],Y=L[x],R=R(Y),R!=Y&&R!=null&&e(L,x,{configurable:!0,writable:!0,value:R})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(R){var L=[],Y;for(Y in R)Object.prototype.hasOwnProperty.call(R,Y)&&L.push([Y,R[Y]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(x){var R=typeof x;return R=="object"&&x!=null||R=="function"}function f(x,R,L){return x.call.apply(x.bind,arguments)}function d(x,R,L){return d=f,d.apply(null,arguments)}function h(x,R){var L=Array.prototype.slice.call(arguments,1);return function(){var Y=L.slice();return Y.push.apply(Y,arguments),x.apply(this,Y)}}function v(x,R){function L(){}L.prototype=R.prototype,x.Z=R.prototype,x.prototype=new L,x.prototype.constructor=x,x.Ob=function(Y,he,Ee){for(var qe=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)qe[Tt-2]=arguments[Tt];return R.prototype[he].apply(Y,qe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function A(x){const R=x.length;if(R>0){const L=Array(R);for(let Y=0;Y<R;Y++)L[Y]=x[Y];return L}return[]}function S(x,R){for(let Y=1;Y<arguments.length;Y++){const he=arguments[Y];var L=typeof he;if(L=L!="object"?L:he?Array.isArray(he)?"array":L:"null",L=="array"||L=="object"&&typeof he.length=="number"){L=x.length||0;const Ee=he.length||0;x.length=L+Ee;for(let qe=0;qe<Ee;qe++)x[L+qe]=he[qe]}else x.push(he)}}class w{constructor(R,L){this.i=R,this.j=L,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function C(x){l.setTimeout(()=>{throw x},0)}function O(){var x=I;let R=null;return x.g&&(R=x.g,x.g=x.g.next,x.g||(x.h=null),R.next=null),R}class H{constructor(){this.h=this.g=null}add(R,L){const Y=D.get();Y.set(R,L),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var D=new w(()=>new z,x=>x.reset());class z{constructor(){this.next=this.g=this.h=null}set(R,L){this.h=R,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let G,j=!1,I=new H,N=()=>{const x=Promise.resolve(void 0);G=()=>{x.then(b)}};function b(){for(var x;x=O();){try{x.h.call(x.g)}catch(L){C(L)}var R=D;R.j(x),R.h<100&&(R.h++,x.next=R.g,R.g=x)}j=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(x,R){this.type=x,this.g=this.target=R,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,R=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const L=()=>{};l.addEventListener("test",L,R),l.removeEventListener("test",L,R)}catch{}return x})();function U(x){return/^[\s\xa0]*$/.test(x)}function Te(x,R){M.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,R)}v(Te,M),Te.prototype.init=function(x,R){const L=this.type=x.type,Y=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=R,R=x.relatedTarget,R||(L=="mouseover"?R=x.fromElement:L=="mouseout"&&(R=x.toElement)),this.relatedTarget=R,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&Te.Z.h.call(this)},Te.prototype.h=function(){Te.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),ae=0;function le(x,R,L,Y,he){this.listener=x,this.proxy=null,this.src=R,this.type=L,this.capture=!!Y,this.ha=he,this.key=++ae,this.da=this.fa=!1}function Ne(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function ie(x,R,L){for(const Y in x)R.call(L,x[Y],Y,x)}function Fe(x,R){for(const L in x)R.call(void 0,x[L],L,x)}function X(x){const R={};for(const L in x)R[L]=x[L];return R}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(x,R){let L,Y;for(let he=1;he<arguments.length;he++){Y=arguments[he];for(L in Y)x[L]=Y[L];for(let Ee=0;Ee<B.length;Ee++)L=B[Ee],Object.prototype.hasOwnProperty.call(Y,L)&&(x[L]=Y[L])}}function Z(x){this.src=x,this.g={},this.h=0}Z.prototype.add=function(x,R,L,Y,he){const Ee=x.toString();x=this.g[Ee],x||(x=this.g[Ee]=[],this.h++);const qe=ue(x,R,Y,he);return qe>-1?(R=x[qe],L||(R.fa=!1)):(R=new le(R,this.src,Ee,!!Y,he),R.fa=L,x.push(R)),R};function te(x,R){const L=R.type;if(L in x.g){var Y=x.g[L],he=Array.prototype.indexOf.call(Y,R,void 0),Ee;(Ee=he>=0)&&Array.prototype.splice.call(Y,he,1),Ee&&(Ne(R),x.g[L].length==0&&(delete x.g[L],x.h--))}}function ue(x,R,L,Y){for(let he=0;he<x.length;++he){const Ee=x[he];if(!Ee.da&&Ee.listener==R&&Ee.capture==!!L&&Ee.ha==Y)return he}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ce={};function we(x,R,L,Y,he){if(Array.isArray(R)){for(let Ee=0;Ee<R.length;Ee++)we(x,R[Ee],L,Y,he);return null}return L=nt(L),x&&x[Ae]?x.J(R,L,c(Y)?!!Y.capture:!1,he):Ie(x,R,L,!1,Y,he)}function Ie(x,R,L,Y,he,Ee){if(!R)throw Error("Invalid event type");const qe=c(he)?!!he.capture:!!he;let Tt=Be(x);if(Tt||(x[be]=Tt=new Z(x)),L=Tt.add(R,L,Y,qe,Ee),L.proxy)return L;if(Y=$e(),L.proxy=Y,Y.src=x,Y.listener=L,x.addEventListener)k||(he=qe),he===void 0&&(he=!1),x.addEventListener(R.toString(),Y,he);else if(x.attachEvent)x.attachEvent(We(R.toString()),Y);else if(x.addListener&&x.removeListener)x.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return L}function $e(){function x(L){return R.call(x.src,x.listener,L)}const R=Ye;return x}function ne(x,R,L,Y,he){if(Array.isArray(R))for(var Ee=0;Ee<R.length;Ee++)ne(x,R[Ee],L,Y,he);else Y=c(Y)?!!Y.capture:!!Y,L=nt(L),x&&x[Ae]?(x=x.i,Ee=String(R).toString(),Ee in x.g&&(R=x.g[Ee],L=ue(R,L,Y,he),L>-1&&(Ne(R[L]),Array.prototype.splice.call(R,L,1),R.length==0&&(delete x.g[Ee],x.h--)))):x&&(x=Be(x))&&(R=x.g[R.toString()],x=-1,R&&(x=ue(R,L,Y,he)),(L=x>-1?R[x]:null)&&ut(L))}function ut(x){if(typeof x!="number"&&x&&!x.da){var R=x.src;if(R&&R[Ae])te(R.i,x);else{var L=x.type,Y=x.proxy;R.removeEventListener?R.removeEventListener(L,Y,x.capture):R.detachEvent?R.detachEvent(We(L),Y):R.addListener&&R.removeListener&&R.removeListener(Y),(L=Be(R))?(te(L,x),L.h==0&&(L.src=null,R[be]=null)):Ne(x)}}}function We(x){return x in Ce?Ce[x]:Ce[x]="on"+x}function Ye(x,R){if(x.da)x=!0;else{R=new Te(R,this);const L=x.listener,Y=x.ha||x.src;x.fa&&ut(x),x=L.call(Y,R)}return x}function Be(x){return x=x[be],x instanceof Z?x:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function nt(x){return typeof x=="function"?x:(x[Le]||(x[Le]=function(R){return x.handleEvent(R)}),x[Le])}function rt(){P.call(this),this.i=new Z(this),this.M=this,this.G=null}v(rt,P),rt.prototype[Ae]=!0,rt.prototype.removeEventListener=function(x,R,L,Y){ne(this,x,R,L,Y)};function ot(x,R){var L,Y=x.G;if(Y)for(L=[];Y;Y=Y.G)L.push(Y);if(x=x.M,Y=R.type||R,typeof R=="string")R=new M(R,x);else if(R instanceof M)R.target=R.target||x;else{var he=R;R=new M(Y,x),Q(R,he)}he=!0;let Ee,qe;if(L)for(qe=L.length-1;qe>=0;qe--)Ee=R.g=L[qe],he=fn(Ee,Y,!0,R)&&he;if(Ee=R.g=x,he=fn(Ee,Y,!0,R)&&he,he=fn(Ee,Y,!1,R)&&he,L)for(qe=0;qe<L.length;qe++)Ee=R.g=L[qe],he=fn(Ee,Y,!1,R)&&he}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var x=this.i;for(const R in x.g){const L=x.g[R];for(let Y=0;Y<L.length;Y++)Ne(L[Y]);delete x.g[R],x.h--}}this.G=null},rt.prototype.J=function(x,R,L,Y){return this.i.add(String(x),R,!1,L,Y)},rt.prototype.K=function(x,R,L,Y){return this.i.add(String(x),R,!0,L,Y)};function fn(x,R,L,Y){if(R=x.i.g[String(R)],!R)return!0;R=R.concat();let he=!0;for(let Ee=0;Ee<R.length;++Ee){const qe=R[Ee];if(qe&&!qe.da&&qe.capture==L){const Tt=qe.listener,Pn=qe.ha||qe.src;qe.fa&&te(x.i,qe),he=Tt.call(Pn,Y)!==!1&&he}}return he&&!Y.defaultPrevented}function Nn(x,R){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=d(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:l.setTimeout(x,R||0)}function Fn(x){x.g=Nn(()=>{x.g=null,x.i&&(x.i=!1,Fn(x))},x.l);const R=x.h;x.h=null,x.m.apply(null,R)}class ft extends P{constructor(R,L){super(),this.m=R,this.l=L,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Fn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(x){P.call(this),this.h=x,this.g={}}v(Xt,P);var Pt=[];function sn(x){ie(x.g,function(R,L){this.g.hasOwnProperty(L)&&ut(R)},x),x.g={}}Xt.prototype.N=function(){Xt.Z.N.call(this),sn(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=l.JSON.stringify,Bn=l.JSON.parse,ht=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function Lt(){}function bt(){}var Et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){M.call(this,"d")}v(Qt,M);function ir(){M.call(this,"c")}v(ir,M);var mn={},os=null;function Li(){return os=os||new rt}mn.Ia="serverreachability";function ba(x){M.call(this,mn.Ia,x)}v(ba,M);function Ur(x){const R=Li();ot(R,new ba(R))}mn.STAT_EVENT="statevent";function Oi(x,R){M.call(this,mn.STAT_EVENT,x),this.stat=R}v(Oi,M);function En(x){const R=Li();ot(R,new Oi(R,x))}mn.Ja="timingevent";function dn(x,R){M.call(this,mn.Ja,x),this.size=R}v(dn,M);function Ar(x,R){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},R)}function ce(){this.g=!0}ce.prototype.ua=function(){this.g=!1};function He(x,R,L,Y,he,Ee){x.info(function(){if(x.g)if(Ee){var qe="",Tt=Ee.split("&");for(let Jt=0;Jt<Tt.length;Jt++){var Pn=Tt[Jt].split("=");if(Pn.length>1){const An=Pn[0];Pn=Pn[1];const xi=An.split("_");qe=xi.length>=2&&xi[1]=="type"?qe+(An+"="+Pn+"&"):qe+(An+"=redacted&")}}}else qe=null;else qe=Ee;return"XMLHTTP REQ ("+Y+") [attempt "+he+"]: "+R+`
`+L+`
`+qe})}function ze(x,R,L,Y,he,Ee,qe){x.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+he+"]: "+R+`
`+L+`
`+Ee+" "+qe})}function et(x,R,L,Y){x.info(function(){return"XMLHTTP TEXT ("+R+"): "+zt(x,L)+(Y?" "+Y:"")})}function mt(x,R){x.info(function(){return"TIMEOUT: "+R})}ce.prototype.info=function(){};function zt(x,R){if(!x.g)return R;if(!R)return null;try{const Ee=JSON.parse(R);if(Ee){for(x=0;x<Ee.length;x++)if(Array.isArray(Ee[x])){var L=Ee[x];if(!(L.length<2)){var Y=L[1];if(Array.isArray(Y)&&!(Y.length<1)){var he=Y[0];if(he!="noop"&&he!="stop"&&he!="close")for(let qe=1;qe<Y.length;qe++)Y[qe]=""}}}}return Rt(Ee)}catch{return R}}var qt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},In;function gn(){}v(gn,Lt),gn.prototype.g=function(){return new XMLHttpRequest},In=new gn;function wt(x){return encodeURIComponent(String(x))}function V(x){var R=1;x=x.split(":");const L=[];for(;R>0&&x.length;)L.push(x.shift()),R--;return x.length&&L.push(x.join(":")),L}function W(x,R,L,Y){this.j=x,this.i=R,this.l=L,this.S=Y||1,this.V=new Xt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new K}function K(){this.i=null,this.g="",this.h=!1}var J={},ee={};function re(x,R,L){x.M=1,x.A=co(Hn(R)),x.u=L,x.R=!0,me(x,null)}function me(x,R){x.F=Date.now(),xe(x),x.B=Hn(x.A);var L=x.B,Y=x.S;Array.isArray(Y)||(Y=[String(Y)]),ul(L.i,"t",Y),x.C=0,L=x.j.L,x.h=new K,x.g=td(x.j,L?R:null,!x.u),x.P>0&&(x.O=new ft(d(x.Y,x,x.g),x.P)),R=x.V,L=x.g,Y=x.ba;var he="readystatechange";Array.isArray(he)||(he&&(Pt[0]=he.toString()),he=Pt);for(let Ee=0;Ee<he.length;Ee++){const qe=we(L,he[Ee],Y||R.handleEvent,!1,R.h||R);if(!qe)break;R.g[qe.key]=qe}R=x.J?X(x.J):{},x.u?(x.v||(x.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,R)):(x.v="GET",x.g.ea(x.B,x.v,null,R)),Ur(),He(x.i,x.v,x.B,x.l,x.S,x.u)}W.prototype.ba=function(x){x=x.target;const R=this.O;R&&Gi(x)==3?R.j():this.Y(x)},W.prototype.Y=function(x){try{if(x==this.g)e:{const Tt=Gi(this.g),Pn=this.g.ya(),Jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||dr(this.g)))){this.K||Tt!=4||Pn==7||(Pn==8||Jt<=0?Ur(3):Ur(2)),Ge(this);var R=this.g.ca();this.X=R;var L=Re(this);if(this.o=R==200,ze(this.i,this.v,this.B,this.l,this.S,Tt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var Y,he=this.g;if((Y=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Y)){var Ee=Y;break t}}Ee=null}if(x=Ee)et(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,je(this,x);else{this.o=!1,this.m=3,En(12),Oe(this),Ke(this);break e}}if(this.R){x=!0;let An;for(;!this.K&&this.C<L.length;)if(An=ye(this,L),An==ee){Tt==4&&(this.m=4,En(14),x=!1),et(this.i,this.l,null,"[Incomplete Response]");break}else if(An==J){this.m=4,En(15),et(this.i,this.l,L,"[Invalid Chunk]"),x=!1;break}else et(this.i,this.l,An,null),je(this,An);if(ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||L.length!=0||this.h.h||(this.m=1,En(16),x=!1),this.o=this.o&&x,!x)et(this.i,this.l,L,"[Invalid Chunked Response]"),Oe(this),Ke(this);else if(L.length>0&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.aa&&!qe.P&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Hc(qe),qe.P=!0,En(11))}}else et(this.i,this.l,L,null),je(this,L);Tt==4&&Oe(this),this.o&&!this.K&&(Tt==4?Xf(this.j,this):(this.o=!1,xe(this)))}else Ia(this.g),R==400&&L.indexOf("Unknown SID")>0?(this.m=3,En(12)):(this.m=0,En(13)),Oe(this),Ke(this)}}}catch{}finally{}};function Re(x){if(!ge(x))return x.g.la();const R=dr(x.g);if(R==="")return"";let L="";const Y=R.length,he=Gi(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Oe(x),Ke(x),"";x.h.i=new l.TextDecoder}for(let Ee=0;Ee<Y;Ee++)x.h.h=!0,L+=x.h.i.decode(R[Ee],{stream:!(he&&Ee==Y-1)});return R.length=0,x.h.g+=L,x.C=0,x.h.g}function ge(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function ye(x,R){var L=x.C,Y=R.indexOf(`
`,L);return Y==-1?ee:(L=Number(R.substring(L,Y)),isNaN(L)?J:(Y+=1,Y+L>R.length?ee:(R=R.slice(Y,Y+L),x.C=Y+L,R)))}W.prototype.cancel=function(){this.K=!0,Oe(this)};function xe(x){x.T=Date.now()+x.H,Ve(x,x.H)}function Ve(x,R){if(x.D!=null)throw Error("WatchDog timer not null");x.D=Ar(d(x.aa,x),R)}function Ge(x){x.D&&(l.clearTimeout(x.D),x.D=null)}W.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(mt(this.i,this.B),this.M!=2&&(Ur(),En(17)),Oe(this),this.m=2,Ke(this)):Ve(this,this.T-x)};function Ke(x){x.j.I==0||x.K||Xf(x.j,x)}function Oe(x){Ge(x);var R=x.O;R&&typeof R.dispose=="function"&&R.dispose(),x.O=null,sn(x.V),x.g&&(R=x.g,x.g=null,R.abort(),R.dispose())}function je(x,R){try{var L=x.j;if(L.I!=0&&(L.g==x||Sr(L.h,x))){if(!x.L&&Sr(L.h,x)&&L.I==3){try{var Y=L.Ba.g.parse(R)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var he=Y;if(he[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<x.F)ml(L),gs(L);else break e;vo(L),En(18)}}else L.xa=he[1],0<L.xa-L.K&&he[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=Ar(d(L.Va,L),6e3));hn(L.h)<=1&&L.ta&&(L.ta=void 0)}else ua(L,11)}else if((x.L||L.g==x)&&ml(L),!U(R))for(he=L.Ba.g.parse(R),R=0;R<he.length;R++){let Jt=he[R];const An=Jt[0];if(!(An<=L.K))if(L.K=An,Jt=Jt[1],L.I==2)if(Jt[0]=="c"){L.M=Jt[1],L.ba=Jt[2];const xi=Jt[3];xi!=null&&(L.ka=xi,L.j.info("VER="+L.ka));const fa=Jt[4];fa!=null&&(L.za=fa,L.j.info("SVER="+L.za));const zi=Jt[5];zi!=null&&typeof zi=="number"&&zi>0&&(Y=1.5*zi,L.O=Y,L.j.info("backChannelRequestTimeoutMs_="+Y)),Y=L;const qi=x.g;if(qi){const xo=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var Ee=Y.h;Ee.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Ui(Ee,Ee.h),Ee.h=null))}if(Y.G){const gl=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;gl&&(Y.wa=gl,nn(Y.J,Y.G,gl))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-x.F,L.j.info("Handshake RTT: "+L.T+"ms")),Y=L;var qe=x;if(Y.na=ed(Y,Y.L?Y.ba:null,Y.W),qe.L){Vi(Y.h,qe);var Tt=qe,Pn=Y.O;Pn&&(Tt.H=Pn),Tt.D&&(Ge(Tt),xe(Tt)),Y.g=qe}else Jf(Y);L.i.length>0&&ca(L)}else Jt[0]!="stop"&&Jt[0]!="close"||ua(L,7);else L.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?ua(L,7):Vc(L):Jt[0]!="noop"&&L.l&&L.l.qa(Jt),L.A=0)}}Ur(4)}catch{}}var Ze=class{constructor(x,R){this.g=x,this.map=R}};function en(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tn(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function hn(x){return x.h?1:x.g?x.g.size:0}function Sr(x,R){return x.h?x.h==R:x.g?x.g.has(R):!1}function Ui(x,R){x.g?x.g.add(R):x.h=R}function Vi(x,R){x.h&&x.h==R?x.h=null:x.g&&x.g.has(R)&&x.g.delete(R)}en.prototype.cancel=function(){if(this.i=ri(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ri(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let R=x.i;for(const L of x.g.values())R=R.concat(L.G);return R}return A(x.i)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wr(x,R){if(x){x=x.split("&");for(let L=0;L<x.length;L++){const Y=x[L].indexOf("=");let he,Ee=null;Y>=0?(he=x[L].substring(0,Y),Ee=x[L].substring(Y+1)):he=x[L],R(he,Ee?decodeURIComponent(Ee.replace(/\+/g," ")):"")}}}function ii(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;x instanceof ii?(this.l=x.l,ar(this,x.j),this.o=x.o,this.g=x.g,cs(this,x.u),this.h=x.h,Dc(this,Kf(x.i)),this.m=x.m):x&&(R=String(x).match(ls))?(this.l=!1,ar(this,R[1]||"",!0),this.o=aa(R[2]||""),this.g=aa(R[3]||"",!0),cs(this,R[4]),this.h=aa(R[5]||"",!0),Dc(this,R[6]||"",!0),this.m=aa(R[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}ii.prototype.toString=function(){const x=[];var R=this.j;R&&x.push(uo(R,cl,!0),":");var L=this.g;return(L||R=="file")&&(x.push("//"),(R=this.o)&&x.push(uo(R,cl,!0),"@"),x.push(wt(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&x.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&x.push("/"),x.push(uo(L,L.charAt(0)=="/"?Mc:qf,!0))),(L=this.i.toString())&&x.push("?",L),(L=this.m)&&x.push("#",uo(L,jf)),x.join("")},ii.prototype.resolve=function(x){const R=Hn(this);let L=!!x.j;L?ar(R,x.j):L=!!x.o,L?R.o=x.o:L=!!x.g,L?R.g=x.g:L=x.u!=null;var Y=x.h;if(L)cs(R,x.u);else if(L=!!x.h){if(Y.charAt(0)!="/")if(this.g&&!this.h)Y="/"+Y;else{var he=R.h.lastIndexOf("/");he!=-1&&(Y=R.h.slice(0,he+1)+Y)}if(he=Y,he==".."||he==".")Y="";else if(he.indexOf("./")!=-1||he.indexOf("/.")!=-1){Y=he.lastIndexOf("/",0)==0,he=he.split("/");const Ee=[];for(let qe=0;qe<he.length;){const Tt=he[qe++];Tt=="."?Y&&qe==he.length&&Ee.push(""):Tt==".."?((Ee.length>1||Ee.length==1&&Ee[0]!="")&&Ee.pop(),Y&&qe==he.length&&Ee.push("")):(Ee.push(Tt),Y=!0)}Y=Ee.join("/")}else Y=he}return L?R.h=Y:L=x.i.toString()!=="",L?Dc(R,Kf(x.i)):L=!!x.m,L&&(R.m=x.m),R};function Hn(x){return new ii(x)}function ar(x,R,L){x.j=L?aa(R,!0):R,x.j&&(x.j=x.j.replace(/:$/,""))}function cs(x,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);x.u=R}else x.u=null}function Dc(x,R,L){R instanceof fs?(x.i=R,fl(x.i,x.l)):(L||(R=uo(R,us)),x.i=new fs(R,x.l))}function nn(x,R,L){x.i.set(R,L)}function co(x){return nn(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function aa(x,R){return x?R?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function uo(x,R,L){return typeof x=="string"?(x=encodeURI(x).replace(R,Yr),L&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Yr(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var cl=/[#\/\?@]/g,qf=/[#\?:]/g,Mc=/[#\?]/g,us=/[#\?@]/g,jf=/#/g;function fs(x,R){this.h=this.g=null,this.i=x||null,this.j=!!R}function Jr(x){x.g||(x.g=new Map,x.h=0,x.i&&wr(x.i,function(R,L){x.add(decodeURIComponent(R.replace(/\+/g," ")),L)}))}t=fs.prototype,t.add=function(x,R){Jr(this),this.i=null,x=ds(this,x);let L=this.g.get(x);return L||this.g.set(x,L=[]),L.push(R),this.h+=1,this};function $f(x,R){Jr(x),R=ds(x,R),x.g.has(R)&&(x.i=null,x.h-=x.g.get(R).length,x.g.delete(R))}function Fc(x,R){return Jr(x),R=ds(x,R),x.g.has(R)}t.forEach=function(x,R){Jr(this),this.g.forEach(function(L,Y){L.forEach(function(he){x.call(R,he,Y,this)},this)},this)};function Pc(x,R){Jr(x);let L=[];if(typeof R=="string")Fc(x,R)&&(L=L.concat(x.g.get(ds(x,R))));else for(x=Array.from(x.g.values()),R=0;R<x.length;R++)L=L.concat(x[R]);return L}t.set=function(x,R){return Jr(this),this.i=null,x=ds(this,x),Fc(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[R]),this.h+=1,this},t.get=function(x,R){return x?(x=Pc(this,x),x.length>0?String(x[0]):R):R};function ul(x,R,L){$f(x,R),L.length>0&&(x.i=null,x.g.set(ds(x,R),A(L)),x.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],R=Array.from(this.g.keys());for(let Y=0;Y<R.length;Y++){var L=R[Y];const he=wt(L);L=Pc(this,L);for(let Ee=0;Ee<L.length;Ee++){let qe=he;L[Ee]!==""&&(qe+="="+wt(L[Ee])),x.push(qe)}}return this.i=x.join("&")};function Kf(x){const R=new fs;return R.i=x.i,x.g&&(R.g=new Map(x.g),R.h=x.h),R}function ds(x,R){return R=String(R),x.j&&(R=R.toLowerCase()),R}function fl(x,R){R&&!x.j&&(Jr(x),x.i=null,x.g.forEach(function(L,Y){const he=Y.toLowerCase();Y!=he&&($f(this,Y),ul(this,he,L))},x)),x.j=R}function Bi(x,R){const L=new ce;if(l.Image){const Y=new Image;Y.onload=h(gi,L,"TestLoadImage: loaded",!0,R,Y),Y.onerror=h(gi,L,"TestLoadImage: error",!1,R,Y),Y.onabort=h(gi,L,"TestLoadImage: abort",!1,R,Y),Y.ontimeout=h(gi,L,"TestLoadImage: timeout",!1,R,Y),l.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=x}else R(!1)}function Lc(x,R){const L=new ce,Y=new AbortController,he=setTimeout(()=>{Y.abort(),gi(L,"TestPingServer: timeout",!1,R)},1e4);fetch(x,{signal:Y.signal}).then(Ee=>{clearTimeout(he),Ee.ok?gi(L,"TestPingServer: ok",!0,R):gi(L,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(he),gi(L,"TestPingServer: error",!1,R)})}function gi(x,R,L,Y,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),Y(L)}catch{}}function hs(){this.g=new ht}function sa(x){this.i=x.Sb||null,this.h=x.ab||!1}v(sa,Lt),sa.prototype.g=function(){return new fo(this.i,this.h)};function fo(x,R){rt.call(this),this.H=x,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(fo,rt),t=fo.prototype,t.open=function(x,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=R,this.readyState=1,Hi(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(R.body=x),(this.H||l).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Hi(this)),this.g&&(this.readyState=3,Hi(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dl(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function dl(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var R=x.value?x.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!x.done}))&&(this.response=this.responseText+=R)}x.done?ps(this):Hi(this),this.readyState==3&&dl(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,ps(this))},t.Na=function(x){this.g&&(this.response=x,ps(this))},t.ga=function(){this.g&&ps(this)};function ps(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Hi(x)}t.setRequestHeader=function(x,R){this.A.append(x,R)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],R=this.h.entries();for(var L=R.next();!L.done;)L=L.value,x.push(L[0]+": "+L[1]),L=R.next();return x.join(`\r
`)};function Hi(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function vi(x){let R="";return ie(x,function(L,Y){R+=Y,R+=":",R+=L,R+=`\r
`}),R}function ho(x,R,L){e:{for(Y in L){var Y=!1;break e}Y=!0}Y||(L=vi(L),typeof x=="string"?L!=null&&wt(L):nn(x,R,L))}function on(x){rt.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(on,rt);var oa=/^https?$/i,Oc=["POST","PUT"];t=on.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,R,L,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);R=R?R.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():In.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(R,String(x),!0),this.B=!1}catch(Ee){po(this,Ee);return}if(x=L||"",L=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var he in Y)L.set(he,Y[he]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const Ee of Y.keys())L.set(Ee,Y.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(L.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),he=l.FormData&&x instanceof l.FormData,!(Array.prototype.indexOf.call(Oc,R,void 0)>=0)||Y||he||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,qe]of L)this.g.setRequestHeader(Ee,qe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(Ee){po(this,Ee)}};function po(x,R){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=R,x.o=5,Uc(x),Na(x)}function Uc(x){x.A||(x.A=!0,ot(x,"complete"),ot(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,ot(this,"complete"),ot(this,"abort"),Na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),on.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?mo(this):this.Xa())},t.Xa=function(){mo(this)};function mo(x){if(x.h&&typeof s<"u"){if(x.v&&Gi(x)==4)setTimeout(x.Ca.bind(x),0);else if(ot(x,"readystatechange"),Gi(x)==4){x.h=!1;try{const Ee=x.ca();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var L;if(!(L=R)){var Y;if(Y=Ee===0){let qe=String(x.D).match(ls)[1]||null;!qe&&l.self&&l.self.location&&(qe=l.self.location.protocol.slice(0,-1)),Y=!oa.test(qe?qe.toLowerCase():"")}L=Y}if(L)ot(x,"complete"),ot(x,"success");else{x.o=6;try{var he=Gi(x)>2?x.g.statusText:""}catch{he=""}x.l=he+" ["+x.ca()+"]",Uc(x)}}finally{Na(x)}}}}function Na(x,R){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const L=x.g;x.g=null,R||ot(x,"ready");try{L.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gi(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Gi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var R=this.g.responseText;return x&&R.indexOf(x)==0&&(R=R.substring(x.length)),Bn(R)}};function dr(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Ia(x){const R={};x=(x.g&&Gi(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<x.length;Y++){if(U(x[Y]))continue;var L=V(x[Y]);const he=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Ee=R[he]||[];R[he]=Ee,Ee.push(L)}Fe(R,function(Y){return Y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(x,R,L){return L&&L.internalChannelParams&&L.internalChannelParams[x]||R}function ms(x){this.za=0,this.i=[],this.j=new ce,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=la("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=la("baseRetryDelayMs",5e3,x),this.Za=la("retryDelaySeedMs",1e4,x),this.Ta=la("forwardChannelMaxRetries",2,x),this.va=la("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new en(x&&x.concurrentRequestLimit),this.Ba=new hs,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ms.prototype,t.ka=8,t.I=1,t.connect=function(x,R,L,Y){En(0),this.W=x,this.H=R||{},L&&Y!==void 0&&(this.H.OSID=L,this.H.OAID=Y),this.F=this.X,this.J=ed(this,null,this.W),ca(this)};function Vc(x){if(hl(x),x.I==3){var R=x.V++,L=Hn(x.J);if(nn(L,"SID",x.M),nn(L,"RID",R),nn(L,"TYPE","terminate"),go(x,L),R=new W(x,x.j,R),R.M=2,R.A=co(Hn(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(R.A.toString(),"")}catch{}!L&&l.Image&&(new Image().src=R.A,L=!0),L||(R.g=td(R.j,null),R.g.ea(R.A)),R.F=Date.now(),xe(R)}Zf(x)}function gs(x){x.g&&(Hc(x),x.g.cancel(),x.g=null)}function hl(x){gs(x),x.v&&(l.clearTimeout(x.v),x.v=null),ml(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&l.clearTimeout(x.m),x.m=null)}function ca(x){if(!tn(x.h)&&!x.m){x.m=!0;var R=x.Ea;G||N(),j||(G(),j=!0),I.add(R,x),x.D=0}}function pl(x,R){return hn(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=R.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=Ar(d(x.Ea,x,R),Qf(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const he=new W(this,this.j,x);let Ee=this.o;if(this.U&&(Ee?(Ee=X(Ee),Q(Ee,this.U)):Ee=this.U),this.u!==null||this.R||(he.J=Ee,Ee=null),this.S)e:{for(var R=0,L=0;L<this.i.length;L++){t:{var Y=this.i[L];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(R+=Y,R>4096){R=L;break e}if(R===4096||L===this.i.length-1){R=L+1;break e}}R=1e3}else R=1e3;R=Yf(this,he,R),L=Hn(this.J),nn(L,"RID",x),nn(L,"CVER",22),this.G&&nn(L,"X-HTTP-Session-Id",this.G),go(this,L),Ee&&(this.R?R="headers="+wt(vi(Ee))+"&"+R:this.u&&ho(L,this.u,Ee)),Ui(this.h,he),this.Ra&&nn(L,"TYPE","init"),this.S?(nn(L,"$req",R),nn(L,"SID","null"),he.U=!0,re(he,L,null)):re(he,L,R),this.I=2}}else this.I==3&&(x?Bc(this,x):this.i.length==0||tn(this.h)||Bc(this))};function Bc(x,R){var L;R?L=R.l:L=x.V++;const Y=Hn(x.J);nn(Y,"SID",x.M),nn(Y,"RID",L),nn(Y,"AID",x.K),go(x,Y),x.u&&x.o&&ho(Y,x.u,x.o),L=new W(x,x.j,L,x.D+1),x.u===null&&(L.J=x.o),R&&(x.i=R.G.concat(x.i)),R=Yf(x,L,1e3),L.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),Ui(x.h,L),re(L,Y,R)}function go(x,R){x.H&&ie(x.H,function(L,Y){nn(R,Y,L)}),x.l&&ie({},function(L,Y){nn(R,Y,L)})}function Yf(x,R,L){L=Math.min(x.i.length,L);const Y=x.l?d(x.l.Ka,x.l,x):null;e:{var he=x.i;let Tt=-1;for(;;){const Pn=["count="+L];Tt==-1?L>0?(Tt=he[0].g,Pn.push("ofs="+Tt)):Tt=0:Pn.push("ofs="+Tt);let Jt=!0;for(let An=0;An<L;An++){var Ee=he[An].g;const xi=he[An].map;if(Ee-=Tt,Ee<0)Tt=Math.max(0,he[An].g-100),Jt=!1;else try{Ee="req"+Ee+"_"||"";try{var qe=xi instanceof Map?xi:Object.entries(xi);for(const[fa,zi]of qe){let qi=zi;c(zi)&&(qi=Rt(zi)),Pn.push(Ee+fa+"="+encodeURIComponent(qi))}}catch(fa){throw Pn.push(Ee+"type="+encodeURIComponent("_badmap")),fa}}catch{Y&&Y(xi)}}if(Jt){qe=Pn.join("&");break e}}qe=void 0}return x=x.i.splice(0,L),R.G=x,qe}function Jf(x){if(!x.g&&!x.v){x.Y=1;var R=x.Da;G||N(),j||(G(),j=!0),I.add(R,x),x.A=0}}function vo(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=Ar(d(x.Da,x),Qf(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,Wf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=Ar(d(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,En(10),gs(this),Wf(this))};function Hc(x){x.B!=null&&(l.clearTimeout(x.B),x.B=null)}function Wf(x){x.g=new W(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var R=Hn(x.na);nn(R,"RID","rpc"),nn(R,"SID",x.M),nn(R,"AID",x.K),nn(R,"CI",x.F?"0":"1"),!x.F&&x.ia&&nn(R,"TO",x.ia),nn(R,"TYPE","xmlhttp"),go(x,R),x.u&&x.o&&ho(R,x.u,x.o),x.O&&(x.g.H=x.O);var L=x.g;x=x.ba,L.M=1,L.A=co(Hn(R)),L.u=null,L.R=!0,me(L,x)}t.Va=function(){this.C!=null&&(this.C=null,gs(this),vo(this),En(19))};function ml(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function Xf(x,R){var L=null;if(x.g==R){ml(x),Hc(x),x.g=null;var Y=2}else if(Sr(x.h,R))L=R.G,Vi(x.h,R),Y=1;else return;if(x.I!=0){if(R.o)if(Y==1){L=R.u?R.u.length:0,R=Date.now()-R.F;var he=x.D;Y=Li(),ot(Y,new dn(Y,L)),ca(x)}else Jf(x);else if(he=R.m,he==3||he==0&&R.X>0||!(Y==1&&pl(x,R)||Y==2&&vo(x)))switch(L&&L.length>0&&(R=x.h,R.i=R.i.concat(L)),he){case 1:ua(x,5);break;case 4:ua(x,10);break;case 3:ua(x,6);break;default:ua(x,2)}}}function Qf(x,R){let L=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(L*=2),L*R}function ua(x,R){if(x.j.info("Error code "+R),R==2){var L=d(x.bb,x),Y=x.Ua;const he=!Y;Y=new ii(Y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ar(Y,"https"),co(Y),he?Bi(Y.toString(),L):Lc(Y.toString(),L)}else En(2);x.I=0,x.l&&x.l.pa(R),Zf(x),hl(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function Zf(x){if(x.I=0,x.ja=[],x.l){const R=ri(x.h);(R.length!=0||x.i.length!=0)&&(S(x.ja,R),S(x.ja,x.i),x.h.i.length=0,A(x.i),x.i.length=0),x.l.oa()}}function ed(x,R,L){var Y=L instanceof ii?Hn(L):new ii(L);if(Y.g!="")R&&(Y.g=R+"."+Y.g),cs(Y,Y.u);else{var he=l.location;Y=he.protocol,R=R?R+"."+he.hostname:he.hostname,he=+he.port;const Ee=new ii(null);Y&&ar(Ee,Y),R&&(Ee.g=R),he&&cs(Ee,he),L&&(Ee.h=L),Y=Ee}return L=x.G,R=x.wa,L&&R&&nn(Y,L,R),nn(Y,"VER",x.ka),go(x,Y),Y}function td(x,R,L){if(R&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=x.Aa&&!x.ma?new on(new sa({ab:L})):new on(x.ma),R.Fa(x.L),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nd(){}t=nd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vs(){}vs.prototype.g=function(x,R){return new Vr(x,R)};function Vr(x,R){rt.call(this),this.g=new ms(R),this.l=x,this.h=R&&R.messageUrlParams||null,x=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(x?x["X-WebChannel-Content-Type"]=R.messageContentType:x={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(x?x["X-WebChannel-Client-Profile"]=R.sa:x={"X-WebChannel-Client-Profile":R.sa}),this.g.U=x,(x=R&&R.Qb)&&!U(x)&&(this.g.u=x),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!U(R)&&(this.g.G=R,x=this.h,x!==null&&R in x&&(x=this.h,R in x&&delete x[R])),this.j=new Ra(this)}v(Vr,rt),Vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vr.prototype.close=function(){Vc(this.g)},Vr.prototype.o=function(x){var R=this.g;if(typeof x=="string"){var L={};L.__data__=x,x=L}else this.v&&(L={},L.__data__=Rt(x),x=L);R.i.push(new Ze(R.Ya++,x)),R.I==3&&ca(R)},Vr.prototype.N=function(){this.g.l=null,delete this.j,Vc(this.g),delete this.g,Vr.Z.N.call(this)};function rd(x){Qt.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var R=x.__sm__;if(R){e:{for(const L in R){x=L;break e}x=void 0}(this.i=x)&&(x=this.i,R=R!==null&&x in R?R[x]:void 0),this.data=R}else this.data=x}v(rd,Qt);function id(){ir.call(this),this.status=1}v(id,ir);function Ra(x){this.g=x}v(Ra,nd),Ra.prototype.ra=function(){ot(this.g,"a")},Ra.prototype.qa=function(x){ot(this.g,new rd(x))},Ra.prototype.pa=function(x){ot(this.g,new id)},Ra.prototype.oa=function(){ot(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,Vr.prototype.send=Vr.prototype.o,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,Fb=function(){return new vs},Mb=function(){return Li()},Db=mn,iv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,Fh=qt,Tn.COMPLETE="complete",kb=Tn,bt.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",rt.prototype.listen=rt.prototype.J,Ou=bt,on.prototype.listenOnce=on.prototype.K,on.prototype.getLastError=on.prototype.Ha,on.prototype.getLastErrorCode=on.prototype.ya,on.prototype.getStatus=on.prototype.ca,on.prototype.getResponseJson=on.prototype.La,on.prototype.getResponseText=on.prototype.la,on.prototype.send=on.prototype.ea,on.prototype.setWithCredentials=on.prototype.Fa,Rb=on}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc="12.9.0";function jz(t){bc=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Tb("@firebase/firestore");function Jl(){return Yo.logLevel}function Xe(t,...e){if(Yo.logLevel<=Bt.DEBUG){const n=e.map(m1);Yo.debug(`Firestore (${bc}): ${t}`,...n)}}function ns(t,...e){if(Yo.logLevel<=Bt.ERROR){const n=e.map(m1);Yo.error(`Firestore (${bc}): ${t}`,...n)}}function Jo(t,...e){if(Yo.logLevel<=Bt.WARN){const n=e.map(m1);Yo.warn(`Firestore (${bc}): ${t}`,...n)}}function m1(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Pb(t,r,n)}function Pb(t,e,n){let r=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ns(r),new Error(r)}function Zt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Pb(e,i,r)}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends Cc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ir.UNAUTHENTICATED)))}shutdown(){}}class Kz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Yz{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Zt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new Lb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string",2055,{h:e}),new Ir(e)}}class Jz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Wz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Xz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nz(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Zt(this.o===void 0,3512);const r=s=>{s.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Zt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Qz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function av(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return pg(i)===pg(s)?Mt(i,s):pg(i)?1:-1}return Mt(t.length,e.length)}const Zz=55296,eq=57343;function pg(t){const e=t.charCodeAt(0);return e>=Zz&&e<=eq}function mc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="__name__";class xa{constructor(e,n,r){n===void 0?n=0:n>e.length&&dt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&dt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=xa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Mt(e.length,n.length)}static compareSegments(e,n){const r=xa.isNumericId(e),i=xa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xa.extractNumericId(e).compare(xa.extractNumericId(n)):av(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class Cn extends xa{construct(e,n,r){return new Cn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new it(Ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Cn(n)}static emptyPath(){return new Cn([])}}const tq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends xa{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return tq.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RA}static keyField(){return new yr([RA])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new it(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new it(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new it(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new it(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Cn.fromString(e))}static fromName(e){return new lt(Cn.fromString(e).popFirst(5))}static empty(){return new lt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Cn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Cn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(t,e,n){if(!n)throw new it(Ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rq(t,e,n,r){if(e===!0&&r===!0)throw new it(Ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kA(t){if(!lt.isDocumentKey(t))throw new it(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ob(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function v1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt(12329,{type:typeof t})}function Tf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new it(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v1(t);throw new it(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Uf(t,e){if(!Ob(t))throw new it(Ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new it(Ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=-62135596800,MA=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MA);return new _n(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new it(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DA)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MA}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Uf(e,_n._jsonSchema))return new _n(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_n._jsonSchemaVersion="firestore/timestamp/1.0",_n._jsonSchema={type:Xn("string",_n._jsonSchemaVersion),seconds:Xn("number"),nanoseconds:Xn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new _n(0,0))}static max(){return new vt(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=-1;function iq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new _n(n+1,0):new _n(n,r));return new to(i,lt.empty(),e)}function aq(t){return new to(t.readTime,t.key,Af)}class to{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new to(vt.min(),lt.empty(),Af)}static max(){return new to(vt.max(),lt.empty(),Af)}}function sq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=lt.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t){if(t.code!==Ue.FAILED_PRECONDITION||t.message!==oq)throw t;Xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Pe(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Pe.reject(n)}static resolve(e){return new Pe(((n,r)=>{n(e)}))}static reject(e){return new Pe(((n,r)=>{r(e)}))}static waitFor(e){return new Pe(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=Pe.resolve(!1);for(const r of e)n=n.next((i=>i?Pe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Pe(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const d=f;n(e[d]).next((h=>{l[d]=h,++c,c===s&&r(l)}),(h=>i(h)))}}))}static doWhile(e,n){return new Pe(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function cq(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}U0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-1;function V0(t){return t==null}function d0(t){return t===0&&1/t==-1/0}function uq(t){return typeof t=="number"&&Number.isInteger(t)&&!d0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="";function fq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FA(e)),e=dq(t.get(n),e);return FA(e)}function dq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Ub:n+="";break;default:n+=s}}return n}function FA(t){return t+Ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.comparator=e,this.root=n||vr.EMPTY}insert(e,n){return new bn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vr.RED,this.left=i??vr.EMPTY,this.right=s??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.comparator=e,this.data=new bn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LA(this.data.getIterator())}getIteratorFrom(e){return new LA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rr(this.comparator);return n.data=e,n}}class LA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Zi([])}unionWith(e){let n=new rr(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bb("Invalid base64 string: "+s):s}})(e);return new Tr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const hq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(t){if(Zt(!!t,39018),typeof t=="string"){let e=0;const n=hq.exec(t);if(Zt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(t.seconds),nanos:Vn(t.nanos)}}function Vn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ro(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="server_timestamp",Gb="__type__",zb="__previous_value__",qb="__local_write_time__";function y1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Gb])==null?void 0:r.stringValue)===Hb}function B0(t){const e=t.mapValue.fields[zb];return y1(e)?B0(e):e}function Sf(t){const e=no(t.mapValue.fields[qb].timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,n,r,i,s,l,c,f,d,h,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=v}}const h0="(default)";class wf{constructor(e,n){this.projectId=e,this.database=n||h0}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database===h0}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}function mq(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new it(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="__type__",gq="__max__",Sh={mapValue:{}},$b="__vector__",p0="value";function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y1(t)?4:xq(t)?9007199254740991:vq(t)?10:11:dt(28295,{value:t})}function Aa(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sf(t).isEqual(Sf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=no(i.timestampValue),c=no(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ro(i.bytesValue).isEqual(ro(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Vn(i.geoPointValue.latitude)===Vn(s.geoPointValue.latitude)&&Vn(i.geoPointValue.longitude)===Vn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Vn(i.integerValue)===Vn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Vn(i.doubleValue),c=Vn(s.doubleValue);return l===c?d0(l)===d0(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return mc(t.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(PA(l)!==PA(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Aa(l[f],c[f])))return!1;return!0})(t,e);default:return dt(52216,{left:t})}}function Cf(t,e){return(t.values||[]).find((n=>Aa(n,e)))!==void 0}function gc(t,e){if(t===e)return 0;const n=io(t),r=io(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Vn(s.integerValue||s.doubleValue),f=Vn(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return OA(t.timestampValue,e.timestampValue);case 4:return OA(Sf(t),Sf(e));case 5:return av(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=ro(s),f=ro(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let d=0;d<c.length&&d<f.length;d++){const h=Mt(c[d],f[d]);if(h!==0)return h}return Mt(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Mt(Vn(s.latitude),Vn(l.latitude));return c!==0?c:Mt(Vn(s.longitude),Vn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return UA(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var y,A,S,w;const c=s.fields||{},f=l.fields||{},d=(y=c[p0])==null?void 0:y.arrayValue,h=(A=f[p0])==null?void 0:A.arrayValue,v=Mt(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return v!==0?v:UA(d,h)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Sh.mapValue&&l===Sh.mapValue)return 0;if(s===Sh.mapValue)return 1;if(l===Sh.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),d=l.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let v=0;v<f.length&&v<h.length;++v){const y=av(f[v],h[v]);if(y!==0)return y;const A=gc(c[f[v]],d[h[v]]);if(A!==0)return A}return Mt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw dt(23264,{he:n})}}function OA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=no(t),r=no(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function UA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=gc(n[i],r[i]);if(s)return s}return Mt(n.length,r.length)}function vc(t){return sv(t)}function sv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=no(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return lt.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=sv(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${sv(n.fields[l])}`;return i+"}"})(t.mapValue):dt(61005,{value:t})}function Ph(t){switch(io(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=B0(t);return e?16+Ph(e):16;case 5:return 2*t.stringValue.length;case 6:return ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Ph(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return al(r.fields,((s,l)=>{i+=s.length+Ph(l)})),i})(t.mapValue);default:throw dt(13486,{value:t})}}function ov(t){return!!t&&"integerValue"in t}function _1(t){return!!t&&"arrayValue"in t}function VA(t){return!!t&&"nullValue"in t}function BA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function vq(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jb])==null?void 0:r.stringValue)===$b}function Zu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return{...t}}function xq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.value=e}static empty(){return new Ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Zu(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){al(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Ri(Zu(this.value))}}function Kb(t){const e=[];return al(t.fields,((n,r)=>{const i=new yr([n]);if(Lh(r)){const s=Kb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Zi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new kr(e,0,vt.min(),vt.min(),vt.min(),Ri.empty(),0)}static newFoundDocument(e,n,r,i){return new kr(e,1,n,vt.min(),r,i,0)}static newNoDocument(e,n){return new kr(e,2,n,vt.min(),vt.min(),Ri.empty(),0)}static newUnknownDocument(e,n){return new kr(e,3,n,vt.min(),vt.min(),Ri.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.position=e,this.inclusive=n}}function HA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=lt.comparator(lt.fromName(l.referenceValue),n.key):r=gc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function GA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Aa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n="asc"){this.field=e,this.dir=n}}function yq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{}class er extends Yb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Eq(e,n,r):n==="array-contains"?new Sq(e,r):n==="in"?new wq(e,r):n==="not-in"?new Cq(e,r):n==="array-contains-any"?new bq(e,r):new er(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Tq(e,r):new Aq(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gc(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(gc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sa extends Yb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Sa(e,n)}matches(e){return Jb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jb(t){return t.op==="and"}function Wb(t){return _q(t)&&Jb(t)}function _q(t){for(const e of t.filters)if(e instanceof Sa)return!1;return!0}function lv(t){if(t instanceof er)return t.field.canonicalString()+t.op.toString()+vc(t.value);if(Wb(t))return t.filters.map((e=>lv(e))).join(",");{const e=t.filters.map((n=>lv(n))).join(",");return`${t.op}(${e})`}}function Xb(t,e){return t instanceof er?(function(r,i){return i instanceof er&&r.op===i.op&&r.field.isEqual(i.field)&&Aa(r.value,i.value)})(t,e):t instanceof Sa?(function(r,i){return i instanceof Sa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&Xb(l,i.filters[c])),!0):!1})(t,e):void dt(19439)}function Qb(t){return t instanceof er?(function(n){return`${n.field.canonicalString()} ${n.op} ${vc(n.value)}`})(t):t instanceof Sa?(function(n){return n.op.toString()+" {"+n.getFilters().map(Qb).join(" ,")+"}"})(t):"Filter"}class Eq extends er{constructor(e,n,r){super(e,n,r),this.key=lt.fromName(r.referenceValue)}matches(e){const n=lt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Tq extends er{constructor(e,n){super(e,"in",n),this.keys=Zb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Aq extends er{constructor(e,n){super(e,"not-in",n),this.keys=Zb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Zb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>lt.fromName(r.referenceValue)))}class Sq extends er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _1(n)&&Cf(n.arrayValue,this.value)}}class wq extends er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cf(this.value.arrayValue,n)}}class Cq extends er{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cf(this.value.arrayValue,n)}}class bq extends er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_1(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Cf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function zA(t,e=null,n=[],r=[],i=null,s=null,l=null){return new Nq(t,e,n,r,i,s,l)}function E1(t){const e=_t(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>lv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),V0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vc(r))).join(",")),e.Te=n}return e.Te}function T1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Xb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GA(t.startAt,e.startAt)&&GA(t.endAt,e.endAt)}function cv(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Iq(t,e,n,r,i,s,l,c){return new H0(t,e,n,r,i,s,l,c)}function A1(t){return new H0(t)}function qA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rq(t){return lt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kq(t){return t.collectionGroup!==null}function ef(t){const e=_t(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new rr(yr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new g0(s,r))})),n.has(yr.keyField().canonicalString())||e.Ie.push(new g0(yr.keyField(),r))}return e.Ie}function ya(t){const e=_t(t);return e.Ee||(e.Ee=Dq(e,ef(t))),e.Ee}function Dq(t,e){if(t.limitType==="F")return zA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new g0(i.field,s)}));const n=t.endAt?new m0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new m0(t.startAt.position,t.startAt.inclusive):null;return zA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uv(t,e,n){return new H0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function G0(t,e){return T1(ya(t),ya(e))&&t.limitType===e.limitType}function eN(t){return`${E1(ya(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Qb(i))).join(", ")}]`),V0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>vc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>vc(i))).join(",")),`Target(${r})`})(ya(t))}; limitType=${t.limitType})`}function z0(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):lt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of ef(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const d=HA(l,c,f);return l.inclusive?d<=0:d<0})(r.startAt,ef(r),i)||r.endAt&&!(function(l,c,f){const d=HA(l,c,f);return l.inclusive?d>=0:d>0})(r.endAt,ef(r),i))})(t,e)}function Mq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tN(t){return(e,n)=>{let r=!1;for(const i of ef(t)){const s=Fq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Fq(t,e,n){const r=t.field.isKeyField()?lt.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),d=c.data.field(s);return f!==null&&d!==null?gc(f,d):dt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=new bn(lt.comparator);function rs(){return Pq}const nN=new bn(lt.comparator);function Uu(...t){let e=nN;for(const n of t)e=e.insert(n.key,n);return e}function rN(t){let e=nN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Vo(){return tf()}function iN(){return tf()}function tf(){return new sl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Lq=new bn(lt.comparator),Oq=new rr(lt.comparator);function Ft(...t){let e=Oq;for(const n of t)e=e.add(n);return e}const Uq=new rr(Mt);function Vq(){return Uq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:d0(e)?"-0":e}}function aN(t){return{integerValue:""+t}}function Bq(t,e){return uq(e)?aN(e):S1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this._=void 0}}function Hq(t,e,n){return t instanceof v0?(function(i,s){const l={fields:{[Gb]:{stringValue:Hb},[qb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&y1(s)&&(s=B0(s)),s&&(l.fields[zb]=s),{mapValue:l}})(n,e):t instanceof bf?oN(t,e):t instanceof Nf?lN(t,e):(function(i,s){const l=sN(i,s),c=jA(l)+jA(i.Ae);return ov(l)&&ov(i.Ae)?aN(c):S1(i.serializer,c)})(t,e)}function Gq(t,e,n){return t instanceof bf?oN(t,e):t instanceof Nf?lN(t,e):n}function sN(t,e){return t instanceof x0?(function(r){return ov(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class v0 extends q0{}class bf extends q0{constructor(e){super(),this.elements=e}}function oN(t,e){const n=cN(e);for(const r of t.elements)n.some((i=>Aa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Nf extends q0{constructor(e){super(),this.elements=e}}function lN(t,e){let n=cN(e);for(const r of t.elements)n=n.filter((i=>!Aa(i,r)));return{arrayValue:{values:n}}}class x0 extends q0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jA(t){return Vn(t.integerValue||t.doubleValue)}function cN(t){return _1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function zq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof bf&&i instanceof bf||r instanceof Nf&&i instanceof Nf?mc(r.elements,i.elements,Aa):r instanceof x0&&i instanceof x0?Aa(r.Ae,i.Ae):r instanceof v0&&i instanceof v0})(t.transform,e.transform)}class qq{constructor(e,n){this.version=e,this.transformResults=n}}class Wa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wa}static exists(e){return new Wa(void 0,e)}static updateTime(e){return new Wa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class j0{}function uN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dN(t.key,Wa.none()):new Vf(t.key,t.data,Wa.none());{const n=t.data,r=Ri.empty();let i=new rr(yr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new ol(t.key,r,new Zi(i.toArray()),Wa.none())}}function jq(t,e,n){t instanceof Vf?(function(i,s,l){const c=i.value.clone(),f=KA(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof ol?(function(i,s,l){if(!Oh(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=KA(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(fN(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function nf(t,e,n,r){return t instanceof Vf?(function(s,l,c,f){if(!Oh(s.precondition,l))return c;const d=s.value.clone(),h=YA(s.fieldTransforms,f,l);return d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof ol?(function(s,l,c,f){if(!Oh(s.precondition,l))return c;const d=YA(s.fieldTransforms,f,l),h=l.data;return h.setAll(fN(s)),h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(s,l,c){return Oh(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function $q(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sN(r.transform,i||null);s!=null&&(n===null&&(n=Ri.empty()),n.set(r.field,s))}return n||null}function $A(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mc(r,i,((s,l)=>zq(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vf extends j0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ol extends j0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fN(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function KA(t,e,n){const r=new Map;Zt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,Gq(l,c,n[i]))}return r}function YA(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,Hq(s,l,e))}return r}class dN extends j0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kq extends j0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iN();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=uN(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ft())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,((n,r)=>$A(n,r)))&&mc(this.baseMutations,e.baseMutations,((n,r)=>$A(n,r)))}}class w1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Zt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Lq})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new w1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,Vt;function Xq(t){switch(t){case Ue.OK:return dt(64938);case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return dt(15467,{code:t})}}function hN(t){if(t===void 0)return ns("GRPC error has no .code"),Ue.UNKNOWN;switch(t){case Kn.OK:return Ue.OK;case Kn.CANCELLED:return Ue.CANCELLED;case Kn.UNKNOWN:return Ue.UNKNOWN;case Kn.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Kn.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Kn.INTERNAL:return Ue.INTERNAL;case Kn.UNAVAILABLE:return Ue.UNAVAILABLE;case Kn.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Kn.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Kn.NOT_FOUND:return Ue.NOT_FOUND;case Kn.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Kn.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Kn.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Kn.ABORTED:return Ue.ABORTED;case Kn.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Kn.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Kn.DATA_LOSS:return Ue.DATA_LOSS;default:return dt(39323,{code:t})}}(Vt=Kn||(Kn={}))[Vt.OK=0]="OK",Vt[Vt.CANCELLED=1]="CANCELLED",Vt[Vt.UNKNOWN=2]="UNKNOWN",Vt[Vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vt[Vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vt[Vt.NOT_FOUND=5]="NOT_FOUND",Vt[Vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vt[Vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vt[Vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vt[Vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vt[Vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vt[Vt.ABORTED=10]="ABORTED",Vt[Vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vt[Vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vt[Vt.INTERNAL=13]="INTERNAL",Vt[Vt.UNAVAILABLE=14]="UNAVAILABLE",Vt[Vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=new Xs([4294967295,4294967295],0);function JA(t){const e=Qq().encode(t),n=new Ib;return n.update(e),new Uint8Array(n.digest())}function WA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([i,s],0)]}class C1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Xs.fromNumber(r)));return i.compare(Zq)===1&&(i=new Xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JA(e),[r,i]=WA(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new C1(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=JA(e),[r,i]=WA(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $0(vt.min(),i,new bn(Mt),rs(),Ft())}}class Bf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bf(r,n,Ft(),Ft(),Ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pN{constructor(e,n){this.targetId=e,this.Ce=n}}class mN{constructor(e,n,r=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XA{constructor(){this.ve=0,this.Fe=QA(),this.Me=Tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ft(),n=Ft(),r=Ft();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:dt(38017,{changeType:s})}})),new Bf(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=QA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ej{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.He=wh(),this.Je=wh(),this.Ze=new bn(Mt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(cv(s))if(r===0){const l=new lt(s.path);this.et(n,l,kr.newNoDocument(l,vt.min()))}else Zt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=ro(r).toUint8Array()}catch(f){if(f instanceof Bb)return Jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new C1(l,i,s)}catch(f){return Jo(f instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&cv(c.target)){const f=new lt(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,kr.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.Ke())}}));let r=Ft();this.Je.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new $0(e,n,this.Ze,this.je,r);return this.je=rs(),this.He=wh(),this.Je=wh(),this.Ze=new bn(Mt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new XA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new rr(Mt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new rr(Mt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new bn(lt.comparator)}function QA(){return new bn(lt.comparator)}const tj={asc:"ASCENDING",desc:"DESCENDING"},nj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rj={and:"AND",or:"OR"};class ij{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fv(t,e){return t.useProto3Json||V0(e)?e:{value:e}}function y0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aj(t,e){return y0(t,e.toTimestamp())}function _a(t){return Zt(!!t,49232),vt.fromTimestamp((function(n){const r=no(n);return new _n(r.seconds,r.nanos)})(t))}function b1(t,e){return dv(t,e).canonicalString()}function dv(t,e){const n=(function(i){return new Cn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vN(t){const e=Cn.fromString(t);return Zt(TN(e),10190,{key:e.toString()}),e}function hv(t,e){return b1(t.databaseId,e.path)}function mg(t,e){const n=vN(e);if(n.get(1)!==t.databaseId.projectId)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new it(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new lt(yN(n))}function xN(t,e){return b1(t.databaseId,e)}function sj(t){const e=vN(t);return e.length===4?Cn.emptyPath():yN(e)}function pv(t){return new Cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yN(t){return Zt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ZA(t,e,n){return{name:hv(t,e),fields:n.value.mapValue.fields}}function oj(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:dt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,h){return d.useProto3Json?(Zt(h===void 0||typeof h=="string",58123),Tr.fromBase64String(h||"")):(Zt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Tr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(d){const h=d.code===void 0?Ue.UNKNOWN:hN(d.code);return new it(h,d.message||"")})(l);n=new mN(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mg(t,r.document.name),s=_a(r.document.updateTime),l=r.document.createTime?_a(r.document.createTime):vt.min(),c=new Ri({mapValue:{fields:r.document.fields}}),f=kr.newFoundDocument(i,s,l,c),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Uh(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mg(t,r.document),s=r.readTime?_a(r.readTime):vt.min(),l=kr.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Uh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mg(t,r.document),s=r.removedTargetIds||[];n=new Uh([],s,i,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Wq(i,s),c=r.targetId;n=new pN(c,l)}}return n}function lj(t,e){let n;if(e instanceof Vf)n={update:ZA(t,e.key,e.value)};else if(e instanceof dN)n={delete:hv(t,e.key)};else if(e instanceof ol)n={update:ZA(t,e.key,e.data),updateMask:vj(e.fieldMask)};else{if(!(e instanceof Kq))return dt(16599,{dt:e.type});n={verify:hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof v0)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof bf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof x0)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw dt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:aj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:dt(27497)})(t,e.precondition)),n}function cj(t,e){return t&&t.length>0?(Zt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?_a(i.updateTime):_a(s);return l.isEqual(vt.min())&&(l=_a(s)),new qq(l,i.transformResults||[])})(n,e)))):[]}function uj(t,e){return{documents:[xN(t,e.path)]}}function fj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xN(t,i);const s=(function(d){if(d.length!==0)return EN(Sa.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(d){if(d.length!==0)return d.map((h=>(function(y){return{field:Xl(y.field),direction:pj(y.dir)}})(h)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=fv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function dj(t){let e=sj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=(function(v){const y=_N(v);return y instanceof Sa&&Wb(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((y=>(function(S){return new g0(Ql(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(v){let y;return y=typeof v=="object"?v.value:v,V0(y)?null:y})(n.limit));let f=null;n.startAt&&(f=(function(v){const y=!!v.before,A=v.values||[];return new m0(A,y)})(n.startAt));let d=null;return n.endAt&&(d=(function(v){const y=!v.before,A=v.values||[];return new m0(A,y)})(n.endAt)),Iq(e,i,l,s,c,"F",f,d)}function hj(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _N(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ql(n.unaryFilter.field);return er.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ql(n.unaryFilter.field);return er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ql(n.unaryFilter.field);return er.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ql(n.unaryFilter.field);return er.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return er.create(Ql(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Sa.create(n.compositeFilter.filters.map((r=>_N(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(n.compositeFilter.op))})(t):dt(30097,{filter:t})}function pj(t){return tj[t]}function mj(t){return nj[t]}function gj(t){return rj[t]}function Xl(t){return{fieldPath:t.canonicalString()}}function Ql(t){return yr.fromServerFormat(t.fieldPath)}function EN(t){return t instanceof er?(function(n){if(n.op==="=="){if(BA(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NAN"}};if(VA(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BA(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NAN"}};if(VA(n.value))return{unaryFilter:{field:Xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(n.field),op:mj(n.op),value:n.value}}})(t):t instanceof Sa?(function(n){const r=n.getFilters().map((i=>EN(i)));return r.length===1?r[0]:{compositeFilter:{op:gj(n.op),filters:r}}})(t):dt(54877,{filter:t})}function vj(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function AN(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,i,s=vt.min(),l=vt.min(),c=Tr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.yt=e}}function yj(t){const e=dj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.Sn=new Ej}addToCollectionParentIndex(e,n){return this.Sn.add(n),Pe.resolve()}getCollectionParents(e,n){return Pe.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Pe.resolve()}deleteFieldIndex(e,n){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,n){return Pe.resolve()}getDocumentsMatchingTarget(e,n){return Pe.resolve(null)}getIndexType(e,n){return Pe.resolve(0)}getFieldIndexes(e,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,n){return Pe.resolve(to.min())}getMinOffsetFromCollectionGroup(e,n){return Pe.resolve(to.min())}updateCollectionGroup(e,n,r){return Pe.resolve()}updateIndexEntries(e,n){return Pe.resolve()}}class Ej{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rr(Cn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rr(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SN=41943040;class ni{static withCacheSize(e){return new ni(e,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ni.DEFAULT_COLLECTION_PERCENTILE=10,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ni.DEFAULT=new ni(SN,ni.DEFAULT_COLLECTION_PERCENTILE,ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ni.DISABLED=new ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xc(0)}static ar(){return new xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="LruGarbageCollector",Tj=1048576;function nS([t,e],[n,r]){const i=Mt(t,n);return i===0?Mt(e,r):i}class Aj{constructor(e){this.Pr=e,this.buffer=new rr(nS),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Sj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Xe(tS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ic(n)?Xe(tS,"Ignoring IndexedDB error during garbage collection: ",n):await Nc(n)}await this.Ar(3e5)}))}}class wj{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Pe.resolve(U0.ce);const r=new Aj(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(eS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eS):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,l,c,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,c=Date.now(),this.removeTargets(e,r,n)))).next((v=>(s=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(d=Date.now(),Jl()<=Bt.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-h}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v}))))}}function Cj(t,e){return new wj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(){this.changes=new sl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&nf(r.mutation,i,Zi.empty(),_n.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ft()){const i=Vo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Uu();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Vo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ft())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=rs();const l=tf(),c=(function(){return tf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof ol)?s=s.insert(d.key,d):h!==void 0?(l.set(d.key,h.mutation.getFieldMask()),nf(h.mutation,d,h.mutation.getFieldMask(),_n.now())):l.set(d.key,Zi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((d,h)=>l.set(d,h))),n.forEach(((d,h)=>c.set(d,new Nj(h,l.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=tf();let i=new bn(((l,c)=>l-c)),s=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||Zi.empty();h=c.applyToLocalView(d,h),r.set(f,h);const v=(i.get(c.batchId)||Ft()).add(f);i=i.insert(c.batchId,v)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,h=f.value,v=iN();h.forEach((y=>{if(!s.has(y)){const A=uN(n.get(y),r.get(y));A!==null&&v.set(y,A),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,v))}return Pe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return Rq(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Pe.resolve(Vo());let c=Af,f=s;return l.next((d=>Pe.forEach(d,((h,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),s.get(h)?Pe.resolve():this.remoteDocumentCache.getEntry(e,h).next((y=>{f=f.insert(h,y)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,f,d,Ft()))).next((h=>({batchId:c,changes:rN(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new lt(n)).next((r=>{let i=Uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Uu();return this.indexManager.getCollectionParents(e,s).next((c=>Pe.forEach(c,(f=>{const d=(function(v,y){return new H0(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((v,y)=>{l=l.insert(v,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,d)=>{const h=d.getKey();l.get(h)===null&&(l=l.insert(h,kr.newInvalidDocument(h)))}));let c=Uu();return l.forEach(((f,d)=>{const h=s.get(f);h!==void 0&&nf(h.mutation,d,Zi.empty(),_n.now()),z0(n,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Pe.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:_a(i.createTime)}})(n)),Pe.resolve()}getNamedQuery(e,n){return Pe.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:yj(i.bundledQuery),readTime:_a(i.readTime)}})(n)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.overlays=new bn(lt.comparator),this.Lr=new Map}getOverlay(e,n){return Pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vo();return Pe.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),Pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),Pe.resolve()}getOverlaysForCollection(e,n,r){const i=Vo(),s=n.length+1,l=new lt(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new bn(((d,h)=>d-h));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=Vo(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const c=Vo(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>c.set(d,h))),!(c.size()>=i)););return Pe.resolve(c)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Jq(n,r));let s=this.Lr.get(n);s===void 0&&(s=Ft(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.kr=new rr(lr.Kr),this.qr=new rr(lr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new lr(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new lr(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new lt(new Cn([])),r=new lr(n,e),i=new lr(n,e+1),s=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),s.push(l.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new lt(new Cn([])),r=new lr(n,e),i=new lr(n,e+1);let s=Ft();return this.qr.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new lr(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return lt.comparator(e.key,n.key)||Mt(e.Hr,n.Hr)}static Ur(e,n){return Mt(e.Hr,n.Hr)||lt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new rr(lr.Kr)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Yq(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Jr=this.Jr.add(new lr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Pe.resolve(l)}lookupMutationBatch(e,n){return Pe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return Pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?x1:this.Yn-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lr(n,0),i=new lr(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(l=>{const c=this.Zr(l.Hr);s.push(c)})),Pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rr(Mt);return n.forEach((i=>{const s=new lr(i,0),l=new lr(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,l],(c=>{r=r.add(c.Hr)}))})),Pe.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;lt.isDocumentKey(s)||(s=s.child(""));const l=new lr(new lt(s),0);let c=new rr(Mt);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(f.Hr)),!0)}),l),Pe.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Zt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Pe.forEach(n.mutations,(i=>{const s=new lr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new lr(n,0),i=this.Jr.firstAfterOrEqual(r);return Pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.ti=e,this.docs=(function(){return new bn(lt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Pe.resolve(r?r.document.mutableCopy():kr.newInvalidDocument(n))}getEntries(e,n){let r=rs();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kr.newInvalidDocument(i))})),Pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=rs();const l=n.path,c=new lt(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||sq(aq(h),r)<=0||(i.has(h.key)||z0(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return Pe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){dt(9500)}ni(e,n){return Pe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Pj(this)}getSize(e){return Pe.resolve(this.size)}}class Pj extends bj{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),Pe.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.persistence=e,this.ri=new sl((n=>E1(n)),T1),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new N1,this.targetCount=0,this.oi=xc._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),Pe.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xc(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Pe.resolve()}updateTargetData(e,n){return this.lr(n),Pe.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Pe.waitFor(s).next((()=>i))}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return Pe.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),Pe.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Pe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return Pe.resolve(r)}containsKey(e,n){return Pe.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this._i={},this.overlays={},this.ai=new U0(0),this.ui=!1,this.ui=!0,this.ci=new Dj,this.referenceDelegate=e(this),this.li=new Lj(this),this.indexManager=new _j,this.remoteDocumentCache=(function(i){return new Fj(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new xj(n),this.Pi=new Rj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new Mj(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Xe("MemoryPersistence","Starting transaction:",e);const i=new Oj(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return Pe.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class Oj extends lq{constructor(e){super(),this.currentSequenceNumber=e}}class I1{constructor(e){this.persistence=e,this.Ri=new N1,this.Ai=null}static Vi(e){return new I1(e)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),Pe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Pe.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.di,(r=>{const i=lt.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,vt.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Pe.or([()=>Pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _0{constructor(e,n){this.persistence=e,this.fi=new sl((r=>fq(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Cj(this,n)}static Vi(e,n){return new _0(e,n)}Ti(){}Ii(e){return Pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return Pe.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?Pe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((c=>{c||(r++,s.removeEntry(l,vt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Pe.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Pe.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ph(e.data.value)),n}wr(e,n,r){return Pe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return Pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Ft(),i=Ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new R1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wG()?8:cq(AG())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new Uj;return this.ys(e,n,l).next((c=>{if(s.result=c,this.As)return this.ws(e,n,l,c.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Jl()<=Bt.DEBUG&&Xe("QueryEngine","SDK will not create cache indexes for query:",Wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Pe.resolve()):(Jl()<=Bt.DEBUG&&Xe("QueryEngine","Query:",Wl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Jl()<=Bt.DEBUG&&Xe("QueryEngine","The SDK decides to create cache indexes for query:",Wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ya(n))):Pe.resolve())}gs(e,n){if(qA(n))return Pe.resolve(null);let r=ya(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=uv(n,null,"F"),r=ya(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Ft(...s);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,c);return this.Ss(n,d,l,f.readTime)?this.gs(e,uv(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,i){return qA(n)||i.isEqual(vt.min())?Pe.resolve(null):this.fs.getDocuments(e,r).next((s=>{const l=this.bs(n,s);return this.Ss(n,l,r,i)?Pe.resolve(null):(Jl()<=Bt.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wl(n)),this.Ds(e,l,n,iq(i,Af)).next((c=>c)))}))}bs(e,n){let r=new rr(tN(e));return n.forEach(((i,s)=>{z0(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Jl()<=Bt.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",Wl(n)),this.fs.getDocumentsMatchingQuery(e,n,to.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="LocalStore",Bj=3e8;class Hj{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new bn(Mt),this.Fs=new sl((s=>E1(s)),T1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ij(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function Gj(t,e,n,r){return new Hj(t,e,n,r)}async function CN(t,e){const n=_t(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=Ft();for(const d of i){l.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of s){c.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:l,addedBatchIds:c})))}))}))}function zj(t,e){const n=_t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,h){const v=d.batch,y=v.keys();let A=Pe.resolve();return y.forEach((S=>{A=A.next((()=>h.getEntry(f,S))).next((w=>{const C=d.docVersions.get(S);Zt(C!==null,48541),w.version.compareTo(C)<0&&(v.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))}))})),A.next((()=>c.mutationQueue.removeMutationBatch(f,v)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Ft();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function bN(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function qj(t,e){const n=_t(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const c=[];e.targetChanges.forEach(((h,v)=>{const y=i.get(v);if(!y)return;c.push(n.li.removeMatchingKeys(s,h.removedDocuments,v).next((()=>n.li.addMatchingKeys(s,h.addedDocuments,v))));let A=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?A=A.withResumeToken(Tr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):h.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(h.resumeToken,r)),i=i.insert(v,A),(function(w,C,O){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=Bj?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,A,h)&&c.push(n.li.updateTargetData(s,A))}));let f=rs(),d=Ft();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))})),c.push(jj(s,l,e.documentUpdates).next((h=>{f=h.Bs,d=h.Ls}))),!r.isEqual(vt.min())){const h=n.li.getLastRemoteSnapshotVersion(s).next((v=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(h)}return Pe.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,d))).next((()=>f))})).then((s=>(n.vs=i,s)))}function jj(t,e,n){let r=Ft(),i=Ft();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=rs();return n.forEach(((c,f)=>{const d=s.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(vt.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Xe(k1,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:l,Ls:i}}))}function $j(t,e){const n=_t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=x1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Kj(t,e){const n=_t(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,Pe.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new Ks(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function mv(t,e,n){const r=_t(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ic(l))throw l;Xe(k1,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function rS(t,e,n){const r=_t(t);let i=vt.min(),s=Ft();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,h){const v=_t(f),y=v.Fs.get(h);return y!==void 0?Pe.resolve(v.vs.get(y)):v.li.getTargetData(d,h)})(r,l,ya(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:vt.min(),n?s:Ft()))).next((c=>(Yj(r,Mq(e),c),{documents:c,ks:s})))))}function Yj(t,e,n){let r=t.Ms.get(e)||vt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}class iS{constructor(){this.activeTargetIds=Vq()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jj{constructor(){this.vo=new iS,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="ConnectivityMonitor";class sS{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Xe(aS,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Xe(aS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function gv(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",Xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Qj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===h0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const l=gv(),c=this.Qo(e,n.toUriEncodedString());Xe(gg,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,s);const{host:d}=new URL(c),h=h1(d);return this.zo(e,c,f,r,h).then((v=>(Xe(gg,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Jo(gg,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v}))}jo(e,n,r,i,s,l){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=Xj[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection",Nu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class fc extends Qj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fc.c_){const e=Mb();Nu(e,Db.STAT_EVENT,(n=>{n.stat===iv.PROXY?Xe(Nr,"STAT_EVENT: detected buffering proxy"):n.stat===iv.NOPROXY&&Xe(Nr,"STAT_EVENT: detected no buffering proxy")})),fc.c_=!0}}zo(e,n,r,i,s){const l=gv();return new Promise(((c,f)=>{const d=new Rb;d.setWithCredentials(!0),d.listenOnce(kb.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Fh.NO_ERROR:const v=d.getResponseJson();Xe(Nr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Fh.TIMEOUT:Xe(Nr,`RPC '${e}' ${l} timed out`),f(new it(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const y=d.getStatus();if(Xe(Nr,`RPC '${e}' ${l} failed with status:`,y,"response text:",d.getResponseText()),y>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const S=A==null?void 0:A.error;if(S&&S.status&&S.message){const w=(function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(H)>=0?H:Ue.UNKNOWN})(S.status);f(new it(w,S.message))}else f(new it(Ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new it(Ue.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Xe(Nr,`RPC '${e}' ${l} completed.`)}}));const h=JSON.stringify(i);Xe(Nr,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=gv(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");Xe(Nr,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=l.createWebChannel(d,c);this.I_(h);let v=!1,y=!1;const A=new Zj({Ho:S=>{y?Xe(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||(Xe(Nr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),v=!0),Xe(Nr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return Nu(h,Ou.EventType.OPEN,(()=>{y||(Xe(Nr,`RPC '${e}' stream ${i} transport opened.`),A.i_())})),Nu(h,Ou.EventType.CLOSE,(()=>{y||(y=!0,Xe(Nr,`RPC '${e}' stream ${i} transport closed`),A.o_(),this.E_(h))})),Nu(h,Ou.EventType.ERROR,(S=>{y||(y=!0,Jo(Nr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),A.o_(new it(Ue.UNAVAILABLE,"The operation could not be completed")))})),Nu(h,Ou.EventType.MESSAGE,(S=>{var w;if(!y){const C=S.data[0];Zt(!!C,16349);const O=C,H=(O==null?void 0:O.error)||((w=O[0])==null?void 0:w.error);if(H){Xe(Nr,`RPC '${e}' stream ${i} received error:`,H);const D=H.status;let z=(function(I){const N=Kn[I];if(N!==void 0)return hN(N)})(D),G=H.message;D==="NOT_FOUND"&&G.includes("database")&&G.includes("does not exist")&&G.includes(this.databaseId.database)&&Jo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),z===void 0&&(z=Ue.INTERNAL,G="Unknown error status: "+D+" with message "+H.message),y=!0,A.o_(new it(z,G)),h.close()}else Xe(Nr,`RPC '${e}' stream ${i} received:`,C),A.__(C)}})),fc.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Fb()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t){return new fc(t)}function vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){return new ij(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fc.c_=!1;class NN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="PersistentStream";class IN{constructor(e,n,r,i,s,l,c,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ue.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new it(Ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Xe(oS,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Xe(oS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t$ extends IN{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oj(this.serializer,e),r=(function(s){if(!("targetChange"in s))return vt.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?vt.min():l.readTime?_a(l.readTime):vt.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=pv(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=cv(f)?{documents:uj(s,f)}:{query:fj(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=gN(s,l.resumeToken);const d=fv(s,l.expectedCount);d!==null&&(c.expectedCount=d)}else if(l.snapshotVersion.compareTo(vt.min())>0){c.readTime=y0(s,l.snapshotVersion.toTimestamp());const d=fv(s,l.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=hj(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=pv(this.serializer),n.removeTarget=e,this.K_(n)}}class n$ extends IN{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Zt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Zt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cj(e.writeResults,e.commitTime),r=_a(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>lj(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${}class i$ extends r${constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Wo(e,dv(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new it(Ue.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,dv(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new it(Ue.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function a$(t,e,n,r){return new i$(t,e,n,r)}class s${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(n),this.aa=!1):Xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="RemoteStore";class o${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{ll(this)&&(Xe(Wo,"Restarting streams for network reachability change."),await(async function(f){const d=_t(f);d.Ea.add(4),await Hf(d),d.Va.set("Unknown"),d.Ea.delete(4),await Y0(d)})(this))}))})),this.Va=new s$(r,i)}}async function Y0(t){if(ll(t))for(const e of t.Ra)await e(!0)}async function Hf(t){for(const e of t.Ra)await e(!1)}function RN(t,e){const n=_t(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),P1(n)?F1(n):Rc(n).O_()&&M1(n,e))}function D1(t,e){const n=_t(t),r=Rc(n);n.Ia.delete(e),r.O_()&&kN(n,e),n.Ia.size===0&&(r.O_()?r.L_():ll(n)&&n.Va.set("Unknown"))}function M1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).Z_(e)}function kN(t,e){t.da.$e(e),Rc(t).X_(e)}function F1(t){t.da=new ej({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.Va.ua()}function P1(t){return ll(t)&&!Rc(t).x_()&&t.Ia.size>0}function ll(t){return _t(t).Ea.size===0}function DN(t){t.da=void 0}async function l$(t){t.Va.set("Online")}async function c$(t){t.Ia.forEach(((e,n)=>{M1(t,e)}))}async function u$(t,e){DN(t),P1(t)?(t.Va.ha(e),F1(t)):t.Va.set("Unknown")}async function f$(t,e,n){if(t.Va.set("Online"),e instanceof mN&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.da.removeTarget(c))})(t,e)}catch(r){Xe(Wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await E0(t,r)}else if(e instanceof Uh?t.da.Xe(e):e instanceof pN?t.da.st(e):t.da.tt(e),!n.isEqual(vt.min()))try{const r=await bN(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.da.Tt(l);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=s.Ia.get(d);h&&s.Ia.set(d,h.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,d)=>{const h=s.Ia.get(f);if(!h)return;s.Ia.set(f,h.withResumeToken(Tr.EMPTY_BYTE_STRING,h.snapshotVersion)),kN(s,f);const v=new Ks(h.target,f,d,h.sequenceNumber);M1(s,v)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Xe(Wo,"Failed to raise snapshot:",r),await E0(t,r)}}async function E0(t,e,n){if(!Ic(e))throw e;t.Ea.add(1),await Hf(t),t.Va.set("Offline"),n||(n=()=>bN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Xe(Wo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Y0(t)}))}function MN(t,e){return e().catch((n=>E0(t,n,e)))}async function J0(t){const e=_t(t),n=ao(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:x1;for(;d$(e);)try{const i=await $j(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,h$(e,i)}catch(i){await E0(e,i)}FN(e)&&PN(e)}function d$(t){return ll(t)&&t.Ta.length<10}function h$(t,e){t.Ta.push(e);const n=ao(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function FN(t){return ll(t)&&!ao(t).x_()&&t.Ta.length>0}function PN(t){ao(t).start()}async function p$(t){ao(t).ra()}async function m$(t){const e=ao(t);for(const n of t.Ta)e.ea(n.mutations)}async function g$(t,e,n){const r=t.Ta.shift(),i=w1.from(r,e,n);await MN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await J0(t)}async function v$(t,e){e&&ao(t).Y_&&await(async function(r,i){if((function(l){return Xq(l)&&l!==Ue.ABORTED})(i.code)){const s=r.Ta.shift();ao(r).B_(),await MN(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await J0(r)}})(t,e),FN(t)&&PN(t)}async function lS(t,e){const n=_t(t);n.asyncQueue.verifyOperationInProgress(),Xe(Wo,"RemoteStore received new credentials");const r=ll(n);n.Ea.add(3),await Hf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Y0(n)}async function x$(t,e){const n=_t(t);e?(n.Ea.delete(2),await Y0(n)):e||(n.Ea.add(2),await Hf(n),n.Va.set("Unknown"))}function Rc(t){return t.ma||(t.ma=(function(n,r,i){const s=_t(n);return s.sa(),new t$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:l$.bind(null,t),Yo:c$.bind(null,t),t_:u$.bind(null,t),J_:f$.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),P1(t)?F1(t):t.Va.set("Unknown")):(await t.ma.stop(),DN(t))}))),t.ma}function ao(t){return t.fa||(t.fa=(function(n,r,i){const s=_t(n);return s.sa(),new n$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:p$.bind(null,t),t_:v$.bind(null,t),ta:m$.bind(null,t),na:g$.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await J0(t)):(await t.fa.stop(),t.Ta.length>0&&(Xe(Wo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new L1(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function O1(t,e){if(ns("AsyncQueue",`${e}: ${t}`),Ic(t))return new it(Ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{static emptySet(e){return new dc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||lt.comparator(n.key,r.key):(n,r)=>lt.comparator(n.key,r.key),this.keyedMap=Uu(),this.sortedSet=new bn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.ga=new bn(lt.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):dt(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yc{constructor(e,n,r,i,s,l,c,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new yc(e,n,dc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&G0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _${constructor(){this.queries=uS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=_t(n),s=i.queries;i.queries=uS(),s.forEach(((l,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new it(Ue.ABORTED,"Firestore shutting down"))}}function uS(){return new sl((t=>eN(t)),G0)}async function E$(t,e){const n=_t(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new y$,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=O1(l,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&U1(n)}async function T$(t,e){const n=_t(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.ba.indexOf(e);l>=0&&(s.ba.splice(l,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function A$(t,e){const n=_t(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.ba)c.Fa(i)&&(r=!0);l.wa=i}}r&&U1(n)}function S$(t,e,n){const r=_t(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function U1(t){t.Ca.forEach((e=>{e.next()}))}var vv,fS;(fS=vv||(vv={})).Ma="default",fS.Cache="cache";class w${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.key=e}}class ON{constructor(e){this.key=e}}class C${constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ft(),this.mutatedKeys=Ft(),this.eu=tN(e),this.tu=new dc(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cS,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,v)=>{const y=i.get(h),A=z0(this.query,v)?v:null,S=!!y&&this.mutatedKeys.has(y.key),w=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let C=!1;y&&A?y.data.isEqual(A.data)?S!==w&&(r.track({type:3,doc:A}),C=!0):this.su(y,A)||(r.track({type:2,doc:A}),C=!0,(f&&this.eu(A,f)>0||d&&this.eu(A,d)<0)&&(c=!0)):!y&&A?(r.track({type:0,doc:A}),C=!0):y&&!A&&(r.track({type:1,doc:y}),C=!0,(f||d)&&(c=!0)),C&&(A?(l=l.add(A),s=w?s.add(h):s.delete(h)):(l=l.delete(h),s=s.delete(h)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const h=this.query.limitType==="F"?l.last():l.first();l=l.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:l,iu:r,Ss:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((h,v)=>(function(A,S){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:C})}};return w(A)-w(S)})(h.type,v.type)||this.eu(h.doc,v.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,d=f!==this.Xa;return this.Xa=f,l.length!==0||d?{snapshot:new yc(this.query,e.tu,s,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cS,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new ON(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new LN(r))})),n}cu(e){this.Za=e.ks,this.Ya=Ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const V1="SyncEngine";class b${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N${constructor(e){this.key=e,this.hu=!1}}class I${constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new sl((c=>eN(c)),G0),this.Iu=new Map,this.Eu=new Set,this.Ru=new bn(lt.comparator),this.Au=new Map,this.Vu=new N1,this.du={},this.mu=new Map,this.fu=xc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R$(t,e,n=!0){const r=zN(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await UN(r,e,n,!0),i}async function k$(t,e){const n=zN(t);await UN(n,e,!0,!1)}async function UN(t,e,n,r){const i=await Kj(t.localStore,ya(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await D$(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&RN(t.remoteStore,i),c}async function D$(t,e,n,r,i){t.pu=(v,y,A)=>(async function(w,C,O,H){let D=C.view.ru(O);D.Ss&&(D=await rS(w.localStore,C.query,!1).then((({documents:I})=>C.view.ru(I,D))));const z=H&&H.targetChanges.get(C.targetId),G=H&&H.targetMismatches.get(C.targetId)!=null,j=C.view.applyChanges(D,w.isPrimaryClient,z,G);return hS(w,C.targetId,j.au),j.snapshot})(t,v,y,A);const s=await rS(t.localStore,e,!0),l=new C$(e,s.ks),c=l.ru(s.documents),f=Bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(c,t.isPrimaryClient,f);hS(t,n,d.au);const h=new b$(e,n,l);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function M$(t,e,n){const r=_t(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!G0(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&D1(r.remoteStore,i.targetId),xv(r,i.targetId)})).catch(Nc)):(xv(r,i.targetId),await mv(r.localStore,i.targetId,!0))}async function F$(t,e){const n=_t(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D1(n.remoteStore,r.targetId))}async function P$(t,e,n){const r=G$(t);try{const i=await(function(l,c){const f=_t(l),d=_n.now(),h=c.reduce(((A,S)=>A.add(S.key)),Ft());let v,y;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let S=rs(),w=Ft();return f.xs.getEntries(A,h).next((C=>{S=C,S.forEach(((O,H)=>{H.isValidDocument()||(w=w.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,S))).next((C=>{v=C;const O=[];for(const H of c){const D=$q(H,v.get(H.key).overlayedDocument);D!=null&&O.push(new ol(H.key,D,Kb(D.value.mapValue),Wa.exists(!0)))}return f.mutationQueue.addMutationBatch(A,d,O,c)})).next((C=>{y=C;const O=C.applyToLocalDocumentSet(v,w);return f.documentOverlayCache.saveOverlays(A,C.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:rN(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let d=l.du[l.currentUser.toKey()];d||(d=new bn(Mt)),d=d.insert(c,f),l.du[l.currentUser.toKey()]=d})(r,i.batchId,n),await Gf(r,i.changes),await J0(r.remoteStore)}catch(i){const s=O1(i,"Failed to persist write");n.reject(s)}}async function VN(t,e){const n=_t(t);try{const r=await qj(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Zt(l.hu,14607):i.removedDocuments.size>0&&(Zt(l.hu,42227),l.hu=!1))})),await Gf(n,r,e)}catch(r){await Nc(r)}}function dS(t,e,n){const r=_t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=_t(l);f.onlineState=c;let d=!1;f.queries.forEach(((h,v)=>{for(const y of v.ba)y.va(c)&&(d=!0)})),d&&U1(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L$(t,e,n){const r=_t(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new bn(lt.comparator);l=l.insert(s,kr.newNoDocument(s,vt.min()));const c=Ft().add(s),f=new $0(vt.min(),new Map,new bn(Mt),l,c);await VN(r,f),r.Ru=r.Ru.remove(s),r.Au.delete(e),B1(r)}else await mv(r.localStore,e,!1).then((()=>xv(r,e,n))).catch(Nc)}async function O$(t,e){const n=_t(t),r=e.batch.batchId;try{const i=await zj(n.localStore,e);HN(n,r,null),BN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gf(n,i)}catch(i){await Nc(i)}}async function U$(t,e,n){const r=_t(t);try{const i=await(function(l,c){const f=_t(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,c).next((v=>(Zt(v!==null,37113),h=v.keys(),f.mutationQueue.removeMutationBatch(d,v)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);HN(r,e,n),BN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gf(r,i)}catch(i){await Nc(i)}}function BN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function HN(t,e,n){const r=_t(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||GN(t,r)}))}function GN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(D1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),B1(t))}function hS(t,e,n){for(const r of n)r instanceof LN?(t.Vu.addReference(r.key,e),V$(t,r)):r instanceof ON?(Xe(V1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||GN(t,r.key)):dt(19791,{wu:r})}function V$(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Xe(V1,"New document in limbo: "+n),t.Eu.add(r),B1(t))}function B1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new lt(Cn.fromString(e)),r=t.fu.next();t.Au.set(r,new N$(n)),t.Ru=t.Ru.insert(n,r),RN(t.remoteStore,new Ks(ya(A1(n.path)),r,"TargetPurposeLimboResolution",U0.ce))}}async function Gf(t,e,n){const r=_t(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const v=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(d){i.push(d);const v=R1.Es(f.targetId,d);s.push(v)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(f,d){const h=_t(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>Pe.forEach(d,(y=>Pe.forEach(y.Ts,(A=>h.persistence.referenceDelegate.addReference(v,y.targetId,A))).next((()=>Pe.forEach(y.Is,(A=>h.persistence.referenceDelegate.removeReference(v,y.targetId,A)))))))))}catch(v){if(!Ic(v))throw v;Xe(k1,"Failed to update sequence numbers: "+v)}for(const v of d){const y=v.targetId;if(!v.fromCache){const A=h.vs.get(y),S=A.snapshotVersion,w=A.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(y,w)}}})(r.localStore,s))}async function B$(t,e){const n=_t(t);if(!n.currentUser.isEqual(e)){Xe(V1,"User change. New user:",e.toKey());const r=await CN(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new it(Ue.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gf(n,r.Ns)}}function H$(t,e){const n=_t(t),r=n.Au.get(e);if(r&&r.hu)return Ft().add(r.key);{let i=Ft();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function zN(t){const e=_t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L$.bind(null,e),e.Pu.J_=A$.bind(null,e.eventManager),e.Pu.yu=S$.bind(null,e.eventManager),e}function G$(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U$.bind(null,e),e}class T0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=K0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Gj(this.persistence,new Vj,e.initialUser,this.serializer)}Cu(e){return new wN(I1.Vi,this.serializer)}Du(e){return new Jj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}T0.provider={build:()=>new T0};class z$ extends T0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Zt(this.persistence.referenceDelegate instanceof _0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Sj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ni.withCacheSize(this.cacheSizeBytes):ni.DEFAULT;return new wN((r=>_0.Vi(r,n)),this.serializer)}}class yv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=B$.bind(null,this.syncEngine),await x$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _$})()}createDatastore(e){const n=K0(e.databaseInfo.databaseId),r=e$(e.databaseInfo);return a$(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new o$(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>dS(this.syncEngine,n,0)),(function(){return sS.v()?new sS:new Wj})())}createSyncEngine(e,n){return(function(i,s,l,c,f,d,h){const v=new I$(i,s,l,c,f,d);return h&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=_t(i);Xe(Wo,"RemoteStore shutting down."),s.Ea.add(5),await Hf(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="FirestoreClient";class j${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Ir.UNAUTHENTICATED,this.clientId=g1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Xe(so,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Xe(so,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=O1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function xg(t,e){t.asyncQueue.verifyOperationInProgress(),Xe(so,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await CN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $$(t);Xe(so,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>lS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>lS(e.remoteStore,i))),t._onlineComponents=e}async function $$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Xe(so,"Using user provided OfflineComponentProvider");try{await xg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ue.FAILED_PRECONDITION||i.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Jo("Error using user provided cache. Falling back to memory cache: "+n),await xg(t,new T0)}}else Xe(so,"Using default OfflineComponentProvider"),await xg(t,new z$(void 0));return t._offlineComponents}async function qN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Xe(so,"Using user provided OnlineComponentProvider"),await pS(t,t._uninitializedComponentsProvider._online)):(Xe(so,"Using default OnlineComponentProvider"),await pS(t,new yv))),t._onlineComponents}function K$(t){return qN(t).then((e=>e.syncEngine))}async function Y$(t){const e=await qN(t),n=e.eventManager;return n.onListen=R$.bind(null,e.syncEngine),n.onUnlisten=M$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F$.bind(null,e.syncEngine),n}function J$(t,e,n={}){const r=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,d){const h=new q$({next:y=>{h.Nu(),l.enqueueAndForget((()=>T$(s,v)));const A=y.docs.has(c);!A&&y.fromCache?d.reject(new it(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&y.fromCache&&f&&f.source==="server"?d.reject(new it(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),v=new w$(A1(c.path),h,{includeMetadataChanges:!0,Ka:!0});return E$(s,v)})(await Y$(t),t.asyncQueue,e,n,r))),r.promise}function W$(t,e){const n=new Qs;return t.asyncQueue.enqueueAndForget((async()=>P$(await K$(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$="ComponentProvider",mS=new Map;function Q$(t,e,n,r,i){return new pq(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,jN(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="firestore.googleapis.com",gS=!0;class vS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$N,this.ssl=gS}else this.host=e.host,this.ssl=e.ssl??gS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tj)throw new it(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new it(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class H1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $z;switch(r.type){case"firstParty":return new Wz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new it(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=mS.get(n);r&&(Xe(X$,"Removing Datastore"),mS.delete(n),r.terminate())})(this),Promise.resolve()}}function Z$(t,e,n,r={}){var d;t=Tf(t,H1);const i=h1(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(xG(`https://${c}`),TG("Firestore",!0)),s.host!==$N&&s.host!==c&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!c0(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,v;if(typeof r.mockUserToken=="string")h=r.mockUserToken,v=Ir.MOCK_USER;else{h=yG(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new it(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ir(y)}t._authCredentials=new Kz(new Lb(h,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new G1(this.firestore,e,this._query)}}class cr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new If(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cr(this.firestore,e,this._key)}toJSON(){return{type:cr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Uf(n,cr._jsonSchema))return new cr(e,r||null,new lt(Cn.fromString(n.referencePath)))}}cr._jsonSchemaVersion="firestore/documentReference/1.0",cr._jsonSchema={type:Xn("string",cr._jsonSchemaVersion),referencePath:Xn("string")};class If extends G1{constructor(e,n,r){super(e,n,A1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cr(this.firestore,null,new lt(e))}withConverter(e){return new If(this.firestore,e,this._path)}}function KN(t,e,...n){if(t=u0(t),arguments.length===1&&(e=g1.newId()),nq("doc","path",e),t instanceof H1){const r=Cn.fromString(e,...n);return kA(r),new cr(t,null,new lt(r))}{if(!(t instanceof cr||t instanceof If))throw new it(Ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Cn.fromString(e,...n));return kA(r),new cr(t.firestore,t instanceof If?t.converter:null,new lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="AsyncQueue";class yS{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NN(this,"async_queue_retry"),this._c=()=>{const r=vg();r&&Xe(xS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ic(e))throw e;Xe(xS,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",_S(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=L1.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&dt(47125,{Pc:_S(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _S(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class z1 extends H1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yS(e),this._firestoreClient=void 0,await e}}}function eK(t,e){const n=typeof t=="object"?t:Cb(),r=typeof t=="string"?t:h0,i=bz(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=gG("firestore");s&&Z$(i,...s)}return i}function YN(t){if(t._terminated)throw new it(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tK(t),t._firestoreClient}function tK(t){var r,i,s,l;const e=t._freezeSettings(),n=Q$(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new j$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(Tr.fromBase64String(e))}catch(n){throw new it(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ki._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Uf(e,ki._jsonSchema))return ki.fromBase64String(e.bytes)}}ki._jsonSchemaVersion="firestore/bytes/1.0",ki._jsonSchema={type:Xn("string",ki._jsonSchemaVersion),bytes:Xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new it(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new it(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new it(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(e){if(Uf(e,Ea._jsonSchema))return new Ea(e.latitude,e.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:Xn("string",Ea._jsonSchemaVersion),latitude:Xn("number"),longitude:Xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ra._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Uf(e,ra._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ra(e.vectorValues);throw new it(Ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ra._jsonSchemaVersion="firestore/vectorValue/1.0",ra._jsonSchema={type:Xn("string",ra._jsonSchemaVersion),vectorValues:Xn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=/^__.*__$/;class rK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ol(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vf(e,this.data,n,this.fieldTransforms)}}function XN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:t})}}class q1{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new q1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return A0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(XN(this.dataSource)&&nK.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||K0(e)}createContext(e,n,r,i=!1){return new q1({dataSource:e,methodName:n,targetDoc:r,path:yr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aK(t){const e=t._freezeSettings(),n=K0(t._databaseId);return new iK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sK(t,e,n,r,i,s={}){const l=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);tI("Data must be an object, but it was:",l,r);const c=ZN(r,l);let f,d;if(s.merge)f=new Zi(l.fieldMask),d=l.fieldTransforms;else if(s.mergeFields){const h=[];for(const v of s.mergeFields){const y=j1(e,v,n);if(!l.contains(y))throw new it(Ue.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);cK(h,y)||h.push(y)}f=new Zi(h),d=l.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,d=l.fieldTransforms;return new rK(new Ri(c),f,d)}function QN(t,e){if(eI(t=u0(t)))return tI("Unsupported field value:",e,t),ZN(t,e);if(t instanceof WN)return(function(r,i){if(!XN(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=QN(c,i.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=u0(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=_n.fromDate(r);return{timestampValue:y0(i.serializer,s)}}if(r instanceof _n){const s=new _n(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:y0(i.serializer,s)}}if(r instanceof Ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:gN(i.serializer,r._byteString)};if(r instanceof cr){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ra)return(function(l,c){const f=l instanceof ra?l.toArray():l;return{mapValue:{fields:{[jb]:{stringValue:$b},[p0]:{arrayValue:{values:f.map((h=>{if(typeof h!="number")throw c.createError("VectorValues must only contain numeric values.");return S1(c.serializer,h)}))}}}}}})(r,i);if(AN(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${v1(r)}`)})(t,e)}function ZN(t,e){const n={};return Vb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,((r,i)=>{const s=QN(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function eI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _n||t instanceof Ea||t instanceof ki||t instanceof cr||t instanceof WN||t instanceof ra||AN(t))}function tI(t,e,n){if(!eI(n)||!Ob(n)){const r=v1(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function j1(t,e,n){if((e=u0(e))instanceof JN)return e._internalPath;if(typeof e=="string")return lK(t,e);throw A0("Field path arguments must be of type string or ",t,!1,void 0,n)}const oK=new RegExp("[~\\*/\\[\\]]");function lK(t,e,n){if(e.search(oK)>=0)throw A0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new JN(...e.split("."))._internalPath}catch{throw A0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function A0(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new it(Ue.INVALID_ARGUMENT,c+t+f)}function cK(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return al(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[p0].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>Vn(l.doubleValue)));return new ra(n)}convertGeoPoint(e){return new Ea(Vn(e.latitude),Vn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=B0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const n=no(e);return new _n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Cn.fromString(e);Zt(TN(r),9688,{name:e});const i=new wf(r.get(1),r.get(3)),s=new lt(r.popFirst(5));return i.isEqual(n)||ns(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK extends uK{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cr(this.firestore,null,n)}}const ES="@firebase/firestore",TS="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(j1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dK extends nI{data(){return super.data()}}function hK(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Bu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends nI{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(j1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Go._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:Xn("string",Go._jsonSchemaVersion),bundleSource:Xn("string","DocumentSnapshot"),bundleName:Xn("string"),bundle:Xn("string")};class Vh extends Go{data(e={}){return super.data(e)}}class rf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Vh(this._firestore,this._userDataWriter,r.key,r,new Bu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new it(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Vh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new Vh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Bu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return c.type!==0&&(d=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),h=l.indexOf(c.doc.key)),{type:pK(c.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=g1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rf._jsonSchemaVersion="firestore/querySnapshot/1.0",rf._jsonSchema={type:Xn("string",rf._jsonSchemaVersion),bundleSource:Xn("string","QuerySnapshot"),bundleName:Xn("string"),bundle:Xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t){t=Tf(t,cr);const e=Tf(t.firestore,z1),n=YN(e);return J$(n,t._key).then((r=>xK(e,t,r)))}function gK(t,e,n){t=Tf(t,cr);const r=Tf(t.firestore,z1),i=hK(t.converter,e),s=aK(r);return vK(r,[sK(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wa.none())])}function vK(t,e){const n=YN(t);return W$(n,e)}function xK(t,e,n){const r=n.docs.get(e._key),i=new fK(t);return new Go(t,i,e._key,r,new Bu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){jz(kz),f0(new yf("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new z1(new Yz(r.getProvider("auth-internal")),new Xz(l,r.getProvider("app-check-internal")),mq(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),uc(ES,TS,e),uc(ES,TS,"esm2020")})();const rI=()=>{const t=localStorage.getItem("firebase_config");return t?JSON.parse(t):{apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"}},yK=t=>{localStorage.setItem("firebase_config",JSON.stringify(t))},_K=()=>{localStorage.removeItem("firebase_config")};let yg,Rf;const iI=async t=>{try{const e=t||rI();return e?(Dz().length>0?yg=Cb():yg=wb(e),Rf=eK(yg),!0):!1}catch(e){return console.error("Error initializing Firebase:",e),!1}},AS=async(t,e,n,r,i=[])=>{if(Rf)try{const s={clients:t,products:e,categories:n,users:r,uploadedFiles:i,lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await gK(KN(Rf,"rota-vendas","master-data"),s)}catch(s){throw console.error("Error saving to cloud:",s),s}},EK=async()=>{if(!Rf)return null;try{const t=KN(Rf,"rota-vendas","master-data"),e=await mK(t);return e.exists()?e.data():null}catch(t){return console.error("Error loading from cloud:",t),null}};var _v=MS(),_g,SS;function TK(){return SS||(SS=1,_g=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var l=s[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}),_g}var AK=TK();const Ev=S0(AK);function SK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wK(t){var e=SK(t,"string");return typeof e=="symbol"?e:String(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function Xo(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const $a={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},CK="https://maps.googleapis.com/maps/api/js";class kf{static async load(e,n){var r;const i=e.libraries?e.libraries.split(","):[],s=this.serializeParams(e);this.listeners.push(n),(r=window.google)!=null&&(r=r.maps)!=null&&r.importLibrary?(this.serializedApiParams||(this.loadingStatus=$a.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=s,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==s&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const l=["maps",...i];await Promise.all(l.map(c=>google.maps.importLibrary(c)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const r=()=>n||(n=new Promise((i,s)=>{var l;const c=document.createElement("script"),f=new URLSearchParams;for(const[d,h]of Object.entries(e)){const v=d.replace(/[A-Z]/g,y=>"_"+y[0].toLowerCase());f.set(v,h)}f.set("loading","async"),f.set("callback","__googleMapsCallback__"),c.async=!0,c.src=CK+"?"+f.toString(),c.nonce=((l=document.querySelector("script[nonce]"))==null?void 0:l.nonce)||"",c.onerror=()=>{this.loadingStatus=$a.FAILED,this.notifyLoadingStatusListeners(),s(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=$a.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=$a.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=$a.LOADING,this.notifyLoadingStatusListeners(),document.head.append(c)}),n);google.maps.importLibrary=i=>r().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}kf.loadingStatus=$a.NOT_LOADED;kf.serializedApiParams=void 0;kf.listeners=[];const bK=["onLoad","apiKey","version","libraries"],NK=["children"],IK="GMP_visgl_rgmlibrary_v1_default",zf=Wn.createContext(null);function RK(){const[t,e]=de.useState({});return{mapInstances:t,addMapInstance:(s,l="default")=>{e(c=>Xa({},c,{[l]:s}))},removeMapInstance:(s="default")=>{e(l=>Xo(l,[s].map(wK)))},clearMapInstances:()=>{e({})}}}function kK(t){const{onLoad:e,apiKey:n,version:r,libraries:i=[]}=t,s=Xo(t,bK),[l,c]=de.useState(kf.loadingStatus),[f,d]=de.useReducer((A,S)=>Xa({},A,{[S.name]:S.value}),{}),h=de.useMemo(()=>i==null?void 0:i.join(","),[i]),v=de.useMemo(()=>JSON.stringify(Xa({apiKey:n,version:r},s)),[n,r,s]),y=de.useCallback(async A=>{var S;if(f[A])return f[A];if(!((S=google)!=null&&(S=S.maps)!=null&&S.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const w=await window.google.maps.importLibrary(A);return d({name:A,value:w}),w},[f]);return de.useEffect(()=>{(async()=>{try{const A=Xa({key:n},s);r&&(A.v=r),(h==null?void 0:h.length)>0&&(A.libraries=h),A.solutionChannel===void 0?A.solutionChannel=IK:A.solutionChannel===""&&delete A.solutionChannel,await kf.load(A,S=>c(S));for(const S of["core","maps",...i])await y(S);e&&e()}catch(A){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",A)}})()},[n,h,v]),{status:l,loadedLibraries:f,importLibrary:y}}const DK=t=>{const{children:e}=t,n=Xo(t,NK),{mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:l}=RK(),{status:c,loadedLibraries:f,importLibrary:d}=kK(n),h=de.useMemo(()=>({mapInstances:r,addMapInstance:i,removeMapInstance:s,clearMapInstances:l,status:c,loadedLibraries:f,importLibrary:d}),[r,i,s,l,c,f,d]);return Wn.createElement(zf.Provider,{value:h},e)};function MK(t,e){for(const n of OK){const r=e[n],i=aI[n];de.useEffect(()=>{if(!t||!r)return;const s=google.maps.event.addListener(t,i,l=>{r(FK(i,t,l))});return()=>s.remove()},[t,i,r])}}function FK(t,e,n){const r={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(PK.includes(t)){const s=r,l=e.getCenter(),c=e.getZoom(),f=e.getHeading()||0,d=e.getTilt()||0,h=e.getBounds();return(!l||!h||!Number.isFinite(c))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),s.detail={center:(l==null?void 0:l.toJSON())||{lat:0,lng:0},zoom:c||0,heading:f,tilt:d,bounds:(h==null?void 0:h.toJSON())||{north:90,east:180,south:-90,west:-180}},s}else if(LK.includes(t)){var i;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const s=r;return s.domEvent=n.domEvent,s.stoppable=!0,s.stop=()=>n.stop(),s.detail={latLng:((i=n.latLng)==null?void 0:i.toJSON())||null,placeId:n.placeId},s}return r}const aI={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},PK=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],LK=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],OK=Object.keys(aI);function sI(t,e){const n=de.useRef(void 0);(!n.current||!Ev(e,n.current))&&(n.current=e),de.useEffect(t,n.current)}const UK=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function VK(t,e){const n={},r=Object.keys(e);for(const i of r)UK.has(i)&&(n[i]=e[i]);sI(()=>{t&&t.setOptions(n)},[n])}function oI(){var t;return((t=de.useContext(zf))==null?void 0:t.status)||$a.NOT_LOADED}function BK(t,e){const{viewport:n,viewState:r}=e,i=!!n;return de.useLayoutEffect(()=>{if(!t||!r)return;const{latitude:s,longitude:l,bearing:c,pitch:f,zoom:d}=r;t.moveCamera({center:{lat:s,lng:l},heading:c,tilt:f,zoom:d+1})},[t,r]),i}function HK(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function lI(t){return HK(t)?t:t.toJSON()}function GK(t,e,n){const r=n.center?lI(n.center):null;let i=null,s=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(i=r.lat,s=r.lng);const l=Number.isFinite(n.zoom)?n.zoom:null,c=Number.isFinite(n.heading)?n.heading:null,f=Number.isFinite(n.tilt)?n.tilt:null;de.useLayoutEffect(()=>{if(!t)return;const d={};let h=!1;i!==null&&s!==null&&(e.current.center.lat!==i||e.current.center.lng!==s)&&(d.center={lat:i,lng:s},h=!0),l!==null&&e.current.zoom!==l&&(d.zoom=l,h=!0),c!==null&&e.current.heading!==c&&(d.heading=c,h=!0),f!==null&&e.current.tilt!==f&&(d.tilt=f,h=!0),h&&t.moveCamera(d)})}const zK=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Wn.createElement("div",{style:t},Wn.createElement("h2",null,"Error: AuthFailure"),Wn.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Wn.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function qK(){const[t,e]=de.useState(null),n=de.useCallback(r=>e(r),[e]);return[t,n]}function cI(){return oI()===$a.LOADED}function jK(){const[,t]=de.useReducer(e=>e+1,0);return t}function $K(t,e){const n=t.getCenter(),r=t.getZoom(),i=t.getHeading()||0,s=t.getTilt()||0,l=t.getBounds();(!n||!l||!Number.isFinite(r))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:i,tilt:s})}function KK(t){const e=jK(),n=de.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return de.useEffect(()=>{if(!t)return;const r=google.maps.event.addListener(t,"bounds_changed",()=>{$K(t,n),e()});return()=>r.remove()},[t,e]),n}const YK=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],JK=["padding"];class Bh{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}Bh.entries={};function WK(t,e){const n=cI(),[r,i]=de.useState(null),[s,l]=qK(),c=KK(r),{id:f,defaultBounds:d,defaultCenter:h,defaultZoom:v,defaultHeading:y,defaultTilt:A,reuseMaps:S}=t,w=Xo(t,YK),C=t.zoom!==void 0||t.defaultZoom!==void 0,O=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!C||!O)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!w.center&&h&&(w.center=h),!w.zoom&&Number.isFinite(v)&&(w.zoom=v),!w.heading&&Number.isFinite(y)&&(w.heading=y),!w.tilt&&Number.isFinite(A)&&(w.tilt=A);for(const D of Object.keys(w))w[D]===void 0&&delete w[D];const H=de.useRef();return de.useEffect(()=>{if(!s||!n)return;const{addMapInstance:D,removeMapInstance:z}=e,G=t.mapId,j=G||"default";let I,N;if(S&&Bh.has(j)?(N=Bh.pop(j),I=N.getDiv(),s.appendChild(I),N.setOptions(w),setTimeout(()=>N.setCenter(N.getCenter()),0)):(I=document.createElement("div"),I.style.height="100%",s.appendChild(I),N=new google.maps.Map(I,w)),i(N),D(N,f),d){const{padding:b}=d,P=Xo(d,JK);N.fitBounds(P,b)}else(!C||!O)&&N.fitBounds({east:180,west:-180,south:-90,north:90});if(H.current){const{mapId:b,cameraState:P}=H.current;b!==G&&N.setOptions(P)}return()=>{H.current={mapId:G,cameraState:c.current},I.remove(),S?Bh.push(j,N):google.maps.event.clearInstanceListeners(N),i(null),z(f)}},[s,n,f,t.mapId]),[r,l,c]}const uI=Wn.createContext(null),fI=t=>{const{children:e,id:n,className:r,style:i}=t,s=de.useContext(zf),l=oI();if(!s)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[c,f,d]=WK(t,s);GK(c,d,t),MK(c,t),VK(c,t);const h=BK(c,t),v=!!t.controlled;de.useEffect(()=>{if(c)return h&&c.setOptions({disableDefaultUI:!0}),(h||v)&&c.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{c.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[c,h,v,t.gestureHandling,t.keyboardShortcuts]);const y=t.center?lI(t.center):null;let A=null,S=null;y&&Number.isFinite(y.lat)&&Number.isFinite(y.lng)&&(A=y.lat,S=y.lng);const w=de.useMemo(()=>{var H,D,z,G,j;return{center:{lat:(H=A)!=null?H:0,lng:(D=S)!=null?D:0},zoom:(z=t.zoom)!=null?z:0,heading:(G=t.heading)!=null?G:0,tilt:(j=t.tilt)!=null?j:0}},[A,S,t.zoom,t.heading,t.tilt]);de.useLayoutEffect(()=>{if(!c||!v)return;c.moveCamera(w);const H=c.addListener("bounds_changed",()=>{c.moveCamera(w)});return()=>H.remove()},[c,v,w]);const C=de.useMemo(()=>Xa({width:"100%",height:"100%",position:"relative",zIndex:h?-1:0},i),[i,h]),O=de.useMemo(()=>({map:c}),[c]);return l===$a.AUTH_FAILURE?Wn.createElement("div",{style:Xa({position:"relative"},r?{}:C),className:r},Wn.createElement(zK,null)):Wn.createElement("div",Xa({ref:f,"data-testid":"map",style:r?void 0:C,className:r},n?{id:n}:{}),c?Wn.createElement(uI.Provider,{value:O},e):null)};fI.deckGLViewProps=!0;const wS=new Set;function XK(...t){const e=JSON.stringify(t);wS.has(e)||(wS.add(e),console.error(...t))}const kc=(t=null)=>{const e=de.useContext(zf),{map:n}=de.useContext(uI)||{};if(e===null)return XK("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=e;return t!==null?r[t]||null:n||r.default||null};function dI(t){const e=cI(),n=de.useContext(zf);return de.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function hI(t,e,n){if(e!=null&&typeof e!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const r=t.style;if(n==null){if(e==null)return;for(const i in e)e.hasOwnProperty(i)&&CS(r,i,e[i]);return}for(const i in n)n.hasOwnProperty(i)&&(e==null||!e.hasOwnProperty(i))&&(i.indexOf("--")===0?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="");if(e!=null)for(const i in e){const s=e[i];e.hasOwnProperty(i)&&n[i]!==s&&CS(r,i,s)}}function CS(t,e,n){const r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n=="number"&&n!==0&&!ZK(e)?t[e]=n+"px":e==="float"?t.cssFloat=n:t[e]=(""+n).trim()}const QK=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function ZK(t){return QK.has(t)}function nc(t,e,n){de.useEffect(()=>{if(!t||!e||!n)return;const r=google.maps.event.addListener(t,e,n);return()=>r.remove()},[t,e,n])}function Iu(t,e,n){de.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}const eY=Wn.createContext(null);function tY(t){const[e,n]=de.useState(null),[r,i]=de.useState(null),s=de.useRef(null),l=kc(),c=dI("marker"),{children:f,className:d,style:h,onClick:v,onDrag:y,onDragStart:A,onDragEnd:S,collisionBehavior:w,clickable:C,draggable:O,position:H,title:D,zIndex:z}=t,G=de.Children.count(f);return de.useEffect(()=>{if(!l||!c)return;const j=new c.AdvancedMarkerElement;j.map=l,n(j);let I=null;return G>0&&(I=document.createElement("div"),j.content=I,i(I)),()=>{var N;j.map=null,(N=I)==null||N.remove(),n(null),i(null)}},[l,c,G]),de.useEffect(()=>{!e||!e.content||(e.content.className=d||"")},[e,d]),Iu(r,"className",d??""),de.useEffect(()=>{r&&(hI(r,h||null,s.current),s.current=h||null)},[r,d,h]),Iu(e,"position",H),Iu(e,"title",D??""),Iu(e,"zIndex",z),Iu(e,"collisionBehavior",w),de.useEffect(()=>{e&&(O!==void 0?e.gmpDraggable=O:y||A||S?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,O,y,S,A]),de.useEffect(()=>{e&&(C!==void 0?e.gmpClickable=C:v?e.gmpClickable=!0:e.gmpClickable=!1)},[e,C,v]),nc(e,"click",v),nc(e,"drag",y),nc(e,"dragstart",A),nc(e,"dragend",S),[e,r]}de.forwardRef((t,e)=>{const{children:n}=t,[r,i]=tY(t),s=de.useMemo(()=>r?{marker:r}:null,[r]);return de.useImperativeHandle(e,()=>r,[r]),i?Wn.createElement(eY.Provider,{value:s},_v.createPortal(n,i)):null});const nY=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],rY=t=>{const{children:e,headerContent:n,style:r,className:i,pixelOffset:s,anchor:l,shouldFocus:c,onClose:f,onCloseClick:d}=t,h=Xo(t,nY),v=dI("maps"),[y,A]=de.useState(null),S=de.useRef(null),w=de.useRef(null);de.useEffect(()=>{if(!v)return;S.current=document.createElement("div"),w.current=document.createElement("div");const H=h;s&&(H.pixelOffset=new google.maps.Size(s[0],s[1])),n&&(H.headerContent=typeof n=="string"?n:w.current);const D=new google.maps.InfoWindow(h);return D.setContent(S.current),A(D),()=>{var z,G;D.setContent(null),(z=S.current)==null||z.remove(),(G=w.current)==null||G.remove(),S.current=null,w.current=null,A(null)}},[v]);const C=de.useRef(null);de.useEffect(()=>{!y||!S.current||(hI(S.current,r||null,C.current),C.current=r||null,i!==S.current.className&&(S.current.className=i||""))},[y,i,r]),sI(()=>{if(!y)return;const H=h;s?H.pixelOffset=new google.maps.Size(s[0],s[1]):H.pixelOffset=null,n?H.headerContent=typeof n=="string"?n:w.current:H.headerContent=null,y.setOptions(h)},[h,s,n]),nc(y,"close",f),nc(y,"closeclick",d);const O=kc();return de.useEffect(()=>{if(!O||!y||l===null)return;const H=!!l,D={map:O};return l&&(D.anchor=l),c!==void 0&&(D.shouldFocus=c),y.open(D),()=>{H&&y.set("anchor",null),y.close()}},[y,l,O,c]),Wn.createElement(Wn.Fragment,null,S.current&&_v.createPortal(e,S.current),w.current!==null&&_v.createPortal(n,w.current))},iY=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function aY(t){const[e,n]=de.useState(null),r=kc(),{onClick:i,onDrag:s,onDragStart:l,onDragEnd:c,onMouseOver:f,onMouseOut:d}=t,h=Xo(t,iY),{position:v,draggable:y}=h;return de.useEffect(()=>{if(!r){r===void 0&&console.error("<Marker> has to be inside a Map component.");return}const A=new google.maps.Marker(h);return A.setMap(r),n(A),()=>{A.setMap(null),n(null)}},[r]),de.useEffect(()=>{if(!e)return;const A=e,S=google.maps.event;return i&&S.addListener(A,"click",i),s&&S.addListener(A,"drag",s),l&&S.addListener(A,"dragstart",l),c&&S.addListener(A,"dragend",c),f&&S.addListener(A,"mouseover",f),d&&S.addListener(A,"mouseout",d),e.setDraggable(!!y),()=>{S.clearInstanceListeners(A)}},[e,y,i,s,l,c,f,d]),de.useEffect(()=>{e&&h&&e.setOptions(h)},[e,h]),de.useEffect(()=>{y||!v||!e||e.setPosition(v)},[y,v,e]),e}de.forwardRef((t,e)=>{const n=aY(t);return de.useImperativeHandle(e,()=>n,[n]),Wn.createElement(Wn.Fragment,null)});const bS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Eg=1,Ru=8;class $1{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=r>>4;if(i!==Eg)throw new Error(`Got v${i} data when expected v${Eg}.`);const s=bS[r&15];if(!s)throw new Error("Unrecognized array type.");const[l]=new Uint16Array(e,2,1),[c]=new Uint32Array(e,4,1);return new $1(c,l,s,e)}constructor(e,n=64,r=Float64Array,i){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const s=bS.indexOf(this.ArrayType),l=e*2*this.ArrayType.BYTES_PER_ELEMENT,c=e*this.IndexArrayType.BYTES_PER_ELEMENT,f=(8-c%8)%8;if(s<0)throw new Error(`Unexpected typed array class: ${r}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Ru,e),this.coords=new this.ArrayType(this.data,Ru+c+f,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Ru+l+c+f),this.ids=new this.IndexArrayType(this.data,Ru,e),this.coords=new this.ArrayType(this.data,Ru+c+f,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Eg<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Tv(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:l,nodeSize:c}=this,f=[0,s.length-1,0],d=[];for(;f.length;){const h=f.pop()||0,v=f.pop()||0,y=f.pop()||0;if(v-y<=c){for(let C=y;C<=v;C++){const O=l[2*C],H=l[2*C+1];O>=e&&O<=r&&H>=n&&H<=i&&d.push(s[C])}continue}const A=y+v>>1,S=l[2*A],w=l[2*A+1];S>=e&&S<=r&&w>=n&&w<=i&&d.push(s[A]),(h===0?e<=S:n<=w)&&(f.push(y),f.push(A-1),f.push(1-h)),(h===0?r>=S:i>=w)&&(f.push(A+1),f.push(v),f.push(1-h))}return d}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:l}=this,c=[0,i.length-1,0],f=[],d=r*r;for(;c.length;){const h=c.pop()||0,v=c.pop()||0,y=c.pop()||0;if(v-y<=l){for(let C=y;C<=v;C++)NS(s[2*C],s[2*C+1],e,n)<=d&&f.push(i[C]);continue}const A=y+v>>1,S=s[2*A],w=s[2*A+1];NS(S,w,e,n)<=d&&f.push(i[A]),(h===0?e-r<=S:n-r<=w)&&(c.push(y),c.push(A-1),c.push(1-h)),(h===0?e+r>=S:n+r>=w)&&(c.push(A+1),c.push(v),c.push(1-h))}return f}}function Tv(t,e,n,r,i,s){if(i-r<=n)return;const l=r+i>>1;pI(t,e,l,r,i,s),Tv(t,e,n,r,l-1,1-s),Tv(t,e,n,l+1,i,1-s)}function pI(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const d=i-r+1,h=n-r+1,v=Math.log(d),y=.5*Math.exp(2*v/3),A=.5*Math.sqrt(v*y*(d-y)/d)*(h-d/2<0?-1:1),S=Math.max(r,Math.floor(n-h*y/d+A)),w=Math.min(i,Math.floor(n+(d-h)*y/d+A));pI(t,e,n,S,w,s)}const l=e[2*n+s];let c=r,f=i;for(ku(t,e,r,n),e[2*i+s]>l&&ku(t,e,r,i);c<f;){for(ku(t,e,c,f),c++,f--;e[2*c+s]<l;)c++;for(;e[2*f+s]>l;)f--}e[2*r+s]===l?ku(t,e,r,f):(f++,ku(t,e,f,i)),f<=n&&(r=f+1),n<=f&&(i=f-1)}}function ku(t,e,n,r){Tg(t,n,r),Tg(e,2*n,2*r),Tg(e,2*n+1,2*r+1)}function Tg(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function NS(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const sY={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},IS=Math.fround||(t=>(e=>(t[0]=+e,t[0])))(new Float32Array(1)),Fo=2,Gs=3,Ag=4,Hs=5,mI=6;class oY{constructor(e){this.options=Object.assign(Object.create(sY),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");const s=`prepare ${e.length} points`;n&&console.time(s),this.points=e;const l=[];for(let f=0;f<e.length;f++){const d=e[f];if(!d.geometry)continue;const[h,v]=d.geometry.coordinates,y=IS(bh(h)),A=IS(Nh(v));l.push(y,A,1/0,f,-1,1),this.options.reduce&&l.push(0)}let c=this.trees[i+1]=this._createTree(l);n&&console.timeEnd(s);for(let f=i;f>=r;f--){const d=+Date.now();c=this.trees[f]=this._createTree(this._cluster(c,f)),n&&console.log("z%d: %d clusters in %dms",f,c.numItems,+Date.now()-d)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const l=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const v=this.getClusters([r,i,180,l],n),y=this.getClusters([-180,i,s,l],n);return v.concat(y)}const c=this.trees[this._limitZoom(n)],f=c.range(bh(r),Nh(l),bh(s),Nh(i)),d=c.data,h=[];for(const v of f){const y=this.stride*v;h.push(d[y+Hs]>1?RS(d,y,this.clusterProps):this.points[d[y+Gs]])}return h}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const l=s.data;if(n*this.stride>=l.length)throw new Error(i);const c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),f=l[n*this.stride],d=l[n*this.stride+1],h=s.within(f,d,c),v=[];for(const y of h){const A=y*this.stride;l[A+Ag]===e&&v.push(l[A+Hs]>1?RS(l,A,this.clusterProps):this.points[l[A+Gs]])}if(v.length===0)throw new Error(i);return v}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:l,radius:c}=this.options,f=c/l,d=(r-f)/s,h=(r+1+f)/s,v={features:[]};return this._addTileFeatures(i.range((n-f)/s,d,(n+1+f)/s,h),i.data,n,r,s,v),n===0&&this._addTileFeatures(i.range(1-f/s,d,1,h),i.data,s,r,s,v),n===s-1&&this._addTileFeatures(i.range(0,d,f/s,h),i.data,-1,r,s,v),v.features.length?v:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const l=this.getChildren(n);for(const c of l){const f=c.properties;if(f&&f.cluster?s+f.point_count<=i?s+=f.point_count:s=this._appendLeaves(e,f.cluster_id,r,i,s):s<i?s++:e.push(c),e.length===r)break}return s}_createTree(e){const n=new $1(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,l){for(const c of e){const f=c*this.stride,d=n[f+Hs]>1;let h,v,y;if(d)h=gI(n,f,this.clusterProps),v=n[f],y=n[f+1];else{const w=this.points[n[f+Gs]];h=w.properties;const[C,O]=w.geometry.coordinates;v=bh(C),y=Nh(O)}const A={type:1,geometry:[[Math.round(this.options.extent*(v*s-r)),Math.round(this.options.extent*(y*s-i))]],tags:h};let S;d||this.options.generateId?S=n[f+Gs]:S=this.points[n[f+Gs]].id,S!==void 0&&(A.id=S),l.features.push(A)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:i,reduce:s,minPoints:l}=this.options,c=r/(i*Math.pow(2,n)),f=e.data,d=[],h=this.stride;for(let v=0;v<f.length;v+=h){if(f[v+Fo]<=n)continue;f[v+Fo]=n;const y=f[v],A=f[v+1],S=e.within(f[v],f[v+1],c),w=f[v+Hs];let C=w;for(const O of S){const H=O*h;f[H+Fo]>n&&(C+=f[H+Hs])}if(C>w&&C>=l){let O=y*w,H=A*w,D,z=-1;const G=((v/h|0)<<5)+(n+1)+this.points.length;for(const j of S){const I=j*h;if(f[I+Fo]<=n)continue;f[I+Fo]=n;const N=f[I+Hs];O+=f[I]*N,H+=f[I+1]*N,f[I+Ag]=G,s&&(D||(D=this._map(f,v,!0),z=this.clusterProps.length,this.clusterProps.push(D)),s(D,this._map(f,I)))}f[v+Ag]=G,d.push(O/C,H/C,1/0,G,-1,C),s&&d.push(z)}else{for(let O=0;O<h;O++)d.push(f[v+O]);if(C>1)for(const O of S){const H=O*h;if(!(f[H+Fo]<=n)){f[H+Fo]=n;for(let D=0;D<h;D++)d.push(f[H+D])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Hs]>1){const l=this.clusterProps[e[n+mI]];return r?Object.assign({},l):l}const i=this.points[e[n+Gs]].properties,s=this.options.map(i);return r&&s===i?Object.assign({},s):s}}function RS(t,e,n){return{type:"Feature",id:t[e+Gs],properties:gI(t,e,n),geometry:{type:"Point",coordinates:[lY(t[e]),cY(t[e+1])]}}}function gI(t,e,n){const r=t[e+Hs],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,s=t[e+mI],l=s===-1?{}:Object.assign({},n[s]);return Object.assign(l,{cluster:!0,cluster_id:t[e+Gs],point_count:r,point_count_abbreviated:i})}function bh(t){return t/360+.5}function Nh(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function lY(t){return(t-.5)*360}function cY(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function uY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class hi{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Av{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(hi.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>hi.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(hi.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class fY{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return dY(e)}}const dY=t=>t.map(n=>new Av({position:hi.getPosition(n),markers:[n]}));class vI extends fY{constructor(e){var{maxZoom:n,radius:r=60}=e,i=uY(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new oY(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!Ev(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const i=this.markers.map(s=>{const l=hi.getPosition(s);return{type:"Feature",geometry:{type:"Point",coordinates:[l.lng(),l.lat()]},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Ev(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Av({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:e}});const i=r.marker;return new Av({markers:[i],position:hi.getPosition(i)})}}class hY{constructor(e,n){this.markers={sum:e.length};const r=n.map(s=>s.count),i=r.reduce((s,l)=>s+l,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class pY{render({count:e,position:n},r,i){const l=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,c=`Cluster of ${e} markers`,f=Number(google.maps.Marker.MAX_ZINDEX)+e;if(hi.isAdvancedMarkerAvailable(i)){const v=new DOMParser().parseFromString(l,"image/svg+xml").documentElement;v.setAttribute("transform","translate(0 25)");const y={map:i,position:n,zIndex:f,title:c,content:v};return new google.maps.marker.AdvancedMarkerElement(y)}const d={position:n,zIndex:f,title:c,icon:{url:`data:image/svg+xml;base64,${btoa(l)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function mY(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class K1{constructor(){mY(K1,google.maps.OverlayView)}}var af;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(af||(af={}));const gY=(t,e,n)=>{n.fitBounds(e.bounds)};class vY extends K1{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:i=new vI(r),renderer:s=new pY,onClusterClick:l=gY}){super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=l,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(hi.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,af.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const i=new Set;for(const l of n)l.markers.length==1&&i.add(l.markers[0]);const s=[];for(const l of this.clusters)l.marker!=null&&(l.markers.length==1?i.has(l.marker)||hi.setMap(l.marker,null):s.push(l.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>s.forEach(l=>hi.setMap(l,null)))}google.maps.event.trigger(this,af.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>hi.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new hY(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>hi.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,af.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),hi.setMap(r.marker,n)})}}const xY=({clients:t})=>{const e=kc(),n=de.useRef(0);return de.useEffect(()=>{if(!e||!window.google||t.length===0)return;if(Math.abs(t.length-n.current)>0){const i=new google.maps.LatLngBounds;let s=!1;if(t.forEach(l=>{l.lat&&l.lng&&(i.extend({lat:l.lat,lng:l.lng}),s=!0)}),s){e.fitBounds(i);const l=google.maps.event.addListenerOnce(e,"idle",()=>{e.getZoom()>16&&e.setZoom(16)});return n.current=t.length,()=>google.maps.event.removeListener(l)}}},[e,t]),null},yY=()=>{const t=kc();return t?T.jsxs("div",{className:"absolute bottom-6 right-4 flex flex-col gap-2 z-10 shadow-lg bg-transparent",children:[T.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)+1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom In",children:T.jsx(Cv,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>t.setZoom((t.getZoom()||0)-1),className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Zoom Out",children:T.jsx(ik,{className:"w-5 h-5"})})]}):null},_Y=t=>{switch(t){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},kS=t=>{let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);const n=(e&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n},EY=(t,e=[],n)=>{if(n)return{bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};const r=e.find(i=>i.id===t.salespersonId);return r?r.color?{bg:r.color,border:"black",glyph:"#fff"}:{bg:kS(r.id+r.name),border:"black",glyph:"#fff"}:t.ownerName?{bg:kS(t.ownerName),border:"black",glyph:"#fff"}:_Y(t.region)},TY=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,AY=({clients:t,onClientSelect:e,productFilterActive:n,users:r,isClusteringEnabled:i})=>{const s=kc(),l=de.useRef(null),c=de.useRef([]),f=de.useMemo(()=>{const d=document.createElement("div");return d.innerHTML=TY,d.style.display="flex",d.style.alignItems="center",d.style.justifyContent="center",d},[]);return de.useEffect(()=>{if(!s)return;if(!google.maps.marker){console.warn("Google Maps Marker library not loaded. Likely an invalid API Key.");return}l.current&&(l.current.clearMarkers(),l.current.setMap(null)),c.current.forEach(A=>{A.map=null,google.maps.event.clearInstanceListeners(A)}),c.current=[],i?l.current=new vY({map:s,markers:[],algorithm:new vI({maxZoom:13,radius:80})}):l.current=null;let d=!0,h=0;const v=500,y=()=>{if(!d||!google.maps.marker)return;const A=t.slice(h,h+v);if(A.length===0)return;const S=A.map(w=>{const C=EY(w,r,!!n);let O=null;n&&(O=f.cloneNode(!0),O.style.color=C.glyph);const H={background:C.bg,borderColor:C.border,glyphColor:C.glyph,scale:1};O&&(H.glyph=O);const D=new google.maps.marker.PinElement(H),z=new google.maps.marker.AdvancedMarkerElement({position:{lat:w.lat,lng:w.lng},content:D.element,map:i?null:s,title:w.companyName});return z.addListener("click",()=>{e(w.id)}),z});d&&(i&&l.current&&l.current.addMarkers(S),c.current.push(...S)),h+=v,h<t.length&&requestAnimationFrame(y)};return y(),()=>{d=!1,l.current&&(l.current.clearMarkers(),l.current.setMap(null)),c.current.forEach(A=>{A.map=null})}},[s,t,n,e,f,r,i]),T.jsx(xY,{clients:t})},SY=({clients:t,apiKey:e,onInvalidKey:n,productFilterActive:r,highlightProductTerm:i,activeProductCategory:s,users:l})=>{const c={lat:-14.235,lng:-51.9253},[f,d]=de.useState(null),[h,v]=de.useState(!1),[y,A]=de.useState(!1),[S,w]=de.useState(!0),C=t.find(z=>z.id===f);de.useEffect(()=>(e&&v(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),v(!0)},()=>{var G;window.gm_authFailure=()=>{};const z=document.getElementsByTagName("script");for(let j=z.length-1;j>=0;j--){const I=z[j];I.src&&I.src.includes("maps.googleapis.com/maps/api/js")&&((G=I.parentNode)==null||G.removeChild(I))}}),[e]);const O=de.useMemo(()=>{if(!(C!=null&&C.purchasedProducts))return[];const z=!!i,G=s&&s!=="Todos";if(!z&&!G)return C.purchasedProducts;const j=i?i.toLowerCase():"",I=s||"";return[...C.purchasedProducts].sort((N,b)=>{let P=0,M=0;return G&&N.category===I&&(P+=2),G&&b.category===I&&(M+=2),z&&((N.name.toLowerCase().includes(j)||N.sku.toLowerCase().includes(j)||N.brand.toLowerCase().includes(j)||N.factoryCode.toLowerCase().includes(j))&&(P+=1),(b.name.toLowerCase().includes(j)||b.sku.toLowerCase().includes(j)||b.brand.toLowerCase().includes(j)||b.factoryCode.toLowerCase().includes(j))&&(M+=1)),M-P})},[C,i,s]),H=()=>{A(!y)};if(!e)return T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:T.jsx(Jm,{className:"w-8 h-8"})}),T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),T.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[T.jsx(Jm,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(h)return T.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:T.jsx(Qa,{className:"w-8 h-8"})}),T.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),T.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),T.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[T.jsx(Jm,{className:"w-4 h-4"})," Trocar API Key"]})]});const D=y?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-xl overflow-hidden shadow-sm border border-gray-200 relative z-0";return T.jsx("div",{className:D,children:T.jsx(DK,{apiKey:e,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:T.jsxs(fI,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[T.jsx(AY,{clients:t,onClientSelect:d,productFilterActive:r,users:l,isClusteringEnabled:S}),T.jsx(yY,{}),T.jsxs("div",{className:"absolute top-4 right-16 flex gap-2 z-10",children:[T.jsx("button",{onClick:()=>w(!S),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${S?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:S?"Desativar Agrupamento":"Ativar Agrupamento",children:S?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex -space-x-1",children:[T.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),T.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):T.jsxs(T.Fragment,{children:[T.jsx(sf,{className:"w-3 h-3"}),"Solto"]})}),T.jsx("button",{onClick:H,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:y?"Sair da Tela Cheia":"Tela Cheia",children:y?T.jsx(nk,{className:"w-5 h-5"}):T.jsx(Q4,{className:"w-5 h-5"})})]}),C&&T.jsx(rY,{position:{lat:C.lat,lng:C.lng},onCloseClick:()=>d(null),headerContent:T.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[T.jsx(C0,{className:"w-4 h-4 text-blue-600"}),C.companyName]}),children:T.jsx("div",{className:"min-w-[200px] max-w-[280px] p-1",children:T.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[T.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[T.jsx(wv,{className:"w-3 h-3"}),C.city," - ",C.state," (",C.region,")"]}),T.jsxs("p",{className:"flex items-center gap-2",children:[T.jsx(ic,{className:"w-3 h-3 text-gray-400"}),T.jsx("span",{className:"font-medium text-gray-700",children:C.ownerName||"No informado"})]}),T.jsxs("p",{className:"flex items-center gap-2",children:[T.jsx(uk,{className:"w-3 h-3 text-gray-400"}),T.jsx("span",{className:"font-medium text-gray-700",children:C.contact||"Sem contato"})]}),T.jsxs("p",{className:"flex items-start gap-2",children:[T.jsx(sf,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),T.jsx("span",{className:"leading-tight",children:C.cleanAddress})]}),r&&O.length>0&&T.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[T.jsxs("p",{className:"text-[10px] uppercase font-bold text-rose-600 mb-1 flex items-center gap-1",children:[T.jsx(OS,{className:"w-3 h-3"}),"Produtos Vendidos (Filtro)"]}),T.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1 pr-1 custom-scrollbar",children:[O.slice(0,3).map((z,G)=>{const j=(i==null?void 0:i.toLowerCase())||"",I=j&&(z.name.toLowerCase().includes(j)||z.sku.toLowerCase().includes(j)||z.brand.toLowerCase().includes(j)||z.factoryCode.toLowerCase().includes(j));return T.jsxs("div",{className:`${I?"bg-rose-100 border-rose-300":"bg-rose-50 border-rose-100"} p-1.5 rounded border flex justify-between items-center transition-colors`,children:[T.jsxs("div",{className:"flex flex-col overflow-hidden max-w-[120px]",children:[T.jsx("span",{className:`truncate font-medium ${I?"text-rose-950 font-bold":"text-rose-900"}`,title:z.name,children:z.name}),T.jsxs("span",{className:"text-[9px] text-gray-500 truncate",children:[z.sku,"  ",z.brand]})]}),T.jsx("span",{className:"text-rose-700 font-bold",children:z.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},G)}),O.length>3&&T.jsxs("p",{className:"text-[10px] text-center text-gray-400 italic",children:["e mais ",O.length-3," itens..."]})]})]}),T.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[T.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[T.jsx(bv,{className:"w-3 h-3 mr-1"}),C.category.join(", ")]}),T.jsx("a",{href:C.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${C.lat},${C.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},wY=({client:t,isOpen:e,onClose:n,onSave:r})=>{const[i,s]=de.useState(()=>({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]}));if(Wn.useEffect(()=>{s({...t,category:Array.isArray(t.category)?t.category:typeof t.category=="string"?[t.category]:["Outros"]})},[t]),!e)return null;const l=f=>{f.preventDefault(),r(i),n()},c=f=>{const{name:d,value:h}=f.target;s(v=>{const y={[d]:h};return d==="state"&&(y.region=Nv(h)),{...v,...y}})};return T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:T.jsxs("div",{className:"bg-surface-container-high w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx(C0,{className:"w-5 h-5 text-primary"}),T.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),T.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),T.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:t.id})]}),T.jsx("button",{onClick:n,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",children:T.jsx(qo,{className:"w-6 h-6"})})]}),T.jsxs("form",{onSubmit:l,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),T.jsx("input",{type:"text",name:"companyName",value:i.companyName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),T.jsx("input",{type:"text",name:"ownerName",value:i.ownerName,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Contato"}),T.jsx("input",{type:"text",name:"contact",value:i.contact,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),T.jsxs("div",{className:"md:col-span-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),T.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:lf.filter(f=>f!=="Todos").map(f=>{const d=i.category.includes(f);return T.jsx("button",{type:"button",onClick:()=>{s(h=>{const v=h.category||[];return v.includes(f)?v.length===1?h:{...h,category:v.filter(y=>y!==f)}:{...h,category:[...v,f]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${d?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:f},f)})})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),T.jsxs("div",{className:"relative",children:[T.jsxs("select",{name:"region",value:i.region,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",children:[T.jsx("option",{value:"Indefinido",children:"Indefinido"}),b0.map(f=>T.jsx("option",{value:f,children:f},f))]}),T.jsx(wv,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Municpio"}),T.jsx("input",{type:"text",name:"city",value:i.city,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"UF"}),T.jsx("input",{type:"text",name:"state",maxLength:2,value:i.state,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all uppercase"})]})]}),T.jsxs("div",{className:"space-y-1 pt-2",children:[T.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),T.jsx("input",{type:"text",name:"cleanAddress",value:i.cleanAddress,onChange:c,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all"})]})]}),T.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[T.jsx("button",{type:"button",onClick:n,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),T.jsxs("button",{type:"submit",onClick:l,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[T.jsx(w0,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},CY=({isOpen:t,onClose:e,onAdd:n,salespersonId:r,ownerName:i})=>{const[s,l]=de.useState({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),[c,f]=de.useState(""),[d,h]=de.useState(!1);if(de.useEffect(()=>{t&&(l({companyName:"",ownerName:"",contact:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",originalAddress:"",cleanAddress:""}),f(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async S=>{},S=>{console.warn("Location access denied or error:",S)}))},[t]),!t)return null;const v=(S,w)=>{l(C=>{const O={[S]:w};return S==="state"&&(O.region=Nv(w)),{...C,...O}}),c&&f("")},y=S=>{l(w=>{const C=w.category;return C.includes(S)?C.length===1?w:{...w,category:C.filter(O=>O!==S)}:{...w,category:[...C,S]}})},A=S=>{if(S.preventDefault(),!s.companyName||!s.originalAddress||!s.city||!s.state||!s.contact){f("Por favor, preencha todos os campos obrigatrios (*).");return}h(!0);const w=`${s.originalAddress}, ${s.city} - ${s.state}`;n({companyName:s.companyName,ownerName:s.ownerName||"No Informado",contact:s.contact,category:s.category,region:s.region,state:s.state,city:s.city,originalAddress:w,salespersonId:r,googleMapsUri:""}),h(!1),e()};return T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[T.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[T.jsx(C0,{className:"w-5 h-5 text-primary"}),T.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),T.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),T.jsx("button",{onClick:e,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:T.jsx(qo,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:T.jsxs("form",{id:"add-client-form",onSubmit:A,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),T.jsx("input",{type:"text",required:!0,value:s.companyName,onChange:S=>v("companyName",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),T.jsx("input",{type:"text",value:s.ownerName,onChange:S=>v("ownerName",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),T.jsx("input",{type:"text",required:!0,value:s.contact,onChange:S=>v("contact",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),T.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:lf.filter(S=>S!=="Todos").map(S=>{const w=s.category.includes(S);return T.jsx("button",{type:"button",onClick:()=>y(S),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${w?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:S},S)})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),T.jsxs("div",{className:"relative",children:[T.jsx("select",{value:s.region,onChange:S=>v("region",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:b0.map(S=>T.jsx("option",{value:S,children:S},S))}),T.jsx(wv,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),T.jsx("input",{type:"text",required:!0,value:s.city,onChange:S=>v("city",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),T.jsxs("div",{className:"relative",children:[T.jsx("select",{required:!0,value:s.state,onChange:S=>v("state",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(S=>T.jsx("option",{value:S,children:S},S))}),T.jsx(sf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),T.jsx("textarea",{rows:2,required:!0,value:s.originalAddress,onChange:S=>v("originalAddress",S.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none resize-none transition-colors",placeholder:"Rua, Nmero, Bairro, CEP"}),T.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),c&&T.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[T.jsx(Qa,{className:"w-5 h-5"}),c]}),T.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:T.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[T.jsx(sf,{className:"w-4 h-4 shrink-0"}),T.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})})]})}),T.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[T.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),T.jsx("button",{type:"submit",disabled:d,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:d?"Salvando...":T.jsxs(T.Fragment,{children:[T.jsx(w0,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},bY=({clients:t,onUpdateClient:e,onAddClient:n,currentUserRole:r,currentUserId:i,currentUserName:s})=>{const[l,c]=de.useState(""),[f,d]=de.useState("Todos"),[h,v]=de.useState("Todos"),[y,A]=de.useState(null),[S,w]=de.useState(!1),[C,O]=de.useState(!1),H=de.useMemo(()=>t.filter(G=>{const j=G.companyName.toLowerCase().includes(l.toLowerCase())||G.ownerName.toLowerCase().includes(l.toLowerCase()),I=f==="Todos"||G.region===f,N=h==="Todos"||Array.isArray(G.category)&&G.category.some(b=>b.trim()===h.trim());return j&&I&&N}),[t,l,f,h]),D=()=>{const G=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","Link Maps"],j=H.map(k=>[k.id,k.companyName,k.ownerName,k.contact,k.cleanAddress,k.city,k.state,k.region,k.category.join("; "),k.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${k.lat},${k.lng}`]),I=k=>{if(k==null)return"";const U=String(k);return U.includes('"')||U.includes(",")||U.includes(`
`)?`"${U.replace(/"/g,'""')}"`:U},N=[G.join(","),...j.map(k=>k.map(I).join(","))].join(`
`),b=new Blob([`\uFEFF${N}`],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(b),M=document.createElement("a");M.setAttribute("href",P),M.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(M),M.click(),document.body.removeChild(M)},z=G=>{A(G),w(!0)};return T.jsxs("div",{className:"flex flex-col h-full bg-gray-50/50",children:[T.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 shadow-sm z-10",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex flex-wrap items-center gap-3 flex-1",children:[T.jsxs("div",{className:"relative group w-full md:w-64",children:[T.jsx(of,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),T.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",value:l,onChange:G=>c(G.target.value),className:"pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:bg-white focus:outline-none w-full transition-all"})]}),T.jsx("div",{className:"h-8 w-px bg-gray-200 hidden md:block"}),T.jsxs("select",{value:f,onChange:G=>d(G.target.value),className:"bg-gray-50 border border-gray-200 rounded-lg text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-100 transition-colors cursor-pointer",children:[T.jsx("option",{value:"Todos",children:"Todas Regies"}),b0.map(G=>T.jsx("option",{value:G,children:G},G))]}),T.jsx("select",{value:h,onChange:G=>v(G.target.value),className:"bg-gray-50 border border-gray-200 rounded-lg text-sm px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none hover:bg-gray-100 transition-colors cursor-pointer",children:lf.map(G=>T.jsx("option",{value:G,children:G==="Todos"?"Todos Segmentos":G},G))})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[r==="salesperson"&&n&&T.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95",children:[T.jsx(Cv,{className:"w-5 h-5"}),"Novo Cliente"]}),T.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 hover:text-green-600 hover:border-green-200 transition-all shadow-sm",title:"Baixar lista em Excel/CSV",children:[T.jsx(R4,{className:"w-4 h-4"}),T.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]})]})]}),T.jsxs("div",{className:"mt-2 text-xs text-gray-400 font-medium",children:["Exibindo ",H.length," de ",t.length," clientes"]})]}),T.jsx("div",{className:"overflow-x-auto bg-surface flex-1 custom-scrollbar relative p-4",children:H.length===0?T.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center text-on-surface-variant animate-fade-in",children:[T.jsx("div",{className:"bg-surface-container-highest p-4 rounded-full mb-3",children:T.jsx(of,{className:"w-8 h-8 opacity-50"})}),T.jsx("p",{className:"text-sm",children:"Nenhum cliente encontrado com os filtros atuais."})]}):T.jsx("div",{className:"grid gap-3 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:H.map(G=>T.jsxs("div",{className:"bg-surface-container-low border border-outline-variant/30 rounded-xl p-4 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 p-0",children:T.jsx("span",{className:`px-3 py-1 rounded-bl-xl text-[10px] font-bold uppercase tracking-wider
                        ${G.region==="Nordeste"?"bg-orange-100 text-orange-800":G.region==="Sudeste"?"bg-blue-100 text-blue-800":G.region==="Sul"?"bg-purple-100 text-purple-800":G.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:G.region})}),T.jsxs("div",{className:"flex items-start gap-4 pr-12",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:G.companyName.charAt(0).toUpperCase()}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",children:G.companyName}),T.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant mt-0.5",children:[T.jsx(bv,{className:"w-3 h-3"}),T.jsx("span",{className:"truncate",children:G.category.join(", ")})]})]})]}),T.jsxs("div",{className:"mt-4 space-y-2",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[T.jsx(C0,{className:"w-4 h-4 shrink-0"}),T.jsx("span",{className:"truncate",children:G.ownerName})]}),T.jsxs("a",{href:G.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${G.lat},${G.lng}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-start gap-2 text-sm text-on-surface-variant hover:text-primary transition-colors group/link",children:[T.jsx(sf,{className:"w-4 h-4 shrink-0 mt-0.5"}),T.jsx("span",{className:"line-clamp-2 group-hover/link:underline",children:G.cleanAddress}),T.jsx(D4,{className:"w-3 h-3 opacity-0 group-hover/link:opacity-100 transition-opacity ml-auto"})]})]}),T.jsx("div",{className:"mt-4 pt-3 border-t border-outline-variant/20 flex items-center justify-end gap-2",children:T.jsxs("button",{onClick:()=>z(G),className:"flex items-center gap-1 px-3 py-1.5 text-xs font-medium text-primary hover:bg-primary-container/30 rounded-full transition-colors",children:[T.jsx(ok,{className:"w-3.5 h-3.5"})," Editar"]})})]},G.id))})}),y&&T.jsx(wY,{isOpen:S,client:y,onClose:()=>w(!1),onSave:G=>{e(G),A(null)}}),n&&i&&T.jsx(CY,{isOpen:C,onClose:()=>O(!1),onAdd:n,salespersonId:i,ownerName:s||"Vendedor"})]})},NY=({users:t,onLogin:e})=>{const[n,r]=de.useState("login"),[i,s]=de.useState(""),[l,c]=de.useState(""),[f,d]=de.useState(""),[h,v]=de.useState(""),[y,A]=de.useState(""),[S,w]=de.useState(""),[C,O]=de.useState(!1),H=I=>{I.preventDefault();const N=t.find(b=>b.username.toLowerCase()===i.toLowerCase());N&&N.password===l?e(N):d("Credenciais invlidas. Tente novamente.")},D=()=>{d(""),w(""),v(""),A("")},z=I=>{D(),r(I)},G=async I=>{I.preventDefault(),d(""),O(!0),await new Promise(b=>setTimeout(b,1500));const N=t.find(b=>{var P;return((P=b.email)==null?void 0:P.toLowerCase())===h.toLowerCase()});w(N?`Seu usurio foi enviado para: ${h}`:"Se este e-mail estiver cadastrado, voc receber seu usurio em breve."),O(!1)},j=async I=>{I.preventDefault(),d(""),O(!0),await new Promise(b=>setTimeout(b,1500));const N=t.find(b=>{var P;return b.username.toLowerCase()===y.toLowerCase()||((P=b.email)==null?void 0:P.toLowerCase())===y.toLowerCase()});N&&N.email?w(`Instrues de redefinio enviadas para: ${N.email}`):w("Se os dados estiverem corretos, enviamos as instrues para o seu e-mail de cadastro."),O(!1)};return T.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[T.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),T.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[T.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[n!=="login"&&T.jsx("button",{onClick:()=>z("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:T.jsx(h4,{className:"w-6 h-6"})}),T.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:T.jsx(gk,{className:"w-7 h-7 text-white"})}),T.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),T.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),T.jsxs("div",{className:"p-8 space-y-6",children:[n==="login"&&T.jsxs("form",{onSubmit:H,className:"space-y-6 pt-2 animate-fade-in",children:[T.jsx("div",{className:"text-center pb-2",children:T.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),T.jsxs("div",{className:"relative",children:[T.jsx(ic,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"text",value:i,onChange:I=>s(I.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),T.jsx("div",{className:"text-right mt-1",children:T.jsx("button",{type:"button",onClick:()=>z("forgot_user"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci o usurio"})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),T.jsxs("div",{className:"relative",children:[T.jsx(wg,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"password",value:l,onChange:I=>c(I.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),T.jsx("div",{className:"text-right mt-1",children:T.jsx("button",{type:"button",onClick:()=>z("forgot_pass"),className:"text-[10px] text-blue-500 hover:text-blue-700 font-medium",children:"Esqueci a senha"})})]})]}),f&&T.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[T.jsx(Qa,{className:"w-4 h-4 flex-shrink-0"}),f]}),T.jsxs("button",{type:"submit",className:"w-full bg-slate-800 hover:bg-slate-900 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:["Entrar ",T.jsx(m4,{className:"w-4 h-4"})]})]}),n==="forgot_user"&&T.jsxs("div",{className:"animate-fade-in space-y-6",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(ic,{className:"w-8 h-8 text-blue-600"})}),T.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recuperar Usurio"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu e-mail cadastrado. Enviaremos seu nome de usurio para ele."})]}),S?T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[T.jsx(Hh,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),T.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"E-mail Enviado!"}),T.jsx("p",{className:"text-sm text-green-700",children:S}),T.jsx("button",{onClick:()=>z("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):T.jsxs("form",{onSubmit:G,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"E-mail Cadastrado"}),T.jsxs("div",{className:"relative",children:[T.jsx(K4,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"email",required:!0,value:h,onChange:I=>v(I.target.value),placeholder:"exemplo@empresa.com",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),T.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Recuperar Usurio",!C&&T.jsx(bE,{className:"w-4 h-4"})]})]})]}),n==="forgot_pass"&&T.jsxs("div",{className:"animate-fade-in space-y-6",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"bg-orange-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(wg,{className:"w-8 h-8 text-orange-600"})}),T.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Redefinir Senha"}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Informe seu usurio ou e-mail. Enviaremos as instrues de redefinio."})]}),S?T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6 text-center animate-fade-in",children:[T.jsx(Hh,{className:"w-10 h-10 text-green-500 mx-auto mb-3"}),T.jsx("h4",{className:"text-green-800 font-bold mb-2",children:"Sucesso!"}),T.jsx("p",{className:"text-sm text-green-700",children:S}),T.jsx("button",{onClick:()=>z("login"),className:"mt-4 text-sm font-bold text-green-700 hover:text-green-900 underline",children:"Voltar para o Login"})]}):T.jsxs("form",{onSubmit:j,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio ou E-mail"}),T.jsxs("div",{className:"relative",children:[T.jsx(ic,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),T.jsx("input",{type:"text",required:!0,value:y,onChange:I=>A(I.target.value),placeholder:"Digite seu usurio ou email",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),T.jsxs("button",{type:"submit",disabled:C,className:"w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md disabled:opacity-70 disabled:cursor-wait",children:[C?"Enviando...":"Enviar Instrues",!C&&T.jsx(bE,{className:"w-4 h-4"})]})]})]})]})]})]})},IY=({users:t,onAddUser:e,onUpdateUser:n,onDeleteUser:r,onCleanupDuplicates:i,totalClients:s})=>{const[l,c]=de.useState(null),[f,d]=de.useState(""),[h,v]=de.useState(""),[y,A]=de.useState(""),[S,w]=de.useState("salesperson"),[C,O]=de.useState("Externo"),[H,D]=de.useState("#3B82F6"),[z,G]=de.useState("Todos"),j=()=>{c(null),d(""),v(""),A(""),w("salesperson"),O("Externo"),D("#3B82F6")},I=M=>{c(M.id),d(M.name),v(M.username),A(M.password||""),w(M.role),O(M.salesCategory||"N/A"),D(M.color||"#3B82F6"),window.scrollTo({top:0,behavior:"smooth"})},N=M=>{if(M.preventDefault(),!f||!h||!y)return;const k={id:l||Date.now().toString(),name:f,username:h,role:S,password:y,salesCategory:S==="salesperson"?C:"N/A",color:S==="salesperson"?H:void 0};l?n(k):e(k),j()},b=t.filter(M=>z==="Todos"?!0:M.role==="admin"?!1:M.salesCategory===z),P=["Todos","Externo","Interno","Mercado Livre"];return T.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[T.jsxs("div",{className:`bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 transition-all border ${l?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${l?"text-primary":"text-on-surface"}`,children:[l?T.jsx(Wm,{className:"w-5 h-5"}):T.jsx(IE,{className:"w-5 h-5 text-primary"}),l?"Editar Usurio":"Cadastrar Novo Usurio"]}),l&&T.jsxs("button",{onClick:j,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[T.jsx(qo,{className:"w-4 h-4"})," Cancelar Edio"]})]}),T.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"lg:col-span-2",children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),T.jsx("input",{type:"text",value:f,onChange:M=>d(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),T.jsx("input",{type:"text",value:h,onChange:M=>v(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),T.jsx("input",{type:"text",value:y,onChange:M=>A(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),T.jsxs("select",{value:S,onChange:M=>w(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[T.jsx("option",{value:"salesperson",children:"Vendedor"}),T.jsx("option",{value:"admin",children:"Administrador"})]})]}),S==="salesperson"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),T.jsxs("select",{value:C,onChange:M=>O(M.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[T.jsx("option",{value:"Externo",children:"Externo"}),T.jsx("option",{value:"Interno",children:"Interno"}),T.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),T.jsxs("div",{className:"animate-fade-in",children:[T.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"color",value:H,onChange:M=>D(M.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),T.jsx("input",{type:"text",value:H,onChange:M=>D(M.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),T.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:T.jsxs("button",{type:"submit",disabled:!f||!h||!y,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${l?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[l?T.jsx(w0,{className:"w-4 h-4"}):T.jsx(IE,{className:"w-4 h-4"}),l?"Salvar Alteraes":"Criar Acesso"]})})]})]}),T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 overflow-hidden",children:[T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[T.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[T.jsx(ic,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",b.length,")"]}),T.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[T.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[T.jsx(Qa,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),T.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",T.jsx("strong",{children:s}),s>143&&T.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),T.jsxs("button",{onClick:i,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[T.jsx(Qa,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),T.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:P.map(M=>T.jsx("button",{onClick:()=>G(M),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${z===M?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:M},M))})]}),T.jsx("div",{className:"hidden md:block overflow-x-auto",children:T.jsxs("table",{className:"w-full text-sm text-left",children:[T.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),T.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),T.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),T.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[b.map(M=>T.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${l===M.id?"bg-primary-container/30":""}`,children:[T.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:M.name}),T.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:M.username}),T.jsx("td",{className:"px-6 py-4",children:T.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${M.role==="admin"?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:M.role==="admin"?"Admin":"Vendedor"})}),T.jsx("td",{className:"px-6 py-4",children:M.role==="salesperson"?T.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[T.jsx(PS,{className:"w-3.5 h-3.5"}),M.salesCategory||"N/A"]}):T.jsx("span",{className:"text-outline-variant",children:"-"})}),T.jsx("td",{className:"px-6 py-4",children:M.role==="salesperson"&&M.color?T.jsx("div",{className:"flex items-center gap-2",title:M.color,children:T.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:M.color}})}):T.jsx("span",{className:"text-outline-variant",children:"-"})}),T.jsx("td",{className:"px-6 py-4 text-right",children:T.jsxs("div",{className:"flex items-center justify-end gap-2",children:[T.jsx("button",{onClick:()=>I(M),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:T.jsx(Wm,{className:"w-4 h-4"})}),M.username!=="admin"&&T.jsx("button",{onClick:()=>r(M.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:T.jsx(zo,{className:"w-4 h-4"})})]})})]},M.id)),b.length===0&&T.jsx("tr",{children:T.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),T.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[b.map(M=>T.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${l===M.id?"bg-primary-container/30 border-primary/30":""}`,children:[T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-bold text-on-surface",children:M.name}),T.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",M.username]})]}),T.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${M.role==="admin"?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:M.role==="admin"?"Admin":"Vendedor"})]}),T.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[T.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[T.jsx("span",{children:"Categoria:"}),T.jsx("span",{className:"font-medium text-on-surface",children:M.salesCategory||"-"})]}),T.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[T.jsx("span",{children:"Senha:"}),T.jsx("span",{className:"font-mono",children:M.password||"***"})]})]}),T.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[T.jsxs("button",{onClick:()=>I(M),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[T.jsx(Wm,{className:"w-3.5 h-3.5"})," Editar"]}),M.username!=="admin"&&T.jsxs("button",{onClick:()=>r(M.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[T.jsx(zo,{className:"w-3.5 h-3.5"})," Remover"]})]})]},M.id)),b.length===0&&T.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},RY=({categories:t,onAddCategory:e,onDeleteCategory:n})=>{const[r,i]=de.useState(""),s=l=>{l.preventDefault(),r.trim()&&(e(r.trim()),i(""))};return T.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[T.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[T.jsx(LS,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),T.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),T.jsxs("form",{onSubmit:s,className:"flex gap-3 mb-8",children:[T.jsxs("div",{className:"relative flex-1",children:[T.jsx(bv,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),T.jsx("input",{type:"text",value:r,onChange:l=>i(l.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),T.jsxs("button",{type:"submit",disabled:!r.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[T.jsx(Cv,{className:"w-4 h-4"})," Adicionar"]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[t.map(l=>T.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[T.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[T.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),l]}),T.jsx("button",{onClick:()=>n(l),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:T.jsx(zo,{className:"w-4 h-4"})})]},l)),t.length===0&&T.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},kY=({products:t,onUploadProducts:e,onClearProducts:n,onSaveProducts:r,apiKey:i})=>{const[s,l]=de.useState(!1),[c,f]=de.useState(""),[d,h]=de.useState(!1),[v,y]=de.useState({current:0,total:0}),[A,S]=de.useState([]),[w,C]=de.useState(null),[O,H]=de.useState(!1);de.useEffect(()=>{S(t),H(!1)},[t]);const D=async k=>{var Te;const U=(Te=k.target.files)==null?void 0:Te[0];if(U){l(!0);try{let Ae=[];const ae=U.name.toLowerCase();if(ae.endsWith(".csv"))Ae=await GS(U);else if(ae.endsWith(".xlsx")||ae.endsWith(".xls"))Ae=await SC(U);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");e(Ae),k.target.value=""}catch(Ae){console.error("Error parsing products:",Ae),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{l(!1)}}},z=()=>{r&&(r(A),H(!1),alert("Alteraes salvas com sucesso!"))},G=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(A.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${A.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){h(!0),y({current:0,total:A.length});try{const k=await aG(A,i,(U,Te)=>{y({current:U,total:Te})});S(k),H(!0),alert(` ${k.length} produtos foram categorizados pela IA!`)}catch(k){console.error("AI Categorization failed",k),alert(`Erro ao categorizar produtos: ${k.message||"Erro desconhecido"}`)}finally{h(!1),y({current:0,total:0})}}},j=(k,U,Te)=>{const Ae=[...A];Ae[k]={...Ae[k],[U]:Te},S(Ae),H(!0)},I=k=>{let U="asc";w&&w.key===k&&w.direction==="asc"&&(U="desc"),C({key:k,direction:U})},N=k=>w?[...k].sort((U,Te)=>{let Ae=U[w.key],ae=Te[w.key];return w.key==="price"||w.key==="discount"?(Ae=Number(Ae||0),ae=Number(ae||0)):(Ae=String(Ae||"").toLowerCase(),ae=String(ae||"").toLowerCase()),Ae<ae?w.direction==="asc"?-1:1:Ae>ae?w.direction==="asc"?1:-1:0}):k,b=A.map((k,U)=>({...k,originalIndex:U})).filter(k=>k.name.toLowerCase().includes(c.toLowerCase())||k.sku.toLowerCase().includes(c.toLowerCase())||k.brand.toLowerCase().includes(c.toLowerCase())||k.factoryCode.toLowerCase().includes(c.toLowerCase())),P=N(b),M=({column:k})=>(w==null?void 0:w.key)!==k?T.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):w.direction==="asc"?T.jsx(v4,{className:"w-3 h-3 ml-1 inline-block text-primary"}):T.jsx(f4,{className:"w-3 h-3 ml-1 inline-block text-primary"});return T.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[T.jsxs("div",{className:"bg-surface-container-high rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[T.jsxs("div",{children:[T.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[T.jsx(rc,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),T.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),T.jsxs("div",{className:"flex gap-3",children:[O&&T.jsxs("button",{onClick:z,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[T.jsx(w0,{className:"w-4 h-4"})," Salvar Alteraes"]}),t.length>0&&T.jsxs("button",{onClick:G,disabled:d,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?T.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):T.jsx(NE,{className:"w-4 h-4"}),d?"Processando...":"IA Classificar"]}),t.length>0&&T.jsxs("button",{onClick:n,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[T.jsx(zo,{className:"w-4 h-4"})," Limpar"]}),T.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${s?"opacity-50 pointer-events-none":""}`,children:[s?T.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):T.jsx(bk,{className:"w-4 h-4"}),s?"Processando...":"Importar CSV",T.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:D})]})]})]}),t.length===0?T.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[T.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:T.jsx(Ih,{className:"w-8 h-8 text-outline"})}),T.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),T.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):T.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[T.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[T.jsx(of,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),T.jsx("input",{type:"text",value:c,onChange:k=>f(k.target.value),placeholder:"Filtrar por SKU, Marca, Cdigo ou Descrio...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),T.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:T.jsxs("table",{className:"w-full text-sm text-left",children:[T.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:T.jsxs("tr",{children:[T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>I("sku"),children:["SKU ",T.jsx(M,{column:"sku"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("brand"),children:["Marca ",T.jsx(M,{column:"brand"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("factoryCode"),children:["Cd. Fbrica ",T.jsx(M,{column:"factoryCode"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>I("name"),children:["Descrio ",T.jsx(M,{column:"name"})]}),T.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>I("category"),children:["Categoria ",T.jsx(M,{column:"category"})]}),T.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>I("price"),children:["Preo (R$) ",T.jsx(M,{column:"price"})]}),T.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>I("discount"),children:["Desc. (%) ",T.jsx(M,{column:"discount"})]})]})}),T.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:P.map(k=>T.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[T.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:k.sku}),T.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs",children:k.brand}),T.jsx("td",{className:"px-4 py-2 font-mono text-xs text-on-surface-variant",children:k.factoryCode}),T.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:k.name,children:k.name}),T.jsx("td",{className:"px-2 py-2",children:T.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.category,onChange:U=>j(k.originalIndex,"category",U.target.value)})}),T.jsx("td",{className:"px-2 py-2 text-right",children:T.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.price,onChange:U=>j(k.originalIndex,"price",parseFloat(U.target.value)||0)})}),T.jsx("td",{className:"px-2 py-2 text-right",children:T.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:k.discount||0,onChange:U=>j(k.originalIndex,"discount",parseFloat(U.target.value)||0)})})]},`${k.sku}-${k.originalIndex}`))})]})}),T.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[P.map(k=>T.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:k.sku}),T.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:k.name}),T.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:k.brand})]}),T.jsx("div",{className:"text-right",children:T.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:k.factoryCode})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Categoria"}),T.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:k.category,onChange:U=>j(k.originalIndex,"category",U.target.value)})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),T.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:k.discount||0,onChange:U=>j(k.originalIndex,"discount",parseFloat(U.target.value)||0)})]})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),T.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:k.price,onChange:U=>j(k.originalIndex,"price",parseFloat(U.target.value)||0)})]})]},`${k.sku}-${k.originalIndex}`)),P.length===0&&T.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),T.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[T.jsxs("span",{children:["Total de Produtos: ",T.jsx("strong",{children:A.length})]}),T.jsxs("span",{children:["Exibindo: ",T.jsx("strong",{children:P.length})]})]})]})]}),d&&T.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[T.jsx(NE,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),T.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&h(!1)},className:"text-on-surface-variant hover:text-on-surface",children:T.jsx(qo,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[T.jsx("span",{children:"Processando produtos..."}),T.jsxs("span",{className:"font-mono font-bold text-primary",children:[v.current," / ",v.total]})]}),T.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${v.current/v.total*100}%`}})}),T.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},DY=({isOpen:t,onClose:e,onSaveToCloud:n,onClearDatabase:r,isFirebaseConnected:i=!1})=>{const[s,l]=de.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[c,f]=de.useState("idle"),[d,h]=de.useState("");de.useEffect(()=>{if(t){const S=rI();S&&(l(S),f("success"),h("Configurao salva encontrada."))}},[t]);const v=S=>{l({...s,[S.target.name]:S.target.value}),f("idle"),h("")},y=async()=>{if(f("testing"),h("Testando conexo..."),!s.apiKey||!s.projectId){f("error"),h("Campos obrigatrios faltando.");return}try{await iI(s)?(yK(s),f("success"),h("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(f("error"),h("Falha ao conectar. Verifique as credenciais."))}catch(S){f("error"),h("Erro: "+S.message)}},A=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(_K(),l({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),f("idle"),h("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return t?T.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:T.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden",children:[T.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:T.jsx(Sg,{className:"w-5 h-5"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-bold",children:"Configurao de Nuvem"}),T.jsx("p",{className:"text-xs text-slate-400",children:"Sincronizao via Firebase Firestore"})]})]}),T.jsx("button",{onClick:e,className:"text-white/50 hover:text-white",children:""})]}),T.jsxs("div",{className:"p-6 space-y-4",children:[T.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-blue-50 p-3 rounded border border-blue-100",children:["Insira os dados do seu projeto Firebase. Voc pode encontrar isso no Console do Firebase ",">"," Configuraes do Projeto ",">"," Seus aplicativos."]}),T.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[T.jsx("input",{type:"text",name:"apiKey",placeholder:"apiKey",value:s.apiKey,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"authDomain",placeholder:"authDomain",value:s.authDomain,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"projectId",placeholder:"projectId",value:s.projectId,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"storageBucket",placeholder:"storageBucket",value:s.storageBucket,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"messagingSenderId",placeholder:"messagingSenderId",value:s.messagingSenderId,onChange:v,className:"text-xs p-2 border rounded"}),T.jsx("input",{type:"text",name:"appId",placeholder:"appId",value:s.appId,onChange:v,className:"text-xs p-2 border rounded"})]}),d&&T.jsxs("div",{className:`text-xs p-2 rounded flex items-center gap-2 ${c==="error"?"bg-red-50 text-red-600":c==="success"?"bg-green-50 text-green-600":"bg-gray-50 text-gray-600"}`,children:[c==="testing"&&T.jsx(Gu,{className:"w-3 h-3 animate-spin"}),c==="success"&&T.jsx(Hh,{className:"w-3 h-3"}),d]})]}),i&&n&&r&&T.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[T.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-3",children:"Aes da Nuvem"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("button",{onClick:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[T.jsx(Sg,{className:"w-4 h-4"}),"Salvar na Nuvem"]}),T.jsxs("button",{onClick:r,className:"flex-1 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[T.jsx(zo,{className:"w-4 h-4"}),"Limpar Base"]})]})]}),T.jsxs("div",{className:"p-4 bg-gray-50 border-t flex justify-end gap-2",children:[c==="success"&&T.jsxs("button",{onClick:A,className:"px-4 py-2 text-red-500 text-xs font-bold hover:bg-red-50 rounded transition-colors mr-auto flex items-center gap-1",children:[T.jsx(zo,{className:"w-3 h-3"})," Desconectar"]}),T.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 font-medium text-sm hover:bg-gray-200 rounded-lg",children:"Cancelar"}),T.jsx("button",{onClick:y,disabled:c==="testing",className:"px-6 py-2 bg-purple-600 text-white font-bold rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:c==="testing"?"Verificando...":"Salvar e Conectar"})]})]})}):null},MY=({onAccept:t,onDecline:e})=>{const[n,r]=de.useState(!1);de.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const c=setTimeout(()=>r(!0),1500);return()=>clearTimeout(c)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),r(!1),t()},s=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),r(!1),e()};return n?T.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 p-4 animate-slide-up",children:T.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-xl p-6 flex flex-col md:flex-row items-center justify-between gap-6",children:[T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsx("div",{className:"bg-blue-100 p-3 rounded-full text-blue-600 shrink-0",children:T.jsx(N4,{className:"w-6 h-6"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:"Este site utiliza cookies e armazenamento local"}),T.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Ns armazenamos dados no seu navegador para garantir que o sistema carregue instantaneamente na prxima vez que voc acessar (cache offline). Isso permite que voc trabalhe mais rpido e at mesmo sem internet."})]})]}),T.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[T.jsx("button",{onClick:s,className:"flex-1 md:flex-none px-4 py-2.5 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Agora no"}),T.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-6 py-2.5 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-lg hover:shadow-blue-500/30 transition-all flex items-center justify-center gap-2",children:[T.jsx(Hh,{className:"w-4 h-4"}),"Permitir Cache Rpido"]})]})]})}):null},FY=({users:t,uploadedFiles:e,onUploadClients:n,onUploadProducts:r,onDeleteFile:i,onReassignSalesperson:s,procState:l={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,f]=de.useState("clients"),[d,h]=de.useState(""),[v,y]=de.useState([]),A=D=>{if(D.target.files&&D.target.files.length>0){const z=Array.from(D.target.files).map(G=>({file:G,targetUserId:d||""}));y(G=>[...G,...z]),D.target.value=""}},S=D=>{y(z=>z.filter((G,j)=>j!==D))},w=(D,z)=>{y(G=>{const j=[...G];return j[D].targetUserId=z,j})},C=async()=>{const D=v.filter(z=>z.targetUserId);if(D.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const z of D)await n(z.file,z.targetUserId,!0);y([])},O=D=>{var G;const z=(G=D.target.files)==null?void 0:G[0];z&&(r(z),D.target.value="")},H=e.filter(D=>D.type===c);return T.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[T.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:T.jsxs("div",{children:[T.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[T.jsx(Gh,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),T.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),T.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[T.jsxs("button",{onClick:()=>f("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[T.jsx(Cg,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&T.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),T.jsxs("button",{onClick:()=>f("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[T.jsx(rc,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&T.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),(l==null?void 0:l.isActive)&&T.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${l.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[l.status==="processing"||l.status==="reading"?T.jsx(Gu,{className:"w-5 h-5 animate-spin"}):l.status==="completed"?T.jsx(Hu,{className:"w-5 h-5"}):T.jsx(Qa,{className:"w-5 h-5"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-bold text-sm",children:l.status==="reading"?"Lendo arquivo...":l.status==="processing"?"Processando dados...":l.status==="completed"?"Importao Concluda!":"Erro na Importao"}),l.errorMessage&&T.jsx("p",{className:"text-xs mt-1 opacity-80",children:l.errorMessage})]})]}),T.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[T.jsx("div",{className:"lg:col-span-4",children:T.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[T.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[T.jsx(LY,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?T.jsxs("div",{className:"space-y-5",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),T.jsxs("div",{className:"relative",children:[T.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:D=>h(D.target.value),children:[T.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),t.filter(D=>D.role==="salesperson").map(D=>T.jsx("option",{value:D.id,children:D.name},D.id))]}),T.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:T.jsx(PY,{className:"w-4 h-4"})})]})]}),v.length>0&&T.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[T.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[T.jsxs("span",{children:["Arquivos na Fila (",v.length,")"]}),T.jsx("button",{onClick:()=>y([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),T.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:v.map((D,z)=>T.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[T.jsx(Ih,{className:"w-4 h-4 text-primary shrink-0"}),T.jsx("span",{className:"truncate flex-1 font-medium",title:D.file.name,children:D.file.name}),T.jsxs("select",{value:D.targetUserId,onChange:G=>w(z,G.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${D.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[T.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),t.filter(G=>G.role==="salesperson").map(G=>T.jsx("option",{value:G.id,children:G.name},G.id))]}),T.jsx("button",{onClick:()=>S(z),className:"text-on-surface-variant hover:text-error p-1",children:T.jsx(qo,{className:"w-3 h-3"})})]},z))}),T.jsx("button",{onClick:C,disabled:(l==null?void 0:l.isActive)||v.some(D=>!D.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:l!=null&&l.isActive?T.jsxs(T.Fragment,{children:[T.jsx(Gu,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):T.jsxs(T.Fragment,{children:[T.jsx(Hu,{className:"w-3 h-3"}),"Processar ",v.length," Arquivos"]})})]}),T.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[T.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[T.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:T.jsx(Gh,{className:"w-6 h-6"})}),T.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),T.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:A,disabled:(l==null?void 0:l.isActive)&&l.status==="processing"})]}),T.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant",children:[T.jsx(wE,{className:"w-3 h-3"}),T.jsx("span",{children:"Suporta .csv, .xlsx, .xls (Mltiplos arquivos)"})]})]}):T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[T.jsx(rc,{className:"w-5 h-5 shrink-0"}),T.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),T.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[T.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[T.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:T.jsx(rc,{className:"w-6 h-6"})}),T.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),T.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:O,disabled:(l==null?void 0:l.isActive)&&l.status==="processing"})]})]})]})}),T.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[T.jsx("div",{className:"flex items-center justify-between mb-2",children:T.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[T.jsx(Ih,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",T.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:H.length})]})}),H.length===0?T.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[T.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:T.jsx(wE,{className:"w-10 h-10 text-outline"})}),T.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),T.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):T.jsx("div",{className:"space-y-3",children:H.map(D=>T.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[T.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[T.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${D.status==="error"?"bg-error-container text-error":D.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:D.status==="processing"?T.jsx(Gu,{className:"w-5 h-5 animate-spin"}):D.status==="error"?T.jsx(Qa,{className:"w-5 h-5"}):T.jsx(Ih,{className:"w-5 h-5"})}),T.jsxs("div",{className:"min-w-0",children:[T.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:D.fileName,children:D.fileName}),T.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(_4,{className:"w-3 h-3"}),new Date(D.uploadDate).toLocaleDateString(),T.jsx("span",{className:"opacity-60 ml-1",children:new Date(D.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Hu,{className:"w-3 h-3"}),D.itemCount," registros"]})]}),D.status==="error"&&T.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:D.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&T.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:(()=>{var G;const z=t.find(j=>j.id===D.salespersonId);return((G=z==null?void 0:z.name)==null?void 0:G.charAt(0))||"?"})()}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsxs("select",{value:D.salespersonId,onChange:z=>s==null?void 0:s(D.id,z.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:D.status==="processing",children:[T.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),t.filter(z=>z.role==="salesperson").map(z=>T.jsx("option",{value:z.id,className:"bg-surface text-on-surface",children:z.name},z.id))]}),T.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),T.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:D.status==="processing"?T.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):T.jsxs("button",{onClick:()=>i(D.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[T.jsx(zo,{className:"w-4 h-4"}),T.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},D.id))})]})]})]})};function PY(t){return T.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),T.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function LY(t){return T.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),T.jsx("circle",{cx:"12",cy:"10",r:"5"}),T.jsx("path",{d:"M12 15V3"}),T.jsx("path",{d:"m9 6 3-3 3 3"})]})}const DS=[{id:"admin",name:"Administrador Geral",username:"admin",email:"admin@vendas.ai",role:"admin",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"salesperson",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"salesperson",password:"123",salesCategory:"Interno",color:"#3B82F6"}],OY=()=>{const[t,e]=de.useState(()=>{try{const ce=localStorage.getItem("vendas_ai_users");return ce?JSON.parse(ce):DS}catch(ce){return console.error("Failed to load users from storage",ce),DS}}),[n,r]=de.useState([]),[i,s]=de.useState(()=>{try{const ce=localStorage.getItem("vendas_ai_categories");return ce?JSON.parse(ce):lf.filter(He=>He!=="Todos")}catch{return lf.filter(He=>He!=="Todos")}}),[l,c]=de.useState(()=>{try{const ce=localStorage.getItem("vendas_ai_products");return ce?JSON.parse(ce):[]}catch(ce){return console.error("Failed to load products from storage",ce),[]}}),[f,d]=de.useState(null),[h,v]=de.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[y,A]=de.useState("AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc"),[S,w]=de.useState(0),[C,O]=de.useState("map"),[H,D]=de.useState(!1),[z,G]=de.useState(!1),[j,I]=de.useState(!1),[N,b]=de.useState(!1),[P,M]=de.useState(void 0),k=de.useRef(!1),U=ce=>{if(h.isActive&&h.status==="processing")if(window.confirm(`Gostaria de Parar de Enviar o Arquivo?

Clique em OK para PARAR o envio.
Clique em Cancelar para CONTINUAR o envio.`))k.current=!0,O(ce);else return;else O(ce)},[Te,Ae]=de.useState(""),[ae,le]=de.useState("Todas"),[Ne,ie]=de.useState("Todos"),[Fe,X]=de.useState("Todas"),[B,Q]=de.useState("Todos"),[Z,te]=de.useState("Todos"),[ue,be]=de.useState("Todos"),[Ce,we]=de.useState("Todos"),[Ie,$e]=de.useState(""),[ne,ut]=de.useState(""),[We,Ye]=de.useState(!1),[Be,Le]=de.useState(()=>{try{const ce=localStorage.getItem("vendas_ai_files");return ce?JSON.parse(ce):[]}catch{return[]}});de.useEffect(()=>{try{localStorage.setItem("vendas_ai_files",JSON.stringify(Be))}catch(ce){console.error("Failed to save uploaded files",ce)}},[Be]),de.useEffect(()=>{(async()=>{var Tn,In,gn;const He=await iI();if(b(He),He){console.log("Loading data from Cloud...");const wt=await EK();if(wt&&(((Tn=wt.clients)==null?void 0:Tn.length)>0||((In=wt.products)==null?void 0:In.length)>0||((gn=wt.users)==null?void 0:gn.length)>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),wt.clients&&r(wt.clients),wt.products&&c(wt.products),wt.categories&&s(wt.categories),wt.users&&e(wt.users),wt.uploadedFiles&&Le(wt.uploadedFiles);return}else console.log("Cloud data found but EMPTY. Ignoring Cloud to preserve Local data.")}console.log("Loading data from LocalStorage...");const ze=localStorage.getItem("vendas_ai_clients");if(ze)try{const wt=JSON.parse(ze);r(wt.map(V=>({...V,category:Array.isArray(V.category)?V.category:typeof V.category=="string"?[V.category]:["Outros"],region:Nv(V.state)})))}catch(wt){console.error(wt)}const et=localStorage.getItem("vendas_ai_users");et&&e(JSON.parse(et));const mt=localStorage.getItem("vendas_ai_categories");mt&&s(JSON.parse(mt));const zt=localStorage.getItem("vendas_ai_products");zt&&c(JSON.parse(zt));const qt=localStorage.getItem("vendas_ai_files");qt&&Le(JSON.parse(qt))})()},[]),de.useEffect(()=>{if(N&&(n.length>0||t.length>0||Be.length>0)){const ce=setTimeout(()=>{AS(n,l,i,t,Be).catch(He=>console.error("Auto-save failed",He))},2e3);return()=>clearTimeout(ce)}},[n,l,i,t,Be,N]),de.useEffect(()=>{A("AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc")},[]),de.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(n))},[n]),de.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(i))},[i]),de.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(l))},[l]),de.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(t))},[t]);const nt=ce=>{e([...t,ce])},rt=ce=>{e(t.map(He=>He.id===ce.id?ce:He))},ot=ce=>{Le(He=>He.map(ze=>ze.salespersonId===ce?{...ze,salespersonId:"",salespersonName:"None"}:ze)),e(t.filter(He=>He.id!==ce))},fn=()=>{if(!window.confirm(` Remover Clientes Duplicados?

Esta ao ir:
 Identificar clientes com mesmo nome e endereo
 Manter apenas 1 registro de cada
 Atualizar a contagem total

Deseja continuar?`))return;const He=new Map,ze=[];let et=0;if(n.forEach(mt=>{const zt=`${mt.companyName}-${mt.address}`.toLowerCase().trim();He.has(zt)?et++:(He.set(zt,mt),ze.push(mt))}),et===0){alert(" Nenhum cliente duplicado encontrado!");return}r(ze),alert(` Limpeza Concluda!

${et} clientes duplicados removidos
Total anterior: ${n.length}
Total atual: ${ze.length}`)},Nn=ce=>{i.includes(ce)||s([...i,ce])},Fn=ce=>{s(i.filter(He=>He!==ce))},ft=ce=>{c(He=>{const ze=[...He,...ce];return ht(n,ze),ze})},Xt=ce=>{c(ce)},Pt=()=>{c([]),r(ce=>ce.map(He=>({...He,purchasedProducts:[]})))},sn=()=>{window.confirm(` ATENO: Limpar TODOS os Clientes?

Esta ao ir:
 Remover TODOS os clientes do sistema
 Limpar a listagem de arquivos
 Resetar contadores

Os vendedores, produtos e categorias no sero afetados.

Deseja continuar?`)&&(r([]),Le(ce=>ce.filter(He=>He.type!=="clients")),alert(` Base de Clientes Limpa!

Voc pode agora fazer upload de novas planilhas de clientes.`))},Rt=async ce=>{const He=n.find(et=>et.id===ce.id);let ze={...ce};if(He&&He.cleanAddress!==ce.cleanAddress)try{const et=await o0(ce.cleanAddress,y||"");et&&(ze.lat=et.lat,ze.lng=et.lng,et.formattedAddress&&(ze.cleanAddress=et.formattedAddress))}catch(et){console.error("Failed to re-geocode updated client:",et)}r(et=>et.map(mt=>mt.id===ze.id?ze:mt))},Bn=async ce=>{let He={...ce};if((!He.lat||!He.lng)&&He.cleanAddress)try{const ze=await o0(He.cleanAddress,y||"");ze&&(He.lat=ze.lat,He.lng=ze.lng,ze.formattedAddress&&(He.cleanAddress=ze.formattedAddress))}catch(ze){console.error("Failed to geocode new client:",ze)}r(ze=>[...ze,He]),setTimeout(()=>{const ze=document.querySelector(".overflow-y-auto");ze&&(ze.scrollTop=ze.scrollHeight)},100)},ht=(ce,He)=>{if(He.length===0)return;const ze=ce.map(et=>{if(et.purchasedProducts&&et.purchasedProducts.length>0)return et;let mt=He.filter(In=>et.category.some(gn=>In.category.toLowerCase().includes(gn.toLowerCase())||gn.toLowerCase().includes(In.category.toLowerCase())));mt.length===0&&(mt=He);const zt=Math.floor(Math.random()*5)+1,Tn=[...mt].sort(()=>.5-Math.random()).slice(0,zt);return{...et,purchasedProducts:Tn}});r(ze)},Lt=async()=>{if(window.aistudio)try{await window.aistudio.openSelectKey();const ce="AIzaSyDE6ejvDxDif-eRkcrz_2JDeIuS0NvCqCc";ce&&A(ce),w(He=>He+1)}catch(ce){console.error(ce)}else console.error("AI Studio environment not detected.")},bt=de.useMemo(()=>{if(!f)return[];let ce=[];return f.role==="admin"?Z!=="Todos"?ce=n.filter(He=>He.salespersonId===Z):ce=n:ce=n.filter(He=>He.salespersonId===f.id),ce},[f,n,Z]),Et=de.useMemo(()=>bt.filter(ce=>{const He=ae==="Todas"||ce.region===ae,ze=Ne==="Todos"||ce.state===Ne,et=Fe==="Todas"||ce.city===Fe,mt=B==="Todos"||Array.isArray(ce.category)&&ce.category.includes(B);let zt=!0;if((f==null?void 0:f.role)==="admin"&&ue!=="Todos"){const wt=t.find(V=>V.id===ce.salespersonId);(!wt||wt.salesCategory!==ue)&&(zt=!1)}const qt=Te.toLowerCase(),Tn=Te===""||ce.companyName.toLowerCase().includes(qt)||ce.ownerName&&ce.ownerName.toLowerCase().includes(qt);let In=!0;const gn=Ie.toLowerCase();if(Ce!=="Todos"||gn!=="")if(!ce.purchasedProducts||ce.purchasedProducts.length===0)In=!1;else{const wt=Ce==="Todos"||ce.purchasedProducts.some(W=>W.category===Ce),V=gn===""||ce.purchasedProducts.some(W=>W.name.toLowerCase().includes(gn)||W.sku.toLowerCase().includes(gn)||W.brand.toLowerCase().includes(gn)||W.factoryCode.toLowerCase().includes(gn)||W.price.toString().includes(gn));In=wt&&V}return He&&ze&&et&&mt&&Tn&&In&&zt}),[bt,ae,Ne,Fe,B,Te,Ce,Ie,ue,t,f]),Qt=de.useMemo(()=>{const ce=new Set(l.map(He=>He.category));return Array.from(ce).sort()},[l]),ir=de.useMemo(()=>{let ce=bt;ae!=="Todas"&&(ce=ce.filter(ze=>ze.region===ae));const He=new Set(ce.map(ze=>ze.state).filter(Boolean));return Array.from(He).sort()},[bt,ae]),mn=de.useMemo(()=>{let ce=bt;if(ae!=="Todas"&&(ce=ce.filter(ze=>ze.region===ae)),Ne!=="Todos")ce=ce.filter(ze=>ze.state===Ne);else return[];const He=new Set(ce.map(ze=>ze.city).filter(Boolean));return Array.from(He).sort()},[bt,ae,Ne]),os=ce=>{if(d(ce),Ae(""),le("Todas"),ie("Todos"),X("Todas"),te("Todos"),be("Todos"),be("Todos"),U("map"),Ye(!1),ce.role==="admin"){const He=t.find(ze=>ze.role==="salesperson");He&&ut(He.id)}},Li=()=>{if(h.isActive&&h.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))k.current=!0;else return;d(null),te("Todos"),be("Todos")},ba=async(ce,He,ze=!1)=>{const et=t.find(qt=>qt.id===He),mt=et?et.name:"Desconhecido";if(n.length>0&&!ze&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const zt=crypto.randomUUID();v({isActive:!0,total:0,current:0,fileName:ce.name,ownerName:mt,status:"reading"}),k.current=!1;try{let qt=[];const Tn=ce.name.toLowerCase();if(console.log(`Processing file: ${ce.name}, Lower: ${Tn}`),Tn.endsWith(".csv"))console.log("Selected Parser: CSV"),qt=await Uk(ce);else if(Tn.endsWith(".xlsx")||Tn.endsWith(".xls"))console.log("Selected Parser: Excel"),qt=await HO(ce);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",qt.length),qt.length>0&&console.log("Sample Parsed Item:",qt[0]),qt.length===0)throw new Error("Arquivo vazio.");const In={id:zt,fileName:ce.name,uploadDate:new Date().toISOString(),salespersonId:He,salespersonName:mt,type:"clients",itemCount:qt.length,status:"processing"};Le(V=>[In,...V]),v(V=>({...V,total:qt.length,status:"processing"}));const wt=(await iG(qt,He,y,i,(V,W)=>{if(k.current)throw new Error("CANCELLED_BY_USER");v(K=>({...K,current:V,total:W}))})).map(V=>({...V,sourceFileId:zt}));r(V=>[...V,...wt]),v(V=>({...V,status:"completed"})),Le(V=>V.map(W=>W.id===zt?{...W,status:"completed"}:W)),setTimeout(()=>{v(V=>V.status==="completed"?{...V,isActive:!1}:V)},5e3)}catch(qt){console.error(qt);const Tn=qt.message==="CANCELLED_BY_USER",In=Tn?"Cancelado pelo usurio.":qt.message||"Erro desconhecido",gn=Tn;v(wt=>({...wt,status:"error",errorMessage:In,isActive:!gn})),Le(wt=>wt.map(V=>V.id===zt?{...V,status:"error",errorMessage:In}:V))}},Ur=ce=>{const He=Be.find(ze=>ze.id===ce);He&&window.confirm(`Tem certeza que deseja excluir o arquivo "${He.fileName}"?

Isso remover todos os ${He.itemCount} registros associados.`)&&(He.type==="clients"?r(ze=>ze.filter(et=>et.sourceFileId!==ce)):He.type==="products"&&c(ze=>ze.filter(et=>et.sourceFileId!==ce)),Le(ze=>ze.filter(et=>et.id!==ce)))},Oi=(ce,He)=>{const ze=t.find(mt=>mt.id===He),et=(ze==null?void 0:ze.name)||"None";Le(mt=>mt.map(zt=>zt.id===ce?{...zt,salespersonId:He,salespersonName:et}:zt)),r(mt=>mt.map(zt=>zt.sourceFileId===ce?{...zt,salespersonId:He}:zt)),He?(U("map"),te(He),alert(`Arquivo e ${Et.filter(mt=>mt.sourceFileId===ce).length} clientes reatribudos para: ${et}

Mapa filtrado automaticamente.`)):(te("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},En=async ce=>{const He=crypto.randomUUID();v({isActive:!0,total:0,current:0,fileName:ce.name,ownerName:"Sistema",status:"reading"});try{let ze=[];const et=ce.name.toLowerCase();if(et.endsWith(".csv"))ze=await GS(ce);else if(et.endsWith(".xlsx")||et.endsWith(".xls"))ze=await SC(ce);else throw new Error("Formato no suportado.");if(ze.length===0)throw new Error("Arquivo vazio.");ze=ze.map(zt=>({...zt,sourceFileId:He}));const mt={id:He,fileName:ce.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:ze.length,status:"completed"};Le(zt=>[mt,...zt]),ft(ze),v({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${ze.length} produtos importados com sucesso.`)}catch(ze){console.error(ze),v(et=>({...et,status:"error",errorMessage:ze.message})),Le(et=>et.map(mt=>mt.id===He?{...mt,status:"error",errorMessage:ze.message}:mt))}};if(!f)return T.jsx(NY,{users:t,onLogin:os});const dn=f.role==="admin",Ar=Ce!=="Todos"||Ie!=="";return T.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[We&&T.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>Ye(!1)}),T.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${We?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[T.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[T.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[T.jsx(CE,{className:"w-6 h-6"}),"Vendas A.I."]}),T.jsx("button",{onClick:()=>Ye(!1),className:"md:hidden text-on-surface-variant hover:text-primary",children:T.jsx(qo,{className:"w-6 h-6"})})]}),T.jsx("div",{className:"px-6 py-2",children:T.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:dn?"Painel Administrativo":"Portal do Vendedor"})}),T.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[T.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),T.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),T.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[T.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md ${dn?"bg-tertiary":"bg-secondary"}`,children:f.name.charAt(0)}),T.jsxs("div",{className:"min-w-0",children:[T.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:f.name}),T.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:f.email})]})]})]}),T.jsxs("nav",{className:"space-y-1 mb-8",children:[T.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),T.jsxs("button",{onClick:()=>{O("map"),Ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${C==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(W4,{className:`w-5 h-5 ${C==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),T.jsxs("button",{onClick:()=>{O("table"),Ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${C==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(Ak,{className:`w-5 h-5 ${C==="table"?"fill-current":""}`}),"Listagem de Dados"]})]}),T.jsxs("nav",{className:"space-y-1 mb-8",children:[T.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),T.jsxs("button",{onClick:()=>{U("admin_users"),Ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${C==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(Cg,{className:`w-5 h-5 ${C==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),T.jsxs("button",{onClick:()=>{U("admin_categories"),Ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${C==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(LS,{className:`w-5 h-5 ${C==="admin_categories"?"fill-current":""}`}),"Categorias"]}),T.jsxs("button",{onClick:()=>{U("admin_products"),Ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${C==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(rc,{className:`w-5 h-5 ${C==="admin_products"?"fill-current":""}`}),"Produtos"]}),T.jsxs("button",{onClick:()=>{U("admin_files"),Ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${C==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[T.jsx(Gh,{className:`w-5 h-5 ${C==="admin_files"?"fill-current":""}`}),"Arquivos"]}),T.jsxs("button",{onClick:()=>{I(!0),Ye(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[T.jsx(Sg,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),T.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[T.jsxs("button",{onClick:Li,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",children:[T.jsx(j4,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),T.jsx("div",{className:"text-center mt-4",children:T.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),T.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[T.jsx("button",{onClick:()=>Ye(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",children:T.jsx(ek,{className:"w-6 h-6"})}),T.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[T.jsx(CE,{className:"w-5 h-5"})," Vendas A.I."]}),T.jsx("div",{className:"w-10"})," "]}),T.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!dn&&C==="table"&&T.jsx("button",{onClick:()=>D(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",children:T.jsx(Cg,{className:"w-6 h-6"})}),T.jsx(DY,{isOpen:j,onClose:()=>I(!1),onSaveToCloud:()=>{AS(n,l,i,t),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:sn,isFirebaseConnected:N}),T.jsx(MY,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),T.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[T.jsx("span",{children:"Portal"}),T.jsx(A4,{className:"w-4 h-4"}),T.jsx("span",{className:"font-semibold text-blue-600",children:C==="map"?"Mapa da Carteira":C==="table"?"Listagem de Clientes":C==="admin_categories"?"Categorias de Clientes":C==="admin_products"?"Catlogo de Produtos":"Gesto de Usurios"})]}),T.jsxs("div",{className:"flex items-center gap-6",children:[T.jsxs("div",{className:"text-right",children:[T.jsx("p",{className:"text-xs text-gray-400",children:dn?"Clientes Visualizados":"Meus Clientes"}),T.jsx("p",{className:"text-lg font-bold leading-none",children:bt.length})]}),dn&&T.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[T.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),T.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:n.length})]})]})]}),C==="admin_users"&&dn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(IY,{users:t,onAddUser:nt,onUpdateUser:rt,onDeleteUser:ot,onCleanupDuplicates:fn,totalClients:n.length})}):C==="admin_categories"&&dn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(RY,{categories:i,onAddCategory:Nn,onDeleteCategory:Fn})}):C==="admin_products"&&dn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(kY,{products:l,onUploadProducts:ft,onClearProducts:Pt,onSaveProducts:Xt,apiKey:y})}):C==="admin_files"&&dn?T.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:T.jsx(FY,{users:t,uploadedFiles:Be,onUploadClients:(ce,He)=>{ut(He);const ze=t.find(mt=>mt.id===He),et=(ze==null?void 0:ze.name)||"Unknown";ba(ce,He,et)},onUploadProducts:En,onDeleteFile:Ur,onReassignSalesperson:Oi,procState:h})}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"bg-gray-100 p-4 border-b border-gray-200 flex flex-col gap-3",children:[T.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[T.jsxs("div",{className:"relative mr-2",children:[T.jsx(of,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),T.jsx("input",{type:"text",value:Te,onChange:ce=>Ae(ce.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-4 py-1.5 text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 w-56 border outline-none"})]}),T.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2 hidden sm:block"}),T.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mr-2",children:[T.jsx(O4,{className:"w-4 h-4"}),T.jsx("span",{className:"text-sm font-bold hidden md:inline",children:"Filtros:"})]}),dn&&T.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 px-2 py-1 rounded-md border border-purple-100 mr-2",children:[T.jsxs("span",{className:"text-[10px] font-bold text-purple-400 uppercase tracking-wider flex items-center gap-1",children:[T.jsx(xk,{className:"w-3 h-3"})," Admin"]}),T.jsxs("div",{className:"relative",children:[T.jsx(ic,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),T.jsxs("select",{value:Z,onChange:ce=>te(ce.target.value),className:"text-sm border-purple-300 bg-white text-purple-900 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium",children:[T.jsx("option",{value:"Todos",children:"Todos Vendedores"}),t.filter(ce=>ce.role==="salesperson").map(ce=>T.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),T.jsxs("div",{className:"relative",children:[T.jsx(PS,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),T.jsxs("select",{value:ue,onChange:ce=>be(ce.target.value),className:"text-sm border-purple-300 bg-white text-purple-900 rounded-md shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-3 py-1 font-medium",children:[T.jsx("option",{value:"Todos",children:"Todas Equipes"}),T.jsx("option",{value:"Externo",children:"Externo"}),T.jsx("option",{value:"Interno",children:"Interno"}),T.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),T.jsxs("select",{value:ae,onChange:ce=>{le(ce.target.value),ie("Todos"),X("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",children:[T.jsx("option",{value:"Todas",children:"Todas Regies"}),b0.map(ce=>T.jsx("option",{value:ce,children:ce},ce))]}),T.jsxs("select",{value:Ne,onChange:ce=>{ie(ce.target.value),X("Todas")},className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5",disabled:ir.length===0,children:[T.jsxs("option",{value:"Todos",children:["Todos Estados ",ae!=="Todas"?`(${ae})`:""]}),ir.map(ce=>T.jsx("option",{value:ce,children:ce},ce))]}),T.jsxs("select",{value:Fe,onChange:ce=>X(ce.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 px-3 py-1.5 min-w-[120px]",disabled:Ne==="Todos"||mn.length===0,children:[T.jsx("option",{value:"Todas",children:"Todas Cidades"}),mn.map(ce=>T.jsx("option",{value:ce,children:ce},ce))]}),T.jsxs("div",{className:"flex items-center gap-1 relative ml-2",children:[T.jsx(OS,{className:"w-4 h-4 text-gray-400 absolute left-2 pointer-events-none"}),T.jsxs("select",{value:B,onChange:ce=>Q(ce.target.value),className:"text-sm border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-8 pr-3 py-1.5",children:[T.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),i.map(ce=>T.jsx("option",{value:ce,children:ce},ce))]})]})]}),T.jsxs("div",{className:"flex flex-wrap gap-3 items-center bg-white border border-gray-200 p-2 rounded-lg shadow-sm",children:[T.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[T.jsx(rc,{className:"w-4 h-4"}),"Vendas:"]}),T.jsxs("select",{value:Ce,onChange:ce=>we(ce.target.value),className:`text-sm rounded-md px-3 py-1.5 border transition-colors ${Ce!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,children:[T.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),Qt.map(ce=>T.jsx("option",{value:ce,children:ce},ce))]}),T.jsxs("div",{className:"relative",children:[T.jsx(of,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),T.jsx("input",{type:"text",value:Ie,onChange:ce=>$e(ce.target.value),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-8 pr-3 py-1.5 text-sm border rounded-md focus:ring-green-500 focus:border-green-500 outline-none w-64 transition-colors ${Ie?"bg-green-50 border-green-300":"border-gray-300"}`})]}),Ar&&T.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[T.jsx(Hu,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!Ar&&T.jsx("span",{className:"ml-auto text-xs text-gray-400",children:l.length===0?"Nenhum produto cadastrado no admin.":`${l.length} produtos no catlogo.`})]}),T.jsx("div",{className:"flex justify-end",children:T.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[Et.length," resultados encontrados"]})})]}),T.jsx("div",{className:"flex-1 overflow-hidden p-4 bg-gray-100",children:bt.length===0&&!h.isActive?T.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:dn?T.jsxs(T.Fragment,{children:[T.jsx(Gh,{className:"w-12 h-12 mb-2 opacity-20"}),T.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),T.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):T.jsxs(T.Fragment,{children:[T.jsx(wg,{className:"w-12 h-12 mb-2 opacity-20"}),T.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),T.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):T.jsx("div",{className:"h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden relative",children:C==="map"?T.jsx(SY,{clients:Et,apiKey:y,onInvalidKey:Lt,productFilterActive:Ar,highlightProductTerm:Ie,activeProductCategory:Ce,users:t},`${y}-${S}`):T.jsx(bY,{clients:Et,onUpdateClient:Rt,onAddClient:Bn,currentUserRole:f==null?void 0:f.role,currentUserId:f==null?void 0:f.id,currentUserName:f==null?void 0:f.name})})})]}),h.isActive&&T.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[T.jsx("div",{className:`h-1.5 w-full ${h.status==="error"?"bg-red-200":"bg-blue-100"}`,children:T.jsx("div",{className:`h-full transition-all duration-300 ${h.status==="completed"?"bg-green-500 w-full":h.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:h.total>0?`${h.current/h.total*100}%`:"0%"}})}),T.jsxs("div",{className:"p-4",children:[T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{children:[T.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[h.status==="completed"&&T.jsx(Hu,{className:"w-4 h-4 text-green-500"}),h.status==="processing"&&T.jsx(Gu,{className:"w-4 h-4 text-blue-500 animate-spin"}),h.status==="error"&&T.jsx(Qa,{className:"w-4 h-4 text-red-500"}),h.status==="reading"?"Lendo Arquivo...":h.status==="processing"?"Processando Planilha":h.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),T.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[h.fileName," ",T.jsx("span",{className:"mx-1",children:""})," ",h.ownerName]})]}),T.jsx("button",{onClick:()=>{h.isActive&&h.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(k.current=!0,v(ce=>({...ce,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):v(ce=>({...ce,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",children:T.jsx(qo,{className:"w-4 h-4"})})]}),h.status==="processing"&&T.jsxs("div",{className:"mt-3",children:[T.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[T.jsx("span",{children:"Progresso (IA + Maps)"}),T.jsxs("span",{className:"font-mono",children:[h.current," / ",h.total]})]}),T.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),h.status==="error"&&T.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:h.errorMessage})]})]})]})]})};class UY extends Wn.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){var e;return this.state.hasError?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:T.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[T.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[T.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:T.jsx(Qa,{className:"w-8 h-8"})}),T.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),T.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),T.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:(e=this.state.error)==null?void 0:e.toString()}),T.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const xI=document.getElementById("root");if(!xI)throw new Error("Could not find root element to mount to");const VY=i4.createRoot(xI);VY.render(T.jsx(Wn.StrictMode,{children:T.jsx(UY,{children:T.jsx(OY,{})})}));
