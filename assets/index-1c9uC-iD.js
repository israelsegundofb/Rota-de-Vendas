function qY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function js(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eE={exports:{}},z0={};var KO;function KY(){if(KO)return z0;KO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:e,type:n,key:s,ref:i!==void 0?i:null,props:a}}return z0.Fragment=t,z0.jsx=r,z0.jsxs=r,z0}var WO;function WY(){return WO||(WO=1,eE.exports=KY()),eE.exports}var g=WY(),tE={exports:{}},Pt={};var YO;function YY(){if(YO)return Pt;YO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=m&&J[m]||J["@@iterator"],typeof J=="function"?J:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function S(J,V,ee){this.props=J,this.context=V,this.refs=E,this.updater=ee||x}S.prototype.isReactComponent={},S.prototype.setState=function(J,V){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,V,"setState")},S.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function L(){}L.prototype=S.prototype;function k(J,V,ee){this.props=J,this.context=V,this.refs=E,this.updater=ee||x}var M=k.prototype=new L;M.constructor=k,b(M,S.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function P(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function O(J,V,ee){var X=ee.ref;return{$$typeof:e,type:J,key:V,ref:X!==void 0?X:null,props:ee}}function U(J,V){return O(J.type,V,J.props)}function B(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function F(J){var V={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ee){return V[ee]})}var H=/\/+/g;function fe(J,V){return typeof J=="object"&&J!==null&&J.key!=null?F(""+J.key):V.toString(36)}function me(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(P,P):(J.status="pending",J.then(function(V){J.status==="pending"&&(J.status="fulfilled",J.value=V)},function(V){J.status==="pending"&&(J.status="rejected",J.reason=V)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ne(J,V,ee,X,q){var he=typeof J;(he==="undefined"||he==="boolean")&&(J=null);var xe=!1;if(J===null)xe=!0;else switch(he){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(J.$$typeof){case e:case t:xe=!0;break;case d:return xe=J._init,ne(xe(J._payload),V,ee,X,q)}}if(xe)return q=q(J),xe=X===""?"."+fe(J,0):X,D(q)?(ee="",xe!=null&&(ee=xe.replace(H,"$&/")+"/"),ne(q,V,ee,"",function(ge){return ge})):q!=null&&(B(q)&&(q=U(q,ee+(q.key==null||J&&J.key===q.key?"":(""+q.key).replace(H,"$&/")+"/")+xe)),V.push(q)),1;xe=0;var Ie=X===""?".":X+":";if(D(J))for(var le=0;le<J.length;le++)X=J[le],he=Ie+fe(X,le),xe+=ne(X,V,ee,he,q);else if(le=y(J),typeof le=="function")for(J=le.call(J),le=0;!(X=J.next()).done;)X=X.value,he=Ie+fe(X,le++),xe+=ne(X,V,ee,he,q);else if(he==="object"){if(typeof J.then=="function")return ne(me(J),V,ee,X,q);throw V=String(J),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ue(J,V,ee){if(J==null)return J;var X=[],q=0;return ne(J,X,"","",function(he){return V.call(ee,he,q++)}),X}function ce(J){if(J._status===-1){var V=J._result;V=V(),V.then(function(ee){(J._status===0||J._status===-1)&&(J._status=1,J._result=ee)},function(ee){(J._status===0||J._status===-1)&&(J._status=2,J._result=ee)}),J._status===-1&&(J._status=0,J._result=V)}if(J._status===1)return J._result.default;throw J._result}var ae=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},_e={map:ue,forEach:function(J,V,ee){ue(J,function(){V.apply(this,arguments)},ee)},count:function(J){var V=0;return ue(J,function(){V++}),V},toArray:function(J){return ue(J,function(V){return V})||[]},only:function(J){if(!B(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Pt.Activity=p,Pt.Children=_e,Pt.Component=S,Pt.Fragment=r,Pt.Profiler=i,Pt.PureComponent=k,Pt.StrictMode=n,Pt.Suspense=c,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(J){return N.H.useMemoCache(J)}},Pt.cache=function(J){return function(){return J.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(J,V,ee){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var X=b({},J.props),q=J.key;if(V!=null)for(he in V.key!==void 0&&(q=""+V.key),V)!I.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(X[he]=V[he]);var he=arguments.length-2;if(he===1)X.children=ee;else if(1<he){for(var xe=Array(he),Ie=0;Ie<he;Ie++)xe[Ie]=arguments[Ie+2];X.children=xe}return O(J.type,q,X)},Pt.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},Pt.createElement=function(J,V,ee){var X,q={},he=null;if(V!=null)for(X in V.key!==void 0&&(he=""+V.key),V)I.call(V,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(q[X]=V[X]);var xe=arguments.length-2;if(xe===1)q.children=ee;else if(1<xe){for(var Ie=Array(xe),le=0;le<xe;le++)Ie[le]=arguments[le+2];q.children=Ie}if(J&&J.defaultProps)for(X in xe=J.defaultProps,xe)q[X]===void 0&&(q[X]=xe[X]);return O(J,he,q)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(J){return{$$typeof:o,render:J}},Pt.isValidElement=B,Pt.lazy=function(J){return{$$typeof:d,_payload:{_status:-1,_result:J},_init:ce}},Pt.memo=function(J,V){return{$$typeof:u,type:J,compare:V===void 0?null:V}},Pt.startTransition=function(J){var V=N.T,ee={};N.T=ee;try{var X=J(),q=N.S;q!==null&&q(ee,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(P,ae)}catch(he){ae(he)}finally{V!==null&&ee.types!==null&&(V.types=ee.types),N.T=V}},Pt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Pt.use=function(J){return N.H.use(J)},Pt.useActionState=function(J,V,ee){return N.H.useActionState(J,V,ee)},Pt.useCallback=function(J,V){return N.H.useCallback(J,V)},Pt.useContext=function(J){return N.H.useContext(J)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(J,V){return N.H.useDeferredValue(J,V)},Pt.useEffect=function(J,V){return N.H.useEffect(J,V)},Pt.useEffectEvent=function(J){return N.H.useEffectEvent(J)},Pt.useId=function(){return N.H.useId()},Pt.useImperativeHandle=function(J,V,ee){return N.H.useImperativeHandle(J,V,ee)},Pt.useInsertionEffect=function(J,V){return N.H.useInsertionEffect(J,V)},Pt.useLayoutEffect=function(J,V){return N.H.useLayoutEffect(J,V)},Pt.useMemo=function(J,V){return N.H.useMemo(J,V)},Pt.useOptimistic=function(J,V){return N.H.useOptimistic(J,V)},Pt.useReducer=function(J,V,ee){return N.H.useReducer(J,V,ee)},Pt.useRef=function(J){return N.H.useRef(J)},Pt.useState=function(J){return N.H.useState(J)},Pt.useSyncExternalStore=function(J,V,ee){return N.H.useSyncExternalStore(J,V,ee)},Pt.useTransition=function(){return N.H.useTransition()},Pt.version="19.2.4",Pt}var JO;function Ph(){return JO||(JO=1,tE.exports=YY()),tE.exports}var R=Ph();const Ir=js(R),JY=qY({__proto__:null,default:Ir},[R]);var rE={exports:{}},$0={},nE={exports:{}},iE={};var XO;function XY(){return XO||(XO=1,(function(e){function t(ne,ue){var ce=ne.length;ne.push(ue);e:for(;0<ce;){var ae=ce-1>>>1,_e=ne[ae];if(0<i(_e,ue))ne[ae]=ue,ne[ce]=_e,ce=ae;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ue=ne[0],ce=ne.pop();if(ce!==ue){ne[0]=ce;e:for(var ae=0,_e=ne.length,J=_e>>>1;ae<J;){var V=2*(ae+1)-1,ee=ne[V],X=V+1,q=ne[X];if(0>i(ee,ce))X<_e&&0>i(q,ee)?(ne[ae]=q,ne[X]=ce,ae=X):(ne[ae]=ee,ne[V]=ce,ae=V);else if(X<_e&&0>i(q,ce))ne[ae]=q,ne[X]=ce,ae=X;else break e}}return ue}function i(ne,ue){var ce=ne.sortIndex-ue.sortIndex;return ce!==0?ce:ne.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,p=null,m=3,y=!1,x=!1,b=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(ne){for(var ue=r(u);ue!==null;){if(ue.callback===null)n(u);else if(ue.startTime<=ne)n(u),ue.sortIndex=ue.expirationTime,t(c,ue);else break;ue=r(u)}}function D(ne){if(b=!1,M(ne),!x)if(r(c)!==null)x=!0,P||(P=!0,F());else{var ue=r(u);ue!==null&&me(D,ue.startTime-ne)}}var P=!1,N=-1,I=5,O=-1;function U(){return E?!0:!(e.unstable_now()-O<I)}function B(){if(E=!1,P){var ne=e.unstable_now();O=ne;var ue=!0;try{e:{x=!1,b&&(b=!1,L(N),N=-1),y=!0;var ce=m;try{t:{for(M(ne),p=r(c);p!==null&&!(p.expirationTime>ne&&U());){var ae=p.callback;if(typeof ae=="function"){p.callback=null,m=p.priorityLevel;var _e=ae(p.expirationTime<=ne);if(ne=e.unstable_now(),typeof _e=="function"){p.callback=_e,M(ne),ue=!0;break t}p===r(c)&&n(c),M(ne)}else n(c);p=r(c)}if(p!==null)ue=!0;else{var J=r(u);J!==null&&me(D,J.startTime-ne),ue=!1}}break e}finally{p=null,m=ce,y=!1}ue=void 0}}finally{ue?F():P=!1}}}var F;if(typeof k=="function")F=function(){k(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,fe=H.port2;H.port1.onmessage=B,F=function(){fe.postMessage(null)}}else F=function(){S(B,0)};function me(ne,ue){N=S(function(){ne(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(ne){switch(m){case 1:case 2:case 3:var ue=3;break;default:ue=m}var ce=m;m=ue;try{return ne()}finally{m=ce}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(ne,ue){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=m;m=ne;try{return ue()}finally{m=ce}},e.unstable_scheduleCallback=function(ne,ue,ce){var ae=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ae+ce:ae):ce=ae,ne){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ce+_e,ne={id:d++,callback:ue,priorityLevel:ne,startTime:ce,expirationTime:_e,sortIndex:-1},ce>ae?(ne.sortIndex=ce,t(u,ne),r(c)===null&&ne===r(u)&&(b?(L(N),N=-1):b=!0,me(D,ce-ae))):(ne.sortIndex=_e,t(c,ne),x||y||(x=!0,P||(P=!0,F()))),ne},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(ne){var ue=m;return function(){var ce=m;m=ue;try{return ne.apply(this,arguments)}finally{m=ce}}}})(iE)),iE}var ZO;function ZY(){return ZO||(ZO=1,nE.exports=XY()),nE.exports}var aE={exports:{}},Di={};var QO;function QY(){if(QO)return Di;QO=1;var e=Ph();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,u,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:u,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Di.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Di.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return a(c,u,null,d)},Di.flushSync=function(c){var u=s.T,d=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=u,n.p=d,n.d.f()}},Di.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Di.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Di.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):d==="script"&&n.d.X(c,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Di.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Di.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,p=o(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Di.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Di.requestFormReset=function(c){n.d.r(c)},Di.unstable_batchedUpdates=function(c,u){return c(u)},Di.useFormState=function(c,u,d){return s.H.useFormState(c,u,d)},Di.useFormStatus=function(){return s.H.useHostTransitionStatus()},Di.version="19.2.4",Di}var e4;function Q8(){if(e4)return aE.exports;e4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),aE.exports=QY(),aE.exports}var t4;function eJ(){if(t4)return $0;t4=1;var e=ZY(),t=Ph(),r=Q8();function n(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,h=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(h=f.return),l=f.return;while(l)}return f.tag===3?h:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function u(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(n(188));return f!==l?null:l}for(var h=l,v=f;;){var A=h.return;if(A===null)break;var C=A.alternate;if(C===null){if(v=A.return,v!==null){h=v;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===h)return c(A),l;if(C===v)return c(A),f;C=C.sibling}throw Error(n(188))}if(h.return!==v.return)h=A,v=C;else{for(var z=!1,Y=A.child;Y;){if(Y===h){z=!0,h=A,v=C;break}if(Y===v){z=!0,v=A,h=C;break}Y=Y.sibling}if(!z){for(Y=C.child;Y;){if(Y===h){z=!0,h=C,v=A;break}if(Y===v){z=!0,v=C,h=A;break}Y=Y.sibling}if(!z)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?l:f}function d(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=d(l),f!==null)return f;l=l.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function fe(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case O:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case x:return"Portal";case k:return l.displayName||"Context";case L:return(l._context.displayName||"Context")+".Consumer";case M:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return f=l.displayName||null,f!==null?f:fe(l.type)||"Memo";case I:f=l._payload,l=l._init;try{return fe(l(f))}catch{}}return null}var me=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ae=[],_e=-1;function J(l){return{current:l}}function V(l){0>_e||(l.current=ae[_e],ae[_e]=null,_e--)}function ee(l,f){_e++,ae[_e]=l.current,l.current=f}var X=J(null),q=J(null),he=J(null),xe=J(null);function Ie(l,f){switch(ee(he,f),ee(q,l),ee(X,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?gO(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=gO(f),l=vO(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}V(X),ee(X,l)}function le(){V(X),V(q),V(he)}function ge(l){l.memoizedState!==null&&ee(xe,l);var f=X.current,h=vO(f,l.type);f!==h&&(ee(q,l),ee(X,h))}function De(l){q.current===l&&(V(X),V(q)),xe.current===l&&(V(xe),j0._currentValue=ce)}var K,Ye;function Ue(l){if(K===void 0)try{throw Error()}catch(h){var f=h.stack.trim().match(/\n( *(at )?)/);K=f&&f[1]||"",Ye=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+l+Ye}var Ke=!1;function ze(l,f){if(!l||Ke)return"";Ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Pe){var Ne=Pe}Reflect.construct(l,[],Be)}else{try{Be.call()}catch(Pe){Ne=Pe}l.call(Be.prototype)}}else{try{throw Error()}catch(Pe){Ne=Pe}(Be=l())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Pe){if(Pe&&Ne&&typeof Pe.stack=="string")return[Pe.stack,Ne.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),z=C[0],Y=C[1];if(z&&Y){var de=z.split(`
`),Se=Y.split(`
`);for(A=v=0;v<de.length&&!de[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Se.length&&!Se[A].includes("DetermineComponentFrameRoot");)A++;if(v===de.length||A===Se.length)for(v=de.length-1,A=Se.length-1;1<=v&&0<=A&&de[v]!==Se[A];)A--;for(;1<=v&&0<=A;v--,A--)if(de[v]!==Se[A]){if(v!==1||A!==1)do if(v--,A--,0>A||de[v]!==Se[A]){var Oe=`
`+de[v].replace(" at new "," at ");return l.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",l.displayName)),Oe}while(1<=v&&0<=A);break}}}finally{Ke=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Ue(h):""}function Le(l,f){switch(l.tag){case 26:case 27:case 5:return Ue(l.type);case 16:return Ue("Lazy");case 13:return l.child!==f&&f!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return ze(l.type,!1);case 11:return ze(l.type.render,!1);case 1:return ze(l.type,!0);case 31:return Ue("Activity");default:return""}}function Je(l){try{var f="",h=null;do f+=Le(l,h),h=l,l=l.return;while(l);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var et=Object.prototype.hasOwnProperty,ht=e.unstable_scheduleCallback,It=e.unstable_cancelCallback,Gr=e.unstable_shouldYield,Br=e.unstable_requestPaint,bt=e.unstable_now,xr=e.unstable_getCurrentPriorityLevel,Wt=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,Mt=e.unstable_LowPriority,Et=e.unstable_IdlePriority,rr=e.log,Ht=e.unstable_setDisableYieldValue,Vt=null,_r=null;function yi(l){if(typeof rr=="function"&&Ht(l),_r&&typeof _r.setStrictMode=="function")try{_r.setStrictMode(Vt,l)}catch{}}var pt=Math.clz32?Math.clz32:il,xa=Math.log,xo=Math.LN2;function il(l){return l>>>=0,l===0?32:31-(xa(l)/xo|0)|0}var _a=256,_o=262144,Xr=4194304;function ni(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function $a(l,f,h){var v=l.pendingLanes;if(v===0)return 0;var A=0,C=l.suspendedLanes,z=l.pingedLanes;l=l.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~C,v!==0?A=ni(v):(z&=Y,z!==0?A=ni(z):h||(h=Y&~l,h!==0&&(A=ni(h))))):(Y=v&~C,Y!==0?A=ni(Y):z!==0?A=ni(z):h||(h=v&~l,h!==0&&(A=ni(h)))),A===0?0:f!==0&&f!==A&&(f&C)===0&&(C=A&-A,h=f&-f,C>=h||C===32&&(h&4194048)!==0)?f:A}function ba(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function _u(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(){var l=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),l}function wa(l){for(var f=[],h=0;31>h;h++)f.push(l);return f}function Ea(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function bu(l,f,h,v,A,C){var z=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var Y=l.entanglements,de=l.expirationTimes,Se=l.hiddenUpdates;for(h=z&~h;0<h;){var Oe=31-pt(h),Be=1<<Oe;Y[Oe]=0,de[Oe]=-1;var Ne=Se[Oe];if(Ne!==null)for(Se[Oe]=null,Oe=0;Oe<Ne.length;Oe++){var Pe=Ne[Oe];Pe!==null&&(Pe.lane&=-536870913)}h&=~Be}v!==0&&ds(l,v,0),C!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=C&~(z&~f))}function ds(l,f,h){l.pendingLanes|=f,l.suspendedLanes&=~f;var v=31-pt(f);l.entangledLanes|=f,l.entanglements[v]=l.entanglements[v]|1073741824|h&261930}function zs(l,f){var h=l.entangledLanes|=f;for(l=l.entanglements;h;){var v=31-pt(h),A=1<<v;A&f|l[v]&f&&(l[v]|=f),h&=~A}}function Xi(l,f){var h=f&-f;return h=(h&42)!==0?1:Ha(h),(h&(l.suspendedLanes|f))!==0?0:h}function Ha(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Rn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function W(){var l=ue.p;return l!==0?l:(l=window.event,l===void 0?32:BO(l.type))}function re(l,f){var h=ue.p;try{return ue.p=l,f()}finally{ue.p=h}}var Z=Math.random().toString(36).slice(2),te="__reactFiber$"+Z,ie="__reactProps$"+Z,oe="__reactContainer$"+Z,ye="__reactEvents$"+Z,Re="__reactListeners$"+Z,Ee="__reactHandles$"+Z,Ce="__reactResources$"+Z,Ae="__reactMarker$"+Z;function He(l){delete l[te],delete l[ie],delete l[ye],delete l[Re],delete l[Ee]}function We(l){var f=l[te];if(f)return f;for(var h=l.parentNode;h;){if(f=h[oe]||h[te]){if(h=f.alternate,f.child!==null||h!==null&&h.child!==null)for(l=TO(l);l!==null;){if(h=l[te])return h;l=TO(l)}return f}l=h,h=l.parentNode}return null}function Qe(l){if(l=l[te]||l[oe]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function Ge(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(n(33))}function Xe(l){var f=l[Ce];return f||(f=l[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function st(l){l[Ae]=!0}var pr=new Set,mr={};function Tr(l,f){ii(l,f),ii(l+"Capture",f)}function ii(l,f){for(mr[l]=f,l=0;l<f.length;l++)pr.add(f[l])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qa={},Zi={};function wo(l){return et.call(Zi,l)?!0:et.call(qa,l)?!1:Ga.test(l)?Zi[l]=!0:(qa[l]=!0,!1)}function ai(l,f,h){if(wo(f))if(h===null)l.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+h)}}function Qi(l,f,h){if(h===null)l.removeAttribute(f);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+h)}}function un(l,f,h,v){if(v===null)l.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(f,h,""+v)}}function On(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Eo(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function wu(l,f,h){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,C=v.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return A.call(this)},set:function(z){h=""+z,C.call(this,z)}}),Object.defineProperty(l,f,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(z){h=""+z},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function gr(l){if(!l._valueTracker){var f=Eo(l)?"checked":"value";l._valueTracker=wu(l,f,""+l[f])}}function al(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var h=f.getValue(),v="";return l&&(v=Eo(l)?l.checked?"true":"false":l.value),l=v,l!==h?(f.setValue(l),!0):!1}function Ta(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Fr=/[\n"\\]/g;function Dt(l){return l.replace(Fr,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function $s(l,f,h,v,A,C,z,Y){l.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.type=z:l.removeAttribute("type"),f!=null?z==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+On(f)):l.value!==""+On(f)&&(l.value=""+On(f)):z!=="submit"&&z!=="reset"||l.removeAttribute("value"),f!=null?Me(l,z,On(f)):h!=null?Me(l,z,On(h)):v!=null&&l.removeAttribute("value"),A==null&&C!=null&&(l.defaultChecked=!!C),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.name=""+On(Y):l.removeAttribute("name")}function se(l,f,h,v,A,C,z,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),f!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||f!=null)){gr(l);return}h=h!=null?""+On(h):"",f=f!=null?""+On(f):h,Y||f===l.value||(l.value=f),l.defaultValue=f}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=Y?l.checked:!!v,l.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(l.name=z),gr(l)}function Me(l,f,h){f==="number"&&Ta(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function qe(l,f,h,v){if(l=l.options,f){f={};for(var A=0;A<h.length;A++)f["$"+h[A]]=!0;for(h=0;h<l.length;h++)A=f.hasOwnProperty("$"+l[h].value),l[h].selected!==A&&(l[h].selected=A),A&&v&&(l[h].defaultSelected=!0)}else{for(h=""+On(h),f=null,A=0;A<l.length;A++){if(l[A].value===h){l[A].selected=!0,v&&(l[A].defaultSelected=!0);return}f!==null||l[A].disabled||(f=l[A])}f!==null&&(f.selected=!0)}}function lt(l,f,h){if(f!=null&&(f=""+On(f),f!==l.value&&(l.value=f),h==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=h!=null?""+On(h):""}function mt(l,f,h,v){if(f==null){if(v!=null){if(h!=null)throw Error(n(92));if(me(v)){if(1<v.length)throw Error(n(93));v=v[0]}h=v}h==null&&(h=""),f=h}h=On(f),l.defaultValue=h,v=l.textContent,v===h&&v!==""&&v!==null&&(l.value=v),gr(l)}function _t(l,f){if(f){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=f;return}}l.textContent=f}var At=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gt(l,f,h){var v=f.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":v?l.setProperty(f,h):typeof h!="number"||h===0||At.has(f)?f==="float"?l.cssFloat=h:l[f]=(""+h).trim():l[f]=h+"px"}function kt(l,f,h){if(f!=null&&typeof f!="object")throw Error(n(62));if(l=l.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var A in f)v=f[A],f.hasOwnProperty(A)&&h[A]!==v&&gt(l,A,v)}else for(var C in f)f.hasOwnProperty(C)&&gt(l,C,f[C])}function Gt(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function En(l){return zt.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ut(){}var xi=null;function an(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ar=null,_i=null;function To(l){var f=Qe(l);if(f&&(l=f.stateNode)){var h=l[ie]||null;e:switch(l=f.stateNode,f.type){case"input":if($s(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),f=h.name,h.type==="radio"&&f!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Dt(""+f)+'"][type="radio"]'),f=0;f<h.length;f++){var v=h[f];if(v!==l&&v.form===l.form){var A=v[ie]||null;if(!A)throw Error(n(90));$s(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(f=0;f<h.length;f++)v=h[f],v.form===l.form&&al(v)}break e;case"textarea":lt(l,h.value,h.defaultValue);break e;case"select":f=h.value,f!=null&&qe(l,!!h.multiple,f,!1)}}}var sn=!1;function Aa(l,f,h){if(sn)return l(f,h);sn=!0;try{var v=l(f);return v}finally{if(sn=!1,(Ar!==null||_i!==null)&&(dv(),Ar&&(f=Ar,l=_i,_i=Ar=null,To(f),l)))for(f=0;f<l.length;f++)To(l[f])}}function ea(l,f){var h=l.stateNode;if(h===null)return null;var v=h[ie]||null;if(v===null)return null;h=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(n(231,f,typeof h));return h}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=!1;if(hs)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Eu=!1}var Ao=null,t0=null,Tu=null;function r0(){if(Tu)return Tu;var l,f=t0,h=f.length,v,A="value"in Ao?Ao.value:Ao.textContent,C=A.length;for(l=0;l<h&&f[l]===A[l];l++);var z=h-l;for(v=1;v<=z&&f[h-v]===A[C-v];v++);return Tu=A.slice(l,1<v?1-v:void 0)}function Au(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function sl(){return!0}function Hs(){return!1}function bi(l){function f(h,v,A,C,z){this._reactName=h,this._targetInst=A,this.type=v,this.nativeEvent=C,this.target=z,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(h=l[Y],this[Y]=h?h(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?sl:Hs,this.isPropagationStopped=Hs,this}return p(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),f}var ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=bi(ol),ac=p({},ol,{view:0,detail:0}),n0=bi(ac),sc,Jf,Co,Xf=p({},ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Co&&(Co&&l.type==="mousemove"?(sc=l.screenX-Co.screenX,Jf=l.screenY-Co.screenY):Jf=sc=0,Co=l),sc)},movementY:function(l){return"movementY"in l?l.movementY:Jf}}),i0=bi(Xf),Su=p({},Xf,{dataTransfer:0}),_g=bi(Su),bg=p({},ac,{relatedTarget:0}),Cu=bi(bg),a0=p({},ol,{animationName:0,elapsedTime:0,pseudoElement:0}),wg=bi(a0),Zf=p({},ol,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Eg=bi(Zf),Tg=p({},ol,{data:0}),No=bi(Tg),Ag={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Cg[l])?!!f[l]:!1}function oc(){return Ng}var ta=p({},ac,{key:function(l){if(l.key){var f=Ag[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Au(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Sg[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(l){return l.type==="keypress"?Au(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Au(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Ig=bi(ta),kg=p({},Xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=bi(kg),T=p({},ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),j=bi(T),G=p({},ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=bi(G),be=p({},Xf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=bi(be),Ze=p({},ol,{newState:0,oldState:0}),Lt=bi(Ze),Tn=[9,13,27,32],vr=hs&&"CompositionEvent"in window,Zr=null;hs&&"documentMode"in document&&(Zr=document.documentMode);var ps=hs&&"TextEvent"in window&&!Zr,Io=hs&&(!vr||Zr&&8<Zr&&11>=Zr),Gs=" ",qs=!1;function Nu(l,f){switch(l){case"keyup":return Tn.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ed=!1;function gW(l,f){switch(l){case"compositionend":return Qf(f);case"keypress":return f.which!==32?null:(qs=!0,Gs);case"textInput":return l=f.data,l===Gs&&qs?null:l;default:return null}}function vW(l,f){if(ed)return l==="compositionend"||!vr&&Nu(l,f)?(l=r0(),Tu=t0=Ao=null,ed=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Io&&f.locale!=="ko"?null:f.data;default:return null}}var yW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ck(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!yW[l.type]:f==="textarea"}function Nk(l,f,h,v){Ar?_i?_i.push(v):_i=[v]:Ar=v,f=xv(f,"onChange"),0<f.length&&(h=new So("onChange","change",null,h,v),l.push({event:h,listeners:f}))}var s0=null,o0=null;function xW(l){uO(l,0)}function Pg(l){var f=Ge(l);if(al(f))return l}function Ik(l,f){if(l==="change")return f}var kk=!1;if(hs){var ob;if(hs){var lb="oninput"in document;if(!lb){var Pk=document.createElement("div");Pk.setAttribute("oninput","return;"),lb=typeof Pk.oninput=="function"}ob=lb}else ob=!1;kk=ob&&(!document.documentMode||9<document.documentMode)}function Rk(){s0&&(s0.detachEvent("onpropertychange",Ok),o0=s0=null)}function Ok(l){if(l.propertyName==="value"&&Pg(o0)){var f=[];Nk(f,o0,l,an(l)),Aa(xW,f)}}function _W(l,f,h){l==="focusin"?(Rk(),s0=f,o0=h,s0.attachEvent("onpropertychange",Ok)):l==="focusout"&&Rk()}function bW(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Pg(o0)}function wW(l,f){if(l==="click")return Pg(f)}function EW(l,f){if(l==="input"||l==="change")return Pg(f)}function TW(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Ka=typeof Object.is=="function"?Object.is:TW;function l0(l,f){if(Ka(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var h=Object.keys(l),v=Object.keys(f);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var A=h[v];if(!et.call(f,A)||!Ka(l[A],f[A]))return!1}return!0}function Mk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Dk(l,f){var h=Mk(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=f&&v>=f)return{node:h,offset:f-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Mk(h)}}function Lk(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?Lk(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function Fk(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Ta(l.document);f instanceof l.HTMLIFrameElement;){try{var h=typeof f.contentWindow.location.href=="string"}catch{h=!1}if(h)l=f.contentWindow;else break;f=Ta(l.document)}return f}function cb(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var AW=hs&&"documentMode"in document&&11>=document.documentMode,td=null,ub=null,c0=null,fb=!1;function jk(l,f,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;fb||td==null||td!==Ta(v)||(v=td,"selectionStart"in v&&cb(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),c0&&l0(c0,v)||(c0=v,v=xv(ub,"onSelect"),0<v.length&&(f=new So("onSelect","select",null,f,h),l.push({event:f,listeners:v}),f.target=td)))}function Iu(l,f){var h={};return h[l.toLowerCase()]=f.toLowerCase(),h["Webkit"+l]="webkit"+f,h["Moz"+l]="moz"+f,h}var rd={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionrun:Iu("Transition","TransitionRun"),transitionstart:Iu("Transition","TransitionStart"),transitioncancel:Iu("Transition","TransitionCancel"),transitionend:Iu("Transition","TransitionEnd")},db={},Uk={};hs&&(Uk=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function ku(l){if(db[l])return db[l];if(!rd[l])return l;var f=rd[l],h;for(h in f)if(f.hasOwnProperty(h)&&h in Uk)return db[l]=f[h];return l}var Bk=ku("animationend"),Vk=ku("animationiteration"),zk=ku("animationstart"),SW=ku("transitionrun"),CW=ku("transitionstart"),NW=ku("transitioncancel"),$k=ku("transitionend"),Hk=new Map,hb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hb.push("scrollEnd");function Ks(l,f){Hk.set(l,f),Tr(f,[l])}var Rg=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ms=[],nd=0,pb=0;function Og(){for(var l=nd,f=pb=nd=0;f<l;){var h=ms[f];ms[f++]=null;var v=ms[f];ms[f++]=null;var A=ms[f];ms[f++]=null;var C=ms[f];if(ms[f++]=null,v!==null&&A!==null){var z=v.pending;z===null?A.next=A:(A.next=z.next,z.next=A),v.pending=A}C!==0&&Gk(h,A,C)}}function Mg(l,f,h,v){ms[nd++]=l,ms[nd++]=f,ms[nd++]=h,ms[nd++]=v,pb|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function mb(l,f,h,v){return Mg(l,f,h,v),Dg(l)}function Pu(l,f){return Mg(l,null,null,f),Dg(l)}function Gk(l,f,h){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h);for(var A=!1,C=l.return;C!==null;)C.childLanes|=h,v=C.alternate,v!==null&&(v.childLanes|=h),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(A=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,A&&f!==null&&(A=31-pt(h),l=C.hiddenUpdates,v=l[A],v===null?l[A]=[f]:v.push(f),f.lane=h|536870912),C):null}function Dg(l){if(50<P0)throw P0=0,Tw=null,Error(n(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var id={};function IW(l,f,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(l,f,h,v){return new IW(l,f,h,v)}function gb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function cl(l,f){var h=l.alternate;return h===null?(h=Wa(l.tag,f,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=f,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,f=l.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function qk(l,f){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,f=h.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Lg(l,f,h,v,A,C){var z=0;if(v=l,typeof l=="function")gb(l)&&(z=1);else if(typeof l=="string")z=MY(l,h,X.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case O:return l=Wa(31,h,f,A),l.elementType=O,l.lanes=C,l;case b:return Ru(h.children,A,C,f);case E:z=8,A|=24;break;case S:return l=Wa(12,h,f,A|2),l.elementType=S,l.lanes=C,l;case D:return l=Wa(13,h,f,A),l.elementType=D,l.lanes=C,l;case P:return l=Wa(19,h,f,A),l.elementType=P,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:z=10;break e;case L:z=9;break e;case M:z=11;break e;case N:z=14;break e;case I:z=16,v=null;break e}z=29,h=Error(n(130,l===null?"null":typeof l,"")),v=null}return f=Wa(z,h,f,A),f.elementType=l,f.type=v,f.lanes=C,f}function Ru(l,f,h,v){return l=Wa(7,l,v,f),l.lanes=h,l}function vb(l,f,h){return l=Wa(6,l,null,f),l.lanes=h,l}function Kk(l){var f=Wa(18,null,null,0);return f.stateNode=l,f}function yb(l,f,h){return f=Wa(4,l.children!==null?l.children:[],l.key,f),f.lanes=h,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var Wk=new WeakMap;function gs(l,f){if(typeof l=="object"&&l!==null){var h=Wk.get(l);return h!==void 0?h:(f={value:l,source:f,stack:Je(f)},Wk.set(l,f),f)}return{value:l,source:f,stack:Je(f)}}var ad=[],sd=0,Fg=null,u0=0,vs=[],ys=0,lc=null,ko=1,Po="";function ul(l,f){ad[sd++]=u0,ad[sd++]=Fg,Fg=l,u0=f}function Yk(l,f,h){vs[ys++]=ko,vs[ys++]=Po,vs[ys++]=lc,lc=l;var v=ko;l=Po;var A=32-pt(v)-1;v&=~(1<<A),h+=1;var C=32-pt(f)+A;if(30<C){var z=A-A%5;C=(v&(1<<z)-1).toString(32),v>>=z,A-=z,ko=1<<32-pt(f)+A|h<<A|v,Po=C+l}else ko=1<<C|h<<A|v,Po=l}function xb(l){l.return!==null&&(ul(l,1),Yk(l,1,0))}function _b(l){for(;l===Fg;)Fg=ad[--sd],ad[sd]=null,u0=ad[--sd],ad[sd]=null;for(;l===lc;)lc=vs[--ys],vs[ys]=null,Po=vs[--ys],vs[ys]=null,ko=vs[--ys],vs[ys]=null}function Jk(l,f){vs[ys++]=ko,vs[ys++]=Po,vs[ys++]=lc,ko=f.id,Po=f.overflow,lc=l}var wi=null,qr=null,er=!1,cc=null,xs=!1,bb=Error(n(519));function uc(l){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw f0(gs(f,l)),bb}function Xk(l){var f=l.stateNode,h=l.type,v=l.memoizedProps;switch(f[te]=l,f[ie]=v,h){case"dialog":Kt("cancel",f),Kt("close",f);break;case"iframe":case"object":case"embed":Kt("load",f);break;case"video":case"audio":for(h=0;h<O0.length;h++)Kt(O0[h],f);break;case"source":Kt("error",f);break;case"img":case"image":case"link":Kt("error",f),Kt("load",f);break;case"details":Kt("toggle",f);break;case"input":Kt("invalid",f),se(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Kt("invalid",f);break;case"textarea":Kt("invalid",f),mt(f,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||f.textContent===""+h||v.suppressHydrationWarning===!0||pO(f.textContent,h)?(v.popover!=null&&(Kt("beforetoggle",f),Kt("toggle",f)),v.onScroll!=null&&Kt("scroll",f),v.onScrollEnd!=null&&Kt("scrollend",f),v.onClick!=null&&(f.onclick=Ut),f=!0):f=!1,f||uc(l,!0)}function Zk(l){for(wi=l.return;wi;)switch(wi.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:wi=wi.return}}function od(l){if(l!==wi)return!1;if(!er)return Zk(l),er=!0,!1;var f=l.tag,h;if((h=f!==3&&f!==27)&&((h=f===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||Uw(l.type,l.memoizedProps)),h=!h),h&&qr&&uc(l),Zk(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));qr=EO(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));qr=EO(l)}else f===27?(f=qr,Tc(l.type)?(l=Hw,Hw=null,qr=l):qr=f):qr=wi?bs(l.stateNode.nextSibling):null;return!0}function Ou(){qr=wi=null,er=!1}function wb(){var l=cc;return l!==null&&(Ia===null?Ia=l:Ia.push.apply(Ia,l),cc=null),l}function f0(l){cc===null?cc=[l]:cc.push(l)}var Eb=J(null),Mu=null,fl=null;function fc(l,f,h){ee(Eb,f._currentValue),f._currentValue=h}function dl(l){l._currentValue=Eb.current,V(Eb)}function Tb(l,f,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),l===h)break;l=l.return}}function Ab(l,f,h,v){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var C=A.dependencies;if(C!==null){var z=A.child;C=C.firstContext;e:for(;C!==null;){var Y=C;C=A;for(var de=0;de<f.length;de++)if(Y.context===f[de]){C.lanes|=h,Y=C.alternate,Y!==null&&(Y.lanes|=h),Tb(C.return,h,l),v||(z=null);break e}C=Y.next}}else if(A.tag===18){if(z=A.return,z===null)throw Error(n(341));z.lanes|=h,C=z.alternate,C!==null&&(C.lanes|=h),Tb(z,h,l),z=null}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===l){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}}function ld(l,f,h,v){l=null;for(var A=f,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var z=A.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Y=A.type;Ka(A.pendingProps.value,z.value)||(l!==null?l.push(Y):l=[Y])}}else if(A===xe.current){if(z=A.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(j0):l=[j0])}A=A.return}l!==null&&Ab(f,l,h,v),f.flags|=262144}function jg(l){for(l=l.firstContext;l!==null;){if(!Ka(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Du(l){Mu=l,fl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ei(l){return Qk(Mu,l)}function Ug(l,f){return Mu===null&&Du(l),Qk(l,f)}function Qk(l,f){var h=f._currentValue;if(f={context:f,memoizedValue:h,next:null},fl===null){if(l===null)throw Error(n(308));fl=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else fl=fl.next=f;return h}var kW=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(h,v){l.push(v)}};this.abort=function(){f.aborted=!0,l.forEach(function(h){return h()})}},PW=e.unstable_scheduleCallback,RW=e.unstable_NormalPriority,Mn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sb(){return{controller:new kW,data:new Map,refCount:0}}function d0(l){l.refCount--,l.refCount===0&&PW(RW,function(){l.controller.abort()})}var h0=null,Cb=0,cd=0,ud=null;function OW(l,f){if(h0===null){var h=h0=[];Cb=0,cd=kw(),ud={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Cb++,f.then(eP,eP),f}function eP(){if(--Cb===0&&h0!==null){ud!==null&&(ud.status="fulfilled");var l=h0;h0=null,cd=0,ud=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function MW(l,f){var h=[],v={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return l.then(function(){v.status="fulfilled",v.value=f;for(var A=0;A<h.length;A++)(0,h[A])(f)},function(A){for(v.status="rejected",v.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),v}var tP=ne.S;ne.S=function(l,f){jR=bt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&OW(l,f),tP!==null&&tP(l,f)};var Lu=J(null);function Nb(){var l=Lu.current;return l!==null?l:jr.pooledCache}function Bg(l,f){f===null?ee(Lu,Lu.current):ee(Lu,f.pool)}function rP(){var l=Nb();return l===null?null:{parent:Mn._currentValue,pool:l}}var fd=Error(n(460)),Ib=Error(n(474)),Vg=Error(n(542)),zg={then:function(){}};function nP(l){return l=l.status,l==="fulfilled"||l==="rejected"}function iP(l,f,h){switch(h=l[h],h===void 0?l.push(f):h!==f&&(f.then(Ut,Ut),f=h),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,sP(l),l;default:if(typeof f.status=="string")f.then(Ut,Ut);else{if(l=jr,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=f,l.status="pending",l.then(function(v){if(f.status==="pending"){var A=f;A.status="fulfilled",A.value=v}},function(v){if(f.status==="pending"){var A=f;A.status="rejected",A.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,sP(l),l}throw ju=f,fd}}function Fu(l){try{var f=l._init;return f(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ju=h,fd):h}}var ju=null;function aP(){if(ju===null)throw Error(n(459));var l=ju;return ju=null,l}function sP(l){if(l===fd||l===Vg)throw Error(n(483))}var dd=null,p0=0;function $g(l){var f=p0;return p0+=1,dd===null&&(dd=[]),iP(dd,l,f)}function m0(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Hg(l,f){throw f.$$typeof===m?Error(n(525)):(l=Object.prototype.toString.call(f),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function oP(l){function f(ve,pe){if(l){var Te=ve.deletions;Te===null?(ve.deletions=[pe],ve.flags|=16):Te.push(pe)}}function h(ve,pe){if(!l)return null;for(;pe!==null;)f(ve,pe),pe=pe.sibling;return null}function v(ve){for(var pe=new Map;ve!==null;)ve.key!==null?pe.set(ve.key,ve):pe.set(ve.index,ve),ve=ve.sibling;return pe}function A(ve,pe){return ve=cl(ve,pe),ve.index=0,ve.sibling=null,ve}function C(ve,pe,Te){return ve.index=Te,l?(Te=ve.alternate,Te!==null?(Te=Te.index,Te<pe?(ve.flags|=67108866,pe):Te):(ve.flags|=67108866,pe)):(ve.flags|=1048576,pe)}function z(ve){return l&&ve.alternate===null&&(ve.flags|=67108866),ve}function Y(ve,pe,Te,Fe){return pe===null||pe.tag!==6?(pe=vb(Te,ve.mode,Fe),pe.return=ve,pe):(pe=A(pe,Te),pe.return=ve,pe)}function de(ve,pe,Te,Fe){var vt=Te.type;return vt===b?Oe(ve,pe,Te.props.children,Fe,Te.key):pe!==null&&(pe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Fu(vt)===pe.type)?(pe=A(pe,Te.props),m0(pe,Te),pe.return=ve,pe):(pe=Lg(Te.type,Te.key,Te.props,null,ve.mode,Fe),m0(pe,Te),pe.return=ve,pe)}function Se(ve,pe,Te,Fe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Te.containerInfo||pe.stateNode.implementation!==Te.implementation?(pe=yb(Te,ve.mode,Fe),pe.return=ve,pe):(pe=A(pe,Te.children||[]),pe.return=ve,pe)}function Oe(ve,pe,Te,Fe,vt){return pe===null||pe.tag!==7?(pe=Ru(Te,ve.mode,Fe,vt),pe.return=ve,pe):(pe=A(pe,Te),pe.return=ve,pe)}function Be(ve,pe,Te){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=vb(""+pe,ve.mode,Te),pe.return=ve,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return Te=Lg(pe.type,pe.key,pe.props,null,ve.mode,Te),m0(Te,pe),Te.return=ve,Te;case x:return pe=yb(pe,ve.mode,Te),pe.return=ve,pe;case I:return pe=Fu(pe),Be(ve,pe,Te)}if(me(pe)||F(pe))return pe=Ru(pe,ve.mode,Te,null),pe.return=ve,pe;if(typeof pe.then=="function")return Be(ve,$g(pe),Te);if(pe.$$typeof===k)return Be(ve,Ug(ve,pe),Te);Hg(ve,pe)}return null}function Ne(ve,pe,Te,Fe){var vt=pe!==null?pe.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return vt!==null?null:Y(ve,pe,""+Te,Fe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return Te.key===vt?de(ve,pe,Te,Fe):null;case x:return Te.key===vt?Se(ve,pe,Te,Fe):null;case I:return Te=Fu(Te),Ne(ve,pe,Te,Fe)}if(me(Te)||F(Te))return vt!==null?null:Oe(ve,pe,Te,Fe,null);if(typeof Te.then=="function")return Ne(ve,pe,$g(Te),Fe);if(Te.$$typeof===k)return Ne(ve,pe,Ug(ve,Te),Fe);Hg(ve,Te)}return null}function Pe(ve,pe,Te,Fe,vt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return ve=ve.get(Te)||null,Y(pe,ve,""+Fe,vt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:return ve=ve.get(Fe.key===null?Te:Fe.key)||null,de(pe,ve,Fe,vt);case x:return ve=ve.get(Fe.key===null?Te:Fe.key)||null,Se(pe,ve,Fe,vt);case I:return Fe=Fu(Fe),Pe(ve,pe,Te,Fe,vt)}if(me(Fe)||F(Fe))return ve=ve.get(Te)||null,Oe(pe,ve,Fe,vt,null);if(typeof Fe.then=="function")return Pe(ve,pe,Te,$g(Fe),vt);if(Fe.$$typeof===k)return Pe(ve,pe,Te,Ug(pe,Fe),vt);Hg(pe,Fe)}return null}function ct(ve,pe,Te,Fe){for(var vt=null,cr=null,dt=pe,Bt=pe=0,Xt=null;dt!==null&&Bt<Te.length;Bt++){dt.index>Bt?(Xt=dt,dt=null):Xt=dt.sibling;var ur=Ne(ve,dt,Te[Bt],Fe);if(ur===null){dt===null&&(dt=Xt);break}l&&dt&&ur.alternate===null&&f(ve,dt),pe=C(ur,pe,Bt),cr===null?vt=ur:cr.sibling=ur,cr=ur,dt=Xt}if(Bt===Te.length)return h(ve,dt),er&&ul(ve,Bt),vt;if(dt===null){for(;Bt<Te.length;Bt++)dt=Be(ve,Te[Bt],Fe),dt!==null&&(pe=C(dt,pe,Bt),cr===null?vt=dt:cr.sibling=dt,cr=dt);return er&&ul(ve,Bt),vt}for(dt=v(dt);Bt<Te.length;Bt++)Xt=Pe(dt,ve,Bt,Te[Bt],Fe),Xt!==null&&(l&&Xt.alternate!==null&&dt.delete(Xt.key===null?Bt:Xt.key),pe=C(Xt,pe,Bt),cr===null?vt=Xt:cr.sibling=Xt,cr=Xt);return l&&dt.forEach(function(Ic){return f(ve,Ic)}),er&&ul(ve,Bt),vt}function wt(ve,pe,Te,Fe){if(Te==null)throw Error(n(151));for(var vt=null,cr=null,dt=pe,Bt=pe=0,Xt=null,ur=Te.next();dt!==null&&!ur.done;Bt++,ur=Te.next()){dt.index>Bt?(Xt=dt,dt=null):Xt=dt.sibling;var Ic=Ne(ve,dt,ur.value,Fe);if(Ic===null){dt===null&&(dt=Xt);break}l&&dt&&Ic.alternate===null&&f(ve,dt),pe=C(Ic,pe,Bt),cr===null?vt=Ic:cr.sibling=Ic,cr=Ic,dt=Xt}if(ur.done)return h(ve,dt),er&&ul(ve,Bt),vt;if(dt===null){for(;!ur.done;Bt++,ur=Te.next())ur=Be(ve,ur.value,Fe),ur!==null&&(pe=C(ur,pe,Bt),cr===null?vt=ur:cr.sibling=ur,cr=ur);return er&&ul(ve,Bt),vt}for(dt=v(dt);!ur.done;Bt++,ur=Te.next())ur=Pe(dt,ve,Bt,ur.value,Fe),ur!==null&&(l&&ur.alternate!==null&&dt.delete(ur.key===null?Bt:ur.key),pe=C(ur,pe,Bt),cr===null?vt=ur:cr.sibling=ur,cr=ur);return l&&dt.forEach(function(GY){return f(ve,GY)}),er&&ul(ve,Bt),vt}function Mr(ve,pe,Te,Fe){if(typeof Te=="object"&&Te!==null&&Te.type===b&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:e:{for(var vt=Te.key;pe!==null;){if(pe.key===vt){if(vt=Te.type,vt===b){if(pe.tag===7){h(ve,pe.sibling),Fe=A(pe,Te.props.children),Fe.return=ve,ve=Fe;break e}}else if(pe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Fu(vt)===pe.type){h(ve,pe.sibling),Fe=A(pe,Te.props),m0(Fe,Te),Fe.return=ve,ve=Fe;break e}h(ve,pe);break}else f(ve,pe);pe=pe.sibling}Te.type===b?(Fe=Ru(Te.props.children,ve.mode,Fe,Te.key),Fe.return=ve,ve=Fe):(Fe=Lg(Te.type,Te.key,Te.props,null,ve.mode,Fe),m0(Fe,Te),Fe.return=ve,ve=Fe)}return z(ve);case x:e:{for(vt=Te.key;pe!==null;){if(pe.key===vt)if(pe.tag===4&&pe.stateNode.containerInfo===Te.containerInfo&&pe.stateNode.implementation===Te.implementation){h(ve,pe.sibling),Fe=A(pe,Te.children||[]),Fe.return=ve,ve=Fe;break e}else{h(ve,pe);break}else f(ve,pe);pe=pe.sibling}Fe=yb(Te,ve.mode,Fe),Fe.return=ve,ve=Fe}return z(ve);case I:return Te=Fu(Te),Mr(ve,pe,Te,Fe)}if(me(Te))return ct(ve,pe,Te,Fe);if(F(Te)){if(vt=F(Te),typeof vt!="function")throw Error(n(150));return Te=vt.call(Te),wt(ve,pe,Te,Fe)}if(typeof Te.then=="function")return Mr(ve,pe,$g(Te),Fe);if(Te.$$typeof===k)return Mr(ve,pe,Ug(ve,Te),Fe);Hg(ve,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,pe!==null&&pe.tag===6?(h(ve,pe.sibling),Fe=A(pe,Te),Fe.return=ve,ve=Fe):(h(ve,pe),Fe=vb(Te,ve.mode,Fe),Fe.return=ve,ve=Fe),z(ve)):h(ve,pe)}return function(ve,pe,Te,Fe){try{p0=0;var vt=Mr(ve,pe,Te,Fe);return dd=null,vt}catch(dt){if(dt===fd||dt===Vg)throw dt;var cr=Wa(29,dt,null,ve.mode);return cr.lanes=Fe,cr.return=ve,cr}}}var Uu=oP(!0),lP=oP(!1),dc=!1;function kb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pb(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function hc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function pc(l,f,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(yr&2)!==0){var A=v.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),v.pending=f,f=Dg(l),Gk(l,null,h),f}return Mg(l,v,f,h),Dg(l)}function g0(l,f,h){if(f=f.updateQueue,f!==null&&(f=f.shared,(h&4194048)!==0)){var v=f.lanes;v&=l.pendingLanes,h|=v,f.lanes=h,zs(l,h)}}function Rb(l,f){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var A=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?A=C=z:C=C.next=z,h=h.next}while(h!==null);C===null?A=C=f:C=C.next=f}else A=C=f;h={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=f}var Ob=!1;function v0(){if(Ob){var l=ud;if(l!==null)throw l}}function y0(l,f,h,v){Ob=!1;var A=l.updateQueue;dc=!1;var C=A.firstBaseUpdate,z=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var de=Y,Se=de.next;de.next=null,z===null?C=Se:z.next=Se,z=de;var Oe=l.alternate;Oe!==null&&(Oe=Oe.updateQueue,Y=Oe.lastBaseUpdate,Y!==z&&(Y===null?Oe.firstBaseUpdate=Se:Y.next=Se,Oe.lastBaseUpdate=de))}if(C!==null){var Be=A.baseState;z=0,Oe=Se=de=null,Y=C;do{var Ne=Y.lane&-536870913,Pe=Ne!==Y.lane;if(Pe?(Jt&Ne)===Ne:(v&Ne)===Ne){Ne!==0&&Ne===cd&&(Ob=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var ct=l,wt=Y;Ne=f;var Mr=h;switch(wt.tag){case 1:if(ct=wt.payload,typeof ct=="function"){Be=ct.call(Mr,Be,Ne);break e}Be=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=wt.payload,Ne=typeof ct=="function"?ct.call(Mr,Be,Ne):ct,Ne==null)break e;Be=p({},Be,Ne);break e;case 2:dc=!0}}Ne=Y.callback,Ne!==null&&(l.flags|=64,Pe&&(l.flags|=8192),Pe=A.callbacks,Pe===null?A.callbacks=[Ne]:Pe.push(Ne))}else Pe={lane:Ne,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Oe===null?(Se=Oe=Pe,de=Be):Oe=Oe.next=Pe,z|=Ne;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,A.lastBaseUpdate=Pe,A.shared.pending=null}}while(!0);Oe===null&&(de=Be),A.baseState=de,A.firstBaseUpdate=Se,A.lastBaseUpdate=Oe,C===null&&(A.shared.lanes=0),xc|=z,l.lanes=z,l.memoizedState=Be}}function cP(l,f){if(typeof l!="function")throw Error(n(191,l));l.call(f)}function uP(l,f){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)cP(h[l],f)}var hd=J(null),Gg=J(0);function fP(l,f){l=bl,ee(Gg,l),ee(hd,f),bl=l|f.baseLanes}function Mb(){ee(Gg,bl),ee(hd,hd.current)}function Db(){bl=Gg.current,V(hd),V(Gg)}var Ya=J(null),_s=null;function mc(l){var f=l.alternate;ee(An,An.current&1),ee(Ya,l),_s===null&&(f===null||hd.current!==null||f.memoizedState!==null)&&(_s=l)}function Lb(l){ee(An,An.current),ee(Ya,l),_s===null&&(_s=l)}function dP(l){l.tag===22?(ee(An,An.current),ee(Ya,l),_s===null&&(_s=l)):gc()}function gc(){ee(An,An.current),ee(Ya,Ya.current)}function Ja(l){V(Ya),_s===l&&(_s=null),V(An)}var An=J(0);function qg(l){for(var f=l;f!==null;){if(f.tag===13){var h=f.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||zw(h)||$w(h)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var hl=0,Ft=null,Rr=null,Dn=null,Kg=!1,pd=!1,Bu=!1,Wg=0,x0=0,md=null,DW=0;function fn(){throw Error(n(321))}function Fb(l,f){if(f===null)return!1;for(var h=0;h<f.length&&h<l.length;h++)if(!Ka(l[h],f[h]))return!1;return!0}function jb(l,f,h,v,A,C){return hl=C,Ft=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ne.H=l===null||l.memoizedState===null?YP:Qb,Bu=!1,C=h(v,A),Bu=!1,pd&&(C=pP(f,h,v,A)),hP(l),C}function hP(l){ne.H=w0;var f=Rr!==null&&Rr.next!==null;if(hl=0,Dn=Rr=Ft=null,Kg=!1,x0=0,md=null,f)throw Error(n(300));l===null||Ln||(l=l.dependencies,l!==null&&jg(l)&&(Ln=!0))}function pP(l,f,h,v){Ft=l;var A=0;do{if(pd&&(md=null),x0=0,pd=!1,25<=A)throw Error(n(301));if(A+=1,Dn=Rr=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ne.H=JP,C=f(h,v)}while(pd);return C}function LW(){var l=ne.H,f=l.useState()[0];return f=typeof f.then=="function"?_0(f):f,l=l.useState()[0],(Rr!==null?Rr.memoizedState:null)!==l&&(Ft.flags|=1024),f}function Ub(){var l=Wg!==0;return Wg=0,l}function Bb(l,f,h){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~h}function Vb(l){if(Kg){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Kg=!1}hl=0,Dn=Rr=Ft=null,pd=!1,x0=Wg=0,md=null}function ra(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Ft.memoizedState=Dn=l:Dn=Dn.next=l,Dn}function Sn(){if(Rr===null){var l=Ft.alternate;l=l!==null?l.memoizedState:null}else l=Rr.next;var f=Dn===null?Ft.memoizedState:Dn.next;if(f!==null)Dn=f,Rr=l;else{if(l===null)throw Ft.alternate===null?Error(n(467)):Error(n(310));Rr=l,l={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Dn===null?Ft.memoizedState=Dn=l:Dn=Dn.next=l}return Dn}function Yg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _0(l){var f=x0;return x0+=1,md===null&&(md=[]),l=iP(md,l,f),f=Ft,(Dn===null?f.memoizedState:Dn.next)===null&&(f=f.alternate,ne.H=f===null||f.memoizedState===null?YP:Qb),l}function Jg(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return _0(l);if(l.$$typeof===k)return Ei(l)}throw Error(n(438,String(l)))}function zb(l){var f=null,h=Ft.updateQueue;if(h!==null&&(f=h.memoCache),f==null){var v=Ft.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(A){return A.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),h===null&&(h=Yg(),Ft.updateQueue=h),h.memoCache=f,h=f.data[f.index],h===void 0)for(h=f.data[f.index]=Array(l),v=0;v<l;v++)h[v]=U;return f.index++,h}function pl(l,f){return typeof f=="function"?f(l):f}function Xg(l){var f=Sn();return $b(f,Rr,l)}function $b(l,f,h){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=h;var A=l.baseQueue,C=v.pending;if(C!==null){if(A!==null){var z=A.next;A.next=C.next,C.next=z}f.baseQueue=A=C,v.pending=null}if(C=l.baseState,A===null)l.memoizedState=C;else{f=A.next;var Y=z=null,de=null,Se=f,Oe=!1;do{var Be=Se.lane&-536870913;if(Be!==Se.lane?(Jt&Be)===Be:(hl&Be)===Be){var Ne=Se.revertLane;if(Ne===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Be===cd&&(Oe=!0);else if((hl&Ne)===Ne){Se=Se.next,Ne===cd&&(Oe=!0);continue}else Be={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(Y=de=Be,z=C):de=de.next=Be,Ft.lanes|=Ne,xc|=Ne;Be=Se.action,Bu&&h(C,Be),C=Se.hasEagerState?Se.eagerState:h(C,Be)}else Ne={lane:Be,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(Y=de=Ne,z=C):de=de.next=Ne,Ft.lanes|=Be,xc|=Be;Se=Se.next}while(Se!==null&&Se!==f);if(de===null?z=C:de.next=Y,!Ka(C,l.memoizedState)&&(Ln=!0,Oe&&(h=ud,h!==null)))throw h;l.memoizedState=C,l.baseState=z,l.baseQueue=de,v.lastRenderedState=C}return A===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Hb(l){var f=Sn(),h=f.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var v=h.dispatch,A=h.pending,C=f.memoizedState;if(A!==null){h.pending=null;var z=A=A.next;do C=l(C,z.action),z=z.next;while(z!==A);Ka(C,f.memoizedState)||(Ln=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),h.lastRenderedState=C}return[C,v]}function mP(l,f,h){var v=Ft,A=Sn(),C=er;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=f();var z=!Ka((Rr||A).memoizedState,h);if(z&&(A.memoizedState=h,Ln=!0),A=A.queue,Kb(yP.bind(null,v,A,l),[l]),A.getSnapshot!==f||z||Dn!==null&&Dn.memoizedState.tag&1){if(v.flags|=2048,gd(9,{destroy:void 0},vP.bind(null,v,A,h,f),null),jr===null)throw Error(n(349));C||(hl&127)!==0||gP(v,f,h)}return h}function gP(l,f,h){l.flags|=16384,l={getSnapshot:f,value:h},f=Ft.updateQueue,f===null?(f=Yg(),Ft.updateQueue=f,f.stores=[l]):(h=f.stores,h===null?f.stores=[l]:h.push(l))}function vP(l,f,h,v){f.value=h,f.getSnapshot=v,xP(f)&&_P(l)}function yP(l,f,h){return h(function(){xP(f)&&_P(l)})}function xP(l){var f=l.getSnapshot;l=l.value;try{var h=f();return!Ka(l,h)}catch{return!0}}function _P(l){var f=Pu(l,2);f!==null&&ka(f,l,2)}function Gb(l){var f=ra();if(typeof l=="function"){var h=l;if(l=h(),Bu){yi(!0);try{h()}finally{yi(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:l},f}function bP(l,f,h,v){return l.baseState=h,$b(l,Rr,typeof v=="function"?v:pl)}function FW(l,f,h,v,A){if(ev(l))throw Error(n(485));if(l=f.action,l!==null){var C={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){C.listeners.push(z)}};ne.T!==null?h(!0):C.isTransition=!1,v(C),h=f.pending,h===null?(C.next=f.pending=C,wP(f,C)):(C.next=h.next,f.pending=h.next=C)}}function wP(l,f){var h=f.action,v=f.payload,A=l.state;if(f.isTransition){var C=ne.T,z={};ne.T=z;try{var Y=h(A,v),de=ne.S;de!==null&&de(z,Y),EP(l,f,Y)}catch(Se){qb(l,f,Se)}finally{C!==null&&z.types!==null&&(C.types=z.types),ne.T=C}}else try{C=h(A,v),EP(l,f,C)}catch(Se){qb(l,f,Se)}}function EP(l,f,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){TP(l,f,v)},function(v){return qb(l,f,v)}):TP(l,f,h)}function TP(l,f,h){f.status="fulfilled",f.value=h,AP(f),l.state=h,f=l.pending,f!==null&&(h=f.next,h===f?l.pending=null:(h=h.next,f.next=h,wP(l,h)))}function qb(l,f,h){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=h,AP(f),f=f.next;while(f!==v)}l.action=null}function AP(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function SP(l,f){return f}function CP(l,f){if(er){var h=jr.formState;if(h!==null){e:{var v=Ft;if(er){if(qr){t:{for(var A=qr,C=xs;A.nodeType!==8;){if(!C){A=null;break t}if(A=bs(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){qr=bs(A.nextSibling),v=A.data==="F!";break e}}uc(v)}v=!1}v&&(f=h[0])}}return h=ra(),h.memoizedState=h.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SP,lastRenderedState:f},h.queue=v,h=qP.bind(null,Ft,v),v.dispatch=h,v=Gb(!1),C=Zb.bind(null,Ft,!1,v.queue),v=ra(),A={state:f,dispatch:null,action:l,pending:null},v.queue=A,h=FW.bind(null,Ft,A,C,h),A.dispatch=h,v.memoizedState=l,[f,h,!1]}function NP(l){var f=Sn();return IP(f,Rr,l)}function IP(l,f,h){if(f=$b(l,f,SP)[0],l=Xg(pl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=_0(f)}catch(z){throw z===fd?Vg:z}else v=f;f=Sn();var A=f.queue,C=A.dispatch;return h!==f.memoizedState&&(Ft.flags|=2048,gd(9,{destroy:void 0},jW.bind(null,A,h),null)),[v,C,l]}function jW(l,f){l.action=f}function kP(l){var f=Sn(),h=Rr;if(h!==null)return IP(f,h,l);Sn(),f=f.memoizedState,h=Sn();var v=h.queue.dispatch;return h.memoizedState=l,[f,v,!1]}function gd(l,f,h,v){return l={tag:l,create:h,deps:v,inst:f,next:null},f=Ft.updateQueue,f===null&&(f=Yg(),Ft.updateQueue=f),h=f.lastEffect,h===null?f.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,f.lastEffect=l),l}function PP(){return Sn().memoizedState}function Zg(l,f,h,v){var A=ra();Ft.flags|=l,A.memoizedState=gd(1|f,{destroy:void 0},h,v===void 0?null:v)}function Qg(l,f,h,v){var A=Sn();v=v===void 0?null:v;var C=A.memoizedState.inst;Rr!==null&&v!==null&&Fb(v,Rr.memoizedState.deps)?A.memoizedState=gd(f,C,h,v):(Ft.flags|=l,A.memoizedState=gd(1|f,C,h,v))}function RP(l,f){Zg(8390656,8,l,f)}function Kb(l,f){Qg(2048,8,l,f)}function UW(l){Ft.flags|=4;var f=Ft.updateQueue;if(f===null)f=Yg(),Ft.updateQueue=f,f.events=[l];else{var h=f.events;h===null?f.events=[l]:h.push(l)}}function OP(l){var f=Sn().memoizedState;return UW({ref:f,nextImpl:l}),function(){if((yr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function MP(l,f){return Qg(4,2,l,f)}function DP(l,f){return Qg(4,4,l,f)}function LP(l,f){if(typeof f=="function"){l=l();var h=f(l);return function(){typeof h=="function"?h():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function FP(l,f,h){h=h!=null?h.concat([l]):null,Qg(4,4,LP.bind(null,f,l),h)}function Wb(){}function jP(l,f){var h=Sn();f=f===void 0?null:f;var v=h.memoizedState;return f!==null&&Fb(f,v[1])?v[0]:(h.memoizedState=[l,f],l)}function UP(l,f){var h=Sn();f=f===void 0?null:f;var v=h.memoizedState;if(f!==null&&Fb(f,v[1]))return v[0];if(v=l(),Bu){yi(!0);try{l()}finally{yi(!1)}}return h.memoizedState=[v,f],v}function Yb(l,f,h){return h===void 0||(hl&1073741824)!==0&&(Jt&261930)===0?l.memoizedState=f:(l.memoizedState=h,l=BR(),Ft.lanes|=l,xc|=l,h)}function BP(l,f,h,v){return Ka(h,f)?h:hd.current!==null?(l=Yb(l,h,v),Ka(l,f)||(Ln=!0),l):(hl&42)===0||(hl&1073741824)!==0&&(Jt&261930)===0?(Ln=!0,l.memoizedState=h):(l=BR(),Ft.lanes|=l,xc|=l,f)}function VP(l,f,h,v,A){var C=ue.p;ue.p=C!==0&&8>C?C:8;var z=ne.T,Y={};ne.T=Y,Zb(l,!1,f,h);try{var de=A(),Se=ne.S;if(Se!==null&&Se(Y,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Oe=MW(de,v);b0(l,f,Oe,Qa(l))}else b0(l,f,v,Qa(l))}catch(Be){b0(l,f,{then:function(){},status:"rejected",reason:Be},Qa())}finally{ue.p=C,z!==null&&Y.types!==null&&(z.types=Y.types),ne.T=z}}function BW(){}function Jb(l,f,h,v){if(l.tag!==5)throw Error(n(476));var A=zP(l).queue;VP(l,A,f,ce,h===null?BW:function(){return $P(l),h(v)})}function zP(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:ce},next:null};var h={};return f.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:h},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function $P(l){var f=zP(l);f.next===null&&(f=l.alternate.memoizedState),b0(l,f.next.queue,{},Qa())}function Xb(){return Ei(j0)}function HP(){return Sn().memoizedState}function GP(){return Sn().memoizedState}function VW(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var h=Qa();l=hc(h);var v=pc(f,l,h);v!==null&&(ka(v,f,h),g0(v,f,h)),f={cache:Sb()},l.payload=f;return}f=f.return}}function zW(l,f,h){var v=Qa();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ev(l)?KP(f,h):(h=mb(l,f,h,v),h!==null&&(ka(h,l,v),WP(h,f,v)))}function qP(l,f,h){var v=Qa();b0(l,f,h,v)}function b0(l,f,h,v){var A={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(ev(l))KP(f,A);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var z=f.lastRenderedState,Y=C(z,h);if(A.hasEagerState=!0,A.eagerState=Y,Ka(Y,z))return Mg(l,f,A,0),jr===null&&Og(),!1}catch{}if(h=mb(l,f,A,v),h!==null)return ka(h,l,v),WP(h,f,v),!0}return!1}function Zb(l,f,h,v){if(v={lane:2,revertLane:kw(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},ev(l)){if(f)throw Error(n(479))}else f=mb(l,h,v,2),f!==null&&ka(f,l,2)}function ev(l){var f=l.alternate;return l===Ft||f!==null&&f===Ft}function KP(l,f){pd=Kg=!0;var h=l.pending;h===null?f.next=f:(f.next=h.next,h.next=f),l.pending=f}function WP(l,f,h){if((h&4194048)!==0){var v=f.lanes;v&=l.pendingLanes,h|=v,f.lanes=h,zs(l,h)}}var w0={readContext:Ei,use:Jg,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};w0.useEffectEvent=fn;var YP={readContext:Ei,use:Jg,useCallback:function(l,f){return ra().memoizedState=[l,f===void 0?null:f],l},useContext:Ei,useEffect:RP,useImperativeHandle:function(l,f,h){h=h!=null?h.concat([l]):null,Zg(4194308,4,LP.bind(null,f,l),h)},useLayoutEffect:function(l,f){return Zg(4194308,4,l,f)},useInsertionEffect:function(l,f){Zg(4,2,l,f)},useMemo:function(l,f){var h=ra();f=f===void 0?null:f;var v=l();if(Bu){yi(!0);try{l()}finally{yi(!1)}}return h.memoizedState=[v,f],v},useReducer:function(l,f,h){var v=ra();if(h!==void 0){var A=h(f);if(Bu){yi(!0);try{h(f)}finally{yi(!1)}}}else A=f;return v.memoizedState=v.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},v.queue=l,l=l.dispatch=zW.bind(null,Ft,l),[v.memoizedState,l]},useRef:function(l){var f=ra();return l={current:l},f.memoizedState=l},useState:function(l){l=Gb(l);var f=l.queue,h=qP.bind(null,Ft,f);return f.dispatch=h,[l.memoizedState,h]},useDebugValue:Wb,useDeferredValue:function(l,f){var h=ra();return Yb(h,l,f)},useTransition:function(){var l=Gb(!1);return l=VP.bind(null,Ft,l.queue,!0,!1),ra().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,h){var v=Ft,A=ra();if(er){if(h===void 0)throw Error(n(407));h=h()}else{if(h=f(),jr===null)throw Error(n(349));(Jt&127)!==0||gP(v,f,h)}A.memoizedState=h;var C={value:h,getSnapshot:f};return A.queue=C,RP(yP.bind(null,v,C,l),[l]),v.flags|=2048,gd(9,{destroy:void 0},vP.bind(null,v,C,h,f),null),h},useId:function(){var l=ra(),f=jr.identifierPrefix;if(er){var h=Po,v=ko;h=(v&~(1<<32-pt(v)-1)).toString(32)+h,f="_"+f+"R_"+h,h=Wg++,0<h&&(f+="H"+h.toString(32)),f+="_"}else h=DW++,f="_"+f+"r_"+h.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:Xb,useFormState:CP,useActionState:CP,useOptimistic:function(l){var f=ra();f.memoizedState=f.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=h,f=Zb.bind(null,Ft,!0,h),h.dispatch=f,[l,f]},useMemoCache:zb,useCacheRefresh:function(){return ra().memoizedState=VW.bind(null,Ft)},useEffectEvent:function(l){var f=ra(),h={impl:l};return f.memoizedState=h,function(){if((yr&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},Qb={readContext:Ei,use:Jg,useCallback:jP,useContext:Ei,useEffect:Kb,useImperativeHandle:FP,useInsertionEffect:MP,useLayoutEffect:DP,useMemo:UP,useReducer:Xg,useRef:PP,useState:function(){return Xg(pl)},useDebugValue:Wb,useDeferredValue:function(l,f){var h=Sn();return BP(h,Rr.memoizedState,l,f)},useTransition:function(){var l=Xg(pl)[0],f=Sn().memoizedState;return[typeof l=="boolean"?l:_0(l),f]},useSyncExternalStore:mP,useId:HP,useHostTransitionStatus:Xb,useFormState:NP,useActionState:NP,useOptimistic:function(l,f){var h=Sn();return bP(h,Rr,l,f)},useMemoCache:zb,useCacheRefresh:GP};Qb.useEffectEvent=OP;var JP={readContext:Ei,use:Jg,useCallback:jP,useContext:Ei,useEffect:Kb,useImperativeHandle:FP,useInsertionEffect:MP,useLayoutEffect:DP,useMemo:UP,useReducer:Hb,useRef:PP,useState:function(){return Hb(pl)},useDebugValue:Wb,useDeferredValue:function(l,f){var h=Sn();return Rr===null?Yb(h,l,f):BP(h,Rr.memoizedState,l,f)},useTransition:function(){var l=Hb(pl)[0],f=Sn().memoizedState;return[typeof l=="boolean"?l:_0(l),f]},useSyncExternalStore:mP,useId:HP,useHostTransitionStatus:Xb,useFormState:kP,useActionState:kP,useOptimistic:function(l,f){var h=Sn();return Rr!==null?bP(h,Rr,l,f):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:zb,useCacheRefresh:GP};JP.useEffectEvent=OP;function ew(l,f,h,v){f=l.memoizedState,h=h(v,f),h=h==null?f:p({},f,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var tw={enqueueSetState:function(l,f,h){l=l._reactInternals;var v=Qa(),A=hc(v);A.payload=f,h!=null&&(A.callback=h),f=pc(l,A,v),f!==null&&(ka(f,l,v),g0(f,l,v))},enqueueReplaceState:function(l,f,h){l=l._reactInternals;var v=Qa(),A=hc(v);A.tag=1,A.payload=f,h!=null&&(A.callback=h),f=pc(l,A,v),f!==null&&(ka(f,l,v),g0(f,l,v))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var h=Qa(),v=hc(h);v.tag=2,f!=null&&(v.callback=f),f=pc(l,v,h),f!==null&&(ka(f,l,h),g0(f,l,h))}};function XP(l,f,h,v,A,C,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,z):f.prototype&&f.prototype.isPureReactComponent?!l0(h,v)||!l0(A,C):!0}function ZP(l,f,h,v){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(h,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(h,v),f.state!==l&&tw.enqueueReplaceState(f,f.state,null)}function Vu(l,f){var h=f;if("ref"in f){h={};for(var v in f)v!=="ref"&&(h[v]=f[v])}if(l=l.defaultProps){h===f&&(h=p({},h));for(var A in l)h[A]===void 0&&(h[A]=l[A])}return h}function QP(l){Rg(l)}function eR(l){console.error(l)}function tR(l){Rg(l)}function tv(l,f){try{var h=l.onUncaughtError;h(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function rR(l,f,h){try{var v=l.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function rw(l,f,h){return h=hc(h),h.tag=3,h.payload={element:null},h.callback=function(){tv(l,f)},h}function nR(l){return l=hc(l),l.tag=3,l}function iR(l,f,h,v){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var C=v.value;l.payload=function(){return A(C)},l.callback=function(){rR(f,h,v)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(l.callback=function(){rR(f,h,v),typeof A!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function $W(l,f,h,v,A){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=h.alternate,f!==null&&ld(f,h,A,!0),h=Ya.current,h!==null){switch(h.tag){case 31:case 13:return _s===null?hv():h.alternate===null&&dn===0&&(dn=3),h.flags&=-257,h.flags|=65536,h.lanes=A,v===zg?h.flags|=16384:(f=h.updateQueue,f===null?h.updateQueue=new Set([v]):f.add(v),Cw(l,v,A)),!1;case 22:return h.flags|=65536,v===zg?h.flags|=16384:(f=h.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=f):(h=f.retryQueue,h===null?f.retryQueue=new Set([v]):h.add(v)),Cw(l,v,A)),!1}throw Error(n(435,h.tag))}return Cw(l,v,A),hv(),!1}if(er)return f=Ya.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=A,v!==bb&&(l=Error(n(422),{cause:v}),f0(gs(l,h)))):(v!==bb&&(f=Error(n(423),{cause:v}),f0(gs(f,h))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,v=gs(v,h),A=rw(l.stateNode,v,A),Rb(l,A),dn!==4&&(dn=2)),!1;var C=Error(n(520),{cause:v});if(C=gs(C,h),k0===null?k0=[C]:k0.push(C),dn!==4&&(dn=2),f===null)return!0;v=gs(v,h),h=f;do{switch(h.tag){case 3:return h.flags|=65536,l=A&-A,h.lanes|=l,l=rw(h.stateNode,v,l),Rb(h,l),!1;case 1:if(f=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(_c===null||!_c.has(C))))return h.flags|=65536,A&=-A,h.lanes|=A,A=nR(A),iR(A,l,h,v),Rb(h,A),!1}h=h.return}while(h!==null);return!1}var nw=Error(n(461)),Ln=!1;function Ti(l,f,h,v){f.child=l===null?lP(f,null,h,v):Uu(f,l.child,h,v)}function aR(l,f,h,v,A){h=h.render;var C=f.ref;if("ref"in v){var z={};for(var Y in v)Y!=="ref"&&(z[Y]=v[Y])}else z=v;return Du(f),v=jb(l,f,h,z,C,A),Y=Ub(),l!==null&&!Ln?(Bb(l,f,A),ml(l,f,A)):(er&&Y&&xb(f),f.flags|=1,Ti(l,f,v,A),f.child)}function sR(l,f,h,v,A){if(l===null){var C=h.type;return typeof C=="function"&&!gb(C)&&C.defaultProps===void 0&&h.compare===null?(f.tag=15,f.type=C,oR(l,f,C,v,A)):(l=Lg(h.type,null,v,f,f.mode,A),l.ref=f.ref,l.return=f,f.child=l)}if(C=l.child,!fw(l,A)){var z=C.memoizedProps;if(h=h.compare,h=h!==null?h:l0,h(z,v)&&l.ref===f.ref)return ml(l,f,A)}return f.flags|=1,l=cl(C,v),l.ref=f.ref,l.return=f,f.child=l}function oR(l,f,h,v,A){if(l!==null){var C=l.memoizedProps;if(l0(C,v)&&l.ref===f.ref)if(Ln=!1,f.pendingProps=v=C,fw(l,A))(l.flags&131072)!==0&&(Ln=!0);else return f.lanes=l.lanes,ml(l,f,A)}return iw(l,f,h,v,A)}function lR(l,f,h,v){var A=v.children,C=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,l!==null){for(v=f.child=l.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~C}else v=0,f.child=null;return cR(l,f,C,h,v)}if((h&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Bg(f,C!==null?C.cachePool:null),C!==null?fP(f,C):Mb(),dP(f);else return v=f.lanes=536870912,cR(l,f,C!==null?C.baseLanes|h:h,h,v)}else C!==null?(Bg(f,C.cachePool),fP(f,C),gc(),f.memoizedState=null):(l!==null&&Bg(f,null),Mb(),gc());return Ti(l,f,A,h),f.child}function E0(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function cR(l,f,h,v,A){var C=Nb();return C=C===null?null:{parent:Mn._currentValue,pool:C},f.memoizedState={baseLanes:h,cachePool:C},l!==null&&Bg(f,null),Mb(),dP(f),l!==null&&ld(l,f,v,!0),f.childLanes=A,null}function rv(l,f){return f=iv({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function uR(l,f,h){return Uu(f,l.child,null,h),l=rv(f,f.pendingProps),l.flags|=2,Ja(f),f.memoizedState=null,l}function HW(l,f,h){var v=f.pendingProps,A=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(er){if(v.mode==="hidden")return l=rv(f,v),f.lanes=536870912,E0(null,l);if(Lb(f),(l=qr)?(l=wO(l,xs),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:lc!==null?{id:ko,overflow:Po}:null,retryLane:536870912,hydrationErrors:null},h=Kk(l),h.return=f,f.child=h,wi=f,qr=null)):l=null,l===null)throw uc(f);return f.lanes=536870912,null}return rv(f,v)}var C=l.memoizedState;if(C!==null){var z=C.dehydrated;if(Lb(f),A)if(f.flags&256)f.flags&=-257,f=uR(l,f,h);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(n(558));else if(Ln||ld(l,f,h,!1),A=(h&l.childLanes)!==0,Ln||A){if(v=jr,v!==null&&(z=Xi(v,h),z!==0&&z!==C.retryLane))throw C.retryLane=z,Pu(l,z),ka(v,l,z),nw;hv(),f=uR(l,f,h)}else l=C.treeContext,qr=bs(z.nextSibling),wi=f,er=!0,cc=null,xs=!1,l!==null&&Jk(f,l),f=rv(f,v),f.flags|=4096;return f}return l=cl(l.child,{mode:v.mode,children:v.children}),l.ref=f.ref,f.child=l,l.return=f,l}function nv(l,f){var h=f.ref;if(h===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(l===null||l.ref!==h)&&(f.flags|=4194816)}}function iw(l,f,h,v,A){return Du(f),h=jb(l,f,h,v,void 0,A),v=Ub(),l!==null&&!Ln?(Bb(l,f,A),ml(l,f,A)):(er&&v&&xb(f),f.flags|=1,Ti(l,f,h,A),f.child)}function fR(l,f,h,v,A,C){return Du(f),f.updateQueue=null,h=pP(f,v,h,A),hP(l),v=Ub(),l!==null&&!Ln?(Bb(l,f,C),ml(l,f,C)):(er&&v&&xb(f),f.flags|=1,Ti(l,f,h,C),f.child)}function dR(l,f,h,v,A){if(Du(f),f.stateNode===null){var C=id,z=h.contextType;typeof z=="object"&&z!==null&&(C=Ei(z)),C=new h(v,C),f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=tw,f.stateNode=C,C._reactInternals=f,C=f.stateNode,C.props=v,C.state=f.memoizedState,C.refs={},kb(f),z=h.contextType,C.context=typeof z=="object"&&z!==null?Ei(z):id,C.state=f.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(ew(f,h,z,v),C.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(z=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),z!==C.state&&tw.enqueueReplaceState(C,C.state,null),y0(f,v,C,A),v0(),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(l===null){C=f.stateNode;var Y=f.memoizedProps,de=Vu(h,Y);C.props=de;var Se=C.context,Oe=h.contextType;z=id,typeof Oe=="object"&&Oe!==null&&(z=Ei(Oe));var Be=h.getDerivedStateFromProps;Oe=typeof Be=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=f.pendingProps!==Y,Oe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||Se!==z)&&ZP(f,C,v,z),dc=!1;var Ne=f.memoizedState;C.state=Ne,y0(f,v,C,A),v0(),Se=f.memoizedState,Y||Ne!==Se||dc?(typeof Be=="function"&&(ew(f,h,Be,v),Se=f.memoizedState),(de=dc||XP(f,h,de,v,Ne,Se,z))?(Oe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(f.flags|=4194308)):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=Se),C.props=v,C.state=Se,C.context=z,v=de):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{C=f.stateNode,Pb(l,f),z=f.memoizedProps,Oe=Vu(h,z),C.props=Oe,Be=f.pendingProps,Ne=C.context,Se=h.contextType,de=id,typeof Se=="object"&&Se!==null&&(de=Ei(Se)),Y=h.getDerivedStateFromProps,(Se=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==Be||Ne!==de)&&ZP(f,C,v,de),dc=!1,Ne=f.memoizedState,C.state=Ne,y0(f,v,C,A),v0();var Pe=f.memoizedState;z!==Be||Ne!==Pe||dc||l!==null&&l.dependencies!==null&&jg(l.dependencies)?(typeof Y=="function"&&(ew(f,h,Y,v),Pe=f.memoizedState),(Oe=dc||XP(f,h,Oe,v,Ne,Pe,de)||l!==null&&l.dependencies!==null&&jg(l.dependencies))?(Se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Pe,de),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Pe,de)),typeof C.componentDidUpdate=="function"&&(f.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof C.componentDidUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=Pe),C.props=v,C.state=Pe,C.context=de,v=Oe):(typeof C.componentDidUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=1024),v=!1)}return C=v,nv(l,f),v=(f.flags&128)!==0,C||v?(C=f.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:C.render(),f.flags|=1,l!==null&&v?(f.child=Uu(f,l.child,null,A),f.child=Uu(f,null,h,A)):Ti(l,f,h,A),f.memoizedState=C.state,l=f.child):l=ml(l,f,A),l}function hR(l,f,h,v){return Ou(),f.flags|=256,Ti(l,f,h,v),f.child}var aw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sw(l){return{baseLanes:l,cachePool:rP()}}function ow(l,f,h){return l=l!==null?l.childLanes&~h:0,f&&(l|=Za),l}function pR(l,f,h){var v=f.pendingProps,A=!1,C=(f.flags&128)!==0,z;if((z=C)||(z=l!==null&&l.memoizedState===null?!1:(An.current&2)!==0),z&&(A=!0,f.flags&=-129),z=(f.flags&32)!==0,f.flags&=-33,l===null){if(er){if(A?mc(f):gc(),(l=qr)?(l=wO(l,xs),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:lc!==null?{id:ko,overflow:Po}:null,retryLane:536870912,hydrationErrors:null},h=Kk(l),h.return=f,f.child=h,wi=f,qr=null)):l=null,l===null)throw uc(f);return $w(l)?f.lanes=32:f.lanes=536870912,null}var Y=v.children;return v=v.fallback,A?(gc(),A=f.mode,Y=iv({mode:"hidden",children:Y},A),v=Ru(v,A,h,null),Y.return=f,v.return=f,Y.sibling=v,f.child=Y,v=f.child,v.memoizedState=sw(h),v.childLanes=ow(l,z,h),f.memoizedState=aw,E0(null,v)):(mc(f),lw(f,Y))}var de=l.memoizedState;if(de!==null&&(Y=de.dehydrated,Y!==null)){if(C)f.flags&256?(mc(f),f.flags&=-257,f=cw(l,f,h)):f.memoizedState!==null?(gc(),f.child=l.child,f.flags|=128,f=null):(gc(),Y=v.fallback,A=f.mode,v=iv({mode:"visible",children:v.children},A),Y=Ru(Y,A,h,null),Y.flags|=2,v.return=f,Y.return=f,v.sibling=Y,f.child=v,Uu(f,l.child,null,h),v=f.child,v.memoizedState=sw(h),v.childLanes=ow(l,z,h),f.memoizedState=aw,f=E0(null,v));else if(mc(f),$w(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var Se=z.dgst;z=Se,v=Error(n(419)),v.stack="",v.digest=z,f0({value:v,source:null,stack:null}),f=cw(l,f,h)}else if(Ln||ld(l,f,h,!1),z=(h&l.childLanes)!==0,Ln||z){if(z=jr,z!==null&&(v=Xi(z,h),v!==0&&v!==de.retryLane))throw de.retryLane=v,Pu(l,v),ka(z,l,v),nw;zw(Y)||hv(),f=cw(l,f,h)}else zw(Y)?(f.flags|=192,f.child=l.child,f=null):(l=de.treeContext,qr=bs(Y.nextSibling),wi=f,er=!0,cc=null,xs=!1,l!==null&&Jk(f,l),f=lw(f,v.children),f.flags|=4096);return f}return A?(gc(),Y=v.fallback,A=f.mode,de=l.child,Se=de.sibling,v=cl(de,{mode:"hidden",children:v.children}),v.subtreeFlags=de.subtreeFlags&65011712,Se!==null?Y=cl(Se,Y):(Y=Ru(Y,A,h,null),Y.flags|=2),Y.return=f,v.return=f,v.sibling=Y,f.child=v,E0(null,v),v=f.child,Y=l.child.memoizedState,Y===null?Y=sw(h):(A=Y.cachePool,A!==null?(de=Mn._currentValue,A=A.parent!==de?{parent:de,pool:de}:A):A=rP(),Y={baseLanes:Y.baseLanes|h,cachePool:A}),v.memoizedState=Y,v.childLanes=ow(l,z,h),f.memoizedState=aw,E0(l.child,v)):(mc(f),h=l.child,l=h.sibling,h=cl(h,{mode:"visible",children:v.children}),h.return=f,h.sibling=null,l!==null&&(z=f.deletions,z===null?(f.deletions=[l],f.flags|=16):z.push(l)),f.child=h,f.memoizedState=null,h)}function lw(l,f){return f=iv({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function iv(l,f){return l=Wa(22,l,null,f),l.lanes=0,l}function cw(l,f,h){return Uu(f,l.child,null,h),l=lw(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function mR(l,f,h){l.lanes|=f;var v=l.alternate;v!==null&&(v.lanes|=f),Tb(l.return,f,h)}function uw(l,f,h,v,A,C){var z=l.memoizedState;z===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:A,treeForkCount:C}:(z.isBackwards=f,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=h,z.tailMode=A,z.treeForkCount=C)}function gR(l,f,h){var v=f.pendingProps,A=v.revealOrder,C=v.tail;v=v.children;var z=An.current,Y=(z&2)!==0;if(Y?(z=z&1|2,f.flags|=128):z&=1,ee(An,z),Ti(l,f,v,h),v=er?u0:0,!Y&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&mR(l,h,f);else if(l.tag===19)mR(l,h,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(h=f.child,A=null;h!==null;)l=h.alternate,l!==null&&qg(l)===null&&(A=h),h=h.sibling;h=A,h===null?(A=f.child,f.child=null):(A=h.sibling,h.sibling=null),uw(f,!1,A,h,C,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=f.child,f.child=null;A!==null;){if(l=A.alternate,l!==null&&qg(l)===null){f.child=A;break}l=A.sibling,A.sibling=h,h=A,A=l}uw(f,!0,h,null,C,v);break;case"together":uw(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function ml(l,f,h){if(l!==null&&(f.dependencies=l.dependencies),xc|=f.lanes,(h&f.childLanes)===0)if(l!==null){if(ld(l,f,h,!1),(h&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(n(153));if(f.child!==null){for(l=f.child,h=cl(l,l.pendingProps),f.child=h,h.return=f;l.sibling!==null;)l=l.sibling,h=h.sibling=cl(l,l.pendingProps),h.return=f;h.sibling=null}return f.child}function fw(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&jg(l)))}function GW(l,f,h){switch(f.tag){case 3:Ie(f,f.stateNode.containerInfo),fc(f,Mn,l.memoizedState.cache),Ou();break;case 27:case 5:ge(f);break;case 4:Ie(f,f.stateNode.containerInfo);break;case 10:fc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Lb(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(mc(f),f.flags|=128,null):(h&f.child.childLanes)!==0?pR(l,f,h):(mc(f),l=ml(l,f,h),l!==null?l.sibling:null);mc(f);break;case 19:var A=(l.flags&128)!==0;if(v=(h&f.childLanes)!==0,v||(ld(l,f,h,!1),v=(h&f.childLanes)!==0),A){if(v)return gR(l,f,h);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ee(An,An.current),v)break;return null;case 22:return f.lanes=0,lR(l,f,h,f.pendingProps);case 24:fc(f,Mn,l.memoizedState.cache)}return ml(l,f,h)}function vR(l,f,h){if(l!==null)if(l.memoizedProps!==f.pendingProps)Ln=!0;else{if(!fw(l,h)&&(f.flags&128)===0)return Ln=!1,GW(l,f,h);Ln=(l.flags&131072)!==0}else Ln=!1,er&&(f.flags&1048576)!==0&&Yk(f,u0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(l=Fu(f.elementType),f.type=l,typeof l=="function")gb(l)?(v=Vu(l,v),f.tag=1,f=dR(null,f,l,v,h)):(f.tag=0,f=iw(null,f,l,v,h));else{if(l!=null){var A=l.$$typeof;if(A===M){f.tag=11,f=aR(null,f,l,v,h);break e}else if(A===N){f.tag=14,f=sR(null,f,l,v,h);break e}}throw f=fe(l)||l,Error(n(306,f,""))}}return f;case 0:return iw(l,f,f.type,f.pendingProps,h);case 1:return v=f.type,A=Vu(v,f.pendingProps),dR(l,f,v,A,h);case 3:e:{if(Ie(f,f.stateNode.containerInfo),l===null)throw Error(n(387));v=f.pendingProps;var C=f.memoizedState;A=C.element,Pb(l,f),y0(f,v,null,h);var z=f.memoizedState;if(v=z.cache,fc(f,Mn,v),v!==C.cache&&Ab(f,[Mn],h,!0),v0(),v=z.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:z.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=hR(l,f,v,h);break e}else if(v!==A){A=gs(Error(n(424)),f),f0(A),f=hR(l,f,v,h);break e}else for(l=f.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,qr=bs(l.firstChild),wi=f,er=!0,cc=null,xs=!0,h=lP(f,null,v,h),f.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ou(),v===A){f=ml(l,f,h);break e}Ti(l,f,v,h)}f=f.child}return f;case 26:return nv(l,f),l===null?(h=NO(f.type,null,f.pendingProps,null))?f.memoizedState=h:er||(h=f.type,l=f.pendingProps,v=_v(he.current).createElement(h),v[te]=f,v[ie]=l,Ai(v,h,l),st(v),f.stateNode=v):f.memoizedState=NO(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return ge(f),l===null&&er&&(v=f.stateNode=AO(f.type,f.pendingProps,he.current),wi=f,xs=!0,A=qr,Tc(f.type)?(Hw=A,qr=bs(v.firstChild)):qr=A),Ti(l,f,f.pendingProps.children,h),nv(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&er&&((A=v=qr)&&(v=bY(v,f.type,f.pendingProps,xs),v!==null?(f.stateNode=v,wi=f,qr=bs(v.firstChild),xs=!1,A=!0):A=!1),A||uc(f)),ge(f),A=f.type,C=f.pendingProps,z=l!==null?l.memoizedProps:null,v=C.children,Uw(A,C)?v=null:z!==null&&Uw(A,z)&&(f.flags|=32),f.memoizedState!==null&&(A=jb(l,f,LW,null,null,h),j0._currentValue=A),nv(l,f),Ti(l,f,v,h),f.child;case 6:return l===null&&er&&((l=h=qr)&&(h=wY(h,f.pendingProps,xs),h!==null?(f.stateNode=h,wi=f,qr=null,l=!0):l=!1),l||uc(f)),null;case 13:return pR(l,f,h);case 4:return Ie(f,f.stateNode.containerInfo),v=f.pendingProps,l===null?f.child=Uu(f,null,v,h):Ti(l,f,v,h),f.child;case 11:return aR(l,f,f.type,f.pendingProps,h);case 7:return Ti(l,f,f.pendingProps,h),f.child;case 8:return Ti(l,f,f.pendingProps.children,h),f.child;case 12:return Ti(l,f,f.pendingProps.children,h),f.child;case 10:return v=f.pendingProps,fc(f,f.type,v.value),Ti(l,f,v.children,h),f.child;case 9:return A=f.type._context,v=f.pendingProps.children,Du(f),A=Ei(A),v=v(A),f.flags|=1,Ti(l,f,v,h),f.child;case 14:return sR(l,f,f.type,f.pendingProps,h);case 15:return oR(l,f,f.type,f.pendingProps,h);case 19:return gR(l,f,h);case 31:return HW(l,f,h);case 22:return lR(l,f,h,f.pendingProps);case 24:return Du(f),v=Ei(Mn),l===null?(A=Nb(),A===null&&(A=jr,C=Sb(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=h),A=C),f.memoizedState={parent:v,cache:A},kb(f),fc(f,Mn,A)):((l.lanes&h)!==0&&(Pb(l,f),y0(f,null,null,h),v0()),A=l.memoizedState,C=f.memoizedState,A.parent!==v?(A={parent:v,cache:v},f.memoizedState=A,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=A),fc(f,Mn,v)):(v=C.cache,fc(f,Mn,v),v!==A.cache&&Ab(f,[Mn],h,!0))),Ti(l,f,f.pendingProps.children,h),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function gl(l){l.flags|=4}function dw(l,f,h,v,A){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(HR())l.flags|=8192;else throw ju=zg,Ib}else l.flags&=-16777217}function yR(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!OO(f))if(HR())l.flags|=8192;else throw ju=zg,Ib}function av(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?bo():536870912,l.lanes|=f,_d|=f)}function T0(l,f){if(!er)switch(l.tailMode){case"hidden":f=l.tail;for(var h=null;f!==null;)f.alternate!==null&&(h=f),f=f.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Kr(l){var f=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(f)for(var A=l.child;A!==null;)h|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)h|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=v,l.childLanes=h,f}function qW(l,f,h){var v=f.pendingProps;switch(_b(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(f),null;case 1:return Kr(f),null;case 3:return h=f.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),dl(Mn),le(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(od(f)?gl(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,wb())),Kr(f),null;case 26:var A=f.type,C=f.memoizedState;return l===null?(gl(f),C!==null?(Kr(f),yR(f,C)):(Kr(f),dw(f,A,null,v,h))):C?C!==l.memoizedState?(gl(f),Kr(f),yR(f,C)):(Kr(f),f.flags&=-16777217):(l=l.memoizedProps,l!==v&&gl(f),Kr(f),dw(f,A,l,v,h)),null;case 27:if(De(f),h=he.current,A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&gl(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return Kr(f),null}l=X.current,od(f)?Xk(f):(l=AO(A,v,h),f.stateNode=l,gl(f))}return Kr(f),null;case 5:if(De(f),A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&gl(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return Kr(f),null}if(C=X.current,od(f))Xk(f);else{var z=_v(he.current);switch(C){case 1:C=z.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=z.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=z.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?z.createElement(A,{is:v.is}):z.createElement(A)}}C[te]=f,C[ie]=v;e:for(z=f.child;z!==null;){if(z.tag===5||z.tag===6)C.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===f)break e;for(;z.sibling===null;){if(z.return===null||z.return===f)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}f.stateNode=C;e:switch(Ai(C,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&gl(f)}}return Kr(f),dw(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,h),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==v&&gl(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(n(166));if(l=he.current,od(f)){if(l=f.stateNode,h=f.memoizedProps,v=null,A=wi,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}l[te]=f,l=!!(l.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||pO(l.nodeValue,h)),l||uc(f,!0)}else l=_v(l).createTextNode(v),l[te]=f,f.stateNode=l}return Kr(f),null;case 31:if(h=f.memoizedState,l===null||l.memoizedState!==null){if(v=od(f),h!==null){if(l===null){if(!v)throw Error(n(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[te]=f}else Ou(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Kr(f),l=!1}else h=wb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return f.flags&256?(Ja(f),f):(Ja(f),null);if((f.flags&128)!==0)throw Error(n(558))}return Kr(f),null;case 13:if(v=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=od(f),v!==null&&v.dehydrated!==null){if(l===null){if(!A)throw Error(n(318));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[te]=f}else Ou(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Kr(f),A=!1}else A=wb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return f.flags&256?(Ja(f),f):(Ja(f),null)}return Ja(f),(f.flags&128)!==0?(f.lanes=h,f):(h=v!==null,l=l!==null&&l.memoizedState!==null,h&&(v=f.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==A&&(v.flags|=2048)),h!==l&&h&&(f.child.flags|=8192),av(f,f.updateQueue),Kr(f),null);case 4:return le(),l===null&&Mw(f.stateNode.containerInfo),Kr(f),null;case 10:return dl(f.type),Kr(f),null;case 19:if(V(An),v=f.memoizedState,v===null)return Kr(f),null;if(A=(f.flags&128)!==0,C=v.rendering,C===null)if(A)T0(v,!1);else{if(dn!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(C=qg(l),C!==null){for(f.flags|=128,T0(v,!1),l=C.updateQueue,f.updateQueue=l,av(f,l),f.subtreeFlags=0,l=h,h=f.child;h!==null;)qk(h,l),h=h.sibling;return ee(An,An.current&1|2),er&&ul(f,v.treeForkCount),f.child}l=l.sibling}v.tail!==null&&bt()>uv&&(f.flags|=128,A=!0,T0(v,!1),f.lanes=4194304)}else{if(!A)if(l=qg(C),l!==null){if(f.flags|=128,A=!0,l=l.updateQueue,f.updateQueue=l,av(f,l),T0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!er)return Kr(f),null}else 2*bt()-v.renderingStartTime>uv&&h!==536870912&&(f.flags|=128,A=!0,T0(v,!1),f.lanes=4194304);v.isBackwards?(C.sibling=f.child,f.child=C):(l=v.last,l!==null?l.sibling=C:f.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=bt(),l.sibling=null,h=An.current,ee(An,A?h&1|2:h&1),er&&ul(f,v.treeForkCount),l):(Kr(f),null);case 22:case 23:return Ja(f),Db(),v=f.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(h&536870912)!==0&&(f.flags&128)===0&&(Kr(f),f.subtreeFlags&6&&(f.flags|=8192)):Kr(f),h=f.updateQueue,h!==null&&av(f,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==h&&(f.flags|=2048),l!==null&&V(Lu),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),f.memoizedState.cache!==h&&(f.flags|=2048),dl(Mn),Kr(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function KW(l,f){switch(_b(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return dl(Mn),le(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return De(f),null;case 31:if(f.memoizedState!==null){if(Ja(f),f.alternate===null)throw Error(n(340));Ou()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(Ja(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Ou()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return V(An),null;case 4:return le(),null;case 10:return dl(f.type),null;case 22:case 23:return Ja(f),Db(),l!==null&&V(Lu),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return dl(Mn),null;case 25:return null;default:return null}}function xR(l,f){switch(_b(f),f.tag){case 3:dl(Mn),le();break;case 26:case 27:case 5:De(f);break;case 4:le();break;case 31:f.memoizedState!==null&&Ja(f);break;case 13:Ja(f);break;case 19:V(An);break;case 10:dl(f.type);break;case 22:case 23:Ja(f),Db(),l!==null&&V(Lu);break;case 24:dl(Mn)}}function A0(l,f){try{var h=f.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var A=v.next;h=A;do{if((h.tag&l)===l){v=void 0;var C=h.create,z=h.inst;v=C(),z.destroy=v}h=h.next}while(h!==A)}}catch(Y){Cr(f,f.return,Y)}}function vc(l,f,h){try{var v=f.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var C=A.next;v=C;do{if((v.tag&l)===l){var z=v.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,A=f;var de=h,Se=Y;try{Se()}catch(Oe){Cr(A,de,Oe)}}}v=v.next}while(v!==C)}}catch(Oe){Cr(f,f.return,Oe)}}function _R(l){var f=l.updateQueue;if(f!==null){var h=l.stateNode;try{uP(f,h)}catch(v){Cr(l,l.return,v)}}}function bR(l,f,h){h.props=Vu(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(v){Cr(l,f,v)}}function S0(l,f){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof h=="function"?l.refCleanup=h(v):h.current=v}}catch(A){Cr(l,f,A)}}function Ro(l,f){var h=l.ref,v=l.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(A){Cr(l,f,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){Cr(l,f,A)}else h.current=null}function wR(l){var f=l.type,h=l.memoizedProps,v=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(A){Cr(l,l.return,A)}}function hw(l,f,h){try{var v=l.stateNode;mY(v,l.type,h,f),v[ie]=f}catch(A){Cr(l,l.return,A)}}function ER(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Tc(l.type)||l.tag===4}function pw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||ER(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Tc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function mw(l,f,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,f):(f=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,f.appendChild(l),h=h._reactRootContainer,h!=null||f.onclick!==null||(f.onclick=Ut));else if(v!==4&&(v===27&&Tc(l.type)&&(h=l.stateNode,f=null),l=l.child,l!==null))for(mw(l,f,h),l=l.sibling;l!==null;)mw(l,f,h),l=l.sibling}function sv(l,f,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?h.insertBefore(l,f):h.appendChild(l);else if(v!==4&&(v===27&&Tc(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(sv(l,f,h),l=l.sibling;l!==null;)sv(l,f,h),l=l.sibling}function TR(l){var f=l.stateNode,h=l.memoizedProps;try{for(var v=l.type,A=f.attributes;A.length;)f.removeAttributeNode(A[0]);Ai(f,v,h),f[te]=l,f[ie]=h}catch(C){Cr(l,l.return,C)}}var vl=!1,Fn=!1,gw=!1,AR=typeof WeakSet=="function"?WeakSet:Set,si=null;function WW(l,f){if(l=l.containerInfo,Fw=Cv,l=Fk(l),cb(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var A=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var z=0,Y=-1,de=-1,Se=0,Oe=0,Be=l,Ne=null;t:for(;;){for(var Pe;Be!==h||A!==0&&Be.nodeType!==3||(Y=z+A),Be!==C||v!==0&&Be.nodeType!==3||(de=z+v),Be.nodeType===3&&(z+=Be.nodeValue.length),(Pe=Be.firstChild)!==null;)Ne=Be,Be=Pe;for(;;){if(Be===l)break t;if(Ne===h&&++Se===A&&(Y=z),Ne===C&&++Oe===v&&(de=z),(Pe=Be.nextSibling)!==null)break;Be=Ne,Ne=Be.parentNode}Be=Pe}h=Y===-1||de===-1?null:{start:Y,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(jw={focusedElem:l,selectionRange:h},Cv=!1,si=f;si!==null;)if(f=si,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,si=l;else for(;si!==null;){switch(f=si,C=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)A=l[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,h=f,A=C.memoizedProps,C=C.memoizedState,v=h.stateNode;try{var ct=Vu(h.type,A);l=v.getSnapshotBeforeUpdate(ct,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(wt){Cr(h,h.return,wt)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,h=l.nodeType,h===9)Vw(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Vw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=f.sibling,l!==null){l.return=f.return,si=l;break}si=f.return}}function SR(l,f,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:xl(l,h),v&4&&A0(5,h);break;case 1:if(xl(l,h),v&4)if(l=h.stateNode,f===null)try{l.componentDidMount()}catch(z){Cr(h,h.return,z)}else{var A=Vu(h.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(A,f,l.__reactInternalSnapshotBeforeUpdate)}catch(z){Cr(h,h.return,z)}}v&64&&_R(h),v&512&&S0(h,h.return);break;case 3:if(xl(l,h),v&64&&(l=h.updateQueue,l!==null)){if(f=null,h.child!==null)switch(h.child.tag){case 27:case 5:f=h.child.stateNode;break;case 1:f=h.child.stateNode}try{uP(l,f)}catch(z){Cr(h,h.return,z)}}break;case 27:f===null&&v&4&&TR(h);case 26:case 5:xl(l,h),f===null&&v&4&&wR(h),v&512&&S0(h,h.return);break;case 12:xl(l,h);break;case 31:xl(l,h),v&4&&IR(l,h);break;case 13:xl(l,h),v&4&&kR(l,h),v&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=nY.bind(null,h),EY(l,h))));break;case 22:if(v=h.memoizedState!==null||vl,!v){f=f!==null&&f.memoizedState!==null||Fn,A=vl;var C=Fn;vl=v,(Fn=f)&&!C?_l(l,h,(h.subtreeFlags&8772)!==0):xl(l,h),vl=A,Fn=C}break;case 30:break;default:xl(l,h)}}function CR(l){var f=l.alternate;f!==null&&(l.alternate=null,CR(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&He(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Qr=null,Sa=!1;function yl(l,f,h){for(h=h.child;h!==null;)NR(l,f,h),h=h.sibling}function NR(l,f,h){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Vt,h)}catch{}switch(h.tag){case 26:Fn||Ro(h,f),yl(l,f,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Fn||Ro(h,f);var v=Qr,A=Sa;Tc(h.type)&&(Qr=h.stateNode,Sa=!1),yl(l,f,h),D0(h.stateNode),Qr=v,Sa=A;break;case 5:Fn||Ro(h,f);case 6:if(v=Qr,A=Sa,Qr=null,yl(l,f,h),Qr=v,Sa=A,Qr!==null)if(Sa)try{(Qr.nodeType===9?Qr.body:Qr.nodeName==="HTML"?Qr.ownerDocument.body:Qr).removeChild(h.stateNode)}catch(C){Cr(h,f,C)}else try{Qr.removeChild(h.stateNode)}catch(C){Cr(h,f,C)}break;case 18:Qr!==null&&(Sa?(l=Qr,_O(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Nd(l)):_O(Qr,h.stateNode));break;case 4:v=Qr,A=Sa,Qr=h.stateNode.containerInfo,Sa=!0,yl(l,f,h),Qr=v,Sa=A;break;case 0:case 11:case 14:case 15:vc(2,h,f),Fn||vc(4,h,f),yl(l,f,h);break;case 1:Fn||(Ro(h,f),v=h.stateNode,typeof v.componentWillUnmount=="function"&&bR(h,f,v)),yl(l,f,h);break;case 21:yl(l,f,h);break;case 22:Fn=(v=Fn)||h.memoizedState!==null,yl(l,f,h),Fn=v;break;default:yl(l,f,h)}}function IR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Nd(l)}catch(h){Cr(f,f.return,h)}}}function kR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Nd(l)}catch(h){Cr(f,f.return,h)}}function YW(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new AR),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new AR),f;default:throw Error(n(435,l.tag))}}function ov(l,f){var h=YW(l);f.forEach(function(v){if(!h.has(v)){h.add(v);var A=iY.bind(null,l,v);v.then(A,A)}})}function Ca(l,f){var h=f.deletions;if(h!==null)for(var v=0;v<h.length;v++){var A=h[v],C=l,z=f,Y=z;e:for(;Y!==null;){switch(Y.tag){case 27:if(Tc(Y.type)){Qr=Y.stateNode,Sa=!1;break e}break;case 5:Qr=Y.stateNode,Sa=!1;break e;case 3:case 4:Qr=Y.stateNode.containerInfo,Sa=!0;break e}Y=Y.return}if(Qr===null)throw Error(n(160));NR(C,z,A),Qr=null,Sa=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)PR(f,l),f=f.sibling}var Ws=null;function PR(l,f){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ca(f,l),Na(l),v&4&&(vc(3,l,l.return),A0(3,l),vc(5,l,l.return));break;case 1:Ca(f,l),Na(l),v&512&&(Fn||h===null||Ro(h,h.return)),v&64&&vl&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var A=Ws;if(Ca(f,l),Na(l),v&512&&(Fn||h===null||Ro(h,h.return)),v&4){var C=h!==null?h.memoizedState:null;if(v=l.memoizedState,h===null)if(v===null)if(l.stateNode===null){e:{v=l.type,h=l.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Ae]||C[te]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(v),A.head.insertBefore(C,A.querySelector("head > title"))),Ai(C,v,h),C[te]=l,st(C),v=C;break e;case"link":var z=PO("link","href",A).get(v+(h.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(Y,1);break t}}C=A.createElement(v),Ai(C,v,h),A.head.appendChild(C);break;case"meta":if(z=PO("meta","content",A).get(v+(h.content||""))){for(Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(Y,1);break t}}C=A.createElement(v),Ai(C,v,h),A.head.appendChild(C);break;default:throw Error(n(468,v))}C[te]=l,st(C),v=C}l.stateNode=v}else RO(A,l.type,l.stateNode);else l.stateNode=kO(A,v,l.memoizedProps);else C!==v?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,v===null?RO(A,l.type,l.stateNode):kO(A,v,l.memoizedProps)):v===null&&l.stateNode!==null&&hw(l,l.memoizedProps,h.memoizedProps)}break;case 27:Ca(f,l),Na(l),v&512&&(Fn||h===null||Ro(h,h.return)),h!==null&&v&4&&hw(l,l.memoizedProps,h.memoizedProps);break;case 5:if(Ca(f,l),Na(l),v&512&&(Fn||h===null||Ro(h,h.return)),l.flags&32){A=l.stateNode;try{_t(A,"")}catch(ct){Cr(l,l.return,ct)}}v&4&&l.stateNode!=null&&(A=l.memoizedProps,hw(l,A,h!==null?h.memoizedProps:A)),v&1024&&(gw=!0);break;case 6:if(Ca(f,l),Na(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,h=l.stateNode;try{h.nodeValue=v}catch(ct){Cr(l,l.return,ct)}}break;case 3:if(Ev=null,A=Ws,Ws=bv(f.containerInfo),Ca(f,l),Ws=A,Na(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Nd(f.containerInfo)}catch(ct){Cr(l,l.return,ct)}gw&&(gw=!1,RR(l));break;case 4:v=Ws,Ws=bv(l.stateNode.containerInfo),Ca(f,l),Na(l),Ws=v;break;case 12:Ca(f,l),Na(l);break;case 31:Ca(f,l),Na(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,ov(l,v)));break;case 13:Ca(f,l),Na(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(cv=bt()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,ov(l,v)));break;case 22:A=l.memoizedState!==null;var de=h!==null&&h.memoizedState!==null,Se=vl,Oe=Fn;if(vl=Se||A,Fn=Oe||de,Ca(f,l),Fn=Oe,vl=Se,Na(l),v&8192)e:for(f=l.stateNode,f._visibility=A?f._visibility&-2:f._visibility|1,A&&(h===null||de||vl||Fn||zu(l)),h=null,f=l;;){if(f.tag===5||f.tag===26){if(h===null){de=h=f;try{if(C=de.stateNode,A)z=C.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Y=de.stateNode;var Be=de.memoizedProps.style,Ne=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;Y.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(ct){Cr(de,de.return,ct)}}}else if(f.tag===6){if(h===null){de=f;try{de.stateNode.nodeValue=A?"":de.memoizedProps}catch(ct){Cr(de,de.return,ct)}}}else if(f.tag===18){if(h===null){de=f;try{var Pe=de.stateNode;A?bO(Pe,!0):bO(de.stateNode,!1)}catch(ct){Cr(de,de.return,ct)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=l.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,ov(l,h))));break;case 19:Ca(f,l),Na(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,ov(l,v)));break;case 30:break;case 21:break;default:Ca(f,l),Na(l)}}function Na(l){var f=l.flags;if(f&2){try{for(var h,v=l.return;v!==null;){if(ER(v)){h=v;break}v=v.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var A=h.stateNode,C=pw(l);sv(l,C,A);break;case 5:var z=h.stateNode;h.flags&32&&(_t(z,""),h.flags&=-33);var Y=pw(l);sv(l,Y,z);break;case 3:case 4:var de=h.stateNode.containerInfo,Se=pw(l);mw(l,Se,de);break;default:throw Error(n(161))}}catch(Oe){Cr(l,l.return,Oe)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function RR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;RR(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function xl(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)SR(l,f.alternate,f),f=f.sibling}function zu(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:vc(4,f,f.return),zu(f);break;case 1:Ro(f,f.return);var h=f.stateNode;typeof h.componentWillUnmount=="function"&&bR(f,f.return,h),zu(f);break;case 27:D0(f.stateNode);case 26:case 5:Ro(f,f.return),zu(f);break;case 22:f.memoizedState===null&&zu(f);break;case 30:zu(f);break;default:zu(f)}l=l.sibling}}function _l(l,f,h){for(h=h&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,A=l,C=f,z=C.flags;switch(C.tag){case 0:case 11:case 15:_l(A,C,h),A0(4,C);break;case 1:if(_l(A,C,h),v=C,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Se){Cr(v,v.return,Se)}if(v=C,A=v.updateQueue,A!==null){var Y=v.stateNode;try{var de=A.shared.hiddenCallbacks;if(de!==null)for(A.shared.hiddenCallbacks=null,A=0;A<de.length;A++)cP(de[A],Y)}catch(Se){Cr(v,v.return,Se)}}h&&z&64&&_R(C),S0(C,C.return);break;case 27:TR(C);case 26:case 5:_l(A,C,h),h&&v===null&&z&4&&wR(C),S0(C,C.return);break;case 12:_l(A,C,h);break;case 31:_l(A,C,h),h&&z&4&&IR(A,C);break;case 13:_l(A,C,h),h&&z&4&&kR(A,C);break;case 22:C.memoizedState===null&&_l(A,C,h),S0(C,C.return);break;case 30:break;default:_l(A,C,h)}f=f.sibling}}function vw(l,f){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&d0(h))}function yw(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&d0(l))}function Ys(l,f,h,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)OR(l,f,h,v),f=f.sibling}function OR(l,f,h,v){var A=f.flags;switch(f.tag){case 0:case 11:case 15:Ys(l,f,h,v),A&2048&&A0(9,f);break;case 1:Ys(l,f,h,v);break;case 3:Ys(l,f,h,v),A&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&d0(l)));break;case 12:if(A&2048){Ys(l,f,h,v),l=f.stateNode;try{var C=f.memoizedProps,z=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(z,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(de){Cr(f,f.return,de)}}else Ys(l,f,h,v);break;case 31:Ys(l,f,h,v);break;case 13:Ys(l,f,h,v);break;case 23:break;case 22:C=f.stateNode,z=f.alternate,f.memoizedState!==null?C._visibility&2?Ys(l,f,h,v):C0(l,f):C._visibility&2?Ys(l,f,h,v):(C._visibility|=2,vd(l,f,h,v,(f.subtreeFlags&10256)!==0||!1)),A&2048&&vw(z,f);break;case 24:Ys(l,f,h,v),A&2048&&yw(f.alternate,f);break;default:Ys(l,f,h,v)}}function vd(l,f,h,v,A){for(A=A&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var C=l,z=f,Y=h,de=v,Se=z.flags;switch(z.tag){case 0:case 11:case 15:vd(C,z,Y,de,A),A0(8,z);break;case 23:break;case 22:var Oe=z.stateNode;z.memoizedState!==null?Oe._visibility&2?vd(C,z,Y,de,A):C0(C,z):(Oe._visibility|=2,vd(C,z,Y,de,A)),A&&Se&2048&&vw(z.alternate,z);break;case 24:vd(C,z,Y,de,A),A&&Se&2048&&yw(z.alternate,z);break;default:vd(C,z,Y,de,A)}f=f.sibling}}function C0(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var h=l,v=f,A=v.flags;switch(v.tag){case 22:C0(h,v),A&2048&&vw(v.alternate,v);break;case 24:C0(h,v),A&2048&&yw(v.alternate,v);break;default:C0(h,v)}f=f.sibling}}var N0=8192;function yd(l,f,h){if(l.subtreeFlags&N0)for(l=l.child;l!==null;)MR(l,f,h),l=l.sibling}function MR(l,f,h){switch(l.tag){case 26:yd(l,f,h),l.flags&N0&&l.memoizedState!==null&&DY(h,Ws,l.memoizedState,l.memoizedProps);break;case 5:yd(l,f,h);break;case 3:case 4:var v=Ws;Ws=bv(l.stateNode.containerInfo),yd(l,f,h),Ws=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=N0,N0=16777216,yd(l,f,h),N0=v):yd(l,f,h));break;default:yd(l,f,h)}}function DR(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function I0(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var v=f[h];si=v,FR(v,l)}DR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)LR(l),l=l.sibling}function LR(l){switch(l.tag){case 0:case 11:case 15:I0(l),l.flags&2048&&vc(9,l,l.return);break;case 3:I0(l);break;case 12:I0(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,lv(l)):I0(l);break;default:I0(l)}}function lv(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var h=0;h<f.length;h++){var v=f[h];si=v,FR(v,l)}DR(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:vc(8,f,f.return),lv(f);break;case 22:h=f.stateNode,h._visibility&2&&(h._visibility&=-3,lv(f));break;default:lv(f)}l=l.sibling}}function FR(l,f){for(;si!==null;){var h=si;switch(h.tag){case 0:case 11:case 15:vc(8,h,f);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:d0(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,si=v;else e:for(h=l;si!==null;){v=si;var A=v.sibling,C=v.return;if(CR(v),v===h){si=null;break e}if(A!==null){A.return=C,si=A;break e}si=C}}}var JW={getCacheForType:function(l){var f=Ei(Mn),h=f.data.get(l);return h===void 0&&(h=l(),f.data.set(l,h)),h},cacheSignal:function(){return Ei(Mn).controller.signal}},XW=typeof WeakMap=="function"?WeakMap:Map,yr=0,jr=null,qt=null,Jt=0,Sr=0,Xa=null,yc=!1,xd=!1,xw=!1,bl=0,dn=0,xc=0,$u=0,_w=0,Za=0,_d=0,k0=null,Ia=null,bw=!1,cv=0,jR=0,uv=1/0,fv=null,_c=null,Wn=0,bc=null,bd=null,wl=0,ww=0,Ew=null,UR=null,P0=0,Tw=null;function Qa(){return(yr&2)!==0&&Jt!==0?Jt&-Jt:ne.T!==null?kw():W()}function BR(){if(Za===0)if((Jt&536870912)===0||er){var l=_o;_o<<=1,(_o&3932160)===0&&(_o=262144),Za=l}else Za=536870912;return l=Ya.current,l!==null&&(l.flags|=32),Za}function ka(l,f,h){(l===jr&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)&&(wd(l,0),wc(l,Jt,Za,!1)),Ea(l,h),((yr&2)===0||l!==jr)&&(l===jr&&((yr&2)===0&&($u|=h),dn===4&&wc(l,Jt,Za,!1)),Oo(l))}function VR(l,f,h){if((yr&6)!==0)throw Error(n(327));var v=!h&&(f&127)===0&&(f&l.expiredLanes)===0||ba(l,f),A=v?eY(l,f):Sw(l,f,!0),C=v;do{if(A===0){xd&&!v&&wc(l,f,0,!1);break}else{if(h=l.current.alternate,C&&!ZW(h)){A=Sw(l,f,!1),C=!1;continue}if(A===2){if(C=f,l.errorRecoveryDisabledLanes&C)var z=0;else z=l.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){f=z;e:{var Y=l;A=k0;var de=Y.current.memoizedState.isDehydrated;if(de&&(wd(Y,z).flags|=256),z=Sw(Y,z,!1),z!==2){if(xw&&!de){Y.errorRecoveryDisabledLanes|=C,$u|=C,A=4;break e}C=Ia,Ia=A,C!==null&&(Ia===null?Ia=C:Ia.push.apply(Ia,C))}A=z}if(C=!1,A!==2)continue}}if(A===1){wd(l,0),wc(l,f,0,!0);break}e:{switch(v=l,C=A,C){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:wc(v,f,Za,!yc);break e;case 2:Ia=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(A=cv+300-bt(),10<A)){if(wc(v,f,Za,!yc),$a(v,0,!0)!==0)break e;wl=f,v.timeoutHandle=yO(zR.bind(null,v,h,Ia,fv,bw,f,Za,$u,_d,yc,C,"Throttled",-0,0),A);break e}zR(v,h,Ia,fv,bw,f,Za,$u,_d,yc,C,null,-0,0)}}break}while(!0);Oo(l)}function zR(l,f,h,v,A,C,z,Y,de,Se,Oe,Be,Ne,Pe){if(l.timeoutHandle=-1,Be=f.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ut},MR(f,C,Be);var ct=(C&62914560)===C?cv-bt():(C&4194048)===C?jR-bt():0;if(ct=LY(Be,ct),ct!==null){wl=C,l.cancelPendingCommit=ct(JR.bind(null,l,f,C,h,v,A,z,Y,de,Oe,Be,null,Ne,Pe)),wc(l,C,z,!Se);return}}JR(l,f,C,h,v,A,z,Y,de)}function ZW(l){for(var f=l;;){var h=f.tag;if((h===0||h===11||h===15)&&f.flags&16384&&(h=f.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var A=h[v],C=A.getSnapshot;A=A.value;try{if(!Ka(C(),A))return!1}catch{return!1}}if(h=f.child,f.subtreeFlags&16384&&h!==null)h.return=f,f=h;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function wc(l,f,h,v){f&=~_w,f&=~$u,l.suspendedLanes|=f,l.pingedLanes&=~f,v&&(l.warmLanes|=f),v=l.expirationTimes;for(var A=f;0<A;){var C=31-pt(A),z=1<<C;v[C]=-1,A&=~z}h!==0&&ds(l,h,f)}function dv(){return(yr&6)===0?(R0(0),!1):!0}function Aw(){if(qt!==null){if(Sr===0)var l=qt.return;else l=qt,fl=Mu=null,Vb(l),dd=null,p0=0,l=qt;for(;l!==null;)xR(l.alternate,l),l=l.return;qt=null}}function wd(l,f){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,yY(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),wl=0,Aw(),jr=l,qt=h=cl(l.current,null),Jt=f,Sr=0,Xa=null,yc=!1,xd=ba(l,f),xw=!1,_d=Za=_w=$u=xc=dn=0,Ia=k0=null,bw=!1,(f&8)!==0&&(f|=f&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=f;0<v;){var A=31-pt(v),C=1<<A;f|=l[A],v&=~C}return bl=f,Og(),h}function $R(l,f){Ft=null,ne.H=w0,f===fd||f===Vg?(f=aP(),Sr=3):f===Ib?(f=aP(),Sr=4):Sr=f===nw?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Xa=f,qt===null&&(dn=1,tv(l,gs(f,l.current)))}function HR(){var l=Ya.current;return l===null?!0:(Jt&4194048)===Jt?_s===null:(Jt&62914560)===Jt||(Jt&536870912)!==0?l===_s:!1}function GR(){var l=ne.H;return ne.H=w0,l===null?w0:l}function qR(){var l=ne.A;return ne.A=JW,l}function hv(){dn=4,yc||(Jt&4194048)!==Jt&&Ya.current!==null||(xd=!0),(xc&134217727)===0&&($u&134217727)===0||jr===null||wc(jr,Jt,Za,!1)}function Sw(l,f,h){var v=yr;yr|=2;var A=GR(),C=qR();(jr!==l||Jt!==f)&&(fv=null,wd(l,f)),f=!1;var z=dn;e:do try{if(Sr!==0&&qt!==null){var Y=qt,de=Xa;switch(Sr){case 8:Aw(),z=6;break e;case 3:case 2:case 9:case 6:Ya.current===null&&(f=!0);var Se=Sr;if(Sr=0,Xa=null,Ed(l,Y,de,Se),h&&xd){z=0;break e}break;default:Se=Sr,Sr=0,Xa=null,Ed(l,Y,de,Se)}}QW(),z=dn;break}catch(Oe){$R(l,Oe)}while(!0);return f&&l.shellSuspendCounter++,fl=Mu=null,yr=v,ne.H=A,ne.A=C,qt===null&&(jr=null,Jt=0,Og()),z}function QW(){for(;qt!==null;)KR(qt)}function eY(l,f){var h=yr;yr|=2;var v=GR(),A=qR();jr!==l||Jt!==f?(fv=null,uv=bt()+500,wd(l,f)):xd=ba(l,f);e:do try{if(Sr!==0&&qt!==null){f=qt;var C=Xa;t:switch(Sr){case 1:Sr=0,Xa=null,Ed(l,f,C,1);break;case 2:case 9:if(nP(C)){Sr=0,Xa=null,WR(f);break}f=function(){Sr!==2&&Sr!==9||jr!==l||(Sr=7),Oo(l)},C.then(f,f);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:nP(C)?(Sr=0,Xa=null,WR(f)):(Sr=0,Xa=null,Ed(l,f,C,7));break;case 5:var z=null;switch(qt.tag){case 26:z=qt.memoizedState;case 5:case 27:var Y=qt;if(z?OO(z):Y.stateNode.complete){Sr=0,Xa=null;var de=Y.sibling;if(de!==null)qt=de;else{var Se=Y.return;Se!==null?(qt=Se,pv(Se)):qt=null}break t}}Sr=0,Xa=null,Ed(l,f,C,5);break;case 6:Sr=0,Xa=null,Ed(l,f,C,6);break;case 8:Aw(),dn=6;break e;default:throw Error(n(462))}}tY();break}catch(Oe){$R(l,Oe)}while(!0);return fl=Mu=null,ne.H=v,ne.A=A,yr=h,qt!==null?0:(jr=null,Jt=0,Og(),dn)}function tY(){for(;qt!==null&&!Gr();)KR(qt)}function KR(l){var f=vR(l.alternate,l,bl);l.memoizedProps=l.pendingProps,f===null?pv(l):qt=f}function WR(l){var f=l,h=f.alternate;switch(f.tag){case 15:case 0:f=fR(h,f,f.pendingProps,f.type,void 0,Jt);break;case 11:f=fR(h,f,f.pendingProps,f.type.render,f.ref,Jt);break;case 5:Vb(f);default:xR(h,f),f=qt=qk(f,bl),f=vR(h,f,bl)}l.memoizedProps=l.pendingProps,f===null?pv(l):qt=f}function Ed(l,f,h,v){fl=Mu=null,Vb(f),dd=null,p0=0;var A=f.return;try{if($W(l,A,f,h,Jt)){dn=1,tv(l,gs(h,l.current)),qt=null;return}}catch(C){if(A!==null)throw qt=A,C;dn=1,tv(l,gs(h,l.current)),qt=null;return}f.flags&32768?(er||v===1?l=!0:xd||(Jt&536870912)!==0?l=!1:(yc=l=!0,(v===2||v===9||v===3||v===6)&&(v=Ya.current,v!==null&&v.tag===13&&(v.flags|=16384))),YR(f,l)):pv(f)}function pv(l){var f=l;do{if((f.flags&32768)!==0){YR(f,yc);return}l=f.return;var h=qW(f.alternate,f,bl);if(h!==null){qt=h;return}if(f=f.sibling,f!==null){qt=f;return}qt=f=l}while(f!==null);dn===0&&(dn=5)}function YR(l,f){do{var h=KW(l.alternate,l);if(h!==null){h.flags&=32767,qt=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!f&&(l=l.sibling,l!==null)){qt=l;return}qt=l=h}while(l!==null);dn=6,qt=null}function JR(l,f,h,v,A,C,z,Y,de){l.cancelPendingCommit=null;do mv();while(Wn!==0);if((yr&6)!==0)throw Error(n(327));if(f!==null){if(f===l.current)throw Error(n(177));if(C=f.lanes|f.childLanes,C|=pb,bu(l,h,C,z,Y,de),l===jr&&(qt=jr=null,Jt=0),bd=f,bc=l,wl=h,ww=C,Ew=A,UR=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,aY(ft,function(){return tO(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=ne.T,ne.T=null,A=ue.p,ue.p=2,z=yr,yr|=4;try{WW(l,f,h)}finally{yr=z,ue.p=A,ne.T=v}}Wn=1,XR(),ZR(),QR()}}function XR(){if(Wn===1){Wn=0;var l=bc,f=bd,h=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null;var v=ue.p;ue.p=2;var A=yr;yr|=4;try{PR(f,l);var C=jw,z=Fk(l.containerInfo),Y=C.focusedElem,de=C.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&Lk(Y.ownerDocument.documentElement,Y)){if(de!==null&&cb(Y)){var Se=de.start,Oe=de.end;if(Oe===void 0&&(Oe=Se),"selectionStart"in Y)Y.selectionStart=Se,Y.selectionEnd=Math.min(Oe,Y.value.length);else{var Be=Y.ownerDocument||document,Ne=Be&&Be.defaultView||window;if(Ne.getSelection){var Pe=Ne.getSelection(),ct=Y.textContent.length,wt=Math.min(de.start,ct),Mr=de.end===void 0?wt:Math.min(de.end,ct);!Pe.extend&&wt>Mr&&(z=Mr,Mr=wt,wt=z);var ve=Dk(Y,wt),pe=Dk(Y,Mr);if(ve&&pe&&(Pe.rangeCount!==1||Pe.anchorNode!==ve.node||Pe.anchorOffset!==ve.offset||Pe.focusNode!==pe.node||Pe.focusOffset!==pe.offset)){var Te=Be.createRange();Te.setStart(ve.node,ve.offset),Pe.removeAllRanges(),wt>Mr?(Pe.addRange(Te),Pe.extend(pe.node,pe.offset)):(Te.setEnd(pe.node,pe.offset),Pe.addRange(Te))}}}}for(Be=[],Pe=Y;Pe=Pe.parentNode;)Pe.nodeType===1&&Be.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Be.length;Y++){var Fe=Be[Y];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}Cv=!!Fw,jw=Fw=null}finally{yr=A,ue.p=v,ne.T=h}}l.current=f,Wn=2}}function ZR(){if(Wn===2){Wn=0;var l=bc,f=bd,h=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||h){h=ne.T,ne.T=null;var v=ue.p;ue.p=2;var A=yr;yr|=4;try{SR(l,f.alternate,f)}finally{yr=A,ue.p=v,ne.T=h}}Wn=3}}function QR(){if(Wn===4||Wn===3){Wn=0,Br();var l=bc,f=bd,h=wl,v=UR;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Wn=5:(Wn=0,bd=bc=null,eO(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(_c=null),Rn(h),f=f.stateNode,_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Vt,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=ne.T,A=ue.p,ue.p=2,ne.T=null;try{for(var C=l.onRecoverableError,z=0;z<v.length;z++){var Y=v[z];C(Y.value,{componentStack:Y.stack})}}finally{ne.T=f,ue.p=A}}(wl&3)!==0&&mv(),Oo(l),A=l.pendingLanes,(h&261930)!==0&&(A&42)!==0?l===Tw?P0++:(P0=0,Tw=l):P0=0,R0(0)}}function eO(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,d0(f)))}function mv(){return XR(),ZR(),QR(),tO()}function tO(){if(Wn!==5)return!1;var l=bc,f=ww;ww=0;var h=Rn(wl),v=ne.T,A=ue.p;try{ue.p=32>h?32:h,ne.T=null,h=Ew,Ew=null;var C=bc,z=wl;if(Wn=0,bd=bc=null,wl=0,(yr&6)!==0)throw Error(n(331));var Y=yr;if(yr|=4,LR(C.current),OR(C,C.current,z,h),yr=Y,R0(0,!1),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Vt,C)}catch{}return!0}finally{ue.p=A,ne.T=v,eO(l,f)}}function rO(l,f,h){f=gs(h,f),f=rw(l.stateNode,f,2),l=pc(l,f,2),l!==null&&(Ea(l,2),Oo(l))}function Cr(l,f,h){if(l.tag===3)rO(l,l,h);else for(;f!==null;){if(f.tag===3){rO(f,l,h);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_c===null||!_c.has(v))){l=gs(h,l),h=nR(2),v=pc(f,h,2),v!==null&&(iR(h,v,f,l),Ea(v,2),Oo(v));break}}f=f.return}}function Cw(l,f,h){var v=l.pingCache;if(v===null){v=l.pingCache=new XW;var A=new Set;v.set(f,A)}else A=v.get(f),A===void 0&&(A=new Set,v.set(f,A));A.has(h)||(xw=!0,A.add(h),l=rY.bind(null,l,f,h),f.then(l,l))}function rY(l,f,h){var v=l.pingCache;v!==null&&v.delete(f),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,jr===l&&(Jt&h)===h&&(dn===4||dn===3&&(Jt&62914560)===Jt&&300>bt()-cv?(yr&2)===0&&wd(l,0):_w|=h,_d===Jt&&(_d=0)),Oo(l)}function nO(l,f){f===0&&(f=bo()),l=Pu(l,f),l!==null&&(Ea(l,f),Oo(l))}function nY(l){var f=l.memoizedState,h=0;f!==null&&(h=f.retryLane),nO(l,h)}function iY(l,f){var h=0;switch(l.tag){case 31:case 13:var v=l.stateNode,A=l.memoizedState;A!==null&&(h=A.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(f),nO(l,h)}function aY(l,f){return ht(l,f)}var gv=null,Td=null,Nw=!1,vv=!1,Iw=!1,Ec=0;function Oo(l){l!==Td&&l.next===null&&(Td===null?gv=Td=l:Td=Td.next=l),vv=!0,Nw||(Nw=!0,oY())}function R0(l,f){if(!Iw&&vv){Iw=!0;do for(var h=!1,v=gv;v!==null;){if(l!==0){var A=v.pendingLanes;if(A===0)var C=0;else{var z=v.suspendedLanes,Y=v.pingedLanes;C=(1<<31-pt(42|l)+1)-1,C&=A&~(z&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,oO(v,C))}else C=Jt,C=$a(v,v===jr?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||ba(v,C)||(h=!0,oO(v,C));v=v.next}while(h);Iw=!1}}function sY(){iO()}function iO(){vv=Nw=!1;var l=0;Ec!==0&&vY()&&(l=Ec);for(var f=bt(),h=null,v=gv;v!==null;){var A=v.next,C=aO(v,f);C===0?(v.next=null,h===null?gv=A:h.next=A,A===null&&(Td=h)):(h=v,(l!==0||(C&3)!==0)&&(vv=!0)),v=A}Wn!==0&&Wn!==5||R0(l),Ec!==0&&(Ec=0)}function aO(l,f){for(var h=l.suspendedLanes,v=l.pingedLanes,A=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var z=31-pt(C),Y=1<<z,de=A[z];de===-1?((Y&h)===0||(Y&v)!==0)&&(A[z]=_u(Y,f)):de<=f&&(l.expiredLanes|=Y),C&=~Y}if(f=jr,h=Jt,h=$a(l,l===f?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,h===0||l===f&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&It(v),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||ba(l,h)){if(f=h&-h,f===l.callbackPriority)return f;switch(v!==null&&It(v),Rn(h)){case 2:case 8:h=Er;break;case 32:h=ft;break;case 268435456:h=Et;break;default:h=ft}return v=sO.bind(null,l),h=ht(h,v),l.callbackPriority=f,l.callbackNode=h,f}return v!==null&&v!==null&&It(v),l.callbackPriority=2,l.callbackNode=null,2}function sO(l,f){if(Wn!==0&&Wn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(mv()&&l.callbackNode!==h)return null;var v=Jt;return v=$a(l,l===jr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(VR(l,v,f),aO(l,bt()),l.callbackNode!=null&&l.callbackNode===h?sO.bind(null,l):null)}function oO(l,f){if(mv())return null;VR(l,f,!0)}function oY(){xY(function(){(yr&6)!==0?ht(Wt,sY):iO()})}function kw(){if(Ec===0){var l=cd;l===0&&(l=_a,_a<<=1,(_a&261888)===0&&(_a=256)),Ec=l}return Ec}function lO(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:En(""+l)}function cO(l,f){var h=f.ownerDocument.createElement("input");return h.name=f.name,h.value=f.value,l.id&&h.setAttribute("form",l.id),f.parentNode.insertBefore(h,f),l=new FormData(l),h.parentNode.removeChild(h),l}function lY(l,f,h,v,A){if(f==="submit"&&h&&h.stateNode===A){var C=lO((A[ie]||null).action),z=v.submitter;z&&(f=(f=z[ie]||null)?lO(f.formAction):z.getAttribute("formAction"),f!==null&&(C=f,z=null));var Y=new So("action","action",null,v,A);l.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Ec!==0){var de=z?cO(A,z):new FormData(A);Jb(h,{pending:!0,data:de,method:A.method,action:C},null,de)}}else typeof C=="function"&&(Y.preventDefault(),de=z?cO(A,z):new FormData(A),Jb(h,{pending:!0,data:de,method:A.method,action:C},C,de))},currentTarget:A}]})}}for(var Pw=0;Pw<hb.length;Pw++){var Rw=hb[Pw],cY=Rw.toLowerCase(),uY=Rw[0].toUpperCase()+Rw.slice(1);Ks(cY,"on"+uY)}Ks(Bk,"onAnimationEnd"),Ks(Vk,"onAnimationIteration"),Ks(zk,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(SW,"onTransitionRun"),Ks(CW,"onTransitionStart"),Ks(NW,"onTransitionCancel"),Ks($k,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var O0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(O0));function uO(l,f){f=(f&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],A=v.event;v=v.listeners;e:{var C=void 0;if(f)for(var z=v.length-1;0<=z;z--){var Y=v[z],de=Y.instance,Se=Y.currentTarget;if(Y=Y.listener,de!==C&&A.isPropagationStopped())break e;C=Y,A.currentTarget=Se;try{C(A)}catch(Oe){Rg(Oe)}A.currentTarget=null,C=de}else for(z=0;z<v.length;z++){if(Y=v[z],de=Y.instance,Se=Y.currentTarget,Y=Y.listener,de!==C&&A.isPropagationStopped())break e;C=Y,A.currentTarget=Se;try{C(A)}catch(Oe){Rg(Oe)}A.currentTarget=null,C=de}}}}function Kt(l,f){var h=f[ye];h===void 0&&(h=f[ye]=new Set);var v=l+"__bubble";h.has(v)||(fO(f,l,2,!1),h.add(v))}function Ow(l,f,h){var v=0;f&&(v|=4),fO(h,l,v,f)}var yv="_reactListening"+Math.random().toString(36).slice(2);function Mw(l){if(!l[yv]){l[yv]=!0,pr.forEach(function(h){h!=="selectionchange"&&(fY.has(h)||Ow(h,!1,l),Ow(h,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[yv]||(f[yv]=!0,Ow("selectionchange",!1,f))}}function fO(l,f,h,v){switch(BO(f)){case 2:var A=UY;break;case 8:A=BY;break;default:A=Yw}h=A.bind(null,f,h,l),A=void 0,!Eu||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),v?A!==void 0?l.addEventListener(f,h,{capture:!0,passive:A}):l.addEventListener(f,h,!0):A!==void 0?l.addEventListener(f,h,{passive:A}):l.addEventListener(f,h,!1)}function Dw(l,f,h,v,A){var C=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var Y=v.stateNode.containerInfo;if(Y===A)break;if(z===4)for(z=v.return;z!==null;){var de=z.tag;if((de===3||de===4)&&z.stateNode.containerInfo===A)return;z=z.return}for(;Y!==null;){if(z=We(Y),z===null)return;if(de=z.tag,de===5||de===6||de===26||de===27){v=C=z;continue e}Y=Y.parentNode}}v=v.return}Aa(function(){var Se=C,Oe=an(h),Be=[];e:{var Ne=Hk.get(l);if(Ne!==void 0){var Pe=So,ct=l;switch(l){case"keypress":if(Au(h)===0)break e;case"keydown":case"keyup":Pe=Ig;break;case"focusin":ct="focus",Pe=Cu;break;case"focusout":ct="blur",Pe=Cu;break;case"beforeblur":case"afterblur":Pe=Cu;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=i0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=_g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=j;break;case Bk:case Vk:case zk:Pe=wg;break;case $k:Pe=Q;break;case"scroll":case"scrollend":Pe=n0;break;case"wheel":Pe=ke;break;case"copy":case"cut":case"paste":Pe=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=ll;break;case"toggle":case"beforetoggle":Pe=Lt}var wt=(f&4)!==0,Mr=!wt&&(l==="scroll"||l==="scrollend"),ve=wt?Ne!==null?Ne+"Capture":null:Ne;wt=[];for(var pe=Se,Te;pe!==null;){var Fe=pe;if(Te=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Te===null||ve===null||(Fe=ea(pe,ve),Fe!=null&&wt.push(M0(pe,Fe,Te))),Mr)break;pe=pe.return}0<wt.length&&(Ne=new Pe(Ne,ct,null,h,Oe),Be.push({event:Ne,listeners:wt}))}}if((f&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",Pe=l==="mouseout"||l==="pointerout",Ne&&h!==xi&&(ct=h.relatedTarget||h.fromElement)&&(We(ct)||ct[oe]))break e;if((Pe||Ne)&&(Ne=Oe.window===Oe?Oe:(Ne=Oe.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Pe?(ct=h.relatedTarget||h.toElement,Pe=Se,ct=ct?We(ct):null,ct!==null&&(Mr=a(ct),wt=ct.tag,ct!==Mr||wt!==5&&wt!==27&&wt!==6)&&(ct=null)):(Pe=null,ct=Se),Pe!==ct)){if(wt=i0,Fe="onMouseLeave",ve="onMouseEnter",pe="mouse",(l==="pointerout"||l==="pointerover")&&(wt=ll,Fe="onPointerLeave",ve="onPointerEnter",pe="pointer"),Mr=Pe==null?Ne:Ge(Pe),Te=ct==null?Ne:Ge(ct),Ne=new wt(Fe,pe+"leave",Pe,h,Oe),Ne.target=Mr,Ne.relatedTarget=Te,Fe=null,We(Oe)===Se&&(wt=new wt(ve,pe+"enter",ct,h,Oe),wt.target=Te,wt.relatedTarget=Mr,Fe=wt),Mr=Fe,Pe&&ct)t:{for(wt=dY,ve=Pe,pe=ct,Te=0,Fe=ve;Fe;Fe=wt(Fe))Te++;Fe=0;for(var vt=pe;vt;vt=wt(vt))Fe++;for(;0<Te-Fe;)ve=wt(ve),Te--;for(;0<Fe-Te;)pe=wt(pe),Fe--;for(;Te--;){if(ve===pe||pe!==null&&ve===pe.alternate){wt=ve;break t}ve=wt(ve),pe=wt(pe)}wt=null}else wt=null;Pe!==null&&dO(Be,Ne,Pe,wt,!1),ct!==null&&Mr!==null&&dO(Be,Mr,ct,wt,!0)}}e:{if(Ne=Se?Ge(Se):window,Pe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ne.type==="file")var cr=Ik;else if(Ck(Ne))if(kk)cr=EW;else{cr=bW;var dt=_W}else Pe=Ne.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?Se&&Gt(Se.elementType)&&(cr=Ik):cr=wW;if(cr&&(cr=cr(l,Se))){Nk(Be,cr,h,Oe);break e}dt&&dt(l,Ne,Se),l==="focusout"&&Se&&Ne.type==="number"&&Se.memoizedProps.value!=null&&Me(Ne,"number",Ne.value)}switch(dt=Se?Ge(Se):window,l){case"focusin":(Ck(dt)||dt.contentEditable==="true")&&(td=dt,ub=Se,c0=null);break;case"focusout":c0=ub=td=null;break;case"mousedown":fb=!0;break;case"contextmenu":case"mouseup":case"dragend":fb=!1,jk(Be,h,Oe);break;case"selectionchange":if(AW)break;case"keydown":case"keyup":jk(Be,h,Oe)}var Bt;if(vr)e:{switch(l){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else ed?Nu(l,h)&&(Xt="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Xt="onCompositionStart");Xt&&(Io&&h.locale!=="ko"&&(ed||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&ed&&(Bt=r0()):(Ao=Oe,t0="value"in Ao?Ao.value:Ao.textContent,ed=!0)),dt=xv(Se,Xt),0<dt.length&&(Xt=new No(Xt,l,null,h,Oe),Be.push({event:Xt,listeners:dt}),Bt?Xt.data=Bt:(Bt=Qf(h),Bt!==null&&(Xt.data=Bt)))),(Bt=ps?gW(l,h):vW(l,h))&&(Xt=xv(Se,"onBeforeInput"),0<Xt.length&&(dt=new No("onBeforeInput","beforeinput",null,h,Oe),Be.push({event:dt,listeners:Xt}),dt.data=Bt)),lY(Be,l,Se,h,Oe)}uO(Be,f)})}function M0(l,f,h){return{instance:l,listener:f,currentTarget:h}}function xv(l,f){for(var h=f+"Capture",v=[];l!==null;){var A=l,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=ea(l,h),A!=null&&v.unshift(M0(l,A,C)),A=ea(l,f),A!=null&&v.push(M0(l,A,C))),l.tag===3)return v;l=l.return}return[]}function dY(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function dO(l,f,h,v,A){for(var C=f._reactName,z=[];h!==null&&h!==v;){var Y=h,de=Y.alternate,Se=Y.stateNode;if(Y=Y.tag,de!==null&&de===v)break;Y!==5&&Y!==26&&Y!==27||Se===null||(de=Se,A?(Se=ea(h,C),Se!=null&&z.unshift(M0(h,Se,de))):A||(Se=ea(h,C),Se!=null&&z.push(M0(h,Se,de)))),h=h.return}z.length!==0&&l.push({event:f,listeners:z})}var hY=/\r\n?/g,pY=/\u0000|\uFFFD/g;function hO(l){return(typeof l=="string"?l:""+l).replace(hY,`
`).replace(pY,"")}function pO(l,f){return f=hO(f),hO(l)===f}function Or(l,f,h,v,A,C){switch(h){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||_t(l,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&_t(l,""+v);break;case"className":Qi(l,"class",v);break;case"tabIndex":Qi(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(l,h,v);break;case"style":kt(l,v,C);break;case"data":if(f!=="object"){Qi(l,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||h!=="href")){l.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=En(""+v),l.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(f!=="input"&&Or(l,f,"name",A.name,A,null),Or(l,f,"formEncType",A.formEncType,A,null),Or(l,f,"formMethod",A.formMethod,A,null),Or(l,f,"formTarget",A.formTarget,A,null)):(Or(l,f,"encType",A.encType,A,null),Or(l,f,"method",A.method,A,null),Or(l,f,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=En(""+v),l.setAttribute(h,v);break;case"onClick":v!=null&&(l.onclick=Ut);break;case"onScroll":v!=null&&Kt("scroll",l);break;case"onScrollEnd":v!=null&&Kt("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}h=En(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""+v):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":v===!0?l.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,v):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(h,v):l.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(h):l.setAttribute(h,v);break;case"popover":Kt("beforetoggle",l),Kt("toggle",l),ai(l,"popover",v);break;case"xlinkActuate":un(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":un(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":un(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":un(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":un(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":un(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":un(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":un(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":un(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ai(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Yt.get(h)||h,ai(l,h,v))}}function Lw(l,f,h,v,A,C){switch(h){case"style":kt(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"children":typeof v=="string"?_t(l,v):(typeof v=="number"||typeof v=="bigint")&&_t(l,""+v);break;case"onScroll":v!=null&&Kt("scroll",l);break;case"onScrollEnd":v!=null&&Kt("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Ut);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mr.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),f=h.slice(2,A?h.length-7:void 0),C=l[ie]||null,C=C!=null?C[h]:null,typeof C=="function"&&l.removeEventListener(f,C,A),typeof v=="function")){typeof C!="function"&&C!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(f,v,A);break e}h in l?l[h]=v:v===!0?l.setAttribute(h,""):ai(l,h,v)}}}function Ai(l,f,h){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",l),Kt("load",l);var v=!1,A=!1,C;for(C in h)if(h.hasOwnProperty(C)){var z=h[C];if(z!=null)switch(C){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Or(l,f,C,z,h,null)}}A&&Or(l,f,"srcSet",h.srcSet,h,null),v&&Or(l,f,"src",h.src,h,null);return;case"input":Kt("invalid",l);var Y=C=z=A=null,de=null,Se=null;for(v in h)if(h.hasOwnProperty(v)){var Oe=h[v];if(Oe!=null)switch(v){case"name":A=Oe;break;case"type":z=Oe;break;case"checked":de=Oe;break;case"defaultChecked":Se=Oe;break;case"value":C=Oe;break;case"defaultValue":Y=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,f));break;default:Or(l,f,v,Oe,h,null)}}se(l,C,Y,de,Se,z,A,!1);return;case"select":Kt("invalid",l),v=z=C=null;for(A in h)if(h.hasOwnProperty(A)&&(Y=h[A],Y!=null))switch(A){case"value":C=Y;break;case"defaultValue":z=Y;break;case"multiple":v=Y;default:Or(l,f,A,Y,h,null)}f=C,h=z,l.multiple=!!v,f!=null?qe(l,!!v,f,!1):h!=null&&qe(l,!!v,h,!0);return;case"textarea":Kt("invalid",l),C=A=v=null;for(z in h)if(h.hasOwnProperty(z)&&(Y=h[z],Y!=null))switch(z){case"value":v=Y;break;case"defaultValue":A=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Or(l,f,z,Y,h,null)}mt(l,v,A,C);return;case"option":for(de in h)h.hasOwnProperty(de)&&(v=h[de],v!=null)&&(de==="selected"?l.selected=v&&typeof v!="function"&&typeof v!="symbol":Or(l,f,de,v,h,null));return;case"dialog":Kt("beforetoggle",l),Kt("toggle",l),Kt("cancel",l),Kt("close",l);break;case"iframe":case"object":Kt("load",l);break;case"video":case"audio":for(v=0;v<O0.length;v++)Kt(O0[v],l);break;case"image":Kt("error",l),Kt("load",l);break;case"details":Kt("toggle",l);break;case"embed":case"source":case"link":Kt("error",l),Kt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in h)if(h.hasOwnProperty(Se)&&(v=h[Se],v!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Or(l,f,Se,v,h,null)}return;default:if(Gt(f)){for(Oe in h)h.hasOwnProperty(Oe)&&(v=h[Oe],v!==void 0&&Lw(l,f,Oe,v,h,void 0));return}}for(Y in h)h.hasOwnProperty(Y)&&(v=h[Y],v!=null&&Or(l,f,Y,v,h,null))}function mY(l,f,h,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,z=null,Y=null,de=null,Se=null,Oe=null;for(Pe in h){var Be=h[Pe];if(h.hasOwnProperty(Pe)&&Be!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":de=Be;default:v.hasOwnProperty(Pe)||Or(l,f,Pe,null,v,Be)}}for(var Ne in v){var Pe=v[Ne];if(Be=h[Ne],v.hasOwnProperty(Ne)&&(Pe!=null||Be!=null))switch(Ne){case"type":C=Pe;break;case"name":A=Pe;break;case"checked":Se=Pe;break;case"defaultChecked":Oe=Pe;break;case"value":z=Pe;break;case"defaultValue":Y=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,f));break;default:Pe!==Be&&Or(l,f,Ne,Pe,v,Be)}}$s(l,z,Y,de,Se,Oe,C,A);return;case"select":Pe=z=Y=Ne=null;for(C in h)if(de=h[C],h.hasOwnProperty(C)&&de!=null)switch(C){case"value":break;case"multiple":Pe=de;default:v.hasOwnProperty(C)||Or(l,f,C,null,v,de)}for(A in v)if(C=v[A],de=h[A],v.hasOwnProperty(A)&&(C!=null||de!=null))switch(A){case"value":Ne=C;break;case"defaultValue":Y=C;break;case"multiple":z=C;default:C!==de&&Or(l,f,A,C,v,de)}f=Y,h=z,v=Pe,Ne!=null?qe(l,!!h,Ne,!1):!!v!=!!h&&(f!=null?qe(l,!!h,f,!0):qe(l,!!h,h?[]:"",!1));return;case"textarea":Pe=Ne=null;for(Y in h)if(A=h[Y],h.hasOwnProperty(Y)&&A!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Or(l,f,Y,null,v,A)}for(z in v)if(A=v[z],C=h[z],v.hasOwnProperty(z)&&(A!=null||C!=null))switch(z){case"value":Ne=A;break;case"defaultValue":Pe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==C&&Or(l,f,z,A,v,C)}lt(l,Ne,Pe);return;case"option":for(var ct in h)Ne=h[ct],h.hasOwnProperty(ct)&&Ne!=null&&!v.hasOwnProperty(ct)&&(ct==="selected"?l.selected=!1:Or(l,f,ct,null,v,Ne));for(de in v)Ne=v[de],Pe=h[de],v.hasOwnProperty(de)&&Ne!==Pe&&(Ne!=null||Pe!=null)&&(de==="selected"?l.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol":Or(l,f,de,Ne,v,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in h)Ne=h[wt],h.hasOwnProperty(wt)&&Ne!=null&&!v.hasOwnProperty(wt)&&Or(l,f,wt,null,v,Ne);for(Se in v)if(Ne=v[Se],Pe=h[Se],v.hasOwnProperty(Se)&&Ne!==Pe&&(Ne!=null||Pe!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,f));break;default:Or(l,f,Se,Ne,v,Pe)}return;default:if(Gt(f)){for(var Mr in h)Ne=h[Mr],h.hasOwnProperty(Mr)&&Ne!==void 0&&!v.hasOwnProperty(Mr)&&Lw(l,f,Mr,void 0,v,Ne);for(Oe in v)Ne=v[Oe],Pe=h[Oe],!v.hasOwnProperty(Oe)||Ne===Pe||Ne===void 0&&Pe===void 0||Lw(l,f,Oe,Ne,v,Pe);return}}for(var ve in h)Ne=h[ve],h.hasOwnProperty(ve)&&Ne!=null&&!v.hasOwnProperty(ve)&&Or(l,f,ve,null,v,Ne);for(Be in v)Ne=v[Be],Pe=h[Be],!v.hasOwnProperty(Be)||Ne===Pe||Ne==null&&Pe==null||Or(l,f,Be,Ne,v,Pe)}function mO(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gY(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var A=h[v],C=A.transferSize,z=A.initiatorType,Y=A.duration;if(C&&Y&&mO(z)){for(z=0,Y=A.responseEnd,v+=1;v<h.length;v++){var de=h[v],Se=de.startTime;if(Se>Y)break;var Oe=de.transferSize,Be=de.initiatorType;Oe&&mO(Be)&&(de=de.responseEnd,z+=Oe*(de<Y?1:(Y-Se)/(de-Se)))}if(--v,f+=8*(C+z)/(A.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Fw=null,jw=null;function _v(l){return l.nodeType===9?l:l.ownerDocument}function gO(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vO(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function Uw(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Bw=null;function vY(){var l=window.event;return l&&l.type==="popstate"?l===Bw?!1:(Bw=l,!0):(Bw=null,!1)}var yO=typeof setTimeout=="function"?setTimeout:void 0,yY=typeof clearTimeout=="function"?clearTimeout:void 0,xO=typeof Promise=="function"?Promise:void 0,xY=typeof queueMicrotask=="function"?queueMicrotask:typeof xO<"u"?function(l){return xO.resolve(null).then(l).catch(_Y)}:yO;function _Y(l){setTimeout(function(){throw l})}function Tc(l){return l==="head"}function _O(l,f){var h=f,v=0;do{var A=h.nextSibling;if(l.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(v===0){l.removeChild(A),Nd(f);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")D0(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,D0(h);for(var C=h.firstChild;C;){var z=C.nextSibling,Y=C.nodeName;C[Ae]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=z}}else h==="body"&&D0(l.ownerDocument.body);h=A}while(h);Nd(f)}function bO(l,f){var h=l;l=0;do{var v=h.nextSibling;if(h.nodeType===1?f?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(f?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=v}while(h)}function Vw(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var h=f;switch(f=f.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Vw(h),He(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function bY(l,f,h,v){for(;l.nodeType===1;){var A=h;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Ae])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=bs(l.nextSibling),l===null)break}return null}function wY(l,f,h){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=bs(l.nextSibling),l===null))return null;return l}function wO(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=bs(l.nextSibling),l===null))return null;return l}function zw(l){return l.data==="$?"||l.data==="$~"}function $w(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function EY(l,f){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||h.readyState!=="loading")f();else{var v=function(){f(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function bs(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var Hw=null;function EO(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(f===0)return bs(l.nextSibling);f--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||f++}l=l.nextSibling}return null}function TO(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(f===0)return l;f--}else h!=="/$"&&h!=="/&"||f++}l=l.previousSibling}return null}function AO(l,f,h){switch(f=_v(h),l){case"html":if(l=f.documentElement,!l)throw Error(n(452));return l;case"head":if(l=f.head,!l)throw Error(n(453));return l;case"body":if(l=f.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function D0(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);He(l)}var ws=new Map,SO=new Set;function bv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var El=ue.d;ue.d={f:TY,r:AY,D:SY,C:CY,L:NY,m:IY,X:PY,S:kY,M:RY};function TY(){var l=El.f(),f=dv();return l||f}function AY(l){var f=Qe(l);f!==null&&f.tag===5&&f.type==="form"?$P(f):El.r(l)}var Ad=typeof document>"u"?null:document;function CO(l,f,h){var v=Ad;if(v&&typeof f=="string"&&f){var A=Dt(f);A='link[rel="'+l+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),SO.has(A)||(SO.add(A),l={rel:l,crossOrigin:h,href:f},v.querySelector(A)===null&&(f=v.createElement("link"),Ai(f,"link",l),st(f),v.head.appendChild(f)))}}function SY(l){El.D(l),CO("dns-prefetch",l,null)}function CY(l,f){El.C(l,f),CO("preconnect",l,f)}function NY(l,f,h){El.L(l,f,h);var v=Ad;if(v&&l&&f){var A='link[rel="preload"][as="'+Dt(f)+'"]';f==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+Dt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+Dt(h.imageSizes)+'"]')):A+='[href="'+Dt(l)+'"]';var C=A;switch(f){case"style":C=Sd(l);break;case"script":C=Cd(l)}ws.has(C)||(l=p({rel:"preload",href:f==="image"&&h&&h.imageSrcSet?void 0:l,as:f},h),ws.set(C,l),v.querySelector(A)!==null||f==="style"&&v.querySelector(L0(C))||f==="script"&&v.querySelector(F0(C))||(f=v.createElement("link"),Ai(f,"link",l),st(f),v.head.appendChild(f)))}}function IY(l,f){El.m(l,f);var h=Ad;if(h&&l){var v=f&&typeof f.as=="string"?f.as:"script",A='link[rel="modulepreload"][as="'+Dt(v)+'"][href="'+Dt(l)+'"]',C=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Cd(l)}if(!ws.has(C)&&(l=p({rel:"modulepreload",href:l},f),ws.set(C,l),h.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(F0(C)))return}v=h.createElement("link"),Ai(v,"link",l),st(v),h.head.appendChild(v)}}}function kY(l,f,h){El.S(l,f,h);var v=Ad;if(v&&l){var A=Xe(v).hoistableStyles,C=Sd(l);f=f||"default";var z=A.get(C);if(!z){var Y={loading:0,preload:null};if(z=v.querySelector(L0(C)))Y.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":f},h),(h=ws.get(C))&&Gw(l,h);var de=z=v.createElement("link");st(de),Ai(de,"link",l),de._p=new Promise(function(Se,Oe){de.onload=Se,de.onerror=Oe}),de.addEventListener("load",function(){Y.loading|=1}),de.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,wv(z,f,v)}z={type:"stylesheet",instance:z,count:1,state:Y},A.set(C,z)}}}function PY(l,f){El.X(l,f);var h=Ad;if(h&&l){var v=Xe(h).hoistableScripts,A=Cd(l),C=v.get(A);C||(C=h.querySelector(F0(A)),C||(l=p({src:l,async:!0},f),(f=ws.get(A))&&qw(l,f),C=h.createElement("script"),st(C),Ai(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function RY(l,f){El.M(l,f);var h=Ad;if(h&&l){var v=Xe(h).hoistableScripts,A=Cd(l),C=v.get(A);C||(C=h.querySelector(F0(A)),C||(l=p({src:l,async:!0,type:"module"},f),(f=ws.get(A))&&qw(l,f),C=h.createElement("script"),st(C),Ai(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function NO(l,f,h,v){var A=(A=he.current)?bv(A):null;if(!A)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(f=Sd(h.href),h=Xe(A).hoistableStyles,v=h.get(f),v||(v={type:"style",instance:null,count:0,state:null},h.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Sd(h.href);var C=Xe(A).hoistableStyles,z=C.get(l);if(z||(A=A.ownerDocument||A,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,z),(C=A.querySelector(L0(l)))&&!C._p&&(z.instance=C,z.state.loading=5),ws.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},ws.set(l,h),C||OY(A,l,h,z.state))),f&&v===null)throw Error(n(528,""));return z}if(f&&v!==null)throw Error(n(529,""));return null;case"script":return f=h.async,h=h.src,typeof h=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Cd(h),h=Xe(A).hoistableScripts,v=h.get(f),v||(v={type:"script",instance:null,count:0,state:null},h.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Sd(l){return'href="'+Dt(l)+'"'}function L0(l){return'link[rel="stylesheet"]['+l+"]"}function IO(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function OY(l,f,h,v){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=l.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),Ai(f,"link",h),st(f),l.head.appendChild(f))}function Cd(l){return'[src="'+Dt(l)+'"]'}function F0(l){return"script[async]"+l}function kO(l,f,h){if(f.count++,f.instance===null)switch(f.type){case"style":var v=l.querySelector('style[data-href~="'+Dt(h.href)+'"]');if(v)return f.instance=v,st(v),v;var A=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),st(v),Ai(v,"style",A),wv(v,h.precedence,l),f.instance=v;case"stylesheet":A=Sd(h.href);var C=l.querySelector(L0(A));if(C)return f.state.loading|=4,f.instance=C,st(C),C;v=IO(h),(A=ws.get(A))&&Gw(v,A),C=(l.ownerDocument||l).createElement("link"),st(C);var z=C;return z._p=new Promise(function(Y,de){z.onload=Y,z.onerror=de}),Ai(C,"link",v),f.state.loading|=4,wv(C,h.precedence,l),f.instance=C;case"script":return C=Cd(h.src),(A=l.querySelector(F0(C)))?(f.instance=A,st(A),A):(v=h,(A=ws.get(C))&&(v=p({},h),qw(v,A)),l=l.ownerDocument||l,A=l.createElement("script"),st(A),Ai(A,"link",v),l.head.appendChild(A),f.instance=A);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,wv(v,h.precedence,l));return f.instance}function wv(l,f,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,C=A,z=0;z<v.length;z++){var Y=v[z];if(Y.dataset.precedence===f)C=Y;else if(C!==A)break}C?C.parentNode.insertBefore(l,C.nextSibling):(f=h.nodeType===9?h.head:h,f.insertBefore(l,f.firstChild))}function Gw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function qw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var Ev=null;function PO(l,f,h){if(Ev===null){var v=new Map,A=Ev=new Map;A.set(h,v)}else A=Ev,v=A.get(h),v||(v=new Map,A.set(h,v));if(v.has(l))return v;for(v.set(l,null),h=h.getElementsByTagName(l),A=0;A<h.length;A++){var C=h[A];if(!(C[Ae]||C[te]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var z=C.getAttribute(f)||"";z=l+z;var Y=v.get(z);Y?Y.push(C):v.set(z,[C])}}return v}function RO(l,f,h){l=l.ownerDocument||l,l.head.insertBefore(h,f==="title"?l.querySelector("head > title"):null)}function MY(l,f,h){if(h===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(l=f.disabled,typeof f.precedence=="string"&&l==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function OO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function DY(l,f,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=Sd(v.href),C=f.querySelector(L0(A));if(C){f=C._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=Tv.bind(l),f.then(l,l)),h.state.loading|=4,h.instance=C,st(C);return}C=f.ownerDocument||f,v=IO(v),(A=ws.get(A))&&Gw(v,A),C=C.createElement("link"),st(C);var z=C;z._p=new Promise(function(Y,de){z.onload=Y,z.onerror=de}),Ai(C,"link",v),h.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,f),(f=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=Tv.bind(l),f.addEventListener("load",h),f.addEventListener("error",h))}}var Kw=0;function LY(l,f){return l.stylesheets&&l.count===0&&Sv(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var v=setTimeout(function(){if(l.stylesheets&&Sv(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+f);0<l.imgBytes&&Kw===0&&(Kw=62500*gY());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Sv(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>Kw?50:800)+f);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function Tv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sv(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Av=null;function Sv(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Av=new Map,f.forEach(FY,l),Av=null,Tv.call(l))}function FY(l,f){if(!(f.state.loading&4)){var h=Av.get(l);if(h)var v=h.get(null);else{h=new Map,Av.set(l,h);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var z=A[C];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),v=z)}v&&h.set(null,v)}A=f.instance,z=A.getAttribute("data-precedence"),C=h.get(z)||v,C===v&&h.set(null,A),h.set(z,A),this.count++,v=Tv.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),C?C.parentNode.insertBefore(A,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),f.state.loading|=4}}var j0={$$typeof:k,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function jY(l,f,h,v,A,C,z,Y,de){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function MO(l,f,h,v,A,C,z,Y,de,Se,Oe,Be){return l=new jY(l,f,h,z,de,Se,Oe,Be,Y),f=1,C===!0&&(f|=24),C=Wa(3,null,null,f),l.current=C,C.stateNode=l,f=Sb(),f.refCount++,l.pooledCache=f,f.refCount++,C.memoizedState={element:v,isDehydrated:h,cache:f},kb(C),l}function DO(l){return l?(l=id,l):id}function LO(l,f,h,v,A,C){A=DO(A),v.context===null?v.context=A:v.pendingContext=A,v=hc(f),v.payload={element:h},C=C===void 0?null:C,C!==null&&(v.callback=C),h=pc(l,v,f),h!==null&&(ka(h,l,f),g0(h,l,f))}function FO(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<f?h:f}}function Ww(l,f){FO(l,f),(l=l.alternate)&&FO(l,f)}function jO(l){if(l.tag===13||l.tag===31){var f=Pu(l,67108864);f!==null&&ka(f,l,67108864),Ww(l,67108864)}}function UO(l){if(l.tag===13||l.tag===31){var f=Qa();f=Ha(f);var h=Pu(l,f);h!==null&&ka(h,l,f),Ww(l,f)}}var Cv=!0;function UY(l,f,h,v){var A=ne.T;ne.T=null;var C=ue.p;try{ue.p=2,Yw(l,f,h,v)}finally{ue.p=C,ne.T=A}}function BY(l,f,h,v){var A=ne.T;ne.T=null;var C=ue.p;try{ue.p=8,Yw(l,f,h,v)}finally{ue.p=C,ne.T=A}}function Yw(l,f,h,v){if(Cv){var A=Jw(v);if(A===null)Dw(l,f,v,Nv,h),VO(l,v);else if(zY(A,l,f,h,v))v.stopPropagation();else if(VO(l,v),f&4&&-1<VY.indexOf(l)){for(;A!==null;){var C=Qe(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var z=ni(C.pendingLanes);if(z!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;z;){var de=1<<31-pt(z);Y.entanglements[1]|=de,z&=~de}Oo(C),(yr&6)===0&&(uv=bt()+500,R0(0))}}break;case 31:case 13:Y=Pu(C,2),Y!==null&&ka(Y,C,2),dv(),Ww(C,2)}if(C=Jw(v),C===null&&Dw(l,f,v,Nv,h),C===A)break;A=C}A!==null&&v.stopPropagation()}else Dw(l,f,v,null,h)}}function Jw(l){return l=an(l),Xw(l)}var Nv=null;function Xw(l){if(Nv=null,l=We(l),l!==null){var f=a(l);if(f===null)l=null;else{var h=f.tag;if(h===13){if(l=s(f),l!==null)return l;l=null}else if(h===31){if(l=o(f),l!==null)return l;l=null}else if(h===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return Nv=l,null}function BO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Wt:return 2;case Er:return 8;case ft:case Mt:return 32;case Et:return 268435456;default:return 32}default:return 32}}var Zw=!1,Ac=null,Sc=null,Cc=null,U0=new Map,B0=new Map,Nc=[],VY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VO(l,f){switch(l){case"focusin":case"focusout":Ac=null;break;case"dragenter":case"dragleave":Sc=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":U0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":B0.delete(f.pointerId)}}function V0(l,f,h,v,A,C){return l===null||l.nativeEvent!==C?(l={blockedOn:f,domEventName:h,eventSystemFlags:v,nativeEvent:C,targetContainers:[A]},f!==null&&(f=Qe(f),f!==null&&jO(f)),l):(l.eventSystemFlags|=v,f=l.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),l)}function zY(l,f,h,v,A){switch(f){case"focusin":return Ac=V0(Ac,l,f,h,v,A),!0;case"dragenter":return Sc=V0(Sc,l,f,h,v,A),!0;case"mouseover":return Cc=V0(Cc,l,f,h,v,A),!0;case"pointerover":var C=A.pointerId;return U0.set(C,V0(U0.get(C)||null,l,f,h,v,A)),!0;case"gotpointercapture":return C=A.pointerId,B0.set(C,V0(B0.get(C)||null,l,f,h,v,A)),!0}return!1}function zO(l){var f=We(l.target);if(f!==null){var h=a(f);if(h!==null){if(f=h.tag,f===13){if(f=s(h),f!==null){l.blockedOn=f,re(l.priority,function(){UO(h)});return}}else if(f===31){if(f=o(h),f!==null){l.blockedOn=f,re(l.priority,function(){UO(h)});return}}else if(f===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Iv(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var h=Jw(l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);xi=v,h.target.dispatchEvent(v),xi=null}else return f=Qe(h),f!==null&&jO(f),l.blockedOn=h,!1;f.shift()}return!0}function $O(l,f,h){Iv(l)&&h.delete(f)}function $Y(){Zw=!1,Ac!==null&&Iv(Ac)&&(Ac=null),Sc!==null&&Iv(Sc)&&(Sc=null),Cc!==null&&Iv(Cc)&&(Cc=null),U0.forEach($O),B0.forEach($O)}function kv(l,f){l.blockedOn===f&&(l.blockedOn=null,Zw||(Zw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$Y)))}var Pv=null;function HO(l){Pv!==l&&(Pv=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pv===l&&(Pv=null);for(var f=0;f<l.length;f+=3){var h=l[f],v=l[f+1],A=l[f+2];if(typeof v!="function"){if(Xw(v||h)===null)continue;break}var C=Qe(h);C!==null&&(l.splice(f,3),f-=3,Jb(C,{pending:!0,data:A,method:h.method,action:v},v,A))}}))}function Nd(l){function f(de){return kv(de,l)}Ac!==null&&kv(Ac,l),Sc!==null&&kv(Sc,l),Cc!==null&&kv(Cc,l),U0.forEach(f),B0.forEach(f);for(var h=0;h<Nc.length;h++){var v=Nc[h];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Nc.length&&(h=Nc[0],h.blockedOn===null);)zO(h),h.blockedOn===null&&Nc.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var A=h[v],C=h[v+1],z=A[ie]||null;if(typeof C=="function")z||HO(h);else if(z){var Y=null;if(C&&C.hasAttribute("formAction")){if(A=C,z=C[ie]||null)Y=z.formAction;else if(Xw(A)!==null)continue}else Y=z.action;typeof Y=="function"?h[v+1]=Y:(h.splice(v,3),v-=3),HO(h)}}}function GO(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(z){return A=z})},focusReset:"manual",scroll:"manual"})}function f(){A!==null&&(A(),A=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),A!==null&&(A(),A=null)}}}function Qw(l){this._internalRoot=l}Rv.prototype.render=Qw.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(n(409));var h=f.current,v=Qa();LO(h,v,l,f,null,null)},Rv.prototype.unmount=Qw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;LO(l.current,2,null,l,null,null),dv(),f[oe]=null}};function Rv(l){this._internalRoot=l}Rv.prototype.unstable_scheduleHydration=function(l){if(l){var f=W();l={blockedOn:null,target:l,priority:f};for(var h=0;h<Nc.length&&f!==0&&f<Nc[h].priority;h++);Nc.splice(h,0,l),h===0&&zO(l)}};var qO=t.version;if(qO!=="19.2.4")throw Error(n(527,qO,"19.2.4"));ue.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=u(f),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var HY={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ov=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ov.isDisabled&&Ov.supportsFiber)try{Vt=Ov.inject(HY),_r=Ov}catch{}}return $0.createRoot=function(l,f){if(!i(l))throw Error(n(299));var h=!1,v="",A=QP,C=eR,z=tR;return f!=null&&(f.unstable_strictMode===!0&&(h=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError)),f=MO(l,1,!1,null,null,h,v,null,A,C,z,GO),l[oe]=f.current,Mw(l),new Qw(f)},$0.hydrateRoot=function(l,f,h){if(!i(l))throw Error(n(299));var v=!1,A="",C=QP,z=eR,Y=tR,de=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(Y=h.onRecoverableError),h.formState!==void 0&&(de=h.formState)),f=MO(l,1,!0,f,h??null,v,A,de,C,z,Y,GO),f.context=DO(null),h=f.current,v=Qa(),v=Ha(v),A=hc(v),A.callback=null,pc(h,A,v),h=v,f.current.lanes=h,Ea(f,h),Oo(f),l[oe]=f.current,Mw(l),new Rv(f)},$0.version="19.2.4",$0}var r4;function tJ(){if(r4)return rE.exports;r4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rE.exports=eJ(),rE.exports}var rJ=tJ();const nJ=js(rJ);const eU=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const iJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const aJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const n4=e=>{const t=aJ(e);return t.charAt(0).toUpperCase()+t.slice(1)};var sJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const lJ=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>R.createElement("svg",{ref:c,...sJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:eU("lucide",i),...!a&&!oJ(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>R.createElement(u,d)),...Array.isArray(a)?a:[a]]));const it=(e,t)=>{const r=R.forwardRef(({className:n,...i},a)=>R.createElement(lJ,{ref:a,iconNode:t,className:eU(`lucide-${iJ(n4(e))}`,`lucide-${e}`,n),...i}));return r.displayName=n4(e),r};const cJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gp=it("activity",cJ);const uJ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],fJ=it("arrow-down-right",uJ);const dJ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],hJ=it("arrow-down",dJ);const pJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wA=it("arrow-left",pJ);const mJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gJ=it("arrow-right",mJ);const vJ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],yJ=it("arrow-up-right",vJ);const xJ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],_J=it("arrow-up",xJ);const bJ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],as=it("briefcase",bJ);const wJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qp=it("calendar",wJ);const EJ=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],TJ=it("camera",EJ);const AJ=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],SJ=it("check-check",AJ);const CJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],uh=it("check",CJ);const NJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],IJ=it("chevron-left",NJ);const kJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tU=it("chevron-right",kJ);const PJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gi=it("circle-alert",PJ);const RJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],af=it("circle-check-big",RJ);const OJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rU=it("circle-check",OJ);const MJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],DJ=it("circle-question-mark",MJ);const LJ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nU=it("clock",LJ);const FJ=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],EA=it("cloud",FJ);const jJ=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],UJ=it("cookie",jJ);const BJ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],VJ=it("copy",BJ);const zJ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],TA=it("database",zJ);const $J=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],iU=it("dollar-sign",$J);const HJ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],GJ=it("download",HJ);const qJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],AA=it("external-link",qJ);const KJ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aU=it("eye-off",KJ);const WJ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sU=it("eye",WJ);const YJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ay=it("file-spreadsheet",YJ);const JJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Sp=it("file-text",JJ);const XJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Cp=it("file-up",XJ);const ZJ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V2=it("funnel",ZJ);const QJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Kp=it("globe",QJ);const eX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],oU=it("info",eX);const tX=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xd=it("key",tX);const rX=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],lU=it("layers",rX);const nX=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sE=it("layout-dashboard",nX);const iX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$c=it("loader-circle",iX);const aX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SA=it("lock",aX);const sX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oX=it("log-out",sX);const lX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nl=it("map-pin",lX);const cX=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],uX=it("map",cX);const fX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],dX=it("maximize-2",fX);const hX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pX=it("menu",hX);const mX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ex=it("message-square",mX);const gX=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],i4=it("minimize-2",gX);const vX=[["path",{d:"M5 12h14",key:"1ays0h"}]],yX=it("minus",vX);const xX=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ao=it("package",xX);const _X=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bX=it("pen-line",_X);const wX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EX=it("pen",wX);const TX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],oE=it("pencil",TX);const AX=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cU=it("phone",AX);const SX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],z2=it("plus",SX);const CX=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],NX=it("refresh-ccw",CX);const IX=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],kX=it("refresh-cw",IX);const PX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lm=it("save",PX);const RX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],so=it("search",RX);const OX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],MX=it("send",OX);const DX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CA=it("shield-check",DX);const LX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tx=it("shield",LX);const FX=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ro=it("shopping-bag",FX);const jX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],a4=it("sparkles",jX);const UX=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Wp=it("store",UX);const BX=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],VX=it("table",BX);const zX=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],$2=it("tag",zX);const $X=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pf=it("trash-2",$X);const HX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uU=it("trending-up",HX);const GX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qX=it("upload",GX);const KX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],s4=it("user-plus",KX);const WX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ca=it("user",WX);const YX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yp=it("users",YX);const JX=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ha=it("x",JX),fU={admin_dev:" Admin DEV",admin_general:" Admin Geral",general_manager:" Gerente Geral",sales_manager:" Gerente de Vendas",sales_supervisor:" Supervisor de Vendas",sales_internal:" Vendedor Interno",sales_external:" Vendedor Externo",admin:" Admin (Legado)",salesperson:" Vendedor (Legado)"},Ma={admin_dev:1,admin:1,admin_general:2,general_manager:3,sales_manager:4,sales_supervisor:5,sales_internal:6,sales_external:7,salesperson:7},o4=e=>fU[e]||e,XX=e=>e==="admin"?"admin_dev":e==="salesperson"?"sales_external":e,ZX=e=>{const t=Ma[e],r=["admin_dev","admin_general","general_manager","sales_manager","sales_supervisor","sales_internal","sales_external"];return t===1?r:r.filter(n=>Ma[n]>t)},lE=(e,t)=>{const r=Ma[e],n=Ma[t];return n===1?r===1:r<n},NA=e=>Ma[e]<=2,zd=e=>Ma[e]>=3,IA=e=>Ma[e]<=5,cp=e=>e.map(t=>t.id==="admin"||t.username==="admin"?{...t,role:"admin_dev",name:"Admin DEV",salesCategory:"N/A"}:t.role==="admin"?{...t,role:"admin_dev"}:t.role==="salesperson"?{...t,role:"sales_external"}:t),fh=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],Jp=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],QX={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},Xp=e=>{const t=e.toUpperCase().trim();return QX[t]||"Indefinido"};var Sy={exports:{}};var eZ=Sy.exports,l4;function tZ(){return l4||(l4=1,(function(e,t){((r,n)=>{e.exports=n()})(eZ,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},c=0,u={};function d(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var U=D(O);U.chunkSize=parseInt(U.chunkSize),O.step||O.chunk||(U.chunkSize=null),this._handle=new b(U),(this._handle.streamer=this)._config=U}).call(this,I),this.parseChunk=function(O,U){var B=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<B){let H=this._config.newline;H||(F=this._config.quoteChar||'"',H=this._handle.guessLineEndings(O,F)),O=[...O.split(H).slice(B)].join(H)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(O))!==void 0&&(O=F),this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+O,F=(this._partialLine="",this._handle.parse(B,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(O=F.meta.cursor,B=(this._finished||(this._partialLine=B.substring(O-this._baseIndex),this._baseIndex=O),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:F,workerId:u.WORKER_ID,finished:B});else if(N(this._config.chunk)&&!U){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!B||!N(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(O){N(this._config.error)?this._config.error(O):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:O,finished:!1})}}function p(I){var O;(I=I||{}).chunkSize||(I.chunkSize=u.RemoteChunkSize),d.call(this,I),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),a||(O.onload=P(this._chunkLoaded,this),O.onerror=P(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var U,B=this._config.downloadRequestHeaders;for(U in B)O.setRequestHeader(U,B[U])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,O.setRequestHeader("Range","bytes="+this._start+"-"+F));try{O.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}a&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize||O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(O),this.parseChunk(O.responseText)))},this._chunkError=function(U){U=O.statusText||U,this._sendError(new Error(U))}}function m(I){(I=I||{}).chunkSize||(I.chunkSize=u.LocalChunkSize),d.call(this,I);var O,U,B=typeof FileReader<"u";this.stream=function(F){this._input=F,U=F.slice||F.webkitSlice||F.mozSlice,B?((O=new FileReader).onload=P(this._chunkLoaded,this),O.onerror=P(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),F=U.call(F,this._start,H)),O.readAsText(F,this._config.encoding));B||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(O.error)}}function y(I){var O;d.call(this,I=I||{}),this.stream=function(U){return O=U,this._nextChunk()},this._nextChunk=function(){var U,B;if(!this._finished)return U=this._config.chunkSize,O=U?(B=O.substring(0,U),O.substring(U)):(B=O,""),this._finished=!O,this.parseChunk(B)}}function x(I){d.call(this,I=I||{});var O=[],U=!0,B=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):U=!0},this._streamData=P(function(F){try{O.push(typeof F=="string"?F:F.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(H){this._streamError(H)}},this),this._streamError=P(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=P(function(){this._streamCleanUp(),B=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(I){var O,U,B,F,H=Math.pow(2,53),fe=-H,me=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ne=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ue=this,ce=0,ae=0,_e=!1,J=!1,V=[],ee={data:[],errors:[],meta:{}};function X(Ie){return I.skipEmptyLines==="greedy"?Ie.join("").trim()==="":Ie.length===1&&Ie[0].length===0}function q(){if(ee&&B&&(xe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),B=!1),I.skipEmptyLines&&(ee.data=ee.data.filter(function(K){return!X(K)})),he()){let K=function(Ye,Ue){N(I.transformHeader)&&(Ye=I.transformHeader(Ye,Ue)),V.push(Ye)};var De=K;if(ee)if(Array.isArray(ee.data[0])){for(var Ie=0;he()&&Ie<ee.data.length;Ie++)ee.data[Ie].forEach(K);ee.data.splice(0,1)}else ee.data.forEach(K)}function le(K,Ye){for(var Ue=I.header?{}:[],Ke=0;Ke<K.length;Ke++){var ze=Ke,Le=K[Ke],Le=((Je,et)=>(ht=>(I.dynamicTypingFunction&&I.dynamicTyping[ht]===void 0&&(I.dynamicTyping[ht]=I.dynamicTypingFunction(ht)),(I.dynamicTyping[ht]||I.dynamicTyping)===!0))(Je)?et==="true"||et==="TRUE"||et!=="false"&&et!=="FALSE"&&((ht=>{if(me.test(ht)&&(ht=parseFloat(ht),fe<ht&&ht<H))return 1})(et)?parseFloat(et):ne.test(et)?new Date(et):et===""?null:et):et)(ze=I.header?Ke>=V.length?"__parsed_extra":V[Ke]:ze,Le=I.transform?I.transform(Le,ze):Le);ze==="__parsed_extra"?(Ue[ze]=Ue[ze]||[],Ue[ze].push(Le)):Ue[ze]=Le}return I.header&&(Ke>V.length?xe("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Ke,ae+Ye):Ke<V.length&&xe("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Ke,ae+Ye)),Ue}var ge;ee&&(I.header||I.dynamicTyping||I.transform)&&(ge=1,!ee.data.length||Array.isArray(ee.data[0])?(ee.data=ee.data.map(le),ge=ee.data.length):ee.data=le(ee.data,0),I.header&&ee.meta&&(ee.meta.fields=V),ae+=ge)}function he(){return I.header&&V.length===0}function xe(Ie,le,ge,De){Ie={type:Ie,code:le,message:ge},De!==void 0&&(Ie.row=De),ee.errors.push(Ie)}N(I.step)&&(F=I.step,I.step=function(Ie){ee=Ie,he()?q():(q(),ee.data.length!==0&&(ce+=Ie.data.length,I.preview&&ce>I.preview?U.abort():(ee.data=ee.data[0],F(ee,ue))))}),this.parse=function(Ie,le,ge){var De=I.quoteChar||'"',De=(I.newline||(I.newline=this.guessLineEndings(Ie,De)),B=!1,I.delimiter?N(I.delimiter)&&(I.delimiter=I.delimiter(Ie),ee.meta.delimiter=I.delimiter):((De=((K,Ye,Ue,Ke,ze)=>{var Le,Je,et,ht;ze=ze||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var It=0;It<ze.length;It++){for(var Gr,Br=ze[It],bt=0,xr=0,Wt=0,Er=(et=void 0,new S({comments:Ke,delimiter:Br,newline:Ye,preview:10}).parse(K)),ft=0;ft<Er.data.length;ft++)Ue&&X(Er.data[ft])?Wt++:(Gr=Er.data[ft].length,xr+=Gr,et===void 0?et=Gr:0<Gr&&(bt+=Math.abs(Gr-et),et=Gr));0<Er.data.length&&(xr/=Er.data.length-Wt),(Je===void 0||bt<=Je)&&(ht===void 0||ht<xr)&&1.99<xr&&(Je=bt,Le=Br,ht=xr)}return{successful:!!(I.delimiter=Le),bestDelimiter:Le}})(Ie,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess)).successful?I.delimiter=De.bestDelimiter:(B=!0,I.delimiter=u.DefaultDelimiter),ee.meta.delimiter=I.delimiter),D(I));return I.preview&&I.header&&De.preview++,O=Ie,U=new S(De),ee=U.parse(O,le,ge),q(),_e?{meta:{paused:!0}}:ee||{meta:{paused:!1}}},this.paused=function(){return _e},this.pause=function(){_e=!0,U.abort(),O=N(I.chunk)?"":O.substring(U.getCharIndex())},this.resume=function(){ue.streamer._halted?(_e=!1,ue.streamer.parseChunk(O,!0)):setTimeout(ue.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,U.abort(),ee.meta.aborted=!0,N(I.complete)&&I.complete(ee),O=""},this.guessLineEndings=function(K,De){K=K.substring(0,1048576);var De=new RegExp(E(De)+"([^]*?)"+E(De),"gm"),ge=(K=K.replace(De,"")).split("\r"),De=K.split(`
`),K=1<De.length&&De[0].length<ge[0].length;if(ge.length===1||K)return`
`;for(var Ye=0,Ue=0;Ue<ge.length;Ue++)ge[Ue][0]===`
`&&Ye++;return Ye>=ge.length/2?`\r
`:"\r"}}function E(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(I){var O=(I=I||{}).delimiter,U=I.newline,B=I.comments,F=I.step,H=I.preview,fe=I.fastMode,me=null,ne=!1,ue=I.quoteChar==null?'"':I.quoteChar,ce=ue;if(I.escapeChar!==void 0&&(ce=I.escapeChar),(typeof O!="string"||-1<u.BAD_DELIMITERS.indexOf(O))&&(O=","),B===O)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<u.BAD_DELIMITERS.indexOf(B))&&(B=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var ae=0,_e=!1;this.parse=function(J,V,ee){if(typeof J!="string")throw new Error("Input must be a string");var X=J.length,q=O.length,he=U.length,xe=B.length,Ie=N(F),le=[],ge=[],De=[],K=ae=0;if(!J)return bt();if(fe||fe!==!1&&J.indexOf(ue)===-1){for(var Ye=J.split(U),Ue=0;Ue<Ye.length;Ue++){if(De=Ye[Ue],ae+=De.length,Ue!==Ye.length-1)ae+=U.length;else if(ee)return bt();if(!B||De.substring(0,xe)!==B){if(Ie){if(le=[],ht(De.split(O)),xr(),_e)return bt()}else ht(De.split(O));if(H&&H<=Ue)return le=le.slice(0,H),bt(!0)}}return bt()}for(var Ke=J.indexOf(O,ae),ze=J.indexOf(U,ae),Le=new RegExp(E(ce)+E(ue),"g"),Je=J.indexOf(ue,ae);;)if(J[ae]===ue)for(Je=ae,ae++;;){if((Je=J.indexOf(ue,Je+1))===-1)return ee||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:ae}),Gr();if(Je===X-1)return Gr(J.substring(ae,Je).replace(Le,ue));if(ue===ce&&J[Je+1]===ce)Je++;else if(ue===ce||Je===0||J[Je-1]!==ce){Ke!==-1&&Ke<Je+1&&(Ke=J.indexOf(O,Je+1));var et=It((ze=ze!==-1&&ze<Je+1?J.indexOf(U,Je+1):ze)===-1?Ke:Math.min(Ke,ze));if(J.substr(Je+1+et,q)===O){De.push(J.substring(ae,Je).replace(Le,ue)),J[ae=Je+1+et+q]!==ue&&(Je=J.indexOf(ue,ae)),Ke=J.indexOf(O,ae),ze=J.indexOf(U,ae);break}if(et=It(ze),J.substring(Je+1+et,Je+1+et+he)===U){if(De.push(J.substring(ae,Je).replace(Le,ue)),Br(Je+1+et+he),Ke=J.indexOf(O,ae),Je=J.indexOf(ue,ae),Ie&&(xr(),_e))return bt();if(H&&le.length>=H)return bt(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:ae}),Je++}}else if(B&&De.length===0&&J.substring(ae,ae+xe)===B){if(ze===-1)return bt();ae=ze+he,ze=J.indexOf(U,ae),Ke=J.indexOf(O,ae)}else if(Ke!==-1&&(Ke<ze||ze===-1))De.push(J.substring(ae,Ke)),ae=Ke+q,Ke=J.indexOf(O,ae);else{if(ze===-1)break;if(De.push(J.substring(ae,ze)),Br(ze+he),Ie&&(xr(),_e))return bt();if(H&&le.length>=H)return bt(!0)}return Gr();function ht(Wt){le.push(Wt),K=ae}function It(Wt){var Er=0;return Er=Wt!==-1&&(Wt=J.substring(Je+1,Wt))&&Wt.trim()===""?Wt.length:Er}function Gr(Wt){return ee||(Wt===void 0&&(Wt=J.substring(ae)),De.push(Wt),ae=X,ht(De),Ie&&xr()),bt()}function Br(Wt){ae=Wt,ht(De),De=[],ze=J.indexOf(U,ae)}function bt(Wt){if(I.header&&!V&&le.length&&!ne){var Er=le[0],ft=Object.create(null),Mt=new Set(Er);let Et=!1;for(let rr=0;rr<Er.length;rr++){let Ht=Er[rr];if(ft[Ht=N(I.transformHeader)?I.transformHeader(Ht,rr):Ht]){let Vt,_r=ft[Ht];for(;Vt=Ht+"_"+_r,_r++,Mt.has(Vt););Mt.add(Vt),Er[rr]=Vt,ft[Ht]++,Et=!0,(me=me===null?{}:me)[Vt]=Ht}else ft[Ht]=1,Er[rr]=Ht;Mt.add(Ht)}Et&&console.warn("Duplicate headers found and renamed."),ne=!0}return{data:le,errors:ge,meta:{delimiter:O,linebreak:U,aborted:_e,truncated:!!Wt,cursor:K+(V||0),renamedHeaders:me}}}function xr(){F(bt()),le=[],ge=[]}},this.abort=function(){_e=!0},this.getCharIndex=function(){return ae}}function L(I){var O=I.data,U=o[O.workerId],B=!1;if(O.error)U.userError(O.error,O.file);else if(O.results&&O.results.data){var F={abort:function(){B=!0,k(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:M,resume:M};if(N(U.userStep)){for(var H=0;H<O.results.data.length&&(U.userStep({data:O.results.data[H],errors:O.results.errors,meta:O.results.meta},F),!B);H++);delete O.results}else N(U.userChunk)&&(U.userChunk(O.results,F,O.file),delete O.results)}O.finished&&!B&&k(O.workerId,O.results)}function k(I,O){var U=o[I];N(U.userComplete)&&U.userComplete(O),U.terminate(),delete o[I]}function M(){throw new Error("Not implemented.")}function D(I){if(typeof I!="object"||I===null)return I;var O,U=Array.isArray(I)?[]:{};for(O in I)U[O]=D(I[O]);return U}function P(I,O){return function(){I.apply(O,arguments)}}function N(I){return typeof I=="function"}return u.parse=function(I,O){var U=(O=O||{}).dynamicTyping||!1;if(N(U)&&(O.dynamicTypingFunction=U,U={}),O.dynamicTyping=U,O.transform=!!N(O.transform)&&O.transform,!O.worker||!u.WORKERS_SUPPORTED)return U=null,u.NODE_STREAM_INPUT,typeof I=="string"?(I=(B=>B.charCodeAt(0)!==65279?B:B.slice(1))(I),U=new(O.download?p:y)(O)):I.readable===!0&&N(I.read)&&N(I.on)?U=new x(O):(n.File&&I instanceof File||I instanceof Object)&&(U=new m(O)),U.stream(I);(U=(()=>{var B;return!!u.WORKERS_SUPPORTED&&(B=(()=>{var F=n.URL||n.webkitURL||null,H=r.toString();return u.BLOB_URL||(u.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(B=new n.Worker(B)).onmessage=L,B.id=c++,o[B.id]=B)})()).userStep=O.step,U.userChunk=O.chunk,U.userComplete=O.complete,U.userError=O.error,O.step=N(O.step),O.chunk=N(O.chunk),O.complete=N(O.complete),O.error=N(O.error),delete O.worker,U.postMessage({input:I,config:O,workerId:U.id})},u.unparse=function(I,O){var U=!1,B=!0,F=",",H=`\r
`,fe='"',me=fe+fe,ne=!1,ue=null,ce=!1,ae=((()=>{if(typeof O=="object"){if(typeof O.delimiter!="string"||u.BAD_DELIMITERS.filter(function(V){return O.delimiter.indexOf(V)!==-1}).length||(F=O.delimiter),typeof O.quotes!="boolean"&&typeof O.quotes!="function"&&!Array.isArray(O.quotes)||(U=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||(ne=O.skipEmptyLines),typeof O.newline=="string"&&(H=O.newline),typeof O.quoteChar=="string"&&(fe=O.quoteChar),typeof O.header=="boolean"&&(B=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");ue=O.columns}O.escapeChar!==void 0&&(me=O.escapeChar+fe),O.escapeFormulae instanceof RegExp?ce=O.escapeFormulae:typeof O.escapeFormulae=="boolean"&&O.escapeFormulae&&(ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(fe),"g"));if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return _e(null,I,ne);if(typeof I[0]=="object")return _e(ue||Object.keys(I[0]),I,ne)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||ue),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),_e(I.fields||[],I.data||[],ne);throw new Error("Unable to serialize unrecognized input");function _e(V,ee,X){var q="",he=(typeof V=="string"&&(V=JSON.parse(V)),typeof ee=="string"&&(ee=JSON.parse(ee)),Array.isArray(V)&&0<V.length),xe=!Array.isArray(ee[0]);if(he&&B){for(var Ie=0;Ie<V.length;Ie++)0<Ie&&(q+=F),q+=J(V[Ie],Ie);0<ee.length&&(q+=H)}for(var le=0;le<ee.length;le++){var ge=(he?V:ee[le]).length,De=!1,K=he?Object.keys(ee[le]).length===0:ee[le].length===0;if(X&&!he&&(De=X==="greedy"?ee[le].join("").trim()==="":ee[le].length===1&&ee[le][0].length===0),X==="greedy"&&he){for(var Ye=[],Ue=0;Ue<ge;Ue++){var Ke=xe?V[Ue]:Ue;Ye.push(ee[le][Ke])}De=Ye.join("").trim()===""}if(!De){for(var ze=0;ze<ge;ze++){0<ze&&!K&&(q+=F);var Le=he&&xe?V[ze]:ze;q+=J(ee[le][Le],ze)}le<ee.length-1&&(!X||0<ge&&!K)&&(q+=H)}}return q}function J(V,ee){var X,q;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(q=!1,ce&&typeof V=="string"&&ce.test(V)&&(V="'"+V,q=!0),X=V.toString().replace(ae,me),(q=q||U===!0||typeof U=="function"&&U(V,ee)||Array.isArray(U)&&U[ee]||((he,xe)=>{for(var Ie=0;Ie<xe.length;Ie++)if(-1<he.indexOf(xe[Ie]))return!0;return!1})(X,u.BAD_DELIMITERS)||-1<X.indexOf(F)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?fe+X+fe:X)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=S,u.ParserHandle=b,u.NetworkStreamer=p,u.FileStreamer=m,u.StringStreamer=y,u.ReadableStreamStreamer=x,n.jQuery&&((i=n.jQuery).fn.parse=function(I){var O=I.config||{},U=[];return this.each(function(H){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var fe=0;fe<this.files.length;fe++)U.push({file:this.files[fe],inputElem:this,instanceConfig:i.extend({},O)})}),B(),this;function B(){if(U.length===0)N(I.complete)&&I.complete();else{var H,fe,me,ne,ue=U[0];if(N(I.before)){var ce=I.before(ue.file,ue.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return H="AbortError",fe=ue.file,me=ue.inputElem,ne=ce.reason,void(N(I.error)&&I.error({name:H},fe,me,ne));if(ce.action==="skip")return void F();typeof ce.config=="object"&&(ue.instanceConfig=i.extend(ue.instanceConfig,ce.config))}else if(ce==="skip")return void F()}var ae=ue.instanceConfig.complete;ue.instanceConfig.complete=function(_e){N(ae)&&ae(_e,ue.file,ue.inputElem),F()},u.parse(ue.file,ue.instanceConfig)}}function F(){U.splice(0,1),B()}}),s&&(n.onmessage=function(I){I=I.data,u.WORKER_ID===void 0&&I&&(u.WORKER_ID=I.workerId),typeof I.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(I.input,I.config),finished:!0}):(n.File&&I.input instanceof File||I.input instanceof Object)&&(I=u.parse(I.input,I.config))&&n.postMessage({workerId:u.WORKER_ID,results:I,finished:!0})}),(p.prototype=Object.create(d.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,(y.prototype=Object.create(y.prototype)).constructor=y,(x.prototype=Object.create(d.prototype)).constructor=x,u})})(Sy)),Sy.exports}var rZ=tZ();const H2=js(rZ);function Ve(e,t,r){function n(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,c);const u=s.prototype,d=Object.keys(u);for(let p=0;p<d.length;p++){const m=d[p];m in o||(o[m]=u[m].bind(o))}}const i=r?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(o){var c;const u=r?.Parent?new a:this;n(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class Zd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class dU extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const hU={};function mf(e){return hU}function pU(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function kA(e,t){return typeof t=="bigint"?t.toString():t}function G2(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function q2(e){return e==null}function K2(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function nZ(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}const a=r>i?r:i,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}const c4=Symbol("evaluating");function kr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==c4)return n===void 0&&(n=c4,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Mf(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function fu(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function u4(e){return JSON.stringify(e)}function iZ(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const mU="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function rx(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const aZ=G2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Zp(e){if(rx(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(rx(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function gU(e){return Zp(e)?{...e}:Array.isArray(e)?[...e]:e}const sZ=new Set(["string","number","symbol"]);function dh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function du(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function xt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function oZ(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const lZ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function cZ(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=fu(e._zod.def,{get shape(){const s={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=r.shape[o])}return Mf(this,"shape",s),s},checks:[]});return du(e,a)}function uZ(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=fu(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete s[o]}return Mf(this,"shape",s),s},checks:[]});return du(e,a)}function fZ(e,t){if(!Zp(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const a=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(a,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=fu(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Mf(this,"shape",a),a}});return du(e,i)}function dZ(e,t){if(!Zp(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=fu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Mf(this,"shape",n),n}});return du(e,r)}function hZ(e,t){const r=fu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Mf(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return du(e,r)}function pZ(e,t,r){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=fu(t._zod.def,{get shape(){const o=t._zod.def.shape,c={...o};if(r)for(const u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)c[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return Mf(this,"shape",c),c},checks:[]});return du(t,s)}function mZ(e,t,r){const n=fu(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(r)for(const s in r){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(a[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)a[s]=new e({type:"nonoptional",innerType:i[s]});return Mf(this,"shape",a),a}});return du(t,n)}function $d(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function vU(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Mv(e){return typeof e=="string"?e:e?.message}function gf(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=Mv(e.inst?._zod.def?.error?.(e))??Mv(t?.error?.(e))??Mv(r.customError?.(e))??Mv(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function W2(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Qp(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const yU=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,kA,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},xU=Ve("$ZodError",yU),_U=Ve("$ZodError",yU,{Parent:Error});function gZ(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function vZ(e,t=r=>r.message){const r={_errors:[]},n=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(s=>n({issues:s}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let s=r,o=0;for(;o<a.path.length;){const c=a.path[o];o===a.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(a))):s[c]=s[c]||{_errors:[]},s=s[c],o++}}};return n(e),r}const Y2=e=>(t,r,n,i)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new Zd;if(s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>gf(c,a,mf())));throw mU(o,i?.callee),o}return s.value},J2=e=>async(t,r,n,i)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>gf(c,a,mf())));throw mU(o,i?.callee),o}return s.value},j1=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new Zd;return a.issues.length?{success:!1,error:new(e??xU)(a.issues.map(s=>gf(s,i,mf())))}:{success:!0,data:a.value}},yZ=j1(_U),U1=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>gf(s,i,mf())))}:{success:!0,data:a.value}},xZ=U1(_U),_Z=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Y2(e)(t,r,i)},bZ=e=>(t,r,n)=>Y2(e)(t,r,n),wZ=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return J2(e)(t,r,i)},EZ=e=>async(t,r,n)=>J2(e)(t,r,n),TZ=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return j1(e)(t,r,i)},AZ=e=>(t,r,n)=>j1(e)(t,r,n),SZ=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return U1(e)(t,r,i)},CZ=e=>async(t,r,n)=>U1(e)(t,r,n),NZ=/^[cC][^\s-]{8,}$/,IZ=/^[0-9a-z]+$/,kZ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,PZ=/^[0-9a-vA-V]{20}$/,RZ=/^[A-Za-z0-9]{27}$/,OZ=/^[a-zA-Z0-9_-]{21}$/,MZ=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,DZ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,f4=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,LZ=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,FZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function jZ(){return new RegExp(FZ,"u")}const UZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,VZ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,zZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$Z=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,bU=/^[A-Za-z0-9_-]*$/,HZ=/^\+[1-9]\d{6,14}$/,wU="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",GZ=new RegExp(`^${wU}$`);function EU(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function qZ(e){return new RegExp(`^${EU(e)}$`)}function KZ(e){const t=EU({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${wU}T(?:${n})$`)}const WZ=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},YZ=/^-?\d+$/,JZ=/^-?\d+(?:\.\d+)?$/,XZ=/^[^A-Z]*$/,ZZ=/^[^a-z]*$/,Ba=Ve("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),TU={number:"number",bigint:"bigint",object:"date"},AU=Ve("$ZodCheckLessThan",(e,t)=>{Ba.init(e,t);const r=TU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),SU=Ve("$ZodCheckGreaterThan",(e,t)=>{Ba.init(e,t);const r=TU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),QZ=Ve("$ZodCheckMultipleOf",(e,t)=>{Ba.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):nZ(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),eQ=Ve("$ZodCheckNumberFormat",(e,t)=>{Ba.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[i,a]=lZ[t.format];e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,o.minimum=i,o.maximum=a,r&&(o.pattern=YZ)}),e._zod.check=s=>{const o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),tQ=Ve("$ZodCheckMaxLength",(e,t)=>{var r;Ba.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!q2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const i=n.value;if(i.length<=t.maximum)return;const s=W2(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),rQ=Ve("$ZodCheckMinLength",(e,t)=>{var r;Ba.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!q2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const i=n.value;if(i.length>=t.minimum)return;const s=W2(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),nQ=Ve("$ZodCheckLengthEquals",(e,t)=>{var r;Ba.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!q2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{const i=n.value,a=i.length;if(a===t.length)return;const s=W2(i),o=a>t.length;n.issues.push({origin:s,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),B1=Ve("$ZodCheckStringFormat",(e,t)=>{var r,n;Ba.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),iQ=Ve("$ZodCheckRegex",(e,t)=>{B1.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),aQ=Ve("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=XZ),B1.init(e,t)}),sQ=Ve("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ZZ),B1.init(e,t)}),oQ=Ve("$ZodCheckIncludes",(e,t)=>{Ba.init(e,t);const r=dh(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),lQ=Ve("$ZodCheckStartsWith",(e,t)=>{Ba.init(e,t);const r=new RegExp(`^${dh(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),cQ=Ve("$ZodCheckEndsWith",(e,t)=>{Ba.init(e,t);const r=new RegExp(`.*${dh(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),uQ=Ve("$ZodCheckOverwrite",(e,t)=>{Ba.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class fQ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),a=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,r=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,i.join(`
`))}}const dQ={major:4,minor:3,patch:6},kn=Ve("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=dQ;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const a of i._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(s,o,c)=>{let u=$d(s),d;for(const p of o){if(p._zod.def.when){if(!p._zod.def.when(s))continue}else if(u)continue;const m=s.issues.length,y=p._zod.check(s);if(y instanceof Promise&&c?.async===!1)throw new Zd;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,s.issues.length!==m&&(u||(u=$d(s,m)))});else{if(s.issues.length===m)continue;u||(u=$d(s,m))}}return d?d.then(()=>s):s},a=(s,o,c)=>{if($d(s))return s.aborted=!0,s;const u=i(o,n,c);if(u instanceof Promise){if(c.async===!1)throw new Zd;return u.then(d=>e._zod.parse(d,c))}return e._zod.parse(u,c)};e._zod.run=(s,o)=>{if(o.skipChecks)return e._zod.parse(s,o);if(o.direction==="backward"){const u=e._zod.parse({value:s.value,issues:[]},{...o,skipChecks:!0});return u instanceof Promise?u.then(d=>a(d,s,o)):a(u,s,o)}const c=e._zod.parse(s,o);if(c instanceof Promise){if(o.async===!1)throw new Zd;return c.then(u=>i(u,n,o))}return i(c,n,o)}}kr(e,"~standard",()=>({validate:i=>{try{const a=yZ(e,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return xZ(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),X2=Ve("$ZodString",(e,t)=>{kn.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??WZ(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),nn=Ve("$ZodStringFormat",(e,t)=>{B1.init(e,t),X2.init(e,t)}),hQ=Ve("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=DZ),nn.init(e,t)}),pQ=Ve("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=f4(n))}else t.pattern??(t.pattern=f4());nn.init(e,t)}),mQ=Ve("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=LZ),nn.init(e,t)}),gQ=Ve("$ZodURL",(e,t)=>{nn.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),vQ=Ve("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=jZ()),nn.init(e,t)}),yQ=Ve("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=OZ),nn.init(e,t)}),xQ=Ve("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=NZ),nn.init(e,t)}),_Q=Ve("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=IZ),nn.init(e,t)}),bQ=Ve("$ZodULID",(e,t)=>{t.pattern??(t.pattern=kZ),nn.init(e,t)}),wQ=Ve("$ZodXID",(e,t)=>{t.pattern??(t.pattern=PZ),nn.init(e,t)}),EQ=Ve("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=RZ),nn.init(e,t)}),TQ=Ve("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=KZ(t)),nn.init(e,t)}),AQ=Ve("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=GZ),nn.init(e,t)}),SQ=Ve("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=qZ(t)),nn.init(e,t)}),CQ=Ve("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=MZ),nn.init(e,t)}),NQ=Ve("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=UZ),nn.init(e,t),e._zod.bag.format="ipv4"}),IQ=Ve("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=BZ),nn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),kQ=Ve("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=VZ),nn.init(e,t)}),PQ=Ve("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=zZ),nn.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[i,a]=n;if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function CU(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const RQ=Ve("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=$Z),nn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{CU(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function OQ(e){if(!bU.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return CU(r)}const MQ=Ve("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=bU),nn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{OQ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),DQ=Ve("$ZodE164",(e,t)=>{t.pattern??(t.pattern=HZ),nn.init(e,t)});function LQ(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const FQ=Ve("$ZodJWT",(e,t)=>{nn.init(e,t),e._zod.check=r=>{LQ(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),NU=Ve("$ZodNumber",(e,t)=>{kn.init(e,t),e._zod.pattern=e._zod.bag.pattern??JZ,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),jQ=Ve("$ZodNumberFormat",(e,t)=>{eQ.init(e,t),NU.init(e,t)}),UQ=Ve("$ZodUnknown",(e,t)=>{kn.init(e,t),e._zod.parse=r=>r}),BQ=Ve("$ZodNever",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function d4(e,t,r){e.issues.length&&t.issues.push(...vU(r,e.issues)),t.value[r]=e.value}const VQ=Ve("$ZodArray",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const o=i[s],c=t.element._zod.run({value:o,issues:[]},n);c instanceof Promise?a.push(c.then(u=>d4(u,r,s))):d4(c,r,s)}return a.length?Promise.all(a).then(()=>r):r}});function nx(e,t,r,n,i){if(e.issues.length){if(i&&!(r in n))return;t.issues.push(...vU(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function IU(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=oZ(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function kU(e,t,r,n,i,a){const s=[],o=i.keySet,c=i.catchall._zod,u=c.def.type,d=c.optout==="optional";for(const p in t){if(o.has(p))continue;if(u==="never"){s.push(p);continue}const m=c.run({value:t[p],issues:[]},n);m instanceof Promise?e.push(m.then(y=>nx(y,r,p,t,d))):nx(m,r,p,t,d)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const zQ=Ve("$ZodObject",(e,t)=>{if(kn.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=G2(()=>IU(t));kr(e._zod,"propValues",()=>{const o=t.shape,c={};for(const u in o){const d=o[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const p of d.values)c[u].add(p)}}return c});const i=rx,a=t.catchall;let s;e._zod.parse=(o,c)=>{s??(s=n.value);const u=o.value;if(!i(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const d=[],p=s.shape;for(const m of s.keys){const y=p[m],x=y._zod.optout==="optional",b=y._zod.run({value:u[m],issues:[]},c);b instanceof Promise?d.push(b.then(E=>nx(E,o,m,u,x))):nx(b,o,m,u,x)}return a?kU(d,u,o,c,n.value,e):d.length?Promise.all(d).then(()=>o):o}}),$Q=Ve("$ZodObjectJIT",(e,t)=>{zQ.init(e,t);const r=e._zod.parse,n=G2(()=>IU(t)),i=m=>{const y=new fQ(["shape","payload","ctx"]),x=n.value,b=k=>{const M=u4(k);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};y.write("const input = payload.value;");const E=Object.create(null);let S=0;for(const k of x.keys)E[k]=`key_${S++}`;y.write("const newResult = {};");for(const k of x.keys){const M=E[k],D=u4(k),N=m[k]?._zod?.optout==="optional";y.write(`const ${M} = ${b(k)};`),N?y.write(`
        if (${M}.issues.length) {
          if (${D} in input) {
            payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${D}, ...iss.path] : [${D}]
            })));
          }
        }
        
        if (${M}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${M}.value;
        }
        
      `):y.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        if (${M}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${M}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const L=y.compile();return(k,M)=>L(m,k,M)};let a;const s=rx,o=!hU.jitless,u=o&&aZ.value,d=t.catchall;let p;e._zod.parse=(m,y)=>{p??(p=n.value);const x=m.value;return s(x)?o&&u&&y?.async===!1&&y.jitless!==!0?(a||(a=i(t.shape)),m=a(m,y),d?kU([],x,m,y,p,e):m):r(m,y):(m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m)}});function h4(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const i=e.filter(a=>!$d(a));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(s=>gf(s,n,mf())))}),t)}const HQ=Ve("$ZodUnion",(e,t)=>{kn.init(e,t),kr(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),kr(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),kr(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),kr(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>K2(a.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(r)return n(i,a);let s=!1;const o=[];for(const c of t.options){const u=c._zod.run({value:i.value,issues:[]},a);if(u instanceof Promise)o.push(u),s=!0;else{if(u.issues.length===0)return u;o.push(u)}}return s?Promise.all(o).then(c=>h4(c,i,e,a)):h4(o,i,e,a)}}),GQ=Ve("$ZodIntersection",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,a=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([c,u])=>p4(r,c,u)):p4(r,a,s)}});function PA(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Zp(e)&&Zp(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of n){const s=PA(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],a=t[n],s=PA(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function p4(e,t,r){const n=new Map;let i;for(const o of t.issues)if(o.code==="unrecognized_keys"){i??(i=o);for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(o);for(const o of r.issues)if(o.code==="unrecognized_keys")for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(o);const a=[...n].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(a.length&&i&&e.issues.push({...i,keys:a}),$d(e))return e;const s=PA(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const qQ=Ve("$ZodEnum",(e,t)=>{kn.init(e,t);const r=pU(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>sZ.has(typeof i)).map(i=>typeof i=="string"?dh(i):i.toString()).join("|")})$`),e._zod.parse=(i,a)=>{const s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:e}),i}}),KQ=Ve("$ZodLiteral",(e,t)=>{if(kn.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?dh(n):n?dh(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,i)=>{const a=n.value;return r.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),WQ=Ve("$ZodTransform",(e,t)=>{kn.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new dU(e.constructor.name);const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new Zd;return r.value=i,r}});function m4(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const PU=Ve("$ZodOptional",(e,t)=>{kn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",kr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),kr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${K2(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>m4(a,r.value)):m4(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),YQ=Ve("$ZodExactOptional",(e,t)=>{PU.init(e,t),kr(e._zod,"values",()=>t.innerType._zod.values),kr(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),JQ=Ve("$ZodNullable",(e,t)=>{kn.init(e,t),kr(e._zod,"optin",()=>t.innerType._zod.optin),kr(e._zod,"optout",()=>t.innerType._zod.optout),kr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${K2(r.source)}|null)$`):void 0}),kr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),XQ=Ve("$ZodDefault",(e,t)=>{kn.init(e,t),e._zod.optin="optional",kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>g4(a,t)):g4(i,t)}});function g4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const ZQ=Ve("$ZodPrefault",(e,t)=>{kn.init(e,t),e._zod.optin="optional",kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),QQ=Ve("$ZodNonOptional",(e,t)=>{kn.init(e,t),kr(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>v4(a,e)):v4(i,e)}});function v4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const eee=Ve("$ZodCatch",(e,t)=>{kn.init(e,t),kr(e._zod,"optin",()=>t.innerType._zod.optin),kr(e._zod,"optout",()=>t.innerType._zod.optout),kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>gf(s,n,mf()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>gf(a,n,mf()))},input:r.value}),r.issues=[]),r)}}),tee=Ve("$ZodPipe",(e,t)=>{kn.init(e,t),kr(e._zod,"values",()=>t.in._zod.values),kr(e._zod,"optin",()=>t.in._zod.optin),kr(e._zod,"optout",()=>t.out._zod.optout),kr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const a=t.out._zod.run(r,n);return a instanceof Promise?a.then(s=>Dv(s,t.in,n)):Dv(a,t.in,n)}const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>Dv(a,t.out,n)):Dv(i,t.out,n)}});function Dv(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const ree=Ve("$ZodReadonly",(e,t)=>{kn.init(e,t),kr(e._zod,"propValues",()=>t.innerType._zod.propValues),kr(e._zod,"values",()=>t.innerType._zod.values),kr(e._zod,"optin",()=>t.innerType?._zod?.optin),kr(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(y4):y4(i)}});function y4(e){return e.value=Object.freeze(e.value),e}const nee=Ve("$ZodCustom",(e,t)=>{Ba.init(e,t),kn.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(a=>x4(a,r,n,e));x4(i,r,n,e)}});function x4(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(Qp(i))}}var _4;class iee{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function aee(){return new iee}(_4=globalThis).__zod_globalRegistry??(_4.__zod_globalRegistry=aee());const up=globalThis.__zod_globalRegistry;function see(e,t){return new e({type:"string",...xt(t)})}function oee(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...xt(t)})}function b4(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...xt(t)})}function lee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...xt(t)})}function cee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xt(t)})}function uee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xt(t)})}function fee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xt(t)})}function dee(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...xt(t)})}function hee(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...xt(t)})}function pee(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...xt(t)})}function mee(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...xt(t)})}function gee(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...xt(t)})}function vee(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...xt(t)})}function yee(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...xt(t)})}function xee(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...xt(t)})}function _ee(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...xt(t)})}function bee(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...xt(t)})}function wee(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xt(t)})}function Eee(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xt(t)})}function Tee(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...xt(t)})}function Aee(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...xt(t)})}function See(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...xt(t)})}function Cee(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...xt(t)})}function Nee(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xt(t)})}function Iee(e,t){return new e({type:"string",format:"date",check:"string_format",...xt(t)})}function kee(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...xt(t)})}function Pee(e,t){return new e({type:"string",format:"duration",check:"string_format",...xt(t)})}function Ree(e,t){return new e({type:"number",checks:[],...xt(t)})}function Oee(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...xt(t)})}function Mee(e){return new e({type:"unknown"})}function Dee(e,t){return new e({type:"never",...xt(t)})}function w4(e,t){return new AU({check:"less_than",...xt(t),value:e,inclusive:!1})}function cE(e,t){return new AU({check:"less_than",...xt(t),value:e,inclusive:!0})}function E4(e,t){return new SU({check:"greater_than",...xt(t),value:e,inclusive:!1})}function uE(e,t){return new SU({check:"greater_than",...xt(t),value:e,inclusive:!0})}function T4(e,t){return new QZ({check:"multiple_of",...xt(t),value:e})}function RU(e,t){return new tQ({check:"max_length",...xt(t),maximum:e})}function ix(e,t){return new rQ({check:"min_length",...xt(t),minimum:e})}function OU(e,t){return new nQ({check:"length_equals",...xt(t),length:e})}function Lee(e,t){return new iQ({check:"string_format",format:"regex",...xt(t),pattern:e})}function Fee(e){return new aQ({check:"string_format",format:"lowercase",...xt(e)})}function jee(e){return new sQ({check:"string_format",format:"uppercase",...xt(e)})}function Uee(e,t){return new oQ({check:"string_format",format:"includes",...xt(t),includes:e})}function Bee(e,t){return new lQ({check:"string_format",format:"starts_with",...xt(t),prefix:e})}function Vee(e,t){return new cQ({check:"string_format",format:"ends_with",...xt(t),suffix:e})}function Rh(e){return new uQ({check:"overwrite",tx:e})}function zee(e){return Rh(t=>t.normalize(e))}function $ee(){return Rh(e=>e.trim())}function Hee(){return Rh(e=>e.toLowerCase())}function Gee(){return Rh(e=>e.toUpperCase())}function qee(){return Rh(e=>iZ(e))}function Kee(e,t,r){return new e({type:"array",element:t,...xt(r)})}function Wee(e,t,r){return new e({type:"custom",check:"custom",fn:t,...xt(r)})}function Yee(e){const t=Jee(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Qp(n,r.value,t._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(Qp(i))}},e(r.value,r)));return t}function Jee(e,t){const r=new Ba({check:"custom",...xt(t)});return r._zod.check=e,r}function MU(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??up,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Oi(e,t,r={path:[],schemaPath:[]}){var n;const i=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const s={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,s);const o=e._zod.toJSONSchema?.();if(o)s.schema=o;else{const d={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,d);else{const m=s.schema,y=t.processors[i.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);y(e,t,m,d)}const p=e._zod.parent;p&&(s.ref||(s.ref=p),Oi(p,t,d),t.seen.get(p).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),t.io==="input"&&ia(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function DU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const s of e.seen.entries()){const o=e.metadataRegistry.get(s[0])?.id;if(o){const c=n.get(o);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(o,s[0])}}const i=s=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const p=e.external.registry.get(s[0])?.id,m=e.external.uri??(x=>x);if(p)return{ref:m(p)};const y=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=y,{defId:y,ref:`${m("__shared")}#/${o}/${y}`}}if(s[1]===r)return{ref:"#"};const u=`#/${o}/`,d=s[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:u+d}},a=s=>{if(s[1].schema.$ref)return;const o=s[1],{ref:c,defId:u}=i(s);o.def={...o.schema},u&&(o.defId=u);const d=o.schema;for(const p in d)delete d[p];d.$ref=c};if(e.cycles==="throw")for(const s of e.seen.entries()){const o=s[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const o=s[1];if(t===s[0]){a(s);continue}if(e.external){const u=e.external.registry.get(s[0])?.id;if(t!==s[0]&&u){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(o.cycle){a(s);continue}if(o.count>1&&e.reused==="ref"){a(s);continue}}}function LU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const o=e.seen.get(s);if(o.ref===null)return;const c=o.def??o.schema,u={...c},d=o.ref;if(o.ref=null,d){n(d);const m=e.seen.get(d),y=m.schema;if(y.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(y)):Object.assign(c,y),Object.assign(c,u),s._zod.parent===d)for(const b in c)b==="$ref"||b==="allOf"||b in u||delete c[b];if(y.$ref&&m.def)for(const b in c)b==="$ref"||b==="allOf"||b in m.def&&JSON.stringify(c[b])===JSON.stringify(m.def[b])&&delete c[b]}const p=s._zod.parent;if(p&&p!==d){n(p);const m=e.seen.get(p);if(m?.schema.$ref&&(c.$ref=m.schema.$ref,m.def))for(const y in c)y==="$ref"||y==="allOf"||y in m.def&&JSON.stringify(c[y])===JSON.stringify(m.def[y])&&delete c[y]}e.override({zodSchema:s,jsonSchema:c,path:o.path??[]})};for(const s of[...e.seen.entries()].reverse())n(s[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const s=e.external.registry.get(t)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(s)}Object.assign(i,r.def??r.schema);const a=e.external?.defs??{};for(const s of e.seen.entries()){const o=s[1];o.def&&o.defId&&(a[o.defId]=o.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...t["~standard"],jsonSchema:{input:ax(t,"input",e.processors),output:ax(t,"output",e.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function ia(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return ia(n.element,r);if(n.type==="set")return ia(n.valueType,r);if(n.type==="lazy")return ia(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return ia(n.innerType,r);if(n.type==="intersection")return ia(n.left,r)||ia(n.right,r);if(n.type==="record"||n.type==="map")return ia(n.keyType,r)||ia(n.valueType,r);if(n.type==="pipe")return ia(n.in,r)||ia(n.out,r);if(n.type==="object"){for(const i in n.shape)if(ia(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(const i of n.options)if(ia(i,r))return!0;return!1}if(n.type==="tuple"){for(const i of n.items)if(ia(i,r))return!0;return!!(n.rest&&ia(n.rest,r))}return!1}const Xee=(e,t={})=>r=>{const n=MU({...r,processors:t});return Oi(e,n),DU(n,e),LU(n,e)},ax=(e,t,r={})=>n=>{const{libraryOptions:i,target:a}=n??{},s=MU({...i??{},target:a,io:t,processors:r});return Oi(e,s),DU(s,e),LU(s,e)},Zee={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Qee=(e,t,r,n)=>{const i=r;i.type="string";const{minimum:a,maximum:s,format:o,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof s=="number"&&(i.maxLength=s),o&&(i.format=Zee[o]??o,i.format===""&&delete i.format,o==="time"&&delete i.format),u&&(i.contentEncoding=u),c&&c.size>0){const d=[...c];d.length===1?i.pattern=d[0].source:d.length>1&&(i.allOf=[...d.map(p=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},ete=(e,t,r,n)=>{const i=r,{minimum:a,maximum:s,format:o,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:d}=e._zod.bag;typeof o=="string"&&o.includes("int")?i.type="integer":i.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=d,i.exclusiveMinimum=!0):i.exclusiveMinimum=d),typeof a=="number"&&(i.minimum=a,typeof d=="number"&&t.target!=="draft-04"&&(d>=a?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof s=="number"&&(i.maximum=s,typeof u=="number"&&t.target!=="draft-04"&&(u<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},tte=(e,t,r,n)=>{r.not={}},rte=(e,t,r,n)=>{},nte=(e,t,r,n)=>{const i=e._zod.def,a=pU(i.entries);a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),r.enum=a},ite=(e,t,r,n)=>{const i=e._zod.def,a=[];for(const s of i.values)if(s===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(s))}else a.push(s);if(a.length!==0)if(a.length===1){const s=a[0];r.type=s===null?"null":typeof s,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[s]:r.const=s}else a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),a.every(s=>typeof s=="boolean")&&(r.type="boolean"),a.every(s=>s===null)&&(r.type="null"),r.enum=a},ate=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},ste=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},ote=(e,t,r,n)=>{const i=r,a=e._zod.def,{minimum:s,maximum:o}=e._zod.bag;typeof s=="number"&&(i.minItems=s),typeof o=="number"&&(i.maxItems=o),i.type="array",i.items=Oi(a.element,t,{...n,path:[...n.path,"items"]})},lte=(e,t,r,n)=>{const i=r,a=e._zod.def;i.type="object",i.properties={};const s=a.shape;for(const u in s)i.properties[u]=Oi(s[u],t,{...n,path:[...n.path,"properties",u]});const o=new Set(Object.keys(s)),c=new Set([...o].filter(u=>{const d=a.shape[u]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));c.size>0&&(i.required=Array.from(c)),a.catchall?._zod.def.type==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=Oi(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},cte=(e,t,r,n)=>{const i=e._zod.def,a=i.inclusive===!1,s=i.options.map((o,c)=>Oi(o,t,{...n,path:[...n.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=s:r.anyOf=s},ute=(e,t,r,n)=>{const i=e._zod.def,a=Oi(i.left,t,{...n,path:[...n.path,"allOf",0]}),s=Oi(i.right,t,{...n,path:[...n.path,"allOf",1]}),o=u=>"allOf"in u&&Object.keys(u).length===1,c=[...o(a)?a.allOf:[a],...o(s)?s.allOf:[s]];r.allOf=c},fte=(e,t,r,n)=>{const i=e._zod.def,a=Oi(i.innerType,t,n),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},dte=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},hte=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},pte=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},mte=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},gte=(e,t,r,n)=>{const i=e._zod.def,a=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Oi(a,t,n);const s=t.seen.get(e);s.ref=a},vte=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.readOnly=!0},FU=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},yte=Ve("ZodISODateTime",(e,t)=>{TQ.init(e,t),ln.init(e,t)});function xte(e){return Nee(yte,e)}const _te=Ve("ZodISODate",(e,t)=>{AQ.init(e,t),ln.init(e,t)});function bte(e){return Iee(_te,e)}const wte=Ve("ZodISOTime",(e,t)=>{SQ.init(e,t),ln.init(e,t)});function Ete(e){return kee(wte,e)}const Tte=Ve("ZodISODuration",(e,t)=>{CQ.init(e,t),ln.init(e,t)});function Ate(e){return Pee(Tte,e)}const Ste=(e,t)=>{xU.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>vZ(e,r)},flatten:{value:r=>gZ(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,kA,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,kA,2)}},isEmpty:{get(){return e.issues.length===0}}})},Us=Ve("ZodError",Ste,{Parent:Error}),Cte=Y2(Us),Nte=J2(Us),Ite=j1(Us),kte=U1(Us),Pte=_Z(Us),Rte=bZ(Us),Ote=wZ(Us),Mte=EZ(Us),Dte=TZ(Us),Lte=AZ(Us),Fte=SZ(Us),jte=CZ(Us),Pn=Ve("ZodType",(e,t)=>(kn.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ax(e,"input"),output:ax(e,"output")}}),e.toJSONSchema=Xee(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(fu(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>du(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>Cte(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Ite(e,r,n),e.parseAsync=async(r,n)=>Nte(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>kte(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Pte(e,r,n),e.decode=(r,n)=>Rte(e,r,n),e.encodeAsync=async(r,n)=>Ote(e,r,n),e.decodeAsync=async(r,n)=>Mte(e,r,n),e.safeEncode=(r,n)=>Dte(e,r,n),e.safeDecode=(r,n)=>Lte(e,r,n),e.safeEncodeAsync=async(r,n)=>Fte(e,r,n),e.safeDecodeAsync=async(r,n)=>jte(e,r,n),e.refine=(r,n)=>e.check(Pre(r,n)),e.superRefine=r=>e.check(Rre(r)),e.overwrite=r=>e.check(Rh(r)),e.optional=()=>N4(e),e.exactOptional=()=>yre(e),e.nullable=()=>I4(e),e.nullish=()=>N4(I4(e)),e.nonoptional=r=>Tre(e,r),e.array=()=>BU(e),e.or=r=>ure([e,r]),e.and=r=>dre(e,r),e.transform=r=>k4(e,gre(r)),e.default=r=>bre(e,r),e.prefault=r=>Ere(e,r),e.catch=r=>Sre(e,r),e.pipe=r=>k4(e,r),e.readonly=()=>Ire(e),e.describe=r=>{const n=e.clone();return up.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return up.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return up.get(e);const n=e.clone();return up.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),jU=Ve("_ZodString",(e,t)=>{X2.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>Qee(e,n,i);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Lee(...n)),e.includes=(...n)=>e.check(Uee(...n)),e.startsWith=(...n)=>e.check(Bee(...n)),e.endsWith=(...n)=>e.check(Vee(...n)),e.min=(...n)=>e.check(ix(...n)),e.max=(...n)=>e.check(RU(...n)),e.length=(...n)=>e.check(OU(...n)),e.nonempty=(...n)=>e.check(ix(1,...n)),e.lowercase=n=>e.check(Fee(n)),e.uppercase=n=>e.check(jee(n)),e.trim=()=>e.check($ee()),e.normalize=(...n)=>e.check(zee(...n)),e.toLowerCase=()=>e.check(Hee()),e.toUpperCase=()=>e.check(Gee()),e.slugify=()=>e.check(qee())}),Ute=Ve("ZodString",(e,t)=>{X2.init(e,t),jU.init(e,t),e.email=r=>e.check(oee(Bte,r)),e.url=r=>e.check(dee(Vte,r)),e.jwt=r=>e.check(Cee(rre,r)),e.emoji=r=>e.check(hee(zte,r)),e.guid=r=>e.check(b4(A4,r)),e.uuid=r=>e.check(lee(Lv,r)),e.uuidv4=r=>e.check(cee(Lv,r)),e.uuidv6=r=>e.check(uee(Lv,r)),e.uuidv7=r=>e.check(fee(Lv,r)),e.nanoid=r=>e.check(pee($te,r)),e.guid=r=>e.check(b4(A4,r)),e.cuid=r=>e.check(mee(Hte,r)),e.cuid2=r=>e.check(gee(Gte,r)),e.ulid=r=>e.check(vee(qte,r)),e.base64=r=>e.check(Tee(Qte,r)),e.base64url=r=>e.check(Aee(ere,r)),e.xid=r=>e.check(yee(Kte,r)),e.ksuid=r=>e.check(xee(Wte,r)),e.ipv4=r=>e.check(_ee(Yte,r)),e.ipv6=r=>e.check(bee(Jte,r)),e.cidrv4=r=>e.check(wee(Xte,r)),e.cidrv6=r=>e.check(Eee(Zte,r)),e.e164=r=>e.check(See(tre,r)),e.datetime=r=>e.check(xte(r)),e.date=r=>e.check(bte(r)),e.time=r=>e.check(Ete(r)),e.duration=r=>e.check(Ate(r))});function ks(e){return see(Ute,e)}const ln=Ve("ZodStringFormat",(e,t)=>{nn.init(e,t),jU.init(e,t)}),Bte=Ve("ZodEmail",(e,t)=>{mQ.init(e,t),ln.init(e,t)}),A4=Ve("ZodGUID",(e,t)=>{hQ.init(e,t),ln.init(e,t)}),Lv=Ve("ZodUUID",(e,t)=>{pQ.init(e,t),ln.init(e,t)}),Vte=Ve("ZodURL",(e,t)=>{gQ.init(e,t),ln.init(e,t)}),zte=Ve("ZodEmoji",(e,t)=>{vQ.init(e,t),ln.init(e,t)}),$te=Ve("ZodNanoID",(e,t)=>{yQ.init(e,t),ln.init(e,t)}),Hte=Ve("ZodCUID",(e,t)=>{xQ.init(e,t),ln.init(e,t)}),Gte=Ve("ZodCUID2",(e,t)=>{_Q.init(e,t),ln.init(e,t)}),qte=Ve("ZodULID",(e,t)=>{bQ.init(e,t),ln.init(e,t)}),Kte=Ve("ZodXID",(e,t)=>{wQ.init(e,t),ln.init(e,t)}),Wte=Ve("ZodKSUID",(e,t)=>{EQ.init(e,t),ln.init(e,t)}),Yte=Ve("ZodIPv4",(e,t)=>{NQ.init(e,t),ln.init(e,t)}),Jte=Ve("ZodIPv6",(e,t)=>{IQ.init(e,t),ln.init(e,t)}),Xte=Ve("ZodCIDRv4",(e,t)=>{kQ.init(e,t),ln.init(e,t)}),Zte=Ve("ZodCIDRv6",(e,t)=>{PQ.init(e,t),ln.init(e,t)}),Qte=Ve("ZodBase64",(e,t)=>{RQ.init(e,t),ln.init(e,t)}),ere=Ve("ZodBase64URL",(e,t)=>{MQ.init(e,t),ln.init(e,t)}),tre=Ve("ZodE164",(e,t)=>{DQ.init(e,t),ln.init(e,t)}),rre=Ve("ZodJWT",(e,t)=>{FQ.init(e,t),ln.init(e,t)}),UU=Ve("ZodNumber",(e,t)=>{NU.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>ete(e,n,i),e.gt=(n,i)=>e.check(E4(n,i)),e.gte=(n,i)=>e.check(uE(n,i)),e.min=(n,i)=>e.check(uE(n,i)),e.lt=(n,i)=>e.check(w4(n,i)),e.lte=(n,i)=>e.check(cE(n,i)),e.max=(n,i)=>e.check(cE(n,i)),e.int=n=>e.check(S4(n)),e.safe=n=>e.check(S4(n)),e.positive=n=>e.check(E4(0,n)),e.nonnegative=n=>e.check(uE(0,n)),e.negative=n=>e.check(w4(0,n)),e.nonpositive=n=>e.check(cE(0,n)),e.multipleOf=(n,i)=>e.check(T4(n,i)),e.step=(n,i)=>e.check(T4(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function RA(e){return Ree(UU,e)}const nre=Ve("ZodNumberFormat",(e,t)=>{jQ.init(e,t),UU.init(e,t)});function S4(e){return Oee(nre,e)}const ire=Ve("ZodUnknown",(e,t)=>{UQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>rte()});function C4(){return Mee(ire)}const are=Ve("ZodNever",(e,t)=>{BQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>tte(e,r,n)});function sre(e){return Dee(are,e)}const ore=Ve("ZodArray",(e,t)=>{VQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ote(e,r,n,i),e.element=t.element,e.min=(r,n)=>e.check(ix(r,n)),e.nonempty=r=>e.check(ix(1,r)),e.max=(r,n)=>e.check(RU(r,n)),e.length=(r,n)=>e.check(OU(r,n)),e.unwrap=()=>e.element});function BU(e,t){return Kee(ore,e,t)}const lre=Ve("ZodObject",(e,t)=>{$Q.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>lte(e,r,n,i),kr(e,"shape",()=>t.shape),e.keyof=()=>zU(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:C4()}),e.loose=()=>e.clone({...e._zod.def,catchall:C4()}),e.strict=()=>e.clone({...e._zod.def,catchall:sre()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>fZ(e,r),e.safeExtend=r=>dZ(e,r),e.merge=r=>hZ(e,r),e.pick=r=>cZ(e,r),e.omit=r=>uZ(e,r),e.partial=(...r)=>pZ($U,e,r[0]),e.required=(...r)=>mZ(HU,e,r[0])});function VU(e,t){const r={type:"object",shape:e??{},...xt(t)};return new lre(r)}const cre=Ve("ZodUnion",(e,t)=>{HQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>cte(e,r,n,i),e.options=t.options});function ure(e,t){return new cre({type:"union",options:e,...xt(t)})}const fre=Ve("ZodIntersection",(e,t)=>{GQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ute(e,r,n,i)});function dre(e,t){return new fre({type:"intersection",left:e,right:t})}const OA=Ve("ZodEnum",(e,t)=>{qQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>nte(e,n,i),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const a={};for(const s of n)if(r.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new OA({...t,checks:[],...xt(i),entries:a})},e.exclude=(n,i)=>{const a={...t.entries};for(const s of n)if(r.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new OA({...t,checks:[],...xt(i),entries:a})}});function zU(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new OA({type:"enum",entries:r,...xt(t)})}const hre=Ve("ZodLiteral",(e,t)=>{KQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ite(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function pre(e,t){return new hre({type:"literal",values:Array.isArray(e)?e:[e],...xt(t)})}const mre=Ve("ZodTransform",(e,t)=>{WQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ste(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new dU(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(Qp(a,r.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(Qp(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function gre(e){return new mre({type:"transform",transform:e})}const $U=Ve("ZodOptional",(e,t)=>{PU.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>FU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function N4(e){return new $U({type:"optional",innerType:e})}const vre=Ve("ZodExactOptional",(e,t)=>{YQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>FU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function yre(e){return new vre({type:"optional",innerType:e})}const xre=Ve("ZodNullable",(e,t)=>{JQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>fte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function I4(e){return new xre({type:"nullable",innerType:e})}const _re=Ve("ZodDefault",(e,t)=>{XQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>hte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function bre(e,t){return new _re({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():gU(t)}})}const wre=Ve("ZodPrefault",(e,t)=>{ZQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>pte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function Ere(e,t){return new wre({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():gU(t)}})}const HU=Ve("ZodNonOptional",(e,t)=>{QQ.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>dte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function Tre(e,t){return new HU({type:"nonoptional",innerType:e,...xt(t)})}const Are=Ve("ZodCatch",(e,t)=>{eee.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>mte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Sre(e,t){return new Are({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Cre=Ve("ZodPipe",(e,t)=>{tee.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>gte(e,r,n,i),e.in=t.in,e.out=t.out});function k4(e,t){return new Cre({type:"pipe",in:e,out:t})}const Nre=Ve("ZodReadonly",(e,t)=>{ree.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>vte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function Ire(e){return new Nre({type:"readonly",innerType:e})}const kre=Ve("ZodCustom",(e,t)=>{nee.init(e,t),Pn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ate(e,r)});function Pre(e,t={}){return Wee(kre,e,t)}function Rre(e){return Yee(e)}VU({companyName:ks().min(1,"Nome da empresa  obrigatrio"),cnpj:ks().optional(),address:ks().min(5,"Endereo invlido"),contactName:ks().optional(),phone:ks().optional(),email:ks().email("Email invlido").optional().or(pre("")),category:ks().or(BU(ks())).optional(),status:zU(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:RA().optional(),lng:RA().optional()});const Ore=VU({name:ks().min(1),price:RA().positive(),category:ks().min(1),sku:ks().optional(),brand:ks().min(1)}),P4=e=>{if(!e)return null;const t=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(t)return{lat:parseFloat(t[1]),lng:parseFloat(t[2])};const r=e.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return r?{lat:parseFloat(r[1]),lng:parseFloat(r[2])}:null},Mre=e=>{if(!e)return null;try{const t=new URL(e),r=t.searchParams.get("query")||t.searchParams.get("q");if(r&&!r.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return r}catch{const r=e.match(/[?&]query=([^&]+)/)||e.match(/[?&]q=([^&]+)/);if(r)return decodeURIComponent(r[1].replace(/\+/g," "))}return null},sx=e=>{if(e==null)return{address:""};const t=String(e).trim(),r=t.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(r){const i=r[1].replace(/""/g,'"').trim(),a=r[2].replace(/""/g,'"').trim(),s=P4(i);return{link:i,address:a,...s}}const n=GU(t);if(n.includes("google.com/maps")||n.includes("maps.app.goo.gl")){const i=Mre(n),a=P4(n);return{link:n,address:i||n,...a}}return{address:n}},GU=e=>{if(e==null)return"";const t=String(e),r=t.match(/"([^"]+)"\)$/);return r&&r[1]?r[1].trim():t.startsWith("=")?t.replace(/[="()]/g,"").trim():t.trim()},MA=e=>{if(e==null)return 0;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},R4=e=>{if(!e)return 0;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},Z2=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),qU=e=>new Promise((t,r)=>{H2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach((s,o)=>{const c={};Object.keys(s).forEach(k=>{c[Z2(k)]=s[k]});const u=c.departamento||c.categoria||"Geral",d=c["cod.prod / sku"]||c["cod.prod"]||c.sku||c["numero do sku"]||"",p=c["nome do produto"]||c.descricao||c.nome||c.produto||"",m=c.marca||c.fabricante||"Genrico",y=MA(c["preco de venda"]||c.preco||"0"),x=c["cod.fabrica"]||c["cod fabrica"]||c["codigo fabrica"]||"",b=R4(c.margem||"0"),E=R4(c.desconto||c.discount||"0"),S={category:u,sku:d,brand:m,factoryCode:x,name:p,price:y,margin:b,discount:E},L=Ore.safeParse(S);L.success?a.push(L.data):console.warn(`Row ${o+1} invalid:`,L.error.issues)}),t(a)},error:n=>r(n)})}),Dre=e=>new Promise((t,r)=>{H2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:n=>n.trim().replace(/^\ufeff/,""),complete:n=>{const i=n.data,a=[];if(i.forEach(s=>{const o={};Object.keys(s).forEach(E=>{o[Z2(E)]=s[E]});const c=o.endereco||o["endereco comercial"]||o.logradouro||o.localizacao||o["endereco cobranca"]||o["link google maps"]||"";let{address:u,link:d,lat:p,lng:m}=sx(c);const y=o.cep||o.zip||o["codigo postal"]||"";y&&u&&!u.toLowerCase().includes(y.toLowerCase())&&(u=`${u}, ${y}`);const x=o.link||o.mapa||o["google maps"]||o.url||o.maps||o.coordenadas||o.geolocalizacao;if(x){const E=sx(x);E.link&&(d=E.link),E.lat&&(p=E.lat),E.lng&&(m=E.lng)}const b={companyName:o["razao social"]||o.cliente||o["nome fantasia"]||o.fantasia||o.empresa||o["nome comercial"]||"",cnpj:o.cnpj||o.taxid||o.inscricao||"",ownerName:o["nome do proprietario"]||o.proprietario||o.dono||o["contato principal"]||"",phone:o["telefone comercial"]||o.contato||o.telefone||o.celular||"",whatsapp:o.whatsapp||o.whats||o.celular||"",address:o["endereco comercial"]||o["logradouro comercial"]||u||"",street:o.rua||o.logradouro||"",number:o.numero||o.num||"",district:o.bairro||o.distrito||"",city:o["nome da cidade"]||o.cidade||o.municipio||"",state:o.estado||o.uf||"",zip:o.cep||o["codigo postal"]||y||"",country:o.pais||"",googleMapsLink:d,latitude:p,longitude:m};(b.companyName||b.address)&&a.push(b)}),a.length>0){const s=a[0];!s.companyName&&!s.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}t(a)},error:n=>{r(n)}})}),Lre=e=>new Promise((t,r)=>{H2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach(s=>{const o={};Object.keys(s).forEach(S=>{o[Z2(S)]=s[S]});const c=o["razao social"]||o.cliente||o.empresa||"",u=o.cnpj||o["cpf/cnpj"]||o.cpf||"",d=o["cod.prod / sku"]||o["cod.prod"]||o.sku||"",p=o["nome do produto"]||o.produto||o.descricao||"",m=o["data da compra"]||o.data||o.emissao||"",y=parseFloat(o["quantidade de skus / produtos comprados"]||o.quantidade||o.qtd||"1"),x=isNaN(y)?1:y,b=MA(o["valor unitario"]||o.preco||"0"),E=MA(o["valor total"]||o.total||(x*b).toString());c&&(d||p)&&a.push({companyName:String(c).trim(),cnpj:String(u).trim().replace(/[.\-\/]/g,""),sku:String(d).trim(),name:String(p).trim(),brand:o.marca||"N/A",category:o.categoria||o.departamento||"Venda",price:b,purchaseDate:String(m).trim(),quantity:y,totalValue:E,factoryCode:o["cod.fabrica"]||""})}),t(a)},error:n=>r(n)})});var KU=1252,Fre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Q2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},eC=function(e){Fre.indexOf(e)!=-1&&(KU=Q2[0]=e)};function jre(){eC(1252)}var no=function(e){eC(e)};function WU(){no(1200),jre()}function O4(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Ure(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function YU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var fp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Ure(e.slice(2)):t==254&&r==255?YU(e.slice(2)):t==65279?e.slice(1):e},Fv=function(t){return String.fromCharCode(t)},M4=function(t){return String.fromCharCode(t)},em,jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function D4(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,i=e.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=jc.charAt(a)+jc.charAt(s)+jc.charAt(o)+jc.charAt(c);return t}function us(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=jc.indexOf(e.charAt(u++)),s=jc.indexOf(e.charAt(u++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=jc.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=jc.indexOf(e.charAt(u++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var tr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Df=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Qc(e){return tr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function L4(e){return tr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Zs=function(t){return tr?Df(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Lf(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function tC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return tC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Dc=tr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Df(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Bre(e){for(var t=[],r=0,n=e.length+250,i=Qc(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Qc(65535),n=65530)}return t.push(i.slice(0,r)),Dc(t)}var da=/\u0000/g,dp=/[\u0001-\u0006]/g;function Qd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function io(e,t){var r=""+e;return r.length>=t?r:mn("0",t-r.length)+r}function rC(e,t){var r=""+e;return r.length>=t?r:mn(" ",t-r.length)+r}function ox(e,t){var r=""+e;return r.length>=t?r:r+mn(" ",t-r.length)}function Vre(e,t){var r=""+Math.round(e);return r.length>=t?r:mn("0",t-r.length)+r}function zre(e,t){var r=""+e;return r.length>=t?r:mn("0",t-r.length)+r}var F4=Math.pow(2,32);function Id(e,t){if(e>F4||e<-F4)return Vre(e,t);var r=Math.round(e);return zre(r,t)}function lx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var j4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],fE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function $re(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},U4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Hre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function cx(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,c=1,u=0,d=0,p=Math.floor(i);u<t&&(p=Math.floor(i),o=p*s+a,d=p*u+c,!(i-p<5e-8));)i=1/(i-p),a=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=a):(d=u,o=s)),!r)return[0,n*o,d];var m=Math.floor(n*o/d);return[m,n*o-m*d,d]}function Zu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=Jre(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var JU=new Date(1899,11,31,0,0,0),Gre=JU.getTime(),qre=new Date(1900,2,1,0,0,0);function XU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=qre&&(r+=1440*60*1e3),(r-(Gre+(e.getTimezoneOffset()-JU.getTimezoneOffset())*6e4))/(1440*60*1e3)}function nC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Wre(e){var t=e<0?12:11,r=nC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Yre(e){var t=nC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function tm(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Wre(e):t===10?r=e.toFixed(10).substr(0,12):r=Yre(e),nC(Kre(r.toUpperCase()))}function vf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):tm(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ms(14,XU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Jre(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Xre(e,t,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return fE[r.m-1][1];case 5:return fE[r.m-1][0];default:return fE[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return j4[r.q][0];default:return j4[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?io(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=io(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?io(c,u):"";return d}function Uc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var ZU=/%/g;function Zre(e,t,r){var n=t.replace(ZU,""),i=t.length-n.length;return Rl(e,n,r*Math.pow(10,2*i))+mn("%",i)}function Qre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Rl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function QU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+QU(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var e9=/# (\?+)( ?)\/( ?)(\d+)/;function ene(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?mn(" ",e[1].length+1+e[4].length):rC(s,e[1].length)+e[2]+"/"+e[3]+io(o,e[4].length))}function tne(e,t,r){return r+(t===0?"":""+t)+mn(" ",e[1].length+2+e[4].length)}var t9=/^#*0*\.([0#]+)/,r9=/\).*[0#]/,n9=/\(###\) ###\\?-####/;function sa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function B4(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function V4(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function rne(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function nne(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ss(e,t,r){if(e.charCodeAt(0)===40&&!t.match(r9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ss("n",n,r):"("+Ss("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Qre(e,t,r);if(t.indexOf("%")!==-1)return Zre(e,t,r);if(t.indexOf("E")!==-1)return QU(t,r);if(t.charCodeAt(0)===36)return"$"+Ss(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Id(c,t.length);if(t.match(/^[#?]+$/))return i=Id(r,0),i==="0"&&(i=""),i.length>t.length?i:sa(t.substr(0,t.length-i.length))+i;if(a=t.match(e9))return ene(a,c,u);if(t.match(/^#+0+$/))return u+Id(c,t.length-t.indexOf("0"));if(a=t.match(t9))return i=B4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+sa(a[1])).replace(/\.$/,"."+sa(a[1])).replace(/\.(\d*)$/,function(x,b){return"."+b+mn("0",sa(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+B4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Uc(Id(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ss(e,t,-r):Uc(""+(Math.floor(r)+rne(r,a[1].length)))+"."+io(V4(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ss(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qd(Ss(e,t.replace(/[\\-]/g,""),r)),s=0,Qd(Qd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(t.match(n9))return i=Ss(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=cx(c,Math.pow(10,s)-1,!1),i=""+u,d=Rl("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=ox(o[2],s),d.length<a[4].length&&(d=sa(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=cx(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?rC(o[1],s)+a[2]+"/"+a[3]+ox(o[2],s):mn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Id(r,0),t.length<=i.length?i:sa(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=t.indexOf(".")-s,m=t.length-i.length-p;return sa(t.substr(0,p)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=V4(r,a[1].length),r<0?"-"+Ss(e,t,-r):Uc(nne(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?io(0,3-x.length):"")+x})+"."+io(s,a[1].length);switch(t){case"###,##0.00":return Ss(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=Uc(Id(c,0));return y!=="0"?u+y:"";case"###,###.00":return Ss(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ss(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function ine(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Rl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ane(e,t,r){var n=t.replace(ZU,""),i=t.length-n.length;return Rl(e,n,r*Math.pow(10,2*i))+mn("%",i)}function i9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+i9(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function jo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(r9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?jo("n",n,r):"("+jo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ine(e,t,r);if(t.indexOf("%")!==-1)return ane(e,t,r);if(t.indexOf("E")!==-1)return i9(t,r);if(t.charCodeAt(0)===36)return"$"+jo(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+io(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:sa(t.substr(0,t.length-i.length))+i;if(a=t.match(e9))return tne(a,c,u);if(t.match(/^#+0+$/))return u+io(c,t.length-t.indexOf("0"));if(a=t.match(t9))return i=(""+r).replace(/^([^\.]+)$/,"$1."+sa(a[1])).replace(/\.$/,"."+sa(a[1])),i=i.replace(/\.(\d*)$/,function(x,b){return"."+b+mn("0",sa(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Uc(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+jo(e,t,-r):Uc(""+r)+"."+mn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return jo(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Qd(jo(e,t.replace(/[\\-]/g,""),r)),s=0,Qd(Qd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(t.match(n9))return i=jo(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=cx(c,Math.pow(10,s)-1,!1),i=""+u,d=Rl("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=ox(o[2],s),d.length<a[4].length&&(d=sa(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=cx(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?rC(o[1],s)+a[2]+"/"+a[3]+ox(o[2],s):mn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:sa(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=t.indexOf(".")-s,m=t.length-i.length-p;return sa(t.substr(0,p)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+jo(e,t,-r):Uc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?io(0,3-x.length):"")+x})+"."+io(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=Uc(""+c);return y!=="0"?u+y:"";default:if(t.match(/\.[0#?]*$/))return jo(e,t.slice(0,t.lastIndexOf(".")),r)+sa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Rl(e,t,r){return(r|0)===r?jo(e,t,r):Ss(e,t,r)}function sne(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var a9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Oh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":lx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(a9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function one(e,t,r,n){for(var i=[],a="",s=0,o="",c="t",u,d,p,m="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!lx(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(p=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++s;break;case"\\":var y=e.charAt(++s),x=y==="("||y===")"?y:"t";i[i.length]={t:x,v:y},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=Zu(t,r,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Zu(t,r),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var b={t:o,v:o};if(u==null&&(u=Zu(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",m="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",s+=5,m="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",s+=5,m="h"):(b.t="t",++s),u==null&&b.t==="T")return"";i[i.length]=b,c=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(a9)){if(u==null&&(u=Zu(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Oh(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var E=0,S=0,L;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=m,c="h",E<1&&(E=1);break;case"s":(L=i[s].v.match(/\.0+$/))&&(S=Math.max(S,L[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[s].v.match(/[Hh]/)&&(E=1),E<2&&i[s].v.match(/[Mm]/)&&(E=2),E<3&&i[s].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var k="",M;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Xre(i[s].t.charCodeAt(0),i[s].v,u,S),i[s].t="t";break;case"n":case"?":for(M=s+1;i[M]!=null&&((o=i[M].t)==="?"||o==="D"||(o===" "||o==="t")&&i[M+1]!=null&&(i[M+1].t==="?"||i[M+1].t==="t"&&i[M+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[M].v==="/"||i[M].v===" "&&i[M+1]!=null&&i[M+1].t=="?"));)i[s].v+=i[M].v,i[M]={v:"",t:";"},++M;k+=i[s].v,s=M-1;break;case"G":i[s].t="t",i[s].v=vf(t,r);break}var D="",P,N;if(k.length>0){k.charCodeAt(0)==40?(P=t<0&&k.charCodeAt(0)===45?-t:t,N=Rl("n",k,P)):(P=t<0&&n>1?-t:t,N=Rl("n",k,P),P<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),M=N.length-1;var I=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){I=s;break}var O=i.length;if(I===i.length&&N.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(M>=i[s].v.length-1?(M-=i[s].v.length,i[s].v=N.substr(M+1,i[s].v.length)):M<0?i[s].v="":(i[s].v=N.substr(0,M+1),M=-1),i[s].t="t",O=s);M>=0&&O<i.length&&(i[O].v=N.substr(0,M+1)+i[O].v)}else if(I!==i.length&&N.indexOf("E")===-1){for(M=N.indexOf(".")-1,s=I;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(d=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")-1:i[s].v.length-1,D=i[s].v.substr(d+1);d>=0;--d)M>=0&&(i[s].v.charAt(d)==="0"||i[s].v.charAt(d)==="#")&&(D=N.charAt(M--)+D);i[s].v=D,i[s].t="t",O=s}for(M>=0&&O<i.length&&(i[O].v=N.substr(0,M+1)+i[O].v),M=N.indexOf(".")+1,s=I;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==I)){for(d=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")+1:0,D=i[s].v.substr(0,d);d<i[s].v.length;++d)M<N.length&&(D+=N.charAt(M++));i[s].v=D,i[s].t="t",O=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(P=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=Rl(i[s].t,i[s].v,P),i[s].t="t");var U="";for(s=0;s!==i.length;++s)i[s]!=null&&(U+=i[s].v);return U}var z4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $4(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function lne(e,t){var r=sne(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(z4),o=r[1].match(z4);return $4(t,s)?[n,r[0]]:$4(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Ms(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:jt)[e],n==null&&(n=r.table&&r.table[U4[e]]||jt[U4[e]]),n==null&&(n=Hre[e]||"General");break}if(lx(n,0))return vf(t,r);t instanceof Date&&(t=XU(t,r.date1904));var i=lne(n,t);if(lx(i[1]))return vf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return one(i[1],t,r,i[0])}function sf(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(jt[r]==null){t<0&&(t=r);continue}if(jt[r]==e){t=r;break}}t<0&&(t=391)}return jt[t]=e,t}function s9(){jt=$re()}var cne={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},o9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function une(e){var t=typeof e=="number"?jt[e]:e;return t=t.replace(o9,"(\\d+)"),new RegExp("^"+t+"$")}function fne(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(t.match(o9)||[]).forEach(function(p,m){var y=parseInt(r[m+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=y;break;case"d":a=y;break;case"h":s=y;break;case"s":c=y;break;case"m":s>=0?o=y:i=y;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?d:u+"T"+d}var dne=(function(){var e={};e.version="1.2.0";function t(){for(var N=0,I=new Array(256),O=0;O!=256;++O)N=O,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,I[O]=N;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(N){var I=0,O=0,U=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)B[U]=N[U];for(U=0;U!=256;++U)for(O=N[U],I=256+U;I<4096;I+=256)O=B[I]=O>>>8^N[O&255];var F=[];for(U=1;U!=16;++U)F[U-1]=typeof Int32Array<"u"?B.subarray(U*256,U*256+256):B.slice(U*256,U*256+256);return F}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],d=i[5],p=i[6],m=i[7],y=i[8],x=i[9],b=i[10],E=i[11],S=i[12],L=i[13],k=i[14];function M(N,I){for(var O=I^-1,U=0,B=N.length;U<B;)O=O>>>8^r[(O^N.charCodeAt(U++))&255];return~O}function D(N,I){for(var O=I^-1,U=N.length-15,B=0;B<U;)O=k[N[B++]^O&255]^L[N[B++]^O>>8&255]^S[N[B++]^O>>16&255]^E[N[B++]^O>>>24]^b[N[B++]]^x[N[B++]]^y[N[B++]]^m[N[B++]]^p[N[B++]]^d[N[B++]]^u[N[B++]]^c[N[B++]]^o[N[B++]]^s[N[B++]]^a[N[B++]]^r[N[B++]];for(U+=15;B<U;)O=O>>>8^r[(O^N[B++])&255];return~O}function P(N,I){for(var O=I^-1,U=0,B=N.length,F=0,H=0;U<B;)F=N.charCodeAt(U++),F<128?O=O>>>8^r[(O^F)&255]:F<2048?(O=O>>>8^r[(O^(192|F>>6&31))&255],O=O>>>8^r[(O^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,H=N.charCodeAt(U++)&1023,O=O>>>8^r[(O^(240|F>>8&7))&255],O=O>>>8^r[(O^(128|F>>2&63))&255],O=O>>>8^r[(O^(128|H>>6&15|(F&3)<<4))&255],O=O>>>8^r[(O^(128|H&63))&255]):(O=O>>>8^r[(O^(224|F>>12&15))&255],O=O>>>8^r[(O^(128|F>>6&63))&255],O=O>>>8^r[(O^(128|F&63))&255]);return~O}return e.table=r,e.bstr=M,e.buf=D,e.str=P,e})(),ar=(function(){var t={};t.version="1.2.1";function r(W,re){for(var Z=W.split("/"),te=re.split("/"),ie=0,oe=0,ye=Math.min(Z.length,te.length);ie<ye;++ie){if(oe=Z[ie].length-te[ie].length)return oe;if(Z[ie]!=te[ie])return Z[ie]<te[ie]?-1:1}return Z.length-te.length}function n(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:n(W.slice(0,-1));var re=W.lastIndexOf("/");return re===-1?W:W.slice(0,re+1)}function i(W){if(W.charAt(W.length-1)=="/")return i(W.slice(0,-1));var re=W.lastIndexOf("/");return re===-1?W:W.slice(re+1)}function a(W,re){typeof re=="string"&&(re=new Date(re));var Z=re.getHours();Z=Z<<6|re.getMinutes(),Z=Z<<5|re.getSeconds()>>>1,W.write_shift(2,Z);var te=re.getFullYear()-1980;te=te<<4|re.getMonth()+1,te=te<<5|re.getDate(),W.write_shift(2,te)}function s(W){var re=W.read_shift(2)&65535,Z=W.read_shift(2)&65535,te=new Date,ie=Z&31;Z>>>=5;var oe=Z&15;Z>>>=4,te.setMilliseconds(0),te.setFullYear(Z+1980),te.setMonth(oe-1),te.setDate(ie);var ye=re&31;re>>>=5;var Re=re&63;return re>>>=6,te.setHours(re),te.setMinutes(Re),te.setSeconds(ye<<1),te}function o(W){Ii(W,0);for(var re={},Z=0;W.l<=W.length-4;){var te=W.read_shift(2),ie=W.read_shift(2),oe=W.l+ie,ye={};te===21589&&(Z=W.read_shift(1),Z&1&&(ye.mtime=W.read_shift(4)),ie>5&&(Z&2&&(ye.atime=W.read_shift(4)),Z&4&&(ye.ctime=W.read_shift(4))),ye.mtime&&(ye.mt=new Date(ye.mtime*1e3))),W.l=oe,re[te]=ye}return re}var c;function u(){return c||(c={})}function d(W,re){if(W[0]==80&&W[1]==75)return _a(W,re);if((W[0]|32)==109&&(W[1]|32)==105)return Ea(W,re);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Z=3,te=512,ie=0,oe=0,ye=0,Re=0,Ee=0,Ce=[],Ae=W.slice(0,512);Ii(Ae,0);var He=p(Ae);switch(Z=He[0],Z){case 3:te=512;break;case 4:te=4096;break;case 0:if(He[1]==0)return _a(W,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}te!==512&&(Ae=W.slice(0,te),Ii(Ae,28));var We=W.slice(0,te);m(Ae,Z);var Qe=Ae.read_shift(4,"i");if(Z===3&&Qe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Qe);Ae.l+=4,ye=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),Re=Ae.read_shift(4,"i"),ie=Ae.read_shift(4,"i"),Ee=Ae.read_shift(4,"i"),oe=Ae.read_shift(4,"i");for(var Ge=-1,Xe=0;Xe<109&&(Ge=Ae.read_shift(4,"i"),!(Ge<0));++Xe)Ce[Xe]=Ge;var st=y(W,te);E(Ee,oe,st,te,Ce);var pr=L(st,ye,Ce,te);pr[ye].name="!Directory",ie>0&&Re!==H&&(pr[Re].name="!MiniFAT"),pr[Ce[0]].name="!FAT",pr.fat_addrs=Ce,pr.ssz=te;var mr={},Tr=[],ii=[],Ga=[];k(ye,pr,st,Tr,ie,mr,ii,Re),x(ii,Ga,Tr),Tr.shift();var qa={FileIndex:ii,FullPaths:Ga};return re&&re.raw&&(qa.raw={header:We,sectors:st}),qa}function p(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(fe,"Header Signature: "),W.l+=16;var re=W.read_shift(2,"u");return[W.read_shift(2,"u"),re]}function m(W,re){var Z=9;switch(W.l+=2,Z=W.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function y(W,re){for(var Z=Math.ceil(W.length/re)-1,te=[],ie=1;ie<Z;++ie)te[ie-1]=W.slice(ie*re,(ie+1)*re);return te[Z-1]=W.slice(Z*re),te}function x(W,re,Z){for(var te=0,ie=0,oe=0,ye=0,Re=0,Ee=Z.length,Ce=[],Ae=[];te<Ee;++te)Ce[te]=Ae[te]=te,re[te]=Z[te];for(;Re<Ae.length;++Re)te=Ae[Re],ie=W[te].L,oe=W[te].R,ye=W[te].C,Ce[te]===te&&(ie!==-1&&Ce[ie]!==ie&&(Ce[te]=Ce[ie]),oe!==-1&&Ce[oe]!==oe&&(Ce[te]=Ce[oe])),ye!==-1&&(Ce[ye]=te),ie!==-1&&te!=Ce[te]&&(Ce[ie]=Ce[te],Ae.lastIndexOf(ie)<Re&&Ae.push(ie)),oe!==-1&&te!=Ce[te]&&(Ce[oe]=Ce[te],Ae.lastIndexOf(oe)<Re&&Ae.push(oe));for(te=1;te<Ee;++te)Ce[te]===te&&(oe!==-1&&Ce[oe]!==oe?Ce[te]=Ce[oe]:ie!==-1&&Ce[ie]!==ie&&(Ce[te]=Ce[ie]));for(te=1;te<Ee;++te)if(W[te].type!==0){if(Re=te,Re!=Ce[Re])do Re=Ce[Re],re[te]=re[Re]+"/"+re[te];while(Re!==0&&Ce[Re]!==-1&&Re!=Ce[Re]);Ce[te]=-1}for(re[0]+="/",te=1;te<Ee;++te)W[te].type!==2&&(re[te]+="/")}function b(W,re,Z){for(var te=W.start,ie=W.size,oe=[],ye=te;Z&&ie>0&&ye>=0;)oe.push(re.slice(ye*F,ye*F+F)),ie-=F,ye=Xu(Z,ye*4);return oe.length===0?Yn(0):Dc(oe).slice(0,W.size)}function E(W,re,Z,te,ie){var oe=H;if(W===H){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var ye=Z[W],Re=(te>>>2)-1;if(!ye)return;for(var Ee=0;Ee<Re&&(oe=Xu(ye,Ee*4))!==H;++Ee)ie.push(oe);E(Xu(ye,te-4),re-1,Z,te,ie)}}function S(W,re,Z,te,ie){var oe=[],ye=[];ie||(ie=[]);var Re=te-1,Ee=0,Ce=0;for(Ee=re;Ee>=0;){ie[Ee]=!0,oe[oe.length]=Ee,ye.push(W[Ee]);var Ae=Z[Math.floor(Ee*4/te)];if(Ce=Ee*4&Re,te<4+Ce)throw new Error("FAT boundary crossed: "+Ee+" 4 "+te);if(!W[Ae])break;Ee=Xu(W[Ae],Ce)}return{nodes:oe,data:Q4([ye])}}function L(W,re,Z,te){var ie=W.length,oe=[],ye=[],Re=[],Ee=[],Ce=te-1,Ae=0,He=0,We=0,Qe=0;for(Ae=0;Ae<ie;++Ae)if(Re=[],We=Ae+re,We>=ie&&(We-=ie),!ye[We]){Ee=[];var Ge=[];for(He=We;He>=0;){Ge[He]=!0,ye[He]=!0,Re[Re.length]=He,Ee.push(W[He]);var Xe=Z[Math.floor(He*4/te)];if(Qe=He*4&Ce,te<4+Qe)throw new Error("FAT boundary crossed: "+He+" 4 "+te);if(!W[Xe]||(He=Xu(W[Xe],Qe),Ge[He]))break}oe[We]={nodes:Re,data:Q4([Ee])}}return oe}function k(W,re,Z,te,ie,oe,ye,Re){for(var Ee=0,Ce=te.length?2:0,Ae=re[W].data,He=0,We=0,Qe;He<Ae.length;He+=128){var Ge=Ae.slice(He,He+128);Ii(Ge,64),We=Ge.read_shift(2),Qe=lC(Ge,0,We-Ce),te.push(Qe);var Xe={name:Qe,type:Ge.read_shift(1),color:Ge.read_shift(1),L:Ge.read_shift(4,"i"),R:Ge.read_shift(4,"i"),C:Ge.read_shift(4,"i"),clsid:Ge.read_shift(16),state:Ge.read_shift(4,"i"),start:0,size:0},st=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);st!==0&&(Xe.ct=M(Ge,Ge.l-8));var pr=Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2)+Ge.read_shift(2);pr!==0&&(Xe.mt=M(Ge,Ge.l-8)),Xe.start=Ge.read_shift(4,"i"),Xe.size=Ge.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=H,Xe.name=""),Xe.type===5?(Ee=Xe.start,ie>0&&Ee!==H&&(re[Ee].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",re[Xe.start]===void 0&&(re[Xe.start]=S(Z,Xe.start,re.fat_addrs,re.ssz)),re[Xe.start].name=Xe.name,Xe.content=re[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:Ee!==H&&Xe.start!==H&&re[Ee]&&(Xe.content=b(Xe,re[Ee].data,(re[Re]||{}).data))),Xe.content&&Ii(Xe.content,0),oe[Qe]=Xe,ye.push(Xe)}}function M(W,re){return new Date((ts(W,re+4)/1e7*Math.pow(2,32)+ts(W,re)/1e7-11644473600)*1e3)}function D(W,re){return u(),d(c.readFileSync(W),re)}function P(W,re){var Z=re&&re.type;switch(Z||tr&&Buffer.isBuffer(W)&&(Z="buffer"),Z||"base64"){case"file":return D(W,re);case"base64":return d(Zs(us(W)),re);case"binary":return d(Zs(W),re)}return d(W,re)}function N(W,re){var Z=re||{},te=Z.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=te+"/",W.FileIndex[0]={name:te,type:5}),Z.CLSID&&(W.FileIndex[0].clsid=Z.CLSID),I(W)}function I(W){var re="Sh33tJ5";if(!ar.find(W,"/"+re)){var Z=Yn(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,W.FileIndex.push({name:re,type:2,content:Z,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+re),O(W)}}function O(W,re){N(W);for(var Z=!1,te=!1,ie=W.FullPaths.length-1;ie>=0;--ie){var oe=W.FileIndex[ie];switch(oe.type){case 0:te?Z=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(oe.R*oe.L*oe.C)&&(Z=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!re)){var ye=new Date(1987,1,19),Re=0,Ee=Object.create?Object.create(null):{},Ce=[];for(ie=0;ie<W.FullPaths.length;++ie)Ee[W.FullPaths[ie]]=!0,W.FileIndex[ie].type!==0&&Ce.push([W.FullPaths[ie],W.FileIndex[ie]]);for(ie=0;ie<Ce.length;++ie){var Ae=n(Ce[ie][0]);te=Ee[Ae],te||(Ce.push([Ae,{name:i(Ae).replace("/",""),type:1,clsid:ne,ct:ye,mt:ye,content:null}]),Ee[Ae]=!0)}for(Ce.sort(function(Qe,Ge){return r(Qe[0],Ge[0])}),W.FullPaths=[],W.FileIndex=[],ie=0;ie<Ce.length;++ie)W.FullPaths[ie]=Ce[ie][0],W.FileIndex[ie]=Ce[ie][1];for(ie=0;ie<Ce.length;++ie){var He=W.FileIndex[ie],We=W.FullPaths[ie];if(He.name=i(We).replace("/",""),He.L=He.R=He.C=-(He.color=1),He.size=He.content?He.content.length:0,He.start=0,He.clsid=He.clsid||ne,ie===0)He.C=Ce.length>1?1:-1,He.size=0,He.type=5;else if(We.slice(-1)=="/"){for(Re=ie+1;Re<Ce.length&&n(W.FullPaths[Re])!=We;++Re);for(He.C=Re>=Ce.length?-1:Re,Re=ie+1;Re<Ce.length&&n(W.FullPaths[Re])!=n(We);++Re);He.R=Re>=Ce.length?-1:Re,He.type=1}else n(W.FullPaths[ie+1]||"")==n(We)&&(He.R=ie+1),He.type=2}}}function U(W,re){var Z=re||{};if(Z.fileType=="mad")return bu(W,Z);if(O(W),Z.fileType==="zip")return Xr(W,Z);var te=(function(Qe){for(var Ge=0,Xe=0,st=0;st<Qe.FileIndex.length;++st){var pr=Qe.FileIndex[st];if(pr.content){var mr=pr.content.length;mr>0&&(mr<4096?Ge+=mr+63>>6:Xe+=mr+511>>9)}}for(var Tr=Qe.FullPaths.length+3>>2,ii=Ge+7>>3,Ga=Ge+127>>7,qa=ii+Xe+Tr+Ga,Zi=qa+127>>7,wo=Zi<=109?0:Math.ceil((Zi-109)/127);qa+Zi+wo+127>>7>Zi;)wo=++Zi<=109?0:Math.ceil((Zi-109)/127);var ai=[1,wo,Zi,Ga,Tr,Xe,Ge,0];return Qe.FileIndex[0].size=Ge<<6,ai[7]=(Qe.FileIndex[0].start=ai[0]+ai[1]+ai[2]+ai[3]+ai[4]+ai[5])+(ai[6]+7>>3),ai})(W),ie=Yn(te[7]<<9),oe=0,ye=0;{for(oe=0;oe<8;++oe)ie.write_shift(1,me[oe]);for(oe=0;oe<8;++oe)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),oe=0;oe<3;++oe)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,te[2]),ie.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:H),ie.write_shift(4,te[3]),ie.write_shift(-4,te[1]?te[0]-1:H),ie.write_shift(4,te[1]),oe=0;oe<109;++oe)ie.write_shift(-4,oe<te[2]?te[1]+oe:-1)}if(te[1])for(ye=0;ye<te[1];++ye){for(;oe<236+ye*127;++oe)ie.write_shift(-4,oe<te[2]?te[1]+oe:-1);ie.write_shift(-4,ye===te[1]-1?H:ye+1)}var Re=function(Qe){for(ye+=Qe;oe<ye-1;++oe)ie.write_shift(-4,oe+1);Qe&&(++oe,ie.write_shift(-4,H))};for(ye=oe=0,ye+=te[1];oe<ye;++oe)ie.write_shift(-4,ue.DIFSECT);for(ye+=te[2];oe<ye;++oe)ie.write_shift(-4,ue.FATSECT);Re(te[3]),Re(te[4]);for(var Ee=0,Ce=0,Ae=W.FileIndex[0];Ee<W.FileIndex.length;++Ee)Ae=W.FileIndex[Ee],Ae.content&&(Ce=Ae.content.length,!(Ce<4096)&&(Ae.start=ye,Re(Ce+511>>9)));for(Re(te[6]+7>>3);ie.l&511;)ie.write_shift(-4,ue.ENDOFCHAIN);for(ye=oe=0,Ee=0;Ee<W.FileIndex.length;++Ee)Ae=W.FileIndex[Ee],Ae.content&&(Ce=Ae.content.length,!(!Ce||Ce>=4096)&&(Ae.start=ye,Re(Ce+63>>6)));for(;ie.l&511;)ie.write_shift(-4,ue.ENDOFCHAIN);for(oe=0;oe<te[4]<<2;++oe){var He=W.FullPaths[oe];if(!He||He.length===0){for(Ee=0;Ee<17;++Ee)ie.write_shift(4,0);for(Ee=0;Ee<3;++Ee)ie.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)ie.write_shift(4,0);continue}Ae=W.FileIndex[oe],oe===0&&(Ae.start=Ae.size?Ae.start-1:H);var We=oe===0&&Z.root||Ae.name;if(Ce=2*(We.length+1),ie.write_shift(64,We,"utf16le"),ie.write_shift(2,Ce),ie.write_shift(1,Ae.type),ie.write_shift(1,Ae.color),ie.write_shift(-4,Ae.L),ie.write_shift(-4,Ae.R),ie.write_shift(-4,Ae.C),Ae.clsid)ie.write_shift(16,Ae.clsid,"hex");else for(Ee=0;Ee<4;++Ee)ie.write_shift(4,0);ie.write_shift(4,Ae.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,Ae.start),ie.write_shift(4,Ae.size),ie.write_shift(4,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(Ae=W.FileIndex[oe],Ae.size>=4096)if(ie.l=Ae.start+1<<9,tr&&Buffer.isBuffer(Ae.content))Ae.content.copy(ie,ie.l,0,Ae.size),ie.l+=Ae.size+511&-512;else{for(Ee=0;Ee<Ae.size;++Ee)ie.write_shift(1,Ae.content[Ee]);for(;Ee&511;++Ee)ie.write_shift(1,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(Ae=W.FileIndex[oe],Ae.size>0&&Ae.size<4096)if(tr&&Buffer.isBuffer(Ae.content))Ae.content.copy(ie,ie.l,0,Ae.size),ie.l+=Ae.size+63&-64;else{for(Ee=0;Ee<Ae.size;++Ee)ie.write_shift(1,Ae.content[Ee]);for(;Ee&63;++Ee)ie.write_shift(1,0)}if(tr)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function B(W,re){var Z=W.FullPaths.map(function(Ee){return Ee.toUpperCase()}),te=Z.map(function(Ee){var Ce=Ee.split("/");return Ce[Ce.length-(Ee.slice(-1)=="/"?2:1)]}),ie=!1;re.charCodeAt(0)===47?(ie=!0,re=Z[0].slice(0,-1)+re):ie=re.indexOf("/")!==-1;var oe=re.toUpperCase(),ye=ie===!0?Z.indexOf(oe):te.indexOf(oe);if(ye!==-1)return W.FileIndex[ye];var Re=!oe.match(dp);for(oe=oe.replace(da,""),Re&&(oe=oe.replace(dp,"!")),ye=0;ye<Z.length;++ye)if((Re?Z[ye].replace(dp,"!"):Z[ye]).replace(da,"")==oe||(Re?te[ye].replace(dp,"!"):te[ye]).replace(da,"")==oe)return W.FileIndex[ye];return null}var F=64,H=-2,fe="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(W,re,Z){u();var te=U(W,Z);c.writeFileSync(re,te)}function ae(W){for(var re=new Array(W.length),Z=0;Z<W.length;++Z)re[Z]=String.fromCharCode(W[Z]);return re.join("")}function _e(W,re){var Z=U(W,re);switch(re&&re.type||"buffer"){case"file":return u(),c.writeFileSync(re.filename,Z),Z;case"binary":return typeof Z=="string"?Z:ae(Z);case"base64":return D4(typeof Z=="string"?Z:ae(Z));case"buffer":if(tr)return Buffer.isBuffer(Z)?Z:Df(Z);case"array":return typeof Z=="string"?Zs(Z):Z}return Z}var J;function V(W){try{var re=W.InflateRaw,Z=new re;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)J=W;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function ee(W,re){if(!J)return xo(W,re);var Z=J.InflateRaw,te=new Z,ie=te._processChunk(W.slice(W.l),te._finishFlushFlag);return W.l+=te.bytesRead,ie}function X(W){return J?J.deflateRawSync(W):Et(W)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(W){var re=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(re>>16|re>>8|re)&255}for(var le=typeof Uint8Array<"u",ge=le?new Uint8Array(256):[],De=0;De<256;++De)ge[De]=Ie(De);function K(W,re){var Z=ge[W&255];return re<=8?Z>>>8-re:(Z=Z<<8|ge[W>>8&255],re<=16?Z>>>16-re:(Z=Z<<8|ge[W>>16&255],Z>>>24-re))}function Ye(W,re){var Z=re&7,te=re>>>3;return(W[te]|(Z<=6?0:W[te+1]<<8))>>>Z&3}function Ue(W,re){var Z=re&7,te=re>>>3;return(W[te]|(Z<=5?0:W[te+1]<<8))>>>Z&7}function Ke(W,re){var Z=re&7,te=re>>>3;return(W[te]|(Z<=4?0:W[te+1]<<8))>>>Z&15}function ze(W,re){var Z=re&7,te=re>>>3;return(W[te]|(Z<=3?0:W[te+1]<<8))>>>Z&31}function Le(W,re){var Z=re&7,te=re>>>3;return(W[te]|(Z<=1?0:W[te+1]<<8))>>>Z&127}function Je(W,re,Z){var te=re&7,ie=re>>>3,oe=(1<<Z)-1,ye=W[ie]>>>te;return Z<8-te||(ye|=W[ie+1]<<8-te,Z<16-te)||(ye|=W[ie+2]<<16-te,Z<24-te)||(ye|=W[ie+3]<<24-te),ye&oe}function et(W,re,Z){var te=re&7,ie=re>>>3;return te<=5?W[ie]|=(Z&7)<<te:(W[ie]|=Z<<te&255,W[ie+1]=(Z&7)>>8-te),re+3}function ht(W,re,Z){var te=re&7,ie=re>>>3;return Z=(Z&1)<<te,W[ie]|=Z,re+1}function It(W,re,Z){var te=re&7,ie=re>>>3;return Z<<=te,W[ie]|=Z&255,Z>>>=8,W[ie+1]=Z,re+8}function Gr(W,re,Z){var te=re&7,ie=re>>>3;return Z<<=te,W[ie]|=Z&255,Z>>>=8,W[ie+1]=Z&255,W[ie+2]=Z>>>8,re+16}function Br(W,re){var Z=W.length,te=2*Z>re?2*Z:re+5,ie=0;if(Z>=re)return W;if(tr){var oe=L4(te);if(W.copy)W.copy(oe);else for(;ie<W.length;++ie)oe[ie]=W[ie];return oe}else if(le){var ye=new Uint8Array(te);if(ye.set)ye.set(W);else for(;ie<Z;++ie)ye[ie]=W[ie];return ye}return W.length=te,W}function bt(W){for(var re=new Array(W),Z=0;Z<W;++Z)re[Z]=0;return re}function xr(W,re,Z){var te=1,ie=0,oe=0,ye=0,Re=0,Ee=W.length,Ce=le?new Uint16Array(32):bt(32);for(oe=0;oe<32;++oe)Ce[oe]=0;for(oe=Ee;oe<Z;++oe)W[oe]=0;Ee=W.length;var Ae=le?new Uint16Array(Ee):bt(Ee);for(oe=0;oe<Ee;++oe)Ce[ie=W[oe]]++,te<ie&&(te=ie),Ae[oe]=0;for(Ce[0]=0,oe=1;oe<=te;++oe)Ce[oe+16]=Re=Re+Ce[oe-1]<<1;for(oe=0;oe<Ee;++oe)Re=W[oe],Re!=0&&(Ae[oe]=Ce[Re+16]++);var He=0;for(oe=0;oe<Ee;++oe)if(He=W[oe],He!=0)for(Re=K(Ae[oe],te)>>te-He,ye=(1<<te+4-He)-1;ye>=0;--ye)re[Re|ye<<He]=He&15|oe<<4;return te}var Wt=le?new Uint16Array(512):bt(512),Er=le?new Uint16Array(32):bt(32);if(!le){for(var ft=0;ft<512;++ft)Wt[ft]=0;for(ft=0;ft<32;++ft)Er[ft]=0}(function(){for(var W=[],re=0;re<32;re++)W.push(5);xr(W,Er,32);var Z=[];for(re=0;re<=143;re++)Z.push(8);for(;re<=255;re++)Z.push(9);for(;re<=279;re++)Z.push(7);for(;re<=287;re++)Z.push(8);xr(Z,Wt,288)})();var Mt=(function(){for(var re=le?new Uint8Array(32768):[],Z=0,te=0;Z<xe.length-1;++Z)for(;te<xe[Z+1];++te)re[te]=Z;for(;te<32768;++te)re[te]=29;var ie=le?new Uint8Array(259):[];for(Z=0,te=0;Z<he.length-1;++Z)for(;te<he[Z+1];++te)ie[te]=Z;function oe(Re,Ee){for(var Ce=0;Ce<Re.length;){var Ae=Math.min(65535,Re.length-Ce),He=Ce+Ae==Re.length;for(Ee.write_shift(1,+He),Ee.write_shift(2,Ae),Ee.write_shift(2,~Ae&65535);Ae-- >0;)Ee[Ee.l++]=Re[Ce++]}return Ee.l}function ye(Re,Ee){for(var Ce=0,Ae=0,He=le?new Uint16Array(32768):[];Ae<Re.length;){var We=Math.min(65535,Re.length-Ae);if(We<10){for(Ce=et(Ee,Ce,+(Ae+We==Re.length)),Ce&7&&(Ce+=8-(Ce&7)),Ee.l=Ce/8|0,Ee.write_shift(2,We),Ee.write_shift(2,~We&65535);We-- >0;)Ee[Ee.l++]=Re[Ae++];Ce=Ee.l*8;continue}Ce=et(Ee,Ce,+(Ae+We==Re.length)+2);for(var Qe=0;We-- >0;){var Ge=Re[Ae];Qe=(Qe<<5^Ge)&32767;var Xe=-1,st=0;if((Xe=He[Qe])&&(Xe|=Ae&-32768,Xe>Ae&&(Xe-=32768),Xe<Ae))for(;Re[Xe+st]==Re[Ae+st]&&st<250;)++st;if(st>2){Ge=ie[st],Ge<=22?Ce=It(Ee,Ce,ge[Ge+1]>>1)-1:(It(Ee,Ce,3),Ce+=5,It(Ee,Ce,ge[Ge-23]>>5),Ce+=3);var pr=Ge<8?0:Ge-4>>2;pr>0&&(Gr(Ee,Ce,st-he[Ge]),Ce+=pr),Ge=re[Ae-Xe],Ce=It(Ee,Ce,ge[Ge]>>3),Ce-=3;var mr=Ge<4?0:Ge-2>>1;mr>0&&(Gr(Ee,Ce,Ae-Xe-xe[Ge]),Ce+=mr);for(var Tr=0;Tr<st;++Tr)He[Qe]=Ae&32767,Qe=(Qe<<5^Re[Ae])&32767,++Ae;We-=st-1}else Ge<=143?Ge=Ge+48:Ce=ht(Ee,Ce,1),Ce=It(Ee,Ce,ge[Ge]),He[Qe]=Ae&32767,++Ae}Ce=It(Ee,Ce,0)-1}return Ee.l=(Ce+7)/8|0,Ee.l}return function(Ee,Ce){return Ee.length<8?oe(Ee,Ce):ye(Ee,Ce)}})();function Et(W){var re=Yn(50+Math.floor(W.length*1.1)),Z=Mt(W,re);return re.slice(0,Z)}var rr=le?new Uint16Array(32768):bt(32768),Ht=le?new Uint16Array(32768):bt(32768),Vt=le?new Uint16Array(128):bt(128),_r=1,yi=1;function pt(W,re){var Z=ze(W,re)+257;re+=5;var te=ze(W,re)+1;re+=5;var ie=Ke(W,re)+4;re+=4;for(var oe=0,ye=le?new Uint8Array(19):bt(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,Ce=le?new Uint8Array(8):bt(8),Ae=le?new Uint8Array(8):bt(8),He=ye.length,We=0;We<ie;++We)ye[q[We]]=oe=Ue(W,re),Ee<oe&&(Ee=oe),Ce[oe]++,re+=3;var Qe=0;for(Ce[0]=0,We=1;We<=Ee;++We)Ae[We]=Qe=Qe+Ce[We-1]<<1;for(We=0;We<He;++We)(Qe=ye[We])!=0&&(Re[We]=Ae[Qe]++);var Ge=0;for(We=0;We<He;++We)if(Ge=ye[We],Ge!=0){Qe=ge[Re[We]]>>8-Ge;for(var Xe=(1<<7-Ge)-1;Xe>=0;--Xe)Vt[Qe|Xe<<Ge]=Ge&7|We<<3}var st=[];for(Ee=1;st.length<Z+te;)switch(Qe=Vt[Le(W,re)],re+=Qe&7,Qe>>>=3){case 16:for(oe=3+Ye(W,re),re+=2,Qe=st[st.length-1];oe-- >0;)st.push(Qe);break;case 17:for(oe=3+Ue(W,re),re+=3;oe-- >0;)st.push(0);break;case 18:for(oe=11+Le(W,re),re+=7;oe-- >0;)st.push(0);break;default:st.push(Qe),Ee<Qe&&(Ee=Qe);break}var pr=st.slice(0,Z),mr=st.slice(Z);for(We=Z;We<286;++We)pr[We]=0;for(We=te;We<30;++We)mr[We]=0;return _r=xr(pr,rr,286),yi=xr(mr,Ht,30),re}function xa(W,re){if(W[0]==3&&!(W[1]&3))return[Qc(re),2];for(var Z=0,te=0,ie=L4(re||1<<18),oe=0,ye=ie.length>>>0,Re=0,Ee=0;(te&1)==0;){if(te=Ue(W,Z),Z+=3,te>>>1)te>>1==1?(Re=9,Ee=5):(Z=pt(W,Z),Re=_r,Ee=yi);else{Z&7&&(Z+=8-(Z&7));var Ce=W[Z>>>3]|W[(Z>>>3)+1]<<8;if(Z+=32,Ce>0)for(!re&&ye<oe+Ce&&(ie=Br(ie,oe+Ce),ye=ie.length);Ce-- >0;)ie[oe++]=W[Z>>>3],Z+=8;continue}for(;;){!re&&ye<oe+32767&&(ie=Br(ie,oe+32767),ye=ie.length);var Ae=Je(W,Z,Re),He=te>>>1==1?Wt[Ae]:rr[Ae];if(Z+=He&15,He>>>=4,(He>>>8&255)===0)ie[oe++]=He;else{if(He==256)break;He-=257;var We=He<8?0:He-4>>2;We>5&&(We=0);var Qe=oe+he[He];We>0&&(Qe+=Je(W,Z,We),Z+=We),Ae=Je(W,Z,Ee),He=te>>>1==1?Er[Ae]:Ht[Ae],Z+=He&15,He>>>=4;var Ge=He<4?0:He-2>>1,Xe=xe[He];for(Ge>0&&(Xe+=Je(W,Z,Ge),Z+=Ge),!re&&ye<Qe&&(ie=Br(ie,Qe+100),ye=ie.length);oe<Qe;)ie[oe]=ie[oe-Xe],++oe}}}return re?[ie,Z+7>>>3]:[ie.slice(0,oe),Z+7>>>3]}function xo(W,re){var Z=W.slice(W.l||0),te=xa(Z,re);return W.l+=te[1],te[0]}function il(W,re){if(W)typeof console<"u"&&console.error(re);else throw new Error(re)}function _a(W,re){var Z=W;Ii(Z,0);var te=[],ie=[],oe={FileIndex:te,FullPaths:ie};N(oe,{root:re.root});for(var ye=Z.length-4;(Z[ye]!=80||Z[ye+1]!=75||Z[ye+2]!=5||Z[ye+3]!=6)&&ye>=0;)--ye;Z.l=ye+4,Z.l+=4;var Re=Z.read_shift(2);Z.l+=6;var Ee=Z.read_shift(4);for(Z.l=Ee,ye=0;ye<Re;++ye){Z.l+=20;var Ce=Z.read_shift(4),Ae=Z.read_shift(4),He=Z.read_shift(2),We=Z.read_shift(2),Qe=Z.read_shift(2);Z.l+=8;var Ge=Z.read_shift(4),Xe=o(Z.slice(Z.l+He,Z.l+He+We));Z.l+=He+We+Qe;var st=Z.l;Z.l=Ge+4,_o(Z,Ce,Ae,oe,Xe),Z.l=st}return oe}function _o(W,re,Z,te,ie){W.l+=2;var oe=W.read_shift(2),ye=W.read_shift(2),Re=s(W);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=W.read_shift(4),Ce=W.read_shift(4),Ae=W.read_shift(4),He=W.read_shift(2),We=W.read_shift(2),Qe="",Ge=0;Ge<He;++Ge)Qe+=String.fromCharCode(W[W.l++]);if(We){var Xe=o(W.slice(W.l,W.l+We));(Xe[21589]||{}).mt&&(Re=Xe[21589].mt),((ie||{})[21589]||{}).mt&&(Re=ie[21589].mt)}W.l+=We;var st=W.slice(W.l,W.l+Ce);switch(ye){case 8:st=ee(W,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ye)}var pr=!1;oe&8&&(Ee=W.read_shift(4),Ee==134695760&&(Ee=W.read_shift(4),pr=!0),Ce=W.read_shift(4),Ae=W.read_shift(4)),Ce!=re&&il(pr,"Bad compressed size: "+re+" != "+Ce),Ae!=Z&&il(pr,"Bad uncompressed size: "+Z+" != "+Ae),zs(te,Qe,st,{unsafe:!0,mt:Re})}function Xr(W,re){var Z=re||{},te=[],ie=[],oe=Yn(1),ye=Z.compression?8:0,Re=0,Ee=0,Ce=0,Ae=0,He=0,We=W.FullPaths[0],Qe=We,Ge=W.FileIndex[0],Xe=[],st=0;for(Ee=1;Ee<W.FullPaths.length;++Ee)if(Qe=W.FullPaths[Ee].slice(We.length),Ge=W.FileIndex[Ee],!(!Ge.size||!Ge.content||Qe=="Sh33tJ5")){var pr=Ae,mr=Yn(Qe.length);for(Ce=0;Ce<Qe.length;++Ce)mr.write_shift(1,Qe.charCodeAt(Ce)&127);mr=mr.slice(0,mr.l),Xe[He]=dne.buf(Ge.content,0);var Tr=Ge.content;ye==8&&(Tr=X(Tr)),oe=Yn(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Re),oe.write_shift(2,ye),Ge.mt?a(oe,Ge.mt):oe.write_shift(4,0),oe.write_shift(-4,Xe[He]),oe.write_shift(4,Tr.length),oe.write_shift(4,Ge.content.length),oe.write_shift(2,mr.length),oe.write_shift(2,0),Ae+=oe.length,te.push(oe),Ae+=mr.length,te.push(mr),Ae+=Tr.length,te.push(Tr),oe=Yn(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Re),oe.write_shift(2,ye),oe.write_shift(4,0),oe.write_shift(-4,Xe[He]),oe.write_shift(4,Tr.length),oe.write_shift(4,Ge.content.length),oe.write_shift(2,mr.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,pr),st+=oe.l,ie.push(oe),st+=mr.length,ie.push(mr),++He}return oe=Yn(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,He),oe.write_shift(2,He),oe.write_shift(4,st),oe.write_shift(4,Ae),oe.write_shift(2,0),Dc([Dc(te),Dc(ie),oe])}var ni={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $a(W,re){if(W.ctype)return W.ctype;var Z=W.name||"",te=Z.match(/\.([^\.]+)$/);return te&&ni[te[1]]||re&&(te=(Z=re).match(/[\.\\]([^\.\\])+$/),te&&ni[te[1]])?ni[te[1]]:"application/octet-stream"}function ba(W){for(var re=D4(W),Z=[],te=0;te<re.length;te+=76)Z.push(re.slice(te,te+76));return Z.join(`\r
`)+`\r
`}function _u(W){var re=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Ae=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],te=re.split(`\r
`),ie=0;ie<te.length;++ie){var oe=te[ie];if(oe.length==0){Z.push("");continue}for(var ye=0;ye<oe.length;){var Re=76,Ee=oe.slice(ye,ye+Re);Ee.charAt(Re-1)=="="?Re--:Ee.charAt(Re-2)=="="?Re-=2:Ee.charAt(Re-3)=="="&&(Re-=3),Ee=oe.slice(ye,ye+Re),ye+=Re,ye<oe.length&&(Ee+="="),Z.push(Ee)}}return Z.join(`\r
`)}function bo(W){for(var re=[],Z=0;Z<W.length;++Z){for(var te=W[Z];Z<=W.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+W[++Z];re.push(te)}for(var ie=0;ie<re.length;++ie)re[ie]=re[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Zs(re.join(`\r
`))}function wa(W,re,Z){for(var te="",ie="",oe="",ye,Re=0;Re<10;++Re){var Ee=re[Re];if(!Ee||Ee.match(/^\s*$/))break;var Ce=Ee.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":te=Ce[2].trim();break;case"content-type":oe=Ce[2].trim();break;case"content-transfer-encoding":ie=Ce[2].trim();break}}switch(++Re,ie.toLowerCase()){case"base64":ye=Zs(us(re.slice(Re).join("")));break;case"quoted-printable":ye=bo(re.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var Ae=zs(W,te.slice(Z.length),ye,{unsafe:!0});oe&&(Ae.ctype=oe)}function Ea(W,re){if(ae(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=re&&re.root||"",te=(tr&&Buffer.isBuffer(W)?W.toString("binary"):ae(W)).split(`\r
`),ie=0,oe="";for(ie=0;ie<te.length;++ie)if(oe=te[ie],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Z||(Z=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),oe.slice(0,Z.length)!=Z););var ye=(te[1]||"").match(/boundary="(.*?)"/);if(!ye)throw new Error("MAD cannot find boundary");var Re="--"+(ye[1]||""),Ee=[],Ce=[],Ae={FileIndex:Ee,FullPaths:Ce};N(Ae);var He,We=0;for(ie=0;ie<te.length;++ie){var Qe=te[ie];Qe!==Re&&Qe!==Re+"--"||(We++&&wa(Ae,te.slice(He,ie),Z),He=ie)}return Ae}function bu(W,re){var Z=re||{},te=Z.boundary||"SheetJS";te="------="+te;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],oe=W.FullPaths[0],ye=oe,Re=W.FileIndex[0],Ee=1;Ee<W.FullPaths.length;++Ee)if(ye=W.FullPaths[Ee].slice(oe.length),Re=W.FileIndex[Ee],!(!Re.size||!Re.content||ye=="Sh33tJ5")){ye=ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(st){return"_x"+st.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(st){return"_u"+st.charCodeAt(0).toString(16)+"_"});for(var Ce=Re.content,Ae=tr&&Buffer.isBuffer(Ce)?Ce.toString("binary"):ae(Ce),He=0,We=Math.min(1024,Ae.length),Qe=0,Ge=0;Ge<=We;++Ge)(Qe=Ae.charCodeAt(Ge))>=32&&Qe<128&&++He;var Xe=He>=We*4/5;ie.push(te),ie.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+ye),ie.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),ie.push("Content-Type: "+$a(Re,ye)),ie.push(""),ie.push(Xe?_u(Ae):ba(Ae))}return ie.push(te+`--\r
`),ie.join(`\r
`)}function ds(W){var re={};return N(re,W),re}function zs(W,re,Z,te){var ie=te&&te.unsafe;ie||N(W);var oe=!ie&&ar.find(W,re);if(!oe){var ye=W.FullPaths[0];re.slice(0,ye.length)==ye?ye=re:(ye.slice(-1)!="/"&&(ye+="/"),ye=(ye+re).replace("//","/")),oe={name:i(re),type:2},W.FileIndex.push(oe),W.FullPaths.push(ye),ie||ar.utils.cfb_gc(W)}return oe.content=Z,oe.size=Z?Z.length:0,te&&(te.CLSID&&(oe.clsid=te.CLSID),te.mt&&(oe.mt=te.mt),te.ct&&(oe.ct=te.ct)),oe}function Xi(W,re){N(W);var Z=ar.find(W,re);if(Z){for(var te=0;te<W.FileIndex.length;++te)if(W.FileIndex[te]==Z)return W.FileIndex.splice(te,1),W.FullPaths.splice(te,1),!0}return!1}function Ha(W,re,Z){N(W);var te=ar.find(W,re);if(te){for(var ie=0;ie<W.FileIndex.length;++ie)if(W.FileIndex[ie]==te)return W.FileIndex[ie].name=i(Z),W.FullPaths[ie]=Z,!0}return!1}function Rn(W){O(W,!0)}return t.find=B,t.read=P,t.parse=d,t.write=_e,t.writeFile=ce,t.utils={cfb_new:ds,cfb_add:zs,cfb_del:Xi,cfb_mov:Ha,cfb_gc:Rn,ReadShift:Np,CheckField:I9,prep_blob:Ii,bconcat:Dc,use_zlib:V,_deflateRaw:Et,_inflateRaw:xo,consts:ue},t})();function hne(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Wo(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function iC(e){for(var t=[],r=Wo(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var ux=new Date(1899,11,30,0,0,0);function pa(e,t){var r=e.getTime(),n=ux.getTime()+(e.getTimezoneOffset()-ux.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var l9=new Date,pne=ux.getTime()+(l9.getTimezoneOffset()-ux.getTimezoneOffset())*6e4,H4=l9.getTimezoneOffset();function V1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+pne),t.getTimezoneOffset()!==H4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-H4)*6e4),t}function mne(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var G4=new Date("2017-02-19T19:06:09.000Z"),c9=isNaN(G4.getFullYear())?new Date("2/19/17"):G4,gne=c9.getFullYear()==2017;function hi(e,t){var r=new Date(e);if(gne)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(c9.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function yf(e,t){if(tr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return pp(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return pp(YU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return pp(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return pp(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Pi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Pi(e[r]));return t}function mn(e,t){for(var r="";r.length<t;)r+=e;return r}function oo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var vne=["january","february","march","april","may","june","july","august","september","october","november","december"];function hh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&vne.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var yne=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function u9(e){return e?e.content&&e.type?yf(e.content,!0):e.data?fp(e.data):e.asNodeBuffer&&tr?fp(e.asNodeBuffer().toString("binary")):e.asBinary?fp(e.asBinary()):e._data&&e._data.getContent?fp(yf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function f9(e){if(!e)return null;if(e.data)return O4(e.data);if(e.asNodeBuffer&&tr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?O4(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function xne(e){return e&&e.name.slice(-4)===".bin"?f9(e):u9(e)}function Is(e,t){for(var r=e.FullPaths||Wo(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function aC(e,t){var r=Is(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Bn(e,t,r){if(!r)return xne(aC(e,t));if(!t)return null;try{return Bn(e,t)}catch{return null}}function ns(e,t,r){if(!r)return u9(aC(e,t));if(!t)return null;try{return ns(e,t)}catch{return null}}function _ne(e,t,r){return f9(aC(e,t))}function q4(e){for(var t=e.FullPaths||Wo(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function bne(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return tr?n=Df(r):n=Bre(r),ar.utils.cfb_add(e,t,n)}ar.utils.cfb_add(e,t,r)}else e.file(t,r)}function d9(e,t){switch(t.type){case"base64":return ar.read(e,{type:"base64"});case"binary":return ar.read(e,{type:"binary"});case"buffer":case"array":return ar.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function hp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var h9=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,wne=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,K4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Ene=/<[^>]*>/g,Yi=h9.match(K4)?K4:Ene,Tne=/<\w*:/,Ane=/<(\/?)\w+:/;function St(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var s=e.match(wne),o=0,c="",u=0,d="",p="",m=1;if(s)for(u=0;u!=s.length;++u){for(p=s[u],a=0;a!=p.length&&p.charCodeAt(a)!==61;++a);for(d=p.slice(0,a).trim();p.charCodeAt(a+1)==32;)++a;for(m=(i=p.charCodeAt(a+1))==34||i==39?1:0,c=p.slice(a+1+m,p.length-m),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var y=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[y]&&d.slice(o-3,o)=="ext")continue;n[y]=c,n[y.toLowerCase()]=c}}return n}function Qo(e){return e.replace(Ane,"<$1")}var p9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Sne=iC(p9),or=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(o,c){return p9[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}})(),Cne=/[&<>'"]/g,Nne=/[\u0000-\u001f]/g;function sC(e){var t=e+"";return t.replace(Cne,function(r){return Sne[r]}).replace(/\n/g,"<br/>").replace(Nne,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var W4=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function tn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function dE(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function Y4(e){var t=Qc(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function J4(e){return Df(e,"binary").toString("utf8")}var jv="foo bar baz",$r=tr&&(J4(jv)==dE(jv)&&J4||Y4(jv)==dE(jv)&&Y4)||dE,pp=tr?function(e){return Df(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},rm=(function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),m9=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}})(),Ine=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),kne=/<\/?(?:vt:)?variant>/g,Pne=/<(?:vt:)([^>]*)>([\s\S]*)</;function X4(e,t){var r=St(e),n=e.match(Ine(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(kne,"").match(Pne);s&&i.push({v:$r(s[2]),t:s[1]})}),i}var Rne=/(^\s|\s$|\n)/;function One(e){return Wo(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Mne(e,t,r){return"<"+e+(r!=null?One(r):"")+(t!=null?(t.match(Rne)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function oC(e){if(tr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return $r(Lf(tC(e)));throw new Error("Bad input format: expected Buffer or string")}var nm=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Dne={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Lne=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Fne(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function jne(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var Z4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},Q4=tr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Df(t)})):Z4(e)}:Z4,eM=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Il(e,i)));return n.join("").replace(da,"")},lC=tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(da,""):eM(e,t,r)}:eM,tM=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},g9=tr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):tM(e,t,r)}:tM,rM=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Dd(e,i)));return n.join("")},Fm=tr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):rM(t,r,n)}:rM,v9=function(e,t){var r=ts(e,t);return r>0?Fm(e,t+4,t+4+r-1):""},y9=v9,x9=function(e,t){var r=ts(e,t);return r>0?Fm(e,t+4,t+4+r-1):""},_9=x9,b9=function(e,t){var r=2*ts(e,t);return r>0?Fm(e,t+4,t+4+r-1):""},w9=b9,E9=function(t,r){var n=ts(t,r);return n>0?lC(t,r+4,r+4+n):""},T9=E9,A9=function(e,t){var r=ts(e,t);return r>0?Fm(e,t+4,t+4+r):""},S9=A9,C9=function(e,t){return Fne(e,t)},fx=C9,N9=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};tr&&(y9=function(t,r){if(!Buffer.isBuffer(t))return v9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_9=function(t,r){if(!Buffer.isBuffer(t))return x9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},w9=function(t,r){if(!Buffer.isBuffer(t))return b9(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},T9=function(t,r){if(!Buffer.isBuffer(t))return E9(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},S9=function(t,r){if(!Buffer.isBuffer(t))return A9(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},fx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):C9(t,r)},N9=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Dd=function(e,t){return e[t]},Il=function(e,t){return e[t+1]*256+e[t]},Une=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ts=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Xu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Bne=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Np(e,t){var r="",n,i,a=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,tr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Il(this,u)),u+=2;e*=2;break;case"utf8":r=Fm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=lC(this,this.l,this.l+e);break;case"wstr":return Np.call(this,e,"dbcs");case"lpstr-ansi":r=y9(this,this.l),e=4+ts(this,this.l);break;case"lpstr-cp":r=_9(this,this.l),e=4+ts(this,this.l);break;case"lpwstr":r=w9(this,this.l),e=4+2*ts(this,this.l);break;case"lpp4":e=4+ts(this,this.l),r=T9(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ts(this,this.l),r=S9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Dd(this,this.l+e++))!==0;)a.push(Fv(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=Il(this,this.l+e))!==0;)a.push(Fv(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Dd(this,u),this.l=u+1,o=Np.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Fv(Il(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Dd(this,u),this.l=u+1,o=Np.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Fv(Dd(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Dd(this,this.l),this.l++,n;case 2:return n=(t==="i"?Une:Il)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Xu:Bne)(this,this.l),this.l+=4,n):(i=ts(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=fx(this,this.l):i=fx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=g9(this,this.l,e);break}}return this.l+=e,r}var Vne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},zne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},$ne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Hne(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)$ne(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Vne(this,t,this.l);break;case 8:if(n=8,r==="f"){jne(this,t,this.l);break}case 16:break;case-4:n=4,zne(this,t,this.l);break}return this.l+=n,this}function I9(e,t){var r=g9(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ii(e,t){e.l=t,e.read_shift=Np,e.chk=I9,e.write_shift=Hne}function Wi(e,t){e.l+=t}function Yn(e){var t=Qc(e);return Ii(t,0),t}function Yl(e,t,r){if(e){var n,i,a;Ii(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=vx[o]||vx[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;c=e.l+a;var d=u.f&&u.f(e,a,r);if(e.l=c,t(d,u,o))return}}}function DA(){var e=[],t=tr?256:2048,r=function(u){var d=Yn(u);return Ii(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},s=function(){return i(),Dc(e)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function Ip(e,t,r){var n=Pi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function nM(e,t,r){var n=Pi(e);return n.s=Ip(n.s,t.s,r),n.e=Ip(n.e,t.s,r),n}function kp(e,t){if(e.cRel&&e.c<0)for(e=Pi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Pi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Rt(e);return!e.cRel&&e.cRel!=null&&(r=Kne(r)),!e.rRel&&e.rRel!=null&&(r=Gne(r)),r}function hE(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Xn(e.s.c)+":"+(e.e.cRel?"":"$")+Xn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ri(e.s.r)+":"+(e.e.rRel?"":"$")+Ri(e.e.r):kp(e.s,t.biff)+":"+kp(e.e,t.biff)}function cC(e){return parseInt(qne(e),10)-1}function Ri(e){return""+(e+1)}function Gne(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function qne(e){return e.replace(/\$(\d+)$/,"$1")}function uC(e){for(var t=Wne(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Xn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Kne(e){return e.replace(/^([A-Z])/,"$$$1")}function Wne(e){return e.replace(/^\$([A-Z])/,"$1")}function Yne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ua(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Rt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Mh(e){var t=e.indexOf(":");return t==-1?{s:ua(e),e:ua(e)}:{s:ua(e.slice(0,t)),e:ua(e.slice(t+1))}}function sr(e,t){return typeof t>"u"||typeof t=="number"?sr(e.s,e.e):(typeof e!="string"&&(e=Rt(e)),typeof t!="string"&&(t=Rt(t)),e==t?e:e+":"+t)}function yn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function iM(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ms(e.z,r?pa(t):t)}catch{}try{return e.w=Ms((e.XF||{}).numFmtId||(r?14:0),r?pa(t):t)}catch{return""+t}}function Fl(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Uf[e.v]||e.v:t==null?iM(e,e.v):iM(e,t))}function hu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function k9(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?ua(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=yn(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[p].length;++m)if(!(typeof t[p][m]>"u")){var y={v:t[p][m]},x=s+p,b=o+m;if(u.s.r>x&&(u.s.r=x),u.s.c>b&&(u.s.c=b),u.e.r<x&&(u.e.r=x),u.e.c<b&&(u.e.c=b),t[p][m]&&typeof t[p][m]=="object"&&!Array.isArray(t[p][m])&&!(t[p][m]instanceof Date))y=t[p][m];else if(Array.isArray(y.v)&&(y.f=t[p][m][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||jt[14],n.cellDates?(y.t="d",y.w=Ms(y.z,pa(y.v))):(y.t="n",y.v=pa(y.v),y.w=Ms(y.z,y.v))):y.t="s";if(i)a[x]||(a[x]=[]),a[x][b]&&a[x][b].z&&(y.z=a[x][b].z),a[x][b]=y;else{var E=Rt({c:b,r:x});a[E]&&a[E].z&&(y.z=a[E].z),a[E]=y}}}return u.s.c<1e7&&(a["!ref"]=sr(u)),a}function Dh(e,t){return k9(null,e,t)}function Jne(e){return e.read_shift(4,"i")}function qi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Xne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fC(e,t){var r=e.l,n=e.read_shift(1),i=qi(e),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(Xne(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Zne=fC;function Bs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ff(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Qne=qi;function dC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var eie=qi,LA=dC;function hC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?fx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Xu(t,0)>>2;return r?i/100:i}function P9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var jf=P9;function zi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function tie(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=of[i];u&&(t.rgb=am(u));break;case 2:t.rgb=am([s,o,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function rie(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function R9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function nie(e){return R9(e,1)}function iie(e){return R9(e,2)}var pC=2,Pa=3,Uv=11,aM=12,dx=19,Bv=64,aie=65,sie=71,oie=4108,lie=4126,ci=80,O9=81,cie=[ci,O9],uie={1:{n:"CodePage",t:pC},2:{n:"Category",t:ci},3:{n:"PresentationFormat",t:ci},4:{n:"ByteCount",t:Pa},5:{n:"LineCount",t:Pa},6:{n:"ParagraphCount",t:Pa},7:{n:"SlideCount",t:Pa},8:{n:"NoteCount",t:Pa},9:{n:"HiddenCount",t:Pa},10:{n:"MultimediaClipCount",t:Pa},11:{n:"ScaleCrop",t:Uv},12:{n:"HeadingPairs",t:oie},13:{n:"TitlesOfParts",t:lie},14:{n:"Manager",t:ci},15:{n:"Company",t:ci},16:{n:"LinksUpToDate",t:Uv},17:{n:"CharacterCount",t:Pa},19:{n:"SharedDoc",t:Uv},22:{n:"HyperlinksChanged",t:Uv},23:{n:"AppVersion",t:Pa,p:"version"},24:{n:"DigSig",t:aie},26:{n:"ContentType",t:ci},27:{n:"ContentStatus",t:ci},28:{n:"Language",t:ci},29:{n:"Version",t:ci},255:{},2147483648:{n:"Locale",t:dx},2147483651:{n:"Behavior",t:dx},1919054434:{}},fie={1:{n:"CodePage",t:pC},2:{n:"Title",t:ci},3:{n:"Subject",t:ci},4:{n:"Author",t:ci},5:{n:"Keywords",t:ci},6:{n:"Comments",t:ci},7:{n:"Template",t:ci},8:{n:"LastAuthor",t:ci},9:{n:"RevNumber",t:ci},10:{n:"EditTime",t:Bv},11:{n:"LastPrinted",t:Bv},12:{n:"CreatedDate",t:Bv},13:{n:"ModifiedDate",t:Bv},14:{n:"PageCount",t:Pa},15:{n:"WordCount",t:Pa},16:{n:"CharCount",t:Pa},17:{n:"Thumbnail",t:sie},18:{n:"Application",t:ci},19:{n:"DocSecurity",t:Pa},255:{},2147483648:{n:"Locale",t:dx},2147483651:{n:"Behavior",t:dx},1919054434:{}},sM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},die=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function hie(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var pie=hie([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),of=Pi(pie),Uf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},M9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},oM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function mie(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function gie(e){var t=mie();if(!e||!e.match)return t;var r={};if((e.match(Yi)||[]).forEach(function(n){var i=St(n);switch(i[0].replace(Tne,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[oM[i.ContentType]]!==void 0&&t[oM[i.ContentType]].push(i.PartName);break}}),t.xmlns!==Dne.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Hd={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function FA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Pp(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Yi)||[]).forEach(function(i){var a=St(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:hp(a.Target,t);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}var vie="application/vnd.oasis.opendocument.spreadsheet";function yie(e,t){for(var r=oC(e),n,i;n=nm.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=St(n[0],!1),i.path=="/"&&i.type!==vie)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Rp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],xie=(function(){for(var e=new Array(Rp.length),t=0;t<Rp.length;++t){var r=Rp[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function D9(e){var t={};e=$r(e);for(var r=0;r<Rp.length;++r){var n=Rp[r],i=e.match(xie[r]);i!=null&&i.length>0&&(t[n[1]]=or(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=hi(t[n[1]]))}return t}var _ie=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function L9(e,t,r,n){var i=[];if(typeof e=="string")i=X4(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(d){return{v:d}}));var s=typeof t=="string"?X4(t,n).map(function(d){return d.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function bie(e,t,r){var n={};return t||(t={}),e=$r(e),_ie.forEach(function(i){var a=(e.match(rm(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=or(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var s=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&L9(n.HeadingPairs,n.TitlesOfParts,t,r),t}var wie=/<[^>]+>[^<]*/g;function Eie(e,t){var r={},n="",i=e.match(wie);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=St(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=or(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=or(d);break;case"bool":r[n]=tn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=hi(d);break;case"cy":case"error":r[n]=or(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Tie={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},pE;function Aie(e,t,r){pE||(pE=iC(Tie)),t=pE[t]||t,e[t]=r}function mC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function F9(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function j9(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function U9(e,t,r){return t===31?j9(e):F9(e,t,r)}function jA(e,t,r){return U9(e,t,r===!1?0:4)}function Sie(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return U9(e,t,0)}function Cie(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(da,""),e.l-i&2&&(e.l+=2)}return r}function Nie(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(da,"");return r}function Iie(e){var t=e.l,r=hx(e,O9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=hx(e,Pa);return[r,n]}function kie(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Iie(e));return r}function lM(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),s=e.read_shift(4);n[a]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(da,"").replace(dp,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function B9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Pie(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function hx(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==aM&&n!==t&&cie.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===aM?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return F9(e,n,4).replace(da,"");case 31:return j9(e);case 64:return mC(e);case 65:return B9(e);case 71:return Pie(e);case 80:return jA(e,n,!a.raw).replace(da,"");case 81:return Sie(e,n).replace(da,"");case 4108:return kie(e);case 4126:case 4127:return n==4127?Cie(e):Nie(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function cM(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,c=-1,u={};for(s=0;s!=i;++s){var d=e.read_shift(4),p=e.read_shift(4);a[s]=[d,p+r]}a.sort(function(L,k){return L[1]-k[1]});var m={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var y=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,y=!1);break;case 80:e.l<=a[s][1]&&(e.l=a[s][1],y=!1);break;case 4108:e.l<=a[s][1]&&(e.l=a[s][1],y=!1);break}if((!t||s==0)&&e.l<=a[s][1]&&(y=!1,e.l=a[s][1]),y)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var x=t[a[s][0]];if(m[x.n]=hx(e,x.t,{raw:!0}),x.p==="version"&&(m[x.n]=String(m[x.n]>>16)+"."+("0000"+String(m[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(m[x.n]){case 0:m[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:no(o=m[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[x.n])}}else if(a[s][0]===1){if(o=m.CodePage=hx(e,pC),no(o),c!==-1){var b=e.l;e.l=a[c][1],u=lM(e,o),e.l=b}}else if(a[s][0]===0){if(o===0){c=s,e.l=a[s+1][1];continue}u=lM(e,o)}else{var E=u[a[s][0]],S;switch(e[e.l]){case 65:e.l+=4,S=B9(e);break;case 30:e.l+=4,S=jA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,S=jA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,S=e.read_shift(4,"i");break;case 19:e.l+=4,S=e.read_shift(4);break;case 5:e.l+=4,S=e.read_shift(8,"f");break;case 11:e.l+=4,S=Cn(e,4);break;case 64:e.l+=4,S=hi(mC(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[E]=S}}return e.l=r+n,m}function uM(e,t,r){var n=e.content;if(!n)return{};Ii(n,0);var i,a,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==ar.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),c=n.read_shift(4));var p=cM(n,t),m={SystemIdentifier:u};for(var y in p)m[y]=p[y];if(m.FMTID=a,i===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var x;try{x=cM(n,null)}catch{}for(y in x)m[y]=x[y];return m.FMTID=[a,s],m}function kc(e,t){return e.read_shift(t),null}function Rie(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Cn(e,t){return e.read_shift(t)===1}function Vn(e){return e.read_shift(2,"u")}function V9(e,t){return Rie(e,t,Vn)}function Oie(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function jm(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function Mie(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,c={};i&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*s),n&&(e.l+=o),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function xf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Um(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):xf(e,n,r)}function Bf(e,t,r){if(r.biff>5)return Um(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Die(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Lie(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(da,"");return n&&(e.l+=24),i}function Fie(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(a>>1,"utf16le").replace(da,"");return r+s}function jie(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Lie(e);case"0303000000000000c000000000000046":return Fie(e);default:throw new Error("Unsupported Moniker "+r)}}function Vv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(da,""):"";return r}function Uie(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,s,o,c,u="",d,p;i&16&&(a=Vv(e,r-e.l)),i&128&&(s=Vv(e,r-e.l)),(i&257)===257&&(o=Vv(e,r-e.l)),(i&257)===1&&(c=jie(e,r-e.l)),i&8&&(u=Vv(e,r-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(p=mC(e)),e.l=r;var m=s||o||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),i&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var y={Target:m};return d&&(y.guid=d),p&&(y.time=p),a&&(y.Tooltip=a),y}function z9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function $9(e,t){var r=z9(e);return r[3]=0,r}function el(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Bie(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Vie(e,t,r){return t===0?"":Bf(e,t,r)}function zie(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function H9(e){var t=e.read_shift(2),r=hC(e);return[t,r]}function $ie(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=jm(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function z1(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function G9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var Hie=G9;function q9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Gie(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function qie(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Li(e){e.l+=2,e.l+=e.read_shift(2)}var Kie={0:Li,4:Li,5:Li,6:Li,7:qie,8:Li,9:Li,10:Li,11:Li,12:Li,13:Gie,14:Li,15:Li,16:Li,17:Li,18:Li,19:Li,20:Li,21:q9};function Wie(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(Kie[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function zv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Yie(e,t){return t===0||e.read_shift(2),1200}function Jie(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=Bf(e,0,r);return e.read_shift(t+n-e.l),i}function Xie(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Zie(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=jm(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function Qie(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<r;++s)a.push(Mie(e));return a.Count=n,a.Unique=i,a}function eae(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function tae(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function rae(e){var t=Bie(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function nae(e){return e.read_shift(2),e.read_shift(4)}function fM(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function iae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function aae(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function sae(){}function oae(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=jm(e,0,r),n}function lae(e){var t=el(e);return t.isst=e.read_shift(4),t}function cae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=el(e);r.biff==2&&e.l++;var a=Um(e,n-e.l,r);return i.val=a,i}function uae(e,t,r){var n=e.read_shift(2),i=Bf(e,0,r);return[n,i]}var fae=Bf;function dM(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:s,c}}}function dae(e){var t=e.read_shift(2),r=e.read_shift(2),n=H9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function hae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(H9(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function pae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function mae(e,t,r,n){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return i.patternType=die[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function gae(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=mae(e,t,n.fStyle,r),n}function vae(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function hM(e,t,r){var n=el(e);(r.biff==2||t==9)&&++e.l;var i=Oie(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function yae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=el(e),i=zi(e);return n.val=i,n}var pM=Vie;function xae(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=xf(e,a),o=[];n>e.l;)o.push(Um(e));return[a,i,s,o]}function mM(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=$ie(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var _ae=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function gM(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=xf(e,s,r);i&32&&(u=_ae[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var p=n==e.l||o===0||!(d>0)?[]:tce(e,d,r,o);return{chKey:a,Name:u,itab:c,rgce:p}}function K9(e,t,r){if(r.biff<8)return bae(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(zie(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function bae(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=jm(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function wae(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=xf(e,n,r),s=xf(e,i,r);return[a,s]}function Eae(e,t,r){var n=G9(e);e.l++;var i=e.read_shift(1);return t-=8,[rce(e,t,r),i,n]}function vM(e,t,r){var n=Hie(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Qle(e,t,r)]}function Tae(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Aae(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=Bf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},o,s,a]}}function Sae(e,t,r){return Aae(e,t,r)}function Cae(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(z1(e));return r}function Nae(e,t,r){if(r&&r.biff<8)return kae(e,t,r);var n=q9(e),i=Wie(e,t-22,n[1]);return{cmo:n,ft:i}}var Iae={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function kae(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Iae[n]||Wi)(e,t,r)),{cmo:[i,n,a],ft:s}}function Pae(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:s=Die(e,6,r);var o=e.read_shift(2);e.read_shift(2),Vn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],p=xf(e,e.lens[u+1]-e.lens[u]-1);if(i+=p,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function Rae(e,t){var r=z1(e);e.l+=16;var n=Uie(e,t-24);return[r,n]}function Oae(e,t){e.read_shift(2);var r=z1(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(da,""),[r,n]}function Mae(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=sM[r]||r,r=e.read_shift(2),t[1]=sM[r]||r,t}function Dae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push($9(e));return r}function Lae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push($9(e));return r}function Fae(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function W9(e,t,r){if(!r.cellStyles)return Wi(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function jae(e,t){var r={};return t<32||(e.l+=16,r.header=zi(e),r.footer=zi(e),e.l+=2),r}function Uae(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var Bae=el,Vae=V9,zae=Um;function $ae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function Hae(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=el(e);++e.l;var i=Bf(e,t-7,r);return n.t="str",n.val=i,n}function Gae(e){var t=el(e);++e.l;var r=zi(e);return t.t="n",t.val=r,t}function qae(e){var t=el(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Kae(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Wae(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Yae(e,t,r){var n=e.l+t,i=el(e),a=e.read_shift(2),s=xf(e,a,r);return e.l=n,i.t="str",i.val=s,i}var Jae=[2,3,48,49,131,139,140,245],yM=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=iC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Qc(1);switch(c.type){case"base64":d=Zs(us(o));break;case"binary":d=Zs(o);break;case"buffer":case"array":d=o;break}Ii(d,0);var p=d.read_shift(1),m=!!(p&136),y=!1,x=!1;switch(p){case 2:break;case 3:break;case 48:y=!0,m=!0;break;case 49:y=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,E=521;p==2&&(b=d.read_shift(2)),d.l+=3,p!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(E=d.read_shift(2));var S=d.read_shift(2),L=c.codepage||1252;p!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(L=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var k=[],M={},D=Math.min(d.length,p==2?521:E-10-(y?264:0)),P=x?32:11;d.l<D&&d[d.l]!=13;)switch(M={},M.name=em.utils.decode(L,d.slice(d.l,d.l+P)).replace(/[\u0000\r\n].*$/g,""),d.l+=P,M.type=String.fromCharCode(d.read_shift(1)),p!=2&&!x&&(M.offset=d.read_shift(4)),M.len=d.read_shift(1),p==2&&(M.offset=d.read_shift(2)),M.dec=d.read_shift(1),M.name.length&&k.push(M),p!=2&&(d.l+=x?13:14),M.type){case"B":(!y||M.len!=8)&&c.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(d[d.l]!==13&&(d.l=E-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=E;var N=0,I=0;for(u[0]=[],I=0;I!=k.length;++I)u[0][I]=k[I].name;for(;b-- >0;){if(d[d.l]===42){d.l+=S;continue}for(++d.l,u[++N]=[],I=0,I=0;I!=k.length;++I){var O=d.slice(d.l,d.l+k[I].len);d.l+=k[I].len,Ii(O,0);var U=em.utils.decode(L,O);switch(k[I].type){case"C":U.trim().length&&(u[N][I]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[N][I]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[N][I]=U;break;case"F":u[N][I]=parseFloat(U.trim());break;case"+":case"I":u[N][I]=x?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[N][I]=!0;break;case"N":case"F":u[N][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[N][I]="##MEMO##"+(x?parseInt(U.trim(),10):O.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[N][I]=+U||0);break;case"@":u[N][I]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[N][I]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[N][I]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][I]=-O.read_shift(-8,"f");break;case"B":if(y&&k[I].len==8){u[N][I]=O.read_shift(8,"f");break}case"G":case"P":O.l+=k[I].len;break;case"0":if(k[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[I].type)}}}if(p!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=k,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Dh(r(o,u),u);return d["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,d}function i(o,c){try{return hu(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&no(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=DA(),p=HA(o,{header:1,raw:!0,cellDates:!0}),m=p[0],y=p.slice(1),x=o["!cols"]||[],b=0,E=0,S=0,L=1;for(b=0;b<m.length;++b){if(((x[b]||{}).DBF||{}).name){m[b]=x[b].DBF.name,++S;continue}if(m[b]!=null){if(++S,typeof m[b]=="number"&&(m[b]=m[b].toString(10)),typeof m[b]!="string")throw new Error("DBF Invalid column name "+m[b]+" |"+typeof m[b]+"|");if(m.indexOf(m[b])!==b){for(E=0;E<1024;++E)if(m.indexOf(m[b]+"_"+E)==-1){m[b]+="_"+E;break}}}}var k=yn(o["!ref"]),M=[],D=[],P=[];for(b=0;b<=k.e.c-k.s.c;++b){var N="",I="",O=0,U=[];for(E=0;E<y.length;++E)y[E][b]!=null&&U.push(y[E][b]);if(U.length==0||m[b]==null){M[b]="?";continue}for(E=0;E<U.length;++E){switch(typeof U[E]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=U[E]instanceof Date?"D":"C";break;default:I="C"}O=Math.max(O,String(U[E]).length),N=N&&N!=I?"C":I}O>250&&(O=250),I=((x[b]||{}).DBF||{}).type,I=="C"&&x[b].DBF.len>O&&(O=x[b].DBF.len),N=="B"&&I=="N"&&(N="N",P[b]=x[b].DBF.dec,O=x[b].DBF.len),D[b]=N=="C"||I=="N"?O:a[N]||0,L+=D[b],M[b]=N}var B=d.next(32);for(B.write_shift(4,318902576),B.write_shift(4,y.length),B.write_shift(2,296+32*S),B.write_shift(2,L),b=0;b<4;++b)B.write_shift(4,0);for(B.write_shift(4,0|(+t[KU]||3)<<8),b=0,E=0;b<m.length;++b)if(m[b]!=null){var F=d.next(32),H=(m[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,H,"sbcs"),F.write_shift(1,M[b]=="?"?"C":M[b],"sbcs"),F.write_shift(4,E),F.write_shift(1,D[b]||a[M[b]]||0),F.write_shift(1,P[b]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),E+=D[b]||a[M[b]]||0}var fe=d.next(264);for(fe.write_shift(4,13),b=0;b<65;++b)fe.write_shift(4,0);for(b=0;b<y.length;++b){var me=d.next(L);for(me.write_shift(1,0),E=0;E<m.length;++E)if(m[E]!=null)switch(M[E]){case"L":me.write_shift(1,y[b][E]==null?63:y[b][E]?84:70);break;case"B":me.write_shift(8,y[b][E]||0,"f");break;case"N":var ne="0";for(typeof y[b][E]=="number"&&(ne=y[b][E].toFixed(P[E]||0)),S=0;S<D[E]-ne.length;++S)me.write_shift(1,32);me.write_shift(1,ne,"sbcs");break;case"D":y[b][E]?(me.write_shift(4,("0000"+y[b][E].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(y[b][E].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+y[b][E].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(y[b][E]!=null?y[b][E]:"").slice(0,D[E]);for(me.write_shift(1,ue,"sbcs"),S=0;S<D[E]-ue.length;++S)me.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),Xae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Wo(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,y){var x=e[y];return typeof x=="number"?M4(x):x},n=function(m,y,x){var b=y.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return b==59?m:M4(b)};e["|"]=254;function i(m,y){switch(y.type){case"base64":return a(us(m),y);case"binary":return a(m,y);case"buffer":return a(tr&&Buffer.isBuffer(m)?m.toString("binary"):Lf(m),y);case"array":return a(yf(m),y)}throw new Error("Unrecognized type "+y.type)}function a(m,y){var x=m.split(/[\n\r]+/),b=-1,E=-1,S=0,L=0,k=[],M=[],D=null,P={},N=[],I=[],O=[],U=0,B;for(+y.codepage>=0&&no(+y.codepage);S!==x.length;++S){U=0;var F=x[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=F.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),fe=H[0],me;if(F.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&M.push(F.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,ue=!1,ce=!1,ae=!1,_e=-1,J=-1;for(L=1;L<H.length;++L)switch(H[L].charAt(0)){case"A":break;case"X":E=parseInt(H[L].slice(1))-1,ue=!0;break;case"Y":for(b=parseInt(H[L].slice(1))-1,ue||(E=0),B=k.length;B<=b;++B)k[B]=[];break;case"K":me=H[L].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(oo(me))?isNaN(hh(me).getDate())||(me=hi(me)):(me=oo(me),D!==null&&Oh(D)&&(me=V1(me))),ne=!0;break;case"E":ae=!0;var V=eh(H[L].slice(1),{r:b,c:E});k[b][E]=[k[b][E],V];break;case"S":ce=!0,k[b][E]=[k[b][E],"S5S"];break;case"G":break;case"R":_e=parseInt(H[L].slice(1))-1;break;case"C":J=parseInt(H[L].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+F)}if(ne&&(k[b][E]&&k[b][E].length==2?k[b][E][0]=me:k[b][E]=me,D=null),ce){if(ae)throw new Error("SYLK shared formula cannot have own formula");var ee=_e>-1&&k[_e][J];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");k[b][E][1]=iB(ee[1],{r:b-_e,c:E-J})}break;case"F":var X=0;for(L=1;L<H.length;++L)switch(H[L].charAt(0)){case"X":E=parseInt(H[L].slice(1))-1,++X;break;case"Y":for(b=parseInt(H[L].slice(1))-1,B=k.length;B<=b;++B)k[B]=[];break;case"M":U=parseInt(H[L].slice(1))/20;break;case"F":break;case"G":break;case"P":D=M[parseInt(H[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=H[L].slice(1).split(" "),B=parseInt(O[0],10);B<=parseInt(O[1],10);++B)U=parseInt(O[2],10),I[B-1]=U===0?{hidden:!0}:{wch:U},ph(I[B-1]);break;case"C":E=parseInt(H[L].slice(1))-1,I[E]||(I[E]={});break;case"R":b=parseInt(H[L].slice(1))-1,N[b]||(N[b]={}),U>0?(N[b].hpt=U,N[b].hpx=sm(U)):U===0&&(N[b].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+F)}X<1&&(D=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+F)}}return N.length>0&&(P["!rows"]=N),I.length>0&&(P["!cols"]=I),y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),[k,P]}function s(m,y){var x=i(m,y),b=x[0],E=x[1],S=Dh(b,y);return Wo(E).forEach(function(L){S[L]=E[L]}),S}function o(m,y){return hu(s(m,y),y)}function c(m,y,x,b){var E="C;Y"+(x+1)+";X"+(b+1)+";K";switch(m.t){case"n":E+=m.v||0,m.f&&!m.F&&(E+=";E"+Foe(m.f,{r:x,c:b}));break;case"b":E+=m.v?"TRUE":"FALSE";break;case"e":E+=m.w||m.v;break;case"d":E+='"'+(m.w||m.v)+'"';break;case"s":E+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function u(m,y){y.forEach(function(x,b){var E="F;W"+(b+1)+" "+(b+1)+" ";x.hidden?E+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=mx(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=gx(x.wpx)),typeof x.wch=="number"&&(E+=Math.round(x.wch))),E.charAt(E.length-1)!=" "&&m.push(E)})}function d(m,y){y.forEach(function(x,b){var E="F;";x.hidden?E+="M0;":x.hpt?E+="M"+20*x.hpt+";":x.hpx&&(E+="M"+20*tB(x.hpx)+";"),E.length>2&&m.push(E+"R"+(b+1))})}function p(m,y){var x=["ID;PWXL;N;E"],b=[],E=yn(m["!ref"]),S,L=Array.isArray(m),k=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&u(x,m["!cols"]),m["!rows"]&&d(x,m["!rows"]),x.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var M=E.s.r;M<=E.e.r;++M)for(var D=E.s.c;D<=E.e.c;++D){var P=Rt({r:M,c:D});S=L?(m[M]||[])[D]:m[P],!(!S||S.v==null&&(!S.f||S.F))&&b.push(c(S,m,M,D))}return x.join(k)+k+b.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:s,from_sheet:p}})(),Zae=(function(){function e(a,s){switch(s.type){case"base64":return t(us(a),s);case"binary":return t(a,s);case"buffer":return t(tr&&Buffer.isBuffer(a)?a.toString("binary"):Lf(a),s);case"array":return t(yf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),c=-1,u=-1,d=0,p=[];d!==o.length;++d){if(o[d].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var m=o[d].trim().split(","),y=m[0],x=m[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+y){case-1:if(b==="BOT"){p[++c]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[c][u]=!0:b==="FALSE"?p[c][u]=!1:isNaN(oo(x))?isNaN(hh(x).getDate())?p[c][u]=x:p[c][u]=hi(x):p[c][u]=oo(x),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[c][u++]=b!==""?b:null;break}if(b==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function r(a,s){return Dh(e(a,s),s)}function n(a,s){return hu(r(a,s),s)}var i=(function(){var a=function(c,u,d,p,m){c.push(u),c.push(d+","+p),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,d,p){c.push(u+","+d),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],d=yn(c["!ref"]),p,m=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var y=d.s.r;y<=d.e.r;++y){s(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var b=Rt({r:y,c:x});if(p=m?(c[y]||[])[x]:c[b],!p){s(u,1,0,"");continue}switch(p.t){case"n":var E=p.w;!E&&p.v!=null&&(E=p.v),E==null?p.f&&!p.F?s(u,1,0,"="+p.f):s(u,1,0,""):s(u,0,E,"V");break;case"b":s(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Ms(p.z||jt[14],pa(hi(p.v)))),s(u,0,p.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var S=`\r
`,L=u.join(S);return L}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),Qae=(function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,m){for(var y=p.split(`
`),x=-1,b=-1,E=0,S=[];E!==y.length;++E){var L=y[E].trim().split(":");if(L[0]==="cell"){var k=ua(L[1]);if(S.length<=k.r)for(x=S.length;x<=k.r;++x)S[x]||(S[x]=[]);switch(x=k.r,b=k.c,L[2]){case"t":S[x][b]=e(L[3]);break;case"v":S[x][b]=+L[3];break;case"vtf":var M=L[L.length-1];case"vtc":L[3]==="nl"?S[x][b]=!!+L[4]:S[x][b]=+L[4],L[2]=="vtf"&&(S[x][b]=[S[x][b],M])}}}return m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),S}function n(p,m){return Dh(r(p,m),m)}function i(p,m){return hu(n(p,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var m=[],y=[],x,b="",E=Mh(p["!ref"]),S=Array.isArray(p),L=E.s.r;L<=E.e.r;++L)for(var k=E.s.c;k<=E.e.c;++k)if(b=Rt({r:L,c:k}),x=S?(p[L]||[])[k]:p[b],!(!x||x.v==null||x.t==="z")){switch(y=["cell",b,"t"],x.t){case"s":case"str":y.push(t(x.v));break;case"n":x.f?(y[2]="vtf",y[3]="n",y[4]=x.v,y[5]=t(x.f)):(y[2]="v",y[3]=x.v);break;case"b":y[2]="vt"+(x.f?"f":"c"),y[3]="nl",y[4]=x.v?"1":"0",y[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var M=pa(hi(x.v));y[2]="vtc",y[3]="nd",y[4]=""+M,y[5]=x.w||Ms(x.z||jt[14],M);break;case"e":continue}m.push(y.join(":"))}return m.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(p){return[a,s,o,s,u(p),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),im=(function(){function e(d,p,m,y,x){x.raw?p[m][y]=d:d===""||(d==="TRUE"?p[m][y]=!0:d==="FALSE"?p[m][y]=!1:isNaN(oo(d))?isNaN(hh(d).getDate())?p[m][y]=d:p[m][y]=hi(d):p[m][y]=oo(d))}function t(d,p){var m=p||{},y=[];if(!d||d.length===0)return y;for(var x=d.split(/[\r\n]/),b=x.length-1;b>=0&&x[b].length===0;)--b;for(var E=10,S=0,L=0;L<=b;++L)S=x[L].indexOf(" "),S==-1?S=x[L].length:S++,E=Math.max(E,S);for(L=0;L<=b;++L){y[L]=[];var k=0;for(e(x[L].slice(0,E).trim(),y,L,k,m),k=1;k<=(x[L].length-E)/10+1;++k)e(x[L].slice(E+(k-1)*10,E+k*10).trim(),y,L,k,m)}return m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var p={},m=!1,y=0,x=0;y<d.length;++y)(x=d.charCodeAt(y))==34?m=!m:!m&&x in r&&(p[x]=(p[x]||0)+1);x=[];for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&x.push([p[y],y]);if(!x.length){p=n;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&x.push([p[y],y])}return x.sort(function(b,E){return b[0]-E[0]||n[b[1]]-n[E[1]]}),r[x.pop()[1]]||44}function a(d,p){var m=p||{},y="",x=m.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(y=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(y=d.charAt(4),d=d.slice(6)):y=i(d.slice(0,1024)):m&&m.FS?y=m.FS:y=i(d.slice(0,1024));var E=0,S=0,L=0,k=0,M=0,D=y.charCodeAt(0),P=!1,N=0,I=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=m.dateNF!=null?une(m.dateNF):null;function U(){var B=d.slice(k,M),F={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)F.t="z";else if(m.raw)F.t="s",F.v=B;else if(B.trim().length===0)F.t="s",F.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(F.t="s",F.v=B.slice(2,-1).replace(/""/g,'"')):Uoe(B)?(F.t="n",F.f=B.slice(1)):(F.t="s",F.v=B);else if(B=="TRUE")F.t="b",F.v=!0;else if(B=="FALSE")F.t="b",F.v=!1;else if(!isNaN(L=oo(B)))F.t="n",m.cellText!==!1&&(F.w=B),F.v=L;else if(!isNaN(hh(B).getDate())||O&&B.match(O)){F.z=m.dateNF||jt[14];var H=0;O&&B.match(O)&&(B=fne(B,m.dateNF,B.match(O)||[]),H=1),m.cellDates?(F.t="d",F.v=hi(B,H)):(F.t="n",F.v=pa(hi(B,H))),m.cellText!==!1&&(F.w=Ms(F.z,F.v instanceof Date?pa(F.v):F.v)),m.cellNF||delete F.z}else F.t="s",F.v=B;if(F.t=="z"||(m.dense?(x[E]||(x[E]=[]),x[E][S]=F):x[Rt({c:S,r:E})]=F),k=M+1,I=d.charCodeAt(k),b.e.c<S&&(b.e.c=S),b.e.r<E&&(b.e.r=E),N==D)++S;else if(S=0,++E,m.sheetRows&&m.sheetRows<=E)return!0}e:for(;M<d.length;++M)switch(N=d.charCodeAt(M)){case 34:I===34&&(P=!P);break;case D:case 10:case 13:if(!P&&U())break e;break}return M-k>0&&U(),x["!ref"]=sr(b),x}function s(d,p){return!(p&&p.PRN)||p.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,p):Dh(t(d,p),p)}function o(d,p){var m="",y=p.type=="string"?[0,0,0,0]:EC(d,p);switch(p.type){case"base64":m=us(d);break;case"binary":m=d;break;case"buffer":p.codepage==65001?m=d.toString("utf8"):p.codepage&&typeof em<"u"||(m=tr&&Buffer.isBuffer(d)?d.toString("binary"):Lf(d));break;case"array":m=yf(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+p.type)}return y[0]==239&&y[1]==187&&y[2]==191?m=$r(m.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?m=$r(m):p.type=="binary"&&typeof em<"u",m.slice(0,19)=="socialcalc:version:"?Qae.to_sheet(p.type=="string"?m:$r(m),p):s(m,p)}function c(d,p){return hu(o(d,p),p)}function u(d){for(var p=[],m=yn(d["!ref"]),y,x=Array.isArray(d),b=m.s.r;b<=m.e.r;++b){for(var E=[],S=m.s.c;S<=m.e.c;++S){var L=Rt({r:b,c:S});if(y=x?(d[b]||[])[S]:d[L],!y||y.v==null){E.push("          ");continue}for(var k=(y.w||(Fl(y),y.w)||"").slice(0,10);k.length<10;)k+=" ";E.push(k+(S===0?" ":""))}p.push(E.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})();function ese(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=Xae.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return im.to_workbook(e,t)}}var Op=(function(){function e(V,ee,X){if(V){Ii(V,V.l||0);for(var q=X.Enum||_e;V.l<V.length;){var he=V.read_shift(2),xe=q[he]||q[65535],Ie=V.read_shift(2),le=V.l+Ie,ge=xe.f&&xe.f(V,Ie,X);if(V.l=le,ee(ge,xe,he))return}}}function t(V,ee){switch(ee.type){case"base64":return r(Zs(us(V)),ee);case"binary":return r(Zs(V),ee);case"buffer":case"array":return r(V,ee)}throw"Unsupported type "+ee.type}function r(V,ee){if(!V)return V;var X=ee||{},q=X.dense?[]:{},he="Sheet1",xe="",Ie=0,le={},ge=[],De=[],K={s:{r:0,c:0},e:{r:0,c:0}},Ye=X.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)X.Enum=_e,e(V,function(Le,Je,et){switch(et){case 0:X.vers=Le,Le>=4096&&(X.qpro=!0);break;case 6:K=Le;break;case 204:Le&&(xe=Le);break;case 222:xe=Le;break;case 15:case 51:X.qpro||(Le[1].v=Le[1].v.slice(1));case 13:case 14:case 16:et==14&&(Le[2]&112)==112&&(Le[2]&15)>1&&(Le[2]&15)<15&&(Le[1].z=X.dateNF||jt[14],X.cellDates&&(Le[1].t="d",Le[1].v=V1(Le[1].v))),X.qpro&&Le[3]>Ie&&(q["!ref"]=sr(K),le[he]=q,ge.push(he),q=X.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ie=Le[3],he=xe||"Sheet"+(Ie+1),xe="");var ht=X.dense?(q[Le[0].r]||[])[Le[0].c]:q[Rt(Le[0])];if(ht){ht.t=Le[1].t,ht.v=Le[1].v,Le[1].z!=null&&(ht.z=Le[1].z),Le[1].f!=null&&(ht.f=Le[1].f);break}X.dense?(q[Le[0].r]||(q[Le[0].r]=[]),q[Le[0].r][Le[0].c]=Le[1]):q[Rt(Le[0])]=Le[1];break}},X);else if(V[2]==26||V[2]==14)X.Enum=J,V[2]==14&&(X.qpro=!0,V.l=0),e(V,function(Le,Je,et){switch(et){case 204:he=Le;break;case 22:Le[1].v=Le[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Le[3]>Ie&&(q["!ref"]=sr(K),le[he]=q,ge.push(he),q=X.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ie=Le[3],he="Sheet"+(Ie+1)),Ye>0&&Le[0].r>=Ye)break;X.dense?(q[Le[0].r]||(q[Le[0].r]=[]),q[Le[0].r][Le[0].c]=Le[1]):q[Rt(Le[0])]=Le[1],K.e.c<Le[0].c&&(K.e.c=Le[0].c),K.e.r<Le[0].r&&(K.e.r=Le[0].r);break;case 27:Le[14e3]&&(De[Le[14e3][0]]=Le[14e3][1]);break;case 1537:De[Le[0]]=Le[1],Le[0]==Ie&&(he=Le[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(q["!ref"]=sr(K),le[xe||he]=q,ge.push(xe||he),!De.length)return{SheetNames:ge,Sheets:le};for(var Ue={},Ke=[],ze=0;ze<De.length;++ze)le[ge[ze]]?(Ke.push(De[ze]||ge[ze]),Ue[De[ze]]=le[De[ze]]||le[ge[ze]]):(Ke.push(De[ze]),Ue[De[ze]]={"!ref":"A1"});return{SheetNames:Ke,Sheets:Ue}}function n(V,ee){var X=ee||{};if(+X.codepage>=0&&no(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var q=DA(),he=yn(V["!ref"]),xe=Array.isArray(V),Ie=[];Xs(q,0,a(1030)),Xs(q,6,c(he));for(var le=Math.min(he.e.r,8191),ge=he.s.r;ge<=le;++ge)for(var De=Ri(ge),K=he.s.c;K<=he.e.c;++K){ge===he.s.r&&(Ie[K]=Xn(K));var Ye=Ie[K]+De,Ue=xe?(V[ge]||[])[K]:V[Ye];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")(Ue.v|0)==Ue.v&&Ue.v>=-32768&&Ue.v<=32767?Xs(q,13,y(ge,K,Ue.v)):Xs(q,14,b(ge,K,Ue.v));else{var Ke=Fl(Ue);Xs(q,15,p(ge,K,Ke.slice(0,239)))}}return Xs(q,1),q.end()}function i(V,ee){var X=ee||{};if(+X.codepage>=0&&no(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var q=DA();Xs(q,0,s(V));for(var he=0,xe=0;he<V.SheetNames.length;++he)(V.Sheets[V.SheetNames[he]]||{})["!ref"]&&Xs(q,27,ae(V.SheetNames[he],xe++));var Ie=0;for(he=0;he<V.SheetNames.length;++he){var le=V.Sheets[V.SheetNames[he]];if(!(!le||!le["!ref"])){for(var ge=yn(le["!ref"]),De=Array.isArray(le),K=[],Ye=Math.min(ge.e.r,8191),Ue=ge.s.r;Ue<=Ye;++Ue)for(var Ke=Ri(Ue),ze=ge.s.c;ze<=ge.e.c;++ze){Ue===ge.s.r&&(K[ze]=Xn(ze));var Le=K[ze]+Ke,Je=De?(le[Ue]||[])[ze]:le[Le];if(!(!Je||Je.t=="z"))if(Je.t=="n")Xs(q,23,U(Ue,ze,Ie,Je.v));else{var et=Fl(Je);Xs(q,22,N(Ue,ze,Ie,et.slice(0,239)))}}++Ie}}return Xs(q,1),q.end()}function a(V){var ee=Yn(2);return ee.write_shift(2,V),ee}function s(V){var ee=Yn(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var X=0,q=0,he=0,xe=0;xe<V.SheetNames.length;++xe){var Ie=V.SheetNames[xe],le=V.Sheets[Ie];if(!(!le||!le["!ref"])){++he;var ge=Mh(le["!ref"]);X<ge.e.r&&(X=ge.e.r),q<ge.e.c&&(q=ge.e.c)}}return X>8191&&(X=8191),ee.write_shift(2,X),ee.write_shift(1,he),ee.write_shift(1,q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function o(V,ee,X){var q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&X.qpro?(q.s.c=V.read_shift(1),V.l++,q.s.r=V.read_shift(2),q.e.c=V.read_shift(1),V.l++,q.e.r=V.read_shift(2),q):(q.s.c=V.read_shift(2),q.s.r=V.read_shift(2),ee==12&&X.qpro&&(V.l+=2),q.e.c=V.read_shift(2),q.e.r=V.read_shift(2),ee==12&&X.qpro&&(V.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(V){var ee=Yn(8);return ee.write_shift(2,V.s.c),ee.write_shift(2,V.s.r),ee.write_shift(2,V.e.c),ee.write_shift(2,V.e.r),ee}function u(V,ee,X){var q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(q[0].c=V.read_shift(1),q[3]=V.read_shift(1),q[0].r=V.read_shift(2),V.l+=2):(q[2]=V.read_shift(1),q[0].c=V.read_shift(2),q[0].r=V.read_shift(2)),q}function d(V,ee,X){var q=V.l+ee,he=u(V,ee,X);if(he[1].t="s",X.vers==20768){V.l++;var xe=V.read_shift(1);return he[1].v=V.read_shift(xe,"utf8"),he}return X.qpro&&V.l++,he[1].v=V.read_shift(q-V.l,"cstr"),he}function p(V,ee,X){var q=Yn(7+X.length);q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(1,39);for(var he=0;he<q.length;++he){var xe=X.charCodeAt(he);q.write_shift(1,xe>=128?95:xe)}return q.write_shift(1,0),q}function m(V,ee,X){var q=u(V,ee,X);return q[1].v=V.read_shift(2,"i"),q}function y(V,ee,X){var q=Yn(7);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(2,X,"i"),q}function x(V,ee,X){var q=u(V,ee,X);return q[1].v=V.read_shift(8,"f"),q}function b(V,ee,X){var q=Yn(13);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(8,X,"f"),q}function E(V,ee,X){var q=V.l+ee,he=u(V,ee,X);if(he[1].v=V.read_shift(8,"f"),X.qpro)V.l=q;else{var xe=V.read_shift(2);M(V.slice(V.l,V.l+xe),he),V.l+=xe}return he}function S(V,ee,X){var q=ee&32768;return ee&=-32769,ee=(q?V:0)+(ee>=8192?ee-16384:ee),(q?"":"$")+(X?Xn(ee):Ri(ee))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(V,ee){Ii(V,0);for(var X=[],q=0,he="",xe="",Ie="",le="";V.l<V.length;){var ge=V[V.l++];switch(ge){case 0:X.push(V.read_shift(8,"f"));break;case 1:xe=S(ee[0].c,V.read_shift(2),!0),he=S(ee[0].r,V.read_shift(2),!1),X.push(xe+he);break;case 2:{var De=S(ee[0].c,V.read_shift(2),!0),K=S(ee[0].r,V.read_shift(2),!1);xe=S(ee[0].c,V.read_shift(2),!0),he=S(ee[0].r,V.read_shift(2),!1),X.push(De+K+":"+xe+he)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(V.read_shift(2));break;case 6:{for(var Ye="";ge=V[V.l++];)Ye+=String.fromCharCode(ge);X.push('"'+Ye.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:le=X.pop(),Ie=X.pop(),X.push(["AND","OR"][ge-20]+"("+Ie+","+le+")");break;default:if(ge<32&&k[ge])le=X.pop(),Ie=X.pop(),X.push(Ie+k[ge]+le);else if(L[ge]){if(q=L[ge][1],q==69&&(q=V[V.l++]),q>X.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+X.join("|")+"|");return}var Ue=X.slice(-q);X.length-=q,X.push(L[ge][0]+"("+Ue.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}X.length==1?ee[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function D(V){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=V.read_shift(2),ee[3]=V[V.l++],ee[0].c=V[V.l++],ee}function P(V,ee){var X=D(V);return X[1].t="s",X[1].v=V.read_shift(ee-4,"cstr"),X}function N(V,ee,X,q){var he=Yn(6+q.length);he.write_shift(2,V),he.write_shift(1,X),he.write_shift(1,ee),he.write_shift(1,39);for(var xe=0;xe<q.length;++xe){var Ie=q.charCodeAt(xe);he.write_shift(1,Ie>=128?95:Ie)}return he.write_shift(1,0),he}function I(V,ee){var X=D(V);X[1].v=V.read_shift(2);var q=X[1].v>>1;if(X[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return X[1].v=q,X}function O(V,ee){var X=D(V),q=V.read_shift(4),he=V.read_shift(4),xe=V.read_shift(2);if(xe==65535)return q===0&&he===3221225472?(X[1].t="e",X[1].v=15):q===0&&he===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Ie=xe&32768;return xe=(xe&32767)-16446,X[1].v=(1-Ie*2)*(he*Math.pow(2,xe+32)+q*Math.pow(2,xe)),X}function U(V,ee,X,q){var he=Yn(14);if(he.write_shift(2,V),he.write_shift(1,X),he.write_shift(1,ee),q==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var xe=0,Ie=0,le=0,ge=0;return q<0&&(xe=1,q=-q),Ie=Math.log2(q)|0,q/=Math.pow(2,Ie-31),ge=q>>>0,(ge&2147483648)==0&&(q/=2,++Ie,ge=q>>>0),q-=ge,ge|=2147483648,ge>>>=0,q*=Math.pow(2,32),le=q>>>0,he.write_shift(4,le),he.write_shift(4,ge),Ie+=16383+(xe?32768:0),he.write_shift(2,Ie),he}function B(V,ee){var X=O(V);return V.l+=ee-14,X}function F(V,ee){var X=D(V),q=V.read_shift(4);return X[1].v=q>>6,X}function H(V,ee){var X=D(V),q=V.read_shift(8,"f");return X[1].v=q,X}function fe(V,ee){var X=H(V);return V.l+=ee-10,X}function me(V,ee){return V[V.l+ee-1]==0?V.read_shift(ee,"cstr"):""}function ne(V,ee){var X=V[V.l++];X>ee-1&&(X=ee-1);for(var q="";q.length<X;)q+=String.fromCharCode(V[V.l++]);return q}function ue(V,ee,X){if(!(!X.qpro||ee<21)){var q=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var he=V.read_shift(ee-21,"cstr");return[q,he]}}function ce(V,ee){for(var X={},q=V.l+ee;V.l<q;){var he=V.read_shift(2);if(he==14e3){for(X[he]=[0,""],X[he][0]=V.read_shift(2);V[V.l];)X[he][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return X}function ae(V,ee){var X=Yn(5+V.length);X.write_shift(2,14e3),X.write_shift(2,ee);for(var q=0;q<V.length;++q){var he=V.charCodeAt(q);X[X.l++]=he>127?95:he}return X[X.l++]=0,X}var _e={0:{n:"BOF",f:Vn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}})();function tse(e){var t={},r=e.match(Yi),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=St(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=Q2[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var rse=(function(){var e=rm("t"),t=rm("rPr");function r(a){var s=a.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:or(s[1])},c=a.match(t);return c&&(o.s=tse(c[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),nse=(function(){var t=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),ise=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,ase=/<(?:\w+:)?r>/,sse=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function gC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=or($r(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=$r(e),r&&(n.h=sC(n.t))):e.match(ase)&&(n.r=$r(e),n.t=or($r((e.replace(sse,"").match(ise)||[]).join("").replace(Yi,""))),r&&(n.h=nse(rse(n.r)))),n):{t:""}}var ose=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,lse=/<(?:\w+:)?(?:si|sstItem)>/g,cse=/<\/(?:\w+:)?(?:si|sstItem)>/;function use(e,t){var r=[],n="";if(!e)return r;var i=e.match(ose);if(i){n=i[2].replace(lse,"").split(cse);for(var a=0;a!=n.length;++a){var s=gC(n[a].trim(),t);s!=null&&(r[r.length]=s)}i=St(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function fse(e){return[e.read_shift(4),e.read_shift(4)]}function dse(e,t){var r=[],n=!1;return Yl(e,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Y9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Ol(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function hse(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Ol(e,4),t.U=Ol(e,4),t.W=Ol(e,4),t}function pse(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function mse(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(pse(e));return t}function gse(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function vse(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Ol(e,4),t.U=Ol(e,4),t.W=Ol(e,4),t}function yse(e){var t=vse(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function J9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function X9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function xse(e){var t=Ol(e);switch(t.Minor){case 2:return[t.Minor,_se(e)];case 3:return[t.Minor,bse()];case 4:return[t.Minor,wse(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function _se(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=J9(e,r),i=X9(e,e.length-e.l);return{t:"Std",h:n,v:i}}function bse(){throw new Error("File is password-protected: ECMA-376 Extensible")}function wse(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Yi,function(a){var s=St(a);switch(Qo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Ese(e,t){var r={},n=r.EncryptionVersionInfo=Ol(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=J9(e,i),t-=i,r.EncryptionVerifier=X9(e,t),r}function Tse(e){var t={},r=t.EncryptionVersionInfo=Ol(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Ase(e){var t=0,r,n=Y9(e),i=n.length+1,a,s,o,c,u;for(r=Qc(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var Z9=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],p=0;p!=7;++p)d&64&&(o^=r[c]),d*=2,--c;return o};return function(s){for(var o=Y9(s),c=a(o),u=o.length,d=Qc(16),p=0;p!=16;++p)d[p]=0;var m,y,x;for((u&1)===1&&(m=c>>8,d[u]=i(e[0],m),--u,m=c&255,y=o[o.length-1],d[u]=i(y,m));u>0;)--u,m=c>>8,d[u]=i(o[u],m),--u,m=c&255,d[u]=i(o[u],m);for(u=15,x=15-o.length;x>0;)m=c>>8,d[u]=i(e[x],m),--u,--x,m=c&255,d[u]=i(o[u],m),--u,--x;return d}})(),Sse=function(e,t,r,n,i){i||(i=t),n||(n=Z9(e));var a,s;for(a=0;a!=t.length;++a)s=t[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},Cse=function(e){var t=0,r=Z9(e);return function(n){var i=Sse("",n,t,r);return t=i[1],i[0]}};function Nse(e,t,r,n){var i={key:Vn(e),verificationBytes:Vn(e)};return r.password&&(i.verifier=Ase(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=Cse(r.password)),i}function Ise(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Tse(e):n.Data=Ese(e,t),n}function kse(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Ise(e,t-2,n):Nse(e,r.biff>=8?t:t-2,r,n),n}var Pse=(function(){function e(i,a){switch(a.type){case"base64":return t(us(i),a);case"binary":return t(i,a);case"buffer":return t(tr&&Buffer.isBuffer(i)?i.toString("binary"):Lf(i),a);case"array":return t(yf(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,p){Array.isArray(o)&&(o[p]=[]);for(var m=/\\\w+\b/g,y=0,x,b=-1;x=m.exec(d);){switch(x[0]){case"\\cell":var E=d.slice(y,m.lastIndex-x[0].length);if(E[0]==" "&&(E=E.slice(1)),++b,E.length){var S={v:E,t:"s"};Array.isArray(o)?o[p][b]=S:o[Rt({r:p,c:b})]=S}break}y=m.lastIndex}b>u.e.c&&(u.e.c=b)}),o["!ref"]=sr(u),o}function r(i,a){return hu(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=yn(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var p=Rt({r:u,c:d});o=c?(i[u]||[])[d]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Fl(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function Rse(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function am(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Ose(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),s=i-a;if(s===0)return[0,0,t];var o=0,c=0,u=i+a;switch(c=s/(u>1?2-u:u),i){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function Mse(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=i*o,s[0]+=i,s[1]+=c;break;case 1:c=i*(2-o),s[0]+=c,s[1]+=i;break;case 2:c=i*(o-2),s[1]+=i,s[2]+=c;break;case 3:c=i*(4-o),s[1]+=c,s[2]+=i;break;case 4:c=i*(o-4),s[2]+=i,s[0]+=c;break;case 5:c=i*(6-o),s[2]+=c,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function px(e,t){if(t===0)return e;var r=Ose(Rse(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),am(Mse(r))}var Q9=6,Dse=15,Lse=1,oa=Q9;function mx(e){return Math.floor((e+Math.round(128/oa)/256)*oa)}function gx(e){return Math.floor((e-5)/oa*100+.5)/100}function UA(e){return Math.round((e*oa+5)/oa*256)/256}function mE(e){return UA(gx(mx(e)))}function vC(e){var t=Math.abs(e-mE(e)),r=oa;if(t>.005)for(oa=Lse;oa<Dse;++oa)Math.abs(e-mE(e))<=t&&(t=Math.abs(e-mE(e)),r=oa);oa=r}function ph(e){e.width?(e.wpx=mx(e.width),e.wch=gx(e.wpx),e.MDW=oa):e.wpx?(e.wch=gx(e.wpx),e.width=UA(e.wch),e.MDW=oa):typeof e.wch=="number"&&(e.width=UA(e.wch),e.wpx=mx(e.width),e.MDW=oa),e.customWidth&&delete e.customWidth}var Fse=96,eB=Fse;function tB(e){return e*96/eB}function sm(e){return e*eB/96}var jse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Use(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Yi)||[]).forEach(function(s){var o=St(s);switch(Qo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=tn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=tn(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function Bse(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Yi)||[]).forEach(function(s){var o=St(s);switch(Qo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function Vse(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Yi)||[]).forEach(function(s){var o=St(s);switch(Qo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=$r(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?tn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?tn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?tn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?tn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?tn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?tn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?tn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Q2[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=tn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=of[i.color.index];i.color.index==81&&(c=of[1]),c||(c=of[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=px(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function zse(e,t,r){t.NumberFmt=[];for(var n=Wo(jt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=jt[n[i]];var a=e[0].match(Yi);if(a)for(i=0;i<a.length;++i){var s=St(a[i]);switch(Qo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=or($r(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}sf(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var $v=["numFmtId","fillId","fontId","borderId","xfId"],Hv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function $se(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Yi)||[]).forEach(function(a){var s=St(a),o=0;switch(Qo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<$v.length;++o)n[$v[o]]&&(n[$v[o]]=parseInt(n[$v[o]],10));for(o=0;o<Hv.length;++o)n[Hv[o]]&&(n[Hv[o]]=tn(n[Hv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=tn(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var Hse=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(t))&&zse(p,d,u),(p=o.match(i))&&Vse(p,d,c,u),(p=o.match(n))&&Bse(p,d,c,u),(p=o.match(a))&&Use(p,d,c,u),(p=o.match(r))&&$se(p,d,u),d}})();function Gse(e,t){var r=e.read_shift(2),n=qi(e);return[r,n]}function qse(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=rie(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=tie(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=qi(e),n}var Kse=Wi;function Wse(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var Yse=Wi;function Jse(e,t,r){var n={};n.NumberFmt=[];for(var i in jt)n.NumberFmt[i]=jt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return Yl(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],sf(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=px(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(d),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(d);else if(u.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Xse=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Zse(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Yi)||[]).forEach(function(i){var a=St(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[Xse.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function Qse(){}function eoe(){}var toe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,roe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,noe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ioe(e,t,r){t.themeElements={};var n;[["clrScheme",toe,Zse],["fontScheme",roe,Qse],["fmtScheme",noe,eoe]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var aoe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function rB(e,t){(!e||e.length===0)&&(e=soe());var r,n={};if(!(r=e.match(aoe)))throw new Error("themeElements not found in theme");return ioe(r[0],n,t),n.raw=e,n}function soe(e,t){var r=[h9];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ooe(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var s;try{s=d9(a,{type:"array"})}catch{return}var o=ns(s,"theme/theme/theme1.xml",!0);if(o)return rB(o,r)}}function loe(e){return e.read_shift(4)}function coe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=uoe(e,4);break;case 2:t.xclrValue=z9(e);break;case 3:t.xclrValue=loe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function uoe(e,t){return Wi(e,t)}function foe(e,t){return Wi(e,t)}function doe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=coe(e);break;case 6:n[1]=foe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function hoe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(doe(e,r-e.l));return{ixfe:n,ext:a}}function poe(e,t){t.forEach(function(r){r[0]})}function moe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:qi(e)}}function goe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function voe(e){return e.l+=4,e.read_shift(4)!=0}function yoe(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return Yl(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:a.push(d),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function xoe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,s;return e.replace(Yi,function(o){var c=St(o);switch(Qo(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function _oe(e){var t=[];if(!e)return t;var r=1;return(e.match(Yi)||[]).forEach(function(n){var i=St(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function boe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Rt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function woe(e,t,r){var n=[];return Yl(e,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Eoe(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Yl(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function Toe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function xM(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(s){var o=ua(s.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[s.ref],!a){a={t:"z"},i?e[o.r][o.c]=a:e[s.ref]=a;var c=yn(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=sr(c);u!==e["!ref"]&&(e["!ref"]=u)}a.c||(a.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var p=a.c.length-1;p>=0;--p){if(!r&&a.c[p].T)return;r&&!a.c[p].T&&a.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(d.a==n[p].id){d.a=n[p].name||d.a;break}}a.c.push(d)})}function Aoe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=St(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ua(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var p=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!p&&!!p[1]&&gC(p[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function Soe(e,t){var r=[],n=!1,i={},a=0;return e.replace(Yi,function(o,c){var u=St(o);switch(Qo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=c+o.length;break;case"</text>":i.t=e.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function Coe(e,t){var r=[],n=!1;return e.replace(Yi,function(a){var s=St(a);switch(Qo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function Noe(e){var t={};t.iauthor=e.read_shift(4);var r=jf(e);return t.rfx=r.s,t.ref=Rt(r.s),e.l+=16,t}var Ioe=qi;function koe(e,t){var r=[],n=[],i={},a=!1;return Yl(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var Poe="application/vnd.ms-office.vbaProject";function Roe(e){var t=ar.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ar.utils.cfb_add(t,i,e.FileIndex[n].content)}}),ar.write(t)}function Ooe(){return{"!type":"dialog"}}function Moe(){return{"!type":"dialog"}}function Doe(){return{"!type":"macro"}}function Loe(){return{"!type":"macro"}}var eh=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,i+(o?"":"$")+Xn(d)+(c?"":"$")+Ri(u)}return function(i,a){return t=a,i.replace(e,r)}})(),nB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Foe=(function(){return function(t,r){return t.replace(nB,function(n,i,a,s,o,c){var u=uC(s)-(a?0:r.c),d=cC(c)-(o?0:r.r),p=d==0?"":o?d+1:"["+d+"]",m=u==0?"":a?u+1:"["+u+"]";return i+"R"+p+"C"+m})}})();function iB(e,t){return e.replace(nB,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Xn(uC(a)+t.c))+(s=="$"?s+o:Ri(cC(o)+t.r))})}function joe(e,t,r){var n=Mh(t),i=n.s,a=ua(r),s={r:a.r-i.r,c:a.c-i.c};return iB(e,s)}function Uoe(e){return e.length!=1}function _M(e){return e.replace(/_xlfn\./g,"")}function jn(e){e.l+=1}function eu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function aB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return sB(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=eu(e),o=eu(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function sB(e){var t=eu(e),r=eu(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Boe(e,t,r){if(r.biff<8)return sB(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=eu(e),s=eu(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function oB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Voe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=eu(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Voe(e){var t=eu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function zoe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function $oe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Hoe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function Hoe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function Goe(e,t,r){var n=(e[e.l++]&96)>>5,i=aB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function qoe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=aB(e,a,r);return[n,i,s]}function Koe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Woe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function Yoe(e,t,r){var n=(e[e.l++]&96)>>5,i=Boe(e,t-1,r);return[n,i]}function Joe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function bM(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Xoe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function Zoe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Qoe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ele(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function tle(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function lB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function rle(e){return e.read_shift(2),lB(e)}function nle(e){return e.read_shift(2),lB(e)}function ile(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=oB(e,0,r);return[n,i]}function ale(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=$oe(e,0,r);return[n,i]}function sle(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=oB(e,0,r);return[n,i,a]}function ole(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[lce[i],fB[i],n]}function lle(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:cle(e);return[i,(a[0]===0?fB:oce)[a[1]]]}function cle(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function ule(e,t,r){e.l+=r&&r.biff==2?3:4}function fle(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function dle(e){return e.l++,Uf[e.read_shift(1)]}function hle(e){return e.l++,e.read_shift(2)}function ple(e){return e.l++,e.read_shift(1)!==0}function mle(e){return e.l++,zi(e)}function gle(e,t,r){return e.l++,jm(e,t-1,r)}function vle(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Cn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Uf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=zi(e);break;case 2:r[1]=Bf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function yle(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?jf:z1)(e));return i}function xle(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=vle(e,r.biff);return s}function _le(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function ble(e,t,r){if(r.biff==5)return wle(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function wle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Ele(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Tle(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Ale(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Sle(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var Cle=Wi,Nle=Wi,Ile=Wi;function Bm(e,t,r){return e.l+=2,[zoe(e)]}function yC(e){return e.l+=6,[]}var kle=Bm,Ple=yC,Rle=yC,Ole=Bm;function cB(e){return e.l+=2,[Vn(e),e.read_shift(2)&1]}var Mle=Bm,Dle=cB,Lle=yC,Fle=Bm,jle=Bm,Ule=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ble(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=Ule[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function Vle(e){return e.l+=2,[e.read_shift(4)]}function zle(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function $le(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Hle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Gle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function qle(e){return e.l+=4,[0,0]}var wM={1:{n:"PtgExp",f:fle},2:{n:"PtgTbl",f:Ile},3:{n:"PtgAdd",f:jn},4:{n:"PtgSub",f:jn},5:{n:"PtgMul",f:jn},6:{n:"PtgDiv",f:jn},7:{n:"PtgPower",f:jn},8:{n:"PtgConcat",f:jn},9:{n:"PtgLt",f:jn},10:{n:"PtgLe",f:jn},11:{n:"PtgEq",f:jn},12:{n:"PtgGe",f:jn},13:{n:"PtgGt",f:jn},14:{n:"PtgNe",f:jn},15:{n:"PtgIsect",f:jn},16:{n:"PtgUnion",f:jn},17:{n:"PtgRange",f:jn},18:{n:"PtgUplus",f:jn},19:{n:"PtgUminus",f:jn},20:{n:"PtgPercent",f:jn},21:{n:"PtgParen",f:jn},22:{n:"PtgMissArg",f:jn},23:{n:"PtgStr",f:gle},26:{n:"PtgSheet",f:zle},27:{n:"PtgEndSheet",f:$le},28:{n:"PtgErr",f:dle},29:{n:"PtgBool",f:ple},30:{n:"PtgInt",f:hle},31:{n:"PtgNum",f:mle},32:{n:"PtgArray",f:Joe},33:{n:"PtgFunc",f:ole},34:{n:"PtgFuncVar",f:lle},35:{n:"PtgName",f:_le},36:{n:"PtgRef",f:ile},37:{n:"PtgArea",f:Goe},38:{n:"PtgMemArea",f:Ele},39:{n:"PtgMemErr",f:Cle},40:{n:"PtgMemNoMem",f:Nle},41:{n:"PtgMemFunc",f:Tle},42:{n:"PtgRefErr",f:Ale},43:{n:"PtgAreaErr",f:Koe},44:{n:"PtgRefN",f:ale},45:{n:"PtgAreaN",f:Yoe},46:{n:"PtgMemAreaN",f:Hle},47:{n:"PtgMemNoMemN",f:Gle},57:{n:"PtgNameX",f:ble},58:{n:"PtgRef3d",f:sle},59:{n:"PtgArea3d",f:qoe},60:{n:"PtgRefErr3d",f:Sle},61:{n:"PtgAreaErr3d",f:Woe},255:{}},Kle={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Wle={1:{n:"PtgElfLel",f:cB},2:{n:"PtgElfRw",f:Fle},3:{n:"PtgElfCol",f:kle},6:{n:"PtgElfRwV",f:jle},7:{n:"PtgElfColV",f:Ole},10:{n:"PtgElfRadical",f:Mle},11:{n:"PtgElfRadicalS",f:Lle},13:{n:"PtgElfColS",f:Ple},15:{n:"PtgElfColSV",f:Rle},16:{n:"PtgElfRadicalLel",f:Dle},25:{n:"PtgList",f:Ble},29:{n:"PtgSxName",f:Vle},255:{}},Yle={0:{n:"PtgAttrNoop",f:qle},1:{n:"PtgAttrSemi",f:tle},2:{n:"PtgAttrIf",f:Qoe},4:{n:"PtgAttrChoose",f:Xoe},8:{n:"PtgAttrGoto",f:Zoe},16:{n:"PtgAttrSum",f:ule},32:{n:"PtgAttrBaxcel",f:bM},33:{n:"PtgAttrBaxcel",f:bM},64:{n:"PtgAttrSpace",f:rle},65:{n:"PtgAttrSpaceSemi",f:nle},128:{n:"PtgAttrIfError",f:ele},255:{}};function Vm(e,t,r,n){if(n.biff<8)return Wi(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=xle(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=yle(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(Wi(e,t)),a}function zm(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=wM[a]||wM[Kle[a]],(a===24||a===25)&&(i=(a===24?Wle:Yle)[e[e.l+1]]),!i||!i.f?Wi(e,t):s.push([i.n,i.f(e,t,r)]);return s}function Jle(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}t.push(i.join(","))}return t.join(";")}var Xle={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Zle(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function uB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function EM(e,t,r){var n=uB(e,t,r);return n=="#REF"?n:Zle(n,r)}function Ui(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,p=0,m=0,y,x="";if(!e[0]||!e[0][0])return"";for(var b=-1,E="",S=0,L=e[0].length;S<L;++S){var k=e[0][S];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),b>=0){switch(e[0][b][1][0]){case 0:E=mn(" ",e[0][b][1][1]);break;case 1:E=mn("\r",e[0][b][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}u=u+E,b=-1}o.push(u+Xle[k[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Ip(k[1][1],s,i),o.push(kp(d,a));break;case"PtgRefN":d=r?Ip(k[1][1],r,i):k[1][1],o.push(kp(d,a));break;case"PtgRef3d":p=k[1][1],d=Ip(k[1][2],s,i),x=EM(n,p,i),o.push(x+"!"+kp(d,a));break;case"PtgFunc":case"PtgFuncVar":var M=k[1][0],D=k[1][1];M||(M=0),M&=127;var P=M==0?[]:o.slice(-M);o.length-=M,D==="User"&&(D=P.shift()),o.push(D+"("+P.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":y=nM(k[1][1],r?{s:r}:s,i),o.push(hE(y,i));break;case"PtgArea":y=nM(k[1][1],s,i),o.push(hE(y,i));break;case"PtgArea3d":p=k[1][1],y=k[1][2],x=EM(n,p,i),o.push(x+"!"+hE(y,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=k[1][2];var N=(n.names||[])[m-1]||(n[0]||[])[m],I=N?N.Name:"SH33TJSNAME"+String(m);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var O=k[1][1];m=k[1][2];var U;if(i.biff<=5)O<0&&(O=-O),n[O]&&(U=n[O][m]);else{var B="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][m]&&n[O][m].itab>0&&(B=n.SheetNames[n[O][m].itab-1]+"!"):B=n.SheetNames[m-1]+"!"),n[O]&&n[O][m])B+=n[O][m].Name;else if(n[0]&&n[0][m])B+=n[0][m].Name;else{var F=(uB(n,O,i)||"").split(";;");F[m-1]?B=F[m-1]:B+="SH33TJSERRX"}o.push(B);break}U||(U={Name:"SH33TJSERRY"}),o.push(U.Name);break;case"PtgParen":var H="(",fe=")";if(b>=0){switch(E="",e[0][b][1][0]){case 2:H=mn(" ",e[0][b][1][1])+H;break;case 3:H=mn("\r",e[0][b][1][1])+H;break;case 4:fe=mn(" ",e[0][b][1][1])+fe;break;case 5:fe=mn("\r",e[0][b][1][1])+fe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}o.push(H+o.pop()+fe);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:k[1][1],r:k[1][0]};var me={c:r.c,r:r.r};if(n.sharedf[Rt(d)]){var ne=n.sharedf[Rt(d)];o.push(Ui(ne,s,me,n,i))}else{var ue=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Ui(u[1],s,me,n,i)),ue=!0;break}ue||o.push(k[1])}break;case"PtgArray":o.push("{"+Jle(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ce.indexOf(e[0][S][0])==-1){k=e[0][b];var ae=!0;switch(k[1][0]){case 4:ae=!1;case 0:E=mn(" ",k[1][1]);break;case 5:ae=!1;case 1:E=mn("\r",k[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((ae?E:"")+o.pop()+(ae?"":E)),b=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Qle(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Wi(e,t-2)];var o=zm(e,s,r);return t!==s+i&&(a=Vm(e,t-s-i,o,r)),e.l=n,[o,a]}function ece(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Wi(e,t-2)];var o=zm(e,s,r);return t!==s+i&&(a=Vm(e,t-s-i,o,r)),e.l=n,[o,a]}function tce(e,t,r,n){var i=e.l+t,a=zm(e,n,r),s;return i!==e.l&&(s=Vm(e,i-e.l,a,r)),[a,s]}function rce(e,t,r){var n=e.l+t,i,a=e.read_shift(2),s=zm(e,a,r);return a==65535?[[],Wi(e,t-2)]:(t!==a+2&&(i=Vm(e,n-a-2,s,r)),[s,i])}function nce(e){var t;if(Il(e,e.l+6)!==65535)return[zi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function gE(e,t,r){var n=e.l+t,i=el(e);r.biff==2&&++e.l;var a=nce(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=ece(e,n-e.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function $1(e,t,r){var n=e.read_shift(4),i=zm(e,n,r),a=e.read_shift(4),s=a>0?Vm(e,a,i,r):null;return[i,s]}var ice=$1,H1=$1,ace=$1,sce=$1,oce={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},lce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function TM(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function vE(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Mp={},th={};function Dp(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function dB(e,t,r,n,i,a){try{n.cellNF&&(e.z=jt[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=hi(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(jt[t]==null&&sf(cne[t]||"General",t),e.t==="e")e.w=e.w||Uf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=tm(e.v);else if(e.t==="d"){var s=pa(e.v);(s|0)===s?e.w=s.toString(10):e.w=tm(s)}else{if(e.v===void 0)return"";e.w=vf(e.v,th)}else e.t==="d"?e.w=Ms(t,pa(e.v),th):e.w=Ms(t,e.v,th)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=px(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=px(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function cce(e,t){var r=yn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=sr(r))}var uce=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,fce=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,dce=/<(?:\w:)?hyperlink [^>]*>/mg,hce=/"(\w*:\w*)"/,pce=/<(?:\w:)?col\b[^>]*[\/]?>/g,mce=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,gce=/<(?:\w:)?pageMargins[^>]*\/>/g,hB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,vce=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yce=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function xce(e,t,r,n,i,a,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",p=e.match(fce);p?(u=e.slice(0,p.index),d=e.slice(p.index+p[0].length)):u=d=e;var m=u.match(hB);m?xC(m[0],o,i,r):(m=u.match(vce))&&_ce(m[0],m[1]||"",o,i,r);var y=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var x=u.slice(y,y+50).match(hce);x&&cce(o,x[1])}var b=u.match(yce);b&&b[1]&&Sce(b[1],i);var E=[];if(t.cellStyles){var S=u.match(pce);S&&Ece(E,S)}p&&Cce(p[1],o,t,c,a,s);var L=d.match(mce);L&&(o["!autofilter"]=Tce(L[0]));var k=[],M=d.match(uce);if(M)for(y=0;y!=M.length;++y)k[y]=yn(M[y].slice(M[y].indexOf('"')+1));var D=d.match(dce);D&&bce(o,D,n);var P=d.match(gce);if(P&&(o["!margins"]=wce(St(P[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=sr(c)),t.sheetRows>0&&o["!ref"]){var N=yn(o["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=sr(N))}return E.length>0&&(o["!cols"]=E),k.length>0&&(o["!merges"]=k),o}function xC(e,t,r,n){var i=St(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=or($r(i.codeName)))}function _ce(e,t,r,n,i){xC(e.slice(0,e.indexOf(">")),r,n,i)}function bce(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=St($r(t[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+or(a.location))):(a.Target="#"+or(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=yn(a.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Rt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=a):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=a)}}}function wce(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Ece(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=St(t[n],!0);i.hidden&&(i.hidden=tn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,vC(i.width)),ph(i);a<=s;)e[a++]=Pi(i)}}function Tce(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Ace=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Sce(e,t){t.Views||(t.Views=[{}]),(e.match(Ace)||[]).forEach(function(r,n){var i=St(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),tn(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var Cce=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=rm("v"),s=rm("f");return function(c,u,d,p,m,y){for(var x=0,b="",E=[],S=[],L=0,k=0,M=0,D="",P,N,I=0,O=0,U,B,F=0,H=0,fe=Array.isArray(y.CellXf),me,ne=[],ue=[],ce=Array.isArray(u),ae=[],_e={},J=!1,V=!!d.sheetStubs,ee=c.split(t),X=0,q=ee.length;X!=q;++X){b=ee[X].trim();var he=b.length;if(he!==0){var xe=0;e:for(x=0;x<he;++x)switch(b[x]){case">":if(b[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(N=St(b.slice(xe,x),!0),I=N.r!=null?parseInt(N.r,10):I+1,O=-1,d.sheetRows&&d.sheetRows<I)continue;_e={},J=!1,N.ht&&(J=!0,_e.hpt=parseFloat(N.ht),_e.hpx=sm(_e.hpt)),N.hidden=="1"&&(J=!0,_e.hidden=!0),N.outlineLevel!=null&&(J=!0,_e.level=+N.outlineLevel),J&&(ae[I-1]=_e)}break;case"<":xe=x;break}if(xe>=x)break;if(N=St(b.slice(xe,x),!0),I=N.r!=null?parseInt(N.r,10):I+1,O=-1,!(d.sheetRows&&d.sheetRows<I)){p.s.r>I-1&&(p.s.r=I-1),p.e.r<I-1&&(p.e.r=I-1),d&&d.cellStyles&&(_e={},J=!1,N.ht&&(J=!0,_e.hpt=parseFloat(N.ht),_e.hpx=sm(_e.hpt)),N.hidden=="1"&&(J=!0,_e.hidden=!0),N.outlineLevel!=null&&(J=!0,_e.level=+N.outlineLevel),J&&(ae[I-1]=_e)),E=b.slice(x).split(e);for(var Ie=0;Ie!=E.length&&E[Ie].trim().charAt(0)=="<";++Ie);for(E=E.slice(Ie),x=0;x!=E.length;++x)if(b=E[x].trim(),b.length!==0){if(S=b.match(r),L=x,k=0,M=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,S!=null&&S.length===2){for(L=0,D=S[1],k=0;k!=D.length&&!((M=D.charCodeAt(k)-64)<1||M>26);++k)L=26*L+M;--L,O=L}else++O;for(k=0;k!=b.length&&b.charCodeAt(k)!==62;++k);if(++k,N=St(b.slice(0,k),!0),N.r||(N.r=Rt({r:I-1,c:O})),D=b.slice(k),P={t:""},(S=D.match(a))!=null&&S[1]!==""&&(P.v=or(S[1])),d.cellFormula){if((S=D.match(s))!=null&&S[1]!==""){if(P.f=or($r(S[1])).replace(/\r\n/g,`
`),d.xlfn||(P.f=_M(P.f)),S[0].indexOf('t="array"')>-1)P.F=(D.match(i)||[])[1],P.F.indexOf(":")>-1&&ne.push([yn(P.F),P.F]);else if(S[0].indexOf('t="shared"')>-1){B=St(S[0]);var le=or($r(S[1]));d.xlfn||(le=_M(le)),ue[parseInt(B.si,10)]=[B,le,N.r]}}else(S=D.match(/<f[^>]*\/>/))&&(B=St(S[0]),ue[B.si]&&(P.f=joe(ue[B.si][1],ue[B.si][2],N.r)));var ge=ua(N.r);for(k=0;k<ne.length;++k)ge.r>=ne[k][0].s.r&&ge.r<=ne[k][0].e.r&&ge.c>=ne[k][0].s.c&&ge.c<=ne[k][0].e.c&&(P.F=ne[k][1])}if(N.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(V)P.t="z";else continue;else P.t=N.t||"n";switch(p.s.c>O&&(p.s.c=O),p.e.c<O&&(p.e.c=O),P.t){case"n":if(P.v==""||P.v==null){if(!V)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!V)continue;P.t="z"}else U=Mp[parseInt(P.v,10)],P.v=U.t,P.r=U.r,d.cellHTML&&(P.h=U.h);break;case"str":P.t="s",P.v=P.v!=null?$r(P.v):"",d.cellHTML&&(P.h=sC(P.v));break;case"inlineStr":S=D.match(n),P.t="s",S!=null&&(U=gC(S[1]))?(P.v=U.t,d.cellHTML&&(P.h=U.h)):P.v="";break;case"b":P.v=tn(P.v);break;case"d":d.cellDates?P.v=hi(P.v,1):(P.v=pa(hi(P.v,1)),P.t="n");break;case"e":(!d||d.cellText!==!1)&&(P.w=P.v),P.v=M9[P.v];break}if(F=H=0,me=null,fe&&N.s!==void 0&&(me=y.CellXf[N.s],me!=null&&(me.numFmtId!=null&&(F=me.numFmtId),d.cellStyles&&me.fillId!=null&&(H=me.fillId))),dB(P,F,H,d,m,y),d.cellDates&&fe&&P.t=="n"&&Oh(jt[F])&&(P.t="d",P.v=V1(P.v)),N.cm&&d.xlmeta){var De=(d.xlmeta.Cell||[])[+N.cm-1];De&&De.type=="XLDAPR"&&(P.D=!0)}if(ce){var K=ua(N.r);u[K.r]||(u[K.r]=[]),u[K.r][K.c]=P}else u[N.r]=P}}}}ae.length>0&&(u["!rows"]=ae)}})();function Nce(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var Ice=jf;function kce(){}function Pce(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Qne(e),r}function Rce(e){var t=Bs(e);return[t]}function Oce(e){var t=Ff(e);return[t]}function Mce(e){var t=Bs(e),r=e.read_shift(1);return[t,r,"b"]}function Dce(e){var t=Ff(e),r=e.read_shift(1);return[t,r,"b"]}function Lce(e){var t=Bs(e),r=e.read_shift(1);return[t,r,"e"]}function Fce(e){var t=Ff(e),r=e.read_shift(1);return[t,r,"e"]}function jce(e){var t=Bs(e),r=e.read_shift(4);return[t,r,"s"]}function Uce(e){var t=Ff(e),r=e.read_shift(4);return[t,r,"s"]}function Bce(e){var t=Bs(e),r=zi(e);return[t,r,"n"]}function pB(e){var t=Ff(e),r=zi(e);return[t,r,"n"]}function Vce(e){var t=Bs(e),r=hC(e);return[t,r,"n"]}function zce(e){var t=Ff(e),r=hC(e);return[t,r,"n"]}function $ce(e){var t=Bs(e),r=fC(e);return[t,r,"is"]}function Hce(e){var t=Bs(e),r=qi(e);return[t,r,"str"]}function Gce(e){var t=Ff(e),r=qi(e);return[t,r,"str"]}function qce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=H1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}function Kce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=H1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}function Wce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=zi(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=H1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}function Yce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=qi(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=H1(e,n-e.l,r);s[3]=Ui(o,null,i,r.supbooks,r)}else e.l=n;return s}var Jce=jf;function Xce(e,t){var r=e.l+t,n=jf(e),i=dC(e),a=qi(e),s=qi(e),o=qi(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function Zce(){}function Qce(e,t,r){var n=e.l+t,i=P9(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=ice(e,n-e.l,r);s[1]=o}else e.l=n;return s}function eue(e,t,r){var n=e.l+t,i=jf(e),a=[i];if(r.cellFormula){var s=sce(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}var tue=["left","right","top","bottom","header","footer"];function rue(e){var t={};return tue.forEach(function(r){t[r]=zi(e)}),t}function nue(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function iue(){}function aue(){}function sue(e,t,r,n,i,a,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,m=!1,y,x,b,E,S,L,k,M,D,P=[];o.biff=12,o["!row"]=0;var N=0,I=!1,O=[],U={},B=o.supbooks||i.supbooks||[[]];if(B.sharedf=U,B.arrayf=O,B.SheetNames=i.SheetNames||i.Sheets.map(function(ce){return ce.name}),!o.supbooks&&(o.supbooks=B,i.Names))for(var F=0;F<i.Names.length;++F)B[0][F+1]=i.Names[F];var H=[],fe=[],me=!1;vx[16]={n:"BrtShortReal",f:pB};var ne;if(Yl(e,function(ae,_e,J){if(!m)switch(J){case 148:u=ae;break;case 0:y=ae,o.sheetRows&&o.sheetRows<=y.r&&(m=!0),M=Ri(E=y.r),o["!row"]=y.r,(ae.hidden||ae.hpt||ae.level!=null)&&(ae.hpt&&(ae.hpx=sm(ae.hpt)),fe[ae.r]=ae);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:ae[2]},ae[2]){case"n":x.v=ae[1];break;case"s":k=Mp[ae[1]],x.v=k.t,x.r=k.r;break;case"b":x.v=!!ae[1];break;case"e":x.v=ae[1],o.cellText!==!1&&(x.w=Uf[x.v]);break;case"str":x.t="s",x.v=ae[1];break;case"is":x.t="s",x.v=ae[1].t;break}if((b=s.CellXf[ae[0].iStyleRef])&&dB(x,b.numFmtId,null,o,a,s),S=ae[0].c==-1?S+1:ae[0].c,o.dense?(c[E]||(c[E]=[]),c[E][S]=x):c[Xn(S)+M]=x,o.cellFormula){for(I=!1,N=0;N<O.length;++N){var V=O[N];y.r>=V[0].s.r&&y.r<=V[0].e.r&&S>=V[0].s.c&&S<=V[0].e.c&&(x.F=sr(V[0]),I=!0)}!I&&ae.length>3&&(x.f=ae[3])}if(d.s.r>y.r&&(d.s.r=y.r),d.s.c>S&&(d.s.c=S),d.e.r<y.r&&(d.e.r=y.r),d.e.c<S&&(d.e.c=S),o.cellDates&&b&&x.t=="n"&&Oh(jt[b.numFmtId])){var ee=Zu(x.v);ee&&(x.t="d",x.v=new Date(ee.y,ee.m-1,ee.d,ee.H,ee.M,ee.S,ee.u))}ne&&(ne.type=="XLDAPR"&&(x.D=!0),ne=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;x={t:"z",v:void 0},S=ae[0].c==-1?S+1:ae[0].c,o.dense?(c[E]||(c[E]=[]),c[E][S]=x):c[Xn(S)+M]=x,d.s.r>y.r&&(d.s.r=y.r),d.s.c>S&&(d.s.c=S),d.e.r<y.r&&(d.e.r=y.r),d.e.c<S&&(d.e.c=S),ne&&(ne.type=="XLDAPR"&&(x.D=!0),ne=void 0);break;case 176:P.push(ae);break;case 49:ne=((o.xlmeta||{}).Cell||[])[ae-1];break;case 494:var X=n["!id"][ae.relId];for(X?(ae.Target=X.Target,ae.loc&&(ae.Target+="#"+ae.loc),ae.Rel=X):ae.relId==""&&(ae.Target="#"+ae.loc),E=ae.rfx.s.r;E<=ae.rfx.e.r;++E)for(S=ae.rfx.s.c;S<=ae.rfx.e.c;++S)o.dense?(c[E]||(c[E]=[]),c[E][S]||(c[E][S]={t:"z",v:void 0}),c[E][S].l=ae):(L=Rt({c:S,r:E}),c[L]||(c[L]={t:"z",v:void 0}),c[L].l=ae);break;case 426:if(!o.cellFormula)break;O.push(ae),D=o.dense?c[E][S]:c[Xn(S)+M],D.f=Ui(ae[1],d,{r:y.r,c:S},B,o),D.F=sr(ae[0]);break;case 427:if(!o.cellFormula)break;U[Rt(ae[0].s)]=ae[1],D=o.dense?c[E][S]:c[Xn(S)+M],D.f=Ui(ae[1],d,{r:y.r,c:S},B,o);break;case 60:if(!o.cellStyles)break;for(;ae.e>=ae.s;)H[ae.e--]={width:ae.w/256,hidden:!!(ae.flags&1),level:ae.level},me||(me=!0,vC(ae.w/256)),ph(H[ae.e+1]);break;case 161:c["!autofilter"]={ref:sr(ae)};break;case 476:c["!margins"]=ae;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ae.name&&(i.Sheets[r].CodeName=ae.name),(ae.above||ae.left)&&(c["!outline"]={above:ae.above,left:ae.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ae.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!_e.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=sr(u||d)),o.sheetRows&&c["!ref"]){var ue=yn(c["!ref"]);o.sheetRows<=+ue.e.r&&(ue.e.r=o.sheetRows-1,ue.e.r>d.e.r&&(ue.e.r=d.e.r),ue.e.r<ue.s.r&&(ue.s.r=ue.e.r),ue.e.c>d.e.c&&(ue.e.c=d.e.c),ue.e.c<ue.s.c&&(ue.s.c=ue.e.c),c["!fullref"]=c["!ref"],c["!ref"]=sr(ue))}return P.length>0&&(c["!merges"]=P),H.length>0&&(c["!cols"]=H),fe.length>0&&(c["!rows"]=fe),c}function oue(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var i=or((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function lue(e,t,r,n,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var m=oue(p);d.s.r=d.s.c=0,d.e.c=o,u=Xn(o),m[0].forEach(function(y,x){s[u+Ri(x)]={t:"n",v:y,z:m[1]},c=x}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(s["!ref"]=sr(d)),s}function cue(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(hB);return o&&xC(o[0],a,i,r),(s=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function uue(e,t){e.l+=10;var r=qi(e);return{name:r}}function fue(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Yl(e,function(c,u,d){switch(d){case 550:a["!rel"]=c;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),c.name&&(i.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var mB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],due=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],hue=[],pue=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function AM(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=tn(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function SM(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=tn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function gB(e){SM(e.WBProps,mB),SM(e.CalcPr,pue),AM(e.WBView,due),AM(e.Sheets,hue),th.date1904=tn(e.WBProps.date1904)}var mue="][*?/\\".split("");function gue(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return mue.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var vue=/<\w+:workbook/;function yue(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(e.replace(Yi,function(c,u){var d=St(c);switch(Qo(d[0])){case"<?xml":break;case"<workbook":c.match(vue)&&(i="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":mB.forEach(function(p){if(d[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=tn(d[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(d[p[0]],10);break;default:r.WBProps[p[0]]=d[p[0]]}}),d.codeName&&(r.WBProps.CodeName=$r(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=or($r(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=$r(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),tn(d.hidden||"0")&&(a.Hidden=!0),s=u+c.length;break;case"</definedName>":a.Ref=or($r(e.slice(s,u))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Lne.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return gB(r),r}function xue(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=LA(e),r.name=qi(e),r}function _ue(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?qi(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function bue(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function wue(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=eie(e),s=ace(e,0,r),o=dC(e);e.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function Eue(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],vx[16]={n:"BrtFRTArchID$",f:bue},Yl(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Ui(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),gB(r),r.Names=a,r.supbooks=s,r}function Tue(e,t,r){return t.slice(-4)===".bin"?Eue(e,r):yue(e,r)}function Aue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?sue(e,n,r,i,a,s,o):xce(e,n,r,i,a,s,o)}function Sue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?fue(e,n,r,i,a):cue(e,n,r,i,a)}function Cue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Doe():Loe()}function Nue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Ooe():Moe()}function Iue(e,t,r,n){return t.slice(-4)===".bin"?Jse(e,r,n):Hse(e,r,n)}function kue(e,t,r){return rB(e,r)}function Pue(e,t,r){return t.slice(-4)===".bin"?dse(e,r):use(e,r)}function Rue(e,t,r){return t.slice(-4)===".bin"?koe(e,r):Aoe(e,r)}function Oue(e,t,r){return t.slice(-4)===".bin"?woe(e):_oe(e)}function Mue(e,t,r,n){return r.slice(-4)===".bin"?Eoe(e,t,r,n):void 0}function Due(e,t,r){return t.slice(-4)===".bin"?yoe(e,t,r):xoe(e,t,r)}var vB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Js(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(vB),a,s,o,c;if(i)for(c=0;c!=i.length;++c)a=i[c].match(yB),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function Lue(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(vB),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(yB),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var Lp;function Fue(e,t){var r=Lp[e]||or(e);return r==="General"?vf(t):Ms(r,t)}function jue(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=tn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=hi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[or(t)]=i}function Uue(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Uf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=tm(e.v):e.w=vf(e.v):e.w=Fue(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=Lp[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Oh(n)){var i=Zu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function Bue(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=jse[n.Pattern]||n.Pattern)}e[t.ID]=t}function Vue(e,t,r,n,i,a,s,o,c,u){var d="General",p=n.StyleID,m={};u=u||{};var y=[],x=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&s&&(p=s.StyleID);a[p]!==void 0&&(a[p].nf&&(d=a[p].nf),a[p].Interior&&y.push(a[p].Interior),!!a[p].Parent);)p=a[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=tn(e);break;case"String":n.t="s",n.r=W4(or(e)),n.v=e.indexOf("<")>-1?or(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(hi(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=or(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=M9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=W4(t||e));break}if(Uue(n,d,u),u.cellFormula!==!1)if(n.Formula){var b=or(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=eh(b,i),delete n.Formula,n.ArrayRange=="RC"?n.F=eh("RC:RC",i):n.ArrayRange&&(n.F=eh(n.ArrayRange,i),c.push([yn(n.F),n.F]))}else for(x=0;x<c.length;++x)i.r>=c[x][0].s.r&&i.r<=c[x][0].e.r&&i.c>=c[x][0].s.c&&i.c<=c[x][0].e.c&&(n.F=c[x][1]);u.cellStyles&&(y.forEach(function(E){!m.patternType&&E.patternType&&(m.patternType=E.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function zue(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function yE(e,t){var r=t||{};s9();var n=fp(oC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=$r(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Pi(r);return s.type="string",im.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){i.indexOf("<"+Je)>=0&&(a=!0)}),a)return Xue(n,r);Lp={"General Number":"General","General Date":jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jt[15],"Short Date":jt[14],"Long Time":jt[19],"Medium Time":jt[18],"Short Time":jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jt[2],Standard:jt[4],Percent:jt[10],Scientific:jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},p=[],m=r.dense?[]:{},y="",x={},b={},E=Js('<Data ss:Type="String">'),S=0,L=0,k=0,M={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},P={},N="",I=0,O=[],U={},B={},F=0,H=[],fe=[],me={},ne=[],ue,ce=!1,ae=[],_e=[],J={},V=0,ee=0,X={Sheets:[],WBProps:{date1904:!1}},q={};nm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";o=nm.exec(n);)switch(o[3]=(he=o[3]).toLowerCase()){case"data":if(he=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Vue(n.slice(S,o.index),N,E,c[c.length-1][0]=="comment"?me:x,{c:L,r:k},D,ne[L],b,ae,r):(N="",E=Js(o[0]),S=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(fe.length>0&&(x.c=fe),(!r.sheetRows||r.sheetRows>k)&&x.v!==void 0&&(r.dense?(m[k]||(m[k]=[]),m[k][L]=x):m[Xn(L)+Ri(k)]=x),x.HRef&&(x.l={Target:or(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(V=L+(parseInt(x.MergeAcross,10)|0),ee=k+(parseInt(x.MergeDown,10)|0),O.push({s:{c:L,r:k},e:{c:V,r:ee}})),!r.sheetStubs)x.MergeAcross?L=V+1:++L;else if(x.MergeAcross||x.MergeDown){for(var xe=L;xe<=V;++xe)for(var Ie=k;Ie<=ee;++Ie)(xe>L||Ie>k)&&(r.dense?(m[Ie]||(m[Ie]=[]),m[Ie][xe]={t:"z"}):m[Xn(xe)+Ri(Ie)]={t:"z"});L=V+1}else++L;else x=Lue(o[0]),x.Index&&(L=+x.Index-1),L<M.s.c&&(M.s.c=L),L>M.e.c&&(M.e.c=L),o[0].slice(-2)==="/>"&&++L,fe=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<M.s.r&&(M.s.r=k),k>M.e.r&&(M.e.r=k),o[0].slice(-2)==="/>"&&(b=Js(o[0]),b.Index&&(k=+b.Index-1)),L=0,++k):(b=Js(o[0]),b.Index&&(k=+b.Index-1),J={},(b.AutoFitHeight=="0"||b.Height)&&(J.hpx=parseInt(b.Height,10),J.hpt=tB(J.hpx),_e[k]=J),b.Hidden=="1"&&(J.hidden=!0,_e[k]=J));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));p.push(y),M.s.r<=M.e.r&&M.s.c<=M.e.c&&(m["!ref"]=sr(M),r.sheetRows&&r.sheetRows<=M.e.r&&(m["!fullref"]=m["!ref"],M.e.r=r.sheetRows-1,m["!ref"]=sr(M))),O.length&&(m["!merges"]=O),ne.length>0&&(m["!cols"]=ne),_e.length>0&&(m["!rows"]=_e),d[y]=m}else M={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=L=0,c.push([o[3],!1]),u=Js(o[0]),y=or(u.Name),m=r.dense?[]:{},O=[],ae=[],_e=[],q={name:y,Hidden:0},X.Sheets.push(q);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),ne=[],ce=!1}break;case"style":o[1]==="/"?Bue(D,P,r):P=Js(o[0]);break;case"numberformat":P.nf=or(Js(o[0]).Format||"General"),Lp[P.nf]&&(P.nf=Lp[P.nf]);for(var le=0;le!=392&&jt[le]!=P.nf;++le);if(le==392){for(le=57;le!=392;++le)if(jt[le]==null){sf(P.nf,le);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ue=Js(o[0]),ue.Hidden&&(ue.hidden=!0,delete ue.Hidden),ue.Width&&(ue.wpx=parseInt(ue.Width,10)),!ce&&ue.wpx>10){ce=!0,oa=Q9;for(var ge=0;ge<ne.length;++ge)ne[ge]&&ph(ne[ge])}ce&&ph(ue),ne[ue.Index-1||ne.length]=ue;for(var De=0;De<+ue.Span;++De)ne[ne.length]=Pi(ue);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var K=St(o[0]),Ye={Name:K.Name,Ref:eh(K.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Ye.Sheet=X.Sheets.length-1),X.Names.push(Ye);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=Js(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Aie(U,he,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));zue(me),fe.push(me)}else c.push([o[3],!1]),u=Js(o[0]),me={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ue=Js(o[0]);m["!autofilter"]={ref:eh(Ue.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return RM(n,r);var Ke=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ke=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ke=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ke=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ke=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else F=o.index+o[0].length;break;case"header":m["!margins"]||Dp(m["!margins"]={},"xlml"),isNaN(+St(o[0]).Margin)||(m["!margins"].header=+St(o[0]).Margin);break;case"footer":m["!margins"]||Dp(m["!margins"]={},"xlml"),isNaN(+St(o[0]).Margin)||(m["!margins"].footer=+St(o[0]).Margin);break;case"pagemargins":var ze=St(o[0]);m["!margins"]||Dp(m["!margins"]={},"xlml"),isNaN(+ze.Top)||(m["!margins"].top=+ze.Top),isNaN(+ze.Left)||(m["!margins"].left=+ze.Left),isNaN(+ze.Right)||(m["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(m["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ke=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ke=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ke=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ke=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ke=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ke=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ke=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ke=!1}break;case"smarttags":break;default:Ke=!1;break}if(Ke||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?jue(B,he,H,n.slice(F,o.index)):(H=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Le={};return!r.bookSheets&&!r.bookProps&&(Le.Sheets=d),Le.SheetNames=p,Le.Workbook=X,Le.SSF=Pi(jt),Le.Props=U,Le.Custprops=B,Le}function BA(e,t){switch(wC(t=t||{}),t.type||"base64"){case"base64":return yE(us(e),t);case"binary":case"buffer":case"file":return yE(e,t);case"array":return yE(Lf(e),t)}}function $ue(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=nie(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=iie(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Hue=[60,1084,2066,2165,2175];function Gue(e,t,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var c=Il(r,r.l),u=VA[c],d=0;u!=null&&Hue.indexOf(c)>-1;)a=Il(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+a),s.push(o),r.l+=4+a,u=VA[c=Il(r,r.l)];var p=Dc(s);Ii(p,0);var m=0;p.lens=[];for(var y=0;y<s.length;++y)p.lens.push(m),m+=s[y].length;if(p.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,i)}function Mo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=jt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Uf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=tm(e.v):e.w=vf(e.v):e.w=Ms(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Oh(jt[n]||String(n))){var i=Zu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Gv(e,t,r){return{v:e,ixfe:t,t:r}}function que(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},s={},o=null,c=[],u="",d={},p,m="",y,x,b,E,S={},L=[],k,M,D=[],P=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},O=function(Et){return Et<8?of[Et]:Et<64&&P[Et-8]||of[Et]},U=function(Et,rr,Ht){var Vt=rr.XF.data;if(!(!Vt||!Vt.patternType||!Ht||!Ht.cellStyles)){rr.s={},rr.s.patternType=Vt.patternType;var _r;(_r=am(O(Vt.icvFore)))&&(rr.s.fgColor={rgb:_r}),(_r=am(O(Vt.icvBack)))&&(rr.s.bgColor={rgb:_r})}},B=function(Et,rr,Ht){if(!(J>1)&&!(Ht.sheetRows&&Et.r>=Ht.sheetRows)){if(Ht.cellStyles&&rr.XF&&rr.XF.data&&U(Et,rr,Ht),delete rr.ixfe,delete rr.XF,p=Et,m=Rt(Et),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),Et.r<s.s.r&&(s.s.r=Et.r),Et.c<s.s.c&&(s.s.c=Et.c),Et.r+1>s.e.r&&(s.e.r=Et.r+1),Et.c+1>s.e.c&&(s.e.c=Et.c+1),Ht.cellFormula&&rr.f){for(var Vt=0;Vt<L.length;++Vt)if(!(L[Vt][0].s.c>Et.c||L[Vt][0].s.r>Et.r)&&!(L[Vt][0].e.c<Et.c||L[Vt][0].e.r<Et.r)){rr.F=sr(L[Vt][0]),(L[Vt][0].s.c!=Et.c||L[Vt][0].s.r!=Et.r)&&delete rr.f,rr.f&&(rr.f=""+Ui(L[Vt][1],s,Et,ae,F));break}}Ht.dense?(i[Et.r]||(i[Et.r]=[]),i[Et.r][Et.c]=rr):i[m]=rr}},F={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(F.password=t.password);var H,fe=[],me=[],ne=[],ue=[],ce=!1,ae=[];ae.SheetNames=F.snames,ae.sharedf=F.sharedf,ae.arrayf=F.arrayf,ae.names=[],ae.XTI=[];var _e=0,J=0,V=0,ee=[],X=[],q;F.codepage=1200,no(1200);for(var he=!1;e.l<e.length-1;){var xe=e.l,Ie=e.read_shift(2);if(Ie===0&&_e===10)break;var le=e.l===e.length?0:e.read_shift(2),ge=VA[Ie];if(ge&&ge.f){if(t.bookSheets&&_e===133&&Ie!==133)break;if(_e=Ie,ge.r===2||ge.r==12){var De=e.read_shift(2);if(le-=2,!F.enc&&De!==Ie&&((De&255)<<8|De>>8)!==Ie)throw new Error("rt mismatch: "+De+"!="+Ie);ge.r==12&&(e.l+=10,le-=10)}var K={};if(Ie===10?K=ge.f(e,le,F):K=Gue(Ie,ge,e,le,F),J==0&&[9,521,1033,2057].indexOf(_e)===-1)continue;switch(Ie){case 34:r.opts.Date1904=N.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(e.l=0),F.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=K;break;case 66:var Ye=Number(K);switch(Ye){case 21010:Ye=1200;break;case 32768:Ye=1e4;break;case 32769:Ye=1252;break}no(F.codepage=Ye),he=!0;break;case 317:F.rrtabid=K;break;case 25:F.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:F.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(i["!type"]="dialog"),K.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),K.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(K);break;case 430:ae.push([K]),ae[ae.length-1].XTI=[];break;case 35:case 547:ae[ae.length-1].push(K);break;case 24:case 536:q={Name:K.Name,Ref:Ui(K.rgce,s,null,ae,F)},K.itab>0&&(q.Sheet=K.itab-1),ae.names.push(q),ae[0]||(ae[0]=[],ae[0].XTI=[]),ae[ae.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(X[K.itab-1]={ref:sr(K.rgce[0][0][1][2])});break;case 22:F.ExternCount=K;break;case 23:ae.length==0&&(ae[0]=[],ae[0].XTI=[]),ae[ae.length-1].XTI=ae[ae.length-1].XTI.concat(K),ae.XTI=ae.XTI.concat(K);break;case 2196:if(F.biff<8)break;q!=null&&(q.Comment=K[1]);break;case 18:i["!protect"]=K;break;case 19:K!==0&&F.WTF&&console.error("Password verifier: "+K);break;case 133:a[K.pos]=K,F.snames.push(K.name);break;case 10:{if(--J)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=sr(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ue=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=sr(s),s.e.r=Ue}s.e.r++,s.e.c++}fe.length>0&&(i["!merges"]=fe),me.length>0&&(i["!objects"]=me),ne.length>0&&(i["!cols"]=ne),ue.length>0&&(i["!rows"]=ue),N.Sheets.push(I)}u===""?d=i:n[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[Ie]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),F.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(F.biff=5,he=!0,no(F.codepage=28591)),F.biff==8&&K.BIFFVer==0&&K.dt==16&&(F.biff=2),J++)break;if(i=t.dense?[]:{},F.biff<8&&!he&&(he=!0,no(F.codepage=t.codepage||1252)),F.biff<5||K.BIFFVer==0&&K.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ke={pos:e.l-le,name:u};a[Ke.pos]=Ke,F.snames.push(u)}else u=(a[xe]||{name:""}).name;K.dt==32&&(i["!type"]="chart"),K.dt==64&&(i["!type"]="macro"),fe=[],me=[],F.arrayf=L=[],ne=[],ue=[],ce=!1,I={Hidden:(a[xe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[K.r]||[])[K.c]:i[Rt({c:K.c,r:K.r})])&&++K.c,k={ixfe:K.ixfe,XF:D[K.ixfe]||{},v:K.val,t:"n"},V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 5:case 517:k={ixfe:K.ixfe,XF:D[K.ixfe],v:K.val,t:K.t},V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 638:k={ixfe:K.ixfe,XF:D[K.ixfe],v:K.rknum,t:"n"},V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 189:for(var ze=K.c;ze<=K.C;++ze){var Le=K.rkrec[ze-K.c][0];k={ixfe:Le,XF:D[Le],v:K.rkrec[ze-K.c][1],t:"n"},V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:ze,r:K.r},k,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){o=K;break}if(k=Gv(K.val,K.cell.ixfe,K.tt),k.XF=D[k.ixfe],t.cellFormula){var Je=K.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var et=Je[0][0][1][0],ht=Je[0][0][1][1],It=Rt({r:et,c:ht});S[It]?k.f=""+Ui(K.formula,s,K.cell,ae,F):k.F=((t.dense?(i[et]||[])[ht]:i[It])||{}).F}else k.f=""+Ui(K.formula,s,K.cell,ae,F)}V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B(K.cell,k,t),o=K}break;case 7:case 519:if(o)o.val=K,k=Gv(K,o.cell.ixfe,"s"),k.XF=D[k.ixfe],t.cellFormula&&(k.f=""+Ui(o.formula,s,o.cell,ae,F)),V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B(o.cell,k,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(K);var Gr=Rt(K[0].s);if(y=t.dense?(i[K[0].s.r]||[])[K[0].s.c]:i[Gr],t.cellFormula&&y){if(!o||!Gr||!y)break;y.f=""+Ui(K[1],s,K[0],ae,F),y.F=sr(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!o)break;S[Rt(o.cell)]=K[0],y=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[Rt(o.cell)],(y||{}).f=""+Ui(K[0],s,p,ae,F)}}break;case 253:k=Gv(c[K.isst].t,K.ixfe,"s"),c[K.isst].h&&(k.h=c[K.isst].h),k.XF=D[k.ixfe],V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:K.ixfe,XF:D[K.ixfe],t:"z"},V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t));break;case 190:if(t.sheetStubs)for(var Br=K.c;Br<=K.C;++Br){var bt=K.ixfe[Br-K.c];k={ixfe:bt,XF:D[bt],t:"z"},V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:Br,r:K.r},k,t)}break;case 214:case 516:case 4:k=Gv(K.val,K.ixfe,"s"),k.XF=D[k.ixfe],V>0&&(k.z=ee[k.ixfe>>8&63]),Mo(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 0:case 512:J===1&&(s=K);break;case 252:c=K;break;case 1054:if(F.biff==4){ee[V++]=K[1];for(var xr=0;xr<V+163&&jt[xr]!=K[1];++xr);xr>=163&&sf(K[1],V+163)}else sf(K[1],K[0]);break;case 30:{ee[V++]=K;for(var Wt=0;Wt<V+163&&jt[Wt]!=K;++Wt);Wt>=163&&sf(K,V+163)}break;case 229:fe=fe.concat(K);break;case 93:me[K.cmo[0]]=F.lastobj=K;break;case 438:F.lastobj.TxO=K;break;case 127:F.lastobj.ImData=K;break;case 440:for(E=K[0].s.r;E<=K[0].e.r;++E)for(b=K[0].s.c;b<=K[0].e.c;++b)y=t.dense?(i[E]||[])[b]:i[Rt({c:b,r:E})],y&&(y.l=K[1]);break;case 2048:for(E=K[0].s.r;E<=K[0].e.r;++E)for(b=K[0].s.c;b<=K[0].e.c;++b)y=t.dense?(i[E]||[])[b]:i[Rt({c:b,r:E})],y&&y.l&&(y.l.Tooltip=K[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;y=t.dense?(i[K[0].r]||[])[K[0].c]:i[Rt(K[0])];var Er=me[K[2]];y||(t.dense?(i[K[0].r]||(i[K[0].r]=[]),y=i[K[0].r][K[0].c]={t:"z"}):y=i[Rt(K[0])]={t:"z"},s.e.r=Math.max(s.e.r,K[0].r),s.s.r=Math.min(s.s.r,K[0].r),s.e.c=Math.max(s.e.c,K[0].c),s.s.c=Math.min(s.s.c,K[0].c)),y.c||(y.c=[]),x={a:K[1],t:Er.TxO.t},y.c.push(x)}break;case 2173:poe(D[K.ixfe],K.ext);break;case 125:{if(!F.cellStyles)break;for(;K.e>=K.s;)ne[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},ce||(ce=!0,vC(K.w/256)),ph(ne[K.e+1])}break;case 520:{var ft={};K.level!=null&&(ue[K.r]=ft,ft.level=K.level),K.hidden&&(ue[K.r]=ft,ft.hidden=!0),K.hpt&&(ue[K.r]=ft,ft.hpt=K.hpt,ft.hpx=sm(K.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Dp(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ie]]=K;break;case 161:i["!margins"]||Dp(i["!margins"]={}),i["!margins"].header=K.header,i["!margins"].footer=K.footer;break;case 574:K.RTL&&(N.Views[0].RTL=!0);break;case 146:P=K;break;case 2198:H=K;break;case 140:M=K;break;case 442:u?I.CodeName=K||I.name:N.WBProps.CodeName=K||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+Ie.toString(16)),e.l+=le}return r.SheetNames=Wo(a).sort(function(Mt,Et){return Number(Mt)-Number(Et)}).map(function(Mt){return a[Mt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&X.forEach(function(Mt,Et){r.Sheets[r.SheetNames[Et]]["!autofilter"]=Mt}),r.Strings=c,r.SSF=Pi(jt),F.enc&&(r.Encryption=F.enc),H&&(r.Themes=H),r.Metadata={},M!==void 0&&(r.Metadata.Country=M),ae.names.length>0&&(N.Names=ae.names),r.Workbook=N,r}var CM={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Kue(e,t,r){var n=ar.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=uM(n,uie,CM.DSI);for(var a in i)t[a]=i[a]}catch(u){if(r.WTF)throw u}var s=ar.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=uM(s,fie,CM.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(L9(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function xB(e,t){t||(t={}),wC(t),WU(),t.codepage&&eC(t.codepage);var r,n;if(e.FullPaths){if(ar.find(e,"/encryption"))throw new Error("File is password-protected");r=ar.find(e,"!CompObj"),n=ar.find(e,"/Workbook")||ar.find(e,"/Book")}else{switch(t.type){case"base64":e=Zs(us(e));break;case"binary":e=Zs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ii(e,0),n={content:e}}var i,a;if(r&&$ue(r),t.bookProps&&!t.bookSheets)i={};else{var s=tr?"buffer":"array";if(n&&n.content)i=que(n.content,t);else if((a=ar.find(e,"PerfectOffice_MAIN"))&&a.content)i=Op.to_workbook(a.content,(t.type=s,t));else if((a=ar.find(e,"NativeContent_MAIN"))&&a.content)i=Op.to_workbook(a.content,(t.type=s,t));else throw(a=ar.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&ar.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Roe(e))}var o={};return e.FullPaths&&Kue(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var vx={0:{f:Nce},1:{f:Rce},2:{f:Vce},3:{f:Lce},4:{f:Mce},5:{f:Bce},6:{f:Hce},7:{f:jce},8:{f:Yce},9:{f:Wce},10:{f:qce},11:{f:Kce},12:{f:Oce},13:{f:zce},14:{f:Fce},15:{f:Dce},16:{f:pB},17:{f:Gce},18:{f:Uce},19:{f:fC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:wue},40:{},42:{},43:{f:qse},44:{f:Gse},45:{f:Kse},46:{f:Yse},47:{f:Wse},48:{},49:{f:Jne},50:{},51:{f:goe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:W9},62:{f:$ce},63:{f:boe},64:{f:iue},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Wi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nue},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Pce},148:{f:Ice,p:16},151:{f:Zce},152:{},153:{f:_ue},154:{},155:{},156:{f:xue},157:{},158:{},159:{T:1,f:fse},160:{T:-1},161:{T:1,f:jf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Jce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:moe},336:{T:-1},337:{f:voe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:LA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:K9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Qce},427:{f:eue},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rue},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:kce},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Xce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:LA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Ioe},633:{T:1},634:{T:-1},635:{T:1,f:Noe},636:{T:-1},637:{f:Zne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uue},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:aue},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},VA={6:{f:gE},10:{f:kc},12:{f:Vn},13:{f:Vn},14:{f:Cn},15:{f:Cn},16:{f:zi},17:{f:Cn},18:{f:Cn},19:{f:Vn},20:{f:pM},21:{f:pM},23:{f:K9},24:{f:gM},25:{f:Cn},26:{},27:{},28:{f:Sae},29:{},34:{f:Cn},35:{f:mM},38:{f:zi},39:{f:zi},40:{f:zi},41:{f:zi},42:{f:Cn},43:{f:Cn},47:{f:kse},49:{f:oae},51:{f:Vn},60:{},61:{f:iae},64:{f:Cn},65:{f:sae},66:{f:Vn},77:{},80:{},81:{},82:{},85:{f:Vn},89:{},90:{},91:{},92:{f:Jie},93:{f:Nae},94:{},95:{f:Cn},96:{},97:{},99:{f:Cn},125:{f:W9},128:{f:vae},129:{f:Xie},130:{f:Vn},131:{f:Cn},132:{f:Cn},133:{f:Zie},134:{},140:{f:Mae},141:{f:Vn},144:{},146:{f:Lae},151:{},152:{},153:{},154:{},155:{},156:{f:Vn},157:{},158:{},160:{f:Vae},161:{f:jae},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:hae},190:{f:pae},193:{f:kc},197:{},198:{},199:{},200:{},201:{},202:{f:Cn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Vn},220:{},221:{f:Cn},222:{},224:{f:gae},225:{f:Yie},226:{f:kc},227:{},229:{f:Cae},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Qie},253:{f:lae},255:{f:eae},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:V9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Cn},353:{f:kc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:xae},431:{f:Cn},432:{},433:{},434:{},437:{},438:{f:Pae},439:{f:Cn},440:{f:Rae},441:{},442:{f:Um},443:{},444:{f:Vn},445:{},446:{},448:{f:kc},449:{f:nae,r:2},450:{f:kc},512:{f:dM},513:{f:Bae},515:{f:yae},516:{f:cae},517:{f:hM},519:{f:zae},520:{f:tae},523:{},545:{f:vM},549:{f:fM},566:{},574:{f:aae},638:{f:dae},659:{},1048:{},1054:{f:uae},1084:{},1212:{f:Eae},2048:{f:Oae},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:zv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:kc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Fae,r:12},2173:{f:hoe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Cn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:wae,r:12},2197:{},2198:{f:ooe,r:12},2199:{},2200:{},2201:{},2202:{f:Tae,r:12},2203:{f:kc},2204:{},2205:{},2206:{},2207:{},2211:{f:rae},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Vn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Uae},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Dae},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:dM},1:{},2:{f:qae},3:{f:Gae},4:{f:Hae},5:{f:hM},7:{f:Kae},8:{},9:{f:zv},11:{},22:{f:Vn},30:{f:fae},31:{},32:{},33:{f:vM},36:{},37:{f:fM},50:{f:Wae},62:{},52:{},67:{},68:{f:Vn},69:{},86:{},126:{},127:{f:$ae},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Yae},223:{},234:{},354:{},421:{},518:{f:gE},521:{f:zv},536:{f:gM},547:{f:mM},561:{},579:{},1030:{f:gE},1033:{f:zv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Xs(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&N9(r)&&e.push(r)}}function NM(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,c=yne(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,p=0,m=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(s=0;s<c.length;++s){var b=c[s].trim(),E=b.slice(0,3).toLowerCase();if(E=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(E!="<td"&&E!="<th")){var S=b.split(/<\/t[dh]>/i);for(o=0;o<S.length;++o){var L=S[o].trim();if(L.match(/<t[dh]/i)){for(var k=L,M=0;k.charAt(0)=="<"&&(M=k.indexOf(">"))>-1;)k=k.slice(M+1);for(var D=0;D<x.length;++D){var P=x[D];P.s.c==d&&P.s.r<u&&u<=P.e.r&&(d=P.e.c+1,D=-1)}var N=St(L.slice(0,L.indexOf(">")));m=N.colspan?+N.colspan:1,((p=+N.rowspan)>1||m>1)&&x.push({s:{r:u,c:d},e:{r:u+(p||1)-1,c:d+m-1}});var I=N.t||N["data-t"]||"";if(!k.length){d+=m;continue}if(k=m9(k),y.s.r>u&&(y.s.r=u),y.e.r<u&&(y.e.r=u),y.s.c>d&&(y.s.c=d),y.e.c<d&&(y.e.c=d),!k.length){d+=m;continue}var O={t:"s",v:k};r.raw||!k.trim().length||I=="s"||(k==="TRUE"?O={t:"b",v:!0}:k==="FALSE"?O={t:"b",v:!1}:isNaN(oo(k))?isNaN(hh(k).getDate())||(O={t:"d",v:hi(k)},r.cellDates||(O={t:"n",v:pa(O.v)}),O.z=r.dateNF||jt[14]):O={t:"n",v:oo(k)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=O):n[Rt({r:u,c:d})]=O,d+=m}}}}return n["!ref"]=sr(y),x.length&&(n["!merges"]=x),n}function Wue(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Rt({r,c:s}),p=n.dense?(e[r]||[])[s]:e[d],m=p&&p.v!=null&&(p.h||sC(p.w||(Fl(p),p.w)||""))||"",y={};o>1&&(y.rowspan=o),c>1&&(y.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":p&&(y["data-t"]=p&&p.t||"z",p.v!=null&&(y["data-v"]=p.v),p.z!=null&&(y["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+p.l.Target+'">'+m+"</a>")),y.id=(n.id||"sjs")+"-"+d,a.push(Mne("td",m,y))}}var x="<tr>";return x+a.join("")+"</tr>"}var Yue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Jue="</body></html>";function Xue(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return hu(NM(r[0],t),t);var n=TC();return r.forEach(function(i,a){AC(n,NM(i,t),"Sheet"+(a+1))}),n}function Zue(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Que(e,t){var r=t||{},n=r.header!=null?r.header:Yue,i=r.footer!=null?r.footer:Jue,a=[n],s=Mh(e["!ref"]);r.dense=Array.isArray(e),a.push(Zue(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(Wue(e,s,o,r));return a.push("</table>"+i),a.join("")}function _B(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?ua(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=Mh(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var p=[],m=0,y=e["!rows"]||(e["!rows"]=[]),x=0,b=0,E=0,S=0,L=0,k=0;for(e["!cols"]||(e["!cols"]=[]);x<o.length&&b<c;++x){var M=o[x];if(IM(M)){if(n.display)continue;y[b]={hidden:!0}}var D=M.children;for(E=S=0;E<D.length;++E){var P=D[E];if(!(n.display&&IM(P))){var N=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):m9(P.innerHTML),I=P.getAttribute("data-z")||P.getAttribute("z");for(m=0;m<p.length;++m){var O=p[m];O.s.c==S+a&&O.s.r<b+i&&b+i<=O.e.r&&(S=O.e.c+1-a,m=-1)}k=+P.getAttribute("colspan")||1,((L=+P.getAttribute("rowspan")||1)>1||k>1)&&p.push({s:{r:b+i,c:S+a},e:{r:b+i+(L||1)-1,c:S+a+(k||1)-1}});var U={t:"s",v:N},B=P.getAttribute("data-t")||P.getAttribute("t")||"";N!=null&&(N.length==0?U.t=B||"z":n.raw||N.trim().length==0||B=="s"||(N==="TRUE"?U={t:"b",v:!0}:N==="FALSE"?U={t:"b",v:!1}:isNaN(oo(N))?isNaN(hh(N).getDate())||(U={t:"d",v:hi(N)},n.cellDates||(U={t:"n",v:pa(U.v)}),U.z=n.dateNF||jt[14]):U={t:"n",v:oo(N)})),U.z===void 0&&I!=null&&(U.z=I);var F="",H=P.getElementsByTagName("A");if(H&&H.length)for(var fe=0;fe<H.length&&!(H[fe].hasAttribute("href")&&(F=H[fe].getAttribute("href"),F.charAt(0)!="#"));++fe);F&&F.charAt(0)!="#"&&(U.l={Target:F}),n.dense?(e[b+i]||(e[b+i]=[]),e[b+i][S+a]=U):e[Rt({c:S+a,r:b+i})]=U,u.e.c<S+a&&(u.e.c=S+a),S+=k}}++b}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,b-1+i),e["!ref"]=sr(u),b>=c&&(e["!fullref"]=sr((u.e.r=o.length-x+b-1+i,u))),e}function bB(e,t){var r=t||{},n=r.dense?[]:{};return _B(n,e,t)}function efe(e,t){return hu(bB(e,t),t)}function IM(e){var t="",r=tfe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function tfe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function rfe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=or(t.replace(/<[^>]*>/g,""));return[r]}var kM={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function wB(e,t){var r=t||{},n=oC(e),i=[],a,s,o={name:""},c="",u=0,d,p,m={},y=[],x=r.dense?[]:{},b,E,S={value:""},L="",k=0,M=[],D=-1,P=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,O={},U=[],B={},F=0,H=0,fe=[],me=1,ne=1,ue=[],ce={Names:[]},ae={},_e=["",""],J=[],V={},ee="",X=0,q=!1,he=!1,xe=0;for(nm.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=nm.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?x["!ref"]=sr(N):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(x["!fullref"]=x["!ref"],N.e.r=r.sheetRows-1,x["!ref"]=sr(N)),U.length&&(x["!merges"]=U),fe.length&&(x["!rows"]=fe),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),y.push(d.name),m[d.name]=x,he=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=St(b[0],!1),D=P=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,x=r.dense?[]:{},U=[],fe=[],he=!0);break;case"table-row-group":b[1]==="/"?--I:++I;break;case"table-row":case"":if(b[1]==="/"){D+=me,me=1;break}if(p=St(b[0],!1),p.?D=p.-1:D==-1&&(D=0),me=+p["number-rows-repeated"]||1,me<10)for(xe=0;xe<me;++xe)I>0&&(fe[D+xe]={level:I});P=-1;break;case"covered-table-cell":b[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(x[D]||(x[D]=[]),x[D][P]={t:"z"}):x[Rt({r:D,c:P})]={t:"z"}),L="",M=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++P,S=St(b[0],!1),ne=parseInt(S["number-columns-repeated"]||"1",10),E={t:"z",v:null},S.formula&&r.cellFormula!=!1&&(E.f=TM(or(S.formula))),(S.||S["value-type"])=="string"&&(E.t="s",E.v=or(S["string-value"]||""),r.dense?(x[D]||(x[D]=[]),x[D][P]=E):x[Rt({r:D,c:P})]=E),P+=ne-1;else if(b[1]!=="/"){++P,L="",k=0,M=[],ne=1;var Ie=me?D+me-1:D;if(P>N.e.c&&(N.e.c=P),P<N.s.c&&(N.s.c=P),D<N.s.r&&(N.s.r=D),Ie>N.e.r&&(N.e.r=Ie),S=St(b[0],!1),J=[],V={},E={t:S.||S["value-type"],v:null},r.cellFormula)if(S.formula&&(S.formula=or(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(F=parseInt(S["number-matrix-rows-spanned"],10)||0,H=parseInt(S["number-matrix-columns-spanned"],10)||0,B={s:{r:D,c:P},e:{r:D+F-1,c:P+H-1}},E.F=sr(B),ue.push([B,E.F])),S.formula)E.f=TM(S.formula);else for(xe=0;xe<ue.length;++xe)D>=ue[xe][0].s.r&&D<=ue[xe][0].e.r&&P>=ue[xe][0].s.c&&P<=ue[xe][0].e.c&&(E.F=ue[xe][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(F=parseInt(S["number-rows-spanned"],10)||0,H=parseInt(S["number-columns-spanned"],10)||0,B={s:{r:D,c:P},e:{r:D+F-1,c:P+H-1}},U.push(B)),S["number-columns-repeated"]&&(ne=parseInt(S["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=tn(S["boolean-value"]);break;case"float":E.t="n",E.v=parseFloat(S.value);break;case"percentage":E.t="n",E.v=parseFloat(S.value);break;case"currency":E.t="n",E.v=parseFloat(S.value);break;case"date":E.t="d",E.v=hi(S["date-value"]),r.cellDates||(E.t="n",E.v=pa(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=mne(S["time-value"])/86400,r.cellDates&&(E.t="d",E.v=V1(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(S.);break;default:if(E.t==="string"||E.t==="text"||!E.t)E.t="s",S["string-value"]!=null&&(L=or(S["string-value"]),M=[]);else throw new Error("Unsupported value type "+E.t)}}else{if(q=!1,E.t==="s"&&(E.v=L||"",M.length&&(E.R=M),q=k==0),ae.Target&&(E.l=ae),J.length>0&&(E.c=J,J=[]),L&&r.cellText!==!1&&(E.w=L),q&&(E.t="z",delete E.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=D))for(var le=0;le<me;++le){if(ne=parseInt(S["number-columns-repeated"]||"1",10),r.dense)for(x[D+le]||(x[D+le]=[]),x[D+le][P]=le==0?E:Pi(E);--ne>0;)x[D+le][P+ne]=Pi(E);else for(x[Rt({r:D+le,c:P})]=E;--ne>0;)x[Rt({r:D+le,c:P+ne})]=Pi(E);N.e.c<=P&&(N.e.c=P)}ne=parseInt(S["number-columns-repeated"]||"1",10),P+=ne-1,ne=0,E={},L="",M=[]}ae={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a;V.t=L,M.length&&(V.R=M),V.a=ee,J.push(V)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);ee="",X=0,L="",k=0,M=[];break;case"creator":b[1]==="/"?ee=n.slice(X,b.index):X=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);L="",k=0,M=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(O[o.name]=c,(a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(c="",o=St(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=St(b[0],!1),c+=kM[b[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=St(b[0],!1),c+=kM[b[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,b.index);break}else u=b.index+b[0].length;break;case"named-range":s=St(b[0],!1),_e=vE(s["cell-range-address"]);var ge={Name:s.name,Ref:_e[0]+"!"+_e[1]};he&&(ge.Sheet=y.length),ce.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!S||!S["string-value"])){var De=rfe(n.slice(k,b.index));L=(L.length>0?L+`
`:"")+De[0]}else St(b[0],!1),k=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{_e=vE(St(b[0])["target-range-address"]),m[_e[0]]["!autofilter"]={ref:_e[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(ae=St(b[0],!1),!ae.href)break;ae.Target=or(ae.href),delete ae.href,ae.Target.charAt(0)=="#"&&ae.Target.indexOf(".")>-1?(_e=vE(ae.Target.slice(1)),ae.Target="#"+_e[0]+"!"+_e[1]):ae.Target.match(/^\.\.[\\\/]/)&&(ae.Target=ae.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var K={Sheets:m,SheetNames:y,Workbook:ce};return r.bookSheets&&delete K.Sheets,K}function PM(e,t){t=t||{},Is(e,"META-INF/manifest.xml")&&yie(Bn(e,"META-INF/manifest.xml"),t);var r=ns(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=wB($r(r),t);return Is(e,"meta.xml")&&(n.Props=D9(Bn(e,"meta.xml"))),n}function RM(e,t){return wB(e,t)}function _C(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zA(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):$r(Lf(e))}function $A(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function OM(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function nfe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function om(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Zn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function $i(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=om(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=om(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function bC(e,t){return e?.map(function(r){return t(r.data)})||[]}function ife(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=om(e,n),a=$i(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:Zn(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=$i(o.data),u=Zn(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=Zn(a[3][0].data)>>>0>0),r.push(s)}return r}function afe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=om(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[$A(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=$A(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function sfe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(afe(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return $A(t)}function ofe(e,t,r,n){var i=_C(e),a=i.getUint32(4,!0),s=(n>1?12:8)+OM(a&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=OM(a&(n>1?12288:4096))*4,a&16&&(c=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(d.setTime(d.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var p;switch(e[2]){case 0:break;case 2:p={t:"n",v:u};break;case 3:p={t:"s",v:t[c]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else if(c>-1)p={t:"s",v:t[c]};else if(!isNaN(u))p={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return p}function lfe(e,t,r){var n=_C(e),i=n.getUint32(8,!0),a=12,s=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(c=nfe(e,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var p;switch(e[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:t[o]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:u>0};break;case 7:p={t:"n",v:u/86400};break;case 8:p={t:"e",v:0};break;case 9:if(s>-1)p={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return p}function cfe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return ofe(e,t,r,e[0]);case 5:return lfe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Hc(e){var t=$i(e);return om(t[1][0].data)}function MM(e,t){var r=$i(t.data),n=Zn(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=$i(s.data),c=Zn(o[1][0].data)>>>0;switch(n){case 1:a[c]=zA(o[3][0].data);break;case 8:{var u=e[Hc(o[9][0].data)][0],d=$i(u.data),p=e[Hc(d[1][0].data)][0],m=Zn(p.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var y=$i(p.data);a[c]=y[3].map(function(x){return zA(x.data)}).join("")}break}}),a}function ufe(e,t){var r,n,i,a,s,o,c,u,d,p,m,y,x,b,E=$i(e),S=Zn(E[1][0].data)>>>0,L=Zn(E[2][0].data)>>>0,k=((n=(r=E[8])==null?void 0:r[0])==null?void 0:n.data)&&Zn(E[8][0].data)>0||!1,M,D;if((a=(i=E[7])==null?void 0:i[0])!=null&&a.data&&t!=0)M=(o=(s=E[7])==null?void 0:s[0])==null?void 0:o.data,D=(u=(c=E[6])==null?void 0:c[0])==null?void 0:u.data;else if((p=(d=E[4])==null?void 0:d[0])!=null&&p.data&&t!=1)M=(y=(m=E[4])==null?void 0:m[0])==null?void 0:y.data,D=(b=(x=E[3])==null?void 0:x[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=k?4:1,N=_C(M),I=[],O=0;O<M.length/2;++O){var U=N.getUint16(O*2,!0);U<65535&&I.push([O,U])}if(I.length!=L)throw"Expected ".concat(L," cells, found ").concat(I.length);var B=[];for(O=0;O<I.length-1;++O)B[I[O][0]]=D.subarray(I[O][1]*P,I[O+1][1]*P);return I.length>=1&&(B[I[I.length-1][0]]=D.subarray(I[I.length-1][1]*P)),{R:S,cells:B}}function ffe(e,t){var r,n=$i(t.data),i=(r=n?.[7])!=null&&r[0]?Zn(n[7][0].data)>>>0>0?1:0:-1,a=bC(n[5],function(s){return ufe(s,i)});return{nrows:Zn(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function dfe(e,t,r){var n,i=$i(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Zn(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Zn(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=sr(a);var s=$i(i[4][0].data),o=MM(e,e[Hc(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?MM(e,e[Hc(s[17][0].data)][0]):[],u=$i(s[3][0].data),d=0;u[1].forEach(function(p){var m=$i(p.data),y=e[Hc(m[2][0].data)][0],x=Zn(y.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var b=ffe(e,y);b.data.forEach(function(E,S){E.forEach(function(L,k){var M=Rt({r:d+S,c:k}),D=cfe(L,o,c);D&&(r[M]=D)})}),d+=b.nrows})}function hfe(e,t){var r=$i(t.data),n={"!ref":"A1"},i=e[Hc(r[2][0].data)],a=Zn(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return dfe(e,i[0],n),n}function pfe(e,t){var r,n=$i(t.data),i={name:(r=n[1])!=null&&r[0]?zA(n[1][0].data):"",sheets:[]},a=bC(n[2],Hc);return a.forEach(function(s){e[s].forEach(function(o){var c=Zn(o.meta[1][0].data);c==6e3&&i.sheets.push(hfe(e,o))})}),i}function mfe(e,t){var r=TC(),n=$i(t.data),i=bC(n[1],Hc);if(i.forEach(function(a){e[a].forEach(function(s){var o=Zn(s.meta[1][0].data);if(o==2){var c=pfe(e,s);c.sheets.forEach(function(u,d){AC(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function xE(e){var t,r,n,i,a={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=sfe(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var d;try{d=ife(u)}catch(p){return console.log("## "+(p.message||p))}d.forEach(function(p){a[p.id]=p.messages,s.push(p.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(t=a?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Zn(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(c){a[c].forEach(function(u){var d=Zn(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return mfe(a,o)}function gfe(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function wC(e){gfe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function vfe(e){return Hd.WS.indexOf(e)>-1?"sheet":e==Hd.CS?"chart":e==Hd.DS?"dialog":e==Hd.MS?"macro":e&&e.length?e:"sheet"}function yfe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,vfe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function xfe(e,t,r,n,i,a,s,o,c,u,d,p){try{a[n]=Pp(ns(e,r,!0),t);var m=Bn(e,t),y;switch(o){case"sheet":y=Aue(m,t,i,c,a[n],u,d,p);break;case"chart":if(y=Sue(m,t,i,c,a[n],u,d,p),!y||!y["!drawel"])break;var x=hp(y["!drawel"].Target,t),b=FA(x),E=Toe(ns(e,x,!0),Pp(ns(e,b,!0),x)),S=hp(E,x),L=FA(S);y=lue(ns(e,S,!0),S,c,Pp(ns(e,L,!0),S),u,y);break;case"macro":y=Cue(m,t,i,c,a[n],u,d,p);break;case"dialog":y=Nue(m,t,i,c,a[n],u,d,p);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=y;var k=[];a&&a[n]&&Wo(a[n]).forEach(function(M){var D="";if(a[n][M].Type==Hd.CMNT){D=hp(a[n][M].Target,t);var P=Rue(Bn(e,D,!0),D,c);if(!P||!P.length)return;xM(y,P,!1)}a[n][M].Type==Hd.TCMNT&&(D=hp(a[n][M].Target,t),k=k.concat(Soe(Bn(e,D,!0),c)))}),k&&k.length&&xM(y,k,!0,c.people||[])}catch(M){if(c.WTF)throw M}}function Es(e){return e.charAt(0)=="/"?e.slice(1):e}function _fe(e,t){if(s9(),t=t||{},wC(t),Is(e,"META-INF/manifest.xml")||Is(e,"objectdata.xml"))return PM(e,t);if(Is(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof xE<"u"){if(e.FileIndex)return xE(e);var r=ar.utils.cfb_new();return q4(e).forEach(function(fe){bne(r,fe,_ne(e,fe))}),xE(r)}throw new Error("Unsupported NUMBERS file")}if(!Is(e,"[Content_Types].xml"))throw Is(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Is(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=q4(e),i=gie(ns(e,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Bn(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Bn(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Mp=[],i.sst)try{Mp=Pue(Bn(e,Es(i.sst)),i.sst,t)}catch(fe){if(t.WTF)throw fe}t.cellStyles&&i.themes.length&&(c=kue(ns(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=Iue(Bn(e,Es(i.style)),i.style,c,t))}i.links.map(function(fe){try{var me=Pp(ns(e,FA(Es(fe))),fe);return Mue(Bn(e,Es(fe)),me,fe,t)}catch{}});var d=Tue(Bn(e,Es(i.workbooks[0])),i.workbooks[0],t),p={},m="";i.coreprops.length&&(m=Bn(e,Es(i.coreprops[0]),!0),m&&(p=D9(m)),i.extprops.length!==0&&(m=Bn(e,Es(i.extprops[0]),!0),m&&bie(m,p,t)));var y={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(m=ns(e,Es(i.custprops[0]),!0),m&&(y=Eie(m,t)));var x={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(me){return me.name}):p.Worksheets&&p.SheetNames.length>0&&(s=p.SheetNames),t.bookProps&&(x.Props=p,x.Custprops=y),t.bookSheets&&typeof s<"u"&&(x.SheetNames=s),t.bookSheets?x.SheetNames:t.bookProps))return x;s={};var b={};t.bookDeps&&i.calcchain&&(b=Oue(Bn(e,Es(i.calcchain)),i.calcchain));var E=0,S={},L,k;{var M=d.Sheets;p.Worksheets=M.length,p.SheetNames=[];for(var D=0;D!=M.length;++D)p.SheetNames[D]=M[D].name}var P=a?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Is(e,I)||(I="xl/_rels/workbook."+P+".rels");var O=Pp(ns(e,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=Due(Bn(e,Es(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=Coe(Bn(e,Es(i.people[0])),t)),O&&(O=yfe(O,d.Sheets));var U=Bn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(E=0;E!=p.Worksheets;++E){var B="sheet";if(O&&O[E]?(L="xl/"+O[E][1].replace(/[\/]?xl\//,""),Is(e,L)||(L=O[E][1]),Is(e,L)||(L=I.replace(/_rels\/.*$/,"")+O[E][1]),B=O[E][2]):(L="xl/worksheets/sheet"+(E+1-U)+"."+P,L=L.replace(/sheet0\./,"sheet.")),k=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(E!=t.sheets)continue e;break;case"string":if(p.SheetNames[E].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var F=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==E&&(F=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==p.SheetNames[E].toLowerCase()&&(F=1);if(!F)continue e}}xfe(e,L,k,p.SheetNames[E],E,S,s,B,t,d,c,u)}return x={Directory:i,Workbook:d,Props:p,Custprops:y,Deps:b,Sheets:s,SheetNames:p.SheetNames,Strings:Mp,Styles:u,Themes:c,SSF:Pi(jt)},t&&t.bookFiles&&(e.files?(x.keys=n,x.files=e.files):(x.keys=[],x.files={},e.FullPaths.forEach(function(fe,me){fe=fe.replace(/^Root Entry[\/]/,""),x.keys.push(fe),x.files[fe]=e.FileIndex[me]}))),t&&t.bookVBA&&(i.vba.length>0?x.vbaraw=Bn(e,Es(i.vba[0]),!0):i.defaults&&i.defaults.bin===Poe&&(x.vbaraw=Bn(e,"xl/vbaProject.bin",!0))),x}function bfe(e,t){var r=t||{},n="Workbook",i=ar.find(e,n);try{if(n="/!DataSpaces/Version",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(hse(i.content),n="/!DataSpaces/DataSpaceMap",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=mse(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=gse(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);yse(i.content)}catch{}if(n="/EncryptionInfo",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=xse(i.content);if(n="/EncryptedPackage",i=ar.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function EC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=us(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function wfe(e,t){return ar.find(e,"EncryptedPackage")?bfe(e,t):xB(e,t)}function Efe(e,t){var r,n=e,i=t||{};return i.type||(i.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),r=d9(n,i),_fe(r,i)}function EB(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return BA(e.slice(r),t);default:break e}return im.to_workbook(e,t)}function Tfe(e,t){var r="",n=EC(e,t);switch(t.type){case"base64":r=us(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=yf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=$r(r)),t.type="binary",EB(r,t)}function Afe(e,t){var r=e;return t.type=="base64"&&(r=us(r)),r=em.utils.decode(1200,r.slice(2),"str"),t.type="binary",EB(r,t)}function Sfe(e){return e.match(/[^\x00-\x7F]/)?pp(e):e}function _E(e,t,r,n){return n?(r.type="string",im.to_workbook(e,r)):im.to_workbook(t,r)}function yx(e,t){WU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return yx(new Uint8Array(e),(r=Pi(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),th={},r.dateNF&&(th.dateNF=r.dateNF),r.type||(r.type=tr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=tr?"buffer":"binary",n=hne(e),typeof Uint8Array<"u"&&!tr&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=Sfe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Pi(r),r.type="array",yx(tC(n),r)}switch((i=EC(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return wfe(ar.read(n,r),r);break;case 9:if(i[1]<=8)return xB(n,r);break;case 60:return BA(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return ese(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Zae.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Efe(n,r):_E(e,n,r,a);case 239:return i[3]===60?BA(n,r):_E(e,n,r,a);case 255:if(i[1]===254)return Afe(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Op.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Op.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return yM.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Pse.to_workbook(n,r);break;case 10:case 13:case 32:return Tfe(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Jae.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?yM.to_workbook(n,r):_E(e,n,r,a)}function Cfe(e,t,r,n,i,a,s,o){var c=Ri(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||e[r])for(var y=t.s.c;y<=t.e.c;++y){var x=s?e[r][y]:e[n[y]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;a[y]!=null&&(m[a[y]]=u);continue}var b=x.v;switch(x.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[y]!=null){if(b==null)if(x.t=="e"&&b===null)m[a[y]]=null;else if(u!==void 0)m[a[y]]=u;else if(d&&b===null)m[a[y]]=null;else continue;else m[a[y]]=d&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?b:Fl(x,b,o);b!=null&&(p=!1)}}return{row:m,isempty:p}}function HA(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=yn(d);break;case"number":c=yn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var p=Ri(c.s.r),m=[],y=[],x=0,b=0,E=Array.isArray(e),S=c.s.r,L=0,k={};E&&!e[S]&&(e[S]=[]);var M=u.skipHidden&&e["!cols"]||[],D=u.skipHidden&&e["!rows"]||[];for(L=c.s.c;L<=c.e.c;++L)if(!(M[L]||{}).hidden)switch(m[L]=Xn(L),r=E?e[S][L]:e[m[L]+p],n){case 1:a[L]=L-c.s.c;break;case 2:a[L]=m[L];break;case 3:a[L]=u.header[L-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Fl(r,null,u),b=k[s]||0,!b)k[s]=1;else{do o=s+"_"+b++;while(k[o]);k[s]=b,k[o]=1}a[L]=o}for(S=c.s.r+i;S<=c.e.r;++S)if(!(D[S]||{}).hidden){var P=Cfe(e,c,S,m,n,a,E,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(y[x++]=P.row)}return y.length=x,y}var DM=/"/g;function Nfe(e,t,r,n,i,a,s,o){for(var c=!0,u=[],d="",p=Ri(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var y=o.dense?(e[r]||[])[m]:e[n[m]+p];if(y==null)d="";else if(y.v!=null){c=!1,d=""+(o.rawNumbers&&y.t=="n"?y.v:Fl(y,null,o));for(var x=0,b=0;x!==d.length;++x)if((b=d.charCodeAt(x))===i||b===a||b===34||o.forceQuotes){d='"'+d.replace(DM,'""')+'"';break}d=="ID"&&(d='"ID"')}else y.f!=null&&!y.F?(c=!1,d="="+y.f,d.indexOf(",")>=0&&(d='"'+d.replace(DM,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function TB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=yn(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",p=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(m[x]||{}).hidden||(p[x]=Xn(x));for(var b=0,E=i.s.r;E<=i.e.r;++E)(y[E]||{}).hidden||(d=Nfe(e,i,E,p,s,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((b++?o:"")+d)));return delete n.dense,r.join("")}function Ife(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=TB(e,t);return r}function kfe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=yn(e["!ref"]),a="",s=[],o,c=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=Xn(o);for(var d=i.s.r;d<=i.e.r;++d)for(a=Ri(d),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function AB(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?ua(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var p=yn(a["!ref"]);d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),s==-1&&(s=p.e.r+1,d.e.r=s+t.length-1+i)}else s==-1&&(s=0,d.e.r=t.length-1+i);var m=n.header||[],y=0;t.forEach(function(b,E){Wo(b).forEach(function(S){(y=m.indexOf(S))==-1&&(m[y=m.length]=S);var L=b[S],k="z",M="",D=Rt({c:o+y,r:s+E+i});u=lm(a,D),L&&typeof L=="object"&&!(L instanceof Date)?a[D]=L:(typeof L=="number"?k="n":typeof L=="boolean"?k="b":typeof L=="string"?k="s":L instanceof Date?(k="d",n.cellDates||(k="n",L=pa(L)),M=n.dateNF||jt[14]):L===null&&n.nullError&&(k="e",L=0),u?(u.t=k,u.v=L,delete u.w,delete u.R,M&&(u.z=M)):a[D]=u={t:k,v:L},M&&(u.z=M))})}),d.e.c=Math.max(d.e.c,o+m.length-1);var x=Ri(s);if(i)for(y=0;y<m.length;++y)a[Xn(y+o)+x]={t:"s",v:m[y]};return a["!ref"]=sr(d),a}function Pfe(e,t){return AB(null,e,t)}function lm(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ua(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?lm(e,Rt(t)):lm(e,Rt({r:t,c:r||0}))}function Rfe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function TC(){return{SheetNames:[],Sheets:{}}}function AC(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(gue(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Ofe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Rfe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Mfe(e,t){return e.z=t,e}function SB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Dfe(e,t,r){return SB(e,"#"+t,r)}function Lfe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Ffe(e,t,r,n){for(var i=typeof t!="string"?t:yn(t),a=typeof t=="string"?t:sr(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=lm(e,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var mp={encode_col:Xn,encode_row:Ri,encode_cell:Rt,encode_range:sr,decode_col:uC,decode_row:cC,split_cell:Yne,decode_cell:ua,decode_range:Mh,format_cell:Fl,sheet_add_aoa:k9,sheet_add_json:AB,sheet_add_dom:_B,aoa_to_sheet:Dh,json_to_sheet:Pfe,table_to_sheet:bB,table_to_book:efe,sheet_to_csv:TB,sheet_to_txt:Ife,sheet_to_json:HA,sheet_to_html:Que,sheet_to_formulae:kfe,sheet_to_row_object_array:HA,sheet_get_cell:lm,book_new:TC,book_append_sheet:AC,book_set_sheet_visibility:Ofe,cell_set_number_format:Mfe,cell_set_hyperlink:SB,cell_set_internal_link:Dfe,cell_add_comment:Lfe,sheet_set_array_formula:Ffe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const CB=e=>String(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),jfe=e=>{if(e==null)return 0;if(typeof e=="number")return e;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},LM=e=>{if(!e)return 0;if(typeof e=="number")return e;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},Ufe=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=yx(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o];if(!c["!ref"]){t([]);return}const u=mp.decode_range(c["!ref"]),d=[],p=[],m=u.s.r;for(let y=u.s.c;y<=u.e.c;++y){const x=mp.encode_cell({c:y,r:m}),b=c[x];if(b&&b.v){const E=String(b.v);p.push({index:y,name:E,normalized:CB(E)})}}for(let y=m+1;y<=u.e.r;++y){const x={};let b;if(p.forEach(F=>{const H=mp.encode_cell({c:F.index,r:y}),fe=c[H];fe&&(x[F.normalized]=fe.v,!b&&(F.normalized.includes("endereco")||F.normalized.includes("logradouro")||F.normalized.includes("localizacao")||F.normalized.includes("comercial")||F.normalized==="rua"||F.normalized==="mapa"||F.normalized==="link")&&fe.l&&fe.l.Target&&(b=fe.l.Target))}),Object.keys(x).length===0)continue;const E=x.endereco||x["endereco comercial"]||x.logradouro||x.localizacao||x["endereco completo"]||x.rua||x.end||"";let{address:S,link:L,lat:k,lng:M}=sx(E),D=b||L;const P=x.link||x.mapa||x["google maps"]||x.url||x.maps||x.coordenadas||x.geolocalizacao;let N;p.forEach(F=>{if(["link","mapa","google maps","url","maps","coordenadas","geolocalizacao"].includes(F.normalized)){const H=mp.encode_cell({c:F.index,r:y}),fe=c[H];fe&&fe.l&&fe.l.Target&&(N=fe.l.Target)}});const I=N||P;if(I){const F=sx(I);F.link&&(D=F.link),F.lat&&(k=F.lat),F.lng&&(M=F.lng)}const O=x["razao social"]||x.cliente||x["nome fantasia"]||x.empresa||x.nome||x["nome cliente"]||x.parceiro||x.loja||"",U=x["nome do proprietario"]||x.proprietario||x.dono||x["contato principal"]||x.responsavel||x.socio||"",B=String(x.contato||x.telefone||x.celular||x.whatsapp||x.tel||x.fone||"");(O||S||E)&&d.push({companyName:O,ownerName:U,phone:B,address:S,googleMapsLink:D,latitude:k,longitude:M})}t(d)}catch(a){console.error("Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)}),NB=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=yx(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o],u=[];mp.sheet_to_json(c,{defval:""}).forEach(p=>{const m={};Object.keys(p).forEach(D=>{m[CB(D)]=p[D]});const y=m.departamento||m.categoria||"Geral",x=String(m["cod.prod / sku"]||m["cod.prod"]||m.sku||m["numero do sku"]||""),b=m["nome do produto"]||m.descricao||m.nome||m.produto||"",E=m.marca||m.fabricante||"Genrico",S=jfe(m["preco de venda"]||m.preco||0),L=String(m["cod.fabrica"]||m["cod fabrica"]||m["codigo fabrica"]||""),k=LM(m.margem||0),M=LM(m.desconto||m.discount||0);(x||b)&&u.push({category:y,sku:x,brand:E,factoryCode:L,name:b,price:S,margin:k,discount:M})}),t(u)}catch(a){console.error("Product Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)});var Bfe={};let Vfe,zfe;function $fe(){return{geminiUrl:Vfe,vertexUrl:zfe}}function Hfe(e,t,r,n){var i,a;if(!e?.baseUrl){const s=$fe();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:r:(a=s.geminiUrl)!==null&&a!==void 0?a:n}return e.baseUrl}class Jl{}function tt(e,t){const r=/\{([^}]+)\}/g;return e.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(e,t,r){for(let a=0;a<t.length-1;a++){const s=t[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[o])){const c=e[o];if(Array.isArray(r))for(let u=0;u<c.length;u++){const d=c[u];w(d,t.slice(a+1),r[u])}else for(const u of c)w(u,t.slice(a+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in e||(e[o]=[{}]);const c=e[o];w(c[0],t.slice(a+1),r);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const n=t[t.length-1],i=e[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(e,r):e[n]=r}function _(e,t,r=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return r;const i=t[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const s=e[a];return Array.isArray(s)?s.map(o=>_(o,t.slice(n+1),r)):r}else return r}else e=e[i]}return e}catch(n){if(n instanceof TypeError)return r;throw n}}function Gfe(e,t){for(const[r,n]of Object.entries(t)){const i=r.split("."),a=n.split("."),s=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&a.length>o)for(let c=o;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}GA(e,i,a,0,s)}}function GA(e,t,r,n,i){if(n>=t.length||typeof e!="object"||e===null)return;const a=t[n];if(a.endsWith("[]")){const s=a.slice(0,-2),o=e;if(s in o&&Array.isArray(o[s]))for(const c of o[s])GA(c,t,r,n+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,o=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of o)c[u]=s[u];for(const[u,d]of Object.entries(c)){const p=[];for(const m of r.slice(n))m==="*"?p.push(u):p.push(m);w(s,p,d)}for(const u of o)delete s[u]}}else{const s=e;a in s&&GA(s[a],t,r,n+1,i)}}function SC(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function qfe(e){const t={},r=_(e,["operationName"]);r!=null&&w(t,["operationName"],r);const n=_(e,["resourceName"]);return n!=null&&w(t,["_url","resourceName"],n),t}function Kfe(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response","generateVideoResponse"]);return s!=null&&w(t,["response"],Yfe(s)),t}function Wfe(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],Jfe(s)),t}function Yfe(e){const t={},r=_(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Xfe(s))),w(t,["generatedVideos"],a)}const n=_(e,["raiMediaFilteredCount"]);n!=null&&w(t,["raiMediaFilteredCount"],n);const i=_(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function Jfe(e){const t={},r=_(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Zfe(s))),w(t,["generatedVideos"],a)}const n=_(e,["raiMediaFilteredCount"]);n!=null&&w(t,["raiMediaFilteredCount"],n);const i=_(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function Xfe(e){const t={},r=_(e,["video"]);return r!=null&&w(t,["video"],ide(r)),t}function Zfe(e){const t={},r=_(e,["_self"]);return r!=null&&w(t,["video"],ade(r)),t}function Qfe(e){const t={},r=_(e,["operationName"]);return r!=null&&w(t,["_url","operationName"],r),t}function ede(e){const t={},r=_(e,["operationName"]);return r!=null&&w(t,["_url","operationName"],r),t}function tde(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],rde(s)),t}function rde(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["parent"]);n!=null&&w(t,["parent"],n);const i=_(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function IB(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],nde(s)),t}function nde(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["parent"]);n!=null&&w(t,["parent"],n);const i=_(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function ide(e){const t={},r=_(e,["uri"]);r!=null&&w(t,["uri"],r);const n=_(e,["encodedVideo"]);n!=null&&w(t,["videoBytes"],SC(n));const i=_(e,["encoding"]);return i!=null&&w(t,["mimeType"],i),t}function ade(e){const t={},r=_(e,["gcsUri"]);r!=null&&w(t,["uri"],r);const n=_(e,["bytesBase64Encoded"]);n!=null&&w(t,["videoBytes"],SC(n));const i=_(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}var FM;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(FM||(FM={}));var jM;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(jM||(jM={}));var UM;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(UM||(UM={}));var Bc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Bc||(Bc={}));var BM;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(BM||(BM={}));var VM;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(VM||(VM={}));var zM;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zM||(zM={}));var $M;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})($M||($M={}));var HM;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(HM||(HM={}));var GM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(GM||(GM={}));var qM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(qM||(qM={}));var KM;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(KM||(KM={}));var WM;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(WM||(WM={}));var YM;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(YM||(YM={}));var JM;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(JM||(JM={}));var XM;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(XM||(XM={}));var ZM;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ZM||(ZM={}));var QM;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(QM||(QM={}));var eD;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eD||(eD={}));var tD;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(tD||(tD={}));var rD;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rD||(rD={}));var xx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(xx||(xx={}));var nD;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nD||(nD={}));var iD;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(iD||(iD={}));var aD;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aD||(aD={}));var qA;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(qA||(qA={}));var sD;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sD||(sD={}));var oD;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(oD||(oD={}));var KA;(function(e){e.COLLECTION="COLLECTION"})(KA||(KA={}));var lD;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(lD||(lD={}));var cD;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cD||(cD={}));var uD;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(uD||(uD={}));var fD;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(fD||(fD={}));var dD;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(dD||(dD={}));var hD;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hD||(hD={}));var pD;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pD||(pD={}));var mD;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mD||(mD={}));var gD;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gD||(gD={}));var vD;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(vD||(vD={}));var yD;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(yD||(yD={}));var xD;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(xD||(xD={}));var _D;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(_D||(_D={}));var bD;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(bD||(bD={}));var wD;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(wD||(wD={}));var ED;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(ED||(ED={}));var TD;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(TD||(TD={}));var AD;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(AD||(AD={}));var SD;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(SD||(SD={}));var CD;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(CD||(CD={}));var ND;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(ND||(ND={}));var ID;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ID||(ID={}));var kD;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kD||(kD={}));var PD;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(PD||(PD={}));var RD;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(RD||(RD={}));var OD;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(OD||(OD={}));var MD;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(MD||(MD={}));var Gd;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Gd||(Gd={}));class WA{constructor(t){const r={};for(const n of t.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class H0{get text(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const p=[];for(const m of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[y,x]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(x!==null||x!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,u+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const p of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&d.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(u?.length!==0)return u}get executableCode(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.output}}class DD{}class LD{}class sde{}class ode{}class lde{}class cde{}class FD{}class jD{}class UD{}class ude{}class _x{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new _x;let i;const a=t;return r?i=Wfe(a):i=Kfe(a),Object.assign(n,i),n}}class BD{}class VD{}class zD{}class $D{}class fde{}class dde{}class hde{}class CC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new CC,a=tde(t);return Object.assign(n,a),n}}class pde{}class mde{}class gde{}class vde{}class HD{}class yde{get text(){var t,r,n;let i="",a=!1;const s=[];for(const o of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&s.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,r,n;let i="";const a=[];for(const s of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,c]of Object.entries(s))o!=="inlineData"&&c!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class xde{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class NC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new NC,a=IB(t);return Object.assign(n,a),n}}function fr(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function kB(e,t){const r=fr(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function PB(e){return Array.isArray(e)?e.map(t=>bx(t)):[bx(e)]}function bx(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function RB(e){const t=bx(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function OB(e){const t=bx(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function GD(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function MB(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>GD(t)):[GD(e)]}function YA(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function qD(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function KD(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Hi(e){if(e==null)throw new Error("ContentUnion is required");return YA(e)?e:{role:"user",parts:MB(e)}}function IC(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const n=Hi(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const r=Hi(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>Hi(r)):[Hi(t)]}function Os(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qD(e)||KD(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Hi(e)]}const t=[],r=[],n=YA(e[0]);for(const i of e){const a=YA(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(qD(i)||KD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||t.push({role:"user",parts:MB(r)}),t}function _de(e,t){e.includes("null")&&(t.nullable=!0);const r=e.filter(n=>n!=="null");if(r.length===1)t.type=Object.values(Bc).includes(r[0].toUpperCase())?r[0].toUpperCase():Bc.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of r)t.anyOf.push({type:Object.values(Bc).includes(n.toUpperCase())?n.toUpperCase():Bc.TYPE_UNSPECIFIED})}}function rh(e){const t={},r=["items"],n=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&_de(e.type,t);for(const[s,o]of Object.entries(e))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(Bc).includes(o.toUpperCase())?o.toUpperCase():Bc.TYPE_UNSPECIFIED}else if(r.includes(s))t[s]=rh(o);else if(n.includes(s)){const c=[];for(const u of o){if(u.type=="null"){t.nullable=!0;continue}c.push(rh(u))}t[s]=c}else if(i.includes(s)){const c={};for(const[u,d]of Object.entries(o))c[u]=rh(d);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=o}return t}function kC(e){return rh(e)}function PC(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function RC(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Lh(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=rh(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=rh(t.response));return e}function Fh(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function bde(e,t,r,n=1){const i=!t.startsWith(`${r}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`:t:i?`${r}/${t}`:t}function Xl(e,t){if(typeof t!="string")throw new Error("name must be a string");return bde(e,t,"cachedContents")}function DB(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function pu(e){return SC(e)}function wde(e){return e!=null&&typeof e=="object"&&"name"in e}function Ede(e){return e!=null&&typeof e=="object"&&"video"in e}function Tde(e){return e!=null&&typeof e=="object"&&"uri"in e}function LB(e){var t;let r;if(wde(e)&&(r=e.name),!(Tde(e)&&(r=e.uri,r===void 0))&&!(Ede(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function FB(e,t){let r;return e.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function jB(e){for(const t of["models","tunedModels","publisherModels"])if(Ade(e,t))return e[t];return[]}function Ade(e,t){return e!==null&&typeof e=="object"&&t in e}function Sde(e,t={}){const r=e,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function Cde(e,t={}){const r=[],n=new Set;for(const i of e){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const s=Sde(i,t);s.functionDeclarations&&r.push(...s.functionDeclarations)}return{functionDeclarations:r}}function UB(e,t){let r;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function Nde(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function BB(e){if(typeof e!="object"||e===null)return{};const t=e,r=t.inlinedResponses;if(typeof r!="object"||r===null)return e;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function jh(e,t){const r=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function VB(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function Ide(e){const t={},r=_(e,["responsesFile"]);r!=null&&w(t,["fileName"],r);const n=_(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>che(s))),w(t,["inlinedResponses"],a)}const i=_(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["inlinedEmbedContentResponses"],a)}return t}function kde(e){const t={},r=_(e,["predictionsFormat"]);r!=null&&w(t,["format"],r);const n=_(e,["gcsDestination","outputUriPrefix"]);n!=null&&w(t,["gcsUri"],n);const i=_(e,["bigqueryDestination","outputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function Pde(e){const t={},r=_(e,["format"]);r!=null&&w(t,["predictionsFormat"],r);const n=_(e,["gcsUri"]);n!=null&&w(t,["gcsDestination","outputUriPrefix"],n);const i=_(e,["bigqueryUri"]);if(i!=null&&w(t,["bigqueryDestination","outputUri"],i),_(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(_(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Cy(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata","displayName"]);n!=null&&w(t,["displayName"],n);const i=_(e,["metadata","state"]);i!=null&&w(t,["state"],VB(i));const a=_(e,["metadata","createTime"]);a!=null&&w(t,["createTime"],a);const s=_(e,["metadata","endTime"]);s!=null&&w(t,["endTime"],s);const o=_(e,["metadata","updateTime"]);o!=null&&w(t,["updateTime"],o);const c=_(e,["metadata","model"]);c!=null&&w(t,["model"],c);const u=_(e,["metadata","output"]);return u!=null&&w(t,["dest"],Ide(BB(u))),t}function JA(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=_(e,["state"]);i!=null&&w(t,["state"],VB(i));const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["createTime"]);s!=null&&w(t,["createTime"],s);const o=_(e,["startTime"]);o!=null&&w(t,["startTime"],o);const c=_(e,["endTime"]);c!=null&&w(t,["endTime"],c);const u=_(e,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=_(e,["model"]);d!=null&&w(t,["model"],d);const p=_(e,["inputConfig"]);p!=null&&w(t,["src"],Rde(p));const m=_(e,["outputConfig"]);m!=null&&w(t,["dest"],kde(BB(m)));const y=_(e,["completionStats"]);return y!=null&&w(t,["completionStats"],y),t}function Rde(e){const t={},r=_(e,["instancesFormat"]);r!=null&&w(t,["format"],r);const n=_(e,["gcsSource","uris"]);n!=null&&w(t,["gcsUri"],n);const i=_(e,["bigquerySource","inputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function Ode(e,t){const r={};if(_(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(_(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=_(t,["fileName"]);n!=null&&w(r,["fileName"],n);const i=_(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>lhe(e,s))),w(r,["requests","requests"],a)}return r}function Mde(e){const t={},r=_(e,["format"]);r!=null&&w(t,["instancesFormat"],r);const n=_(e,["gcsUri"]);n!=null&&w(t,["gcsSource","uris"],n);const i=_(e,["bigqueryUri"]);if(i!=null&&w(t,["bigquerySource","inputUri"],i),_(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Dde(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Lde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],jh(e,n)),r}function Fde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],jh(e,n)),r}function jde(e){const t={},r=_(e,["content"]);r!=null&&w(t,["content"],r);const n=_(e,["citationMetadata"]);n!=null&&w(t,["citationMetadata"],Ude(n));const i=_(e,["tokenCount"]);i!=null&&w(t,["tokenCount"],i);const a=_(e,["finishReason"]);a!=null&&w(t,["finishReason"],a);const s=_(e,["avgLogprobs"]);s!=null&&w(t,["avgLogprobs"],s);const o=_(e,["groundingMetadata"]);o!=null&&w(t,["groundingMetadata"],o);const c=_(e,["index"]);c!=null&&w(t,["index"],c);const u=_(e,["logprobsResult"]);u!=null&&w(t,["logprobsResult"],u);const d=_(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y)),w(t,["safetyRatings"],m)}const p=_(e,["urlContextMetadata"]);return p!=null&&w(t,["urlContextMetadata"],p),t}function Ude(e){const t={},r=_(e,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),w(t,["citations"],n)}return t}function zB(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>ghe(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function Bde(e,t){const r={},n=_(e,["displayName"]);if(t!==void 0&&n!=null&&w(t,["batch","displayName"],n),_(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Vde(e,t){const r={},n=_(e,["displayName"]);t!==void 0&&n!=null&&w(t,["displayName"],n);const i=_(e,["dest"]);return t!==void 0&&i!=null&&w(t,["outputConfig"],Pde(Nde(i))),r}function WD(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["_url","model"],fr(e,n));const i=_(t,["src"]);i!=null&&w(r,["batch","inputConfig"],Ode(e,UB(e,i)));const a=_(t,["config"]);return a!=null&&Bde(a,r),r}function zde(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["model"],fr(e,n));const i=_(t,["src"]);i!=null&&w(r,["inputConfig"],Mde(UB(e,i)));const a=_(t,["config"]);return a!=null&&Vde(a,r),r}function $de(e,t){const r={},n=_(e,["displayName"]);return t!==void 0&&n!=null&&w(t,["batch","displayName"],n),r}function Hde(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["_url","model"],fr(e,n));const i=_(t,["src"]);i!=null&&w(r,["batch","inputConfig"],Xde(e,i));const a=_(t,["config"]);return a!=null&&$de(a,r),r}function Gde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],jh(e,n)),r}function qde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],jh(e,n)),r}function Kde(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);return a!=null&&w(t,["error"],a),t}function Wde(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);return a!=null&&w(t,["error"],a),t}function Yde(e,t){const r={},n=_(t,["contents"]);if(n!=null){let a=IC(e,n);Array.isArray(a)&&(a=a.map(s=>s)),w(r,["requests[]","request","content"],a)}const i=_(t,["config"]);return i!=null&&(w(r,["_self"],Jde(i,r)),Gfe(r,{"requests[].*":"requests[].request.*"})),r}function Jde(e,t){const r={},n=_(e,["taskType"]);t!==void 0&&n!=null&&w(t,["requests[]","taskType"],n);const i=_(e,["title"]);t!==void 0&&i!=null&&w(t,["requests[]","title"],i);const a=_(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&w(t,["requests[]","outputDimensionality"],a),_(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Xde(e,t){const r={},n=_(t,["fileName"]);n!=null&&w(r,["file_name"],n);const i=_(t,["inlinedRequests"]);return i!=null&&w(r,["requests"],Yde(e,i)),r}function Zde(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Qde(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ehe(e){const t={},r=_(e,["allowedFunctionNames"]);r!=null&&w(t,["allowedFunctionNames"],r);const n=_(e,["mode"]);if(n!=null&&w(t,["mode"],n),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function the(e,t,r){const n={},i=_(t,["systemInstruction"]);r!==void 0&&i!=null&&w(r,["systemInstruction"],zB(Hi(i)));const a=_(t,["temperature"]);a!=null&&w(n,["temperature"],a);const s=_(t,["topP"]);s!=null&&w(n,["topP"],s);const o=_(t,["topK"]);o!=null&&w(n,["topK"],o);const c=_(t,["candidateCount"]);c!=null&&w(n,["candidateCount"],c);const u=_(t,["maxOutputTokens"]);u!=null&&w(n,["maxOutputTokens"],u);const d=_(t,["stopSequences"]);d!=null&&w(n,["stopSequences"],d);const p=_(t,["responseLogprobs"]);p!=null&&w(n,["responseLogprobs"],p);const m=_(t,["logprobs"]);m!=null&&w(n,["logprobs"],m);const y=_(t,["presencePenalty"]);y!=null&&w(n,["presencePenalty"],y);const x=_(t,["frequencyPenalty"]);x!=null&&w(n,["frequencyPenalty"],x);const b=_(t,["seed"]);b!=null&&w(n,["seed"],b);const E=_(t,["responseMimeType"]);E!=null&&w(n,["responseMimeType"],E);const S=_(t,["responseSchema"]);S!=null&&w(n,["responseSchema"],kC(S));const L=_(t,["responseJsonSchema"]);if(L!=null&&w(n,["responseJsonSchema"],L),_(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=_(t,["safetySettings"]);if(r!==void 0&&k!=null){let H=k;Array.isArray(H)&&(H=H.map(fe=>vhe(fe))),w(r,["safetySettings"],H)}const M=_(t,["tools"]);if(r!==void 0&&M!=null){let H=Fh(M);Array.isArray(H)&&(H=H.map(fe=>xhe(Lh(fe)))),w(r,["tools"],H)}const D=_(t,["toolConfig"]);if(r!==void 0&&D!=null&&w(r,["toolConfig"],yhe(D)),_(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=_(t,["cachedContent"]);r!==void 0&&P!=null&&w(r,["cachedContent"],Xl(e,P));const N=_(t,["responseModalities"]);N!=null&&w(n,["responseModalities"],N);const I=_(t,["mediaResolution"]);I!=null&&w(n,["mediaResolution"],I);const O=_(t,["speechConfig"]);if(O!=null&&w(n,["speechConfig"],PC(O)),_(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=_(t,["thinkingConfig"]);U!=null&&w(n,["thinkingConfig"],U);const B=_(t,["imageConfig"]);B!=null&&w(n,["imageConfig"],ohe(B));const F=_(t,["enableEnhancedCivicAnswers"]);if(F!=null&&w(n,["enableEnhancedCivicAnswers"],F),_(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function rhe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>jde(u))),w(t,["candidates"],c)}const i=_(e,["modelVersion"]);i!=null&&w(t,["modelVersion"],i);const a=_(e,["promptFeedback"]);a!=null&&w(t,["promptFeedback"],a);const s=_(e,["responseId"]);s!=null&&w(t,["responseId"],s);const o=_(e,["usageMetadata"]);return o!=null&&w(t,["usageMetadata"],o),t}function nhe(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],jh(e,n)),r}function ihe(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],jh(e,n)),r}function ahe(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function she(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function ohe(e){const t={},r=_(e,["aspectRatio"]);r!=null&&w(t,["aspectRatio"],r);const n=_(e,["imageSize"]);if(n!=null&&w(t,["imageSize"],n),_(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(_(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function lhe(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["request","model"],fr(e,n));const i=_(t,["contents"]);if(i!=null){let o=Os(i);Array.isArray(o)&&(o=o.map(c=>zB(c))),w(r,["request","contents"],o)}const a=_(t,["metadata"]);a!=null&&w(r,["metadata"],a);const s=_(t,["config"]);return s!=null&&w(r,["request","generationConfig"],the(e,s,_(r,["request"],{}))),r}function che(e){const t={},r=_(e,["response"]);r!=null&&w(t,["response"],rhe(r));const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["error"]);return i!=null&&w(t,["error"],i),t}function uhe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);if(t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),_(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function fhe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);t!==void 0&&i!=null&&w(t,["_query","pageToken"],i);const a=_(e,["filter"]);return t!==void 0&&a!=null&&w(t,["_query","filter"],a),r}function dhe(e){const t={},r=_(e,["config"]);return r!=null&&uhe(r,t),t}function hhe(e){const t={},r=_(e,["config"]);return r!=null&&fhe(r,t),t}function phe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Cy(s))),w(t,["batchJobs"],a)}return t}function mhe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>JA(s))),w(t,["batchJobs"],a)}return t}function ghe(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],Zde(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],Qde(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],Dde(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const p=_(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function vhe(e){const t={},r=_(e,["category"]);if(r!=null&&w(t,["category"],r),_(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=_(e,["threshold"]);return n!=null&&w(t,["threshold"],n),t}function yhe(e){const t={},r=_(e,["retrievalConfig"]);r!=null&&w(t,["retrievalConfig"],r);const n=_(e,["functionCallingConfig"]);return n!=null&&w(t,["functionCallingConfig"],ehe(n)),t}function xhe(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],ahe(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],she(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}var jl;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(jl||(jl={}));class Vf{constructor(t,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,n,i)}init(t,r,n){var i,a;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class _he extends Jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(jl.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(t){const r=WD(this.apiClient,t),n=r._url,i=tt("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,c=o.requests,u=[];for(const d of c){const p=Object.assign({},d);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=m,p.request=y}u.push(p)}return o.requests=u,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(t),s=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(s)n.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=zde(this.apiClient,t);return o=tt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>JA(d))}else{const u=WD(this.apiClient,t);return o=tt("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>Cy(d))}}async createEmbeddingsInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Hde(this.apiClient,t);return a=tt("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Cy(c))}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ihe(this.apiClient,t);return o=tt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>JA(d))}else{const u=nhe(this.apiClient,t);return o=tt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>Cy(d))}}async cancel(t){var r,n,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const c=Fde(this.apiClient,t);s=tt("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=Lde(this.apiClient,t);s=tt("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=hhe(t);return o=tt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=mhe(d),m=new HD;return Object.assign(m,p),m})}else{const u=dhe(t);return o=tt("batches",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=phe(d),m=new HD;return Object.assign(m,p),m})}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=qde(this.apiClient,t);return o=tt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>Wde(d))}else{const u=Gde(this.apiClient,t);return o=tt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>Kde(d))}}}function bhe(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function YD(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Hhe(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function whe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const a=_(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const s=_(e,["contents"]);if(t!==void 0&&s!=null){let d=Os(s);Array.isArray(d)&&(d=d.map(p=>YD(p))),w(t,["contents"],d)}const o=_(e,["systemInstruction"]);t!==void 0&&o!=null&&w(t,["systemInstruction"],YD(Hi(o)));const c=_(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(p=>qhe(p))),w(t,["tools"],d)}const u=_(e,["toolConfig"]);if(t!==void 0&&u!=null&&w(t,["toolConfig"],Ghe(u)),_(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function Ehe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const a=_(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const s=_(e,["contents"]);if(t!==void 0&&s!=null){let p=Os(s);Array.isArray(p)&&(p=p.map(m=>m)),w(t,["contents"],p)}const o=_(e,["systemInstruction"]);t!==void 0&&o!=null&&w(t,["systemInstruction"],Hi(o));const c=_(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>Khe(m))),w(t,["tools"],p)}const u=_(e,["toolConfig"]);t!==void 0&&u!=null&&w(t,["toolConfig"],u);const d=_(e,["kmsKeyName"]);return t!==void 0&&d!=null&&w(t,["encryption_spec","kmsKeyName"],d),r}function The(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["model"],kB(e,n));const i=_(t,["config"]);return i!=null&&whe(i,r),r}function Ahe(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["model"],kB(e,n));const i=_(t,["config"]);return i!=null&&Ehe(i,r),r}function She(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Xl(e,n)),r}function Che(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Xl(e,n)),r}function Nhe(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Ihe(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function khe(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Phe(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Rhe(e){const t={},r=_(e,["allowedFunctionNames"]);r!=null&&w(t,["allowedFunctionNames"],r);const n=_(e,["mode"]);if(n!=null&&w(t,["mode"],n),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Ohe(e){const t={},r=_(e,["description"]);r!=null&&w(t,["description"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["parameters"]);i!=null&&w(t,["parameters"],i);const a=_(e,["parametersJsonSchema"]);a!=null&&w(t,["parametersJsonSchema"],a);const s=_(e,["response"]);s!=null&&w(t,["response"],s);const o=_(e,["responseJsonSchema"]);if(o!=null&&w(t,["responseJsonSchema"],o),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Mhe(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Xl(e,n)),r}function Dhe(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Xl(e,n)),r}function Lhe(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function Fhe(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function jhe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Uhe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Bhe(e){const t={},r=_(e,["config"]);return r!=null&&jhe(r,t),t}function Vhe(e){const t={},r=_(e,["config"]);return r!=null&&Uhe(r,t),t}function zhe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["cachedContents"],a)}return t}function $he(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["cachedContents"],a)}return t}function Hhe(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],khe(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],Phe(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],bhe(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const p=_(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function Ghe(e){const t={},r=_(e,["retrievalConfig"]);r!=null&&w(t,["retrievalConfig"],r);const n=_(e,["functionCallingConfig"]);return n!=null&&w(t,["functionCallingConfig"],Rhe(n)),t}function qhe(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],Lhe(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],Fhe(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function Khe(e){const t={},r=_(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const n=_(e,["computerUse"]);if(n!=null&&w(t,["computerUse"],n),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=_(e,["codeExecution"]);i!=null&&w(t,["codeExecution"],i);const a=_(e,["enterpriseWebSearch"]);a!=null&&w(t,["enterpriseWebSearch"],a);const s=_(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>Ohe(m))),w(t,["functionDeclarations"],p)}const o=_(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],o);const c=_(e,["googleSearch"]);c!=null&&w(t,["googleSearch"],c);const u=_(e,["googleSearchRetrieval"]);u!=null&&w(t,["googleSearchRetrieval"],u);const d=_(e,["urlContext"]);return d!=null&&w(t,["urlContext"],d),t}function Whe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),r}function Yhe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),r}function Jhe(e,t){const r={},n=_(t,["name"]);n!=null&&w(r,["_url","name"],Xl(e,n));const i=_(t,["config"]);return i!=null&&Whe(i,r),r}function Xhe(e,t){const r={},n=_(t,["name"]);n!=null&&w(r,["_url","name"],Xl(e,n));const i=_(t,["config"]);return i!=null&&Yhe(i,r),r}class Zhe extends Jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(jl.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ahe(this.apiClient,t);return o=tt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=The(this.apiClient,t);return o=tt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Dhe(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=Mhe(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Che(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Ihe(d),m=new zD;return Object.assign(m,p),m})}else{const u=She(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Nhe(d),m=new zD;return Object.assign(m,p),m})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Xhe(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=Jhe(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Vhe(t);return o=tt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=$he(d),m=new $D;return Object.assign(m,p),m})}else{const u=Bhe(t);return o=tt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=zhe(d),m=new $D;return Object.assign(m,p),m})}}}function wx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function JD(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(e){return this instanceof Ct?(this.v=e,this):new Ct(e)}function lo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,p)}}function o(y,x){n[y]&&(i[y]=function(b){return new Promise(function(E,S){a.push([y,b,E,S])>1||c(y,b)})},x&&(i[y]=x(i[y])))}function c(y,x){try{u(n[y](x))}catch(b){m(a[0][3],b)}}function u(y){y.value instanceof Ct?Promise.resolve(y.value.v).then(d,p):m(a[0][2],y)}function d(y){c("next",y)}function p(y){c("throw",y)}function m(y,x){y(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function co(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof JD=="function"?JD(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,c){s=e[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},s)}}function Qhe(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:$B(r)}function $B(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function e0e(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function XD(e){if(e===void 0||e.length===0)return[];const t=[],r=e.length;let n=0;for(;n<r;)if(e[n].role==="user")t.push(e[n]),n++;else{const i=[];let a=!0;for(;n<r&&e[n].role==="model";)i.push(e[n]),a&&!$B(e[n])&&(a=!1),n++;a?t.push(...i):t.pop()}return t}class t0e{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new r0e(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class r0e{constructor(t,r,n,i={},a=[]){this.apiClient=t,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),e0e(a)}async sendMessage(t){var r;await this.sendPromise;const n=Hi(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,o;const c=await i,u=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];d!=null&&(m=(o=d.slice(p))!==null&&o!==void 0?o:[]);const y=u?[u]:[];this.recordHistory(n,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var r;await this.sendPromise;const n=Hi(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(t=!1){const r=t?XD(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){return lo(this,arguments,function*(){var i,a,s,o,c,u;const d=[];try{for(var p=!0,m=co(t),y;y=yield Ct(m.next()),i=y.done,!i;p=!0){o=y.value,p=!1;const x=o;if(Qhe(x)){const b=(u=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield Ct(x)}}catch(x){a={error:x}}finally{try{!p&&!i&&(s=m.return)&&(yield Ct(s.call(m)))}finally{if(a)throw a.error}}this.recordHistory(r,d)})}recordHistory(t,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...XD(n)):this.history.push(t),this.history.push(...i)}}class cm extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,cm.prototype)}}function n0e(e){const t={},r=_(e,["file"]);return r!=null&&w(t,["file"],r),t}function i0e(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function a0e(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","file"],LB(r)),t}function s0e(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function o0e(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","file"],LB(r)),t}function l0e(e){const t={},r=_(e,["uris"]);return r!=null&&w(t,["uris"],r),t}function c0e(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function u0e(e){const t={},r=_(e,["config"]);return r!=null&&c0e(r,t),t}function f0e(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["files"],a)}return t}function d0e(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["files"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["files"],i)}return t}class h0e extends Jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(jl.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>r)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=u0e(t);return a=tt("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=f0e(c),d=new pde;return Object.assign(d,u),d})}}async createInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=n0e(t);return a=tt("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=i0e(c),d=new mde;return Object.assign(d,u),d})}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=o0e(t);return a=tt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=a0e(t);return a=tt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=s0e(c),d=new gde;return Object.assign(d,u),d})}}async registerFilesInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=l0e(t);return a=tt("files:register",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=d0e(c),d=new vde;return Object.assign(d,u),d})}}}function Ny(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function p0e(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>k0e(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function m0e(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function g0e(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function v0e(e){const t={},r=_(e,["description"]);r!=null&&w(t,["description"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["parameters"]);i!=null&&w(t,["parameters"],i);const a=_(e,["parametersJsonSchema"]);a!=null&&w(t,["parametersJsonSchema"],a);const s=_(e,["response"]);s!=null&&w(t,["response"],s);const o=_(e,["responseJsonSchema"]);if(o!=null&&w(t,["responseJsonSchema"],o),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function y0e(e){const t={},r=_(e,["modelSelectionConfig"]);r!=null&&w(t,["modelConfig"],r);const n=_(e,["responseJsonSchema"]);n!=null&&w(t,["responseJsonSchema"],n);const i=_(e,["audioTimestamp"]);i!=null&&w(t,["audioTimestamp"],i);const a=_(e,["candidateCount"]);a!=null&&w(t,["candidateCount"],a);const s=_(e,["enableAffectiveDialog"]);s!=null&&w(t,["enableAffectiveDialog"],s);const o=_(e,["frequencyPenalty"]);o!=null&&w(t,["frequencyPenalty"],o);const c=_(e,["logprobs"]);c!=null&&w(t,["logprobs"],c);const u=_(e,["maxOutputTokens"]);u!=null&&w(t,["maxOutputTokens"],u);const d=_(e,["mediaResolution"]);d!=null&&w(t,["mediaResolution"],d);const p=_(e,["presencePenalty"]);p!=null&&w(t,["presencePenalty"],p);const m=_(e,["responseLogprobs"]);m!=null&&w(t,["responseLogprobs"],m);const y=_(e,["responseMimeType"]);y!=null&&w(t,["responseMimeType"],y);const x=_(e,["responseModalities"]);x!=null&&w(t,["responseModalities"],x);const b=_(e,["responseSchema"]);b!=null&&w(t,["responseSchema"],b);const E=_(e,["routingConfig"]);E!=null&&w(t,["routingConfig"],E);const S=_(e,["seed"]);S!=null&&w(t,["seed"],S);const L=_(e,["speechConfig"]);L!=null&&w(t,["speechConfig"],L);const k=_(e,["stopSequences"]);k!=null&&w(t,["stopSequences"],k);const M=_(e,["temperature"]);M!=null&&w(t,["temperature"],M);const D=_(e,["thinkingConfig"]);D!=null&&w(t,["thinkingConfig"],D);const P=_(e,["topK"]);P!=null&&w(t,["topK"],P);const N=_(e,["topP"]);if(N!=null&&w(t,["topP"],N),_(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function x0e(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function _0e(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function b0e(e,t){const r={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],n);const i=_(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=_(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=_(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=_(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=_(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=_(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const p=_(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],RC(p));const m=_(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=_(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=_(e,["systemInstruction"]);t!==void 0&&x!=null&&w(t,["setup","systemInstruction"],p0e(Hi(x)));const b=_(e,["tools"]);if(t!==void 0&&b!=null){let P=Fh(b);Array.isArray(P)&&(P=P.map(N=>R0e(Lh(N)))),w(t,["setup","tools"],P)}const E=_(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],P0e(E));const S=_(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&w(t,["setup","inputAudioTranscription"],S);const L=_(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&w(t,["setup","outputAudioTranscription"],L);const k=_(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const M=_(e,["contextWindowCompression"]);t!==void 0&&M!=null&&w(t,["setup","contextWindowCompression"],M);const D=_(e,["proactivity"]);if(t!==void 0&&D!=null&&w(t,["setup","proactivity"],D),_(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function w0e(e,t){const r={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],y0e(n));const i=_(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=_(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=_(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=_(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=_(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=_(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const p=_(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],RC(p));const m=_(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=_(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=_(e,["systemInstruction"]);t!==void 0&&x!=null&&w(t,["setup","systemInstruction"],Hi(x));const b=_(e,["tools"]);if(t!==void 0&&b!=null){let N=Fh(b);Array.isArray(N)&&(N=N.map(I=>O0e(Lh(I)))),w(t,["setup","tools"],N)}const E=_(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],E);const S=_(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&w(t,["setup","inputAudioTranscription"],S);const L=_(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&w(t,["setup","outputAudioTranscription"],L);const k=_(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const M=_(e,["contextWindowCompression"]);t!==void 0&&M!=null&&w(t,["setup","contextWindowCompression"],M);const D=_(e,["proactivity"]);t!==void 0&&D!=null&&w(t,["setup","proactivity"],D);const P=_(e,["explicitVadSignal"]);return t!==void 0&&P!=null&&w(t,["setup","explicitVadSignal"],P),r}function E0e(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["setup","model"],fr(e,n));const i=_(t,["config"]);return i!=null&&w(r,["config"],b0e(i,r)),r}function T0e(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["setup","model"],fr(e,n));const i=_(t,["config"]);return i!=null&&w(r,["config"],w0e(i,r)),r}function A0e(e){const t={},r=_(e,["musicGenerationConfig"]);return r!=null&&w(t,["musicGenerationConfig"],r),t}function S0e(e){const t={},r=_(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),w(t,["weightedPrompts"],n)}return t}function C0e(e){const t={},r=_(e,["media"]);if(r!=null){let u=PB(r);Array.isArray(u)&&(u=u.map(d=>Ny(d))),w(t,["mediaChunks"],u)}const n=_(e,["audio"]);n!=null&&w(t,["audio"],Ny(OB(n)));const i=_(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const a=_(e,["video"]);a!=null&&w(t,["video"],Ny(RB(a)));const s=_(e,["text"]);s!=null&&w(t,["text"],s);const o=_(e,["activityStart"]);o!=null&&w(t,["activityStart"],o);const c=_(e,["activityEnd"]);return c!=null&&w(t,["activityEnd"],c),t}function N0e(e){const t={},r=_(e,["media"]);if(r!=null){let u=PB(r);Array.isArray(u)&&(u=u.map(d=>d)),w(t,["mediaChunks"],u)}const n=_(e,["audio"]);n!=null&&w(t,["audio"],OB(n));const i=_(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const a=_(e,["video"]);a!=null&&w(t,["video"],RB(a));const s=_(e,["text"]);s!=null&&w(t,["text"],s);const o=_(e,["activityStart"]);o!=null&&w(t,["activityStart"],o);const c=_(e,["activityEnd"]);return c!=null&&w(t,["activityEnd"],c),t}function I0e(e){const t={},r=_(e,["setupComplete"]);r!=null&&w(t,["setupComplete"],r);const n=_(e,["serverContent"]);n!=null&&w(t,["serverContent"],n);const i=_(e,["toolCall"]);i!=null&&w(t,["toolCall"],i);const a=_(e,["toolCallCancellation"]);a!=null&&w(t,["toolCallCancellation"],a);const s=_(e,["usageMetadata"]);s!=null&&w(t,["usageMetadata"],M0e(s));const o=_(e,["goAway"]);o!=null&&w(t,["goAway"],o);const c=_(e,["sessionResumptionUpdate"]);c!=null&&w(t,["sessionResumptionUpdate"],c);const u=_(e,["voiceActivityDetectionSignal"]);u!=null&&w(t,["voiceActivityDetectionSignal"],u);const d=_(e,["voiceActivity"]);return d!=null&&w(t,["voiceActivity"],D0e(d)),t}function k0e(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],m0e(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],g0e(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],Ny(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const p=_(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function P0e(e){const t={},r=_(e,["handle"]);if(r!=null&&w(t,["handle"],r),_(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function R0e(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],x0e(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],_0e(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function O0e(e){const t={},r=_(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const n=_(e,["computerUse"]);if(n!=null&&w(t,["computerUse"],n),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=_(e,["codeExecution"]);i!=null&&w(t,["codeExecution"],i);const a=_(e,["enterpriseWebSearch"]);a!=null&&w(t,["enterpriseWebSearch"],a);const s=_(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>v0e(m))),w(t,["functionDeclarations"],p)}const o=_(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],o);const c=_(e,["googleSearch"]);c!=null&&w(t,["googleSearch"],c);const u=_(e,["googleSearchRetrieval"]);u!=null&&w(t,["googleSearchRetrieval"],u);const d=_(e,["urlContext"]);return d!=null&&w(t,["urlContext"],d),t}function M0e(e){const t={},r=_(e,["promptTokenCount"]);r!=null&&w(t,["promptTokenCount"],r);const n=_(e,["cachedContentTokenCount"]);n!=null&&w(t,["cachedContentTokenCount"],n);const i=_(e,["candidatesTokenCount"]);i!=null&&w(t,["responseTokenCount"],i);const a=_(e,["toolUsePromptTokenCount"]);a!=null&&w(t,["toolUsePromptTokenCount"],a);const s=_(e,["thoughtsTokenCount"]);s!=null&&w(t,["thoughtsTokenCount"],s);const o=_(e,["totalTokenCount"]);o!=null&&w(t,["totalTokenCount"],o);const c=_(e,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["promptTokensDetails"],y)}const u=_(e,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["cacheTokensDetails"],y)}const d=_(e,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["responseTokensDetails"],y)}const p=_(e,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["toolUsePromptTokensDetails"],y)}const m=_(e,["trafficType"]);return m!=null&&w(t,["trafficType"],m),t}function D0e(e){const t={},r=_(e,["type"]);return r!=null&&w(t,["voiceActivityType"],r),t}function L0e(e,t){const r={},n=_(e,["data"]);if(n!=null&&w(r,["data"],n),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function F0e(e,t){const r={},n=_(e,["content"]);n!=null&&w(r,["content"],n);const i=_(e,["citationMetadata"]);i!=null&&w(r,["citationMetadata"],j0e(i));const a=_(e,["tokenCount"]);a!=null&&w(r,["tokenCount"],a);const s=_(e,["finishReason"]);s!=null&&w(r,["finishReason"],s);const o=_(e,["avgLogprobs"]);o!=null&&w(r,["avgLogprobs"],o);const c=_(e,["groundingMetadata"]);c!=null&&w(r,["groundingMetadata"],c);const u=_(e,["index"]);u!=null&&w(r,["index"],u);const d=_(e,["logprobsResult"]);d!=null&&w(r,["logprobsResult"],d);const p=_(e,["safetyRatings"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(x=>x)),w(r,["safetyRatings"],y)}const m=_(e,["urlContextMetadata"]);return m!=null&&w(r,["urlContextMetadata"],m),r}function j0e(e,t){const r={},n=_(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(r,["citations"],i)}return r}function U0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["contents"]);if(a!=null){let s=Os(a);Array.isArray(s)&&(s=s.map(o=>o)),w(n,["contents"],s)}return n}function B0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(r,["tokensInfo"],a)}return r}function V0e(e,t){const r={},n=_(e,["values"]);n!=null&&w(r,["values"],n);const i=_(e,["statistics"]);return i!=null&&w(r,["statistics"],z0e(i)),r}function z0e(e,t){const r={},n=_(e,["truncated"]);n!=null&&w(r,["truncated"],n);const i=_(e,["token_count"]);return i!=null&&w(r,["tokenCount"],i),r}function G1(e,t){const r={},n=_(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Xpe(s))),w(r,["parts"],a)}const i=_(e,["role"]);return i!=null&&w(r,["role"],i),r}function $0e(e,t){const r={},n=_(e,["controlType"]);n!=null&&w(r,["controlType"],n);const i=_(e,["enableControlImageComputation"]);return i!=null&&w(r,["computeControl"],i),r}function H0e(e,t){const r={};if(_(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(_(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(_(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function G0e(e,t,r){const n={},i=_(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Hi(i));const a=_(e,["tools"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>KB(c))),w(t,["tools"],o)}const s=_(e,["generationConfig"]);return t!==void 0&&s!=null&&w(t,["generationConfig"],Lpe(s)),n}function q0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>G1(c))),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&H0e(s),n}function K0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&G0e(s,n),n}function W0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["totalTokens"]);i!=null&&w(r,["totalTokens"],i);const a=_(e,["cachedContentTokenCount"]);return a!=null&&w(r,["cachedContentTokenCount"],a),r}function Y0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["totalTokens"]);return i!=null&&w(r,["totalTokens"],i),r}function J0e(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function X0e(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function Z0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function Q0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function epe(e,t,r){const n={},i=_(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=_(e,["negativePrompt"]);t!==void 0&&a!=null&&w(t,["parameters","negativePrompt"],a);const s=_(e,["numberOfImages"]);t!==void 0&&s!=null&&w(t,["parameters","sampleCount"],s);const o=_(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const c=_(e,["guidanceScale"]);t!==void 0&&c!=null&&w(t,["parameters","guidanceScale"],c);const u=_(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const d=_(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const p=_(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const m=_(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&w(t,["parameters","includeSafetyAttributes"],m);const y=_(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const x=_(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const b=_(e,["outputMimeType"]);t!==void 0&&b!=null&&w(t,["parameters","outputOptions","mimeType"],b);const E=_(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const S=_(e,["addWatermark"]);t!==void 0&&S!=null&&w(t,["parameters","addWatermark"],S);const L=_(e,["labels"]);t!==void 0&&L!=null&&w(t,["labels"],L);const k=_(e,["editMode"]);t!==void 0&&k!=null&&w(t,["parameters","editMode"],k);const M=_(e,["baseSteps"]);return t!==void 0&&M!=null&&w(t,["parameters","editConfig","baseSteps"],M),n}function tpe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>nme(u))),w(n,["instances[0]","referenceImages"],c)}const o=_(t,["config"]);return o!=null&&epe(o,n),n}function rpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>q1(s))),w(r,["generatedImages"],a)}return r}function npe(e,t,r){const n={},i=_(e,["taskType"]);t!==void 0&&i!=null&&w(t,["requests[]","taskType"],i);const a=_(e,["title"]);t!==void 0&&a!=null&&w(t,["requests[]","title"],a);const s=_(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&w(t,["requests[]","outputDimensionality"],s),_(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ipe(e,t,r){const n={},i=_(e,["taskType"]);t!==void 0&&i!=null&&w(t,["instances[]","task_type"],i);const a=_(e,["title"]);t!==void 0&&a!=null&&w(t,["instances[]","title"],a);const s=_(e,["outputDimensionality"]);t!==void 0&&s!=null&&w(t,["parameters","outputDimensionality"],s);const o=_(e,["mimeType"]);t!==void 0&&o!=null&&w(t,["instances[]","mimeType"],o);const c=_(e,["autoTruncate"]);return t!==void 0&&c!=null&&w(t,["parameters","autoTruncate"],c),n}function ape(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["contents"]);if(a!=null){let c=IC(e,a);Array.isArray(c)&&(c=c.map(u=>u)),w(n,["requests[]","content"],c)}const s=_(t,["config"]);s!=null&&npe(s,n);const o=_(t,["model"]);return o!==void 0&&w(n,["requests[]","model"],fr(e,o)),n}function spe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["contents"]);if(a!=null){let o=IC(e,a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["instances[]","content"],o)}const s=_(t,["config"]);return s!=null&&ipe(s,n),n}function ope(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),w(r,["embeddings"],s)}const a=_(e,["metadata"]);return a!=null&&w(r,["metadata"],a),r}function lpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>V0e(o))),w(r,["embeddings"],s)}const a=_(e,["metadata"]);return a!=null&&w(r,["metadata"],a),r}function cpe(e,t){const r={},n=_(e,["endpoint"]);n!=null&&w(r,["name"],n);const i=_(e,["deployedModelId"]);return i!=null&&w(r,["deployedModelId"],i),r}function upe(e,t){const r={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["fileUri"]);n!=null&&w(r,["fileUri"],n);const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function fpe(e,t){const r={},n=_(e,["id"]);n!=null&&w(r,["id"],n);const i=_(e,["args"]);i!=null&&w(r,["args"],i);const a=_(e,["name"]);if(a!=null&&w(r,["name"],a),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function dpe(e,t){const r={},n=_(e,["allowedFunctionNames"]);n!=null&&w(r,["allowedFunctionNames"],n);const i=_(e,["mode"]);if(i!=null&&w(r,["mode"],i),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function hpe(e,t){const r={},n=_(e,["description"]);n!=null&&w(r,["description"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["parameters"]);a!=null&&w(r,["parameters"],a);const s=_(e,["parametersJsonSchema"]);s!=null&&w(r,["parametersJsonSchema"],s);const o=_(e,["response"]);o!=null&&w(r,["response"],o);const c=_(e,["responseJsonSchema"]);if(c!=null&&w(r,["responseJsonSchema"],c),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function ppe(e,t,r,n){const i={},a=_(t,["systemInstruction"]);r!==void 0&&a!=null&&w(r,["systemInstruction"],G1(Hi(a)));const s=_(t,["temperature"]);s!=null&&w(i,["temperature"],s);const o=_(t,["topP"]);o!=null&&w(i,["topP"],o);const c=_(t,["topK"]);c!=null&&w(i,["topK"],c);const u=_(t,["candidateCount"]);u!=null&&w(i,["candidateCount"],u);const d=_(t,["maxOutputTokens"]);d!=null&&w(i,["maxOutputTokens"],d);const p=_(t,["stopSequences"]);p!=null&&w(i,["stopSequences"],p);const m=_(t,["responseLogprobs"]);m!=null&&w(i,["responseLogprobs"],m);const y=_(t,["logprobs"]);y!=null&&w(i,["logprobs"],y);const x=_(t,["presencePenalty"]);x!=null&&w(i,["presencePenalty"],x);const b=_(t,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const E=_(t,["seed"]);E!=null&&w(i,["seed"],E);const S=_(t,["responseMimeType"]);S!=null&&w(i,["responseMimeType"],S);const L=_(t,["responseSchema"]);L!=null&&w(i,["responseSchema"],kC(L));const k=_(t,["responseJsonSchema"]);if(k!=null&&w(i,["responseJsonSchema"],k),_(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=_(t,["safetySettings"]);if(r!==void 0&&M!=null){let fe=M;Array.isArray(fe)&&(fe=fe.map(me=>ime(me))),w(r,["safetySettings"],fe)}const D=_(t,["tools"]);if(r!==void 0&&D!=null){let fe=Fh(D);Array.isArray(fe)&&(fe=fe.map(me=>fme(Lh(me)))),w(r,["tools"],fe)}const P=_(t,["toolConfig"]);if(r!==void 0&&P!=null&&w(r,["toolConfig"],ume(P)),_(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=_(t,["cachedContent"]);r!==void 0&&N!=null&&w(r,["cachedContent"],Xl(e,N));const I=_(t,["responseModalities"]);I!=null&&w(i,["responseModalities"],I);const O=_(t,["mediaResolution"]);O!=null&&w(i,["mediaResolution"],O);const U=_(t,["speechConfig"]);if(U!=null&&w(i,["speechConfig"],PC(U)),_(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=_(t,["thinkingConfig"]);B!=null&&w(i,["thinkingConfig"],B);const F=_(t,["imageConfig"]);F!=null&&w(i,["imageConfig"],Vpe(F));const H=_(t,["enableEnhancedCivicAnswers"]);if(H!=null&&w(i,["enableEnhancedCivicAnswers"],H),_(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function mpe(e,t,r,n){const i={},a=_(t,["systemInstruction"]);r!==void 0&&a!=null&&w(r,["systemInstruction"],Hi(a));const s=_(t,["temperature"]);s!=null&&w(i,["temperature"],s);const o=_(t,["topP"]);o!=null&&w(i,["topP"],o);const c=_(t,["topK"]);c!=null&&w(i,["topK"],c);const u=_(t,["candidateCount"]);u!=null&&w(i,["candidateCount"],u);const d=_(t,["maxOutputTokens"]);d!=null&&w(i,["maxOutputTokens"],d);const p=_(t,["stopSequences"]);p!=null&&w(i,["stopSequences"],p);const m=_(t,["responseLogprobs"]);m!=null&&w(i,["responseLogprobs"],m);const y=_(t,["logprobs"]);y!=null&&w(i,["logprobs"],y);const x=_(t,["presencePenalty"]);x!=null&&w(i,["presencePenalty"],x);const b=_(t,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const E=_(t,["seed"]);E!=null&&w(i,["seed"],E);const S=_(t,["responseMimeType"]);S!=null&&w(i,["responseMimeType"],S);const L=_(t,["responseSchema"]);L!=null&&w(i,["responseSchema"],kC(L));const k=_(t,["responseJsonSchema"]);k!=null&&w(i,["responseJsonSchema"],k);const M=_(t,["routingConfig"]);M!=null&&w(i,["routingConfig"],M);const D=_(t,["modelSelectionConfig"]);D!=null&&w(i,["modelConfig"],D);const P=_(t,["safetySettings"]);if(r!==void 0&&P!=null){let ce=P;Array.isArray(ce)&&(ce=ce.map(ae=>ae)),w(r,["safetySettings"],ce)}const N=_(t,["tools"]);if(r!==void 0&&N!=null){let ce=Fh(N);Array.isArray(ce)&&(ce=ce.map(ae=>KB(Lh(ae)))),w(r,["tools"],ce)}const I=_(t,["toolConfig"]);r!==void 0&&I!=null&&w(r,["toolConfig"],I);const O=_(t,["labels"]);r!==void 0&&O!=null&&w(r,["labels"],O);const U=_(t,["cachedContent"]);r!==void 0&&U!=null&&w(r,["cachedContent"],Xl(e,U));const B=_(t,["responseModalities"]);B!=null&&w(i,["responseModalities"],B);const F=_(t,["mediaResolution"]);F!=null&&w(i,["mediaResolution"],F);const H=_(t,["speechConfig"]);H!=null&&w(i,["speechConfig"],PC(H));const fe=_(t,["audioTimestamp"]);fe!=null&&w(i,["audioTimestamp"],fe);const me=_(t,["thinkingConfig"]);me!=null&&w(i,["thinkingConfig"],me);const ne=_(t,["imageConfig"]);if(ne!=null&&w(i,["imageConfig"],zpe(ne)),_(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ue=_(t,["modelArmorConfig"]);return r!==void 0&&ue!=null&&w(r,["modelArmorConfig"],ue),i}function ZD(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>G1(c))),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&w(n,["generationConfig"],ppe(e,s,n)),n}function QD(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&w(n,["generationConfig"],mpe(e,s,n)),n}function e3(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>F0e(d))),w(r,["candidates"],u)}const a=_(e,["modelVersion"]);a!=null&&w(r,["modelVersion"],a);const s=_(e,["promptFeedback"]);s!=null&&w(r,["promptFeedback"],s);const o=_(e,["responseId"]);o!=null&&w(r,["responseId"],o);const c=_(e,["usageMetadata"]);return c!=null&&w(r,["usageMetadata"],c),r}function t3(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>p)),w(r,["candidates"],d)}const a=_(e,["createTime"]);a!=null&&w(r,["createTime"],a);const s=_(e,["modelVersion"]);s!=null&&w(r,["modelVersion"],s);const o=_(e,["promptFeedback"]);o!=null&&w(r,["promptFeedback"],o);const c=_(e,["responseId"]);c!=null&&w(r,["responseId"],c);const u=_(e,["usageMetadata"]);return u!=null&&w(r,["usageMetadata"],u),r}function gpe(e,t,r){const n={};if(_(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=_(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=_(e,["aspectRatio"]);t!==void 0&&a!=null&&w(t,["parameters","aspectRatio"],a);const s=_(e,["guidanceScale"]);if(t!==void 0&&s!=null&&w(t,["parameters","guidanceScale"],s),_(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=_(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&w(t,["parameters","safetySetting"],o);const c=_(e,["personGeneration"]);t!==void 0&&c!=null&&w(t,["parameters","personGeneration"],c);const u=_(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&w(t,["parameters","includeSafetyAttributes"],u);const d=_(e,["includeRaiReason"]);t!==void 0&&d!=null&&w(t,["parameters","includeRaiReason"],d);const p=_(e,["language"]);t!==void 0&&p!=null&&w(t,["parameters","language"],p);const m=_(e,["outputMimeType"]);t!==void 0&&m!=null&&w(t,["parameters","outputOptions","mimeType"],m);const y=_(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&w(t,["parameters","outputOptions","compressionQuality"],y),_(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=_(e,["imageSize"]);if(t!==void 0&&x!=null&&w(t,["parameters","sampleImageSize"],x),_(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function vpe(e,t,r){const n={},i=_(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=_(e,["negativePrompt"]);t!==void 0&&a!=null&&w(t,["parameters","negativePrompt"],a);const s=_(e,["numberOfImages"]);t!==void 0&&s!=null&&w(t,["parameters","sampleCount"],s);const o=_(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const c=_(e,["guidanceScale"]);t!==void 0&&c!=null&&w(t,["parameters","guidanceScale"],c);const u=_(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const d=_(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const p=_(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const m=_(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&w(t,["parameters","includeSafetyAttributes"],m);const y=_(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const x=_(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const b=_(e,["outputMimeType"]);t!==void 0&&b!=null&&w(t,["parameters","outputOptions","mimeType"],b);const E=_(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const S=_(e,["addWatermark"]);t!==void 0&&S!=null&&w(t,["parameters","addWatermark"],S);const L=_(e,["labels"]);t!==void 0&&L!=null&&w(t,["labels"],L);const k=_(e,["imageSize"]);t!==void 0&&k!=null&&w(t,["parameters","sampleImageSize"],k);const M=_(e,["enhancePrompt"]);return t!==void 0&&M!=null&&w(t,["parameters","enhancePrompt"],M),n}function ype(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["config"]);return s!=null&&gpe(s,n),n}function xpe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["config"]);return s!=null&&vpe(s,n),n}function _pe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Rpe(o))),w(r,["generatedImages"],s)}const a=_(e,["positivePromptSafetyAttributes"]);return a!=null&&w(r,["positivePromptSafetyAttributes"],GB(a)),r}function bpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>q1(o))),w(r,["generatedImages"],s)}const a=_(e,["positivePromptSafetyAttributes"]);return a!=null&&w(r,["positivePromptSafetyAttributes"],qB(a)),r}function wpe(e,t,r){const n={},i=_(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i),_(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=_(e,["durationSeconds"]);if(t!==void 0&&a!=null&&w(t,["parameters","durationSeconds"],a),_(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=_(e,["aspectRatio"]);t!==void 0&&s!=null&&w(t,["parameters","aspectRatio"],s);const o=_(e,["resolution"]);t!==void 0&&o!=null&&w(t,["parameters","resolution"],o);const c=_(e,["personGeneration"]);if(t!==void 0&&c!=null&&w(t,["parameters","personGeneration"],c),_(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=_(e,["negativePrompt"]);t!==void 0&&u!=null&&w(t,["parameters","negativePrompt"],u);const d=_(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&w(t,["parameters","enhancePrompt"],d),_(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=_(e,["lastFrame"]);t!==void 0&&p!=null&&w(t,["instances[0]","lastFrame"],K1(p));const m=_(e,["referenceImages"]);if(t!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(x=>Tme(x))),w(t,["instances[0]","referenceImages"],y)}if(_(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(_(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Epe(e,t,r){const n={},i=_(e,["numberOfVideos"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=_(e,["outputGcsUri"]);t!==void 0&&a!=null&&w(t,["parameters","storageUri"],a);const s=_(e,["fps"]);t!==void 0&&s!=null&&w(t,["parameters","fps"],s);const o=_(e,["durationSeconds"]);t!==void 0&&o!=null&&w(t,["parameters","durationSeconds"],o);const c=_(e,["seed"]);t!==void 0&&c!=null&&w(t,["parameters","seed"],c);const u=_(e,["aspectRatio"]);t!==void 0&&u!=null&&w(t,["parameters","aspectRatio"],u);const d=_(e,["resolution"]);t!==void 0&&d!=null&&w(t,["parameters","resolution"],d);const p=_(e,["personGeneration"]);t!==void 0&&p!=null&&w(t,["parameters","personGeneration"],p);const m=_(e,["pubsubTopic"]);t!==void 0&&m!=null&&w(t,["parameters","pubsubTopic"],m);const y=_(e,["negativePrompt"]);t!==void 0&&y!=null&&w(t,["parameters","negativePrompt"],y);const x=_(e,["enhancePrompt"]);t!==void 0&&x!=null&&w(t,["parameters","enhancePrompt"],x);const b=_(e,["generateAudio"]);t!==void 0&&b!=null&&w(t,["parameters","generateAudio"],b);const E=_(e,["lastFrame"]);t!==void 0&&E!=null&&w(t,["instances[0]","lastFrame"],vo(E));const S=_(e,["referenceImages"]);if(t!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(D=>Ame(D))),w(t,["instances[0]","referenceImages"],M)}const L=_(e,["mask"]);t!==void 0&&L!=null&&w(t,["instances[0]","mask"],Eme(L));const k=_(e,["compressionQuality"]);return t!==void 0&&k!=null&&w(t,["parameters","compressionQuality"],k),n}function Tpe(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["metadata"]);i!=null&&w(r,["metadata"],i);const a=_(e,["done"]);a!=null&&w(r,["done"],a);const s=_(e,["error"]);s!=null&&w(r,["error"],s);const o=_(e,["response","generateVideoResponse"]);return o!=null&&w(r,["response"],Npe(o)),r}function Ape(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["metadata"]);i!=null&&w(r,["metadata"],i);const a=_(e,["done"]);a!=null&&w(r,["done"],a);const s=_(e,["error"]);s!=null&&w(r,["error"],s);const o=_(e,["response"]);return o!=null&&w(r,["response"],Ipe(o)),r}function Spe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["image"]);s!=null&&w(n,["instances[0]","image"],K1(s));const o=_(t,["video"]);o!=null&&w(n,["instances[0]","video"],WB(o));const c=_(t,["source"]);c!=null&&kpe(c,n);const u=_(t,["config"]);return u!=null&&wpe(u,n),n}function Cpe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["image"]);s!=null&&w(n,["instances[0]","image"],vo(s));const o=_(t,["video"]);o!=null&&w(n,["instances[0]","video"],YB(o));const c=_(t,["source"]);c!=null&&Ppe(c,n);const u=_(t,["config"]);return u!=null&&Epe(u,n),n}function Npe(e,t){const r={},n=_(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Mpe(o))),w(r,["generatedVideos"],s)}const i=_(e,["raiMediaFilteredCount"]);i!=null&&w(r,["raiMediaFilteredCount"],i);const a=_(e,["raiMediaFilteredReasons"]);return a!=null&&w(r,["raiMediaFilteredReasons"],a),r}function Ipe(e,t){const r={},n=_(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Dpe(o))),w(r,["generatedVideos"],s)}const i=_(e,["raiMediaFilteredCount"]);i!=null&&w(r,["raiMediaFilteredCount"],i);const a=_(e,["raiMediaFilteredReasons"]);return a!=null&&w(r,["raiMediaFilteredReasons"],a),r}function kpe(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],K1(a));const s=_(e,["video"]);return t!==void 0&&s!=null&&w(t,["instances[0]","video"],WB(s)),n}function Ppe(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],vo(a));const s=_(e,["video"]);return t!==void 0&&s!=null&&w(t,["instances[0]","video"],YB(s)),n}function Rpe(e,t){const r={},n=_(e,["_self"]);n!=null&&w(r,["image"],$pe(n));const i=_(e,["raiFilteredReason"]);i!=null&&w(r,["raiFilteredReason"],i);const a=_(e,["_self"]);return a!=null&&w(r,["safetyAttributes"],GB(a)),r}function q1(e,t){const r={},n=_(e,["_self"]);n!=null&&w(r,["image"],HB(n));const i=_(e,["raiFilteredReason"]);i!=null&&w(r,["raiFilteredReason"],i);const a=_(e,["_self"]);a!=null&&w(r,["safetyAttributes"],qB(a));const s=_(e,["prompt"]);return s!=null&&w(r,["enhancedPrompt"],s),r}function Ope(e,t){const r={},n=_(e,["_self"]);n!=null&&w(r,["mask"],HB(n));const i=_(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(r,["labels"],a)}return r}function Mpe(e,t){const r={},n=_(e,["video"]);return n!=null&&w(r,["video"],bme(n)),r}function Dpe(e,t){const r={},n=_(e,["_self"]);return n!=null&&w(r,["video"],wme(n)),r}function Lpe(e,t){const r={},n=_(e,["modelSelectionConfig"]);n!=null&&w(r,["modelConfig"],n);const i=_(e,["responseJsonSchema"]);i!=null&&w(r,["responseJsonSchema"],i);const a=_(e,["audioTimestamp"]);a!=null&&w(r,["audioTimestamp"],a);const s=_(e,["candidateCount"]);s!=null&&w(r,["candidateCount"],s);const o=_(e,["enableAffectiveDialog"]);o!=null&&w(r,["enableAffectiveDialog"],o);const c=_(e,["frequencyPenalty"]);c!=null&&w(r,["frequencyPenalty"],c);const u=_(e,["logprobs"]);u!=null&&w(r,["logprobs"],u);const d=_(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const p=_(e,["mediaResolution"]);p!=null&&w(r,["mediaResolution"],p);const m=_(e,["presencePenalty"]);m!=null&&w(r,["presencePenalty"],m);const y=_(e,["responseLogprobs"]);y!=null&&w(r,["responseLogprobs"],y);const x=_(e,["responseMimeType"]);x!=null&&w(r,["responseMimeType"],x);const b=_(e,["responseModalities"]);b!=null&&w(r,["responseModalities"],b);const E=_(e,["responseSchema"]);E!=null&&w(r,["responseSchema"],E);const S=_(e,["routingConfig"]);S!=null&&w(r,["routingConfig"],S);const L=_(e,["seed"]);L!=null&&w(r,["seed"],L);const k=_(e,["speechConfig"]);k!=null&&w(r,["speechConfig"],k);const M=_(e,["stopSequences"]);M!=null&&w(r,["stopSequences"],M);const D=_(e,["temperature"]);D!=null&&w(r,["temperature"],D);const P=_(e,["thinkingConfig"]);P!=null&&w(r,["thinkingConfig"],P);const N=_(e,["topK"]);N!=null&&w(r,["topK"],N);const I=_(e,["topP"]);if(I!=null&&w(r,["topP"],I),_(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Fpe(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function jpe(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],fr(e,i)),n}function Upe(e,t){const r={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(e,["enableWidget"]);return n!=null&&w(r,["enableWidget"],n),r}function Bpe(e,t){const r={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(e,["timeRangeFilter"]);return n!=null&&w(r,["timeRangeFilter"],n),r}function Vpe(e,t){const r={},n=_(e,["aspectRatio"]);n!=null&&w(r,["aspectRatio"],n);const i=_(e,["imageSize"]);if(i!=null&&w(r,["imageSize"],i),_(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(_(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function zpe(e,t){const r={},n=_(e,["aspectRatio"]);n!=null&&w(r,["aspectRatio"],n);const i=_(e,["imageSize"]);i!=null&&w(r,["imageSize"],i);const a=_(e,["personGeneration"]);a!=null&&w(r,["personGeneration"],a);const s=_(e,["outputMimeType"]);s!=null&&w(r,["imageOutputOptions","mimeType"],s);const o=_(e,["outputCompressionQuality"]);return o!=null&&w(r,["imageOutputOptions","compressionQuality"],o),r}function $pe(e,t){const r={},n=_(e,["bytesBase64Encoded"]);n!=null&&w(r,["imageBytes"],pu(n));const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function HB(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["gcsUri"],n);const i=_(e,["bytesBase64Encoded"]);i!=null&&w(r,["imageBytes"],pu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function K1(e,t){const r={};if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=_(e,["imageBytes"]);n!=null&&w(r,["bytesBase64Encoded"],pu(n));const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function vo(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["gcsUri"],n);const i=_(e,["imageBytes"]);i!=null&&w(r,["bytesBase64Encoded"],pu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function Hpe(e,t,r,n){const i={},a=_(t,["pageSize"]);r!==void 0&&a!=null&&w(r,["_query","pageSize"],a);const s=_(t,["pageToken"]);r!==void 0&&s!=null&&w(r,["_query","pageToken"],s);const o=_(t,["filter"]);r!==void 0&&o!=null&&w(r,["_query","filter"],o);const c=_(t,["queryBase"]);return r!==void 0&&c!=null&&w(r,["_url","models_url"],FB(e,c)),i}function Gpe(e,t,r,n){const i={},a=_(t,["pageSize"]);r!==void 0&&a!=null&&w(r,["_query","pageSize"],a);const s=_(t,["pageToken"]);r!==void 0&&s!=null&&w(r,["_query","pageToken"],s);const o=_(t,["filter"]);r!==void 0&&o!=null&&w(r,["_query","filter"],o);const c=_(t,["queryBase"]);return r!==void 0&&c!=null&&w(r,["_url","models_url"],FB(e,c)),i}function qpe(e,t,r){const n={},i=_(t,["config"]);return i!=null&&Hpe(e,i,n),n}function Kpe(e,t,r){const n={},i=_(t,["config"]);return i!=null&&Gpe(e,i,n),n}function Wpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["_self"]);if(a!=null){let s=jB(a);Array.isArray(s)&&(s=s.map(o=>XA(o))),w(r,["models"],s)}return r}function Ype(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["_self"]);if(a!=null){let s=jB(a);Array.isArray(s)&&(s=s.map(o=>ZA(o))),w(r,["models"],s)}return r}function Jpe(e,t){const r={},n=_(e,["maskMode"]);n!=null&&w(r,["maskMode"],n);const i=_(e,["segmentationClasses"]);i!=null&&w(r,["maskClasses"],i);const a=_(e,["maskDilation"]);return a!=null&&w(r,["dilation"],a),r}function XA(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["displayName"]);i!=null&&w(r,["displayName"],i);const a=_(e,["description"]);a!=null&&w(r,["description"],a);const s=_(e,["version"]);s!=null&&w(r,["version"],s);const o=_(e,["_self"]);o!=null&&w(r,["tunedModelInfo"],dme(o));const c=_(e,["inputTokenLimit"]);c!=null&&w(r,["inputTokenLimit"],c);const u=_(e,["outputTokenLimit"]);u!=null&&w(r,["outputTokenLimit"],u);const d=_(e,["supportedGenerationMethods"]);d!=null&&w(r,["supportedActions"],d);const p=_(e,["temperature"]);p!=null&&w(r,["temperature"],p);const m=_(e,["maxTemperature"]);m!=null&&w(r,["maxTemperature"],m);const y=_(e,["topP"]);y!=null&&w(r,["topP"],y);const x=_(e,["topK"]);x!=null&&w(r,["topK"],x);const b=_(e,["thinking"]);return b!=null&&w(r,["thinking"],b),r}function ZA(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["displayName"]);i!=null&&w(r,["displayName"],i);const a=_(e,["description"]);a!=null&&w(r,["description"],a);const s=_(e,["versionId"]);s!=null&&w(r,["version"],s);const o=_(e,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>cpe(y))),w(r,["endpoints"],m)}const c=_(e,["labels"]);c!=null&&w(r,["labels"],c);const u=_(e,["_self"]);u!=null&&w(r,["tunedModelInfo"],hme(u));const d=_(e,["defaultCheckpointId"]);d!=null&&w(r,["defaultCheckpointId"],d);const p=_(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>y)),w(r,["checkpoints"],m)}return r}function Xpe(e,t){const r={},n=_(e,["mediaResolution"]);n!=null&&w(r,["mediaResolution"],n);const i=_(e,["codeExecutionResult"]);i!=null&&w(r,["codeExecutionResult"],i);const a=_(e,["executableCode"]);a!=null&&w(r,["executableCode"],a);const s=_(e,["fileData"]);s!=null&&w(r,["fileData"],upe(s));const o=_(e,["functionCall"]);o!=null&&w(r,["functionCall"],fpe(o));const c=_(e,["functionResponse"]);c!=null&&w(r,["functionResponse"],c);const u=_(e,["inlineData"]);u!=null&&w(r,["inlineData"],L0e(u));const d=_(e,["text"]);d!=null&&w(r,["text"],d);const p=_(e,["thought"]);p!=null&&w(r,["thought"],p);const m=_(e,["thoughtSignature"]);m!=null&&w(r,["thoughtSignature"],m);const y=_(e,["videoMetadata"]);return y!=null&&w(r,["videoMetadata"],y),r}function Zpe(e,t){const r={},n=_(e,["productImage"]);return n!=null&&w(r,["image"],vo(n)),r}function Qpe(e,t,r){const n={},i=_(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=_(e,["baseSteps"]);t!==void 0&&a!=null&&w(t,["parameters","baseSteps"],a);const s=_(e,["outputGcsUri"]);t!==void 0&&s!=null&&w(t,["parameters","storageUri"],s);const o=_(e,["seed"]);t!==void 0&&o!=null&&w(t,["parameters","seed"],o);const c=_(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&w(t,["parameters","safetySetting"],c);const u=_(e,["personGeneration"]);t!==void 0&&u!=null&&w(t,["parameters","personGeneration"],u);const d=_(e,["addWatermark"]);t!==void 0&&d!=null&&w(t,["parameters","addWatermark"],d);const p=_(e,["outputMimeType"]);t!==void 0&&p!=null&&w(t,["parameters","outputOptions","mimeType"],p);const m=_(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&w(t,["parameters","outputOptions","compressionQuality"],m);const y=_(e,["enhancePrompt"]);t!==void 0&&y!=null&&w(t,["parameters","enhancePrompt"],y);const x=_(e,["labels"]);return t!==void 0&&x!=null&&w(t,["labels"],x),n}function eme(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["source"]);a!=null&&rme(a,n);const s=_(t,["config"]);return s!=null&&Qpe(s,n),n}function tme(e,t){const r={},n=_(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>q1(a))),w(r,["generatedImages"],i)}return r}function rme(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["personImage"]);t!==void 0&&a!=null&&w(t,["instances[0]","personImage","image"],vo(a));const s=_(e,["productImages"]);if(t!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>Zpe(c))),w(t,["instances[0]","productImages"],o)}return n}function nme(e,t){const r={},n=_(e,["referenceImage"]);n!=null&&w(r,["referenceImage"],vo(n));const i=_(e,["referenceId"]);i!=null&&w(r,["referenceId"],i);const a=_(e,["referenceType"]);a!=null&&w(r,["referenceType"],a);const s=_(e,["maskImageConfig"]);s!=null&&w(r,["maskImageConfig"],Jpe(s));const o=_(e,["controlImageConfig"]);o!=null&&w(r,["controlImageConfig"],$0e(o));const c=_(e,["styleImageConfig"]);c!=null&&w(r,["styleImageConfig"],c);const u=_(e,["subjectImageConfig"]);return u!=null&&w(r,["subjectImageConfig"],u),r}function GB(e,t){const r={},n=_(e,["safetyAttributes","categories"]);n!=null&&w(r,["categories"],n);const i=_(e,["safetyAttributes","scores"]);i!=null&&w(r,["scores"],i);const a=_(e,["contentType"]);return a!=null&&w(r,["contentType"],a),r}function qB(e,t){const r={},n=_(e,["safetyAttributes","categories"]);n!=null&&w(r,["categories"],n);const i=_(e,["safetyAttributes","scores"]);i!=null&&w(r,["scores"],i);const a=_(e,["contentType"]);return a!=null&&w(r,["contentType"],a),r}function ime(e,t){const r={},n=_(e,["category"]);if(n!=null&&w(r,["category"],n),_(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=_(e,["threshold"]);return i!=null&&w(r,["threshold"],i),r}function ame(e,t){const r={},n=_(e,["image"]);return n!=null&&w(r,["image"],vo(n)),r}function sme(e,t,r){const n={},i=_(e,["mode"]);t!==void 0&&i!=null&&w(t,["parameters","mode"],i);const a=_(e,["maxPredictions"]);t!==void 0&&a!=null&&w(t,["parameters","maxPredictions"],a);const s=_(e,["confidenceThreshold"]);t!==void 0&&s!=null&&w(t,["parameters","confidenceThreshold"],s);const o=_(e,["maskDilation"]);t!==void 0&&o!=null&&w(t,["parameters","maskDilation"],o);const c=_(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&w(t,["parameters","binaryColorThreshold"],c);const u=_(e,["labels"]);return t!==void 0&&u!=null&&w(t,["labels"],u),n}function ome(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["source"]);a!=null&&cme(a,n);const s=_(t,["config"]);return s!=null&&sme(s,n),n}function lme(e,t){const r={},n=_(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Ope(a))),w(r,["generatedMasks"],i)}return r}function cme(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],vo(a));const s=_(e,["scribbleImage"]);return t!==void 0&&s!=null&&w(t,["instances[0]","scribble"],ame(s)),n}function ume(e,t){const r={},n=_(e,["retrievalConfig"]);n!=null&&w(r,["retrievalConfig"],n);const i=_(e,["functionCallingConfig"]);return i!=null&&w(r,["functionCallingConfig"],dpe(i)),r}function fme(e,t){const r={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(e,["computerUse"]);n!=null&&w(r,["computerUse"],n);const i=_(e,["fileSearch"]);i!=null&&w(r,["fileSearch"],i);const a=_(e,["codeExecution"]);if(a!=null&&w(r,["codeExecution"],a),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=_(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(m=>m)),w(r,["functionDeclarations"],p)}const o=_(e,["googleMaps"]);o!=null&&w(r,["googleMaps"],Upe(o));const c=_(e,["googleSearch"]);c!=null&&w(r,["googleSearch"],Bpe(c));const u=_(e,["googleSearchRetrieval"]);u!=null&&w(r,["googleSearchRetrieval"],u);const d=_(e,["urlContext"]);return d!=null&&w(r,["urlContext"],d),r}function KB(e,t){const r={},n=_(e,["retrieval"]);n!=null&&w(r,["retrieval"],n);const i=_(e,["computerUse"]);if(i!=null&&w(r,["computerUse"],i),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=_(e,["codeExecution"]);a!=null&&w(r,["codeExecution"],a);const s=_(e,["enterpriseWebSearch"]);s!=null&&w(r,["enterpriseWebSearch"],s);const o=_(e,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>hpe(y))),w(r,["functionDeclarations"],m)}const c=_(e,["googleMaps"]);c!=null&&w(r,["googleMaps"],c);const u=_(e,["googleSearch"]);u!=null&&w(r,["googleSearch"],u);const d=_(e,["googleSearchRetrieval"]);d!=null&&w(r,["googleSearchRetrieval"],d);const p=_(e,["urlContext"]);return p!=null&&w(r,["urlContext"],p),r}function dme(e,t){const r={},n=_(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["createTime"]);i!=null&&w(r,["createTime"],i);const a=_(e,["updateTime"]);return a!=null&&w(r,["updateTime"],a),r}function hme(e,t){const r={},n=_(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["createTime"]);i!=null&&w(r,["createTime"],i);const a=_(e,["updateTime"]);return a!=null&&w(r,["updateTime"],a),r}function pme(e,t,r){const n={},i=_(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=_(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);const s=_(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&w(t,["defaultCheckpointId"],s),n}function mme(e,t,r){const n={},i=_(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=_(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);const s=_(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&w(t,["defaultCheckpointId"],s),n}function gme(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","name"],fr(e,i));const a=_(t,["config"]);return a!=null&&pme(a,n),n}function vme(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["config"]);return a!=null&&mme(a,n),n}function yme(e,t,r){const n={},i=_(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=_(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&w(t,["parameters","safetySetting"],a);const s=_(e,["personGeneration"]);t!==void 0&&s!=null&&w(t,["parameters","personGeneration"],s);const o=_(e,["includeRaiReason"]);t!==void 0&&o!=null&&w(t,["parameters","includeRaiReason"],o);const c=_(e,["outputMimeType"]);t!==void 0&&c!=null&&w(t,["parameters","outputOptions","mimeType"],c);const u=_(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&w(t,["parameters","outputOptions","compressionQuality"],u);const d=_(e,["enhanceInputImage"]);t!==void 0&&d!=null&&w(t,["parameters","upscaleConfig","enhanceInputImage"],d);const p=_(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&w(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=_(e,["labels"]);t!==void 0&&m!=null&&w(t,["labels"],m);const y=_(e,["numberOfImages"]);t!==void 0&&y!=null&&w(t,["parameters","sampleCount"],y);const x=_(e,["mode"]);return t!==void 0&&x!=null&&w(t,["parameters","mode"],x),n}function xme(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],fr(e,i));const a=_(t,["image"]);a!=null&&w(n,["instances[0]","image"],vo(a));const s=_(t,["upscaleFactor"]);s!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=_(t,["config"]);return o!=null&&yme(o,n),n}function _me(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>q1(s))),w(r,["generatedImages"],a)}return r}function bme(e,t){const r={},n=_(e,["uri"]);n!=null&&w(r,["uri"],n);const i=_(e,["encodedVideo"]);i!=null&&w(r,["videoBytes"],pu(i));const a=_(e,["encoding"]);return a!=null&&w(r,["mimeType"],a),r}function wme(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["uri"],n);const i=_(e,["bytesBase64Encoded"]);i!=null&&w(r,["videoBytes"],pu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function Eme(e,t){const r={},n=_(e,["image"]);n!=null&&w(r,["_self"],vo(n));const i=_(e,["maskMode"]);return i!=null&&w(r,["maskMode"],i),r}function Tme(e,t){const r={},n=_(e,["image"]);n!=null&&w(r,["image"],K1(n));const i=_(e,["referenceType"]);return i!=null&&w(r,["referenceType"],i),r}function Ame(e,t){const r={},n=_(e,["image"]);n!=null&&w(r,["image"],vo(n));const i=_(e,["referenceType"]);return i!=null&&w(r,["referenceType"],i),r}function WB(e,t){const r={},n=_(e,["uri"]);n!=null&&w(r,["uri"],n);const i=_(e,["videoBytes"]);i!=null&&w(r,["encodedVideo"],pu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["encoding"],a),r}function YB(e,t){const r={},n=_(e,["uri"]);n!=null&&w(r,["gcsUri"],n);const i=_(e,["videoBytes"]);i!=null&&w(r,["bytesBase64Encoded"],pu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function Sme(e,t){const r={},n=_(e,["displayName"]);return t!==void 0&&n!=null&&w(t,["displayName"],n),r}function Cme(e){const t={},r=_(e,["config"]);return r!=null&&Sme(r,t),t}function Nme(e,t){const r={},n=_(e,["force"]);return t!==void 0&&n!=null&&w(t,["_query","force"],n),r}function Ime(e){const t={},r=_(e,["name"]);r!=null&&w(t,["_url","name"],r);const n=_(e,["config"]);return n!=null&&Nme(n,t),t}function kme(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Pme(e,t){const r={},n=_(e,["customMetadata"]);if(t!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["customMetadata"],a)}const i=_(e,["chunkingConfig"]);return t!==void 0&&i!=null&&w(t,["chunkingConfig"],i),r}function Rme(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],Mme(s)),t}function Ome(e){const t={},r=_(e,["fileSearchStoreName"]);r!=null&&w(t,["_url","file_search_store_name"],r);const n=_(e,["fileName"]);n!=null&&w(t,["fileName"],n);const i=_(e,["config"]);return i!=null&&Pme(i,t),t}function Mme(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["parent"]);n!=null&&w(t,["parent"],n);const i=_(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function Dme(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Lme(e){const t={},r=_(e,["config"]);return r!=null&&Dme(r,t),t}function Fme(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["fileSearchStores"],a)}return t}function JB(e,t){const r={},n=_(e,["mimeType"]);t!==void 0&&n!=null&&w(t,["mimeType"],n);const i=_(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=_(e,["customMetadata"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),w(t,["customMetadata"],o)}const s=_(e,["chunkingConfig"]);return t!==void 0&&s!=null&&w(t,["chunkingConfig"],s),r}function jme(e){const t={},r=_(e,["fileSearchStoreName"]);r!=null&&w(t,["_url","file_search_store_name"],r);const n=_(e,["config"]);return n!=null&&JB(n,t),t}function Ume(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}const Bme="Content-Type",Vme="X-Server-Timeout",zme="User-Agent",QA="x-goog-api-client",$me="1.40.0",Hme=`google-genai-sdk/${$me}`,Gme="v1beta1",qme="v1beta";class Kme{constructor(t){var r,n,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(r=t.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Gme}else{if(!this.clientOptions.apiKey)throw new cm({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:qme,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,r){return!(r.baseUrl&&r.baseUrlResourceScope===KA.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);if(t.queryParams)for(const[s,o]of Object.entries(t.queryParams))i.searchParams.append(s,String(o));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,r){const n=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,n,i){if(r&&r.timeout||i){const a=new AbortController,s=a.signal;if(r.timeout&&r?.timeout>0){const o=setTimeout(()=>a.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=s}return r&&r.extraBody!==null&&Wme(t,r.extraBody),t.headers=await this.getHeadersInternal(r,n),t}async unaryApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await r3(i),new WA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await r3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return lo(this,arguments,function*(){var n;const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const o="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Ct(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=a.decode(d,{stream:!0});try{const x=JSON.parse(p);if("error"in x){const b=JSON.parse(JSON.stringify(x.error)),E=b.status,S=b.code,L=`got status: ${E}. ${JSON.stringify(x)}`;if(S>=400&&S<600)throw new cm({message:L,status:S})}}catch(x){if(x.name==="ApiError")throw x}s+=p;let m=-1,y=0;for(;;){m=-1,y=0;for(const E of c){const S=s.indexOf(E);S!==-1&&(m===-1||S<m)&&(m=S,y=E.length)}if(m===-1)break;const x=s.substring(0,m);s=s.substring(m+y);const b=x.trim();if(b.startsWith(o)){const E=b.substring(o.length).trim();try{const S=new Response(E,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield Ct(new WA(S))}catch(S){throw new Error(`exception parsing stream chunk ${E}. ${S}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},r=Hme+" "+this.clientOptions.userAgentExtra;return t[zme]=r,t[QA]=r,t[Bme]="application/json",t}async getHeadersInternal(t,r){const n=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))n.append(i,a);t.timeout&&t.timeout>0&&n.append(Vme,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(t){var r;let n="";return typeof t=="string"&&(n=t.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(t,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(t);i.sizeBytes=String(s.size);const o=(n=r?.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},u=this.getFileName(t),d=tt("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,r?.httpOptions);return a.upload(t,p,this)}async uploadFileToFileSearchStore(t,r,n){var i;const a=this.clientOptions.uploader,s=await a.stat(r),o=String(s.size),c=(i=n?.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(r),p={};n!=null&&JB(n,p);const m=await this.fetchUploadUrl(u,o,c,d,p,n?.httpOptions);return a.uploadToFileSearchStore(r,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r,n,i,a,s){var o;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function r3(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const r=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new cm({message:i,status:r}):new Error(i)}}function Wme(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,s){const o=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=s[c],d=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[c]=n(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const i=n(r,t);e.body=JSON.stringify(i)}const Yme="mcp_used/unknown";let Jme=!1;function XB(e){for(const t of e)if(Xme(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Jme}function ZB(e){var t;const r=(t=e[QA])!==null&&t!==void 0?t:"";e[QA]=(r+` ${Yme}`).trimStart()}function Xme(e){return e!==null&&typeof e=="object"&&e instanceof OC}function Zme(e){return lo(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const s=yield Ct(r.listTools({cursor:i}));for(const o of s.tools)yield yield Ct(o),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class OC{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new OC(t,r)}async initialize(){var t,r,n,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const d of this.mcpClients)try{for(var o=!0,c=(r=void 0,co(Zme(d))),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const p=i;s.push(p);const m=p.name;if(a[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);a[m]=d}}catch(p){r={error:p}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Cde(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return r}}async function Qme(e,t,r){const n=new xde;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),t(n)}class ege{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n}async connect(t){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=nge(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(k=>{u=k}),p=t.callbacks,m=function(){u({})},y=this.apiClient,x={onopen:m,onmessage:k=>{Qme(y,p.onmessage,k)},onerror:(r=p?.onerror)!==null&&r!==void 0?r:function(k){},onclose:(n=p?.onclose)!==null&&n!==void 0?n:function(k){}},b=this.webSocketFactory.create(c,rge(s),x);b.connect(),await d;const L={setup:{model:fr(this.apiClient,t.model)}};return b.send(JSON.stringify(L)),new tge(b,this.apiClient)}}class tge{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=S0e(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=A0e(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const r={playbackControl:t};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Gd.PLAY)}pause(){this.sendPlaybackControl(Gd.PAUSE)}stop(){this.sendPlaybackControl(Gd.STOP)}resetContext(){this.sendPlaybackControl(Gd.RESET_CONTEXT)}close(){this.conn.close()}}function rge(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function nge(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const ige="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function age(e,t,r){const n=new yde;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(e.isVertexAI()){const s=I0e(a);Object.assign(n,s)}else Object.assign(n,a);t(n)}class sge{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n,this.music=new ege(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,n,i,a,s,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&XB(t.config.tools)&&ZB(p);const m=uge(p);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),U=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),F=!!O&&!!U||!!B;this.apiClient.getCustomBaseUrl()&&!F?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,d))}else{const O=this.apiClient.getApiKey();let U="BidiGenerateContent",B="key";O?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",B="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${B}=${O}`}let y=()=>{};const x=new Promise(O=>{y=O}),b=t.callbacks,E=function(){var O;(O=b?.onopen)===null||O===void 0||O.call(b),y({})},S=this.apiClient,L={onopen:E,onmessage:O=>{age(S,b.onmessage,O)},onerror:(r=b?.onerror)!==null&&r!==void 0?r:function(O){},onclose:(n=b?.onclose)!==null&&n!==void 0?n:function(O){}},k=this.webSocketFactory.create(d,cge(m),L);k.connect(),await x;let M=fr(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const O=this.apiClient.getProject(),U=this.apiClient.getLocation();O&&U&&(M=`projects/${O}/locations/${U}/`+M)}let D={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[xx.AUDIO]}:t.config.responseModalities=[xx.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],N=[];for(const O of P)if(this.isCallableTool(O)){const U=O;N.push(await U.tool())}else N.push(O);N.length>0&&(t.config.tools=N);const I={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?D=T0e(this.apiClient,I):D=E0e(this.apiClient,I),delete D.config,k.send(JSON.stringify(D)),new lge(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const oge={turnComplete:!0};class lge{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Os(r.turns),t.isVertexAI()||(n=n.map(i=>G1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(ige)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},oge),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:N0e(t)}:r={realtimeInput:C0e(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function cge(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function uge(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const n3=10;function i3(e){var t,r,n;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(r=e?.tools)!==null&&r!==void 0?r:[])if(nh(s)){i=!0;break}if(!i)return!0;const a=(n=e?.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function nh(e){return"callTool"in e&&typeof e.callTool=="function"}function fge(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(i=>nh(i)))!==null&&n!==void 0?n:!1}function a3(e){var t;const r=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((n,i)=>{if(nh(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function s3(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class dge extends Jl{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var n,i,a,s,o;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!fge(r)||i3(r.config))return await this.generateContentInternal(c);const u=a3(r);if(u.length>0){const b=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,p;const m=Os(c.contents),y=(a=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:n3;let x=0;for(;x<y&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,E=[];for(const S of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(nh(S)){const k=await S.callTool(d.functionCalls);E.push(...k)}x++,p={role:"user",parts:E},c.contents=Os(c.contents),c.contents.push(b),c.contents.push(p),s3(c.config)&&(m.push(b),m.push(p))}return s3(c.config)&&(d.automaticFunctionCallingHistory=m),d},this.generateContentStream=async r=>{var n,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(r),i3(r.config)){const p=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(p)}const c=a3(r);if(c.length>0){const p=c.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(n=r?.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(o=(s=r?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n?.generatedImages)for(const c of n.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:s.push(c);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Vf(jl.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,s,o,c;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((s=(a=r.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(o=r.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,n,i;const a=(r=t.config)===null||r===void 0?void 0:r.tools;if(!a)return t;const s=await Promise.all(a.map(async c=>nh(c)?await c.tool():c)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(o.config.tools=s,t.config&&t.config.tools&&XB(t.config.tools)){const c=(i=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),ZB(u),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(t){var r,n,i;const a=new Map;for(const s of(n=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(nh(s)){const o=s,c=await o.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,o)}}return a}async processAfcStream(t){var r,n,i;const a=(i=(n=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:n3;let s=!1,o=0;const c=await this.initAfcToolsMap(t);return(function(u,d,p){return lo(this,arguments,function*(){for(var m,y,x,b,E,S;o<a;){s&&(o++,s=!1);const D=yield Ct(u.processParamsMaybeAddMcpUsage(p)),P=yield Ct(u.generateContentStreamInternal(D)),N=[],I=[];try{for(var L=!0,k=(y=void 0,co(P)),M;M=yield Ct(k.next()),m=M.done,!m;L=!0){b=M.value,L=!1;const O=b;if(yield yield Ct(O),O.candidates&&(!((E=O.candidates[0])===null||E===void 0)&&E.content)){I.push(O.candidates[0].content);for(const U of(S=O.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(o<a&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(U.functionCall.name)){const B=yield Ct(d.get(U.functionCall.name).callTool([U.functionCall]));N.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(O){y={error:O}}finally{try{!L&&!m&&(x=k.return)&&(yield Ct(x.call(k)))}finally{if(y)throw y.error}}if(N.length>0){s=!0;const O=new H0;O.candidates=[{content:{role:"user",parts:N}}],yield yield Ct(O);const U=[];U.push(...I),U.push({role:"user",parts:N});const B=Os(p.contents).concat(U);p.contents=B}else break}})})(this,c,t)}async generateContentInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=QD(this.apiClient,t);return o=tt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=t3(d),m=new H0;return Object.assign(m,p),m})}else{const u=ZD(this.apiClient,t);return o=tt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=e3(d),m=new H0;return Object.assign(m,p),m})}}async generateContentStreamInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=QD(this.apiClient,t);return o=tt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(p){return lo(this,arguments,function*(){var m,y,x,b;try{for(var E=!0,S=co(p),L;L=yield Ct(S.next()),m=L.done,!m;E=!0){b=L.value,E=!1;const k=b,M=t3(yield Ct(k.json()),t);M.sdkHttpResponse={headers:k.headers};const D=new H0;Object.assign(D,M),yield yield Ct(D)}}catch(k){y={error:k}}finally{try{!E&&!m&&(x=S.return)&&(yield Ct(x.call(S)))}finally{if(y)throw y.error}}})})}else{const u=ZD(this.apiClient,t);return o=tt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(p){return lo(this,arguments,function*(){var m,y,x,b;try{for(var E=!0,S=co(p),L;L=yield Ct(S.next()),m=L.done,!m;E=!0){b=L.value,E=!1;const k=b,M=e3(yield Ct(k.json()),t);M.sdkHttpResponse={headers:k.headers};const D=new H0;Object.assign(D,M),yield yield Ct(D)}}catch(k){y={error:k}}finally{try{!E&&!m&&(x=S.return)&&(yield Ct(x.call(S)))}finally{if(y)throw y.error}}})})}}async embedContent(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=spe(this.apiClient,t);return o=tt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=lpe(d),m=new DD;return Object.assign(m,p),m})}else{const u=ape(this.apiClient,t);return o=tt("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=ope(d),m=new DD;return Object.assign(m,p),m})}}async generateImagesInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=xpe(this.apiClient,t);return o=tt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=bpe(d),m=new LD;return Object.assign(m,p),m})}else{const u=ype(this.apiClient,t);return o=tt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=_pe(d),m=new LD;return Object.assign(m,p),m})}}async editImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=tpe(this.apiClient,t);return a=tt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=rpe(c),d=new sde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=xme(this.apiClient,t);return a=tt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=_me(c),d=new ode;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=eme(this.apiClient,t);return a=tt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=tme(c),d=new lde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=ome(this.apiClient,t);return a=tt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=lme(c),d=new cde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=jpe(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>ZA(d))}else{const u=Fpe(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>XA(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Kpe(this.apiClient,t);return o=tt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Ype(d),m=new FD;return Object.assign(m,p),m})}else{const u=qpe(this.apiClient,t);return o=tt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Wpe(d),m=new FD;return Object.assign(m,p),m})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=vme(this.apiClient,t);return o=tt("{model}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>ZA(d))}else{const u=gme(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>XA(d))}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=X0e(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Q0e(d),m=new jD;return Object.assign(m,p),m})}else{const u=J0e(this.apiClient,t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Z0e(d),m=new jD;return Object.assign(m,p),m})}}async countTokens(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=K0e(this.apiClient,t);return o=tt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Y0e(d),m=new UD;return Object.assign(m,p),m})}else{const u=q0e(this.apiClient,t);return o=tt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=W0e(d),m=new UD;return Object.assign(m,p),m})}}async computeTokens(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=U0e(this.apiClient,t);return a=tt("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=B0e(c),d=new ude;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Cpe(this.apiClient,t);return o=tt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Ape(d),m=new _x;return Object.assign(m,p),m})}else{const u=Spe(this.apiClient,t);return o=tt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>{const p=Tpe(d),m=new _x;return Object.assign(m,p),m})}}}class hge extends Jl{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ede(t);return o=tt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s}else{const u=Qfe(t);return o=tt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=qfe(t);return a=tt("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function pge(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function mge(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Tge(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function gge(e,t,r){const n={},i=_(t,["expireTime"]);r!==void 0&&i!=null&&w(r,["expireTime"],i);const a=_(t,["newSessionExpireTime"]);r!==void 0&&a!=null&&w(r,["newSessionExpireTime"],a);const s=_(t,["uses"]);r!==void 0&&s!=null&&w(r,["uses"],s);const o=_(t,["liveConnectConstraints"]);r!==void 0&&o!=null&&w(r,["bidiGenerateContentSetup"],Ege(e,o));const c=_(t,["lockAdditionalFields"]);return r!==void 0&&c!=null&&w(r,["fieldMask"],c),n}function vge(e,t){const r={},n=_(t,["config"]);return n!=null&&w(r,["config"],gge(e,n,r)),r}function yge(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function xge(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _ge(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function bge(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function wge(e,t){const r={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],n);const i=_(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=_(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=_(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=_(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=_(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=_(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const p=_(e,["speechConfig"]);t!==void 0&&p!=null&&w(t,["setup","generationConfig","speechConfig"],RC(p));const m=_(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=_(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=_(e,["systemInstruction"]);t!==void 0&&x!=null&&w(t,["setup","systemInstruction"],mge(Hi(x)));const b=_(e,["tools"]);if(t!==void 0&&b!=null){let P=Fh(b);Array.isArray(P)&&(P=P.map(N=>Sge(Lh(N)))),w(t,["setup","tools"],P)}const E=_(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],Age(E));const S=_(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&w(t,["setup","inputAudioTranscription"],S);const L=_(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&w(t,["setup","outputAudioTranscription"],L);const k=_(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const M=_(e,["contextWindowCompression"]);t!==void 0&&M!=null&&w(t,["setup","contextWindowCompression"],M);const D=_(e,["proactivity"]);if(t!==void 0&&D!=null&&w(t,["setup","proactivity"],D),_(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function Ege(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["setup","model"],fr(e,n));const i=_(t,["config"]);return i!=null&&w(r,["config"],wge(i,r)),r}function Tge(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],yge(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],xge(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],pge(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const p=_(e,["thoughtSignature"]);p!=null&&w(t,["thoughtSignature"],p);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function Age(e){const t={},r=_(e,["handle"]);if(r!=null&&w(t,["handle"],r),_(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Sge(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],_ge(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],bge(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function Cge(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);t.push(...i)}else t.push(r)}return t.join(",")}function Nge(e,t){let r=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,r=a):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(r){const a=Cge(r);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),o.length>0&&c.push(...o),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Ige extends Jl{constructor(t){super(),this.apiClient=t}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=vge(this.apiClient,t);a=tt("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const c=Nge(o,t.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}function kge(e,t){const r={},n=_(e,["force"]);return t!==void 0&&n!=null&&w(t,["_query","force"],n),r}function Pge(e){const t={},r=_(e,["name"]);r!=null&&w(t,["_url","name"],r);const n=_(e,["config"]);return n!=null&&kge(n,t),t}function Rge(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Oge(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Mge(e){const t={},r=_(e,["parent"]);r!=null&&w(t,["_url","parent"],r);const n=_(e,["config"]);return n!=null&&Oge(n,t),t}function Dge(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["documents"],a)}return t}class Lge extends Jl{constructor(t){super(),this.apiClient=t,this.list=async r=>new Vf(jl.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rge(t);return a=tt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Pge(t);i=tt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mge(t);return a=tt("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Dge(c),d=new fde;return Object.assign(d,u),d})}}}class Fge extends Jl{constructor(t,r=new Lge(t)){super(),this.apiClient=t,this.documents=r,this.list=async(n={})=>new Vf(jl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cme(t);return a=tt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kme(t);return a=tt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ime(t);i=tt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lme(t);return a=tt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Fme(c),d=new dde;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jme(t);return a=tt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Ume(c),d=new hde;return Object.assign(d,u),d})}}async importFile(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ome(t);return a=tt("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Rme(c),d=new CC;return Object.assign(d,u),d})}}}let QB=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return QB=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const jge=()=>QB();function eS(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const tS=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Ds extends Error{}class ma extends Ds{constructor(t,r,n,i){super(`${ma.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.error=r}static makeMessage(t,r,n){const i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new W1({message:n,cause:tS(r)});const a=r;return t===400?new tV(t,a,n,i):t===401?new rV(t,a,n,i):t===403?new nV(t,a,n,i):t===404?new iV(t,a,n,i):t===409?new aV(t,a,n,i):t===422?new sV(t,a,n,i):t===429?new oV(t,a,n,i):t>=500?new lV(t,a,n,i):new ma(t,a,n,i)}}class rS extends ma{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class W1 extends ma{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class eV extends W1{constructor({message:t}={}){super({message:t??"Request timed out."})}}class tV extends ma{}class rV extends ma{}class nV extends ma{}class iV extends ma{}class aV extends ma{}class sV extends ma{}class oV extends ma{}class lV extends ma{}const Uge=/^[a-z][a-z0-9+.-]*:/i,Bge=e=>Uge.test(e);let nS=e=>(nS=Array.isArray,nS(e));const Vge=nS;let zge=Vge;const o3=zge;function $ge(e){if(!e)return!0;for(const t in e)return!1;return!0}function Hge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const Gge=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ds(`${e} must be an integer`);if(t<0)throw new Ds(`${e} must be a positive integer`);return t},qge=e=>{try{return JSON.parse(e)}catch{return}};const Kge=e=>new Promise(t=>setTimeout(t,e));const Ld="0.0.1";function Wge(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Yge=()=>{var e,t,r,n,i;const a=Wge();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ld,"X-Stainless-OS":c3(Deno.build.os),"X-Stainless-Arch":l3(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ld,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ld,"X-Stainless-OS":c3((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":l3((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Jge();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ld,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ld,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Jge(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,s=n[3]||0;return{browser:t,version:`${i}.${a}.${s}`}}}return null}const l3=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",c3=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let qv;const Xge=()=>qv??(qv=Yge());function Zge(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function cV(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Qge(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return cV({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}function uV(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function eve(e){var t,r;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((r=(t=e[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(t));return}const n=e.getReader(),i=n.cancel();n.releaseLock(),await i}const tve=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const fV=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function bE(e,t,r){return fV(),new File(e,t??"unknown_file",r)}function rve(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const nve=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";const dV=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",ive=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&dV(e),ave=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function sve(e,t,r){if(fV(),e=await e,ive(e))return e instanceof File?e:bE([await e.arrayBuffer()],e.name);if(ave(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),bE(await iS(i),t,r)}const n=await iS(e);if(t||(t=rve(e)),!r?.type){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return bE(n,t,r)}async function iS(e){var t,r,n,i,a;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(dV(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(nve(e))try{for(var o=!0,c=co(e),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const d=i;s.push(...await iS(d))}}catch(d){r={error:d}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}else{const d=(a=e?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${ove(e)}`)}return s}function ove(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class hV{constructor(t){this._client=t}}hV._key=[];function pV(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const u3=Object.freeze(Object.create(null)),lve=(e=pV)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],s=r.reduce((d,p,m)=>{var y,x,b;/[?#]/.test(p)&&(i=!0);const E=n[m];let S=(i?encodeURIComponent:e)(""+E);return m!==n.length&&(E==null||typeof E=="object"&&E.toString===((b=Object.getPrototypeOf((x=Object.getPrototypeOf((y=E.hasOwnProperty)!==null&&y!==void 0?y:u3))!==null&&x!==void 0?x:u3))===null||b===void 0?void 0:b.toString))&&(S=E+"",a.push({start:d.length+p.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),d+p+(m===n.length?"":S)},""),o=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,p)=>d.start-p.start),a.length>0){let d=0;const p=a.reduce((m,y)=>{const x=" ".repeat(y.start-d),b="^".repeat(y.length);return d=y.start+y.length,m+x+b},"");throw new Ds(`Path parameters result in path with invalid segments:
${a.map(m=>m.error).join(`
`)}
${s}
${p}`)}return s}),Kv=lve(pV);class mV extends hV{create(t,r){var n;const{api_version:i=this._client.apiVersion}=t,a=wx(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Ds("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Ds("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Kv`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Kv`/${i}/interactions/${t}`,n)}cancel(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Kv`/${i}/interactions/${t}/cancel`,n)}get(t,r={},n){var i;const a=r??{},{api_version:s=this._client.apiVersion}=a,o=wx(a,["api_version"]);return this._client.get(Kv`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},n),{stream:(i=r?.stream)!==null&&i!==void 0?i:!1}))}}mV._key=Object.freeze(["interactions"]);class gV extends mV{}function cve(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let Wv;function MC(e){let t;return(Wv??(t=new globalThis.TextEncoder,Wv=t.encode.bind(t)))(e)}let Yv;function f3(e){let t;return(Yv??(t=new globalThis.TextDecoder,Yv=t.decode.bind(t)))(e)}class Y1{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?MC(t):t;this.buffer=cve([this.buffer,r]);const n=[];let i;for(;(i=uve(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(f3(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=f3(this.buffer.subarray(0,a));n.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}Y1.NEWLINE_CHARS=new Set([`
`,"\r"]);Y1.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function uve(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function fve(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const Ex={off:0,error:200,warn:300,info:400,debug:500},d3=(e,t,r)=>{if(e){if(Hge(Ex,e))return e;aa(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Ex))}`)}};function gp(){}function Jv(e,t,r){return!t||Ex[e]>Ex[r]?gp:t[e].bind(t)}const dve={error:gp,warn:gp,info:gp,debug:gp};let h3=new WeakMap;function aa(e){var t;const r=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!r)return dve;const i=h3.get(r);if(i&&i[0]===n)return i[1];const a={error:Jv("error",r,n),warn:Jv("warn",r,n),info:Jv("info",r,n),debug:Jv("debug",r,n)};return h3.set(r,[n,a]),a}const qu=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class qd{constructor(t,r,n){this.iterator=t,this.controller=r,this.client=n}static fromSSEResponse(t,r,n){let i=!1;const a=n?aa(n):console;function s(){return lo(this,arguments,function*(){var c,u,d,p;if(i)throw new Ds("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var y=!0,x=co(hve(t,r)),b;b=yield Ct(x.next()),c=b.done,!c;y=!0){p=b.value,y=!1;const E=p;if(!m)if(E.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield Ct(JSON.parse(E.data))}catch(S){throw a.error("Could not parse message into JSON:",E.data),a.error("From chunk:",E.raw),S}}}catch(E){u={error:E}}finally{try{!y&&!c&&(d=x.return)&&(yield Ct(d.call(x)))}finally{if(u)throw u.error}}m=!0}catch(E){if(eS(E))return yield Ct(void 0);throw E}finally{m||r.abort()}})}return new qd(s,r,n)}static fromReadableStream(t,r,n){let i=!1;function a(){return lo(this,arguments,function*(){var c,u,d,p;const m=new Y1,y=uV(t);try{for(var x=!0,b=co(y),E;E=yield Ct(b.next()),c=E.done,!c;x=!0){p=E.value,x=!1;const S=p;for(const L of m.decode(S))yield yield Ct(L)}}catch(S){u={error:S}}finally{try{!x&&!c&&(d=b.return)&&(yield Ct(d.call(b)))}finally{if(u)throw u.error}}for(const S of m.flush())yield yield Ct(S)})}function s(){return lo(this,arguments,function*(){var c,u,d,p;if(i)throw new Ds("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var y=!0,x=co(a()),b;b=yield Ct(x.next()),c=b.done,!c;y=!0){p=b.value,y=!1;const E=p;m||E&&(yield yield Ct(JSON.parse(E)))}}catch(E){u={error:E}}finally{try{!y&&!c&&(d=x.return)&&(yield Ct(d.call(x)))}finally{if(u)throw u.error}}m=!0}catch(E){if(eS(E))return yield Ct(void 0);throw E}finally{m||r.abort()}})}return new qd(s,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=n.next();t.push(s),r.push(s)}return a.shift()}});return[new qd(()=>i(t),this.controller,this.client),new qd(()=>i(r),this.controller,this.client)]}toReadableStream(){const t=this;let r;return cV({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const s=MC(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function hve(e,t){return lo(this,arguments,function*(){var n,i,a,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ds("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ds("Attempted to iterate over a response with no body");const o=new mve,c=new Y1,u=uV(e.body);try{for(var d=!0,p=co(pve(u)),m;m=yield Ct(p.next()),n=m.done,!n;d=!0){s=m.value,d=!1;const y=s;for(const x of c.decode(y)){const b=o.decode(x);b&&(yield yield Ct(b))}}}catch(y){i={error:y}}finally{try{!d&&!n&&(a=p.return)&&(yield Ct(a.call(p)))}finally{if(i)throw i.error}}for(const y of c.flush()){const x=o.decode(y);x&&(yield yield Ct(x))}})}function pve(e){return lo(this,arguments,function*(){var r,n,i,a;let s=new Uint8Array;try{for(var o=!0,c=co(e),u;u=yield Ct(c.next()),r=u.done,!r;o=!0){a=u.value,o=!1;const d=a;if(d==null)continue;const p=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?MC(d):d;let m=new Uint8Array(s.length+p.length);m.set(s),m.set(p,s.length),s=m;let y;for(;(y=fve(s))!==-1;)yield yield Ct(s.slice(0,y)),s=s.slice(y)}}catch(d){n={error:d}}finally{try{!o&&!r&&(i=c.return)&&(yield Ct(i.call(c)))}finally{if(n)throw n.error}}s.length>0&&(yield yield Ct(s))})}class mve{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=gve(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function gve(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function vve(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=t,s=await(async()=>{var o;if(t.options.stream)return aa(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):qd.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const c=r.headers.get("content-type"),u=(o=c?.split(";")[0])===null||o===void 0?void 0:o.trim();return u?.includes("application/json")||u?.endsWith("+json")?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return aa(e).debug(`[${n}] response parsed`,qu({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}class DC extends Promise{constructor(t,r,n=vve){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new DC(this.client,this.responsePromise,async(r,n)=>t(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const vV=Symbol("brand.privateNullableHeaders");function*yve(e){if(!e)return;if(vV in e){const{values:n,nulls:i}=e;yield*n.entries();for(const a of i)yield[a,null];return}let t=!1,r;e instanceof Headers?r=e.entries():o3(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=o3(n[1])?n[1]:[n[1]];let s=!1;for(const o of a)o!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,o])}}const G0=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[a,s]of yve(n)){const o=a.toLowerCase();i.has(o)||(t.delete(a),i.add(o)),s===null?(t.delete(a),r.add(o)):(t.append(a,s),r.delete(o))}}return{[vV]:!0,values:t,nulls:r}};const wE=e=>{var t,r,n,i,a,s;if(typeof globalThis.process<"u")return(n=(r=(t=Bfe)===null||t===void 0?void 0:t[e])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||s===void 0?void 0:s.trim()};var yV;class J1{constructor(t){var r,n,i,a,s,o,c,{baseURL:u=wE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=wE("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:p="v1beta"}=t,m=wx(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:p},m),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(n=y.timeout)!==null&&n!==void 0?n:J1.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(s=(a=d3(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:d3(wE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=y.fetchOptions,this.maxRetries=(o=y.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:Zge(),this.encoder=tve,this._options=y,this.apiKey=d,this.apiVersion=p,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const r=G0([t.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return G0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return G0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Ds(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ld}`}defaultIdempotencyKey(){return`stainless-node-retry-${jge()}`}makeStatusError(t,r,n,i){return ma.generate(t,r,n,i)}buildURL(t,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=Bge(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return $ge(s)||(r=Object.assign(Object.assign({},s),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const r=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:t,path:r},i)))}request(t,r=null){return new DC(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var i,a,s;const o=await t,c=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=c),await this.prepareOptions(o);const{req:u,url:d,timeout:p}=await this.buildRequest(o,{retryCount:c-r});await this.prepareRequest(u,{url:d,options:o});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=n===void 0?"":`, retryOf: ${n}`,x=Date.now();if(aa(this).debug(`[${m}] sending request`,qu({retryOfRequestLogID:n,method:o.method,url:d,options:o,headers:u.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new rS;const b=new AbortController,E=await this.fetchWithTimeout(d,u,p,b).catch(tS),S=Date.now();if(E instanceof globalThis.Error){const k=`retrying, ${r} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new rS;const M=eS(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(r)return aa(this).info(`[${m}] connection ${M?"timed out":"failed"} - ${k}`),aa(this).debug(`[${m}] connection ${M?"timed out":"failed"} (${k})`,qu({retryOfRequestLogID:n,url:d,durationMs:S-x,message:E.message})),this.retryRequest(o,r,n??m);throw aa(this).info(`[${m}] connection ${M?"timed out":"failed"} - error; no more retries left`),aa(this).debug(`[${m}] connection ${M?"timed out":"failed"} (error; no more retries left)`,qu({retryOfRequestLogID:n,url:d,durationMs:S-x,message:E.message})),M?new eV:new W1({cause:E})}const L=`[${m}${y}] ${u.method} ${d} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${S-x}ms`;if(!E.ok){const k=await this.shouldRetry(E);if(r&&k){const O=`retrying, ${r} attempts remaining`;return await eve(E.body),aa(this).info(`${L} - ${O}`),aa(this).debug(`[${m}] response error (${O})`,qu({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,durationMs:S-x})),this.retryRequest(o,r,n??m,E.headers)}const M=k?"error; no more retries left":"error; not retryable";aa(this).info(`${L} - ${M}`);const D=await E.text().catch(O=>tS(O).message),P=qge(D),N=P?void 0:D;throw aa(this).debug(`[${m}] response error (${M})`,qu({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,message:N,durationMs:Date.now()-x})),this.makeStatusError(E.status,P,N,E.headers)}return aa(this).info(L),aa(this).debug(`[${m}] response start`,qu({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,durationMs:S-x})),{response:E,options:o,controller:b,requestLogID:m,retryOfRequestLogID:n,startTime:x}}async fetchWithTimeout(t,r,n,i){const a=r||{},{signal:s,method:o}=a,c=wx(a,["signal","method"]),u=i.abort.bind(i);s&&s.addEventListener("abort",u,{once:!0});const d=setTimeout(u,n),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);o&&(m.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){var a;let s;const o=i?.get("retry-after-ms");if(o){const u=parseFloat(o);Number.isNaN(u)||(s=u)}const c=i?.get("retry-after");if(c&&!s){const u=parseFloat(c);Number.isNaN(u)?s=Date.parse(c)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,u)}return await Kge(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:r=0}={}){var n,i,a;const s=Object.assign({},t),{method:o,path:c,query:u,defaultBaseURL:d}=s,p=this.buildURL(c,u,d);"timeout"in s&&Gge("timeout",s.timeout),s.timeout=(n=s.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:m,body:y}=this.buildBody({options:s}),x=await this.buildHeaders({options:t,method:o,bodyHeaders:m,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:x},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=G0([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Xge()),this._options.defaultHeaders,n,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=G0([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Qge(t)}:this.encoder({body:t,headers:n})}}J1.DEFAULT_TIMEOUT=6e4;class pi extends J1{constructor(){super(...arguments),this.interactions=new gV(this)}}yV=pi;pi.GeminiNextGenAPIClient=yV;pi.GeminiNextGenAPIClientError=Ds;pi.APIError=ma;pi.APIConnectionError=W1;pi.APIConnectionTimeoutError=eV;pi.APIUserAbortError=rS;pi.NotFoundError=iV;pi.ConflictError=aV;pi.RateLimitError=oV;pi.BadRequestError=tV;pi.AuthenticationError=rV;pi.InternalServerError=lV;pi.PermissionDeniedError=nV;pi.UnprocessableEntityError=sV;pi.toFile=sve;pi.Interactions=gV;function xve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function _ve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function bve(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function wve(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function Eve(e,t,r){const n={};if(_(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=_(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&w(t,["displayName"],i),_(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=_(e,["epochCount"]);t!==void 0&&a!=null&&w(t,["tuningTask","hyperparameters","epochCount"],a);const s=_(e,["learningRateMultiplier"]);if(s!=null&&w(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),_(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(_(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(_(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(_(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(_(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const o=_(e,["batchSize"]);t!==void 0&&o!=null&&w(t,["tuningTask","hyperparameters","batchSize"],o);const c=_(e,["learningRate"]);if(t!==void 0&&c!=null&&w(t,["tuningTask","hyperparameters","learningRate"],c),_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(_(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(_(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(_(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(_(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(_(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return n}function Tve(e,t,r){const n={};let i=_(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const D=_(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec"],EE(D))}else if(i==="PREFERENCE_TUNING"){const D=_(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec"],EE(D))}else if(i==="DISTILLATION"){const D=_(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["distillationSpec"],EE(D))}const a=_(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&w(t,["tunedModelDisplayName"],a);const s=_(e,["description"]);t!==void 0&&s!=null&&w(t,["description"],s);let o=_(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const D=_(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","epochCount"],D)}else if(o==="PREFERENCE_TUNING"){const D=_(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],D)}else if(o==="DISTILLATION"){const D=_(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","epochCount"],D)}let c=_(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const D=_(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],D)}else if(c==="PREFERENCE_TUNING"){const D=_(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],D)}else if(c==="DISTILLATION"){const D=_(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","learningRateMultiplier"],D)}let u=_(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const D=_(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","exportLastCheckpointOnly"],D)}else if(u==="PREFERENCE_TUNING"){const D=_(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],D)}else if(u==="DISTILLATION"){const D=_(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["distillationSpec","exportLastCheckpointOnly"],D)}let d=_(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const D=_(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","adapterSize"],D)}else if(d==="PREFERENCE_TUNING"){const D=_(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],D)}else if(d==="DISTILLATION"){const D=_(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","adapterSize"],D)}let p=_(r,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const D=_(e,["tuningMode"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","tuningMode"],D)}const m=_(e,["customBaseModel"]);t!==void 0&&m!=null&&w(t,["customBaseModel"],m);let y=_(r,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const D=_(e,["batchSize"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","batchSize"],D)}let x=_(r,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const D=_(e,["learningRate"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRate"],D)}const b=_(e,["labels"]);t!==void 0&&b!=null&&w(t,["labels"],b);const E=_(e,["beta"]);t!==void 0&&E!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","beta"],E);const S=_(e,["baseTeacherModel"]);t!==void 0&&S!=null&&w(t,["distillationSpec","baseTeacherModel"],S);const L=_(e,["tunedTeacherModelSource"]);t!==void 0&&L!=null&&w(t,["distillationSpec","tunedTeacherModelSource"],L);const k=_(e,["sftLossWeightMultiplier"]);t!==void 0&&k!=null&&w(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const M=_(e,["outputUri"]);return t!==void 0&&M!=null&&w(t,["outputUri"],M),n}function Ave(e,t){const r={},n=_(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["preTunedModel"]);i!=null&&w(r,["preTunedModel"],i);const a=_(e,["trainingDataset"]);a!=null&&Lve(a);const s=_(e,["config"]);return s!=null&&Eve(s,r),r}function Sve(e,t){const r={},n=_(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["preTunedModel"]);i!=null&&w(r,["preTunedModel"],i);const a=_(e,["trainingDataset"]);a!=null&&Fve(a,r,t);const s=_(e,["config"]);return s!=null&&Tve(s,r,t),r}function Cve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function Nve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function Ive(e,t,r){const n={},i=_(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const a=_(e,["pageToken"]);t!==void 0&&a!=null&&w(t,["_query","pageToken"],a);const s=_(e,["filter"]);return t!==void 0&&s!=null&&w(t,["_query","filter"],s),n}function kve(e,t,r){const n={},i=_(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const a=_(e,["pageToken"]);t!==void 0&&a!=null&&w(t,["_query","pageToken"],a);const s=_(e,["filter"]);return t!==void 0&&s!=null&&w(t,["_query","filter"],s),n}function Pve(e,t){const r={},n=_(e,["config"]);return n!=null&&Ive(n,r),r}function Rve(e,t){const r={},n=_(e,["config"]);return n!=null&&kve(n,r),r}function Ove(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>xV(o))),w(r,["tuningJobs"],s)}return r}function Mve(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>aS(o))),w(r,["tuningJobs"],s)}return r}function Dve(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["model"],n);const i=_(e,["name"]);return i!=null&&w(r,["endpoint"],i),r}function Lve(e,t){const r={};if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=_(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(r,["examples","examples"],i)}return r}function Fve(e,t,r){const n={};let i=_(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=_(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=_(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=_(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["distillationSpec","promptDatasetUri"],s)}let a=_(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=_(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=_(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(a==="DISTILLATION"){const s=_(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["distillationSpec","promptDatasetUri"],s)}if(_(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function xV(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["state"]);a!=null&&w(r,["state"],DB(a));const s=_(e,["createTime"]);s!=null&&w(r,["createTime"],s);const o=_(e,["tuningTask","startTime"]);o!=null&&w(r,["startTime"],o);const c=_(e,["tuningTask","completeTime"]);c!=null&&w(r,["endTime"],c);const u=_(e,["updateTime"]);u!=null&&w(r,["updateTime"],u);const d=_(e,["description"]);d!=null&&w(r,["description"],d);const p=_(e,["baseModel"]);p!=null&&w(r,["baseModel"],p);const m=_(e,["_self"]);return m!=null&&w(r,["tunedModel"],Dve(m)),r}function aS(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["state"]);a!=null&&w(r,["state"],DB(a));const s=_(e,["createTime"]);s!=null&&w(r,["createTime"],s);const o=_(e,["startTime"]);o!=null&&w(r,["startTime"],o);const c=_(e,["endTime"]);c!=null&&w(r,["endTime"],c);const u=_(e,["updateTime"]);u!=null&&w(r,["updateTime"],u);const d=_(e,["error"]);d!=null&&w(r,["error"],d);const p=_(e,["description"]);p!=null&&w(r,["description"],p);const m=_(e,["baseModel"]);m!=null&&w(r,["baseModel"],m);const y=_(e,["tunedModel"]);y!=null&&w(r,["tunedModel"],y);const x=_(e,["preTunedModel"]);x!=null&&w(r,["preTunedModel"],x);const b=_(e,["supervisedTuningSpec"]);b!=null&&w(r,["supervisedTuningSpec"],b);const E=_(e,["preferenceOptimizationSpec"]);E!=null&&w(r,["preferenceOptimizationSpec"],E);const S=_(e,["distillationSpec"]);S!=null&&w(r,["distillationSpec"],S);const L=_(e,["tuningDataStats"]);L!=null&&w(r,["tuningDataStats"],L);const k=_(e,["encryptionSpec"]);k!=null&&w(r,["encryptionSpec"],k);const M=_(e,["partnerModelTuningSpec"]);M!=null&&w(r,["partnerModelTuningSpec"],M);const D=_(e,["customBaseModel"]);D!=null&&w(r,["customBaseModel"],D);const P=_(e,["experiment"]);P!=null&&w(r,["experiment"],P);const N=_(e,["labels"]);N!=null&&w(r,["labels"],N);const I=_(e,["outputUri"]);I!=null&&w(r,["outputUri"],I);const O=_(e,["pipelineJob"]);O!=null&&w(r,["pipelineJob"],O);const U=_(e,["serviceAccount"]);U!=null&&w(r,["serviceAccount"],U);const B=_(e,["tunedModelDisplayName"]);B!=null&&w(r,["tunedModelDisplayName"],B);const F=_(e,["veoTuningSpec"]);return F!=null&&w(r,["veoTuningSpec"],F),r}function jve(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["metadata"]);a!=null&&w(r,["metadata"],a);const s=_(e,["done"]);s!=null&&w(r,["done"],s);const o=_(e,["error"]);return o!=null&&w(r,["error"],o),r}function EE(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["validationDatasetUri"],n);const i=_(e,["vertexDatasetResource"]);return i!=null&&w(r,["validationDatasetUri"],i),r}class Uve extends Jl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Vf(jl.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:qA.JOB_STATE_QUEUED}}}}async getInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Nve(t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>aS(d))}else{const u=Cve(t);return o=tt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>xV(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Rve(t);return o=tt("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Mve(d),m=new BD;return Object.assign(m,p),m})}else{const u=Pve(t);return o=tt("tunedModels",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=Ove(d),m=new BD;return Object.assign(m,p),m})}}async cancel(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=_ve(t);return o=tt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=wve(d),m=new VD;return Object.assign(m,p),m})}else{const u=xve(t);return o=tt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const p=bve(d),m=new VD;return Object.assign(m,p),m})}}async tuneInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Sve(t,t);return a=tt("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>aS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ave(t);return a=tt("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>jve(c))}}}class Bve{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Vve=1024*1024*8,zve=3,$ve=1e3,Hve=2,Tx="x-goog-upload-status";async function Gve(e,t,r){var n;const i=await _V(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[Tx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function qve(e,t,r){var n;const i=await _V(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[Tx])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=IB(a),o=new NC;return Object.assign(o,s),o}async function _V(e,t,r){var n,i;let a=0,s=0,o=new WA(new Response),c="upload";for(a=e.size;s<a;){const u=Math.min(Vve,a-s),d=e.slice(s,s+u);s+u>=a&&(c+=", finalize");let p=0,m=$ve;for(;p<zve&&(o=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((n=o?.headers)===null||n===void 0)&&n[Tx]));)p++,await Wve(m),m=m*Hve;if(s+=u,((i=o?.headers)===null||i===void 0?void 0:i[Tx])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Kve(e){return{size:e.size,type:e.type}}function Wve(e){return new Promise(t=>setTimeout(t,e))}class Yve{async upload(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Gve(t,r,n)}async uploadToFileSearchStore(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await qve(t,r,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Kve(t)}}class Jve{create(t,r,n){return new Xve(t,r,n)}}class Xve{constructor(t,r,n){this.url=t,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const p3="x-goog-api-key";class Zve{constructor(t){this.apiKey=t}async addAuthHeaders(t,r){if(t.get(p3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(p3,this.apiKey)}}}const Qve="gl-node/";class bV{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new pi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=r.interactions,this._interactions}constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const n=Hfe(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Zve(this.apiKey);this.apiClient=new Kme({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Qve+"web",uploader:new Yve,downloader:new Bve}),this.models=new dge(this.apiClient),this.live=new sge(this.apiClient,i,new Jve),this.batches=new _he(this.apiClient),this.chats=new t0e(this.models,this.apiClient),this.caches=new Zhe(this.apiClient),this.files=new h0e(this.apiClient),this.operations=new hge(this.apiClient),this.authTokens=new Ige(this.apiClient),this.tunings=new Uve(this.apiClient),this.fileSearchStores=new Fge(this.apiClient)}}const wV=async(e,t)=>{if(!e||!t)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=${t}`,a=await(await fetch(n)).json();if(a.status==="OK"&&a.results&&a.results.length>0){const s=a.results[0],o=s.geometry.location;return{lat:o.lat,lng:o.lng,formattedAddress:s.formatted_address,locationType:s.geometry.location_type,addressComponents:s.address_components}}else return console.warn(`Geocoding failed for address "${e}":`,a.status,a.error_message),null}catch(r){return console.error(`Geocoding fetch error for address "${e}":`,r),null}},q0=async(e,t,r)=>{if(!e||!t||!r)return null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=${r}`,a=await(await fetch(n)).json();return a.status==="OK"&&a.plus_code&&(a.plus_code.compound_code||a.plus_code.global_code)||null}catch(n){return console.error("Reverse geocoding error:",n),null}},sS=()=>localStorage.getItem("cnpja_api_key")||"b62178c8-c43b-4e46-a68f-5b1b054c11d6-30fbc130-a06a-4023-bac8-c6dbaefa8326",EV="https://api.cnpja.com",X1=async e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==14)throw new Error("CNPJ deve ter 14 dgitos.");try{const r=await fetch(`${EV}/office/${t}?geocoding=true`,{headers:{Authorization:sS()}});if(!r.ok)throw r.status===404?new Error("CNPJ no encontrado."):r.status===401?new Error("Chave de API CNPJa invlida ou expirada."):new Error("Erro ao consultar CNPJa.");const n=await r.json(),i=n.address.street||"",a=n.address.number||"",s=n.address.district||"",o=n.address.city||"",c=n.address.state||"",u=n.address.type||"";return{cnpj:n.taxId,razao_social:n.company.name,nome_fantasia:n.alias||n.company.name,logradouro:u?`${u} ${i}`:i,numero:a,complemento:n.address.details,bairro:s,cep:n.address.zip,municipio:o,uf:c,ddd_telefone_1:n.phones?.[0]?`(${n.phones[0].area}) ${n.phones[0].number}`:void 0,cnae_fiscal:(n.mainActivity||n.main_activity)?.code?`${(n.mainActivity||n.main_activity).code} - ${(n.mainActivity||n.main_activity).text}`:(n.mainActivity||n.main_activity)?.text,cnae_descricao:(n.mainActivity||n.main_activity)?.text,cnaes_secundarios:(n.sideActivities||n.side_activities||n.secondary_activities)?.map(d=>({codigo:d.code,texto:d.text})),situacao_cadastral:n.registration?.status?.description||n.registration?.status,latitude:n.address.coordinates?.latitude||n.latitude,longitude:n.address.coordinates?.longitude||n.longitude}}catch(r){return console.error("Erro na consulta CNPJa Comercial:",r),tye(t)}},eye=async e=>{if(sS()==="SUA_CHAVE_AQUI")return console.warn("Chave de API CNPJa no configurada."),[];try{const r=new URLSearchParams({q:e.filtros,...e.uf&&{state:e.uf},limit:"10"}),n=await fetch(`${EV}/office?${r}`,{headers:{Authorization:sS()}});return n.ok?(await n.json()).items||[]:[]}catch(r){return console.error("Erro na pesquisa por endereo:",r),[]}},tye=async e=>{try{const t=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${e}`);if(!t.ok)return null;const r=await t.json();return{cnpj:r.cnpj,razao_social:r.razao_social,nome_fantasia:r.nome_fantasia,logradouro:r.logradouro,numero:r.numero,complemento:r.complemento,bairro:r.bairro,cep:r.cep,municipio:r.municipio,uf:r.uf,ddd_telefone_1:r.ddd_telefone_1,cnae_fiscal:r.cnae_fiscal?`${r.cnae_fiscal} - ${r.cnae_fiscal_descricao}`:r.cnae_fiscal_descricao,cnae_descricao:r.cnae_fiscal_descricao,cnaes_secundarios:r.cnaes_secundarios?.map(n=>({codigo:n.codigo,texto:n.descricao}))}}catch{return null}};class rye{value;next;constructor(t){this.value=t}}class nye{#e;#t;#r;constructor(){this.clear()}enqueue(t){const r=new rye(t);this.#e?(this.#t.next=r,this.#t=r):(this.#e=r,this.#t=r),this.#r++}dequeue(){const t=this.#e;if(t)return this.#e=this.#e.next,this.#r--,this.#e||(this.#t=void 0),t.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#r=0}get size(){return this.#r}*[Symbol.iterator](){let t=this.#e;for(;t;)yield t.value,t=t.next}*drain(){for(;this.#e;)yield this.dequeue()}}function TV(e){let t=!1;if(typeof e=="object"&&({concurrency:e,rejectOnClear:t=!1}=e),m3(e),typeof t!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const r=new nye;let n=0;const i=()=>{n<e&&r.size>0&&(n++,r.dequeue().run())},a=()=>{n--,i()},s=async(u,d,p)=>{const m=(async()=>u(...p))();d(m);try{await m}catch{}a()},o=(u,d,p,m)=>{const y={reject:p};new Promise(x=>{y.run=x,r.enqueue(y)}).then(s.bind(void 0,u,d,m)),n<e&&i()},c=(u,...d)=>new Promise((p,m)=>{o(u,p,m,d)});return Object.defineProperties(c,{activeCount:{get:()=>n},pendingCount:{get:()=>r.size},clearQueue:{value(){if(!t){r.clear();return}const u=AbortSignal.abort().reason;for(;r.size>0;)r.dequeue().reject(u)}},concurrency:{get:()=>e,set(u){m3(u),e=u,queueMicrotask(()=>{for(;n<e&&r.size>0;)i()})}},map:{async value(u,d){const p=Array.from(u,(m,y)=>this(d,m,y));return Promise.all(p)}}}),c}function m3(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}var AV={};const oS=e=>new Promise(t=>setTimeout(t,e)),iye=e=>{const t=e.replace(/\D/g,"");if(t.length<5)return"Indefinido";const r=parseInt(t.substring(0,1)),n=parseInt(t.substring(0,2));return r===0||r===1||r===2||r===3?"Sudeste":r===8||r===9?"Sul":r===4||r===5?"Nordeste":r===6?n>=60&&n<=65?"Nordeste":"Norte":r===7?n===77||n===76?"Norte":"Centro-Oeste":"Indefinido"},SV=e=>{const t=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],r=["AC","AP","AM","PA","RO","RR","TO"],n=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],a=["PR","SC","RS"],s=e.toUpperCase().trim();return t.includes(s)?"Nordeste":r.includes(s)?"Norte":n.includes(s)?"Centro-Oeste":i.includes(s)?"Sudeste":a.includes(s)?"Sul":"Indefinido"},aye=e=>{let t="Desconhecido",r="BR",n="Indefinido";if(Array.isArray(e)){const i=e.find(s=>s.types.includes("administrative_area_level_1"));i&&(r=i.short_name);const a=e.find(s=>s.types.includes("administrative_area_level_2")||s.types.includes("locality"));a&&(t=a.long_name),n=SV(r)}return{city:t,state:r,region:n}},sye=async(e,t,r,n,i,a)=>{const s=new bV({apiKey:r||AV.API_KEY}),o=TV(3),c=e.length;let u=0;const d=i.map(x=>`"${x}"`).join(" | "),p=async(x,b)=>{if(!x)return u++,a&&a(u,c),null;const E=`${t}-${Date.now()}-${b}`;let S=null;if(x.cnpj&&x.cnpj.replace(/\D/g,"").length===14)try{S=await X1(x.cnpj)}catch(ne){console.warn(`CNPJ enrichment failed for ${x.cnpj}`,ne)}let L=x.address||"";!L&&(x.street||x.city)&&(L=[x.street,x.number,x.district,x.city,x.state,x.zip,x.country].filter(Boolean).join(", ")),S?.logradouro&&(L=`${S.logradouro}, ${S.numero}${S.complemento?` - ${S.complemento}`:""}, ${S.bairro}, ${S.municipio} - ${S.uf}`);const k=GU(L),M=S?.nome_fantasia||S?.razao_social||x.companyName||"Empresa Desconhecida",D=x.ownerName||"",P=S?.ddd_telefone_1||x.phone||"",N=k.match(/\d{5}[-]?\d{3}/),I=S?.cep||(N?N[0]:"");if(!k&&M==="Empresa Desconhecida")return u++,a&&a(u,c),null;const O=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${M}" localizada EXATAMENTE em "${k}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${d} | "Outros".

      IMPORTANTE: Use o endereo "${k}" como ncora principal para a busca.
      ${S?`DADO ADICIONAL: O CNPJ da empresa  ${S.cnpj}.`:""}
      ${x.city?`DADO LOCALIDADE: Cidade: ${x.city}${x.state?`, Estado: ${x.state}`:""}`:""}

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let U=0;const B=5;let F=null,H=!1,fe={},me="";for(;!H&&U<=B;)try{const ne=await s.models.generateContent({model:"gemini-2.0-flash",contents:O,config:{tools:[{googleMaps:{}}]}});let ue=ne.text||"{}";ue=ue.replace(/```json/g,"").replace(/```/g,"").trim();try{fe=JSON.parse(ue)}catch{const _e=ue.match(/\{[\s\S]*\}/);if(_e)try{fe=JSON.parse(_e[0])}catch{}}const ce=ne.candidates?.[0]?.groundingMetadata?.groundingChunks;if(ce&&Array.isArray(ce)){const ae=ce.find(_e=>_e.maps?.uri);ae&&(me=ae.maps.uri)}H=!0}catch(ne){const ue=ne.status===429||ne.code===429||ne.message&&(ne.message.includes("quota")||ne.message.includes("429")),ce=ne.status===503||ne.code===503;if((ue||ce)&&U<B){U++;const ae=2e3*Math.pow(2,U);console.warn(`Retry ${U}/${B} for client ${b}`),await oS(ae)}else{console.error(`Failed to process client with AI ${b} (continuing to manual geocode)`,ne);break}}try{let ne=S?.latitude||x.latitude||(typeof fe.lat=="number"?fe.lat:0),ue=S?.longitude||x.longitude||(typeof fe.lng=="number"?fe.lng:0),ce=S?.logradouro?`${S.logradouro}, ${S.numero}, ${S.municipio} - ${S.uf}`:fe.cleanAddress||k,ae=S?.municipio||fe.city||"Desconhecido",_e=S?.uf||fe.state||"BR",J=(S?.uf?SV(S.uf):null)||fe.region||"Indefinido";const V=ne!==0&&ue!==0;if(!V||ae==="Desconhecido"||_e==="BR"){const he=L||ce;if(he&&he.length>5&&n)try{const xe=await wV(he,n);if(xe){if(V||(ne=xe.lat,ue=xe.lng),xe.addressComponents){const Ie=aye(xe.addressComponents);ae=Ie.city,_e=Ie.state,J=Ie.region}(!J||J==="Indefinido")&&I&&(J=iye(I)),xe.formattedAddress&&(ce=xe.formattedAddress)}}catch(xe){console.warn(`Geocoding failed for ${M}`,xe)}}const X=he=>Array.isArray(he)?he:typeof he=="string"?[he]:["Outros"];let q=P;fe.phone&&(q=q?`${q} | Maps: ${fe.phone}`:fe.phone),fe.website&&(q=q?`${q} | Site: ${fe.website}`:`Site: ${fe.website}`),F={id:E,salespersonId:t,companyName:M,ownerName:D,contact:q,originalAddress:L,cleanAddress:ce,cnpj:S?.cnpj||x.cnpj,mainCnae:S?.cnae_fiscal,secondaryCnaes:S?.cnaes_secundarios?.map(he=>`${he.codigo} - ${he.texto}`),category:X(fe.category),region:J,state:_e,city:ae,lat:ne,lng:ue,whatsapp:x.whatsapp||fe.phone||"",plusCode:fe.plusCode||"",googleMapsUri:x.googleMapsLink||me}}catch(ne){console.error("Critical error in client finalization",ne),F={id:E,salespersonId:t,companyName:M,ownerName:D,contact:P,originalAddress:L,cleanAddress:L,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Critico",lat:x.latitude||0,lng:x.longitude||0,whatsapp:x.whatsapp||"",googleMapsUri:x.googleMapsLink}}return u++,a&&a(u,c),await oS(500),F},m=e.map((x,b)=>o(()=>p(x,b)));return(await Promise.all(m)).filter(x=>x!==null)},oye=async(e,t,r)=>{const n=new bV({apiKey:t||AV.API_KEY}),i=10,a=e.length;let s=0;const o=[...e];for(let c=0;c<a;c+=i){const u=e.slice(c,c+i),p=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${u.map(m=>`- ID: ${m.sku} | Nome: ${m.name} | Marca: ${m.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let y=(await n.models.generateContent({model:"gemini-2.5-flash",contents:p})).text||"[]";y=y.replace(/```json/g,"").replace(/```/g,"").trim();let x=[];try{x=JSON.parse(y)}catch{console.error("Failed to parse AI response",y);const E=y.match(/\[.*\]/s);if(E)try{x=JSON.parse(E[0])}catch{}}Array.isArray(x)&&x.forEach(b=>{const E=o.findIndex(S=>String(S.sku)===String(b.sku));E!==-1&&(o[E]={...o[E],category:b.category})})}catch(m){console.error("Batch classification failed",m)}s+=u.length,r&&r(s,a),await oS(1e3)}return o},lye=()=>{};var g3={};const CV=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},cye=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},NV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,d=a>>2,p=(a&3)<<4|o>>4;let m=(o&15)<<2|u>>6,y=u&63;c||(y=64,s||(m=64)),n.push(r[d],r[p],r[m],r[y])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(CV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):cye(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const p=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||p==null)throw new uye;const m=a<<2|o>>4;if(n.push(m),u!==64){const y=o<<4&240|u>>2;if(n.push(y),p!==64){const x=u<<6&192|p;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fye=function(e){const t=CV(e);return NV.encodeByteArray(t,!0)},Ax=function(e){return fye(e).replace(/\./g,"")},dye=function(e){try{return NV.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pye=()=>hye().__FIREBASE_DEFAULTS__,mye=()=>{if(typeof process>"u"||typeof g3>"u")return;const e=g3.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gye=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&dye(e[1]);return t&&JSON.parse(t)},LC=()=>{try{return lye()||pye()||mye()||gye()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},vye=e=>LC()?.emulatorHosts?.[e],yye=e=>{const t=vye(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},IV=()=>LC()?.config;class xye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function $m(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kV(e){return(await fetch(e,{credentials:"include"})).ok}function _ye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ax(JSON.stringify(r)),Ax(JSON.stringify(s)),""].join(".")}const Fp={};function bye(){const e={prod:[],emulator:[]};for(const t of Object.keys(Fp))Fp[t]?e.emulator.push(t):e.prod.push(t);return e}function wye(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let v3=!1;function Eye(e,t){if(typeof window>"u"||typeof document>"u"||!$m(window.location.host)||Fp[e]===t||Fp[e]||v3)return;Fp[e]=t;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",a=bye().prod.length>0;function s(){const m=document.getElementById(n);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{v3=!0,s()},m}function d(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=wye(n),y=r("text"),x=document.getElementById(y)||document.createElement("span"),b=r("learnmore"),E=document.getElementById(b)||document.createElement("a"),S=r("preprendIcon"),L=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const k=m.element;o(k),d(E,b);const M=u();c(L,S),k.append(L,x,E,M),document.body.appendChild(k)}a?(x.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Tye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aye(){const e=LC()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sye(){return!Aye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cye(){try{return typeof indexedDB=="object"}catch{return!1}}function Nye(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(r){t(r)}})}const Iye="FirebaseError";class zf extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Iye,Object.setPrototypeOf(this,zf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PV.prototype.create)}}class PV{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?kye(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new zf(i,o,n)}}function kye(e,t){return e.replace(Pye,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const Pye=/\{\$([^}]+)}/g;function Sx(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(y3(a)&&y3(s)){if(!Sx(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function y3(e){return e!==null&&typeof e=="object"}function ja(e){return e&&e._delegate?e._delegate:e}class mh{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ku="[DEFAULT]";let Rye=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new xye;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Mye(t))try{this.getOrInitializeService({instanceIdentifier:Ku})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Ku){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ku){return this.instances.has(t)}getOptions(t=Ku){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Oye(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ku){return this.component?this.component.multipleInstances?t:Ku:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Oye(e){return e===Ku?void 0:e}function Mye(e){return e.instantiationMode==="EAGER"}class Dye{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Rye(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var ir;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ir||(ir={}));const Lye={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},Fye=ir.INFO,jye={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},Uye=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=jye[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class RV{constructor(t){this.name=t,this._logLevel=Fye,this._logHandler=Uye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Lye[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...t),this._logHandler(this,ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...t),this._logHandler(this,ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...t),this._logHandler(this,ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...t),this._logHandler(this,ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...t),this._logHandler(this,ir.ERROR,...t)}}const Bye=(e,t)=>t.some(r=>e instanceof r);let x3,_3;function Vye(){return x3||(x3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zye(){return _3||(_3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OV=new WeakMap,lS=new WeakMap,MV=new WeakMap,TE=new WeakMap,FC=new WeakMap;function $ye(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Gc(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&OV.set(r,e)}).catch(()=>{}),FC.set(t,e),t}function Hye(e){if(lS.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});lS.set(e,t)}let cS={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return lS.get(e);if(t==="objectStoreNames")return e.objectStoreNames||MV.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Gc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Gye(e){cS=e(cS)}function qye(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(AE(this),t,...r);return MV.set(n,t.sort?t.sort():[t]),Gc(n)}:zye().includes(e)?function(...t){return e.apply(AE(this),t),Gc(OV.get(this))}:function(...t){return Gc(e.apply(AE(this),t))}}function Kye(e){return typeof e=="function"?qye(e):(e instanceof IDBTransaction&&Hye(e),Bye(e,Vye())?new Proxy(e,cS):e)}function Gc(e){if(e instanceof IDBRequest)return $ye(e);if(TE.has(e))return TE.get(e);const t=Kye(e);return t!==e&&(TE.set(e,t),FC.set(t,e)),t}const AE=e=>FC.get(e);function Wye(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Gc(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Gc(s.result),c.oldVersion,c.newVersion,Gc(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Yye=["get","getKey","getAll","getAllKeys","count"],Jye=["put","add","delete","clear"],SE=new Map;function b3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(SE.get(t))return SE.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=Jye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Yye.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return SE.set(t,a),a}Gye(e=>({...e,get:(t,r,n)=>b3(t,r)||e.get(t,r,n),has:(t,r)=>!!b3(t,r)||e.has(t,r)}));class Xye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Zye(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Zye(e){return e.getComponent()?.type==="VERSION"}const uS="@firebase/app",w3="0.14.8";const Ul=new RV("@firebase/app"),Qye="@firebase/app-compat",exe="@firebase/analytics-compat",txe="@firebase/analytics",rxe="@firebase/app-check-compat",nxe="@firebase/app-check",ixe="@firebase/auth",axe="@firebase/auth-compat",sxe="@firebase/database",oxe="@firebase/data-connect",lxe="@firebase/database-compat",cxe="@firebase/functions",uxe="@firebase/functions-compat",fxe="@firebase/installations",dxe="@firebase/installations-compat",hxe="@firebase/messaging",pxe="@firebase/messaging-compat",mxe="@firebase/performance",gxe="@firebase/performance-compat",vxe="@firebase/remote-config",yxe="@firebase/remote-config-compat",xxe="@firebase/storage",_xe="@firebase/storage-compat",bxe="@firebase/firestore",wxe="@firebase/ai",Exe="@firebase/firestore-compat",Txe="firebase",Axe="12.9.0";const fS="[DEFAULT]",Sxe={[uS]:"fire-core",[Qye]:"fire-core-compat",[txe]:"fire-analytics",[exe]:"fire-analytics-compat",[nxe]:"fire-app-check",[rxe]:"fire-app-check-compat",[ixe]:"fire-auth",[axe]:"fire-auth-compat",[sxe]:"fire-rtdb",[oxe]:"fire-data-connect",[lxe]:"fire-rtdb-compat",[cxe]:"fire-fn",[uxe]:"fire-fn-compat",[fxe]:"fire-iid",[dxe]:"fire-iid-compat",[hxe]:"fire-fcm",[pxe]:"fire-fcm-compat",[mxe]:"fire-perf",[gxe]:"fire-perf-compat",[vxe]:"fire-rc",[yxe]:"fire-rc-compat",[xxe]:"fire-gcs",[_xe]:"fire-gcs-compat",[bxe]:"fire-fst",[Exe]:"fire-fst-compat",[wxe]:"fire-vertex","fire-js":"fire-js",[Txe]:"fire-js-all"};const um=new Map,Cxe=new Map,dS=new Map;function E3(e,t){try{e.container.addComponent(t)}catch(r){Ul.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function fm(e){const t=e.name;if(dS.has(t))return Ul.debug(`There were multiple attempts to register component ${t}.`),!1;dS.set(t,e);for(const r of um.values())E3(r,e);for(const r of Cxe.values())E3(r,e);return!0}function DV(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function LV(e){return e==null?!1:e.settings!==void 0}const Nxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qc=new PV("app","Firebase",Nxe);class Ixe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qc.create("app-deleted",{appName:this._name})}}const FV=Axe;function jV(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:fS,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw qc.create("bad-app-name",{appName:String(i)});if(r||(r=IV()),!r)throw qc.create("no-options");const a=um.get(i);if(a){if(Sx(r,a.options)&&Sx(n,a.config))return a;throw qc.create("duplicate-app",{appName:i})}const s=new Dye(i);for(const c of dS.values())s.addComponent(c);const o=new Ixe(r,n,s);return um.set(i,o),o}function UV(e=fS){const t=um.get(e);if(!t&&e===fS&&IV())return jV();if(!t)throw qc.create("no-app",{appName:e});return t}function kxe(){return Array.from(um.values())}function Kc(e,t,r){let n=Sxe[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ul.warn(s.join(" "));return}fm(new mh(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const Pxe="firebase-heartbeat-database",Rxe=1,dm="firebase-heartbeat-store";let CE=null;function BV(){return CE||(CE=Wye(Pxe,Rxe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(dm)}catch(r){console.warn(r)}}}}).catch(e=>{throw qc.create("idb-open",{originalErrorMessage:e.message})})),CE}async function Oxe(e){try{const r=(await BV()).transaction(dm),n=await r.objectStore(dm).get(VV(e));return await r.done,n}catch(t){if(t instanceof zf)Ul.warn(t.message);else{const r=qc.create("idb-get",{originalErrorMessage:t?.message});Ul.warn(r.message)}}}async function T3(e,t){try{const n=(await BV()).transaction(dm,"readwrite");await n.objectStore(dm).put(t,VV(e)),await n.done}catch(r){if(r instanceof zf)Ul.warn(r.message);else{const n=qc.create("idb-set",{originalErrorMessage:r?.message});Ul.warn(n.message)}}}function VV(e){return`${e.name}!${e.options.appId}`}const Mxe=1024,Dxe=30;class Lxe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new jxe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=A3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Dxe){const i=Uxe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ul.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A3(),{heartbeatsToSend:r,unsentEntries:n}=Fxe(this._heartbeatsCache.heartbeats),i=Ax(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ul.warn(t),""}}}function A3(){return new Date().toISOString().substring(0,10)}function Fxe(e,t=Mxe){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),S3(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),S3(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class jxe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cye()?Nye().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Oxe(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return T3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return T3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function S3(e){return Ax(JSON.stringify({version:2,heartbeats:e})).length}function Uxe(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}function Bxe(e){fm(new mh("platform-logger",t=>new Xye(t),"PRIVATE")),fm(new mh("heartbeat",t=>new Lxe(t),"PRIVATE")),Kc(uS,w3,e),Kc(uS,w3,"esm2020"),Kc("fire-js","")}Bxe("");var Vxe="firebase",zxe="12.9.0";Kc(Vxe,zxe,"app");var C3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wc,zV;(function(){var e;function t(N,I){function O(){}O.prototype=I.prototype,N.F=I.prototype,N.prototype=new O,N.prototype.constructor=N,N.D=function(U,B,F){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return I.prototype[B].apply(U,H)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,I,O){O||(O=0);const U=Array(16);if(typeof I=="string")for(var B=0;B<16;++B)U[B]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(B=0;B<16;++B)U[B]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=N.g[0],O=N.g[1],B=N.g[2];let F=N.g[3],H;H=I+(F^O&(B^F))+U[0]+3614090360&4294967295,I=O+(H<<7&4294967295|H>>>25),H=F+(B^I&(O^B))+U[1]+3905402710&4294967295,F=I+(H<<12&4294967295|H>>>20),H=B+(O^F&(I^O))+U[2]+606105819&4294967295,B=F+(H<<17&4294967295|H>>>15),H=O+(I^B&(F^I))+U[3]+3250441966&4294967295,O=B+(H<<22&4294967295|H>>>10),H=I+(F^O&(B^F))+U[4]+4118548399&4294967295,I=O+(H<<7&4294967295|H>>>25),H=F+(B^I&(O^B))+U[5]+1200080426&4294967295,F=I+(H<<12&4294967295|H>>>20),H=B+(O^F&(I^O))+U[6]+2821735955&4294967295,B=F+(H<<17&4294967295|H>>>15),H=O+(I^B&(F^I))+U[7]+4249261313&4294967295,O=B+(H<<22&4294967295|H>>>10),H=I+(F^O&(B^F))+U[8]+1770035416&4294967295,I=O+(H<<7&4294967295|H>>>25),H=F+(B^I&(O^B))+U[9]+2336552879&4294967295,F=I+(H<<12&4294967295|H>>>20),H=B+(O^F&(I^O))+U[10]+4294925233&4294967295,B=F+(H<<17&4294967295|H>>>15),H=O+(I^B&(F^I))+U[11]+2304563134&4294967295,O=B+(H<<22&4294967295|H>>>10),H=I+(F^O&(B^F))+U[12]+1804603682&4294967295,I=O+(H<<7&4294967295|H>>>25),H=F+(B^I&(O^B))+U[13]+4254626195&4294967295,F=I+(H<<12&4294967295|H>>>20),H=B+(O^F&(I^O))+U[14]+2792965006&4294967295,B=F+(H<<17&4294967295|H>>>15),H=O+(I^B&(F^I))+U[15]+1236535329&4294967295,O=B+(H<<22&4294967295|H>>>10),H=I+(B^F&(O^B))+U[1]+4129170786&4294967295,I=O+(H<<5&4294967295|H>>>27),H=F+(O^B&(I^O))+U[6]+3225465664&4294967295,F=I+(H<<9&4294967295|H>>>23),H=B+(I^O&(F^I))+U[11]+643717713&4294967295,B=F+(H<<14&4294967295|H>>>18),H=O+(F^I&(B^F))+U[0]+3921069994&4294967295,O=B+(H<<20&4294967295|H>>>12),H=I+(B^F&(O^B))+U[5]+3593408605&4294967295,I=O+(H<<5&4294967295|H>>>27),H=F+(O^B&(I^O))+U[10]+38016083&4294967295,F=I+(H<<9&4294967295|H>>>23),H=B+(I^O&(F^I))+U[15]+3634488961&4294967295,B=F+(H<<14&4294967295|H>>>18),H=O+(F^I&(B^F))+U[4]+3889429448&4294967295,O=B+(H<<20&4294967295|H>>>12),H=I+(B^F&(O^B))+U[9]+568446438&4294967295,I=O+(H<<5&4294967295|H>>>27),H=F+(O^B&(I^O))+U[14]+3275163606&4294967295,F=I+(H<<9&4294967295|H>>>23),H=B+(I^O&(F^I))+U[3]+4107603335&4294967295,B=F+(H<<14&4294967295|H>>>18),H=O+(F^I&(B^F))+U[8]+1163531501&4294967295,O=B+(H<<20&4294967295|H>>>12),H=I+(B^F&(O^B))+U[13]+2850285829&4294967295,I=O+(H<<5&4294967295|H>>>27),H=F+(O^B&(I^O))+U[2]+4243563512&4294967295,F=I+(H<<9&4294967295|H>>>23),H=B+(I^O&(F^I))+U[7]+1735328473&4294967295,B=F+(H<<14&4294967295|H>>>18),H=O+(F^I&(B^F))+U[12]+2368359562&4294967295,O=B+(H<<20&4294967295|H>>>12),H=I+(O^B^F)+U[5]+4294588738&4294967295,I=O+(H<<4&4294967295|H>>>28),H=F+(I^O^B)+U[8]+2272392833&4294967295,F=I+(H<<11&4294967295|H>>>21),H=B+(F^I^O)+U[11]+1839030562&4294967295,B=F+(H<<16&4294967295|H>>>16),H=O+(B^F^I)+U[14]+4259657740&4294967295,O=B+(H<<23&4294967295|H>>>9),H=I+(O^B^F)+U[1]+2763975236&4294967295,I=O+(H<<4&4294967295|H>>>28),H=F+(I^O^B)+U[4]+1272893353&4294967295,F=I+(H<<11&4294967295|H>>>21),H=B+(F^I^O)+U[7]+4139469664&4294967295,B=F+(H<<16&4294967295|H>>>16),H=O+(B^F^I)+U[10]+3200236656&4294967295,O=B+(H<<23&4294967295|H>>>9),H=I+(O^B^F)+U[13]+681279174&4294967295,I=O+(H<<4&4294967295|H>>>28),H=F+(I^O^B)+U[0]+3936430074&4294967295,F=I+(H<<11&4294967295|H>>>21),H=B+(F^I^O)+U[3]+3572445317&4294967295,B=F+(H<<16&4294967295|H>>>16),H=O+(B^F^I)+U[6]+76029189&4294967295,O=B+(H<<23&4294967295|H>>>9),H=I+(O^B^F)+U[9]+3654602809&4294967295,I=O+(H<<4&4294967295|H>>>28),H=F+(I^O^B)+U[12]+3873151461&4294967295,F=I+(H<<11&4294967295|H>>>21),H=B+(F^I^O)+U[15]+530742520&4294967295,B=F+(H<<16&4294967295|H>>>16),H=O+(B^F^I)+U[2]+3299628645&4294967295,O=B+(H<<23&4294967295|H>>>9),H=I+(B^(O|~F))+U[0]+4096336452&4294967295,I=O+(H<<6&4294967295|H>>>26),H=F+(O^(I|~B))+U[7]+1126891415&4294967295,F=I+(H<<10&4294967295|H>>>22),H=B+(I^(F|~O))+U[14]+2878612391&4294967295,B=F+(H<<15&4294967295|H>>>17),H=O+(F^(B|~I))+U[5]+4237533241&4294967295,O=B+(H<<21&4294967295|H>>>11),H=I+(B^(O|~F))+U[12]+1700485571&4294967295,I=O+(H<<6&4294967295|H>>>26),H=F+(O^(I|~B))+U[3]+2399980690&4294967295,F=I+(H<<10&4294967295|H>>>22),H=B+(I^(F|~O))+U[10]+4293915773&4294967295,B=F+(H<<15&4294967295|H>>>17),H=O+(F^(B|~I))+U[1]+2240044497&4294967295,O=B+(H<<21&4294967295|H>>>11),H=I+(B^(O|~F))+U[8]+1873313359&4294967295,I=O+(H<<6&4294967295|H>>>26),H=F+(O^(I|~B))+U[15]+4264355552&4294967295,F=I+(H<<10&4294967295|H>>>22),H=B+(I^(F|~O))+U[6]+2734768916&4294967295,B=F+(H<<15&4294967295|H>>>17),H=O+(F^(B|~I))+U[13]+1309151649&4294967295,O=B+(H<<21&4294967295|H>>>11),H=I+(B^(O|~F))+U[4]+4149444226&4294967295,I=O+(H<<6&4294967295|H>>>26),H=F+(O^(I|~B))+U[11]+3174756917&4294967295,F=I+(H<<10&4294967295|H>>>22),H=B+(I^(F|~O))+U[2]+718787259&4294967295,B=F+(H<<15&4294967295|H>>>17),H=O+(F^(B|~I))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(B+(H<<21&4294967295|H>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+F&4294967295}n.prototype.v=function(N,I){I===void 0&&(I=N.length);const O=I-this.blockSize,U=this.C;let B=this.h,F=0;for(;F<I;){if(B==0)for(;F<=O;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<I;)if(U[B++]=N.charCodeAt(F++),B==this.blockSize){i(this,U),B=0;break}}else for(;F<I;)if(U[B++]=N[F++],B==this.blockSize){i(this,U),B=0;break}}this.h=B,this.o+=I},n.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var O=N.length-8;O<N.length;++O)N[O]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,O=0;O<4;++O)for(let U=0;U<32;U+=8)N[I++]=this.g[O]>>>U&255;return N};function a(N,I){var O=o;return Object.prototype.hasOwnProperty.call(O,N)?O[N]:O[N]=I(N)}function s(N,I){this.h=I;const O=[];let U=!0;for(let B=N.length-1;B>=0;B--){const F=N[B]|0;U&&F==I||(O[B]=F,U=!1)}this.g=O}var o={};function c(N){return-128<=N&&N<128?a(N,function(I){return new s([I|0],I<0?-1:0)}):new s([N|0],N<0?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return E(u(-N));const I=[];let O=1;for(let U=0;N>=O;U++)I[U]=N/O|0,O*=4294967296;return new s(I,0)}function d(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return E(d(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=u(Math.pow(I,8));let U=p;for(let F=0;F<N.length;F+=8){var B=Math.min(8,N.length-F);const H=parseInt(N.substring(F,F+B),I);B<8?(B=u(Math.pow(I,B)),U=U.j(B).add(u(H))):(U=U.j(O),U=U.add(u(H)))}return U}var p=c(0),m=c(1),y=c(16777216);e=s.prototype,e.m=function(){if(b(this))return-E(this).m();let N=0,I=1;for(let O=0;O<this.g.length;O++){const U=this.i(O);N+=(U>=0?U:4294967296+U)*I,I*=4294967296}return N},e.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(b(this))return"-"+E(this).toString(N);const I=u(Math.pow(N,6));var O=this;let U="";for(;;){const B=M(O,I).g;O=S(O,B.j(I));let F=((O.g.length>0?O.g[0]:O.h)>>>0).toString(N);if(O=B,x(O))return F+U;for(;F.length<6;)F="0"+F;U=F+U}},e.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function b(N){return N.h==-1}e.l=function(N){return N=S(this,N),b(N)?-1:x(N)?0:1};function E(N){const I=N.g.length,O=[];for(let U=0;U<I;U++)O[U]=~N.g[U];return new s(O,~N.h).add(m)}e.abs=function(){return b(this)?E(this):this},e.add=function(N){const I=Math.max(this.g.length,N.g.length),O=[];let U=0;for(let B=0;B<=I;B++){let F=U+(this.i(B)&65535)+(N.i(B)&65535),H=(F>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);U=H>>>16,F&=65535,H&=65535,O[B]=H<<16|F}return new s(O,O[O.length-1]&-2147483648?-1:0)};function S(N,I){return N.add(E(I))}e.j=function(N){if(x(this)||x(N))return p;if(b(this))return b(N)?E(this).j(E(N)):E(E(this).j(N));if(b(N))return E(this.j(E(N)));if(this.l(y)<0&&N.l(y)<0)return u(this.m()*N.m());const I=this.g.length+N.g.length,O=[];for(var U=0;U<2*I;U++)O[U]=0;for(U=0;U<this.g.length;U++)for(let B=0;B<N.g.length;B++){const F=this.i(U)>>>16,H=this.i(U)&65535,fe=N.i(B)>>>16,me=N.i(B)&65535;O[2*U+2*B]+=H*me,L(O,2*U+2*B),O[2*U+2*B+1]+=F*me,L(O,2*U+2*B+1),O[2*U+2*B+1]+=H*fe,L(O,2*U+2*B+1),O[2*U+2*B+2]+=F*fe,L(O,2*U+2*B+2)}for(N=0;N<I;N++)O[N]=O[2*N+1]<<16|O[2*N];for(N=I;N<2*I;N++)O[N]=0;return new s(O,0)};function L(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function k(N,I){this.g=N,this.h=I}function M(N,I){if(x(I))throw Error("division by zero");if(x(N))return new k(p,p);if(b(N))return I=M(E(N),I),new k(E(I.g),E(I.h));if(b(I))return I=M(N,E(I)),new k(E(I.g),I.h);if(N.g.length>30){if(b(N)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var O=m,U=I;U.l(N)<=0;)O=D(O),U=D(U);var B=P(O,1),F=P(U,1);for(U=P(U,2),O=P(O,2);!x(U);){var H=F.add(U);H.l(N)<=0&&(B=B.add(O),F=H),U=P(U,1),O=P(O,1)}return I=S(N,B.j(I)),new k(B,I)}for(B=p;N.l(I)>=0;){for(O=Math.max(1,Math.floor(N.m()/I.m())),U=Math.ceil(Math.log(O)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),F=u(O),H=F.j(I);b(H)||H.l(N)>0;)O-=U,F=u(O),H=F.j(I);x(F)&&(F=m),B=B.add(F),N=S(N,H)}return new k(B,N)}e.B=function(N){return M(this,N).h},e.and=function(N){const I=Math.max(this.g.length,N.g.length),O=[];for(let U=0;U<I;U++)O[U]=this.i(U)&N.i(U);return new s(O,this.h&N.h)},e.or=function(N){const I=Math.max(this.g.length,N.g.length),O=[];for(let U=0;U<I;U++)O[U]=this.i(U)|N.i(U);return new s(O,this.h|N.h)},e.xor=function(N){const I=Math.max(this.g.length,N.g.length),O=[];for(let U=0;U<I;U++)O[U]=this.i(U)^N.i(U);return new s(O,this.h^N.h)};function D(N){const I=N.g.length+1,O=[];for(let U=0;U<I;U++)O[U]=N.i(U)<<1|N.i(U-1)>>>31;return new s(O,N.h)}function P(N,I){const O=I>>5;I%=32;const U=N.g.length-O,B=[];for(let F=0;F<U;F++)B[F]=I>0?N.i(F+O)>>>I|N.i(F+O+1)<<32-I:N.i(F+O);return new s(B,N.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,zV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Wc=s}).apply(typeof C3<"u"?C3:typeof self<"u"?self:typeof window<"u"?window:{});var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $V,vp,HV,Iy,hS,GV,qV,KV;(function(){var e,t=Object.defineProperty;function r(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xv=="object"&&Xv];for(var j=0;j<T.length;++j){var G=T[j];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function i(T,j){if(j)e:{var G=n;T=T.split(".");for(var Q=0;Q<T.length-1;Q++){var be=T[Q];if(!(be in G))break e;G=G[be]}T=T[T.length-1],Q=G[T],j=j(Q),j!=Q&&j!=null&&t(G,T,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(T){return T||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(T){return T||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(T){return T||function(j){var G=[],Q;for(Q in j)Object.prototype.hasOwnProperty.call(j,Q)&&G.push([Q,j[Q]]);return G}});var a=a||{},s=this||self;function o(T){var j=typeof T;return j=="object"&&T!=null||j=="function"}function c(T,j,G){return T.call.apply(T.bind,arguments)}function u(T,j,G){return u=c,u.apply(null,arguments)}function d(T,j){var G=Array.prototype.slice.call(arguments,1);return function(){var Q=G.slice();return Q.push.apply(Q,arguments),T.apply(this,Q)}}function p(T,j){function G(){}G.prototype=j.prototype,T.Z=j.prototype,T.prototype=new G,T.prototype.constructor=T,T.Ob=function(Q,be,ke){for(var Ze=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)Ze[Lt-2]=arguments[Lt];return j.prototype[be].apply(Q,Ze)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?T=>T&&AsyncContext.Snapshot.wrap(T):T=>T;function y(T){const j=T.length;if(j>0){const G=Array(j);for(let Q=0;Q<j;Q++)G[Q]=T[Q];return G}return[]}function x(T,j){for(let Q=1;Q<arguments.length;Q++){const be=arguments[Q];var G=typeof be;if(G=G!="object"?G:be?Array.isArray(be)?"array":G:"null",G=="array"||G=="object"&&typeof be.length=="number"){G=T.length||0;const ke=be.length||0;T.length=G+ke;for(let Ze=0;Ze<ke;Ze++)T[G+Ze]=be[Ze]}else T.push(be)}}class b{constructor(j,G){this.i=j,this.j=G,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function E(T){s.setTimeout(()=>{throw T},0)}function S(){var T=N;let j=null;return T.g&&(j=T.g,T.g=T.g.next,T.g||(T.h=null),j.next=null),j}class L{constructor(){this.h=this.g=null}add(j,G){const Q=k.get();Q.set(j,G),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var k=new b(()=>new M,T=>T.reset());class M{constructor(){this.next=this.g=this.h=null}set(j,G){this.h=j,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let D,P=!1,N=new L,I=()=>{const T=Promise.resolve(void 0);D=()=>{T.then(O)}};function O(){for(var T;T=S();){try{T.h.call(T.g)}catch(G){E(G)}var j=k;j.j(T),j.h<100&&(j.h++,T.next=j.g,j.g=T)}P=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(T,j){this.type=T,this.g=this.target=j,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var T=!1,j=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const G=()=>{};s.addEventListener("test",G,j),s.removeEventListener("test",G,j)}catch{}return T})();function H(T){return/^[\s\xa0]*$/.test(T)}function fe(T,j){B.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T&&this.init(T,j)}p(fe,B),fe.prototype.init=function(T,j){const G=this.type=T.type,Q=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;this.target=T.target||T.srcElement,this.g=j,j=T.relatedTarget,j||(G=="mouseover"?j=T.fromElement:G=="mouseout"&&(j=T.toElement)),this.relatedTarget=j,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=T.pointerType,this.state=T.state,this.i=T,T.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),ne=0;function ue(T,j,G,Q,be){this.listener=T,this.proxy=null,this.src=j,this.type=G,this.capture=!!Q,this.ha=be,this.key=++ne,this.da=this.fa=!1}function ce(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function ae(T,j,G){for(const Q in T)j.call(G,T[Q],Q,T)}function _e(T,j){for(const G in T)j.call(void 0,T[G],G,T)}function J(T){const j={};for(const G in T)j[G]=T[G];return j}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(T,j){let G,Q;for(let be=1;be<arguments.length;be++){Q=arguments[be];for(G in Q)T[G]=Q[G];for(let ke=0;ke<V.length;ke++)G=V[ke],Object.prototype.hasOwnProperty.call(Q,G)&&(T[G]=Q[G])}}function X(T){this.src=T,this.g={},this.h=0}X.prototype.add=function(T,j,G,Q,be){const ke=T.toString();T=this.g[ke],T||(T=this.g[ke]=[],this.h++);const Ze=he(T,j,Q,be);return Ze>-1?(j=T[Ze],G||(j.fa=!1)):(j=new ue(j,this.src,ke,!!Q,be),j.fa=G,T.push(j)),j};function q(T,j){const G=j.type;if(G in T.g){var Q=T.g[G],be=Array.prototype.indexOf.call(Q,j,void 0),ke;(ke=be>=0)&&Array.prototype.splice.call(Q,be,1),ke&&(ce(j),T.g[G].length==0&&(delete T.g[G],T.h--))}}function he(T,j,G,Q){for(let be=0;be<T.length;++be){const ke=T[be];if(!ke.da&&ke.listener==j&&ke.capture==!!G&&ke.ha==Q)return be}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),Ie={};function le(T,j,G,Q,be){if(Array.isArray(j)){for(let ke=0;ke<j.length;ke++)le(T,j[ke],G,Q,be);return null}return G=Je(G),T&&T[me]?T.J(j,G,o(Q)?!!Q.capture:!1,be):ge(T,j,G,!1,Q,be)}function ge(T,j,G,Q,be,ke){if(!j)throw Error("Invalid event type");const Ze=o(be)?!!be.capture:!!be;let Lt=ze(T);if(Lt||(T[xe]=Lt=new X(T)),G=Lt.add(j,G,Q,Ze,ke),G.proxy)return G;if(Q=De(),G.proxy=Q,Q.src=T,Q.listener=G,T.addEventListener)F||(be=Ze),be===void 0&&(be=!1),T.addEventListener(j.toString(),Q,be);else if(T.attachEvent)T.attachEvent(Ue(j.toString()),Q);else if(T.addListener&&T.removeListener)T.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return G}function De(){function T(G){return j.call(T.src,T.listener,G)}const j=Ke;return T}function K(T,j,G,Q,be){if(Array.isArray(j))for(var ke=0;ke<j.length;ke++)K(T,j[ke],G,Q,be);else Q=o(Q)?!!Q.capture:!!Q,G=Je(G),T&&T[me]?(T=T.i,ke=String(j).toString(),ke in T.g&&(j=T.g[ke],G=he(j,G,Q,be),G>-1&&(ce(j[G]),Array.prototype.splice.call(j,G,1),j.length==0&&(delete T.g[ke],T.h--)))):T&&(T=ze(T))&&(j=T.g[j.toString()],T=-1,j&&(T=he(j,G,Q,be)),(G=T>-1?j[T]:null)&&Ye(G))}function Ye(T){if(typeof T!="number"&&T&&!T.da){var j=T.src;if(j&&j[me])q(j.i,T);else{var G=T.type,Q=T.proxy;j.removeEventListener?j.removeEventListener(G,Q,T.capture):j.detachEvent?j.detachEvent(Ue(G),Q):j.addListener&&j.removeListener&&j.removeListener(Q),(G=ze(j))?(q(G,T),G.h==0&&(G.src=null,j[xe]=null)):ce(T)}}}function Ue(T){return T in Ie?Ie[T]:Ie[T]="on"+T}function Ke(T,j){if(T.da)T=!0;else{j=new fe(j,this);const G=T.listener,Q=T.ha||T.src;T.fa&&Ye(T),T=G.call(Q,j)}return T}function ze(T){return T=T[xe],T instanceof X?T:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(T){return typeof T=="function"?T:(T[Le]||(T[Le]=function(j){return T.handleEvent(j)}),T[Le])}function et(){U.call(this),this.i=new X(this),this.M=this,this.G=null}p(et,U),et.prototype[me]=!0,et.prototype.removeEventListener=function(T,j,G,Q){K(this,T,j,G,Q)};function ht(T,j){var G,Q=T.G;if(Q)for(G=[];Q;Q=Q.G)G.push(Q);if(T=T.M,Q=j.type||j,typeof j=="string")j=new B(j,T);else if(j instanceof B)j.target=j.target||T;else{var be=j;j=new B(Q,T),ee(j,be)}be=!0;let ke,Ze;if(G)for(Ze=G.length-1;Ze>=0;Ze--)ke=j.g=G[Ze],be=It(ke,Q,!0,j)&&be;if(ke=j.g=T,be=It(ke,Q,!0,j)&&be,be=It(ke,Q,!1,j)&&be,G)for(Ze=0;Ze<G.length;Ze++)ke=j.g=G[Ze],be=It(ke,Q,!1,j)&&be}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var T=this.i;for(const j in T.g){const G=T.g[j];for(let Q=0;Q<G.length;Q++)ce(G[Q]);delete T.g[j],T.h--}}this.G=null},et.prototype.J=function(T,j,G,Q){return this.i.add(String(T),j,!1,G,Q)},et.prototype.K=function(T,j,G,Q){return this.i.add(String(T),j,!0,G,Q)};function It(T,j,G,Q){if(j=T.i.g[String(j)],!j)return!0;j=j.concat();let be=!0;for(let ke=0;ke<j.length;++ke){const Ze=j[ke];if(Ze&&!Ze.da&&Ze.capture==G){const Lt=Ze.listener,Tn=Ze.ha||Ze.src;Ze.fa&&q(T.i,Ze),be=Lt.call(Tn,Q)!==!1&&be}}return be&&!Q.defaultPrevented}function Gr(T,j){if(typeof T!="function")if(T&&typeof T.handleEvent=="function")T=u(T.handleEvent,T);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:s.setTimeout(T,j||0)}function Br(T){T.g=Gr(()=>{T.g=null,T.i&&(T.i=!1,Br(T))},T.l);const j=T.h;T.h=null,T.m.apply(null,j)}class bt extends U{constructor(j,G){super(),this.m=j,this.l=G,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(T){U.call(this),this.h=T,this.g={}}p(xr,U);var Wt=[];function Er(T){ae(T.g,function(j,G){this.g.hasOwnProperty(G)&&Ye(j)},T),T.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Er(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=s.JSON.stringify,Mt=s.JSON.parse,Et=class{stringify(T){return s.JSON.stringify(T,void 0)}parse(T){return s.JSON.parse(T,void 0)}};function rr(){}function Ht(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _r(){B.call(this,"d")}p(_r,B);function yi(){B.call(this,"c")}p(yi,B);var pt={},xa=null;function xo(){return xa=xa||new et}pt.Ia="serverreachability";function il(T){B.call(this,pt.Ia,T)}p(il,B);function _a(T){const j=xo();ht(j,new il(j))}pt.STAT_EVENT="statevent";function _o(T,j){B.call(this,pt.STAT_EVENT,T),this.stat=j}p(_o,B);function Xr(T){const j=xo();ht(j,new _o(j,T))}pt.Ja="timingevent";function ni(T,j){B.call(this,pt.Ja,T),this.size=j}p(ni,B);function $a(T,j){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){T()},j)}function ba(){this.g=!0}ba.prototype.ua=function(){this.g=!1};function _u(T,j,G,Q,be,ke){T.info(function(){if(T.g)if(ke){var Ze="",Lt=ke.split("&");for(let vr=0;vr<Lt.length;vr++){var Tn=Lt[vr].split("=");if(Tn.length>1){const Zr=Tn[0];Tn=Tn[1];const ps=Zr.split("_");Ze=ps.length>=2&&ps[1]=="type"?Ze+(Zr+"="+Tn+"&"):Ze+(Zr+"=redacted&")}}}else Ze=null;else Ze=ke;return"XMLHTTP REQ ("+Q+") [attempt "+be+"]: "+j+`
`+G+`
`+Ze})}function bo(T,j,G,Q,be,ke,Ze){T.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+be+"]: "+j+`
`+G+`
`+ke+" "+Ze})}function wa(T,j,G,Q){T.info(function(){return"XMLHTTP TEXT ("+j+"): "+bu(T,G)+(Q?" "+Q:"")})}function Ea(T,j){T.info(function(){return"TIMEOUT: "+j})}ba.prototype.info=function(){};function bu(T,j){if(!T.g)return j;if(!j)return null;try{const ke=JSON.parse(j);if(ke){for(T=0;T<ke.length;T++)if(Array.isArray(ke[T])){var G=ke[T];if(!(G.length<2)){var Q=G[1];if(Array.isArray(Q)&&!(Q.length<1)){var be=Q[0];if(be!="noop"&&be!="stop"&&be!="close")for(let Ze=1;Ze<Q.length;Ze++)Q[Ze]=""}}}}return ft(ke)}catch{return j}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xi;function Ha(){}p(Ha,rr),Ha.prototype.g=function(){return new XMLHttpRequest},Xi=new Ha;function Rn(T){return encodeURIComponent(String(T))}function W(T){var j=1;T=T.split(":");const G=[];for(;j>0&&T.length;)G.push(T.shift()),j--;return T.length&&G.push(T.join(":")),G}function re(T,j,G,Q){this.j=T,this.i=j,this.l=G,this.S=Q||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Z}function Z(){this.i=null,this.g="",this.h=!1}var te={},ie={};function oe(T,j,G){T.M=1,T.A=al(un(j)),T.u=G,T.R=!0,ye(T,null)}function ye(T,j){T.F=Date.now(),Ae(T),T.B=un(T.A);var G=T.B,Q=T.S;Array.isArray(Q)||(Q=[String(Q)]),Gt(G.i,"t",Q),T.C=0,G=T.j.L,T.h=new Z,T.g=Cg(T.j,G?j:null,!T.u),T.P>0&&(T.O=new bt(u(T.Y,T,T.g),T.P)),j=T.V,G=T.g,Q=T.ba;var be="readystatechange";Array.isArray(be)||(be&&(Wt[0]=be.toString()),be=Wt);for(let ke=0;ke<be.length;ke++){const Ze=le(G,be[ke],Q||j.handleEvent,!1,j.h||j);if(!Ze)break;j.g[Ze.key]=Ze}j=T.J?J(T.J):{},T.u?(T.v||(T.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.B,T.v,T.u,j)):(T.v="GET",T.g.ea(T.B,T.v,null,j)),_a(),_u(T.i,T.v,T.B,T.l,T.S,T.u)}re.prototype.ba=function(T){T=T.target;const j=this.O;j&&Hs(T)==3?j.j():this.Y(T)},re.prototype.Y=function(T){try{if(T==this.g)e:{const Lt=Hs(this.g),Tn=this.g.ya(),vr=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||bi(this.g)))){this.K||Lt!=4||Tn==7||(Tn==8||vr<=0?_a(3):_a(2)),We(this);var j=this.g.ca();this.X=j;var G=Re(this);if(this.o=j==200,bo(this.i,this.v,this.B,this.l,this.S,Lt,j),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,be=this.g;if((Q=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Q)){var ke=Q;break t}}ke=null}if(T=ke)wa(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,T);else{this.o=!1,this.m=3,Xr(12),Ge(this),Qe(this);break e}}if(this.R){T=!0;let Zr;for(;!this.K&&this.C<G.length;)if(Zr=Ce(this,G),Zr==ie){Lt==4&&(this.m=4,Xr(14),T=!1),wa(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==te){this.m=4,Xr(15),wa(this.i,this.l,G,"[Invalid Chunk]"),T=!1;break}else wa(this.i,this.l,Zr,null),Xe(this,Zr);if(Ee(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||G.length!=0||this.h.h||(this.m=1,Xr(16),T=!1),this.o=this.o&&T,!T)wa(this.i,this.l,G,"[Invalid Chunked Response]"),Ge(this),Qe(this);else if(G.length>0&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.aa&&!Ze.P&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),a0(Ze),Ze.P=!0,Xr(11))}}else wa(this.i,this.l,G,null),Xe(this,G);Lt==4&&Ge(this),this.o&&!this.K&&(Lt==4?Eg(this.j,this):(this.o=!1,Ae(this)))}else ol(this.g),j==400&&G.indexOf("Unknown SID")>0?(this.m=3,Xr(12)):(this.m=0,Xr(13)),Ge(this),Qe(this)}}}catch{}};function Re(T){if(!Ee(T))return T.g.la();const j=bi(T.g);if(j==="")return"";let G="";const Q=j.length,be=Hs(T.g)==4;if(!T.h.i){if(typeof TextDecoder>"u")return Ge(T),Qe(T),"";T.h.i=new s.TextDecoder}for(let ke=0;ke<Q;ke++)T.h.h=!0,G+=T.h.i.decode(j[ke],{stream:!(be&&ke==Q-1)});return j.length=0,T.h.g+=G,T.C=0,T.h.g}function Ee(T){return T.g?T.v=="GET"&&T.M!=2&&T.j.Aa:!1}function Ce(T,j){var G=T.C,Q=j.indexOf(`
`,G);return Q==-1?ie:(G=Number(j.substring(G,Q)),isNaN(G)?te:(Q+=1,Q+G>j.length?ie:(j=j.slice(Q,Q+G),T.C=Q+G,j)))}re.prototype.cancel=function(){this.K=!0,Ge(this)};function Ae(T){T.T=Date.now()+T.H,He(T,T.H)}function He(T,j){if(T.D!=null)throw Error("WatchDog timer not null");T.D=$a(u(T.aa,T),j)}function We(T){T.D&&(s.clearTimeout(T.D),T.D=null)}re.prototype.aa=function(){this.D=null;const T=Date.now();T-this.T>=0?(Ea(this.i,this.B),this.M!=2&&(_a(),Xr(17)),Ge(this),this.m=2,Qe(this)):He(this,this.T-T)};function Qe(T){T.j.I==0||T.K||Eg(T.j,T)}function Ge(T){We(T);var j=T.O;j&&typeof j.dispose=="function"&&j.dispose(),T.O=null,Er(T.V),T.g&&(j=T.g,T.g=null,j.abort(),j.dispose())}function Xe(T,j){try{var G=T.j;if(G.I!=0&&(G.g==T||ii(G.h,T))){if(!T.L&&ii(G.h,T)&&G.I==3){try{var Q=G.Ba.g.parse(j)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var be=Q;if(be[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<T.F)Zf(G),sc(G);else break e;Cu(G),Xr(18)}}else G.xa=be[1],0<G.xa-G.K&&be[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=$a(u(G.Va,G),6e3));Tr(G.h)<=1&&G.ta&&(G.ta=void 0)}else No(G,11)}else if((T.L||G.g==T)&&Zf(G),!H(j))for(be=G.Ba.g.parse(j),j=0;j<be.length;j++){let vr=be[j];const Zr=vr[0];if(!(Zr<=G.K))if(G.K=Zr,vr=vr[1],G.I==2)if(vr[0]=="c"){G.M=vr[1],G.ba=vr[2];const ps=vr[3];ps!=null&&(G.ka=ps,G.j.info("VER="+G.ka));const Io=vr[4];Io!=null&&(G.za=Io,G.j.info("SVER="+G.za));const Gs=vr[5];Gs!=null&&typeof Gs=="number"&&Gs>0&&(Q=1.5*Gs,G.O=Q,G.j.info("backChannelRequestTimeoutMs_="+Q)),Q=G;const qs=T.g;if(qs){const Nu=qs.g?qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nu){var ke=Q.h;ke.g||Nu.indexOf("spdy")==-1&&Nu.indexOf("quic")==-1&&Nu.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Ga(ke,ke.h),ke.h=null))}if(Q.G){const Qf=qs.g?qs.g.getResponseHeader("X-HTTP-Session-Id"):null;Qf&&(Q.wa=Qf,gr(Q.J,Q.G,Qf))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-T.F,G.j.info("Handshake RTT: "+G.T+"ms")),Q=G;var Ze=T;if(Q.na=Sg(Q,Q.L?Q.ba:null,Q.W),Ze.L){qa(Q.h,Ze);var Lt=Ze,Tn=Q.O;Tn&&(Lt.H=Tn),Lt.D&&(We(Lt),Ae(Lt)),Q.g=Ze}else bg(Q);G.i.length>0&&Co(G)}else vr[0]!="stop"&&vr[0]!="close"||No(G,7);else G.I==3&&(vr[0]=="stop"||vr[0]=="close"?vr[0]=="stop"?No(G,7):n0(G):vr[0]!="noop"&&G.l&&G.l.qa(vr),G.A=0)}}_a(4)}catch{}}var st=class{constructor(T,j){this.g=T,this.map=j}};function pr(T){this.l=T||10,s.PerformanceNavigationTiming?(T=s.performance.getEntriesByType("navigation"),T=T.length>0&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function mr(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function Tr(T){return T.h?1:T.g?T.g.size:0}function ii(T,j){return T.h?T.h==j:T.g?T.g.has(j):!1}function Ga(T,j){T.g?T.g.add(j):T.h=j}function qa(T,j){T.h&&T.h==j?T.h=null:T.g&&T.g.has(j)&&T.g.delete(j)}pr.prototype.cancel=function(){if(this.i=Zi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function Zi(T){if(T.h!=null)return T.i.concat(T.h.G);if(T.g!=null&&T.g.size!==0){let j=T.i;for(const G of T.g.values())j=j.concat(G.G);return j}return y(T.i)}var wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ai(T,j){if(T){T=T.split("&");for(let G=0;G<T.length;G++){const Q=T[G].indexOf("=");let be,ke=null;Q>=0?(be=T[G].substring(0,Q),ke=T[G].substring(Q+1)):be=T[G],j(be,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function Qi(T){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;T instanceof Qi?(this.l=T.l,On(this,T.j),this.o=T.o,this.g=T.g,Eo(this,T.u),this.h=T.h,wu(this,Yt(T.i)),this.m=T.m):T&&(j=String(T).match(wo))?(this.l=!1,On(this,j[1]||"",!0),this.o=Ta(j[2]||""),this.g=Ta(j[3]||"",!0),Eo(this,j[4]),this.h=Ta(j[5]||"",!0),wu(this,j[6]||"",!0),this.m=Ta(j[7]||"")):(this.l=!1,this.i=new mt(null,this.l))}Qi.prototype.toString=function(){const T=[];var j=this.j;j&&T.push(Fr(j,$s,!0),":");var G=this.g;return(G||j=="file")&&(T.push("//"),(j=this.o)&&T.push(Fr(j,$s,!0),"@"),T.push(Rn(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&T.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&T.push("/"),T.push(Fr(G,G.charAt(0)=="/"?Me:se,!0))),(G=this.i.toString())&&T.push("?",G),(G=this.m)&&T.push("#",Fr(G,lt)),T.join("")},Qi.prototype.resolve=function(T){const j=un(this);let G=!!T.j;G?On(j,T.j):G=!!T.o,G?j.o=T.o:G=!!T.g,G?j.g=T.g:G=T.u!=null;var Q=T.h;if(G)Eo(j,T.u);else if(G=!!T.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var be=j.h.lastIndexOf("/");be!=-1&&(Q=j.h.slice(0,be+1)+Q)}if(be=Q,be==".."||be==".")Q="";else if(be.indexOf("./")!=-1||be.indexOf("/.")!=-1){Q=be.lastIndexOf("/",0)==0,be=be.split("/");const ke=[];for(let Ze=0;Ze<be.length;){const Lt=be[Ze++];Lt=="."?Q&&Ze==be.length&&ke.push(""):Lt==".."?((ke.length>1||ke.length==1&&ke[0]!="")&&ke.pop(),Q&&Ze==be.length&&ke.push("")):(ke.push(Lt),Q=!0)}Q=ke.join("/")}else Q=be}return G?j.h=Q:G=T.i.toString()!=="",G?wu(j,Yt(T.i)):G=!!T.m,G&&(j.m=T.m),j};function un(T){return new Qi(T)}function On(T,j,G){T.j=G?Ta(j,!0):j,T.j&&(T.j=T.j.replace(/:$/,""))}function Eo(T,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);T.u=j}else T.u=null}function wu(T,j,G){j instanceof mt?(T.i=j,En(T.i,T.l)):(G||(j=Fr(j,qe)),T.i=new mt(j,T.l))}function gr(T,j,G){T.i.set(j,G)}function al(T){return gr(T,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),T}function Ta(T,j){return T?j?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function Fr(T,j,G){return typeof T=="string"?(T=encodeURI(T).replace(j,Dt),G&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function Dt(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var $s=/[#\/\?@]/g,se=/[#\?:]/g,Me=/[#\?]/g,qe=/[#\?@]/g,lt=/#/g;function mt(T,j){this.h=this.g=null,this.i=T||null,this.j=!!j}function _t(T){T.g||(T.g=new Map,T.h=0,T.i&&ai(T.i,function(j,G){T.add(decodeURIComponent(j.replace(/\+/g," ")),G)}))}e=mt.prototype,e.add=function(T,j){_t(this),this.i=null,T=zt(this,T);let G=this.g.get(T);return G||this.g.set(T,G=[]),G.push(j),this.h+=1,this};function At(T,j){_t(T),j=zt(T,j),T.g.has(j)&&(T.i=null,T.h-=T.g.get(j).length,T.g.delete(j))}function gt(T,j){return _t(T),j=zt(T,j),T.g.has(j)}e.forEach=function(T,j){_t(this),this.g.forEach(function(G,Q){G.forEach(function(be){T.call(j,be,Q,this)},this)},this)};function kt(T,j){_t(T);let G=[];if(typeof j=="string")gt(T,j)&&(G=G.concat(T.g.get(zt(T,j))));else for(T=Array.from(T.g.values()),j=0;j<T.length;j++)G=G.concat(T[j]);return G}e.set=function(T,j){return _t(this),this.i=null,T=zt(this,T),gt(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[j]),this.h+=1,this},e.get=function(T,j){return T?(T=kt(this,T),T.length>0?String(T[0]):j):j};function Gt(T,j,G){At(T,j),G.length>0&&(T.i=null,T.g.set(zt(T,j),y(G)),T.h+=G.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],j=Array.from(this.g.keys());for(let Q=0;Q<j.length;Q++){var G=j[Q];const be=Rn(G);G=kt(this,G);for(let ke=0;ke<G.length;ke++){let Ze=be;G[ke]!==""&&(Ze+="="+Rn(G[ke])),T.push(Ze)}}return this.i=T.join("&")};function Yt(T){const j=new mt;return j.i=T.i,T.g&&(j.g=new Map(T.g),j.h=T.h),j}function zt(T,j){return j=String(j),T.j&&(j=j.toLowerCase()),j}function En(T,j){j&&!T.j&&(_t(T),T.i=null,T.g.forEach(function(G,Q){const be=Q.toLowerCase();Q!=be&&(At(this,Q),Gt(this,be,G))},T)),T.j=j}function Ut(T,j){const G=new ba;if(s.Image){const Q=new Image;Q.onload=d(an,G,"TestLoadImage: loaded",!0,j,Q),Q.onerror=d(an,G,"TestLoadImage: error",!1,j,Q),Q.onabort=d(an,G,"TestLoadImage: abort",!1,j,Q),Q.ontimeout=d(an,G,"TestLoadImage: timeout",!1,j,Q),s.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=T}else j(!1)}function xi(T,j){const G=new ba,Q=new AbortController,be=setTimeout(()=>{Q.abort(),an(G,"TestPingServer: timeout",!1,j)},1e4);fetch(T,{signal:Q.signal}).then(ke=>{clearTimeout(be),ke.ok?an(G,"TestPingServer: ok",!0,j):an(G,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(be),an(G,"TestPingServer: error",!1,j)})}function an(T,j,G,Q,be){try{be&&(be.onload=null,be.onerror=null,be.onabort=null,be.ontimeout=null),Q(G)}catch{}}function Ar(){this.g=new Et}function _i(T){this.i=T.Sb||null,this.h=T.ab||!1}p(_i,rr),_i.prototype.g=function(){return new To(this.i,this.h)};function To(T,j){et.call(this),this.H=T,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(To,et),e=To.prototype,e.open=function(T,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=T,this.D=j,this.readyState=1,ea(this)},e.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};T&&(j.body=T),(this.H||s).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},e.Pa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sn(this)}else T.text().then(this.Oa.bind(this),this.ga.bind(this))};function sn(T){T.j.read().then(T.Ma.bind(T)).catch(T.ga.bind(T))}e.Ma=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var j=T.value?T.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!T.done}))&&(this.response=this.responseText+=j)}T.done?Aa(this):ea(this),this.readyState==3&&sn(this)}},e.Oa=function(T){this.g&&(this.response=this.responseText=T,Aa(this))},e.Na=function(T){this.g&&(this.response=T,Aa(this))},e.ga=function(){this.g&&Aa(this)};function Aa(T){T.readyState=4,T.l=null,T.j=null,T.B=null,ea(T)}e.setRequestHeader=function(T,j){this.A.append(T,j)},e.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],j=this.h.entries();for(var G=j.next();!G.done;)G=G.value,T.push(G[0]+": "+G[1]),G=j.next();return T.join(`\r
`)};function ea(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function hs(T){let j="";return ae(T,function(G,Q){j+=Q,j+=":",j+=G,j+=`\r
`}),j}function Eu(T,j,G){e:{for(Q in G){var Q=!1;break e}Q=!0}Q||(G=hs(G),typeof T=="string"?G!=null&&Rn(G):gr(T,j,G))}function Pr(T){et.call(this),this.headers=new Map,this.L=T||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Pr,et);var Ao=/^https?$/i,t0=["POST","PUT"];e=Pr.prototype,e.Fa=function(T){this.H=T},e.ea=function(T,j,G,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);j=j?j.toUpperCase():"GET",this.D=T,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xi.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(j,String(T),!0),this.B=!1}catch(ke){Tu(this,ke);return}if(T=G||"",G=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var be in Q)G.set(be,Q[be]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const ke of Q.keys())G.set(ke,Q.get(ke));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(G.keys()).find(ke=>ke.toLowerCase()=="content-type"),be=s.FormData&&T instanceof s.FormData,!(Array.prototype.indexOf.call(t0,j,void 0)>=0)||Q||be||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Ze]of G)this.g.setRequestHeader(ke,Ze);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(T),this.v=!1}catch(ke){Tu(this,ke)}};function Tu(T,j){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=j,T.o=5,r0(T),sl(T)}function r0(T){T.A||(T.A=!0,ht(T,"complete"),ht(T,"error"))}e.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=T||7,ht(this,"complete"),ht(this,"abort"),sl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sl(this,!0)),Pr.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Au(this):this.Xa())},e.Xa=function(){Au(this)};function Au(T){if(T.h&&typeof a<"u"){if(T.v&&Hs(T)==4)setTimeout(T.Ca.bind(T),0);else if(ht(T,"readystatechange"),Hs(T)==4){T.h=!1;try{const ke=T.ca();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var G;if(!(G=j)){var Q;if(Q=ke===0){let Ze=String(T.D).match(wo)[1]||null;!Ze&&s.self&&s.self.location&&(Ze=s.self.location.protocol.slice(0,-1)),Q=!Ao.test(Ze?Ze.toLowerCase():"")}G=Q}if(G)ht(T,"complete"),ht(T,"success");else{T.o=6;try{var be=Hs(T)>2?T.g.statusText:""}catch{be=""}T.l=be+" ["+T.ca()+"]",r0(T)}}finally{sl(T)}}}}function sl(T,j){if(T.g){T.m&&(clearTimeout(T.m),T.m=null);const G=T.g;T.g=null,j||ht(T,"ready");try{G.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Hs(T){return T.g?T.g.readyState:0}e.ca=function(){try{return Hs(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(T){if(this.g){var j=this.g.responseText;return T&&j.indexOf(T)==0&&(j=j.substring(T.length)),Mt(j)}};function bi(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.F){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function ol(T){const j={};T=(T.g&&Hs(T)>=2&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<T.length;Q++){if(H(T[Q]))continue;var G=W(T[Q]);const be=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const ke=j[be]||[];j[be]=ke,ke.push(G)}_e(j,function(Q){return Q.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(T,j,G){return G&&G.internalChannelParams&&G.internalChannelParams[T]||j}function ac(T){this.za=0,this.i=[],this.j=new ba,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=So("failFast",!1,T),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=So("baseRetryDelayMs",5e3,T),this.Za=So("retryDelaySeedMs",1e4,T),this.Ta=So("forwardChannelMaxRetries",2,T),this.va=So("forwardChannelRequestTimeoutMs",2e4,T),this.ma=T&&T.xmlHttpFactory||void 0,this.Ua=T&&T.Rb||void 0,this.Aa=T&&T.useFetchStreams||!1,this.O=void 0,this.L=T&&T.supportsCrossDomainXhr||!1,this.M="",this.h=new pr(T&&T.concurrentRequestLimit),this.Ba=new Ar,this.S=T&&T.fastHandshake||!1,this.R=T&&T.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=T&&T.Pb||!1,T&&T.ua&&this.j.ua(),T&&T.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&T&&T.detectBufferingProxy||!1,this.ia=void 0,T&&T.longPollingTimeout&&T.longPollingTimeout>0&&(this.ia=T.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=ac.prototype,e.ka=8,e.I=1,e.connect=function(T,j,G,Q){Xr(0),this.W=T,this.H=j||{},G&&Q!==void 0&&(this.H.OSID=G,this.H.OAID=Q),this.F=this.X,this.J=Sg(this,null,this.W),Co(this)};function n0(T){if(Jf(T),T.I==3){var j=T.V++,G=un(T.J);if(gr(G,"SID",T.M),gr(G,"RID",j),gr(G,"TYPE","terminate"),Su(T,G),j=new re(T,T.j,j),j.M=2,j.A=al(un(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(j.A.toString(),"")}catch{}!G&&s.Image&&(new Image().src=j.A,G=!0),G||(j.g=Cg(j.j,null),j.g.ea(j.A)),j.F=Date.now(),Ae(j)}Ag(T)}function sc(T){T.g&&(a0(T),T.g.cancel(),T.g=null)}function Jf(T){sc(T),T.v&&(s.clearTimeout(T.v),T.v=null),Zf(T),T.h.cancel(),T.m&&(typeof T.m=="number"&&s.clearTimeout(T.m),T.m=null)}function Co(T){if(!mr(T.h)&&!T.m){T.m=!0;var j=T.Ea;D||I(),P||(D(),P=!0),N.add(j,T),T.D=0}}function Xf(T,j){return Tr(T.h)>=T.h.j-(T.m?1:0)?!1:T.m?(T.i=j.G.concat(T.i),!0):T.I==1||T.I==2||T.D>=(T.Sa?0:T.Ta)?!1:(T.m=$a(u(T.Ea,T,j),Tg(T,T.D)),T.D++,!0)}e.Ea=function(T){if(this.m)if(this.m=null,this.I==1){if(!T){this.V=Math.floor(Math.random()*1e5),T=this.V++;const be=new re(this,this.j,T);let ke=this.o;if(this.U&&(ke?(ke=J(ke),ee(ke,this.U)):ke=this.U),this.u!==null||this.R||(be.J=ke,ke=null),this.S)e:{for(var j=0,G=0;G<this.i.length;G++){t:{var Q=this.i[G];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(j+=Q,j>4096){j=G;break e}if(j===4096||G===this.i.length-1){j=G+1;break e}}j=1e3}else j=1e3;j=_g(this,be,j),G=un(this.J),gr(G,"RID",T),gr(G,"CVER",22),this.G&&gr(G,"X-HTTP-Session-Id",this.G),Su(this,G),ke&&(this.R?j="headers="+Rn(hs(ke))+"&"+j:this.u&&Eu(G,this.u,ke)),Ga(this.h,be),this.Ra&&gr(G,"TYPE","init"),this.S?(gr(G,"$req",j),gr(G,"SID","null"),be.U=!0,oe(be,G,null)):oe(be,G,j),this.I=2}}else this.I==3&&(T?i0(this,T):this.i.length==0||mr(this.h)||i0(this))};function i0(T,j){var G;j?G=j.l:G=T.V++;const Q=un(T.J);gr(Q,"SID",T.M),gr(Q,"RID",G),gr(Q,"AID",T.K),Su(T,Q),T.u&&T.o&&Eu(Q,T.u,T.o),G=new re(T,T.j,G,T.D+1),T.u===null&&(G.J=T.o),j&&(T.i=j.G.concat(T.i)),j=_g(T,G,1e3),G.H=Math.round(T.va*.5)+Math.round(T.va*.5*Math.random()),Ga(T.h,G),oe(G,Q,j)}function Su(T,j){T.H&&ae(T.H,function(G,Q){gr(j,Q,G)}),T.l&&ae({},function(G,Q){gr(j,Q,G)})}function _g(T,j,G){G=Math.min(T.i.length,G);const Q=T.l?u(T.l.Ka,T.l,T):null;e:{var be=T.i;let Lt=-1;for(;;){const Tn=["count="+G];Lt==-1?G>0?(Lt=be[0].g,Tn.push("ofs="+Lt)):Lt=0:Tn.push("ofs="+Lt);let vr=!0;for(let Zr=0;Zr<G;Zr++){var ke=be[Zr].g;const ps=be[Zr].map;if(ke-=Lt,ke<0)Lt=Math.max(0,be[Zr].g-100),vr=!1;else try{ke="req"+ke+"_"||"";try{var Ze=ps instanceof Map?ps:Object.entries(ps);for(const[Io,Gs]of Ze){let qs=Gs;o(Gs)&&(qs=ft(Gs)),Tn.push(ke+Io+"="+encodeURIComponent(qs))}}catch(Io){throw Tn.push(ke+"type="+encodeURIComponent("_badmap")),Io}}catch{Q&&Q(ps)}}if(vr){Ze=Tn.join("&");break e}}Ze=void 0}return T=T.i.splice(0,G),j.G=T,Ze}function bg(T){if(!T.g&&!T.v){T.Y=1;var j=T.Da;D||I(),P||(D(),P=!0),N.add(j,T),T.A=0}}function Cu(T){return T.g||T.v||T.A>=3?!1:(T.Y++,T.v=$a(u(T.Da,T),Tg(T,T.A)),T.A++,!0)}e.Da=function(){if(this.v=null,wg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var T=4*this.T;this.j.info("BP detection timer enabled: "+T),this.B=$a(u(this.Wa,this),T)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xr(10),sc(this),wg(this))};function a0(T){T.B!=null&&(s.clearTimeout(T.B),T.B=null)}function wg(T){T.g=new re(T,T.j,"rpc",T.Y),T.u===null&&(T.g.J=T.o),T.g.P=0;var j=un(T.na);gr(j,"RID","rpc"),gr(j,"SID",T.M),gr(j,"AID",T.K),gr(j,"CI",T.F?"0":"1"),!T.F&&T.ia&&gr(j,"TO",T.ia),gr(j,"TYPE","xmlhttp"),Su(T,j),T.u&&T.o&&Eu(j,T.u,T.o),T.O&&(T.g.H=T.O);var G=T.g;T=T.ba,G.M=1,G.A=al(un(j)),G.u=null,G.R=!0,ye(G,T)}e.Va=function(){this.C!=null&&(this.C=null,sc(this),Cu(this),Xr(19))};function Zf(T){T.C!=null&&(s.clearTimeout(T.C),T.C=null)}function Eg(T,j){var G=null;if(T.g==j){Zf(T),a0(T),T.g=null;var Q=2}else if(ii(T.h,j))G=j.G,qa(T.h,j),Q=1;else return;if(T.I!=0){if(j.o)if(Q==1){G=j.u?j.u.length:0,j=Date.now()-j.F;var be=T.D;Q=xo(),ht(Q,new ni(Q,G)),Co(T)}else bg(T);else if(be=j.m,be==3||be==0&&j.X>0||!(Q==1&&Xf(T,j)||Q==2&&Cu(T)))switch(G&&G.length>0&&(j=T.h,j.i=j.i.concat(G)),be){case 1:No(T,5);break;case 4:No(T,10);break;case 3:No(T,6);break;default:No(T,2)}}}function Tg(T,j){let G=T.Qa+Math.floor(Math.random()*T.Za);return T.isActive()||(G*=2),G*j}function No(T,j){if(T.j.info("Error code "+j),j==2){var G=u(T.bb,T),Q=T.Ua;const be=!Q;Q=new Qi(Q||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||On(Q,"https"),al(Q),be?Ut(Q.toString(),G):xi(Q.toString(),G)}else Xr(2);T.I=0,T.l&&T.l.pa(j),Ag(T),Jf(T)}e.bb=function(T){T?(this.j.info("Successfully pinged google.com"),Xr(2)):(this.j.info("Failed to ping google.com"),Xr(1))};function Ag(T){if(T.I=0,T.ja=[],T.l){const j=Zi(T.h);(j.length!=0||T.i.length!=0)&&(x(T.ja,j),x(T.ja,T.i),T.h.i.length=0,y(T.i),T.i.length=0),T.l.oa()}}function Sg(T,j,G){var Q=G instanceof Qi?un(G):new Qi(G);if(Q.g!="")j&&(Q.g=j+"."+Q.g),Eo(Q,Q.u);else{var be=s.location;Q=be.protocol,j=j?j+"."+be.hostname:be.hostname,be=+be.port;const ke=new Qi(null);Q&&On(ke,Q),j&&(ke.g=j),be&&Eo(ke,be),G&&(ke.h=G),Q=ke}return G=T.G,j=T.wa,G&&j&&gr(Q,G,j),gr(Q,"VER",T.ka),Su(T,Q),Q}function Cg(T,j,G){if(j&&!T.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=T.Aa&&!T.ma?new Pr(new _i({ab:G})):new Pr(T.ma),j.Fa(T.L),j}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ng(){}e=Ng.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function oc(){}oc.prototype.g=function(T,j){return new ta(T,j)};function ta(T,j){et.call(this),this.g=new ac(j),this.l=T,this.h=j&&j.messageUrlParams||null,T=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(T?T["X-WebChannel-Content-Type"]=j.messageContentType:T={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(T?T["X-WebChannel-Client-Profile"]=j.sa:T={"X-WebChannel-Client-Profile":j.sa}),this.g.U=T,(T=j&&j.Qb)&&!H(T)&&(this.g.u=T),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!H(j)&&(this.g.G=j,T=this.h,T!==null&&j in T&&(T=this.h,j in T&&delete T[j])),this.j=new ll(this)}p(ta,et),ta.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ta.prototype.close=function(){n0(this.g)},ta.prototype.o=function(T){var j=this.g;if(typeof T=="string"){var G={};G.__data__=T,T=G}else this.v&&(G={},G.__data__=ft(T),T=G);j.i.push(new st(j.Ya++,T)),j.I==3&&Co(j)},ta.prototype.N=function(){this.g.l=null,delete this.j,n0(this.g),delete this.g,ta.Z.N.call(this)};function Ig(T){_r.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var j=T.__sm__;if(j){e:{for(const G in j){T=G;break e}T=void 0}(this.i=T)&&(T=this.i,j=j!==null&&T in j?j[T]:void 0),this.data=j}else this.data=T}p(Ig,_r);function kg(){yi.call(this),this.status=1}p(kg,yi);function ll(T){this.g=T}p(ll,Ng),ll.prototype.ra=function(){ht(this.g,"a")},ll.prototype.qa=function(T){ht(this.g,new Ig(T))},ll.prototype.pa=function(T){ht(this.g,new kg)},ll.prototype.oa=function(){ht(this.g,"b")},oc.prototype.createWebChannel=oc.prototype.g,ta.prototype.send=ta.prototype.o,ta.prototype.open=ta.prototype.m,ta.prototype.close=ta.prototype.close,KV=function(){return new oc},qV=function(){return xo()},GV=pt,hS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Iy=ds,zs.COMPLETE="complete",HV=zs,Ht.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",et.prototype.listen=et.prototype.J,vp=Ht,Pr.prototype.listenOnce=Pr.prototype.K,Pr.prototype.getLastError=Pr.prototype.Ha,Pr.prototype.getLastErrorCode=Pr.prototype.ya,Pr.prototype.getStatus=Pr.prototype.ca,Pr.prototype.getResponseJson=Pr.prototype.La,Pr.prototype.getResponseText=Pr.prototype.la,Pr.prototype.send=Pr.prototype.ea,Pr.prototype.setWithCredentials=Pr.prototype.Fa,$V=Pr}).apply(typeof Xv<"u"?Xv:typeof self<"u"?self:typeof window<"u"?window:{});class Ra{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");let Uh="12.9.0";function $xe(e){Uh=e}const _f=new RV("@firebase/firestore");function Fd(){return _f.logLevel}function at(e,...t){if(_f.logLevel<=ir.DEBUG){const r=t.map(jC);_f.debug(`Firestore (${Uh}): ${e}`,...r)}}function Bl(e,...t){if(_f.logLevel<=ir.ERROR){const r=t.map(jC);_f.error(`Firestore (${Uh}): ${e}`,...r)}}function gh(e,...t){if(_f.logLevel<=ir.WARN){const r=t.map(jC);_f.warn(`Firestore (${Uh}): ${e}`,...r)}}function jC(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function Tt(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,WV(e,n,r)}function WV(e,t,r){let n=`FIRESTORE (${Uh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Bl(n),new Error(n)}function wr(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||WV(t,i,n)}function Ot(e,t){return e}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends zf{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yc{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class Hxe{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Gxe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(Ra.UNAUTHENTICATED)))}shutdown(){}}class qxe{constructor(t){this.t=t,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){wr(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Yc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Yc,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;t.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Yc)}}),0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wr(typeof n.accessToken=="string",31837,{l:n}),new Hxe(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wr(t===null||typeof t=="string",2055,{h:t}),new Ra(t)}}class Kxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Wxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Kxe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(Ra.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yxe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LV(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){wr(this.o===void 0,3512);const n=a=>{a.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,at("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>n(a)))};const i=a=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(wr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new N3(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Jxe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class UC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Jxe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function Zt(e,t){return e<t?-1:e>t?1:0}function pS(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return NE(i)===NE(a)?Zt(i,a):NE(i)?1:-1}return Zt(e.length,t.length)}const Xxe=55296,Zxe=57343;function NE(e){const t=e.charCodeAt(0);return t>=Xxe&&t<=Zxe}function vh(e,t,r){return e.length===t.length&&e.every(((n,i)=>r(n,t[i])))}const I3="__name__";class Uo{constructor(t,r,n){r===void 0?r=0:r>t.length&&Tt(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Tt(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Uo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Uo?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Uo.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return Zt(t.length,r.length)}static compareSegments(t,r){const n=Uo.isNumericId(t),i=Uo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Uo.extractNumericId(t).compare(Uo.extractNumericId(r)):pS(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wc.fromString(t.substring(4,t.length-2))}}class zr extends Uo{construct(t,r,n){return new zr(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new rt(je.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new zr(r)}static emptyPath(){return new zr([])}}const Qxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends Uo{construct(t,r,n){return new ki(t,r,n)}static isValidIdentifier(t){return Qxe.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I3}static keyField(){return new ki([I3])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new rt(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new rt(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new rt(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new rt(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ki(r)}static emptyPath(){return new ki([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(zr.fromString(t))}static fromName(t){return new yt(zr.fromString(t).popFirst(5))}static empty(){return new yt(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return zr.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new zr(t.slice()))}}function YV(e,t,r){if(!r)throw new rt(je.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function e1e(e,t,r,n){if(t===!0&&n===!0)throw new rt(je.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function k3(e){if(!yt.isDocumentKey(e))throw new rt(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function P3(e){if(yt.isDocumentKey(e))throw new rt(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function JV(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Z1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function $o(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rt(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Z1(e);throw new rt(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function $n(e,t){const r={typeString:e};return t&&(r.value=t),r}function Hm(e,t){if(!JV(e))throw new rt(je.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new rt(je.INVALID_ARGUMENT,r);return!0}const R3=-62135596800,O3=1e6;class Jr{static now(){return Jr.fromMillis(Date.now())}static fromDate(t){return Jr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*O3);return new Jr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new rt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<R3)throw new rt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O3}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hm(t,Jr._jsonSchema))return new Jr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-R3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jr._jsonSchemaVersion="firestore/timestamp/1.0",Jr._jsonSchema={type:$n("string",Jr._jsonSchemaVersion),seconds:$n("number"),nanoseconds:$n("number")};class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new Jr(0,0))}static max(){return new Nt(new Jr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const hm=-1;function t1e(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(n===1e9?new Jr(r+1,0):new Jr(r,n));return new tu(i,yt.empty(),t)}function r1e(e){return new tu(e.readTime,e.key,hm)}class tu{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new tu(Nt.min(),yt.empty(),hm)}static max(){return new tu(Nt.max(),yt.empty(),hm)}}function n1e(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=yt.comparator(e.documentKey,t.documentKey),r!==0?r:Zt(e.largestBatchId,t.largestBatchId))}const i1e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a1e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bh(e){if(e.code!==je.FAILED_PRECONDITION||e.message!==i1e)throw e;at("LocalStore","Unexpectedly lost primary lease")}class $e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $e(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):$e.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):$e.reject(r)}static resolve(t){return new $e(((r,n)=>{r(t)}))}static reject(t){return new $e(((r,n)=>{n(t)}))}static waitFor(t){return new $e(((r,n)=>{let i=0,a=0,s=!1;t.forEach((o=>{++i,o.next((()=>{++a,s&&a===i&&r()}),(c=>n(c)))})),s=!0,a===i&&r()}))}static or(t){let r=$e.resolve(!1);for(const n of t)r=r.next((i=>i?$e.resolve(i):n()));return r}static forEach(t,r){const n=[];return t.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(t,r){return new $e(((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(t[u]).next((d=>{s[u]=d,++o,o===a&&n(s)}),(d=>i(d)))}}))}static doWhile(t,r){return new $e(((n,i)=>{const a=()=>{t()===!0?r().next((()=>{a()}),i):n()};a()}))}}function s1e(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Vh(e){return e.name==="IndexedDbTransactionError"}class Q1{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Q1.ce=-1;const BC=-1;function e_(e){return e==null}function Cx(e){return e===0&&1/e==-1/0}function o1e(e){return typeof e=="number"&&Number.isInteger(e)&&!Cx(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const XV="";function l1e(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=M3(t)),t=c1e(e.get(r),t);return M3(t)}function c1e(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case XV:r+="";break;default:r+=a}}return r}function M3(e){return e+XV+""}function D3(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function mu(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function ZV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class on{constructor(t,r){this.comparator=t,this.root=r||Ni.EMPTY}insert(t,r){return new on(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(t){return new on(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,n)=>(t(r,n),!1)))}toString(){const t=[];return this.inorderTraversal(((r,n)=>(t.push(`${r}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zv(this.root,t,this.comparator,!0)}}class Zv{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ni{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ni.RED,this.left=i??Ni.EMPTY,this.right=a??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ni(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ni.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ni(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(t){this.comparator=t,this.data=new on(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,n)=>(t(r),!1)))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new L3(this.data.getIterator())}getIteratorFrom(t){return new L3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((n=>{r=r.add(n)})),r}isEqual(t){if(!(t instanceof Qn)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Qn(this.comparator);return r.data=t,r}}class L3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ss{constructor(t){this.fields=t,t.sort(ki.comparator)}static empty(){return new ss([])}unionWith(t){let r=new Qn(ki.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new ss(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return vh(this.fields,t.fields,((r,n)=>r.isEqual(n)))}}class QV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QV("Invalid base64 string: "+a):a}})(t);return new Mi(r)}static fromUint8Array(t){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(t);return new Mi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const u1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ru(e){if(wr(!!e,39018),typeof e=="string"){let t=0;const r=u1e.exec(e);if(wr(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Nn(e.seconds),nanos:Nn(e.nanos)}}function Nn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function nu(e){return typeof e=="string"?Mi.fromBase64String(e):Mi.fromUint8Array(e)}const ez="server_timestamp",tz="__type__",rz="__previous_value__",nz="__local_write_time__";function VC(e){return(e?.mapValue?.fields||{})[tz]?.stringValue===ez}function t_(e){const t=e.mapValue.fields[rz];return VC(t)?t_(t):t}function pm(e){const t=ru(e.mapValue.fields[nz].timestampValue);return new Jr(t.seconds,t.nanos)}class f1e{constructor(t,r,n,i,a,s,o,c,u,d,p){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=p}}const Nx="(default)";class mm{constructor(t,r){this.projectId=t,this.database=r||Nx}static empty(){return new mm("","")}get isDefaultDatabase(){return this.database===Nx}isEqual(t){return t instanceof mm&&t.projectId===this.projectId&&t.database===this.database}}function d1e(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rt(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mm(e.options.projectId,t)}const iz="__type__",h1e="__max__",Qv={mapValue:{}},az="__vector__",Ix="value";function iu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?VC(e)?4:m1e(e)?9007199254740991:p1e(e)?10:11:Tt(28295,{value:e})}function Yo(e,t){if(e===t)return!0;const r=iu(e);if(r!==iu(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pm(e).isEqual(pm(t));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ru(i.timestampValue),o=ru(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(i,a){return nu(i.bytesValue).isEqual(nu(a.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(i,a){return Nn(i.geoPointValue.latitude)===Nn(a.geoPointValue.latitude)&&Nn(i.geoPointValue.longitude)===Nn(a.geoPointValue.longitude)})(e,t);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Nn(i.integerValue)===Nn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Nn(i.doubleValue),o=Nn(a.doubleValue);return s===o?Cx(s)===Cx(o):isNaN(s)&&isNaN(o)}return!1})(e,t);case 9:return vh(e.arrayValue.values||[],t.arrayValue.values||[],Yo);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(D3(s)!==D3(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!Yo(s[c],o[c])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function gm(e,t){return(e.values||[]).find((r=>Yo(r,t)))!==void 0}function yh(e,t){if(e===t)return 0;const r=iu(e),n=iu(t);if(r!==n)return Zt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Zt(e.booleanValue,t.booleanValue);case 2:return(function(a,s){const o=Nn(a.integerValue||a.doubleValue),c=Nn(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(e,t);case 3:return F3(e.timestampValue,t.timestampValue);case 4:return F3(pm(e),pm(t));case 5:return pS(e.stringValue,t.stringValue);case 6:return(function(a,s){const o=nu(a),c=nu(s);return o.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Zt(o[u],c[u]);if(d!==0)return d}return Zt(o.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(a,s){const o=Zt(Nn(a.latitude),Nn(s.latitude));return o!==0?o:Zt(Nn(a.longitude),Nn(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return j3(e.arrayValue,t.arrayValue);case 10:return(function(a,s){const o=a.fields||{},c=s.fields||{},u=o[Ix]?.arrayValue,d=c[Ix]?.arrayValue,p=Zt(u?.values?.length||0,d?.values?.length||0);return p!==0?p:j3(u,d)})(e.mapValue,t.mapValue);case 11:return(function(a,s){if(a===Qv.mapValue&&s===Qv.mapValue)return 0;if(a===Qv.mapValue)return 1;if(s===Qv.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const m=pS(c[p],d[p]);if(m!==0)return m;const y=yh(o[c[p]],u[d[p]]);if(y!==0)return y}return Zt(c.length,d.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:r})}}function F3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Zt(e,t);const r=ru(e),n=ru(t),i=Zt(r.seconds,n.seconds);return i!==0?i:Zt(r.nanos,n.nanos)}function j3(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=yh(r[i],n[i]);if(a)return a}return Zt(r.length,n.length)}function xh(e){return mS(e)}function mS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){const n=ru(r);return`time(${n.seconds},${n.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(r){return nu(r).toBase64()})(e.bytesValue):"referenceValue"in e?(function(r){return yt.fromName(r).toString()})(e.referenceValue):"geoPointValue"in e?(function(r){return`geo(${r.latitude},${r.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=mS(a);return n+"]"})(e.arrayValue):"mapValue"in e?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${mS(r.fields[s])}`;return i+"}"})(e.mapValue):Tt(61005,{value:e})}function ky(e){switch(iu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=t_(e);return t?16+ky(t):16;case 5:return 2*e.stringValue.length;case 6:return nu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+ky(a)),0)})(e.arrayValue);case 10:case 11:return(function(n){let i=0;return mu(n.fields,((a,s)=>{i+=a.length+ky(s)})),i})(e.mapValue);default:throw Tt(13486,{value:e})}}function U3(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function gS(e){return!!e&&"integerValue"in e}function zC(e){return!!e&&"arrayValue"in e}function B3(e){return!!e&&"nullValue"in e}function V3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Py(e){return!!e&&"mapValue"in e}function p1e(e){return(e?.mapValue?.fields||{})[iz]?.stringValue===az}function jp(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return mu(e.mapValue.fields,((r,n)=>t.mapValue.fields[r]=jp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=jp(e.arrayValue.values[r]);return t}return{...e}}function m1e(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===h1e}class Da{constructor(t){this.value=t}static empty(){return new Da({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Py(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=jp(r)}setAll(t){let r=ki.emptyPath(),n={},i=[];t.forEach(((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=jp(s):i.push(o.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Py(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Yo(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Py(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){mu(r,((i,a)=>t[i]=a));for(const i of n)delete t[i]}clone(){return new Da(jp(this.value))}}function sz(e){const t=[];return mu(e.fields,((r,n)=>{const i=new ki([r]);if(Py(n)){const a=sz(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)})),new ss(t)}class Bi{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Bi(t,0,Nt.min(),Nt.min(),Nt.min(),Da.empty(),0)}static newFoundDocument(t,r,n,i){return new Bi(t,1,r,Nt.min(),n,i,0)}static newNoDocument(t,r){return new Bi(t,2,r,Nt.min(),Nt.min(),Da.empty(),0)}static newUnknownDocument(t,r){return new Bi(t,3,r,Nt.min(),Nt.min(),Da.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Bi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kx{constructor(t,r){this.position=t,this.inclusive=r}}function z3(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=yt.comparator(yt.fromName(s.referenceValue),r.key):n=yh(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function $3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Yo(e.position[r],t.position[r]))return!1;return!0}class vm{constructor(t,r="asc"){this.field=t,this.dir=r}}function g1e(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class oz{}class zn extends oz{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new y1e(t,r,n):r==="array-contains"?new b1e(t,n):r==="in"?new w1e(t,n):r==="not-in"?new E1e(t,n):r==="array-contains-any"?new T1e(t,n):new zn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new x1e(t,n):new _1e(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(yh(r,this.value)):r!==null&&iu(this.value)===iu(r)&&this.matchesComparison(yh(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class po extends oz{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new po(t,r)}matches(t){return lz(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lz(e){return e.op==="and"}function cz(e){return v1e(e)&&lz(e)}function v1e(e){for(const t of e.filters)if(t instanceof po)return!1;return!0}function vS(e){if(e instanceof zn)return e.field.canonicalString()+e.op.toString()+xh(e.value);if(cz(e))return e.filters.map((t=>vS(t))).join(",");{const t=e.filters.map((r=>vS(r))).join(",");return`${e.op}(${t})`}}function uz(e,t){return e instanceof zn?(function(n,i){return i instanceof zn&&n.op===i.op&&n.field.isEqual(i.field)&&Yo(n.value,i.value)})(e,t):e instanceof po?(function(n,i){return i instanceof po&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,o)=>a&&uz(s,i.filters[o])),!0):!1})(e,t):void Tt(19439)}function fz(e){return e instanceof zn?(function(r){return`${r.field.canonicalString()} ${r.op} ${xh(r.value)}`})(e):e instanceof po?(function(r){return r.op.toString()+" {"+r.getFilters().map(fz).join(" ,")+"}"})(e):"Filter"}class y1e extends zn{constructor(t,r,n){super(t,r,n),this.key=yt.fromName(n.referenceValue)}matches(t){const r=yt.comparator(t.key,this.key);return this.matchesComparison(r)}}class x1e extends zn{constructor(t,r){super(t,"in",r),this.keys=dz("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class _1e extends zn{constructor(t,r){super(t,"not-in",r),this.keys=dz("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function dz(e,t){return(t.arrayValue?.values||[]).map((r=>yt.fromName(r.referenceValue)))}class b1e extends zn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return zC(r)&&gm(r.arrayValue,this.value)}}class w1e extends zn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&gm(this.value.arrayValue,r)}}class E1e extends zn{constructor(t,r){super(t,"not-in",r)}matches(t){if(gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!gm(this.value.arrayValue,r)}}class T1e extends zn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!zC(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>gm(this.value.arrayValue,n)))}}class A1e{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function H3(e,t=null,r=[],n=[],i=null,a=null,s=null){return new A1e(e,t,r,n,i,a,s)}function $C(e){const t=Ot(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((n=>vS(n))).join(","),r+="|ob:",r+=t.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),e_(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((n=>xh(n))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((n=>xh(n))).join(",")),t.Te=r}return t.Te}function HC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!g1e(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!uz(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$3(e.startAt,t.startAt)&&$3(e.endAt,t.endAt)}function yS(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class zh{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function S1e(e,t,r,n,i,a,s,o){return new zh(e,t,r,n,i,a,s,o)}function r_(e){return new zh(e)}function G3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function C1e(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function hz(e){return e.collectionGroup!==null}function Up(e){const t=Ot(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Qn(ki.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(t).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new vm(a,n))})),r.has(ki.keyField().canonicalString())||t.Ie.push(new vm(ki.keyField(),n))}return t.Ie}function Ho(e){const t=Ot(e);return t.Ee||(t.Ee=N1e(t,Up(e))),t.Ee}function N1e(e,t){if(e.limitType==="F")return H3(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new vm(i.field,a)}));const r=e.endAt?new kx(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new kx(e.startAt.position,e.startAt.inclusive):null;return H3(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function xS(e,t){const r=e.filters.concat([t]);return new zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function I1e(e,t){const r=e.explicitOrderBy.concat([t]);return new zh(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function _S(e,t,r){return new zh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function n_(e,t){return HC(Ho(e),Ho(t))&&e.limitType===t.limitType}function pz(e){return`${$C(Ho(e))}|lt:${e.limitType}`}function jd(e){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>fz(i))).join(", ")}]`),e_(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>xh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>xh(i))).join(",")),`Target(${n})`})(Ho(e))}; limitType=${e.limitType})`}function i_(e,t){return t.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):yt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(e,t)&&(function(n,i){for(const a of Up(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(e,t)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(e,t)&&(function(n,i){return!(n.startAt&&!(function(s,o,c){const u=z3(s,o,c);return s.inclusive?u<=0:u<0})(n.startAt,Up(n),i)||n.endAt&&!(function(s,o,c){const u=z3(s,o,c);return s.inclusive?u>=0:u>0})(n.endAt,Up(n),i))})(e,t)}function k1e(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mz(e){return(t,r)=>{let n=!1;for(const i of Up(e)){const a=P1e(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function P1e(e,t,r){const n=e.field.isKeyField()?yt.comparator(t.key,r.key):(function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?yh(c,u):Tt(42886)})(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Tt(19790,{direction:e.dir})}}class $f{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){mu(this.inner,((r,n)=>{for(const[i,a]of n)t(i,a)}))}isEmpty(){return ZV(this.inner)}size(){return this.innerSize}}const R1e=new on(yt.comparator);function Vl(){return R1e}const gz=new on(yt.comparator);function yp(...e){let t=gz;for(const r of e)t=t.insert(r.key,r);return t}function vz(e){let t=gz;return e.forEach(((r,n)=>t=t.insert(r,n.overlayedDocument))),t}function Qu(){return Bp()}function yz(){return Bp()}function Bp(){return new $f((e=>e.toString()),((e,t)=>e.isEqual(t)))}const O1e=new on(yt.comparator),M1e=new Qn(yt.comparator);function Qt(...e){let t=M1e;for(const r of e)t=t.add(r);return t}const D1e=new Qn(Zt);function L1e(){return D1e}function GC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cx(t)?"-0":t}}function xz(e){return{integerValue:""+e}}function F1e(e,t){return o1e(t)?xz(t):GC(e,t)}class a_{constructor(){this._=void 0}}function j1e(e,t,r){return e instanceof Px?(function(i,a){const s={fields:{[tz]:{stringValue:ez},[nz]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&VC(a)&&(a=t_(a)),a&&(s.fields[rz]=a),{mapValue:s}})(r,t):e instanceof ym?bz(e,t):e instanceof xm?wz(e,t):(function(i,a){const s=_z(i,a),o=q3(s)+q3(i.Ae);return gS(s)&&gS(i.Ae)?xz(o):GC(i.serializer,o)})(e,t)}function U1e(e,t,r){return e instanceof ym?bz(e,t):e instanceof xm?wz(e,t):r}function _z(e,t){return e instanceof Rx?(function(n){return gS(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(t)?t:{integerValue:0}:null}class Px extends a_{}class ym extends a_{constructor(t){super(),this.elements=t}}function bz(e,t){const r=Ez(t);for(const n of e.elements)r.some((i=>Yo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class xm extends a_{constructor(t){super(),this.elements=t}}function wz(e,t){let r=Ez(t);for(const n of e.elements)r=r.filter((i=>!Yo(i,n)));return{arrayValue:{values:r}}}class Rx extends a_{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function q3(e){return Nn(e.integerValue||e.doubleValue)}function Ez(e){return zC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function B1e(e,t){return e.field.isEqual(t.field)&&(function(n,i){return n instanceof ym&&i instanceof ym||n instanceof xm&&i instanceof xm?vh(n.elements,i.elements,Yo):n instanceof Rx&&i instanceof Rx?Yo(n.Ae,i.Ae):n instanceof Px&&i instanceof Px})(e.transform,t.transform)}class V1e{constructor(t,r){this.version=t,this.transformResults=r}}class uo{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new uo}static exists(t){return new uo(void 0,t)}static updateTime(t){return new uo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ry(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class s_{}function Tz(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Sz(e.key,uo.none()):new Gm(e.key,e.data,uo.none());{const r=e.data,n=Da.empty();let i=new Qn(ki.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new gu(e.key,n,new ss(i.toArray()),uo.none())}}function z1e(e,t,r){e instanceof Gm?(function(i,a,s){const o=i.value.clone(),c=W3(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(e,t,r):e instanceof gu?(function(i,a,s){if(!Ry(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=W3(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(Az(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(e,t,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,r)}function Vp(e,t,r,n){return e instanceof Gm?(function(a,s,o,c){if(!Ry(a.precondition,s))return o;const u=a.value.clone(),d=Y3(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(e,t,r,n):e instanceof gu?(function(a,s,o,c){if(!Ry(a.precondition,s))return o;const u=Y3(a.fieldTransforms,c,s),d=s.data;return d.setAll(Az(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(e,t,r,n):(function(a,s,o){return Ry(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(e,t,r)}function $1e(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=_z(n.transform,i||null);a!=null&&(r===null&&(r=Da.empty()),r.set(n.field,a))}return r||null}function K3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&vh(n,i,((a,s)=>B1e(a,s)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Gm extends s_{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gu extends s_{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Az(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function W3(e,t,r){const n=new Map;wr(e.length===r.length,32656,{Ve:r.length,de:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,U1e(s,o,r[i]))}return n}function Y3(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,j1e(a,s,t))}return n}class Sz extends s_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H1e extends s_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G1e{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&z1e(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Vp(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Vp(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=yz();return this.mutations.forEach((i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=Tz(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Nt.min())})),n}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&vh(this.mutations,t.mutations,((r,n)=>K3(r,n)))&&vh(this.baseMutations,t.baseMutations,((r,n)=>K3(r,n)))}}class qC{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){wr(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=(function(){return O1e})();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new qC(t,r,n,i)}}class q1e{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class K1e{constructor(t,r){this.count=t,this.unchangedNames=r}}var Un,nr;function W1e(e){switch(e){case je.OK:return Tt(64938);case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function Cz(e){if(e===void 0)return Bl("GRPC error has no .code"),je.UNKNOWN;switch(e){case Un.OK:return je.OK;case Un.CANCELLED:return je.CANCELLED;case Un.UNKNOWN:return je.UNKNOWN;case Un.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Un.INTERNAL:return je.INTERNAL;case Un.UNAVAILABLE:return je.UNAVAILABLE;case Un.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Un.NOT_FOUND:return je.NOT_FOUND;case Un.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Un.ABORTED:return je.ABORTED;case Un.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Un.DATA_LOSS:return je.DATA_LOSS;default:return Tt(39323,{code:e})}}(nr=Un||(Un={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";function Y1e(){return new TextEncoder}const J1e=new Wc([4294967295,4294967295],0);function J3(e){const t=Y1e().encode(e),r=new zV;return r.update(t),new Uint8Array(r.digest())}function X3(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Wc([r,n],0),new Wc([i,a],0)]}class KC{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new xp(`Invalid padding: ${r}`);if(n<0)throw new xp(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new xp(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new xp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Wc.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(Wc.fromNumber(n)));return i.compare(J1e)===1&&(i=new Wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=J3(t),[n,i]=X3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new KC(a,i,r);return n.forEach((o=>s.insert(o))),s}insert(t){if(this.ge===0)return;const r=J3(t),[n,i]=X3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.be(s)}}be(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class xp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class o_{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,qm.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new o_(Nt.min(),i,new on(Zt),Vl(),Qt())}}class qm{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new qm(n,r,Qt(),Qt(),Qt())}}class Oy{constructor(t,r,n,i){this.Se=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Nz{constructor(t,r){this.targetId=t,this.Ce=r}}class Iz{constructor(t,r,n=Mi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Z3{constructor(){this.ve=0,this.Fe=Q3(),this.Me=Mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),r=Qt(),n=Qt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Tt(38017,{changeType:a})}})),new qm(this.Me,this.xe,t,r,n)}Ke(){this.Oe=!1,this.Fe=Q3()}qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class X1e{constructor(t){this.Ge=t,this.ze=new Map,this.je=Vl(),this.He=ey(),this.Je=ey(),this.Ze=new on(Zt)}Xe(t){for(const r of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(t.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(yS(a))if(n===0){const s=new yt(a.path);this.et(r,s,Bi.newNoDocument(s,Nt.min()))}else wr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),c=o?this.ct(o,t,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=nu(n).toUint8Array()}catch(c){if(c instanceof QV)return gh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new KC(s,i,a)}catch(c){return gh(c instanceof xp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)})),i}Tt(t){const r=new Map;this.ze.forEach(((a,s)=>{const o=this.ot(s);if(o){if(a.current&&yS(o.target)){const c=new yt(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Bi.newNoDocument(c,t))}a.Be&&(r.set(s,a.ke()),a.Ke())}}));let n=Qt();this.Je.forEach(((a,s)=>{let o=!0;s.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(t)));const i=new o_(t,r,this.Ze,this.je,n);return this.je=Vl(),this.He=ey(),this.Je=ey(),this.Ze=new on(Zt),i}Ye(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(t)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.qe(r,1):i.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(t)),this.Je=this.Je.insert(r,this.Rt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let r=this.ze.get(t);return r||(r=new Z3,this.ze.set(t,r)),r}Rt(t){let r=this.Je.get(t);return r||(r=new Qn(Zt),this.Je=this.Je.insert(t,r)),r}It(t){let r=this.He.get(t);return r||(r=new Qn(Zt),this.He=this.He.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||at("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Z3),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function ey(){return new on(yt.comparator)}function Q3(){return new on(yt.comparator)}const Z1e={asc:"ASCENDING",desc:"DESCENDING"},Q1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e_e={and:"AND",or:"OR"};class t_e{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function bS(e,t){return e.useProto3Json||e_(t)?t:{value:t}}function Ox(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kz(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function r_e(e,t){return Ox(e,t.toTimestamp())}function Go(e){return wr(!!e,49232),Nt.fromTimestamp((function(r){const n=ru(r);return new Jr(n.seconds,n.nanos)})(e))}function WC(e,t){return wS(e,t).canonicalString()}function wS(e,t){const r=(function(i){return new zr(["projects",i.projectId,"databases",i.database])})(e).child("documents");return t===void 0?r:r.child(t)}function Pz(e){const t=zr.fromString(e);return wr(Lz(t),10190,{key:t.toString()}),t}function ES(e,t){return WC(e.databaseId,t.path)}function IE(e,t){const r=Pz(t);if(r.get(1)!==e.databaseId.projectId)throw new rt(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new rt(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new yt(Oz(r))}function Rz(e,t){return WC(e.databaseId,t)}function n_e(e){const t=Pz(e);return t.length===4?zr.emptyPath():Oz(t)}function TS(e){return new zr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Oz(e){return wr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function e6(e,t,r){return{name:ES(e,t),fields:r.value.mapValue.fields}}function i_e(e,t){let r;if("targetChange"in t){t.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Tt(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=(function(u,d){return u.useProto3Json?(wr(d===void 0||typeof d=="string",58123),Mi.fromBase64String(d||"")):(wr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mi.fromUint8Array(d||new Uint8Array))})(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&(function(u){const d=u.code===void 0?je.UNKNOWN:Cz(u.code);return new rt(d,u.message||"")})(s);r=new Iz(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=IE(e,n.document.name),a=Go(n.document.updateTime),s=n.document.createTime?Go(n.document.createTime):Nt.min(),o=new Da({mapValue:{fields:n.document.fields}}),c=Bi.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Oy(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=IE(e,n.document),a=n.readTime?Go(n.readTime):Nt.min(),s=Bi.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Oy([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=IE(e,n.document),a=n.removedTargetIds||[];r=new Oy([],a,i,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new K1e(i,a),o=n.targetId;r=new Nz(o,s)}}return r}function a_e(e,t){let r;if(t instanceof Gm)r={update:e6(e,t.key,t.value)};else if(t instanceof Sz)r={delete:ES(e,t.key)};else if(t instanceof gu)r={update:e6(e,t.key,t.data),updateMask:p_e(t.fieldMask)};else{if(!(t instanceof H1e))return Tt(16599,{dt:t.type});r={verify:ES(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((n=>(function(a,s){const o=s.transform;if(o instanceof Px)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ym)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof xm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Rx)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Tt(20930,{transform:s.transform})})(0,n)))),t.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:r_e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Tt(27497)})(e,t.precondition)),r}function s_e(e,t){return e&&e.length>0?(wr(t!==void 0,14353),e.map((r=>(function(i,a){let s=i.updateTime?Go(i.updateTime):Go(a);return s.isEqual(Nt.min())&&(s=Go(a)),new V1e(s,i.transformResults||[])})(r,t)))):[]}function o_e(e,t){return{documents:[Rz(e,t.path)]}}function l_e(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Rz(e,i);const a=(function(u){if(u.length!==0)return Dz(po.create(u,"and"))})(t.filters);a&&(r.structuredQuery.where=a);const s=(function(u){if(u.length!==0)return u.map((d=>(function(m){return{field:Ud(m.field),direction:f_e(m.dir)}})(d)))})(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=bS(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:r,parent:i}}function c_e(e){let t=n_e(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){wr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let a=[];r.where&&(a=(function(p){const m=Mz(p);return m instanceof po&&cz(m)?m.getFilters():[m]})(r.where));let s=[];r.orderBy&&(s=(function(p){return p.map((m=>(function(x){return new vm(Bd(x.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(m)))})(r.orderBy));let o=null;r.limit&&(o=(function(p){let m;return m=typeof p=="object"?p.value:p,e_(m)?null:m})(r.limit));let c=null;r.startAt&&(c=(function(p){const m=!!p.before,y=p.values||[];return new kx(y,m)})(r.startAt));let u=null;return r.endAt&&(u=(function(p){const m=!p.before,y=p.values||[];return new kx(y,m)})(r.endAt)),S1e(t,i,s,a,o,"F",c,u)}function u_e(e,t){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:i})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Mz(e){return e.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Bd(r.unaryFilter.field);return zn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bd(r.unaryFilter.field);return zn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bd(r.unaryFilter.field);return zn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Bd(r.unaryFilter.field);return zn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(r){return zn.create(Bd(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(r){return po.create(r.compositeFilter.filters.map((n=>Mz(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(r.compositeFilter.op))})(e):Tt(30097,{filter:e})}function f_e(e){return Z1e[e]}function d_e(e){return Q1e[e]}function h_e(e){return e_e[e]}function Ud(e){return{fieldPath:e.canonicalString()}}function Bd(e){return ki.fromServerFormat(e.fieldPath)}function Dz(e){return e instanceof zn?(function(r){if(r.op==="=="){if(V3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NAN"}};if(B3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(V3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NOT_NAN"}};if(B3(r.value))return{unaryFilter:{field:Ud(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(r.field),op:d_e(r.op),value:r.value}}})(e):e instanceof po?(function(r){const n=r.getFilters().map((i=>Dz(i)));return n.length===1?n[0]:{compositeFilter:{op:h_e(r.op),filters:n}}})(e):Tt(54877,{filter:e})}function p_e(e){const t=[];return e.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function Lz(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Fz(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Vc{constructor(t,r,n,i,a=Nt.min(),s=Nt.min(),o=Mi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(t){return new Vc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class m_e{constructor(t){this.yt=t}}function g_e(e){const t=c_e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?_S(t,t.limit,"L"):t}class v_e{constructor(){this.Sn=new y_e}addToCollectionParentIndex(t,r){return this.Sn.add(r),$e.resolve()}getCollectionParents(t,r){return $e.resolve(this.Sn.getEntries(r))}addFieldIndex(t,r){return $e.resolve()}deleteFieldIndex(t,r){return $e.resolve()}deleteAllFieldIndexes(t){return $e.resolve()}createTargetIndexes(t,r){return $e.resolve()}getDocumentsMatchingTarget(t,r){return $e.resolve(null)}getIndexType(t,r){return $e.resolve(0)}getFieldIndexes(t,r){return $e.resolve([])}getNextCollectionGroupToUpdate(t){return $e.resolve(null)}getMinOffset(t,r){return $e.resolve(tu.min())}getMinOffsetFromCollectionGroup(t,r){return $e.resolve(tu.min())}updateCollectionGroup(t,r,n){return $e.resolve()}updateIndexEntries(t,r){return $e.resolve()}}class y_e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Qn(zr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Qn(zr.comparator)).toArray()}}const t6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jz=41943040;class Oa{static withCacheSize(t){return new Oa(t,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}Oa.DEFAULT_COLLECTION_PERCENTILE=10,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oa.DEFAULT=new Oa(jz,Oa.DEFAULT_COLLECTION_PERCENTILE,Oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oa.DISABLED=new Oa(-1,0,0);class _h{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new _h(0)}static ar(){return new _h(-1)}}const r6="LruGarbageCollector",Uz=1048576;function n6([e,t],[r,n]){const i=Zt(e,r);return i===0?Zt(t,n):i}class x_e{constructor(t){this.Pr=t,this.buffer=new Qn(n6),this.Tr=0}Ir(){return++this.Tr}Er(t){const r=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();n6(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class __e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(r6,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Vh(r)?at(r6,"Ignoring IndexedDB error during garbage collection: ",r):await Bh(r)}await this.Ar(3e5)}))}}class b_e{constructor(t,r){this.Vr=t,this.params=r}calculateTargetCount(t,r){return this.Vr.dr(t).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(t,r){if(r===0)return $e.resolve(Q1.ce);const n=new x_e(r);return this.Vr.forEachTarget(t,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(t,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(t,r,n){return this.Vr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Vr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(t6)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t6):this.gr(t,r)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(t,i)))).next((p=>(n=p,o=Date.now(),this.removeTargets(t,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((p=>(u=Date.now(),Fd()<=ir.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function w_e(e,t){return new b_e(e,t)}class E_e{constructor(){this.changes=new $f((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Bi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class T_e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class A_e{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,r)))).next((i=>(n!==null&&Vp(n.mutation,i,ss.empty(),Jr.now()),i)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.getLocalViewOfDocuments(t,n,Qt()).next((()=>n))))}getLocalViewOfDocuments(t,r,n=Qt()){const i=Qu();return this.populateOverlays(t,i,r).next((()=>this.computeViews(t,r,i,n).next((a=>{let s=yp();return a.forEach(((o,c)=>{s=s.insert(o,c.overlayedDocument)})),s}))))}getOverlayedDocuments(t,r){const n=Qu();return this.populateOverlays(t,n,r).next((()=>this.computeViews(t,r,n,Qt())))}populateOverlays(t,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(t,i).next((a=>{a.forEach(((s,o)=>{r.set(s,o)}))}))}computeViews(t,r,n,i){let a=Vl();const s=Bp(),o=(function(){return Bp()})();return r.forEach(((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof gu)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Vp(d.mutation,u,d.mutation.getFieldMask(),Jr.now())):s.set(u.key,ss.empty())})),this.recalculateAndSaveOverlays(t,a).next((c=>(c.forEach(((u,d)=>s.set(u,d))),r.forEach(((u,d)=>o.set(u,new T_e(d,s.get(u)??null)))),o)))}recalculateAndSaveOverlays(t,r){const n=Bp();let i=new on(((s,o)=>s-o)),a=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((s=>{for(const o of s)o.keys().forEach((c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||ss.empty();d=o.applyToLocalView(u,d),n.set(c,d);const p=(i.get(o.batchId)||Qt()).add(c);i=i.insert(o.batchId,p)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,p=yz();d.forEach((m=>{if(!a.has(m)){const y=Tz(r.get(m),n.get(m));y!==null&&p.set(m,y),a=a.add(m)}})),s.push(this.documentOverlayCache.saveOverlays(t,u,p))}return $e.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,r,n,i){return C1e(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):hz(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):$e.resolve(Qu());let o=hm,c=a;return s.next((u=>$e.forEach(u,((d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),a.get(d)?$e.resolve():this.remoteDocumentCache.getEntry(t,d).next((m=>{c=c.insert(d,m)}))))).next((()=>this.populateOverlays(t,u,a))).next((()=>this.computeViews(t,c,u,Qt()))).next((d=>({batchId:o,changes:vz(d)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new yt(r)).next((n=>{let i=yp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=yp();return this.indexManager.getCollectionParents(t,a).next((o=>$e.forEach(o,(c=>{const u=(function(p,m){return new zh(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next((d=>{d.forEach(((p,m)=>{s=s.insert(p,m)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i)))).next((s=>{a.forEach(((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Bi.newInvalidDocument(d)))}));let o=yp();return s.forEach(((c,u)=>{const d=a.get(c);d!==void 0&&Vp(d.mutation,u,ss.empty(),Jr.now()),i_(r,u)&&(o=o.insert(c,u))})),o}))}}class S_e{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,r){return $e.resolve(this.Nr.get(r))}saveBundleMetadata(t,r){return this.Nr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Go(i.createTime)}})(r)),$e.resolve()}getNamedQuery(t,r){return $e.resolve(this.Br.get(r))}saveNamedQuery(t,r){return this.Br.set(r.name,(function(i){return{name:i.name,query:g_e(i.bundledQuery),readTime:Go(i.readTime)}})(r)),$e.resolve()}}class C_e{constructor(){this.overlays=new on(yt.comparator),this.Lr=new Map}getOverlay(t,r){return $e.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Qu();return $e.forEach(r,(i=>this.getOverlay(t,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(t,r,n){return n.forEach(((i,a)=>{this.bt(t,r,a)})),$e.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(n)),$e.resolve()}getOverlaysForCollection(t,r,n){const i=Qu(),a=r.length+1,s=new yt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return $e.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new on(((u,d)=>u-d));const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Qu(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Qu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=i)););return $e.resolve(o)}bt(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new q1e(r,n));let a=this.Lr.get(r);a===void 0&&(a=Qt(),this.Lr.set(r,a)),this.Lr.set(r,a.add(n.key))}}class N_e{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(t){return $e.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$e.resolve()}}class YC{constructor(){this.kr=new Qn(ui.Kr),this.qr=new Qn(ui.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,r){const n=new ui(t,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(t,r){t.forEach((n=>this.addReference(n,r)))}removeReference(t,r){this.Wr(new ui(t,r))}Qr(t,r){t.forEach((n=>this.removeReference(n,r)))}Gr(t){const r=new yt(new zr([])),n=new ui(r,t),i=new ui(r,t+1),a=[];return this.qr.forEachInRange([n,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const r=new yt(new zr([])),n=new ui(r,t),i=new ui(r,t+1);let a=Qt();return this.qr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(t){const r=new ui(t,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ui{constructor(t,r){this.key=t,this.Hr=r}static Kr(t,r){return yt.comparator(t.key,r.key)||Zt(t.Hr,r.Hr)}static Ur(t,r){return Zt(t.Hr,r.Hr)||yt.comparator(t.key,r.key)}}class I_e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Qn(ui.Kr)}checkEmpty(t){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new G1e(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new ui(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return $e.resolve(s)}lookupMutationBatch(t,r){return $e.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return $e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?BC:this.Yn-1)}getAllMutationBatches(t){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ui(r,0),i=new ui(r,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([n,i],(s=>{const o=this.Zr(s.Hr);a.push(o)})),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Qn(Zt);return r.forEach((i=>{const a=new ui(i,0),s=new ui(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(o=>{n=n.add(o.Hr)}))})),$e.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;yt.isDocumentKey(a)||(a=a.child(""));const s=new ui(new yt(a),0);let o=new Qn(Zt);return this.Jr.forEachWhile((c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Hr)),!0)}),s),$e.resolve(this.Yr(o))}Yr(t){const r=[];return t.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(t,r){wr(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return $e.forEach(r.mutations,(i=>{const a=new ui(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Jr=n}))}nr(t){}containsKey(t,r){const n=new ui(r,0),i=this.Jr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$e.resolve()}ei(t,r){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const r=this.Xr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class k_e{constructor(t){this.ti=t,this.docs=(function(){return new on(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():Bi.newInvalidDocument(r))}getEntries(t,r){let n=Vl();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Bi.newInvalidDocument(i))})),$e.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=Vl();const s=r.path,o=new yt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||n1e(r1e(d),n)<=0||(i.has(d.key)||i_(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return $e.resolve(a)}getAllFromCollectionGroup(t,r,n,i){Tt(9500)}ni(t,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(t){return new P_e(this)}getSize(t){return $e.resolve(this.size)}}class P_e extends E_e{constructor(t){super(),this.Mr=t}applyChanges(t){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(n)})),$e.waitFor(r)}getFromCache(t,r){return this.Mr.getEntry(t,r)}getAllFromCache(t,r){return this.Mr.getEntries(t,r)}}class R_e{constructor(t){this.persistence=t,this.ri=new $f((r=>$C(r)),HC),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.ii=0,this.si=new YC,this.targetCount=0,this.oi=_h._r()}forEachTarget(t,r){return this.ri.forEach(((n,i)=>r(i))),$e.resolve()}getLastRemoteSnapshotVersion(t){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $e.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),$e.resolve()}lr(t){this.ri.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.oi=new _h(r),this.highestTargetId=r),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,r){return this.lr(r),this.targetCount+=1,$e.resolve()}updateTargetData(t,r){return this.lr(r),$e.resolve()}removeTargetData(t,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.ri.forEach(((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),$e.waitFor(a).next((()=>i))}getTargetCount(t){return $e.resolve(this.targetCount)}getTargetData(t,r){const n=this.ri.get(r)||null;return $e.resolve(n)}addMatchingKeys(t,r,n){return this.si.$r(r,n),$e.resolve()}removeMatchingKeys(t,r,n){this.si.Qr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(t,s))})),$e.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.si.Gr(r),$e.resolve()}getMatchingKeysForTargetId(t,r){const n=this.si.jr(r);return $e.resolve(n)}containsKey(t,r){return $e.resolve(this.si.containsKey(r))}}class Bz{constructor(t,r){this._i={},this.overlays={},this.ai=new Q1(0),this.ui=!1,this.ui=!0,this.ci=new N_e,this.referenceDelegate=t(this),this.li=new R_e(this),this.indexManager=new v_e,this.remoteDocumentCache=(function(i){return new k_e(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new m_e(r),this.Pi=new S_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new C_e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this._i[t.toKey()];return n||(n=new I_e(r,this.referenceDelegate),this._i[t.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,r,n){at("MemoryPersistence","Starting transaction:",t);const i=new O_e(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(t,r){return $e.or(Object.values(this._i).map((n=>()=>n.containsKey(t,r))))}}class O_e extends a1e{constructor(t){super(),this.currentSequenceNumber=t}}class JC{constructor(t){this.persistence=t,this.Ri=new YC,this.Ai=null}static Vi(t){return new JC(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),$e.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),$e.resolve()}removeTarget(t,r){this.Ri.Gr(r.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>n.removeTargetData(t,r)))}Ti(){this.Ai=new Set}Ii(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.di,(n=>{const i=yt.fromPath(n);return this.mi(t,i).next((a=>{a||r.removeEntry(i,Nt.min())}))})).next((()=>(this.Ai=null,r.apply(t))))}updateLimboDocument(t,r){return this.mi(t,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(t){return 0}mi(t,r){return $e.or([()=>$e.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ei(t,r)])}}class Mx{constructor(t,r){this.persistence=t,this.fi=new $f((n=>l1e(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=w_e(this,r)}static Vi(t,r){return new Mx(t,r)}Ti(){}Ii(t){return $e.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>r.next((i=>n+i))))}pr(t){let r=0;return this.mr(t,(n=>{r++})).next((()=>r))}mr(t,r){return $e.forEach(this.fi,((n,i)=>this.wr(t,n,i).next((a=>a?$e.resolve():r(i)))))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,(s=>this.wr(t,s,r).next((o=>{o||(n++,a.removeEntry(s,Nt.min()))})))).next((()=>a.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,r){return this.fi.set(r,t.currentSequenceNumber),$e.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),$e.resolve()}removeReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),$e.resolve()}updateLimboDocument(t,r){return this.fi.set(r,t.currentSequenceNumber),$e.resolve()}hi(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=ky(t.data.value)),r}wr(t,r,n){return $e.or([()=>this.persistence.Ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.fi.get(r);return $e.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class XC{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Ts=n,this.Is=i}static Es(t,r){let n=Qt(),i=Qt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new XC(t,r.fromCache,n,i)}}class M_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class D_e{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Sye()?8:s1e(Tye())>0?6:4})()}initialize(t,r){this.fs=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.gs(t,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(t,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new M_e;return this.ys(t,r,s).next((o=>{if(a.result=o,this.As)return this.ws(t,r,s,o.size)}))})).next((()=>a.result))}ws(t,r,n,i){return n.documentReadCount<this.Vs?(Fd()<=ir.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",jd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$e.resolve()):(Fd()<=ir.DEBUG&&at("QueryEngine","Query:",jd(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(Fd()<=ir.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",jd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ho(r))):$e.resolve())}gs(t,r){if(G3(r))return $e.resolve(null);let n=Ho(r);return this.indexManager.getIndexType(t,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=_S(r,null,"F"),n=Ho(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next((a=>{const s=Qt(...a);return this.fs.getDocuments(t,s).next((o=>this.indexManager.getMinOffset(t,n).next((c=>{const u=this.bs(r,o);return this.Ss(r,u,s,c.readTime)?this.gs(t,_S(r,null,"F")):this.Ds(t,u,r,c)}))))})))))}ps(t,r,n,i){return G3(r)||i.isEqual(Nt.min())?$e.resolve(null):this.fs.getDocuments(t,n).next((a=>{const s=this.bs(r,a);return this.Ss(r,s,n,i)?$e.resolve(null):(Fd()<=ir.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jd(r)),this.Ds(t,s,r,t1e(i,hm)).next((o=>o)))}))}bs(t,r){let n=new Qn(mz(t));return r.forEach(((i,a)=>{i_(t,a)&&(n=n.add(a))})),n}Ss(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,r,n){return Fd()<=ir.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",jd(r)),this.fs.getDocumentsMatchingQuery(t,r,tu.min(),n)}Ds(t,r,n,i){return this.fs.getDocumentsMatchingQuery(t,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const ZC="LocalStore",L_e=3e8;class F_e{constructor(t,r,n,i){this.persistence=t,this.Cs=r,this.serializer=i,this.vs=new on(Zt),this.Fs=new $f((a=>$C(a)),HC),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(n)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new A_e(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.vs)))}}function j_e(e,t,r,n){return new F_e(e,t,r,n)}async function Vz(e,t){const r=Ot(e);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Os(t),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],o=[];let c=Qt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next((u=>({Ns:u,removedBatchIds:s,addedBatchIds:o})))}))}))}function U_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=t.batch.keys(),a=r.xs.newChangeBuffer({trackRemovals:!0});return(function(o,c,u,d){const p=u.batch,m=p.keys();let y=$e.resolve();return m.forEach((x=>{y=y.next((()=>d.getEntry(c,x))).next((b=>{const E=u.docVersions.get(x);wr(E!==null,48541),b.version.compareTo(E)<0&&(p.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))}))})),y.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(r,n,t,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let c=Qt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c})(t)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function zz(e){const t=Ot(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.li.getLastRemoteSnapshotVersion(r)))}function B_e(e,t){const r=Ot(e),n=t.snapshotVersion;let i=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;const o=[];t.targetChanges.forEach(((d,p)=>{const m=i.get(p);if(!m)return;o.push(r.li.removeMatchingKeys(a,d.removedDocuments,p).next((()=>r.li.addMatchingKeys(a,d.addedDocuments,p))));let y=m.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(Mi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(p,y),(function(b,E,S){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=L_e?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(m,y,d)&&o.push(r.li.updateTargetData(a,y))}));let c=Vl(),u=Qt();if(t.documentUpdates.forEach((d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))})),o.push(V_e(a,s,t.documentUpdates).next((d=>{c=d.Bs,u=d.Ls}))),!n.isEqual(Nt.min())){const d=r.li.getLastRemoteSnapshotVersion(a).next((p=>r.li.setTargetsMetadata(a,a.currentSequenceNumber,n)));o.push(d)}return $e.waitFor(o).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,u))).next((()=>c))})).then((a=>(r.vs=i,a)))}function V_e(e,t,r){let n=Qt(),i=Qt();return r.forEach((a=>n=n.add(a))),t.getEntries(e,n).next((a=>{let s=Vl();return r.forEach(((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Nt.min())?(t.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),s=s.insert(o,c)):at(ZC,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function z_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=BC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function $_e(e,t){const r=Ot(e);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.li.getTargetData(n,t).next((a=>a?(i=a,$e.resolve(i)):r.li.allocateTargetId(n).next((s=>(i=new Vc(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(t,n.targetId)),n}))}async function AS(e,t,r){const n=Ot(e),i=n.vs.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vh(s))throw s;at(ZC,`Failed to update sequence numbers for target ${t}: ${s}`)}n.vs=n.vs.remove(t),n.Fs.delete(i.target)}function i6(e,t,r){const n=Ot(e);let i=Nt.min(),a=Qt();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,u,d){const p=Ot(c),m=p.Fs.get(d);return m!==void 0?$e.resolve(p.vs.get(m)):p.li.getTargetData(u,d)})(n,s,Ho(t)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,o.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(s,t,r?i:Nt.min(),r?a:Qt()))).next((o=>(H_e(n,k1e(t),o),{documents:o,ks:a})))))}function H_e(e,t,r){let n=e.Ms.get(t)||Nt.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),e.Ms.set(t,n)}class a6{constructor(){this.activeTargetIds=L1e()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G_e{constructor(){this.vo=new a6,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,r,n){this.Fo[t]=r}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new a6,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class q_e{Mo(t){}shutdown(){}}const s6="ConnectivityMonitor";class o6{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(s6,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(s6,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ty=null;function SS(){return ty===null?ty=(function(){return 268435456+Math.round(2147483648*Math.random())})():ty++,"0x"+ty.toString(16)}const kE="RestConnection",K_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class W_e{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+t.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===Nx?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(t,r,n,i,a){const s=SS(),o=this.Qo(t,r.toUriEncodedString());at(kE,`Sending RPC '${t}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:u}=new URL(o),d=$m(u);return this.zo(t,o,c,n,d).then((p=>(at(kE,`Received RPC '${t}' ${s}: `,p),p)),(p=>{throw gh(kE,`RPC '${t}' ${s} failed with error: `,p,"url: ",o,"request:",n),p}))}jo(t,r,n,i,a,s){return this.Wo(t,r,n,i,a)}Go(t,r,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>t[a]=i)),n&&n.headers.forEach(((i,a)=>t[a]=i))}Qo(t,r){const n=K_e[t];let i=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class Y_e{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Fi="WebChannelConnection",K0=(e,t,r)=>{e.listen(t,(n=>{try{r(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class ih extends W_e{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ih.c_){const t=qV();K0(t,GV.STAT_EVENT,(r=>{r.stat===hS.PROXY?at(Fi,"STAT_EVENT: detected buffering proxy"):r.stat===hS.NOPROXY&&at(Fi,"STAT_EVENT: detected no buffering proxy")})),ih.c_=!0}}zo(t,r,n,i,a){const s=SS();return new Promise(((o,c)=>{const u=new $V;u.setWithCredentials(!0),u.listenOnce(HV.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Iy.NO_ERROR:const p=u.getResponseJson();at(Fi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(p)),o(p);break;case Iy.TIMEOUT:at(Fi,`RPC '${t}' ${s} timed out`),c(new rt(je.DEADLINE_EXCEEDED,"Request time out"));break;case Iy.HTTP_ERROR:const m=u.getStatus();if(at(Fi,`RPC '${t}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const b=(function(S){const L=S.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(L)>=0?L:je.UNKNOWN})(x.status);c(new rt(b,x.message))}else c(new rt(je.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new rt(je.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{at(Fi,`RPC '${t}' ${s} completed.`)}}));const d=JSON.stringify(i);at(Fi,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)}))}T_(t,r,n){const i=SS(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const u=a.join("");at(Fi,`Creating RPC '${t}' stream ${i}: ${u}`,o);const d=s.createWebChannel(u,o);this.I_(d);let p=!1,m=!1;const y=new Y_e({Ho:x=>{m?at(Fi,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(p||(at(Fi,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),at(Fi,`RPC '${t}' stream ${i} sending:`,x),d.send(x))},Jo:()=>d.close()});return K0(d,vp.EventType.OPEN,(()=>{m||(at(Fi,`RPC '${t}' stream ${i} transport opened.`),y.i_())})),K0(d,vp.EventType.CLOSE,(()=>{m||(m=!0,at(Fi,`RPC '${t}' stream ${i} transport closed`),y.o_(),this.E_(d))})),K0(d,vp.EventType.ERROR,(x=>{m||(m=!0,gh(Fi,`RPC '${t}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new rt(je.UNAVAILABLE,"The operation could not be completed")))})),K0(d,vp.EventType.MESSAGE,(x=>{if(!m){const b=x.data[0];wr(!!b,16349);const E=b,S=E?.error||E[0]?.error;if(S){at(Fi,`RPC '${t}' stream ${i} received error:`,S);const L=S.status;let k=(function(P){const N=Un[P];if(N!==void 0)return Cz(N)})(L),M=S.message;L==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&gh(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),k===void 0&&(k=je.INTERNAL,M="Unknown error status: "+L+" with message "+S.message),m=!0,y.o_(new rt(k,M)),d.close()}else at(Fi,`RPC '${t}' stream ${i} received:`,b),y.__(b)}})),ih.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((r=>r===t))}Go(t,r,n){super.Go(t,r,n),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KV()}}function J_e(e){return new ih(e)}function PE(){return typeof document<"u"?document:null}function l_(e){return new t_e(e,!0)}ih.c_=!1;class $z{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=r,this.R_=n,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const l6="PersistentStream";class Hz{constructor(t,r,n,i,a,s,o,c){this.Ci=t,this.b_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $z(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===je.RESOURCE_EXHAUSTED?(Bl(r.toString()),Bl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(r)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{t((()=>{const i=new rt(je.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(t,r){const n=this.Q_(this.D_);this.stream=this.j_(t,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(l6,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return r=>{this.Ci.enqueueAndForget((()=>this.D_===t?r():(at(l6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class X_e extends Hz{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=i_e(this.serializer,t),n=(function(a){if(!("targetChange"in a))return Nt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Nt.min():s.readTime?Go(s.readTime):Nt.min()})(t);return this.listener.J_(r,n)}Z_(t){const r={};r.database=TS(this.serializer),r.addTarget=(function(a,s){let o;const c=s.target;if(o=yS(c)?{documents:o_e(a,c)}:{query:l_e(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=kz(a,s.resumeToken);const u=bS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Nt.min())>0){o.readTime=Ox(a,s.snapshotVersion.toTimestamp());const u=bS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,t);const n=u_e(this.serializer,t);n&&(r.labels=n),this.K_(r)}X_(t){const r={};r.database=TS(this.serializer),r.removeTarget=t,this.K_(r)}}class Z_e extends Hz{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}H_(t){return wr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,wr(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){wr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=s_e(t.writeResults,t.commitTime),n=Go(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=TS(this.serializer),this.K_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((n=>a_e(this.serializer,n)))};this.K_(r)}}class Q_e{}class ebe extends Q_e{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new rt(je.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(t,wS(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new rt(je.UNKNOWN,a.toString())}))}jo(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.jo(t,wS(r,n),i,s,o,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new rt(je.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function tbe(e,t,r,n){return new ebe(e,t,r,n)}class rbe{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bl(r),this.aa=!1):at("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const bf="RemoteStore";class nbe{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{n.enqueueAndForget((async()=>{Hf(this)&&(at(bf,"Restarting streams for network reachability change."),await(async function(c){const u=Ot(c);u.Ea.add(4),await Km(u),u.Va.set("Unknown"),u.Ea.delete(4),await c_(u)})(this))}))})),this.Va=new rbe(n,i)}}async function c_(e){if(Hf(e))for(const t of e.Ra)await t(!0)}async function Km(e){for(const t of e.Ra)await t(!1)}function Gz(e,t){const r=Ot(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),rN(r)?tN(r):$h(r).O_()&&eN(r,t))}function QC(e,t){const r=Ot(e),n=$h(r);r.Ia.delete(t),n.O_()&&qz(r,t),r.Ia.size===0&&(n.O_()?n.L_():Hf(r)&&r.Va.set("Unknown"))}function eN(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}$h(e).Z_(t)}function qz(e,t){e.da.$e(t),$h(e).X_(t)}function tN(e){e.da=new X1e({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),$h(e).start(),e.Va.ua()}function rN(e){return Hf(e)&&!$h(e).x_()&&e.Ia.size>0}function Hf(e){return Ot(e).Ea.size===0}function Kz(e){e.da=void 0}async function ibe(e){e.Va.set("Online")}async function abe(e){e.Ia.forEach(((t,r)=>{eN(e,t)}))}async function sbe(e,t){Kz(e),rN(e)?(e.Va.ha(t),tN(e)):e.Va.set("Unknown")}async function obe(e,t,r){if(e.Va.set("Online"),t instanceof Iz&&t.state===2&&t.cause)try{await(async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))})(e,t)}catch(n){at(bf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Dx(e,n)}else if(t instanceof Oy?e.da.Xe(t):t instanceof Nz?e.da.st(t):e.da.tt(t),!r.isEqual(Nt.min()))try{const n=await zz(e.localStore);r.compareTo(n)>=0&&await(function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}})),o.targetMismatches.forEach(((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Mi.EMPTY_BYTE_STRING,d.snapshotVersion)),qz(a,c);const p=new Vc(d.target,c,u,d.sequenceNumber);eN(a,p)})),a.remoteSyncer.applyRemoteEvent(o)})(e,r)}catch(n){at(bf,"Failed to raise snapshot:",n),await Dx(e,n)}}async function Dx(e,t,r){if(!Vh(t))throw t;e.Ea.add(1),await Km(e),e.Va.set("Offline"),r||(r=()=>zz(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{at(bf,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await c_(e)}))}function Wz(e,t){return t().catch((r=>Dx(e,r,t)))}async function u_(e){const t=Ot(e),r=au(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:BC;for(;lbe(t);)try{const i=await z_e(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,cbe(t,i)}catch(i){await Dx(t,i)}Yz(t)&&Jz(t)}function lbe(e){return Hf(e)&&e.Ta.length<10}function cbe(e,t){e.Ta.push(t);const r=au(e);r.O_()&&r.Y_&&r.ea(t.mutations)}function Yz(e){return Hf(e)&&!au(e).x_()&&e.Ta.length>0}function Jz(e){au(e).start()}async function ube(e){au(e).ra()}async function fbe(e){const t=au(e);for(const r of e.Ta)t.ea(r.mutations)}async function dbe(e,t,r){const n=e.Ta.shift(),i=qC.from(n,t,r);await Wz(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await u_(e)}async function hbe(e,t){t&&au(e).Y_&&await(async function(n,i){if((function(s){return W1e(s)&&s!==je.ABORTED})(i.code)){const a=n.Ta.shift();au(n).B_(),await Wz(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await u_(n)}})(e,t),Yz(e)&&Jz(e)}async function c6(e,t){const r=Ot(e);r.asyncQueue.verifyOperationInProgress(),at(bf,"RemoteStore received new credentials");const n=Hf(r);r.Ea.add(3),await Km(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await c_(r)}async function pbe(e,t){const r=Ot(e);t?(r.Ea.delete(2),await c_(r)):t||(r.Ea.add(2),await Km(r),r.Va.set("Unknown"))}function $h(e){return e.ma||(e.ma=(function(r,n,i){const a=Ot(r);return a.sa(),new X_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:ibe.bind(null,e),Yo:abe.bind(null,e),t_:sbe.bind(null,e),J_:obe.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),rN(e)?tN(e):e.Va.set("Unknown")):(await e.ma.stop(),Kz(e))}))),e.ma}function au(e){return e.fa||(e.fa=(function(r,n,i){const a=Ot(r);return a.sa(),new Z_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ube.bind(null,e),t_:hbe.bind(null,e),ta:fbe.bind(null,e),na:dbe.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await u_(e)):(await e.fa.stop(),e.Ta.length>0&&(at(bf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class nN{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Yc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new nN(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iN(e,t){if(Bl("AsyncQueue",`${t}: ${e}`),Vh(e))return new rt(je.UNAVAILABLE,`${t}: ${e}`);throw e}class ah{static emptySet(t){return new ah(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||yt.comparator(r.key,n.key):(r,n)=>yt.comparator(r.key,n.key),this.keyedMap=yp(),this.sortedSet=new on(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,n)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ah)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new ah;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}class u6{constructor(){this.ga=new on(yt.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,n)=>{t.push(n)})),t}}class bh{constructor(t,r,n,i,a,s,o,c,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach((o=>{s.push({type:0,doc:o})})),new bh(t,r,ah.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&n_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}class mbe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class gbe{constructor(){this.queries=f6(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Ot(r),a=i.queries;i.queries=f6(),a.forEach(((s,o)=>{for(const c of o.ba)c.onError(n)}))})(this,new rt(je.ABORTED,"Firestore shutting down"))}}function f6(){return new $f((e=>pz(e)),n_)}async function Xz(e,t){const r=Ot(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.Sa()&&t.Da()&&(n=2):(a=new mbe,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=iN(s,`Initialization of query '${jd(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.ba.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&aN(r)}async function Zz(e,t){const r=Ot(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function vbe(e,t){const r=Ot(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(n=!0);s.wa=i}}n&&aN(r)}function ybe(e,t,r){const n=Ot(e),i=n.queries.get(t);if(i)for(const a of i.ba)a.onError(r);n.queries.delete(t)}function aN(e){e.Ca.forEach((t=>{t.next()}))}var CS,d6;(d6=CS||(CS={})).Ma="default",d6.Cache="cache";class Qz{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new bh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=bh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==CS.Cache}}class e7{constructor(t){this.key=t}}class t7{constructor(t){this.key=t}}class xbe{constructor(t,r){this.query=t,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qt(),this.mutatedKeys=Qt(),this.eu=mz(t),this.tu=new ah(this.eu)}get nu(){return this.Za}ru(t,r){const n=r?r.iu:new u6,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((d,p)=>{const m=i.get(d),y=i_(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;m&&y?m.data.isEqual(y.data)?x!==b&&(n.track({type:3,doc:y}),E=!0):this.su(m,y)||(n.track({type:2,doc:y}),E=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(o=!0)):!m&&y?(n.track({type:0,doc:y}),E=!0):m&&!y&&(n.track({type:1,doc:m}),E=!0,(c||u)&&(o=!0)),E&&(y?(s=s.add(y),a=b?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Ss:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort(((d,p)=>(function(y,x){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:E})}};return b(y)-b(x)})(d.type,p.type)||this.eu(d.doc,p.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Xa;return this.Xa=c,s.length!==0||u?{snapshot:new bh(this.query,t.tu,a,s,t.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u6,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Qt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return t.forEach((n=>{this.Ya.has(n)||r.push(new t7(n))})),this.Ya.forEach((n=>{t.has(n)||r.push(new e7(n))})),r}cu(t){this.Za=t.ks,this.Ya=Qt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return bh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sN="SyncEngine";class _be{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class bbe{constructor(t){this.key=t,this.hu=!1}}class wbe{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new $f((o=>pz(o)),n_),this.Iu=new Map,this.Eu=new Set,this.Ru=new on(yt.comparator),this.Au=new Map,this.Vu=new YC,this.du={},this.mu=new Map,this.fu=_h.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ebe(e,t,r=!0){const n=o7(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await r7(n,t,r,!0),i}async function Tbe(e,t){const r=o7(e);await r7(r,t,!0,!1)}async function r7(e,t,r,n){const i=await $_e(e.localStore,Ho(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await Abe(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&Gz(e.remoteStore,i),o}async function Abe(e,t,r,n,i){e.pu=(p,m,y)=>(async function(b,E,S,L){let k=E.view.ru(S);k.Ss&&(k=await i6(b.localStore,E.query,!1).then((({documents:N})=>E.view.ru(N,k))));const M=L&&L.targetChanges.get(E.targetId),D=L&&L.targetMismatches.get(E.targetId)!=null,P=E.view.applyChanges(k,b.isPrimaryClient,M,D);return p6(b,E.targetId,P.au),P.snapshot})(e,p,m,y);const a=await i6(e.localStore,t,!0),s=new xbe(t,a.ks),o=s.ru(a.documents),c=qm.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,c);p6(e,r,u.au);const d=new _be(t,r,s);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function Sbe(e,t,r){const n=Ot(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!n_(s,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await AS(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&QC(n.remoteStore,i.targetId),NS(n,i.targetId)})).catch(Bh)):(NS(n,i.targetId),await AS(n.localStore,i.targetId,!0))}async function Cbe(e,t){const r=Ot(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),QC(r.remoteStore,n.targetId))}async function Nbe(e,t,r){const n=Dbe(e);try{const i=await(function(s,o){const c=Ot(s),u=Jr.now(),d=o.reduce(((y,x)=>y.add(x.key)),Qt());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=Vl(),b=Qt();return c.xs.getEntries(y,d).next((E=>{x=E,x.forEach(((S,L)=>{L.isValidDocument()||(b=b.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,x))).next((E=>{p=E;const S=[];for(const L of o){const k=$1e(L,p.get(L.key).overlayedDocument);k!=null&&S.push(new gu(L.key,k,sz(k.value.mapValue),uo.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,S,o)})).next((E=>{m=E;const S=E.applyToLocalDocumentSet(p,b);return c.documentOverlayCache.saveOverlays(y,E.batchId,S)}))})).then((()=>({batchId:m.batchId,changes:vz(p)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),(function(s,o,c){let u=s.du[s.currentUser.toKey()];u||(u=new on(Zt)),u=u.insert(o,c),s.du[s.currentUser.toKey()]=u})(n,i.batchId,r),await Wm(n,i.changes),await u_(n.remoteStore)}catch(i){const a=iN(i,"Failed to persist write");r.reject(a)}}async function n7(e,t){const r=Ot(e);try{const n=await B_e(r.localStore,t);t.targetChanges.forEach(((i,a)=>{const s=r.Au.get(a);s&&(wr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?wr(s.hu,14607):i.removedDocuments.size>0&&(wr(s.hu,42227),s.hu=!1))})),await Wm(r,n,t)}catch(n){await Bh(n)}}function h6(e,t,r){const n=Ot(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)})),(function(s,o){const c=Ot(s);c.onlineState=o;let u=!1;c.queries.forEach(((d,p)=>{for(const m of p.ba)m.va(o)&&(u=!0)})),u&&aN(c)})(n.eventManager,t),i.length&&n.Pu.J_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Ibe(e,t,r){const n=Ot(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new on(yt.comparator);s=s.insert(a,Bi.newNoDocument(a,Nt.min()));const o=Qt().add(a),c=new o_(Nt.min(),new Map,new on(Zt),s,o);await n7(n,c),n.Ru=n.Ru.remove(a),n.Au.delete(t),oN(n)}else await AS(n.localStore,t,!1).then((()=>NS(n,t,r))).catch(Bh)}async function kbe(e,t){const r=Ot(e),n=t.batch.batchId;try{const i=await U_e(r.localStore,t);a7(r,n,null),i7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Wm(r,i)}catch(i){await Bh(i)}}async function Pbe(e,t,r){const n=Ot(e);try{const i=await(function(s,o){const c=Ot(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next((p=>(wr(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>c.localDocuments.getDocuments(u,d)))}))})(n.localStore,t);a7(n,t,r),i7(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Wm(n,i)}catch(i){await Bh(i)}}function i7(e,t){(e.mu.get(t)||[]).forEach((r=>{r.resolve()})),e.mu.delete(t)}function a7(e,t,r){const n=Ot(e);let i=n.du[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.du[n.currentUser.toKey()]=i}}function NS(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((n=>{e.Vu.containsKey(n)||s7(e,n)}))}function s7(e,t){e.Eu.delete(t.path.canonicalString());const r=e.Ru.get(t);r!==null&&(QC(e.remoteStore,r),e.Ru=e.Ru.remove(t),e.Au.delete(r),oN(e))}function p6(e,t,r){for(const n of r)n instanceof e7?(e.Vu.addReference(n.key,t),Rbe(e,n)):n instanceof t7?(at(sN,"Document no longer in limbo: "+n.key),e.Vu.removeReference(n.key,t),e.Vu.containsKey(n.key)||s7(e,n.key)):Tt(19791,{wu:n})}function Rbe(e,t){const r=t.key,n=r.path.canonicalString();e.Ru.get(r)||e.Eu.has(n)||(at(sN,"New document in limbo: "+r),e.Eu.add(n),oN(e))}function oN(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new yt(zr.fromString(t)),n=e.fu.next();e.Au.set(n,new bbe(r)),e.Ru=e.Ru.insert(r,n),Gz(e.remoteStore,new Vc(Ho(r_(r.path)),n,"TargetPurposeLimboResolution",Q1.ce))}}async function Wm(e,t,r){const n=Ot(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,c)=>{s.push(n.pu(c,t,r).then((u=>{if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);const d=XC.Es(c.targetId,u);a.push(d)}})))})),await Promise.all(s),n.Pu.J_(i),await(async function(c,u){const d=Ot(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>$e.forEach(u,(m=>$e.forEach(m.Ts,(y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y))).next((()=>$e.forEach(m.Is,(y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))))))}catch(p){if(!Vh(p))throw p;at(ZC,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const y=d.vs.get(m),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);d.vs=d.vs.insert(m,b)}}})(n.localStore,a))}async function Obe(e,t){const r=Ot(e);if(!r.currentUser.isEqual(t)){at(sN,"User change. New user:",t.toKey());const n=await Vz(r.localStore,t);r.currentUser=t,(function(a,s){a.mu.forEach((o=>{o.forEach((c=>{c.reject(new rt(je.CANCELLED,s))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Wm(r,n.Ns)}}function Mbe(e,t){const r=Ot(e),n=r.Au.get(t);if(n&&n.hu)return Qt().add(n.key);{let i=Qt();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function o7(e){const t=Ot(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=n7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mbe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ibe.bind(null,t),t.Pu.J_=vbe.bind(null,t.eventManager),t.Pu.yu=ybe.bind(null,t.eventManager),t}function Dbe(e){const t=Ot(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kbe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pbe.bind(null,t),t}class Lx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=l_(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return j_e(this.persistence,new D_e,t.initialUser,this.serializer)}Cu(t){return new Bz(JC.Vi,this.serializer)}Du(t){return new G_e}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lx.provider={build:()=>new Lx};class Lbe extends Lx{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){wr(this.persistence.referenceDelegate instanceof Mx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new __e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Oa.withCacheSize(this.cacheSizeBytes):Oa.DEFAULT;return new Bz((n=>Mx.Vi(n,r)),this.serializer)}}class IS{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>h6(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Obe.bind(null,this.syncEngine),await pbe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gbe})()}createDatastore(t){const r=l_(t.databaseInfo.databaseId),n=J_e(t.databaseInfo);return tbe(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return(function(n,i,a,s,o){return new nbe(n,i,a,s,o)})(this.localStore,this.datastore,t.asyncQueue,(r=>h6(this.syncEngine,r,0)),(function(){return o6.v()?new o6:new q_e})())}createSyncEngine(t,r){return(function(i,a,s,o,c,u,d){const p=new wbe(i,a,s,o,c,u);return d&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Ot(r);at(bf,"RemoteStore shutting down."),n.Ea.add(5),await Km(n),n.Aa.shutdown(),n.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}IS.provider={build:()=>new IS};class l7{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Bl("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const su="FirestoreClient";class Fbe{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=i,this.user=Ra.UNAUTHENTICATED,this.clientId=UC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{at(su,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(at(su,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Yc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=iN(r,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function RE(e,t){e.asyncQueue.verifyOperationInProgress(),at(su,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async i=>{n.isEqual(i)||(await Vz(t.localStore,i),n=i)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function m6(e,t){e.asyncQueue.verifyOperationInProgress();const r=await jbe(e);at(su,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((n=>c6(t.remoteStore,n))),e.setAppCheckTokenChangeListener(((n,i)=>c6(t.remoteStore,i))),e._onlineComponents=t}async function jbe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){at(su,"Using user provided OfflineComponentProvider");try{await RE(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;gh("Error using user provided cache. Falling back to memory cache: "+r),await RE(e,new Lx)}}else at(su,"Using default OfflineComponentProvider"),await RE(e,new Lbe(void 0));return e._offlineComponents}async function c7(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(at(su,"Using user provided OnlineComponentProvider"),await m6(e,e._uninitializedComponentsProvider._online)):(at(su,"Using default OnlineComponentProvider"),await m6(e,new IS))),e._onlineComponents}function Ube(e){return c7(e).then((t=>t.syncEngine))}async function kS(e){const t=await c7(e),r=t.eventManager;return r.onListen=Ebe.bind(null,t.syncEngine),r.onUnlisten=Sbe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Tbe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Cbe.bind(null,t.syncEngine),r}function Bbe(e,t,r,n){const i=new l7(n),a=new Qz(t,i,r);return e.asyncQueue.enqueueAndForget((async()=>Xz(await kS(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>Zz(await kS(e),a)))}}function Vbe(e,t,r={}){const n=new Yc;return e.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,c,u){const d=new l7({next:m=>{d.Nu(),s.enqueueAndForget((()=>Zz(a,p)));const y=m.docs.has(o);!y&&m.fromCache?u.reject(new rt(je.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new rt(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new Qz(r_(o.path),d,{includeMetadataChanges:!0,Ka:!0});return Xz(a,p)})(await kS(e),e.asyncQueue,t,r,n))),n.promise}function zbe(e,t){const r=new Yc;return e.asyncQueue.enqueueAndForget((async()=>Nbe(await Ube(e),t,r))),r.promise}function u7(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const $be="ComponentProvider",g6=new Map;function Hbe(e,t,r,n,i){return new f1e(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,u7(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}const Gbe="firestore.googleapis.com",v6=!0;class y6{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gbe,this.ssl=v6}else this.host=t.host,this.ssl=t.ssl??v6;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=jz;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Uz)throw new rt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e1e("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=u7(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new rt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new rt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new rt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lN{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y6(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Gxe;switch(n.type){case"firstParty":return new Wxe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=g6.get(r);n&&(at($be,"Removing Datastore"),g6.delete(r),n.terminate())})(this),Promise.resolve()}}class Gf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Gf(this.firestore,t,this._query)}}class vn{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vn(this.firestore,t,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Hm(r,vn._jsonSchema))return new vn(t,n||null,new yt(zr.fromString(r.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:$n("string",vn._jsonSchemaVersion),referencePath:$n("string")};class Jc extends Gf{constructor(t,r,n){super(t,r,r_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vn(this.firestore,null,new yt(t))}withConverter(t){return new Jc(this.firestore,t,this._path)}}function f_(e,t,...r){if(e=ja(e),YV("collection","path",t),e instanceof lN){const n=zr.fromString(t,...r);return P3(n),new Jc(e,null,n)}{if(!(e instanceof vn||e instanceof Jc))throw new rt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zr.fromString(t,...r));return P3(n),new Jc(e.firestore,null,n)}}function d_(e,t,...r){if(e=ja(e),arguments.length===1&&(t=UC.newId()),YV("doc","path",t),e instanceof lN){const n=zr.fromString(t,...r);return k3(n),new vn(e,null,new yt(n))}{if(!(e instanceof vn||e instanceof Jc))throw new rt(je.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zr.fromString(t,...r));return k3(n),new vn(e.firestore,e instanceof Jc?e.converter:null,new yt(n))}}const x6="AsyncQueue";class _6{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $z(this,"async_queue_retry"),this._c=()=>{const n=PE();n&&at(x6,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=PE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=PE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Yc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Vh(t))throw t;at(x6,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,Bl("INTERNAL UNHANDLED ERROR: ",b6(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=nN.createAndSchedule(this,t,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Tt(47125,{Pc:b6(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function b6(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class wf extends lN{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new _6,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _6(t),this._firestoreClient=void 0,await t}}}function qbe(e,t,r){r||(r=Nx);const n=DV(e,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),a=n.getOptions(r);if(Sx(a,t))return i;throw new rt(je.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new rt(je.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Uz)throw new rt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&$m(t.host)&&kV(t.host),n.initialize({options:t,instanceIdentifier:r})}function cN(e){if(e._terminated)throw new rt(je.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Kbe(e),e._firestoreClient}function Kbe(e){const t=e._freezeSettings(),r=Hbe(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new Fbe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(e._componentsProvider))}class Ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ps(Mi.fromBase64String(t))}catch(r){throw new rt(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ps(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hm(t,Ps._jsonSchema))return Ps.fromBase64String(t.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:$n("string",Ps._jsonSchemaVersion),bytes:$n("string")};class uN{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new rt(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class fN{constructor(t){this._methodName=t}}class qo{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new rt(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new rt(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qo._jsonSchemaVersion}}static fromJSON(t){if(Hm(t,qo._jsonSchema))return new qo(t.latitude,t.longitude)}}qo._jsonSchemaVersion="firestore/geoPoint/1.0",qo._jsonSchema={type:$n("string",qo._jsonSchemaVersion),latitude:$n("number"),longitude:$n("number")};class fo{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:fo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hm(t,fo._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new fo(t.vectorValues);throw new rt(je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fo._jsonSchemaVersion="firestore/vectorValue/1.0",fo._jsonSchema={type:$n("string",fo._jsonSchemaVersion),vectorValues:$n("object")};const Wbe=/^__.*__$/;class Ybe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new gu(t,this.data,this.fieldMask,r,this.fieldTransforms):new Gm(t,this.data,r,this.fieldTransforms)}}class f7{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new gu(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function d7(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class dN{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new dN({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(t),n}childContextForFieldPath(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Fx(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(d7(this.dataSource)&&Wbe.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Jbe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||l_(t)}createContext(t,r,n,i=!1){return new dN({dataSource:t,methodName:r,targetDoc:n,path:ki.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(e){const t=e._freezeSettings(),r=l_(e._databaseId);return new Jbe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function h7(e,t,r,n,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,r,i);hN("Data must be an object, but it was:",s,n);const o=p7(n,s);let c,u;if(a.merge)c=new ss(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const m=wh(t,p,r);if(!s.contains(m))throw new rt(je.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);v7(d,m)||d.push(m)}c=new ss(d),u=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,u=s.fieldTransforms;return new Ybe(new Da(o),c,u)}class p_ extends fN{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof p_}}function Xbe(e,t,r,n){const i=e.createContext(1,t,r);hN("Data must be an object, but it was:",i,n);const a=[],s=Da.empty();mu(n,((c,u)=>{const d=g7(t,c,r);u=ja(u);const p=i.childContextForFieldPath(d);if(u instanceof p_)a.push(d);else{const m=Ym(u,p);m!=null&&(a.push(d),s.set(d,m))}}));const o=new ss(a);return new f7(s,o,i.fieldTransforms)}function Zbe(e,t,r,n,i,a){const s=e.createContext(1,t,r),o=[wh(t,n,r)],c=[i];if(a.length%2!=0)throw new rt(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)o.push(wh(t,a[m])),c.push(a[m+1]);const u=[],d=Da.empty();for(let m=o.length-1;m>=0;--m)if(!v7(u,o[m])){const y=o[m];let x=c[m];x=ja(x);const b=s.childContextForFieldPath(y);if(x instanceof p_)u.push(y);else{const E=Ym(x,b);E!=null&&(u.push(y),d.set(y,E))}}const p=new ss(u);return new f7(d,p,s.fieldTransforms)}function Qbe(e,t,r,n=!1){return Ym(r,e.createContext(n?4:3,t))}function Ym(e,t){if(m7(e=ja(e)))return hN("Unsupported field value:",t,e),p7(e,t);if(e instanceof fN)return(function(n,i){if(!d7(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const o of n){let c=Ym(o,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(e,t)}return(function(n,i){if((n=ja(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return F1e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Jr.fromDate(n);return{timestampValue:Ox(i.serializer,a)}}if(n instanceof Jr){const a=new Jr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ox(i.serializer,a)}}if(n instanceof qo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ps)return{bytesValue:kz(i.serializer,n._byteString)};if(n instanceof vn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:WC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof fo)return(function(s,o){const c=s instanceof fo?s.toArray():s;return{mapValue:{fields:{[iz]:{stringValue:az},[Ix]:{arrayValue:{values:c.map((d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return GC(o.serializer,d)}))}}}}}})(n,i);if(Fz(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Z1(n)}`)})(e,t)}function p7(e,t){const r={};return ZV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mu(e,((n,i)=>{const a=Ym(i,t.childContextForField(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function m7(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Jr||e instanceof qo||e instanceof Ps||e instanceof vn||e instanceof fN||e instanceof fo||Fz(e))}function hN(e,t,r){if(!m7(r)||!JV(r)){const n=Z1(r);throw n==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+n)}}function wh(e,t,r){if((t=ja(t))instanceof uN)return t._internalPath;if(typeof t=="string")return g7(e,t);throw Fx("Field path arguments must be of type string or ",e,!1,void 0,r)}const ewe=new RegExp("[~\\*/\\[\\]]");function g7(e,t,r){if(t.search(ewe)>=0)throw Fx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new uN(...t.split("."))._internalPath}catch{throw Fx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Fx(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new rt(je.INVALID_ARGUMENT,o+e+c)}function v7(e,t){return e.some((r=>r.isEqual(t)))}class twe{convertValue(t,r="none"){switch(iu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(nu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return mu(t,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(t){const r=t.fields?.[Ix].arrayValue?.values?.map((n=>Nn(n.doubleValue)));return new fo(r)}convertGeoPoint(t){return new qo(Nn(t.latitude),Nn(t.longitude))}convertArray(t,r){return(t.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const n=t_(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(pm(t));default:return null}}convertTimestamp(t){const r=ru(t);return new Jr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=zr.fromString(t);wr(Lz(n),9688,{name:t});const i=new mm(n.get(1),n.get(3)),a=new yt(n.popFirst(5));return i.isEqual(r)||Bl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}class y7 extends twe{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ps(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new vn(this.firestore,null,r)}}const w6="@firebase/firestore",E6="4.11.0";function T6(e){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(e,["next","error","complete"])}class x7{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rwe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const r=this._document.data.field(wh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class rwe extends x7{data(){return super.data()}}function nwe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new rt(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pN{}class _7 extends pN{}function b7(e,t,...r){let n=[];t instanceof pN&&n.push(t),n=n.concat(r),(function(a){const s=a.filter((c=>c instanceof gN)).length,o=a.filter((c=>c instanceof mN)).length;if(s>1||s>0&&o>0)throw new rt(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)e=i._apply(e);return e}class mN extends _7{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new mN(t,r,n)}_apply(t){const r=this._parse(t);return E7(t._query,r),new Gf(t.firestore,t.converter,xS(t._query,r))}_parse(t){const r=h_(t.firestore);return(function(a,s,o,c,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new rt(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S6(p,d);const x=[];for(const b of p)x.push(A6(c,a,b));m={arrayValue:{values:x}}}else m=A6(c,a,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S6(p,d),m=Qbe(o,s,p,d==="in"||d==="not-in");return zn.create(u,d,m)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class gN extends pN{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new gN(t,r)}_parse(t){const r=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:po.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(i,a){let s=i;const o=a.getFlattenedFilters();for(const c of o)E7(s,c),s=xS(s,c)})(t._query,r),new Gf(t.firestore,t.converter,xS(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vN extends _7{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new vN(t,r)}_apply(t){const r=(function(i,a,s){if(i.startAt!==null)throw new rt(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new rt(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vm(a,s)})(t._query,this._field,this._direction);return new Gf(t.firestore,t.converter,I1e(t._query,r))}}function w7(e,t="asc"){const r=t,n=wh("orderBy",e);return vN._create(n,r)}function A6(e,t,r){if(typeof(r=ja(r))=="string"){if(r==="")throw new rt(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hz(t)&&r.indexOf("/")!==-1)throw new rt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(zr.fromString(r));if(!yt.isDocumentKey(n))throw new rt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return U3(e,new yt(n))}if(r instanceof vn)return U3(e,r._key);throw new rt(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Z1(r)}.`)}function S6(e,t){if(!Array.isArray(e)||e.length===0)throw new rt(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function E7(e,t){const r=(function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null})(e.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new rt(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function T7(e,t,r){let n;return n=e?e.toFirestore(t):t,n}class _p{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lf extends x7{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new My(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(wh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=lf._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}lf._jsonSchemaVersion="firestore/documentSnapshot/1.0",lf._jsonSchema={type:$n("string",lf._jsonSchemaVersion),bundleSource:$n("string","DocumentSnapshot"),bundleName:$n("string"),bundle:$n("string")};class My extends lf{data(t={}){return super.data(t)}}class sh{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new _p(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new My(this._firestore,this._userDataWriter,n.key,n,new _p(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new rt(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((o=>{const c=new My(i._firestore,i._userDataWriter,o.doc.key,o.doc,new _p(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>a||o.type!==3)).map((o=>{const c=new My(i._firestore,i._userDataWriter,o.doc.key,o.doc,new _p(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:iwe(o.type),doc:c,oldIndex:u,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=sh._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=UC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iwe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}sh._jsonSchemaVersion="firestore/querySnapshot/1.0",sh._jsonSchema={type:$n("string",sh._jsonSchemaVersion),bundleSource:$n("string","QuerySnapshot"),bundleName:$n("string"),bundle:$n("string")};function awe(e){e=$o(e,vn);const t=$o(e.firestore,wf),r=cN(t);return Vbe(r,e._key).then((n=>C7(t,e,n)))}function swe(e,t,r){e=$o(e,vn);const n=$o(e.firestore,wf),i=T7(e.converter,t),a=h_(n);return yN(n,[h7(a,"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,uo.none())])}function owe(e,t,r,...n){e=$o(e,vn);const i=$o(e.firestore,wf),a=h_(i);let s;return s=typeof(t=ja(t))=="string"||t instanceof uN?Zbe(a,"updateDoc",e._key,t,r,n):Xbe(a,"updateDoc",e._key,t),yN(i,[s.toMutation(e._key,uo.exists(!0))])}function A7(e,t){const r=$o(e.firestore,wf),n=d_(e),i=T7(e.converter,t),a=h_(e.firestore);return yN(r,[h7(a,"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,uo.exists(!1))]).then((()=>n))}function S7(e,...t){e=ja(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||T6(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(T6(t[n])){const u=t[n];t[n]=u.next?.bind(u),t[n+1]=u.error?.bind(u),t[n+2]=u.complete?.bind(u)}let a,s,o;if(e instanceof vn)s=$o(e.firestore,wf),o=r_(e._key.path),a={next:u=>{t[n]&&t[n](C7(s,e,u))},error:t[n+1],complete:t[n+2]};else{const u=$o(e,Gf);s=$o(u.firestore,wf),o=u._query;const d=new y7(s);a={next:p=>{t[n]&&t[n](new sh(s,d,u,p))},error:t[n+1],complete:t[n+2]},nwe(e._query)}const c=cN(s);return Bbe(c,o,i,a)}function yN(e,t){const r=cN(e);return zbe(r,t)}function C7(e,t,r){const n=r.docs.get(t._key),i=new y7(e);return new lf(e,i,t._key,n,new _p(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){$xe(FV),fm(new mh("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new wf(new qxe(n.getProvider("auth-internal")),new Yxe(s,n.getProvider("app-check-internal")),d1e(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),Kc(w6,E6,t),Kc(w6,E6,"esm2020")})();const N7="firebasestorage.googleapis.com",I7="storageBucket",lwe=120*1e3,cwe=600*1e3;class bn extends zf{constructor(t,r,n=0){super(OE(t),`Firebase Storage: ${r} (${OE(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return OE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xn||(xn={}));function OE(e){return"storage/"+e}function xN(){const e="An unknown error occurred, please check the error payload for server response.";return new bn(xn.UNKNOWN,e)}function uwe(e){return new bn(xn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function fwe(e){return new bn(xn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dwe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bn(xn.UNAUTHENTICATED,e)}function hwe(){return new bn(xn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pwe(e){return new bn(xn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function mwe(){return new bn(xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gwe(){return new bn(xn.CANCELED,"User canceled the upload/download.")}function vwe(e){return new bn(xn.INVALID_URL,"Invalid URL '"+e+"'.")}function ywe(e){return new bn(xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function xwe(){return new bn(xn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+I7+"' property when initializing the app?")}function _we(){return new bn(xn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bwe(){return new bn(xn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wwe(e){return new bn(xn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function PS(e){return new bn(xn.INVALID_ARGUMENT,e)}function k7(){return new bn(xn.APP_DELETED,"The Firebase app was deleted.")}function Ewe(e){return new bn(xn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zp(e,t){return new bn(xn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function W0(e){throw new bn(xn.INTERNAL_ERROR,"Internal error: "+e)}class os{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=os.makeFromUrl(t,r)}catch{return new os(t,"")}if(n.path==="")return n;throw ywe(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(M){M.path_=decodeURIComponent(M.path)}const d="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${d}/b/${i}/o${m}`,"i"),x={bucket:1,path:3},b=r===N7?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",S=new RegExp(`^https?://${b}/${i}/${E}`,"i"),k=[{regex:o,indices:c,postModify:a},{regex:y,indices:x,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let M=0;M<k.length;M++){const D=k[M],P=D.regex.exec(t);if(P){const N=P[D.indices.bucket];let I=P[D.indices.path];I||(I=""),n=new os(N,I),D.postModify(n);break}}if(n==null)throw vwe(t);return n}}class Twe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Awe(e,t,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...E){u||(u=!0,t.apply(null,E))}function p(E){i=setTimeout(()=>{i=null,e(y,c())},E)}function m(){a&&clearTimeout(a)}function y(E,...S){if(u){m();return}if(E){m(),d.call(null,E,...S);return}if(c()||s){m(),d.call(null,E,...S);return}n<64&&(n*=2);let k;o===1?(o=2,k=0):k=(n+Math.random())*1e3,p(k)}let x=!1;function b(E){x||(x=!0,m(),!u&&(i!==null?(E||(o=2),clearTimeout(i),p(0)):E||(o=1)))}return p(0),a=setTimeout(()=>{s=!0,b(!0)},r),b}function Swe(e){e(!1)}function Cwe(e){return e!==void 0}function Nwe(e){return typeof e=="object"&&!Array.isArray(e)}function _N(e){return typeof e=="string"||e instanceof String}function C6(e){return bN()&&e instanceof Blob}function bN(){return typeof Blob<"u"}function N6(e,t,r,n){if(n<t)throw PS(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw PS(`Invalid value for '${e}'. Expected ${r} or less.`)}function wN(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function P7(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var cf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(cf||(cf={}));function Iwe(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||i||a}class kwe{constructor(t,r,n,i,a,s,o,c,u,d,p,m=!0,y=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new ry(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===cf.NO_ERROR,c=a.getStatus();if(!o||Iwe(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===cf.ABORT;n(!1,new ry(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new ry(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());Cwe(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=xN();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?k7():gwe();s(c)}else{const c=mwe();s(c)}};this.canceled_?r(!1,new ry(!1,null,!0)):this.backoffId_=Awe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Swe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ry{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function Pwe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Rwe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Owe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Mwe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Dwe(e,t,r,n,i,a,s=!0,o=!1){const c=P7(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return Owe(d,t),Pwe(d,r),Rwe(d,a),Mwe(d,n),new kwe(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}function Lwe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Fwe(...e){const t=Lwe();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(bN())return new Blob(e);throw new bn(xn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jwe(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}function Uwe(e){if(typeof atob>"u")throw wwe("base-64");return atob(e)}const Bo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ME{constructor(t,r){this.data=t,this.contentType=r||null}}function Bwe(e,t){switch(e){case Bo.RAW:return new ME(R7(t));case Bo.BASE64:case Bo.BASE64URL:return new ME(O7(e,t));case Bo.DATA_URL:return new ME(zwe(t),$we(t))}throw xN()}function R7(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const a=n,s=e.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function Vwe(e){let t;try{t=decodeURIComponent(e)}catch{throw zp(Bo.DATA_URL,"Malformed data URL.")}return R7(t)}function O7(e,t){switch(e){case Bo.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw zp(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bo.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw zp(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Uwe(t)}catch(i){throw i.message.includes("polyfill")?i:zp(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class M7{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw zp(Bo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Hwe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function zwe(e){const t=new M7(e);return t.base64?O7(Bo.BASE64,t.rest):Vwe(t.rest)}function $we(e){return new M7(e).contentType}function Hwe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Lc{constructor(t,r){let n=0,i="";C6(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,r){if(C6(this.data_)){const n=this.data_,i=jwe(n,t,r);return i===null?null:new Lc(i)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Lc(n,!0)}}static getBlob(...t){if(bN()){const r=t.map(n=>n instanceof Lc?n.data_:n);return new Lc(Fwe.apply(null,r))}else{const r=t.map(s=>_N(s)?Bwe(Bo.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Lc(i,!0)}}uploadData(){return this.data_}}function D7(e){let t;try{t=JSON.parse(e)}catch{return null}return Nwe(t)?t:null}function Gwe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function qwe(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function L7(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function Kwe(e,t){return t}class na{constructor(t,r,n,i){this.server=t,this.local=r||t,this.writable=!!n,this.xform=i||Kwe}}let ny=null;function Wwe(e){return!_N(e)||e.length<2?e:L7(e)}function F7(){if(ny)return ny;const e=[];e.push(new na("bucket")),e.push(new na("generation")),e.push(new na("metageneration")),e.push(new na("name","fullPath",!0));function t(a,s){return Wwe(s)}const r=new na("name");r.xform=t,e.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new na("size");return i.xform=n,e.push(i),e.push(new na("timeCreated")),e.push(new na("updated")),e.push(new na("md5Hash",null,!0)),e.push(new na("cacheControl",null,!0)),e.push(new na("contentDisposition",null,!0)),e.push(new na("contentEncoding",null,!0)),e.push(new na("contentLanguage",null,!0)),e.push(new na("contentType",null,!0)),e.push(new na("metadata","customMetadata",!0)),ny=e,ny}function Ywe(e,t){function r(){const n=e.bucket,i=e.fullPath,a=new os(n,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:r})}function Jwe(e,t,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,t[s.server])}return Ywe(n,e),n}function j7(e,t,r){const n=D7(t);return n===null?null:Jwe(e,n,r)}function Xwe(e,t,r,n){const i=D7(t);if(i===null||!_N(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=e.bucket,p=e.fullPath,m="/b/"+s(d)+"/o/"+s(p),y=wN(m,r,n),x=P7({alt:"media",token:u});return y+x})[0]}function Zwe(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const a=t[i];a.writable&&(r[a.server]=e[a.local])}return JSON.stringify(r)}class U7{constructor(t,r,n,i){this.url=t,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function B7(e){if(!e)throw xN()}function Qwe(e,t){function r(n,i){const a=j7(e,i,t);return B7(a!==null),a}return r}function eEe(e,t){function r(n,i){const a=j7(e,i,t);return B7(a!==null),Xwe(a,i,e.host,e._protocol)}return r}function V7(e){function t(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=hwe():i=dwe():r.getStatus()===402?i=fwe(e.bucket):r.getStatus()===403?i=pwe(e.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return t}function tEe(e){const t=V7(e);function r(n,i){let a=t(n,i);return n.getStatus()===404&&(a=uwe(e.path)),a.serverResponse=i.serverResponse,a}return r}function rEe(e,t,r){const n=t.fullServerUrl(),i=wN(n,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new U7(i,a,eEe(e,r),s);return o.errorHandler=tEe(t),o}function nEe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function iEe(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=nEe(null,t)),n}function aEe(e,t,r,n,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let k="";for(let M=0;M<2;M++)k=k+Math.random().toString().slice(2);return k}const c=o();s["Content-Type"]="multipart/related; boundary="+c;const u=iEe(t,n,i),d=Zwe(u,r),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=Lc.getBlob(p,n,m);if(y===null)throw _we();const x={name:u.fullPath},b=wN(a,e.host,e._protocol),E="POST",S=e.maxUploadRetryTime,L=new U7(b,E,Qwe(e,r),S);return L.urlParams=x,L.headers=s,L.body=y.uploadData(),L.errorHandler=V7(t),L}class sEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=cf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=cf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,i,a){if(this.sent_)throw W0("cannot .send() more than once");if($m(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw W0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw W0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw W0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw W0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class oEe extends sEe{initXhr(){this.xhr_.responseType="text"}}function z7(){return new oEe}class Ef{constructor(t,r){this._service=t,r instanceof os?this._location=r:this._location=os.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new Ef(t,r)}get root(){const t=new os(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L7(this._location.path)}get storage(){return this._service}get parent(){const t=Gwe(this._location.path);if(t===null)return null;const r=new os(this._location.bucket,t);return new Ef(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw Ewe(t)}}function lEe(e,t,r){e._throwIfRoot("uploadBytes");const n=aEe(e.storage,e._location,F7(),new Lc(t,!0),r);return e.storage.makeRequestWithTokens(n,z7).then(i=>({metadata:i,ref:e}))}function cEe(e){e._throwIfRoot("getDownloadURL");const t=rEe(e.storage,e._location,F7());return e.storage.makeRequestWithTokens(t,z7).then(r=>{if(r===null)throw bwe();return r})}function uEe(e,t){const r=qwe(e._location.path,t),n=new os(e._location.bucket,r);return new Ef(e.storage,n)}function fEe(e){return/^[A-Za-z]+:\/\//.test(e)}function dEe(e,t){return new Ef(e,t)}function $7(e,t){if(e instanceof EN){const r=e;if(r._bucket==null)throw xwe();const n=new Ef(r,r._bucket);return t!=null?$7(n,t):n}else return t!==void 0?uEe(e,t):e}function hEe(e,t){if(t&&fEe(t)){if(e instanceof EN)return dEe(e,t);throw PS("To use ref(service, url), the first argument must be a Storage instance.")}else return $7(e,t)}function I6(e,t){const r=t?.[I7];return r==null?null:os.makeFromBucketSpec(r,e)}function pEe(e,t,r,n={}){e.host=`${t}:${r}`;const i=$m(t);i&&(kV(`https://${e.host}/b`),Eye("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(e._overrideAuthToken=typeof a=="string"?a:_ye(a,e.app.options.projectId))}class EN{constructor(t,r,n,i,a,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=N7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lwe,this._maxUploadRetryTime=cwe,this._requests=new Set,i!=null?this._bucket=os.makeFromBucketSpec(i,this._host):this._bucket=I6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=os.makeFromBucketSpec(this._url,t):this._bucket=I6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){N6("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){N6("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(LV(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ef(this,t)}_makeRequest(t,r,n,i,a=!0){if(this._deleted)return new Twe(k7());{const s=Dwe(t,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const k6="@firebase/storage",P6="0.14.0";const H7="storage";function mEe(e,t,r){return e=ja(e),lEe(e,t,r)}function gEe(e){return e=ja(e),cEe(e)}function vEe(e,t){return e=ja(e),hEe(e,t)}function yEe(e=UV(),t){e=ja(e);const n=DV(e,H7).getImmediate({identifier:t}),i=yye("storage");return i&&xEe(n,...i),n}function xEe(e,t,r,n={}){pEe(e,t,r,n)}function _Ee(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new EN(r,n,i,t,FV)}function bEe(){fm(new mh(H7,_Ee,"PUBLIC").setMultipleInstances(!0)),Kc(k6,P6,""),Kc(k6,P6,"esm2020")}bEe();const G7=()=>{const e=localStorage.getItem("firebase_config");if(e)return JSON.parse(e);const t={apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"};return console.log("[FIREBASE] Environment Config Check:"),console.log("- API Key:",t.apiKey?`FOUND (${t.apiKey.substring(0,5)}...)`:"MISSING "),console.log("- Project ID:",t.projectId?`FOUND (${t.projectId})`:"MISSING "),t},wEe=e=>{localStorage.setItem("firebase_config",JSON.stringify(e))},EEe=()=>{localStorage.removeItem("firebase_config")};let iy,ga,Dy;const TN=async e=>{try{const t=e||G7();return t?(kxe().length>0?iy=UV():iy=jV(t),ga=qbe(iy,{}),Dy=yEe(iy),!0):!1}catch(t){return console.error("Error initializing Firebase:",t),!1}},TEe=async e=>{if(!ga){console.error(" Firebase not initialized. Cannot send message.");return}try{const t=f_(ga,"chats");await A7(t,Al(e)),console.log(" Message sent to cloud")}catch(t){console.error("Error sending message:",t)}},AEe=e=>{if(!ga)return()=>{};const t=f_(ga,"chats"),r=b7(t,w7("timestamp","asc"));return S7(r,n=>{const i=[];n.forEach(a=>{i.push({id:a.id,...a.data()})}),e(i)})},SEe=async e=>{if(ga)try{const t=d_(ga,"chats",e);await owe(t,{read:!0})}catch(t){console.error("Error marking message as read:",t)}},kd=async e=>{if(ga)try{const t=f_(ga,"system_logs");await A7(t,Al(e))}catch(t){console.error("Error saving log:",t)}},CEe=e=>{if(!ga)return()=>{};const t=f_(ga,"system_logs"),r=b7(t,w7("timestamp","desc"));return S7(r,n=>{const i=[];n.forEach(a=>{i.push({id:a.id,...a.data()})}),e(i.slice(0,500))})},Al=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(Al);if(typeof e!="object")return e;const t={};for(const r in e){const n=e[r];n===void 0?t[r]=null:n!==null&&typeof n=="object"?t[r]=Al(n):t[r]=n}return t},RS=async(e,t,r,n,i=[])=>{if(ga)try{const a={clients:Al(e),products:Al(t),categories:Al(r),users:Al(n),uploadedFiles:Al(i),lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await swe(d_(ga,"rota-vendas","master-data"),a),console.log(" Data saved to cloud successfully")}catch(a){throw console.error("Error saving to cloud:",a),a}},NEe=async()=>{if(!ga)return null;try{const e=d_(ga,"rota-vendas","master-data"),t=await awe(e);return t.exists()?t.data():null}catch(e){return console.error("Error loading from cloud:",e),null}},DE=async(e,t)=>{if(!Dy&&(!await TN()||!Dy))return null;try{const r=vEe(Dy,t),n=await mEe(r,e),i=await gEe(n.ref);return console.log(` File uploaded to ${t}:`,i),i}catch(r){return console.error("Error uploading file to storage:",r),null}};var Eh=Q8(),LE,R6;function IEe(){return R6||(R6=1,LE=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}),LE}var kEe=IEe();const OS=js(kEe);function PEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function REe(e){var t=PEe(e,"string");return typeof t=="symbol"?t:String(t)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}function Tf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const Sl={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},OEe="https://maps.googleapis.com/maps/api/js";class _m{static async load(t,r){var n;const i=t.libraries?t.libraries.split(","):[],a=this.serializeParams(t);this.listeners.push(r),(n=window.google)!=null&&(n=n.maps)!=null&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=Sl.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=a,this.initImportLibrary(t)),this.serializedApiParams&&this.serializedApiParams!==a&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...i];await Promise.all(s.map(o=>google.maps.importLibrary(o)))}static serializeParams(t){return[t.v,t.key,t.language,t.region,t.authReferrerPolicy,t.solutionChannel].join("/")}static initImportLibrary(t){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let r=null;const n=()=>r||(r=new Promise((i,a)=>{var s;const o=document.createElement("script"),c=new URLSearchParams;for(const[u,d]of Object.entries(t)){const p=u.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());c.set(p,d)}c.set("loading","async"),c.set("callback","__googleMapsCallback__"),o.async=!0,o.src=OEe+"?"+c.toString(),o.nonce=((s=document.querySelector("script[nonce]"))==null?void 0:s.nonce)||"",o.onerror=()=>{this.loadingStatus=Sl.FAILED,this.notifyLoadingStatusListeners(),a(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=Sl.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=Sl.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=Sl.LOADING,this.notifyLoadingStatusListeners(),document.head.append(o)}),r);google.maps.importLibrary=i=>n().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const t of this.listeners)t(this.loadingStatus)}}_m.loadingStatus=Sl.NOT_LOADED;_m.serializedApiParams=void 0;_m.listeners=[];const MEe=["onLoad","apiKey","version","libraries"],DEe=["children"],LEe="GMP_visgl_rgmlibrary_v1_default",Jm=Ir.createContext(null);function FEe(){const[e,t]=R.useState({});return{mapInstances:e,addMapInstance:(a,s="default")=>{t(o=>Ml({},o,{[s]:a}))},removeMapInstance:(a="default")=>{t(s=>Tf(s,[a].map(REe)))},clearMapInstances:()=>{t({})}}}function jEe(e){const{onLoad:t,apiKey:r,version:n,libraries:i=[]}=e,a=Tf(e,MEe),[s,o]=R.useState(_m.loadingStatus),[c,u]=R.useReducer((y,x)=>Ml({},y,{[x.name]:x.value}),{}),d=R.useMemo(()=>i?.join(","),[i]),p=R.useMemo(()=>JSON.stringify(Ml({apiKey:r,version:n},a)),[r,n,a]),m=R.useCallback(async y=>{var x;if(c[y])return c[y];if(!((x=google)!=null&&(x=x.maps)!=null&&x.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const b=await window.google.maps.importLibrary(y);return u({name:y,value:b}),b},[c]);return R.useEffect(()=>{(async()=>{try{const y=Ml({key:r},a);n&&(y.v=n),d?.length>0&&(y.libraries=d),y.solutionChannel===void 0?y.solutionChannel=LEe:y.solutionChannel===""&&delete y.solutionChannel,await _m.load(y,x=>o(x));for(const x of["core","maps",...i])await m(x);t&&t()}catch(y){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",y)}})()},[r,d,p]),{status:s,loadedLibraries:c,importLibrary:m}}const UEe=e=>{const{children:t}=e,r=Tf(e,DEe),{mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s}=FEe(),{status:o,loadedLibraries:c,importLibrary:u}=jEe(r),d=R.useMemo(()=>({mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s,status:o,loadedLibraries:c,importLibrary:u}),[n,i,a,s,o,c,u]);return Ir.createElement(Jm.Provider,{value:d},t)};function BEe(e,t){for(const r of HEe){const n=t[r],i=q7[r];R.useEffect(()=>{if(!e||!n)return;const a=google.maps.event.addListener(e,i,s=>{n(VEe(i,e,s))});return()=>a.remove()},[e,i,n])}}function VEe(e,t,r){const n={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(zEe.includes(e)){const a=n,s=t.getCenter(),o=t.getZoom(),c=t.getHeading()||0,u=t.getTilt()||0,d=t.getBounds();return(!s||!d||!Number.isFinite(o))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),a.detail={center:s?.toJSON()||{lat:0,lng:0},zoom:o||0,heading:c,tilt:u,bounds:d?.toJSON()||{north:90,east:180,south:-90,west:-180}},a}else if($Ee.includes(e)){var i;if(!r)throw new Error("[createEvent] mouse events must provide a srcEvent");const a=n;return a.domEvent=r.domEvent,a.stoppable=!0,a.stop=()=>r.stop(),a.detail={latLng:((i=r.latLng)==null?void 0:i.toJSON())||null,placeId:r.placeId},a}return n}const q7={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},zEe=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],$Ee=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],HEe=Object.keys(q7);function K7(e,t){const r=R.useRef(void 0);(!r.current||!OS(t,r.current))&&(r.current=t),R.useEffect(e,r.current)}const GEe=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function qEe(e,t){const r={},n=Object.keys(t);for(const i of n)GEe.has(i)&&(r[i]=t[i]);K7(()=>{e&&e.setOptions(r)},[r])}function W7(){var e;return((e=R.useContext(Jm))==null?void 0:e.status)||Sl.NOT_LOADED}function KEe(e,t){const{viewport:r,viewState:n}=t,i=!!r;return R.useLayoutEffect(()=>{if(!e||!n)return;const{latitude:a,longitude:s,bearing:o,pitch:c,zoom:u}=n;e.moveCamera({center:{lat:a,lng:s},heading:o,tilt:c,zoom:u+1})},[e,n]),i}function WEe(e){return!e||typeof e!="object"||!("lat"in e&&"lng"in e)?!1:Number.isFinite(e.lat)&&Number.isFinite(e.lng)}function Y7(e){return WEe(e)?e:e.toJSON()}function YEe(e,t,r){const n=r.center?Y7(r.center):null;let i=null,a=null;n&&Number.isFinite(n.lat)&&Number.isFinite(n.lng)&&(i=n.lat,a=n.lng);const s=Number.isFinite(r.zoom)?r.zoom:null,o=Number.isFinite(r.heading)?r.heading:null,c=Number.isFinite(r.tilt)?r.tilt:null;R.useLayoutEffect(()=>{if(!e)return;const u={};let d=!1;i!==null&&a!==null&&(t.current.center.lat!==i||t.current.center.lng!==a)&&(u.center={lat:i,lng:a},d=!0),s!==null&&t.current.zoom!==s&&(u.zoom=s,d=!0),o!==null&&t.current.heading!==o&&(u.heading=o,d=!0),c!==null&&t.current.tilt!==c&&(u.tilt=c,d=!0),d&&e.moveCamera(u)})}const JEe=()=>{const e={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Ir.createElement("div",{style:e},Ir.createElement("h2",null,"Error: AuthFailure"),Ir.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Ir.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function XEe(){const[e,t]=R.useState(null),r=R.useCallback(n=>t(n),[t]);return[e,r]}function J7(){return W7()===Sl.LOADED}function ZEe(){const[,e]=R.useReducer(t=>t+1,0);return e}function QEe(e,t){const r=e.getCenter(),n=e.getZoom(),i=e.getHeading()||0,a=e.getTilt()||0,s=e.getBounds();(!r||!s||!Number.isFinite(n))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:r?.toJSON()||{lat:0,lng:0},zoom:n||0,heading:i,tilt:a})}function eTe(e){const t=ZEe(),r=R.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return R.useEffect(()=>{if(!e)return;const n=google.maps.event.addListener(e,"bounds_changed",()=>{QEe(e,r),t()});return()=>n.remove()},[e,t]),r}const tTe=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],rTe=["padding"];class Ly{static has(t){return this.entries[t]&&this.entries[t].length>0}static pop(t){return this.entries[t]&&this.entries[t].pop()||null}static push(t,r){this.entries[t]||(this.entries[t]=[]),this.entries[t].push(r)}}Ly.entries={};function nTe(e,t){const r=J7(),[n,i]=R.useState(null),[a,s]=XEe(),o=eTe(n),{id:c,defaultBounds:u,defaultCenter:d,defaultZoom:p,defaultHeading:m,defaultTilt:y,reuseMaps:x}=e,b=Tf(e,tTe),E=e.zoom!==void 0||e.defaultZoom!==void 0,S=e.center!==void 0||e.defaultCenter!==void 0;!u&&(!E||!S)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!b.center&&d&&(b.center=d),!b.zoom&&Number.isFinite(p)&&(b.zoom=p),!b.heading&&Number.isFinite(m)&&(b.heading=m),!b.tilt&&Number.isFinite(y)&&(b.tilt=y);for(const k of Object.keys(b))b[k]===void 0&&delete b[k];const L=R.useRef();return R.useEffect(()=>{if(!a||!r)return;const{addMapInstance:k,removeMapInstance:M}=t,D=e.mapId,P=D||"default";let N,I;if(x&&Ly.has(P)?(I=Ly.pop(P),N=I.getDiv(),a.appendChild(N),I.setOptions(b),setTimeout(()=>I.setCenter(I.getCenter()),0)):(N=document.createElement("div"),N.style.height="100%",a.appendChild(N),I=new google.maps.Map(N,b)),i(I),k(I,c),u){const{padding:O}=u,U=Tf(u,rTe);I.fitBounds(U,O)}else(!E||!S)&&I.fitBounds({east:180,west:-180,south:-90,north:90});if(L.current){const{mapId:O,cameraState:U}=L.current;O!==D&&I.setOptions(U)}return()=>{L.current={mapId:D,cameraState:o.current},N.remove(),x?Ly.push(P,I):google.maps.event.clearInstanceListeners(I),i(null),M(c)}},[a,r,c,e.mapId]),[n,s,o]}const X7=Ir.createContext(null),Z7=e=>{const{children:t,id:r,className:n,style:i}=e,a=R.useContext(Jm),s=W7();if(!a)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[o,c,u]=nTe(e,a);YEe(o,u,e),BEe(o,e),qEe(o,e);const d=KEe(o,e),p=!!e.controlled;R.useEffect(()=>{if(o)return d&&o.setOptions({disableDefaultUI:!0}),(d||p)&&o.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{o.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[o,d,p,e.gestureHandling,e.keyboardShortcuts]);const m=e.center?Y7(e.center):null;let y=null,x=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(y=m.lat,x=m.lng);const b=R.useMemo(()=>{var L,k,M,D,P;return{center:{lat:(L=y)!=null?L:0,lng:(k=x)!=null?k:0},zoom:(M=e.zoom)!=null?M:0,heading:(D=e.heading)!=null?D:0,tilt:(P=e.tilt)!=null?P:0}},[y,x,e.zoom,e.heading,e.tilt]);R.useLayoutEffect(()=>{if(!o||!p)return;o.moveCamera(b);const L=o.addListener("bounds_changed",()=>{o.moveCamera(b)});return()=>L.remove()},[o,p,b]);const E=R.useMemo(()=>Ml({width:"100%",height:"100%",position:"relative",zIndex:d?-1:0},i),[i,d]),S=R.useMemo(()=>({map:o}),[o]);return s===Sl.AUTH_FAILURE?Ir.createElement("div",{style:Ml({position:"relative"},n?{}:E),className:n},Ir.createElement(JEe,null)):Ir.createElement("div",Ml({ref:c,"data-testid":"map",style:n?void 0:E,className:n},r?{id:r}:{}),o?Ir.createElement(X7.Provider,{value:S},t):null)};Z7.deckGLViewProps=!0;const O6=new Set;function iTe(...e){const t=JSON.stringify(e);O6.has(t)||(O6.add(t),console.error(...e))}const Hh=(e=null)=>{const t=R.useContext(Jm),{map:r}=R.useContext(X7)||{};if(t===null)return iTe("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:n}=t;return e!==null?n[e]||null:r||n.default||null};function Q7(e){const t=J7(),r=R.useContext(Jm);return R.useEffect(()=>{!t||!r||r.importLibrary(e)},[t,r,e]),r?.loadedLibraries[e]||null}function e$(e,t,r){if(t!=null&&typeof t!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const n=e.style;if(r==null){if(t==null)return;for(const i in t)t.hasOwnProperty(i)&&M6(n,i,t[i]);return}for(const i in r)r.hasOwnProperty(i)&&(t==null||!t.hasOwnProperty(i))&&(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");if(t!=null)for(const i in t){const a=t[i];t.hasOwnProperty(i)&&r[i]!==a&&M6(n,i,a)}}function M6(e,t,r){const n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r=="number"&&r!==0&&!sTe(t)?e[t]=r+"px":t==="float"?e.cssFloat=r:e[t]=(""+r).trim()}const aTe=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function sTe(e){return aTe.has(e)}function Kd(e,t,r){R.useEffect(()=>{if(!e||!t||!r)return;const n=google.maps.event.addListener(e,t,r);return()=>n.remove()},[e,t,r])}function Y0(e,t,r){R.useEffect(()=>{e&&(e[t]=r)},[e,t,r])}const oTe=Ir.createContext(null);function lTe(e){const[t,r]=R.useState(null),[n,i]=R.useState(null),a=R.useRef(null),s=Hh(),o=Q7("marker"),{children:c,className:u,style:d,onClick:p,onDrag:m,onDragStart:y,onDragEnd:x,collisionBehavior:b,clickable:E,draggable:S,position:L,title:k,zIndex:M}=e,D=R.Children.count(c);return R.useEffect(()=>{if(!s||!o)return;const P=new o.AdvancedMarkerElement;P.map=s,r(P);let N=null;return D>0&&(N=document.createElement("div"),P.content=N,i(N)),()=>{var I;P.map=null,(I=N)==null||I.remove(),r(null),i(null)}},[s,o,D]),R.useEffect(()=>{!t||!t.content||(t.content.className=u||"")},[t,u]),Y0(n,"className",u??""),R.useEffect(()=>{n&&(e$(n,d||null,a.current),a.current=d||null)},[n,u,d]),Y0(t,"position",L),Y0(t,"title",k??""),Y0(t,"zIndex",M),Y0(t,"collisionBehavior",b),R.useEffect(()=>{t&&(S!==void 0?t.gmpDraggable=S:m||y||x?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,S,m,x,y]),R.useEffect(()=>{t&&(E!==void 0?t.gmpClickable=E:p?t.gmpClickable=!0:t.gmpClickable=!1)},[t,E,p]),Kd(t,"click",p),Kd(t,"drag",m),Kd(t,"dragstart",y),Kd(t,"dragend",x),[t,n]}R.forwardRef((e,t)=>{const{children:r}=e,[n,i]=lTe(e),a=R.useMemo(()=>n?{marker:n}:null,[n]);return R.useImperativeHandle(t,()=>n,[n]),i?Ir.createElement(oTe.Provider,{value:a},Eh.createPortal(r,i)):null});const cTe=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],uTe=e=>{const{children:t,headerContent:r,style:n,className:i,pixelOffset:a,anchor:s,shouldFocus:o,onClose:c,onCloseClick:u}=e,d=Tf(e,cTe),p=Q7("maps"),[m,y]=R.useState(null),x=R.useRef(null),b=R.useRef(null);R.useEffect(()=>{if(!p)return;x.current=document.createElement("div"),b.current=document.createElement("div");const L=d;a&&(L.pixelOffset=new google.maps.Size(a[0],a[1])),r&&(L.headerContent=typeof r=="string"?r:b.current);const k=new google.maps.InfoWindow(d);return k.setContent(x.current),y(k),()=>{var M,D;k.setContent(null),(M=x.current)==null||M.remove(),(D=b.current)==null||D.remove(),x.current=null,b.current=null,y(null)}},[p]);const E=R.useRef(null);R.useEffect(()=>{!m||!x.current||(e$(x.current,n||null,E.current),E.current=n||null,i!==x.current.className&&(x.current.className=i||""))},[m,i,n]),K7(()=>{if(!m)return;const L=d;a?L.pixelOffset=new google.maps.Size(a[0],a[1]):L.pixelOffset=null,r?L.headerContent=typeof r=="string"?r:b.current:L.headerContent=null,m.setOptions(d)},[d,a,r]),Kd(m,"close",c),Kd(m,"closeclick",u);const S=Hh();return R.useEffect(()=>{if(!S||!m||s===null)return;const L=!!s,k={map:S};return s&&(k.anchor=s),o!==void 0&&(k.shouldFocus=o),m.open(k),()=>{L&&m.set("anchor",null),m.close()}},[m,s,S,o]),Ir.createElement(Ir.Fragment,null,x.current&&Eh.createPortal(t,x.current),b.current!==null&&Eh.createPortal(r,b.current))},fTe=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function dTe(e){const[t,r]=R.useState(null),n=Hh(),{onClick:i,onDrag:a,onDragStart:s,onDragEnd:o,onMouseOver:c,onMouseOut:u}=e,d=Tf(e,fTe),{position:p,draggable:m}=d;return R.useEffect(()=>{if(!n){n===void 0&&console.error("<Marker> has to be inside a Map component.");return}const y=new google.maps.Marker(d);return y.setMap(n),r(y),()=>{y.setMap(null),r(null)}},[n]),R.useEffect(()=>{if(!t)return;const y=t,x=google.maps.event;return i&&x.addListener(y,"click",i),a&&x.addListener(y,"drag",a),s&&x.addListener(y,"dragstart",s),o&&x.addListener(y,"dragend",o),c&&x.addListener(y,"mouseover",c),u&&x.addListener(y,"mouseout",u),t.setDraggable(!!m),()=>{x.clearInstanceListeners(y)}},[t,m,i,a,s,o,c,u]),R.useEffect(()=>{t&&d&&t.setOptions(d)},[t,d]),R.useEffect(()=>{m||!p||!t||t.setPosition(p)},[m,p,t]),t}R.forwardRef((e,t)=>{const r=dTe(e);return R.useImperativeHandle(t,()=>r,[r]),Ir.createElement(Ir.Fragment,null)});const D6=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],FE=1,J0=8;class AN{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==FE)throw new Error(`Got v${i} data when expected v${FE}.`);const a=D6[n&15];if(!a)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new AN(o,s,a,t)}constructor(t,r=64,n=Float64Array,i){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const a=D6.indexOf(this.ArrayType),s=t*2*this.ArrayType.BYTES_PER_ELEMENT,o=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-o%8)%8;if(a<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,J0,t),this.coords=new this.ArrayType(this.data,J0+o+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(J0+s+o+c),this.ids=new this.IndexArrayType(this.data,J0,t),this.coords=new this.ArrayType(this.data,J0+o+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(FE<<4)+a]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return MS(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:a,coords:s,nodeSize:o}=this,c=[0,a.length-1,0],u=[];for(;c.length;){const d=c.pop()||0,p=c.pop()||0,m=c.pop()||0;if(p-m<=o){for(let E=m;E<=p;E++){const S=s[2*E],L=s[2*E+1];S>=t&&S<=n&&L>=r&&L<=i&&u.push(a[E])}continue}const y=m+p>>1,x=s[2*y],b=s[2*y+1];x>=t&&x<=n&&b>=r&&b<=i&&u.push(a[y]),(d===0?t<=x:r<=b)&&(c.push(m),c.push(y-1),c.push(1-d)),(d===0?n>=x:i>=b)&&(c.push(y+1),c.push(p),c.push(1-d))}return u}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:s}=this,o=[0,i.length-1,0],c=[],u=n*n;for(;o.length;){const d=o.pop()||0,p=o.pop()||0,m=o.pop()||0;if(p-m<=s){for(let E=m;E<=p;E++)L6(a[2*E],a[2*E+1],t,r)<=u&&c.push(i[E]);continue}const y=m+p>>1,x=a[2*y],b=a[2*y+1];L6(x,b,t,r)<=u&&c.push(i[y]),(d===0?t-n<=x:r-n<=b)&&(o.push(m),o.push(y-1),o.push(1-d)),(d===0?t+n>=x:r+n>=b)&&(o.push(y+1),o.push(p),o.push(1-d))}return c}}function MS(e,t,r,n,i,a){if(i-n<=r)return;const s=n+i>>1;t$(e,t,s,n,i,a),MS(e,t,r,n,s-1,1-a),MS(e,t,r,s+1,i,1-a)}function t$(e,t,r,n,i,a){for(;i>n;){if(i-n>600){const u=i-n+1,d=r-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(n,Math.floor(r-d*m/u+y)),b=Math.min(i,Math.floor(r+(u-d)*m/u+y));t$(e,t,r,x,b,a)}const s=t[2*r+a];let o=n,c=i;for(X0(e,t,n,r),t[2*i+a]>s&&X0(e,t,n,i);o<c;){for(X0(e,t,o,c),o++,c--;t[2*o+a]<s;)o++;for(;t[2*c+a]>s;)c--}t[2*n+a]===s?X0(e,t,n,c):(c++,X0(e,t,c,i)),c<=r&&(n=c+1),r<=c&&(i=c-1)}}function X0(e,t,r,n){jE(e,r,n),jE(t,2*r,2*n),jE(t,2*r+1,2*n+1)}function jE(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function L6(e,t,r,n){const i=e-r,a=t-n;return i*i+a*a}const hTe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},F6=Math.fround||(e=>(t=>(e[0]=+t,e[0])))(new Float32Array(1)),Hu=2,Rc=3,UE=4,Pc=5,r$=6;class pTe{constructor(t){this.options=Object.assign(Object.create(hTe),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const a=`prepare ${t.length} points`;r&&console.time(a),this.points=t;const s=[];for(let c=0;c<t.length;c++){const u=t[c];if(!u.geometry)continue;const[d,p]=u.geometry.coordinates,m=F6(ay(d)),y=F6(sy(p));s.push(m,y,1/0,c,-1,1),this.options.reduce&&s.push(0)}let o=this.trees[i+1]=this._createTree(s);r&&console.timeEnd(a);for(let c=i;c>=n;c--){const u=+Date.now();o=this.trees[c]=this._createTree(this._cluster(o,c)),r&&console.log("z%d: %d clusters in %dms",c,o.numItems,+Date.now()-u)}return r&&console.timeEnd("total time"),this}getClusters(t,r){let n=((t[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[1]));let a=t[2]===180?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,a=180;else if(n>a){const p=this.getClusters([n,i,180,s],r),m=this.getClusters([-180,i,a,s],r);return p.concat(m)}const o=this.trees[this._limitZoom(r)],c=o.range(ay(n),sy(s),ay(a),sy(i)),u=o.data,d=[];for(const p of c){const m=this.stride*p;d.push(u[m+Pc]>1?j6(u,m,this.clusterProps):this.points[u[m+Rc]])}return d}getChildren(t){const r=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(i);const s=a.data;if(r*this.stride>=s.length)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=s[r*this.stride],u=s[r*this.stride+1],d=a.within(c,u,o),p=[];for(const m of d){const y=m*this.stride;s[y+UE]===t&&p.push(s[y+Pc]>1?j6(s,y,this.clusterProps):this.points[s[y+Rc]])}if(p.length===0)throw new Error(i);return p}getLeaves(t,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,t,r,n,0),i}getTile(t,r,n){const i=this.trees[this._limitZoom(t)],a=Math.pow(2,t),{extent:s,radius:o}=this.options,c=o/s,u=(n-c)/a,d=(n+1+c)/a,p={features:[]};return this._addTileFeatures(i.range((r-c)/a,u,(r+1+c)/a,d),i.data,r,n,a,p),r===0&&this._addTileFeatures(i.range(1-c/a,u,1,d),i.data,a,n,a,p),r===a-1&&this._addTileFeatures(i.range(0,u,c/a,d),i.data,-1,n,a,p),p.features.length?p:null}getClusterExpansionZoom(t){let r=this._getOriginZoom(t)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,i,a){const s=this.getChildren(r);for(const o of s){const c=o.properties;if(c&&c.cluster?a+c.point_count<=i?a+=c.point_count:a=this._appendLeaves(t,c.cluster_id,n,i,a):a<i?a++:t.push(o),t.length===n)break}return a}_createTree(t){const r=new AN(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,i,a,s){for(const o of t){const c=o*this.stride,u=r[c+Pc]>1;let d,p,m;if(u)d=n$(r,c,this.clusterProps),p=r[c],m=r[c+1];else{const b=this.points[r[c+Rc]];d=b.properties;const[E,S]=b.geometry.coordinates;p=ay(E),m=sy(S)}const y={type:1,geometry:[[Math.round(this.options.extent*(p*a-n)),Math.round(this.options.extent*(m*a-i))]],tags:d};let x;u||this.options.generateId?x=r[c+Rc]:x=this.points[r[c+Rc]].id,x!==void 0&&(y.id=x),s.features.push(y)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){const{radius:n,extent:i,reduce:a,minPoints:s}=this.options,o=n/(i*Math.pow(2,r)),c=t.data,u=[],d=this.stride;for(let p=0;p<c.length;p+=d){if(c[p+Hu]<=r)continue;c[p+Hu]=r;const m=c[p],y=c[p+1],x=t.within(c[p],c[p+1],o),b=c[p+Pc];let E=b;for(const S of x){const L=S*d;c[L+Hu]>r&&(E+=c[L+Pc])}if(E>b&&E>=s){let S=m*b,L=y*b,k,M=-1;const D=((p/d|0)<<5)+(r+1)+this.points.length;for(const P of x){const N=P*d;if(c[N+Hu]<=r)continue;c[N+Hu]=r;const I=c[N+Pc];S+=c[N]*I,L+=c[N+1]*I,c[N+UE]=D,a&&(k||(k=this._map(c,p,!0),M=this.clusterProps.length,this.clusterProps.push(k)),a(k,this._map(c,N)))}c[p+UE]=D,u.push(S/E,L/E,1/0,D,-1,E),a&&u.push(M)}else{for(let S=0;S<d;S++)u.push(c[p+S]);if(E>1)for(const S of x){const L=S*d;if(!(c[L+Hu]<=r)){c[L+Hu]=r;for(let k=0;k<d;k++)u.push(c[L+k])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+Pc]>1){const s=this.clusterProps[t[r+r$]];return n?Object.assign({},s):s}const i=this.points[t[r+Rc]].properties,a=this.options.map(i);return n&&a===i?Object.assign({},a):a}}function j6(e,t,r){return{type:"Feature",id:e[t+Rc],properties:n$(e,t,r),geometry:{type:"Point",coordinates:[mTe(e[t]),gTe(e[t+1])]}}}function n$(e,t,r){const n=e[t+Pc],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,a=e[t+r$],s=a===-1?{}:Object.assign({},r[a]);return Object.assign(s,{cluster:!0,cluster_id:e[t+Rc],point_count:n,point_count_abbreviated:i})}function ay(e){return e/360+.5}function sy(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function mTe(e){return(e-.5)*360}function gTe(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function vTe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}class rs{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class DS{constructor({markers:t,position:r}){this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)t.extend(rs.getPosition(r));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>rs.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(rs.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class yTe{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return xTe(t)}}const xTe=e=>e.map(r=>new DS({position:rs.getPosition(r),markers:[r]}));class _Te extends yTe{constructor(t){var{maxZoom:r,radius:n=60}=t,i=vTe(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new pTe(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(t){let r=!1;const n={zoom:t.map.getZoom()};if(!OS(t.markers,this.markers)){r=!0,this.markers=[...t.markers];const i=this.markers.map(a=>{const s=rs.getPosition(a);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:a}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!OS(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[t,r]},properties:n}){if(n.cluster)return new DS({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:t}});const i=n.marker;return new DS({markers:[i],position:rs.getPosition(i)})}}class bTe{constructor(t,r){this.markers={sum:t.length};const n=r.map(a=>a.count),i=n.reduce((a,s)=>a+s,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class wTe{render({count:t,position:r},n,i){const s=`<svg fill="${t>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>
</svg>`,o=`Cluster of ${t} markers`,c=Number(google.maps.Marker.MAX_ZINDEX)+t;if(rs.isAdvancedMarkerAvailable(i)){const p=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;p.setAttribute("transform","translate(0 25)");const m={map:i,position:r,zIndex:c,title:o,content:p};return new google.maps.marker.AdvancedMarkerElement(m)}const u={position:r,zIndex:c,title:o,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}function ETe(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}class SN{constructor(){ETe(SN,google.maps.OverlayView)}}var $p;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})($p||($p={}));const TTe=(e,t,r)=>{r.fitBounds(t.bounds)};class ATe extends SN{constructor({map:t,markers:r=[],algorithmOptions:n={},algorithm:i=new _Te(n),renderer:a=new wTe,onClusterClick:s=TTe}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=s,t&&this.setMap(t)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(t,r){const n=this.markers.indexOf(t);return n===-1?!1:(rs.setMap(t,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(t,r){let n=!1;return t.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,$p.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const s of r)s.markers.length==1&&i.add(s.markers[0]);const a=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||rs.setMap(s.marker,null):a.push(s.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>a.forEach(s=>rs.setMap(s,null)))}google.maps.event.trigger(this,$p.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>rs.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new bTe(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,r),n.markers.forEach(i=>rs.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,$p.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),rs.setMap(n.marker,r)})}}const STe=({clients:e})=>{const t=Hh(),r=R.useRef(0);return R.useEffect(()=>{if(!t||!window.google||e.length===0)return;if(Math.abs(e.length-r.current)>0){const i=new google.maps.LatLngBounds;let a=!1;if(e.forEach(s=>{s.lat&&s.lng&&(i.extend({lat:s.lat,lng:s.lng}),a=!0)}),a){t.fitBounds(i);const s=google.maps.event.addListenerOnce(t,"idle",()=>{t.getZoom()>16&&t.setZoom(16)});return r.current=e.length,()=>google.maps.event.removeListener(s)}}},[t,e]),null},CTe=()=>{const e=Hh();return e?g.jsxs("div",{className:"absolute bottom-[75px] right-4 flex flex-row gap-2 z-10",children:[g.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)+1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Aproximar (Zoom In)","aria-label":"Aproximar zoom",children:g.jsx(z2,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)-1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Afastar (Zoom Out)","aria-label":"Afastar zoom",children:g.jsx(yX,{className:"w-5 h-5"})})]}):null},NTe=e=>{switch(e){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},U6=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);const r=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r},ITe=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,kTe=({clients:e,onClientSelect:t,productFilterActive:r,users:n,isClusteringEnabled:i})=>{const a=Hh(),s=R.useRef(null),o=R.useRef([]),c=R.useMemo(()=>{const d=document.createElement("div");return d.innerHTML=ITe,d.style.display="flex",d.style.alignItems="center",d.style.justifyContent="center",d},[]),u=R.useMemo(()=>{const d=new Map;return n&&n.forEach(p=>{let m={bg:"#6B7280",border:"#374151",glyph:"#fff"};p.color?m={bg:p.color,border:"black",glyph:"#fff"}:m={bg:U6(p.id+p.name),border:"black",glyph:"#fff"},d.set(p.id,m)}),d},[n]);return R.useEffect(()=>{if(!a||!google.maps.marker)return;s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(x=>{x.map=null,google.maps.event.clearInstanceListeners(x)}),o.current=[],i?s.current=new ATe({map:a,markers:[]}):s.current=null;let d=!0,p=0;const m=200,y=()=>{if(!d||!google.maps.marker)return;const x=e.slice(p,p+m);if(x.length===0)return;const b=x.filter(E=>{const S=Number(E.lat),L=Number(E.lng);return!isNaN(S)&&!isNaN(L)&&S!==0&&L!==0}).map(E=>{let S={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(r)S={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const P=u.get(E.salespersonId);P?S=P:E.ownerName?S={bg:U6(E.ownerName),border:"black",glyph:"#fff"}:S=NTe(E.region)}let L=null;r&&(L=c.cloneNode(!0),L.style.color=S.glyph);const k={background:S.bg,borderColor:S.border,glyphColor:S.glyph,scale:1};L&&(k.glyph=L);const M=new google.maps.marker.PinElement(k),D=new google.maps.marker.AdvancedMarkerElement({position:{lat:E.lat,lng:E.lng},content:M.element,map:i?null:a,title:E.companyName});return D.addListener("click",()=>{t(E.id)}),D});d&&(i&&s.current&&s.current.addMarkers(b),o.current.push(...b)),p+=m,p<e.length&&requestAnimationFrame(y)};return y(),()=>{d=!1,s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(x=>{x.map=null})}},[a,e,r,t,c,u,i]),g.jsx(STe,{clients:e})},PTe=({clients:e,apiKey:t,onInvalidKey:r,productFilterActive:n,highlightProductTerm:i,activeProductCategory:a,users:s,filterContent:o})=>{const c={lat:-14.235,lng:-51.9253},[u,d]=R.useState(null),[p,m]=R.useState(!1),[y,x]=R.useState(!1),[b,E]=R.useState(!0),S=e.find(M=>M.id===u);R.useEffect(()=>(t&&m(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),m(!0)},()=>{window.gm_authFailure=()=>{};const M=document.getElementsByTagName("script");for(let D=M.length-1;D>=0;D--){const P=M[D];P.src&&P.src.includes("maps.googleapis.com/maps/api/js")&&P.parentNode?.removeChild(P)}}),[t]);const L=()=>{x(!y)};if(!t)return g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:g.jsx(Xd,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),g.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[g.jsx(Xd,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(p)return g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:g.jsx(Gi,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),g.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[g.jsx(Xd,{className:"w-4 h-4"})," Trocar API Key"]})]});const k=y?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-lg overflow-hidden shadow-sm border border-gray-200 relative z-0";return g.jsx("div",{className:k,children:g.jsx(UEe,{apiKey:t,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:g.jsxs(Z7,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[g.jsx(kTe,{clients:e,onClientSelect:d,productFilterActive:n,users:s,isClusteringEnabled:b}),g.jsx(CTe,{}),y&&o&&g.jsxs("div",{className:"absolute top-0 left-0 right-0 z-30 bg-white/95 backdrop-blur-sm shadow-md border-b border-gray-200",children:[o,g.jsxs("div",{className:"flex justify-end gap-2 px-3 py-1.5 border-t border-gray-100 bg-gray-50/80",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-1.5 px-3 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(Nl,{className:"w-3 h-3"}),"Solto"]})}),g.jsxs("button",{onClick:L,className:"bg-white p-1.5 px-3 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold",title:"Sair da Tela Cheia",children:[g.jsx(i4,{className:"w-4 h-4"}),"Sair"]})]})]}),!y&&g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(Nl,{className:"w-3 h-3"}),"Solto"]})}),g.jsx("button",{onClick:L,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Tela Cheia",children:g.jsx(dX,{className:"w-5 h-5"})})]}),y&&!o&&g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(Nl,{className:"w-3 h-3"}),"Solto"]})}),g.jsx("button",{onClick:L,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Sair da Tela Cheia",children:g.jsx(i4,{className:"w-5 h-5"})})]}),S&&g.jsx(uTe,{position:{lat:S.lat,lng:S.lng},onCloseClick:()=>d(null),headerContent:g.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[g.jsx(Wp,{className:"w-4 h-4 text-blue-600"}),S.companyName]}),children:g.jsx("div",{className:"min-w-[240px] max-w-[320px] p-1",children:g.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[g.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[g.jsx(Kp,{className:"w-3 h-3"}),S.city," - ",S.state," (",S.region,")"]}),g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(ca,{className:"w-3 h-3 text-gray-400"}),g.jsx("span",{className:"font-medium text-gray-700",children:S.ownerName||"No informado"})]}),g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(cU,{className:"w-3 h-3 text-gray-400"}),g.jsx("span",{className:"font-medium text-gray-700",children:S.contact||"Sem contato"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit",children:[g.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[g.jsx("span",{className:"font-bold text-gray-800",children:S.purchasedProducts?.length||0})," Prod."]}),g.jsx("div",{className:"h-3 w-px bg-gray-300"}),g.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[g.jsx("span",{className:"font-bold text-gray-800",children:new Set(S.purchasedProducts?.map(M=>M.sku)||[]).size})," SKUs"]})]}),g.jsxs("p",{className:"flex items-start gap-2",children:[g.jsx(Nl,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),g.jsx("span",{className:"leading-tight",children:S.cleanAddress})]}),S.purchasedProducts&&S.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[g.jsxs("p",{className:"text-[10px] uppercase font-bold text-blue-600 mb-1.5 flex items-center gap-1",children:[g.jsx(ro,{className:"w-3.5 h-3.5"}),"Produtos Adquiridos"]}),g.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1.5 pr-2 custom-scrollbar",children:S.purchasedProducts.map((M,D)=>{const P=i?.toLowerCase()||"",N=P&&((M.name||"").toLowerCase().includes(P)||(M.sku||"").toLowerCase().includes(P)||(M.brand||"").toLowerCase().includes(P)||(M.factoryCode||"").toLowerCase().includes(P));return g.jsxs("div",{className:`${N?"bg-amber-50 border-amber-200 ring-1 ring-amber-100":"bg-gray-50 border-gray-100"} p-2 rounded-lg border flex flex-col gap-0.5 transition-all shadow-sm`,children:[g.jsxs("div",{className:"flex justify-between items-start gap-2",children:[g.jsx("span",{className:`text-[10px] font-black leading-tight ${N?"text-amber-900":"text-gray-800"} line-clamp-2`,title:M.name,children:M.name}),g.jsx("span",{className:"text-[10px] font-black text-blue-700 whitespace-nowrap",children:M.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-gray-500 font-bold uppercase tracking-tighter mt-0.5",children:[g.jsxs("span",{className:"flex items-center gap-0.5 bg-gray-200/50 px-1 rounded",children:["SKU: ",M.sku]}),g.jsx("span",{className:"text-gray-300",children:""}),g.jsx("span",{className:"truncate",children:M.brand||"Sem Marca"})]})]},D)})})]}),g.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[g.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[g.jsx($2,{className:"w-3 h-3 mr-1"}),S.category.join(", ")]}),S.mainCnae&&g.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 ml-1 truncate max-w-[120px]",title:S.mainCnae,children:S.mainCnae}),g.jsx("a",{href:S.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${S.lat},${S.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},RTe=({client:e,isOpen:t,onClose:r,onSave:n,users:i=[],uploadedFiles:a=[],onCNPJAuthError:s})=>{const[o,c]=R.useState(()=>({...e,cnpj:e.cnpj||"",category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})),[u,d]=R.useState(!1),[p,m]=R.useState("idle");if(Ir.useEffect(()=>{c({...e,category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})},[e]),!t)return null;const y=i.find(D=>D.id===e.salespersonId),x=y?.name||"No atribudo",b=y?.role==="sales_internal"?"Interno":y?.role==="sales_external"||y?.role==="salesperson"?"Externo":y?.role?"Equipe":"",E=y?.salesCategory||"",S=a.find(D=>D.id===e.sourceFileId),L=D=>{D.preventDefault(),n(o),r()},k=async()=>{const D=o.cnpj?.replace(/\D/g,"");if(!D||D.length!==14){alert("Por favor, informe um CNPJ vlido com 14 dgitos para atualizar.");return}d(!0),m("idle");try{const P=await X1(D);if(P){const N=P.logradouro&&P.numero;c(I=>({...I,companyName:P.nome_fantasia||P.razao_social||I.companyName,originalAddress:N?`${P.logradouro}, ${P.numero}${P.complemento?` - ${P.complemento}`:""}, ${P.bairro}, ${P.municipio} - ${P.uf}`:I.originalAddress,cleanAddress:N?`${P.logradouro}, ${P.numero}, ${P.municipio} - ${P.uf}`:I.cleanAddress,city:P.municipio||I.city,state:P.uf||I.state,district:P.bairro||I.district,region:P.uf?Xp(P.uf):I.region,lat:P.latitude||I.lat,lng:P.longitude||I.lng,contact:P.ddd_telefone_1||I.contact,mainCnae:P.cnae_fiscal||I.mainCnae,secondaryCnaes:P.cnaes_secundarios?.map(O=>`${O.codigo} - ${O.texto}`)||I.secondaryCnaes})),m("success"),setTimeout(()=>m("idle"),3e3)}else m("error"),alert("CNPJ no encontrado na base de dados.")}catch(P){console.error(P),m("error"),P.message&&(P.message.includes("401")||P.message.toLowerCase().includes("chave de api cnpja invlida"))?s?s():alert("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):alert("Erro ao consultar CNPJ. Verifique sua chave de API.")}finally{d(!1)}},M=D=>{const{name:P,value:N}=D.target;c(I=>{const O={[P]:N};return P==="state"&&(O.region=Xp(N)),{...I,...O}})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Wp,{className:"w-5 h-5 text-primary"}),g.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),g.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),g.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:e.id})]}),g.jsx("button",{onClick:r,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar modal",children:g.jsx(ha,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"mx-6 mb-2 flex flex-wrap items-center gap-3 px-4 py-2.5 bg-purple-50 border border-purple-200 rounded-xl",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ca,{className:"w-4 h-4 text-purple-600"}),g.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Vendedor Responsvel:"}),g.jsx("span",{className:"text-sm font-semibold text-purple-900",children:x})]}),b&&g.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full ${b==="Interno"?"bg-blue-100 text-blue-700":b==="Externo"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:b}),E&&E!=="N/A"&&g.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-wider px-2 py-0.5 rounded-full bg-purple-100 text-purple-700",children:[g.jsx(as,{className:"w-3 h-3 inline mr-1"}),E]}),S&&g.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[g.jsx(Sp,{className:"w-3.5 h-3.5 text-gray-500"}),g.jsxs("span",{className:"text-[10px] text-gray-600 font-medium",children:["Origem: ",g.jsx("span",{className:"font-bold",children:S.fileName})]})]})]}),g.jsxs("form",{onSubmit:L,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),g.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Razo Social",placeholder:"Razo Social"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),g.jsx("input",{type:"text",name:"ownerName",value:o.ownerName,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Responsvel / Proprietrio",placeholder:"Responsvel / Proprietrio"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Telefone Comercial"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"contact",value:o.contact,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Telefone Comercial",placeholder:"(00) 0000-0000"}),g.jsx(cU,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"WhatsApp"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"whatsapp",value:o.whatsapp||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"WhatsApp",placeholder:"(00) 00000-0000"}),g.jsx(Kp,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),g.jsxs("div",{className:"md:col-span-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),g.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Jp.filter(D=>D!=="Todos").map(D=>{const P=o.category.includes(D);return g.jsx("button",{type:"button",onClick:()=>{c(N=>{const I=N.category||[];return I.includes(D)?I.length===1?N:{...N,category:I.filter(O=>O!==D)}:{...N,category:[...I,D]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${P?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,title:`Selecionar/desselecionar segmento: ${D}`,children:D},D)})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{name:"region",value:o.region,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",title:"Regio",children:[g.jsx("option",{value:"Indefinido",children:"Indefinido"}),fh.map(D=>g.jsx("option",{value:D,children:D},D))]}),g.jsx(Kp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Bairro"}),g.jsx("input",{type:"text",name:"district",value:o.district||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Bairro",placeholder:"Bairro"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Cidade"}),g.jsx("input",{type:"text",name:"city",value:o.city,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Municpio / Cidade",placeholder:"Cidade"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Estado (UF)"}),g.jsx("input",{type:"text",name:"state",value:o.state,onChange:M,maxLength:2,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all uppercase",title:"Estado (UF)",placeholder:"UF"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"CEP"}),g.jsx("input",{type:"text",name:"zip",value:o.zip||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",placeholder:"00000-000",title:"CEP / Cdigo Postal"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Pas"}),g.jsx("input",{type:"text",value:"Brasil",readOnly:!0,title:"Pas (Padro: Brasil)",className:"w-full bg-surface-container-highest/50 border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface-variant outline-none"})]})]})]}),g.jsxs("div",{className:"space-y-1 pt-2",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),g.jsx("div",{className:"flex gap-2",children:g.jsx("input",{type:"text",name:"cleanAddress",value:o.cleanAddress,onChange:M,className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Endereo Limpo"})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"CNPJ"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",name:"cnpj",value:o.cnpj||"",onChange:M,className:`flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all ${p==="success"?"border-green-500":""}`,placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"}),g.jsxs("button",{type:"button",onClick:k,disabled:u,className:`px-4 flex items-center gap-2 rounded-xl text-xs font-bold transition-all shadow-sm ${p==="success"?"bg-green-100 text-green-700":"bg-primary text-white hover:bg-primary/90"}`,title:"Atualizar todos os dados a partir deste CNPJ",children:[u?g.jsx($c,{className:"w-4 h-4 animate-spin"}):g.jsx(so,{className:"w-4 h-4"}),p==="success"?"Dados Atualizados!":"Atualizar Dados"]})]})]}),g.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[g.jsx(as,{className:"w-4 h-4 text-primary"}),g.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),g.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:o.mainCnae||(o.cnpj?"Aguardando consulta...":"No informado")})]}),o.secondaryCnaes&&o.secondaryCnaes.length>0?g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),g.jsx("ul",{className:"space-y-1.5",children:o.secondaryCnaes.map((D,P)=>g.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),D]},P))})]}):o.cnpj&&g.jsx("p",{className:"text-[10px] text-on-surface-variant italic",children:"Nenhuma atividade secundria registrada."})]})]}),g.jsxs("div",{className:"space-y-1 pt-2",children:[g.jsxs("label",{className:"text-xs font-medium text-on-surface-variant ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",g.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),g.jsx("input",{type:"text",name:"plusCode",value:o.plusCode||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso nos pinos."})]})]}),g.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[g.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),g.jsxs("button",{type:"submit",onClick:L,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[g.jsx(Lm,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},OTe=({isOpen:e,onClose:t,onAdd:r,salespersonId:n,ownerName:i,users:a=[],isFirebaseConnected:s=!1,onCNPJAuthError:o})=>{const[c,u]=R.useState(n),[d,p]=R.useState({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),[m,y]=R.useState(!1),[x,b]=R.useState(""),[E,S]=R.useState(!1);if(R.useEffect(()=>{e&&(p({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),u(n),b(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async P=>{},P=>{console.warn("Location access denied or error:",P)}))},[e]),!e)return null;const L=(P,N)=>{p(I=>{const O={[P]:N};return P==="state"&&(O.region=Xp(N)),{...I,...O}}),x&&b("")},k=P=>{p(N=>{const I=N.category;return I.includes(P)?I.length===1?N:{...N,category:I.filter(O=>O!==P)}:{...N,category:[...I,P]}})},M=async()=>{if(!d.cnpj||d.cnpj.replace(/\D/g,"").length!==14){b("Por favor, informe um CNPJ vlido com 14 dgitos.");return}y(!0),b("");try{const P=await X1(d.cnpj);if(P){const N=P.logradouro&&P.numero;p(I=>({...I,companyName:P.nome_fantasia||P.razao_social,originalAddress:N?`${P.logradouro}, ${P.numero}${P.complemento?` - ${P.complemento}`:""}, ${P.bairro}`:I.originalAddress,city:P.municipio||I.city,state:P.uf||I.state,district:P.bairro||I.district,region:P.uf?Xp(P.uf):I.region,contact:P.ddd_telefone_1||I.contact,whatsapp:P.ddd_telefone_1||I.whatsapp,lat:P.latitude||0,lng:P.longitude||0,cleanAddress:N?`${P.logradouro}, ${P.numero}, ${P.municipio} - ${P.uf}`:I.cleanAddress,mainCnae:P.cnae_fiscal||I.mainCnae,secondaryCnaes:P.cnaes_secundarios?.map(O=>`${O.codigo} - ${O.texto}`)||I.secondaryCnaes}))}}catch(P){P.message&&(P.message.includes("401")||P.message.toLowerCase().includes("chave de api cnpja invlida"))?o?o():b("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):b(P.message||"Erro ao consultar CNPJ. Verifique a chave da API.")}finally{y(!1)}},D=P=>{if(P.preventDefault(),!d.companyName||!d.originalAddress||!d.city||!d.state||!d.contact){b("Por favor, preencha todos os campos obrigatrios (*).");return}S(!0);const N=`${d.originalAddress}, ${d.city} - ${d.state}`;r({companyName:d.companyName,ownerName:d.ownerName||"No Informado",contact:d.contact,whatsapp:d.whatsapp,category:d.category,region:d.region,state:d.state,city:d.city,originalAddress:N,cleanAddress:d.cleanAddress||N,plusCode:d.plusCode,salespersonId:c,googleMapsUri:"",lat:d.lat,lng:d.lng,mainCnae:d.mainCnae,secondaryCnaes:d.secondaryCnaes,zip:d.zip,country:"Brasil"}),S(!1),t()};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Wp,{className:"w-5 h-5 text-primary"}),g.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),g.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),g.jsx("button",{onClick:t,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:g.jsx(ha,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:g.jsxs("form",{id:"add-client-form",onSubmit:D,className:"space-y-6",children:[g.jsxs("div",{className:"bg-surface-container-low p-4 rounded-2xl border border-outline-variant",children:[g.jsx("label",{className:"block text-xs font-semibold text-primary mb-2 ml-1 uppercase tracking-wider",children:"Consulta Rpida por CNPJ (Comercial)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"relative flex-1",children:g.jsx("input",{type:"text",value:d.cnpj,onChange:P=>L("cnpj",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-colors",placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"})}),g.jsxs("button",{type:"button",onClick:M,disabled:m,className:`px-4 py-2 rounded-xl transition-colors flex items-center gap-2 disabled:opacity-50 ${d.lat!==0?"bg-green-100 text-green-700":"bg-primary text-on-primary hover:bg-primary/90"}`,children:[m?g.jsx($c,{className:"w-4 h-4 animate-spin"}):g.jsx(so,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:d.lat!==0?"Dados Atualizados":"Atualizar Dados"})]})]}),d.cnpj.replace(/\D/g,"").length===14&&g.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[g.jsx(as,{className:"w-4 h-4 text-primary"}),g.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),g.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:d.mainCnae||(m?"Buscando...":"Aguardando consulta comercial...")})]}),d.secondaryCnaes&&d.secondaryCnaes.length>0&&g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),g.jsx("ul",{className:"space-y-1.5",children:d.secondaryCnaes.map((P,N)=>g.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),P]},N))})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),g.jsx("input",{type:"text",required:!0,value:d.companyName,onChange:P=>L("companyName",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),g.jsx("input",{type:"text",value:d.ownerName,onChange:P=>L("ownerName",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),a.length>0&&g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:[g.jsx(ca,{className:"w-3 h-3 inline mr-1"}),"Vendedor Responsvel"]}),g.jsx("select",{value:c,onChange:P=>u(P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Vendedor Responsvel",children:a.filter(P=>P.role==="salesperson"||P.role==="sales_external"||P.role==="sales_internal").map(P=>g.jsxs("option",{value:P.id,children:[P.name,P.salesCategory?` (${P.salesCategory})`:""]},P.id))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),g.jsx("input",{type:"text",required:!0,value:d.contact,onChange:P=>L("contact",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000",title:"Contato"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),g.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Jp.filter(P=>P!=="Todos").map(P=>{const N=d.category.includes(P);return g.jsx("button",{type:"button",onClick:()=>k(P),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${N?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:P},P)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{value:d.region,onChange:P=>L("region",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Regio",children:fh.map(P=>g.jsx("option",{value:P,children:P},P))}),g.jsx(Kp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Bairro *"}),g.jsx("input",{type:"text",required:!0,value:d.district||"",onChange:P=>L("district",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Aldeota",title:"Bairro"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),g.jsx("input",{type:"text",required:!0,value:d.city,onChange:P=>L("city",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{required:!0,value:d.state,onChange:P=>L("state",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"UF",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(P=>g.jsx("option",{value:P,children:P},P))}),g.jsx(Nl,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),g.jsx("textarea",{rows:2,required:!0,value:d.originalAddress,onChange:P=>L("originalAddress",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors resize-none",placeholder:"Rua, Nmero, Bairro, CEP...",title:"Endereo Completo"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",g.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),g.jsx("input",{type:"text",value:d.plusCode,onChange:P=>L("plusCode",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso."})]}),g.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:g.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[g.jsx(Nl,{className:"w-4 h-4 shrink-0"}),g.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})}),x&&g.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[g.jsx(Gi,{className:"w-5 h-5"}),x]})]})}),g.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[g.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),g.jsx("button",{type:"submit",disabled:E,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:E?"Salvando...":g.jsxs(g.Fragment,{children:[g.jsx(Lm,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},MTe=({isOpen:e,onClose:t,client:r,products:n,onSave:i,productCategories:a})=>{const[s,o]=R.useState(""),[c,u]=R.useState("Todos"),[d,p]=R.useState([]),[m,y]=R.useState(!1);Ir.useEffect(()=>{r&&r.purchasedProducts?p(r.purchasedProducts.map(S=>S.sku)):p([])},[r]);const x=R.useMemo(()=>n.filter(S=>{const L=(S.name||"").toLowerCase().includes(s.toLowerCase())||(S.sku||"").toLowerCase().includes(s.toLowerCase())||(S.brand||"").toLowerCase().includes(s.toLowerCase()),k=c==="Todos"||S.category===c,M=d.includes(S.sku);return L&&k&&(!m||M)}),[n,s,c,m,d]),b=S=>{p(L=>L.includes(S)?L.filter(k=>k!==S):[...L,S])},E=()=>{if(!r)return;const S=n.filter(L=>d.includes(L.sku));i(r.id,S),t()};return!e||!r?null:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",children:[g.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(ro,{className:"w-5 h-5 text-blue-600"}),"Atribuir Produtos"]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",g.jsx("span",{className:"font-semibold text-gray-700",children:r.companyName})]})]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Fechar modal",children:g.jsx(ha,{className:"w-5 h-5 text-gray-500"})})]}),g.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-3 bg-white z-10",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"text",placeholder:"Buscar por nome, SKU, marca...",value:s,onChange:S=>o(S.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",title:"Filtrar por Departamento",children:[g.jsx("option",{value:"Todos",children:"Todos os Departamentos"}),a.map(S=>g.jsx("option",{value:S,children:S},S))]})]}),g.jsxs("div",{className:"p-4 bg-gray-50 flex items-center justify-center gap-3 border-b border-gray-100",children:[g.jsx("button",{onClick:()=>y(!1),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${m?"bg-white text-gray-600 border border-gray-200 hover:border-blue-300":"bg-blue-600 text-white shadow-sm"}
            `,children:"Ver Todos os Produtos"}),g.jsxs("button",{onClick:()=>y(!0),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${m?"bg-green-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:border-green-300"}
            `,children:[g.jsx(ro,{className:"w-3 h-3"}),"Produtos Comprados"]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:x.length===0?g.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:g.jsx("p",{children:"Nenhum produto encontrado."})}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(S=>{const L=d.includes(S.sku);return g.jsx("div",{onClick:()=>b(S.sku),className:`
                      relative p-3 rounded-xl border cursor-pointer transition-all duration-200 group
                      ${L?"bg-blue-50 border-blue-500 shadow-sm":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                    `,children:g.jsxs("div",{className:"flex justify-between items-start gap-2",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:`text-sm font-medium truncate ${L?"text-blue-800":"text-gray-800"}`,children:S.name}),g.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase truncate",children:S.brand}),g.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",S.sku]}),g.jsx("p",{className:"text-xs font-bold text-gray-700 mt-1",children:S.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsx("div",{className:`
                        w-5 h-5 rounded-full border flex items-center justify-center transition-colors
                        ${L?"bg-blue-500 border-blue-500":"border-gray-300 group-hover:border-blue-400"}
                      `,children:L&&g.jsx(af,{className:"w-3.5 h-3.5 text-white"})})]})},S.sku)})})}),g.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center",children:[g.jsxs("div",{className:"text-sm text-gray-600",children:[g.jsx("span",{className:"font-bold text-blue-600",children:d.length})," produtos selecionados"]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),g.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-transform active:scale-95",children:[g.jsx(Lm,{className:"w-4 h-4"}),"Salvar Atribuio"]})]})]})]})})},DTe=({clients:e,onUpdateClient:t,onAddClient:r,currentUserRole:n,currentUserId:i,currentUserName:a,products:s=[],productCategories:o=[],users:c=[],uploadedFiles:u=[],onGeneratePlusCodes:d,onCNPJAuthError:p,filterOnlyWithPurchases:m=!1,setFilterOnlyWithPurchases:y,resetFilters:x})=>{const[b,E]=R.useState(""),[S,L]=R.useState("Todos"),[k,M]=R.useState("Todos"),[D,P]=R.useState(null),[N,I]=R.useState(!1),[O,U]=R.useState(!1),[B,F]=R.useState(!1),[H,fe]=R.useState(null),me=R.useMemo(()=>e.filter(V=>{const ee=(V.companyName||"").toLowerCase().includes(b.toLowerCase())||(V.ownerName||"").toLowerCase().includes(b.toLowerCase()),X=S==="Todos"||V.region===S,q=k==="Todos"||Array.isArray(V.category)&&V.category.some(he=>he.trim()===k.trim());return ee&&X&&q}),[e,b,S,k]),ne=()=>{const V=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","CNAE","Produtos Comprados","Link Maps"],ee=me.map(le=>[le.id,le.companyName,le.ownerName,le.contact,le.cleanAddress,le.city,le.state,le.region,le.category.join("; "),le.mainCnae||"",le.purchasedProducts?le.purchasedProducts.map(ge=>ge.sku).join("; "):"",le.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${le.lat},${le.lng}`]),X=le=>{if(le==null)return"";const ge=String(le);return ge.includes('"')||ge.includes(",")||ge.includes(`
`)?`"${ge.replace(/"/g,'""')}"`:ge},q=[V.join(","),...ee.map(le=>le.map(X).join(","))].join(`
`),he=new Blob([`\uFEFF${q}`],{type:"text/csv;charset=utf-8;"}),xe=URL.createObjectURL(he),Ie=document.createElement("a");Ie.setAttribute("href",xe),Ie.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie)},ue=V=>{P(V),I(!0)},ce=V=>{fe(V),F(!0)},ae=(V,ee)=>{const X=e.find(q=>q.id===V);if(X){const q={...X,purchasedProducts:ee};t(q)}},_e=({client:V,style:ee})=>g.jsx("div",{style:ee,className:"p-1",children:g.jsxs("div",{className:"h-full bg-surface-container-low border border-outline-variant/30 rounded-lg p-3 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden flex flex-col",children:[g.jsx("div",{className:"absolute top-0 right-0 p-0",children:g.jsx("span",{className:`px-3 py-1 rounded-bl-lg text-[10px] font-bold uppercase tracking-wider
                        ${V.region==="Nordeste"?"bg-orange-100 text-orange-800":V.region==="Sudeste"?"bg-blue-100 text-blue-800":V.region==="Sul"?"bg-purple-100 text-purple-800":V.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:V.region})}),g.jsxs("div",{className:"flex items-start gap-4 pr-12 mb-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:V.companyName.charAt(0).toUpperCase()}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",title:V.companyName,children:V.companyName}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:[g.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[g.jsx($2,{className:"w-3 h-3"}),g.jsx("span",{className:"truncate",children:V.category.join(", ")})]}),V.mainCnae&&g.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 truncate max-w-[150px]",title:V.mainCnae,children:[g.jsx(as,{className:"w-2.5 h-2.5 mr-1"}),V.mainCnae]})]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 w-fit",children:[g.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[" ",g.jsx("span",{className:"font-bold text-gray-800",children:V.purchasedProducts.length})," Prod."]}),g.jsx("div",{className:"h-3 w-px bg-gray-300"}),g.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[" ",g.jsx("span",{className:"font-bold text-gray-800",children:new Set(V.purchasedProducts.map(X=>X.sku)).size})," SKUs"]})]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[V.purchasedProducts.slice(0,2).map((X,q)=>g.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:X.name,children:X.sku},q)),V.purchasedProducts.length>2&&g.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",V.purchasedProducts.length-2]})]})]})]}),g.jsxs("div",{className:"space-y-2 flex-grow",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[g.jsx(Wp,{className:"w-4 h-4 shrink-0"}),g.jsx("span",{className:"truncate",children:V.ownerName})]}),g.jsxs("div",{className:"flex items-start gap-2 text-sm text-on-surface-variant group/link",children:[g.jsx(Nl,{className:"w-4 h-4 shrink-0 mt-0.5"}),g.jsx("span",{className:"line-clamp-2",children:V.cleanAddress})]})]}),g.jsxs("div",{className:"mt-4 pt-3 border-t border-outline-variant/30 flex items-center justify-between",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ce(V),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Atribuir Produtos",children:g.jsx(ro,{className:"w-4 h-4"})}),g.jsx("a",{title:`Abrir localizao de ${V.companyName} no Google Maps`,href:V.googleMapsUri||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(V.companyName+" "+V.cleanAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",onClick:X=>X.stopPropagation(),children:g.jsx(AA,{className:"w-4 h-4"})})]}),g.jsxs("button",{onClick:()=>ue(V),className:"flex items-center gap-1.5 text-xs font-bold text-primary hover:text-primary/80 transition-colors px-3 py-1.5 rounded-lg active:bg-surface-container-highest",title:`Editar cliente ${V.companyName}`,children:[g.jsx(EX,{className:"w-3 h-3"})," Editar"]})]})]})}),J=({client:V})=>g.jsxs("div",{className:"p-4 border-b border-gray-100 last:border-0 bg-white",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900",children:V.companyName}),g.jsx("p",{className:"text-xs text-gray-500",children:V.category.join(", ")}),V.mainCnae&&g.jsxs("p",{className:"text-[10px] text-purple-600 font-medium flex items-center gap-1 mt-0.5",children:[g.jsx(as,{className:"w-3 h-3"})," ",V.mainCnae]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[V.purchasedProducts.slice(0,3).map((ee,X)=>g.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:ee.name,children:ee.sku},X)),V.purchasedProducts.length>3&&g.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",V.purchasedProducts.length-3]})]})]}),g.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase
              ${V.region==="Nordeste"?"bg-orange-100 text-orange-800":V.region==="Sudeste"?"bg-blue-100 text-blue-800":V.region==="Sul"?"bg-purple-100 text-purple-800":V.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
           `,children:V.region})]}),g.jsxs("div",{className:"space-y-1 mb-3",children:[g.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(Wp,{className:"w-4 h-4 text-gray-400"})," ",V.ownerName]}),g.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(Nl,{className:"w-4 h-4 text-gray-400"})," ",g.jsx("span",{className:"truncate",children:V.cleanAddress})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ue(V),className:"flex-1 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg text-center",title:`Editar cliente ${V.companyName}`,children:"Editar"}),g.jsxs("button",{onClick:()=>ce(V),className:"flex-1 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg text-center flex items-center justify-center gap-1",title:"Atribuir Produtos",children:[g.jsx(ro,{className:"w-4 h-4"})," Produtos"]}),g.jsx("a",{href:V.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${V.lat},${V.lng}`,target:"_blank",className:"flex-none p-2 text-gray-600 bg-gray-100 rounded-lg flex items-center justify-center",title:"Ver rota no Google Maps",children:g.jsx(AA,{className:"w-5 h-5"})})]})]});return g.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[g.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-200 flex flex-col md:flex-row gap-3 items-center justify-between bg-white z-10 sticky top-0 md:relative shadow-sm md:shadow-none",children:[g.jsxs("div",{className:"relative w-full md:max-w-xs group",children:[g.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-primary transition-colors"}),g.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",className:"w-full pl-10 pr-4 py-1.5 bg-surface-container-highest border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-on-surface-variant/50",value:b,onChange:V=>E(V.target.value),title:"Buscar por razo social ou proprietrio"})]}),g.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:[g.jsxs("select",{value:S,onChange:V=>L(V.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Regio",children:[g.jsx("option",{value:"Todos",children:"Todas Regies"}),fh.map(V=>g.jsx("option",{value:V,children:V},V))]}),g.jsxs("select",{value:k,onChange:V=>M(V.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Categoria",children:[g.jsx("option",{value:"Todos",children:"Todos Segmentos"}),Jp.filter(V=>V!=="Todos").map(V=>g.jsx("option",{value:V,children:V},V))]}),g.jsxs("div",{className:"md:ml-auto flex items-center gap-2 pl-2 border-l border-gray-200",children:[n&&zd(n)&&r&&g.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95 whitespace-nowrap",children:[g.jsx(z2,{className:"w-4 h-4"})," Novo"]}),g.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-outline-variant/30 text-on-surface hover:bg-surface-container-highest rounded-lg text-xs font-bold transition-colors shadow-sm whitespace-nowrap",children:[g.jsx(GJ,{className:"w-4 h-4"})," Exportar"]}),d&&n&&NA(n)&&g.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-1.5 bg-tertiary text-white text-xs font-bold rounded-lg hover:bg-tertiary/90 transition-all shadow-md shadow-tertiary/20 active:scale-95 whitespace-nowrap",title:"Gerar Plus Codes para clientes sem localizao exata",children:[g.jsx(Nl,{className:"w-4 h-4"})," Plus Code"]})]})]})]}),g.jsxs("div",{className:"px-3 py-1.5 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Exibindo ",me.length," de ",e.length," clientes"]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-gray-50",children:[g.jsx("div",{className:"md:hidden flex flex-col gap-0 bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:me.map(V=>g.jsx(J,{client:V},V.id))}),g.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2",children:me.map(V=>g.jsx(_e,{client:V,style:{}},V.id))}),me.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[g.jsx(V2,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium",children:"Nenhum cliente encontrado"}),g.jsx("p",{className:"text-sm",children:"Tente ajustar seus filtros de busca"})]})]}),D&&N&&g.jsx(RTe,{isOpen:N,onClose:()=>I(!1),client:D,onSave:t,users:c,uploadedFiles:u,onCNPJAuthError:p}),O&&i&&g.jsx(OTe,{isOpen:O,onClose:()=>U(!1),onAdd:r||(()=>{}),salespersonId:i,ownerName:a||"",users:c,onCNPJAuthError:p}),g.jsx(MTe,{isOpen:B,onClose:()=>F(!1),client:H,products:s,productCategories:o,onSave:ae})]})},LTe="modulepreload",FTe=function(e){return"/Rota-de-Vendas/"+e},B6={},jx=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var s=u;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(r.map(d=>{if(d=FTe(d),d in B6)return;B6[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":LTe,p||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),p)return new Promise((x,b)=>{y.addEventListener("load",x),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var LS=function(){return LS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},LS.apply(this,arguments)},FS,jTe=function(e){var t;e?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof e=="string"?document.getElementById(e):e):(t=document.querySelector(".grecaptcha-badge"))&&t.parentNode&&document.body.removeChild(t.parentNode)},UTe=function(e,t){jTe(t),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+e);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},BTe=function(e){var t=e.render,r=e.onLoadCallbackName,n=e.language,i=e.onLoad,a=e.useRecaptchaNet,s=e.useEnterprise,o=e.scriptProps,c=o===void 0?{}:o,u=c.nonce,d=u===void 0?"":u,p=c.defer,m=p!==void 0&&p,y=c.async,x=y!==void 0&&y,b=c.id,E=b===void 0?"":b,S=c.appendTo,L=E||"google-recaptcha-v3";if((function(D){return!!document.querySelector("#"+D)})(L))i();else{var k=(function(D){return"https://www."+(D.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(D.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:s,useRecaptchaNet:a}),M=document.createElement("script");M.id=L,M.src=k+"?render="+t+(t==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),d&&(M.nonce=d),M.defer=!!m,M.async=!!x,M.onload=i,(S==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(M)}},V6=function(e){console.warn(e)};(function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(FS||(FS={}));var CN=R.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});CN.Consumer;function z6(e){var t=e.reCaptchaKey,r=e.useEnterprise,n=r!==void 0&&r,i=e.useRecaptchaNet,a=i!==void 0&&i,s=e.scriptProps,o=e.language,c=e.container,u=e.children,d=R.useState(null),p=d[0],m=d[1],y=R.useRef(t),x=JSON.stringify(s),b=JSON.stringify(c?.parameters);R.useEffect((function(){if(t){var L=s?.id||"google-recaptcha-v3",k=s?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[k]=function(){var M=n?window.grecaptcha.enterprise:window.grecaptcha,D=LS({badge:"inline",size:"invisible",sitekey:t},c?.parameters||{});y.current=M.render(c?.element,D)},BTe({render:c?.element?"explicit":t,onLoadCallbackName:k,useEnterprise:n,useRecaptchaNet:a,scriptProps:s,language:o,onLoad:function(){if(window&&window.grecaptcha){var M=n?window.grecaptcha.enterprise:window.grecaptcha;M.ready((function(){m(M)}))}else V6("<GoogleRecaptchaProvider /> "+FS.SCRIPT_NOT_AVAILABLE)}}),function(){UTe(L,c?.element)}}V6("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,a,x,b,o,t,c?.element]);var E=R.useCallback((function(L){if(!p||!p.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return p.execute(y.current,{action:L})}),[p,y]),S=R.useMemo((function(){return{executeRecaptcha:p?E:void 0,container:c?.element}}),[E,p,c?.element]);return Ir.createElement(CN.Provider,{value:S},u)}var VTe=function(){return R.useContext(CN)};function i$(e,t){return e(t={exports:{}},t.exports),t.exports;}var mi=typeof Symbol=="function"&&Symbol.for,jS=mi?Symbol.for("react.element"):60103,US=mi?Symbol.for("react.portal"):60106,Fy=mi?Symbol.for("react.fragment"):60107,jy=mi?Symbol.for("react.strict_mode"):60108,Uy=mi?Symbol.for("react.profiler"):60114,By=mi?Symbol.for("react.provider"):60109,Vy=mi?Symbol.for("react.context"):60110,BS=mi?Symbol.for("react.async_mode"):60111,Ux=mi?Symbol.for("react.concurrent_mode"):60111,zy=mi?Symbol.for("react.forward_ref"):60112,$y=mi?Symbol.for("react.suspense"):60113,zTe=mi?Symbol.for("react.suspense_list"):60120,Hy=mi?Symbol.for("react.memo"):60115,Gy=mi?Symbol.for("react.lazy"):60116,$Te=mi?Symbol.for("react.block"):60121,HTe=mi?Symbol.for("react.fundamental"):60117,GTe=mi?Symbol.for("react.responder"):60118,qTe=mi?Symbol.for("react.scope"):60119;function es(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case jS:switch(e=e.type){case BS:case Ux:case Fy:case Uy:case jy:case $y:return e;default:switch(e=e&&e.$$typeof){case Vy:case zy:case Gy:case Hy:case By:return e;default:return t}}case US:return t}}}function $6(e){return es(e)===Ux}var KTe={AsyncMode:BS,ConcurrentMode:Ux,ContextConsumer:Vy,ContextProvider:By,Element:jS,ForwardRef:zy,Fragment:Fy,Lazy:Gy,Memo:Hy,Portal:US,Profiler:Uy,StrictMode:jy,Suspense:$y,isAsyncMode:function(e){return $6(e)||es(e)===BS},isConcurrentMode:$6,isContextConsumer:function(e){return es(e)===Vy},isContextProvider:function(e){return es(e)===By},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===jS},isForwardRef:function(e){return es(e)===zy},isFragment:function(e){return es(e)===Fy},isLazy:function(e){return es(e)===Gy},isMemo:function(e){return es(e)===Hy},isPortal:function(e){return es(e)===US},isProfiler:function(e){return es(e)===Uy},isStrictMode:function(e){return es(e)===jy},isSuspense:function(e){return es(e)===$y},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===Fy||e===Ux||e===Uy||e===jy||e===$y||e===zTe||typeof e=="object"&&e!==null&&(e.$$typeof===Gy||e.$$typeof===Hy||e.$$typeof===By||e.$$typeof===Vy||e.$$typeof===zy||e.$$typeof===HTe||e.$$typeof===GTe||e.$$typeof===qTe||e.$$typeof===$Te)},typeOf:es},Dr=i$((function(e,t){})),H6=(Dr.AsyncMode,Dr.ConcurrentMode,Dr.ContextConsumer,Dr.ContextProvider,Dr.Element,Dr.ForwardRef,Dr.Fragment,Dr.Lazy,Dr.Memo,Dr.Portal,Dr.Profiler,Dr.StrictMode,Dr.Suspense,Dr.isAsyncMode,Dr.isConcurrentMode,Dr.isContextConsumer,Dr.isContextProvider,Dr.isElement,Dr.isForwardRef,Dr.isFragment,Dr.isLazy,Dr.isMemo,Dr.isPortal,Dr.isProfiler,Dr.isStrictMode,Dr.isSuspense,Dr.isValidElementType,Dr.typeOf,i$((function(e){e.exports=KTe}))),WTe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},G6={};G6[H6.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},G6[H6.Memo]=WTe;const YTe=({users:e,onLogin:t})=>{const[r,n]=R.useState("login"),[i,a]=R.useState(""),[s,o]=R.useState(""),[c,u]=R.useState(""),[d,p]=R.useState(!1),{executeRecaptcha:m}=VTe(),[y,x]=R.useState(!1),b=async k=>{if(k.preventDefault(),u(""),console.log("[CAPTCHA] Key configured:","MISSING"),console.log("[CAPTCHA] executeRecaptcha available:",!!m),!m){console.error("[CAPTCHA] executeRecaptcha not available - Provider may not be loaded"),u(" Sistema de segurana no carregado. Recarregue a pgina.");return}x(!0);try{console.log("[CAPTCHA] Executing reCAPTCHA verification...");const M=await m("login");if(console.log("[CAPTCHA] Token received:",M?"Success ":"Failed "),console.log("[CAPTCHA] Token length:",M?.length||0),!M)throw new Error("reCAPTCHA token is empty");console.log("[AUTH] CAPTCHA passed, validating credentials...");let D=e;if(!D||D.length===0){console.log("[AUTH] Prop users is empty, loading INITIAL_USERS as fallback");const{INITIAL_USERS:N}=await jx(async()=>{const{INITIAL_USERS:I}=await Promise.resolve().then(()=>F1);return{INITIAL_USERS:I}},void 0);D=cp(N)}let P=D.find(N=>N.username.toLowerCase()===i.toLowerCase());if(!P&&i.toLowerCase()==="admin"){console.log("[AUTH] Admin not found in cloud users, using hardcoded fallback");const{INITIAL_USERS:N}=await jx(async()=>{const{INITIAL_USERS:I}=await Promise.resolve().then(()=>F1);return{INITIAL_USERS:I}},void 0);P=N.find(I=>I.username==="admin")}P&&P.password===s?(console.log("[AUTH] Login successful "),t(P)):(console.warn("[AUTH] Invalid credentials"),u(" Credenciais invlidas. Verifique usurio e senha."))}catch(M){console.error("[CAPTCHA] Error details:",{message:M?.message,name:M?.name,stack:M?.stack,error:M}),M?.message?.includes("Invalid site key")?u(" Erro de configurao: Chave reCAPTCHA invlida. Contate o administrador."):M?.message?.includes("network")?u(" Erro de rede. Verifique sua conexo e tente novamente."):u(` Falha na verificao de segurana: ${M?.message||"Erro desconhecido"}. Tente novamente.`)}finally{x(!1)}},E=()=>{u("")},S=k=>{E(),n(k)},L=["Admin Dev","Admin Geral","Gerente Geral","Gerente de Vendas","Supervisor de Vendas"];return g.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[g.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),g.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[g.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[r!=="login"&&g.jsx("button",{onClick:()=>S("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:g.jsx(wA,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:g.jsx(CA,{className:"w-7 h-7 text-white"})}),g.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),g.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[r==="login"&&g.jsxs("form",{onSubmit:b,className:"space-y-6 pt-2 animate-fade-in",children:[g.jsx("div",{className:"text-center pb-2",children:g.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),g.jsxs("div",{className:"relative",children:[g.jsx(ca,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"text",value:i,onChange:k=>a(k.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),g.jsxs("div",{className:"relative",children:[g.jsx(SA,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"password",value:s,onChange:k=>o(k.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),c&&g.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[g.jsx(Gi,{className:"w-4 h-4 flex-shrink-0"}),c]}),g.jsx("button",{type:"submit",disabled:y,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-wait text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:y?g.jsxs(g.Fragment,{children:[g.jsx(tx,{className:"w-4 h-4 animate-pulse"}),"Verificando segurana..."]}):g.jsxs(g.Fragment,{children:["Entrar ",g.jsx(gJ,{className:"w-4 h-4"})]})}),g.jsx("div",{className:"flex justify-center pt-2",children:g.jsx("button",{type:"button",onClick:()=>S("forgot_pass"),className:"text-xs text-blue-600 hover:text-blue-800 font-bold bg-blue-50 hover:bg-blue-100 px-6 py-2 rounded-full transition-all active:scale-95 shadow-sm border border-blue-100",children:"Esqueci a Senha"})})]}),r==="forgot_pass"&&g.jsxs("div",{className:"animate-fade-in space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-sm border border-orange-100",children:g.jsx(SA,{className:"w-10 h-10 text-orange-600"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Recuperao de Acesso"}),g.jsx("p",{className:"text-gray-600 mt-4 leading-relaxed",children:"Solicite uma nova senha ao administrador do sistema."})]}),g.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-6",children:[g.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[g.jsx(CA,{className:"w-4 h-4"})," Perfis Autorizados"]}),g.jsx("ul",{className:"space-y-3",children:L.map((k,M)=>g.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-700 font-medium",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),k]},M))})]}),g.jsxs("button",{onClick:()=>S("login"),className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[g.jsx(wA,{className:"w-4 h-4"})," Voltar ao Login"]})]})]})]})]})},a$=({startDate:e,endDate:t,onRangeChange:r,label:n="Perodo"})=>{const[i,a]=R.useState(!1),[s,o]=R.useState(new Date),c=R.useRef(null);R.useEffect(()=>{const k=M=>{c.current&&!c.current.contains(M.target)&&a(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const u=k=>k.toISOString().split("T")[0],d=k=>{const M=u(k);!e||e&&t?r(M,""):M<e?r(M,e):r(e,M)},p=k=>{k.stopPropagation(),r("","")},m=()=>{const k=s.getFullYear(),M=s.getMonth(),D=new Date(k,M,1),P=new Date(k,M+1,0),N=new Date(D);N.setDate(N.getDate()-D.getDay());const I=new Date(P);I.setDate(I.getDate()+(6-P.getDay()));const O=[];let U=new Date(N);for(;U<=I;)O.push(new Date(U)),U.setDate(U.getDate()+1);return O},y=k=>{const M=u(k);return M===e||M===t},x=k=>{if(!e||!t)return!1;const M=u(k);return M>e&&M<t},b=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],E=k=>{const M=new Date(s);M.setMonth(M.getMonth()+k),o(M)},S=()=>{const k=new Date;o(k),r(u(k),u(k))},L=()=>e?t?`${e.split("-").reverse().join("/")} - ${t.split("-").reverse().join("/")}`:`${e.split("-").reverse().join("/")} - ...`:"Selecionar data";return g.jsxs("div",{className:"relative inline-block",ref:c,children:[g.jsxs("button",{type:"button",onClick:()=>a(!i),className:`flex items-center gap-2 h-8 px-3 rounded-md border transition-all duration-200 outline-none
          ${i?"bg-primary-container border-primary text-on-primary-container shadow-sm":e?"bg-secondary-container border-outline text-on-secondary-container":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[g.jsx(qp,{className:`w-3.5 h-3.5 ${e?"text-primary":"text-gray-400"}`}),g.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight mr-1",children:n}),g.jsx("span",{className:"text-[11px] font-medium",children:L()}),e&&g.jsx(ha,{className:"w-3 h-3 ml-1 hover:text-error transition-colors",onClick:p})]}),i&&g.jsxs("div",{className:"absolute top-full left-0 mt-2 z-[9999] bg-white border border-outline-variant rounded-2xl shadow-elevation-3 p-4 min-w-[280px] sm:min-w-[320px] animate-in fade-in slide-in-from-top-2 duration-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-sm font-bold text-on-surface ml-2",children:[b[s.getMonth()]," de ",s.getFullYear()]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Ms anterior",children:g.jsx(IJ,{className:"w-5 h-5 text-on-surface-variant"})}),g.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Prximo ms",children:g.jsx(tU,{className:"w-5 h-5 text-on-surface-variant"})})]})]}),g.jsxs("div",{className:"grid grid-cols-7 gap-y-1 mb-4",children:[["D","S","T","Q","Q","S","S"].map((k,M)=>g.jsx("div",{className:"text-center text-[11px] font-bold text-on-surface-variant h-8 flex items-center justify-center",children:k},M)),m().map((k,M)=>{const D=y(k),P=x(k),N=u(k)===u(new Date),I=k.getMonth()===s.getMonth();return g.jsx("div",{className:`relative flex items-center justify-center h-10 w-full cursor-pointer
                    ${P?"bg-primary-container":""}
                    ${D&&e&&t&&u(k)===e?"rounded-l-full":""}
                    ${D&&e&&t&&u(k)===t?"rounded-r-full":""}
                    ${D&&(!e||!t||e===t)?"rounded-full":""}
                  `,onClick:()=>d(k),children:g.jsx("div",{className:`
                    w-8 h-8 flex items-center justify-center text-[12px] font-medium transition-all duration-200
                    ${D?"bg-primary text-on-primary rounded-full shadow-sm z-10":N?"border border-primary text-primary rounded-full":I?"text-on-surface":"text-gray-300"}
                    ${!D&&!P&&I?"hover:bg-surface-variant rounded-full":""}
                  `,children:k.getDate()})},M)})]}),g.jsxs("div",{className:"flex items-center justify-between border-t border-outline-variant pt-3 px-2",children:[g.jsx("button",{onClick:S,className:"text-xs font-bold text-primary hover:bg-primary/5 px-3 py-1.5 rounded-full transition-colors",children:"Hoje"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:p,className:"text-xs font-bold text-error hover:bg-error/5 px-3 py-1.5 rounded-full transition-colors",children:"Limpar"}),g.jsx("button",{onClick:()=>a(!1),className:"text-xs font-bold text-primary bg-primary/10 hover:bg-primary/20 px-4 py-1.5 rounded-full transition-colors",children:"Concluir"})]})]})]})]})},JTe=(e,t=200,r=200,n=.7)=>new Promise((i,a)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=o=>{const c=new Image;c.src=o.target?.result,c.onload=()=>{const u=document.createElement("canvas");let d=c.width,p=c.height;d>p?d>t&&(p=Math.round(p*=t/d),d=t):p>r&&(d=Math.round(d*=r/p),p=r),u.width=d,u.height=p;const m=u.getContext("2d");if(!m){a(new Error("Could not get canvas context"));return}m.drawImage(c,0,0,d,p);const y=u.toDataURL("image/jpeg",n);i(y)},c.onerror=u=>a(u)},s.onerror=o=>a(o)}),XTe=({currentUser:e,users:t,onAddUser:r,onUpdateUser:n,onDeleteUser:i,onCleanupDuplicates:a,totalClients:s})=>{const[o,c]=R.useState(null),[u,d]=R.useState(""),[p,m]=R.useState(""),[y,x]=R.useState(""),b=ZX(e.role),E=b.includes("sales_external")?"sales_external":b[0],[S,L]=R.useState(E),[k,M]=R.useState("Externo"),[D,P]=R.useState("#3B82F6"),[N,I]=R.useState(void 0),O=R.useRef(null),[U,B]=R.useState("Todos"),F=()=>{c(null),d(""),m(""),x(""),L(E),M("Externo"),P("#3B82F6"),I(void 0),O.current&&(O.current.value="")},H=ce=>{if(!lE(e.role,ce.role)){alert("Voc no tem permisso para editar este usurio (Nvel Hierrquico Superior ou Igual).");return}c(ce.id),d(ce.name),m(ce.username),x(ce.password||""),L(XX(ce.role)),M(ce.salesCategory||"N/A"),P(ce.color||"#3B82F6"),I(ce.photoURL),window.scrollTo({top:0,behavior:"smooth"})},fe=async ce=>{const ae=ce.target.files?.[0];if(ae){if(!["image/jpeg","image/png"].includes(ae.type)){alert("Apenas imagens JPEG ou PNG so permitidas.");return}if(ae.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB.");return}try{const _e=await JTe(ae);I(_e)}catch(_e){console.error("Erro ao processar imagem:",_e),alert("Erro ao processar a imagem. Tente novamente.")}}},me=ce=>{if(ce.preventDefault(),!u||!p||!y)return;const ae=Ma[S]>=4,_e={id:o||Date.now().toString(),name:u,username:p,role:S,password:y,salesCategory:ae?k:"N/A",color:ae?D:void 0,photoURL:N};o?n(_e):r(_e),F()},ne=t.filter(ce=>U==="Todos"||U==="N/A"&&Ma[ce.role]<=2?!0:ce.salesCategory===U),ue=["Todos","Externo","Interno","Mercado Livre"];return g.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[g.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${o?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${o?"text-primary":"text-on-surface"}`,children:[o?g.jsx(oE,{className:"w-5 h-5"}):g.jsx(s4,{className:"w-5 h-5 text-primary"}),o?"Editar Usurio":"Cadastrar Novo Usurio"]}),o&&g.jsxs("button",{onClick:F,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[g.jsx(ha,{className:"w-4 h-4"})," Cancelar Edio"]})]}),g.jsxs("form",{onSubmit:me,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-3 flex justify-center mb-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:`w-24 h-24 rounded-full overflow-hidden border-2 flex items-center justify-center bg-surface-container-highest ${N?"border-primary":"border-dashed border-outline-variant"}`,children:N?g.jsx("img",{src:N,alt:"Profile",className:"w-full h-full object-cover"}):g.jsx(ca,{className:"w-10 h-10 text-on-surface-variant/50"})}),g.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-primary text-on-primary rounded-full shadow-md cursor-pointer hover:bg-primary/90 transition-colors",title:"Alterar foto",children:[g.jsx(TJ,{className:"w-4 h-4"}),g.jsx("input",{id:"photo-upload",type:"file",accept:"image/jpeg, image/png",onChange:fe,className:"hidden",ref:O})]}),N&&g.jsx("button",{type:"button",onClick:()=>{I(void 0),O.current&&(O.current.value="")},className:"absolute -top-1 -right-1 p-1 bg-error text-white rounded-full shadow-md hover:bg-error/90 transition-colors",title:"Remover foto",children:g.jsx(ha,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[g.jsx("span",{className:"text-sm font-medium text-on-surface",children:"Foto de Perfil"}),g.jsx("span",{className:"text-xs text-on-surface-variant",children:"JPG ou PNG at 2MB."})]})]}),g.jsxs("div",{className:"lg:col-span-2",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),g.jsx("input",{type:"text",value:u,onChange:ce=>d(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),g.jsx("input",{type:"text",value:p,onChange:ce=>m(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),g.jsx("input",{type:"text",value:y,onChange:ce=>x(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),g.jsx("select",{value:S,onChange:ce=>L(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:b.map(ce=>g.jsx("option",{value:ce,children:fU[ce]||ce},ce))}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 pl-1",children:"* Voc s pode criar nveis abaixo do seu."})]}),Ma[S]>=4&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),g.jsxs("select",{value:k,onChange:ce=>M(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"color",value:D,onChange:ce=>P(ce.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),g.jsx("input",{type:"text",value:D,onChange:ce=>P(ce.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),g.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:g.jsxs("button",{type:"submit",disabled:!u||!p||!y,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${o?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[o?g.jsx(Lm,{className:"w-4 h-4"}):g.jsx(s4,{className:"w-4 h-4"}),o?"Salvar Alteraes":"Criar Acesso"]})})]})]}),g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[g.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[g.jsx(ca,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",ne.length,")"]}),g.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(Gi,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),g.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",g.jsx("strong",{children:s}),s>143&&g.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),g.jsxs("button",{onClick:a,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[g.jsx(Gi,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),g.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:ue.map(ce=>g.jsx("button",{onClick:()=>B(ce),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${U===ce?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:ce},ce))})]}),g.jsx("div",{className:"hidden md:block overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),g.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),g.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[ne.map(ce=>g.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${o===ce.id?"bg-primary-container/30":""}`,children:[g.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30",children:ce.photoURL?g.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):g.jsx(ca,{className:"w-4 h-4 text-primary"})}),ce.name]})}),g.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:ce.username}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Ma[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:o4(ce.role)})}),g.jsx("td",{className:"px-6 py-4",children:Ma[ce.role]>=4?g.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[g.jsx(as,{className:"w-3.5 h-3.5"}),ce.salesCategory||"N/A"]}):g.jsx("span",{className:"text-outline-variant",children:"-"})}),g.jsx("td",{className:"px-6 py-4",children:Ma[ce.role]>=4&&ce.color?g.jsx("div",{className:"flex items-center gap-2",title:ce.color,children:g.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:ce.color}})}):g.jsx("span",{className:"text-outline-variant",children:"-"})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("div",{className:"flex items-center justify-end gap-2",children:lE(e.role,ce.role)?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>H(ce),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:g.jsx(oE,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>i(ce.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:g.jsx(pf,{className:"w-4 h-4"})})]}):g.jsx("div",{className:"flex items-center gap-2 opacity-30 cursor-not-allowed",children:g.jsx("span",{className:"text-xs italic",children:"Sem permisso"})})})})]},ce.id)),ne.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),g.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[ne.map(ce=>g.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${o===ce.id?"bg-primary-container/30 border-primary/30":""}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30 flex-shrink-0",children:ce.photoURL?g.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):g.jsx(ca,{className:"w-5 h-5 text-primary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-on-surface",children:ce.name}),g.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",ce.username]})]})]}),g.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Ma[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:o4(ce.role)})]}),g.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[g.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[g.jsx("span",{children:"Categoria:"}),g.jsx("span",{className:"font-medium text-on-surface",children:ce.salesCategory||"-"})]}),g.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[g.jsx("span",{children:"Senha:"}),g.jsx("span",{className:"font-mono",children:ce.password||"***"})]})]}),g.jsx("div",{className:"flex justify-end gap-2 pt-2",children:lE(e.role,ce.role)&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>H(ce),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[g.jsx(oE,{className:"w-3.5 h-3.5"})," Editar"]}),g.jsxs("button",{onClick:()=>i(ce.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[g.jsx(pf,{className:"w-3.5 h-3.5"})," Remover"]})]})})]},ce.id)),ne.length===0&&g.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},ZTe=({categories:e,onAddCategory:t,onDeleteCategory:r})=>{const[n,i]=R.useState(""),a=s=>{s.preventDefault(),n.trim()&&(t(n.trim()),i(""))};return g.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[g.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[g.jsx(lU,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),g.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),g.jsxs("form",{onSubmit:a,className:"flex gap-3 mb-8",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx($2,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),g.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[g.jsx(z2,{className:"w-4 h-4"})," Adicionar"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.map(s=>g.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[g.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s]}),g.jsx("button",{onClick:()=>r(s),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:g.jsx(pf,{className:"w-4 h-4"})})]},s)),e.length===0&&g.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},QTe=({products:e,onUploadProducts:t,onClearProducts:r,onSaveProducts:n,apiKey:i})=>{const[a,s]=R.useState(!1),[o,c]=R.useState(""),[u,d]=R.useState(!1),[p,m]=R.useState({current:0,total:0}),[y,x]=R.useState([]),[b,E]=R.useState(null),[S,L]=R.useState(!1);R.useEffect(()=>{x(e),L(!1)},[e]);const k=async F=>{const H=F.target.files?.[0];if(H){s(!0);try{let fe=[];const me=H.name.toLowerCase();if(me.endsWith(".csv"))fe=await qU(H);else if(me.endsWith(".xlsx")||me.endsWith(".xls"))fe=await NB(H);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");t(fe),F.target.value=""}catch(fe){console.error("Error parsing products:",fe),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{s(!1)}}},M=()=>{n&&(n(y),L(!1),alert("Alteraes salvas com sucesso!"))},D=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(y.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${y.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){d(!0),m({current:0,total:y.length});try{const F=await oye(y,i,(H,fe)=>{m({current:H,total:fe})});x(F),L(!0),alert(` ${F.length} produtos foram categorizados pela IA!`)}catch(F){console.error("AI Categorization failed",F),alert(`Erro ao categorizar produtos: ${F.message||"Erro desconhecido"}`)}finally{d(!1),m({current:0,total:0})}}},P=(F,H,fe)=>{const me=[...y];me[F]={...me[F],[H]:fe},x(me),L(!0)},N=F=>{let H="asc";b&&b.key===F&&b.direction==="asc"&&(H="desc"),E({key:F,direction:H})},I=F=>b?[...F].sort((H,fe)=>{let me=H[b.key],ne=fe[b.key];return b.key==="price"||b.key==="discount"?(me=Number(me||0),ne=Number(ne||0)):(me=String(me||"").toLowerCase(),ne=String(ne||"").toLowerCase()),me<ne?b.direction==="asc"?-1:1:me>ne?b.direction==="asc"?1:-1:0}):F,O=y.map((F,H)=>({...F,originalIndex:H})).filter(F=>(F.name||"").toLowerCase().includes(o.toLowerCase())||(F.sku||"").toLowerCase().includes(o.toLowerCase())||(F.brand||"").toLowerCase().includes(o.toLowerCase())||(F.category||"").toLowerCase().includes(o.toLowerCase())||(F.factoryCode||"").toLowerCase().includes(o.toLowerCase())),U=I(O),B=({column:F})=>b?.key!==F?g.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):b.direction==="asc"?g.jsx(_J,{className:"w-3 h-3 ml-1 inline-block text-primary"}):g.jsx(hJ,{className:"w-3 h-3 ml-1 inline-block text-primary"});return g.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[g.jsx(ao,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),g.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),g.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[S&&g.jsxs("button",{onClick:M,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[g.jsx(Lm,{className:"w-4 h-4"})," Salvar Alteraes"]}),e.length>0&&g.jsxs("button",{onClick:D,disabled:u,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?g.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):g.jsx(a4,{className:"w-4 h-4"}),u?"Processando...":"IA Classificar"]}),e.length>0&&g.jsxs("button",{onClick:r,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(pf,{className:"w-4 h-4"})," Limpar"]}),g.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${a?"opacity-50 pointer-events-none":""}`,children:[a?g.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):g.jsx(qX,{className:"w-4 h-4"}),a?"Processando...":"Importar CSV",g.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:k})]})]})]}),e.length===0?g.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[g.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:g.jsx(Ay,{className:"w-8 h-8 text-outline"})}),g.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),g.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):g.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[g.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[g.jsx(so,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),g.jsx("input",{type:"text",value:o,onChange:F=>c(F.target.value),placeholder:"Filtrar por SKU, Marca, Departamento, Nome...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),g.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>N("sku"),children:["SKU ",g.jsx(B,{column:"sku"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("brand"),children:["Marca ",g.jsx(B,{column:"brand"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>N("name"),children:["Produto ",g.jsx(B,{column:"name"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>N("category"),children:["Departamento ",g.jsx(B,{column:"category"})]}),g.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("price"),children:["Preo (R$) ",g.jsx(B,{column:"price"})]}),g.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>N("discount"),children:["Desc. (%) ",g.jsx(B,{column:"discount"})]})]})}),g.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:U.map(F=>g.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[g.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:F.sku}),g.jsx("td",{className:"px-4 py-2 font-bold text-primary text-xs uppercase",children:F.brand}),g.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:F.name,children:F.name}),g.jsx("td",{className:"px-2 py-2",children:g.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:F.category,onChange:H=>P(F.originalIndex,"category",H.target.value),title:"Editar Categoria",placeholder:"Categoria"})}),g.jsx("td",{className:"px-2 py-2 text-right",children:g.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:F.price,onChange:H=>P(F.originalIndex,"price",parseFloat(H.target.value)||0),title:"Editar Preo",placeholder:"0,00"})}),g.jsx("td",{className:"px-2 py-2 text-right",children:g.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:F.discount||0,onChange:H=>P(F.originalIndex,"discount",parseFloat(H.target.value)||0),title:"Editar Desconto",placeholder:"0.0"})})]},`${F.sku}-${F.originalIndex}`))})]})}),g.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[U.map(F=>g.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:F.sku}),g.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:F.name}),g.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:F.brand})]}),g.jsx("div",{className:"text-right",children:g.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:F.factoryCode})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Departamento"}),g.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:F.category,onChange:H=>P(F.originalIndex,"category",H.target.value),title:"Editar Departamento",placeholder:"Departamento"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),g.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:F.discount||0,onChange:H=>P(F.originalIndex,"discount",parseFloat(H.target.value)||0),title:"Editar Desconto",placeholder:"0"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),g.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:F.price,onChange:H=>P(F.originalIndex,"price",parseFloat(H.target.value)||0),title:"Editar Preo",placeholder:"0,00"})]})]},`${F.sku}-${F.originalIndex}`)),U.length===0&&g.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),g.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[g.jsxs("span",{children:["Total de Produtos: ",g.jsx("strong",{children:y.length})]}),g.jsxs("span",{children:["Exibindo: ",g.jsx("strong",{children:U.length})]})]})]})]}),u&&g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[g.jsx(a4,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),g.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&d(!1)},className:"text-on-surface-variant hover:text-on-surface",title:"Cancelar categorizao IA",children:g.jsx(ha,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[g.jsx("span",{children:"Processando produtos..."}),g.jsxs("span",{className:"font-mono font-bold text-primary",children:[p.current," / ",p.total]})]}),g.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${p.current/p.total*100}%`}})}),g.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},eAe=({isOpen:e,onClose:t,onSaveToCloud:r,onClearDatabase:n,isFirebaseConnected:i=!1})=>{const[a,s]=R.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[o,c]=R.useState("idle"),[u,d]=R.useState("");R.useEffect(()=>{if(e){const x=G7();x&&(s(x),c("success"),d("Configurao salva encontrada."))}},[e]);const p=x=>{s({...a,[x.target.name]:x.target.value}),c("idle"),d("")},m=async()=>{if(c("testing"),d("Testando conexo..."),!a.apiKey||!a.projectId){c("error"),d("Campos obrigatrios faltando.");return}try{await TN(a)?(wEe(a),c("success"),d("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(c("error"),d("Falha ao conectar. Verifique as credenciais."))}catch(x){c("error"),d("Erro: "+x.message)}},y=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(EEe(),s({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),c("idle"),d("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return e?g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col overflow-hidden transform transition-all animate-scale-in border border-white/20",children:[g.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white shrink-0 relative",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-purple-600 rounded-2xl shadow-lg ring-4 ring-purple-500/20",children:g.jsx(EA,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold tracking-tight",children:"Cloud Sync"}),g.jsx("p",{className:"text-slate-400 text-[10px] font-medium uppercase tracking-wider",children:"Infraestrutura Firebase"})]})]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(ha,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4 mb-2",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(oU,{className:"w-4 h-4 text-blue-600"})}),g.jsxs("p",{className:"text-[11px] text-blue-800 leading-relaxed font-medium",children:["Insira as credenciais do seu projeto Firebase. Voc as encontra no Console ",">"," Configuraes ",">"," Seus aplicativos."]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsx("div",{className:"space-y-3",children:["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].map(x=>g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500/30 group-focus-within:bg-purple-500 transition-colors"})}),g.jsx("input",{type:"text",name:x,placeholder:x,value:a[x],onChange:p,className:"w-full bg-gray-50 border border-gray-100 rounded-xl pl-8 pr-4 py-3 text-xs text-gray-700 placeholder:text-gray-400 focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none transition-all font-mono"})]},x))})}),u&&g.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-widest p-4 rounded-xl flex items-center gap-3 border shadow-sm ${o==="error"?"bg-red-50 border-red-100 text-red-600":o==="success"?"bg-green-50 border-green-100 text-green-600":"bg-gray-50 border-gray-100 text-gray-500"}`,children:[o==="testing"&&g.jsx($c,{className:"w-4 h-4 animate-spin"}),o==="success"&&g.jsx(uh,{className:"w-4 h-4"}),u]}),i&&r&&n&&g.jsxs("div",{className:"pt-2",children:[g.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Operaes de Dados"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-white hover:bg-blue-50 text-blue-600 text-xs font-bold rounded-xl border border-blue-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(EA,{className:"w-4 h-4"}),"Backup"]}),g.jsxs("button",{onClick:n,className:"flex-1 py-3 bg-white hover:bg-red-50 text-red-600 text-xs font-bold rounded-xl border border-red-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(pf,{className:"w-4 h-4"}),"Limpar"]})]})]})]}),g.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-wrap justify-end gap-3 shrink-0",children:[o==="success"&&g.jsxs("button",{onClick:y,className:"px-4 py-2 text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-50 rounded-xl transition-all mr-auto flex items-center gap-2 border border-red-100",children:[g.jsx(pf,{className:"w-4 h-4"})," Desconectar"]}),g.jsx("button",{onClick:t,className:"px-5 py-2.5 text-gray-500 hover:text-gray-800 font-bold text-[10px] uppercase tracking-widest transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:m,disabled:o==="testing",className:"px-6 py-2.5 bg-purple-600 hover:bg-purple-700 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl shadow-lg shadow-purple-500/20 transition-all flex items-center gap-2 disabled:opacity-50 active:scale-95",children:o==="testing"?g.jsxs(g.Fragment,{children:[g.jsx($c,{className:"w-3.5 h-3.5 animate-spin"})," Verificando..."]}):"Salvar e Conectar"})]})]})}):null},tAe=({onAccept:e,onDecline:t})=>{const[r,n]=R.useState(!1);R.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const o=setTimeout(()=>n(!0),1500);return()=>clearTimeout(o)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),n(!1),e()},a=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),n(!1),t()};return r?g.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] p-4 animate-slide-up",children:g.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-3xl p-6 flex flex-col md:flex-row items-center justify-between gap-6 ring-1 ring-blue-500/10",children:[g.jsxs("div",{className:"flex items-start gap-5",children:[g.jsx("div",{className:"bg-blue-600/10 p-4 rounded-2xl text-blue-600 shrink-0 ring-1 ring-blue-500/20",children:g.jsx(UJ,{className:"w-7 h-7"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1.5 tracking-tight",children:"Privacidade e Performance"}),g.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:"Utilizamos armazenamento local para garantir que seu sistema carregue instantaneamente (cache offline). Isso permite agilidade mxima e operao em reas com sinal oscilante."})]})]}),g.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[g.jsx("button",{onClick:a,className:"flex-1 md:flex-none px-6 py-3 text-xs font-bold text-gray-400 uppercase tracking-widest hover:text-gray-700 transition-all rounded-xl",children:"Pular"}),g.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-8 py-3 text-xs font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-xl shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(uh,{className:"w-4 h-4"}),"Ativar Cache Rpido"]})]})]})}):null},rAe=({users:e,uploadedFiles:t,onUploadClients:r,onUploadProducts:n,onUploadPurchases:i,onDeleteFile:a,onReassignSalesperson:s,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,u]=R.useState("clients"),[d,p]=R.useState(""),[m,y]=R.useState([]),x=M=>{if(M.target.files&&M.target.files.length>0){const D=Array.from(M.target.files).map(P=>({file:P,targetUserId:d||""}));y(P=>[...P,...D]),M.target.value=""}},b=M=>{y(D=>D.filter((P,N)=>N!==M))},E=(M,D)=>{y(P=>{const N=[...P];return N[M].targetUserId=D,N})},S=async()=>{const M=m.filter(D=>D.targetUserId);if(M.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const D of M)await r(D.file,D.targetUserId,!0);y([])},L=M=>{const D=M.target.files?.[0];D&&(n(D),M.target.value="")},k=t.filter(M=>M.type===c);return g.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[g.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[g.jsx(Cp,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),g.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),g.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[g.jsxs("button",{onClick:()=>u("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(Yp,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),g.jsxs("button",{onClick:()=>u("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(ao,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),g.jsxs("button",{onClick:()=>u("purchases"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="purchases"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(Sp,{className:"w-4 h-4"}),"Atualizar Compras (Razo Social)",c==="purchases"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),o?.isActive&&g.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?g.jsx($c,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?g.jsx(af,{className:"w-5 h-5"}):g.jsx(Gi,{className:"w-5 h-5"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&g.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),g.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[g.jsx("div",{className:"lg:col-span-4",children:g.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[g.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[g.jsx(nAe,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:M=>p(M.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(M=>zd(M.role)).map(M=>g.jsx("option",{value:M.id,children:M.name},M.id))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:g.jsx(q6,{className:"w-4 h-4"})})]})]}),m.length>0&&g.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[g.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[g.jsxs("span",{children:["Arquivos na Fila (",m.length,")"]}),g.jsx("button",{onClick:()=>y([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),g.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:m.map((M,D)=>g.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[g.jsx(Ay,{className:"w-4 h-4 text-primary shrink-0"}),g.jsx("span",{className:"truncate flex-1 font-medium",title:M.file.name,children:M.file.name}),g.jsxs("select",{value:M.targetUserId,onChange:P=>E(D,P.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${M.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[g.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),e.filter(P=>zd(P.role)).map(P=>g.jsx("option",{value:P.id,children:P.name},P.id))]}),g.jsx("button",{onClick:()=>b(D),className:"text-on-surface-variant hover:text-error p-1",children:g.jsx(ha,{className:"w-3 h-3"})})]},D))}),g.jsx("button",{onClick:S,disabled:o?.isActive||m.some(M=>!M.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o?.isActive?g.jsxs(g.Fragment,{children:[g.jsx($c,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(af,{className:"w-3 h-3"}),"Processar ",m.length," Arquivos"]})})]}),g.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:g.jsx(Cp,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),g.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:x,disabled:o?.isActive&&o.status==="processing"})]})]}):c==="purchases"?g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-xs text-blue-800 mb-2 flex gap-3 border border-blue-100 italic",children:[g.jsx(Gi,{className:"w-5 h-5 shrink-0 text-blue-500"}),g.jsx("p",{children:"Este upload identifica o cliente pela **Razo Social** e substitui todo o histrico de compras dele pelos produtos deste arquivo."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Destino"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:M=>p(M.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(M=>zd(M.role)).map(M=>g.jsx("option",{value:M.id,children:M.name},M.id))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:g.jsx(q6,{className:"w-4 h-4"})})]})]}),g.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-blue-300 bg-blue-50/30 hover:bg-blue-50/50 hover:border-blue-500":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white":"bg-surface-variant text-on-surface-variant"}`,children:g.jsx(Cp,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Carregar Planilha de Compras"})]}),g.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:M=>{const D=M.target.files?.[0];D&&d&&(i(D,d),M.target.value="")},disabled:o?.isActive&&o.status==="processing"})]}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant italic",children:[g.jsx(Sp,{className:"w-3 h-3"}),g.jsx("span",{children:"Colunas Esperadas: Razo Social, SKU, Nome do Produto"})]})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[g.jsx(ao,{className:"w-5 h-5 shrink-0"}),g.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),g.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:g.jsx(ao,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),g.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:L,disabled:o?.isActive&&o.status==="processing"})]})]})]})}),g.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between mb-2",children:g.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[g.jsx(Ay,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",g.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:k.length})]})}),k.length===0?g.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[g.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:g.jsx(Sp,{className:"w-10 h-10 text-outline"})}),g.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),g.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):g.jsx("div",{className:"space-y-3",children:k.map(M=>g.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[g.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${M.status==="error"?"bg-error-container text-error":M.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:M.status==="processing"?g.jsx($c,{className:"w-5 h-5 animate-spin"}):M.status==="error"?g.jsx(Gi,{className:"w-5 h-5"}):g.jsx(Ay,{className:"w-5 h-5"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:M.fileName,children:M.fileName}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(qp,{className:"w-3 h-3"}),new Date(M.uploadDate).toLocaleDateString(),g.jsx("span",{className:"opacity-60 ml-1",children:new Date(M.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(af,{className:"w-3 h-3"}),M.itemCount," registros"]})]}),M.status==="error"&&g.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:M.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&g.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:e.find(P=>P.id===M.salespersonId)?.name?.charAt(0)||"?"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsxs("select",{value:M.salespersonId,onChange:D=>s?.(M.id,D.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:M.status==="processing",children:[g.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),e.filter(D=>zd(D.role)).map(D=>g.jsx("option",{value:D.id,className:"bg-surface text-on-surface",children:D.name},D.id))]}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),g.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:M.status==="processing"?g.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):g.jsxs("button",{onClick:()=>a(M.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[g.jsx(pf,{className:"w-4 h-4"}),g.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},M.id))})]})]})]})};function q6(e){return g.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function nAe(e){return g.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),g.jsx("circle",{cx:"12",cy:"10",r:"5"}),g.jsx("path",{d:"M12 15V3"}),g.jsx("path",{d:"m9 6 3-3 3 3"})]})}const iAe=({isOpen:e,onClose:t,onConfirm:r,suggestedKey:n})=>{const[i,a]=Ir.useState(!1),[s,o]=Ir.useState(""),[c,u]=Ir.useState(!1);if(!e)return null;const d=()=>{navigator.clipboard.writeText(n)},p=m=>m?m.length<=10?"":`${m.slice(0,6)}${m.slice(-4)}`:"";return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[g.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(ha,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:g.jsx(Xd,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Ativar Mapa"}),g.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure seu acesso ao Google Maps"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(Gi,{className:"w-5 h-5 text-blue-600"})}),g.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:i?"Insira sua prpria Chave de API do Google Maps abaixo para ativar as funcionalidades.":"Detectamos que seu mapa est aguardando ativao. Use a chave padro do sistema."})]}),i?g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Configurao Manual"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:s,onChange:m=>o(m.target.value),placeholder:"Comea com AIza...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-4 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),g.jsx(bX,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"})]})]}):g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave Recomendada"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"flex-1 bg-gray-50 border border-gray-100 rounded-xl px-4 py-3.5 font-mono text-sm text-gray-700 flex items-center justify-between shadow-inner",children:[g.jsx("span",{className:"truncate",children:c?n:p(n)}),g.jsx("button",{onClick:()=>u(!c),className:"text-gray-400 hover:text-gray-600 p-1 transition-colors",title:c?"Esconder":"Mostrar",children:c?g.jsx(aU,{className:"w-4 h-4"}):g.jsx(sU,{className:"w-4 h-4"})})]}),g.jsx("button",{onClick:d,className:"bg-gray-50 hover:bg-gray-100 text-blue-600 p-3.5 rounded-xl transition-all border border-gray-100 shadow-sm active:scale-95",title:"Copiar chave",children:g.jsx(VJ,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[g.jsxs("button",{onClick:()=>r(i?s:n),disabled:i&&!s.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[g.jsx(uh,{className:"w-5 h-5"}),i?"Ativar Manualmente":"Carregar Mapa Agora"]}),g.jsx("button",{onClick:()=>{a(!i),o(""),u(!1)},className:"w-full py-2 text-xs text-gray-400 hover:text-blue-600 font-bold uppercase tracking-widest transition-all",children:i?"Voltar para recomendada":"Usar outra chave (Manual)"})]})]})]})})},aAe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,i]=Ir.useState(""),[a,s]=Ir.useState(!1);return Ir.useEffect(()=>{if(e){const o=localStorage.getItem("cnpja_api_key")||"";i(o)}},[e]),e?g.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[g.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(ha,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:g.jsx(Xd,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"API Comercial CNPJa"}),g.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure sua chave de consulta comercial"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(Gi,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:"A chave atual expirou ou est invlida. Insira sua nova Chave de API Comercial para restaurar a busca e atualizao de dados."}),g.jsxs("a",{href:"https://cnpja.com/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 font-bold flex items-center gap-1 underline",children:["Obter nova chave no site da CNPJa ",g.jsx(AA,{className:"w-3 h-3"})]})]})]}),g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave de API"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:a?"text":"password",value:n,onChange:o=>i(o.target.value),placeholder:"Insira sua chave aqui...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-12 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),g.jsx(Xd,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"}),g.jsx("button",{onClick:()=>s(!a),className:"absolute right-4 top-4.5 text-gray-400 hover:text-gray-600 p-1 transition-colors",title:a?"Esconder":"Mostrar",children:a?g.jsx(aU,{className:"w-4 h-4"}):g.jsx(sU,{className:"w-4 h-4"})})]})]}),g.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[g.jsxs("button",{onClick:()=>r(n),disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[g.jsx(uh,{className:"w-5 h-5"}),"Salvar Configurao"]}),g.jsx("p",{className:"text-[10px] text-center text-gray-400",children:"A chave ser salva apenas neste navegador."})]})]})]})}):null},sAe=({progress:e,message:t})=>{const[r,n]=R.useState(0);R.useEffect(()=>{if(r<e){const a=setTimeout(()=>n(s=>Math.min(s+1,e)),20);return()=>clearTimeout(a)}},[e,r]);const i=()=>e<30?g.jsx(CA,{className:"w-8 h-8 text-blue-400 animate-pulse"}):e<60?g.jsx(TA,{className:"w-8 h-8 text-purple-400 animate-bounce"}):e<90?g.jsx(ao,{className:"w-8 h-8 text-orange-400 animate-pulse"}):g.jsx(rU,{className:"w-8 h-8 text-green-400"});return g.jsxs("div",{className:"fixed inset-0 z-[999] bg-slate-900 flex flex-col items-center justify-center p-6 text-white font-sans",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] opacity-10 bg-cover bg-center"}),g.jsxs("div",{className:"relative z-10 w-full max-w-sm text-center",children:[g.jsx("div",{className:"mb-8 flex justify-center",children:g.jsx("div",{className:"p-4 bg-white/5 rounded-3xl backdrop-blur-md border border-white/10 shadow-2xl",children:i()})}),g.jsx("h2",{className:"text-2xl font-bold mb-2 tracking-tight",children:"Preparando seu Ambiente"}),g.jsx("p",{className:"text-slate-400 text-sm mb-10 h-5",children:t}),g.jsxs("div",{className:"relative pt-1",children:[g.jsxs("div",{className:"flex mb-4 items-center justify-between",children:[g.jsx("div",{children:g.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-200 bg-blue-900/30 border border-blue-500/20",children:r===100?"Concludo":"Sincronizando"})}),g.jsx("div",{className:"text-right",children:g.jsxs("span",{className:"text-sm font-bold inline-block text-blue-400",children:[r,"%"]})})]}),g.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded-full bg-slate-800 border border-white/5 shadow-inner",children:g.jsx("div",{style:{width:`${r}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-to-r from-blue-600 to-purple-600 transition-all duration-300 ease-out"})}),g.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 uppercase font-bold tracking-widest px-1",children:[g.jsx("span",{children:"Incio"}),g.jsx("span",{children:"Autenticado"}),g.jsx("span",{children:"Pronto"})]})]})]}),g.jsx("div",{className:"absolute bottom-10 text-slate-600 text-[10px] uppercase tracking-[0.2em] font-medium",children:"Sincronizando com gen-lang-client-0586123917"})]})};function s$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=s$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=s$(e))&&(n&&(n+=" "),n+=t);return n}var oAe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function NN(e){if(typeof e!="string")return!1;var t=oAe;return t.includes(e)}var lAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cAe=new Set(lAe);function o$(e){return typeof e!="string"?!1:cAe.has(e)}function l$(e){return typeof e=="string"&&e.startsWith("data-")}function Ua(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o$(r)||l$(r))&&(t[r]=e[r]);return t}function Af(e){if(e==null)return null;if(R.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ua(t)}return typeof e=="object"&&!Array.isArray(e)?Ua(e):null}function va(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o$(r)||l$(r)||NN(r))&&(t[r]=e[r]);return t}function uAe(e){return e==null?null:R.isValidElement(e)?va(e.props):typeof e=="object"&&!Array.isArray(e)?va(e):null}var fAe=["children","width","height","viewBox","className","style","title","desc"];function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(null,arguments)}function dAe(e,t){if(e==null)return{};var r,n,i=hAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IN=R.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=dAe(e,fAe),p=a||{width:n,height:i,x:0,y:0},m=dr("recharts-surface",s);return R.createElement("svg",VS({},va(d),{className:m,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),R.createElement("title",null,c),R.createElement("desc",null,u),r)}),pAe=["children","className"];function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(null,arguments)}function mAe(e,t){if(e==null)return{};var r,n,i=gAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var In=R.forwardRef((e,t)=>{var{children:r,className:n}=e,i=mAe(e,pAe),a=dr("recharts-layer",n);return R.createElement("g",zS({className:a},va(i),{ref:t}),r)}),c$=R.createContext(null),vAe=()=>R.useContext(c$);function Vr(e){return function(){return e}}const u$=Math.cos,Bx=Math.sin,yo=Math.sqrt,Vx=Math.PI,m_=2*Vx,$S=Math.PI,HS=2*$S,Wu=1e-6,yAe=HS-Wu;function f$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function xAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return f$;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class _Ae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?f$:xAe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,p=o-r,m=d*d+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Wu)if(!(Math.abs(p*c-u*d)>Wu)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-s,x=i-o,b=c*c+u*u,E=y*y+x*x,S=Math.sqrt(b),L=Math.sqrt(m),k=a*Math.tan(($S-Math.acos((b+m-E)/(2*S*L)))/2),M=k/L,D=k/S;Math.abs(M-1)>Wu&&this._append`L${t+M*d},${r+M*p}`,this._append`A${a},${a},0,0,${+(p*y>d*x)},${this._x1=t+D*c},${this._y1=r+D*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,p=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Wu||Math.abs(this._y1-d)>Wu)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%HS+HS),m>yAe?this._append`A${n},${n},0,1,${p},${t-o},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=d}`:m>Wu&&this._append`A${n},${n},0,${+(m>=$S)},${p},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function kN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _Ae(t)}function PN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function d$(e){this._context=e}d$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function g_(e){return new d$(e)}function h$(e){return e[0]}function p$(e){return e[1]}function m$(e,t){var r=Vr(!0),n=null,i=g_,a=null,s=kN(o);e=typeof e=="function"?e:e===void 0?h$:Vr(e),t=typeof t=="function"?t:t===void 0?p$:Vr(t);function o(c){var u,d=(c=PN(c)).length,p,m=!1,y;for(n==null&&(a=i(y=s())),u=0;u<=d;++u)!(u<d&&r(p=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(p,u,c),+t(p,u,c));if(y)return a=null,y+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Vr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Vr(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Vr(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function oy(e,t,r){var n=null,i=Vr(!0),a=null,s=g_,o=null,c=kN(u);e=typeof e=="function"?e:e===void 0?h$:Vr(+e),t=typeof t=="function"?t:Vr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?p$:Vr(+r);function u(p){var m,y,x,b=(p=PN(p)).length,E,S=!1,L,k=new Array(b),M=new Array(b);for(a==null&&(o=s(L=c())),m=0;m<=b;++m){if(!(m<b&&i(E=p[m],m,p))===S)if(S=!S)y=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=y;--x)o.point(k[x],M[x]);o.lineEnd(),o.areaEnd()}S&&(k[m]=+e(E,m,p),M[m]=+t(E,m,p),o.point(n?+n(E,m,p):k[m],r?+r(E,m,p):M[m]))}if(L)return o=null,L+""||null}function d(){return m$().defined(i).curve(s).context(a)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Vr(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Vr(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Vr(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Vr(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Vr(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Vr(+p),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Vr(!!p),u):i},u.curve=function(p){return arguments.length?(s=p,a!=null&&(o=s(a)),u):s},u.context=function(p){return arguments.length?(p==null?a=o=null:o=s(a=p),u):a},u}class g${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bAe(e){return new g$(e,!0)}function wAe(e){return new g$(e,!1)}const RN={draw(e,t){const r=yo(t/Vx);e.moveTo(r,0),e.arc(0,0,r,0,m_)}},EAe={draw(e,t){const r=yo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},v$=yo(1/3),TAe=v$*2,AAe={draw(e,t){const r=yo(t/TAe),n=r*v$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},SAe={draw(e,t){const r=yo(t),n=-r/2;e.rect(n,n,r,r)}},CAe=.8908130915292852,y$=Bx(Vx/10)/Bx(7*Vx/10),NAe=Bx(m_/10)*y$,IAe=-u$(m_/10)*y$,kAe={draw(e,t){const r=yo(t*CAe),n=NAe*r,i=IAe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=m_*a/5,o=u$(s),c=Bx(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},BE=yo(3),PAe={draw(e,t){const r=-yo(t/(BE*3));e.moveTo(0,r*2),e.lineTo(-BE*r,-r),e.lineTo(BE*r,-r),e.closePath()}},Ts=-.5,As=yo(3)/2,GS=1/yo(12),RAe=(GS/2+1)*3,OAe={draw(e,t){const r=yo(t/RAe),n=r/2,i=r*GS,a=n,s=r*GS+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(Ts*n-As*i,As*n+Ts*i),e.lineTo(Ts*a-As*s,As*a+Ts*s),e.lineTo(Ts*o-As*c,As*o+Ts*c),e.lineTo(Ts*n+As*i,Ts*i-As*n),e.lineTo(Ts*a+As*s,Ts*s-As*a),e.lineTo(Ts*o+As*c,Ts*c-As*o),e.closePath()}};function MAe(e,t){let r=null,n=kN(i);e=typeof e=="function"?e:Vr(e||RN),t=typeof t=="function"?t:Vr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Vr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Vr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function zx(){}function $x(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function x$(e){this._context=e}x$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$x(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$x(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DAe(e){return new x$(e)}function _$(e){this._context=e}_$.prototype={areaStart:zx,areaEnd:zx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$x(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LAe(e){return new _$(e)}function b$(e){this._context=e}b$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$x(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FAe(e){return new b$(e)}function w$(e){this._context=e}w$.prototype={areaStart:zx,areaEnd:zx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jAe(e){return new w$(e)}function K6(e){return e<0?-1:1}function W6(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(K6(a)+K6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Y6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function VE(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Hx(e){this._context=e}Hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VE(this,this._t0,Y6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,VE(this,Y6(this,r=W6(this,e,t)),r);break;default:VE(this,this._t0,r=W6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function E$(e){this._context=new T$(e)}(E$.prototype=Object.create(Hx.prototype)).point=function(e,t){Hx.prototype.point.call(this,t,e)};function T$(e){this._context=e}T$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function UAe(e){return new Hx(e)}function BAe(e){return new E$(e)}function A$(e){this._context=e}A$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=J6(e),i=J6(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function J6(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function VAe(e){return new A$(e)}function v_(e,t){this._context=e,this._t=t}v_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zAe(e){return new v_(e,.5)}function $Ae(e){return new v_(e,0)}function HAe(e){return new v_(e,1)}function Sf(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function qS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function GAe(e,t){return e[t]}function qAe(e){const t=[];return t.key=e,t}function KAe(){var e=Vr([]),t=qS,r=Sf,n=GAe;function i(a){var s=Array.from(e.apply(this,arguments),qAe),o,c=s.length,u=-1,d;for(const p of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(p,s[o].key,u,a)]).data=p;for(o=0,d=PN(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Vr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Vr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?qS:typeof a=="function"?a:Vr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Sf,i):r},i}function WAe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Sf(e,t)}}function YAe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Sf(e,t)}}function JAe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],p=d[n][1]||0,m=d[n-1][1]||0,y=(p-m)/2,x=0;x<o;++x){var b=e[t[x]],E=b[n][1]||0,S=b[n-1][1]||0;y+=E-S}c+=p,u+=y*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Sf(e,t)}}var zE={},$E={},X6;function XAe(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})($E)),$E}var HE={},Z6;function S$(){return Z6||(Z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(HE)),HE}var GE={},Q6;function ON(){return Q6||(Q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(GE)),GE}var qE={},KE={},eL;function ZAe(){return eL||(eL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(KE)),KE}var tL;function MN(){return tL||(tL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZAe(),r=ON();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const p=i[o];u?p==="\\"&&o+1<s?(o++,c+=i[o]):p===u?u="":c+=p:d?p==='"'||p==="'"?u=p:p==="]"?(d=!1,a.push(c),c=""):c+=p:p==="["?(d=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,o++}return c&&a.push(c),a}e.toPath=n})(qE)),qE}var rL;function DN(){return rL||(rL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XAe(),r=S$(),n=ON(),i=MN();function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let p=0;p<c.length;p++){if(d==null||t.isUnsafeProperty(c[p]))return u;d=d[c[p]]}return d===void 0?u:d}e.get=a})(zE)),zE}var WE,nL;function QAe(){return nL||(nL=1,WE=DN().get),WE}var eSe=QAe();const Cf=js(eSe);var tSe=4;function zc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tSe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function pn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+zc(o)+a:i+a},"")}var di=e=>e===0?0:e>0?1:-1,mo=e=>typeof e=="number"&&e!=+e,Nf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!mo(e),Jo=e=>nt(e)||typeof e=="string",rSe=0,bm=e=>{var t=++rSe;return"".concat(e||"").concat(t)},Ki=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return n;var a;if(Nf(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return mo(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},C$=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Yr(e,t,r){return nt(e)&&nt(t)?zc(e+r*(t-e)):t}function N$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Cf(n,t))===r)}var _n=e=>e===null||typeof e>"u",Xm=e=>_n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function La(e){return e!=null}function qf(){}var nSe=["type","size","sizeType"];function KS(){return KS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KS.apply(null,arguments)}function iL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iL(Object(r),!0).forEach(function(n){iSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iSe(e,t,r){return(t=aSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aSe(e){var t=sSe(e,"string");return typeof t=="symbol"?t:t+""}function sSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oSe(e,t){if(e==null)return{};var r,n,i=lSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var I$={symbolCircle:RN,symbolCross:EAe,symbolDiamond:AAe,symbolSquare:SAe,symbolStar:kAe,symbolTriangle:PAe,symbolWye:OAe},cSe=Math.PI/180,uSe=e=>{var t="symbol".concat(Xm(e));return I$[t]||RN},fSe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*cSe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dSe=(e,t)=>{I$["symbol".concat(Xm(e))]=t},LN=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=oSe(e,nSe),a=aL(aL({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var m=uSe(s),y=MAe().type(m).size(fSe(r,n,s)),x=y();if(x!==null)return x},{className:c,cx:u,cy:d}=a,p=va(a);return nt(u)&&nt(d)&&nt(r)?R.createElement("path",KS({},p,{className:dr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};LN.registerSymbol=dSe;var k$=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,FN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(R.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{NN(i)&&(n[i]=(a=>r[i](r,a)))}),n},hSe=(e,t,r)=>n=>(e(t,r,n),null),Zm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];NN(i)&&typeof a=="function"&&(n||(n={}),n[i]=hSe(a,t,r))}),n};function sL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(r),!0).forEach(function(n){mSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mSe(e,t,r){return(t=gSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gSe(e){var t=vSe(e,"string");return typeof t=="symbol"?t:t+""}function vSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(e,t){var r=pSe({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(null,arguments)}function oL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ySe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(r),!0).forEach(function(n){xSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xSe(e,t,r){return(t=_Se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Se(e){var t=bSe(e,"string");return typeof t=="symbol"?t:t+""}function bSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ns=32,wSe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function ESe(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Ns/2,a=Ns/6,s=Ns/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return R.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ns,y2:i,className:"recharts-legend-icon"})}if(c==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ns,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return R.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ns/8,"h").concat(Ns,"v").concat(Ns*3/4,"h").concat(-Ns,"z"),className:"recharts-legend-icon"});if(R.isValidElement(t.legendIcon)){var d=ySe({},t);return delete d.legendIcon,R.cloneElement(t.legendIcon,d)}return R.createElement(LN,{fill:o,cx:i,cy:i,size:Ns,sizeType:"diameter",type:c})}function TSe(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ns,height:Ns},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,p)=>{var m=d.formatter||i,y=dr({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?a:d.color,b=m?m(d.value,d,p):d.value;return R.createElement("li",Gx({className:y,style:c,key:"legend-item-".concat(p)},Zm(e,d,p)),R.createElement(IN,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},R.createElement(ESe,{data:d,iconType:s,inactiveColor:a})),R.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}var ASe=e=>{var t=Kn(e,wSe),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:a},R.createElement(TSe,Gx({},t,{payload:r})))},YE={},JE={},lL;function SSe(){return lL||(lL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(JE)),JE}var XE={},cL;function CSe(){return cL||(cL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(XE)),XE}var ZE={},uL;function P$(){return uL||(uL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ZE)),ZE}var QE={},eT={},tT={},fL;function NSe(){return fL||(fL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(tT)),tT}var dL;function jN(){return dL||(dL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NSe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(eT)),eT}var rT={},hL;function ISe(){return hL||(hL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(rT)),rT}var pL;function kSe(){return pL||(pL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jN(),r=ISe();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(QE)),QE}var nT={},iT={},mL;function PSe(){return mL||(mL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DN();function r(n){return function(i){return t.get(i,n)}}e.property=r})(iT)),iT}var aT={},sT={},oT={},lT={},gL;function R$(){return gL||(gL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(lT)),lT}var cT={},vL;function O$(){return vL||(vL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(cT)),cT}var uT={},yL;function M$(){return yL||(yL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(uT)),uT}var xL;function RSe(){return xL||(xL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$(),r=O$(),n=M$();function i(d,p,m){return typeof m!="function"?i(d,p,()=>{}):a(d,p,function y(x,b,E,S,L,k){const M=m(x,b,E,S,L,k);return M!==void 0?!!M:a(x,b,y,k)},new Map)}function a(d,p,m,y){if(p===d)return!0;switch(typeof p){case"object":return s(d,p,m,y);case"function":return Object.keys(p).length>0?a(d,{...p},m,y):n.isEqualsSameValueZero(d,p);default:return t.isObject(d)?typeof p=="string"?p==="":!0:n.isEqualsSameValueZero(d,p)}}function s(d,p,m,y){if(p==null)return!0;if(Array.isArray(p))return c(d,p,m,y);if(p instanceof Map)return o(d,p,m,y);if(p instanceof Set)return u(d,p,m,y);const x=Object.keys(p);if(d==null||r.isPrimitive(d))return x.length===0;if(x.length===0)return!0;if(y?.has(p))return y.get(p)===d;y?.set(p,d);try{for(let b=0;b<x.length;b++){const E=x[b];if(!r.isPrimitive(d)&&!(E in d)||p[E]===void 0&&d[E]!==void 0||p[E]===null&&d[E]!==null||!m(d[E],p[E],E,d,p,y))return!1}return!0}finally{y?.delete(p)}}function o(d,p,m,y){if(p.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,b]of p.entries()){const E=d.get(x);if(m(E,b,x,d,p,y)===!1)return!1}return!0}function c(d,p,m,y){if(p.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let b=0;b<p.length;b++){const E=p[b];let S=!1;for(let L=0;L<d.length;L++){if(x.has(L))continue;const k=d[L];let M=!1;if(m(k,E,b,d,p,y)&&(M=!0),M){x.add(L),S=!0;break}}if(!S)return!1}return!0}function u(d,p,m,y){return p.size===0?!0:d instanceof Set?c([...d],[...p],m,y):!1}e.isMatchWith=i,e.isSetMatch=u})(oT)),oT}var _L;function D$(){return _L||(_L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RSe();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(sT)),sT}var fT={},dT={},hT={},bL;function OSe(){return bL||(bL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(hT)),hT}var pT={},wL;function UN(){return wL||(wL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(pT)),pT}var mT={},EL;function L$(){return EL||(EL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",p="[object Function]",m="[object ArrayBuffer]",y="[object Object]",x="[object Error]",b="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",L="[object Uint16Array]",k="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",N="[object Int32Array]",I="[object BigInt64Array]",O="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=b,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=O,e.float64ArrayTag=U,e.functionTag=p,e.int16ArrayTag=P,e.int32ArrayTag=N,e.int8ArrayTag=D,e.mapTag=c,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=L,e.uint32ArrayTag=k,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=S})(mT)),mT}var gT={},TL;function MSe(){return TL||(TL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(gT)),gT}var AL;function F$(){return AL||(AL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OSe(),r=UN(),n=L$(),i=O$(),a=MSe();function s(d,p){return o(d,void 0,d,new Map,p)}function o(d,p,m,y=new Map,x=void 0){const b=x?.(d,p,m,y);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const E=new Array(d.length);y.set(d,E);for(let S=0;S<d.length;S++)E[S]=o(d[S],S,m,y,x);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;y.set(d,E);for(const[S,L]of d)E.set(S,o(L,S,m,y,x));return E}if(d instanceof Set){const E=new Set;y.set(d,E);for(const S of d)E.add(o(S,void 0,m,y,x));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,E);for(let S=0;S<d.length;S++)E[S]=o(d[S],S,m,y,x);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,E),c(E,d,m,y,x),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return y.set(d,E),c(E,d,m,y,x),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return y.set(d,E),c(E,d,m,y,x),E}if(d instanceof Error){const E=new d.constructor;return y.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,c(E,d,m,y,x),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return y.set(d,E),c(E,d,m,y,x),E}if(d instanceof Number){const E=new Number(d.valueOf());return y.set(d,E),c(E,d,m,y,x),E}if(d instanceof String){const E=new String(d.valueOf());return y.set(d,E),c(E,d,m,y,x),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return y.set(d,E),c(E,d,m,y,x),E}return d}function c(d,p,m=d,y,x){const b=[...Object.keys(p),...t.getSymbols(p)];for(let E=0;E<b.length;E++){const S=b[E],L=Object.getOwnPropertyDescriptor(d,S);(L==null||L.writable)&&(d[S]=o(p[S],S,m,y,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(dT)),dT}var SL;function DSe(){return SL||(SL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F$();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(fT)),fT}var CL;function LSe(){return CL||(CL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D$(),r=DSe();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(aT)),aT}var vT={},yT={},xT={},NL;function FSe(){return NL||(NL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F$(),r=UN(),n=L$();function i(a,s){return t.cloneDeepWith(a,(o,c,u,d)=>{const p=s?.(o,c,u,d);if(p!==void 0)return p;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const m={};return d.set(a,m),t.copyProperties(m,a,u,d),m}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case n.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(xT)),xT}var IL;function jSe(){return IL||(IL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FSe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(yT)),yT}var _T={},bT={},kL;function j$(){return kL||(kL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(bT)),bT}var wT={},PL;function USe(){return PL||(PL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(wT)),wT}var RL;function BSe(){return RL||(RL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S$(),r=j$(),n=USe(),i=MN();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const p=c[d];if((u==null||!Object.hasOwn(u,p))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(p)&&p<u.length))return!1;u=u[p]}return!0}e.has=a})(_T)),_T}var OL;function VSe(){return OL||(OL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D$(),r=ON(),n=jSe(),i=DN(),a=BSe();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(vT)),vT}var ML;function zSe(){return ML||(ML=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P$(),r=PSe(),n=LSe(),i=VSe();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(nT)),nT}var DL;function $Se(){return DL||(DL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SSe(),r=CSe(),n=P$(),i=kSe(),a=zSe();function s(o,c=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.ary(a.iteratee(c),1)):[]}e.uniqBy=s})(YE)),YE}var ET,LL;function HSe(){return LL||(LL=1,ET=$Se().uniqBy),ET}var GSe=HSe();const FL=js(GSe);function U$(e,t,r){return t===!0?FL(e,r):typeof t=="function"?FL(e,t):e}var TT={exports:{}},AT={},ST={exports:{}},CT={};var jL;function qSe(){if(jL)return CT;jL=1;var e=Ph();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function o(p,m){var y=m(),x=n({inst:{value:y,getSnapshot:m}}),b=x[0].inst,E=x[1];return a(function(){b.value=y,b.getSnapshot=m,c(b)&&E({inst:b})},[p,y,m]),i(function(){return c(b)&&E({inst:b}),p(function(){c(b)&&E({inst:b})})},[p]),s(y),y}function c(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!r(p,y)}catch{return!0}}function u(p,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return CT.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,CT}var UL;function KSe(){return UL||(UL=1,ST.exports=qSe()),ST.exports}var BL;function WSe(){if(BL)return AT;BL=1;var e=Ph(),t=KSe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return AT.useSyncExternalStoreWithSelector=function(u,d,p,m,y){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function S(P){if(!L){if(L=!0,k=P,P=m(P),y!==void 0&&b.hasValue){var N=b.value;if(y(N,P))return M=N}return M=P}if(N=M,n(k,P))return N;var I=m(P);return y!==void 0&&y(N,I)?(k=P,N):(k=P,M=I)}var L=!1,k,M,D=p===void 0?null:p;return[function(){return S(d())},D===null?void 0:function(){return S(D())}]},[d,p,m,y]);var E=i(u,x[0],x[1]);return s(function(){b.hasValue=!0,b.value=E},[E]),c(E),E},AT}var VL;function YSe(){return VL||(VL=1,TT.exports=WSe()),TT.exports}var JSe=YSe(),BN=R.createContext(null),XSe=e=>e,Hr=()=>{var e=R.useContext(BN);return e?e.store.dispatch:XSe},qy=()=>{},ZSe=()=>qy,QSe=(e,t)=>e===t;function ut(e){var t=R.useContext(BN),r=R.useMemo(()=>t?n=>{if(n!=null)return e(n)}:qy,[t,e]);return JSe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ZSe,t?t.store.getState:qy,t?t.store.getState:qy,r,QSe)}function e2e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t2e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function r2e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var zL=e=>Array.isArray(e)?e:[e];function n2e(e){const t=Array.isArray(e[0])?e[0]:e;return r2e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function i2e(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var a2e=class{constructor(e){this.value=e}deref(){return this.value}},s2e=typeof WeakRef<"u"?WeakRef:a2e,o2e=0,$L=1;function ly(){return{s:o2e,v:void 0,o:null,p:null}}function B$(e,t={}){let r=ly();const{resultEqualityCheck:n}=t;let i,a=0;function s(){let o=r;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const b=x.get(y);b===void 0?(o=ly(),x.set(y,o)):o=b}else{let x=o.p;x===null&&(o.p=x=new Map);const b=x.get(y);b===void 0?(o=ly(),x.set(y,o)):o=b}}const u=o;let d;if(o.s===$L)d=o.v;else if(d=e.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,d)&&(d=p,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new s2e(d):d}return u.s=$L,u.v=d,d}return s.clearCache=()=>{r=ly(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function l2e(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),e2e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:p,memoizeOptions:m=[],argsMemoize:y=B$,argsMemoizeOptions:x=[]}=d,b=zL(m),E=zL(x),S=n2e(i),L=p(function(){return a++,u.apply(null,arguments)},...b),k=y(function(){s++;const D=i2e(S,arguments);return o=L.apply(null,D),o},...E);return Object.assign(k,{resultFunc:u,memoizedResultFunc:L,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var we=l2e(B$),c2e=Object.assign((e,t=we)=>{t2e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>c2e}),NT={},IT={},kT={},HL;function u2e(){return HL||(HL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(kT)),kT}var PT={},RT={},GL;function V$(){return GL||(GL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(RT)),RT}var qL;function f2e(){return qL||(qL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V$(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(PT)),PT}var KL;function d2e(){return KL||(KL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u2e(),r=f2e(),n=MN();function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const u=(y,x)=>{let b=y;for(let E=0;E<x.length&&b!=null;++E)b=b[x[E]];return b},d=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:u(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?u(x,y):typeof x=="object"?x[y]:x,p=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return a.map(y=>({original:y,criteria:p.map(x=>d(x,y))})).slice().sort((y,x)=>{for(let b=0;b<p.length;b++){const E=t.compareValues(y.criteria[b],x.criteria[b],o[b]);if(E!==0)return E}return 0}).map(y=>y.original)}e.orderBy=i})(IT)),IT}var OT={},WL;function h2e(){return WL||(WL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(OT)),OT}var MT={},YL;function z$(){return YL||(YL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j$(),r=jN(),n=R$(),i=M$();function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.isEqualsSameValueZero(c[o],s):!1}e.isIterateeCall=a})(MT)),MT}var JL;function p2e(){return JL||(JL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d2e(),r=h2e(),n=z$();function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(NT)),NT}var DT,XL;function m2e(){return XL||(XL=1,DT=p2e().sortBy),DT}var g2e=m2e();const y_=js(g2e);var $$=e=>e.legend.settings,v2e=e=>e.legend.size,y2e=e=>e.legend.payload,x2e=we([y2e,$$],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?y_(n,r):n});function _2e(){return ut(x2e)}var cy=1;function H$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=R.useState({height:0,left:0,top:0,width:0}),n=R.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>cy||Math.abs(s.left-t.left)>cy||Math.abs(s.top-t.top)>cy||Math.abs(s.width-t.width)>cy)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Si(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var b2e=typeof Symbol=="function"&&Symbol.observable||"@@observable",ZL=b2e,LT=()=>Math.random().toString(36).substring(7).split("").join("."),w2e={INIT:`@@redux/INIT${LT()}`,REPLACE:`@@redux/REPLACE${LT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${LT()}`},qx=w2e;function VN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function G$(e,t,r){if(typeof e!="function")throw new Error(Si(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Si(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Si(1));return r(G$)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((E,S)=>{s.set(S,E)}))}function d(){if(c)throw new Error(Si(3));return i}function p(E){if(typeof E!="function")throw new Error(Si(4));if(c)throw new Error(Si(5));let S=!0;u();const L=o++;return s.set(L,E),function(){if(S){if(c)throw new Error(Si(6));S=!1,u(),s.delete(L),a=null}}}function m(E){if(!VN(E))throw new Error(Si(7));if(typeof E.type>"u")throw new Error(Si(8));if(typeof E.type!="string")throw new Error(Si(17));if(c)throw new Error(Si(9));try{c=!0,i=n(i,E)}finally{c=!1}return(a=s).forEach(L=>{L()}),E}function y(E){if(typeof E!="function")throw new Error(Si(10));n=E,m({type:qx.REPLACE})}function x(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Si(11));function L(){const M=S;M.next&&M.next(d())}return L(),{unsubscribe:E(L)}},[ZL](){return this}}}return m({type:qx.INIT}),{dispatch:m,subscribe:p,getState:d,replaceReducer:y,[ZL]:x}}function E2e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:qx.INIT})>"u")throw new Error(Si(12));if(typeof r(void 0,{type:qx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Si(13))})}function q$(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{E2e(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const p=n[d],m=r[p],y=s[p],x=m(y,o);if(typeof x>"u")throw o&&o.type,new Error(Si(14));u[p]=x,c=c||x!==y}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Kx(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function T2e(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Si(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=Kx(...o)(i.dispatch),{...i,dispatch:a}}}function K$(e){return VN(e)&&"type"in e&&typeof e.type=="string"}var W$=Symbol.for("immer-nothing"),QL=Symbol.for("immer-draftable"),ya=Symbol.for("immer-state");function Qs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ls=Object,Th=ls.getPrototypeOf,Wx="constructor",x_="prototype",WS="configurable",Yx="enumerable",Ky="writable",wm="value",zl=e=>!!e&&!!e[ya];function go(e){return e?Y$(e)||b_(e)||!!e[QL]||!!e[Wx]?.[QL]||w_(e)||E_(e):!1}var A2e=ls[x_][Wx].toString(),e5=new WeakMap;function Y$(e){if(!e||!zN(e))return!1;const t=Th(e);if(t===null||t===ls[x_])return!0;const r=ls.hasOwnProperty.call(t,Wx)&&t[Wx];if(r===Object)return!0;if(!Vd(r))return!1;let n=e5.get(r);return n===void 0&&(n=Function.toString.call(r),e5.set(r,n)),n===A2e}function __(e,t,r=!0){Qm(e)===0?(r?Reflect.ownKeys(e):ls.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Qm(e){const t=e[ya];return t?t.type_:b_(e)?1:w_(e)?2:E_(e)?3:0}var t5=(e,t,r=Qm(e))=>r===2?e.has(t):ls[x_].hasOwnProperty.call(e,t),YS=(e,t,r=Qm(e))=>r===2?e.get(t):e[t],Jx=(e,t,r,n=Qm(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function S2e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var b_=Array.isArray,w_=e=>e instanceof Map,E_=e=>e instanceof Set,zN=e=>typeof e=="object",Vd=e=>typeof e=="function",FT=e=>typeof e=="boolean";function C2e(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Tl=e=>e.copy_||e.base_,$N=e=>e.modified_?e.copy_:e.base_;function JS(e,t){if(w_(e))return new Map(e);if(E_(e))return new Set(e);if(b_(e))return Array[x_].slice.call(e);const r=Y$(e);if(t===!0||t==="class_only"&&!r){const n=ls.getOwnPropertyDescriptors(e);delete n[ya];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[Ky]===!1&&(o[Ky]=!0,o[WS]=!0),(o.get||o.set)&&(n[s]={[WS]:!0,[Ky]:!0,[Yx]:o[Yx],[wm]:e[s]})}return ls.create(Th(e),n)}else{const n=Th(e);if(n!==null&&r)return{...e};const i=ls.create(n);return ls.assign(i,e)}}function HN(e,t=!1){return T_(e)||zl(e)||!go(e)||(Qm(e)>1&&ls.defineProperties(e,{set:uy,add:uy,clear:uy,delete:uy}),ls.freeze(e),t&&__(e,(r,n)=>{HN(n,!0)},!1)),e}function N2e(){Qs(2)}var uy={[wm]:N2e};function T_(e){return e===null||!zN(e)?!0:ls.isFrozen(e)}var Xx="MapSet",XS="Patches",r5="ArrayMethods",J$={};function If(e){const t=J$[e];return t||Qs(0,e),t}var n5=e=>!!J$[e],Em,X$=()=>Em,I2e=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:n5(Xx)?If(Xx):void 0,arrayMethodsPlugin_:n5(r5)?If(r5):void 0});function i5(e,t){t&&(e.patchPlugin_=If(XS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ZS(e){QS(e),e.drafts_.forEach(k2e),e.drafts_=null}function QS(e){e===Em&&(Em=e.parent_)}var a5=e=>Em=I2e(Em,e);function k2e(e){const t=e[ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function s5(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ya].modified_&&(ZS(t),Qs(4)),go(e)&&(e=o5(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[ya].base_,e,t)}else e=o5(t,r);return P2e(t,e,!0),ZS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==W$?e:void 0}function o5(e,t){if(T_(t))return t;const r=t[ya];if(!r)return Zx(t,e.handledSet_,e);if(!A_(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);eH(r,e)}return r.copy_}function P2e(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&HN(t,r)}function Z$(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var A_=(e,t)=>e.scope_===t,R2e=[];function Q$(e,t,r,n){const i=Tl(e),a=e.type_;if(n!==void 0&&YS(i,n,a)===t){Jx(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;__(i,(c,u)=>{if(zl(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const s=e.draftLocations_.get(t)??R2e;for(const o of s)Jx(i,o,r,a)}function O2e(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!A_(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=$N(a);Q$(e,a.draft_??a,s,r),eH(a,i)})}function eH(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}Z$(e)}}function M2e(e,t,r){const{scope_:n}=e;if(zl(r)){const i=r[ya];A_(i,n)&&i.callbacks_.push(function(){Wy(e);const s=$N(i);Q$(e,r,s,t)})}else go(r)&&e.callbacks_.push(function(){const a=Tl(e);e.type_===3?a.has(r)&&Zx(r,n.handledSet_,n):YS(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Zx(YS(e.copy_,t,e.type_),n.handledSet_,n)})}function Zx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||zl(e)||t.has(e)||!go(e)||T_(e)||(t.add(e),__(e,(n,i)=>{if(zl(i)){const a=i[ya];if(A_(a,r)){const s=$N(a);Jx(e,n,s,e.type_),Z$(a)}}else go(i)&&Zx(i,t,r)})),e}function D2e(e,t){const r=b_(e),n={type_:r?1:0,scope_:t?t.scope_:X$(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Qx;r&&(i=[n],a=Tm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var Qx={get(e,t){if(t===ya)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Tl(e);if(!t5(i,t,e.type_))return L2e(e,i,t);const a=i[t];if(e.finalized_||!go(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&C2e(t))return a;if(a===jT(e.base_,t)){Wy(e);const s=e.type_===1?+t:t,o=t2(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Tl(e)},ownKeys(e){return Reflect.ownKeys(Tl(e))},set(e,t,r){const n=tH(Tl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=jT(Tl(e),t),a=i?.[ya];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(S2e(r,i)&&(r!==void 0||t5(e.base_,t,e.type_)))return!0;Wy(e),e2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),M2e(e,t,r)),!0},deleteProperty(e,t){return Wy(e),jT(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),e2(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Tl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ky]:!0,[WS]:e.type_!==1||t!=="length",[Yx]:n[Yx],[wm]:r[t]}},defineProperty(){Qs(11)},getPrototypeOf(e){return Th(e.base_)},setPrototypeOf(){Qs(12)}},Tm={};for(let e in Qx){let t=Qx[e];Tm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Tm.deleteProperty=function(e,t){return Tm.set.call(this,e,t,void 0)};Tm.set=function(e,t,r){return Qx.set.call(this,e[0],t,r,e[0])};function jT(e,t){const r=e[ya];return(r?Tl(r):e)[t]}function L2e(e,t,r){const n=tH(t,r);return n?wm in n?n[wm]:n.get?.call(e.draft_):void 0}function tH(e,t){if(!(t in e))return;let r=Th(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Th(r)}}function e2(e){e.modified_||(e.modified_=!0,e.parent_&&e2(e.parent_))}function Wy(e){e.copy_||(e.assigned_=new Map,e.copy_=JS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var F2e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Vd(r)&&!Vd(n)){const s=n;n=r;const o=this;return function(u=s,...d){return o.produce(u,p=>n.call(this,p,...d))}}Vd(n)||Qs(6),i!==void 0&&!Vd(i)&&Qs(7);let a;if(go(r)){const s=a5(this),o=t2(s,r,void 0);let c=!0;try{a=n(o),c=!1}finally{c?ZS(s):QS(s)}return i5(s,i),s5(a,s)}else if(!r||!zN(r)){if(a=n(r),a===void 0&&(a=r),a===W$&&(a=void 0),this.autoFreeze_&&HN(a,!0),i){const s=[],o=[];If(XS).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Qs(1,r)},this.produceWithPatches=(r,n)=>{if(Vd(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let i,a;return[this.produce(r,n,(o,c)=>{i=o,a=c}),i,a]},FT(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),FT(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),FT(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){go(t)||Qs(8),zl(t)&&(t=ho(t));const r=a5(this),n=t2(r,t,void 0);return n[ya].isManual_=!0,QS(r),n}finishDraft(t,r){const n=t&&t[ya];(!n||!n.isManual_)&&Qs(9);const{scope_:i}=n;return i5(i,r),s5(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=If(XS).applyPatches_;return zl(t)?i(t,r):this.produce(t,a=>i(a,r))}};function t2(e,t,r,n){const[i,a]=w_(t)?If(Xx).proxyMap_(t,r):E_(t)?If(Xx).proxySet_(t,r):D2e(t,r);return(r?.scope_??X$()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?O2e(r,a,n):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function ho(e){return zl(e)||Qs(10,e),rH(e)}function rH(e){if(!go(e)||T_(e))return e;const t=e[ya];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=JS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=JS(e,!0);return __(r,(i,a)=>{Jx(r,i,rH(a))},n),t&&(t.finalized_=!1),r}var j2e=new F2e,nH=j2e.produce;function iH(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var U2e=iH(),B2e=iH,V2e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kx:Kx.apply(null,arguments)};function Ls(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(cs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>K$(n)&&n.type===e,r}var aH=class bp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bp.prototype)}static get[Symbol.species](){return bp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bp(...t[0].concat(this)):new bp(...t.concat(this))}};function l5(e){return go(e)?nH(e,()=>{}):e}function fy(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function z2e(e){return typeof e=="boolean"}var $2e=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new aH;return r&&(z2e(r)?s.push(U2e):s.push(B2e(r.extraArgument))),s},sH="RTK_autoBatch",en=()=>e=>({payload:e,meta:{[sH]:!0}}),c5=e=>t=>{setTimeout(t,e)},oH=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:c5(10):e.type==="callback"?e.queueNotification:c5(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const p=()=>i&&d(),m=n.subscribe(p);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[sH],a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},H2e=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new aH(e);return n&&i.push(oH(typeof n=="object"?n:void 0)),i};function G2e(e){const t=$2e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(VN(r))o=q$(r);else throw new Error(cs(1));let c;typeof n=="function"?c=n(t):c=t();let u=Kx;i&&(u=V2e({trace:!1,...typeof i=="object"&&i}));const d=T2e(...c),p=H2e(d);let m=typeof s=="function"?s(p):p();const y=u(...m);return G$(o,a,y)}function lH(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(cs(28));if(o in t)throw new Error(cs(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function q2e(e){return typeof e=="function"}function K2e(e,t){let[r,n,i]=lH(t),a;if(q2e(e))a=()=>l5(e());else{const o=l5(e);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,p)=>{if(p)if(zl(d)){const y=p(d,c);return y===void 0?d:y}else{if(go(d))return nH(d,m=>p(m,c));{const m=p(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return s.getInitialState=a,s}var W2e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Y2e=(e=21)=>{let t="",r=e;for(;r--;)t+=W2e[Math.random()*64|0];return t},J2e=Symbol.for("rtk-slice-createasyncthunk");function X2e(e,t){return`${e}/${t}`}function Z2e({creators:e}={}){const t=e?.asyncThunk?.[J2e];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(cs(11));const s=(typeof n.reducers=="function"?n.reducers(eCe()):n.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,M){const D=typeof k=="string"?k:k.type;if(!D)throw new Error(cs(12));if(D in c.sliceCaseReducersByType)throw new Error(cs(13));return c.sliceCaseReducersByType[D]=M,u},addMatcher(k,M){return c.sliceMatchers.push({matcher:k,reducer:M}),u},exposeAction(k,M){return c.actionCreators[k]=M,u},exposeCaseReducer(k,M){return c.sliceCaseReducersByName[k]=M,u}};o.forEach(k=>{const M=s[k],D={reducerName:k,type:X2e(i,k),createNotation:typeof n.reducers=="function"};rCe(M)?iCe(D,M,u,t):tCe(D,M,u)});function d(){const[k={},M=[],D=void 0]=typeof n.extraReducers=="function"?lH(n.extraReducers):[n.extraReducers],P={...k,...c.sliceCaseReducersByType};return K2e(n.initialState,N=>{for(let I in P)N.addCase(I,P[I]);for(let I of c.sliceMatchers)N.addMatcher(I.matcher,I.reducer);for(let I of M)N.addMatcher(I.matcher,I.reducer);D&&N.addDefaultCase(D)})}const p=k=>k,m=new Map,y=new WeakMap;let x;function b(k,M){return x||(x=d()),x(k,M)}function E(){return x||(x=d()),x.getInitialState()}function S(k,M=!1){function D(N){let I=N[k];return typeof I>"u"&&M&&(I=fy(y,D,E)),I}function P(N=p){const I=fy(m,M,()=>new WeakMap);return fy(I,N,()=>{const O={};for(const[U,B]of Object.entries(n.selectors??{}))O[U]=Q2e(B,N,()=>fy(y,N,E),M);return O})}return{reducerPath:k,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const L={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...S(a),injectInto(k,{reducerPath:M,...D}={}){const P=M??a;return k.inject({reducerPath:P,reducer:b},D),{...L,...S(P,!0)}}};return L}}function Q2e(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Va=Z2e();function eCe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function tCe({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!nCe(n))throw new Error(cs(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ls(e,s):Ls(e))}function rCe(e){return e._reducerDefinitionType==="asyncThunk"}function nCe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iCe({type:e,reducerName:t},r,n,i){if(!i)throw new Error(cs(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,p=i(e,a,d);n.exposeAction(t,p),s&&n.addCase(p.fulfilled,s),o&&n.addCase(p.pending,o),c&&n.addCase(p.rejected,c),u&&n.addMatcher(p.settled,u),n.exposeCaseReducer(t,{fulfilled:s||dy,pending:o||dy,rejected:c||dy,settled:u||dy})}function dy(){}var aCe="task",cH="listener",uH="completed",GN="cancelled",sCe=`task-${GN}`,oCe=`task-${uH}`,r2=`${cH}-${GN}`,lCe=`${cH}-${uH}`,S_=class{constructor(e){this.code=e,this.message=`${aCe} ${GN} (reason: ${e})`}name="TaskAbortError";message},qN=(e,t)=>{if(typeof e!="function")throw new TypeError(cs(32))},e1=()=>{},fH=(e,t=e1)=>(e.catch(t),e),dH=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),uf=e=>{if(e.aborted)throw new S_(e.reason)};function hH(e,t){let r=e1;return new Promise((n,i)=>{const a=()=>i(new S_(e.reason));if(e.aborted){a();return}r=dH(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=e1})}var cCe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof S_?"cancelled":"rejected",error:r}}finally{t?.()}},t1=e=>t=>fH(hH(e,t).then(r=>(uf(e),r))),pH=e=>{const t=t1(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:oh}=Object,u5={},C_="listenerMiddleware",uCe=(e,t)=>{const r=n=>dH(e,()=>n.abort(e.reason));return(n,i)=>{qN(n);const a=new AbortController;r(a);const s=cCe(async()=>{uf(e),uf(a.signal);const o=await n({pause:t1(a.signal),delay:pH(a.signal),signal:a.signal});return uf(a.signal),o},()=>a.abort(oCe));return i?.autoJoin&&t.push(s.catch(e1)),{result:t1(e)(s),cancel(){a.abort(sCe)}}}},fCe=(e,t)=>{const r=async(n,i)=>{uf(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(p,m)=>{m.unsubscribe(),c([p,m.getState(),m.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await hH(t,Promise.race(o));return uf(t),c}finally{a()}};return(n,i)=>fH(r(n,i))},mH=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Ls(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(cs(21));return qN(a),{predicate:i,type:t,effect:a}},gH=oh(e=>{const{type:t,predicate:r,effect:n}=mH(e);return{id:Y2e(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cs(22))}}},{withTypes:()=>gH}),f5=(e,t)=>{const{type:r,effect:n,predicate:i}=mH(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},n2=e=>{e.pending.forEach(t=>{t.abort(r2)})},dCe=(e,t)=>()=>{for(const r of t.keys())n2(r);e.clear()},d5=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},vH=oh(Ls(`${C_}/add`),{withTypes:()=>vH}),hCe=Ls(`${C_}/removeAll`),yH=oh(Ls(`${C_}/remove`),{withTypes:()=>yH}),pCe=(...e)=>{console.error(`${C_}/error`,...e)},eg=(e={})=>{const t=new Map,r=new Map,n=y=>{const x=r.get(y)??0;r.set(y,x+1)},i=y=>{const x=r.get(y)??1;x===1?r.delete(y):r.set(y,x-1)},{extra:a,onError:s=pCe}=e;qN(s);const o=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),x=>{y.unsubscribe(),x?.cancelActive&&n2(y)}),c=y=>{const x=f5(t,y)??gH(y);return o(x)};oh(c,{withTypes:()=>c});const u=y=>{const x=f5(t,y);return x&&(x.unsubscribe(),y.cancelActive&&n2(x)),!!x};oh(u,{withTypes:()=>u});const d=async(y,x,b,E)=>{const S=new AbortController,L=fCe(c,S.signal),k=[];try{y.pending.add(S),n(y),await Promise.resolve(y.effect(x,oh({},b,{getOriginalState:E,condition:(M,D)=>L(M,D).then(Boolean),take:L,delay:pH(S.signal),pause:t1(S.signal),extra:a,signal:S.signal,fork:uCe(S.signal,k),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((M,D,P)=>{M!==S&&(M.abort(r2),P.delete(M))})},cancel:()=>{S.abort(r2),y.pending.delete(S)},throwIfCancelled:()=>{uf(S.signal)}})))}catch(M){M instanceof S_||d5(s,M,{raisedBy:"effect"})}finally{await Promise.all(k),S.abort(lCe),i(y),y.pending.delete(S)}},p=dCe(t,r);return{middleware:y=>x=>b=>{if(!K$(b))return x(b);if(vH.match(b))return c(b.payload);if(hCe.match(b)){p();return}if(yH.match(b))return u(b.payload);let E=y.getState();const S=()=>{if(E===u5)throw new Error(cs(23));return E};let L;try{if(L=x(b),t.size>0){const k=y.getState(),M=Array.from(t.values());for(const D of M){let P=!1;try{P=D.predicate(b,k,E)}catch(N){P=!1,d5(s,N,{raisedBy:"predicate"})}P&&d(D,b,y,S)}}}finally{E=u5}return L},startListening:c,stopListening:u,clearListeners:p}};function cs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mCe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xH=Va({name:"chartLayout",initialState:mCe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:gCe,setLayout:vCe,setChartSize:yCe,setScale:xCe}=xH.actions,_Ce=xH.reducer;function _H(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $t(e){return Number.isFinite(e)}function Xo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){bCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bCe(e,t,r){return(t=wCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wCe(e){var t=ECe(e,"string");return typeof t=="symbol"?t:t+""}function ECe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t,r){return _n(e)||_n(t)?r:Jo(t)?Cf(e,t,r):typeof t=="function"?t(e):r}var TCe=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&nt(e[a]))return Wd(Wd({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&nt(e[s]))return Wd(Wd({},e),{},{[s]:e[s]+(i||0)})}return e},tl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",bH=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},wH=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:p,niceTicks:m,axisType:y}=e;if(!s)return null;var x=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(b=y==="angleAxis"&&a&&a.length>=2?di(a[0]-a[1])*2*b:b,p||m){var E=(p||m||[]).map((S,L)=>{var k=n?n.indexOf(S):S,M=s.map(k);return $t(M)?{coordinate:M+b,value:S,offset:b,index:L}:null}).filter(La);return E}return c&&u?u.map((S,L)=>{var k=s.map(S);return $t(k)?{coordinate:k+b,value:S,index:L,offset:b}:null}).filter(La):s.ticks&&d!=null?s.ticks(d).map((S,L)=>{var k=s.map(S);return $t(k)?{coordinate:k+b,value:S,index:L,offset:b}:null}).filter(La):s.domain().map((S,L)=>{var k=s.map(S);return $t(k)?{coordinate:k+b,value:n?n[S]:S,index:L,offset:b}:null}).filter(La)},ACe=(e,t)=>{if(!t||t.length!==2||!nt(t[0])||!nt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!nt(e[0])||e[0]<r)&&(i[0]=r),(!nt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},SCe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var c=e[o],u=c?.[i];if(u!=null){var d=u[1],p=u[0],m=mo(d)?p:d;m>=0?(u[0]=a,a+=m,u[1]=a):(u[0]=s,s+=m,u[1]=s)}}}},CCe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],c=o?.[i];if(c!=null){var u=mo(c[1])?c[0]:c[1];u>=0?(c[0]=a,a+=u,c[1]=a):(c[0]=0,c[1]=0)}}}},NCe={sign:SCe,expand:WAe,none:Sf,silhouette:YAe,wiggle:JAe,positive:CCe},ICe=(e,t,r)=>{var n,i=(n=NCe[r])!==null&&n!==void 0?n:Sf,a=KAe().keys(t).value((o,c)=>Number(Lr(o,c,0))).order(qS).offset(i),s=a(e);return s.forEach((o,c)=>{o.forEach((u,d)=>{var p=Lr(e[d],t[c],0);Array.isArray(p)&&p.length===2&&nt(p[0])&&nt(p[1])&&(u[0]=p[0],u[1]=p[1])})}),s};function EH(e){return e==null?void 0:String(e)}function p5(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_n(i[t.dataKey])){var o=N$(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var c=Lr(i,_n(s)?t.dataKey:s),u=t.scale.map(c);return nt(u)?u:null}var m5=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Lr(a,t.dataKey,t.scale.domain()[s]);if(_n(o))return null;var c=t.scale.map(o);return nt(c)?c-i/2+n:null},kCe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},PCe=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},RCe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],OCe=(e,t,r)=>{if(e!=null)return RCe(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((c,u)=>{var d=_H(u,t,r),p=PCe(d);return!$t(p[0])||!$t(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},g5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ah=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=y_(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c?.coordinate||0)-(u?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function y5(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Wd(Wd({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Gh(e,t){if(e)return String(e);if(typeof t=="string")return t}var MCe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},DCe=(e,t)=>t==="centric"?e.angle:e.radius,Zl=e=>e.layout.width,Ql=e=>e.layout.height,LCe=e=>e.layout.scale,TH=e=>e.layout.margin,N_=we(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),I_=we(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AH="data-recharts-item-index",SH="data-recharts-item-id",tg=60;function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){FCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FCe(e,t,r){return(t=jCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jCe(e){var t=UCe(e,"string");return typeof t=="symbol"?t:t+""}function UCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BCe=e=>e.brush.height;function VCe(e){var t=I_(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:tg;return r+i}return r},0)}function zCe(e){var t=I_(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:tg;return r+i}return r},0)}function $Ce(e){var t=N_(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function HCe(e){var t=N_(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ei=we([Zl,Ql,TH,BCe,VCe,zCe,$Ce,HCe,$$,v2e],(e,t,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+s,bottom:(r.bottom||0)+o},m=hy(hy({},p),d),y=m.bottom;m.bottom+=n,m=TCe(m,c,u);var x=e-m.left-m.right,b=t-m.top-m.bottom;return hy(hy({brushBottom:y},m),{},{width:Math.max(x,0),height:Math.max(b,0)})}),GCe=we(ei,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),KN=we(Zl,Ql,(e,t)=>({x:0,y:0,width:e,height:t})),qCe=R.createContext(null),Ji=()=>R.useContext(qCe)!=null,k_=e=>e.brush,P_=we([k_,ei,TH],(e,t,r)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:nt(e.width)?e.width:t.width})),UT={},BT={},VT={},_5;function KCe(){return _5||(_5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},p=()=>{u&&d(),b()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,p()},n)},x=()=>{m!==null&&(clearTimeout(m),m=null)},b=()=>{x(),s=void 0,o=null},E=()=>{d()},S=function(...L){if(i?.aborted)return;s=this,o=L;const k=m==null;y(),c&&k&&d()};return S.schedule=y,S.cancel=b,S.flush=E,i?.addEventListener("abort",b,{once:!0}),S}e.debounce=t})(VT)),VT}var b5;function WCe(){return b5||(b5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KCe();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,p=null;const m=t.debounce(function(...b){d=n.apply(this,b),p=null},i,{edges:u}),y=function(...b){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(d=n.apply(this,b),p=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,b),d)},x=()=>(m.flush(),d);return y.cancel=m.cancel,y.flush=x,y}e.debounce=r})(BT)),BT}var w5;function YCe(){return w5||(w5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WCe();function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(UT)),UT}var zT,E5;function JCe(){return E5||(E5=1,zT=YCe().throttle),zT}var XCe=JCe();const ZCe=js(XCe);var r1=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},Vo={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},CH=(e,t,r)=>{var{width:n=Vo.width,height:i=Vo.height,aspect:a,maxHeight:s}=r,o=Nf(n)?e:Number(n),c=Nf(i)?t:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},QCe={width:0,height:0,overflow:"visible"},eNe={width:0,overflowX:"visible"},tNe={height:0,overflowY:"visible"},rNe={},nNe=e=>{var{width:t,height:r}=e,n=Nf(t),i=Nf(r);return n&&i?QCe:n?eNe:i?tNe:rNe};function iNe(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=Vo.width,a=Vo.height):i===void 0?i=n&&n>0?void 0:Vo.width:a===void 0&&(a=n&&n>0?void 0:Vo.height),{width:i,height:a}}function i2(){return i2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i2.apply(null,arguments)}function T5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(r),!0).forEach(function(n){aNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aNe(e,t,r){return(t=sNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sNe(e){var t=oNe(e,"string");return typeof t=="symbol"?t:t+""}function oNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NH=R.createContext(Vo.initialDimension);function lNe(e){return Xo(e.width)&&Xo(e.height)}function IH(e){var{children:t,width:r,height:n}=e,i=R.useMemo(()=>({width:r,height:n}),[r,n]);return lNe(i)?R.createElement(NH.Provider,{value:i},t):null}var WN=()=>R.useContext(NH),cNe=R.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Vo.initialDimension,width:i,height:a,minWidth:s=Vo.minWidth,minHeight:o,maxHeight:c,children:u,debounce:d=Vo.debounce,id:p,className:m,onResize:y,style:x={}}=e,b=R.useRef(null),E=R.useRef();E.current=y,R.useImperativeHandle(t,()=>b.current);var[S,L]=R.useState({containerWidth:n.width,containerHeight:n.height}),k=R.useCallback((I,O)=>{L(U=>{var B=Math.round(I),F=Math.round(O);return U.containerWidth===B&&U.containerHeight===F?U:{containerWidth:B,containerHeight:F}})},[]);R.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return qf;var I=F=>{var H,fe=F[0];if(fe!=null){var{width:me,height:ne}=fe.contentRect;k(me,ne),(H=E.current)===null||H===void 0||H.call(E,me,ne)}};d>0&&(I=ZCe(I,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(I),{width:U,height:B}=b.current.getBoundingClientRect();return k(U,B),O.observe(b.current),()=>{O.disconnect()}},[k,d]);var{containerWidth:M,containerHeight:D}=S;r1(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:N}=CH(M,D,{width:i,height:a,aspect:r,maxHeight:c});return r1(P!=null&&P>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,N,i,a,s,o,r),R.createElement("div",{id:p?"".concat(p):void 0,className:dr("recharts-responsive-container",m),style:A5(A5({},x),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:b},R.createElement("div",{style:nNe({width:i,height:a})},R.createElement(IH,{width:P,height:N},u)))}),Z0=R.forwardRef((e,t)=>{var r=WN();if(Xo(r.width)&&Xo(r.height))return e.children;var{width:n,height:i}=iNe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=CH(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return nt(a)&&nt(s)?R.createElement(IH,{width:a,height:s},e.children):R.createElement(cNe,i2({},e,{width:n,height:i,ref:t}))});function YN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var R_=()=>{var e,t=Ji(),r=ut(GCe),n=ut(P_),i=(e=ut(k_))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},uNe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},kH=()=>{var e;return(e=ut(ei))!==null&&e!==void 0?e:uNe},JN=()=>ut(Zl),XN=()=>ut(Ql),fNe=()=>ut(e=>e.layout.margin),lr=e=>e.layout.layoutType,Kf=()=>ut(lr),ZN=()=>{var e=Kf();if(e==="horizontal"||e==="vertical")return e},PH=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},dNe=()=>{var e=Kf();return e!==void 0},rg=e=>{var t=Hr(),r=Ji(),{width:n,height:i}=e,a=WN(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),R.useEffect(()=>{!r&&Xo(s)&&Xo(o)&&t(yCe({width:s,height:o}))},[t,r,s,o]),null},RH=Symbol.for("immer-nothing"),S5=Symbol.for("immer-draftable"),fs=Symbol.for("immer-state");function eo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Am=Object.getPrototypeOf;function Sh(e){return!!e&&!!e[fs]}function kf(e){return e?OH(e)||Array.isArray(e)||!!e[S5]||!!e.constructor?.[S5]||ng(e)||M_(e):!1}var hNe=Object.prototype.constructor.toString(),C5=new WeakMap;function OH(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=C5.get(r);return n===void 0&&(n=Function.toString.call(r),C5.set(r,n)),n===hNe}function n1(e,t,r=!0){O_(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function O_(e){const t=e[fs];return t?t.type_:Array.isArray(e)?1:ng(e)?2:M_(e)?3:0}function a2(e,t){return O_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function MH(e,t,r){const n=O_(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function pNe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ng(e){return e instanceof Map}function M_(e){return e instanceof Set}function Yu(e){return e.copy_||e.base_}function s2(e,t){if(ng(e))return new Map(e);if(M_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=OH(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[fs];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Am(e),n)}else{const n=Am(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function QN(e,t=!1){return D_(e)||Sh(e)||!kf(e)||(O_(e)>1&&Object.defineProperties(e,{set:py,add:py,clear:py,delete:py}),Object.freeze(e),t&&Object.values(e).forEach(r=>QN(r,!0))),e}function mNe(){eo(2)}var py={value:mNe};function D_(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var gNe={};function Pf(e){const t=gNe[e];return t||eo(0,e),t}var Sm;function DH(){return Sm}function vNe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function N5(e,t){t&&(Pf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o2(e){l2(e),e.drafts_.forEach(yNe),e.drafts_=null}function l2(e){e===Sm&&(Sm=e.parent_)}function I5(e){return Sm=vNe(Sm,e)}function yNe(e){const t=e[fs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function k5(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fs].modified_&&(o2(t),eo(4)),kf(e)&&(e=i1(t,e),t.parent_||a1(t,e)),t.patches_&&Pf("Patches").generateReplacementPatches_(r[fs].base_,e,t.patches_,t.inversePatches_)):e=i1(t,r,[]),o2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RH?e:void 0}function i1(e,t,r){if(D_(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[fs];if(!i)return n1(t,(a,s)=>P5(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return a1(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),n1(s,(c,u)=>P5(e,i,a,c,u,r,o),n),a1(e,a,!1),r&&e.patches_&&Pf("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function P5(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=D_(i);if(!(o&&!s)){if(Sh(i)){const c=a&&t&&t.type_!==3&&!a2(t.assigned_,n)?a.concat(n):void 0,u=i1(e,i,c);if(MH(r,n,u),Sh(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(kf(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;i1(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ng(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&a1(e,i)}}}function a1(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&QN(t,r)}function xNe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:DH(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=eI;r&&(i=[n],a=Cm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var eI={get(e,t){if(t===fs)return e;const r=Yu(e);if(!a2(r,t))return _Ne(e,r,t);const n=r[t];return e.finalized_||!kf(n)?n:n===$T(e.base_,t)?(HT(e),e.copy_[t]=u2(n,e)):n},has(e,t){return t in Yu(e)},ownKeys(e){return Reflect.ownKeys(Yu(e))},set(e,t,r){const n=LH(Yu(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=$T(Yu(e),t),a=i?.[fs];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(pNe(r,i)&&(r!==void 0||a2(e.base_,t)))return!0;HT(e),c2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $T(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,HT(e),c2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Yu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){eo(11)},getPrototypeOf(e){return Am(e.base_)},setPrototypeOf(){eo(12)}},Cm={};n1(eI,(e,t)=>{Cm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Cm.deleteProperty=function(e,t){return Cm.set.call(this,e,t,void 0)};Cm.set=function(e,t,r){return eI.set.call(this,e[0],t,r,e[0])};function $T(e,t){const r=e[fs];return(r?Yu(r):e)[t]}function _Ne(e,t,r){const n=LH(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function LH(e,t){if(!(t in e))return;let r=Am(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Am(r)}}function c2(e){e.modified_||(e.modified_=!0,e.parent_&&c2(e.parent_))}function HT(e){e.copy_||(e.copy_=s2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bNe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&eo(6),n!==void 0&&typeof n!="function"&&eo(7);let i;if(kf(t)){const a=I5(this),s=u2(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?o2(a):l2(a)}return N5(a,n),k5(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===RH&&(i=void 0),this.autoFreeze_&&QN(i,!0),n){const a=[],s=[];Pf("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else eo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){kf(e)||eo(8),Sh(e)&&(e=wNe(e));const t=I5(this),r=u2(e,void 0);return r[fs].isManual_=!0,l2(t),r}finishDraft(e,t){const r=e&&e[fs];(!r||!r.isManual_)&&eo(9);const{scope_:n}=r;return N5(n,t),k5(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Pf("Patches").applyPatches_;return Sh(e)?n(e,t):this.produce(e,i=>n(i,t))}};function u2(e,t){const r=ng(e)?Pf("MapSet").proxyMap_(e,t):M_(e)?Pf("MapSet").proxySet_(e,t):xNe(e,t);return(t?t.scope_:DH()).drafts_.push(r),r}function wNe(e){return Sh(e)||eo(10,e),FH(e)}function FH(e){if(!kf(e)||D_(e))return e;const t=e[fs];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=s2(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=s2(e,!0);return n1(r,(i,a)=>{MH(r,i,FH(a))},n),t&&(t.finalized_=!1),r}var ENe=new bNe;ENe.produce;var TNe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jH=Va({name:"legend",initialState:TNe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:en()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ho(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:en()},removeLegendPayload:{reducer(e,t){var r=ho(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:en()}}}),{setLegendSize:R5,setLegendSettings:ANe,addLegendPayload:UH,replaceLegendPayload:BH,removeLegendPayload:VH}=jH.actions,SNe=jH.reducer,CNe=["contextPayload"];function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(null,arguments)}function O5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(r),!0).forEach(function(n){NNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NNe(e,t,r){return(t=INe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function INe(e){var t=kNe(e,"string");return typeof t=="symbol"?t:t+""}function kNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PNe(e,t){if(e==null)return{};var r,n,i=RNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ONe(e){return e.value}function MNe(e){var{contextPayload:t}=e,r=PNe(e,CNe),n=U$(t,e.payloadUniqBy,ONe),i=Ch(Ch({},r),{},{payload:n});return R.isValidElement(e.content)?R.cloneElement(e.content,i):typeof e.content=="function"?R.createElement(e.content,i):R.createElement(ASe,i)}function DNe(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ch(Ch({},u),d)}function LNe(e){var t=Hr();return R.useEffect(()=>{t(ANe(e))},[t,e]),null}function FNe(e){var t=Hr();return R.useEffect(()=>(t(R5(e)),()=>{t(R5({width:0,height:0}))}),[t,e]),null}function jNe(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var UNe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function zH(e){var t=Kn(e,UNe),r=_2e(),n=vAe(),i=fNe(),{width:a,height:s,wrapperStyle:o,portal:c}=t,[u,d]=H$([r]),p=JN(),m=XN();if(p==null||m==null)return null;var y=p-(i?.left||0)-(i?.right||0),x=jNe(t.layout,s,a,y),b=c?o:Ch(Ch({position:"absolute",width:x?.width||a||"auto",height:x?.height||s||"auto"},DNe(o,t,i,p,m,u)),o),E=c??n;if(E==null||r==null)return null;var S=R.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},R.createElement(LNe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&R.createElement(FNe,{width:u.width,height:u.height}),R.createElement(MNe,f2({},t,x,{margin:i,chartWidth:p,chartHeight:m,contextPayload:r})));return Eh.createPortal(S,E)}zH.displayName="Legend";function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d2.apply(null,arguments)}function M5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(r),!0).forEach(function(n){BNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BNe(e,t,r){return(t=VNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VNe(e){var t=zNe(e,"string");return typeof t=="symbol"?t:t+""}function zNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Ne(e){return Array.isArray(e)&&Jo(e[0])&&Jo(e[1])?e.join(" ~ "):e}var Pd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},HNe=e=>{var{separator:t=Pd.separator,contentStyle:r,itemStyle:n,labelStyle:i=Pd.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:p,accessibilityLayer:m=Pd.accessibilityLayer}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(o?y_(a,o):a).map((N,I)=>{if(N.type==="none")return null;var O=N.formatter||s||$Ne,{value:U,name:B}=N,F=U,H=B;if(O){var fe=O(U,B,N,I,a);if(Array.isArray(fe))[F,H]=fe;else if(fe!=null)F=fe;else return null}var me=Q0(Q0({},Pd.itemStyle),{},{color:N.color||Pd.itemStyle.color},n);return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:me},Jo(H)?R.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Jo(H)?R.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,R.createElement("span",{className:"recharts-tooltip-item-value"},F),R.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},x=Q0(Q0({},Pd.contentStyle),r),b=Q0({margin:0},i),E=!_n(d),S=E?d:"",L=dr("recharts-default-tooltip",c),k=dr("recharts-tooltip-label",u);E&&p&&a!==void 0&&a!==null&&(S=p(d,a));var M=m?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",d2({className:L,style:x},M),R.createElement("p",{className:k,style:b},R.isValidElement(S)?S:"".concat(S)),y())},ep="recharts-tooltip-wrapper",GNe={visibility:"hidden"};function qNe(e){var{coordinate:t,translateX:r,translateY:n}=e;return dr(ep,{["".concat(ep,"-right")]:nt(r)&&t&&nt(t.x)&&r>=t.x,["".concat(ep,"-left")]:nt(r)&&t&&nt(t.x)&&r<t.x,["".concat(ep,"-bottom")]:nt(n)&&t&&nt(t.y)&&n>=t.y,["".concat(ep,"-top")]:nt(n)&&t&&nt(t.y)&&n<t.y})}function D5(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&nt(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),p=r[n]+i;if(t[n])return s[n]?d:p;var m=c[n];if(m==null)return 0;if(s[n]){var y=d,x=m;return y<x?Math.max(p,m):Math.max(d,m)}if(u==null)return 0;var b=p+o,E=m+u;return b>E?Math.max(d,m):Math.max(p,m)}function KNe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WNe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,d,p,m;return o.height>0&&o.width>0&&r?(p=D5({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=D5({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=KNe({translateX:p,translateY:m,useTranslate3d:c})):d=GNe,{cssProperties:d,cssClasses:qNe({translateX:p,translateY:m,coordinate:r})}}function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function my(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(r),!0).forEach(function(n){h2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h2(e,t,r){return(t=YNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YNe(e){var t=JNe(e,"string");return typeof t=="symbol"?t:t+""}function JNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XNe extends R.PureComponent{constructor(){super(...arguments),h2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),h2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:p,useTranslate3d:m,viewBox:y,wrapperStyle:x,lastBoundingBox:b,innerRef:E,hasPortalFromProps:S}=this.props,L=typeof u=="number"?u:u.x,k=typeof u=="number"?u:u.y,{cssClasses:M,cssProperties:D}=WNe({allowEscapeViewBox:r,coordinate:s,offsetLeft:L,offsetTop:k,position:d,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:m,viewBox:y}),P=S?{}:my(my({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=my(my({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return R.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:N,ref:E},a)}}var $H=()=>{var e;return(e=ut(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function p2(){return p2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p2.apply(null,arguments)}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function j5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){ZNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZNe(e,t,r){return(t=QNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QNe(e){var t=eIe(e,"string");return typeof t=="symbol"?t:t+""}function eIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U5={curveBasisClosed:LAe,curveBasisOpen:FAe,curveBasis:DAe,curveBumpX:bAe,curveBumpY:wAe,curveLinearClosed:jAe,curveLinear:g_,curveMonotoneX:UAe,curveMonotoneY:BAe,curveNatural:VAe,curveStep:zAe,curveStepAfter:HAe,curveStepBefore:$Ae},s1=e=>$t(e.x)&&$t(e.y),B5=e=>e.base!=null&&s1(e.base)&&s1(e),tp=e=>e.x,rp=e=>e.y,tIe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Xm(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=U5["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return U5[r]||g_},V5={connectNulls:!1,type:"linear"},rIe=e=>{var{type:t=V5.type,points:r=[],baseLine:n,layout:i,connectNulls:a=V5.connectNulls}=e,s=tIe(t,i),o=a?r.filter(s1):r;if(Array.isArray(n)){var c,u=r.map((x,b)=>j5(j5({},x),{},{base:n[b]}));i==="vertical"?c=oy().y(rp).x1(tp).x0(x=>x.base.x):c=oy().x(tp).y1(rp).y0(x=>x.base.y);var d=c.defined(B5).curve(s),p=a?u.filter(B5):u;return d(p)}var m;i==="vertical"&&nt(n)?m=oy().y(rp).x1(tp).x0(n):nt(n)?m=oy().x(tp).y1(rp).y0(n):m=m$().x(tp).y(rp);var y=m.defined(s1).curve(s);return y(o)},lh=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Kf();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?rIe(s):n;return R.createElement("path",p2({},Ua(e),FN(e),{className:dr("recharts-curve",t),d:o===null?void 0:o,ref:i}))},nIe=["x","y","top","left","width","height","className"];function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(null,arguments)}function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(n){aIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aIe(e,t,r){return(t=sIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sIe(e){var t=oIe(e,"string");return typeof t=="symbol"?t:t+""}function oIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lIe(e,t){if(e==null)return{};var r,n,i=cIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uIe=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),fIe=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=lIe(e,nIe),u=iIe({x:t,y:r,top:n,left:i,width:a,height:s},c);return!nt(t)||!nt(r)||!nt(a)||!nt(s)||!nt(n)||!nt(i)?null:R.createElement("path",m2({},va(u),{className:dr("recharts-cross",o),d:uIe(t,r,a,s,n,i)}))};function dIe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(r),!0).forEach(function(n){hIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hIe(e,t,r){return(t=pIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pIe(e){var t=mIe(e,"string");return typeof t=="symbol"?t:t+""}function mIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gIe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),HH=(e,t,r)=>e.map(n=>"".concat(gIe(n)," ").concat(t,"ms ").concat(r)).join(","),vIe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Nm=(e,t)=>Object.keys(t).reduce((r,n)=>H5(H5({},r),{},{[n]:e(n,t[n])}),{});function G5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G5(Object(r),!0).forEach(function(n){yIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yIe(e,t,r){return(t=xIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xIe(e){var t=_Ie(e,"string");return typeof t=="symbol"?t:t+""}function _Ie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o1=(e,t,r)=>e+(t-e)*r,g2=e=>{var{from:t,to:r}=e;return t!==r},GH=(e,t,r)=>{var n=Nm((i,a)=>{if(g2(a)){var[s,o]=e(a.from,a.to,a.velocity);return Jn(Jn({},a),{},{from:s,velocity:o})}return a},t);return r<1?Nm((i,a)=>g2(a)&&n[i]!=null?Jn(Jn({},a),{},{velocity:o1(a.velocity,n[i].velocity,r),from:o1(a.from,n[i].from,r)}):a,t):GH(e,n,r-1)};function bIe(e,t,r,n,i,a){var s,o=n.reduce((m,y)=>Jn(Jn({},m),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),c=()=>Nm((m,y)=>y.from,o),u=()=>!Object.values(o).filter(g2).length,d=null,p=m=>{s||(s=m);var y=m-s,x=y/r.dt;o=GH(r,o,x),i(Jn(Jn(Jn({},e),t),c())),s=m,u()||(d=a.setTimeout(p))};return()=>(d=a.setTimeout(p),()=>{var m;(m=d)===null||m===void 0||m()})}function wIe(e,t,r,n,i,a,s){var o=null,c=i.reduce((p,m)=>{var y=e[m],x=t[m];return y==null||x==null?p:Jn(Jn({},p),{},{[m]:[y,x]})},{}),u,d=p=>{u||(u=p);var m=(p-u)/n,y=Nm((b,E)=>o1(...E,r(m)),c);if(a(Jn(Jn(Jn({},e),t),y)),m<1)o=s.setTimeout(d);else{var x=Nm((b,E)=>o1(...E,r(1)),c);a(Jn(Jn(Jn({},e),t),x))}};return()=>(o=s.setTimeout(d),()=>{var p;(p=o)===null||p===void 0||p()})}const EIe=(e,t,r,n,i,a)=>{var s=vIe(e,t);return r==null?()=>(i(Jn(Jn({},e),t)),()=>{}):r.isStepper===!0?bIe(e,t,r,s,i,a):wIe(e,t,r,n,s,i,a)};var l1=1e-4,qH=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KH=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),q5=(e,t)=>r=>{var n=qH(e,t);return KH(n,r)},TIe=(e,t)=>r=>{var n=qH(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return KH(i,r)},AIe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},SIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=AIe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},CIe=(e,t,r,n)=>{var i=q5(e,r),a=q5(t,n),s=TIe(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,p=d,m=0;m<8;++m){var y=i(p)-d,x=s(p);if(Math.abs(y-d)<l1||x<l1)return a(p);p=o(p-y/x)}return a(p)};return c.isStepper=!1,c},K5=function(){return CIe(...SIe(...arguments))},NIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,p=c+(u-d)*i/1e3,m=c*i/1e3+s;return Math.abs(m-o)<l1&&Math.abs(p)<l1?[o,0]:[m,p]};return a.isStepper=!0,a.dt=i,a},IIe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return K5(e);case"spring":return NIe();default:if(e.split("(")[0]==="cubic-bezier")return K5(e)}return typeof e=="function"?e:null};function kIe(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class PIe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function RIe(){return kIe(new PIe)}var OIe=R.createContext(RIe);function MIe(e,t){var r=R.useContext(OIe);return R.useMemo(()=>t??r(e),[e,t,r])}var DIe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ig={isSsr:DIe()},LIe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},W5={t:0},GT={t:1};function ag(e){var t=Kn(e,LIe),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!ig.isSsr:r,p=MIe(t.animationId,t.animationManager),[m,y]=R.useState(d?W5:GT),x=R.useRef(null);return R.useEffect(()=>{d||y(GT)},[d]),R.useEffect(()=>{if(!d||!n)return qf;var b=EIe(W5,GT,IIe(a),i,y,p.getTimeoutController()),E=()=>{x.current=b()};return p.start([c,s,E,i,o]),()=>{p.stop(),x.current&&x.current(),o()}},[d,n,i,a,s,c,o,p]),u(m.t)}function sg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=R.useRef(bm(t)),n=R.useRef(e);return n.current!==e&&(r.current=bm(t),n.current=e),r.current}var FIe=["radius"],jIe=["radius"],Y5,J5,X5,Z5,Q5,eF,tF,rF,nF,iF;function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){UIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UIe(e,t,r){return(t=BIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BIe(e){var t=VIe(e,"string");return typeof t=="symbol"?t:t+""}function VIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c1.apply(null,arguments)}function oF(e,t){if(e==null)return{};var r,n,i=zIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Do(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lF=(e,t,r,n,i)=>{var a=zc(r),s=zc(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,p;if(o>0&&Array.isArray(i)){for(var m=[0,0,0,0],y=0,x=4;y<x;y++){var b,E=(b=i[y])!==null&&b!==void 0?b:0;m[y]=E>o?o:E}p=pn(Y5||(Y5=Do(["M",",",""])),e,t+c*m[0]),m[0]>0&&(p+=pn(J5||(J5=Do(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),p+=pn(X5||(X5=Do(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(p+=pn(Z5||(Z5=Do(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),p+=pn(Q5||(Q5=Do(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(p+=pn(eF||(eF=Do(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),p+=pn(tF||(tF=Do(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(p+=pn(rF||(rF=Do(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);p=pn(nF||(nF=Do(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*S,S,S,d,e+u*S,t,e+r-u*S,t,S,S,d,e+r,t+c*S,e+r,t+n-c*S,S,S,d,e+r-u*S,t+n,e+u*S,t+n,S,S,d,e,t+n-c*S)}else p=pn(iF||(iF=Do(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return p},cF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WH=e=>{var t=Kn(e,cF),r=R.useRef(null),[n,i]=R.useState(-1);R.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ue=r.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:p,animationDuration:m,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:b}=t,E=R.useRef(o),S=R.useRef(c),L=R.useRef(a),k=R.useRef(s),M=R.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),D=sg(M,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var P=dr("recharts-rectangle",d);if(!b){var N=va(t),{radius:I}=N,O=oF(N,FIe);return R.createElement("path",c1({},O,{x:zc(a),y:zc(s),width:zc(o),height:zc(c),radius:typeof u=="number"?u:void 0,className:P,d:lF(a,s,o,c,u)}))}var U=E.current,B=S.current,F=L.current,H=k.current,fe="0px ".concat(n===-1?1:n,"px"),me="".concat(n,"px 0px"),ne=HH(["strokeDasharray"],m,typeof p=="string"?p:cF.animationEasing);return R.createElement(ag,{animationId:D,key:D,canBegin:n>0,duration:m,easing:p,isActive:b,begin:y},ue=>{var ce=Yr(U,o,ue),ae=Yr(B,c,ue),_e=Yr(F,a,ue),J=Yr(H,s,ue);r.current&&(E.current=ce,S.current=ae,L.current=_e,k.current=J);var V;x?ue>0?V={transition:ne,strokeDasharray:me}:V={strokeDasharray:fe}:V={strokeDasharray:me};var ee=va(t),{radius:X}=ee,q=oF(ee,jIe);return R.createElement("path",c1({},q,{radius:typeof u=="number"?u:void 0,className:P,d:lF(_e,J,ce,ae,u),ref:r,style:sF(sF({},V),t.style)}))})};function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){$Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ie(e,t,r){return(t=HIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HIe(e){var t=GIe(e,"string");return typeof t=="symbol"?t:t+""}function GIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u1=Math.PI/180,qIe=e=>e*180/Math.PI,Hn=(e,t,r,n)=>({x:e+Math.cos(-u1*n)*r,y:t+Math.sin(-u1*n)*r}),YH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},KIe=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},WIe=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=KIe({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:qIe(c),angleInRadian:c}},YIe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},JIe=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},XIe=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=WIe({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=YIe(t),d=a,p;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;p=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;p=d>=u&&d<=c}return p?fF(fF({},t),{},{radius:i,angle:JIe(d,t)}):null};function JH(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=Hn(t,r,n,i),o=Hn(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var dF,hF,pF,mF,gF,vF,yF;function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v2.apply(null,arguments)}function ef(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ZIe=(e,t)=>{var r=di(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},gy=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/u1,p=c?i:i+a*d,m=Hn(t,r,u,p),y=Hn(t,r,n,p),x=c?i-a*d:i,b=Hn(t,r,u*Math.cos(d*u1),x);return{center:m,circleTangency:y,lineTangency:b,theta:d}},XH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=ZIe(a,s),c=a+o,u=Hn(t,r,i,a),d=Hn(t,r,i,c),p=pn(dF||(dF=ef(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>c),d.x,d.y);if(n>0){var m=Hn(t,r,n,a),y=Hn(t,r,n,c);p+=pn(hF||(hF=ef(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,n,n,+(Math.abs(o)>180),+(a<=c),m.x,m.y)}else p+=pn(pF||(pF=ef(["L ",","," Z"])),t,r);return p},QIe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=di(u-c),{circleTangency:p,lineTangency:m,theta:y}=gy({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:E}=gy({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),S=o?Math.abs(c-u):Math.abs(c-u)-y-E;if(S<0)return s?pn(mF||(mF=ef(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):XH({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var L=pn(gF||(gF=ef(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(d<0),p.x,p.y,i,i,+(S>180),+(d<0),x.x,x.y,a,a,+(d<0),b.x,b.y);if(n>0){var{circleTangency:k,lineTangency:M,theta:D}=gy({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:P,lineTangency:N,theta:I}=gy({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),O=o?Math.abs(c-u):Math.abs(c-u)-D-I;if(O<0&&a===0)return"".concat(L,"L").concat(t,",").concat(r,"Z");L+=pn(vF||(vF=ef(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,a,a,+(d<0),P.x,P.y,n,n,+(O>180),+(d>0),k.x,k.y,a,a,+(d<0),M.x,M.y)}else L+=pn(yF||(yF=ef(["L",",","Z"])),t,r);return L},eke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZH=e=>{var t=Kn(e,eke),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:p}=t;if(a<i||u===d)return null;var m=dr("recharts-sector",p),y=a-i,x=Ki(s,y,0,!0),b;return x>0&&Math.abs(u-d)<360?b=QIe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):b=XH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),R.createElement("path",v2({},va(t),{className:m,d:b}))};function tke(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(k$(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,c=Hn(n,i,a,o),u=Hn(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return JH(t)}}var qT={},KT={},WT={},xF;function rke(){return xF||(xF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V$();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(WT)),WT}var _F;function nke(){return _F||(_F=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rke();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(KT)),KT}var bF;function ike(){return bF||(bF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z$(),r=nke();function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=n})(qT)),qT}var YT,wF;function ake(){return wF||(wF=1,YT=ike().range),YT}var ske=ake();const QH=js(ske);function Xc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oke(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tI(e){let t,r,n;e.length!==2?(t=Xc,r=(o,c)=>Xc(e(o),c),n=(o,c)=>e(o)-c):(t=e===Xc||e===oke?e:lke,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(o[p],c)<0?u=p+1:d=p}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const p=u+d>>>1;r(o[p],c)<=0?u=p+1:d=p}while(u<d)}return u}function s(o,c,u=0,d=o.length){const p=i(o,c,u,d-1);return p>u&&n(o[p-1],c)>-n(o[p],c)?p-1:p}return{left:i,center:s,right:a}}function lke(){return 0}function eG(e){return e===null?NaN:+e}function*cke(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const uke=tI(Xc),og=uke.right;tI(eG).center;class EF extends Map{constructor(t,r=hke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(TF(this,t))}has(t){return super.has(TF(this,t))}set(t,r){return super.set(fke(this,t),r)}delete(t){return super.delete(dke(this,t))}}function TF({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function fke({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function dke({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hke(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pke(e=Xc){if(e===Xc)return tG;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function tG(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mke=Math.sqrt(50),gke=Math.sqrt(10),vke=Math.sqrt(2);function f1(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=mke?10:a>=gke?5:a>=vke?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?f1(e,t,r*2):[o,c,u]}function y2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?f1(t,e,r):f1(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function x2(e,t,r){return t=+t,e=+e,r=+r,f1(e,t,r)[2]}function _2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?x2(t,e,r):x2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function AF(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function SF(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function rG(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?tG:pke(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),p=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*p*(c-p)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(t-u*p/c+m)),x=Math.min(n,Math.floor(t+(c-u)*p/c+m));rG(e,t,y,x,i)}const a=e[t];let s=r,o=n;for(np(e,r,t),i(e[n],a)>0&&np(e,r,n);s<o;){for(np(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?np(e,r,o):(++o,np(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function np(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function yke(e,t,r){if(e=Float64Array.from(cke(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return SF(e);if(t>=1)return AF(e);var n,i=(n-1)*t,a=Math.floor(i),s=AF(rG(e,a).subarray(0,a+1)),o=SF(e.subarray(a+1));return s+(o-s)*(i-a)}}function xke(e,t,r=eG){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function _ke(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Vs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ec(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b2=Symbol("implicit");function rI(){var e=new EF,t=[],r=[],n=b2;function i(a){let s=e.get(a);if(s===void 0){if(n!==b2)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new EF;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rI(t,r).unknown(n)},Vs.apply(i,arguments),i}function nI(){var e=rI().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function p(){var m=t().length,y=i<n,x=y?i:n,b=y?n:i;a=(b-x)/Math.max(1,m-c+u*2),o&&(a=Math.floor(a)),x+=(b-x-a*(m-c))*d,s=a*(1-c),o&&(x=Math.round(x),s=Math.round(s));var E=_ke(m).map(function(S){return x+a*S});return r(y?E.reverse():E)}return e.domain=function(m){return arguments.length?(t(m),p()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(m){return arguments.length?(o=!!m,p()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),p()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),p()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,p()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),p()):d},e.copy=function(){return nI(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Vs.apply(p(),arguments)}function nG(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nG(t())},e}function bke(){return nG(nI.apply(null,arguments).paddingInner(1))}function iI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iG(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lg(){}var Im=.7,d1=1/Im,ch="\\s*([+-]?\\d+)\\s*",km="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wke=/^#([0-9a-f]{3,8})$/,Eke=new RegExp(`^rgb\\(${ch},${ch},${ch}\\)$`),Tke=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),Ake=new RegExp(`^rgba\\(${ch},${ch},${ch},${km}\\)$`),Ske=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${km}\\)$`),Cke=new RegExp(`^hsl\\(${km},${Ko},${Ko}\\)$`),Nke=new RegExp(`^hsla\\(${km},${Ko},${Ko},${km}\\)$`),CF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iI(lg,Pm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NF,formatHex:NF,formatHex8:Ike,formatHsl:kke,formatRgb:IF,toString:IF});function NF(){return this.rgb().formatHex()}function Ike(){return this.rgb().formatHex8()}function kke(){return aG(this).formatHsl()}function IF(){return this.rgb().formatRgb()}function Pm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?kF(t):r===3?new Fa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Eke.exec(e))?new Fa(t[1],t[2],t[3],1):(t=Tke.exec(e))?new Fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ake.exec(e))?vy(t[1],t[2],t[3],t[4]):(t=Ske.exec(e))?vy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Cke.exec(e))?OF(t[1],t[2]/100,t[3]/100,1):(t=Nke.exec(e))?OF(t[1],t[2]/100,t[3]/100,t[4]):CF.hasOwnProperty(e)?kF(CF[e]):e==="transparent"?new Fa(NaN,NaN,NaN,0):null}function kF(e){return new Fa(e>>16&255,e>>8&255,e&255,1)}function vy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fa(e,t,r,n)}function Pke(e){return e instanceof lg||(e=Pm(e)),e?(e=e.rgb(),new Fa(e.r,e.g,e.b,e.opacity)):new Fa}function w2(e,t,r,n){return arguments.length===1?Pke(e):new Fa(e,t,r,n??1)}function Fa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}iI(Fa,w2,iG(lg,{brighter(e){return e=e==null?d1:Math.pow(d1,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Im:Math.pow(Im,e),new Fa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fa(ff(this.r),ff(this.g),ff(this.b),h1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PF,formatHex:PF,formatHex8:Rke,formatRgb:RF,toString:RF}));function PF(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function Rke(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function RF(){const e=h1(this.opacity);return`${e===1?"rgb(":"rgba("}${ff(this.r)}, ${ff(this.g)}, ${ff(this.b)}${e===1?")":`, ${e})`}`}function h1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ff(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return e=ff(e),(e<16?"0":"")+e.toString(16)}function OF(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new to(e,t,r,n)}function aG(e){if(e instanceof to)return new to(e.h,e.s,e.l,e.opacity);if(e instanceof lg||(e=Pm(e)),!e)return new to;if(e instanceof to)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new to(s,o,c,e.opacity)}function Oke(e,t,r,n){return arguments.length===1?aG(e):new to(e,t,r,n??1)}function to(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}iI(to,Oke,iG(lg,{brighter(e){return e=e==null?d1:Math.pow(d1,e),new to(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Im:Math.pow(Im,e),new to(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Fa(JT(e>=240?e-240:e+120,i,n),JT(e,i,n),JT(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new to(MF(this.h),yy(this.s),yy(this.l),h1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=h1(this.opacity);return`${e===1?"hsl(":"hsla("}${MF(this.h)}, ${yy(this.s)*100}%, ${yy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MF(e){return e=(e||0)%360,e<0?e+360:e}function yy(e){return Math.max(0,Math.min(1,e||0))}function JT(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const aI=e=>()=>e;function Mke(e,t){return function(r){return e+r*t}}function Dke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Lke(e){return(e=+e)==1?sG:function(t,r){return r-t?Dke(t,r,e):aI(isNaN(t)?r:t)}}function sG(e,t){var r=t-e;return r?Mke(e,r):aI(isNaN(e)?t:e)}const DF=(function e(t){var r=Lke(t);function n(i,a){var s=r((i=w2(i)).r,(a=w2(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=sG(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n})(1);function Fke(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function jke(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Uke(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=qh(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Bke(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function p1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Vke(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=qh(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var E2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,XT=new RegExp(E2.source,"g");function zke(e){return function(){return e}}function $ke(e){return function(t){return e(t)+""}}function Hke(e,t){var r=E2.lastIndex=XT.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=E2.exec(e))&&(i=XT.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:p1(n,i)})),r=XT.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?$ke(c[0].x):zke(t):(t=c.length,function(u){for(var d=0,p;d<t;++d)o[(p=c[d]).i]=p.x(u);return o.join("")})}function qh(e,t){var r=typeof t,n;return t==null||r==="boolean"?aI(t):(r==="number"?p1:r==="string"?(n=Pm(t))?(t=n,DF):Hke:t instanceof Pm?DF:t instanceof Date?Bke:jke(t)?Fke:Array.isArray(t)?Uke:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vke:p1)(e,t)}function sI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Gke(e,t){t===void 0&&(t=e,e=qh);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function qke(e){return function(){return e}}function m1(e){return+e}var LF=[0,1];function fa(e){return e}function T2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:qke(isNaN(t)?NaN:.5)}function Kke(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Wke(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=T2(i,n),a=r(s,a)):(n=T2(n,i),a=r(a,s)),function(o){return a(n(o))}}function Yke(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=T2(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=og(e,o,1,n)-1;return a[c](i[c](o))}}function cg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function L_(){var e=LF,t=LF,r=qh,n,i,a,s=fa,o,c,u;function d(){var m=Math.min(e.length,t.length);return s!==fa&&(s=Kke(e[0],e[m-1])),o=m>2?Yke:Wke,c=u=null,p}function p(m){return m==null||isNaN(m=+m)?a:(c||(c=o(e.map(n),t,r)))(n(s(m)))}return p.invert=function(m){return s(i((u||(u=o(t,e.map(n),p1)))(m)))},p.domain=function(m){return arguments.length?(e=Array.from(m,m1),d()):e.slice()},p.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},p.rangeRound=function(m){return t=Array.from(m),r=sI,d()},p.clamp=function(m){return arguments.length?(s=m?!0:fa,d()):s!==fa},p.interpolate=function(m){return arguments.length?(r=m,d()):r},p.unknown=function(m){return arguments.length?(a=m,p):a},function(m,y){return n=m,i=y,d()}}function oI(){return L_()(fa,fa)}function Jke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function g1(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Nh(e){return e=g1(Math.abs(e)),e?e[1]:NaN}function Xke(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Zke(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Qke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rm(e){if(!(t=Qke.exec(e)))throw new Error("invalid format: "+e);var t;return new lI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rm.prototype=lI.prototype;function lI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ePe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var v1;function tPe(e,t){var r=g1(e,t);if(!r)return v1=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(v1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+g1(e,Math.max(0,t+a-1))[0]}function FF(e,t){var r=g1(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const jF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Jke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FF(e*100,t),r:FF,s:tPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UF(e){return e}var BF=Array.prototype.map,VF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rPe(e){var t=e.grouping===void 0||e.thousands===void 0?UF:Xke(BF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?UF:Zke(BF.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p,m){p=Rm(p);var y=p.fill,x=p.align,b=p.sign,E=p.symbol,S=p.zero,L=p.width,k=p.comma,M=p.precision,D=p.trim,P=p.type;P==="n"?(k=!0,P="g"):jF[P]||(M===void 0&&(M=12),D=!0,P="g"),(S||y==="0"&&x==="=")&&(S=!0,y="0",x="=");var N=(m&&m.prefix!==void 0?m.prefix:"")+(E==="$"?r:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),I=(E==="$"?n:/[%p]/.test(P)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),O=jF[P],U=/[defgprs%]/.test(P);M=M===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function B(F){var H=N,fe=I,me,ne,ue;if(P==="c")fe=O(F)+fe,F="";else{F=+F;var ce=F<0||1/F<0;if(F=isNaN(F)?c:O(Math.abs(F),M),D&&(F=ePe(F)),ce&&+F==0&&b!=="+"&&(ce=!1),H=(ce?b==="("?b:o:b==="-"||b==="("?"":b)+H,fe=(P==="s"&&!isNaN(F)&&v1!==void 0?VF[8+v1/3]:"")+fe+(ce&&b==="("?")":""),U){for(me=-1,ne=F.length;++me<ne;)if(ue=F.charCodeAt(me),48>ue||ue>57){fe=(ue===46?i+F.slice(me+1):F.slice(me))+fe,F=F.slice(0,me);break}}}k&&!S&&(F=t(F,1/0));var ae=H.length+F.length+fe.length,_e=ae<L?new Array(L-ae+1).join(y):"";switch(k&&S&&(F=t(_e+F,_e.length?L-fe.length:1/0),_e=""),x){case"<":F=H+F+fe+_e;break;case"=":F=H+_e+F+fe;break;case"^":F=_e.slice(0,ae=_e.length>>1)+H+F+fe+_e.slice(ae);break;default:F=_e+H+F+fe;break}return a(F)}return B.toString=function(){return p+""},B}function d(p,m){var y=Math.max(-8,Math.min(8,Math.floor(Nh(m)/3)))*3,x=Math.pow(10,-y),b=u((p=Rm(p),p.type="f",p),{suffix:VF[8+y/3]});return function(E){return b(x*E)}}return{format:u,formatPrefix:d}}var xy,cI,oG;nPe({thousands:",",grouping:[3],currency:["$",""]});function nPe(e){return xy=rPe(e),cI=xy.format,oG=xy.formatPrefix,xy}function iPe(e){return Math.max(0,-Nh(Math.abs(e)))}function aPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nh(t)/3)))*3-Nh(Math.abs(e)))}function sPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nh(t)-Nh(e))+1}function lG(e,t,r,n){var i=_2(e,t,r),a;switch(n=Rm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=aPe(i,s))&&(n.precision=a),oG(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=sPe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=iPe(i))&&(n.precision=a-(n.type==="%")*2);break}}return cI(n)}function vu(e){var t=e.domain;return e.ticks=function(r){var n=t();return y2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return lG(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=x2(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function cG(){var e=oI();return e.copy=function(){return cg(e,cG())},Vs.apply(e,arguments),vu(e)}function uG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,m1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return uG(e).unknown(t)},e=arguments.length?Array.from(e,m1):[0,1],vu(r)}function fG(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function zF(e){return Math.log(e)}function $F(e){return Math.exp(e)}function oPe(e){return-Math.log(-e)}function lPe(e){return-Math.exp(-e)}function cPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function uPe(e){return e===10?cPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HF(e){return(t,r)=>-e(-t,r)}function uI(e){const t=e(zF,$F),r=t.domain;let n=10,i,a;function s(){return i=fPe(n),a=uPe(n),r()[0]<0?(i=HF(i),a=HF(a),e(oPe,lPe)):e(zF,$F),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const p=d<u;p&&([u,d]=[d,u]);let m=i(u),y=i(d),x,b;const E=o==null?10:+o;let S=[];if(!(n%1)&&y-m<E){if(m=Math.floor(m),y=Math.ceil(y),u>0){for(;m<=y;++m)for(x=1;x<n;++x)if(b=m<0?x/a(-m):x*a(m),!(b<u)){if(b>d)break;S.push(b)}}else for(;m<=y;++m)for(x=n-1;x>=1;--x)if(b=m>0?x/a(-m):x*a(m),!(b<u)){if(b>d)break;S.push(b)}S.length*2<E&&(S=y2(u,d,E))}else S=y2(m,y,Math.min(y-m,E)).map(a);return p?S.reverse():S},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Rm(c)).precision==null&&(c.trim=!0),c=cI(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*n<n-.5&&(p*=n),p<=u?c(d):""}},t.nice=()=>r(fG(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function dG(){const e=uI(L_()).domain([1,10]);return e.copy=()=>cg(e,dG()).base(e.base()),Vs.apply(e,arguments),e}function GF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fI(e){var t=1,r=e(GF(t),qF(t));return r.constant=function(n){return arguments.length?e(GF(t=+n),qF(t)):t},vu(r)}function hG(){var e=fI(L_());return e.copy=function(){return cg(e,hG()).constant(e.constant())},Vs.apply(e,arguments)}function KF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hPe(e){return e<0?-e*e:e*e}function dI(e){var t=e(fa,fa),r=1;function n(){return r===1?e(fa,fa):r===.5?e(dPe,hPe):e(KF(r),KF(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},vu(t)}function hI(){var e=dI(L_());return e.copy=function(){return cg(e,hI()).exponent(e.exponent())},Vs.apply(e,arguments),e}function pPe(){return hI.apply(null,arguments).exponent(.5)}function WF(e){return Math.sign(e)*e*e}function mPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pG(){var e=oI(),t=[0,1],r=!1,n;function i(a){var s=mPe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(WF(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,m1)).map(WF)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vs.apply(i,arguments),vu(i)}function mG(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=xke(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[og(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Xc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return mG().domain(e).range(t).unknown(n)},Vs.apply(a,arguments)}function gG(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[og(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return gG().domain([e,t]).range(i).unknown(a)},Vs.apply(vu(s),arguments)}function vG(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[og(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return vG().domain(e).range(t).unknown(r)},Vs.apply(i,arguments)}const ZT=new Date,QT=new Date;function ti(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>ti(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(ZT.setTime(+a),QT.setTime(+s),e(ZT),e(QT),Math.floor(r(ZT,QT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const y1=ti(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);y1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ti(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):y1);y1.range;const kl=1e3,Rs=kl*60,Pl=Rs*60,$l=Pl*24,pI=$l*7,YF=$l*30,eA=$l*365,rf=ti(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kl)},(e,t)=>(t-e)/kl,e=>e.getUTCSeconds());rf.range;const mI=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());mI.range;const gI=ti(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());gI.range;const vI=ti(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kl-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Pl)},(e,t)=>(t-e)/Pl,e=>e.getHours());vI.range;const yI=ti(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pl)},(e,t)=>(t-e)/Pl,e=>e.getUTCHours());yI.range;const ug=ti(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/$l,e=>e.getDate()-1);ug.range;const F_=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>e.getUTCDate()-1);F_.range;const yG=ti(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>Math.floor(e/$l));yG.range;function Wf(e){return ti(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/pI)}const j_=Wf(0),x1=Wf(1),gPe=Wf(2),vPe=Wf(3),Ih=Wf(4),yPe=Wf(5),xPe=Wf(6);j_.range;x1.range;gPe.range;vPe.range;Ih.range;yPe.range;xPe.range;function Yf(e){return ti(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/pI)}const U_=Yf(0),_1=Yf(1),_Pe=Yf(2),bPe=Yf(3),kh=Yf(4),wPe=Yf(5),EPe=Yf(6);U_.range;_1.range;_Pe.range;bPe.range;kh.range;wPe.range;EPe.range;const xI=ti(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xI.range;const _I=ti(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_I.range;const Hl=ti(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hl.range;const Gl=ti(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ti(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gl.range;function xG(e,t,r,n,i,a){const s=[[rf,1,kl],[rf,5,5*kl],[rf,15,15*kl],[rf,30,30*kl],[a,1,Rs],[a,5,5*Rs],[a,15,15*Rs],[a,30,30*Rs],[i,1,Pl],[i,3,3*Pl],[i,6,6*Pl],[i,12,12*Pl],[n,1,$l],[n,2,2*$l],[r,1,pI],[t,1,YF],[t,3,3*YF],[e,1,eA]];function o(u,d,p){const m=d<u;m&&([u,d]=[d,u]);const y=p&&typeof p.range=="function"?p:c(u,d,p),x=y?y.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,p){const m=Math.abs(d-u)/p,y=tI(([,,E])=>E).right(s,m);if(y===s.length)return e.every(_2(u/eA,d/eA,p));if(y===0)return y1.every(Math.max(_2(u,d,p),1));const[x,b]=s[m/s[y-1][2]<s[y][2]/m?y-1:y];return x.every(b)}return[o,c]}const[TPe,APe]=xG(Gl,_I,U_,yG,yI,gI),[SPe,CPe]=xG(Hl,xI,j_,ug,vI,mI);function tA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ip(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function NPe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=ap(i),d=sp(i),p=ap(a),m=sp(a),y=ap(s),x=sp(s),b=ap(o),E=sp(o),S=ap(c),L=sp(c),k={a:ue,A:ce,b:ae,B:_e,c:null,d:tj,e:tj,f:XPe,g:oRe,G:cRe,H:WPe,I:YPe,j:JPe,L:_G,m:ZPe,M:QPe,p:J,q:V,Q:ij,s:aj,S:eRe,u:tRe,U:rRe,V:nRe,w:iRe,W:aRe,x:null,X:null,y:sRe,Y:lRe,Z:uRe,"%":nj},M={a:ee,A:X,b:q,B:he,c:null,d:rj,e:rj,f:pRe,g:TRe,G:SRe,H:fRe,I:dRe,j:hRe,L:wG,m:mRe,M:gRe,p:xe,q:Ie,Q:ij,s:aj,S:vRe,u:yRe,U:xRe,V:_Re,w:bRe,W:wRe,x:null,X:null,y:ERe,Y:ARe,Z:CRe,"%":nj},D={a:U,A:B,b:F,B:H,c:fe,d:QF,e:QF,f:HPe,g:ZF,G:XF,H:ej,I:ej,j:BPe,L:$Pe,m:UPe,M:VPe,p:O,q:jPe,Q:qPe,s:KPe,S:zPe,u:OPe,U:MPe,V:DPe,w:RPe,W:LPe,x:me,X:ne,y:ZF,Y:XF,Z:FPe,"%":GPe};k.x=P(r,k),k.X=P(n,k),k.c=P(t,k),M.x=P(r,M),M.X=P(n,M),M.c=P(t,M);function P(le,ge){return function(De){var K=[],Ye=-1,Ue=0,Ke=le.length,ze,Le,Je;for(De instanceof Date||(De=new Date(+De));++Ye<Ke;)le.charCodeAt(Ye)===37&&(K.push(le.slice(Ue,Ye)),(Le=JF[ze=le.charAt(++Ye)])!=null?ze=le.charAt(++Ye):Le=ze==="e"?" ":"0",(Je=ge[ze])&&(ze=Je(De,Le)),K.push(ze),Ue=Ye+1);return K.push(le.slice(Ue,Ye)),K.join("")}}function N(le,ge){return function(De){var K=ip(1900,void 0,1),Ye=I(K,le,De+="",0),Ue,Ke;if(Ye!=De.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ge&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ue=rA(ip(K.y,0,1)),Ke=Ue.getUTCDay(),Ue=Ke>4||Ke===0?_1.ceil(Ue):_1(Ue),Ue=F_.offset(Ue,(K.V-1)*7),K.y=Ue.getUTCFullYear(),K.m=Ue.getUTCMonth(),K.d=Ue.getUTCDate()+(K.w+6)%7):(Ue=tA(ip(K.y,0,1)),Ke=Ue.getDay(),Ue=Ke>4||Ke===0?x1.ceil(Ue):x1(Ue),Ue=ug.offset(Ue,(K.V-1)*7),K.y=Ue.getFullYear(),K.m=Ue.getMonth(),K.d=Ue.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Ke="Z"in K?rA(ip(K.y,0,1)).getUTCDay():tA(ip(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Ke+5)%7:K.w+K.U*7-(Ke+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,rA(K)):tA(K)}}function I(le,ge,De,K){for(var Ye=0,Ue=ge.length,Ke=De.length,ze,Le;Ye<Ue;){if(K>=Ke)return-1;if(ze=ge.charCodeAt(Ye++),ze===37){if(ze=ge.charAt(Ye++),Le=D[ze in JF?ge.charAt(Ye++):ze],!Le||(K=Le(le,De,K))<0)return-1}else if(ze!=De.charCodeAt(K++))return-1}return K}function O(le,ge,De){var K=u.exec(ge.slice(De));return K?(le.p=d.get(K[0].toLowerCase()),De+K[0].length):-1}function U(le,ge,De){var K=y.exec(ge.slice(De));return K?(le.w=x.get(K[0].toLowerCase()),De+K[0].length):-1}function B(le,ge,De){var K=p.exec(ge.slice(De));return K?(le.w=m.get(K[0].toLowerCase()),De+K[0].length):-1}function F(le,ge,De){var K=S.exec(ge.slice(De));return K?(le.m=L.get(K[0].toLowerCase()),De+K[0].length):-1}function H(le,ge,De){var K=b.exec(ge.slice(De));return K?(le.m=E.get(K[0].toLowerCase()),De+K[0].length):-1}function fe(le,ge,De){return I(le,t,ge,De)}function me(le,ge,De){return I(le,r,ge,De)}function ne(le,ge,De){return I(le,n,ge,De)}function ue(le){return s[le.getDay()]}function ce(le){return a[le.getDay()]}function ae(le){return c[le.getMonth()]}function _e(le){return o[le.getMonth()]}function J(le){return i[+(le.getHours()>=12)]}function V(le){return 1+~~(le.getMonth()/3)}function ee(le){return s[le.getUTCDay()]}function X(le){return a[le.getUTCDay()]}function q(le){return c[le.getUTCMonth()]}function he(le){return o[le.getUTCMonth()]}function xe(le){return i[+(le.getUTCHours()>=12)]}function Ie(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ge=P(le+="",k);return ge.toString=function(){return le},ge},parse:function(le){var ge=N(le+="",!1);return ge.toString=function(){return le},ge},utcFormat:function(le){var ge=P(le+="",M);return ge.toString=function(){return le},ge},utcParse:function(le){var ge=N(le+="",!0);return ge.toString=function(){return le},ge}}}var JF={"-":"",_:" ",0:"0"},gi=/^\s*\d+/,IPe=/^%/,kPe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function PPe(e){return e.replace(kPe,"\\$&")}function ap(e){return new RegExp("^(?:"+e.map(PPe).join("|")+")","i")}function sp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function RPe(e,t,r){var n=gi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OPe(e,t,r){var n=gi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function MPe(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function DPe(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function LPe(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function XF(e,t,r){var n=gi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jPe(e,t,r){var n=gi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UPe(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function QF(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function BPe(e,t,r){var n=gi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ej(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function VPe(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zPe(e,t,r){var n=gi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $Pe(e,t,r){var n=gi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function HPe(e,t,r){var n=gi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GPe(e,t,r){var n=IPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qPe(e,t,r){var n=gi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KPe(e,t,r){var n=gi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function tj(e,t){return hr(e.getDate(),t,2)}function WPe(e,t){return hr(e.getHours(),t,2)}function YPe(e,t){return hr(e.getHours()%12||12,t,2)}function JPe(e,t){return hr(1+ug.count(Hl(e),e),t,3)}function _G(e,t){return hr(e.getMilliseconds(),t,3)}function XPe(e,t){return _G(e,t)+"000"}function ZPe(e,t){return hr(e.getMonth()+1,t,2)}function QPe(e,t){return hr(e.getMinutes(),t,2)}function eRe(e,t){return hr(e.getSeconds(),t,2)}function tRe(e){var t=e.getDay();return t===0?7:t}function rRe(e,t){return hr(j_.count(Hl(e)-1,e),t,2)}function bG(e){var t=e.getDay();return t>=4||t===0?Ih(e):Ih.ceil(e)}function nRe(e,t){return e=bG(e),hr(Ih.count(Hl(e),e)+(Hl(e).getDay()===4),t,2)}function iRe(e){return e.getDay()}function aRe(e,t){return hr(x1.count(Hl(e)-1,e),t,2)}function sRe(e,t){return hr(e.getFullYear()%100,t,2)}function oRe(e,t){return e=bG(e),hr(e.getFullYear()%100,t,2)}function lRe(e,t){return hr(e.getFullYear()%1e4,t,4)}function cRe(e,t){var r=e.getDay();return e=r>=4||r===0?Ih(e):Ih.ceil(e),hr(e.getFullYear()%1e4,t,4)}function uRe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function rj(e,t){return hr(e.getUTCDate(),t,2)}function fRe(e,t){return hr(e.getUTCHours(),t,2)}function dRe(e,t){return hr(e.getUTCHours()%12||12,t,2)}function hRe(e,t){return hr(1+F_.count(Gl(e),e),t,3)}function wG(e,t){return hr(e.getUTCMilliseconds(),t,3)}function pRe(e,t){return wG(e,t)+"000"}function mRe(e,t){return hr(e.getUTCMonth()+1,t,2)}function gRe(e,t){return hr(e.getUTCMinutes(),t,2)}function vRe(e,t){return hr(e.getUTCSeconds(),t,2)}function yRe(e){var t=e.getUTCDay();return t===0?7:t}function xRe(e,t){return hr(U_.count(Gl(e)-1,e),t,2)}function EG(e){var t=e.getUTCDay();return t>=4||t===0?kh(e):kh.ceil(e)}function _Re(e,t){return e=EG(e),hr(kh.count(Gl(e),e)+(Gl(e).getUTCDay()===4),t,2)}function bRe(e){return e.getUTCDay()}function wRe(e,t){return hr(_1.count(Gl(e)-1,e),t,2)}function ERe(e,t){return hr(e.getUTCFullYear()%100,t,2)}function TRe(e,t){return e=EG(e),hr(e.getUTCFullYear()%100,t,2)}function ARe(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function SRe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kh(e):kh.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function CRe(){return"+0000"}function nj(){return"%"}function ij(e){return+e}function aj(e){return Math.floor(+e/1e3)}var Rd,TG,AG;NRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NRe(e){return Rd=NPe(e),TG=Rd.format,Rd.parse,AG=Rd.utcFormat,Rd.utcParse,Rd}function IRe(e){return new Date(e)}function kRe(e){return e instanceof Date?+e:+new Date(+e)}function bI(e,t,r,n,i,a,s,o,c,u){var d=oI(),p=d.invert,m=d.domain,y=u(".%L"),x=u(":%S"),b=u("%I:%M"),E=u("%I %p"),S=u("%a %d"),L=u("%b %d"),k=u("%B"),M=u("%Y");function D(P){return(c(P)<P?y:o(P)<P?x:s(P)<P?b:a(P)<P?E:n(P)<P?i(P)<P?S:L:r(P)<P?k:M)(P)}return d.invert=function(P){return new Date(p(P))},d.domain=function(P){return arguments.length?m(Array.from(P,kRe)):m().map(IRe)},d.ticks=function(P){var N=m();return e(N[0],N[N.length-1],P??10)},d.tickFormat=function(P,N){return N==null?D:u(N)},d.nice=function(P){var N=m();return(!P||typeof P.range!="function")&&(P=t(N[0],N[N.length-1],P??10)),P?m(fG(N,P)):d},d.copy=function(){return cg(d,bI(e,t,r,n,i,a,s,o,c,u))},d}function PRe(){return Vs.apply(bI(SPe,CPe,Hl,xI,j_,ug,vI,mI,rf,TG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RRe(){return Vs.apply(bI(TPe,APe,Gl,_I,U_,F_,yI,gI,rf,AG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function B_(){var e=0,t=1,r,n,i,a,s=fa,o=!1,c;function u(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(o=!!p,u):o},u.interpolator=function(p){return arguments.length?(s=p,u):s};function d(p){return function(m){var y,x;return arguments.length?([y,x]=m,s=p(y,x),u):[s(0),s(1)]}}return u.range=d(qh),u.rangeRound=d(sI),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return a=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function yu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SG(){var e=vu(B_()(fa));return e.copy=function(){return yu(e,SG())},ec.apply(e,arguments)}function CG(){var e=uI(B_()).domain([1,10]);return e.copy=function(){return yu(e,CG()).base(e.base())},ec.apply(e,arguments)}function NG(){var e=fI(B_());return e.copy=function(){return yu(e,NG()).constant(e.constant())},ec.apply(e,arguments)}function wI(){var e=dI(B_());return e.copy=function(){return yu(e,wI()).exponent(e.exponent())},ec.apply(e,arguments)}function ORe(){return wI.apply(null,arguments).exponent(.5)}function IG(){var e=[],t=fa;function r(n){if(n!=null&&!isNaN(n=+n))return t((og(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>yke(e,a/n))},r.copy=function(){return IG(t).domain(e)},ec.apply(r,arguments)}function V_(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=fa,d,p=!1,m;function y(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-a)*(n*b<n*a?o:c),u(p?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,y):[e,t,r]},y.clamp=function(b){return arguments.length?(p=!!b,y):p},y.interpolator=function(b){return arguments.length?(u=b,y):u};function x(b){return function(E){var S,L,k;return arguments.length?([S,L,k]=E,u=Gke(b,[S,L,k]),y):[u(0),u(.5),u(1)]}}return y.range=x(qh),y.rangeRound=x(sI),y.unknown=function(b){return arguments.length?(m=b,y):m},function(b){return d=b,i=b(e),a=b(t),s=b(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,y}}function kG(){var e=vu(V_()(fa));return e.copy=function(){return yu(e,kG())},ec.apply(e,arguments)}function PG(){var e=uI(V_()).domain([.1,1,10]);return e.copy=function(){return yu(e,PG()).base(e.base())},ec.apply(e,arguments)}function RG(){var e=fI(V_());return e.copy=function(){return yu(e,RG()).constant(e.constant())},ec.apply(e,arguments)}function EI(){var e=dI(V_());return e.copy=function(){return yu(e,EI()).exponent(e.exponent())},ec.apply(e,arguments)}function MRe(){return EI.apply(null,arguments).exponent(.5)}const wp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nI,scaleDiverging:kG,scaleDivergingLog:PG,scaleDivergingPow:EI,scaleDivergingSqrt:MRe,scaleDivergingSymlog:RG,scaleIdentity:uG,scaleImplicit:b2,scaleLinear:cG,scaleLog:dG,scaleOrdinal:rI,scalePoint:bke,scalePow:hI,scaleQuantile:mG,scaleQuantize:gG,scaleRadial:pG,scaleSequential:SG,scaleSequentialLog:CG,scaleSequentialPow:wI,scaleSequentialQuantile:IG,scaleSequentialSqrt:ORe,scaleSequentialSymlog:NG,scaleSqrt:pPe,scaleSymlog:hG,scaleThreshold:vG,scaleTime:PRe,scaleUtc:RRe,tickFormat:lG},Symbol.toStringTag,{value:"Module"}));var tc=e=>e.chartData,z_=we([tc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),OG=(e,t,r,n)=>n?z_(e):tc(e),MG=(e,t,r)=>r?z_(e):tc(e);function ql(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if($t(t)&&$t(r))return!0}return!1}function sj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function DG(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if($t(r))i=r;else if(typeof r=="function")return;if($t(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(ql(s))return s}}function DRe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ql(n))return sj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(nt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&g5.test(i)){var c=g5.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t?.[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(nt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[1]))}catch{}else if(typeof a=="string"&&v5.test(a)){var d=v5.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var p=+d[1];o=t[1]+p}}else o=t?.[1];var m=[s,o];if(ql(m))return t==null?m:sj(m,t,r)}}}var Kh=1e9,LRe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AI,rn=!0,Fs="[DecimalError] ",df=Fs+"Invalid argument: ",TI=Fs+"Exponent out of range: ",Wh=Math.floor,Ju=Math.pow,FRe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,is,fi=1e7,Wr=7,LG=9007199254740991,b1=Wh(LG/Wr),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ot.dividedBy=ot.div=function(e){return Dl(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,r=t.constructor;return Ur(Dl(t,new r(e),0,1),r.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return qn(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(is))throw Error(Fs+"NaN");if(r.s<1)throw Error(Fs+(r.s?"NaN":"-Infinity"));return r.eq(is)?new n(0):(rn=!1,t=Dl(Om(r,a),Om(e,a),a),rn=!0,Ur(t,i))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UG(t,e):FG(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Fs+"NaN");return r.s?(rn=!1,t=Dl(r,e,0,1).times(e),rn=!0,r.minus(t)):Ur(new n(r),i)};ot.naturalExponential=ot.exp=function(){return jG(this)};ot.naturalLogarithm=ot.ln=function(){return Om(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FG(t,e):UG(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(df+e);if(t=qn(i)+1,n=i.d.length-1,r=n*Wr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ot.squareRoot=ot.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Fs+"NaN")}for(e=qn(o),rn=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=zo(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Dl(o,a,s+2)).times(.5),zo(a.d).slice(0,s)===(t=zo(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Ur(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return rn=!0,Ur(n,r)};ot.times=ot.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,p=d.constructor,m=d.d,y=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=y.length,c<u&&(a=m,m=y,y=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+y[n]*m[i-n-1]+t,a[i--]=o%fi|0,t=o/fi|0;a[i]=(a[i]+t)%fi|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,rn?Ur(e,p.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Zo(e,0,Kh),t===void 0?t=n.rounding:Zo(t,0,8),Ur(r,e+qn(r)+1,t))};ot.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Rf(n,!0):(Zo(e,0,Kh),t===void 0?t=i.rounding:Zo(t,0,8),n=Ur(new i(n),e+1,t),r=Rf(n,!0,e+1)),r};ot.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Rf(i):(Zo(e,0,Kh),t===void 0?t=a.rounding:Zo(t,0,8),n=Ur(new a(i),e+qn(i)+1,t),r=Rf(n.abs(),!1,e+qn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return Ur(new t(e),qn(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(is);if(o=new c(o),!o.s){if(e.s<1)throw Error(Fs+"Infinity");return o}if(o.eq(is))return o;if(n=c.precision,e.eq(is))return Ur(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=LG){for(i=new c(is),t=Math.ceil(n/Wr+4),rn=!1;r%2&&(i=i.times(o),lj(i.d,t)),r=Wh(r/2),r!==0;)o=o.times(o),lj(o.d,t);return rn=!0,e.s<0?new c(is).div(i):Ur(i,n)}}else if(a<0)throw Error(Fs+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,rn=!1,i=e.times(Om(o,n+u)),rn=!0,i=jG(i),i.s=a,i};ot.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=qn(i),n=Rf(i,r<=a.toExpNeg||r>=a.toExpPos)):(Zo(e,1,Kh),t===void 0?t=a.rounding:Zo(t,0,8),i=Ur(new a(i),e,t),r=qn(i),n=Rf(i,e<=r||r<=a.toExpNeg,e)),n};ot.toSignificantDigits=ot.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Zo(e,1,Kh),t===void 0?t=n.rounding:Zo(t,0,8)),Ur(new n(r),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=qn(e),r=e.constructor;return Rf(e,t<=r.toExpNeg||t>=r.toExpPos)};function FG(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rn?Ur(t,p):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(p/Wr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/fi|0,c[a]%=fi;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,rn?Ur(t,p):t}function Zo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(df+e)}function zo(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Wr-n.length,r&&(a+=Oc(r)),a+=n;s=e[t],n=s+"",r=Wr-n.length,r&&(a+=Oc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Dl=(function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%fi|0,s=a/fi|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*fi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,p,m,y,x,b,E,S,L,k,M,D,P,N,I,O=n.constructor,U=n.s==i.s?1:-1,B=n.d,F=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(Fs+"Division by zero");for(c=n.e-i.e,N=F.length,D=B.length,y=new O(U),x=y.d=[],u=0;F[u]==(B[u]||0);)++u;if(F[u]>(B[u]||0)&&--c,a==null?L=a=O.precision:s?L=a+(qn(n)-qn(i))+1:L=a,L<0)return new O(0);if(L=L/Wr+2|0,u=0,N==1)for(d=0,F=F[0],L++;(u<D||d)&&L--;u++)k=d*fi+(B[u]||0),x[u]=k/F|0,d=k%F|0;else{for(d=fi/(F[0]+1)|0,d>1&&(F=e(F,d),B=e(B,d),N=F.length,D=B.length),M=N,b=B.slice(0,N),E=b.length;E<N;)b[E++]=0;I=F.slice(),I.unshift(0),P=F[0],F[1]>=fi/2&&++P;do d=0,o=t(F,b,N,E),o<0?(S=b[0],N!=E&&(S=S*fi+(b[1]||0)),d=S/P|0,d>1?(d>=fi&&(d=fi-1),p=e(F,d),m=p.length,E=b.length,o=t(p,b,m,E),o==1&&(d--,r(p,N<m?I:F,m))):(d==0&&(o=d=1),p=F.slice()),m=p.length,m<E&&p.unshift(0),r(b,p,E),o==-1&&(E=b.length,o=t(F,b,N,E),o<1&&(d++,r(b,N<E?I:F,E))),E=b.length):o===0&&(d++,b=[0]),x[u++]=d,o&&b[0]?b[E++]=B[M]||0:(b=[B[M]],E=1);while((M++<D||b[0]!==void 0)&&L--)}return x[0]||x.shift(),y.e=c,Ur(y,s?a+qn(y)+1:a)}})();function jG(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,p=d.precision;if(qn(e)>16)throw Error(TI+qn(e));if(!e.s)return new d(is);for(rn=!1,o=p,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ju(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(is),d.precision=o;;){if(i=Ur(i.times(e),o),r=r.times(++c),s=a.plus(Dl(i,r,o)),zo(s.d).slice(0,o)===zo(a.d).slice(0,o)){for(;u--;)a=Ur(a.times(a),o);return d.precision=p,t==null?(rn=!0,Ur(a,p)):a}a=s}}function qn(e){for(var t=e.e*Wr,r=e.d[0];r>=10;r/=10)t++;return t}function nA(e,t,r){if(t>e.LN10.sd())throw rn=!0,r&&(e.precision=r),Error(Fs+"LN10 precision limit exceeded");return Ur(new e(e.LN10),t)}function Oc(e){for(var t="";e--;)t+="0";return t}function Om(e,t){var r,n,i,a,s,o,c,u,d,p=1,m=10,y=e,x=y.d,b=y.constructor,E=b.precision;if(y.s<1)throw Error(Fs+(y.s?"NaN":"-Infinity"));if(y.eq(is))return new b(0);if(t==null?(rn=!1,u=E):u=t,y.eq(10))return t==null&&(rn=!0),nA(b,u);if(u+=m,b.precision=u,r=zo(x),n=r.charAt(0),a=qn(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=zo(y.d),n=r.charAt(0),p++;a=qn(y),n>1?(y=new b("0."+r),a++):y=new b(n+"."+r.slice(1))}else return c=nA(b,u+2,E).times(a+""),y=Om(new b(n+"."+r.slice(1)),u-m).plus(c),b.precision=E,t==null?(rn=!0,Ur(y,E)):y;for(o=s=y=Dl(y.minus(is),y.plus(is),u),d=Ur(y.times(y),u),i=3;;){if(s=Ur(s.times(d),u),c=o.plus(Dl(s,new b(i),u)),zo(c.d).slice(0,u)===zo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(nA(b,u+2,E).times(a+""))),o=Dl(o,new b(p),u),b.precision=E,t==null?(rn=!0,Ur(o,E)):o;o=c,i+=2}}function oj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Wh(r/Wr),e.d=[],n=(r+1)%Wr,r<0&&(n+=Wr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Wr;n<i;)e.d.push(+t.slice(n,n+=Wr));t=t.slice(n),n=Wr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),rn&&(e.e>b1||e.e<-b1))throw Error(TI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ur(e,t,r){var n,i,a,s,o,c,u,d,p=e.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Wr,i=t,u=p[d=0];else{if(d=Math.ceil((n+1)/Wr),a=p.length,d>=a)return e;for(u=a=p[d],s=1;a>=10;a/=10)s++;n%=Wr,i=n-Wr+s}if(r!==void 0&&(a=Ju(10,s-i-1),o=u/a%10|0,c=t<0||p[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Ju(10,s-i):0:p[d-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(a=qn(e),p.length=1,t=t-a-1,p[0]=Ju(10,(Wr-t%Wr)%Wr),e.e=Wh(-t/Wr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=d,a=1,d--):(p.length=d+1,a=Ju(10,Wr-n),p[d]=i>0?(u/Ju(10,s-i)%Ju(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==fi&&(p[0]=1,++e.e);break}else{if(p[d]+=a,p[d]!=fi)break;p[d--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(rn&&(e.e>b1||e.e<-b1))throw Error(TI+qn(e));return e}function UG(e,t){var r,n,i,a,s,o,c,u,d,p,m=e.constructor,y=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),rn?Ur(t,y):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=p.length):(r=p,n=u,o=c.length),i=Math.max(Math.ceil(y/Wr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=p.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}s=0}for(d&&(r=c,c=p,p=r,t.s=-t.s),o=c.length,i=p.length-o;i>0;--i)c[o++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=fi-1;--c[a],c[i]+=fi}c[i]-=p[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rn?Ur(t,y):t):new m(0)}function Rf(e,t,r){var n,i=qn(e),a=zo(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Oc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Oc(-i-1)+a,r&&(n=r-s)>0&&(a+=Oc(n))):i>=s?(a+=Oc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Oc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Oc(n))),e.s<0?"-"+a:a}function lj(e,t){if(e.length>t)return e.length=t,!0}function BG(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(df+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return oj(s,a.toString())}else if(typeof a!="string")throw Error(df+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,FRe.test(a))oj(s,a);else throw Error(df+a)}if(i.prototype=ot,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=BG,i.config=i.set=jRe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function jRe(e){if(!e||typeof e!="object")throw Error(Fs+"Object expected");var t,r,n,i=["precision",1,Kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Wh(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(df+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(df+r+": "+n);return this}var AI=BG(LRe);is=new AI(1);const Nr=AI;function VG(e){var t;return e===0?t=1:t=Math.floor(new Nr(e).abs().log(10).toNumber())+1,t}function zG(e,t,r){for(var n=new Nr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var $G=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},HG=(e,t,r)=>{if(e.lte(0))return new Nr(0);var n=VG(e.toNumber()),i=new Nr(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Nr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?new Nr(c.toNumber()):new Nr(Math.ceil(c.toNumber()))},URe=(e,t,r)=>{var n=new Nr(1),i=new Nr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Nr(10).pow(VG(e)-1),i=new Nr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Nr(Math.floor(e)))}else e===0?i=new Nr(Math.floor((t-1)/2)):r||(i=new Nr(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],c=0;c<t;c++)o.push(i.add(new Nr(c-s).mul(n)).toNumber());return o},GG=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var s=HG(new Nr(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Nr(0):(o=new Nr(t).add(r).div(2),o=o.sub(new Nr(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Nr(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?GG(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Nr(c).mul(s)),tickMax:o.add(new Nr(u).mul(s))})},BRe=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=$G([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return r>n?u.reverse():u}if(o===c)return URe(o,i,a);var{step:d,tickMin:p,tickMax:m}=GG(o,c,s,a,0),y=zG(p,m.add(new Nr(.1).mul(d)),d);return r>n?y.reverse():y},VRe=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=$G([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var c=Math.max(r,2),u=HG(new Nr(o).sub(s).div(c-1),a,0),d=[...zG(new Nr(s),new Nr(o),u),o];return a===!1&&(d=d.map(p=>Math.round(p))),n>i?d.reverse():d},qG=e=>e.rootProps.maxBarSize,zRe=e=>e.rootProps.barGap,KG=e=>e.rootProps.barCategoryGap,$Re=e=>e.rootProps.barSize,fg=e=>e.rootProps.stackOffset,WG=e=>e.rootProps.reverseStackOrder,SI=e=>e.options.chartName,CI=e=>e.rootProps.syncId,YG=e=>e.rootProps.syncMethod,NI=e=>e.options.eventEmitter,HRe=e=>e.rootProps.baseValue,Gn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gu={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Lo={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},$_=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function H_(e,t,r){if(r!=="auto")return r;if(e!=null)return tl(e,t)?"category":"number"}function cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cj(Object(r),!0).forEach(function(n){GRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GRe(e,t,r){return(t=qRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qRe(e){var t=KRe(e,"string");return typeof t=="symbol"?t:t+""}function KRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uj={allowDataOverflow:Gu.allowDataOverflow,allowDecimals:Gu.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gu.angleAxisId,includeHidden:!1,name:void 0,reversed:Gu.reversed,scale:Gu.scale,tick:Gu.tick,tickCount:void 0,ticks:void 0,type:Gu.type,unit:void 0},fj={allowDataOverflow:Lo.allowDataOverflow,allowDecimals:Lo.allowDecimals,allowDuplicatedCategory:Lo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lo.radiusAxisId,includeHidden:Lo.includeHidden,name:void 0,reversed:Lo.reversed,scale:Lo.scale,tick:Lo.tick,tickCount:Lo.tickCount,ticks:void 0,type:Lo.type,unit:void 0},WRe=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},II=we([WRe,PH],(e,t)=>{var r;if(e!=null)return e;var n=(r=H_(t,"angleAxis",uj.type))!==null&&r!==void 0?r:"category";return w1(w1({},uj),{},{type:n})}),YRe=(e,t)=>e.polarAxis.radiusAxis[t],kI=we([YRe,PH],(e,t)=>{var r;if(e!=null)return e;var n=(r=H_(t,"radiusAxis",fj.type))!==null&&r!==void 0?r:"category";return w1(w1({},fj),{},{type:n})}),G_=e=>e.polarOptions,PI=we([Zl,Ql,ei],YH),JG=we([G_,PI],(e,t)=>{if(e!=null)return Ki(e.innerRadius,t,0)}),XG=we([G_,PI],(e,t)=>{if(e!=null)return Ki(e.outerRadius,t,t*.8)}),JRe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},ZG=we([G_],JRe);we([II,ZG],$_);var QG=we([PI,JG,XG],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});we([kI,QG],$_);var eq=we([lr,G_,JG,XG,Zl,Ql],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:Ki(s,i,i/2),cy:Ki(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),cn=(e,t)=>t,dg=(e,t,r)=>r;function q_(e){return e?.id}function tq(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=q_(o);u.forEach((p,m)=>{var y=a==null||i?m:String(Lr(p,a,null)),x=Lr(p,o.dataKey,0),b;s.has(y)?b=s.get(y):b={},Object.assign(b,{[d]:x}),s.set(y,b)})}}),Array.from(s.values())}function K_(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var W_=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Y_(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function XRe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var vi=e=>{var t=lr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Yh=e=>e.tooltip.settings.axisId;function ZRe(e){if(e in wp)return wp[e]();var t="scale".concat(Xm(e));if(t in wp)return wp[t]()}function dj(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var c=e.bandwidth();switch(s.position){case"middle":o+=c/2;break;case"end":o+=c;break}}return o}}}}function hj(e,t,r){if(typeof e=="function")return dj(e.copy().domain(t).range(r));if(e!=null){var n=ZRe(e);if(n!=null)return n.domain(t).range(r),dj(n)}}var rq=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!ql(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];$t(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){QRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QRe(e,t,r){return(t=eOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eOe(e){var t=tOe(e,"string");return typeof t=="symbol"?t:t+""}function tOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A2=[0,"auto"],oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nq=(e,t)=>e.cartesianAxis.xAxis[t],rc=(e,t)=>{var r=nq(e,t);return r??oi},li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:A2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:tg},iq=(e,t)=>e.cartesianAxis.yAxis[t],nc=(e,t)=>{var r=iq(e,t);return r??li},rOe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},RI=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??rOe},wn=(e,t,r)=>{switch(t){case"xAxis":return rc(e,r);case"yAxis":return nc(e,r);case"zAxis":return RI(e,r);case"angleAxis":return II(e,r);case"radiusAxis":return kI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nOe=(e,t,r)=>{switch(t){case"xAxis":return rc(e,r);case"yAxis":return nc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jh=(e,t,r)=>{switch(t){case"xAxis":return rc(e,r);case"yAxis":return nc(e,r);case"angleAxis":return II(e,r);case"radiusAxis":return kI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},aq=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function OI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var J_=e=>e.graphicalItems.cartesianItems,iOe=we([cn,dg],OI),MI=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),hg=we([J_,wn,iOe],MI,{memoizeOptions:{resultEqualityCheck:Y_}}),sq=we([hg],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(K_)),oq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),aOe=we([hg],oq),DI=e=>e.map(t=>t.data).filter(Boolean).flat(1),sOe=we([hg],DI,{memoizeOptions:{resultEqualityCheck:Y_}}),LI=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},FI=we([sOe,OG],LI),jI=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Lr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Lr(i,n)}))):e.map(n=>({value:n})),X_=we([FI,wn,hg],jI);function lq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Yy(e){if(Jo(e)||e instanceof Date){var t=Number(e);if($t(t))return t}}function mj(e){if(Array.isArray(e)){var t=[Yy(e[0]),Yy(e[1])];return ql(t)?t:void 0}var r=Yy(e);if(r!=null)return[r,r]}function Kl(e){return e.map(Yy).filter(La)}function oOe(e,t,r){return!r||typeof t!="number"||mo(t)?[]:r.length?Kl(r.flatMap(n=>{var i=Lr(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!$t(a)||!$t(s)))return[t-a,t+s]})):[]}var ri=e=>{var t=vi(e),r=Yh(e);return Jh(e,t,r)},pg=we([ri],e=>e?.dataKey),lOe=we([sq,OG,ri],tq),cq=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var c=s[o.stackId];return c==null&&(c=[]),c.push(o),s[o.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,u=n?[...c].reverse():c,d=u.map(q_);return[o,{stackedData:ICe(e,d,r),graphicalItems:u}]}))},T1=we([lOe,sq,fg,WG],cq),uq=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=OCe(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},cOe=we([wn],e=>e.allowDataOverflow),UI=e=>{var t;if(e==null||!("domain"in e))return A2;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Kl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:A2},BI=we([wn],UI),VI=we([BI,cOe],DG),uOe=we([T1,tc,cn,VI],uq,{memoizeOptions:{resultEqualityCheck:W_}}),Z_=e=>e.errorBars,fOe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>lq(r,n)),A1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},zI=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,p=(u=n[c.id])===null||u===void 0?void 0:u.filter(S=>lq(i,S)),m=Lr(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),y=oOe(o,m,p);if(y.length>=2){var x=Math.min(...y),b=Math.max(...y);(a==null||x<a)&&(a=x),(s==null||b>s)&&(s=b)}var E=mj(m);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),s=s==null?E[1]:Math.max(s,E[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=mj(Lr(o,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),$t(a)&&$t(s))return[a,s]},dOe=we([FI,wn,aOe,Z_,cn],zI,{memoizeOptions:{resultEqualityCheck:W_}});function hOe(e){var{value:t}=e;if(Jo(t)||t instanceof Date)return t}var pOe=(e,t,r)=>{var n=e.map(hOe).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&C$(n))?QH(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},fq=e=>e.referenceElements.dots,Xh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),mOe=we([fq,cn,dg],Xh),dq=e=>e.referenceElements.areas,gOe=we([dq,cn,dg],Xh),hq=e=>e.referenceElements.lines,vOe=we([hq,cn,dg],Xh),pq=(e,t)=>{if(e!=null){var r=Kl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},yOe=we(mOe,cn,pq),mq=(e,t)=>{if(e!=null){var r=Kl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},xOe=we([gOe,cn],mq);function _Oe(e){var t;if(e.x!=null)return Kl([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Kl(r)}function bOe(e){var t;if(e.y!=null)return Kl([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Kl(r)}var gq=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?_Oe(n):bOe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},wOe=we([vOe,cn],gq),EOe=we(yOe,wOe,xOe,(e,t,r)=>A1(e,r,t)),$I=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?A1(n,a,i):A1(a,i);return DRe(t,u,e.allowDataOverflow)},TOe=we([wn,BI,VI,uOe,dOe,EOe,lr,cn],$I,{memoizeOptions:{resultEqualityCheck:W_}}),AOe=[0,1],HI=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=tl(t,a);if(u&&o==null){var d;return QH(0,(d=r?.length)!==null&&d!==void 0?d:0)}return c==="category"?pOe(n,e,u):i==="expand"?AOe:s}},GI=we([wn,lr,FI,X_,fg,cn,TOe],HI);function SOe(e){return e in wp}var vq=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Xm(n));return SOe(a)?a:"point"}}},xu=we([wn,aq,SI],vq);function qI(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?hj(e.scale,r,n):hj(t,r,n)}var KI=(e,t,r)=>{var n=UI(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ql(e))return BRe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ql(e))return VRe(e,t.tickCount,t.allowDecimals)}},WI=we([GI,Jh,xu],KI),YI=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&ql(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=(i=r[0])!==null&&i!==void 0?i:0,c=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(c,u)]}return t},COe=we([wn,GI,WI,cn],YI),NOe=we(X_,wn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Kl(e.map(p=>p.value))).sort((p,m)=>p-m),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],u=n[o+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/s}}),yq=we(NOe,lr,KG,ei,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!$t(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ki(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),IOe=(e,t,r)=>{var n=rc(e,t);return n==null||typeof n.padding!="string"?0:yq(e,"xAxis",t,r,n.padding)},kOe=(e,t,r)=>{var n=nc(e,t);return n==null||typeof n.padding!="string"?0:yq(e,"yAxis",t,r,n.padding)},POe=we(rc,IOe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),ROe=we(nc,kOe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),OOe=we([ei,POe,P_,k_,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),MOe=we([ei,lr,ROe,P_,k_,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),mg=(e,t,r,n)=>{var i;switch(t){case"xAxis":return OOe(e,r,n);case"yAxis":return MOe(e,r,n);case"zAxis":return(i=RI(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return ZG(e);case"radiusAxis":return QG(e,r);default:return}},xq=we([wn,mg],$_),DOe=we([xu,COe],rq),Q_=we([wn,xu,DOe,xq],qI);we([hg,Z_,cn],fOe);function _q(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var eb=(e,t)=>t,tb=(e,t,r)=>r,LOe=we(N_,eb,tb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_q)),FOe=we(I_,eb,tb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_q)),bq=(e,t)=>({width:e.width,height:t.height}),jOe=(e,t)=>{var r=typeof t.width=="number"?t.width:tg;return{width:r,height:e.height}},wq=we(ei,rc,bq),UOe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},BOe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},VOe=we(Ql,ei,LOe,eb,tb,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=bq(t,o);s==null&&(s=UOe(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),zOe=we(Zl,ei,FOe,eb,tb,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=jOe(t,o);s==null&&(s=BOe(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),$Oe=(e,t)=>{var r=rc(e,t);if(r!=null)return VOe(e,r.orientation,r.mirror)},HOe=we([ei,rc,$Oe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),GOe=(e,t)=>{var r=nc(e,t);if(r!=null)return zOe(e,r.orientation,r.mirror)},qOe=we([ei,nc,GOe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Eq=we(ei,nc,(e,t)=>{var r=typeof t.width=="number"?t.width:tg;return{width:r,height:e.height}}),gj=(e,t,r)=>{switch(t){case"xAxis":return wq(e,r).width;case"yAxis":return Eq(e,r).height;default:return}},Tq=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=tl(e,n),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&C$(c))return c}},JI=we([lr,X_,wn,cn],Tq),Aq=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=tl(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},XI=we([lr,X_,Jh,cn],Aq),vj=we([lr,nOe,xu,Q_,JI,XI,mg,WI,cn],(e,t,r,n,i,a,s,o,c)=>{if(t!=null){var u=tl(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),KOe=(e,t,r,n,i,a,s,o,c)=>{if(!(t==null||n==null)){var u=tl(e,c),{type:d,ticks:p,tickCount:m}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/y:0;x=c==="angleAxis"&&a!=null&&a.length>=2?di(a[0]-a[1])*2*x:x;var b=p||i;return b?b.map((E,S)=>{var L=s?s.indexOf(E):E,k=n.map(L);return $t(k)?{index:S,coordinate:k+x,value:E,offset:x}:null}).filter(La):u&&o?o.map((E,S)=>{var L=n.map(E);return $t(L)?{coordinate:L+x,value:E,index:S,offset:x}:null}).filter(La):n.ticks?n.ticks(m).map((E,S)=>{var L=n.map(E);return $t(L)?{coordinate:L+x,value:E,index:S,offset:x}:null}).filter(La):n.domain().map((E,S)=>{var L=n.map(E);return $t(L)?{coordinate:L+x,value:s?s[E]:E,index:S,offset:x}:null}).filter(La)}},Sq=we([lr,Jh,xu,Q_,WI,mg,JI,XI,cn],KOe),WOe=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=tl(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&n?.length>=2?di(n[0]-n[1])*2*u:u,o&&a?a.map((d,p)=>{var m=r.map(d);return $t(m)?{coordinate:m+u,value:d,index:p,offset:u}:null}).filter(La):r.ticks?r.ticks(c).map((d,p)=>{var m=r.map(d);return $t(m)?{coordinate:m+u,value:d,index:p,offset:u}:null}).filter(La):r.domain().map((d,p)=>{var m=r.map(d);return $t(m)?{coordinate:m+u,value:i?i[d]:d,index:p,offset:u}:null}).filter(La)}},ou=we([lr,Jh,Q_,mg,JI,XI,cn],WOe),lu=we(wn,Q_,(e,t)=>{if(!(e==null||t==null))return E1(E1({},e),{},{scale:t})}),YOe=we([wn,xu,GI,xq],qI);we((e,t,r)=>RI(e,r),YOe,(e,t)=>{if(!(e==null||t==null))return E1(E1({},e),{},{scale:t})});var JOe=we([lr,N_,I_],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Cq=e=>e.options.defaultTooltipEventType,Nq=e=>e.options.validateTooltipEventTypes;function Iq(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function ZI(e,t){var r=Cq(e),n=Nq(e);return Iq(t,r,n)}function XOe(e){return ut(t=>ZI(t,e))}var kq=(e,t)=>{var r,n=Number(t);if(!(mo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ZOe=e=>e.tooltip.settings,Fc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},QOe={itemInteraction:{click:Fc,hover:Fc},axisInteraction:{click:Fc,hover:Fc},keyboardInteraction:Fc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Pq=Va({name:"tooltip",initialState:QOe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:en()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ho(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:en()},removeTooltipEntrySettings:{reducer(e,t){var r=ho(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:en()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:e4e,replaceTooltipEntrySettings:t4e,removeTooltipEntrySettings:r4e,setTooltipSettingsState:n4e,setActiveMouseOverItemIndex:Rq,mouseLeaveItem:i4e,mouseLeaveChart:Oq,setActiveClickItemIndex:a4e,setMouseOverAxisIndex:Mq,setMouseClickAxisIndex:s4e,setSyncInteraction:S2,setKeyboardInteraction:C2}=Pq.actions,o4e=Pq.reducer;function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){l4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l4e(e,t,r){return(t=c4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c4e(e){var t=u4e(e,"string");return typeof t=="symbol"?t:t+""}function u4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f4e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function d4e(e){return e.index!=null}var Dq=(e,t,r,n)=>{if(t==null)return Fc;var i=f4e(e,t,r);if(i==null)return Fc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(d4e(i)){if(a)return _y(_y({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return _y(_y({},Fc),{},{coordinate:i.coordinate})};function h4e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function p4e(e,t){var r=h4e(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function m4e(e,t,r){if(r==null||t==null)return!0;var n=Lr(e,t);return n==null||!ql(r)?!0:p4e(n,r)}var QI=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!$t(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(s,Math.min(a,o)),u=t[c];return u==null||m4e(u,r,n)?String(c):null},Lq=(e,t,r,n,i,a,s)=>{if(a!=null){var o=s[0],c=o?.getPosition(a);if(c!=null)return c;var u=i?.[Number(a)];if(u)return r==="horizontal"?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},Fq=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},jq=e=>e.options.tooltipPayloadSearcher,Zh=e=>e.tooltip;function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){g4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g4e(e,t,r){return(t=v4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4e(e){var t=y4e(e,"string");return typeof t=="symbol"?t:t+""}function y4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x4e(e,t){return e??t}var Uq=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,p=[];return e.reduce((m,y)=>{var x,{dataDefinedOnItem:b,settings:E}=y,S=x4e(b,o),L=Array.isArray(S)?_H(S,u,d):S,k=(x=E?.dataKey)!==null&&x!==void 0?x:n,M=E?.nameKey,D;if(n&&Array.isArray(L)&&!Array.isArray(L[0])&&s==="axis"?D=N$(L,n,i):D=a(L,t,c,M),Array.isArray(D))D.forEach(N=>{var I=_j(_j({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});m.push(y5({tooltipEntrySettings:I,dataKey:N.dataKey,payload:N.payload,value:Lr(N.payload,N.dataKey),name:N.name}))});else{var P;m.push(y5({tooltipEntrySettings:E,dataKey:k,payload:D,value:Lr(D,k),name:(P=Lr(D,M))!==null&&P!==void 0?P:E?.name}))}return m},p)}},ek=we([ri,aq,SI],vq),_4e=we([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),b4e=we([vi,Yh],OI),Qh=we([_4e,ri,b4e],MI,{memoizeOptions:{resultEqualityCheck:Y_}}),w4e=we([Qh],e=>e.filter(K_)),E4e=we([Qh],DI,{memoizeOptions:{resultEqualityCheck:Y_}}),e0=we([E4e,tc],LI),T4e=we([w4e,tc,ri],tq),tk=we([e0,ri,Qh],jI),Bq=we([ri],UI),A4e=we([ri],e=>e.allowDataOverflow),Vq=we([Bq,A4e],DG),S4e=we([Qh],e=>e.filter(K_)),C4e=we([T4e,S4e,fg,WG],cq),N4e=we([C4e,tc,vi,Vq],uq),I4e=we([Qh],oq),k4e=we([e0,ri,I4e,Z_,vi],zI,{memoizeOptions:{resultEqualityCheck:W_}}),P4e=we([fq,vi,Yh],Xh),R4e=we([P4e,vi],pq),O4e=we([dq,vi,Yh],Xh),M4e=we([O4e,vi],mq),D4e=we([hq,vi,Yh],Xh),L4e=we([D4e,vi],gq),F4e=we([R4e,L4e,M4e],A1),j4e=we([ri,Bq,Vq,N4e,k4e,F4e,lr,vi],$I),gg=we([ri,lr,e0,tk,fg,vi,j4e],HI),U4e=we([gg,ri,ek],KI),B4e=we([ri,gg,U4e,vi],YI),zq=e=>{var t=vi(e),r=Yh(e),n=!1;return mg(e,t,r,n)},$q=we([ri,zq],$_),Hq=we([ri,ek,B4e,$q],qI),V4e=we([lr,tk,ri,vi],Tq),z4e=we([lr,tk,ri,vi],Aq),$4e=(e,t,r,n,i,a,s,o)=>{if(t){var{type:c}=t,u=tl(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?di(i[0]-i[1])*2*p:p,u&&s?s.map((m,y)=>{var x=n.map(m);return $t(x)?{coordinate:x+p,value:m,index:y,offset:p}:null}).filter(La):n.domain().map((m,y)=>{var x=n.map(m);return $t(x)?{coordinate:x+p,value:a?a[m]:m,index:y,offset:p}:null}).filter(La)}}},ic=we([lr,ri,ek,Hq,zq,V4e,z4e,vi],$4e),rk=we([Cq,Nq,ZOe],(e,t,r)=>Iq(r.shared,e,t)),Gq=e=>e.tooltip.settings.trigger,nk=e=>e.tooltip.settings.defaultIndex,vg=we([Zh,rk,Gq,nk],Dq),cu=we([vg,e0,pg,gg],QI),qq=we([ic,cu],kq),ik=we([vg],e=>{if(e)return e.dataKey}),H4e=we([vg],e=>{if(e)return e.graphicalItemId}),Kq=we([Zh,rk,Gq,nk],Fq),G4e=we([Zl,Ql,lr,ei,ic,nk,Kq],Lq),q4e=we([vg,G4e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),K4e=we([vg],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),W4e=we([Kq,cu,tc,pg,qq,jq,rk],Uq),Y4e=we([W4e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){J4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J4e(e,t,r){return(t=X4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X4e(e){var t=Z4e(e,"string");return typeof t=="symbol"?t:t+""}function Z4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q4e=()=>ut(ri),eMe=()=>{var e=Q4e(),t=ut(ic),r=ut(Hq);return Ah(!e||!r?void 0:wj(wj({},e),{},{scale:r}),t)};function Ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(r),!0).forEach(function(n){tMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tMe(e,t,r){return(t=rMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rMe(e){var t=nMe(e,"string");return typeof t=="symbol"?t:t+""}function nMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iMe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},aMe=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Od(Od(Od({},n),Hn(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return Od(Od(Od({},n),Hn(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function sMe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var Wq=(e,t,r,n,i)=>{var a,s=(a=t?.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var c,u,d,p,m,y=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,x=(d=r[o])===null||d===void 0?void 0:d.coordinate,b=o>=s-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(m=r[o+1])===null||m===void 0?void 0:m.coordinate,E=void 0;if(!(y==null||x==null||b==null))if(di(x-y)!==di(b-x)){var S=[];if(di(b-x)===di(i[1]-i[0])){E=b;var L=x+i[1]-i[0];S[0]=Math.min(L,(L+y)/2),S[1]=Math.max(L,(L+y)/2)}else{E=y;var k=b+i[1]-i[0];S[0]=Math.min(x,(k+x)/2),S[1]=Math.max(x,(k+x)/2)}var M=[Math.min(x,(E+x)/2),Math.max(x,(E+x)/2)];if(e>M[0]&&e<=M[1]||e>=S[0]&&e<=S[1]){var D;return(D=r[o])===null||D===void 0?void 0:D.index}}else{var P=Math.min(y,b),N=Math.max(y,b);if(e>(P+x)/2&&e<=(N+x)/2){var I;return(I=r[o])===null||I===void 0?void 0:I.index}}}else if(t)for(var O=0;O<s;O++){var U=t[O];if(U!=null){var B=t[O+1],F=t[O-1];if(O===0&&B!=null&&e<=(U.coordinate+B.coordinate)/2||O===s-1&&F!=null&&e>(U.coordinate+F.coordinate)/2||O>0&&O<s-1&&F!=null&&B!=null&&e>(U.coordinate+F.coordinate)/2&&e<=(U.coordinate+B.coordinate)/2)return U.index}}return-1},Yq=()=>ut(SI),ak=(e,t)=>t,Jq=(e,t,r)=>r,sk=(e,t,r,n)=>n,oMe=we(ic,e=>y_(e,t=>t.coordinate)),ok=we([Zh,ak,Jq,sk],Dq),lk=we([ok,e0,pg,gg],QI),lMe=(e,t,r)=>{if(t!=null){var n=Zh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Xq=we([Zh,ak,Jq,sk],Fq),S1=we([Zl,Ql,lr,ei,ic,sk,Xq],Lq),cMe=we([ok,S1],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Zq=we([ic,lk],kq),uMe=we([Xq,lk,tc,pg,Zq,jq,ak],Uq),fMe=we([ok,lk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),dMe=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&sMe(e,s)){var o=MCe(e,t),c=Wq(o,a,i,r,n),u=iMe(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},hMe=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=XIe(e,r);if(o){var c=DCe(o,t),u=Wq(c,s,a,n,i),d=aMe(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},pMe=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?dMe(e,t,n,i,a,s,o):hMe(e,t,r,n,i,a,s)},mMe=we(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),gMe=we(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Gn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:XRe}});function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){vMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vMe(e,t,r){return(t=yMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yMe(e){var t=xMe(e,"string");return typeof t=="symbol"?t:t+""}function xMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Me={},bMe={zIndexMap:Object.values(Gn).reduce((e,t)=>Aj(Aj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),_Me)},wMe=new Set(Object.values(Gn));function EMe(e){return wMe.has(e)}var Qq=Va({name:"zIndex",initialState:bMe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:en()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!EMe(r)&&delete e.zIndexMap[r])},prepare:en()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:en()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:en()}}}),{registerZIndexPortal:TMe,unregisterZIndexPortal:AMe,registerZIndexPortalElement:SMe,unregisterZIndexPortalElement:CMe}=Qq.actions,NMe=Qq.reducer;function za(e){var{zIndex:t,children:r}=e,n=dNe(),i=n&&t!==void 0&&t!==0,a=Ji(),s=Hr();R.useLayoutEffect(()=>i?(s(TMe({zIndex:t})),()=>{s(AMe({zIndex:t}))}):qf,[s,t,i]);var o=ut(c=>mMe(c,t,a));return i?o?Eh.createPortal(r,o):null:r}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(null,arguments)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function by(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){IMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IMe(e,t,r){return(t=kMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kMe(e){var t=PMe(e,"string");return typeof t=="symbol"?t:t+""}function PMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RMe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return R.isValidElement(t)?R.cloneElement(t,n):R.createElement(r,n)}function OMe(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,p=r,m=n,y=i;if(!c||!p||d!=="ScatterChart"&&u!=="axis")return null;var x,b,E;if(d==="ScatterChart")x=p,b=fIe,E=Gn.cursorLine;else if(d==="BarChart")x=dIe(o,p,a,s),b=WH,E=Gn.cursorRectangle;else if(o==="radial"&&k$(p)){var{cx:S,cy:L,radius:k,startAngle:M,endAngle:D}=JH(p);x={cx:S,cy:L,startAngle:M,endAngle:D,innerRadius:k,outerRadius:k},b=ZH,E=Gn.cursorLine}else x={points:tke(o,p,a)},b=lh,E=Gn.cursorLine;var P=typeof c=="object"&&"className"in c?c.className:void 0,N=by(by(by(by({stroke:"#ccc",pointerEvents:"none"},a),x),Af(c)),{},{payload:m,payloadIndex:y,className:dr("recharts-tooltip-cursor",P)});return R.createElement(za,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},R.createElement(RMe,{cursor:c,cursorComp:b,cursorProps:N}))}function MMe(e){var t=eMe(),r=kH(),n=Kf(),i=Yq();return t==null||r==null||n==null||i==null?null:R.createElement(OMe,N2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var eK=R.createContext(null),DMe=()=>R.useContext(eK),iA={exports:{}},Cj;function LMe(){return Cj||(Cj=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,p;if(this._eventsCount===0)return u;for(p in d=this._events)t.call(d,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,x=new Array(y);m<y;m++)x[m]=p[m].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(u,d,p,m,y,x){var b=r?r+u:u;if(!this._events[b])return!1;var E=this._events[b],S=arguments.length,L,k;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,m),!0;case 5:return E.fn.call(E.context,d,p,m,y),!0;case 6:return E.fn.call(E.context,d,p,m,y,x),!0}for(k=1,L=new Array(S-1);k<S;k++)L[k-1]=arguments[k];E.fn.apply(E.context,L)}else{var M=E.length,D;for(k=0;k<M;k++)switch(E[k].once&&this.removeListener(u,E[k].fn,void 0,!0),S){case 1:E[k].fn.call(E[k].context);break;case 2:E[k].fn.call(E[k].context,d);break;case 3:E[k].fn.call(E[k].context,d,p);break;case 4:E[k].fn.call(E[k].context,d,p,m);break;default:if(!L)for(D=1,L=new Array(S-1);D<S;D++)L[D-1]=arguments[D];E[k].fn.apply(E[k].context,L)}}return!0},o.prototype.on=function(u,d,p){return a(this,u,d,p,!1)},o.prototype.once=function(u,d,p){return a(this,u,d,p,!0)},o.prototype.removeListener=function(u,d,p,m){var y=r?r+u:u;if(!this._events[y])return this;if(!d)return s(this,y),this;var x=this._events[y];if(x.fn)x.fn===d&&(!m||x.once)&&(!p||x.context===p)&&s(this,y);else{for(var b=0,E=[],S=x.length;b<S;b++)(x[b].fn!==d||m&&!x[b].once||p&&x[b].context!==p)&&E.push(x[b]);E.length?this._events[y]=E.length===1?E[0]:E:s(this,y)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(iA)),iA.exports}var FMe=LMe();const jMe=js(FMe);var Mm=new jMe,I2="recharts.syncEvent.tooltip",Nj="recharts.syncEvent.brush",ck=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!mo(r))return e[r]}},UMe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},tK=Va({name:"options",initialState:UMe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),BMe=tK.reducer,{createEventEmitter:VMe}=tK.actions;function zMe(e){return e.tooltip.syncInteraction}var $Me={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rK=Va({name:"chartData",initialState:$Me,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Ij,setDataStartEndIndexes:HMe,setComputedData:Y8e}=rK.actions,GMe=rK.reducer,qMe=["x","y"];function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){KMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KMe(e,t,r){return(t=WMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WMe(e){var t=YMe(e,"string");return typeof t=="symbol"?t:t+""}function YMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JMe(e,t){if(e==null)return{};var r,n,i=XMe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZMe(){var e=ut(CI),t=ut(NI),r=Hr(),n=ut(YG),i=ut(ic),a=Kf(),s=R_(),o=ut(c=>c.rootProps.className);R.useEffect(()=>{if(e==null)return qf;var c=(u,d,p)=>{if(t!==p&&e===u){if(n==="index"){var m;if(s&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x,y:b}=y,E=JMe(y,qMe),{x:S,y:L,width:k,height:M}=d.payload.sourceViewBox,D=Md(Md({},E),{},{x:s.x+(k?(x-S)/k:0)*s.width,y:s.y+(M?(b-L)/M:0)*s.height});r(Md(Md({},d),{},{payload:Md(Md({},d.payload),{},{coordinate:D})}))}else r(d);return}if(i!=null){var P;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=n(i,N);P=i[I]}else n==="value"&&(P=i.find(ne=>String(ne.value)===d.payload.label));var{coordinate:O}=d.payload;if(P==null||d.payload.active===!1||O==null||s==null){r(S2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:B}=O,F=Math.min(U,s.x+s.width),H=Math.min(B,s.y+s.height),fe={x:a==="horizontal"?P.coordinate:F,y:a==="horizontal"?H:P.coordinate},me=S2({active:d.payload.active,coordinate:fe,dataKey:d.payload.dataKey,index:String(P.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(me)}}};return Mm.on(I2,c),()=>{Mm.off(I2,c)}},[o,r,t,e,n,i,a,s])}function QMe(){var e=ut(CI),t=ut(NI),r=Hr();R.useEffect(()=>{if(e==null)return qf;var n=(i,a,s)=>{t!==s&&e===i&&r(HMe(a))};return Mm.on(Nj,n),()=>{Mm.off(Nj,n)}},[r,t,e])}function eDe(){var e=Hr();R.useEffect(()=>{e(VMe())},[e]),ZMe(),QMe()}function tDe(e,t,r,n,i,a){var s=ut(y=>lMe(y,e,t)),o=ut(NI),c=ut(CI),u=ut(YG),d=ut(zMe),p=d?.active,m=R_();R.useEffect(()=>{if(!p&&c!=null&&o!=null){var y=S2({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});Mm.emit(I2,c,y,o)}},[p,r,s,i,n,o,c,u,a,m])}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){rDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rDe(e,t,r){return(t=nDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nDe(e){var t=iDe(e,"string");return typeof t=="symbol"?t:t+""}function iDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aDe(e){return e.dataKey}function sDe(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(HNe,t)}var Oj=[],oDe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function op(e){var t,r,n=Kn(e,oDe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:p,payloadUniqBy:m,position:y,reverseDirection:x,useTranslate3d:b,wrapperStyle:E,cursor:S,shared:L,trigger:k,defaultIndex:M,portal:D,axisId:P}=n,N=Hr(),I=typeof M=="number"?String(M):M;R.useEffect(()=>{N(n4e({shared:L,trigger:k,axisId:P,active:i,defaultIndex:I}))},[N,L,k,P,i,I]);var O=R_(),U=$H(),B=XOe(L),{activeIndex:F,isActive:H}=(t=ut(xe=>fMe(xe,B,k,I)))!==null&&t!==void 0?t:{},fe=ut(xe=>uMe(xe,B,k,I)),me=ut(xe=>Zq(xe,B,k,I)),ne=ut(xe=>cMe(xe,B,k,I)),ue=fe,ce=DMe(),ae=(r=i??H)!==null&&r!==void 0?r:!1,[_e,J]=H$([ue,ae]),V=B==="axis"?me:void 0;tDe(B,k,ne,V,F,ae);var ee=D??ce;if(ee==null||O==null||B==null)return null;var X=ue??Oj;ae||(X=Oj),u&&X.length&&(X=U$(X.filter(xe=>xe.value!=null&&(xe.hide!==!0||n.includeHidden)),m,aDe));var q=X.length>0,he=R.createElement(XNe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:ae,coordinate:ne,hasPayload:q,offset:p,position:y,reverseDirection:x,useTranslate3d:b,viewBox:O,wrapperStyle:E,lastBoundingBox:_e,innerRef:J,hasPortalFromProps:!!D},sDe(c,Rj(Rj({},n),{},{payload:X,label:V,active:ae,activeIndex:F,coordinate:ne,accessibilityLayer:U})));return R.createElement(R.Fragment,null,Eh.createPortal(he,ee),ae&&R.createElement(MMe,{cursor:S,tooltipEventType:B,coordinate:ne,payload:X,index:F}))}var yg=e=>null;yg.displayName="Cell";function lDe(e,t,r){return(t=cDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cDe(e){var t=uDe(e,"string");return typeof t=="symbol"?t:t+""}function uDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fDe{constructor(t){lDe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){hDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hDe(e,t,r){return(t=pDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pDe(e){var t=mDe(e,"string");return typeof t=="symbol"?t:t+""}function mDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gDe={cacheSize:2e3,enableCache:!0},nK=dDe({},gDe),Dj=new fDe(nK.cacheSize),vDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Lj="recharts_measurement_span";function yDe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var Fj=(e,t)=>{try{var r=document.getElementById(Lj);r||(r=document.createElement("span"),r.setAttribute("id",Lj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,vDe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Hp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ig.isSsr)return{width:0,height:0};if(!nK.enableCache)return Fj(t,r);var n=yDe(t,r),i=Dj.get(n);if(i)return i;var a=Fj(t,r);return Dj.set(n,a),a},iK;function xDe(e,t,r){return(t=_De(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _De(e){var t=bDe(e,"string");return typeof t=="symbol"?t:t+""}function bDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,EDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TDe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ADe=["cm","mm","pt","pc","in","Q","px"];function SDe(e){return ADe.includes(e)}var Yd="NaN";function CDe(e,t){return e*TDe[t]}class Ci{static parse(t){var r,[,n,i]=(r=EDe.exec(t))!==null&&r!==void 0?r:[];return n==null?Ci.NaN:new Ci(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,mo(t)&&(this.unit=""),r!==""&&!wDe.test(r)&&(this.num=NaN,this.unit=""),SDe(r)&&(this.num=CDe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mo(this.num)}}iK=Ci;xDe(Ci,"NaN",new iK(NaN,""));function aK(e){if(e==null||e.includes(Yd))return Yd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=jj.exec(t))!==null&&r!==void 0?r:[],s=Ci.parse(n??""),o=Ci.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Yd;t=t.replace(jj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,p,m]=(u=Uj.exec(t))!==null&&u!==void 0?u:[],y=Ci.parse(d??""),x=Ci.parse(m??""),b=p==="+"?y.add(x):y.subtract(x);if(b.isNaN())return Yd;t=t.replace(Uj,b.toString())}return t}var Bj=/\(([^()]*)\)/;function NDe(e){for(var t=e,r;(r=Bj.exec(t))!=null;){var[,n]=r;t=t.replace(Bj,aK(n))}return t}function IDe(e){var t=e.replace(/\s+/g,"");return t=NDe(t),t=aK(t),t}function kDe(e){try{return IDe(e)}catch{return Yd}}function aA(e){var t=kDe(e.slice(5,-1));return t===Yd?"":t}var PDe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],RDe=["dx","dy","angle","className","breakAll"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(null,arguments)}function Vj(e,t){if(e==null)return{};var r,n,i=ODe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ODe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sK=/[ \f\n\r\t\v\u2028\u2029]+/,oK=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];_n(t)||(r?i=t.toString().split(""):i=t.toString().split(sK));var a=i.map(o=>({word:o,width:Hp(o,n).width})),s=r?0:Hp("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function MDe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var lK=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),cK=e=>e.reduce((t,r)=>t.width>r.width?t:r),DDe="",zj=(e,t,r,n,i,a,s,o)=>{var c=e.slice(0,t),u=oK({breakAll:r,style:n,children:c+DDe});if(!u)return[!1,[]];var d=lK(u.wordsWithComputedWidth,a,s,o),p=d.length>i||cK(d).width>Number(a);return[p,d]},LDe=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=nt(a),d=String(s),p=lK(t,n,r,i);if(!u||i)return p;var m=p.length>a||cK(p).width>Number(n);if(!m)return p;for(var y=0,x=d.length-1,b=0,E;y<=x&&b<=d.length-1;){var S=Math.floor((y+x)/2),L=S-1,[k,M]=zj(d,L,c,o,a,n,r,i),[D]=zj(d,S,c,o,a,n,r,i);if(!k&&!D&&(y=S+1),k&&D&&(x=S-1),!k&&D){E=M;break}b++}return E||p},$j=e=>{var t=_n(e)?[]:e.toString().split(sK);return[{words:t,width:void 0}]},FDe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!ig.isSsr){var o,c,u=oK({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:p}=u;o=d,c=p}else return $j(n);return LDe({breakAll:a,children:n,maxLines:s,style:i},o,c,t,!!r)}return $j(n)},uK="#808080",jDe={angle:0,breakAll:!1,capHeight:"0.71em",fill:uK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rb=R.forwardRef((e,t)=>{var r=Kn(e,jDe),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,p=Vj(r,PDe),m=R.useMemo(()=>FDe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:y,dy:x,angle:b,className:E,breakAll:S}=p,L=Vj(p,RDe);if(!Jo(n)||!Jo(i)||m.length===0)return null;var k=Number(n)+(nt(y)?y:0),M=Number(i)+(nt(x)?x:0);if(!$t(k)||!$t(M))return null;var D;switch(d){case"start":D=aA("calc(".concat(s,")"));break;case"middle":D=aA("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:D=aA("calc(".concat(m.length-1," * -").concat(a,")"));break}var P=[],N=m[0];if(c&&N!=null){var I=N.width,{width:O}=p;P.push("scale(".concat(nt(O)&&nt(I)?O/I:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(k,", ").concat(M,")")),P.length&&(L.transform=P.join(" ")),R.createElement("text",k2({},va(L),{ref:t,x:k,y:M,className:dr("recharts-text",E),textAnchor:u,fill:o.includes("url")?uK:o}),m.map((U,B)=>{var F=U.words.join(S?"":" ");return R.createElement("tspan",{x:k,dy:B===0?D:a,key:"".concat(F,"-").concat(B)},F)}))});rb.displayName="Text";function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){UDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UDe(e,t,r){return(t=BDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BDe(e){var t=VDe(e,"string");return typeof t=="symbol"?t:t+""}function VDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zDe=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:c,lowerWidth:u}=YN(t),d=a,p=a+(c-u)/2,m=(d+p)/2,y=(c+u)/2,x=d+c/2,b=o>=0?1:-1,E=b*n,S=b>0?"end":"start",L=b>0?"start":"end",k=c>=0?1:-1,M=k*n,D=k>0?"end":"start",P=k>0?"start":"end",N=i;if(r==="top"){var I={x:d+c/2,y:s-E,horizontalAnchor:"middle",verticalAnchor:S};return N&&(I.height=Math.max(s-N.y,0),I.width=c),I}if(r==="bottom"){var O={x:p+u/2,y:s+o+E,horizontalAnchor:"middle",verticalAnchor:L};return N&&(O.height=Math.max(N.y+N.height-(s+o),0),O.width=u),O}if(r==="left"){var U={x:m-M,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return N&&(U.width=Math.max(U.x-N.x,0),U.height=o),U}if(r==="right"){var B={x:m+y+M,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return N&&(B.width=Math.max(N.x+N.width-B.x,0),B.height=o),B}var F=N?{width:y,height:o}:{};return r==="insideLeft"?Fo({x:m+M,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},F):r==="insideRight"?Fo({x:m+y-M,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"},F):r==="insideTop"?Fo({x:d+c/2,y:s+E,horizontalAnchor:"middle",verticalAnchor:L},F):r==="insideBottom"?Fo({x:p+u/2,y:s+o-E,horizontalAnchor:"middle",verticalAnchor:S},F):r==="insideTopLeft"?Fo({x:d+M,y:s+E,horizontalAnchor:P,verticalAnchor:L},F):r==="insideTopRight"?Fo({x:d+c-M,y:s+E,horizontalAnchor:D,verticalAnchor:L},F):r==="insideBottomLeft"?Fo({x:p+M,y:s+o-E,horizontalAnchor:P,verticalAnchor:S},F):r==="insideBottomRight"?Fo({x:p+u-M,y:s+o-E,horizontalAnchor:D,verticalAnchor:S},F):r&&typeof r=="object"&&(nt(r.x)||Nf(r.x))&&(nt(r.y)||Nf(r.y))?Fo({x:a+Ki(r.x,y),y:s+Ki(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},F):Fo({x,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},F)},$De=["labelRef"],HDe=["content"];function Gj(e,t){if(e==null)return{};var r,n,i=GDe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){qDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qDe(e,t,r){return(t=KDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KDe(e){var t=WDe(e,"string");return typeof t=="symbol"?t:t+""}function WDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(null,arguments)}var fK=R.createContext(null),YDe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,c=R.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return R.createElement(fK.Provider,{value:c},o)},dK=()=>{var e=R.useContext(fK),t=R_();return e||(t?YN(t):void 0)},JDe=R.createContext(null),XDe=()=>{var e=R.useContext(JDe),t=ut(eq);return e||t},ZDe=e=>{var{value:t,formatter:r}=e,n=_n(e.children)?t:e.children;return typeof r=="function"?r(n):n},uk=e=>e!=null&&typeof e=="function",QDe=(e,t)=>{var r=di(t-e),n=Math.min(Math.abs(t-e),360);return r*n},e3e=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:p,endAngle:m,clockWise:y}=i,x=(u+d)/2,b=QDe(p,m),E=b>=0?1:-1,S,L;switch(t){case"insideStart":S=p+E*a,L=y;break;case"insideEnd":S=m-E*a,L=!y;break;case"end":S=m+E*a,L=y;break;default:throw new Error("Unsupported position ".concat(t))}L=b<=0?L:!L;var k=Hn(o,c,x,S),M=Hn(o,c,x,S+(L?1:-1)*359),D="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(L?0:1,`,
    `).concat(M.x,",").concat(M.y),P=_n(e.id)?bm("recharts-radial-line-"):e.id;return R.createElement("text",Cl({},n,{dominantBaseline:"central",className:dr("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:P,d:D})),R.createElement("textPath",{xlinkHref:"#".concat(P)},r))},t3e=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:p}=Hn(n,i,s+t,u);return{x:d,y:p,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:y,y:x}=Hn(n,i,m,u);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Jy=e=>e!=null&&"cx"in e&&nt(e.cx),r3e={angle:0,offset:5,zIndex:Gn.label,position:"middle",textBreakAll:!1};function n3e(e){if(!Jy(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Mc(e){var t=Kn(e,r3e),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:c="",textBreakAll:u,labelRef:d}=t,p=XDe(),m=dK(),y=i==="center"?m:p??m,x,b,E;r==null?x=y:Jy(r)?x=r:x=YN(r);var S=n3e(x);if(!x||_n(a)&&_n(s)&&!R.isValidElement(o)&&typeof o!="function")return null;var L=Ep(Ep({},t),{},{viewBox:x});if(R.isValidElement(o)){var{labelRef:k}=L,M=Gj(L,$De);return R.cloneElement(o,M)}if(typeof o=="function"){var{content:D}=L,P=Gj(L,HDe);if(b=R.createElement(o,P),R.isValidElement(b))return b}else b=ZDe(t);var N=va(t);if(Jy(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return e3e(t,i,b,N,x);E=t3e(x,t.offset,t.position)}else{if(!S)return null;var I=zDe({viewBox:S,position:i,offset:t.offset,parentViewBox:Jy(n)?void 0:n});E=Ep(Ep({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return R.createElement(za,{zIndex:t.zIndex},R.createElement(rb,Cl({ref:d,className:dr("recharts-label",c)},N,E,{textAnchor:MDe(N.textAnchor)?N.textAnchor:E.textAnchor,breakAll:u}),b))}Mc.displayName="Label";var i3e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?R.createElement(Mc,Cl({key:"label-implicit"},n)):Jo(e)?R.createElement(Mc,Cl({key:"label-implicit",value:e},n)):R.isValidElement(e)?e.type===Mc?R.cloneElement(e,Ep({key:"label-implicit"},n)):R.createElement(Mc,Cl({key:"label-implicit",content:e},n)):uk(e)?R.createElement(Mc,Cl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?R.createElement(Mc,Cl({},e,{key:"label-implicit"},n)):null};function a3e(e){var{label:t,labelRef:r}=e,n=dK();return i3e(t,n,r)||null}var sA={},oA={},Kj;function s3e(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(oA)),oA}var lA={},Wj;function o3e(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(lA)),lA}var Yj;function l3e(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s3e(),r=o3e(),n=jN();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(sA)),sA}var cA,Jj;function c3e(){return Jj||(Jj=1,cA=l3e().last),cA}var u3e=c3e();const f3e=js(u3e);var d3e=["valueAccessor"],h3e=["dataKey","clockWise","id","textBreakAll","zIndex"];function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(null,arguments)}function Xj(e,t){if(e==null)return{};var r,n,i=p3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function p3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m3e=e=>Array.isArray(e.value)?f3e(e.value):e.value,hK=R.createContext(void 0),pK=hK.Provider,mK=R.createContext(void 0),g3e=mK.Provider;function v3e(){return R.useContext(hK)}function y3e(){return R.useContext(mK)}function Xy(e){var{valueAccessor:t=m3e}=e,r=Xj(e,d3e),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=Xj(r,h3e),u=v3e(),d=y3e(),p=u||d;return!p||!p.length?null:R.createElement(za,{zIndex:o??Gn.label},R.createElement(In,{className:"recharts-label-list"},p.map((m,y)=>{var x,b=_n(n)?t(m,y):Lr(m.payload,n),E=_n(a)?{}:{id:"".concat(a,"-").concat(y)};return R.createElement(Mc,C1({key:"label-".concat(y)},va(m),c,E,{fill:(x=r.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:s,viewBox:m.viewBox,index:y,zIndex:0}))})))}Xy.displayName="LabelList";function fk(e){var{label:t}=e;return t?t===!0?R.createElement(Xy,{key:"labelList-implicit"}):R.isValidElement(t)||uk(t)?R.createElement(Xy,{key:"labelList-implicit",content:t}):typeof t=="object"?R.createElement(Xy,C1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P2.apply(null,arguments)}var gK=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=dr("recharts-dot",i);return nt(t)&&nt(r)&&nt(n)?R.createElement("circle",P2({},Ua(e),FN(e),{className:a,cx:t,cy:r,r:n})):null},vK=e=>e.graphicalItems.polarItems,x3e=we([cn,dg],OI),nb=we([vK,wn,x3e],MI),_3e=we([nb],DI),ib=we([_3e,z_],LI),b3e=we([ib,wn,nb],jI);we([ib,wn,nb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Lr(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Lr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Zj=()=>{},w3e=we([ib,wn,nb,Z_,cn],zI),E3e=we([wn,BI,VI,Zj,w3e,Zj,lr,cn],$I),yK=we([wn,lr,ib,b3e,fg,cn,E3e],HI),T3e=we([yK,Jh,xu],KI),A3e=we([wn,yK,T3e,cn],YI);we([xu,A3e],rq);var S3e={radiusAxis:{},angleAxis:{}},xK=Va({name:"polarAxis",initialState:S3e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:J8e,removeRadiusAxis:X8e,addAngleAxis:Z8e,removeAngleAxis:Q8e}=xK.actions,C3e=xK.reducer;function _K(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){N3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N3e(e,t,r){return(t=I3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I3e(e){var t=k3e(e,"string");return typeof t=="symbol"?t:t+""}function k3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P3e=(e,t)=>t,dk=we([vK,P3e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),R3e=[],hk=(e,t,r)=>r?.length===0?R3e:r,bK=we([z_,dk,hk],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>e8(e8({},t.presentationProps),a.props))),i!=null)return i}}),O3e=we([bK,dk,hk],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Lr(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Gh(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),M3e=we([bK,dk,hk,ei],(e,t,r,n)=>{if(!(t==null||e==null))return D6e({offset:n,pieSettings:t,displayedData:e,cells:r})}),uA={exports:{}},br={};var t8;function D3e(){if(t8)return br;t8=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,L=e?Symbol.for("react.scope"):60119;function k(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case c:case u:case n:case a:case i:case p:return D;default:switch(D=D&&D.$$typeof,D){case o:case d:case x:case y:case s:return D;default:return P}}case r:return P}}}function M(D){return k(D)===u}return br.AsyncMode=c,br.ConcurrentMode=u,br.ContextConsumer=o,br.ContextProvider=s,br.Element=t,br.ForwardRef=d,br.Fragment=n,br.Lazy=x,br.Memo=y,br.Portal=r,br.Profiler=a,br.StrictMode=i,br.Suspense=p,br.isAsyncMode=function(D){return M(D)||k(D)===c},br.isConcurrentMode=M,br.isContextConsumer=function(D){return k(D)===o},br.isContextProvider=function(D){return k(D)===s},br.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},br.isForwardRef=function(D){return k(D)===d},br.isFragment=function(D){return k(D)===n},br.isLazy=function(D){return k(D)===x},br.isMemo=function(D){return k(D)===y},br.isPortal=function(D){return k(D)===r},br.isProfiler=function(D){return k(D)===a},br.isStrictMode=function(D){return k(D)===i},br.isSuspense=function(D){return k(D)===p},br.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===u||D===a||D===i||D===p||D===m||typeof D=="object"&&D!==null&&(D.$$typeof===x||D.$$typeof===y||D.$$typeof===s||D.$$typeof===o||D.$$typeof===d||D.$$typeof===E||D.$$typeof===S||D.$$typeof===L||D.$$typeof===b)},br.typeOf=k,br}var r8;function L3e(){return r8||(r8=1,uA.exports=D3e()),uA.exports}var F3e=L3e(),n8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",i8=null,fA=null,wK=e=>{if(e===i8&&Array.isArray(fA))return fA;var t=[];return R.Children.forEach(e,r=>{_n(r)||(F3e.isFragment(r)?t=t.concat(wK(r.props.children)):t.push(r))}),fA=t,i8=e,t};function pk(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>n8(i)):n=[n8(t)],wK(e).forEach(i=>{var a=Cf(i,"type.displayName")||Cf(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var EK=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,dA={},a8;function j3e(){return a8||(a8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(dA)),dA}var hA,s8;function U3e(){return s8||(s8=1,hA=j3e().isPlainObject),hA}var B3e=U3e();const V3e=js(B3e);var o8,l8,c8,u8,f8;function d8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(r),!0).forEach(function(n){z3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3e(e,t,r){return(t=$3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3e(e){var t=H3e(e,"string");return typeof t=="symbol"?t:t+""}function H3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(null,arguments)}function lp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p8=(e,t,r,n,i)=>{var a=r-n,s;return s=pn(o8||(o8=lp(["M ",",",""])),e,t),s+=pn(l8||(l8=lp(["L ",",",""])),e+r,t),s+=pn(c8||(c8=lp(["L ",",",""])),e+r-a/2,t+i),s+=pn(u8||(u8=lp(["L ",",",""])),e+r-a/2-n,t+i),s+=pn(f8||(f8=lp(["L ",","," Z"])),e,t),s},G3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},q3e=e=>{var t=Kn(e,G3e),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:p}=t,m=R.useRef(null),[y,x]=R.useState(-1),b=R.useRef(i),E=R.useRef(a),S=R.useRef(s),L=R.useRef(r),k=R.useRef(n),M=sg(e,"trapezoid-");if(R.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var fe=m.current.getTotalLength();fe&&x(fe)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var D=dr("recharts-trapezoid",o);if(!p)return R.createElement("g",null,R.createElement("path",N1({},va(t),{className:D,d:p8(r,n,i,a,s)})));var P=b.current,N=E.current,I=S.current,O=L.current,U=k.current,B="0px ".concat(y===-1?1:y,"px"),F="".concat(y,"px 0px"),H=HH(["strokeDasharray"],u,c);return R.createElement(ag,{animationId:M,key:M,canBegin:y>0,duration:u,easing:c,isActive:p,begin:d},fe=>{var me=Yr(P,i,fe),ne=Yr(N,a,fe),ue=Yr(I,s,fe),ce=Yr(O,r,fe),ae=Yr(U,n,fe);m.current&&(b.current=me,E.current=ne,S.current=ue,L.current=ce,k.current=ae);var _e=fe>0?{transition:H,strokeDasharray:F}:{strokeDasharray:B};return R.createElement("path",N1({},va(t),{className:D,d:p8(ce,ae,me,ne,ue),ref:m,style:h8(h8({},_e),t.style)}))})},K3e=["option","shapeType","activeClassName"];function W3e(e,t){if(e==null)return{};var r,n,i=Y3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){J3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J3e(e,t,r){return(t=X3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X3e(e){var t=Z3e(e,"string");return typeof t=="symbol"?t:t+""}function Z3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q3e(e,t){return I1(I1({},t),e)}function e6e(e,t){return e==="symbols"}function g8(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return R.createElement(WH,r);case"trapezoid":return R.createElement(q3e,r);case"sector":return R.createElement(ZH,r);case"symbols":if(e6e(t))return R.createElement(LN,r);break;case"curve":return R.createElement(lh,r);default:return null}}function t6e(e){return R.isValidElement(e)?e.props:e}function TK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=W3e(e,K3e),a;if(R.isValidElement(t))a=R.cloneElement(t,I1(I1({},i),t6e(t)));else if(typeof t=="function")a=t(i,i.index);else if(V3e(t)&&typeof t!="boolean"){var s=Q3e(t,i);a=R.createElement(g8,{shapeType:r,elementProps:s})}else{var o=i;a=R.createElement(g8,{shapeType:r,elementProps:o})}return i.isActive?R.createElement(In,{className:n},a):a}var mk=(e,t,r)=>{var n=Hr();return(i,a)=>s=>{e?.(i,a,s),n(Rq({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},gk=e=>{var t=Hr();return(r,n)=>i=>{e?.(r,n,i),t(i4e())}},vk=(e,t,r)=>{var n=Hr();return(i,a)=>s=>{e?.(i,a,s),n(a4e({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function yk(e){var{tooltipEntrySettings:t}=e,r=Hr(),n=Ji(),i=R.useRef(null);return R.useLayoutEffect(()=>{n||(i.current===null?r(e4e(t)):i.current!==t&&r(t4e({prev:i.current,next:t})),i.current=t)},[t,r,n]),R.useLayoutEffect(()=>()=>{i.current&&(r(r4e(i.current)),i.current=null)},[r]),null}function AK(e){var{legendPayload:t}=e,r=Hr(),n=Ji(),i=R.useRef(null);return R.useLayoutEffect(()=>{n||(i.current===null?r(UH(t)):i.current!==t&&r(BH({prev:i.current,next:t})),i.current=t)},[r,n,t]),R.useLayoutEffect(()=>()=>{i.current&&(r(VH(i.current)),i.current=null)},[r]),null}function r6e(e){var{legendPayload:t}=e,r=Hr(),n=ut(lr),i=R.useRef(null);return R.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(UH(t)):i.current!==t&&r(BH({prev:i.current,next:t})),i.current=t)},[r,n,t]),R.useLayoutEffect(()=>()=>{i.current&&(r(VH(i.current)),i.current=null)},[r]),null}var pA,n6e=()=>{var[e]=R.useState(()=>bm("uid-"));return e},i6e=(pA=JY.useId)!==null&&pA!==void 0?pA:n6e;function a6e(e,t){var r=i6e();return t||(e?"".concat(e,"-").concat(r):r)}var s6e=R.createContext(void 0),xk=e=>{var{id:t,type:r,children:n}=e,i=a6e("recharts-".concat(r),t);return R.createElement(s6e.Provider,{value:i},n(i))},o6e={cartesianItems:[],polarItems:[]},SK=Va({name:"graphicalItems",initialState:o6e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:en()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ho(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:en()},removeCartesianGraphicalItem:{reducer(e,t){var r=ho(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:en()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:en()},removePolarGraphicalItem:{reducer(e,t){var r=ho(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:en()}}}),{addCartesianGraphicalItem:l6e,replaceCartesianGraphicalItem:c6e,removeCartesianGraphicalItem:u6e,addPolarGraphicalItem:f6e,removePolarGraphicalItem:d6e}=SK.actions,h6e=SK.reducer,p6e=e=>{var t=Hr(),r=R.useRef(null);return R.useLayoutEffect(()=>{r.current===null?t(l6e(e)):r.current!==e&&t(c6e({prev:r.current,next:e})),r.current=e},[t,e]),R.useLayoutEffect(()=>()=>{r.current&&(t(u6e(r.current)),r.current=null)},[t]),null},CK=R.memo(p6e);function m6e(e){var t=Hr();return R.useLayoutEffect(()=>(t(f6e(e)),()=>{t(d6e(e))}),[t,e]),null}var g6e=["key"],v6e=["onMouseEnter","onClick","onMouseLeave"],y6e=["id"],x6e=["id"];function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){_6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _6e(e,t,r){return(t=b6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6e(e){var t=w6e(e,"string");return typeof t=="symbol"?t:t+""}function w6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(null,arguments)}function ab(e,t){if(e==null)return{};var r,n,i=E6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function T6e(e){var t=R.useMemo(()=>pk(e.children,yg),[e.children]),r=ut(n=>O3e(n,e.id,t));return r==null?null:R.createElement(r6e,{legendPayload:r})}var A6e=R.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u,id:d}=e,p={dataDefinedOnItem:n.map(m=>m.tooltipPayload),getPosition:m=>{var y;return(y=n[Number(m)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Gh(o,t),hide:c,type:u,color:s,unit:"",graphicalItemId:d}};return R.createElement(yk,{tooltipEntrySettings:p})}),S6e=(e,t)=>e>t?"start":e<t?"end":"middle",C6e=(e,t,r)=>Ki(typeof t=="function"?t(e):t,r,r*.8),N6e=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=YH(a,s),c=i+Ki(e.cx,a,a/2),u=n+Ki(e.cy,s,s/2),d=Ki(e.innerRadius,o,0),p=C6e(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:p,maxRadius:m}},I6e=(e,t)=>{var r=di(t-e),n=Math.min(Math.abs(t-e),360);return r*n},k6e=(e,t)=>{if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return e(t);var r=dr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=ab(t,g6e);return R.createElement(lh,uu({},i,{type:"linear",className:r}))},P6e=(e,t,r)=>{if(R.isValidElement(e))return R.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),R.isValidElement(n)))return n;var i=dr("recharts-pie-label-text",_K(e));return R.createElement(rb,uu({},t,{alignmentBaseline:"middle",className:i}),n)};function R6e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Ua(r),c=Af(i),u=Af(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((m,y)=>{var x=(m.startAngle+m.endAngle)/2,b=Hn(m.cx,m.cy,m.outerRadius+d,x),E=gn(gn(gn(gn({},o),m),{},{stroke:"none"},c),{},{index:y,textAnchor:S6e(b.x,m.cx)},b),S=gn(gn(gn(gn({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:y,points:[Hn(m.cx,m.cy,m.outerRadius,x),b],key:"line"});return R.createElement(za,{zIndex:Gn.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},R.createElement(In,null,a&&k6e(a,S),P6e(i,E,Lr(m,s))))});return R.createElement(In,{className:"recharts-pie-labels"},p)}function O6e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?R.createElement(fk,{label:i}):R.createElement(R6e,{sectors:t,props:r,showLabels:n})}function M6e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=ut(cu),c=ut(ik),u=ut(H4e),{onMouseEnter:d,onClick:p,onMouseLeave:m}=i,y=ab(i,v6e),x=mk(d,i.dataKey,s),b=gk(m),E=vk(p,i.dataKey,s);return t==null||t.length===0?null:R.createElement(R.Fragment,null,t.map((S,L)=>{if(S?.startAngle===0&&S?.endAngle===0&&t.length!==1)return null;var k=u==null||u===s,M=String(L)===o&&(c==null||i.dataKey===c)&&k,D=o?n:null,P=r&&M?r:D,N=gn(gn({},S),{},{stroke:S.stroke,tabIndex:-1,[AH]:L,[SH]:s});return R.createElement(In,uu({key:"sector-".concat(S?.startAngle,"-").concat(S?.endAngle,"-").concat(S.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},Zm(y,S,L),{onMouseEnter:x(S,L),onMouseLeave:b(S,L),onClick:E(S,L)}),R.createElement(TK,uu({option:a??P,index:L,shapeType:"sector",isActive:M},N)))}))}function D6e(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:p}=r,m=Math.abs(r.minAngle),y=I6e(o,c),x=Math.abs(y),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,E=n.filter(P=>Lr(P,u,0)!==0).length,S=(x>=360?E:E-1)*b,L=x-E*m-S,k=n.reduce((P,N)=>{var I=Lr(N,u,0);return P+(nt(I)?I:0)},0),M;if(k>0){var D;M=n.map((P,N)=>{var I=Lr(P,u,0),O=Lr(P,d,N),U=N6e(r,a,P),B=(nt(I)?I:0)/k,F,H=gn(gn({},P),i&&i[N]&&i[N].props);N?F=D.endAngle+di(y)*b*(I!==0?1:0):F=o;var fe=F+di(y)*((I!==0?m:0)+B*L),me=(F+fe)/2,ne=(U.innerRadius+U.outerRadius)/2,ue=[{name:O,value:I,payload:H,dataKey:u,type:p,graphicalItemId:r.id}],ce=Hn(U.cx,U.cy,ne,me);return D=gn(gn(gn(gn({},r.presentationProps),{},{percent:B,cornerRadius:typeof s=="string"?parseFloat(s):s,name:O,tooltipPayload:ue,midAngle:me,middleRadius:ne,tooltipPosition:ce},H),U),{},{value:I,dataKey:u,startAngle:F,endAngle:fe,payload:H,paddingAngle:di(y)*b}),D})}return M}function L6e(e){var{showLabels:t,sectors:r,children:n}=e,i=R.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return R.createElement(g3e,{value:t?i:void 0},n)}function F6e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:p,onAnimationEnd:m}=t,y=sg(t,"recharts-pie-"),x=r.current,[b,E]=R.useState(!1),S=R.useCallback(()=>{typeof m=="function"&&m(),E(!1)},[m]),L=R.useCallback(()=>{typeof p=="function"&&p(),E(!0)},[p]);return R.createElement(L6e,{showLabels:!b,sectors:i},R.createElement(ag,{animationId:y,begin:s,duration:o,isActive:a,easing:c,onAnimationStart:L,onAnimationEnd:S,key:y},k=>{var M,D=[],P=i&&i[0],N=(M=P?.startAngle)!==null&&M!==void 0?M:0;return i?.forEach((I,O)=>{var U=x&&x[O],B=O>0?Cf(I,"paddingAngle",0):0;if(U){var F=Yr(U.endAngle-U.startAngle,I.endAngle-I.startAngle,k),H=gn(gn({},I),{},{startAngle:N+B,endAngle:N+F+B});D.push(H),N=H.endAngle}else{var{endAngle:fe,startAngle:me}=I,ne=Yr(0,fe-me,k),ue=gn(gn({},I),{},{startAngle:N+B,endAngle:N+ne+B});D.push(ue),N=ue.endAngle}}),r.current=D,R.createElement(In,null,R.createElement(M6e,{sectors:D,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),R.createElement(O6e,{showLabels:!b,sectors:i,props:t}),t.children)}var j6e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Gn.area};function U6e(e){var{id:t}=e,r=ab(e,y6e),{hide:n,className:i,rootTabIndex:a}=e,s=R.useMemo(()=>pk(e.children,yg),[e.children]),o=ut(d=>M3e(d,t,s)),c=R.useRef(null),u=dr("recharts-pie",i);return n||o==null?(c.current=null,R.createElement(In,{tabIndex:a,className:u})):R.createElement(za,{zIndex:e.zIndex},R.createElement(A6e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),R.createElement(In,{tabIndex:a,className:u},R.createElement(F6e,{props:gn(gn({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function NK(e){var t=Kn(e,j6e),{id:r}=t,n=ab(t,x6e),i=Ua(n);return R.createElement(xk,{id:r,type:"pie"},a=>R.createElement(R.Fragment,null,R.createElement(m6e,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),R.createElement(T6e,uu({},n,{id:a})),R.createElement(U6e,uu({},n,{id:a}))))}NK.displayName="Pie";var B6e=["points"];function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){V6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V6e(e,t,r){return(t=z6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z6e(e){var t=$6e(e,"string");return typeof t=="symbol"?t:t+""}function $6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k1(){return k1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k1.apply(null,arguments)}function H6e(e,t){if(e==null)return{};var r,n,i=G6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function q6e(e){var{option:t,dotProps:r,className:n}=e;if(R.isValidElement(t))return R.cloneElement(t,r);if(typeof t=="function")return t(r);var i=dr(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=H6e(a,B6e);return R.createElement(gK,k1({},o,{className:i}))}function K6e(e,t){return e==null?!1:t?!0:e.length===1}function W6e(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:u=Gn.scatter}=e;if(!K6e(t,r))return null;var d=EK(r),p=uAe(r),m=t.map((x,b)=>{var E,S,L=mA(mA(mA({r:3},s),p),{},{index:b,cx:(E=x.x)!==null&&E!==void 0?E:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:a,value:x.value,payload:x.payload,points:t});return R.createElement(q6e,{key:"dot-".concat(b),option:r,dotProps:L,className:i})}),y={};return o&&c!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),R.createElement(za,{zIndex:u},R.createElement(In,k1({className:n},y),m))}function x8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(r),!0).forEach(function(n){Y6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y6e(e,t,r){return(t=J6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J6e(e){var t=X6e(e,"string");return typeof t=="symbol"?t:t+""}function X6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IK=0,Z6e={xAxis:{},yAxis:{},zAxis:{}},kK=Va({name:"cartesianAxis",initialState:Z6e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:en()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:en()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:en()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:en()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:en()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:en()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:en()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:en()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:en()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=_8(_8({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:Q6e,replaceXAxis:eLe,removeXAxis:tLe,addYAxis:rLe,replaceYAxis:nLe,removeYAxis:iLe,addZAxis:eUe,replaceZAxis:tUe,removeZAxis:rUe,updateYAxisWidth:aLe}=kK.actions,sLe=kK.reducer,oLe=we([ei],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),lLe=we([oLe,Zl,Ql],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),_k=()=>ut(lLe),cLe=()=>ut(Y4e);function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(n){uLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uLe(e,t,r){return(t=fLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fLe(e){var t=dLe(e,"string");return typeof t=="symbol"?t:t+""}function dLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hLe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=gA(gA(gA({},o),Af(i)),FN(i)),u;return R.isValidElement(i)?u=R.cloneElement(i,c):typeof i=="function"?u=i(c):u=R.createElement(gK,c),R.createElement(In,{className:"recharts-active-dot",clipPath:s},u)};function w8(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Gn.activeDot}=e,o=ut(cu),c=cLe();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return _n(u)?null:R.createElement(za,{zIndex:s},R.createElement(hLe,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var E8=(e,t,r)=>{var n=r??e;if(!_n(n))return Ki(n,t,0)},pLe=(e,t,r)=>{var n={},i=e.filter(K_),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>{var p=u[d.stackId];return p==null&&(p=[]),p.push(d),u[d.stackId]=p,u},n),o=Object.entries(s).map(u=>{var d,[p,m]=u,y=m.map(b=>b.dataKey),x=E8(t,r,(d=m[0])===null||d===void 0?void 0:d.barSize);return{stackId:p,dataKeys:y,barSize:x}}),c=a.map(u=>{var d=[u.dataKey].filter(m=>m!=null),p=E8(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:p}});return[...o,...c]};function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){mLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mLe(e,t,r){return(t=gLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gLe(e){var t=vLe(e,"string");return typeof t=="symbol"?t:t+""}function vLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yLe(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var o=Ki(e,r,0,!0),c,u=[];if($t((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,p=r/s,m=n.reduce((L,k)=>L+(k.barSize||0),0);m+=(s-1)*o,m>=r&&(m-=(s-1)*o,o=0),m>=r&&p>0&&(d=!0,p*=.9,m=s*p);var y=(r-m)/2>>0,x={offset:y-o,size:0};c=n.reduce((L,k)=>{var M,D={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:x.offset+x.size+o,size:d?p:(M=k.barSize)!==null&&M!==void 0?M:0}},P=[...L,D];return x=D.position,P},u)}else{var b=Ki(t,r,0,!0);r-2*b-(s-1)*o<=0&&(o=0);var E=(r-2*b-(s-1)*o)/s;E>1&&(E>>=0);var S=$t(i)?Math.min(E,i):E;c=n.reduce((L,k,M)=>[...L,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:b+(E+o)*M+(E-S)/2,size:S}}],u)}return c}}var xLe=(e,t,r,n,i,a,s)=>{var o=_n(s)?t:s,c=yLe(r,n,i!==a?i:a,e,o);return i!==a&&c!=null&&(c=c.map(u=>wy(wy({},u),{},{position:wy(wy({},u.position),{},{offset:u.position.offset-i/2})}))),c},_Le=(e,t)=>{var r=q_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},bLe=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function wLe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&$t(e.zIndex)?e.zIndex:t}var PK=e=>{var{chartData:t}=e,r=Hr(),n=Ji();return R.useEffect(()=>n?()=>{}:(r(Ij(t)),()=>{r(Ij(void 0))}),[t,r,n]),null},A8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RK=Va({name:"brush",initialState:A8,reducers:{setBrushSettings(e,t){return t.payload==null?A8:t.payload}}}),{setBrushSettings:nUe}=RK.actions,ELe=RK.reducer;function TLe(e){return(e%180+180)%180}var ALe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=TLe(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},SLe={dots:[],areas:[],lines:[]},OK=Va({name:"referenceElements",initialState:SLe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ho(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ho(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ho(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:iUe,removeDot:aUe,addArea:sUe,removeArea:oUe,addLine:lUe,removeLine:cUe}=OK.actions,CLe=OK.reducer,NLe=R.createContext(void 0),ILe=e=>{var{children:t}=e,[r]=R.useState("".concat(bm("recharts"),"-clip")),n=_k();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return R.createElement(NLe.Provider,{value:r},R.createElement("defs",null,R.createElement("clipPath",{id:r},R.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function MK(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function kLe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ALe(n,r)}function PLe(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Dm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function RLe(e,t){return MK(e,t+1)}function OLe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,p=function(){var x=n?.[c];if(x===void 0)return{v:MK(n,u)};var b=c,E,S=()=>(E===void 0&&(E=r(x,b)),E),L=x.coordinate,k=c===0||Dm(e,L,S,d,o);k||(c=0,d=s,u+=1),k&&(d=L+e*(S()/2+i),c+=u)},m;u<=a.length;)if(m=p(),m)return m.v;return[]}function MLe(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:c}=t,u=1;u<=s;u++){for(var d=(s-1)%u,p=o,m=!0,y=function(){var M=n[b];if(M==null)return 0;var D=b,P,N=()=>(P===void 0&&(P=r(M,D)),P),I=M.coordinate,O=b===d||Dm(e,I,N,p,c);if(!O)return m=!1,1;O&&(p=I+e*(N()/2+i))},x,b=d;b<s&&(x=y(),!(x!==0&&x===1));b+=u);if(m){for(var E=[],S=d;S<s;S+=u){var L=n[S];L!=null&&E.push(L)}return E}}return[]}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){DLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DLe(e,t,r){return(t=LLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LLe(e){var t=FLe(e,"string");return typeof t=="symbol"?t:t+""}function FLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jLe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(m){var y=a[m];if(y==null)return 1;var x=y,b,E=()=>(b===void 0&&(b=r(y,m)),b);if(m===s-1){var S=e*(x.coordinate+e*E()/2-c);a[m]=x=ji(ji({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate})}else a[m]=x=ji(ji({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var L=Dm(e,x.tickCoord,E,o,c);L&&(c=x.tickCoord-e*(E()/2+i),a[m]=ji(ji({},x),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function ULe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=n[o-1];if(d!=null){var p=r(d,o-1),m=e*(d.coordinate+e*p/2-u);if(s[o-1]=d=ji(ji({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var y=Dm(e,d.tickCoord,()=>p,c,u);y&&(u=d.tickCoord-e*(p/2+i),s[o-1]=ji(ji({},d),{},{isShow:!0}))}}}for(var x=a?o-1:o,b=function(L){var k=s[L];if(k==null)return 1;var M=k,D,P=()=>(D===void 0&&(D=r(k,L)),D);if(L===0){var N=e*(M.coordinate-e*P()/2-c);s[L]=M=ji(ji({},M),{},{tickCoord:N<0?M.coordinate-N*e:M.coordinate})}else s[L]=M=ji(ji({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var I=Dm(e,M.tickCoord,P,c,u);I&&(c=M.tickCoord+e*(P()/2+i),s[L]=ji(ji({},M),{},{isShow:!0}))}},E=0;E<x;E++)b(E);return s}function bk(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:p}=e;if(!i||!i.length||!n)return[];if(nt(c)||ig.isSsr){var m;return(m=RLe(i,nt(c)?c:0))!==null&&m!==void 0?m:[]}var y=[],x=o==="top"||o==="bottom"?"width":"height",b=d&&x==="width"?Hp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},E=(D,P)=>{var N=typeof u=="function"?u(D.value,P):D.value;return x==="width"?kLe(Hp(N,{fontSize:t,letterSpacing:r}),b,p):Hp(N,{fontSize:t,letterSpacing:r})[x]},S=i[0],L=i[1],k=i.length>=2&&S!=null&&L!=null?di(L.coordinate-S.coordinate):1,M=PLe(a,k,x);return c==="equidistantPreserveStart"?OLe(k,M,E,i,s):c==="equidistantPreserveEnd"?MLe(k,M,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=ULe(k,M,E,i,s,c==="preserveStartEnd"):y=jLe(k,M,E,i,s),y.filter(D=>D.isShow))}var BLe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var p=d.getBoundingClientRect();p.width>s&&(s=p.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},VLe=["axisLine","width","height","className","hide","ticks","axisType"];function zLe(e,t){if(e==null)return{};var r,n,i=$Le(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Le(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(null,arguments)}function C8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C8(Object(r),!0).forEach(function(n){HLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HLe(e,t,r){return(t=GLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GLe(e){var t=qLe(e,"string");return typeof t=="symbol"?t:t+""}function qLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ll={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gn.axis};function KLe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=hn(hn(hn({},c),Ua(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=hn(hn({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);u=hn(hn({},u),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+i})}return R.createElement("line",Of({},u,{className:dr("recharts-cartesian-axis-line",Cf(o,"className"))}))}function WLe(e,t,r,n,i,a,s,o,c){var u,d,p,m,y,x,b=o?-1:1,E=e.tickSize||s,S=nt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,m=r+ +!o*i,p=m-b*E,x=p-b*c,y=S;break;case"left":p=m=e.coordinate,d=t+ +!o*n,u=d-b*E,y=u-b*c,x=S;break;case"right":p=m=e.coordinate,d=t+ +o*n,u=d+b*E,y=u+b*c,x=S;break;default:u=d=e.coordinate,m=r+ +o*i,p=m+b*E,x=p+b*c,y=S;break}return{line:{x1:u,y1:p,x2:d,y2:m},tick:{x:y,y:x}}}function YLe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function JLe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function XLe(e){var{option:t,tickProps:r,value:n}=e,i,a=dr(r.className,"recharts-cartesian-axis-tick-value");if(R.isValidElement(t))i=R.cloneElement(t,hn(hn({},r),{},{className:a}));else if(typeof t=="function")i=t(hn(hn({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=dr(s,_K(t))),i=R.createElement(rb,Of({},r,{className:s}),n)}return i}var ZLe=R.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:p,x:m,y,width:x,height:b,tickSize:E,tickMargin:S,fontSize:L,letterSpacing:k,getTicksConfig:M,events:D,axisType:P}=e,N=bk(hn(hn({},M),{},{ticks:r}),L,k),I=YLe(d,p),O=JLe(d,p),U=Ua(M),B=Af(n),F={};typeof i=="object"&&(F=i);var H=hn(hn({},U),{},{fill:"none"},F),fe=N.map(ue=>hn({entry:ue},WLe(ue,m,y,x,b,d,E,p,S))),me=fe.map(ue=>{var{entry:ce,line:ae}=ue;return R.createElement(In,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&R.createElement("line",Of({},H,ae,{className:dr("recharts-cartesian-axis-tick-line",Cf(i,"className"))})))}),ne=fe.map((ue,ce)=>{var ae,_e,{entry:J,tick:V}=ue,ee=hn(hn(hn(hn({verticalAnchor:O},U),{},{textAnchor:I,stroke:"none",fill:a},V),{},{index:ce,payload:J,visibleTicksCount:N.length,tickFormatter:s,padding:c},u),{},{angle:(ae=(_e=u?.angle)!==null&&_e!==void 0?_e:U.angle)!==null&&ae!==void 0?ae:0}),X=hn(hn({},ee),B);return R.createElement(In,Of({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Zm(D,J,ce)),n&&R.createElement(XLe,{option:n,tickProps:X,value:"".concat(typeof s=="function"?s(J.value,ce):J.value).concat(o||"")}))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},ne.length>0&&R.createElement(za,{zIndex:Gn.label},R.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},ne)),me.length>0&&R.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},me))}),QLe=R.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=e,u=zLe(e,VLe),[d,p]=R.useState(""),[m,y]=R.useState(""),x=R.useRef(null);R.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return BLe({ticks:x.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=R.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var L=S[0];if(L){var k=window.getComputedStyle(L),M=k.fontSize,D=k.letterSpacing;(M!==d||D!==m)&&(p(M),y(D))}}},[d,m]);return s||n!=null&&n<=0||i!=null&&i<=0?null:R.createElement(za,{zIndex:e.zIndex},R.createElement(In,{className:dr("recharts-cartesian-axis",a)},R.createElement(KLe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ua(e)}),R.createElement(ZLe,{ref:b,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),R.createElement(YDe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},R.createElement(a3e,{label:e.label,labelRef:e.labelRef}),e.children)))}),wk=R.forwardRef((e,t)=>{var r=Kn(e,Ll);return R.createElement(QLe,Of({},r,{ref:t}))});wk.displayName="CartesianAxis";var e5e=["x1","y1","x2","y2","key"],t5e=["offset"],r5e=["xAxisId","yAxisId"],n5e=["xAxisId","yAxisId"];function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){i5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i5e(e,t,r){return(t=a5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a5e(e){var t=s5e(e,"string");return typeof t=="symbol"?t:t+""}function s5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function P1(e,t){if(e==null)return{};var r,n,i=o5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function o5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l5e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return R.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function DK(e){var{option:t,lineItemProps:r}=e,n;if(R.isValidElement(t))n=R.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=P1(r,e5e),p=(i=Ua(d))!==null&&i!==void 0?i:{},{offset:m}=p,y=P1(p,t5e);n=R.createElement("line",nf({},y,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function c5e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=P1(e,r5e),c=i.map((u,d)=>{var p=Vi(Vi({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return R.createElement(DK,{key:"line-".concat(d),option:n,lineItemProps:p})});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function u5e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=P1(e,n5e),c=i.map((u,d)=>{var p=Vi(Vi({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return R.createElement(DK,{option:n,lineItemProps:p,key:"line-".concat(d)})});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function f5e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==u[0]&&u.unshift(0);var d=u.map((p,m)=>{var y=u[m+1],x=y==null,b=x?i+s-p:y-p;if(b<=0)return null;var E=m%t.length;return R.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:b,width:a,stroke:"none",fill:t[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function d5e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(p=>Math.round(p+i-i)).sort((p,m)=>p-m);i!==u[0]&&u.unshift(0);var d=u.map((p,m)=>{var y=u[m+1],x=y==null,b=x?i+s-p:y-p;if(b<=0)return null;var E=m%r.length;return R.createElement("rect",{key:"react-".concat(m),x:p,y:a,width:b,height:o,stroke:"none",fill:r[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var h5e=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return bH(bk(Vi(Vi(Vi({},Ll),r),{},{ticks:wH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},p5e=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return bH(bk(Vi(Vi(Vi({},Ll),r),{},{ticks:wH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},m5e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Gn.grid};function Zy(e){var t=JN(),r=XN(),n=kH(),i=Vi(Vi({},Kn(e,m5e)),{},{x:nt(e.x)?e.x:n.left,y:nt(e.y)?e.y:n.top,width:nt(e.width)?e.width:n.width,height:nt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:p,horizontalValues:m,verticalValues:y}=i,x=Ji(),b=ut(O=>vj(O,"xAxis",a,x)),E=ut(O=>vj(O,"yAxis",s,x));if(!Xo(u)||!Xo(d)||!nt(o)||!nt(c))return null;var S=i.verticalCoordinatesGenerator||h5e,L=i.horizontalCoordinatesGenerator||p5e,{horizontalPoints:k,verticalPoints:M}=i;if((!k||!k.length)&&typeof L=="function"){var D=m&&m.length,P=L({yAxis:E?Vi(Vi({},E),{},{ticks:D?m:E.ticks}):void 0,width:t??u,height:r??d,offset:n},D?!0:p);r1(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}if((!M||!M.length)&&typeof S=="function"){var N=y&&y.length,I=S({xAxis:b?Vi(Vi({},b),{},{ticks:N?y:b.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:p);r1(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(M=I)}return R.createElement(za,{zIndex:i.zIndex},R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(l5e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),R.createElement(f5e,nf({},i,{horizontalPoints:k})),R.createElement(d5e,nf({},i,{verticalPoints:M})),R.createElement(c5e,nf({},i,{offset:n,horizontalPoints:k,xAxis:b,yAxis:E})),R.createElement(u5e,nf({},i,{offset:n,verticalPoints:M,xAxis:b,yAxis:E}))))}Zy.displayName="CartesianGrid";var g5e={},LK=Va({name:"errorBars",initialState:g5e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:uUe,replaceErrorBar:fUe,removeErrorBar:dUe}=LK.actions,v5e=LK.reducer,y5e=["children"];function x5e(e,t){if(e==null)return{};var r,n,i=_5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b5e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},w5e=R.createContext(b5e);function E5e(e){var{children:t}=e,r=x5e(e,y5e);return R.createElement(w5e.Provider,{value:r},t)}function Ek(e,t){var r,n,i=ut(u=>rc(u,e)),a=ut(u=>nc(u,t)),s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:oi.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:li.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function FK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=_k(),{needClipX:a,needClipY:s,needClip:o}=Ek(t,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:p}=i;return R.createElement("clipPath",{id:"clipPath-".concat(n)},R.createElement("rect",{x:a?c:c-d/2,y:s?u:u-p/2,width:a?d:d*2,height:s?p:p*2}))}function T5e(e){var t=Af(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var vA={exports:{}},yA={};var I8;function A5e(){if(I8)return yA;I8=1;var e=Ph();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return yA.useSyncExternalStoreWithSelector=function(c,u,d,p,m){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function E(D){if(!S){if(S=!0,L=D,D=p(D),m!==void 0&&x.hasValue){var P=x.value;if(m(P,D))return k=P}return k=D}if(P=k,r(L,D))return P;var N=p(D);return m!==void 0&&m(P,N)?(L=D,P):(L=D,k=N)}var S=!1,L,k,M=d===void 0?null:d;return[function(){return E(u())},M===null?void 0:function(){return E(M())}]},[u,d,p,m]);var b=n(c,y[0],y[1]);return a(function(){x.hasValue=!0,x.value=b},[b]),o(b),b},yA}var k8;function S5e(){return k8||(k8=1,vA.exports=A5e()),vA.exports}S5e();function C5e(e){e()}function N5e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){C5e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var P8={notify(){},get:()=>[]};function I5e(e,t){let r,n=P8,i=0,a=!1;function s(b){d();const E=n.subscribe(b);let S=!1;return()=>{S||(S=!0,E(),p())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=N5e())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=P8)}function m(){a||(a=!0,d())}function y(){a&&(a=!1,p())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>n};return x}var k5e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P5e=k5e(),R5e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",O5e=R5e(),M5e=()=>P5e||O5e?R.useLayoutEffect:R.useEffect,D5e=M5e();function R8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function L5e(e,t){if(R8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!R8(e[r[i]],t[r[i]]))return!1;return!0}var F5e=Symbol.for("react-redux-context"),j5e=typeof globalThis<"u"?globalThis:{};function U5e(){if(!R.createContext)return{};const e=j5e[F5e]??=new Map;let t=e.get(R.createContext);return t||(t=R.createContext(null),e.set(R.createContext,t)),t}var B5e=U5e();function V5e(e){const{children:t,context:r,serverState:n,store:i}=e,a=R.useMemo(()=>{const c=I5e(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=R.useMemo(()=>i.getState(),[i]);D5e(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||B5e;return R.createElement(o.Provider,{value:a},t)}var z5e=V5e,$5e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function H5e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function sb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if($5e.has(n)){if(e[n]==null&&t[n]==null)continue;if(!L5e(e[n],t[n]))return!1}else if(!H5e(e[n],t[n]))return!1;return!0}function rl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:IK}function nl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:IK}var jK=(e,t,r)=>lu(e,"xAxis",rl(e,t),r),UK=(e,t,r)=>ou(e,"xAxis",rl(e,t),r),BK=(e,t,r)=>lu(e,"yAxis",nl(e,t),r),VK=(e,t,r)=>ou(e,"yAxis",nl(e,t),r),G5e=we([lr,jK,BK,UK,VK],(e,t,r,n,i)=>tl(e,"xAxis")?Ah(t,n,!1):Ah(r,i,!1)),q5e=(e,t)=>t,zK=we([J_,q5e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),$K=e=>{var t=lr(e),r=tl(t,"xAxis");return r?"yAxis":"xAxis"},K5e=(e,t)=>{var r=$K(e);return r==="yAxis"?nl(e,t):rl(e,t)},W5e=(e,t,r)=>T1(e,$K(e),K5e(e,t),r),Y5e=we([zK,W5e],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=q_(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a?.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),J5e=we([lr,jK,BK,UK,VK,Y5e,MG,G5e,zK,HRe],(e,t,r,n,i,a,s,o,c,u)=>{var{chartData:d,dataStartIndex:p,dataEndIndex:m}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:y}=c,x;if(y&&y.length>0?x=y:x=d?.slice(p,m+1),x!=null)return mFe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:p,areaSettings:c,stackedData:a,displayedData:x,chartBaseValue:u,bandSize:o})}}),X5e=["id"],Z5e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hf.apply(null,arguments)}function HK(e,t){if(e==null)return{};var r,n,i=Q5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Q5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){eFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eFe(e,t,r){return(t=tFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tFe(e){var t=rFe(e,"string");return typeof t=="symbol"?t:t+""}function rFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R1(e,t){return e&&e!=="none"?e:t}var nFe=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:R1(n,i),value:Gh(r,t),payload:e}]},iFe=R.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:u,id:d}=e,p={dataDefinedOnItem:r,getPosition:qf,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Gh(s,t),hide:o,type:u,color:R1(n,a),unit:c,graphicalItemId:d}};return R.createElement(yk,{tooltipEntrySettings:p})});function aFe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=Ua(n);return R.createElement(W6e,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function sFe(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Jd(Jd({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return R.createElement(pK,{value:t?i:void 0},r)}function M8(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:c,connectNulls:u,isRange:d}=a,{id:p}=a,m=HK(a,X5e),y=Ua(m),x=va(m);return R.createElement(R.Fragment,null,t?.length>1&&R.createElement(In,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},R.createElement(lh,hf({},x,{id:p,points:t,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&R.createElement(lh,hf({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&R.createElement(lh,hf({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),R.createElement(aFe,{points:t,props:m,clipPathId:i}))}function oFe(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,c=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!$t(o)||!$t(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(p=>p.x||0));return nt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.x||0),d)),nt(d)?R.createElement("rect",{x:0,y:o<c?o:o-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function lFe(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,c=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!$t(o)||!$t(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(p=>p.y||0));return nt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(p=>p.y||0),d)),nt(d)?R.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function cFe(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?R.createElement(oFe,{alpha:t,points:n,baseLine:i,strokeWidth:a}):R.createElement(lFe,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function uFe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:p,onAnimationStart:m,onAnimationEnd:y}=n,x=R.useMemo(()=>({points:s,baseLine:o}),[s,o]),b=sg(x,"recharts-area-"),E=ZN(),[S,L]=R.useState(!1),k=!S,M=R.useCallback(()=>{typeof y=="function"&&y(),L(!1)},[y]),D=R.useCallback(()=>{typeof m=="function"&&m(),L(!0)},[m]);if(E==null)return null;var P=i.current,N=a.current;return R.createElement(sFe,{showLabels:k,points:s},n.children,R.createElement(ag,{animationId:b,begin:u,duration:d,isActive:c,easing:p,onAnimationEnd:M,onAnimationStart:D,key:b},I=>{if(P){var O=P.length/s.length,U=I===1?s:s.map((F,H)=>{var fe=Math.floor(H*O);if(P[fe]){var me=P[fe];return Jd(Jd({},F),{},{x:Yr(me.x,F.x,I),y:Yr(me.y,F.y,I)})}return F}),B;return nt(o)?B=Yr(N,o,I):_n(o)||mo(o)?B=Yr(N,0,I):B=o.map((F,H)=>{var fe=Math.floor(H*O);if(Array.isArray(N)&&N[fe]){var me=N[fe];return Jd(Jd({},F),{},{x:Yr(me.x,F.x,I),y:Yr(me.y,F.y,I)})}return F}),I>0&&(i.current=U,a.current=B),R.createElement(M8,{points:U,baseLine:B,needClip:t,clipPathId:r,props:n})}return I>0&&(i.current=s,a.current=o),R.createElement(In,null,c&&R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(r)},R.createElement(cFe,{alpha:I,points:s,baseLine:o,layout:E,strokeWidth:n.strokeWidth}))),R.createElement(In,{clipPath:"url(#animationClipPath-".concat(r,")")},R.createElement(M8,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),R.createElement(fk,{label:n.label}))}function fFe(e){var{needClip:t,clipPathId:r,props:n}=e,i=R.useRef(null),a=R.useRef();return R.createElement(uFe,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class dFe extends R.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:c,yAxisId:u,width:d,height:p,id:m,baseLine:y,zIndex:x}=this.props;if(t)return null;var b=dr("recharts-area",i),E=m,{r:S,strokeWidth:L}=T5e(r),k=EK(r),M=S*2+L,D=o?"url(#clipPath-".concat(k?"":"dots-").concat(E,")"):void 0;return R.createElement(za,{zIndex:x},R.createElement(In,{className:b},o&&R.createElement("defs",null,R.createElement(FK,{clipPathId:E,xAxisId:c,yAxisId:u}),!k&&R.createElement("clipPath",{id:"clipPath-dots-".concat(E)},R.createElement("rect",{x:s-M/2,y:a-M/2,width:d+M,height:p+M}))),R.createElement(fFe,{needClip:o,clipPathId:E,props:this.props})),R.createElement(w8,{points:n,mainColor:R1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&R.createElement(w8,{points:y,mainColor:R1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var GK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Gn.area};function hFe(e){var t,r=Kn(e,GK),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:p,isAnimationActive:m,legendType:y,stroke:x,xAxisId:b,yAxisId:E}=r,S=HK(r,Z5e),L=Kf(),k=Yq(),{needClip:M}=Ek(b,E),D=Ji(),{points:P,isRange:N,baseLine:I}=(t=ut(fe=>J5e(fe,e.id,D)))!==null&&t!==void 0?t:{},O=_k();if(L!=="horizontal"&&L!=="vertical"||O==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:U,width:B,x:F,y:H}=O;return!P||!P.length?null:R.createElement(dFe,hf({},S,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:I,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:U,hide:p,layout:L,isAnimationActive:m==="auto"?!ig.isSsr:m,isRange:N,legendType:y,needClip:M,points:P,stroke:x,width:B,left:F,top:H,xAxisId:b,yAxisId:E}))}var pFe=(e,t,r,n,i)=>{var a=r??t;if(nt(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function mFe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:p,yAxisTicks:m,bandSize:y}=e,x=i&&i.length,b=pFe(a,s,r,o,c),E=a==="horizontal",S=!1,L=u.map((M,D)=>{var P,N,I,O;if(x)O=i[d+D];else{var U=Lr(M,n);Array.isArray(U)?(O=U,S=!0):O=[b,U]}var B=(P=(N=O)===null||N===void 0?void 0:N[1])!==null&&P!==void 0?P:null,F=B==null||x&&!t&&Lr(M,n)==null;if(E){var H;return{x:p5({axis:o,ticks:p,bandSize:y,entry:M,index:D}),y:F?null:(H=c.scale.map(B))!==null&&H!==void 0?H:null,value:O,payload:M}}return{x:F?null:(I=o.scale.map(B))!==null&&I!==void 0?I:null,y:p5({axis:c,ticks:m,bandSize:y,entry:M,index:D}),value:O,payload:M}}),k;return x||S?k=L.map(M=>{var D,P=Array.isArray(M.value)?M.value[0]:null;if(E){var N;return{x:M.x,y:P!=null&&M.y!=null&&(N=c.scale.map(P))!==null&&N!==void 0?N:null,payload:M.payload}}return{x:P!=null&&(D=o.scale.map(P))!==null&&D!==void 0?D:null,y:M.y,payload:M.payload}}):k=E?c.scale.map(b):o.scale.map(b),{points:L,baseLine:k??0,isRange:S}}function gFe(e){var t=Kn(e,GK),r=Ji();return R.createElement(xk,{id:t.id,type:"area"},n=>R.createElement(R.Fragment,null,R.createElement(AK,{legendPayload:nFe(t)}),R.createElement(iFe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),R.createElement(CK,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:EH(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),R.createElement(hFe,hf({},t,{id:n}))))}var qK=R.memo(gFe,sb);qK.displayName="Area";var vFe="Invariant failed";function yFe(e,t){throw new Error(vFe)}function R2(){return R2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R2.apply(null,arguments)}function O1(e){return R.createElement(TK,R2({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var xFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(nt(t))return t;var a=nt(n)||_n(n);return a?t(n,i):(a||yFe(),r)}},_Fe=(e,t,r)=>r,bFe=(e,t)=>t,xg=we([J_,bFe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),wFe=we([xg],e=>e?.maxBarSize),EFe=(e,t,r,n)=>n,TFe=we([lr,J_,rl,nl,_Fe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),AFe=(e,t,r)=>{var n=lr(e),i=rl(e,t),a=nl(e,t);if(!(i==null||a==null))return n==="horizontal"?T1(e,"yAxis",a,r):T1(e,"xAxis",i,r)},SFe=(e,t)=>{var r=lr(e),n=rl(e,t),i=nl(e,t);if(!(n==null||i==null))return r==="horizontal"?gj(e,"xAxis",n):gj(e,"yAxis",i)},CFe=we([TFe,$Re,SFe],pLe),NFe=(e,t,r)=>{var n,i,a=xg(e,t);if(a==null)return 0;var s=rl(e,t),o=nl(e,t);if(s==null||o==null)return 0;var c=lr(e),u=qG(e),{maxBarSize:d}=a,p=_n(d)?u:d,m,y;return c==="horizontal"?(m=lu(e,"xAxis",s,r),y=ou(e,"xAxis",s,r)):(m=lu(e,"yAxis",o,r),y=ou(e,"yAxis",o,r)),(n=(i=Ah(m,y,!0))!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0},KK=(e,t,r)=>{var n=lr(e),i=rl(e,t),a=nl(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=lu(e,"xAxis",i,r),o=ou(e,"xAxis",i,r)):(s=lu(e,"yAxis",a,r),o=ou(e,"yAxis",a,r)),Ah(s,o)}},IFe=we([CFe,qG,zRe,KG,NFe,KK,wFe],xLe),kFe=(e,t,r)=>{var n=rl(e,t);if(n!=null)return lu(e,"xAxis",n,r)},PFe=(e,t,r)=>{var n=nl(e,t);if(n!=null)return lu(e,"yAxis",n,r)},RFe=(e,t,r)=>{var n=rl(e,t);if(n!=null)return ou(e,"xAxis",n,r)},OFe=(e,t,r)=>{var n=nl(e,t);if(n!=null)return ou(e,"yAxis",n,r)},MFe=we([IFe,xg],bLe),DFe=we([AFe,xg],_Le),LFe=we([ei,KN,kFe,PFe,RFe,OFe,MFe,lr,MG,KK,DFe,xg,EFe],(e,t,r,n,i,a,s,o,c,u,d,p,m)=>{var{chartData:y,dataStartIndex:x,dataEndIndex:b}=c;if(!(p==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:E}=p,S;if(E!=null&&E.length>0?S=E:S=y?.slice(x,b+1),S!=null)return uje({layout:o,barSettings:p,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:S,offset:e,cells:m,dataStartIndex:x})}}),FFe=["index"];function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O2.apply(null,arguments)}function jFe(e,t){if(e==null)return{};var r,n,i=UFe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WK=R.createContext(void 0),BFe=e=>{var t=R.useContext(WK);if(t!=null)return t.stackId;if(e!=null)return EH(e)},VFe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),zFe=e=>{var t=R.useContext(WK);if(t!=null){var{stackId:r}=t;return"url(#".concat(VFe(r,e),")")}},YK=e=>{var{index:t}=e,r=jFe(e,FFe),n=zFe(t);return R.createElement(In,O2({className:"recharts-bar-stack-layer",clipPath:n},r))},$Fe=["onMouseEnter","onMouseLeave","onClick"],HFe=["value","background","tooltipPosition"],GFe=["id"],qFe=["onMouseEnter","onClick","onMouseLeave"];function Wl(){return Wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wl.apply(null,arguments)}function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(n){KFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KFe(e,t,r){return(t=WFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WFe(e){var t=YFe(e,"string");return typeof t=="symbol"?t:t+""}function YFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M1(e,t){if(e==null)return{};var r,n,i=JFe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XFe=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Gh(r,t),payload:e}]},ZFe=R.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:qf,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Gh(a,t),hide:s,type:c,color:i,unit:o,graphicalItemId:u}};return R.createElement(yk,{tooltipEntrySettings:d})});function QFe(e){var t=ut(cu),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=M1(a,$Fe),d=mk(s,n,a.id),p=gk(o),m=vk(c,n,a.id);if(!i||r==null)return null;var y=Af(i);return R.createElement(za,{zIndex:wLe(i,Gn.barBackground)},r.map((x,b)=>{var{value:E,background:S,tooltipPosition:L}=x,k=M1(x,HFe);if(!S)return null;var M=d(x,b),D=p(x,b),P=m(x,b),N=la(la(la(la(la({option:i,isActive:String(b)===t},k),{},{fill:"#eee"},S),y),Zm(u,x,b)),{},{onMouseEnter:M,onMouseLeave:D,onClick:P,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return R.createElement(O1,Wl({key:"background-bar-".concat(b)},N))}))}function eje(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return la(la({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return R.createElement(pK,{value:t?i:void 0},r)}function tje(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=ut(cu),c=ut(ik),u=r&&String(a)===o&&(c==null||s===c),d=u?r:t;return u?R.createElement(za,{zIndex:Gn.activeBar},R.createElement(YK,{index:a},R.createElement(O1,Wl({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s})))):R.createElement(O1,Wl({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function rje(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return R.createElement(O1,Wl({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function nje(e){var t,{data:r,props:n}=e,i=(t=Ua(n))!==null&&t!==void 0?t:{},{id:a}=i,s=M1(i,GFe),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:p,onMouseLeave:m}=n,y=M1(n,qFe),x=mk(d,c,a),b=gk(m),E=vk(p,c,a);return r?R.createElement(R.Fragment,null,r.map((S,L)=>R.createElement(YK,Wl({index:L,key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(L),className:"recharts-bar-rectangle"},Zm(y,S,L),{onMouseEnter:x(S,L),onMouseLeave:b(S,L),onClick:E(S,L)}),u?R.createElement(tje,{shape:o,activeBar:u,baseProps:s,entry:S,index:L,dataKey:c}):R.createElement(rje,{shape:o,baseProps:s,entry:S,index:L,dataKey:c})))):null}function ije(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,p=r.current,m=sg(t,"recharts-bar-"),[y,x]=R.useState(!1),b=!y,E=R.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),S=R.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return R.createElement(eje,{showLabels:b,rects:n},R.createElement(ag,{animationId:m,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:E,onAnimationStart:S,key:m},L=>{var k=L===1?n:n?.map((M,D)=>{var P=p&&p[D];if(P)return la(la({},M),{},{x:Yr(P.x,M.x,L),y:Yr(P.y,M.y,L),width:Yr(P.width,M.width,L),height:Yr(P.height,M.height,L)});if(i==="horizontal"){var N=Yr(0,M.height,L),I=Yr(M.stackedBarStart,M.y,L);return la(la({},M),{},{y:I,height:N})}var O=Yr(0,M.width,L),U=Yr(M.stackedBarStart,M.x,L);return la(la({},M),{},{width:O,x:U})});return L>0&&(r.current=k??null),k==null?null:R.createElement(In,null,R.createElement(nje,{props:t,data:k}))}),R.createElement(fk,{label:t.label}),t.children)}function aje(e){var t=R.useRef(null);return R.createElement(ije,{previousRectanglesRef:t,props:e})}var JK=0,sje=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Lr(e,t)}};class oje extends R.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=dr("recharts-bar",i),p=u;return R.createElement(In,{className:d,id:u},o&&R.createElement("defs",null,R.createElement(FK,{clipPathId:p,xAxisId:a,yAxisId:s})),R.createElement(In,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(p,")"):void 0},R.createElement(QFe,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),R.createElement(aje,this.props)))}}var lje={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:JK,xAxisId:0,yAxisId:0,zIndex:Gn.bar};function cje(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:p}=Ek(t,r),m=Kf(),y=Ji(),x=pk(e.children,yg),b=ut(L=>LFe(L,e.id,y,x));if(m!=="vertical"&&m!=="horizontal")return null;var E,S=b?.[0];return S==null||S.height==null||S.width==null?E=0:E=m==="vertical"?S.height/2:S.width/2,R.createElement(E5e,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:sje,errorBarOffset:E},R.createElement(oje,Wl({},e,{layout:m,needClip:p,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function uje(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:p,offset:m,cells:y,parentViewBox:x,dataStartIndex:b}=e,E=t==="horizontal"?o:s,S=d?E.scale.domain():null,L=kCe({numericAxis:E}),k=E.scale.map(L);return p.map((M,D)=>{var P,N,I,O,U,B;if(d){var F=d[D+b];if(F==null)return null;P=ACe(F,S)}else P=Lr(M,r),Array.isArray(P)||(P=[L,P]);var H=xFe(n,JK)(P[1],D);if(t==="horizontal"){var fe,me=o.scale.map(P[0]),ne=o.scale.map(P[1]);if(me==null||ne==null)return null;N=m5({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:M,index:D}),I=(fe=ne??me)!==null&&fe!==void 0?fe:void 0,O=i.size;var ue=me-ne;if(U=mo(ue)?0:ue,B={x:N,y:m.top,width:O,height:m.height},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var ce=di(U||H)*(Math.abs(H)-Math.abs(U));I-=ce,U+=ce}}else{var ae=s.scale.map(P[0]),_e=s.scale.map(P[1]);if(ae==null||_e==null)return null;if(N=ae,I=m5({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:M,index:D}),O=_e-ae,U=i.size,B={x:m.left,y:I,width:m.width,height:U},Math.abs(H)>0&&Math.abs(O)<Math.abs(H)){var J=di(O||H)*(Math.abs(H)-Math.abs(O));O+=J}}if(N==null||I==null||O==null||U==null)return null;var V=la(la({},M),{},{stackedBarStart:k,x:N,y:I,width:O,height:U,value:d?P:P[1],payload:M,background:B,tooltipPosition:{x:N+O/2,y:I+U/2},parentViewBox:x},y&&y[D]&&y[D].props);return V}).filter(Boolean)}function fje(e){var t=Kn(e,lje),r=BFe(t.stackId),n=Ji();return R.createElement(xk,{id:t.id,type:"bar"},i=>R.createElement(R.Fragment,null,R.createElement(AK,{legendPayload:XFe(t)}),R.createElement(ZFe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),R.createElement(CK,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),R.createElement(za,{zIndex:t.zIndex},R.createElement(cje,Wl({},t,{id:i})))))}var Qy=R.memo(fje,sb);Qy.displayName="Bar";var dje=["domain","range"],hje=["domain","range"];function L8(e,t){if(e==null)return{};var r,n,i=pje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F8(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function XK(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=L8(e,dje),{domain:a,range:s}=t,o=L8(t,hje);return!F8(r,a)||!F8(n,s)?!1:sb(i,o)}var mje=["type"],gje=["dangerouslySetInnerHTML","ticks","scale"],vje=["id","scale"];function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M2.apply(null,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){yje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yje(e,t,r){return(t=xje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xje(e){var t=_je(e,"string");return typeof t=="symbol"?t:t+""}function _je(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D2(e,t){if(e==null)return{};var r,n,i=bje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wje(e){var t=Hr(),r=R.useRef(null),n=ZN(),{type:i}=e,a=D2(e,mje),s=H_(n,"xAxis",i),o=R.useMemo(()=>{if(s!=null)return U8(U8({},a),{},{type:s})},[a,s]);return R.useLayoutEffect(()=>{o!=null&&(r.current===null?t(Q6e(o)):r.current!==o&&t(eLe({prev:r.current,next:o})),r.current=o)},[o,t]),R.useLayoutEffect(()=>()=>{r.current&&(t(tLe(r.current)),r.current=null)},[t]),null}var Eje=e=>{var{xAxisId:t,className:r}=e,n=ut(KN),i=Ji(),a="xAxis",s=ut(S=>Sq(S,a,t,i)),o=ut(S=>wq(S,t)),c=ut(S=>HOe(S,t)),u=ut(S=>nq(S,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:p,scale:m}=e,y=D2(e,gje),{id:x,scale:b}=u,E=D2(u,vje);return R.createElement(wk,M2({},y,E,{x:c.x,y:c.y,width:o.width,height:o.height,className:dr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},Tje={allowDataOverflow:oi.allowDataOverflow,allowDecimals:oi.allowDecimals,allowDuplicatedCategory:oi.allowDuplicatedCategory,angle:oi.angle,axisLine:Ll.axisLine,height:oi.height,hide:!1,includeHidden:oi.includeHidden,interval:oi.interval,label:!1,minTickGap:oi.minTickGap,mirror:oi.mirror,orientation:oi.orientation,padding:oi.padding,reversed:oi.reversed,scale:oi.scale,tick:oi.tick,tickCount:oi.tickCount,tickLine:Ll.tickLine,tickSize:Ll.tickSize,type:oi.type,xAxisId:0},Aje=e=>{var t=Kn(e,Tje);return R.createElement(R.Fragment,null,R.createElement(wje,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),R.createElement(Eje,t))},Tp=R.memo(Aje,XK);Tp.displayName="XAxis";var Sje=["type"],Cje=["dangerouslySetInnerHTML","ticks","scale"],Nje=["id","scale"];function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(null,arguments)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){Ije(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ije(e,t,r){return(t=kje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kje(e){var t=Pje(e,"string");return typeof t=="symbol"?t:t+""}function Pje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F2(e,t){if(e==null)return{};var r,n,i=Rje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oje(e){var t=Hr(),r=R.useRef(null),n=ZN(),{type:i}=e,a=F2(e,Sje),s=H_(n,"yAxis",i),o=R.useMemo(()=>{if(s!=null)return V8(V8({},a),{},{type:s})},[s,a]);return R.useLayoutEffect(()=>{o!=null&&(r.current===null?t(rLe(o)):r.current!==o&&t(nLe({prev:r.current,next:o})),r.current=o)},[o,t]),R.useLayoutEffect(()=>()=>{r.current&&(t(iLe(r.current)),r.current=null)},[t]),null}function Mje(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=R.useRef(null),s=R.useRef(null),o=ut(KN),c=Ji(),u=Hr(),d="yAxis",p=ut(P=>Eq(P,t)),m=ut(P=>qOe(P,t)),y=ut(P=>Sq(P,d,t,c)),x=ut(P=>iq(P,t));if(R.useLayoutEffect(()=>{if(!(n!=="auto"||!p||uk(i)||R.isValidElement(i)||x==null)){var P=a.current;if(P){var N=P.getCalculatedWidth();Math.round(p.width)!==Math.round(N)&&u(aLe({id:t,width:N}))}}},[y,p,u,i,t,n,x]),p==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:E,scale:S}=e,L=F2(e,Cje),{id:k,scale:M}=x,D=F2(x,Nje);return R.createElement(wk,L2({},L,D,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:dr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:y,axisType:d}))}var Dje={allowDataOverflow:li.allowDataOverflow,allowDecimals:li.allowDecimals,allowDuplicatedCategory:li.allowDuplicatedCategory,angle:li.angle,axisLine:Ll.axisLine,hide:!1,includeHidden:li.includeHidden,interval:li.interval,label:!1,minTickGap:li.minTickGap,mirror:li.mirror,orientation:li.orientation,padding:li.padding,reversed:li.reversed,scale:li.scale,tick:li.tick,tickCount:li.tickCount,tickLine:Ll.tickLine,tickSize:Ll.tickSize,type:li.type,width:li.width,yAxisId:0},Lje=e=>{var t=Kn(e,Dje);return R.createElement(R.Fragment,null,R.createElement(Oje,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),R.createElement(Mje,t))},Ap=R.memo(Lje,XK);Ap.displayName="YAxis";var Fje=(e,t)=>t,Tk=we([Fje,lr,eq,vi,$q,ic,oMe,ei],pMe),Ak=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ZK=Ls("mouseClick"),QK=eg();QK.startListening({actionCreator:ZK,effect:(e,t)=>{var r=e.payload,n=Tk(t.getState(),Ak(r));n?.activeIndex!=null&&t.dispatch(s4e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var j2=Ls("mouseMove"),eW=eg(),Ey=null;eW.startListening({actionCreator:j2,effect:(e,t)=>{var r=e.payload;Ey!==null&&cancelAnimationFrame(Ey);var n=Ak(r);Ey=requestAnimationFrame(()=>{var i=t.getState(),a=ZI(i,i.tooltip.settings.shared);if(a==="axis"){var s=Tk(i,n);s?.activeIndex!=null?t.dispatch(Mq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(Oq())}Ey=null})}});function jje(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var z8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},tW=Va({name:"rootProps",initialState:z8,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:z8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Uje=tW.reducer,{updateOptions:Bje}=tW.actions,Vje=null,zje={updatePolarOptions:(e,t)=>t.payload},rW=Va({name:"polarOptions",initialState:Vje,reducers:zje}),{updatePolarOptions:$je}=rW.actions,Hje=rW.reducer,nW=Ls("keyDown"),iW=Ls("focus"),Sk=eg();Sk.startListening({actionCreator:nW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=QI(i,e0(r),pg(r),gg(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=ic(r);if(a==="Enter"){var u=S1(r,"axis","hover",String(i.index));t.dispatch(C2({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=JOe(r),p=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=o+m*p;if(!(c==null||y>=c.length||y<0)){var x=S1(r,"axis","hover",String(y));t.dispatch(C2({active:!0,activeIndex:y.toString(),activeCoordinate:x}))}}}}}});Sk.startListening({actionCreator:iW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=S1(r,"axis","hover",String(a));t.dispatch(C2({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Cs=Ls("externalEvent"),aW=eg(),xA=new Map;aW.startListening({actionCreator:Cs,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=xA.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:q4e(o),activeDataKey:ik(o),activeIndex:cu(o),activeLabel:qq(o),activeTooltipIndex:cu(o),isTooltipActive:K4e(o)};r(c,n)}finally{xA.delete(i)}});xA.set(i,s)}}});var Gje=we([Zh],e=>e.tooltipItemPayloads),qje=we([Gje,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),sW=Ls("touchMove"),oW=eg();oW.startListening({actionCreator:sW,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=ZI(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=Tk(n,Ak({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(Mq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(AH),p=(o=u.getAttribute(SH))!==null&&o!==void 0?o:void 0,m=Qh(n).find(b=>b.id===p);if(d==null||m==null||p==null)return;var{dataKey:y}=m,x=qje(n,d,p);t.dispatch(Rq({activeDataKey:y,activeIndex:d,activeCoordinate:x,activeGraphicalItemId:p}))}}}});var Kje=q$({brush:ELe,cartesianAxis:sLe,chartData:GMe,errorBars:v5e,graphicalItems:h6e,layout:_Ce,legend:SNe,options:BMe,polarAxis:C3e,polarOptions:Hje,referenceElements:CLe,rootProps:Uje,tooltip:o4e,zIndex:NMe}),Wje=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return G2e({reducer:Kje,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([QK.middleware,eW.middleware,Sk.middleware,aW.middleware,oW.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(oH({type:"raf"}))},devTools:{serialize:{replacer:jje},name:"recharts-".concat(r)}})};function lW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ji(),a=R.useRef(null);if(i)return r;a.current==null&&(a.current=Wje(t,n));var s=BN;return R.createElement(z5e,{context:s,store:a.current},r)}function Yje(e){var{layout:t,margin:r}=e,n=Hr(),i=Ji();return R.useEffect(()=>{i||(n(vCe(t)),n(gCe(r)))},[n,i,t,r]),null}var cW=R.memo(Yje,sb);function uW(e){var t=Hr();return R.useEffect(()=>{t(Bje(e))},[t,e]),null}function $8(e){var{zIndex:t,isPanorama:r}=e,n=R.useRef(null),i=Hr();return R.useLayoutEffect(()=>(n.current&&i(SMe({zIndex:t,element:n.current,isPanorama:r})),()=>{i(CMe({zIndex:t,isPanorama:r}))}),[i,t,r]),R.createElement("g",{tabIndex:-1,ref:n})}function H8(e){var{children:t,isPanorama:r}=e,n=ut(gMe);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return R.createElement(R.Fragment,null,i.map(s=>R.createElement($8,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>R.createElement($8,{key:s,zIndex:s,isPanorama:r})))}var Jje=["children"];function Xje(e,t){if(e==null)return{};var r,n,i=Zje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(null,arguments)}var Qje={width:"100%",height:"100%",display:"block"},e8e=R.forwardRef((e,t)=>{var r=JN(),n=XN(),i=$H();if(!Xo(r)||!Xo(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),R.createElement(IN,D1({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:Qje,ref:t}),a)}),t8e=e=>{var{children:t}=e,r=ut(P_);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return R.createElement(IN,{width:n,height:i,x:s,y:a},t)},G8=R.forwardRef((e,t)=>{var{children:r}=e,n=Xje(e,Jje),i=Ji();return i?R.createElement(t8e,null,R.createElement(H8,{isPanorama:!0},r)):R.createElement(e8e,D1({ref:t},n),R.createElement(H8,{isPanorama:!1},r))});function r8e(){var e=Hr(),[t,r]=R.useState(null),n=ut(LCe);return R.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;$t(a)&&a!==n&&e(xCe(a))}},[t,e,n]),r}function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n8e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(n){i8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8e(e,t,r){return(t=a8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a8e(e){var t=s8e(e,"string");return typeof t=="symbol"?t:t+""}function s8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}var o8e=()=>(eDe(),null);function L1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var l8e=R.forwardRef((e,t)=>{var r,n,i=R.useRef(null),[a,s]=R.useState({containerWidth:L1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:L1((n=e.style)===null||n===void 0?void 0:n.height)}),o=R.useCallback((u,d)=>{s(p=>{var m=Math.round(u),y=Math.round(d);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),c=R.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:p}=u.getBoundingClientRect();o(d,p);var m=x=>{var b=x[0];if(b!=null){var{width:E,height:S}=b.contentRect;o(E,S)}},y=new ResizeObserver(m);y.observe(u),i.current=y}},[t,o]);return R.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[o]),R.createElement(R.Fragment,null,R.createElement(rg,{width:a.containerWidth,height:a.containerHeight}),R.createElement("div",Zc({ref:c},e)))}),c8e=R.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=R.useState({containerWidth:L1(r),containerHeight:L1(n)}),s=R.useCallback((c,u)=>{a(d=>{var p=Math.round(c),m=Math.round(u);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),o=R.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return R.createElement(R.Fragment,null,R.createElement(rg,{width:i.containerWidth,height:i.containerHeight}),R.createElement("div",Zc({ref:o},e)))}),u8e=R.forwardRef((e,t)=>{var{width:r,height:n}=e;return R.createElement(R.Fragment,null,R.createElement(rg,{width:r,height:n}),R.createElement("div",Zc({ref:t},e)))}),f8e=R.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?R.createElement(c8e,Zc({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?R.createElement(u8e,Zc({},e,{width:r,height:n,ref:t})):R.createElement(R.Fragment,null,R.createElement(rg,{width:r,height:n}),R.createElement("div",Zc({ref:t},e)))});function d8e(e){return e?l8e:f8e}var h8e=R.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:p,onMouseUp:m,onTouchEnd:y,onTouchMove:x,onTouchStart:b,style:E,width:S,responsive:L,dispatchTouchEvents:k=!0}=e,M=R.useRef(null),D=Hr(),[P,N]=R.useState(null),[I,O]=R.useState(null),U=r8e(),B=WN(),F=B?.width>0?B.width:S,H=B?.height>0?B.height:i,fe=R.useCallback(le=>{U(le),typeof t=="function"&&t(le),N(le),O(le),le!=null&&(M.current=le)},[U,t,N,O]),me=R.useCallback(le=>{D(ZK(le)),D(Cs({handler:a,reactEvent:le}))},[D,a]),ne=R.useCallback(le=>{D(j2(le)),D(Cs({handler:u,reactEvent:le}))},[D,u]),ue=R.useCallback(le=>{D(Oq()),D(Cs({handler:d,reactEvent:le}))},[D,d]),ce=R.useCallback(le=>{D(j2(le)),D(Cs({handler:p,reactEvent:le}))},[D,p]),ae=R.useCallback(()=>{D(iW())},[D]),_e=R.useCallback(le=>{D(nW(le.key))},[D]),J=R.useCallback(le=>{D(Cs({handler:s,reactEvent:le}))},[D,s]),V=R.useCallback(le=>{D(Cs({handler:o,reactEvent:le}))},[D,o]),ee=R.useCallback(le=>{D(Cs({handler:c,reactEvent:le}))},[D,c]),X=R.useCallback(le=>{D(Cs({handler:m,reactEvent:le}))},[D,m]),q=R.useCallback(le=>{D(Cs({handler:b,reactEvent:le}))},[D,b]),he=R.useCallback(le=>{k&&D(sW(le)),D(Cs({handler:x,reactEvent:le}))},[D,k,x]),xe=R.useCallback(le=>{D(Cs({handler:y,reactEvent:le}))},[D,y]),Ie=d8e(L);return R.createElement(eK.Provider,{value:P},R.createElement(c$.Provider,{value:I},R.createElement(Ie,{width:F??E?.width,height:H??E?.height,className:dr("recharts-wrapper",n),style:n8e({position:"relative",cursor:"default",width:F,height:H},E),onClick:me,onContextMenu:J,onDoubleClick:V,onFocus:ae,onKeyDown:_e,onMouseDown:ee,onMouseEnter:ne,onMouseLeave:ue,onMouseMove:ce,onMouseUp:X,onTouchEnd:xe,onTouchMove:he,onTouchStart:q,ref:fe},R.createElement(o8e,null),r)))}),p8e=["width","height","responsive","children","className","style","compact","title","desc"];function m8e(e,t){if(e==null)return{};var r,n,i=g8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function g8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fW=R.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=e,p=m8e(e,p8e),m=Ua(p);return c?R.createElement(R.Fragment,null,R.createElement(rg,{width:r,height:n}),R.createElement(G8,{otherAttributes:m,title:u,desc:d},a)):R.createElement(h8e,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},R.createElement(G8,{otherAttributes:m,title:u,desc:d,ref:t},R.createElement(ILe,null,a)))});function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U2.apply(null,arguments)}var v8e={top:5,right:5,bottom:5,left:5},y8e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:v8e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},dW=R.forwardRef(function(t,r){var n,i=Kn(t.categoricalChartProps,y8e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return R.createElement(lW,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},R.createElement(PK,{chartData:u.data}),R.createElement(cW,{layout:i.layout,margin:i.margin}),R.createElement(uW,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(fW,U2({},i,{ref:r})))}),x8e=["axis","item"],_A=R.forwardRef((e,t)=>R.createElement(dW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:x8e,tooltipPayloadSearcher:ck,categoricalChartProps:e,ref:t}));function _8e(e){var t=Hr();return R.useEffect(()=>{t($je(e))},[t,e]),null}var b8e=["layout"];function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B2.apply(null,arguments)}function w8e(e,t){if(e==null)return{};var r,n,i=E8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T8e={top:5,right:5,bottom:5,left:5},hW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:T8e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},A8e=R.forwardRef(function(t,r){var n,i=Kn(t.categoricalChartProps,hW),{layout:a}=i,s=w8e(i,b8e),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,p={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return R.createElement(lW,{preloadedState:{options:p},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},R.createElement(PK,{chartData:i.data}),R.createElement(cW,{layout:a,margin:i.margin}),R.createElement(uW,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),R.createElement(_8e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),R.createElement(fW,B2({},s,{ref:r})))});function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){S8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S8e(e,t,r){return(t=C8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C8e(e){var t=N8e(e,"string");return typeof t=="symbol"?t:t+""}function N8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I8e=["item"],k8e=W8(W8({},hW),{},{layout:"centric",startAngle:0,endAngle:360}),P8e=R.forwardRef((e,t)=>{var r=Kn(e,k8e);return R.createElement(A8e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:I8e,tooltipPayloadSearcher:ck,categoricalChartProps:r,ref:t})}),R8e=["axis"],O8e=R.forwardRef((e,t)=>R.createElement(dW,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:R8e,tooltipPayloadSearcher:ck,categoricalChartProps:e,ref:t}));const Y8=["#0061A4","#006A60","#6B5778","#BA1A1A","#535F70","#56605B","#49454F","#000000"],Ty=({title:e,value:t,icon:r,trend:n,color:i})=>g.jsxs("div",{className:"bg-surface p-6 rounded-3xl shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-all group overflow-hidden relative",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${i} opacity-[0.03] -mr-16 -mt-16 rounded-full group-hover:scale-110 transition-transform`}),g.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-on-surface-variant uppercase tracking-[0.15em] mb-1 opacity-60",children:e}),g.jsx("p",{className:"text-2xl font-black text-on-surface tracking-tight",children:t})]}),g.jsx("div",{className:`p-3 rounded-2xl ${i}/10 ${i.replace("bg-","text-")}`,children:g.jsx(r,{size:24})})]}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 relative z-10",children:[g.jsxs("span",{className:`flex items-center text-xs font-black px-2 py-0.5 rounded-full ${n>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n>=0?g.jsx(yJ,{size:12}):g.jsx(fJ,{size:12}),Math.abs(n),"%"]}),g.jsx("span",{className:"text-[10px] text-on-surface-variant opacity-40 font-bold uppercase tracking-wider",children:"vs ms anterior"})]})]}),M8e=({clients:e,products:t,users:r,onClose:n,searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:p,filterCategory:m,setFilterCategory:y,filterSalespersonId:x,setFilterSalespersonId:b,filterSalesCategory:E,setFilterSalesCategory:S,filterCnae:L,setFilterCnae:k,filterProductCategory:M,setFilterProductCategory:D,productCategories:P,filterOnlyWithPurchases:N,setFilterOnlyWithPurchases:I,resetFilters:O,startDate:U,setStartDate:B,endDate:F,setEndDate:H,availableStates:fe,availableCities:me,availableCnaes:ne,categories:ue,currentUser:ce,isAdminUser:ae,canViewAllData:_e})=>{const[J]=R.useState(new Date),[V,ee]=R.useState("desc"),X=R.useMemo(()=>{const q={},he={},xe={},Ie={},le={};let ge=0,De=0;return e.forEach(K=>{const Ye=(K.purchasedProducts||[]).filter(Je=>{const et=Je.purchaseDate||"";return!(U&&et<U||F&&et>F)}),Ue=Ye.reduce((Je,et)=>Je+(et.totalValue||et.price*(et.quantity||1)),0);ge+=Ue,De+=Ye.length;const Ke=K.region||"Outras";xe[Ke]=(xe[Ke]||0)+Ue;const Le=r.find(Je=>Je.id===K.salespersonId)?.name||"No Atribudo";le[Le]||(le[Le]={name:Le,revenue:0}),le[Le].revenue+=Ue,Ye.forEach(Je=>{const et=Je.totalValue||Je.price*(Je.quantity||1);q[Je.sku]||(q[Je.sku]={name:Je.name,revenue:0,count:0}),q[Je.sku].revenue+=et,q[Je.sku].count+=Je.quantity||1;const ht=Je.category||"Outros";if(he[ht]=(he[ht]||0)+et,Je.purchaseDate){const It=Je.purchaseDate.split("T")[0];Ie[It]=(Ie[It]||0)+et}})}),{totalRevenue:ge,totalSalesCount:De,totalClients:e.length,totalProducts:t.length,topProductsData:Object.values(q).sort((K,Ye)=>V==="desc"?Ye.count-K.count:K.count-Ye.count).slice(0,5),sellerPerformanceData:Object.values(le).sort((K,Ye)=>Ye.revenue-K.revenue).slice(0,6),categoryDistributionData:(()=>{const K=Object.entries(he).sort(([,Ke],[,ze])=>ze-Ke);if(K.length<=8)return K.map(([Ke,ze])=>({name:Ke,value:ze}));const Ye=K.slice(0,7),Ue=K.slice(7).reduce((Ke,[,ze])=>Ke+ze,0);return[...Ye.map(([Ke,ze])=>({name:Ke,value:ze})),{name:"Outros",value:Ue}]})(),regionalSalesData:Object.entries(xe).map(([K,Ye])=>({name:K,value:Ye})),salesTrendData:Object.entries(Ie).map(([K,Ye])=>({date:K,value:Ye})).sort((K,Ye)=>K.date.localeCompare(Ye.date))}},[e,t,V,r,U,F]);return g.jsxs("div",{className:"flex flex-col h-full bg-background overflow-hidden animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex flex-col border-b border-outline-variant bg-surface/80 backdrop-blur-md sticky top-0 z-20 shadow-sm",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between px-8 py-4 gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-primary/10 text-primary rounded-2xl shadow-inner",children:g.jsx(Gp,{size:24})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-xl font-black text-on-surface tracking-tight flex items-center gap-2",children:["Dashboard Pro",g.jsx("span",{className:"hidden sm:inline-block text-[9px] bg-primary text-on-primary px-2 py-0.5 rounded-full font-bold uppercase tracking-[0.1em] shadow-sm",children:"Inteligncia"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-on-surface-variant/50 text-[10px] font-medium",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(NX,{size:10,className:"animate-spin-slow"})," Live Update"]}),g.jsx("span",{children:""}),g.jsx("span",{children:J.toLocaleTimeString()})]})]})]}),g.jsxs("div",{className:"flex items-center flex-1 max-w-4xl gap-3",children:[g.jsxs("div",{className:"relative group flex-1",children:[g.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant group-focus-within:text-primary transition-colors"}),g.jsx("input",{type:"text",value:i,onChange:q=>a(q.target.value),placeholder:"Buscar cliente ou empresa...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-low border border-outline-variant/30 rounded-xl text-xs outline-none focus:ring-2 focus:ring-primary/10 focus:border-primary transition-all shadow-sm"})]}),g.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border transition-all ${U||F?"bg-primary/5 border-primary/20":"bg-surface-container-low border-outline-variant/30"}`,children:[g.jsx(qp,{className:"w-3.5 h-3.5 text-primary"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("input",{type:"date",value:U,onChange:q=>B(q.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Inicial"}),g.jsx("span",{className:"text-outline-variant/30",children:"-"}),g.jsx("input",{type:"date",value:F,onChange:q=>H(q.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Final"})]})]})]}),g.jsx("button",{onClick:n,className:"p-2.5 hover:bg-surface-container-highest rounded-2xl transition-all active:scale-95 group border border-transparent hover:border-outline-variant shadow-sm",title:"Fechar Dashboard",children:g.jsx(ha,{className:"w-5 h-5 text-on-surface-variant group-hover:text-primary"})})]}),g.jsxs("div",{className:"px-8 pb-4 flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 bg-secondary-container/20 px-2.5 py-1 rounded-lg border border-secondary-container/30 mr-2",children:[g.jsx(V2,{className:"w-3 h-3 text-secondary"}),g.jsx("span",{className:"text-[10px] font-bold text-secondary uppercase tracking-tight",children:"Refinar"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl border transition-all ${_e?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("div",{className:"relative",children:[g.jsx(ca,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 pointer-events-none ${_e?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:_e?x:ce?.id||"",onChange:q=>_e&&b(q.target.value),disabled:!_e,className:`text-xs rounded-lg pl-7 pr-2 py-1 font-bold appearance-none bg-transparent outline-none ${_e?"text-purple-900 cursor-pointer":"text-gray-600 cursor-not-allowed"}`,title:"Filtrar por Vendedor",children:[_e&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),_e?r.filter(q=>q.role==="salesperson"||q.role==="sales_external"||q.role==="sales_internal").map(q=>g.jsx("option",{value:q.id,children:q.name},q.id)):g.jsx("option",{value:ce?.id,children:ce?.name})]})]}),_e&&g.jsxs("div",{className:"border-l border-purple-200 pl-2 ml-1 relative",children:[g.jsx(as,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:E,onChange:q=>S(q.target.value),className:"text-[11px] bg-transparent text-purple-900 rounded-lg pl-6 pr-1 py-1 font-bold outline-none appearance-none cursor-pointer",title:"Filtrar por Equipe",children:[g.jsx("option",{value:"Todos",children:"Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"M.Livre"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:[g.jsxs("select",{value:s,onChange:q=>{o(q.target.value),u("Todos"),p("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",title:"Filtrar por Regio",children:[g.jsx("option",{value:"Todas",children:"Regies"}),fh.map(q=>g.jsx("option",{value:q,children:q},q))]}),g.jsxs("select",{value:c,onChange:q=>{u(q.target.value),p("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",disabled:fe.length===0,title:"Filtrar por Estado",children:[g.jsx("option",{value:"Todos",children:"UF"}),fe.map(q=>g.jsx("option",{value:q,children:q},q))]}),g.jsxs("select",{value:d,onChange:q=>p(q.target.value),className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer min-w-[80px]",disabled:c==="Todos"||me.length===0,title:"Filtrar por Cidade",children:[g.jsx("option",{value:"Todas",children:"Cidades"}),me.map(q=>g.jsx("option",{value:q,children:q},q))]})]}),g.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:g.jsxs("div",{className:"relative",children:[g.jsx(as,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),g.jsxs("select",{value:L,onChange:q=>k(q.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[120px]",title:"Filtrar por CNAE",children:[g.jsx("option",{value:"Todos",children:"CNAEs"}),ne.map(q=>g.jsx("option",{value:q,children:q.length>20?q.substring(0,20)+"...":q},q))]})]})}),g.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:g.jsxs("div",{className:"relative",children:[g.jsx(ao,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),g.jsxs("select",{value:M,onChange:q=>D(q.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[180px]",title:"Filtrar por Marcas / Categorias de Produtos",children:[g.jsx("option",{value:"Todos",children:"Todas Marcas / Cat."}),P.map(q=>g.jsx("option",{value:q,children:q},q))]})]})}),g.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[g.jsxs("button",{onClick:()=>I?.(!N),className:`text-[10px] font-black px-4 py-2 rounded-full transition-all flex items-center gap-1.5 shadow-sm active:scale-95 ${N?"bg-green-600 text-white ring-2 ring-green-200":"bg-surface-container-low border border-outline-variant text-on-surface hover:bg-surface-container-high"}`,title:"Mostrar apenas clientes com histrico de compras",children:[g.jsx(ro,{className:`w-3 h-3 ${N?"text-white":"text-green-600"}`}),"SOMENTE COM COMPRAS"]}),g.jsx("button",{onClick:()=>O?.(),className:"text-[10px] font-black px-4 py-2 rounded-full bg-white border border-outline-variant text-on-surface hover:bg-surface-container-high transition-all shadow-sm active:scale-95 flex items-center gap-1.5",title:"Limpar todos os filtros",children:"MOSTRAR TODOS"})]})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 bg-surface-container-lowest/30 custom-scrollbar",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(Ty,{title:"Faturamento Total",value:`R$ ${X.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:iU,trend:12.5,color:"bg-primary"}),g.jsx(Ty,{title:"Carteira Filtrada",value:X.totalClients,icon:Yp,trend:5.2,color:"bg-secondary"}),g.jsx(Ty,{title:"Mix de Produtos",value:X.totalProducts,icon:ao,trend:-2.4,color:"bg-tertiary"}),g.jsx(Ty,{title:"Vendas Registradas",value:X.totalSalesCount,icon:Gp,trend:8.1,color:"bg-primary"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsx("div",{className:"flex justify-between items-center mb-8",children:g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-black text-on-surface flex items-center gap-2 uppercase tracking-tighter",children:[g.jsx(uU,{className:"text-primary"}),"Comportamento de Vendas"]}),g.jsx("p",{className:"text-sm text-on-surface-variant opacity-60",children:"Volume de receita por perodo"})]})}),g.jsx("div",{className:"h-80 w-full",children:g.jsx(Z0,{width:"100%",height:"100%",children:g.jsxs(O8e,{data:X.salesTrendData,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#0061A4",stopOpacity:.1}),g.jsx("stop",{offset:"95%",stopColor:"#0061A4",stopOpacity:0})]})}),g.jsx(Zy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),g.jsx(Tp,{dataKey:"date",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),g.jsx(Ap,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(op,{contentStyle:{backgroundColor:"#fff",borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:q=>[`R$ ${q.toLocaleString("pt-BR")}`,"Venda"]}),g.jsx(qK,{type:"monotone",dataKey:"value",stroke:"#0061A4",strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsx("h3",{className:"text-xl font-black text-on-surface mb-8 uppercase tracking-tighter",children:"Mix por Categoria"}),g.jsxs("div",{className:"h-80 w-full relative",children:[g.jsx(Z0,{width:"100%",height:"100%",children:g.jsxs(P8e,{children:[g.jsx(NK,{data:X.categoryDistributionData,innerRadius:70,outerRadius:95,paddingAngle:4,dataKey:"value",stroke:"none",animationDuration:1200,children:X.categoryDistributionData.map((q,he)=>g.jsx(yg,{fill:Y8[he%Y8.length]},`cell-${he}`))}),g.jsx(op,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none"},formatter:q=>[`R$ ${q.toLocaleString("pt-BR")}`,"Total"]}),g.jsx(zH,{verticalAlign:"bottom",layout:"horizontal",align:"center",iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"10px",height:"auto"}})]})}),g.jsxs("div",{className:"absolute inset-x-0 top-[35%] flex flex-col items-center justify-center pointer-events-none",children:[g.jsx("span",{className:"text-[10px] text-on-surface-variant uppercase font-bold tracking-widest opacity-40",children:"Liderana"}),g.jsx("span",{className:"text-sm font-black text-primary px-4 text-center line-clamp-2 leading-tight",children:X.categoryDistributionData[0]?.name||"..."})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-secondary/10 rounded-xl text-secondary",children:g.jsx(ao,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:V==="desc"?"Produtos Mais Vendidos":"Produtos Menos Vendidos"}),g.jsxs("div",{className:"flex gap-1 ml-auto bg-surface-container-high p-1 rounded-lg",children:[g.jsx("button",{onClick:()=>ee("desc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${V==="desc"?"bg-primary text-on-primary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"TOP"}),g.jsx("button",{onClick:()=>ee("asc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${V==="asc"?"bg-tertiary text-on-tertiary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"BOTTOM"})]})]}),g.jsx("div",{className:"h-80",children:g.jsx(Z0,{width:"100%",height:"100%",children:g.jsxs(_A,{data:X.topProductsData,layout:"vertical",margin:{left:20},children:[g.jsx(Zy,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"#F0F0F0"}),g.jsx(Tp,{type:"number",hide:!0}),g.jsx(Ap,{dataKey:"name",type:"category",stroke:"#8E9199",fontSize:10,width:120,axisLine:!1,tickLine:!1}),g.jsx(op,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:q=>[q,"Qtd Vendida"]}),g.jsx(Qy,{dataKey:"count",fill:V==="desc"?"#535F70":"#BA1A1A",radius:[0,8,8,0],barSize:24,animationDuration:1e3})]})})})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:g.jsx(Kp,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Desempenho Regional"})]}),g.jsx("div",{className:"h-80",children:g.jsx(Z0,{width:"100%",height:"100%",children:g.jsxs(_A,{data:X.regionalSalesData,children:[g.jsx(Zy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),g.jsx(Tp,{dataKey:"name",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),g.jsx(Ap,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(op,{contentStyle:{borderRadius:"12px"}}),g.jsx(Qy,{dataKey:"value",fill:"#6B5778",radius:[8,8,0,0],barSize:40,animationDuration:1500})]})})})]})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:g.jsx(as,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Equipe de Vendas (Ranking PRO)"})]}),g.jsx("div",{className:"h-80",children:g.jsx(Z0,{width:"100%",height:"100%",children:g.jsxs(_A,{data:X.sellerPerformanceData,margin:{bottom:20},children:[g.jsx(Tp,{dataKey:"name",stroke:"#8E9199",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0,axisLine:!1,tickLine:!1}),g.jsx(Ap,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(op,{contentStyle:{borderRadius:"16px"}}),g.jsx(Qy,{dataKey:"revenue",fill:"#D7E3F7",radius:[12,12,0,0],activeBar:{fill:"#0061A4"},animationDuration:2e3})]})})})]})]})]})},D8e=({currentUser:e,onClose:t})=>{const[r,n]=R.useState([]),[i,a]=R.useState(""),[s,o]=R.useState("ALL"),[c,u]=R.useState("ALL");R.useEffect(()=>{const x=CEe(n);return()=>x()},[]);const d=r.filter(x=>{const b=x.userName.toLowerCase().includes(i.toLowerCase())||x.details.toLowerCase().includes(i.toLowerCase()),E=s==="ALL"||x.category===s,S=c==="ALL"||x.action===c;return b&&E&&S}),p=x=>{switch(x){case"CREATE":return"bg-green-100 text-green-700";case"UPDATE":return"bg-blue-100 text-blue-700";case"DELETE":return"bg-red-100 text-red-700";case"ERROR":return"bg-orange-100 text-orange-700";default:return"bg-slate-100 text-slate-700"}},m=x=>{switch(x){case"CLIENTS":return g.jsx(ca,{className:"w-3.5 h-3.5"});case"PRODUCTS":return g.jsx(Sp,{className:"w-3.5 h-3.5"});case"CHAT":return g.jsx(ex,{className:"w-3.5 h-3.5"});case"AUTH":return g.jsx(tx,{className:"w-3.5 h-3.5"});default:return g.jsx(Gp,{className:"w-3.5 h-3.5"})}},y=x=>{try{return new Date(x).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return x}};return g.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/40 backdrop-blur-sm flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-5xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-300",children:[g.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"p-2 bg-blue-600 rounded-xl text-white",children:g.jsx(Gp,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-black text-slate-800 tracking-tight",children:"Logs e Auditoria"}),g.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Histrico de atualizaes e mudanas em tempo real"})]})]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-400",title:"Fechar painel de logs",children:g.jsx(ha,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-4 border-b border-slate-50 flex flex-wrap gap-3 items-center bg-white/80 sticky top-0 z-10",children:[g.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[g.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar por usurio ou detalhe...",className:"w-full pl-10 pr-4 py-2 bg-slate-100 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500 transition-all",value:i,onChange:x=>a(x.target.value)})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("select",{className:"bg-slate-100 border-none rounded-xl text-xs font-bold py-2 px-4 focus:ring-2 focus:ring-blue-500",value:s,onChange:x=>o(x.target.value),title:"Filtrar por categoria",children:[g.jsx("option",{value:"ALL",children:"Todas Categorias"}),g.jsx("option",{value:"CLIENTS",children:"Clientes"}),g.jsx("option",{value:"PRODUCTS",children:"Produtos"}),g.jsx("option",{value:"USERS",children:"Usurios"}),g.jsx("option",{value:"CHAT",children:"Chat"}),g.jsx("option",{value:"AUTH",children:"Login/Segurana"}),g.jsx("option",{value:"SYSTEM",children:"Sistema"})]}),g.jsxs("select",{className:"bg-slate-100 border-none rounded-xl text-xs font-bold py-2 px-4 focus:ring-2 focus:ring-blue-500",value:c,onChange:x=>u(x.target.value),title:"Filtrar por ao",children:[g.jsx("option",{value:"ALL",children:"Todas Aes"}),g.jsx("option",{value:"CREATE",children:"Criao (+)"}),g.jsx("option",{value:"UPDATE",children:"Edio ()"}),g.jsx("option",{value:"DELETE",children:"Excluso ()"}),g.jsx("option",{value:"LOGIN",children:"Acesso ()"}),g.jsx("option",{value:"ERROR",children:"Erro ()"}),g.jsx("option",{value:"SYNC",children:"Sincronia ()"})]})]}),g.jsxs("div",{className:"text-[10px] bg-blue-50 text-blue-600 px-3 py-1.5 rounded-full font-black uppercase tracking-wider",children:[d.length," Eventos encontrados"]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-slate-50/30",children:d.length>0?d.map(x=>g.jsxs("div",{className:"bg-white border border-slate-100 p-4 rounded-2xl shadow-sm hover:shadow-md transition-all flex flex-col md:flex-row gap-4 items-start md:items-center group",children:[g.jsxs("div",{className:"flex items-start gap-3 min-w-[180px]",children:[g.jsx("div",{className:"p-2 bg-slate-50 rounded-lg text-slate-400 group-hover:text-blue-500 group-hover:bg-blue-50 transition-colors",children:g.jsx(nU,{className:"w-4 h-4"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase leading-none mb-1",children:y(x.timestamp)}),g.jsx("p",{className:"font-bold text-xs text-slate-700 truncate",children:x.userName}),g.jsx("p",{className:"text-[9px] font-medium text-slate-400 uppercase truncate",children:x.userRole})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 min-w-[140px]",children:[g.jsx("span",{className:`px-2 py-1 rounded-md text-[9px] font-black uppercase flex items-center gap-1 ${p(x.action)}`,children:x.action}),g.jsxs("span",{className:"px-2 py-1 rounded-md text-[9px] font-black uppercase bg-slate-50 text-slate-500 flex items-center gap-1 border border-slate-100",children:[m(x.category),x.category]})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-sm text-slate-600 font-medium leading-relaxed italic",children:['"',x.details,'"']}),x.metadata&&g.jsx("div",{className:"mt-2 text-[10px] bg-slate-50 p-2 rounded-lg font-mono text-slate-400 overflow-hidden text-ellipsis whitespace-nowrap border border-dashed border-slate-200",children:JSON.stringify(x.metadata)})]})]},x.id)):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-40 py-20",children:[g.jsx(kX,{className:"w-12 h-12 text-slate-300 mb-4 animate-spin-slow"}),g.jsx("p",{className:"font-bold text-slate-400",children:"Nenhum log corresponde aos filtros"})]})})]})})},L8e=[{id:"admin_dev",name:"Admin DEV",username:"admin",email:"admin@vendas.ai",role:"admin_dev",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"sales_external",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"sales_internal",password:"123",salesCategory:"Interno",color:"#3B82F6"}],pW=()=>{const[e,t]=R.useState([]),[r,n]=R.useState(null);return{users:e,setUsers:t,currentUser:r,login:u=>{n(u)},logout:()=>{n(null)},addUser:u=>{t([...e,u])},updateUser:u=>{t(e.map(d=>d.id===u.id?u:d))},deleteUser:u=>{t(e.filter(d=>d.id!==u))}}},F1=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_USERS:L8e,useAuth:pW},Symbol.toStringTag,{value:"Module"})),bA=()=>{try{const e=localStorage.getItem("vendas_ai_clients");if(e)return JSON.parse(e).map(r=>({...r,category:Array.isArray(r.category)?r.category:typeof r.category=="string"?[r.category]:["Outros"],region:Xp(r.state)}))}catch(e){console.error("Failed to load clients",e)}return[]},J8=()=>{try{const e=localStorage.getItem("vendas_ai_products");return e?JSON.parse(e):[]}catch{return[]}},X8=()=>{try{const e=localStorage.getItem("vendas_ai_categories");return e?JSON.parse(e):Jp.filter(t=>t!=="Todos")}catch{return Jp.filter(t=>t!=="Todos")}},Z8=()=>{try{const e=localStorage.getItem("vendas_ai_files");return e?JSON.parse(e):[]}catch{return[]}},F8e=(e,t)=>{const[r,n]=R.useState([]),[i,a]=R.useState(J8),[s,o]=R.useState(X8),[c,u]=R.useState(Z8),[d,p]=R.useState(!1),[m,y]=R.useState(!1),[x,b]=R.useState(0),[E,S]=R.useState("Iniciando sistema...");return R.useEffect(()=>{(async()=>{S("Conectando ao Firebase..."),b(10);const k=await TN();if(p(k),b(25),k){S("Buscando dados na nuvem..."),b(40);try{const D=await NEe();if(b(60),D&&(D.clients?.length>0||D.products?.length>0||D.users?.length>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),D.clients&&n(D.clients),D.products&&a(D.products),D.categories&&o(D.categories),D.users&&t&&t(cp(D.users)),D.uploadedFiles&&u(D.uploadedFiles),S("Finalizando sincronizao..."),b(100),setTimeout(()=>y(!0),500);return}else{console.log("Cloud is empty. Checking localStorage for migration...");const P=localStorage.getItem("vendas_ai_users");let N=P?JSON.parse(P):null;if(!N||N.length===0){const{INITIAL_USERS:I}=await jx(async()=>{const{INITIAL_USERS:O}=await Promise.resolve().then(()=>F1);return{INITIAL_USERS:O}},void 0);N=I}N=cp(N),t&&t(N),n(bA()),console.log("Saving initial data to cloud (background attempt)..."),RS(bA(),J8(),X8(),N,Z8()).catch(I=>console.warn("Initial cloud save failed (expected in some offline cases), will retry later",I)),S("Configurao concluda!"),b(100),setTimeout(()=>y(!0),500);return}}catch(D){console.error("Cloud load error, falling back to local:",D)}}console.log("Loading data from LocalStorage..."),n(bA());const M=localStorage.getItem("vendas_ai_users");if(M&&t)t(cp(JSON.parse(M)));else if(t){const{INITIAL_USERS:D}=await jx(async()=>{const{INITIAL_USERS:P}=await Promise.resolve().then(()=>F1);return{INITIAL_USERS:P}},void 0);t(cp(D))}S("Carregado localmente"),b(100),setTimeout(()=>y(!0),500)})()},[]),R.useEffect(()=>{if(d&&m&&(r.length>0||e.length>0||c.length>0)){const L=setTimeout(()=>{RS(r,i,s,e,c).catch(k=>console.error("Auto-save failed",k))},2e3);return()=>clearTimeout(L)}},[r,i,s,e,c,d,m]),R.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(r))},[r]),R.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(s))},[s]),R.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(i))},[i]),R.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(c))},[c]),R.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(e))},[e]),{masterClientList:r,setMasterClientList:n,products:i,setProducts:a,categories:s,setCategories:o,uploadedFiles:c,setUploadedFiles:u,isFirebaseConnected:d,isDataLoaded:m,loadingProgress:x,loadingMessage:E}},j8e=(e,t,r,n)=>{const[i,a]=R.useState(""),[s,o]=R.useState("Todas"),[c,u]=R.useState("Todos"),[d,p]=R.useState("Todas"),[m,y]=R.useState("Todos"),[x,b]=R.useState("Todos"),[E,S]=R.useState("Todos"),[L,k]=R.useState("Todos"),[M,D]=R.useState(!1),[P,N]=R.useState(""),[I,O]=R.useState(""),[U,B]=R.useState("Todos"),[F,H]=R.useState("Todos"),[fe,me]=R.useState(""),[ne,ue]=R.useState(!1),ce=R.useMemo(()=>{if(!r)return[];let q=[];return IA(r.role)?x!=="Todos"?q=e.filter(he=>he.salespersonId===x):q=e:q=e.filter(he=>he.salespersonId===r.id),q},[r,e,x]),ae=R.useMemo(()=>ce.filter(q=>{const he=s==="Todas"||q.region===s,xe=c==="Todos"||q.state===c,Ie=d==="Todas"||q.city===d,le=m==="Todos"||Array.isArray(q.category)&&q.category.includes(m);let ge=!0;if(r&&IA(r.role)&&E!=="Todos"){const Le=t.find(Je=>Je.id===q.salespersonId);(!Le||Le.salesCategory!==E)&&(ge=!1)}const De=(i||"").toLowerCase(),K=i===""||(q.companyName||"").toLowerCase().includes(De)||q.ownerName&&(q.ownerName||"").toLowerCase().includes(De);let Ye=!0;const Ue=(fe||"").toLowerCase(),Ke=L==="Todos"||q.mainCnae&&q.mainCnae.includes(L)||q.secondaryCnaes&&q.secondaryCnaes.some(Le=>Le.includes(L));if(U!=="Todos"||F!=="Todos"||Ue!=="")if(!q.purchasedProducts||q.purchasedProducts.length===0)Ye=!1;else{const Le=U==="Todos"||q.purchasedProducts.some(It=>(It.category||"")===U),Je=F==="Todos"||q.purchasedProducts.some(It=>(It.sku||"")===F),et=Ue===""||q.purchasedProducts.some(It=>(It.name||"").toLowerCase().includes(Ue)||(It.sku||"").toLowerCase().includes(Ue)||(It.brand||"").toLowerCase().includes(Ue)||(It.category||"").toLowerCase().includes(Ue)||(It.factoryCode||"").toLowerCase().includes(Ue)||(It.price||0).toString().includes(Ue)),ht=!P||!I||q.purchasedProducts.some(It=>{if(!It.purchaseDate)return!1;const Gr=new Date(It.purchaseDate),Br=new Date(P),bt=new Date(I);return Br.setHours(0,0,0,0),bt.setHours(23,59,59,999),Gr>=Br&&Gr<=bt});Ye=Le&&Je&&et&&ht}const ze=!M||q.purchasedProducts&&q.purchasedProducts.length>0;return he&&xe&&Ie&&le&&K&&Ye&&ge&&ze&&Ke}),[ce,s,c,d,m,L,i,U,F,fe,E,M,t,r,P,I]),_e=R.useMemo(()=>{let q=ce;s!=="Todas"&&(q=q.filter(xe=>xe.region===s));const he=new Set(q.map(xe=>xe.state).filter(Boolean));return Array.from(he).sort()},[ce,s]),J=R.useMemo(()=>{let q=ce;if(s!=="Todas"&&(q=q.filter(xe=>xe.region===s)),c!=="Todos")q=q.filter(xe=>xe.state===c);else return[];const he=new Set(q.map(xe=>xe.city).filter(Boolean));return Array.from(he).sort()},[ce,s,c]),V=R.useMemo(()=>{const q=new Set(n.map(he=>he.category));return Array.from(q).sort()},[n]),ee=R.useMemo(()=>{const q=new Set;return ce.forEach(he=>{he.mainCnae&&q.add(he.mainCnae),he.secondaryCnaes&&he.secondaryCnaes.forEach(xe=>q.add(xe))}),Array.from(q).sort()},[ce]);return{searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:p,filterCategory:m,setFilterCategory:y,filterSalespersonId:x,setFilterSalespersonId:b,filterSalesCategory:E,setFilterSalesCategory:S,filterCnae:L,setFilterCnae:k,filterProductCategory:U,setFilterProductCategory:B,filterProductSku:F,setFilterProductSku:H,searchProductQuery:fe,setSearchProductQuery:me,showProductSuggestions:ne,setShowProductSuggestions:ue,filterOnlyWithPurchases:M,setFilterOnlyWithPurchases:D,startDate:P,setStartDate:N,endDate:I,setEndDate:O,filteredClients:ae,visibleClients:ce,availableStates:_e,availableCities:J,availableCnaes:ee,productCategories:V,resetFilters:()=>{a(""),o("Todas"),u("Todos"),p("Todas"),b("Todos"),S("Todos"),k("Todos"),B("Todos"),H("Todos"),me(""),D(!1),N(""),O("")}}},U8e=({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:a="info",confirmLabel:s="Confirmar",cancelLabel:o="Cancelar",icon:c})=>{if(!e)return null;const u=()=>{if(c)return g.jsx(c,{className:"w-8 h-8"});switch(a){case"success":return g.jsx(rU,{className:"w-8 h-8 text-green-600"});case"error":return g.jsx(Gi,{className:"w-8 h-8 text-red-600"});case"warning":return g.jsx(Gi,{className:"w-8 h-8 text-amber-600"});case"confirm":return g.jsx(DJ,{className:"w-8 h-8 text-blue-600"});default:return g.jsx(oU,{className:"w-8 h-8 text-blue-600"})}},p=(()=>{switch(a){case"success":return{bg:"bg-green-50",border:"border-green-100",text:"text-green-800"};case"error":return{bg:"bg-red-50",border:"border-red-100",text:"text-red-800"};case"warning":return{bg:"bg-amber-50",border:"border-amber-100",text:"text-amber-800"};case"confirm":return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"};default:return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"}}})(),m=()=>Array.isArray(i)?g.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:i.map((y,x)=>g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),y]},x))}):g.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i});return g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsx("div",{className:"bg-blue-600 h-2 w-full"}),g.jsxs("div",{className:"p-8",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:`w-16 h-16 ${p.bg} rounded-2xl flex items-center justify-center ring-4 ring-white shadow-sm`,children:u()})}),g.jsx("div",{className:"text-center mb-6",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:n})}),g.jsx("div",{className:`${p.bg} ${p.border} border rounded-2xl p-5 mb-8`,children:m()}),g.jsxs("div",{className:"flex gap-3",children:[(r||a==="confirm")&&g.jsx("button",{onClick:t,className:"flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-all active:scale-95",children:o}),g.jsx("button",{onClick:()=>{r&&r(),t()},className:`flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-md active:scale-95 flex items-center justify-center gap-2
                                ${a==="error"?"bg-red-600 hover:bg-red-700":a==="success"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:s})]})]})]})})},B8e=({clients:e,users:t,startDate:r,endDate:n,onRangeChange:i})=>{const a=R.useMemo(()=>{const u=[];return e.forEach(d=>{d.purchasedProducts&&d.purchasedProducts.forEach(p=>{const m=p.purchaseDate;r&&m<r||n&&m>n||u.push({...p,clientName:d.companyName,clientId:d.id})})}),u.sort((d,p)=>(p.purchaseDate||"").localeCompare(d.purchaseDate||""))},[e,r,n]),s=R.useMemo(()=>{const u=a.reduce((m,y)=>m+(y.totalValue||y.price*(y.quantity||1)),0),d=new Set(a.map(m=>m.clientId)).size,p=a.reduce((m,y)=>m+(y.quantity||1),0);return{totalValue:u,uniqueClients:d,totalItems:p}},[a]),o=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),c=u=>{try{return u.split("-").reverse().join("/")}catch{return u}};return g.jsxs("div",{className:"flex flex-col h-full bg-gray-50 p-4 overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(uU,{className:"text-primary w-6 h-6"}),"Histrico Mgico de Vendas"]}),g.jsx("p",{className:"text-sm text-gray-500",children:"Analise compras por anos, meses, semanas e dias"})]}),g.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-gray-100 flex items-center gap-3",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase ml-2",children:"Filtrar Perodo:"}),g.jsx(a$,{startDate:r,endDate:n,onRangeChange:i})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-full flex items-center justify-center text-green-600",children:g.jsx(iU,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Volume Total"}),g.jsx("p",{className:"text-xl font-bold text-gray-800",children:o(s.totalValue)})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600",children:g.jsx(ro,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total de Itens"}),g.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.totalItems," un."]})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-full flex items-center justify-center text-purple-600",children:g.jsx(ca,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Clientes Atendidos"}),g.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.uniqueClients," empresas"]})]})]})]}),g.jsx("div",{className:"flex-1 bg-white rounded-2xl shadow-sm border border-gray-100 flex flex-col overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Data"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Cliente"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"SKU / Produto"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Qtd"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase text-right",children:"Valor Total"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-50",children:a.length>0?a.map((u,d)=>g.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(qp,{className:"w-4 h-4 text-gray-300"}),g.jsx("span",{className:"text-sm font-medium text-gray-700",children:c(u.purchaseDate)})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("p",{className:"text-sm font-bold text-gray-800 truncate max-w-[200px]",title:u.clientName,children:u.clientName})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs font-bold text-primary",children:u.sku}),g.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[250px]",title:u.name,children:u.name})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.quantity||1})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("span",{className:"text-sm font-bold text-gray-900",children:o(u.totalValue||u.price*(u.quantity||1))})})]},d)):g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"py-20 text-center",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(qp,{className:"w-12 h-12 text-gray-200 mb-2"}),g.jsx("p",{className:"text-gray-400 font-medium",children:"Nenhuma venda encontrada para o perodo"}),g.jsx("p",{className:"text-xs text-gray-400",children:"Tente expandir o filtro de datas"})]})})})})]})})})]})},V8e=({currentUser:e,allUsers:t,conversations:r,messages:n,activeUserId:i,onSelectUser:a,onSendMessage:s,onClose:o})=>{const[c,u]=R.useState(""),[d,p]=R.useState(""),[m,y]=R.useState("conversations"),x=R.useRef(null),b=t.find(P=>P.id===i),E=(e.role==="admin_dev"||e.role==="admin")&&i,S=n.filter(P=>i?e.role==="admin_dev"||e.role==="admin"?P.senderId===i||P.receiverId===i:P.senderId===e.id&&P.receiverId===i||P.senderId===i&&P.receiverId===e.id:!1),L=t.filter(P=>P.id!==e.id&&(P.name.toLowerCase().includes(d.toLowerCase())||P.username.toLowerCase().includes(d.toLowerCase())));R.useEffect(()=>{x.current?.scrollIntoView({behavior:"smooth"})},[S]);const k=()=>{c.trim()&&i&&(s(i,c.trim()),u(""))},M=P=>P.charAt(0).toUpperCase(),D=P=>new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return g.jsxs("div",{className:"flex flex-col h-full bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:[g.jsxs("div",{className:"p-4 bg-slate-800 text-white flex items-center justify-between shadow-md",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[i?g.jsx("button",{onClick:()=>a(""),className:"hover:bg-slate-700 p-1 rounded-full transition-colors md:hidden",title:"Voltar para lista de conversas",children:g.jsx(wA,{className:"w-5 h-5"})}):g.jsx(ex,{className:"w-6 h-6 text-blue-400"}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-bold text-sm",children:i?b?.name:"Mensagens Internas"}),g.jsx("p",{className:"text-[10px] text-slate-300",children:i?b?.role:"Conectado como "+e.name})]})]}),o&&g.jsx("button",{onClick:o,className:"text-slate-400 hover:text-white transition-colors",title:"Fechar chat",children:g.jsx(nU,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsxs("div",{className:`w-full md:w-80 border-r border-slate-100 flex flex-col ${i?"hidden md:flex":"flex"}`,children:[g.jsxs("div",{className:"p-3 bg-slate-50 border-b border-slate-200",children:[g.jsxs("div",{className:"relative",children:[g.jsx(so,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),g.jsx("input",{type:"text",value:d,onChange:P=>p(P.target.value),placeholder:"Buscar colega...",className:"w-full pl-9 pr-3 py-2 bg-white border border-slate-200 rounded-full text-xs focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),g.jsxs("div",{className:"flex mt-3 bg-slate-200 p-1 rounded-lg",children:[g.jsx("button",{onClick:()=>y("conversations"),className:`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all ${m==="conversations"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Conversas"}),g.jsxs("button",{onClick:()=>y("users"),className:`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all ${m==="users"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:["Contatos (",t.length-1,")"]})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar",children:m==="conversations"?r.length>0?r.map(P=>{const N=t.find(I=>I.id===P.userId);return N?g.jsxs("button",{onClick:()=>a(P.userId),className:`w-full p-4 flex items-center gap-3 border-b border-slate-50 transition-colors hover:bg-slate-50 ${i===P.userId?"bg-blue-50/50":""}`,children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white text-xs shadow-sm ${N.role.includes("admin")?"bg-tertiary":"bg-secondary"}`,children:N.photoURL?g.jsx("img",{src:N.photoURL,alt:"",className:"w-full h-full object-cover rounded-full"}):g.jsx("span",{children:M(N.name)})}),g.jsxs("div",{className:"flex-1 text-left min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-baseline mb-0.5",children:[g.jsx("h4",{className:"font-bold text-xs text-slate-800 truncate",children:N.name}),P.lastMessage&&g.jsx("span",{className:"text-[9px] text-slate-400",children:D(P.lastMessage.timestamp)})]}),g.jsxs("p",{className:"text-[10px] text-slate-500 truncate flex items-center gap-1",children:[P.lastMessage?.senderId===e.id&&g.jsx(uh,{className:"w-3 h-3"}),P.lastMessage?.text||"Sem mensagens..."]})]}),P.unreadCount>0&&g.jsx("div",{className:"bg-blue-600 text-white text-[9px] font-black h-5 w-5 rounded-full flex items-center justify-center shadow-md animate-pulse",children:P.unreadCount})]},P.userId):null}):g.jsxs("div",{className:"p-8 text-center",children:[g.jsx(ex,{className:"w-8 h-8 text-slate-300 mx-auto mb-3"}),g.jsx("p",{className:"text-xs text-slate-400",children:"Nenhuma conversa ativa."}),g.jsx("button",{onClick:()=>y("users"),className:"mt-2 text-xs font-bold text-blue-500",children:"Ver contatos"})]}):L.map(P=>g.jsxs("button",{onClick:()=>a(P.id),className:`w-full p-4 flex items-center gap-3 border-b border-slate-50 transition-colors hover:bg-slate-50 ${i===P.id?"bg-blue-50/50":""}`,children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white text-xs shadow-sm ${P.role.includes("admin")?"bg-tertiary":"bg-secondary"}`,children:P.photoURL?g.jsx("img",{src:P.photoURL,alt:"",className:"w-full h-full object-cover rounded-full"}):g.jsx("span",{children:M(P.name)})}),g.jsxs("div",{className:"flex-1 text-left",children:[g.jsx("h4",{className:"font-bold text-xs text-slate-800",children:P.name}),g.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-medium",children:P.role.replace("_"," ")})]})]},P.id))})]}),g.jsx("div",{className:`flex-1 flex flex-col bg-slate-50 ${i?"flex":"hidden md:flex"}`,children:i?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[S.map((P,N)=>{const I=P.senderId===e.id,O=P.senderId===e.id&&P.receiverId===i||P.senderId===i&&P.receiverId===e.id;return g.jsx("div",{className:`flex ${I?"justify-end":"justify-start"} animate-fade-in`,children:g.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 shadow-sm ${I?"bg-blue-600 text-white rounded-tr-none":E&&!O?"bg-slate-200 text-slate-700 border-dashed border-slate-400":"bg-white text-slate-800 rounded-tl-none border border-slate-100"}`,children:[E&&!I&&g.jsxs("p",{className:"text-[9px] font-black uppercase mb-1 opacity-60",children:[t.find(U=>U.id===P.senderId)?.name||"Outro","  ",t.find(U=>U.id===P.receiverId)?.name||"Outro"]}),g.jsx("p",{className:"text-sm whitespace-pre-wrap",children:P.text}),g.jsxs("div",{className:`flex items-center gap-1 mt-1 justify-end ${I?"text-blue-100":"text-slate-400"}`,children:[g.jsx("span",{className:"text-[9px]",children:D(P.timestamp)}),I&&(P.read?g.jsx(SJ,{className:"w-3 h-3"}):g.jsx(uh,{className:"w-3 h-3"}))]})]})},P.id||N)}),g.jsx("div",{ref:x})]}),g.jsx("div",{className:"p-4 bg-white border-t border-slate-200",children:g.jsxs("form",{onSubmit:P=>{P.preventDefault(),k()},className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:c,onChange:P=>u(P.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 bg-slate-50 border border-slate-200 rounded-full text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"p-2.5 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 disabled:bg-slate-300 disabled:shadow-none transition-all active:scale-95",title:"Enviar mensagem",children:g.jsx(MX,{className:"w-5 h-5"})})]})})]}):g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center text-slate-400",children:[g.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6 border border-slate-200",children:g.jsx(Yp,{className:"w-10 h-10 text-slate-300"})}),g.jsx("h3",{className:"text-lg font-bold text-slate-600 mb-2",children:"Seu Central de Comunicao"}),g.jsx("p",{className:"text-sm max-w-xs leading-relaxed",children:"Selecione um colega de equipe na lista ao lado para iniciar uma conversa em tempo real."})]})})]})]})},z8e=(e,t)=>{const[r,n]=R.useState([]),[i,a]=R.useState([]),[s,o]=R.useState(null);R.useEffect(()=>{if(!e)return;const d=AEe(p=>{const m=e.role==="admin_dev"||e.role==="admin",y=p.filter(x=>m||x.senderId===e.id||x.receiverId===e.id);n(y)});return()=>d()},[e]),R.useEffect(()=>{if(!e)return;const d=new Map,p=e.role==="admin_dev"||e.role==="admin";t.forEach(m=>{m.id!==e.id&&d.set(m.id,{userId:m.id,unreadCount:0})}),r.forEach(m=>{if(p)[m.senderId,m.receiverId].forEach(x=>{const b=d.get(x);b&&x!==e.id&&(!b.lastMessage||m.timestamp>b.lastMessage.timestamp)&&(b.lastMessage=m)});else{const y=m.senderId===e.id?m.receiverId:m.senderId,x=d.get(y);x&&((!x.lastMessage||m.timestamp>x.lastMessage.timestamp)&&(x.lastMessage=m),!m.read&&m.receiverId===e.id&&x.unreadCount++)}}),a(Array.from(d.values()).sort((m,y)=>{const x=m.lastMessage?.timestamp||"";return(y.lastMessage?.timestamp||"").localeCompare(x)}))},[r,e,t]);const c=R.useCallback(async(d,p)=>{if(!e)return;const m={senderId:e.id,receiverId:d,text:p,timestamp:new Date().toISOString(),read:!1};await TEe(m)},[e]),u=R.useCallback(async d=>{if(!e)return;const p=r.filter(m=>m.senderId===d&&m.receiverId===e.id&&!m.read);for(const m of p)await SEe(m.id)},[e,r]);return{messages:r,conversations:i,activeConversationId:s,setActiveConversationId:o,sendMessage:c,markAsRead:u,totalUnread:i.reduce((d,p)=>d+p.unreadCount,0)}},$8e=()=>{const{users:e,setUsers:t,currentUser:r,login:n,logout:i,addUser:a,updateUser:s,deleteUser:o}=pW(),{masterClientList:c,setMasterClientList:u,products:d,setProducts:p,categories:m,setCategories:y,uploadedFiles:x,setUploadedFiles:b,isFirebaseConnected:E,isDataLoaded:S,loadingProgress:L,loadingMessage:k}=F8e(e,t),{searchQuery:M,setSearchQuery:D,filterRegion:P,setFilterRegion:N,filterState:I,setFilterState:O,filterCity:U,setFilterCity:B,filterCategory:F,setFilterCategory:H,filterSalespersonId:fe,setFilterSalespersonId:me,filterSalesCategory:ne,setFilterSalesCategory:ue,filterCnae:ce,setFilterCnae:ae,filterProductCategory:_e,setFilterProductCategory:J,filterProductSku:V,setFilterProductSku:ee,searchProductQuery:X,setSearchProductQuery:q,showProductSuggestions:he,setShowProductSuggestions:xe,filteredClients:Ie,visibleClients:le,availableStates:ge,availableCities:De,availableCnaes:K,productCategories:Ye,filterOnlyWithPurchases:Ue,setFilterOnlyWithPurchases:Ke,startDate:ze,setStartDate:Le,endDate:Je,setEndDate:et,resetFilters:ht}=j8e(c,e,r,d),{messages:It,conversations:Gr,activeConversationId:Br,setActiveConversationId:bt,sendMessage:xr,markAsRead:Wt,totalUnread:Er}=z8e(r,e),[ft,Mt]=R.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[Et,rr]=R.useState(()=>{const se="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Gemini API Key Source:","FOUND","(first 10 chars):",se?.substring(0,10)+"..."),se}),[Ht,Vt]=R.useState(()=>{const se="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Maps API Key Source:","FOUND","(first 10 chars):",se?.substring(0,10)+"..."),se}),[_r,yi]=R.useState(0),[pt,xa]=R.useState("map"),[xo,il]=R.useState(!1),[_a,_o]=R.useState(!1),[Xr,ni]=R.useState(!1),[$a,ba]=R.useState(void 0),[_u,bo]=R.useState(!1),[wa,Ea]=R.useState(!1),[bu,ds]=R.useState(!1),zs="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw",[Xi,Ha]=R.useState({isOpen:!1,title:"",message:"",type:"info"}),Rn=(se,Me,qe="info")=>{Ha({isOpen:!0,title:se,message:Me,type:qe,confirmLabel:"Entendi"})},W=(se,Me,qe,lt)=>{Ha({isOpen:!0,title:se,message:Me,type:"confirm",onConfirm:qe,confirmLabel:lt?.confirm||"Confirmar",cancelLabel:lt?.cancel||"Cancelar"})},re=R.useRef(!1),Z=se=>{ft.isActive&&ft.status==="processing"?W("Parar Envio?",["Gostaria de parar de enviar o arquivo?","O progresso atual ser perdido."],()=>{re.current=!0,xa(se)},{confirm:"Parar Envio",cancel:"Continuar"}):xa(se)},[te,ie]=R.useState(""),[oe,ye]=R.useState(!1),Re=()=>{W("Remover Clientes Duplicados?",["Esta ao ir identificar clientes com mesmo nome e endereo.","Manteremos apenas 1 registro de cada e atualizaremos a contagem total."],()=>{const se=new Map,Me=[];let qe=0;if(c.forEach(lt=>{const mt=`${lt.companyName||""}-${lt.cleanAddress||""}`.toLowerCase().trim();se.has(mt)?qe++:(se.set(mt,lt),Me.push(lt))}),qe===0){Rn("Sucesso","Nenhum cliente duplicado encontrado!","success");return}u(Me),Rn("Limpeza Concluda!",[`${qe} clientes duplicados removidos.`,`Total anterior: ${c.length}`,`Total atual: ${Me.length}`],"success")})},Ee=async()=>{if(c.length===0){Rn("Aviso","Nenhum cliente na base para atualizar.","warning");return}W("Iniciar Atualizao em Massa?",["Este processo utilizar sua API CNPJa para:"," Buscar CNPJs faltantes via Razo Social"," Atualizar CNAEs (Atividade Econmica)"," Telefones, Endereos e Georreferenciamento",`Total de clientes: ${c.length}`],async()=>{Mt({isActive:!0,current:0,total:c.length,status:"processing",fileName:"Enriquecimento de Base (CNPJa Comercial)",ownerName:r?.name||"Sistema"});const se=TV(3);let Me=0,qe=0;const lt=c.map((mt,_t)=>se(async()=>{try{let At=mt.cnpj?.replace(/\D/g,"");if(!At||At.length!==14){const gt=await eye({filtros:mt.companyName,uf:mt.state});gt&&gt.length>0&&(At=gt[0].taxId)}if(At&&At.length===14){const gt=await X1(At);if(gt){const kt=gt.logradouro&&gt.numero;u(Gt=>Gt.map(Yt=>Yt.id===mt.id?{...Yt,cnpj:gt.cnpj,companyName:gt.nome_fantasia||gt.razao_social||Yt.companyName,contact:gt.ddd_telefone_1||Yt.contact,cleanAddress:kt?`${gt.logradouro}, ${gt.numero}, ${gt.municipio} - ${gt.uf}`:Yt.cleanAddress,originalAddress:kt?`${gt.logradouro}, ${gt.numero}${gt.complemento?` - ${gt.complemento}`:""}, ${gt.bairro}, ${gt.municipio} - ${gt.uf}`:Yt.originalAddress,mainCnae:gt.cnae_fiscal||Yt.mainCnae,secondaryCnaes:gt.cnaes_secundarios?.map(zt=>`${zt.codigo} - ${zt.texto}`)||Yt.secondaryCnaes||[],lat:gt.latitude||Yt.lat,lng:gt.longitude||Yt.lng,googleMapsUri:gt.latitude?`https://www.google.com/maps?q=${gt.latitude},${gt.longitude}`:Yt.googleMapsUri}:Yt)),Me++}}}catch(At){console.error(`Erro ao atualizar cliente ${mt.companyName}:`,At),qe++,At.message&&(At.message.includes("401")||At.message.toLowerCase().includes("chave de api cnpja invlida"))&&(re.current=!0,Mt(gt=>({...gt,status:"error",errorMessage:"Autenticao CNPJa falhou. Chave invlida ou expirada."})),Ea(!0))}finally{Mt(At=>({...At,current:_t+1}))}}));await Promise.all(lt),Mt(mt=>({...mt,status:"completed"})),Rn("Atualizao Concluda!",[`Sucesso: ${Me} clientes`,`Erros/No localizados: ${qe+(c.length-Me-qe)}`,"Sua base de dados agora est enriquecida!"],"success"),setTimeout(()=>{Mt(mt=>({...mt,isActive:!1}))},3e3)})},Ce=se=>{m.includes(se)||y([...m,se])},Ae=se=>{y(m.filter(Me=>Me!==se))},He=se=>{p(Me=>{const qe=[...Me,...se];return Tr(c,qe),r&&kd({timestamp:new Date().toISOString(),userId:r.id,userName:r.name,userRole:r.role,action:"CREATE",category:"PRODUCTS",details:`Importou ${se.length} novos produtos.`}),qe})},We=se=>{p(se)},Qe=()=>{p([]),u(se=>se.map(Me=>({...Me,purchasedProducts:[]})))},Ge=()=>{W("Limpar TODOS os Clientes?",[" ATENO: Esta ao remover TODOS os clientes do sistema."," Limpeza da listagem de arquivos e reset de contadores."," Vendedores, produtos e categorias NO sero afetados."],()=>{u([]),b(se=>se.filter(Me=>Me.type!=="clients")),Rn("Sucesso","Base de clientes limpa com sucesso!","success")})},Xe=async se=>{for(const Me of se){const qe=Me?.trim();if(qe)try{const lt=await wV(qe,Ht||"");if(lt)return lt}catch(lt){console.warn(`Geocoding failed for ${qe}:`,lt)}}return null},st=async()=>{const se=c.filter(Me=>!Me.plusCode&&Me.lat&&Me.lng&&Me.lat!==0);if(se.length===0){Rn("Aviso","Todos os clientes com coordenadas j possuem Plus Code!","info");return}W("Gerar Plus Codes?",[`Deseja gerar Plus Codes para ${se.length} clientes?`,"Isso utilizar a cota da API de Geocoding do Google."],async()=>{Mt({isActive:!0,current:0,total:se.length,status:"processing",fileName:"Gerao de Plus Codes",ownerName:r?.name||"Sistema"});let Me=0;const qe=[...c];for(let lt=0;lt<se.length&&!re.current;lt++){const mt=se[lt];try{const _t=await q0(mt.lat,mt.lng,Ht||"");if(_t){const At=qe.findIndex(gt=>gt.id===mt.id);At!==-1&&(qe[At]={...qe[At],plusCode:_t},Me++)}}catch(_t){console.error(`Error generating Plus Code for ${mt.companyName}:`,_t)}Mt(_t=>({..._t,current:lt+1}))}u(qe),Mt(lt=>({...lt,status:"completed",isActive:!0})),re.current=!1,Rn("Sucesso",`Processo concludo! ${Me} Plus Codes gerados.`,"success")})},pr=async se=>{const Me=c.find(kt=>kt.id===se.id);let qe={...se};const lt=Me&&Me.cleanAddress!==se.cleanAddress,mt=Me&&Me.plusCode!==se.plusCode,_t=Me&&(Me.lat!==se.lat||Me.lng!==se.lng),At=se.lat===0||se.lng===0;if(!(_t&&!At)&&(lt||mt||At)){const kt=[se.cleanAddress,se.district,se.city,se.state,se.zip,se.region,se.country||"Brasil"].filter(Boolean).join(", "),Gt=await Xe([se.plusCode,kt,se.cleanAddress,se.originalAddress]);if(Gt&&(qe.lat=Gt.lat,qe.lng=Gt.lng,Gt.formattedAddress&&(qe.cleanAddress=Gt.formattedAddress),!qe.plusCode)){const Yt=await q0(qe.lat,qe.lng,Ht||"");Yt&&(qe.plusCode=Yt)}}else if(!qe.plusCode&&qe.lat&&qe.lng){const kt=await q0(qe.lat,qe.lng,Ht||"");kt&&(qe.plusCode=kt)}u(kt=>kt.map(Gt=>Gt.id===qe.id?qe:Gt)),r&&kd({timestamp:new Date().toISOString(),userId:r.id,userName:r.name,userRole:r.role,action:"UPDATE",category:"CLIENTS",details:`Atualizou o cliente: ${qe.companyName}`,metadata:{clientId:qe.id}})},mr=async se=>{let Me={...se,id:se.id||crypto.randomUUID(),lat:se.lat||0,lng:se.lng||0};if(!Me.lat||!Me.lng||Me.lat===0){const qe=await Xe([Me.plusCode,Me.cleanAddress,Me.originalAddress]);if(qe){if(Me.lat=qe.lat,Me.lng=qe.lng,qe.formattedAddress&&(Me.cleanAddress=qe.formattedAddress),console.log(`[APP] Geocoding for manual client successful: ${Me.lat}, ${Me.lng}`),!Me.plusCode){const lt=await q0(Me.lat,Me.lng,Ht||"");lt&&(Me.plusCode=lt)}}else console.warn(`[APP] Geocoding for manual client FAILED: ${Me.companyName}`)}else if(!Me.plusCode&&Me.lat&&Me.lng){const qe=await q0(Me.lat,Me.lng,Ht||"");qe&&(Me.plusCode=qe)}u(qe=>[...qe,Me]),setTimeout(()=>{const qe=document.querySelector(".overflow-y-auto");qe&&(qe.scrollTop=qe.scrollHeight)},100)},Tr=(se,Me)=>{if(Me.length===0)return;const qe=se.map(lt=>{if(lt.purchasedProducts&&lt.purchasedProducts.length>0)return lt;let mt=Me.filter(kt=>(lt.category||[]).some(Gt=>(kt.category||"").toLowerCase().includes((Gt||"").toLowerCase())||(Gt||"").toLowerCase().includes((kt.category||"").toLowerCase())));mt.length===0&&(mt=Me);const _t=Math.floor(Math.random()*5)+1,gt=[...mt].sort(()=>.5-Math.random()).slice(0,_t);return{...lt,purchasedProducts:gt.map(kt=>({...kt,purchaseDate:new Date().toISOString()}))}});u(qe)},ii=async()=>{bo(!0)},Ga=se=>{se&&se.trim()&&(Vt(se.trim()),localStorage.setItem("google_maps_api_key",se.trim()),yi(Me=>Me+1),bo(!1))},qa=se=>{if(n(se),kd({timestamp:new Date().toISOString(),userId:se.id,userName:se.name,userRole:"UNKNOWN",action:"LOGIN",category:"AUTH",details:`Tentativa de login concluda para o usurio: ${se.name}`}),ht(),Z("map"),ye(!1),NA(se.role)){const Me=e.find(qe=>zd(qe.role));Me&&ie(Me.id)}},Zi=se=>{localStorage.setItem("cnpja_api_key",se),Ea(!1),Rn("Sucesso","Chave CNPJa atualizada! Tente realizar a consulta novamente.","success")},wo=()=>{if(ft.isActive&&ft.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))re.current=!0;else return;i(),ht()},ai=async(se,Me,qe=!1)=>{const lt=e.find(At=>At.id===Me),mt=lt?lt.name:"Desconhecido";if(c.length>0&&!qe&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const _t=crypto.randomUUID();Mt({isActive:!0,total:0,current:0,fileName:se.name,ownerName:mt,status:"reading"}),re.current=!1;try{let At=[];const gt=se.name.toLowerCase();if(console.log(`Processing file: ${se.name}, Lower: ${gt}`),gt.endsWith(".csv"))console.log("Selected Parser: CSV"),At=await Dre(se);else if(gt.endsWith(".xlsx")||gt.endsWith(".xls"))console.log("Selected Parser: Excel"),At=await Ufe(se);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",At.length),At.length>0&&console.log("Sample Parsed Item:",At[0]),At.length===0)throw new Error("Arquivo vazio.");const kt={id:_t,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:Me,salespersonName:mt,type:"clients",itemCount:At.length,status:"processing"};try{const zt=new Date().getTime(),En=`uploads/clients/${Me}/${zt}_${se.name}`,Ut=await DE(se,En);Ut&&(kt.storageUrl=Ut,console.log(`[APP] CSV file uploaded to Storage: ${Ut}`))}catch(zt){console.error("[APP] Failed to upload file to Storage:",zt)}b(zt=>[kt,...zt]),Mt(zt=>({...zt,total:At.length,status:"processing"}));const Yt=(await sye(At,Me,Et,Ht,m,(zt,En)=>{if(re.current)throw new Error("CANCELLED_BY_USER");Mt(Ut=>({...Ut,current:zt,total:En}))})).map(zt=>({...zt,sourceFileId:_t}));u(zt=>{const En=[...zt];return Yt.forEach(Ut=>{const xi=Ut.cnpj?.replace(/\D/g,""),an=En.findIndex(Ar=>{const _i=Ar.cnpj?.replace(/\D/g,"");return xi&&_i&&xi.length===14&&_i.length===14?xi===_i:Ar.companyName.toLowerCase().trim()===Ut.companyName.toLowerCase().trim()&&Ar.city.toLowerCase().trim()===Ut.city.toLowerCase().trim()});if(an!==-1){const Ar=En[an];En[an]={...Ar,...Ut,ownerName:Ut.ownerName||Ar.ownerName,contact:Ut.contact||Ar.contact,whatsapp:Ut.whatsapp||Ar.whatsapp,cnpj:Ut.cnpj||Ar.cnpj,mainCnae:Ut.mainCnae||Ar.mainCnae,secondaryCnaes:Ut.secondaryCnaes&&Ut.secondaryCnaes.length>0?Ut.secondaryCnaes:Ar.secondaryCnaes,lat:Ut.lat!==0?Ut.lat:Ar.lat,lng:Ut.lng!==0?Ut.lng:Ar.lng,googleMapsUri:Ut.googleMapsUri||Ar.googleMapsUri,plusCode:Ut.plusCode||Ar.plusCode}}else En.push(Ut)}),En}),Mt(zt=>({...zt,status:"completed"})),b(zt=>zt.map(En=>En.id===_t?{...En,status:"completed"}:En)),setTimeout(()=>{Mt(zt=>zt.status==="completed"?{...zt,isActive:!1}:zt)},5e3)}catch(At){console.error(At);const gt=At.message==="CANCELLED_BY_USER",kt=gt?"Cancelado pelo usurio.":At.message||"Erro desconhecido",Gt=gt;Mt(Yt=>({...Yt,status:"error",errorMessage:kt,isActive:!Gt})),b(Yt=>Yt.map(zt=>zt.id===_t?{...zt,status:"error",errorMessage:kt}:zt))}},Qi=se=>{const Me=x.find(qe=>qe.id===se);Me&&window.confirm(`Tem certeza que deseja excluir o arquivo "${Me.fileName}"?

Isso remover todos os ${Me.itemCount} registros associados.`)&&(Me.type==="clients"?u(qe=>qe.filter(lt=>lt.sourceFileId!==se)):Me.type==="products"&&p(qe=>qe.filter(lt=>lt.sourceFileId!==se)),b(qe=>qe.filter(lt=>lt.id!==se)))},un=se=>{a(se),r&&kd({timestamp:new Date().toISOString(),userId:r.id,userName:r.name,userRole:r.role,action:"CREATE",category:"USERS",details:`Adicionou um novo usurio: ${se.name} (${se.role})`,metadata:{targetUserId:se.id}})},On=se=>{s(se),r&&kd({timestamp:new Date().toISOString(),userId:r.id,userName:r.name,userRole:r.role,action:"UPDATE",category:"USERS",details:`Atualizou os dados do usurio: ${se.name}`,metadata:{targetUserId:se.id}})},Eo=se=>{const Me=e.find(qe=>qe.id===se);o(se),r&&Me&&kd({timestamp:new Date().toISOString(),userId:r.id,userName:r.name,userRole:r.role,action:"DELETE",category:"USERS",details:`Removeu o usurio: ${Me.name}`,metadata:{targetUserId:se}})},wu=(se,Me)=>{const lt=e.find(mt=>mt.id===Me)?.name||"None";b(mt=>mt.map(_t=>_t.id===se?{..._t,salespersonId:Me,salespersonName:lt}:_t)),u(mt=>mt.map(_t=>_t.sourceFileId===se?{..._t,salespersonId:Me}:_t)),Me?(Z("map"),me(Me),alert(`Arquivo e ${Ie.filter(mt=>mt.sourceFileId===se).length} clientes reatribudos para: ${lt}

Mapa filtrado automaticamente.`)):(me("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},gr=async(se,Me)=>{const qe=crypto.randomUUID();Mt({isActive:!0,total:0,current:0,fileName:se.name,ownerName:"Sistema",status:"reading"});try{const lt=await Lre(se);if(lt.length===0)throw new Error("Arquivo vazio ou sem registros vlidos.");const mt=lt.reduce((kt,Gt)=>{const Yt=Gt.cnpj?Gt.cnpj:(Gt.companyName||"").toLowerCase().trim();return kt[Yt]||(kt[Yt]=[]),kt[Yt].push(Gt),kt},{}),_t=Object.keys(mt);Mt(kt=>({...kt,total:_t.length,status:"processing"}));let At=0;u(kt=>{const Gt=[...kt];return _t.forEach((Yt,zt)=>{Mt(an=>({...an,current:zt+1}));const Ut=mt[Yt][0];let xi=-1;if(Ut.cnpj&&(xi=Gt.findIndex(an=>(an.cnpj||"").replace(/[.\-\/]/g,"")===Ut.cnpj)),xi===-1){const an=(Ut.companyName||"").toLowerCase().trim();xi=Gt.findIndex(Ar=>(Ar.companyName||"").toLowerCase().trim()===an)}if(xi!==-1){At++;const Ar=mt[Yt].map(sn=>{const Aa=d.find(ea=>sn.sku&&ea.sku===sn.sku||ea.name&&sn.name&&(ea.name||"").toLowerCase().trim()===(sn.name||"").toLowerCase().trim());return Aa?{...Aa,purchaseDate:sn.purchaseDate,quantity:sn.quantity,totalValue:sn.totalValue}:{sku:sn.sku||"N/A",name:sn.name||"Produto Desconhecido",brand:"Desconhecido",category:"Manual",price:sn.price||0,factoryCode:"",purchaseDate:sn.purchaseDate,quantity:sn.quantity,totalValue:sn.totalValue}}),_i=Gt[xi].purchasedProducts||[],To=Ar.filter(sn=>!_i.some(Aa=>Aa.sku===sn.sku&&Aa.purchaseDate===sn.purchaseDate));To.length>0&&(Gt[xi]={...Gt[xi],purchasedProducts:[..._i,...To]})}}),Gt});const gt={id:qe,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:Me,salespersonName:e.find(kt=>kt.id===Me)?.name||"Vendedor",type:"purchases",itemCount:lt.length,status:"completed"};try{const Gt=`uploads/purchases/${new Date().getTime()}_${se.name}`;await DE(se,Gt).then(Yt=>{Yt&&(gt.storageUrl=Yt)})}catch(kt){console.error("[APP] Failed to upload purchase file to Storage:",kt)}b(kt=>[gt,...kt]),Mt({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(` Atualizao de Compras concluda!

${At} clientes identificados e com histrico renovado.`)}catch(lt){console.error(lt),Mt(mt=>({...mt,status:"error",errorMessage:lt.message})),b(mt=>[...mt,{id:qe,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:Me,salespersonName:e.find(_t=>_t.id===Me)?.name||"Vendedor",type:"purchases",itemCount:0,status:"error",errorMessage:lt.message}])}},al=async se=>{const Me=crypto.randomUUID();Mt({isActive:!0,total:0,current:0,fileName:se.name,ownerName:"Sistema",status:"reading"});try{let qe=[];const lt=se.name.toLowerCase();if(lt.endsWith(".csv"))qe=await qU(se);else if(lt.endsWith(".xlsx")||lt.endsWith(".xls"))qe=await NB(se);else throw new Error("Formato no suportado.");if(qe.length===0)throw new Error("Arquivo vazio.");qe=qe.map(_t=>({..._t,sourceFileId:Me}));const mt={id:Me,fileName:se.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:qe.length,status:"completed"};try{const At=`uploads/products/${new Date().getTime()}_${se.name}`,gt=await DE(se,At);gt&&(mt.storageUrl=gt)}catch(_t){console.error("[APP] Failed to upload product file to Storage:",_t)}b(_t=>[mt,..._t]),He(qe),Mt({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${qe.length} produtos importados com sucesso.`)}catch(qe){console.error(qe),Mt(lt=>({...lt,status:"error",errorMessage:qe.message})),b(lt=>lt.map(mt=>mt.id===Me?{...mt,status:"error",errorMessage:qe.message}:mt))}},Ta="6LcyKmUsAAAAAC-uUPRRD2ZMZRJu_dBPUH5Gp4gm";if(console.log("[APP] reCAPTCHA Key Source:","FALLBACK"),console.log("[APP] reCAPTCHA Key (first 10 chars):",Ta.substring(0,10)+"..."),console.log("[APP] Environment:","production"),!r)return g.jsx(z6,{reCaptchaKey:Ta,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:g.jsx(YTe,{users:e,onLogin:qa})});const Fr=NA(r.role),Dt=IA(r.role),$s=_e!=="Todos"||V!=="Todos"||X!=="";return S?g.jsxs(z6,{reCaptchaKey:Ta,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:[g.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[oe&&g.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>ye(!1),role:"button",tabIndex:0,"aria-label":"Fechar menu",onKeyDown:se=>se.key==="Escape"&&ye(!1)}),g.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${oe?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[g.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[g.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[g.jsx(sE,{className:"w-6 h-6"}),"Rota de Vendas"]}),g.jsx("button",{onClick:()=>ye(!1),className:"md:hidden text-on-surface-variant hover:text-primary",title:"Fechar menu lateral",children:g.jsx(ha,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"px-6 py-2",children:g.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:Fr?"Painel Administrativo":"Portal do Vendedor"})}),g.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[g.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),g.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),g.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md overflow-hidden ${Fr?"bg-tertiary":"bg-secondary"}`,children:r.photoURL?g.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):g.jsx("span",{children:r.name.charAt(0)})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:r.name}),g.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:r.email})]})]})]}),g.jsxs("nav",{className:"space-y-1 mb-8",children:[g.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),g.jsxs("button",{onClick:()=>{xa("map"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(uX,{className:`w-5 h-5 ${pt==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),Fr&&g.jsxs("button",{onClick:()=>{Z("dashboard"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="dashboard"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(sE,{className:`w-5 h-5 ${pt==="dashboard"?"fill-current":""}`}),"Dashboard Admin"]}),g.jsxs("button",{onClick:()=>{xa("table"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(VX,{className:`w-5 h-5 ${pt==="table"?"fill-current":""}`}),"Listagem de Dados"]}),g.jsx("button",{onClick:()=>{xa("history"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="history"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:"Histrico de Vendas"}),g.jsxs("button",{onClick:()=>{xa("chat"),ye(!1),Br&&Wt(Br)},className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="chat"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(ex,{className:`w-5 h-5 ${pt==="chat"?"fill-current":""}`}),"Mensagens Internas"]}),Er>0&&pt!=="chat"&&g.jsx("div",{className:"bg-error text-white text-[10px] font-black h-5 w-5 rounded-full flex items-center justify-center animate-pulse shadow-sm",children:Er})]})]}),Fr&&g.jsxs("nav",{className:"space-y-1 mb-8",children:[g.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),g.jsxs("button",{onClick:()=>{Z("admin_users"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(Yp,{className:`w-5 h-5 ${pt==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),g.jsxs("button",{onClick:()=>{Z("admin_categories"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(lU,{className:`w-5 h-5 ${pt==="admin_categories"?"fill-current":""}`}),"Categorias"]}),g.jsxs("button",{onClick:()=>{Z("admin_products"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(ao,{className:`w-5 h-5 ${pt==="admin_products"?"fill-current":""}`}),"Produtos"]}),g.jsxs("button",{onClick:()=>{Z("admin_files"),ye(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${pt==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(Cp,{className:`w-5 h-5 ${pt==="admin_files"?"fill-current":""}`}),"Arquivos"]}),r?.role==="admin_dev"&&g.jsxs("button",{onClick:()=>{ni(!0),ye(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[g.jsx(EA,{className:"w-5 h-5"}),"Backup & Cloud"]}),r?.role==="admin_dev"&&g.jsxs("button",{onClick:()=>{ds(!0),ye(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all hover:bg-slate-100 group",title:" Logs e Auditoria do Sistema",children:[g.jsx("div",{className:"p-2 bg-slate-50 rounded-xl group-hover:bg-blue-50 group-hover:text-blue-600 transition-colors",children:g.jsx(Gp,{className:"w-5 h-5"})}),g.jsx("span",{className:"text-sm font-bold text-slate-600 group-hover:text-slate-900",children:"Logs do Sistema"})]})]})]}),g.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[g.jsxs("button",{onClick:wo,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",title:"Encerrar sesso e sair do sistema",children:[g.jsx(oX,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),g.jsx("div",{className:"text-center mt-4",children:g.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),g.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[g.jsx("button",{onClick:()=>ye(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",title:"Abrir menu",children:g.jsx(pX,{className:"w-6 h-6"})}),g.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[g.jsx(sE,{className:"w-5 h-5"})," Rota de Vendas"]}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!Fr&&pt==="table"&&g.jsx("button",{onClick:()=>il(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",title:"Adicionar Novo Cliente",children:g.jsx(Yp,{className:"w-6 h-6"})}),g.jsx(eAe,{isOpen:Xr,onClose:()=>ni(!1),onSaveToCloud:()=>{RS(c,d,m,e),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:Ge,isFirebaseConnected:E}),g.jsx(iAe,{isOpen:_u,onClose:()=>bo(!1),onConfirm:Ga,suggestedKey:zs}),g.jsx(aAe,{isOpen:wa,onClose:()=>Ea(!1),onConfirm:Zi}),g.jsx(tAe,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),g.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[g.jsx("span",{children:"Portal"}),g.jsx(tU,{className:"w-4 h-4"}),g.jsx("span",{className:"font-semibold text-blue-600",children:pt==="map"?"Mapa da Carteira":pt==="table"?"Listagem de Clientes":pt==="dashboard"?"Dashboard Administrativo":pt==="admin_categories"?"Categorias de Clientes":pt==="admin_products"?"Catlogo de Produtos":pt==="chat"?"Mensagens Internas":"Gesto de Usurios"})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-gray-400",children:Fr?"Clientes Visualizados":"Meus Clientes"}),g.jsx("p",{className:"text-lg font-bold leading-none",children:le.length})]}),Fr&&g.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[g.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),g.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:c.length})]})]})]}),pt==="admin_users"&&Fr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(XTe,{currentUser:r,users:e,onAddUser:un,onUpdateUser:On,onDeleteUser:Eo,onCleanupDuplicates:Re,totalClients:c.length})}):pt==="admin_categories"&&Fr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(ZTe,{categories:m,onAddCategory:Ce,onDeleteCategory:Ae})}):pt==="admin_products"&&Fr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(QTe,{products:d,onUploadProducts:He,onClearProducts:Qe,onSaveProducts:We,apiKey:Et})}):pt==="admin_files"&&Fr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(rAe,{users:e,uploadedFiles:x,onUploadClients:(se,Me)=>ai(se,Me),onUploadProducts:al,onUploadPurchases:gr,onDeleteFile:Qi,onReassignSalesperson:wu,procState:ft})}):pt==="chat"&&r?g.jsx("div",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:g.jsx(V8e,{currentUser:r,allUsers:e,conversations:Gr,messages:It,activeUserId:Br,onSelectUser:se=>{bt(se),se&&Wt(se)},onSendMessage:xr})}):pt==="dashboard"&&Fr?g.jsx("div",{className:"flex-1 overflow-hidden bg-surface",children:g.jsx(M8e,{clients:Ie,products:d,users:e,onClose:()=>xa("map"),searchQuery:M,setSearchQuery:D,filterRegion:P,setFilterRegion:N,filterState:I,setFilterState:O,filterCity:U,setFilterCity:B,filterCategory:F,setFilterCategory:H,filterSalespersonId:fe,setFilterSalespersonId:me,filterSalesCategory:ne,setFilterSalesCategory:ue,filterCnae:ce,setFilterCnae:ae,filterProductCategory:_e,setFilterProductCategory:J,productCategories:Ye,startDate:ze,setStartDate:Le,endDate:Je,setEndDate:et,availableStates:ge,availableCities:De,availableCnaes:K,categories:m,currentUser:r,isAdminUser:Fr,canViewAllData:Dt})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-gray-100 px-3 py-2.5 border-b border-gray-200 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[g.jsx(V2,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"Filtros:"})]}),g.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${Dt?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${Dt?"text-purple-600":"text-gray-500"}`,title:Fr?"Perfil Administrador":Dt?"Perfil Gestor":"Perfil Vendedor",children:[Dt?g.jsx(tx,{className:"w-3 h-3"}):g.jsx(ca,{className:"w-3 h-3"}),Fr?"Admin":Dt?"Gesto":"Vendedor"]}),g.jsxs("div",{className:"relative",children:[g.jsx(ca,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${Dt?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:Dt?fe:r?.id||"",onChange:se=>Dt&&me(se.target.value),disabled:!Dt,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${Dt?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:Dt?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[Dt&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),Dt?e.filter(se=>se.role==="salesperson"||se.role==="sales_external"||se.role==="sales_internal").map(se=>g.jsx("option",{value:se.id,children:se.name},se.id)):g.jsx("option",{value:r?.id,children:r?.name})]})]}),Dt&&g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(as,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:ne,onChange:se=>ue(se.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[g.jsx("option",{value:"Todos",children:"Todas Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),g.jsxs("select",{value:P,onChange:se=>{N(se.target.value),O("Todos"),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio geogrfica",children:[g.jsx("option",{value:"Todas",children:"Todas Regies"}),fh.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:I,onChange:se=>{O(se.target.value),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ge.length===0,title:"Filtrar por estado (UF)",children:[g.jsxs("option",{value:"Todos",children:["Todos Estados ",P!=="Todas"?`(${P})`:""]}),ge.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:U,onChange:se=>B(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5 min-w-[100px]",disabled:I==="Todos"||De.length===0,title:"Filtrar por cidade",children:[g.jsx("option",{value:"Todas",children:"Todas Cidades"}),De.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(ro,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:F,onChange:se=>H(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[g.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),m.map(se=>g.jsx("option",{value:se,children:se},se))]})]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(as,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:ce,onChange:se=>ae(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[g.jsx("option",{value:"Todos",children:"Todos CNAEs"}),K.map(se=>g.jsx("option",{value:se,children:se.length>40?se.substring(0,40)+"...":se},se))]})]}),g.jsx(a$,{startDate:ze,endDate:Je,onRangeChange:(se,Me)=>{Le(se),et(Me)},label:"Perodo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[g.jsx(ao,{className:"w-4 h-4"}),"Vendas:"]}),g.jsxs("select",{value:_e,onChange:se=>J(se.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${_e!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[g.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),Ye.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(ro,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${V!=="Todos"?"text-green-600":"text-gray-400"}`}),g.jsxs("select",{value:V,onChange:se=>ee(se.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${V!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por produto especfico",children:[g.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(se=>_e==="Todos"||se.category===_e).sort((se,Me)=>(se.name||"").localeCompare(Me.name||"")).map(se=>g.jsxs("option",{value:se.sku,children:[se.name.substring(0,30),"... (",se.sku,")"]},se.sku))]})]}),g.jsxs("div",{className:"relative group/search",children:[g.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),g.jsx("input",{type:"text",value:X,onChange:se=>{q(se.target.value),xe(!0)},onFocus:()=>xe(!0),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-56 transition-colors ${X?"bg-green-50 border-green-300":"border-gray-300"}`,title:"Buscar produtos por SKU, Marca, Cdigo ou Descrio"}),he&&X.length>=2&&g.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto custom-scrollbar",children:(()=>{const se=d.filter(Me=>{const qe=X.toLowerCase();return(Me.name||"").toLowerCase().includes(qe)||(Me.sku||"").toLowerCase().includes(qe)||(Me.brand||"").toLowerCase().includes(qe)}).slice(0,8);return se.length===0?g.jsxs("div",{className:"p-3 text-xs text-gray-500 italic flex items-center gap-2",children:[g.jsx(Gi,{className:"w-3 h-3 text-gray-400"}),"No Foi Encontrado"]}):se.map(Me=>g.jsxs("button",{onClick:()=>{q(Me.sku),xe(!1)},className:"w-full text-left px-3 py-2 text-xs hover:bg-green-50 flex flex-col border-b border-gray-50 last:border-0",children:[g.jsx("span",{className:"font-bold text-gray-800",children:Me.name}),g.jsxs("span",{className:"text-[10px] text-gray-500 uppercase",children:[Me.sku,"  ",Me.brand]})]},Me.sku))})()}),!he&&X&&Ie.length===0&&g.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 flex items-center gap-1.5 text-[10px] font-bold text-rose-500 animate-fade-in bg-rose-50 px-2 py-1 rounded border border-rose-100 italic",children:[g.jsx(Gi,{className:"w-3 h-3"}),"No Foi Encontrado"]})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>Ke(!0),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${Ue?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-300 text-gray-600 hover:border-green-400 hover:text-green-700"}`,children:"Somente com Compras"}),g.jsx("button",{onClick:()=>Ke(!1),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${Ue?"bg-white border-gray-300 text-gray-600 hover:border-blue-400 hover:text-blue-700":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Mostrar Todos"}),Fr&&g.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[g.jsx(TA,{className:"w-3 h-3"})," Atualizar Base (CNPJa)"]})]}),$s&&g.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[g.jsx(af,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!$s&&g.jsx("span",{className:"ml-auto text-xs text-gray-400",children:d.length===0?"Nenhum produto cadastrado no admin.":`${d.length} produtos no catlogo.`})]}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[Ie.length," resultados encontrados"]})})]}),g.jsx("div",{className:"flex-1 overflow-hidden p-1.5 bg-gray-100",children:le.length===0&&!ft.isActive?g.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:Fr?g.jsxs(g.Fragment,{children:[g.jsx(Cp,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),g.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):g.jsxs(g.Fragment,{children:[g.jsx(SA,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),g.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):g.jsx("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative",children:pt==="map"?g.jsx(PTe,{clients:Ie,apiKey:Ht,onInvalidKey:ii,productFilterActive:$s,highlightProductTerm:X,activeProductCategory:_e,users:e,filterContent:g.jsxs("div",{className:"bg-gray-100/95 backdrop-blur-sm px-3 py-2 flex flex-col gap-1.5",children:[g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"relative",children:[g.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"text",value:M,onChange:se=>D(se.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-48 border outline-none",title:"Buscar cliente ou empresa"})]}),g.jsx("div",{className:"h-5 w-px bg-gray-300 mx-0.5 hidden sm:block"}),g.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${Dt?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${Dt?"text-purple-600":"text-gray-500"}`,children:[Dt?g.jsx(tx,{className:"w-3 h-3"}):g.jsx(ca,{className:"w-3 h-3"}),Fr?"Admin":Dt?"Gesto":"Vendedor"]}),g.jsxs("div",{className:"relative",children:[g.jsx(ca,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${Dt?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:Dt?fe:r?.id||"",onChange:se=>Dt&&me(se.target.value),disabled:!Dt,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${Dt?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:Dt?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[Dt&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),Dt?e.filter(se=>se.role==="salesperson"||se.role==="sales_external"||se.role==="sales_internal").map(se=>g.jsx("option",{value:se.id,children:se.name},se.id)):g.jsx("option",{value:r?.id,children:r?.name})]})]}),Dt&&g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(as,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:ne,onChange:se=>ue(se.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[g.jsx("option",{value:"Todos",children:"Todas Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),g.jsxs("select",{value:P,onChange:se=>{N(se.target.value),O("Todos"),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio",children:[g.jsx("option",{value:"Todas",children:"Todas Regies"}),fh.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:I,onChange:se=>{O(se.target.value),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ge.length===0,title:"Filtrar por estado",children:[g.jsx("option",{value:"Todos",children:"Todos Estados"}),ge.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("select",{value:U,onChange:se=>B(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:I==="Todos"||De.length===0,title:"Filtrar por cidade",children:[g.jsx("option",{value:"Todas",children:"Todas Cidades"}),De.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(ro,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:F,onChange:se=>H(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[g.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),m.map(se=>g.jsx("option",{value:se,children:se},se))]})]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(as,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:ce,onChange:se=>ae(se.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[g.jsx("option",{value:"Todos",children:"Todos CNAEs"}),K.map(se=>g.jsx("option",{value:se,children:se.length>40?se.substring(0,40)+"...":se},se))]})]}),Fr&&g.jsxs("button",{onClick:Ee,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[g.jsx(TA,{className:"w-3.5 h-3.5"})," Atualizar Base (CNPJa)"]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[g.jsx(ao,{className:"w-4 h-4"}),"Vendas:"]}),g.jsxs("select",{value:_e,onChange:se=>J(se.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${_e!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[g.jsx("option",{value:"Todos",children:"Todos Deptos / Marcas"}),Ye.map(se=>g.jsx("option",{value:se,children:se},se))]}),g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(ro,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${V!=="Todos"?"text-green-600":"text-gray-400"}`}),g.jsxs("select",{value:V,onChange:se=>ee(se.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${V!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por SKU do produto",children:[g.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(se=>_e==="Todos"||se.category===_e).sort((se,Me)=>(se.name||"").localeCompare(Me.name||"")).map(se=>g.jsxs("option",{value:se.sku,children:[se.name.substring(0,30),"... (",se.sku,")"]},se.sku))]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(so,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),g.jsx("input",{type:"text",value:X,onChange:se=>q(se.target.value),placeholder:"Depto, Marca, SKU ou Produto...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-52 transition-colors ${X?"bg-green-50 border-green-300":"border-gray-300"}`})]}),g.jsxs("div",{className:"flex gap-1 ml-1",children:[g.jsx("button",{onClick:()=>Ke(!0),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${Ue?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-200 text-gray-500 hover:border-green-400 hover:text-green-600"}`,children:"Com Compras"}),g.jsx("button",{onClick:()=>Ke(!1),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${Ue?"bg-white border-gray-200 text-gray-500 hover:border-blue-400 hover:text-blue-600":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Todos"})]}),$s&&g.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[g.jsx(af,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]})]})]})},`${Et}-${_r}`):pt==="table"?g.jsx(DTe,{clients:Ie,onUpdateClient:pr,onAddClient:mr,currentUserRole:r?.role,currentUserId:r?.id,currentUserName:r?.name,products:d,productCategories:Ye,filterOnlyWithPurchases:Ue,setFilterOnlyWithPurchases:Ke,resetFilters:ht,users:e,uploadedFiles:x,onGeneratePlusCodes:st,onCNPJAuthError:()=>Ea(!0)}):pt==="history"?g.jsx(B8e,{clients:Ie,users:e,startDate:ze,endDate:Je,onRangeChange:(se,Me)=>{Le(se),et(Me)}}):null})})]}),bu&&r?.role==="admin_dev"&&g.jsx(D8e,{currentUser:r,onClose:()=>ds(!1)}),ft.isActive&&g.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[g.jsx("div",{className:`h-1.5 w-full ${ft.status==="error"?"bg-red-200":"bg-blue-100"}`,children:g.jsx("div",{className:`h-full transition-all duration-300 ${ft.status==="completed"?"bg-green-500 w-full":ft.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:ft.total>0?`${ft.current/ft.total*100}%`:"0%"}})}),g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[ft.status==="completed"&&g.jsx(af,{className:"w-4 h-4 text-green-500"}),ft.status==="processing"&&g.jsx($c,{className:"w-4 h-4 text-blue-500 animate-spin"}),ft.status==="error"&&g.jsx(Gi,{className:"w-4 h-4 text-red-500"}),ft.status==="reading"?"Lendo Arquivo...":ft.status==="processing"?"Processando Planilha":ft.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ft.fileName," ",g.jsx("span",{className:"mx-1",children:""})," ",ft.ownerName]})]}),g.jsx("button",{onClick:()=>{ft.isActive&&ft.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(re.current=!0,Mt(se=>({...se,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):Mt(se=>({...se,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",title:"Fechar Notificao",children:g.jsx(ha,{className:"w-4 h-4"})})]}),ft.status==="processing"&&g.jsxs("div",{className:"mt-3",children:[g.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[g.jsx("span",{children:"Progresso (IA + Maps)"}),g.jsxs("span",{className:"font-mono",children:[ft.current," / ",ft.total]})]}),g.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),ft.status==="error"&&g.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:ft.errorMessage})]})]})]})]}),g.jsx(U8e,{isOpen:Xi.isOpen,onClose:()=>Ha(se=>({...se,isOpen:!1})),onConfirm:Xi.onConfirm,title:Xi.title,message:Xi.message,type:Xi.type,confirmLabel:Xi.confirmLabel,cancelLabel:Xi.cancelLabel})]}):g.jsx(sAe,{progress:L,message:k})};class H8e extends Ir.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:g.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[g.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[g.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:g.jsx(Gi,{className:"w-8 h-8"})}),g.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),g.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:this.state.error?.toString()}),g.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const mW=document.getElementById("root");if(!mW)throw new Error("Could not find root element to mount to");const G8e=nJ.createRoot(mW);G8e.render(g.jsx(Ir.StrictMode,{children:g.jsx(H8e,{children:g.jsx($8e,{})})}));
