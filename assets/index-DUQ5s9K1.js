function BY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function js(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yw={exports:{}},V0={};var HO;function VY(){if(HO)return V0;HO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:e,type:n,key:s,ref:i!==void 0?i:null,props:a}}return V0.Fragment=t,V0.jsx=r,V0.jsxs=r,V0}var GO;function zY(){return GO||(GO=1,Yw.exports=VY()),Yw.exports}var g=zY(),Jw={exports:{}},kt={};var qO;function $Y(){if(qO)return kt;qO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),m=Symbol.iterator;function y(J){return J===null||typeof J!="object"?null:(J=m&&J[m]||J["@@iterator"],typeof J=="function"?J:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,E={};function S(J,V,ee){this.props=J,this.context=V,this.refs=E,this.updater=ee||x}S.prototype.isReactComponent={},S.prototype.setState=function(J,V){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,V,"setState")},S.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function F(){}F.prototype=S.prototype;function k(J,V,ee){this.props=J,this.context=V,this.refs=E,this.updater=ee||x}var M=k.prototype=new F;M.constructor=k,b(M,S.prototype),M.isPureReactComponent=!0;var D=Array.isArray;function P(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function R(J,V,ee){var X=ee.ref;return{$$typeof:e,type:J,key:V,ref:X!==void 0?X:null,props:ee}}function U(J,V){return R(J.type,V,J.props)}function B(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function L(J){var V={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ee){return V[ee]})}var H=/\/+/g;function fe(J,V){return typeof J=="object"&&J!==null&&J.key!=null?L(""+J.key):V.toString(36)}function me(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(P,P):(J.status="pending",J.then(function(V){J.status==="pending"&&(J.status="fulfilled",J.value=V)},function(V){J.status==="pending"&&(J.status="rejected",J.reason=V)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function ne(J,V,ee,X,q){var he=typeof J;(he==="undefined"||he==="boolean")&&(J=null);var ye=!1;if(J===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(J.$$typeof){case e:case t:ye=!0;break;case d:return ye=J._init,ne(ye(J._payload),V,ee,X,q)}}if(ye)return q=q(J),ye=X===""?"."+fe(J,0):X,D(q)?(ee="",ye!=null&&(ee=ye.replace(H,"$&/")+"/"),ne(q,V,ee,"",function(ge){return ge})):q!=null&&(B(q)&&(q=U(q,ee+(q.key==null||J&&J.key===q.key?"":(""+q.key).replace(H,"$&/")+"/")+ye)),V.push(q)),1;ye=0;var Ie=X===""?".":X+":";if(D(J))for(var oe=0;oe<J.length;oe++)X=J[oe],he=Ie+fe(X,oe),ye+=ne(X,V,ee,he,q);else if(oe=y(J),typeof oe=="function")for(J=oe.call(J),oe=0;!(X=J.next()).done;)X=X.value,he=Ie+fe(X,oe++),ye+=ne(X,V,ee,he,q);else if(he==="object"){if(typeof J.then=="function")return ne(me(J),V,ee,X,q);throw V=String(J),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ye}function ue(J,V,ee){if(J==null)return J;var X=[],q=0;return ne(J,X,"","",function(he){return V.call(ee,he,q++)}),X}function ce(J){if(J._status===-1){var V=J._result;V=V(),V.then(function(ee){(J._status===0||J._status===-1)&&(J._status=1,J._result=ee)},function(ee){(J._status===0||J._status===-1)&&(J._status=2,J._result=ee)}),J._status===-1&&(J._status=0,J._result=V)}if(J._status===1)return J._result.default;throw J._result}var ie=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},xe={map:ue,forEach:function(J,V,ee){ue(J,function(){V.apply(this,arguments)},ee)},count:function(J){var V=0;return ue(J,function(){V++}),V},toArray:function(J){return ue(J,function(V){return V})||[]},only:function(J){if(!B(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return kt.Activity=h,kt.Children=xe,kt.Component=S,kt.Fragment=r,kt.Profiler=i,kt.PureComponent=k,kt.StrictMode=n,kt.Suspense=c,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,kt.__COMPILER_RUNTIME={__proto__:null,c:function(J){return N.H.useMemoCache(J)}},kt.cache=function(J){return function(){return J.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(J,V,ee){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var X=b({},J.props),q=J.key;if(V!=null)for(he in V.key!==void 0&&(q=""+V.key),V)!I.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(X[he]=V[he]);var he=arguments.length-2;if(he===1)X.children=ee;else if(1<he){for(var ye=Array(he),Ie=0;Ie<he;Ie++)ye[Ie]=arguments[Ie+2];X.children=ye}return R(J.type,q,X)},kt.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},kt.createElement=function(J,V,ee){var X,q={},he=null;if(V!=null)for(X in V.key!==void 0&&(he=""+V.key),V)I.call(V,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(q[X]=V[X]);var ye=arguments.length-2;if(ye===1)q.children=ee;else if(1<ye){for(var Ie=Array(ye),oe=0;oe<ye;oe++)Ie[oe]=arguments[oe+2];q.children=Ie}if(J&&J.defaultProps)for(X in ye=J.defaultProps,ye)q[X]===void 0&&(q[X]=ye[X]);return R(J,he,q)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(J){return{$$typeof:o,render:J}},kt.isValidElement=B,kt.lazy=function(J){return{$$typeof:d,_payload:{_status:-1,_result:J},_init:ce}},kt.memo=function(J,V){return{$$typeof:u,type:J,compare:V===void 0?null:V}},kt.startTransition=function(J){var V=N.T,ee={};N.T=ee;try{var X=J(),q=N.S;q!==null&&q(ee,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(P,ie)}catch(he){ie(he)}finally{V!==null&&ee.types!==null&&(V.types=ee.types),N.T=V}},kt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},kt.use=function(J){return N.H.use(J)},kt.useActionState=function(J,V,ee){return N.H.useActionState(J,V,ee)},kt.useCallback=function(J,V){return N.H.useCallback(J,V)},kt.useContext=function(J){return N.H.useContext(J)},kt.useDebugValue=function(){},kt.useDeferredValue=function(J,V){return N.H.useDeferredValue(J,V)},kt.useEffect=function(J,V){return N.H.useEffect(J,V)},kt.useEffectEvent=function(J){return N.H.useEffectEvent(J)},kt.useId=function(){return N.H.useId()},kt.useImperativeHandle=function(J,V,ee){return N.H.useImperativeHandle(J,V,ee)},kt.useInsertionEffect=function(J,V){return N.H.useInsertionEffect(J,V)},kt.useLayoutEffect=function(J,V){return N.H.useLayoutEffect(J,V)},kt.useMemo=function(J,V){return N.H.useMemo(J,V)},kt.useOptimistic=function(J,V){return N.H.useOptimistic(J,V)},kt.useReducer=function(J,V,ee){return N.H.useReducer(J,V,ee)},kt.useRef=function(J){return N.H.useRef(J)},kt.useState=function(J){return N.H.useState(J)},kt.useSyncExternalStore=function(J,V,ee){return N.H.useSyncExternalStore(J,V,ee)},kt.useTransition=function(){return N.H.useTransition()},kt.version="19.2.4",kt}var KO;function kh(){return KO||(KO=1,Jw.exports=$Y()),Jw.exports}var O=kh();const Ir=js(O),HY=BY({__proto__:null,default:Ir},[O]);var Xw={exports:{}},z0={},Zw={exports:{}},Qw={};var WO;function GY(){return WO||(WO=1,(function(e){function t(ne,ue){var ce=ne.length;ne.push(ue);e:for(;0<ce;){var ie=ce-1>>>1,xe=ne[ie];if(0<i(xe,ue))ne[ie]=ue,ne[ce]=xe,ce=ie;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ue=ne[0],ce=ne.pop();if(ce!==ue){ne[0]=ce;e:for(var ie=0,xe=ne.length,J=xe>>>1;ie<J;){var V=2*(ie+1)-1,ee=ne[V],X=V+1,q=ne[X];if(0>i(ee,ce))X<xe&&0>i(q,ee)?(ne[ie]=q,ne[X]=ce,ie=X):(ne[ie]=ee,ne[V]=ce,ie=V);else if(X<xe&&0>i(q,ce))ne[ie]=q,ne[X]=ce,ie=X;else break e}}return ue}function i(ne,ue){var ce=ne.sortIndex-ue.sortIndex;return ce!==0?ce:ne.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,h=null,m=3,y=!1,x=!1,b=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(ne){for(var ue=r(u);ue!==null;){if(ue.callback===null)n(u);else if(ue.startTime<=ne)n(u),ue.sortIndex=ue.expirationTime,t(c,ue);else break;ue=r(u)}}function D(ne){if(b=!1,M(ne),!x)if(r(c)!==null)x=!0,P||(P=!0,L());else{var ue=r(u);ue!==null&&me(D,ue.startTime-ne)}}var P=!1,N=-1,I=5,R=-1;function U(){return E?!0:!(e.unstable_now()-R<I)}function B(){if(E=!1,P){var ne=e.unstable_now();R=ne;var ue=!0;try{e:{x=!1,b&&(b=!1,F(N),N=-1),y=!0;var ce=m;try{t:{for(M(ne),h=r(c);h!==null&&!(h.expirationTime>ne&&U());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,m=h.priorityLevel;var xe=ie(h.expirationTime<=ne);if(ne=e.unstable_now(),typeof xe=="function"){h.callback=xe,M(ne),ue=!0;break t}h===r(c)&&n(c),M(ne)}else n(c);h=r(c)}if(h!==null)ue=!0;else{var J=r(u);J!==null&&me(D,J.startTime-ne),ue=!1}}break e}finally{h=null,m=ce,y=!1}ue=void 0}}finally{ue?L():P=!1}}}var L;if(typeof k=="function")L=function(){k(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,fe=H.port2;H.port1.onmessage=B,L=function(){fe.postMessage(null)}}else L=function(){S(B,0)};function me(ne,ue){N=S(function(){ne(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(ne){switch(m){case 1:case 2:case 3:var ue=3;break;default:ue=m}var ce=m;m=ue;try{return ne()}finally{m=ce}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(ne,ue){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=m;m=ne;try{return ue()}finally{m=ce}},e.unstable_scheduleCallback=function(ne,ue,ce){var ie=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ie+ce:ie):ce=ie,ne){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ce+xe,ne={id:d++,callback:ue,priorityLevel:ne,startTime:ce,expirationTime:xe,sortIndex:-1},ce>ie?(ne.sortIndex=ce,t(u,ne),r(c)===null&&ne===r(u)&&(b?(F(N),N=-1):b=!0,me(D,ce-ie))):(ne.sortIndex=xe,t(c,ne),x||y||(x=!0,P||(P=!0,L()))),ne},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(ne){var ue=m;return function(){var ce=m;m=ue;try{return ne.apply(this,arguments)}finally{m=ce}}}})(Qw)),Qw}var YO;function qY(){return YO||(YO=1,Zw.exports=GY()),Zw.exports}var eE={exports:{}},Fi={};var JO;function KY(){if(JO)return Fi;JO=1;var e=kh();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,u,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:u,implementation:d}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Fi.createPortal=function(c,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return a(c,u,null,d)},Fi.flushSync=function(c){var u=s.T,d=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=u,n.p=d,n.d.f()}},Fi.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},Fi.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Fi.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:y}):d==="script"&&n.d.X(c,{crossOrigin:h,integrity:m,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Fi.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},Fi.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,h=o(d,u.crossOrigin);n.d.L(c,d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Fi.preloadModule=function(c,u){if(typeof c=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},Fi.requestFormReset=function(c){n.d.r(c)},Fi.unstable_batchedUpdates=function(c,u){return c(u)},Fi.useFormState=function(c,u,d){return s.H.useFormState(c,u,d)},Fi.useFormStatus=function(){return s.H.useHostTransitionStatus()},Fi.version="19.2.4",Fi}var XO;function X8(){if(XO)return eE.exports;XO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),eE.exports=KY(),eE.exports}var ZO;function WY(){if(ZO)return z0;ZO=1;var e=qY(),t=kh(),r=X8();function n(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,p=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(p=f.return),l=f.return;while(l)}return f.tag===3?p:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function u(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(n(188));return f!==l?null:l}for(var p=l,v=f;;){var A=p.return;if(A===null)break;var C=A.alternate;if(C===null){if(v=A.return,v!==null){p=v;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===p)return c(A),l;if(C===v)return c(A),f;C=C.sibling}throw Error(n(188))}if(p.return!==v.return)p=A,v=C;else{for(var z=!1,Y=A.child;Y;){if(Y===p){z=!0,p=A,v=C;break}if(Y===v){z=!0,v=A,p=C;break}Y=Y.sibling}if(!z){for(Y=C.child;Y;){if(Y===p){z=!0,p=C,v=A;break}if(Y===v){z=!0,v=C,p=A;break}Y=Y.sibling}if(!z)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:f}function d(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=d(l),f!==null)return f;l=l.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:(l=B&&l[B]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function fe(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case b:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case R:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case x:return"Portal";case k:return l.displayName||"Context";case F:return(l._context.displayName||"Context")+".Consumer";case M:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return f=l.displayName||null,f!==null?f:fe(l.type)||"Memo";case I:f=l._payload,l=l._init;try{return fe(l(f))}catch{}}return null}var me=Array.isArray,ne=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ie=[],xe=-1;function J(l){return{current:l}}function V(l){0>xe||(l.current=ie[xe],ie[xe]=null,xe--)}function ee(l,f){xe++,ie[xe]=l.current,l.current=f}var X=J(null),q=J(null),he=J(null),ye=J(null);function Ie(l,f){switch(ee(he,f),ee(q,l),ee(X,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?hO(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=hO(f),l=pO(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}V(X),ee(X,l)}function oe(){V(X),V(q),V(he)}function ge(l){l.memoizedState!==null&&ee(ye,l);var f=X.current,p=pO(f,l.type);f!==p&&(ee(q,l),ee(X,p))}function De(l){q.current===l&&(V(X),V(q)),ye.current===l&&(V(ye),L0._currentValue=ce)}var K,Ye;function Ue(l){if(K===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);K=f&&f[1]||"",Ye=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+l+Ye}var Ke=!1;function ze(l,f){if(!l||Ke)return"";Ke=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(f){var Be=function(){throw Error()};if(Object.defineProperty(Be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Be,[])}catch(Pe){var Ne=Pe}Reflect.construct(l,[],Be)}else{try{Be.call()}catch(Pe){Ne=Pe}l.call(Be.prototype)}}else{try{throw Error()}catch(Pe){Ne=Pe}(Be=l())&&typeof Be.catch=="function"&&Be.catch(function(){})}}catch(Pe){if(Pe&&Ne&&typeof Pe.stack=="string")return[Pe.stack,Ne.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),z=C[0],Y=C[1];if(z&&Y){var de=z.split(`
`),Se=Y.split(`
`);for(A=v=0;v<de.length&&!de[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Se.length&&!Se[A].includes("DetermineComponentFrameRoot");)A++;if(v===de.length||A===Se.length)for(v=de.length-1,A=Se.length-1;1<=v&&0<=A&&de[v]!==Se[A];)A--;for(;1<=v&&0<=A;v--,A--)if(de[v]!==Se[A]){if(v!==1||A!==1)do if(v--,A--,0>A||de[v]!==Se[A]){var Me=`
`+de[v].replace(" at new "," at ");return l.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",l.displayName)),Me}while(1<=v&&0<=A);break}}}finally{Ke=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Ue(p):""}function Fe(l,f){switch(l.tag){case 26:case 27:case 5:return Ue(l.type);case 16:return Ue("Lazy");case 13:return l.child!==f&&f!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return ze(l.type,!1);case 11:return ze(l.type.render,!1);case 1:return ze(l.type,!0);case 31:return Ue("Activity");default:return""}}function Je(l){try{var f="",p=null;do f+=Fe(l,p),p=l,l=l.return;while(l);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var et=Object.prototype.hasOwnProperty,ht=e.unstable_scheduleCallback,It=e.unstable_cancelCallback,Gr=e.unstable_shouldYield,Br=e.unstable_requestPaint,_t=e.unstable_now,xr=e.unstable_getCurrentPriorityLevel,qt=e.unstable_ImmediatePriority,Er=e.unstable_UserBlockingPriority,ft=e.unstable_NormalPriority,Ot=e.unstable_LowPriority,wt=e.unstable_IdlePriority,tr=e.log,$t=e.unstable_setDisableYieldValue,Bt=null,_r=null;function xi(l){if(typeof tr=="function"&&$t(l),_r&&typeof _r.setStrictMode=="function")try{_r.setStrictMode(Bt,l)}catch{}}var mt=Math.clz32?Math.clz32:nl,va=Math.log,yo=Math.LN2;function nl(l){return l>>>=0,l===0?32:31-(va(l)/yo|0)|0}var ya=256,xo=262144,Xr=4194304;function ri(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function za(l,f,p){var v=l.pendingLanes;if(v===0)return 0;var A=0,C=l.suspendedLanes,z=l.pingedLanes;l=l.warmLanes;var Y=v&134217727;return Y!==0?(v=Y&~C,v!==0?A=ri(v):(z&=Y,z!==0?A=ri(z):p||(p=Y&~l,p!==0&&(A=ri(p))))):(Y=v&~C,Y!==0?A=ri(Y):z!==0?A=ri(z):p||(p=v&~l,p!==0&&(A=ri(p)))),A===0?0:f!==0&&f!==A&&(f&C)===0&&(C=A&-A,p=f&-f,C>=p||C===32&&(p&4194048)!==0)?f:A}function xa(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function xu(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var l=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),l}function _a(l){for(var f=[],p=0;31>p;p++)f.push(l);return f}function ba(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function _u(l,f,p,v,A,C){var z=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var Y=l.entanglements,de=l.expirationTimes,Se=l.hiddenUpdates;for(p=z&~p;0<p;){var Me=31-mt(p),Be=1<<Me;Y[Me]=0,de[Me]=-1;var Ne=Se[Me];if(Ne!==null)for(Se[Me]=null,Me=0;Me<Ne.length;Me++){var Pe=Ne[Me];Pe!==null&&(Pe.lane&=-536870913)}p&=~Be}v!==0&&_i(l,v,0),C!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=C&~(z&~f))}function _i(l,f,p){l.pendingLanes|=f,l.suspendedLanes&=~f;var v=31-mt(f);l.entangledLanes|=f,l.entanglements[v]=l.entanglements[v]|1073741824|p&261930}function $a(l,f){var p=l.entangledLanes|=f;for(l=l.entanglements;p;){var v=31-mt(p),A=1<<v;A&f|l[v]&f&&(l[v]|=f),p&=~A}}function Di(l,f){var p=f&-f;return p=(p&42)!==0?1:Zi(p),(p&(l.suspendedLanes|f))!==0?0:p}function Zi(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Pn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function W(){var l=ue.p;return l!==0?l:(l=window.event,l===void 0?32:LO(l.type))}function ae(l,f){var p=ue.p;try{return ue.p=l,f()}finally{ue.p=p}}var Z=Math.random().toString(36).slice(2),te="__reactFiber$"+Z,re="__reactProps$"+Z,se="__reactContainer$"+Z,we="__reactEvents$"+Z,Re="__reactListeners$"+Z,Ee="__reactHandles$"+Z,Ce="__reactResources$"+Z,Ae="__reactMarker$"+Z;function Ge(l){delete l[te],delete l[re],delete l[we],delete l[Re],delete l[Ee]}function We(l){var f=l[te];if(f)return f;for(var p=l.parentNode;p;){if(f=p[se]||p[te]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(l=bO(l);l!==null;){if(p=l[te])return p;l=bO(l)}return f}l=p,p=l.parentNode}return null}function Ze(l){if(l=l[te]||l[se]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function He(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(n(33))}function Xe(l){var f=l[Ce];return f||(f=l[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function ot(l){l[Ae]=!0}var mr=new Set,gr={};function Tr(l,f){ni(l,f),ni(l+"Capture",f)}function ni(l,f){for(gr[l]=f,l=0;l<f.length;l++)mr.add(f[l])}var Ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ga={},Qi={};function bo(l){return et.call(Qi,l)?!0:et.call(Ga,l)?!1:Ha.test(l)?Qi[l]=!0:(Ga[l]=!0,!1)}function ii(l,f,p){if(bo(f))if(p===null)l.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var v=f.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+p)}}function ea(l,f,p){if(p===null)l.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+p)}}function ln(l,f,p,v){if(v===null)l.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(f,p,""+v)}}function cn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Pr(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function rr(l,f,p){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,C=v.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return A.call(this)},set:function(z){p=""+z,C.call(this,z)}}),Object.defineProperty(l,f,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(z){p=""+z},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function nr(l){if(!l._valueTracker){var f=Pr(l)?"checked":"value";l._valueTracker=rr(l,f,""+l[f])}}function le(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var p=f.getValue(),v="";return l&&(v=Pr(l)?l.checked?"true":"false":l.value),l=v,l!==p?(f.setValue(l),!0):!1}function Oe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var qe=/[\n"\\]/g;function tt(l){return l.replace(qe,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function gt(l,f,p,v,A,C,z,Y){l.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.type=z:l.removeAttribute("type"),f!=null?z==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+cn(f)):l.value!==""+cn(f)&&(l.value=""+cn(f)):z!=="submit"&&z!=="reset"||l.removeAttribute("value"),f!=null?Et(l,z,cn(f)):p!=null?Et(l,z,cn(p)):v!=null&&l.removeAttribute("value"),A==null&&C!=null&&(l.defaultChecked=!!C),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?l.name=""+cn(Y):l.removeAttribute("name")}function Dt(l,f,p,v,A,C,z,Y){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),f!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||f!=null)){nr(l);return}p=p!=null?""+cn(p):"",f=f!=null?""+cn(f):p,Y||f===l.value||(l.value=f),l.defaultValue=f}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=Y?l.checked:!!v,l.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(l.name=z),nr(l)}function Et(l,f,p){f==="number"&&Oe(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function pt(l,f,p,v){if(l=l.options,f){f={};for(var A=0;A<p.length;A++)f["$"+p[A]]=!0;for(p=0;p<l.length;p++)A=f.hasOwnProperty("$"+l[p].value),l[p].selected!==A&&(l[p].selected=A),A&&v&&(l[p].defaultSelected=!0)}else{for(p=""+cn(p),f=null,A=0;A<l.length;A++){if(l[A].value===p){l[A].selected=!0,v&&(l[A].defaultSelected=!0);return}f!==null||l[A].disabled||(f=l[A])}f!==null&&(f.selected=!0)}}function Mt(l,f,p){if(f!=null&&(f=""+cn(f),f!==l.value&&(l.value=f),p==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=p!=null?""+cn(p):""}function Vt(l,f,p,v){if(f==null){if(v!=null){if(p!=null)throw Error(n(92));if(me(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),f=p}p=cn(f),l.defaultValue=p,v=l.textContent,v===p&&v!==""&&v!==null&&(l.value=v),nr(l)}function St(l,f){if(f){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=f;return}}l.textContent=f}var Xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rn(l,f,p){var v=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":v?l.setProperty(f,p):typeof p!="number"||p===0||Xt.has(f)?f==="float"?l.cssFloat=p:l[f]=(""+p).trim():l[f]=p+"px"}function Zt(l,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(l=l.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||f!=null&&f.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var A in f)v=f[A],f.hasOwnProperty(A)&&p[A]!==v&&Rn(l,A,v)}else for(var C in f)f.hasOwnProperty(C)&&Rn(l,C,f[C])}function ai(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(l){return Ar.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function wa(){}var un=null;function si(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ds=null,wo=null;function bu(l){var f=Ze(l);if(f&&(l=f.stateNode)){var p=l[re]||null;e:switch(l=f.stateNode,f.type){case"input":if(gt(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+tt(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var v=p[f];if(v!==l&&v.form===l.form){var A=v[re]||null;if(!A)throw Error(n(90));gt(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(f=0;f<p.length;f++)v=p[f],v.form===l.form&&le(v)}break e;case"textarea":Mt(l,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&pt(l,!!p.multiple,f,!1)}}}var Yf=!1;function rc(l,f,p){if(Yf)return l(f,p);Yf=!0;try{var v=l(f);return v}finally{if(Yf=!1,(ds!==null||wo!==null)&&(cv(),ds&&(f=ds,l=wo,wo=ds=null,bu(f),l)))for(f=0;f<l.length;f++)bu(l[f])}}function zs(l,f){var p=l.stateNode;if(p===null)return null;var v=p[re]||null;if(v===null)return null;p=v[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wu=!1;if(hs)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){wu=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{wu=!1}var Eo=null,e0=null,Eu=null;function t0(){if(Eu)return Eu;var l,f=e0,p=f.length,v,A="value"in Eo?Eo.value:Eo.textContent,C=A.length;for(l=0;l<p&&f[l]===A[l];l++);var z=p-l;for(v=1;v<=z&&f[p-v]===A[C-v];v++);return Eu=A.slice(l,1<v?1-v:void 0)}function Tu(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function il(){return!0}function $s(){return!1}function bi(l){function f(p,v,A,C,z){this._reactName=p,this._targetInst=A,this.type=v,this.nativeEvent=C,this.target=z,this.currentTarget=null;for(var Y in l)l.hasOwnProperty(Y)&&(p=l[Y],this[Y]=p?p(C):C[Y]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?il:$s,this.isPropagationStopped=$s,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=il)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=il)},persist:function(){},isPersistent:il}),f}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=bi(al),nc=h({},al,{view:0,detail:0}),r0=bi(nc),ic,Jf,Ao,Xf=h({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ac,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ao&&(Ao&&l.type==="mousemove"?(ic=l.screenX-Ao.screenX,Jf=l.screenY-Ao.screenY):Jf=ic=0,Ao=l),ic)},movementY:function(l){return"movementY"in l?l.movementY:Jf}}),n0=bi(Xf),Au=h({},Xf,{dataTransfer:0}),vg=bi(Au),yg=h({},nc,{relatedTarget:0}),Su=bi(yg),i0=h({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=bi(i0),Zf=h({},al,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),_g=bi(Zf),bg=h({},al,{data:0}),So=bi(bg),wg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ag(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=Tg[l])?!!f[l]:!1}function ac(){return Ag}var ra=h({},nc,{key:function(l){if(l.key){var f=wg[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=Tu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Eg[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ac,charCode:function(l){return l.type==="keypress"?Tu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Tu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Sg=bi(ra),Cg=h({},Xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=bi(Cg),T=h({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ac}),j=bi(T),G=h({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=bi(G),_e=h({},Xf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),ke=bi(_e),Qe=h({},al,{newState:0,oldState:0}),Ft=bi(Qe),En=[9,13,27,32],vr=hs&&"CompositionEvent"in window,Zr=null;hs&&"documentMode"in document&&(Zr=document.documentMode);var ps=hs&&"TextEvent"in window&&!Zr,Co=hs&&(!vr||Zr&&8<Zr&&11>=Zr),Hs=" ",Gs=!1;function Cu(l,f){switch(l){case"keyup":return En.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ed=!1;function uW(l,f){switch(l){case"compositionend":return Qf(f);case"keypress":return f.which!==32?null:(Gs=!0,Hs);case"textInput":return l=f.data,l===Hs&&Gs?null:l;default:return null}}function fW(l,f){if(ed)return l==="compositionend"||!vr&&Cu(l,f)?(l=t0(),Eu=e0=Eo=null,ed=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Co&&f.locale!=="ko"?null:f.data;default:return null}}var dW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tk(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!dW[l.type]:f==="textarea"}function Ak(l,f,p,v){ds?wo?wo.push(v):wo=[v]:ds=v,f=gv(f,"onChange"),0<f.length&&(p=new To("onChange","change",null,p,v),l.push({event:p,listeners:f}))}var a0=null,s0=null;function hW(l){oO(l,0)}function Ng(l){var f=He(l);if(le(f))return l}function Sk(l,f){if(l==="change")return f}var Ck=!1;if(hs){var rb;if(hs){var nb="oninput"in document;if(!nb){var Nk=document.createElement("div");Nk.setAttribute("oninput","return;"),nb=typeof Nk.oninput=="function"}rb=nb}else rb=!1;Ck=rb&&(!document.documentMode||9<document.documentMode)}function Ik(){a0&&(a0.detachEvent("onpropertychange",kk),s0=a0=null)}function kk(l){if(l.propertyName==="value"&&Ng(s0)){var f=[];Ak(f,s0,l,si(l)),rc(hW,f)}}function pW(l,f,p){l==="focusin"?(Ik(),a0=f,s0=p,a0.attachEvent("onpropertychange",kk)):l==="focusout"&&Ik()}function mW(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ng(s0)}function gW(l,f){if(l==="click")return Ng(f)}function vW(l,f){if(l==="input"||l==="change")return Ng(f)}function yW(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var Ka=typeof Object.is=="function"?Object.is:yW;function o0(l,f){if(Ka(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var p=Object.keys(l),v=Object.keys(f);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var A=p[v];if(!et.call(f,A)||!Ka(l[A],f[A]))return!1}return!0}function Pk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Rk(l,f){var p=Pk(l);l=0;for(var v;p;){if(p.nodeType===3){if(v=l+p.textContent.length,l<=f&&v>=f)return{node:p,offset:f-l};l=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Pk(p)}}function Ok(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?Ok(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function Mk(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=Oe(l.document);f instanceof l.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)l=f.contentWindow;else break;f=Oe(l.document)}return f}function ib(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var xW=hs&&"documentMode"in document&&11>=document.documentMode,td=null,ab=null,l0=null,sb=!1;function Dk(l,f,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;sb||td==null||td!==Oe(v)||(v=td,"selectionStart"in v&&ib(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),l0&&o0(l0,v)||(l0=v,v=gv(ab,"onSelect"),0<v.length&&(f=new To("onSelect","select",null,f,p),l.push({event:f,listeners:v}),f.target=td)))}function Nu(l,f){var p={};return p[l.toLowerCase()]=f.toLowerCase(),p["Webkit"+l]="webkit"+f,p["Moz"+l]="moz"+f,p}var rd={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionrun:Nu("Transition","TransitionRun"),transitionstart:Nu("Transition","TransitionStart"),transitioncancel:Nu("Transition","TransitionCancel"),transitionend:Nu("Transition","TransitionEnd")},ob={},Fk={};hs&&(Fk=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function Iu(l){if(ob[l])return ob[l];if(!rd[l])return l;var f=rd[l],p;for(p in f)if(f.hasOwnProperty(p)&&p in Fk)return ob[l]=f[p];return l}var Lk=Iu("animationend"),jk=Iu("animationiteration"),Uk=Iu("animationstart"),_W=Iu("transitionrun"),bW=Iu("transitionstart"),wW=Iu("transitioncancel"),Bk=Iu("transitionend"),Vk=new Map,lb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lb.push("scrollEnd");function qs(l,f){Vk.set(l,f),Tr(f,[l])}var Ig=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ms=[],nd=0,cb=0;function kg(){for(var l=nd,f=cb=nd=0;f<l;){var p=ms[f];ms[f++]=null;var v=ms[f];ms[f++]=null;var A=ms[f];ms[f++]=null;var C=ms[f];if(ms[f++]=null,v!==null&&A!==null){var z=v.pending;z===null?A.next=A:(A.next=z.next,z.next=A),v.pending=A}C!==0&&zk(p,A,C)}}function Pg(l,f,p,v){ms[nd++]=l,ms[nd++]=f,ms[nd++]=p,ms[nd++]=v,cb|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function ub(l,f,p,v){return Pg(l,f,p,v),Rg(l)}function ku(l,f){return Pg(l,null,null,f),Rg(l)}function zk(l,f,p){l.lanes|=p;var v=l.alternate;v!==null&&(v.lanes|=p);for(var A=!1,C=l.return;C!==null;)C.childLanes|=p,v=C.alternate,v!==null&&(v.childLanes|=p),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(A=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,A&&f!==null&&(A=31-mt(p),l=C.hiddenUpdates,v=l[A],v===null?l[A]=[f]:v.push(f),f.lane=p|536870912),C):null}function Rg(l){if(50<k0)throw k0=0,xw=null,Error(n(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var id={};function EW(l,f,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(l,f,p,v){return new EW(l,f,p,v)}function fb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ol(l,f){var p=l.alternate;return p===null?(p=Wa(l.tag,f,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=f,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,f=l.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function $k(l,f){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,f=p.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Og(l,f,p,v,A,C){var z=0;if(v=l,typeof l=="function")fb(l)&&(z=1);else if(typeof l=="string")z=NY(l,p,X.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case R:return l=Wa(31,p,f,A),l.elementType=R,l.lanes=C,l;case b:return Pu(p.children,A,C,f);case E:z=8,A|=24;break;case S:return l=Wa(12,p,f,A|2),l.elementType=S,l.lanes=C,l;case D:return l=Wa(13,p,f,A),l.elementType=D,l.lanes=C,l;case P:return l=Wa(19,p,f,A),l.elementType=P,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:z=10;break e;case F:z=9;break e;case M:z=11;break e;case N:z=14;break e;case I:z=16,v=null;break e}z=29,p=Error(n(130,l===null?"null":typeof l,"")),v=null}return f=Wa(z,p,f,A),f.elementType=l,f.type=v,f.lanes=C,f}function Pu(l,f,p,v){return l=Wa(7,l,v,f),l.lanes=p,l}function db(l,f,p){return l=Wa(6,l,null,f),l.lanes=p,l}function Hk(l){var f=Wa(18,null,null,0);return f.stateNode=l,f}function hb(l,f,p){return f=Wa(4,l.children!==null?l.children:[],l.key,f),f.lanes=p,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var Gk=new WeakMap;function gs(l,f){if(typeof l=="object"&&l!==null){var p=Gk.get(l);return p!==void 0?p:(f={value:l,source:f,stack:Je(f)},Gk.set(l,f),f)}return{value:l,source:f,stack:Je(f)}}var ad=[],sd=0,Mg=null,c0=0,vs=[],ys=0,sc=null,No=1,Io="";function ll(l,f){ad[sd++]=c0,ad[sd++]=Mg,Mg=l,c0=f}function qk(l,f,p){vs[ys++]=No,vs[ys++]=Io,vs[ys++]=sc,sc=l;var v=No;l=Io;var A=32-mt(v)-1;v&=~(1<<A),p+=1;var C=32-mt(f)+A;if(30<C){var z=A-A%5;C=(v&(1<<z)-1).toString(32),v>>=z,A-=z,No=1<<32-mt(f)+A|p<<A|v,Io=C+l}else No=1<<C|p<<A|v,Io=l}function pb(l){l.return!==null&&(ll(l,1),qk(l,1,0))}function mb(l){for(;l===Mg;)Mg=ad[--sd],ad[sd]=null,c0=ad[--sd],ad[sd]=null;for(;l===sc;)sc=vs[--ys],vs[ys]=null,Io=vs[--ys],vs[ys]=null,No=vs[--ys],vs[ys]=null}function Kk(l,f){vs[ys++]=No,vs[ys++]=Io,vs[ys++]=sc,No=f.id,Io=f.overflow,sc=l}var wi=null,qr=null,Qt=!1,oc=null,xs=!1,gb=Error(n(519));function lc(l){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw u0(gs(f,l)),gb}function Wk(l){var f=l.stateNode,p=l.type,v=l.memoizedProps;switch(f[te]=l,f[re]=v,p){case"dialog":Gt("cancel",f),Gt("close",f);break;case"iframe":case"object":case"embed":Gt("load",f);break;case"video":case"audio":for(p=0;p<R0.length;p++)Gt(R0[p],f);break;case"source":Gt("error",f);break;case"img":case"image":case"link":Gt("error",f),Gt("load",f);break;case"details":Gt("toggle",f);break;case"input":Gt("invalid",f),Dt(f,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Gt("invalid",f);break;case"textarea":Gt("invalid",f),Vt(f,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||v.suppressHydrationWarning===!0||fO(f.textContent,p)?(v.popover!=null&&(Gt("beforetoggle",f),Gt("toggle",f)),v.onScroll!=null&&Gt("scroll",f),v.onScrollEnd!=null&&Gt("scrollend",f),v.onClick!=null&&(f.onclick=wa),f=!0):f=!1,f||lc(l,!0)}function Yk(l){for(wi=l.return;wi;)switch(wi.tag){case 5:case 31:case 13:xs=!1;return;case 27:case 3:xs=!0;return;default:wi=wi.return}}function od(l){if(l!==wi)return!1;if(!Qt)return Yk(l),Qt=!0,!1;var f=l.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||Mw(l.type,l.memoizedProps)),p=!p),p&&qr&&lc(l),Yk(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));qr=_O(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));qr=_O(l)}else f===27?(f=qr,wc(l.type)?(l=Uw,Uw=null,qr=l):qr=f):qr=wi?bs(l.stateNode.nextSibling):null;return!0}function Ru(){qr=wi=null,Qt=!1}function vb(){var l=oc;return l!==null&&(Sa===null?Sa=l:Sa.push.apply(Sa,l),oc=null),l}function u0(l){oc===null?oc=[l]:oc.push(l)}var yb=J(null),Ou=null,cl=null;function cc(l,f,p){ee(yb,f._currentValue),f._currentValue=p}function ul(l){l._currentValue=yb.current,V(yb)}function xb(l,f,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,v!==null&&(v.childLanes|=f)):v!==null&&(v.childLanes&f)!==f&&(v.childLanes|=f),l===p)break;l=l.return}}function _b(l,f,p,v){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var C=A.dependencies;if(C!==null){var z=A.child;C=C.firstContext;e:for(;C!==null;){var Y=C;C=A;for(var de=0;de<f.length;de++)if(Y.context===f[de]){C.lanes|=p,Y=C.alternate,Y!==null&&(Y.lanes|=p),xb(C.return,p,l),v||(z=null);break e}C=Y.next}}else if(A.tag===18){if(z=A.return,z===null)throw Error(n(341));z.lanes|=p,C=z.alternate,C!==null&&(C.lanes|=p),xb(z,p,l),z=null}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===l){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}}function ld(l,f,p,v){l=null;for(var A=f,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var z=A.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Y=A.type;Ka(A.pendingProps.value,z.value)||(l!==null?l.push(Y):l=[Y])}}else if(A===ye.current){if(z=A.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(L0):l=[L0])}A=A.return}l!==null&&_b(f,l,p,v),f.flags|=262144}function Dg(l){for(l=l.firstContext;l!==null;){if(!Ka(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Mu(l){Ou=l,cl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ei(l){return Jk(Ou,l)}function Fg(l,f){return Ou===null&&Mu(l),Jk(l,f)}function Jk(l,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},cl===null){if(l===null)throw Error(n(308));cl=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else cl=cl.next=f;return p}var TW=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(p,v){l.push(v)}};this.abort=function(){f.aborted=!0,l.forEach(function(p){return p()})}},AW=e.unstable_scheduleCallback,SW=e.unstable_NormalPriority,On={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bb(){return{controller:new TW,data:new Map,refCount:0}}function f0(l){l.refCount--,l.refCount===0&&AW(SW,function(){l.controller.abort()})}var d0=null,wb=0,cd=0,ud=null;function CW(l,f){if(d0===null){var p=d0=[];wb=0,cd=Aw(),ud={status:"pending",value:void 0,then:function(v){p.push(v)}}}return wb++,f.then(Xk,Xk),f}function Xk(){if(--wb===0&&d0!==null){ud!==null&&(ud.status="fulfilled");var l=d0;d0=null,cd=0,ud=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function NW(l,f){var p=[],v={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return l.then(function(){v.status="fulfilled",v.value=f;for(var A=0;A<p.length;A++)(0,p[A])(f)},function(A){for(v.status="rejected",v.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),v}var Zk=ne.S;ne.S=function(l,f){DR=_t(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&CW(l,f),Zk!==null&&Zk(l,f)};var Du=J(null);function Eb(){var l=Du.current;return l!==null?l:jr.pooledCache}function Lg(l,f){f===null?ee(Du,Du.current):ee(Du,f.pool)}function Qk(){var l=Eb();return l===null?null:{parent:On._currentValue,pool:l}}var fd=Error(n(460)),Tb=Error(n(474)),jg=Error(n(542)),Ug={then:function(){}};function eP(l){return l=l.status,l==="fulfilled"||l==="rejected"}function tP(l,f,p){switch(p=l[p],p===void 0?l.push(f):p!==f&&(f.then(wa,wa),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,nP(l),l;default:if(typeof f.status=="string")f.then(wa,wa);else{if(l=jr,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=f,l.status="pending",l.then(function(v){if(f.status==="pending"){var A=f;A.status="fulfilled",A.value=v}},function(v){if(f.status==="pending"){var A=f;A.status="rejected",A.reason=v}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,nP(l),l}throw Lu=f,fd}}function Fu(l){try{var f=l._init;return f(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Lu=p,fd):p}}var Lu=null;function rP(){if(Lu===null)throw Error(n(459));var l=Lu;return Lu=null,l}function nP(l){if(l===fd||l===jg)throw Error(n(483))}var dd=null,h0=0;function Bg(l){var f=h0;return h0+=1,dd===null&&(dd=[]),tP(dd,l,f)}function p0(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Vg(l,f){throw f.$$typeof===m?Error(n(525)):(l=Object.prototype.toString.call(f),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function iP(l){function f(ve,pe){if(l){var Te=ve.deletions;Te===null?(ve.deletions=[pe],ve.flags|=16):Te.push(pe)}}function p(ve,pe){if(!l)return null;for(;pe!==null;)f(ve,pe),pe=pe.sibling;return null}function v(ve){for(var pe=new Map;ve!==null;)ve.key!==null?pe.set(ve.key,ve):pe.set(ve.index,ve),ve=ve.sibling;return pe}function A(ve,pe){return ve=ol(ve,pe),ve.index=0,ve.sibling=null,ve}function C(ve,pe,Te){return ve.index=Te,l?(Te=ve.alternate,Te!==null?(Te=Te.index,Te<pe?(ve.flags|=67108866,pe):Te):(ve.flags|=67108866,pe)):(ve.flags|=1048576,pe)}function z(ve){return l&&ve.alternate===null&&(ve.flags|=67108866),ve}function Y(ve,pe,Te,Le){return pe===null||pe.tag!==6?(pe=db(Te,ve.mode,Le),pe.return=ve,pe):(pe=A(pe,Te),pe.return=ve,pe)}function de(ve,pe,Te,Le){var vt=Te.type;return vt===b?Me(ve,pe,Te.props.children,Le,Te.key):pe!==null&&(pe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Fu(vt)===pe.type)?(pe=A(pe,Te.props),p0(pe,Te),pe.return=ve,pe):(pe=Og(Te.type,Te.key,Te.props,null,ve.mode,Le),p0(pe,Te),pe.return=ve,pe)}function Se(ve,pe,Te,Le){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Te.containerInfo||pe.stateNode.implementation!==Te.implementation?(pe=hb(Te,ve.mode,Le),pe.return=ve,pe):(pe=A(pe,Te.children||[]),pe.return=ve,pe)}function Me(ve,pe,Te,Le,vt){return pe===null||pe.tag!==7?(pe=Pu(Te,ve.mode,Le,vt),pe.return=ve,pe):(pe=A(pe,Te),pe.return=ve,pe)}function Be(ve,pe,Te){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=db(""+pe,ve.mode,Te),pe.return=ve,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return Te=Og(pe.type,pe.key,pe.props,null,ve.mode,Te),p0(Te,pe),Te.return=ve,Te;case x:return pe=hb(pe,ve.mode,Te),pe.return=ve,pe;case I:return pe=Fu(pe),Be(ve,pe,Te)}if(me(pe)||L(pe))return pe=Pu(pe,ve.mode,Te,null),pe.return=ve,pe;if(typeof pe.then=="function")return Be(ve,Bg(pe),Te);if(pe.$$typeof===k)return Be(ve,Fg(ve,pe),Te);Vg(ve,pe)}return null}function Ne(ve,pe,Te,Le){var vt=pe!==null?pe.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return vt!==null?null:Y(ve,pe,""+Te,Le);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:return Te.key===vt?de(ve,pe,Te,Le):null;case x:return Te.key===vt?Se(ve,pe,Te,Le):null;case I:return Te=Fu(Te),Ne(ve,pe,Te,Le)}if(me(Te)||L(Te))return vt!==null?null:Me(ve,pe,Te,Le,null);if(typeof Te.then=="function")return Ne(ve,pe,Bg(Te),Le);if(Te.$$typeof===k)return Ne(ve,pe,Fg(ve,Te),Le);Vg(ve,Te)}return null}function Pe(ve,pe,Te,Le,vt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ve=ve.get(Te)||null,Y(pe,ve,""+Le,vt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case y:return ve=ve.get(Le.key===null?Te:Le.key)||null,de(pe,ve,Le,vt);case x:return ve=ve.get(Le.key===null?Te:Le.key)||null,Se(pe,ve,Le,vt);case I:return Le=Fu(Le),Pe(ve,pe,Te,Le,vt)}if(me(Le)||L(Le))return ve=ve.get(Te)||null,Me(pe,ve,Le,vt,null);if(typeof Le.then=="function")return Pe(ve,pe,Te,Bg(Le),vt);if(Le.$$typeof===k)return Pe(ve,pe,Te,Fg(pe,Le),vt);Vg(pe,Le)}return null}function ct(ve,pe,Te,Le){for(var vt=null,ur=null,dt=pe,Ut=pe=0,Wt=null;dt!==null&&Ut<Te.length;Ut++){dt.index>Ut?(Wt=dt,dt=null):Wt=dt.sibling;var fr=Ne(ve,dt,Te[Ut],Le);if(fr===null){dt===null&&(dt=Wt);break}l&&dt&&fr.alternate===null&&f(ve,dt),pe=C(fr,pe,Ut),ur===null?vt=fr:ur.sibling=fr,ur=fr,dt=Wt}if(Ut===Te.length)return p(ve,dt),Qt&&ll(ve,Ut),vt;if(dt===null){for(;Ut<Te.length;Ut++)dt=Be(ve,Te[Ut],Le),dt!==null&&(pe=C(dt,pe,Ut),ur===null?vt=dt:ur.sibling=dt,ur=dt);return Qt&&ll(ve,Ut),vt}for(dt=v(dt);Ut<Te.length;Ut++)Wt=Pe(dt,ve,Ut,Te[Ut],Le),Wt!==null&&(l&&Wt.alternate!==null&&dt.delete(Wt.key===null?Ut:Wt.key),pe=C(Wt,pe,Ut),ur===null?vt=Wt:ur.sibling=Wt,ur=Wt);return l&&dt.forEach(function(Cc){return f(ve,Cc)}),Qt&&ll(ve,Ut),vt}function bt(ve,pe,Te,Le){if(Te==null)throw Error(n(151));for(var vt=null,ur=null,dt=pe,Ut=pe=0,Wt=null,fr=Te.next();dt!==null&&!fr.done;Ut++,fr=Te.next()){dt.index>Ut?(Wt=dt,dt=null):Wt=dt.sibling;var Cc=Ne(ve,dt,fr.value,Le);if(Cc===null){dt===null&&(dt=Wt);break}l&&dt&&Cc.alternate===null&&f(ve,dt),pe=C(Cc,pe,Ut),ur===null?vt=Cc:ur.sibling=Cc,ur=Cc,dt=Wt}if(fr.done)return p(ve,dt),Qt&&ll(ve,Ut),vt;if(dt===null){for(;!fr.done;Ut++,fr=Te.next())fr=Be(ve,fr.value,Le),fr!==null&&(pe=C(fr,pe,Ut),ur===null?vt=fr:ur.sibling=fr,ur=fr);return Qt&&ll(ve,Ut),vt}for(dt=v(dt);!fr.done;Ut++,fr=Te.next())fr=Pe(dt,ve,Ut,fr.value,Le),fr!==null&&(l&&fr.alternate!==null&&dt.delete(fr.key===null?Ut:fr.key),pe=C(fr,pe,Ut),ur===null?vt=fr:ur.sibling=fr,ur=fr);return l&&dt.forEach(function(UY){return f(ve,UY)}),Qt&&ll(ve,Ut),vt}function Dr(ve,pe,Te,Le){if(typeof Te=="object"&&Te!==null&&Te.type===b&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case y:e:{for(var vt=Te.key;pe!==null;){if(pe.key===vt){if(vt=Te.type,vt===b){if(pe.tag===7){p(ve,pe.sibling),Le=A(pe,Te.props.children),Le.return=ve,ve=Le;break e}}else if(pe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===I&&Fu(vt)===pe.type){p(ve,pe.sibling),Le=A(pe,Te.props),p0(Le,Te),Le.return=ve,ve=Le;break e}p(ve,pe);break}else f(ve,pe);pe=pe.sibling}Te.type===b?(Le=Pu(Te.props.children,ve.mode,Le,Te.key),Le.return=ve,ve=Le):(Le=Og(Te.type,Te.key,Te.props,null,ve.mode,Le),p0(Le,Te),Le.return=ve,ve=Le)}return z(ve);case x:e:{for(vt=Te.key;pe!==null;){if(pe.key===vt)if(pe.tag===4&&pe.stateNode.containerInfo===Te.containerInfo&&pe.stateNode.implementation===Te.implementation){p(ve,pe.sibling),Le=A(pe,Te.children||[]),Le.return=ve,ve=Le;break e}else{p(ve,pe);break}else f(ve,pe);pe=pe.sibling}Le=hb(Te,ve.mode,Le),Le.return=ve,ve=Le}return z(ve);case I:return Te=Fu(Te),Dr(ve,pe,Te,Le)}if(me(Te))return ct(ve,pe,Te,Le);if(L(Te)){if(vt=L(Te),typeof vt!="function")throw Error(n(150));return Te=vt.call(Te),bt(ve,pe,Te,Le)}if(typeof Te.then=="function")return Dr(ve,pe,Bg(Te),Le);if(Te.$$typeof===k)return Dr(ve,pe,Fg(ve,Te),Le);Vg(ve,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,pe!==null&&pe.tag===6?(p(ve,pe.sibling),Le=A(pe,Te),Le.return=ve,ve=Le):(p(ve,pe),Le=db(Te,ve.mode,Le),Le.return=ve,ve=Le),z(ve)):p(ve,pe)}return function(ve,pe,Te,Le){try{h0=0;var vt=Dr(ve,pe,Te,Le);return dd=null,vt}catch(dt){if(dt===fd||dt===jg)throw dt;var ur=Wa(29,dt,null,ve.mode);return ur.lanes=Le,ur.return=ve,ur}}}var ju=iP(!0),aP=iP(!1),uc=!1;function Ab(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sb(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function fc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function dc(l,f,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(yr&2)!==0){var A=v.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),v.pending=f,f=Rg(l),zk(l,null,p),f}return Pg(l,v,f,p),Rg(l)}function m0(l,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var v=f.lanes;v&=l.pendingLanes,p|=v,f.lanes=p,$a(l,p)}}function Cb(l,f){var p=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var A=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var z={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?A=C=z:C=C.next=z,p=p.next}while(p!==null);C===null?A=C=f:C=C.next=f}else A=C=f;p={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=f:l.next=f,p.lastBaseUpdate=f}var Nb=!1;function g0(){if(Nb){var l=ud;if(l!==null)throw l}}function v0(l,f,p,v){Nb=!1;var A=l.updateQueue;uc=!1;var C=A.firstBaseUpdate,z=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var de=Y,Se=de.next;de.next=null,z===null?C=Se:z.next=Se,z=de;var Me=l.alternate;Me!==null&&(Me=Me.updateQueue,Y=Me.lastBaseUpdate,Y!==z&&(Y===null?Me.firstBaseUpdate=Se:Y.next=Se,Me.lastBaseUpdate=de))}if(C!==null){var Be=A.baseState;z=0,Me=Se=de=null,Y=C;do{var Ne=Y.lane&-536870913,Pe=Ne!==Y.lane;if(Pe?(Kt&Ne)===Ne:(v&Ne)===Ne){Ne!==0&&Ne===cd&&(Nb=!0),Me!==null&&(Me=Me.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var ct=l,bt=Y;Ne=f;var Dr=p;switch(bt.tag){case 1:if(ct=bt.payload,typeof ct=="function"){Be=ct.call(Dr,Be,Ne);break e}Be=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=bt.payload,Ne=typeof ct=="function"?ct.call(Dr,Be,Ne):ct,Ne==null)break e;Be=h({},Be,Ne);break e;case 2:uc=!0}}Ne=Y.callback,Ne!==null&&(l.flags|=64,Pe&&(l.flags|=8192),Pe=A.callbacks,Pe===null?A.callbacks=[Ne]:Pe.push(Ne))}else Pe={lane:Ne,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Me===null?(Se=Me=Pe,de=Be):Me=Me.next=Pe,z|=Ne;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;Pe=Y,Y=Pe.next,Pe.next=null,A.lastBaseUpdate=Pe,A.shared.pending=null}}while(!0);Me===null&&(de=Be),A.baseState=de,A.firstBaseUpdate=Se,A.lastBaseUpdate=Me,C===null&&(A.shared.lanes=0),vc|=z,l.lanes=z,l.memoizedState=Be}}function sP(l,f){if(typeof l!="function")throw Error(n(191,l));l.call(f)}function oP(l,f){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)sP(p[l],f)}var hd=J(null),zg=J(0);function lP(l,f){l=xl,ee(zg,l),ee(hd,f),xl=l|f.baseLanes}function Ib(){ee(zg,xl),ee(hd,hd.current)}function kb(){xl=zg.current,V(hd),V(zg)}var Ya=J(null),_s=null;function hc(l){var f=l.alternate;ee(Tn,Tn.current&1),ee(Ya,l),_s===null&&(f===null||hd.current!==null||f.memoizedState!==null)&&(_s=l)}function Pb(l){ee(Tn,Tn.current),ee(Ya,l),_s===null&&(_s=l)}function cP(l){l.tag===22?(ee(Tn,Tn.current),ee(Ya,l),_s===null&&(_s=l)):pc()}function pc(){ee(Tn,Tn.current),ee(Ya,Ya.current)}function Ja(l){V(Ya),_s===l&&(_s=null),V(Tn)}var Tn=J(0);function $g(l){for(var f=l;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Lw(p)||jw(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var fl=0,Lt=null,Or=null,Mn=null,Hg=!1,pd=!1,Uu=!1,Gg=0,y0=0,md=null,IW=0;function fn(){throw Error(n(321))}function Rb(l,f){if(f===null)return!1;for(var p=0;p<f.length&&p<l.length;p++)if(!Ka(l[p],f[p]))return!1;return!0}function Ob(l,f,p,v,A,C){return fl=C,Lt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ne.H=l===null||l.memoizedState===null?qP:Wb,Uu=!1,C=p(v,A),Uu=!1,pd&&(C=fP(f,p,v,A)),uP(l),C}function uP(l){ne.H=b0;var f=Or!==null&&Or.next!==null;if(fl=0,Mn=Or=Lt=null,Hg=!1,y0=0,md=null,f)throw Error(n(300));l===null||Dn||(l=l.dependencies,l!==null&&Dg(l)&&(Dn=!0))}function fP(l,f,p,v){Lt=l;var A=0;do{if(pd&&(md=null),y0=0,pd=!1,25<=A)throw Error(n(301));if(A+=1,Mn=Or=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ne.H=KP,C=f(p,v)}while(pd);return C}function kW(){var l=ne.H,f=l.useState()[0];return f=typeof f.then=="function"?x0(f):f,l=l.useState()[0],(Or!==null?Or.memoizedState:null)!==l&&(Lt.flags|=1024),f}function Mb(){var l=Gg!==0;return Gg=0,l}function Db(l,f,p){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~p}function Fb(l){if(Hg){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Hg=!1}fl=0,Mn=Or=Lt=null,pd=!1,y0=Gg=0,md=null}function na(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?Lt.memoizedState=Mn=l:Mn=Mn.next=l,Mn}function An(){if(Or===null){var l=Lt.alternate;l=l!==null?l.memoizedState:null}else l=Or.next;var f=Mn===null?Lt.memoizedState:Mn.next;if(f!==null)Mn=f,Or=l;else{if(l===null)throw Lt.alternate===null?Error(n(467)):Error(n(310));Or=l,l={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Mn===null?Lt.memoizedState=Mn=l:Mn=Mn.next=l}return Mn}function qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function x0(l){var f=y0;return y0+=1,md===null&&(md=[]),l=tP(md,l,f),f=Lt,(Mn===null?f.memoizedState:Mn.next)===null&&(f=f.alternate,ne.H=f===null||f.memoizedState===null?qP:Wb),l}function Kg(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return x0(l);if(l.$$typeof===k)return Ei(l)}throw Error(n(438,String(l)))}function Lb(l){var f=null,p=Lt.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var v=Lt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(f={data:v.data.map(function(A){return A.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=qg(),Lt.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(l),v=0;v<l;v++)p[v]=U;return f.index++,p}function dl(l,f){return typeof f=="function"?f(l):f}function Wg(l){var f=An();return jb(f,Or,l)}function jb(l,f,p){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var A=l.baseQueue,C=v.pending;if(C!==null){if(A!==null){var z=A.next;A.next=C.next,C.next=z}f.baseQueue=A=C,v.pending=null}if(C=l.baseState,A===null)l.memoizedState=C;else{f=A.next;var Y=z=null,de=null,Se=f,Me=!1;do{var Be=Se.lane&-536870913;if(Be!==Se.lane?(Kt&Be)===Be:(fl&Be)===Be){var Ne=Se.revertLane;if(Ne===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),Be===cd&&(Me=!0);else if((fl&Ne)===Ne){Se=Se.next,Ne===cd&&(Me=!0);continue}else Be={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(Y=de=Be,z=C):de=de.next=Be,Lt.lanes|=Ne,vc|=Ne;Be=Se.action,Uu&&p(C,Be),C=Se.hasEagerState?Se.eagerState:p(C,Be)}else Ne={lane:Be,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(Y=de=Ne,z=C):de=de.next=Ne,Lt.lanes|=Be,vc|=Be;Se=Se.next}while(Se!==null&&Se!==f);if(de===null?z=C:de.next=Y,!Ka(C,l.memoizedState)&&(Dn=!0,Me&&(p=ud,p!==null)))throw p;l.memoizedState=C,l.baseState=z,l.baseQueue=de,v.lastRenderedState=C}return A===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Ub(l){var f=An(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var v=p.dispatch,A=p.pending,C=f.memoizedState;if(A!==null){p.pending=null;var z=A=A.next;do C=l(C,z.action),z=z.next;while(z!==A);Ka(C,f.memoizedState)||(Dn=!0),f.memoizedState=C,f.baseQueue===null&&(f.baseState=C),p.lastRenderedState=C}return[C,v]}function dP(l,f,p){var v=Lt,A=An(),C=Qt;if(C){if(p===void 0)throw Error(n(407));p=p()}else p=f();var z=!Ka((Or||A).memoizedState,p);if(z&&(A.memoizedState=p,Dn=!0),A=A.queue,zb(mP.bind(null,v,A,l),[l]),A.getSnapshot!==f||z||Mn!==null&&Mn.memoizedState.tag&1){if(v.flags|=2048,gd(9,{destroy:void 0},pP.bind(null,v,A,p,f),null),jr===null)throw Error(n(349));C||(fl&127)!==0||hP(v,f,p)}return p}function hP(l,f,p){l.flags|=16384,l={getSnapshot:f,value:p},f=Lt.updateQueue,f===null?(f=qg(),Lt.updateQueue=f,f.stores=[l]):(p=f.stores,p===null?f.stores=[l]:p.push(l))}function pP(l,f,p,v){f.value=p,f.getSnapshot=v,gP(f)&&vP(l)}function mP(l,f,p){return p(function(){gP(f)&&vP(l)})}function gP(l){var f=l.getSnapshot;l=l.value;try{var p=f();return!Ka(l,p)}catch{return!0}}function vP(l){var f=ku(l,2);f!==null&&Ca(f,l,2)}function Bb(l){var f=na();if(typeof l=="function"){var p=l;if(l=p(),Uu){xi(!0);try{p()}finally{xi(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:l},f}function yP(l,f,p,v){return l.baseState=p,jb(l,Or,typeof v=="function"?v:dl)}function PW(l,f,p,v,A){if(Xg(l))throw Error(n(485));if(l=f.action,l!==null){var C={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){C.listeners.push(z)}};ne.T!==null?p(!0):C.isTransition=!1,v(C),p=f.pending,p===null?(C.next=f.pending=C,xP(f,C)):(C.next=p.next,f.pending=p.next=C)}}function xP(l,f){var p=f.action,v=f.payload,A=l.state;if(f.isTransition){var C=ne.T,z={};ne.T=z;try{var Y=p(A,v),de=ne.S;de!==null&&de(z,Y),_P(l,f,Y)}catch(Se){Vb(l,f,Se)}finally{C!==null&&z.types!==null&&(C.types=z.types),ne.T=C}}else try{C=p(A,v),_P(l,f,C)}catch(Se){Vb(l,f,Se)}}function _P(l,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){bP(l,f,v)},function(v){return Vb(l,f,v)}):bP(l,f,p)}function bP(l,f,p){f.status="fulfilled",f.value=p,wP(f),l.state=p,f=l.pending,f!==null&&(p=f.next,p===f?l.pending=null:(p=p.next,f.next=p,xP(l,p)))}function Vb(l,f,p){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do f.status="rejected",f.reason=p,wP(f),f=f.next;while(f!==v)}l.action=null}function wP(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function EP(l,f){return f}function TP(l,f){if(Qt){var p=jr.formState;if(p!==null){e:{var v=Lt;if(Qt){if(qr){t:{for(var A=qr,C=xs;A.nodeType!==8;){if(!C){A=null;break t}if(A=bs(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){qr=bs(A.nextSibling),v=A.data==="F!";break e}}lc(v)}v=!1}v&&(f=p[0])}}return p=na(),p.memoizedState=p.baseState=f,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EP,lastRenderedState:f},p.queue=v,p=$P.bind(null,Lt,v),v.dispatch=p,v=Bb(!1),C=Kb.bind(null,Lt,!1,v.queue),v=na(),A={state:f,dispatch:null,action:l,pending:null},v.queue=A,p=PW.bind(null,Lt,A,C,p),A.dispatch=p,v.memoizedState=l,[f,p,!1]}function AP(l){var f=An();return SP(f,Or,l)}function SP(l,f,p){if(f=jb(l,f,EP)[0],l=Wg(dl)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var v=x0(f)}catch(z){throw z===fd?jg:z}else v=f;f=An();var A=f.queue,C=A.dispatch;return p!==f.memoizedState&&(Lt.flags|=2048,gd(9,{destroy:void 0},RW.bind(null,A,p),null)),[v,C,l]}function RW(l,f){l.action=f}function CP(l){var f=An(),p=Or;if(p!==null)return SP(f,p,l);An(),f=f.memoizedState,p=An();var v=p.queue.dispatch;return p.memoizedState=l,[f,v,!1]}function gd(l,f,p,v){return l={tag:l,create:p,deps:v,inst:f,next:null},f=Lt.updateQueue,f===null&&(f=qg(),Lt.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,f.lastEffect=l),l}function NP(){return An().memoizedState}function Yg(l,f,p,v){var A=na();Lt.flags|=l,A.memoizedState=gd(1|f,{destroy:void 0},p,v===void 0?null:v)}function Jg(l,f,p,v){var A=An();v=v===void 0?null:v;var C=A.memoizedState.inst;Or!==null&&v!==null&&Rb(v,Or.memoizedState.deps)?A.memoizedState=gd(f,C,p,v):(Lt.flags|=l,A.memoizedState=gd(1|f,C,p,v))}function IP(l,f){Yg(8390656,8,l,f)}function zb(l,f){Jg(2048,8,l,f)}function OW(l){Lt.flags|=4;var f=Lt.updateQueue;if(f===null)f=qg(),Lt.updateQueue=f,f.events=[l];else{var p=f.events;p===null?f.events=[l]:p.push(l)}}function kP(l){var f=An().memoizedState;return OW({ref:f,nextImpl:l}),function(){if((yr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function PP(l,f){return Jg(4,2,l,f)}function RP(l,f){return Jg(4,4,l,f)}function OP(l,f){if(typeof f=="function"){l=l();var p=f(l);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function MP(l,f,p){p=p!=null?p.concat([l]):null,Jg(4,4,OP.bind(null,f,l),p)}function $b(){}function DP(l,f){var p=An();f=f===void 0?null:f;var v=p.memoizedState;return f!==null&&Rb(f,v[1])?v[0]:(p.memoizedState=[l,f],l)}function FP(l,f){var p=An();f=f===void 0?null:f;var v=p.memoizedState;if(f!==null&&Rb(f,v[1]))return v[0];if(v=l(),Uu){xi(!0);try{l()}finally{xi(!1)}}return p.memoizedState=[v,f],v}function Hb(l,f,p){return p===void 0||(fl&1073741824)!==0&&(Kt&261930)===0?l.memoizedState=f:(l.memoizedState=p,l=LR(),Lt.lanes|=l,vc|=l,p)}function LP(l,f,p,v){return Ka(p,f)?p:hd.current!==null?(l=Hb(l,p,v),Ka(l,f)||(Dn=!0),l):(fl&42)===0||(fl&1073741824)!==0&&(Kt&261930)===0?(Dn=!0,l.memoizedState=p):(l=LR(),Lt.lanes|=l,vc|=l,f)}function jP(l,f,p,v,A){var C=ue.p;ue.p=C!==0&&8>C?C:8;var z=ne.T,Y={};ne.T=Y,Kb(l,!1,f,p);try{var de=A(),Se=ne.S;if(Se!==null&&Se(Y,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Me=NW(de,v);_0(l,f,Me,Qa(l))}else _0(l,f,v,Qa(l))}catch(Be){_0(l,f,{then:function(){},status:"rejected",reason:Be},Qa())}finally{ue.p=C,z!==null&&Y.types!==null&&(z.types=Y.types),ne.T=z}}function MW(){}function Gb(l,f,p,v){if(l.tag!==5)throw Error(n(476));var A=UP(l).queue;jP(l,A,f,ce,p===null?MW:function(){return BP(l),p(v)})}function UP(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:ce},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:p},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function BP(l){var f=UP(l);f.next===null&&(f=l.alternate.memoizedState),_0(l,f.next.queue,{},Qa())}function qb(){return Ei(L0)}function VP(){return An().memoizedState}function zP(){return An().memoizedState}function DW(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var p=Qa();l=fc(p);var v=dc(f,l,p);v!==null&&(Ca(v,f,p),m0(v,f,p)),f={cache:bb()},l.payload=f;return}f=f.return}}function FW(l,f,p){var v=Qa();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Xg(l)?HP(f,p):(p=ub(l,f,p,v),p!==null&&(Ca(p,l,v),GP(p,f,v)))}function $P(l,f,p){var v=Qa();_0(l,f,p,v)}function _0(l,f,p,v){var A={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Xg(l))HP(f,A);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=f.lastRenderedReducer,C!==null))try{var z=f.lastRenderedState,Y=C(z,p);if(A.hasEagerState=!0,A.eagerState=Y,Ka(Y,z))return Pg(l,f,A,0),jr===null&&kg(),!1}catch{}if(p=ub(l,f,A,v),p!==null)return Ca(p,l,v),GP(p,f,v),!0}return!1}function Kb(l,f,p,v){if(v={lane:2,revertLane:Aw(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Xg(l)){if(f)throw Error(n(479))}else f=ub(l,p,v,2),f!==null&&Ca(f,l,2)}function Xg(l){var f=l.alternate;return l===Lt||f!==null&&f===Lt}function HP(l,f){pd=Hg=!0;var p=l.pending;p===null?f.next=f:(f.next=p.next,p.next=f),l.pending=f}function GP(l,f,p){if((p&4194048)!==0){var v=f.lanes;v&=l.pendingLanes,p|=v,f.lanes=p,$a(l,p)}}var b0={readContext:Ei,use:Kg,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};b0.useEffectEvent=fn;var qP={readContext:Ei,use:Kg,useCallback:function(l,f){return na().memoizedState=[l,f===void 0?null:f],l},useContext:Ei,useEffect:IP,useImperativeHandle:function(l,f,p){p=p!=null?p.concat([l]):null,Yg(4194308,4,OP.bind(null,f,l),p)},useLayoutEffect:function(l,f){return Yg(4194308,4,l,f)},useInsertionEffect:function(l,f){Yg(4,2,l,f)},useMemo:function(l,f){var p=na();f=f===void 0?null:f;var v=l();if(Uu){xi(!0);try{l()}finally{xi(!1)}}return p.memoizedState=[v,f],v},useReducer:function(l,f,p){var v=na();if(p!==void 0){var A=p(f);if(Uu){xi(!0);try{p(f)}finally{xi(!1)}}}else A=f;return v.memoizedState=v.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},v.queue=l,l=l.dispatch=FW.bind(null,Lt,l),[v.memoizedState,l]},useRef:function(l){var f=na();return l={current:l},f.memoizedState=l},useState:function(l){l=Bb(l);var f=l.queue,p=$P.bind(null,Lt,f);return f.dispatch=p,[l.memoizedState,p]},useDebugValue:$b,useDeferredValue:function(l,f){var p=na();return Hb(p,l,f)},useTransition:function(){var l=Bb(!1);return l=jP.bind(null,Lt,l.queue,!0,!1),na().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,p){var v=Lt,A=na();if(Qt){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),jr===null)throw Error(n(349));(Kt&127)!==0||hP(v,f,p)}A.memoizedState=p;var C={value:p,getSnapshot:f};return A.queue=C,IP(mP.bind(null,v,C,l),[l]),v.flags|=2048,gd(9,{destroy:void 0},pP.bind(null,v,C,p,f),null),p},useId:function(){var l=na(),f=jr.identifierPrefix;if(Qt){var p=Io,v=No;p=(v&~(1<<32-mt(v)-1)).toString(32)+p,f="_"+f+"R_"+p,p=Gg++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=IW++,f="_"+f+"r_"+p.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:qb,useFormState:TP,useActionState:TP,useOptimistic:function(l){var f=na();f.memoizedState=f.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=Kb.bind(null,Lt,!0,p),p.dispatch=f,[l,f]},useMemoCache:Lb,useCacheRefresh:function(){return na().memoizedState=DW.bind(null,Lt)},useEffectEvent:function(l){var f=na(),p={impl:l};return f.memoizedState=p,function(){if((yr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Wb={readContext:Ei,use:Kg,useCallback:DP,useContext:Ei,useEffect:zb,useImperativeHandle:MP,useInsertionEffect:PP,useLayoutEffect:RP,useMemo:FP,useReducer:Wg,useRef:NP,useState:function(){return Wg(dl)},useDebugValue:$b,useDeferredValue:function(l,f){var p=An();return LP(p,Or.memoizedState,l,f)},useTransition:function(){var l=Wg(dl)[0],f=An().memoizedState;return[typeof l=="boolean"?l:x0(l),f]},useSyncExternalStore:dP,useId:VP,useHostTransitionStatus:qb,useFormState:AP,useActionState:AP,useOptimistic:function(l,f){var p=An();return yP(p,Or,l,f)},useMemoCache:Lb,useCacheRefresh:zP};Wb.useEffectEvent=kP;var KP={readContext:Ei,use:Kg,useCallback:DP,useContext:Ei,useEffect:zb,useImperativeHandle:MP,useInsertionEffect:PP,useLayoutEffect:RP,useMemo:FP,useReducer:Ub,useRef:NP,useState:function(){return Ub(dl)},useDebugValue:$b,useDeferredValue:function(l,f){var p=An();return Or===null?Hb(p,l,f):LP(p,Or.memoizedState,l,f)},useTransition:function(){var l=Ub(dl)[0],f=An().memoizedState;return[typeof l=="boolean"?l:x0(l),f]},useSyncExternalStore:dP,useId:VP,useHostTransitionStatus:qb,useFormState:CP,useActionState:CP,useOptimistic:function(l,f){var p=An();return Or!==null?yP(p,Or,l,f):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:Lb,useCacheRefresh:zP};KP.useEffectEvent=kP;function Yb(l,f,p,v){f=l.memoizedState,p=p(v,f),p=p==null?f:h({},f,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Jb={enqueueSetState:function(l,f,p){l=l._reactInternals;var v=Qa(),A=fc(v);A.payload=f,p!=null&&(A.callback=p),f=dc(l,A,v),f!==null&&(Ca(f,l,v),m0(f,l,v))},enqueueReplaceState:function(l,f,p){l=l._reactInternals;var v=Qa(),A=fc(v);A.tag=1,A.payload=f,p!=null&&(A.callback=p),f=dc(l,A,v),f!==null&&(Ca(f,l,v),m0(f,l,v))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var p=Qa(),v=fc(p);v.tag=2,f!=null&&(v.callback=f),f=dc(l,v,p),f!==null&&(Ca(f,l,p),m0(f,l,p))}};function WP(l,f,p,v,A,C,z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,z):f.prototype&&f.prototype.isPureReactComponent?!o0(p,v)||!o0(A,C):!0}function YP(l,f,p,v){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,v),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,v),f.state!==l&&Jb.enqueueReplaceState(f,f.state,null)}function Bu(l,f){var p=f;if("ref"in f){p={};for(var v in f)v!=="ref"&&(p[v]=f[v])}if(l=l.defaultProps){p===f&&(p=h({},p));for(var A in l)p[A]===void 0&&(p[A]=l[A])}return p}function JP(l){Ig(l)}function XP(l){console.error(l)}function ZP(l){Ig(l)}function Zg(l,f){try{var p=l.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(v){setTimeout(function(){throw v})}}function QP(l,f,p){try{var v=l.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Xb(l,f,p){return p=fc(p),p.tag=3,p.payload={element:null},p.callback=function(){Zg(l,f)},p}function eR(l){return l=fc(l),l.tag=3,l}function tR(l,f,p,v){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var C=v.value;l.payload=function(){return A(C)},l.callback=function(){QP(f,p,v)}}var z=p.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(l.callback=function(){QP(f,p,v),typeof A!="function"&&(yc===null?yc=new Set([this]):yc.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})})}function LW(l,f,p,v,A){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(f=p.alternate,f!==null&&ld(f,p,A,!0),p=Ya.current,p!==null){switch(p.tag){case 31:case 13:return _s===null?uv():p.alternate===null&&dn===0&&(dn=3),p.flags&=-257,p.flags|=65536,p.lanes=A,v===Ug?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([v]):f.add(v),ww(l,v,A)),!1;case 22:return p.flags|=65536,v===Ug?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([v]):p.add(v)),ww(l,v,A)),!1}throw Error(n(435,p.tag))}return ww(l,v,A),uv(),!1}if(Qt)return f=Ya.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=A,v!==gb&&(l=Error(n(422),{cause:v}),u0(gs(l,p)))):(v!==gb&&(f=Error(n(423),{cause:v}),u0(gs(f,p))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,v=gs(v,p),A=Xb(l.stateNode,v,A),Cb(l,A),dn!==4&&(dn=2)),!1;var C=Error(n(520),{cause:v});if(C=gs(C,p),I0===null?I0=[C]:I0.push(C),dn!==4&&(dn=2),f===null)return!0;v=gs(v,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,l=A&-A,p.lanes|=l,l=Xb(p.stateNode,v,l),Cb(p,l),!1;case 1:if(f=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(yc===null||!yc.has(C))))return p.flags|=65536,A&=-A,p.lanes|=A,A=eR(A),tR(A,l,p,v),Cb(p,A),!1}p=p.return}while(p!==null);return!1}var Zb=Error(n(461)),Dn=!1;function Ti(l,f,p,v){f.child=l===null?aP(f,null,p,v):ju(f,l.child,p,v)}function rR(l,f,p,v,A){p=p.render;var C=f.ref;if("ref"in v){var z={};for(var Y in v)Y!=="ref"&&(z[Y]=v[Y])}else z=v;return Mu(f),v=Ob(l,f,p,z,C,A),Y=Mb(),l!==null&&!Dn?(Db(l,f,A),hl(l,f,A)):(Qt&&Y&&pb(f),f.flags|=1,Ti(l,f,v,A),f.child)}function nR(l,f,p,v,A){if(l===null){var C=p.type;return typeof C=="function"&&!fb(C)&&C.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=C,iR(l,f,C,v,A)):(l=Og(p.type,null,v,f,f.mode,A),l.ref=f.ref,l.return=f,f.child=l)}if(C=l.child,!sw(l,A)){var z=C.memoizedProps;if(p=p.compare,p=p!==null?p:o0,p(z,v)&&l.ref===f.ref)return hl(l,f,A)}return f.flags|=1,l=ol(C,v),l.ref=f.ref,l.return=f,f.child=l}function iR(l,f,p,v,A){if(l!==null){var C=l.memoizedProps;if(o0(C,v)&&l.ref===f.ref)if(Dn=!1,f.pendingProps=v=C,sw(l,A))(l.flags&131072)!==0&&(Dn=!0);else return f.lanes=l.lanes,hl(l,f,A)}return Qb(l,f,p,v,A)}function aR(l,f,p,v){var A=v.children,C=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((f.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,l!==null){for(v=f.child=l.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~C}else v=0,f.child=null;return sR(l,f,C,p,v)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Lg(f,C!==null?C.cachePool:null),C!==null?lP(f,C):Ib(),cP(f);else return v=f.lanes=536870912,sR(l,f,C!==null?C.baseLanes|p:p,p,v)}else C!==null?(Lg(f,C.cachePool),lP(f,C),pc(),f.memoizedState=null):(l!==null&&Lg(f,null),Ib(),pc());return Ti(l,f,A,p),f.child}function w0(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function sR(l,f,p,v,A){var C=Eb();return C=C===null?null:{parent:On._currentValue,pool:C},f.memoizedState={baseLanes:p,cachePool:C},l!==null&&Lg(f,null),Ib(),cP(f),l!==null&&ld(l,f,v,!0),f.childLanes=A,null}function Qg(l,f){return f=tv({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function oR(l,f,p){return ju(f,l.child,null,p),l=Qg(f,f.pendingProps),l.flags|=2,Ja(f),f.memoizedState=null,l}function jW(l,f,p){var v=f.pendingProps,A=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Qt){if(v.mode==="hidden")return l=Qg(f,v),f.lanes=536870912,w0(null,l);if(Pb(f),(l=qr)?(l=xO(l,xs),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:sc!==null?{id:No,overflow:Io}:null,retryLane:536870912,hydrationErrors:null},p=Hk(l),p.return=f,f.child=p,wi=f,qr=null)):l=null,l===null)throw lc(f);return f.lanes=536870912,null}return Qg(f,v)}var C=l.memoizedState;if(C!==null){var z=C.dehydrated;if(Pb(f),A)if(f.flags&256)f.flags&=-257,f=oR(l,f,p);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(n(558));else if(Dn||ld(l,f,p,!1),A=(p&l.childLanes)!==0,Dn||A){if(v=jr,v!==null&&(z=Di(v,p),z!==0&&z!==C.retryLane))throw C.retryLane=z,ku(l,z),Ca(v,l,z),Zb;uv(),f=oR(l,f,p)}else l=C.treeContext,qr=bs(z.nextSibling),wi=f,Qt=!0,oc=null,xs=!1,l!==null&&Kk(f,l),f=Qg(f,v),f.flags|=4096;return f}return l=ol(l.child,{mode:v.mode,children:v.children}),l.ref=f.ref,f.child=l,l.return=f,l}function ev(l,f){var p=f.ref;if(p===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(f.flags|=4194816)}}function Qb(l,f,p,v,A){return Mu(f),p=Ob(l,f,p,v,void 0,A),v=Mb(),l!==null&&!Dn?(Db(l,f,A),hl(l,f,A)):(Qt&&v&&pb(f),f.flags|=1,Ti(l,f,p,A),f.child)}function lR(l,f,p,v,A,C){return Mu(f),f.updateQueue=null,p=fP(f,v,p,A),uP(l),v=Mb(),l!==null&&!Dn?(Db(l,f,C),hl(l,f,C)):(Qt&&v&&pb(f),f.flags|=1,Ti(l,f,p,C),f.child)}function cR(l,f,p,v,A){if(Mu(f),f.stateNode===null){var C=id,z=p.contextType;typeof z=="object"&&z!==null&&(C=Ei(z)),C=new p(v,C),f.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Jb,f.stateNode=C,C._reactInternals=f,C=f.stateNode,C.props=v,C.state=f.memoizedState,C.refs={},Ab(f),z=p.contextType,C.context=typeof z=="object"&&z!==null?Ei(z):id,C.state=f.memoizedState,z=p.getDerivedStateFromProps,typeof z=="function"&&(Yb(f,p,z,v),C.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(z=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),z!==C.state&&Jb.enqueueReplaceState(C,C.state,null),v0(f,v,C,A),g0(),C.state=f.memoizedState),typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!0}else if(l===null){C=f.stateNode;var Y=f.memoizedProps,de=Bu(p,Y);C.props=de;var Se=C.context,Me=p.contextType;z=id,typeof Me=="object"&&Me!==null&&(z=Ei(Me));var Be=p.getDerivedStateFromProps;Me=typeof Be=="function"||typeof C.getSnapshotBeforeUpdate=="function",Y=f.pendingProps!==Y,Me||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Y||Se!==z)&&YP(f,C,v,z),uc=!1;var Ne=f.memoizedState;C.state=Ne,v0(f,v,C,A),g0(),Se=f.memoizedState,Y||Ne!==Se||uc?(typeof Be=="function"&&(Yb(f,p,Be,v),Se=f.memoizedState),(de=uc||WP(f,p,de,v,Ne,Se,z))?(Me||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(f.flags|=4194308)):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=v,f.memoizedState=Se),C.props=v,C.state=Se,C.context=z,v=de):(typeof C.componentDidMount=="function"&&(f.flags|=4194308),v=!1)}else{C=f.stateNode,Sb(l,f),z=f.memoizedProps,Me=Bu(p,z),C.props=Me,Be=f.pendingProps,Ne=C.context,Se=p.contextType,de=id,typeof Se=="object"&&Se!==null&&(de=Ei(Se)),Y=p.getDerivedStateFromProps,(Se=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z!==Be||Ne!==de)&&YP(f,C,v,de),uc=!1,Ne=f.memoizedState,C.state=Ne,v0(f,v,C,A),g0();var Pe=f.memoizedState;z!==Be||Ne!==Pe||uc||l!==null&&l.dependencies!==null&&Dg(l.dependencies)?(typeof Y=="function"&&(Yb(f,p,Y,v),Pe=f.memoizedState),(Me=uc||WP(f,p,Me,v,Ne,Pe,de)||l!==null&&l.dependencies!==null&&Dg(l.dependencies))?(Se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Pe,de),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Pe,de)),typeof C.componentDidUpdate=="function"&&(f.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof C.componentDidUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=1024),f.memoizedProps=v,f.memoizedState=Pe),C.props=v,C.state=Pe,C.context=de,v=Me):(typeof C.componentDidUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&Ne===l.memoizedState||(f.flags|=1024),v=!1)}return C=v,ev(l,f),v=(f.flags&128)!==0,C||v?(C=f.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:C.render(),f.flags|=1,l!==null&&v?(f.child=ju(f,l.child,null,A),f.child=ju(f,null,p,A)):Ti(l,f,p,A),f.memoizedState=C.state,l=f.child):l=hl(l,f,A),l}function uR(l,f,p,v){return Ru(),f.flags|=256,Ti(l,f,p,v),f.child}var ew={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tw(l){return{baseLanes:l,cachePool:Qk()}}function rw(l,f,p){return l=l!==null?l.childLanes&~p:0,f&&(l|=Za),l}function fR(l,f,p){var v=f.pendingProps,A=!1,C=(f.flags&128)!==0,z;if((z=C)||(z=l!==null&&l.memoizedState===null?!1:(Tn.current&2)!==0),z&&(A=!0,f.flags&=-129),z=(f.flags&32)!==0,f.flags&=-33,l===null){if(Qt){if(A?hc(f):pc(),(l=qr)?(l=xO(l,xs),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:sc!==null?{id:No,overflow:Io}:null,retryLane:536870912,hydrationErrors:null},p=Hk(l),p.return=f,f.child=p,wi=f,qr=null)):l=null,l===null)throw lc(f);return jw(l)?f.lanes=32:f.lanes=536870912,null}var Y=v.children;return v=v.fallback,A?(pc(),A=f.mode,Y=tv({mode:"hidden",children:Y},A),v=Pu(v,A,p,null),Y.return=f,v.return=f,Y.sibling=v,f.child=Y,v=f.child,v.memoizedState=tw(p),v.childLanes=rw(l,z,p),f.memoizedState=ew,w0(null,v)):(hc(f),nw(f,Y))}var de=l.memoizedState;if(de!==null&&(Y=de.dehydrated,Y!==null)){if(C)f.flags&256?(hc(f),f.flags&=-257,f=iw(l,f,p)):f.memoizedState!==null?(pc(),f.child=l.child,f.flags|=128,f=null):(pc(),Y=v.fallback,A=f.mode,v=tv({mode:"visible",children:v.children},A),Y=Pu(Y,A,p,null),Y.flags|=2,v.return=f,Y.return=f,v.sibling=Y,f.child=v,ju(f,l.child,null,p),v=f.child,v.memoizedState=tw(p),v.childLanes=rw(l,z,p),f.memoizedState=ew,f=w0(null,v));else if(hc(f),jw(Y)){if(z=Y.nextSibling&&Y.nextSibling.dataset,z)var Se=z.dgst;z=Se,v=Error(n(419)),v.stack="",v.digest=z,u0({value:v,source:null,stack:null}),f=iw(l,f,p)}else if(Dn||ld(l,f,p,!1),z=(p&l.childLanes)!==0,Dn||z){if(z=jr,z!==null&&(v=Di(z,p),v!==0&&v!==de.retryLane))throw de.retryLane=v,ku(l,v),Ca(z,l,v),Zb;Lw(Y)||uv(),f=iw(l,f,p)}else Lw(Y)?(f.flags|=192,f.child=l.child,f=null):(l=de.treeContext,qr=bs(Y.nextSibling),wi=f,Qt=!0,oc=null,xs=!1,l!==null&&Kk(f,l),f=nw(f,v.children),f.flags|=4096);return f}return A?(pc(),Y=v.fallback,A=f.mode,de=l.child,Se=de.sibling,v=ol(de,{mode:"hidden",children:v.children}),v.subtreeFlags=de.subtreeFlags&65011712,Se!==null?Y=ol(Se,Y):(Y=Pu(Y,A,p,null),Y.flags|=2),Y.return=f,v.return=f,v.sibling=Y,f.child=v,w0(null,v),v=f.child,Y=l.child.memoizedState,Y===null?Y=tw(p):(A=Y.cachePool,A!==null?(de=On._currentValue,A=A.parent!==de?{parent:de,pool:de}:A):A=Qk(),Y={baseLanes:Y.baseLanes|p,cachePool:A}),v.memoizedState=Y,v.childLanes=rw(l,z,p),f.memoizedState=ew,w0(l.child,v)):(hc(f),p=l.child,l=p.sibling,p=ol(p,{mode:"visible",children:v.children}),p.return=f,p.sibling=null,l!==null&&(z=f.deletions,z===null?(f.deletions=[l],f.flags|=16):z.push(l)),f.child=p,f.memoizedState=null,p)}function nw(l,f){return f=tv({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function tv(l,f){return l=Wa(22,l,null,f),l.lanes=0,l}function iw(l,f,p){return ju(f,l.child,null,p),l=nw(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function dR(l,f,p){l.lanes|=f;var v=l.alternate;v!==null&&(v.lanes|=f),xb(l.return,f,p)}function aw(l,f,p,v,A,C){var z=l.memoizedState;z===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:A,treeForkCount:C}:(z.isBackwards=f,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=p,z.tailMode=A,z.treeForkCount=C)}function hR(l,f,p){var v=f.pendingProps,A=v.revealOrder,C=v.tail;v=v.children;var z=Tn.current,Y=(z&2)!==0;if(Y?(z=z&1|2,f.flags|=128):z&=1,ee(Tn,z),Ti(l,f,v,p),v=Qt?c0:0,!Y&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&dR(l,p,f);else if(l.tag===19)dR(l,p,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(p=f.child,A=null;p!==null;)l=p.alternate,l!==null&&$g(l)===null&&(A=p),p=p.sibling;p=A,p===null?(A=f.child,f.child=null):(A=p.sibling,p.sibling=null),aw(f,!1,A,p,C,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,A=f.child,f.child=null;A!==null;){if(l=A.alternate,l!==null&&$g(l)===null){f.child=A;break}l=A.sibling,A.sibling=p,p=A,A=l}aw(f,!0,p,null,C,v);break;case"together":aw(f,!1,null,null,void 0,v);break;default:f.memoizedState=null}return f.child}function hl(l,f,p){if(l!==null&&(f.dependencies=l.dependencies),vc|=f.lanes,(p&f.childLanes)===0)if(l!==null){if(ld(l,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(n(153));if(f.child!==null){for(l=f.child,p=ol(l,l.pendingProps),f.child=p,p.return=f;l.sibling!==null;)l=l.sibling,p=p.sibling=ol(l,l.pendingProps),p.return=f;p.sibling=null}return f.child}function sw(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Dg(l)))}function UW(l,f,p){switch(f.tag){case 3:Ie(f,f.stateNode.containerInfo),cc(f,On,l.memoizedState.cache),Ru();break;case 27:case 5:ge(f);break;case 4:Ie(f,f.stateNode.containerInfo);break;case 10:cc(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Pb(f),null;break;case 13:var v=f.memoizedState;if(v!==null)return v.dehydrated!==null?(hc(f),f.flags|=128,null):(p&f.child.childLanes)!==0?fR(l,f,p):(hc(f),l=hl(l,f,p),l!==null?l.sibling:null);hc(f);break;case 19:var A=(l.flags&128)!==0;if(v=(p&f.childLanes)!==0,v||(ld(l,f,p,!1),v=(p&f.childLanes)!==0),A){if(v)return hR(l,f,p);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ee(Tn,Tn.current),v)break;return null;case 22:return f.lanes=0,aR(l,f,p,f.pendingProps);case 24:cc(f,On,l.memoizedState.cache)}return hl(l,f,p)}function pR(l,f,p){if(l!==null)if(l.memoizedProps!==f.pendingProps)Dn=!0;else{if(!sw(l,p)&&(f.flags&128)===0)return Dn=!1,UW(l,f,p);Dn=(l.flags&131072)!==0}else Dn=!1,Qt&&(f.flags&1048576)!==0&&qk(f,c0,f.index);switch(f.lanes=0,f.tag){case 16:e:{var v=f.pendingProps;if(l=Fu(f.elementType),f.type=l,typeof l=="function")fb(l)?(v=Bu(l,v),f.tag=1,f=cR(null,f,l,v,p)):(f.tag=0,f=Qb(null,f,l,v,p));else{if(l!=null){var A=l.$$typeof;if(A===M){f.tag=11,f=rR(null,f,l,v,p);break e}else if(A===N){f.tag=14,f=nR(null,f,l,v,p);break e}}throw f=fe(l)||l,Error(n(306,f,""))}}return f;case 0:return Qb(l,f,f.type,f.pendingProps,p);case 1:return v=f.type,A=Bu(v,f.pendingProps),cR(l,f,v,A,p);case 3:e:{if(Ie(f,f.stateNode.containerInfo),l===null)throw Error(n(387));v=f.pendingProps;var C=f.memoizedState;A=C.element,Sb(l,f),v0(f,v,null,p);var z=f.memoizedState;if(v=z.cache,cc(f,On,v),v!==C.cache&&_b(f,[On],p,!0),g0(),v=z.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:z.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=uR(l,f,v,p);break e}else if(v!==A){A=gs(Error(n(424)),f),u0(A),f=uR(l,f,v,p);break e}else for(l=f.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,qr=bs(l.firstChild),wi=f,Qt=!0,oc=null,xs=!0,p=aP(f,null,v,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ru(),v===A){f=hl(l,f,p);break e}Ti(l,f,v,p)}f=f.child}return f;case 26:return ev(l,f),l===null?(p=AO(f.type,null,f.pendingProps,null))?f.memoizedState=p:Qt||(p=f.type,l=f.pendingProps,v=vv(he.current).createElement(p),v[te]=f,v[re]=l,Ai(v,p,l),ot(v),f.stateNode=v):f.memoizedState=AO(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return ge(f),l===null&&Qt&&(v=f.stateNode=wO(f.type,f.pendingProps,he.current),wi=f,xs=!0,A=qr,wc(f.type)?(Uw=A,qr=bs(v.firstChild)):qr=A),Ti(l,f,f.pendingProps.children,p),ev(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Qt&&((A=v=qr)&&(v=mY(v,f.type,f.pendingProps,xs),v!==null?(f.stateNode=v,wi=f,qr=bs(v.firstChild),xs=!1,A=!0):A=!1),A||lc(f)),ge(f),A=f.type,C=f.pendingProps,z=l!==null?l.memoizedProps:null,v=C.children,Mw(A,C)?v=null:z!==null&&Mw(A,z)&&(f.flags|=32),f.memoizedState!==null&&(A=Ob(l,f,kW,null,null,p),L0._currentValue=A),ev(l,f),Ti(l,f,v,p),f.child;case 6:return l===null&&Qt&&((l=p=qr)&&(p=gY(p,f.pendingProps,xs),p!==null?(f.stateNode=p,wi=f,qr=null,l=!0):l=!1),l||lc(f)),null;case 13:return fR(l,f,p);case 4:return Ie(f,f.stateNode.containerInfo),v=f.pendingProps,l===null?f.child=ju(f,null,v,p):Ti(l,f,v,p),f.child;case 11:return rR(l,f,f.type,f.pendingProps,p);case 7:return Ti(l,f,f.pendingProps,p),f.child;case 8:return Ti(l,f,f.pendingProps.children,p),f.child;case 12:return Ti(l,f,f.pendingProps.children,p),f.child;case 10:return v=f.pendingProps,cc(f,f.type,v.value),Ti(l,f,v.children,p),f.child;case 9:return A=f.type._context,v=f.pendingProps.children,Mu(f),A=Ei(A),v=v(A),f.flags|=1,Ti(l,f,v,p),f.child;case 14:return nR(l,f,f.type,f.pendingProps,p);case 15:return iR(l,f,f.type,f.pendingProps,p);case 19:return hR(l,f,p);case 31:return jW(l,f,p);case 22:return aR(l,f,p,f.pendingProps);case 24:return Mu(f),v=Ei(On),l===null?(A=Eb(),A===null&&(A=jr,C=bb(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=p),A=C),f.memoizedState={parent:v,cache:A},Ab(f),cc(f,On,A)):((l.lanes&p)!==0&&(Sb(l,f),v0(f,null,null,p),g0()),A=l.memoizedState,C=f.memoizedState,A.parent!==v?(A={parent:v,cache:v},f.memoizedState=A,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=A),cc(f,On,v)):(v=C.cache,cc(f,On,v),v!==A.cache&&_b(f,[On],p,!0))),Ti(l,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function pl(l){l.flags|=4}function ow(l,f,p,v,A){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(VR())l.flags|=8192;else throw Lu=Ug,Tb}else l.flags&=-16777217}function mR(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!kO(f))if(VR())l.flags|=8192;else throw Lu=Ug,Tb}function rv(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?_o():536870912,l.lanes|=f,_d|=f)}function E0(l,f){if(!Qt)switch(l.tailMode){case"hidden":f=l.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Kr(l){var f=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(f)for(var A=l.child;A!==null;)p|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)p|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=v,l.childLanes=p,f}function BW(l,f,p){var v=f.pendingProps;switch(mb(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(f),null;case 1:return Kr(f),null;case 3:return p=f.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),ul(On),oe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(od(f)?pl(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,vb())),Kr(f),null;case 26:var A=f.type,C=f.memoizedState;return l===null?(pl(f),C!==null?(Kr(f),mR(f,C)):(Kr(f),ow(f,A,null,v,p))):C?C!==l.memoizedState?(pl(f),Kr(f),mR(f,C)):(Kr(f),f.flags&=-16777217):(l=l.memoizedProps,l!==v&&pl(f),Kr(f),ow(f,A,l,v,p)),null;case 27:if(De(f),p=he.current,A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&pl(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return Kr(f),null}l=X.current,od(f)?Wk(f):(l=wO(A,v,p),f.stateNode=l,pl(f))}return Kr(f),null;case 5:if(De(f),A=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==v&&pl(f);else{if(!v){if(f.stateNode===null)throw Error(n(166));return Kr(f),null}if(C=X.current,od(f))Wk(f);else{var z=vv(he.current);switch(C){case 1:C=z.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=z.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=z.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?z.createElement(A,{is:v.is}):z.createElement(A)}}C[te]=f,C[re]=v;e:for(z=f.child;z!==null;){if(z.tag===5||z.tag===6)C.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===f)break e;for(;z.sibling===null;){if(z.return===null||z.return===f)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}f.stateNode=C;e:switch(Ai(C,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&pl(f)}}return Kr(f),ow(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,p),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==v&&pl(f);else{if(typeof v!="string"&&f.stateNode===null)throw Error(n(166));if(l=he.current,od(f)){if(l=f.stateNode,p=f.memoizedProps,v=null,A=wi,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}l[te]=f,l=!!(l.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||fO(l.nodeValue,p)),l||lc(f,!0)}else l=vv(l).createTextNode(v),l[te]=f,f.stateNode=l}return Kr(f),null;case 31:if(p=f.memoizedState,l===null||l.memoizedState!==null){if(v=od(f),p!==null){if(l===null){if(!v)throw Error(n(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[te]=f}else Ru(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Kr(f),l=!1}else p=vb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return f.flags&256?(Ja(f),f):(Ja(f),null);if((f.flags&128)!==0)throw Error(n(558))}return Kr(f),null;case 13:if(v=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=od(f),v!==null&&v.dehydrated!==null){if(l===null){if(!A)throw Error(n(318));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[te]=f}else Ru(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Kr(f),A=!1}else A=vb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return f.flags&256?(Ja(f),f):(Ja(f),null)}return Ja(f),(f.flags&128)!==0?(f.lanes=p,f):(p=v!==null,l=l!==null&&l.memoizedState!==null,p&&(v=f.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==A&&(v.flags|=2048)),p!==l&&p&&(f.child.flags|=8192),rv(f,f.updateQueue),Kr(f),null);case 4:return oe(),l===null&&Iw(f.stateNode.containerInfo),Kr(f),null;case 10:return ul(f.type),Kr(f),null;case 19:if(V(Tn),v=f.memoizedState,v===null)return Kr(f),null;if(A=(f.flags&128)!==0,C=v.rendering,C===null)if(A)E0(v,!1);else{if(dn!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(C=$g(l),C!==null){for(f.flags|=128,E0(v,!1),l=C.updateQueue,f.updateQueue=l,rv(f,l),f.subtreeFlags=0,l=p,p=f.child;p!==null;)$k(p,l),p=p.sibling;return ee(Tn,Tn.current&1|2),Qt&&ll(f,v.treeForkCount),f.child}l=l.sibling}v.tail!==null&&_t()>ov&&(f.flags|=128,A=!0,E0(v,!1),f.lanes=4194304)}else{if(!A)if(l=$g(C),l!==null){if(f.flags|=128,A=!0,l=l.updateQueue,f.updateQueue=l,rv(f,l),E0(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Qt)return Kr(f),null}else 2*_t()-v.renderingStartTime>ov&&p!==536870912&&(f.flags|=128,A=!0,E0(v,!1),f.lanes=4194304);v.isBackwards?(C.sibling=f.child,f.child=C):(l=v.last,l!==null?l.sibling=C:f.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=_t(),l.sibling=null,p=Tn.current,ee(Tn,A?p&1|2:p&1),Qt&&ll(f,v.treeForkCount),l):(Kr(f),null);case 22:case 23:return Ja(f),kb(),v=f.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(f.flags|=8192):v&&(f.flags|=8192),v?(p&536870912)!==0&&(f.flags&128)===0&&(Kr(f),f.subtreeFlags&6&&(f.flags|=8192)):Kr(f),p=f.updateQueue,p!==null&&rv(f,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==p&&(f.flags|=2048),l!==null&&V(Du),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),ul(On),Kr(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function VW(l,f){switch(mb(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return ul(On),oe(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return De(f),null;case 31:if(f.memoizedState!==null){if(Ja(f),f.alternate===null)throw Error(n(340));Ru()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(Ja(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Ru()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return V(Tn),null;case 4:return oe(),null;case 10:return ul(f.type),null;case 22:case 23:return Ja(f),kb(),l!==null&&V(Du),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return ul(On),null;case 25:return null;default:return null}}function gR(l,f){switch(mb(f),f.tag){case 3:ul(On),oe();break;case 26:case 27:case 5:De(f);break;case 4:oe();break;case 31:f.memoizedState!==null&&Ja(f);break;case 13:Ja(f);break;case 19:V(Tn);break;case 10:ul(f.type);break;case 22:case 23:Ja(f),kb(),l!==null&&V(Du);break;case 24:ul(On)}}function T0(l,f){try{var p=f.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var A=v.next;p=A;do{if((p.tag&l)===l){v=void 0;var C=p.create,z=p.inst;v=C(),z.destroy=v}p=p.next}while(p!==A)}}catch(Y){Cr(f,f.return,Y)}}function mc(l,f,p){try{var v=f.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var C=A.next;v=C;do{if((v.tag&l)===l){var z=v.inst,Y=z.destroy;if(Y!==void 0){z.destroy=void 0,A=f;var de=p,Se=Y;try{Se()}catch(Me){Cr(A,de,Me)}}}v=v.next}while(v!==C)}}catch(Me){Cr(f,f.return,Me)}}function vR(l){var f=l.updateQueue;if(f!==null){var p=l.stateNode;try{oP(f,p)}catch(v){Cr(l,l.return,v)}}}function yR(l,f,p){p.props=Bu(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(v){Cr(l,f,v)}}function A0(l,f){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof p=="function"?l.refCleanup=p(v):p.current=v}}catch(A){Cr(l,f,A)}}function ko(l,f){var p=l.ref,v=l.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(A){Cr(l,f,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){Cr(l,f,A)}else p.current=null}function xR(l){var f=l.type,p=l.memoizedProps,v=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(A){Cr(l,l.return,A)}}function lw(l,f,p){try{var v=l.stateNode;cY(v,l.type,p,f),v[re]=f}catch(A){Cr(l,l.return,A)}}function _R(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&wc(l.type)||l.tag===4}function cw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||_R(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&wc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function uw(l,f,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(l),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=wa));else if(v!==4&&(v===27&&wc(l.type)&&(p=l.stateNode,f=null),l=l.child,l!==null))for(uw(l,f,p),l=l.sibling;l!==null;)uw(l,f,p),l=l.sibling}function nv(l,f,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,f?p.insertBefore(l,f):p.appendChild(l);else if(v!==4&&(v===27&&wc(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(nv(l,f,p),l=l.sibling;l!==null;)nv(l,f,p),l=l.sibling}function bR(l){var f=l.stateNode,p=l.memoizedProps;try{for(var v=l.type,A=f.attributes;A.length;)f.removeAttributeNode(A[0]);Ai(f,v,p),f[te]=l,f[re]=p}catch(C){Cr(l,l.return,C)}}var ml=!1,Fn=!1,fw=!1,wR=typeof WeakSet=="function"?WeakSet:Set,oi=null;function zW(l,f){if(l=l.containerInfo,Rw=Tv,l=Mk(l),ib(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var A=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var z=0,Y=-1,de=-1,Se=0,Me=0,Be=l,Ne=null;t:for(;;){for(var Pe;Be!==p||A!==0&&Be.nodeType!==3||(Y=z+A),Be!==C||v!==0&&Be.nodeType!==3||(de=z+v),Be.nodeType===3&&(z+=Be.nodeValue.length),(Pe=Be.firstChild)!==null;)Ne=Be,Be=Pe;for(;;){if(Be===l)break t;if(Ne===p&&++Se===A&&(Y=z),Ne===C&&++Me===v&&(de=z),(Pe=Be.nextSibling)!==null)break;Be=Ne,Ne=Be.parentNode}Be=Pe}p=Y===-1||de===-1?null:{start:Y,end:de}}else p=null}p=p||{start:0,end:0}}else p=null;for(Ow={focusedElem:l,selectionRange:p},Tv=!1,oi=f;oi!==null;)if(f=oi,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,oi=l;else for(;oi!==null;){switch(f=oi,C=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)A=l[p],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,p=f,A=C.memoizedProps,C=C.memoizedState,v=p.stateNode;try{var ct=Bu(p.type,A);l=v.getSnapshotBeforeUpdate(ct,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(bt){Cr(p,p.return,bt)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,p=l.nodeType,p===9)Fw(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Fw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=f.sibling,l!==null){l.return=f.return,oi=l;break}oi=f.return}}function ER(l,f,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:vl(l,p),v&4&&T0(5,p);break;case 1:if(vl(l,p),v&4)if(l=p.stateNode,f===null)try{l.componentDidMount()}catch(z){Cr(p,p.return,z)}else{var A=Bu(p.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(A,f,l.__reactInternalSnapshotBeforeUpdate)}catch(z){Cr(p,p.return,z)}}v&64&&vR(p),v&512&&A0(p,p.return);break;case 3:if(vl(l,p),v&64&&(l=p.updateQueue,l!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{oP(l,f)}catch(z){Cr(p,p.return,z)}}break;case 27:f===null&&v&4&&bR(p);case 26:case 5:vl(l,p),f===null&&v&4&&xR(p),v&512&&A0(p,p.return);break;case 12:vl(l,p);break;case 31:vl(l,p),v&4&&SR(l,p);break;case 13:vl(l,p),v&4&&CR(l,p),v&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=XW.bind(null,p),vY(l,p))));break;case 22:if(v=p.memoizedState!==null||ml,!v){f=f!==null&&f.memoizedState!==null||Fn,A=ml;var C=Fn;ml=v,(Fn=f)&&!C?yl(l,p,(p.subtreeFlags&8772)!==0):vl(l,p),ml=A,Fn=C}break;case 30:break;default:vl(l,p)}}function TR(l){var f=l.alternate;f!==null&&(l.alternate=null,TR(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&Ge(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Qr=null,Ea=!1;function gl(l,f,p){for(p=p.child;p!==null;)AR(l,f,p),p=p.sibling}function AR(l,f,p){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(Bt,p)}catch{}switch(p.tag){case 26:Fn||ko(p,f),gl(l,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Fn||ko(p,f);var v=Qr,A=Ea;wc(p.type)&&(Qr=p.stateNode,Ea=!1),gl(l,f,p),M0(p.stateNode),Qr=v,Ea=A;break;case 5:Fn||ko(p,f);case 6:if(v=Qr,A=Ea,Qr=null,gl(l,f,p),Qr=v,Ea=A,Qr!==null)if(Ea)try{(Qr.nodeType===9?Qr.body:Qr.nodeName==="HTML"?Qr.ownerDocument.body:Qr).removeChild(p.stateNode)}catch(C){Cr(p,f,C)}else try{Qr.removeChild(p.stateNode)}catch(C){Cr(p,f,C)}break;case 18:Qr!==null&&(Ea?(l=Qr,vO(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Nd(l)):vO(Qr,p.stateNode));break;case 4:v=Qr,A=Ea,Qr=p.stateNode.containerInfo,Ea=!0,gl(l,f,p),Qr=v,Ea=A;break;case 0:case 11:case 14:case 15:mc(2,p,f),Fn||mc(4,p,f),gl(l,f,p);break;case 1:Fn||(ko(p,f),v=p.stateNode,typeof v.componentWillUnmount=="function"&&yR(p,f,v)),gl(l,f,p);break;case 21:gl(l,f,p);break;case 22:Fn=(v=Fn)||p.memoizedState!==null,gl(l,f,p),Fn=v;break;default:gl(l,f,p)}}function SR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Nd(l)}catch(p){Cr(f,f.return,p)}}}function CR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Nd(l)}catch(p){Cr(f,f.return,p)}}function $W(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new wR),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new wR),f;default:throw Error(n(435,l.tag))}}function iv(l,f){var p=$W(l);f.forEach(function(v){if(!p.has(v)){p.add(v);var A=ZW.bind(null,l,v);v.then(A,A)}})}function Ta(l,f){var p=f.deletions;if(p!==null)for(var v=0;v<p.length;v++){var A=p[v],C=l,z=f,Y=z;e:for(;Y!==null;){switch(Y.tag){case 27:if(wc(Y.type)){Qr=Y.stateNode,Ea=!1;break e}break;case 5:Qr=Y.stateNode,Ea=!1;break e;case 3:case 4:Qr=Y.stateNode.containerInfo,Ea=!0;break e}Y=Y.return}if(Qr===null)throw Error(n(160));AR(C,z,A),Qr=null,Ea=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)NR(f,l),f=f.sibling}var Ks=null;function NR(l,f){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ta(f,l),Aa(l),v&4&&(mc(3,l,l.return),T0(3,l),mc(5,l,l.return));break;case 1:Ta(f,l),Aa(l),v&512&&(Fn||p===null||ko(p,p.return)),v&64&&ml&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var A=Ks;if(Ta(f,l),Aa(l),v&512&&(Fn||p===null||ko(p,p.return)),v&4){var C=p!==null?p.memoizedState:null;if(v=l.memoizedState,p===null)if(v===null)if(l.stateNode===null){e:{v=l.type,p=l.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Ae]||C[te]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(v),A.head.insertBefore(C,A.querySelector("head > title"))),Ai(C,v,p),C[te]=l,ot(C),v=C;break e;case"link":var z=NO("link","href",A).get(v+(p.href||""));if(z){for(var Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){z.splice(Y,1);break t}}C=A.createElement(v),Ai(C,v,p),A.head.appendChild(C);break;case"meta":if(z=NO("meta","content",A).get(v+(p.content||""))){for(Y=0;Y<z.length;Y++)if(C=z[Y],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){z.splice(Y,1);break t}}C=A.createElement(v),Ai(C,v,p),A.head.appendChild(C);break;default:throw Error(n(468,v))}C[te]=l,ot(C),v=C}l.stateNode=v}else IO(A,l.type,l.stateNode);else l.stateNode=CO(A,v,l.memoizedProps);else C!==v?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,v===null?IO(A,l.type,l.stateNode):CO(A,v,l.memoizedProps)):v===null&&l.stateNode!==null&&lw(l,l.memoizedProps,p.memoizedProps)}break;case 27:Ta(f,l),Aa(l),v&512&&(Fn||p===null||ko(p,p.return)),p!==null&&v&4&&lw(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Ta(f,l),Aa(l),v&512&&(Fn||p===null||ko(p,p.return)),l.flags&32){A=l.stateNode;try{St(A,"")}catch(ct){Cr(l,l.return,ct)}}v&4&&l.stateNode!=null&&(A=l.memoizedProps,lw(l,A,p!==null?p.memoizedProps:A)),v&1024&&(fw=!0);break;case 6:if(Ta(f,l),Aa(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,p=l.stateNode;try{p.nodeValue=v}catch(ct){Cr(l,l.return,ct)}}break;case 3:if(_v=null,A=Ks,Ks=yv(f.containerInfo),Ta(f,l),Ks=A,Aa(l),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Nd(f.containerInfo)}catch(ct){Cr(l,l.return,ct)}fw&&(fw=!1,IR(l));break;case 4:v=Ks,Ks=yv(l.stateNode.containerInfo),Ta(f,l),Aa(l),Ks=v;break;case 12:Ta(f,l),Aa(l);break;case 31:Ta(f,l),Aa(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,iv(l,v)));break;case 13:Ta(f,l),Aa(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(sv=_t()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,iv(l,v)));break;case 22:A=l.memoizedState!==null;var de=p!==null&&p.memoizedState!==null,Se=ml,Me=Fn;if(ml=Se||A,Fn=Me||de,Ta(f,l),Fn=Me,ml=Se,Aa(l),v&8192)e:for(f=l.stateNode,f._visibility=A?f._visibility&-2:f._visibility|1,A&&(p===null||de||ml||Fn||Vu(l)),p=null,f=l;;){if(f.tag===5||f.tag===26){if(p===null){de=p=f;try{if(C=de.stateNode,A)z=C.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Y=de.stateNode;var Be=de.memoizedProps.style,Ne=Be!=null&&Be.hasOwnProperty("display")?Be.display:null;Y.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(ct){Cr(de,de.return,ct)}}}else if(f.tag===6){if(p===null){de=f;try{de.stateNode.nodeValue=A?"":de.memoizedProps}catch(ct){Cr(de,de.return,ct)}}}else if(f.tag===18){if(p===null){de=f;try{var Pe=de.stateNode;A?yO(Pe,!0):yO(de.stateNode,!1)}catch(ct){Cr(de,de.return,ct)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}v&4&&(v=l.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,iv(l,p))));break;case 19:Ta(f,l),Aa(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,iv(l,v)));break;case 30:break;case 21:break;default:Ta(f,l),Aa(l)}}function Aa(l){var f=l.flags;if(f&2){try{for(var p,v=l.return;v!==null;){if(_R(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var A=p.stateNode,C=cw(l);nv(l,C,A);break;case 5:var z=p.stateNode;p.flags&32&&(St(z,""),p.flags&=-33);var Y=cw(l);nv(l,Y,z);break;case 3:case 4:var de=p.stateNode.containerInfo,Se=cw(l);uw(l,Se,de);break;default:throw Error(n(161))}}catch(Me){Cr(l,l.return,Me)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function IR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;IR(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function vl(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)ER(l,f.alternate,f),f=f.sibling}function Vu(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:mc(4,f,f.return),Vu(f);break;case 1:ko(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&yR(f,f.return,p),Vu(f);break;case 27:M0(f.stateNode);case 26:case 5:ko(f,f.return),Vu(f);break;case 22:f.memoizedState===null&&Vu(f);break;case 30:Vu(f);break;default:Vu(f)}l=l.sibling}}function yl(l,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var v=f.alternate,A=l,C=f,z=C.flags;switch(C.tag){case 0:case 11:case 15:yl(A,C,p),T0(4,C);break;case 1:if(yl(A,C,p),v=C,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Se){Cr(v,v.return,Se)}if(v=C,A=v.updateQueue,A!==null){var Y=v.stateNode;try{var de=A.shared.hiddenCallbacks;if(de!==null)for(A.shared.hiddenCallbacks=null,A=0;A<de.length;A++)sP(de[A],Y)}catch(Se){Cr(v,v.return,Se)}}p&&z&64&&vR(C),A0(C,C.return);break;case 27:bR(C);case 26:case 5:yl(A,C,p),p&&v===null&&z&4&&xR(C),A0(C,C.return);break;case 12:yl(A,C,p);break;case 31:yl(A,C,p),p&&z&4&&SR(A,C);break;case 13:yl(A,C,p),p&&z&4&&CR(A,C);break;case 22:C.memoizedState===null&&yl(A,C,p),A0(C,C.return);break;case 30:break;default:yl(A,C,p)}f=f.sibling}}function dw(l,f){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&f0(p))}function hw(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&f0(l))}function Ws(l,f,p,v){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)kR(l,f,p,v),f=f.sibling}function kR(l,f,p,v){var A=f.flags;switch(f.tag){case 0:case 11:case 15:Ws(l,f,p,v),A&2048&&T0(9,f);break;case 1:Ws(l,f,p,v);break;case 3:Ws(l,f,p,v),A&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&f0(l)));break;case 12:if(A&2048){Ws(l,f,p,v),l=f.stateNode;try{var C=f.memoizedProps,z=C.id,Y=C.onPostCommit;typeof Y=="function"&&Y(z,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(de){Cr(f,f.return,de)}}else Ws(l,f,p,v);break;case 31:Ws(l,f,p,v);break;case 13:Ws(l,f,p,v);break;case 23:break;case 22:C=f.stateNode,z=f.alternate,f.memoizedState!==null?C._visibility&2?Ws(l,f,p,v):S0(l,f):C._visibility&2?Ws(l,f,p,v):(C._visibility|=2,vd(l,f,p,v,(f.subtreeFlags&10256)!==0||!1)),A&2048&&dw(z,f);break;case 24:Ws(l,f,p,v),A&2048&&hw(f.alternate,f);break;default:Ws(l,f,p,v)}}function vd(l,f,p,v,A){for(A=A&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var C=l,z=f,Y=p,de=v,Se=z.flags;switch(z.tag){case 0:case 11:case 15:vd(C,z,Y,de,A),T0(8,z);break;case 23:break;case 22:var Me=z.stateNode;z.memoizedState!==null?Me._visibility&2?vd(C,z,Y,de,A):S0(C,z):(Me._visibility|=2,vd(C,z,Y,de,A)),A&&Se&2048&&dw(z.alternate,z);break;case 24:vd(C,z,Y,de,A),A&&Se&2048&&hw(z.alternate,z);break;default:vd(C,z,Y,de,A)}f=f.sibling}}function S0(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=l,v=f,A=v.flags;switch(v.tag){case 22:S0(p,v),A&2048&&dw(v.alternate,v);break;case 24:S0(p,v),A&2048&&hw(v.alternate,v);break;default:S0(p,v)}f=f.sibling}}var C0=8192;function yd(l,f,p){if(l.subtreeFlags&C0)for(l=l.child;l!==null;)PR(l,f,p),l=l.sibling}function PR(l,f,p){switch(l.tag){case 26:yd(l,f,p),l.flags&C0&&l.memoizedState!==null&&IY(p,Ks,l.memoizedState,l.memoizedProps);break;case 5:yd(l,f,p);break;case 3:case 4:var v=Ks;Ks=yv(l.stateNode.containerInfo),yd(l,f,p),Ks=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=C0,C0=16777216,yd(l,f,p),C0=v):yd(l,f,p));break;default:yd(l,f,p)}}function RR(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function N0(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var v=f[p];oi=v,MR(v,l)}RR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)OR(l),l=l.sibling}function OR(l){switch(l.tag){case 0:case 11:case 15:N0(l),l.flags&2048&&mc(9,l,l.return);break;case 3:N0(l);break;case 12:N0(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,av(l)):N0(l);break;default:N0(l)}}function av(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var v=f[p];oi=v,MR(v,l)}RR(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:mc(8,f,f.return),av(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,av(f));break;default:av(f)}l=l.sibling}}function MR(l,f){for(;oi!==null;){var p=oi;switch(p.tag){case 0:case 11:case 15:mc(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:f0(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,oi=v;else e:for(p=l;oi!==null;){v=oi;var A=v.sibling,C=v.return;if(TR(v),v===p){oi=null;break e}if(A!==null){A.return=C,oi=A;break e}oi=C}}}var HW={getCacheForType:function(l){var f=Ei(On),p=f.data.get(l);return p===void 0&&(p=l(),f.data.set(l,p)),p},cacheSignal:function(){return Ei(On).controller.signal}},GW=typeof WeakMap=="function"?WeakMap:Map,yr=0,jr=null,Ht=null,Kt=0,Sr=0,Xa=null,gc=!1,xd=!1,pw=!1,xl=0,dn=0,vc=0,zu=0,mw=0,Za=0,_d=0,I0=null,Sa=null,gw=!1,sv=0,DR=0,ov=1/0,lv=null,yc=null,Kn=0,xc=null,bd=null,_l=0,vw=0,yw=null,FR=null,k0=0,xw=null;function Qa(){return(yr&2)!==0&&Kt!==0?Kt&-Kt:ne.T!==null?Aw():W()}function LR(){if(Za===0)if((Kt&536870912)===0||Qt){var l=xo;xo<<=1,(xo&3932160)===0&&(xo=262144),Za=l}else Za=536870912;return l=Ya.current,l!==null&&(l.flags|=32),Za}function Ca(l,f,p){(l===jr&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)&&(wd(l,0),_c(l,Kt,Za,!1)),ba(l,p),((yr&2)===0||l!==jr)&&(l===jr&&((yr&2)===0&&(zu|=p),dn===4&&_c(l,Kt,Za,!1)),Po(l))}function jR(l,f,p){if((yr&6)!==0)throw Error(n(327));var v=!p&&(f&127)===0&&(f&l.expiredLanes)===0||xa(l,f),A=v?WW(l,f):bw(l,f,!0),C=v;do{if(A===0){xd&&!v&&_c(l,f,0,!1);break}else{if(p=l.current.alternate,C&&!qW(p)){A=bw(l,f,!1),C=!1;continue}if(A===2){if(C=f,l.errorRecoveryDisabledLanes&C)var z=0;else z=l.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){f=z;e:{var Y=l;A=I0;var de=Y.current.memoizedState.isDehydrated;if(de&&(wd(Y,z).flags|=256),z=bw(Y,z,!1),z!==2){if(pw&&!de){Y.errorRecoveryDisabledLanes|=C,zu|=C,A=4;break e}C=Sa,Sa=A,C!==null&&(Sa===null?Sa=C:Sa.push.apply(Sa,C))}A=z}if(C=!1,A!==2)continue}}if(A===1){wd(l,0),_c(l,f,0,!0);break}e:{switch(v=l,C=A,C){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:_c(v,f,Za,!gc);break e;case 2:Sa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(A=sv+300-_t(),10<A)){if(_c(v,f,Za,!gc),za(v,0,!0)!==0)break e;_l=f,v.timeoutHandle=mO(UR.bind(null,v,p,Sa,lv,gw,f,Za,zu,_d,gc,C,"Throttled",-0,0),A);break e}UR(v,p,Sa,lv,gw,f,Za,zu,_d,gc,C,null,-0,0)}}break}while(!0);Po(l)}function UR(l,f,p,v,A,C,z,Y,de,Se,Me,Be,Ne,Pe){if(l.timeoutHandle=-1,Be=f.subtreeFlags,Be&8192||(Be&16785408)===16785408){Be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},PR(f,C,Be);var ct=(C&62914560)===C?sv-_t():(C&4194048)===C?DR-_t():0;if(ct=kY(Be,ct),ct!==null){_l=C,l.cancelPendingCommit=ct(KR.bind(null,l,f,C,p,v,A,z,Y,de,Me,Be,null,Ne,Pe)),_c(l,C,z,!Se);return}}KR(l,f,C,p,v,A,z,Y,de)}function qW(l){for(var f=l;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var A=p[v],C=A.getSnapshot;A=A.value;try{if(!Ka(C(),A))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function _c(l,f,p,v){f&=~mw,f&=~zu,l.suspendedLanes|=f,l.pingedLanes&=~f,v&&(l.warmLanes|=f),v=l.expirationTimes;for(var A=f;0<A;){var C=31-mt(A),z=1<<C;v[C]=-1,A&=~z}p!==0&&_i(l,p,f)}function cv(){return(yr&6)===0?(P0(0),!1):!0}function _w(){if(Ht!==null){if(Sr===0)var l=Ht.return;else l=Ht,cl=Ou=null,Fb(l),dd=null,h0=0,l=Ht;for(;l!==null;)gR(l.alternate,l),l=l.return;Ht=null}}function wd(l,f){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,dY(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),_l=0,_w(),jr=l,Ht=p=ol(l.current,null),Kt=f,Sr=0,Xa=null,gc=!1,xd=xa(l,f),pw=!1,_d=Za=mw=zu=vc=dn=0,Sa=I0=null,gw=!1,(f&8)!==0&&(f|=f&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=f;0<v;){var A=31-mt(v),C=1<<A;f|=l[A],v&=~C}return xl=f,kg(),p}function BR(l,f){Lt=null,ne.H=b0,f===fd||f===jg?(f=rP(),Sr=3):f===Tb?(f=rP(),Sr=4):Sr=f===Zb?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Xa=f,Ht===null&&(dn=1,Zg(l,gs(f,l.current)))}function VR(){var l=Ya.current;return l===null?!0:(Kt&4194048)===Kt?_s===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?l===_s:!1}function zR(){var l=ne.H;return ne.H=b0,l===null?b0:l}function $R(){var l=ne.A;return ne.A=HW,l}function uv(){dn=4,gc||(Kt&4194048)!==Kt&&Ya.current!==null||(xd=!0),(vc&134217727)===0&&(zu&134217727)===0||jr===null||_c(jr,Kt,Za,!1)}function bw(l,f,p){var v=yr;yr|=2;var A=zR(),C=$R();(jr!==l||Kt!==f)&&(lv=null,wd(l,f)),f=!1;var z=dn;e:do try{if(Sr!==0&&Ht!==null){var Y=Ht,de=Xa;switch(Sr){case 8:_w(),z=6;break e;case 3:case 2:case 9:case 6:Ya.current===null&&(f=!0);var Se=Sr;if(Sr=0,Xa=null,Ed(l,Y,de,Se),p&&xd){z=0;break e}break;default:Se=Sr,Sr=0,Xa=null,Ed(l,Y,de,Se)}}KW(),z=dn;break}catch(Me){BR(l,Me)}while(!0);return f&&l.shellSuspendCounter++,cl=Ou=null,yr=v,ne.H=A,ne.A=C,Ht===null&&(jr=null,Kt=0,kg()),z}function KW(){for(;Ht!==null;)HR(Ht)}function WW(l,f){var p=yr;yr|=2;var v=zR(),A=$R();jr!==l||Kt!==f?(lv=null,ov=_t()+500,wd(l,f)):xd=xa(l,f);e:do try{if(Sr!==0&&Ht!==null){f=Ht;var C=Xa;t:switch(Sr){case 1:Sr=0,Xa=null,Ed(l,f,C,1);break;case 2:case 9:if(eP(C)){Sr=0,Xa=null,GR(f);break}f=function(){Sr!==2&&Sr!==9||jr!==l||(Sr=7),Po(l)},C.then(f,f);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:eP(C)?(Sr=0,Xa=null,GR(f)):(Sr=0,Xa=null,Ed(l,f,C,7));break;case 5:var z=null;switch(Ht.tag){case 26:z=Ht.memoizedState;case 5:case 27:var Y=Ht;if(z?kO(z):Y.stateNode.complete){Sr=0,Xa=null;var de=Y.sibling;if(de!==null)Ht=de;else{var Se=Y.return;Se!==null?(Ht=Se,fv(Se)):Ht=null}break t}}Sr=0,Xa=null,Ed(l,f,C,5);break;case 6:Sr=0,Xa=null,Ed(l,f,C,6);break;case 8:_w(),dn=6;break e;default:throw Error(n(462))}}YW();break}catch(Me){BR(l,Me)}while(!0);return cl=Ou=null,ne.H=v,ne.A=A,yr=p,Ht!==null?0:(jr=null,Kt=0,kg(),dn)}function YW(){for(;Ht!==null&&!Gr();)HR(Ht)}function HR(l){var f=pR(l.alternate,l,xl);l.memoizedProps=l.pendingProps,f===null?fv(l):Ht=f}function GR(l){var f=l,p=f.alternate;switch(f.tag){case 15:case 0:f=lR(p,f,f.pendingProps,f.type,void 0,Kt);break;case 11:f=lR(p,f,f.pendingProps,f.type.render,f.ref,Kt);break;case 5:Fb(f);default:gR(p,f),f=Ht=$k(f,xl),f=pR(p,f,xl)}l.memoizedProps=l.pendingProps,f===null?fv(l):Ht=f}function Ed(l,f,p,v){cl=Ou=null,Fb(f),dd=null,h0=0;var A=f.return;try{if(LW(l,A,f,p,Kt)){dn=1,Zg(l,gs(p,l.current)),Ht=null;return}}catch(C){if(A!==null)throw Ht=A,C;dn=1,Zg(l,gs(p,l.current)),Ht=null;return}f.flags&32768?(Qt||v===1?l=!0:xd||(Kt&536870912)!==0?l=!1:(gc=l=!0,(v===2||v===9||v===3||v===6)&&(v=Ya.current,v!==null&&v.tag===13&&(v.flags|=16384))),qR(f,l)):fv(f)}function fv(l){var f=l;do{if((f.flags&32768)!==0){qR(f,gc);return}l=f.return;var p=BW(f.alternate,f,xl);if(p!==null){Ht=p;return}if(f=f.sibling,f!==null){Ht=f;return}Ht=f=l}while(f!==null);dn===0&&(dn=5)}function qR(l,f){do{var p=VW(l.alternate,l);if(p!==null){p.flags&=32767,Ht=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(l=l.sibling,l!==null)){Ht=l;return}Ht=l=p}while(l!==null);dn=6,Ht=null}function KR(l,f,p,v,A,C,z,Y,de){l.cancelPendingCommit=null;do dv();while(Kn!==0);if((yr&6)!==0)throw Error(n(327));if(f!==null){if(f===l.current)throw Error(n(177));if(C=f.lanes|f.childLanes,C|=cb,_u(l,p,C,z,Y,de),l===jr&&(Ht=jr=null,Kt=0),bd=f,xc=l,_l=p,vw=C,yw=A,FR=v,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,QW(ft,function(){return ZR(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||v){v=ne.T,ne.T=null,A=ue.p,ue.p=2,z=yr,yr|=4;try{zW(l,f,p)}finally{yr=z,ue.p=A,ne.T=v}}Kn=1,WR(),YR(),JR()}}function WR(){if(Kn===1){Kn=0;var l=xc,f=bd,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=ne.T,ne.T=null;var v=ue.p;ue.p=2;var A=yr;yr|=4;try{NR(f,l);var C=Ow,z=Mk(l.containerInfo),Y=C.focusedElem,de=C.selectionRange;if(z!==Y&&Y&&Y.ownerDocument&&Ok(Y.ownerDocument.documentElement,Y)){if(de!==null&&ib(Y)){var Se=de.start,Me=de.end;if(Me===void 0&&(Me=Se),"selectionStart"in Y)Y.selectionStart=Se,Y.selectionEnd=Math.min(Me,Y.value.length);else{var Be=Y.ownerDocument||document,Ne=Be&&Be.defaultView||window;if(Ne.getSelection){var Pe=Ne.getSelection(),ct=Y.textContent.length,bt=Math.min(de.start,ct),Dr=de.end===void 0?bt:Math.min(de.end,ct);!Pe.extend&&bt>Dr&&(z=Dr,Dr=bt,bt=z);var ve=Rk(Y,bt),pe=Rk(Y,Dr);if(ve&&pe&&(Pe.rangeCount!==1||Pe.anchorNode!==ve.node||Pe.anchorOffset!==ve.offset||Pe.focusNode!==pe.node||Pe.focusOffset!==pe.offset)){var Te=Be.createRange();Te.setStart(ve.node,ve.offset),Pe.removeAllRanges(),bt>Dr?(Pe.addRange(Te),Pe.extend(pe.node,pe.offset)):(Te.setEnd(pe.node,pe.offset),Pe.addRange(Te))}}}}for(Be=[],Pe=Y;Pe=Pe.parentNode;)Pe.nodeType===1&&Be.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Be.length;Y++){var Le=Be[Y];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Tv=!!Rw,Ow=Rw=null}finally{yr=A,ue.p=v,ne.T=p}}l.current=f,Kn=2}}function YR(){if(Kn===2){Kn=0;var l=xc,f=bd,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=ne.T,ne.T=null;var v=ue.p;ue.p=2;var A=yr;yr|=4;try{ER(l,f.alternate,f)}finally{yr=A,ue.p=v,ne.T=p}}Kn=3}}function JR(){if(Kn===4||Kn===3){Kn=0,Br();var l=xc,f=bd,p=_l,v=FR;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Kn=5:(Kn=0,bd=xc=null,XR(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(yc=null),Pn(p),f=f.stateNode,_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(Bt,f,void 0,(f.current.flags&128)===128)}catch{}if(v!==null){f=ne.T,A=ue.p,ue.p=2,ne.T=null;try{for(var C=l.onRecoverableError,z=0;z<v.length;z++){var Y=v[z];C(Y.value,{componentStack:Y.stack})}}finally{ne.T=f,ue.p=A}}(_l&3)!==0&&dv(),Po(l),A=l.pendingLanes,(p&261930)!==0&&(A&42)!==0?l===xw?k0++:(k0=0,xw=l):k0=0,P0(0)}}function XR(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,f0(f)))}function dv(){return WR(),YR(),JR(),ZR()}function ZR(){if(Kn!==5)return!1;var l=xc,f=vw;vw=0;var p=Pn(_l),v=ne.T,A=ue.p;try{ue.p=32>p?32:p,ne.T=null,p=yw,yw=null;var C=xc,z=_l;if(Kn=0,bd=xc=null,_l=0,(yr&6)!==0)throw Error(n(331));var Y=yr;if(yr|=4,OR(C.current),kR(C,C.current,z,p),yr=Y,P0(0,!1),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(Bt,C)}catch{}return!0}finally{ue.p=A,ne.T=v,XR(l,f)}}function QR(l,f,p){f=gs(p,f),f=Xb(l.stateNode,f,2),l=dc(l,f,2),l!==null&&(ba(l,2),Po(l))}function Cr(l,f,p){if(l.tag===3)QR(l,l,p);else for(;f!==null;){if(f.tag===3){QR(f,l,p);break}else if(f.tag===1){var v=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(yc===null||!yc.has(v))){l=gs(p,l),p=eR(2),v=dc(f,p,2),v!==null&&(tR(p,v,f,l),ba(v,2),Po(v));break}}f=f.return}}function ww(l,f,p){var v=l.pingCache;if(v===null){v=l.pingCache=new GW;var A=new Set;v.set(f,A)}else A=v.get(f),A===void 0&&(A=new Set,v.set(f,A));A.has(p)||(pw=!0,A.add(p),l=JW.bind(null,l,f,p),f.then(l,l))}function JW(l,f,p){var v=l.pingCache;v!==null&&v.delete(f),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,jr===l&&(Kt&p)===p&&(dn===4||dn===3&&(Kt&62914560)===Kt&&300>_t()-sv?(yr&2)===0&&wd(l,0):mw|=p,_d===Kt&&(_d=0)),Po(l)}function eO(l,f){f===0&&(f=_o()),l=ku(l,f),l!==null&&(ba(l,f),Po(l))}function XW(l){var f=l.memoizedState,p=0;f!==null&&(p=f.retryLane),eO(l,p)}function ZW(l,f){var p=0;switch(l.tag){case 31:case 13:var v=l.stateNode,A=l.memoizedState;A!==null&&(p=A.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(f),eO(l,p)}function QW(l,f){return ht(l,f)}var hv=null,Td=null,Ew=!1,pv=!1,Tw=!1,bc=0;function Po(l){l!==Td&&l.next===null&&(Td===null?hv=Td=l:Td=Td.next=l),pv=!0,Ew||(Ew=!0,tY())}function P0(l,f){if(!Tw&&pv){Tw=!0;do for(var p=!1,v=hv;v!==null;){if(l!==0){var A=v.pendingLanes;if(A===0)var C=0;else{var z=v.suspendedLanes,Y=v.pingedLanes;C=(1<<31-mt(42|l)+1)-1,C&=A&~(z&~Y),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,iO(v,C))}else C=Kt,C=za(v,v===jr?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||xa(v,C)||(p=!0,iO(v,C));v=v.next}while(p);Tw=!1}}function eY(){tO()}function tO(){pv=Ew=!1;var l=0;bc!==0&&fY()&&(l=bc);for(var f=_t(),p=null,v=hv;v!==null;){var A=v.next,C=rO(v,f);C===0?(v.next=null,p===null?hv=A:p.next=A,A===null&&(Td=p)):(p=v,(l!==0||(C&3)!==0)&&(pv=!0)),v=A}Kn!==0&&Kn!==5||P0(l),bc!==0&&(bc=0)}function rO(l,f){for(var p=l.suspendedLanes,v=l.pingedLanes,A=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var z=31-mt(C),Y=1<<z,de=A[z];de===-1?((Y&p)===0||(Y&v)!==0)&&(A[z]=xu(Y,f)):de<=f&&(l.expiredLanes|=Y),C&=~Y}if(f=jr,p=Kt,p=za(l,l===f?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,p===0||l===f&&(Sr===2||Sr===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&It(v),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||xa(l,p)){if(f=p&-p,f===l.callbackPriority)return f;switch(v!==null&&It(v),Pn(p)){case 2:case 8:p=Er;break;case 32:p=ft;break;case 268435456:p=wt;break;default:p=ft}return v=nO.bind(null,l),p=ht(p,v),l.callbackPriority=f,l.callbackNode=p,f}return v!==null&&v!==null&&It(v),l.callbackPriority=2,l.callbackNode=null,2}function nO(l,f){if(Kn!==0&&Kn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(dv()&&l.callbackNode!==p)return null;var v=Kt;return v=za(l,l===jr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(jR(l,v,f),rO(l,_t()),l.callbackNode!=null&&l.callbackNode===p?nO.bind(null,l):null)}function iO(l,f){if(dv())return null;jR(l,f,!0)}function tY(){hY(function(){(yr&6)!==0?ht(qt,eY):tO()})}function Aw(){if(bc===0){var l=cd;l===0&&(l=ya,ya<<=1,(ya&261888)===0&&(ya=256)),bc=l}return bc}function aO(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:qa(""+l)}function sO(l,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,l.id&&p.setAttribute("form",l.id),f.parentNode.insertBefore(p,f),l=new FormData(l),p.parentNode.removeChild(p),l}function rY(l,f,p,v,A){if(f==="submit"&&p&&p.stateNode===A){var C=aO((A[re]||null).action),z=v.submitter;z&&(f=(f=z[re]||null)?aO(f.formAction):z.getAttribute("formAction"),f!==null&&(C=f,z=null));var Y=new To("action","action",null,v,A);l.push({event:Y,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(bc!==0){var de=z?sO(A,z):new FormData(A);Gb(p,{pending:!0,data:de,method:A.method,action:C},null,de)}}else typeof C=="function"&&(Y.preventDefault(),de=z?sO(A,z):new FormData(A),Gb(p,{pending:!0,data:de,method:A.method,action:C},C,de))},currentTarget:A}]})}}for(var Sw=0;Sw<lb.length;Sw++){var Cw=lb[Sw],nY=Cw.toLowerCase(),iY=Cw[0].toUpperCase()+Cw.slice(1);qs(nY,"on"+iY)}qs(Lk,"onAnimationEnd"),qs(jk,"onAnimationIteration"),qs(Uk,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(_W,"onTransitionRun"),qs(bW,"onTransitionStart"),qs(wW,"onTransitionCancel"),qs(Bk,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var R0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(R0));function oO(l,f){f=(f&4)!==0;for(var p=0;p<l.length;p++){var v=l[p],A=v.event;v=v.listeners;e:{var C=void 0;if(f)for(var z=v.length-1;0<=z;z--){var Y=v[z],de=Y.instance,Se=Y.currentTarget;if(Y=Y.listener,de!==C&&A.isPropagationStopped())break e;C=Y,A.currentTarget=Se;try{C(A)}catch(Me){Ig(Me)}A.currentTarget=null,C=de}else for(z=0;z<v.length;z++){if(Y=v[z],de=Y.instance,Se=Y.currentTarget,Y=Y.listener,de!==C&&A.isPropagationStopped())break e;C=Y,A.currentTarget=Se;try{C(A)}catch(Me){Ig(Me)}A.currentTarget=null,C=de}}}}function Gt(l,f){var p=f[we];p===void 0&&(p=f[we]=new Set);var v=l+"__bubble";p.has(v)||(lO(f,l,2,!1),p.add(v))}function Nw(l,f,p){var v=0;f&&(v|=4),lO(p,l,v,f)}var mv="_reactListening"+Math.random().toString(36).slice(2);function Iw(l){if(!l[mv]){l[mv]=!0,mr.forEach(function(p){p!=="selectionchange"&&(aY.has(p)||Nw(p,!1,l),Nw(p,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[mv]||(f[mv]=!0,Nw("selectionchange",!1,f))}}function lO(l,f,p,v){switch(LO(f)){case 2:var A=OY;break;case 8:A=MY;break;default:A=Hw}p=A.bind(null,f,p,l),A=void 0,!wu||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(A=!0),v?A!==void 0?l.addEventListener(f,p,{capture:!0,passive:A}):l.addEventListener(f,p,!0):A!==void 0?l.addEventListener(f,p,{passive:A}):l.addEventListener(f,p,!1)}function kw(l,f,p,v,A){var C=v;if((f&1)===0&&(f&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var Y=v.stateNode.containerInfo;if(Y===A)break;if(z===4)for(z=v.return;z!==null;){var de=z.tag;if((de===3||de===4)&&z.stateNode.containerInfo===A)return;z=z.return}for(;Y!==null;){if(z=We(Y),z===null)return;if(de=z.tag,de===5||de===6||de===26||de===27){v=C=z;continue e}Y=Y.parentNode}}v=v.return}rc(function(){var Se=C,Me=si(p),Be=[];e:{var Ne=Vk.get(l);if(Ne!==void 0){var Pe=To,ct=l;switch(l){case"keypress":if(Tu(p)===0)break e;case"keydown":case"keyup":Pe=Sg;break;case"focusin":ct="focus",Pe=Su;break;case"focusout":ct="blur",Pe=Su;break;case"beforeblur":case"afterblur":Pe=Su;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=n0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=j;break;case Lk:case jk:case Uk:Pe=xg;break;case Bk:Pe=Q;break;case"scroll":case"scrollend":Pe=r0;break;case"wheel":Pe=ke;break;case"copy":case"cut":case"paste":Pe=_g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=sl;break;case"toggle":case"beforetoggle":Pe=Ft}var bt=(f&4)!==0,Dr=!bt&&(l==="scroll"||l==="scrollend"),ve=bt?Ne!==null?Ne+"Capture":null:Ne;bt=[];for(var pe=Se,Te;pe!==null;){var Le=pe;if(Te=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||Te===null||ve===null||(Le=zs(pe,ve),Le!=null&&bt.push(O0(pe,Le,Te))),Dr)break;pe=pe.return}0<bt.length&&(Ne=new Pe(Ne,ct,null,p,Me),Be.push({event:Ne,listeners:bt}))}}if((f&7)===0){e:{if(Ne=l==="mouseover"||l==="pointerover",Pe=l==="mouseout"||l==="pointerout",Ne&&p!==un&&(ct=p.relatedTarget||p.fromElement)&&(We(ct)||ct[se]))break e;if((Pe||Ne)&&(Ne=Me.window===Me?Me:(Ne=Me.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Pe?(ct=p.relatedTarget||p.toElement,Pe=Se,ct=ct?We(ct):null,ct!==null&&(Dr=a(ct),bt=ct.tag,ct!==Dr||bt!==5&&bt!==27&&bt!==6)&&(ct=null)):(Pe=null,ct=Se),Pe!==ct)){if(bt=n0,Le="onMouseLeave",ve="onMouseEnter",pe="mouse",(l==="pointerout"||l==="pointerover")&&(bt=sl,Le="onPointerLeave",ve="onPointerEnter",pe="pointer"),Dr=Pe==null?Ne:He(Pe),Te=ct==null?Ne:He(ct),Ne=new bt(Le,pe+"leave",Pe,p,Me),Ne.target=Dr,Ne.relatedTarget=Te,Le=null,We(Me)===Se&&(bt=new bt(ve,pe+"enter",ct,p,Me),bt.target=Te,bt.relatedTarget=Dr,Le=bt),Dr=Le,Pe&&ct)t:{for(bt=sY,ve=Pe,pe=ct,Te=0,Le=ve;Le;Le=bt(Le))Te++;Le=0;for(var vt=pe;vt;vt=bt(vt))Le++;for(;0<Te-Le;)ve=bt(ve),Te--;for(;0<Le-Te;)pe=bt(pe),Le--;for(;Te--;){if(ve===pe||pe!==null&&ve===pe.alternate){bt=ve;break t}ve=bt(ve),pe=bt(pe)}bt=null}else bt=null;Pe!==null&&cO(Be,Ne,Pe,bt,!1),ct!==null&&Dr!==null&&cO(Be,Dr,ct,bt,!0)}}e:{if(Ne=Se?He(Se):window,Pe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ne.type==="file")var ur=Sk;else if(Tk(Ne))if(Ck)ur=vW;else{ur=mW;var dt=pW}else Pe=Ne.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?Se&&ai(Se.elementType)&&(ur=Sk):ur=gW;if(ur&&(ur=ur(l,Se))){Ak(Be,ur,p,Me);break e}dt&&dt(l,Ne,Se),l==="focusout"&&Se&&Ne.type==="number"&&Se.memoizedProps.value!=null&&Et(Ne,"number",Ne.value)}switch(dt=Se?He(Se):window,l){case"focusin":(Tk(dt)||dt.contentEditable==="true")&&(td=dt,ab=Se,l0=null);break;case"focusout":l0=ab=td=null;break;case"mousedown":sb=!0;break;case"contextmenu":case"mouseup":case"dragend":sb=!1,Dk(Be,p,Me);break;case"selectionchange":if(xW)break;case"keydown":case"keyup":Dk(Be,p,Me)}var Ut;if(vr)e:{switch(l){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else ed?Cu(l,p)&&(Wt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Wt="onCompositionStart");Wt&&(Co&&p.locale!=="ko"&&(ed||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&ed&&(Ut=t0()):(Eo=Me,e0="value"in Eo?Eo.value:Eo.textContent,ed=!0)),dt=gv(Se,Wt),0<dt.length&&(Wt=new So(Wt,l,null,p,Me),Be.push({event:Wt,listeners:dt}),Ut?Wt.data=Ut:(Ut=Qf(p),Ut!==null&&(Wt.data=Ut)))),(Ut=ps?uW(l,p):fW(l,p))&&(Wt=gv(Se,"onBeforeInput"),0<Wt.length&&(dt=new So("onBeforeInput","beforeinput",null,p,Me),Be.push({event:dt,listeners:Wt}),dt.data=Ut)),rY(Be,l,Se,p,Me)}oO(Be,f)})}function O0(l,f,p){return{instance:l,listener:f,currentTarget:p}}function gv(l,f){for(var p=f+"Capture",v=[];l!==null;){var A=l,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=zs(l,p),A!=null&&v.unshift(O0(l,A,C)),A=zs(l,f),A!=null&&v.push(O0(l,A,C))),l.tag===3)return v;l=l.return}return[]}function sY(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function cO(l,f,p,v,A){for(var C=f._reactName,z=[];p!==null&&p!==v;){var Y=p,de=Y.alternate,Se=Y.stateNode;if(Y=Y.tag,de!==null&&de===v)break;Y!==5&&Y!==26&&Y!==27||Se===null||(de=Se,A?(Se=zs(p,C),Se!=null&&z.unshift(O0(p,Se,de))):A||(Se=zs(p,C),Se!=null&&z.push(O0(p,Se,de)))),p=p.return}z.length!==0&&l.push({event:f,listeners:z})}var oY=/\r\n?/g,lY=/\u0000|\uFFFD/g;function uO(l){return(typeof l=="string"?l:""+l).replace(oY,`
`).replace(lY,"")}function fO(l,f){return f=uO(f),uO(l)===f}function Mr(l,f,p,v,A,C){switch(p){case"children":typeof v=="string"?f==="body"||f==="textarea"&&v===""||St(l,v):(typeof v=="number"||typeof v=="bigint")&&f!=="body"&&St(l,""+v);break;case"className":ea(l,"class",v);break;case"tabIndex":ea(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":ea(l,p,v);break;case"style":Zt(l,v,C);break;case"data":if(f!=="object"){ea(l,"data",v);break}case"src":case"href":if(v===""&&(f!=="a"||p!=="href")){l.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=qa(""+v),l.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(f!=="input"&&Mr(l,f,"name",A.name,A,null),Mr(l,f,"formEncType",A.formEncType,A,null),Mr(l,f,"formMethod",A.formMethod,A,null),Mr(l,f,"formTarget",A.formTarget,A,null)):(Mr(l,f,"encType",A.encType,A,null),Mr(l,f,"method",A.method,A,null),Mr(l,f,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=qa(""+v),l.setAttribute(p,v);break;case"onClick":v!=null&&(l.onclick=wa);break;case"onScroll":v!=null&&Gt("scroll",l);break;case"onScrollEnd":v!=null&&Gt("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}p=qa(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""+v):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":v===!0?l.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,v):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(p,v):l.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(p):l.setAttribute(p,v);break;case"popover":Gt("beforetoggle",l),Gt("toggle",l),ii(l,"popover",v);break;case"xlinkActuate":ln(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ln(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ln(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ln(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ln(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ln(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ln(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ln(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ln(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ii(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ta.get(p)||p,ii(l,p,v))}}function Pw(l,f,p,v,A,C){switch(p){case"style":Zt(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof v=="string"?St(l,v):(typeof v=="number"||typeof v=="bigint")&&St(l,""+v);break;case"onScroll":v!=null&&Gt("scroll",l);break;case"onScrollEnd":v!=null&&Gt("scrollend",l);break;case"onClick":v!=null&&(l.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),f=p.slice(2,A?p.length-7:void 0),C=l[re]||null,C=C!=null?C[p]:null,typeof C=="function"&&l.removeEventListener(f,C,A),typeof v=="function")){typeof C!="function"&&C!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(f,v,A);break e}p in l?l[p]=v:v===!0?l.setAttribute(p,""):ii(l,p,v)}}}function Ai(l,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",l),Gt("load",l);var v=!1,A=!1,C;for(C in p)if(p.hasOwnProperty(C)){var z=p[C];if(z!=null)switch(C){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Mr(l,f,C,z,p,null)}}A&&Mr(l,f,"srcSet",p.srcSet,p,null),v&&Mr(l,f,"src",p.src,p,null);return;case"input":Gt("invalid",l);var Y=C=z=A=null,de=null,Se=null;for(v in p)if(p.hasOwnProperty(v)){var Me=p[v];if(Me!=null)switch(v){case"name":A=Me;break;case"type":z=Me;break;case"checked":de=Me;break;case"defaultChecked":Se=Me;break;case"value":C=Me;break;case"defaultValue":Y=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,f));break;default:Mr(l,f,v,Me,p,null)}}Dt(l,C,Y,de,Se,z,A,!1);return;case"select":Gt("invalid",l),v=z=C=null;for(A in p)if(p.hasOwnProperty(A)&&(Y=p[A],Y!=null))switch(A){case"value":C=Y;break;case"defaultValue":z=Y;break;case"multiple":v=Y;default:Mr(l,f,A,Y,p,null)}f=C,p=z,l.multiple=!!v,f!=null?pt(l,!!v,f,!1):p!=null&&pt(l,!!v,p,!0);return;case"textarea":Gt("invalid",l),C=A=v=null;for(z in p)if(p.hasOwnProperty(z)&&(Y=p[z],Y!=null))switch(z){case"value":v=Y;break;case"defaultValue":A=Y;break;case"children":C=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Mr(l,f,z,Y,p,null)}Vt(l,v,A,C);return;case"option":for(de in p)p.hasOwnProperty(de)&&(v=p[de],v!=null)&&(de==="selected"?l.selected=v&&typeof v!="function"&&typeof v!="symbol":Mr(l,f,de,v,p,null));return;case"dialog":Gt("beforetoggle",l),Gt("toggle",l),Gt("cancel",l),Gt("close",l);break;case"iframe":case"object":Gt("load",l);break;case"video":case"audio":for(v=0;v<R0.length;v++)Gt(R0[v],l);break;case"image":Gt("error",l),Gt("load",l);break;case"details":Gt("toggle",l);break;case"embed":case"source":case"link":Gt("error",l),Gt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in p)if(p.hasOwnProperty(Se)&&(v=p[Se],v!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Mr(l,f,Se,v,p,null)}return;default:if(ai(f)){for(Me in p)p.hasOwnProperty(Me)&&(v=p[Me],v!==void 0&&Pw(l,f,Me,v,p,void 0));return}}for(Y in p)p.hasOwnProperty(Y)&&(v=p[Y],v!=null&&Mr(l,f,Y,v,p,null))}function cY(l,f,p,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,z=null,Y=null,de=null,Se=null,Me=null;for(Pe in p){var Be=p[Pe];if(p.hasOwnProperty(Pe)&&Be!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":de=Be;default:v.hasOwnProperty(Pe)||Mr(l,f,Pe,null,v,Be)}}for(var Ne in v){var Pe=v[Ne];if(Be=p[Ne],v.hasOwnProperty(Ne)&&(Pe!=null||Be!=null))switch(Ne){case"type":C=Pe;break;case"name":A=Pe;break;case"checked":Se=Pe;break;case"defaultChecked":Me=Pe;break;case"value":z=Pe;break;case"defaultValue":Y=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,f));break;default:Pe!==Be&&Mr(l,f,Ne,Pe,v,Be)}}gt(l,z,Y,de,Se,Me,C,A);return;case"select":Pe=z=Y=Ne=null;for(C in p)if(de=p[C],p.hasOwnProperty(C)&&de!=null)switch(C){case"value":break;case"multiple":Pe=de;default:v.hasOwnProperty(C)||Mr(l,f,C,null,v,de)}for(A in v)if(C=v[A],de=p[A],v.hasOwnProperty(A)&&(C!=null||de!=null))switch(A){case"value":Ne=C;break;case"defaultValue":Y=C;break;case"multiple":z=C;default:C!==de&&Mr(l,f,A,C,v,de)}f=Y,p=z,v=Pe,Ne!=null?pt(l,!!p,Ne,!1):!!v!=!!p&&(f!=null?pt(l,!!p,f,!0):pt(l,!!p,p?[]:"",!1));return;case"textarea":Pe=Ne=null;for(Y in p)if(A=p[Y],p.hasOwnProperty(Y)&&A!=null&&!v.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Mr(l,f,Y,null,v,A)}for(z in v)if(A=v[z],C=p[z],v.hasOwnProperty(z)&&(A!=null||C!=null))switch(z){case"value":Ne=A;break;case"defaultValue":Pe=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==C&&Mr(l,f,z,A,v,C)}Mt(l,Ne,Pe);return;case"option":for(var ct in p)Ne=p[ct],p.hasOwnProperty(ct)&&Ne!=null&&!v.hasOwnProperty(ct)&&(ct==="selected"?l.selected=!1:Mr(l,f,ct,null,v,Ne));for(de in v)Ne=v[de],Pe=p[de],v.hasOwnProperty(de)&&Ne!==Pe&&(Ne!=null||Pe!=null)&&(de==="selected"?l.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol":Mr(l,f,de,Ne,v,Pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in p)Ne=p[bt],p.hasOwnProperty(bt)&&Ne!=null&&!v.hasOwnProperty(bt)&&Mr(l,f,bt,null,v,Ne);for(Se in v)if(Ne=v[Se],Pe=p[Se],v.hasOwnProperty(Se)&&Ne!==Pe&&(Ne!=null||Pe!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,f));break;default:Mr(l,f,Se,Ne,v,Pe)}return;default:if(ai(f)){for(var Dr in p)Ne=p[Dr],p.hasOwnProperty(Dr)&&Ne!==void 0&&!v.hasOwnProperty(Dr)&&Pw(l,f,Dr,void 0,v,Ne);for(Me in v)Ne=v[Me],Pe=p[Me],!v.hasOwnProperty(Me)||Ne===Pe||Ne===void 0&&Pe===void 0||Pw(l,f,Me,Ne,v,Pe);return}}for(var ve in p)Ne=p[ve],p.hasOwnProperty(ve)&&Ne!=null&&!v.hasOwnProperty(ve)&&Mr(l,f,ve,null,v,Ne);for(Be in v)Ne=v[Be],Pe=p[Be],!v.hasOwnProperty(Be)||Ne===Pe||Ne==null&&Pe==null||Mr(l,f,Be,Ne,v,Pe)}function dO(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uY(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var A=p[v],C=A.transferSize,z=A.initiatorType,Y=A.duration;if(C&&Y&&dO(z)){for(z=0,Y=A.responseEnd,v+=1;v<p.length;v++){var de=p[v],Se=de.startTime;if(Se>Y)break;var Me=de.transferSize,Be=de.initiatorType;Me&&dO(Be)&&(de=de.responseEnd,z+=Me*(de<Y?1:(Y-Se)/(de-Se)))}if(--v,f+=8*(C+z)/(A.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Rw=null,Ow=null;function vv(l){return l.nodeType===9?l:l.ownerDocument}function hO(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pO(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function Mw(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Dw=null;function fY(){var l=window.event;return l&&l.type==="popstate"?l===Dw?!1:(Dw=l,!0):(Dw=null,!1)}var mO=typeof setTimeout=="function"?setTimeout:void 0,dY=typeof clearTimeout=="function"?clearTimeout:void 0,gO=typeof Promise=="function"?Promise:void 0,hY=typeof queueMicrotask=="function"?queueMicrotask:typeof gO<"u"?function(l){return gO.resolve(null).then(l).catch(pY)}:mO;function pY(l){setTimeout(function(){throw l})}function wc(l){return l==="head"}function vO(l,f){var p=f,v=0;do{var A=p.nextSibling;if(l.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"||p==="/&"){if(v===0){l.removeChild(A),Nd(f);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")M0(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,M0(p);for(var C=p.firstChild;C;){var z=C.nextSibling,Y=C.nodeName;C[Ae]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=z}}else p==="body"&&M0(l.ownerDocument.body);p=A}while(p);Nd(f)}function yO(l,f){var p=l;l=0;do{var v=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=v}while(p)}function Fw(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Fw(p),Ge(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function mY(l,f,p,v){for(;l.nodeType===1;){var A=p;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Ae])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=bs(l.nextSibling),l===null)break}return null}function gY(l,f,p){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=bs(l.nextSibling),l===null))return null;return l}function xO(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=bs(l.nextSibling),l===null))return null;return l}function Lw(l){return l.data==="$?"||l.data==="$~"}function jw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function vY(l,f){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||p.readyState!=="loading")f();else{var v=function(){f(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function bs(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var Uw=null;function _O(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(f===0)return bs(l.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}l=l.nextSibling}return null}function bO(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return l;f--}else p!=="/$"&&p!=="/&"||f++}l=l.previousSibling}return null}function wO(l,f,p){switch(f=vv(p),l){case"html":if(l=f.documentElement,!l)throw Error(n(452));return l;case"head":if(l=f.head,!l)throw Error(n(453));return l;case"body":if(l=f.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function M0(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);Ge(l)}var ws=new Map,EO=new Set;function yv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var bl=ue.d;ue.d={f:yY,r:xY,D:_Y,C:bY,L:wY,m:EY,X:AY,S:TY,M:SY};function yY(){var l=bl.f(),f=cv();return l||f}function xY(l){var f=Ze(l);f!==null&&f.tag===5&&f.type==="form"?BP(f):bl.r(l)}var Ad=typeof document>"u"?null:document;function TO(l,f,p){var v=Ad;if(v&&typeof f=="string"&&f){var A=tt(f);A='link[rel="'+l+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),EO.has(A)||(EO.add(A),l={rel:l,crossOrigin:p,href:f},v.querySelector(A)===null&&(f=v.createElement("link"),Ai(f,"link",l),ot(f),v.head.appendChild(f)))}}function _Y(l){bl.D(l),TO("dns-prefetch",l,null)}function bY(l,f){bl.C(l,f),TO("preconnect",l,f)}function wY(l,f,p){bl.L(l,f,p);var v=Ad;if(v&&l&&f){var A='link[rel="preload"][as="'+tt(f)+'"]';f==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+tt(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+tt(p.imageSizes)+'"]')):A+='[href="'+tt(l)+'"]';var C=A;switch(f){case"style":C=Sd(l);break;case"script":C=Cd(l)}ws.has(C)||(l=h({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:l,as:f},p),ws.set(C,l),v.querySelector(A)!==null||f==="style"&&v.querySelector(D0(C))||f==="script"&&v.querySelector(F0(C))||(f=v.createElement("link"),Ai(f,"link",l),ot(f),v.head.appendChild(f)))}}function EY(l,f){bl.m(l,f);var p=Ad;if(p&&l){var v=f&&typeof f.as=="string"?f.as:"script",A='link[rel="modulepreload"][as="'+tt(v)+'"][href="'+tt(l)+'"]',C=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Cd(l)}if(!ws.has(C)&&(l=h({rel:"modulepreload",href:l},f),ws.set(C,l),p.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(F0(C)))return}v=p.createElement("link"),Ai(v,"link",l),ot(v),p.head.appendChild(v)}}}function TY(l,f,p){bl.S(l,f,p);var v=Ad;if(v&&l){var A=Xe(v).hoistableStyles,C=Sd(l);f=f||"default";var z=A.get(C);if(!z){var Y={loading:0,preload:null};if(z=v.querySelector(D0(C)))Y.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":f},p),(p=ws.get(C))&&Bw(l,p);var de=z=v.createElement("link");ot(de),Ai(de,"link",l),de._p=new Promise(function(Se,Me){de.onload=Se,de.onerror=Me}),de.addEventListener("load",function(){Y.loading|=1}),de.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,xv(z,f,v)}z={type:"stylesheet",instance:z,count:1,state:Y},A.set(C,z)}}}function AY(l,f){bl.X(l,f);var p=Ad;if(p&&l){var v=Xe(p).hoistableScripts,A=Cd(l),C=v.get(A);C||(C=p.querySelector(F0(A)),C||(l=h({src:l,async:!0},f),(f=ws.get(A))&&Vw(l,f),C=p.createElement("script"),ot(C),Ai(C,"link",l),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function SY(l,f){bl.M(l,f);var p=Ad;if(p&&l){var v=Xe(p).hoistableScripts,A=Cd(l),C=v.get(A);C||(C=p.querySelector(F0(A)),C||(l=h({src:l,async:!0,type:"module"},f),(f=ws.get(A))&&Vw(l,f),C=p.createElement("script"),ot(C),Ai(C,"link",l),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function AO(l,f,p,v){var A=(A=he.current)?yv(A):null;if(!A)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=Sd(p.href),p=Xe(A).hoistableStyles,v=p.get(f),v||(v={type:"style",instance:null,count:0,state:null},p.set(f,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Sd(p.href);var C=Xe(A).hoistableStyles,z=C.get(l);if(z||(A=A.ownerDocument||A,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,z),(C=A.querySelector(D0(l)))&&!C._p&&(z.instance=C,z.state.loading=5),ws.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ws.set(l,p),C||CY(A,l,p,z.state))),f&&v===null)throw Error(n(528,""));return z}if(f&&v!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Cd(p),p=Xe(A).hoistableScripts,v=p.get(f),v||(v={type:"script",instance:null,count:0,state:null},p.set(f,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Sd(l){return'href="'+tt(l)+'"'}function D0(l){return'link[rel="stylesheet"]['+l+"]"}function SO(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function CY(l,f,p,v){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?v.loading=1:(f=l.createElement("link"),v.preload=f,f.addEventListener("load",function(){return v.loading|=1}),f.addEventListener("error",function(){return v.loading|=2}),Ai(f,"link",p),ot(f),l.head.appendChild(f))}function Cd(l){return'[src="'+tt(l)+'"]'}function F0(l){return"script[async]"+l}function CO(l,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var v=l.querySelector('style[data-href~="'+tt(p.href)+'"]');if(v)return f.instance=v,ot(v),v;var A=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),ot(v),Ai(v,"style",A),xv(v,p.precedence,l),f.instance=v;case"stylesheet":A=Sd(p.href);var C=l.querySelector(D0(A));if(C)return f.state.loading|=4,f.instance=C,ot(C),C;v=SO(p),(A=ws.get(A))&&Bw(v,A),C=(l.ownerDocument||l).createElement("link"),ot(C);var z=C;return z._p=new Promise(function(Y,de){z.onload=Y,z.onerror=de}),Ai(C,"link",v),f.state.loading|=4,xv(C,p.precedence,l),f.instance=C;case"script":return C=Cd(p.src),(A=l.querySelector(F0(C)))?(f.instance=A,ot(A),A):(v=p,(A=ws.get(C))&&(v=h({},p),Vw(v,A)),l=l.ownerDocument||l,A=l.createElement("script"),ot(A),Ai(A,"link",v),l.head.appendChild(A),f.instance=A);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(v=f.instance,f.state.loading|=4,xv(v,p.precedence,l));return f.instance}function xv(l,f,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,C=A,z=0;z<v.length;z++){var Y=v[z];if(Y.dataset.precedence===f)C=Y;else if(C!==A)break}C?C.parentNode.insertBefore(l,C.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(l,f.firstChild))}function Bw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function Vw(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var _v=null;function NO(l,f,p){if(_v===null){var v=new Map,A=_v=new Map;A.set(p,v)}else A=_v,v=A.get(p),v||(v=new Map,A.set(p,v));if(v.has(l))return v;for(v.set(l,null),p=p.getElementsByTagName(l),A=0;A<p.length;A++){var C=p[A];if(!(C[Ae]||C[te]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var z=C.getAttribute(f)||"";z=l+z;var Y=v.get(z);Y?Y.push(C):v.set(z,[C])}}return v}function IO(l,f,p){l=l.ownerDocument||l,l.head.insertBefore(p,f==="title"?l.querySelector("head > title"):null)}function NY(l,f,p){if(p===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;return f.rel==="stylesheet"?(l=f.disabled,typeof f.precedence=="string"&&l==null):!0;case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function kO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function IY(l,f,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=Sd(v.href),C=f.querySelector(D0(A));if(C){f=C._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=bv.bind(l),f.then(l,l)),p.state.loading|=4,p.instance=C,ot(C);return}C=f.ownerDocument||f,v=SO(v),(A=ws.get(A))&&Bw(v,A),C=C.createElement("link"),ot(C);var z=C;z._p=new Promise(function(Y,de){z.onload=Y,z.onerror=de}),Ai(C,"link",v),p.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=bv.bind(l),f.addEventListener("load",p),f.addEventListener("error",p))}}var zw=0;function kY(l,f){return l.stylesheets&&l.count===0&&Ev(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var v=setTimeout(function(){if(l.stylesheets&&Ev(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+f);0<l.imgBytes&&zw===0&&(zw=62500*uY());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Ev(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>zw?50:800)+f);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function bv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ev(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var wv=null;function Ev(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,wv=new Map,f.forEach(PY,l),wv=null,bv.call(l))}function PY(l,f){if(!(f.state.loading&4)){var p=wv.get(l);if(p)var v=p.get(null);else{p=new Map,wv.set(l,p);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var z=A[C];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(p.set(z.dataset.precedence,z),v=z)}v&&p.set(null,v)}A=f.instance,z=A.getAttribute("data-precedence"),C=p.get(z)||v,C===v&&p.set(null,A),p.set(z,A),this.count++,v=bv.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),C?C.parentNode.insertBefore(A,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),f.state.loading|=4}}var L0={$$typeof:k,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function RY(l,f,p,v,A,C,z,Y,de){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function PO(l,f,p,v,A,C,z,Y,de,Se,Me,Be){return l=new RY(l,f,p,z,de,Se,Me,Be,Y),f=1,C===!0&&(f|=24),C=Wa(3,null,null,f),l.current=C,C.stateNode=l,f=bb(),f.refCount++,l.pooledCache=f,f.refCount++,C.memoizedState={element:v,isDehydrated:p,cache:f},Ab(C),l}function RO(l){return l?(l=id,l):id}function OO(l,f,p,v,A,C){A=RO(A),v.context===null?v.context=A:v.pendingContext=A,v=fc(f),v.payload={element:p},C=C===void 0?null:C,C!==null&&(v.callback=C),p=dc(l,v,f),p!==null&&(Ca(p,l,f),m0(p,l,f))}function MO(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<f?p:f}}function $w(l,f){MO(l,f),(l=l.alternate)&&MO(l,f)}function DO(l){if(l.tag===13||l.tag===31){var f=ku(l,67108864);f!==null&&Ca(f,l,67108864),$w(l,67108864)}}function FO(l){if(l.tag===13||l.tag===31){var f=Qa();f=Zi(f);var p=ku(l,f);p!==null&&Ca(p,l,f),$w(l,f)}}var Tv=!0;function OY(l,f,p,v){var A=ne.T;ne.T=null;var C=ue.p;try{ue.p=2,Hw(l,f,p,v)}finally{ue.p=C,ne.T=A}}function MY(l,f,p,v){var A=ne.T;ne.T=null;var C=ue.p;try{ue.p=8,Hw(l,f,p,v)}finally{ue.p=C,ne.T=A}}function Hw(l,f,p,v){if(Tv){var A=Gw(v);if(A===null)kw(l,f,v,Av,p),jO(l,v);else if(FY(A,l,f,p,v))v.stopPropagation();else if(jO(l,v),f&4&&-1<DY.indexOf(l)){for(;A!==null;){var C=Ze(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var z=ri(C.pendingLanes);if(z!==0){var Y=C;for(Y.pendingLanes|=2,Y.entangledLanes|=2;z;){var de=1<<31-mt(z);Y.entanglements[1]|=de,z&=~de}Po(C),(yr&6)===0&&(ov=_t()+500,P0(0))}}break;case 31:case 13:Y=ku(C,2),Y!==null&&Ca(Y,C,2),cv(),$w(C,2)}if(C=Gw(v),C===null&&kw(l,f,v,Av,p),C===A)break;A=C}A!==null&&v.stopPropagation()}else kw(l,f,v,null,p)}}function Gw(l){return l=si(l),qw(l)}var Av=null;function qw(l){if(Av=null,l=We(l),l!==null){var f=a(l);if(f===null)l=null;else{var p=f.tag;if(p===13){if(l=s(f),l!==null)return l;l=null}else if(p===31){if(l=o(f),l!==null)return l;l=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return Av=l,null}function LO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case qt:return 2;case Er:return 8;case ft:case Ot:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Kw=!1,Ec=null,Tc=null,Ac=null,j0=new Map,U0=new Map,Sc=[],DY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jO(l,f){switch(l){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":Tc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":j0.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":U0.delete(f.pointerId)}}function B0(l,f,p,v,A,C){return l===null||l.nativeEvent!==C?(l={blockedOn:f,domEventName:p,eventSystemFlags:v,nativeEvent:C,targetContainers:[A]},f!==null&&(f=Ze(f),f!==null&&DO(f)),l):(l.eventSystemFlags|=v,f=l.targetContainers,A!==null&&f.indexOf(A)===-1&&f.push(A),l)}function FY(l,f,p,v,A){switch(f){case"focusin":return Ec=B0(Ec,l,f,p,v,A),!0;case"dragenter":return Tc=B0(Tc,l,f,p,v,A),!0;case"mouseover":return Ac=B0(Ac,l,f,p,v,A),!0;case"pointerover":var C=A.pointerId;return j0.set(C,B0(j0.get(C)||null,l,f,p,v,A)),!0;case"gotpointercapture":return C=A.pointerId,U0.set(C,B0(U0.get(C)||null,l,f,p,v,A)),!0}return!1}function UO(l){var f=We(l.target);if(f!==null){var p=a(f);if(p!==null){if(f=p.tag,f===13){if(f=s(p),f!==null){l.blockedOn=f,ae(l.priority,function(){FO(p)});return}}else if(f===31){if(f=o(p),f!==null){l.blockedOn=f,ae(l.priority,function(){FO(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Sv(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var p=Gw(l.nativeEvent);if(p===null){p=l.nativeEvent;var v=new p.constructor(p.type,p);un=v,p.target.dispatchEvent(v),un=null}else return f=Ze(p),f!==null&&DO(f),l.blockedOn=p,!1;f.shift()}return!0}function BO(l,f,p){Sv(l)&&p.delete(f)}function LY(){Kw=!1,Ec!==null&&Sv(Ec)&&(Ec=null),Tc!==null&&Sv(Tc)&&(Tc=null),Ac!==null&&Sv(Ac)&&(Ac=null),j0.forEach(BO),U0.forEach(BO)}function Cv(l,f){l.blockedOn===f&&(l.blockedOn=null,Kw||(Kw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LY)))}var Nv=null;function VO(l){Nv!==l&&(Nv=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nv===l&&(Nv=null);for(var f=0;f<l.length;f+=3){var p=l[f],v=l[f+1],A=l[f+2];if(typeof v!="function"){if(qw(v||p)===null)continue;break}var C=Ze(p);C!==null&&(l.splice(f,3),f-=3,Gb(C,{pending:!0,data:A,method:p.method,action:v},v,A))}}))}function Nd(l){function f(de){return Cv(de,l)}Ec!==null&&Cv(Ec,l),Tc!==null&&Cv(Tc,l),Ac!==null&&Cv(Ac,l),j0.forEach(f),U0.forEach(f);for(var p=0;p<Sc.length;p++){var v=Sc[p];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Sc.length&&(p=Sc[0],p.blockedOn===null);)UO(p),p.blockedOn===null&&Sc.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var A=p[v],C=p[v+1],z=A[re]||null;if(typeof C=="function")z||VO(p);else if(z){var Y=null;if(C&&C.hasAttribute("formAction")){if(A=C,z=C[re]||null)Y=z.formAction;else if(qw(A)!==null)continue}else Y=z.action;typeof Y=="function"?p[v+1]=Y:(p.splice(v,3),v-=3),VO(p)}}}function zO(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(z){return A=z})},focusReset:"manual",scroll:"manual"})}function f(){A!==null&&(A(),A=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),A!==null&&(A(),A=null)}}}function Ww(l){this._internalRoot=l}Iv.prototype.render=Ww.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,v=Qa();OO(p,v,l,f,null,null)},Iv.prototype.unmount=Ww.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;OO(l.current,2,null,l,null,null),cv(),f[se]=null}};function Iv(l){this._internalRoot=l}Iv.prototype.unstable_scheduleHydration=function(l){if(l){var f=W();l={blockedOn:null,target:l,priority:f};for(var p=0;p<Sc.length&&f!==0&&f<Sc[p].priority;p++);Sc.splice(p,0,l),p===0&&UO(l)}};var $O=t.version;if($O!=="19.2.4")throw Error(n(527,$O,"19.2.4"));ue.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=u(f),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var jY={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kv.isDisabled&&kv.supportsFiber)try{Bt=kv.inject(jY),_r=kv}catch{}}return z0.createRoot=function(l,f){if(!i(l))throw Error(n(299));var p=!1,v="",A=JP,C=XP,z=ZP;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(v=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(C=f.onCaughtError),f.onRecoverableError!==void 0&&(z=f.onRecoverableError)),f=PO(l,1,!1,null,null,p,v,null,A,C,z,zO),l[se]=f.current,Iw(l),new Ww(f)},z0.hydrateRoot=function(l,f,p){if(!i(l))throw Error(n(299));var v=!1,A="",C=JP,z=XP,Y=ZP,de=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(z=p.onCaughtError),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError),p.formState!==void 0&&(de=p.formState)),f=PO(l,1,!0,f,p??null,v,A,de,C,z,Y,zO),f.context=RO(null),p=f.current,v=Qa(),v=Zi(v),A=fc(v),A.callback=null,dc(p,A,v),p=v,f.current.lanes=p,ba(f,p),Po(f),l[se]=f.current,Iw(l),new Iv(f)},z0.version="19.2.4",z0}var QO;function YY(){if(QO)return Xw.exports;QO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xw.exports=WY(),Xw.exports}var JY=YY();const XY=js(JY);const Z8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const ZY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const QY=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const e4=e=>{const t=QY(e);return t.charAt(0).toUpperCase()+t.slice(1)};var eJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const rJ=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>O.createElement("svg",{ref:c,...eJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Z8("lucide",i),...!a&&!tJ(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,d])=>O.createElement(u,d)),...Array.isArray(a)?a:[a]]));const at=(e,t)=>{const r=O.forwardRef(({className:n,...i},a)=>O.createElement(rJ,{ref:a,iconNode:t,className:Z8(`lucide-${ZY(e4(e))}`,`lucide-${e}`,n),...i}));return r.displayName=e4(e),r};const nJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],t4=at("activity",nJ);const iJ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],aJ=at("arrow-down-right",iJ);const sJ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],oJ=at("arrow-down",sJ);const lJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vA=at("arrow-left",lJ);const cJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uJ=at("arrow-right",cJ);const fJ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],dJ=at("arrow-up-right",fJ);const hJ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],pJ=at("arrow-up",hJ);const mJ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],as=at("briefcase",mJ);const gJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$p=at("calendar",gJ);const vJ=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],yJ=at("camera",vJ);const xJ=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],_J=at("check-check",xJ);const bJ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ch=at("check",bJ);const wJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],EJ=at("chevron-left",wJ);const TJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Q8=at("chevron-right",TJ);const AJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qi=at("circle-alert",AJ);const SJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nf=at("circle-check-big",SJ);const CJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eU=at("circle-check",CJ);const NJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IJ=at("circle-question-mark",NJ);const kJ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PJ=at("clock",kJ);const RJ=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],yA=at("cloud",RJ);const OJ=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],MJ=at("cookie",OJ);const DJ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],FJ=at("copy",DJ);const LJ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xA=at("database",LJ);const jJ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],tU=at("dollar-sign",jJ);const UJ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],BJ=at("download",UJ);const VJ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_A=at("external-link",VJ);const zJ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rU=at("eye-off",zJ);const $J=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nU=at("eye",$J);const HJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],wy=at("file-spreadsheet",HJ);const GJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ey=at("file-text",GJ);const qJ=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Ap=at("file-up",qJ);const KJ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],j2=at("funnel",KJ);const WJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hp=at("globe",WJ);const YJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],iU=at("info",YJ);const JJ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Jd=at("key",JJ);const XJ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],aU=at("layers",XJ);const ZJ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tE=at("layout-dashboard",ZJ);const QJ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zc=at("loader-circle",QJ);const eX=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bA=at("lock",eX);const tX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rX=at("log-out",tX);const nX=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Al=at("map-pin",nX);const iX=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],aX=at("map",iX);const sX=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],oX=at("maximize-2",sX);const lX=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cX=at("menu",lX);const uX=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wA=at("message-square",uX);const fX=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],r4=at("minimize-2",fX);const dX=[["path",{d:"M5 12h14",key:"1ays0h"}]],hX=at("minus",dX);const pX=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],io=at("package",pX);const mX=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gX=at("pen-line",mX);const vX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yX=at("pen",vX);const xX=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],rE=at("pencil",xX);const _X=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],sU=at("phone",_X);const bX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],U2=at("plus",bX);const wX=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],EX=at("refresh-ccw",wX);const TX=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Om=at("save",TX);const AX=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vo=at("search",AX);const SX=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CX=at("send",SX);const NX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],EA=at("shield-check",NX);const IX=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],TA=at("shield",IX);const kX=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],to=at("shopping-bag",kX);const PX=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],n4=at("sparkles",PX);const RX=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Gp=at("store",RX);const OX=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],MX=at("table",OX);const DX=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],B2=at("tag",DX);const FX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hf=at("trash-2",FX);const LX=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oU=at("trending-up",LX);const jX=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],UX=at("upload",jX);const BX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],i4=at("user-plus",BX);const VX=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oa=at("user",VX);const zX=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qp=at("users",zX);const $X=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fa=at("x",$X),lU={admin_dev:" Admin DEV",admin_general:" Admin Geral",general_manager:" Gerente Geral",sales_manager:" Gerente de Vendas",sales_supervisor:" Supervisor de Vendas",sales_internal:" Vendedor Interno",sales_external:" Vendedor Externo",admin:" Admin (Legado)",salesperson:" Vendedor (Legado)"},Pa={admin_dev:1,admin:1,admin_general:2,general_manager:3,sales_manager:4,sales_supervisor:5,sales_internal:6,sales_external:7,salesperson:7},a4=e=>lU[e]||e,HX=e=>e==="admin"?"admin_dev":e==="salesperson"?"sales_external":e,GX=e=>{const t=Pa[e],r=["admin_dev","admin_general","general_manager","sales_manager","sales_supervisor","sales_internal","sales_external"];return t===1?r:r.filter(n=>Pa[n]>t)},nE=(e,t)=>{const r=Pa[e],n=Pa[t];return n===1?r===1:r<n},AA=e=>Pa[e]<=2,Vd=e=>Pa[e]>=3,SA=e=>Pa[e]<=5,lp=e=>e.map(t=>t.id==="admin"||t.username==="admin"?{...t,role:"admin_dev",name:"Admin DEV",salesCategory:"N/A"}:t.role==="admin"?{...t,role:"admin_dev"}:t.role==="salesperson"?{...t,role:"sales_external"}:t),uh=["Norte","Nordeste","Centro-Oeste","Sudeste","Sul"],Kp=["Todos","Som e Vdeo","Pneus e Rodas","Peas e Mecnica","Acessrios","Vidros e Pelculas","Outros"],qX={AC:"Norte",AL:"Nordeste",AP:"Norte",AM:"Norte",BA:"Nordeste",CE:"Nordeste",DF:"Centro-Oeste",ES:"Sudeste",GO:"Centro-Oeste",MA:"Nordeste",MT:"Centro-Oeste",MS:"Centro-Oeste",MG:"Sudeste",PA:"Norte",PB:"Nordeste",PR:"Sul",PE:"Nordeste",PI:"Nordeste",RJ:"Sudeste",RN:"Nordeste",RS:"Sul",RO:"Norte",RR:"Norte",SC:"Sul",SP:"Sudeste",SE:"Nordeste",TO:"Norte"},Wp=e=>{const t=e.toUpperCase().trim();return qX[t]||"Indefinido"};var Ty={exports:{}};var KX=Ty.exports,s4;function WX(){return s4||(s4=1,(function(e,t){((r,n)=>{e.exports=n()})(KX,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},c=0,u={};function d(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var U=D(R);U.chunkSize=parseInt(U.chunkSize),R.step||R.chunk||(U.chunkSize=null),this._handle=new b(U),(this._handle.streamer=this)._config=U}).call(this,I),this.parseChunk=function(R,U){var B=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<B){let H=this._config.newline;H||(L=this._config.quoteChar||'"',H=this._handle.guessLineEndings(R,L)),R=[...R.split(H).slice(B)].join(H)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(L=this._config.beforeFirstChunk(R))!==void 0&&(R=L),this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+R,L=(this._partialLine="",this._handle.parse(B,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=L.meta.cursor,B=(this._finished||(this._partialLine=B.substring(R-this._baseIndex),this._baseIndex=R),L&&L.data&&(this._rowCount+=L.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:L,workerId:u.WORKER_ID,finished:B});else if(N(this._config.chunk)&&!U){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=L=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!B||!N(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(R){N(this._config.error)?this._config.error(R):s&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:R,finished:!1})}}function h(I){var R;(I=I||{}).chunkSize||(I.chunkSize=u.RemoteChunkSize),d.call(this,I),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(U){this._input=U,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),a||(R.onload=P(this._chunkLoaded,this),R.onerror=P(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var U,B=this._config.downloadRequestHeaders;for(U in B)R.setRequestHeader(U,B[U])}var L;this._config.chunkSize&&(L=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+L));try{R.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}a&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(U=>(U=U.getResponseHeader("Content-Range"))!==null?parseInt(U.substring(U.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(U){U=R.statusText||U,this._sendError(new Error(U))}}function m(I){(I=I||{}).chunkSize||(I.chunkSize=u.LocalChunkSize),d.call(this,I);var R,U,B=typeof FileReader<"u";this.stream=function(L){this._input=L,U=L.slice||L.webkitSlice||L.mozSlice,B?((R=new FileReader).onload=P(this._chunkLoaded,this),R.onerror=P(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input,H=(this._config.chunkSize&&(H=Math.min(this._start+this._config.chunkSize,this._input.size),L=U.call(L,this._start,H)),R.readAsText(L,this._config.encoding));B||this._chunkLoaded({target:{result:H}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(R.error)}}function y(I){var R;d.call(this,I=I||{}),this.stream=function(U){return R=U,this._nextChunk()},this._nextChunk=function(){var U,B;if(!this._finished)return U=this._config.chunkSize,R=U?(B=R.substring(0,U),R.substring(U)):(B=R,""),this._finished=!R,this.parseChunk(B)}}function x(I){d.call(this,I=I||{});var R=[],U=!0,B=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){B&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):U=!0},this._streamData=P(function(L){try{R.push(typeof L=="string"?L:L.toString(this._config.encoding)),U&&(U=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(H){this._streamError(H)}},this),this._streamError=P(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=P(function(){this._streamCleanUp(),B=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(I){var R,U,B,L,H=Math.pow(2,53),fe=-H,me=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ne=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ue=this,ce=0,ie=0,xe=!1,J=!1,V=[],ee={data:[],errors:[],meta:{}};function X(Ie){return I.skipEmptyLines==="greedy"?Ie.join("").trim()==="":Ie.length===1&&Ie[0].length===0}function q(){if(ee&&B&&(ye("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),B=!1),I.skipEmptyLines&&(ee.data=ee.data.filter(function(K){return!X(K)})),he()){let K=function(Ye,Ue){N(I.transformHeader)&&(Ye=I.transformHeader(Ye,Ue)),V.push(Ye)};var De=K;if(ee)if(Array.isArray(ee.data[0])){for(var Ie=0;he()&&Ie<ee.data.length;Ie++)ee.data[Ie].forEach(K);ee.data.splice(0,1)}else ee.data.forEach(K)}function oe(K,Ye){for(var Ue=I.header?{}:[],Ke=0;Ke<K.length;Ke++){var ze=Ke,Fe=K[Ke],Fe=((Je,et)=>(ht=>(I.dynamicTypingFunction&&I.dynamicTyping[ht]===void 0&&(I.dynamicTyping[ht]=I.dynamicTypingFunction(ht)),(I.dynamicTyping[ht]||I.dynamicTyping)===!0))(Je)?et==="true"||et==="TRUE"||et!=="false"&&et!=="FALSE"&&((ht=>{if(me.test(ht)&&(ht=parseFloat(ht),fe<ht&&ht<H))return 1})(et)?parseFloat(et):ne.test(et)?new Date(et):et===""?null:et):et)(ze=I.header?Ke>=V.length?"__parsed_extra":V[Ke]:ze,Fe=I.transform?I.transform(Fe,ze):Fe);ze==="__parsed_extra"?(Ue[ze]=Ue[ze]||[],Ue[ze].push(Fe)):Ue[ze]=Fe}return I.header&&(Ke>V.length?ye("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Ke,ie+Ye):Ke<V.length&&ye("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Ke,ie+Ye)),Ue}var ge;ee&&(I.header||I.dynamicTyping||I.transform)&&(ge=1,!ee.data.length||Array.isArray(ee.data[0])?(ee.data=ee.data.map(oe),ge=ee.data.length):ee.data=oe(ee.data,0),I.header&&ee.meta&&(ee.meta.fields=V),ie+=ge)}function he(){return I.header&&V.length===0}function ye(Ie,oe,ge,De){Ie={type:Ie,code:oe,message:ge},De!==void 0&&(Ie.row=De),ee.errors.push(Ie)}N(I.step)&&(L=I.step,I.step=function(Ie){ee=Ie,he()?q():(q(),ee.data.length!==0&&(ce+=Ie.data.length,I.preview&&ce>I.preview?U.abort():(ee.data=ee.data[0],L(ee,ue))))}),this.parse=function(Ie,oe,ge){var De=I.quoteChar||'"',De=(I.newline||(I.newline=this.guessLineEndings(Ie,De)),B=!1,I.delimiter?N(I.delimiter)&&(I.delimiter=I.delimiter(Ie),ee.meta.delimiter=I.delimiter):((De=((K,Ye,Ue,Ke,ze)=>{var Fe,Je,et,ht;ze=ze||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var It=0;It<ze.length;It++){for(var Gr,Br=ze[It],_t=0,xr=0,qt=0,Er=(et=void 0,new S({comments:Ke,delimiter:Br,newline:Ye,preview:10}).parse(K)),ft=0;ft<Er.data.length;ft++)Ue&&X(Er.data[ft])?qt++:(Gr=Er.data[ft].length,xr+=Gr,et===void 0?et=Gr:0<Gr&&(_t+=Math.abs(Gr-et),et=Gr));0<Er.data.length&&(xr/=Er.data.length-qt),(Je===void 0||_t<=Je)&&(ht===void 0||ht<xr)&&1.99<xr&&(Je=_t,Fe=Br,ht=xr)}return{successful:!!(I.delimiter=Fe),bestDelimiter:Fe}})(Ie,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess)).successful?I.delimiter=De.bestDelimiter:(B=!0,I.delimiter=u.DefaultDelimiter),ee.meta.delimiter=I.delimiter),D(I));return I.preview&&I.header&&De.preview++,R=Ie,U=new S(De),ee=U.parse(R,oe,ge),q(),xe?{meta:{paused:!0}}:ee||{meta:{paused:!1}}},this.paused=function(){return xe},this.pause=function(){xe=!0,U.abort(),R=N(I.chunk)?"":R.substring(U.getCharIndex())},this.resume=function(){ue.streamer._halted?(xe=!1,ue.streamer.parseChunk(R,!0)):setTimeout(ue.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,U.abort(),ee.meta.aborted=!0,N(I.complete)&&I.complete(ee),R=""},this.guessLineEndings=function(K,De){K=K.substring(0,1048576);var De=new RegExp(E(De)+"([^]*?)"+E(De),"gm"),ge=(K=K.replace(De,"")).split("\r"),De=K.split(`
`),K=1<De.length&&De[0].length<ge[0].length;if(ge.length===1||K)return`
`;for(var Ye=0,Ue=0;Ue<ge.length;Ue++)ge[Ue][0]===`
`&&Ye++;return Ye>=ge.length/2?`\r
`:"\r"}}function E(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(I){var R=(I=I||{}).delimiter,U=I.newline,B=I.comments,L=I.step,H=I.preview,fe=I.fastMode,me=null,ne=!1,ue=I.quoteChar==null?'"':I.quoteChar,ce=ue;if(I.escapeChar!==void 0&&(ce=I.escapeChar),(typeof R!="string"||-1<u.BAD_DELIMITERS.indexOf(R))&&(R=","),B===R)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<u.BAD_DELIMITERS.indexOf(B))&&(B=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var ie=0,xe=!1;this.parse=function(J,V,ee){if(typeof J!="string")throw new Error("Input must be a string");var X=J.length,q=R.length,he=U.length,ye=B.length,Ie=N(L),oe=[],ge=[],De=[],K=ie=0;if(!J)return _t();if(fe||fe!==!1&&J.indexOf(ue)===-1){for(var Ye=J.split(U),Ue=0;Ue<Ye.length;Ue++){if(De=Ye[Ue],ie+=De.length,Ue!==Ye.length-1)ie+=U.length;else if(ee)return _t();if(!B||De.substring(0,ye)!==B){if(Ie){if(oe=[],ht(De.split(R)),xr(),xe)return _t()}else ht(De.split(R));if(H&&H<=Ue)return oe=oe.slice(0,H),_t(!0)}}return _t()}for(var Ke=J.indexOf(R,ie),ze=J.indexOf(U,ie),Fe=new RegExp(E(ce)+E(ue),"g"),Je=J.indexOf(ue,ie);;)if(J[ie]===ue)for(Je=ie,ie++;;){if((Je=J.indexOf(ue,Je+1))===-1)return ee||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:ie}),Gr();if(Je===X-1)return Gr(J.substring(ie,Je).replace(Fe,ue));if(ue===ce&&J[Je+1]===ce)Je++;else if(ue===ce||Je===0||J[Je-1]!==ce){Ke!==-1&&Ke<Je+1&&(Ke=J.indexOf(R,Je+1));var et=It((ze=ze!==-1&&ze<Je+1?J.indexOf(U,Je+1):ze)===-1?Ke:Math.min(Ke,ze));if(J.substr(Je+1+et,q)===R){De.push(J.substring(ie,Je).replace(Fe,ue)),J[ie=Je+1+et+q]!==ue&&(Je=J.indexOf(ue,ie)),Ke=J.indexOf(R,ie),ze=J.indexOf(U,ie);break}if(et=It(ze),J.substring(Je+1+et,Je+1+et+he)===U){if(De.push(J.substring(ie,Je).replace(Fe,ue)),Br(Je+1+et+he),Ke=J.indexOf(R,ie),Je=J.indexOf(ue,ie),Ie&&(xr(),xe))return _t();if(H&&oe.length>=H)return _t(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:ie}),Je++}}else if(B&&De.length===0&&J.substring(ie,ie+ye)===B){if(ze===-1)return _t();ie=ze+he,ze=J.indexOf(U,ie),Ke=J.indexOf(R,ie)}else if(Ke!==-1&&(Ke<ze||ze===-1))De.push(J.substring(ie,Ke)),ie=Ke+q,Ke=J.indexOf(R,ie);else{if(ze===-1)break;if(De.push(J.substring(ie,ze)),Br(ze+he),Ie&&(xr(),xe))return _t();if(H&&oe.length>=H)return _t(!0)}return Gr();function ht(qt){oe.push(qt),K=ie}function It(qt){var Er=0;return Er=qt!==-1&&(qt=J.substring(Je+1,qt))&&qt.trim()===""?qt.length:Er}function Gr(qt){return ee||(qt===void 0&&(qt=J.substring(ie)),De.push(qt),ie=X,ht(De),Ie&&xr()),_t()}function Br(qt){ie=qt,ht(De),De=[],ze=J.indexOf(U,ie)}function _t(qt){if(I.header&&!V&&oe.length&&!ne){var Er=oe[0],ft=Object.create(null),Ot=new Set(Er);let wt=!1;for(let tr=0;tr<Er.length;tr++){let $t=Er[tr];if(ft[$t=N(I.transformHeader)?I.transformHeader($t,tr):$t]){let Bt,_r=ft[$t];for(;Bt=$t+"_"+_r,_r++,Ot.has(Bt););Ot.add(Bt),Er[tr]=Bt,ft[$t]++,wt=!0,(me=me===null?{}:me)[Bt]=$t}else ft[$t]=1,Er[tr]=$t;Ot.add($t)}wt&&console.warn("Duplicate headers found and renamed."),ne=!0}return{data:oe,errors:ge,meta:{delimiter:R,linebreak:U,aborted:xe,truncated:!!qt,cursor:K+(V||0),renamedHeaders:me}}}function xr(){L(_t()),oe=[],ge=[]}},this.abort=function(){xe=!0},this.getCharIndex=function(){return ie}}function F(I){var R=I.data,U=o[R.workerId],B=!1;if(R.error)U.userError(R.error,R.file);else if(R.results&&R.results.data){var L={abort:function(){B=!0,k(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:M,resume:M};if(N(U.userStep)){for(var H=0;H<R.results.data.length&&(U.userStep({data:R.results.data[H],errors:R.results.errors,meta:R.results.meta},L),!B);H++);delete R.results}else N(U.userChunk)&&(U.userChunk(R.results,L,R.file),delete R.results)}R.finished&&!B&&k(R.workerId,R.results)}function k(I,R){var U=o[I];N(U.userComplete)&&U.userComplete(R),U.terminate(),delete o[I]}function M(){throw new Error("Not implemented.")}function D(I){if(typeof I!="object"||I===null)return I;var R,U=Array.isArray(I)?[]:{};for(R in I)U[R]=D(I[R]);return U}function P(I,R){return function(){I.apply(R,arguments)}}function N(I){return typeof I=="function"}return u.parse=function(I,R){var U=(R=R||{}).dynamicTyping||!1;if(N(U)&&(R.dynamicTypingFunction=U,U={}),R.dynamicTyping=U,R.transform=!!N(R.transform)&&R.transform,!R.worker||!u.WORKERS_SUPPORTED)return U=null,u.NODE_STREAM_INPUT,typeof I=="string"?(I=(B=>B.charCodeAt(0)!==65279?B:B.slice(1))(I),U=new(R.download?h:y)(R)):I.readable===!0&&N(I.read)&&N(I.on)?U=new x(R):(n.File&&I instanceof File||I instanceof Object)&&(U=new m(R)),U.stream(I);(U=(()=>{var B;return!!u.WORKERS_SUPPORTED&&(B=(()=>{var L=n.URL||n.webkitURL||null,H=r.toString();return u.BLOB_URL||(u.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",H,")();"],{type:"text/javascript"})))})(),(B=new n.Worker(B)).onmessage=F,B.id=c++,o[B.id]=B)})()).userStep=R.step,U.userChunk=R.chunk,U.userComplete=R.complete,U.userError=R.error,R.step=N(R.step),R.chunk=N(R.chunk),R.complete=N(R.complete),R.error=N(R.error),delete R.worker,U.postMessage({input:I,config:R,workerId:U.id})},u.unparse=function(I,R){var U=!1,B=!0,L=",",H=`\r
`,fe='"',me=fe+fe,ne=!1,ue=null,ce=!1,ie=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||u.BAD_DELIMITERS.filter(function(V){return R.delimiter.indexOf(V)!==-1}).length||(L=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(U=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(ne=R.skipEmptyLines),typeof R.newline=="string"&&(H=R.newline),typeof R.quoteChar=="string"&&(fe=R.quoteChar),typeof R.header=="boolean"&&(B=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");ue=R.columns}R.escapeChar!==void 0&&(me=R.escapeChar+fe),R.escapeFormulae instanceof RegExp?ce=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(fe),"g"));if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return xe(null,I,ne);if(typeof I[0]=="object")return xe(ue||Object.keys(I[0]),I,ne)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||ue),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),xe(I.fields||[],I.data||[],ne);throw new Error("Unable to serialize unrecognized input");function xe(V,ee,X){var q="",he=(typeof V=="string"&&(V=JSON.parse(V)),typeof ee=="string"&&(ee=JSON.parse(ee)),Array.isArray(V)&&0<V.length),ye=!Array.isArray(ee[0]);if(he&&B){for(var Ie=0;Ie<V.length;Ie++)0<Ie&&(q+=L),q+=J(V[Ie],Ie);0<ee.length&&(q+=H)}for(var oe=0;oe<ee.length;oe++){var ge=(he?V:ee[oe]).length,De=!1,K=he?Object.keys(ee[oe]).length===0:ee[oe].length===0;if(X&&!he&&(De=X==="greedy"?ee[oe].join("").trim()==="":ee[oe].length===1&&ee[oe][0].length===0),X==="greedy"&&he){for(var Ye=[],Ue=0;Ue<ge;Ue++){var Ke=ye?V[Ue]:Ue;Ye.push(ee[oe][Ke])}De=Ye.join("").trim()===""}if(!De){for(var ze=0;ze<ge;ze++){0<ze&&!K&&(q+=L);var Fe=he&&ye?V[ze]:ze;q+=J(ee[oe][Fe],ze)}oe<ee.length-1&&(!X||0<ge&&!K)&&(q+=H)}}return q}function J(V,ee){var X,q;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(q=!1,ce&&typeof V=="string"&&ce.test(V)&&(V="'"+V,q=!0),X=V.toString().replace(ie,me),(q=q||U===!0||typeof U=="function"&&U(V,ee)||Array.isArray(U)&&U[ee]||((he,ye)=>{for(var Ie=0;Ie<ye.length;Ie++)if(-1<he.indexOf(ye[Ie]))return!0;return!1})(X,u.BAD_DELIMITERS)||-1<X.indexOf(L)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?fe+X+fe:X)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!a&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=S,u.ParserHandle=b,u.NetworkStreamer=h,u.FileStreamer=m,u.StringStreamer=y,u.ReadableStreamStreamer=x,n.jQuery&&((i=n.jQuery).fn.parse=function(I){var R=I.config||{},U=[];return this.each(function(H){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var fe=0;fe<this.files.length;fe++)U.push({file:this.files[fe],inputElem:this,instanceConfig:i.extend({},R)})}),B(),this;function B(){if(U.length===0)N(I.complete)&&I.complete();else{var H,fe,me,ne,ue=U[0];if(N(I.before)){var ce=I.before(ue.file,ue.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return H="AbortError",fe=ue.file,me=ue.inputElem,ne=ce.reason,void(N(I.error)&&I.error({name:H},fe,me,ne));if(ce.action==="skip")return void L();typeof ce.config=="object"&&(ue.instanceConfig=i.extend(ue.instanceConfig,ce.config))}else if(ce==="skip")return void L()}var ie=ue.instanceConfig.complete;ue.instanceConfig.complete=function(xe){N(ie)&&ie(xe,ue.file,ue.inputElem),L()},u.parse(ue.file,ue.instanceConfig)}}function L(){U.splice(0,1),B()}}),s&&(n.onmessage=function(I){I=I.data,u.WORKER_ID===void 0&&I&&(u.WORKER_ID=I.workerId),typeof I.input=="string"?n.postMessage({workerId:u.WORKER_ID,results:u.parse(I.input,I.config),finished:!0}):(n.File&&I.input instanceof File||I.input instanceof Object)&&(I=u.parse(I.input,I.config))&&n.postMessage({workerId:u.WORKER_ID,results:I,finished:!0})}),(h.prototype=Object.create(d.prototype)).constructor=h,(m.prototype=Object.create(d.prototype)).constructor=m,(y.prototype=Object.create(y.prototype)).constructor=y,(x.prototype=Object.create(d.prototype)).constructor=x,u})})(Ty)),Ty.exports}var YX=WX();const V2=js(YX);function Ve(e,t,r){function n(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,c);const u=s.prototype,d=Object.keys(u);for(let h=0;h<d.length;h++){const m=d[h];m in o||(o[m]=u[m].bind(o))}}const i=r?.Parent??Object;class a extends i{}Object.defineProperty(a,"name",{value:e});function s(o){var c;const u=r?.Parent?new a:this;n(u,o),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:o=>r?.Parent&&o instanceof r.Parent?!0:o?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class Xd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class cU extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const uU={};function pf(e){return uU}function fU(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function CA(e,t){return typeof t=="bigint"?t.toString():t}function z2(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $2(e){return e==null}function H2(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function JX(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c?.[1]&&(i=Number.parseInt(c[1]))}const a=r>i?r:i,s=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return s%o/10**a}const o4=Symbol("evaluating");function kr(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==o4)return n===void 0&&(n=o4,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function Of(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function uu(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function l4(e){return JSON.stringify(e)}function XX(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const dU="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Zy(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const ZX=z2(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Yp(e){if(Zy(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Zy(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function hU(e){return Yp(e)?{...e}:Array.isArray(e)?[...e]:e}const QX=new Set(["string","number","symbol"]);function fh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fu(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function xt(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function eZ(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const tZ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function rZ(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=uu(e._zod.def,{get shape(){const s={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=r.shape[o])}return Of(this,"shape",s),s},checks:[]});return fu(e,a)}function nZ(e,t){const r=e._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=uu(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete s[o]}return Of(this,"shape",s),s},checks:[]});return fu(e,a)}function iZ(e,t){if(!Yp(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0){const a=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(a,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const i=uu(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Of(this,"shape",a),a}});return fu(e,i)}function aZ(e,t){if(!Yp(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=uu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Of(this,"shape",n),n}});return fu(e,r)}function sZ(e,t){const r=uu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Of(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return fu(e,r)}function oZ(e,t,r){const i=t._zod.def.checks;if(i&&i.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=uu(t._zod.def,{get shape(){const o=t._zod.def.shape,c={...o};if(r)for(const u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)c[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return Of(this,"shape",c),c},checks:[]});return fu(t,s)}function lZ(e,t,r){const n=uu(t._zod.def,{get shape(){const i=t._zod.def.shape,a={...i};if(r)for(const s in r){if(!(s in a))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(a[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)a[s]=new e({type:"nonoptional",innerType:i[s]});return Of(this,"shape",a),a}});return fu(t,n)}function zd(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function pU(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Pv(e){return typeof e=="string"?e:e?.message}function mf(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const i=Pv(e.inst?._zod.def?.error?.(e))??Pv(t?.error?.(e))??Pv(r.customError?.(e))??Pv(r.localeError?.(e))??"Invalid input";n.message=i}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function G2(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Jp(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const mU=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,CA,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},gU=Ve("$ZodError",mU),vU=Ve("$ZodError",mU,{Parent:Error});function cZ(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function uZ(e,t=r=>r.message){const r={_errors:[]},n=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(s=>n({issues:s}));else if(a.code==="invalid_key")n({issues:a.issues});else if(a.code==="invalid_element")n({issues:a.issues});else if(a.path.length===0)r._errors.push(t(a));else{let s=r,o=0;for(;o<a.path.length;){const c=a.path[o];o===a.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(a))):s[c]=s[c]||{_errors:[]},s=s[c],o++}}};return n(e),r}const q2=e=>(t,r,n,i)=>{const a=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new Xd;if(s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>mf(c,a,pf())));throw dU(o,i?.callee),o}return s.value},K2=e=>async(t,r,n,i)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const o=new(i?.Err??e)(s.issues.map(c=>mf(c,a,pf())));throw dU(o,i?.callee),o}return s.value},M1=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},a=t._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new Xd;return a.issues.length?{success:!1,error:new(e??gU)(a.issues.map(s=>mf(s,i,pf())))}:{success:!0,data:a.value}},fZ=M1(vU),D1=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let a=t._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(s=>mf(s,i,pf())))}:{success:!0,data:a.value}},dZ=D1(vU),hZ=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return q2(e)(t,r,i)},pZ=e=>(t,r,n)=>q2(e)(t,r,n),mZ=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return K2(e)(t,r,i)},gZ=e=>async(t,r,n)=>K2(e)(t,r,n),vZ=e=>(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return M1(e)(t,r,i)},yZ=e=>(t,r,n)=>M1(e)(t,r,n),xZ=e=>async(t,r,n)=>{const i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return D1(e)(t,r,i)},_Z=e=>async(t,r,n)=>D1(e)(t,r,n),bZ=/^[cC][^\s-]{8,}$/,wZ=/^[0-9a-z]+$/,EZ=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,TZ=/^[0-9a-vA-V]{20}$/,AZ=/^[A-Za-z0-9]{27}$/,SZ=/^[a-zA-Z0-9_-]{21}$/,CZ=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,NZ=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,c4=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,IZ=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,kZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function PZ(){return new RegExp(kZ,"u")}const RZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,MZ=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,DZ=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FZ=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,yU=/^[A-Za-z0-9_-]*$/,LZ=/^\+[1-9]\d{6,14}$/,xU="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jZ=new RegExp(`^${xU}$`);function _U(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function UZ(e){return new RegExp(`^${_U(e)}$`)}function BZ(e){const t=_U({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${xU}T(?:${n})$`)}const VZ=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},zZ=/^-?\d+$/,$Z=/^-?\d+(?:\.\d+)?$/,HZ=/^[^A-Z]*$/,GZ=/^[^a-z]*$/,Ua=Ve("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),bU={number:"number",bigint:"bigint",object:"date"},wU=Ve("$ZodCheckLessThan",(e,t)=>{Ua.init(e,t);const r=bU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),EU=Ve("$ZodCheckGreaterThan",(e,t)=>{Ua.init(e,t);const r=bU[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,a=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qZ=Ve("$ZodCheckMultipleOf",(e,t)=>{Ua.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):JX(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),KZ=Ve("$ZodCheckNumberFormat",(e,t)=>{Ua.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[i,a]=tZ[t.format];e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,o.minimum=i,o.maximum=a,r&&(o.pattern=zZ)}),e._zod.check=s=>{const o=s.value;if(r){if(!Number.isInteger(o)){s.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});return}if(!Number.isSafeInteger(o)){o>0?s.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort}):s.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,inclusive:!0,continue:!t.abort});return}}o<i&&s.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>a&&s.issues.push({origin:"number",input:o,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),WZ=Ve("$ZodCheckMaxLength",(e,t)=>{var r;Ua.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!$2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const i=n.value;if(i.length<=t.maximum)return;const s=G2(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),YZ=Ve("$ZodCheckMinLength",(e,t)=>{var r;Ua.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!$2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const i=n.value;if(i.length>=t.minimum)return;const s=G2(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),JZ=Ve("$ZodCheckLengthEquals",(e,t)=>{var r;Ua.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!$2(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{const i=n.value,a=i.length;if(a===t.length)return;const s=G2(i),o=a>t.length;n.issues.push({origin:s,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),F1=Ve("$ZodCheckStringFormat",(e,t)=>{var r,n;Ua.init(e,t),e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),XZ=Ve("$ZodCheckRegex",(e,t)=>{F1.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),ZZ=Ve("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=HZ),F1.init(e,t)}),QZ=Ve("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=GZ),F1.init(e,t)}),eQ=Ve("$ZodCheckIncludes",(e,t)=>{Ua.init(e,t);const r=fh(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),tQ=Ve("$ZodCheckStartsWith",(e,t)=>{Ua.init(e,t);const r=new RegExp(`^${fh(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),rQ=Ve("$ZodCheckEndsWith",(e,t)=>{Ua.init(e,t);const r=new RegExp(`.*${fh(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),nQ=Ve("$ZodCheckOverwrite",(e,t)=>{Ua.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class iQ{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),a=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of a)this.content.push(s)}compile(){const t=Function,r=this?.args,i=[...(this?.content??[""]).map(a=>`  ${a}`)];return new t(...r,i.join(`
`))}}const aQ={major:4,minor:3,patch:6},In=Ve("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=aQ;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const i of n)for(const a of i._zod.onattach)a(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(s,o,c)=>{let u=zd(s),d;for(const h of o){if(h._zod.def.when){if(!h._zod.def.when(s))continue}else if(u)continue;const m=s.issues.length,y=h._zod.check(s);if(y instanceof Promise&&c?.async===!1)throw new Xd;if(d||y instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await y,s.issues.length!==m&&(u||(u=zd(s,m)))});else{if(s.issues.length===m)continue;u||(u=zd(s,m))}}return d?d.then(()=>s):s},a=(s,o,c)=>{if(zd(s))return s.aborted=!0,s;const u=i(o,n,c);if(u instanceof Promise){if(c.async===!1)throw new Xd;return u.then(d=>e._zod.parse(d,c))}return e._zod.parse(u,c)};e._zod.run=(s,o)=>{if(o.skipChecks)return e._zod.parse(s,o);if(o.direction==="backward"){const u=e._zod.parse({value:s.value,issues:[]},{...o,skipChecks:!0});return u instanceof Promise?u.then(d=>a(d,s,o)):a(u,s,o)}const c=e._zod.parse(s,o);if(c instanceof Promise){if(o.async===!1)throw new Xd;return c.then(u=>i(u,n,o))}return i(c,n,o)}}kr(e,"~standard",()=>({validate:i=>{try{const a=fZ(e,i);return a.success?{value:a.data}:{issues:a.error?.issues}}catch{return dZ(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}))}),W2=Ve("$ZodString",(e,t)=>{In.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??VZ(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),nn=Ve("$ZodStringFormat",(e,t)=>{F1.init(e,t),W2.init(e,t)}),sQ=Ve("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=NZ),nn.init(e,t)}),oQ=Ve("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=c4(n))}else t.pattern??(t.pattern=c4());nn.init(e,t)}),lQ=Ve("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=IZ),nn.init(e,t)}),cQ=Ve("$ZodURL",(e,t)=>{nn.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),uQ=Ve("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=PZ()),nn.init(e,t)}),fQ=Ve("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=SZ),nn.init(e,t)}),dQ=Ve("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=bZ),nn.init(e,t)}),hQ=Ve("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=wZ),nn.init(e,t)}),pQ=Ve("$ZodULID",(e,t)=>{t.pattern??(t.pattern=EZ),nn.init(e,t)}),mQ=Ve("$ZodXID",(e,t)=>{t.pattern??(t.pattern=TZ),nn.init(e,t)}),gQ=Ve("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=AZ),nn.init(e,t)}),vQ=Ve("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=BZ(t)),nn.init(e,t)}),yQ=Ve("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=jZ),nn.init(e,t)}),xQ=Ve("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=UZ(t)),nn.init(e,t)}),_Q=Ve("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=CZ),nn.init(e,t)}),bQ=Ve("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=RZ),nn.init(e,t),e._zod.bag.format="ipv4"}),wQ=Ve("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=OZ),nn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),EQ=Ve("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=MZ),nn.init(e,t)}),TQ=Ve("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=DZ),nn.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[i,a]=n;if(!a)throw new Error;const s=Number(a);if(`${s}`!==a)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function TU(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const AQ=Ve("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=FZ),nn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{TU(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function SQ(e){if(!yU.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return TU(r)}const CQ=Ve("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=yU),nn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{SQ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),NQ=Ve("$ZodE164",(e,t)=>{t.pattern??(t.pattern=LZ),nn.init(e,t)});function IQ(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const kQ=Ve("$ZodJWT",(e,t)=>{nn.init(e,t),e._zod.check=r=>{IQ(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),AU=Ve("$ZodNumber",(e,t)=>{In.init(e,t),e._zod.pattern=e._zod.bag.pattern??$Z,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...a?{received:a}:{}}),r}}),PQ=Ve("$ZodNumberFormat",(e,t)=>{KZ.init(e,t),AU.init(e,t)}),RQ=Ve("$ZodUnknown",(e,t)=>{In.init(e,t),e._zod.parse=r=>r}),OQ=Ve("$ZodNever",(e,t)=>{In.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function u4(e,t,r){e.issues.length&&t.issues.push(...pU(r,e.issues)),t.value[r]=e.value}const MQ=Ve("$ZodArray",(e,t)=>{In.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const a=[];for(let s=0;s<i.length;s++){const o=i[s],c=t.element._zod.run({value:o,issues:[]},n);c instanceof Promise?a.push(c.then(u=>u4(u,r,s))):u4(c,r,s)}return a.length?Promise.all(a).then(()=>r):r}});function Qy(e,t,r,n,i){if(e.issues.length){if(i&&!(r in n))return;t.issues.push(...pU(r,e.issues))}e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function SU(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=eZ(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function CU(e,t,r,n,i,a){const s=[],o=i.keySet,c=i.catchall._zod,u=c.def.type,d=c.optout==="optional";for(const h in t){if(o.has(h))continue;if(u==="never"){s.push(h);continue}const m=c.run({value:t[h],issues:[]},n);m instanceof Promise?e.push(m.then(y=>Qy(y,r,h,t,d))):Qy(m,r,h,t,d)}return s.length&&r.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:a}),e.length?Promise.all(e).then(()=>r):r}const DQ=Ve("$ZodObject",(e,t)=>{if(In.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...o};return Object.defineProperty(t,"shape",{value:c}),c}})}const n=z2(()=>SU(t));kr(e._zod,"propValues",()=>{const o=t.shape,c={};for(const u in o){const d=o[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const h of d.values)c[u].add(h)}}return c});const i=Zy,a=t.catchall;let s;e._zod.parse=(o,c)=>{s??(s=n.value);const u=o.value;if(!i(u))return o.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),o;o.value={};const d=[],h=s.shape;for(const m of s.keys){const y=h[m],x=y._zod.optout==="optional",b=y._zod.run({value:u[m],issues:[]},c);b instanceof Promise?d.push(b.then(E=>Qy(E,o,m,u,x))):Qy(b,o,m,u,x)}return a?CU(d,u,o,c,n.value,e):d.length?Promise.all(d).then(()=>o):o}}),FQ=Ve("$ZodObjectJIT",(e,t)=>{DQ.init(e,t);const r=e._zod.parse,n=z2(()=>SU(t)),i=m=>{const y=new iQ(["shape","payload","ctx"]),x=n.value,b=k=>{const M=l4(k);return`shape[${M}]._zod.run({ value: input[${M}], issues: [] }, ctx)`};y.write("const input = payload.value;");const E=Object.create(null);let S=0;for(const k of x.keys)E[k]=`key_${S++}`;y.write("const newResult = {};");for(const k of x.keys){const M=E[k],D=l4(k),N=m[k]?._zod?.optout==="optional";y.write(`const ${M} = ${b(k)};`),N?y.write(`
        if (${M}.issues.length) {
          if (${D} in input) {
            payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${D}, ...iss.path] : [${D}]
            })));
          }
        }
        
        if (${M}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${M}.value;
        }
        
      `):y.write(`
        if (${M}.issues.length) {
          payload.issues = payload.issues.concat(${M}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${D}, ...iss.path] : [${D}]
          })));
        }
        
        if (${M}.value === undefined) {
          if (${D} in input) {
            newResult[${D}] = undefined;
          }
        } else {
          newResult[${D}] = ${M}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const F=y.compile();return(k,M)=>F(m,k,M)};let a;const s=Zy,o=!uU.jitless,u=o&&ZX.value,d=t.catchall;let h;e._zod.parse=(m,y)=>{h??(h=n.value);const x=m.value;return s(x)?o&&u&&y?.async===!1&&y.jitless!==!0?(a||(a=i(t.shape)),m=a(m,y),d?CU([],x,m,y,h,e):m):r(m,y):(m.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),m)}});function f4(e,t,r,n){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const i=e.filter(a=>!zd(a));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(a=>a.issues.map(s=>mf(s,n,pf())))}),t)}const LQ=Ve("$ZodUnion",(e,t)=>{In.init(e,t),kr(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),kr(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),kr(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),kr(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>H2(a.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,a)=>{if(r)return n(i,a);let s=!1;const o=[];for(const c of t.options){const u=c._zod.run({value:i.value,issues:[]},a);if(u instanceof Promise)o.push(u),s=!0;else{if(u.issues.length===0)return u;o.push(u)}}return s?Promise.all(o).then(c=>f4(c,i,e,a)):f4(o,i,e,a)}}),jQ=Ve("$ZodIntersection",(e,t)=>{In.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,a=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then(([c,u])=>d4(r,c,u)):d4(r,a,s)}});function NA(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Yp(e)&&Yp(t)){const r=Object.keys(t),n=Object.keys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of n){const s=NA(e[a],t[a]);if(!s.valid)return{valid:!1,mergeErrorPath:[a,...s.mergeErrorPath]};i[a]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],a=t[n],s=NA(i,a);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function d4(e,t,r){const n=new Map;let i;for(const o of t.issues)if(o.code==="unrecognized_keys"){i??(i=o);for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else e.issues.push(o);for(const o of r.issues)if(o.code==="unrecognized_keys")for(const c of o.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else e.issues.push(o);const a=[...n].filter(([,o])=>o.l&&o.r).map(([o])=>o);if(a.length&&i&&e.issues.push({...i,keys:a}),zd(e))return e;const s=NA(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const UQ=Ve("$ZodEnum",(e,t)=>{In.init(e,t);const r=fU(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>QX.has(typeof i)).map(i=>typeof i=="string"?fh(i):i.toString()).join("|")})$`),e._zod.parse=(i,a)=>{const s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:e}),i}}),BQ=Ve("$ZodLiteral",(e,t)=>{if(In.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(t.values);e._zod.values=r,e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?fh(n):n?fh(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,i)=>{const a=n.value;return r.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}}),VQ=Ve("$ZodTransform",(e,t)=>{In.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new cU(e.constructor.name);const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new Xd;return r.value=i,r}});function h4(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const NU=Ve("$ZodOptional",(e,t)=>{In.init(e,t),e._zod.optin="optional",e._zod.optout="optional",kr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),kr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${H2(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>h4(a,r.value)):h4(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),zQ=Ve("$ZodExactOptional",(e,t)=>{NU.init(e,t),kr(e._zod,"values",()=>t.innerType._zod.values),kr(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(r,n)=>t.innerType._zod.run(r,n)}),$Q=Ve("$ZodNullable",(e,t)=>{In.init(e,t),kr(e._zod,"optin",()=>t.innerType._zod.optin),kr(e._zod,"optout",()=>t.innerType._zod.optout),kr(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${H2(r.source)}|null)$`):void 0}),kr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),HQ=Ve("$ZodDefault",(e,t)=>{In.init(e,t),e._zod.optin="optional",kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>p4(a,t)):p4(i,t)}});function p4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const GQ=Ve("$ZodPrefault",(e,t)=>{In.init(e,t),e._zod.optin="optional",kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),qQ=Ve("$ZodNonOptional",(e,t)=>{In.init(e,t),kr(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>m4(a,e)):m4(i,e)}});function m4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const KQ=Ve("$ZodCatch",(e,t)=>{In.init(e,t),kr(e._zod,"optin",()=>t.innerType._zod.optin),kr(e._zod,"optout",()=>t.innerType._zod.optout),kr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>mf(s,n,pf()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(a=>mf(a,n,pf()))},input:r.value}),r.issues=[]),r)}}),WQ=Ve("$ZodPipe",(e,t)=>{In.init(e,t),kr(e._zod,"values",()=>t.in._zod.values),kr(e._zod,"optin",()=>t.in._zod.optin),kr(e._zod,"optout",()=>t.out._zod.optout),kr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const a=t.out._zod.run(r,n);return a instanceof Promise?a.then(s=>Rv(s,t.in,n)):Rv(a,t.in,n)}const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(a=>Rv(a,t.out,n)):Rv(i,t.out,n)}});function Rv(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const YQ=Ve("$ZodReadonly",(e,t)=>{In.init(e,t),kr(e._zod,"propValues",()=>t.innerType._zod.propValues),kr(e._zod,"values",()=>t.innerType._zod.values),kr(e._zod,"optin",()=>t.innerType?._zod?.optin),kr(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(g4):g4(i)}});function g4(e){return e.value=Object.freeze(e.value),e}const JQ=Ve("$ZodCustom",(e,t)=>{Ua.init(e,t),In.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(a=>v4(a,r,n,e));v4(i,r,n,e)}});function v4(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(Jp(i))}}var y4;class XQ{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];return this._map.set(t,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function ZQ(){return new XQ}(y4=globalThis).__zod_globalRegistry??(y4.__zod_globalRegistry=ZQ());const cp=globalThis.__zod_globalRegistry;function QQ(e,t){return new e({type:"string",...xt(t)})}function eee(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...xt(t)})}function x4(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...xt(t)})}function tee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...xt(t)})}function ree(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...xt(t)})}function nee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...xt(t)})}function iee(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...xt(t)})}function aee(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...xt(t)})}function see(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...xt(t)})}function oee(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...xt(t)})}function lee(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...xt(t)})}function cee(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...xt(t)})}function uee(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...xt(t)})}function fee(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...xt(t)})}function dee(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...xt(t)})}function hee(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...xt(t)})}function pee(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...xt(t)})}function mee(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...xt(t)})}function gee(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...xt(t)})}function vee(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...xt(t)})}function yee(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...xt(t)})}function xee(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...xt(t)})}function _ee(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...xt(t)})}function bee(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...xt(t)})}function wee(e,t){return new e({type:"string",format:"date",check:"string_format",...xt(t)})}function Eee(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...xt(t)})}function Tee(e,t){return new e({type:"string",format:"duration",check:"string_format",...xt(t)})}function Aee(e,t){return new e({type:"number",checks:[],...xt(t)})}function See(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...xt(t)})}function Cee(e){return new e({type:"unknown"})}function Nee(e,t){return new e({type:"never",...xt(t)})}function _4(e,t){return new wU({check:"less_than",...xt(t),value:e,inclusive:!1})}function iE(e,t){return new wU({check:"less_than",...xt(t),value:e,inclusive:!0})}function b4(e,t){return new EU({check:"greater_than",...xt(t),value:e,inclusive:!1})}function aE(e,t){return new EU({check:"greater_than",...xt(t),value:e,inclusive:!0})}function w4(e,t){return new qZ({check:"multiple_of",...xt(t),value:e})}function IU(e,t){return new WZ({check:"max_length",...xt(t),maximum:e})}function ex(e,t){return new YZ({check:"min_length",...xt(t),minimum:e})}function kU(e,t){return new JZ({check:"length_equals",...xt(t),length:e})}function Iee(e,t){return new XZ({check:"string_format",format:"regex",...xt(t),pattern:e})}function kee(e){return new ZZ({check:"string_format",format:"lowercase",...xt(e)})}function Pee(e){return new QZ({check:"string_format",format:"uppercase",...xt(e)})}function Ree(e,t){return new eQ({check:"string_format",format:"includes",...xt(t),includes:e})}function Oee(e,t){return new tQ({check:"string_format",format:"starts_with",...xt(t),prefix:e})}function Mee(e,t){return new rQ({check:"string_format",format:"ends_with",...xt(t),suffix:e})}function Ph(e){return new nQ({check:"overwrite",tx:e})}function Dee(e){return Ph(t=>t.normalize(e))}function Fee(){return Ph(e=>e.trim())}function Lee(){return Ph(e=>e.toLowerCase())}function jee(){return Ph(e=>e.toUpperCase())}function Uee(){return Ph(e=>XX(e))}function Bee(e,t,r){return new e({type:"array",element:t,...xt(r)})}function Vee(e,t,r){return new e({type:"custom",check:"custom",fn:t,...xt(r)})}function zee(e){const t=$ee(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Jp(n,r.value,t._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(Jp(i))}},e(r.value,r)));return t}function $ee(e,t){const r=new Ua({check:"custom",...xt(t)});return r._zod.check=e,r}function PU(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??cp,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Oi(e,t,r={path:[],schemaPath:[]}){var n;const i=e._zod.def,a=t.seen.get(e);if(a)return a.count++,r.schemaPath.includes(e)&&(a.cycle=r.path),a.schema;const s={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(e,s);const o=e._zod.toJSONSchema?.();if(o)s.schema=o;else{const d={...r,schemaPath:[...r.schemaPath,e],path:r.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,d);else{const m=s.schema,y=t.processors[i.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);y(e,t,m,d)}const h=e._zod.parent;h&&(s.ref||(s.ref=h),Oi(h,t,d),t.seen.get(h).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),t.io==="input"&&aa(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function RU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const s of e.seen.entries()){const o=e.metadataRegistry.get(s[0])?.id;if(o){const c=n.get(o);if(c&&c!==s[0])throw new Error(`Duplicate schema id "${o}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(o,s[0])}}const i=s=>{const o=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(s[0])?.id,m=e.external.uri??(x=>x);if(h)return{ref:m(h)};const y=s[1].defId??s[1].schema.id??`schema${e.counter++}`;return s[1].defId=y,{defId:y,ref:`${m("__shared")}#/${o}/${y}`}}if(s[1]===r)return{ref:"#"};const u=`#/${o}/`,d=s[1].schema.id??`__schema${e.counter++}`;return{defId:d,ref:u+d}},a=s=>{if(s[1].schema.$ref)return;const o=s[1],{ref:c,defId:u}=i(s);o.def={...o.schema},u&&(o.defId=u);const d=o.schema;for(const h in d)delete d[h];d.$ref=c};if(e.cycles==="throw")for(const s of e.seen.entries()){const o=s[1];if(o.cycle)throw new Error(`Cycle detected: #/${o.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const s of e.seen.entries()){const o=s[1];if(t===s[0]){a(s);continue}if(e.external){const u=e.external.registry.get(s[0])?.id;if(t!==s[0]&&u){a(s);continue}}if(e.metadataRegistry.get(s[0])?.id){a(s);continue}if(o.cycle){a(s);continue}if(o.count>1&&e.reused==="ref"){a(s);continue}}}function OU(e,t){const r=e.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=s=>{const o=e.seen.get(s);if(o.ref===null)return;const c=o.def??o.schema,u={...c},d=o.ref;if(o.ref=null,d){n(d);const m=e.seen.get(d),y=m.schema;if(y.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(y)):Object.assign(c,y),Object.assign(c,u),s._zod.parent===d)for(const b in c)b==="$ref"||b==="allOf"||b in u||delete c[b];if(y.$ref&&m.def)for(const b in c)b==="$ref"||b==="allOf"||b in m.def&&JSON.stringify(c[b])===JSON.stringify(m.def[b])&&delete c[b]}const h=s._zod.parent;if(h&&h!==d){n(h);const m=e.seen.get(h);if(m?.schema.$ref&&(c.$ref=m.schema.$ref,m.def))for(const y in c)y==="$ref"||y==="allOf"||y in m.def&&JSON.stringify(c[y])===JSON.stringify(m.def[y])&&delete c[y]}e.override({zodSchema:s,jsonSchema:c,path:o.path??[]})};for(const s of[...e.seen.entries()].reverse())n(s[0]);const i={};if(e.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const s=e.external.registry.get(t)?.id;if(!s)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(s)}Object.assign(i,r.def??r.schema);const a=e.external?.defs??{};for(const s of e.seen.entries()){const o=s[1];o.def&&o.defId&&(a[o.defId]=o.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const s=JSON.parse(JSON.stringify(i));return Object.defineProperty(s,"~standard",{value:{...t["~standard"],jsonSchema:{input:tx(t,"input",e.processors),output:tx(t,"output",e.processors)}},enumerable:!1,writable:!1}),s}catch{throw new Error("Error converting schema to JSON.")}}function aa(e,t){const r=t??{seen:new Set};if(r.seen.has(e))return!1;r.seen.add(e);const n=e._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return aa(n.element,r);if(n.type==="set")return aa(n.valueType,r);if(n.type==="lazy")return aa(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return aa(n.innerType,r);if(n.type==="intersection")return aa(n.left,r)||aa(n.right,r);if(n.type==="record"||n.type==="map")return aa(n.keyType,r)||aa(n.valueType,r);if(n.type==="pipe")return aa(n.in,r)||aa(n.out,r);if(n.type==="object"){for(const i in n.shape)if(aa(n.shape[i],r))return!0;return!1}if(n.type==="union"){for(const i of n.options)if(aa(i,r))return!0;return!1}if(n.type==="tuple"){for(const i of n.items)if(aa(i,r))return!0;return!!(n.rest&&aa(n.rest,r))}return!1}const Hee=(e,t={})=>r=>{const n=PU({...r,processors:t});return Oi(e,n),RU(n,e),OU(n,e)},tx=(e,t,r={})=>n=>{const{libraryOptions:i,target:a}=n??{},s=PU({...i??{},target:a,io:t,processors:r});return Oi(e,s),RU(s,e),OU(s,e)},Gee={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},qee=(e,t,r,n)=>{const i=r;i.type="string";const{minimum:a,maximum:s,format:o,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof s=="number"&&(i.maxLength=s),o&&(i.format=Gee[o]??o,i.format===""&&delete i.format,o==="time"&&delete i.format),u&&(i.contentEncoding=u),c&&c.size>0){const d=[...c];d.length===1?i.pattern=d[0].source:d.length>1&&(i.allOf=[...d.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},Kee=(e,t,r,n)=>{const i=r,{minimum:a,maximum:s,format:o,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:d}=e._zod.bag;typeof o=="string"&&o.includes("int")?i.type="integer":i.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=d,i.exclusiveMinimum=!0):i.exclusiveMinimum=d),typeof a=="number"&&(i.minimum=a,typeof d=="number"&&t.target!=="draft-04"&&(d>=a?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof s=="number"&&(i.maximum=s,typeof u=="number"&&t.target!=="draft-04"&&(u<=s?delete i.maximum:delete i.exclusiveMaximum)),typeof c=="number"&&(i.multipleOf=c)},Wee=(e,t,r,n)=>{r.not={}},Yee=(e,t,r,n)=>{},Jee=(e,t,r,n)=>{const i=e._zod.def,a=fU(i.entries);a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),r.enum=a},Xee=(e,t,r,n)=>{const i=e._zod.def,a=[];for(const s of i.values)if(s===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof s=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(s))}else a.push(s);if(a.length!==0)if(a.length===1){const s=a[0];r.type=s===null?"null":typeof s,t.target==="draft-04"||t.target==="openapi-3.0"?r.enum=[s]:r.const=s}else a.every(s=>typeof s=="number")&&(r.type="number"),a.every(s=>typeof s=="string")&&(r.type="string"),a.every(s=>typeof s=="boolean")&&(r.type="boolean"),a.every(s=>s===null)&&(r.type="null"),r.enum=a},Zee=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Qee=(e,t,r,n)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},ete=(e,t,r,n)=>{const i=r,a=e._zod.def,{minimum:s,maximum:o}=e._zod.bag;typeof s=="number"&&(i.minItems=s),typeof o=="number"&&(i.maxItems=o),i.type="array",i.items=Oi(a.element,t,{...n,path:[...n.path,"items"]})},tte=(e,t,r,n)=>{const i=r,a=e._zod.def;i.type="object",i.properties={};const s=a.shape;for(const u in s)i.properties[u]=Oi(s[u],t,{...n,path:[...n.path,"properties",u]});const o=new Set(Object.keys(s)),c=new Set([...o].filter(u=>{const d=a.shape[u]._zod;return t.io==="input"?d.optin===void 0:d.optout===void 0}));c.size>0&&(i.required=Array.from(c)),a.catchall?._zod.def.type==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=Oi(a.catchall,t,{...n,path:[...n.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},rte=(e,t,r,n)=>{const i=e._zod.def,a=i.inclusive===!1,s=i.options.map((o,c)=>Oi(o,t,{...n,path:[...n.path,a?"oneOf":"anyOf",c]}));a?r.oneOf=s:r.anyOf=s},nte=(e,t,r,n)=>{const i=e._zod.def,a=Oi(i.left,t,{...n,path:[...n.path,"allOf",0]}),s=Oi(i.right,t,{...n,path:[...n.path,"allOf",1]}),o=u=>"allOf"in u&&Object.keys(u).length===1,c=[...o(a)?a.allOf:[a],...o(s)?s.allOf:[s]];r.allOf=c},ite=(e,t,r,n)=>{const i=e._zod.def,a=Oi(i.innerType,t,n),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=i.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},ate=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},ste=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},ote=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},lte=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType;let s;try{s=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=s},cte=(e,t,r,n)=>{const i=e._zod.def,a=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Oi(a,t,n);const s=t.seen.get(e);s.ref=a},ute=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType,r.readOnly=!0},MU=(e,t,r,n)=>{const i=e._zod.def;Oi(i.innerType,t,n);const a=t.seen.get(e);a.ref=i.innerType},fte=Ve("ZodISODateTime",(e,t)=>{vQ.init(e,t),sn.init(e,t)});function dte(e){return bee(fte,e)}const hte=Ve("ZodISODate",(e,t)=>{yQ.init(e,t),sn.init(e,t)});function pte(e){return wee(hte,e)}const mte=Ve("ZodISOTime",(e,t)=>{xQ.init(e,t),sn.init(e,t)});function gte(e){return Eee(mte,e)}const vte=Ve("ZodISODuration",(e,t)=>{_Q.init(e,t),sn.init(e,t)});function yte(e){return Tee(vte,e)}const xte=(e,t)=>{gU.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>uZ(e,r)},flatten:{value:r=>cZ(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,CA,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,CA,2)}},isEmpty:{get(){return e.issues.length===0}}})},Us=Ve("ZodError",xte,{Parent:Error}),_te=q2(Us),bte=K2(Us),wte=M1(Us),Ete=D1(Us),Tte=hZ(Us),Ate=pZ(Us),Ste=mZ(Us),Cte=gZ(Us),Nte=vZ(Us),Ite=yZ(Us),kte=xZ(Us),Pte=_Z(Us),kn=Ve("ZodType",(e,t)=>(In.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:tx(e,"input"),output:tx(e,"output")}}),e.toJSONSchema=Hee(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(uu(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),e.with=e.check,e.clone=(r,n)=>fu(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>_te(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>wte(e,r,n),e.parseAsync=async(r,n)=>bte(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Ete(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Tte(e,r,n),e.decode=(r,n)=>Ate(e,r,n),e.encodeAsync=async(r,n)=>Ste(e,r,n),e.decodeAsync=async(r,n)=>Cte(e,r,n),e.safeEncode=(r,n)=>Nte(e,r,n),e.safeDecode=(r,n)=>Ite(e,r,n),e.safeEncodeAsync=async(r,n)=>kte(e,r,n),e.safeDecodeAsync=async(r,n)=>Pte(e,r,n),e.refine=(r,n)=>e.check(Tre(r,n)),e.superRefine=r=>e.check(Are(r)),e.overwrite=r=>e.check(Ph(r)),e.optional=()=>S4(e),e.exactOptional=()=>fre(e),e.nullable=()=>C4(e),e.nullish=()=>S4(C4(e)),e.nonoptional=r=>vre(e,r),e.array=()=>LU(e),e.or=r=>nre([e,r]),e.and=r=>are(e,r),e.transform=r=>N4(e,cre(r)),e.default=r=>pre(e,r),e.prefault=r=>gre(e,r),e.catch=r=>xre(e,r),e.pipe=r=>N4(e,r),e.readonly=()=>wre(e),e.describe=r=>{const n=e.clone();return cp.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return cp.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return cp.get(e);const n=e.clone();return cp.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=r=>r(e),e)),DU=Ve("_ZodString",(e,t)=>{W2.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>qee(e,n,i);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(Iee(...n)),e.includes=(...n)=>e.check(Ree(...n)),e.startsWith=(...n)=>e.check(Oee(...n)),e.endsWith=(...n)=>e.check(Mee(...n)),e.min=(...n)=>e.check(ex(...n)),e.max=(...n)=>e.check(IU(...n)),e.length=(...n)=>e.check(kU(...n)),e.nonempty=(...n)=>e.check(ex(1,...n)),e.lowercase=n=>e.check(kee(n)),e.uppercase=n=>e.check(Pee(n)),e.trim=()=>e.check(Fee()),e.normalize=(...n)=>e.check(Dee(...n)),e.toLowerCase=()=>e.check(Lee()),e.toUpperCase=()=>e.check(jee()),e.slugify=()=>e.check(Uee())}),Rte=Ve("ZodString",(e,t)=>{W2.init(e,t),DU.init(e,t),e.email=r=>e.check(eee(Ote,r)),e.url=r=>e.check(aee(Mte,r)),e.jwt=r=>e.check(_ee(Yte,r)),e.emoji=r=>e.check(see(Dte,r)),e.guid=r=>e.check(x4(E4,r)),e.uuid=r=>e.check(tee(Ov,r)),e.uuidv4=r=>e.check(ree(Ov,r)),e.uuidv6=r=>e.check(nee(Ov,r)),e.uuidv7=r=>e.check(iee(Ov,r)),e.nanoid=r=>e.check(oee(Fte,r)),e.guid=r=>e.check(x4(E4,r)),e.cuid=r=>e.check(lee(Lte,r)),e.cuid2=r=>e.check(cee(jte,r)),e.ulid=r=>e.check(uee(Ute,r)),e.base64=r=>e.check(vee(qte,r)),e.base64url=r=>e.check(yee(Kte,r)),e.xid=r=>e.check(fee(Bte,r)),e.ksuid=r=>e.check(dee(Vte,r)),e.ipv4=r=>e.check(hee(zte,r)),e.ipv6=r=>e.check(pee($te,r)),e.cidrv4=r=>e.check(mee(Hte,r)),e.cidrv6=r=>e.check(gee(Gte,r)),e.e164=r=>e.check(xee(Wte,r)),e.datetime=r=>e.check(dte(r)),e.date=r=>e.check(pte(r)),e.time=r=>e.check(gte(r)),e.duration=r=>e.check(yte(r))});function ks(e){return QQ(Rte,e)}const sn=Ve("ZodStringFormat",(e,t)=>{nn.init(e,t),DU.init(e,t)}),Ote=Ve("ZodEmail",(e,t)=>{lQ.init(e,t),sn.init(e,t)}),E4=Ve("ZodGUID",(e,t)=>{sQ.init(e,t),sn.init(e,t)}),Ov=Ve("ZodUUID",(e,t)=>{oQ.init(e,t),sn.init(e,t)}),Mte=Ve("ZodURL",(e,t)=>{cQ.init(e,t),sn.init(e,t)}),Dte=Ve("ZodEmoji",(e,t)=>{uQ.init(e,t),sn.init(e,t)}),Fte=Ve("ZodNanoID",(e,t)=>{fQ.init(e,t),sn.init(e,t)}),Lte=Ve("ZodCUID",(e,t)=>{dQ.init(e,t),sn.init(e,t)}),jte=Ve("ZodCUID2",(e,t)=>{hQ.init(e,t),sn.init(e,t)}),Ute=Ve("ZodULID",(e,t)=>{pQ.init(e,t),sn.init(e,t)}),Bte=Ve("ZodXID",(e,t)=>{mQ.init(e,t),sn.init(e,t)}),Vte=Ve("ZodKSUID",(e,t)=>{gQ.init(e,t),sn.init(e,t)}),zte=Ve("ZodIPv4",(e,t)=>{bQ.init(e,t),sn.init(e,t)}),$te=Ve("ZodIPv6",(e,t)=>{wQ.init(e,t),sn.init(e,t)}),Hte=Ve("ZodCIDRv4",(e,t)=>{EQ.init(e,t),sn.init(e,t)}),Gte=Ve("ZodCIDRv6",(e,t)=>{TQ.init(e,t),sn.init(e,t)}),qte=Ve("ZodBase64",(e,t)=>{AQ.init(e,t),sn.init(e,t)}),Kte=Ve("ZodBase64URL",(e,t)=>{CQ.init(e,t),sn.init(e,t)}),Wte=Ve("ZodE164",(e,t)=>{NQ.init(e,t),sn.init(e,t)}),Yte=Ve("ZodJWT",(e,t)=>{kQ.init(e,t),sn.init(e,t)}),FU=Ve("ZodNumber",(e,t)=>{AU.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>Kee(e,n,i),e.gt=(n,i)=>e.check(b4(n,i)),e.gte=(n,i)=>e.check(aE(n,i)),e.min=(n,i)=>e.check(aE(n,i)),e.lt=(n,i)=>e.check(_4(n,i)),e.lte=(n,i)=>e.check(iE(n,i)),e.max=(n,i)=>e.check(iE(n,i)),e.int=n=>e.check(T4(n)),e.safe=n=>e.check(T4(n)),e.positive=n=>e.check(b4(0,n)),e.nonnegative=n=>e.check(aE(0,n)),e.negative=n=>e.check(_4(0,n)),e.nonpositive=n=>e.check(iE(0,n)),e.multipleOf=(n,i)=>e.check(w4(n,i)),e.step=(n,i)=>e.check(w4(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function IA(e){return Aee(FU,e)}const Jte=Ve("ZodNumberFormat",(e,t)=>{PQ.init(e,t),FU.init(e,t)});function T4(e){return See(Jte,e)}const Xte=Ve("ZodUnknown",(e,t)=>{RQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Yee()});function A4(){return Cee(Xte)}const Zte=Ve("ZodNever",(e,t)=>{OQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Wee(e,r,n)});function Qte(e){return Nee(Zte,e)}const ere=Ve("ZodArray",(e,t)=>{MQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ete(e,r,n,i),e.element=t.element,e.min=(r,n)=>e.check(ex(r,n)),e.nonempty=r=>e.check(ex(1,r)),e.max=(r,n)=>e.check(IU(r,n)),e.length=(r,n)=>e.check(kU(r,n)),e.unwrap=()=>e.element});function LU(e,t){return Bee(ere,e,t)}const tre=Ve("ZodObject",(e,t)=>{FQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>tte(e,r,n,i),kr(e,"shape",()=>t.shape),e.keyof=()=>UU(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:A4()}),e.loose=()=>e.clone({...e._zod.def,catchall:A4()}),e.strict=()=>e.clone({...e._zod.def,catchall:Qte()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>iZ(e,r),e.safeExtend=r=>aZ(e,r),e.merge=r=>sZ(e,r),e.pick=r=>rZ(e,r),e.omit=r=>nZ(e,r),e.partial=(...r)=>oZ(BU,e,r[0]),e.required=(...r)=>lZ(VU,e,r[0])});function jU(e,t){const r={type:"object",shape:e??{},...xt(t)};return new tre(r)}const rre=Ve("ZodUnion",(e,t)=>{LQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>rte(e,r,n,i),e.options=t.options});function nre(e,t){return new rre({type:"union",options:e,...xt(t)})}const ire=Ve("ZodIntersection",(e,t)=>{jQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>nte(e,r,n,i)});function are(e,t){return new ire({type:"intersection",left:e,right:t})}const kA=Ve("ZodEnum",(e,t)=>{UQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(n,i,a)=>Jee(e,n,i),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const a={};for(const s of n)if(r.has(s))a[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new kA({...t,checks:[],...xt(i),entries:a})},e.exclude=(n,i)=>{const a={...t.entries};for(const s of n)if(r.has(s))delete a[s];else throw new Error(`Key ${s} not found in enum`);return new kA({...t,checks:[],...xt(i),entries:a})}});function UU(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new kA({type:"enum",entries:r,...xt(t)})}const sre=Ve("ZodLiteral",(e,t)=>{BQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Xee(e,r,n),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function ore(e,t){return new sre({type:"literal",values:Array.isArray(e)?e:[e],...xt(t)})}const lre=Ve("ZodTransform",(e,t)=>{VQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Qee(e,r),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new cU(e.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(Jp(a,r.value,t));else{const s=a;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(Jp(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function cre(e){return new lre({type:"transform",transform:e})}const BU=Ve("ZodOptional",(e,t)=>{NU.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>MU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function S4(e){return new BU({type:"optional",innerType:e})}const ure=Ve("ZodExactOptional",(e,t)=>{zQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>MU(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function fre(e){return new ure({type:"optional",innerType:e})}const dre=Ve("ZodNullable",(e,t)=>{$Q.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ite(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function C4(e){return new dre({type:"nullable",innerType:e})}const hre=Ve("ZodDefault",(e,t)=>{HQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ste(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function pre(e,t){return new hre({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():hU(t)}})}const mre=Ve("ZodPrefault",(e,t)=>{GQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ote(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function gre(e,t){return new mre({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():hU(t)}})}const VU=Ve("ZodNonOptional",(e,t)=>{qQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ate(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function vre(e,t){return new VU({type:"nonoptional",innerType:e,...xt(t)})}const yre=Ve("ZodCatch",(e,t)=>{KQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>lte(e,r,n,i),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function xre(e,t){return new yre({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const _re=Ve("ZodPipe",(e,t)=>{WQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>cte(e,r,n,i),e.in=t.in,e.out=t.out});function N4(e,t){return new _re({type:"pipe",in:e,out:t})}const bre=Ve("ZodReadonly",(e,t)=>{YQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>ute(e,r,n,i),e.unwrap=()=>e._zod.def.innerType});function wre(e){return new bre({type:"readonly",innerType:e})}const Ere=Ve("ZodCustom",(e,t)=>{JQ.init(e,t),kn.init(e,t),e._zod.processJSONSchema=(r,n,i)=>Zee(e,r)});function Tre(e,t={}){return Vee(Ere,e,t)}function Are(e){return zee(e)}jU({companyName:ks().min(1,"Nome da empresa  obrigatrio"),cnpj:ks().optional(),address:ks().min(5,"Endereo invlido"),contactName:ks().optional(),phone:ks().optional(),email:ks().email("Email invlido").optional().or(ore("")),category:ks().or(LU(ks())).optional(),status:UU(["Ativo","Inativo","Prospeccao"]).optional().default("Ativo"),lat:IA().optional(),lng:IA().optional()});const Sre=jU({name:ks().min(1),price:IA().positive(),category:ks().min(1),sku:ks().optional(),brand:ks().min(1)}),I4=e=>{if(!e)return null;const t=e.match(/@(-?\d+\.\d+),(-?\d+\.\d+)/);if(t)return{lat:parseFloat(t[1]),lng:parseFloat(t[2])};const r=e.match(/[?&]q=(-?\d+\.\d+),(-?\d+\.\d+)/);return r?{lat:parseFloat(r[1]),lng:parseFloat(r[2])}:null},Cre=e=>{if(!e)return null;try{const t=new URL(e),r=t.searchParams.get("query")||t.searchParams.get("q");if(r&&!r.match(/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/))return r}catch{const r=e.match(/[?&]query=([^&]+)/)||e.match(/[?&]q=([^&]+)/);if(r)return decodeURIComponent(r[1].replace(/\+/g," "))}return null},rx=e=>{if(e==null)return{address:""};const t=String(e).trim(),r=t.match(/^=HYPERLINK\s*\(\s*["']+(.*?)["']+\s*[;,]\s*["']+(.*?)["']+\s*\)$/i);if(r){const i=r[1].replace(/""/g,'"').trim(),a=r[2].replace(/""/g,'"').trim(),s=I4(i);return{link:i,address:a,...s}}const n=zU(t);if(n.includes("google.com/maps")||n.includes("maps.app.goo.gl")){const i=Cre(n),a=I4(n);return{link:n,address:i||n,...a}}return{address:n}},zU=e=>{if(e==null)return"";const t=String(e),r=t.match(/"([^"]+)"\)$/);return r&&r[1]?r[1].trim():t.startsWith("=")?t.replace(/[="()]/g,"").trim():t.trim()},PA=e=>{if(e==null)return 0;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},k4=e=>{if(!e)return 0;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},Y2=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),$U=e=>new Promise((t,r)=>{V2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach((s,o)=>{const c={};Object.keys(s).forEach(k=>{c[Y2(k)]=s[k]});const u=c.departamento||c.categoria||"Geral",d=c["cod.prod / sku"]||c["cod.prod"]||c.sku||c["numero do sku"]||"",h=c["nome do produto"]||c.descricao||c.nome||c.produto||"",m=c.marca||c.fabricante||"Genrico",y=PA(c["preco de venda"]||c.preco||"0"),x=c["cod.fabrica"]||c["cod fabrica"]||c["codigo fabrica"]||"",b=k4(c.margem||"0"),E=k4(c.desconto||c.discount||"0"),S={category:u,sku:d,brand:m,factoryCode:x,name:h,price:y,margin:b,discount:E},F=Sre.safeParse(S);F.success?a.push(F.data):console.warn(`Row ${o+1} invalid:`,F.error.issues)}),t(a)},error:n=>r(n)})}),Nre=e=>new Promise((t,r)=>{V2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",transformHeader:n=>n.trim().replace(/^\ufeff/,""),complete:n=>{const i=n.data,a=[];if(i.forEach(s=>{const o={};Object.keys(s).forEach(E=>{o[Y2(E)]=s[E]});const c=o.endereco||o["endereco comercial"]||o.logradouro||o.localizacao||o["endereco cobranca"]||o["link google maps"]||"";let{address:u,link:d,lat:h,lng:m}=rx(c);const y=o.cep||o.zip||o["codigo postal"]||"";y&&u&&!u.toLowerCase().includes(y.toLowerCase())&&(u=`${u}, ${y}`);const x=o.link||o.mapa||o["google maps"]||o.url||o.maps||o.coordenadas||o.geolocalizacao;if(x){const E=rx(x);E.link&&(d=E.link),E.lat&&(h=E.lat),E.lng&&(m=E.lng)}const b={companyName:o["razao social"]||o.cliente||o["nome fantasia"]||o.fantasia||o.empresa||o["nome comercial"]||"",cnpj:o.cnpj||o.taxid||o.inscricao||"",ownerName:o["nome do proprietario"]||o.proprietario||o.dono||o["contato principal"]||"",phone:o["telefone comercial"]||o.contato||o.telefone||o.celular||"",whatsapp:o.whatsapp||o.whats||o.celular||"",address:o["endereco comercial"]||o["logradouro comercial"]||u||"",street:o.rua||o.logradouro||"",number:o.numero||o.num||"",district:o.bairro||o.distrito||"",city:o["nome da cidade"]||o.cidade||o.municipio||"",state:o.estado||o.uf||"",zip:o.cep||o["codigo postal"]||y||"",country:o.pais||"",googleMapsLink:d,latitude:h,longitude:m};(b.companyName||b.address)&&a.push(b)}),a.length>0){const s=a[0];!s.companyName&&!s.address&&console.warn("CSV Parsing Warning: Could not identify 'Razo Social' or 'Endereo' columns. Check CSV headers.")}t(a)},error:n=>{r(n)}})}),Ire=e=>new Promise((t,r)=>{V2.parse(e,{header:!0,skipEmptyLines:!0,encoding:"UTF-8",complete:n=>{const i=n.data,a=[];i.forEach(s=>{const o={};Object.keys(s).forEach(S=>{o[Y2(S)]=s[S]});const c=o["razao social"]||o.cliente||o.empresa||"",u=o.cnpj||o["cpf/cnpj"]||o.cpf||"",d=o["cod.prod / sku"]||o["cod.prod"]||o.sku||"",h=o["nome do produto"]||o.produto||o.descricao||"",m=o["data da compra"]||o.data||o.emissao||"",y=parseFloat(o["quantidade de skus / produtos comprados"]||o.quantidade||o.qtd||"1"),x=isNaN(y)?1:y,b=PA(o["valor unitario"]||o.preco||"0"),E=PA(o["valor total"]||o.total||(x*b).toString());c&&(d||h)&&a.push({companyName:String(c).trim(),cnpj:String(u).trim().replace(/[.\-\/]/g,""),sku:String(d).trim(),name:String(h).trim(),brand:o.marca||"N/A",category:o.categoria||o.departamento||"Venda",price:b,purchaseDate:String(m).trim(),quantity:y,totalValue:E,factoryCode:o["cod.fabrica"]||""})}),t(a)},error:n=>r(n)})});var HU=1252,kre=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],J2={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},X2=function(e){kre.indexOf(e)!=-1&&(HU=J2[0]=e)};function Pre(){X2(1252)}var ro=function(e){X2(e)};function GU(){ro(1200),Pre()}function P4(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Rre(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function qU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var up=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Rre(e.slice(2)):t==254&&r==255?qU(e.slice(2)):t==65279?e.slice(1):e},Mv=function(t){return String.fromCharCode(t)},R4=function(t){return String.fromCharCode(t)},Xp,Lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function O4(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,i=e.charCodeAt(u++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),t+=Lc.charAt(a)+Lc.charAt(s)+Lc.charAt(o)+Lc.charAt(c);return t}function us(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Lc.indexOf(e.charAt(u++)),s=Lc.indexOf(e.charAt(u++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=Lc.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=Lc.indexOf(e.charAt(u++)),i=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var er=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Mf=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Zc(e){return er?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function M4(e){return er?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xs=function(t){return er?Mf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Df(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Z2(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return Z2(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Oc=er?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Mf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Ore(e){for(var t=[],r=0,n=e.length+250,i=Zc(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Zc(65535),n=65530)}return t.push(i.slice(0,r)),Oc(t)}var da=/\u0000/g,fp=/[\u0001-\u0006]/g;function Zd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function no(e,t){var r=""+e;return r.length>=t?r:mn("0",t-r.length)+r}function Q2(e,t){var r=""+e;return r.length>=t?r:mn(" ",t-r.length)+r}function nx(e,t){var r=""+e;return r.length>=t?r:r+mn(" ",t-r.length)}function Mre(e,t){var r=""+Math.round(e);return r.length>=t?r:mn("0",t-r.length)+r}function Dre(e,t){var r=""+e;return r.length>=t?r:mn("0",t-r.length)+r}var D4=Math.pow(2,32);function Id(e,t){if(e>D4||e<-D4)return Mre(e,t);var r=Math.round(e);return Dre(r,t)}function ix(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var F4=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],sE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Fre(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var jt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},L4={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Lre={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ax(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,c=1,u=0,d=0,h=Math.floor(i);u<t&&(h=Math.floor(i),o=h*s+a,d=h*u+c,!(i-h<5e-8));)i=1/(i-h),a=s,s=o,c=u,u=d;if(d>t&&(u>t?(d=c,o=a):(d=u,o=s)),!r)return[0,n*o,d];var m=Math.floor(n*o/d);return[m,n*o-m*d,d]}function Xu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=$re(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var KU=new Date(1899,11,31,0,0,0),jre=KU.getTime(),Ure=new Date(1900,2,1,0,0,0);function WU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Ure&&(r+=1440*60*1e3),(r-(jre+(e.getTimezoneOffset()-KU.getTimezoneOffset())*6e4))/(1440*60*1e3)}function eC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Bre(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Vre(e){var t=e<0?12:11,r=eC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function zre(e){var t=eC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Zp(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Vre(e):t===10?r=e.toFixed(10).substr(0,12):r=zre(e),eC(Bre(r.toUpperCase()))}function gf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Zp(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ms(14,WU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function $re(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Hre(e,t,r,n){var i="",a=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return sE[r.m-1][1];case 5:return sE[r.m-1][0];default:return sE[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return F4[r.q][0];default:return F4[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?no(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=no(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var d=u>0?no(c,u):"";return d}function jc(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var YU=/%/g;function Gre(e,t,r){var n=t.replace(YU,""),i=t.length-n.length;return Il(e,n,r*Math.pow(10,2*i))+mn("%",i)}function qre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Il(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function JU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+JU(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var XU=/# (\?+)( ?)\/( ?)(\d+)/;function Kre(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?mn(" ",e[1].length+1+e[4].length):Q2(s,e[1].length)+e[2]+"/"+e[3]+no(o,e[4].length))}function Wre(e,t,r){return r+(t===0?"":""+t)+mn(" ",e[1].length+2+e[4].length)}var ZU=/^#*0*\.([0#]+)/,QU=/\).*[0#]/,e9=/\(###\) ###\\?-####/;function oa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function j4(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function U4(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Yre(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Jre(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ss(e,t,r){if(e.charCodeAt(0)===40&&!t.match(QU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ss("n",n,r):"("+Ss("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return qre(e,t,r);if(t.indexOf("%")!==-1)return Gre(e,t,r);if(t.indexOf("E")!==-1)return JU(t,r);if(t.charCodeAt(0)===36)return"$"+Ss(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Id(c,t.length);if(t.match(/^[#?]+$/))return i=Id(r,0),i==="0"&&(i=""),i.length>t.length?i:oa(t.substr(0,t.length-i.length))+i;if(a=t.match(XU))return Kre(a,c,u);if(t.match(/^#+0+$/))return u+Id(c,t.length-t.indexOf("0"));if(a=t.match(ZU))return i=j4(r,a[1].length).replace(/^([^\.]+)$/,"$1."+oa(a[1])).replace(/\.$/,"."+oa(a[1])).replace(/\.(\d*)$/,function(x,b){return"."+b+mn("0",oa(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+j4(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+jc(Id(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ss(e,t,-r):jc(""+(Math.floor(r)+Yre(r,a[1].length)))+"."+no(U4(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ss(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Zd(Ss(e,t.replace(/[\\-]/g,""),r)),s=0,Zd(Zd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(t.match(e9))return i=Ss(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=ax(c,Math.pow(10,s)-1,!1),i=""+u,d=Il("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=nx(o[2],s),d.length<a[4].length&&(d=oa(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=ax(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Q2(o[1],s)+a[2]+"/"+a[3]+nx(o[2],s):mn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Id(r,0),t.length<=i.length?i:oa(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,m=t.length-i.length-h;return oa(t.substr(0,h)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=U4(r,a[1].length),r<0?"-"+Ss(e,t,-r):jc(Jre(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?no(0,3-x.length):"")+x})+"."+no(s,a[1].length);switch(t){case"###,##0.00":return Ss(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=jc(Id(c,0));return y!=="0"?u+y:"";case"###,###.00":return Ss(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ss(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Xre(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Il(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Zre(e,t,r){var n=t.replace(YU,""),i=t.length-n.length;return Il(e,n,r*Math.pow(10,2*i))+mn("%",i)}function t9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+t9(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,d){return c+u+d.substr(0,(i+a)%i)+"."+d.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Fo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(QU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fo("n",n,r):"("+Fo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Xre(e,t,r);if(t.indexOf("%")!==-1)return Zre(e,t,r);if(t.indexOf("E")!==-1)return t9(t,r);if(t.charCodeAt(0)===36)return"$"+Fo(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+no(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:oa(t.substr(0,t.length-i.length))+i;if(a=t.match(XU))return Wre(a,c,u);if(t.match(/^#+0+$/))return u+no(c,t.length-t.indexOf("0"));if(a=t.match(ZU))return i=(""+r).replace(/^([^\.]+)$/,"$1."+oa(a[1])).replace(/\.$/,"."+oa(a[1])),i=i.replace(/\.(\d*)$/,function(x,b){return"."+b+mn("0",oa(a[1]).length-b.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+jc(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fo(e,t,-r):jc(""+r)+"."+mn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return Fo(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Zd(Fo(e,t.replace(/[\\-]/g,""),r)),s=0,Zd(Zd(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return s<i.length?i.charAt(s++):x==="0"?"0":""}));if(t.match(e9))return i=Fo(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=ax(c,Math.pow(10,s)-1,!1),i=""+u,d=Il("n",a[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+a[2]+"/"+a[3],d=nx(o[2],s),d.length<a[4].length&&(d=oa(a[4].substr(a[4].length-d.length))+d),i+=d,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=ax(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Q2(o[1],s)+a[2]+"/"+a[3]+nx(o[2],s):mn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:oa(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,m=t.length-i.length-h;return oa(t.substr(0,h)+i+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Fo(e,t,-r):jc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?no(0,3-x.length):"")+x})+"."+no(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=jc(""+c);return y!=="0"?u+y:"";default:if(t.match(/\.[0#?]*$/))return Fo(e,t.slice(0,t.lastIndexOf(".")),r)+oa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Il(e,t,r){return(r|0)===r?Fo(e,t,r):Ss(e,t,r)}function Qre(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var r9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rh(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ix(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(r9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ene(e,t,r,n){for(var i=[],a="",s=0,o="",c="t",u,d,h,m="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!ix(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(h=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++s;break;case"\\":var y=e.charAt(++s),x=y==="("||y===")"?y:"t";i[i.length]={t:x,v:y},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=Xu(t,r,e.charAt(s+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Xu(t,r),u==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),i[i.length]={t:o,v:a},c=o;break;case"A":case"a":case"":var b={t:o,v:o};if(u==null&&(u=Xu(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",m="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",s+=5,m="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",s+=5,m="h"):(b.t="t",++s),u==null&&b.t==="T")return"";i[i.length]=b,c=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(r9)){if(u==null&&(u=Xu(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rh(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var E=0,S=0,F;for(s=i.length-1,c="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=m,c="h",E<1&&(E=1);break;case"s":(F=i[s].v.match(/\.0+$/))&&(S=Math.max(S,F[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":c=i[s].t;break;case"m":c==="s"&&(i[s].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[s].v.match(/[Hh]/)&&(E=1),E<2&&i[s].v.match(/[Mm]/)&&(E=2),E<3&&i[s].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var k="",M;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=Hre(i[s].t.charCodeAt(0),i[s].v,u,S),i[s].t="t";break;case"n":case"?":for(M=s+1;i[M]!=null&&((o=i[M].t)==="?"||o==="D"||(o===" "||o==="t")&&i[M+1]!=null&&(i[M+1].t==="?"||i[M+1].t==="t"&&i[M+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[M].v==="/"||i[M].v===" "&&i[M+1]!=null&&i[M+1].t=="?"));)i[s].v+=i[M].v,i[M]={v:"",t:";"},++M;k+=i[s].v,s=M-1;break;case"G":i[s].t="t",i[s].v=gf(t,r);break}var D="",P,N;if(k.length>0){k.charCodeAt(0)==40?(P=t<0&&k.charCodeAt(0)===45?-t:t,N=Il("n",k,P)):(P=t<0&&n>1?-t:t,N=Il("n",k,P),P<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),M=N.length-1;var I=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){I=s;break}var R=i.length;if(I===i.length&&N.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(M>=i[s].v.length-1?(M-=i[s].v.length,i[s].v=N.substr(M+1,i[s].v.length)):M<0?i[s].v="":(i[s].v=N.substr(0,M+1),M=-1),i[s].t="t",R=s);M>=0&&R<i.length&&(i[R].v=N.substr(0,M+1)+i[R].v)}else if(I!==i.length&&N.indexOf("E")===-1){for(M=N.indexOf(".")-1,s=I;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(d=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")-1:i[s].v.length-1,D=i[s].v.substr(d+1);d>=0;--d)M>=0&&(i[s].v.charAt(d)==="0"||i[s].v.charAt(d)==="#")&&(D=N.charAt(M--)+D);i[s].v=D,i[s].t="t",R=s}for(M>=0&&R<i.length&&(i[R].v=N.substr(0,M+1)+i[R].v),M=N.indexOf(".")+1,s=I;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==I)){for(d=i[s].v.indexOf(".")>-1&&s===I?i[s].v.indexOf(".")+1:0,D=i[s].v.substr(0,d);d<i[s].v.length;++d)M<N.length&&(D+=N.charAt(M++));i[s].v=D,i[s].t="t",R=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(P=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=Il(i[s].t,i[s].v,P),i[s].t="t");var U="";for(s=0;s!==i.length;++s)i[s]!=null&&(U+=i[s].v);return U}var B4=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function V4(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function tne(e,t){var r=Qre(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(B4),o=r[1].match(B4);return V4(t,s)?[n,r[0]]:V4(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Ms(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:jt)[e],n==null&&(n=r.table&&r.table[L4[e]]||jt[L4[e]]),n==null&&(n=Lre[e]||"General");break}if(ix(n,0))return gf(t,r);t instanceof Date&&(t=WU(t,r.date1904));var i=tne(n,t);if(ix(i[1]))return gf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ene(i[1],t,r,i[0])}function af(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(jt[r]==null){t<0&&(t=r);continue}if(jt[r]==e){t=r;break}}t<0&&(t=391)}return jt[t]=e,t}function n9(){jt=Fre()}var rne={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},i9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function nne(e){var t=typeof e=="number"?jt[e]:e;return t=t.replace(i9,"(\\d+)"),new RegExp("^"+t+"$")}function ine(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,c=-1;(t.match(i9)||[]).forEach(function(h,m){var y=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=y;break;case"d":a=y;break;case"h":s=y;break;case"s":c=y;break;case"m":s>=0?o=y:i=y;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&i==-1&&a==-1?d:u+"T"+d}var ane=(function(){var e={};e.version="1.2.0";function t(){for(var N=0,I=new Array(256),R=0;R!=256;++R)N=R,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,I[R]=N;return typeof Int32Array<"u"?new Int32Array(I):I}var r=t();function n(N){var I=0,R=0,U=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(U=0;U!=256;++U)B[U]=N[U];for(U=0;U!=256;++U)for(R=N[U],I=256+U;I<4096;I+=256)R=B[I]=R>>>8^N[R&255];var L=[];for(U=1;U!=16;++U)L[U-1]=typeof Int32Array<"u"?B.subarray(U*256,U*256+256):B.slice(U*256,U*256+256);return L}var i=n(r),a=i[0],s=i[1],o=i[2],c=i[3],u=i[4],d=i[5],h=i[6],m=i[7],y=i[8],x=i[9],b=i[10],E=i[11],S=i[12],F=i[13],k=i[14];function M(N,I){for(var R=I^-1,U=0,B=N.length;U<B;)R=R>>>8^r[(R^N.charCodeAt(U++))&255];return~R}function D(N,I){for(var R=I^-1,U=N.length-15,B=0;B<U;)R=k[N[B++]^R&255]^F[N[B++]^R>>8&255]^S[N[B++]^R>>16&255]^E[N[B++]^R>>>24]^b[N[B++]]^x[N[B++]]^y[N[B++]]^m[N[B++]]^h[N[B++]]^d[N[B++]]^u[N[B++]]^c[N[B++]]^o[N[B++]]^s[N[B++]]^a[N[B++]]^r[N[B++]];for(U+=15;B<U;)R=R>>>8^r[(R^N[B++])&255];return~R}function P(N,I){for(var R=I^-1,U=0,B=N.length,L=0,H=0;U<B;)L=N.charCodeAt(U++),L<128?R=R>>>8^r[(R^L)&255]:L<2048?(R=R>>>8^r[(R^(192|L>>6&31))&255],R=R>>>8^r[(R^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,H=N.charCodeAt(U++)&1023,R=R>>>8^r[(R^(240|L>>8&7))&255],R=R>>>8^r[(R^(128|L>>2&63))&255],R=R>>>8^r[(R^(128|H>>6&15|(L&3)<<4))&255],R=R>>>8^r[(R^(128|H&63))&255]):(R=R>>>8^r[(R^(224|L>>12&15))&255],R=R>>>8^r[(R^(128|L>>6&63))&255],R=R>>>8^r[(R^(128|L&63))&255]);return~R}return e.table=r,e.bstr=M,e.buf=D,e.str=P,e})(),sr=(function(){var t={};t.version="1.2.1";function r(W,ae){for(var Z=W.split("/"),te=ae.split("/"),re=0,se=0,we=Math.min(Z.length,te.length);re<we;++re){if(se=Z[re].length-te[re].length)return se;if(Z[re]!=te[re])return Z[re]<te[re]?-1:1}return Z.length-te.length}function n(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:n(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(0,ae+1)}function i(W){if(W.charAt(W.length-1)=="/")return i(W.slice(0,-1));var ae=W.lastIndexOf("/");return ae===-1?W:W.slice(ae+1)}function a(W,ae){typeof ae=="string"&&(ae=new Date(ae));var Z=ae.getHours();Z=Z<<6|ae.getMinutes(),Z=Z<<5|ae.getSeconds()>>>1,W.write_shift(2,Z);var te=ae.getFullYear()-1980;te=te<<4|ae.getMonth()+1,te=te<<5|ae.getDate(),W.write_shift(2,te)}function s(W){var ae=W.read_shift(2)&65535,Z=W.read_shift(2)&65535,te=new Date,re=Z&31;Z>>>=5;var se=Z&15;Z>>>=4,te.setMilliseconds(0),te.setFullYear(Z+1980),te.setMonth(se-1),te.setDate(re);var we=ae&31;ae>>>=5;var Re=ae&63;return ae>>>=6,te.setHours(ae),te.setMinutes(Re),te.setSeconds(we<<1),te}function o(W){Ii(W,0);for(var ae={},Z=0;W.l<=W.length-4;){var te=W.read_shift(2),re=W.read_shift(2),se=W.l+re,we={};te===21589&&(Z=W.read_shift(1),Z&1&&(we.mtime=W.read_shift(4)),re>5&&(Z&2&&(we.atime=W.read_shift(4)),Z&4&&(we.ctime=W.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3))),W.l=se,ae[te]=we}return ae}var c;function u(){return c||(c={})}function d(W,ae){if(W[0]==80&&W[1]==75)return ya(W,ae);if((W[0]|32)==109&&(W[1]|32)==105)return ba(W,ae);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Z=3,te=512,re=0,se=0,we=0,Re=0,Ee=0,Ce=[],Ae=W.slice(0,512);Ii(Ae,0);var Ge=h(Ae);switch(Z=Ge[0],Z){case 3:te=512;break;case 4:te=4096;break;case 0:if(Ge[1]==0)return ya(W,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}te!==512&&(Ae=W.slice(0,te),Ii(Ae,28));var We=W.slice(0,te);m(Ae,Z);var Ze=Ae.read_shift(4,"i");if(Z===3&&Ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ze);Ae.l+=4,we=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),Re=Ae.read_shift(4,"i"),re=Ae.read_shift(4,"i"),Ee=Ae.read_shift(4,"i"),se=Ae.read_shift(4,"i");for(var He=-1,Xe=0;Xe<109&&(He=Ae.read_shift(4,"i"),!(He<0));++Xe)Ce[Xe]=He;var ot=y(W,te);E(Ee,se,ot,te,Ce);var mr=F(ot,we,Ce,te);mr[we].name="!Directory",re>0&&Re!==H&&(mr[Re].name="!MiniFAT"),mr[Ce[0]].name="!FAT",mr.fat_addrs=Ce,mr.ssz=te;var gr={},Tr=[],ni=[],Ha=[];k(we,mr,ot,Tr,re,gr,ni,Re),x(ni,Ha,Tr),Tr.shift();var Ga={FileIndex:ni,FullPaths:Ha};return ae&&ae.raw&&(Ga.raw={header:We,sectors:ot}),Ga}function h(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(fe,"Header Signature: "),W.l+=16;var ae=W.read_shift(2,"u");return[W.read_shift(2,"u"),ae]}function m(W,ae){var Z=9;switch(W.l+=2,Z=W.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function y(W,ae){for(var Z=Math.ceil(W.length/ae)-1,te=[],re=1;re<Z;++re)te[re-1]=W.slice(re*ae,(re+1)*ae);return te[Z-1]=W.slice(Z*ae),te}function x(W,ae,Z){for(var te=0,re=0,se=0,we=0,Re=0,Ee=Z.length,Ce=[],Ae=[];te<Ee;++te)Ce[te]=Ae[te]=te,ae[te]=Z[te];for(;Re<Ae.length;++Re)te=Ae[Re],re=W[te].L,se=W[te].R,we=W[te].C,Ce[te]===te&&(re!==-1&&Ce[re]!==re&&(Ce[te]=Ce[re]),se!==-1&&Ce[se]!==se&&(Ce[te]=Ce[se])),we!==-1&&(Ce[we]=te),re!==-1&&te!=Ce[te]&&(Ce[re]=Ce[te],Ae.lastIndexOf(re)<Re&&Ae.push(re)),se!==-1&&te!=Ce[te]&&(Ce[se]=Ce[te],Ae.lastIndexOf(se)<Re&&Ae.push(se));for(te=1;te<Ee;++te)Ce[te]===te&&(se!==-1&&Ce[se]!==se?Ce[te]=Ce[se]:re!==-1&&Ce[re]!==re&&(Ce[te]=Ce[re]));for(te=1;te<Ee;++te)if(W[te].type!==0){if(Re=te,Re!=Ce[Re])do Re=Ce[Re],ae[te]=ae[Re]+"/"+ae[te];while(Re!==0&&Ce[Re]!==-1&&Re!=Ce[Re]);Ce[te]=-1}for(ae[0]+="/",te=1;te<Ee;++te)W[te].type!==2&&(ae[te]+="/")}function b(W,ae,Z){for(var te=W.start,re=W.size,se=[],we=te;Z&&re>0&&we>=0;)se.push(ae.slice(we*L,we*L+L)),re-=L,we=Ju(Z,we*4);return se.length===0?Wn(0):Oc(se).slice(0,W.size)}function E(W,ae,Z,te,re){var se=H;if(W===H){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var we=Z[W],Re=(te>>>2)-1;if(!we)return;for(var Ee=0;Ee<Re&&(se=Ju(we,Ee*4))!==H;++Ee)re.push(se);E(Ju(we,te-4),ae-1,Z,te,re)}}function S(W,ae,Z,te,re){var se=[],we=[];re||(re=[]);var Re=te-1,Ee=0,Ce=0;for(Ee=ae;Ee>=0;){re[Ee]=!0,se[se.length]=Ee,we.push(W[Ee]);var Ae=Z[Math.floor(Ee*4/te)];if(Ce=Ee*4&Re,te<4+Ce)throw new Error("FAT boundary crossed: "+Ee+" 4 "+te);if(!W[Ae])break;Ee=Ju(W[Ae],Ce)}return{nodes:se,data:X4([we])}}function F(W,ae,Z,te){var re=W.length,se=[],we=[],Re=[],Ee=[],Ce=te-1,Ae=0,Ge=0,We=0,Ze=0;for(Ae=0;Ae<re;++Ae)if(Re=[],We=Ae+ae,We>=re&&(We-=re),!we[We]){Ee=[];var He=[];for(Ge=We;Ge>=0;){He[Ge]=!0,we[Ge]=!0,Re[Re.length]=Ge,Ee.push(W[Ge]);var Xe=Z[Math.floor(Ge*4/te)];if(Ze=Ge*4&Ce,te<4+Ze)throw new Error("FAT boundary crossed: "+Ge+" 4 "+te);if(!W[Xe]||(Ge=Ju(W[Xe],Ze),He[Ge]))break}se[We]={nodes:Re,data:X4([Ee])}}return se}function k(W,ae,Z,te,re,se,we,Re){for(var Ee=0,Ce=te.length?2:0,Ae=ae[W].data,Ge=0,We=0,Ze;Ge<Ae.length;Ge+=128){var He=Ae.slice(Ge,Ge+128);Ii(He,64),We=He.read_shift(2),Ze=aC(He,0,We-Ce),te.push(Ze);var Xe={name:Ze,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},ot=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);ot!==0&&(Xe.ct=M(He,He.l-8));var mr=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);mr!==0&&(Xe.mt=M(He,He.l-8)),Xe.start=He.read_shift(4,"i"),Xe.size=He.read_shift(4,"i"),Xe.size<0&&Xe.start<0&&(Xe.size=Xe.type=0,Xe.start=H,Xe.name=""),Xe.type===5?(Ee=Xe.start,re>0&&Ee!==H&&(ae[Ee].name="!StreamData")):Xe.size>=4096?(Xe.storage="fat",ae[Xe.start]===void 0&&(ae[Xe.start]=S(Z,Xe.start,ae.fat_addrs,ae.ssz)),ae[Xe.start].name=Xe.name,Xe.content=ae[Xe.start].data.slice(0,Xe.size)):(Xe.storage="minifat",Xe.size<0?Xe.size=0:Ee!==H&&Xe.start!==H&&ae[Ee]&&(Xe.content=b(Xe,ae[Ee].data,(ae[Re]||{}).data))),Xe.content&&Ii(Xe.content,0),se[Ze]=Xe,we.push(Xe)}}function M(W,ae){return new Date((ts(W,ae+4)/1e7*Math.pow(2,32)+ts(W,ae)/1e7-11644473600)*1e3)}function D(W,ae){return u(),d(c.readFileSync(W),ae)}function P(W,ae){var Z=ae&&ae.type;switch(Z||er&&Buffer.isBuffer(W)&&(Z="buffer"),Z||"base64"){case"file":return D(W,ae);case"base64":return d(Xs(us(W)),ae);case"binary":return d(Xs(W),ae)}return d(W,ae)}function N(W,ae){var Z=ae||{},te=Z.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=te+"/",W.FileIndex[0]={name:te,type:5}),Z.CLSID&&(W.FileIndex[0].clsid=Z.CLSID),I(W)}function I(W){var ae="Sh33tJ5";if(!sr.find(W,"/"+ae)){var Z=Wn(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,W.FileIndex.push({name:ae,type:2,content:Z,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+ae),R(W)}}function R(W,ae){N(W);for(var Z=!1,te=!1,re=W.FullPaths.length-1;re>=0;--re){var se=W.FileIndex[re];switch(se.type){case 0:te?Z=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(se.R*se.L*se.C)&&(Z=!0),se.R>-1&&se.L>-1&&se.R==se.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!ae)){var we=new Date(1987,1,19),Re=0,Ee=Object.create?Object.create(null):{},Ce=[];for(re=0;re<W.FullPaths.length;++re)Ee[W.FullPaths[re]]=!0,W.FileIndex[re].type!==0&&Ce.push([W.FullPaths[re],W.FileIndex[re]]);for(re=0;re<Ce.length;++re){var Ae=n(Ce[re][0]);te=Ee[Ae],te||(Ce.push([Ae,{name:i(Ae).replace("/",""),type:1,clsid:ne,ct:we,mt:we,content:null}]),Ee[Ae]=!0)}for(Ce.sort(function(Ze,He){return r(Ze[0],He[0])}),W.FullPaths=[],W.FileIndex=[],re=0;re<Ce.length;++re)W.FullPaths[re]=Ce[re][0],W.FileIndex[re]=Ce[re][1];for(re=0;re<Ce.length;++re){var Ge=W.FileIndex[re],We=W.FullPaths[re];if(Ge.name=i(We).replace("/",""),Ge.L=Ge.R=Ge.C=-(Ge.color=1),Ge.size=Ge.content?Ge.content.length:0,Ge.start=0,Ge.clsid=Ge.clsid||ne,re===0)Ge.C=Ce.length>1?1:-1,Ge.size=0,Ge.type=5;else if(We.slice(-1)=="/"){for(Re=re+1;Re<Ce.length&&n(W.FullPaths[Re])!=We;++Re);for(Ge.C=Re>=Ce.length?-1:Re,Re=re+1;Re<Ce.length&&n(W.FullPaths[Re])!=n(We);++Re);Ge.R=Re>=Ce.length?-1:Re,Ge.type=1}else n(W.FullPaths[re+1]||"")==n(We)&&(Ge.R=re+1),Ge.type=2}}}function U(W,ae){var Z=ae||{};if(Z.fileType=="mad")return _u(W,Z);if(R(W),Z.fileType==="zip")return Xr(W,Z);var te=(function(Ze){for(var He=0,Xe=0,ot=0;ot<Ze.FileIndex.length;++ot){var mr=Ze.FileIndex[ot];if(mr.content){var gr=mr.content.length;gr>0&&(gr<4096?He+=gr+63>>6:Xe+=gr+511>>9)}}for(var Tr=Ze.FullPaths.length+3>>2,ni=He+7>>3,Ha=He+127>>7,Ga=ni+Xe+Tr+Ha,Qi=Ga+127>>7,bo=Qi<=109?0:Math.ceil((Qi-109)/127);Ga+Qi+bo+127>>7>Qi;)bo=++Qi<=109?0:Math.ceil((Qi-109)/127);var ii=[1,bo,Qi,Ha,Tr,Xe,He,0];return Ze.FileIndex[0].size=He<<6,ii[7]=(Ze.FileIndex[0].start=ii[0]+ii[1]+ii[2]+ii[3]+ii[4]+ii[5])+(ii[6]+7>>3),ii})(W),re=Wn(te[7]<<9),se=0,we=0;{for(se=0;se<8;++se)re.write_shift(1,me[se]);for(se=0;se<8;++se)re.write_shift(2,0);for(re.write_shift(2,62),re.write_shift(2,3),re.write_shift(2,65534),re.write_shift(2,9),re.write_shift(2,6),se=0;se<3;++se)re.write_shift(2,0);for(re.write_shift(4,0),re.write_shift(4,te[2]),re.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),re.write_shift(4,0),re.write_shift(4,4096),re.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:H),re.write_shift(4,te[3]),re.write_shift(-4,te[1]?te[0]-1:H),re.write_shift(4,te[1]),se=0;se<109;++se)re.write_shift(-4,se<te[2]?te[1]+se:-1)}if(te[1])for(we=0;we<te[1];++we){for(;se<236+we*127;++se)re.write_shift(-4,se<te[2]?te[1]+se:-1);re.write_shift(-4,we===te[1]-1?H:we+1)}var Re=function(Ze){for(we+=Ze;se<we-1;++se)re.write_shift(-4,se+1);Ze&&(++se,re.write_shift(-4,H))};for(we=se=0,we+=te[1];se<we;++se)re.write_shift(-4,ue.DIFSECT);for(we+=te[2];se<we;++se)re.write_shift(-4,ue.FATSECT);Re(te[3]),Re(te[4]);for(var Ee=0,Ce=0,Ae=W.FileIndex[0];Ee<W.FileIndex.length;++Ee)Ae=W.FileIndex[Ee],Ae.content&&(Ce=Ae.content.length,!(Ce<4096)&&(Ae.start=we,Re(Ce+511>>9)));for(Re(te[6]+7>>3);re.l&511;)re.write_shift(-4,ue.ENDOFCHAIN);for(we=se=0,Ee=0;Ee<W.FileIndex.length;++Ee)Ae=W.FileIndex[Ee],Ae.content&&(Ce=Ae.content.length,!(!Ce||Ce>=4096)&&(Ae.start=we,Re(Ce+63>>6)));for(;re.l&511;)re.write_shift(-4,ue.ENDOFCHAIN);for(se=0;se<te[4]<<2;++se){var Ge=W.FullPaths[se];if(!Ge||Ge.length===0){for(Ee=0;Ee<17;++Ee)re.write_shift(4,0);for(Ee=0;Ee<3;++Ee)re.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)re.write_shift(4,0);continue}Ae=W.FileIndex[se],se===0&&(Ae.start=Ae.size?Ae.start-1:H);var We=se===0&&Z.root||Ae.name;if(Ce=2*(We.length+1),re.write_shift(64,We,"utf16le"),re.write_shift(2,Ce),re.write_shift(1,Ae.type),re.write_shift(1,Ae.color),re.write_shift(-4,Ae.L),re.write_shift(-4,Ae.R),re.write_shift(-4,Ae.C),Ae.clsid)re.write_shift(16,Ae.clsid,"hex");else for(Ee=0;Ee<4;++Ee)re.write_shift(4,0);re.write_shift(4,Ae.state||0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,0),re.write_shift(4,Ae.start),re.write_shift(4,Ae.size),re.write_shift(4,0)}for(se=1;se<W.FileIndex.length;++se)if(Ae=W.FileIndex[se],Ae.size>=4096)if(re.l=Ae.start+1<<9,er&&Buffer.isBuffer(Ae.content))Ae.content.copy(re,re.l,0,Ae.size),re.l+=Ae.size+511&-512;else{for(Ee=0;Ee<Ae.size;++Ee)re.write_shift(1,Ae.content[Ee]);for(;Ee&511;++Ee)re.write_shift(1,0)}for(se=1;se<W.FileIndex.length;++se)if(Ae=W.FileIndex[se],Ae.size>0&&Ae.size<4096)if(er&&Buffer.isBuffer(Ae.content))Ae.content.copy(re,re.l,0,Ae.size),re.l+=Ae.size+63&-64;else{for(Ee=0;Ee<Ae.size;++Ee)re.write_shift(1,Ae.content[Ee]);for(;Ee&63;++Ee)re.write_shift(1,0)}if(er)re.l=re.length;else for(;re.l<re.length;)re.write_shift(1,0);return re}function B(W,ae){var Z=W.FullPaths.map(function(Ee){return Ee.toUpperCase()}),te=Z.map(function(Ee){var Ce=Ee.split("/");return Ce[Ce.length-(Ee.slice(-1)=="/"?2:1)]}),re=!1;ae.charCodeAt(0)===47?(re=!0,ae=Z[0].slice(0,-1)+ae):re=ae.indexOf("/")!==-1;var se=ae.toUpperCase(),we=re===!0?Z.indexOf(se):te.indexOf(se);if(we!==-1)return W.FileIndex[we];var Re=!se.match(fp);for(se=se.replace(da,""),Re&&(se=se.replace(fp,"!")),we=0;we<Z.length;++we)if((Re?Z[we].replace(fp,"!"):Z[we]).replace(da,"")==se||(Re?te[we].replace(fp,"!"):te[we]).replace(da,"")==se)return W.FileIndex[we];return null}var L=64,H=-2,fe="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:H,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(W,ae,Z){u();var te=U(W,Z);c.writeFileSync(ae,te)}function ie(W){for(var ae=new Array(W.length),Z=0;Z<W.length;++Z)ae[Z]=String.fromCharCode(W[Z]);return ae.join("")}function xe(W,ae){var Z=U(W,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),c.writeFileSync(ae.filename,Z),Z;case"binary":return typeof Z=="string"?Z:ie(Z);case"base64":return O4(typeof Z=="string"?Z:ie(Z));case"buffer":if(er)return Buffer.isBuffer(Z)?Z:Mf(Z);case"array":return typeof Z=="string"?Xs(Z):Z}return Z}var J;function V(W){try{var ae=W.InflateRaw,Z=new ae;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)J=W;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function ee(W,ae){if(!J)return yo(W,ae);var Z=J.InflateRaw,te=new Z,re=te._processChunk(W.slice(W.l),te._finishFlushFlag);return W.l+=te.bytesRead,re}function X(W){return J?J.deflateRawSync(W):wt(W)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ie(W){var ae=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var oe=typeof Uint8Array<"u",ge=oe?new Uint8Array(256):[],De=0;De<256;++De)ge[De]=Ie(De);function K(W,ae){var Z=ge[W&255];return ae<=8?Z>>>8-ae:(Z=Z<<8|ge[W>>8&255],ae<=16?Z>>>16-ae:(Z=Z<<8|ge[W>>16&255],Z>>>24-ae))}function Ye(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=6?0:W[te+1]<<8))>>>Z&3}function Ue(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=5?0:W[te+1]<<8))>>>Z&7}function Ke(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=4?0:W[te+1]<<8))>>>Z&15}function ze(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=3?0:W[te+1]<<8))>>>Z&31}function Fe(W,ae){var Z=ae&7,te=ae>>>3;return(W[te]|(Z<=1?0:W[te+1]<<8))>>>Z&127}function Je(W,ae,Z){var te=ae&7,re=ae>>>3,se=(1<<Z)-1,we=W[re]>>>te;return Z<8-te||(we|=W[re+1]<<8-te,Z<16-te)||(we|=W[re+2]<<16-te,Z<24-te)||(we|=W[re+3]<<24-te),we&se}function et(W,ae,Z){var te=ae&7,re=ae>>>3;return te<=5?W[re]|=(Z&7)<<te:(W[re]|=Z<<te&255,W[re+1]=(Z&7)>>8-te),ae+3}function ht(W,ae,Z){var te=ae&7,re=ae>>>3;return Z=(Z&1)<<te,W[re]|=Z,ae+1}function It(W,ae,Z){var te=ae&7,re=ae>>>3;return Z<<=te,W[re]|=Z&255,Z>>>=8,W[re+1]=Z,ae+8}function Gr(W,ae,Z){var te=ae&7,re=ae>>>3;return Z<<=te,W[re]|=Z&255,Z>>>=8,W[re+1]=Z&255,W[re+2]=Z>>>8,ae+16}function Br(W,ae){var Z=W.length,te=2*Z>ae?2*Z:ae+5,re=0;if(Z>=ae)return W;if(er){var se=M4(te);if(W.copy)W.copy(se);else for(;re<W.length;++re)se[re]=W[re];return se}else if(oe){var we=new Uint8Array(te);if(we.set)we.set(W);else for(;re<Z;++re)we[re]=W[re];return we}return W.length=te,W}function _t(W){for(var ae=new Array(W),Z=0;Z<W;++Z)ae[Z]=0;return ae}function xr(W,ae,Z){var te=1,re=0,se=0,we=0,Re=0,Ee=W.length,Ce=oe?new Uint16Array(32):_t(32);for(se=0;se<32;++se)Ce[se]=0;for(se=Ee;se<Z;++se)W[se]=0;Ee=W.length;var Ae=oe?new Uint16Array(Ee):_t(Ee);for(se=0;se<Ee;++se)Ce[re=W[se]]++,te<re&&(te=re),Ae[se]=0;for(Ce[0]=0,se=1;se<=te;++se)Ce[se+16]=Re=Re+Ce[se-1]<<1;for(se=0;se<Ee;++se)Re=W[se],Re!=0&&(Ae[se]=Ce[Re+16]++);var Ge=0;for(se=0;se<Ee;++se)if(Ge=W[se],Ge!=0)for(Re=K(Ae[se],te)>>te-Ge,we=(1<<te+4-Ge)-1;we>=0;--we)ae[Re|we<<Ge]=Ge&15|se<<4;return te}var qt=oe?new Uint16Array(512):_t(512),Er=oe?new Uint16Array(32):_t(32);if(!oe){for(var ft=0;ft<512;++ft)qt[ft]=0;for(ft=0;ft<32;++ft)Er[ft]=0}(function(){for(var W=[],ae=0;ae<32;ae++)W.push(5);xr(W,Er,32);var Z=[];for(ae=0;ae<=143;ae++)Z.push(8);for(;ae<=255;ae++)Z.push(9);for(;ae<=279;ae++)Z.push(7);for(;ae<=287;ae++)Z.push(8);xr(Z,qt,288)})();var Ot=(function(){for(var ae=oe?new Uint8Array(32768):[],Z=0,te=0;Z<ye.length-1;++Z)for(;te<ye[Z+1];++te)ae[te]=Z;for(;te<32768;++te)ae[te]=29;var re=oe?new Uint8Array(259):[];for(Z=0,te=0;Z<he.length-1;++Z)for(;te<he[Z+1];++te)re[te]=Z;function se(Re,Ee){for(var Ce=0;Ce<Re.length;){var Ae=Math.min(65535,Re.length-Ce),Ge=Ce+Ae==Re.length;for(Ee.write_shift(1,+Ge),Ee.write_shift(2,Ae),Ee.write_shift(2,~Ae&65535);Ae-- >0;)Ee[Ee.l++]=Re[Ce++]}return Ee.l}function we(Re,Ee){for(var Ce=0,Ae=0,Ge=oe?new Uint16Array(32768):[];Ae<Re.length;){var We=Math.min(65535,Re.length-Ae);if(We<10){for(Ce=et(Ee,Ce,+(Ae+We==Re.length)),Ce&7&&(Ce+=8-(Ce&7)),Ee.l=Ce/8|0,Ee.write_shift(2,We),Ee.write_shift(2,~We&65535);We-- >0;)Ee[Ee.l++]=Re[Ae++];Ce=Ee.l*8;continue}Ce=et(Ee,Ce,+(Ae+We==Re.length)+2);for(var Ze=0;We-- >0;){var He=Re[Ae];Ze=(Ze<<5^He)&32767;var Xe=-1,ot=0;if((Xe=Ge[Ze])&&(Xe|=Ae&-32768,Xe>Ae&&(Xe-=32768),Xe<Ae))for(;Re[Xe+ot]==Re[Ae+ot]&&ot<250;)++ot;if(ot>2){He=re[ot],He<=22?Ce=It(Ee,Ce,ge[He+1]>>1)-1:(It(Ee,Ce,3),Ce+=5,It(Ee,Ce,ge[He-23]>>5),Ce+=3);var mr=He<8?0:He-4>>2;mr>0&&(Gr(Ee,Ce,ot-he[He]),Ce+=mr),He=ae[Ae-Xe],Ce=It(Ee,Ce,ge[He]>>3),Ce-=3;var gr=He<4?0:He-2>>1;gr>0&&(Gr(Ee,Ce,Ae-Xe-ye[He]),Ce+=gr);for(var Tr=0;Tr<ot;++Tr)Ge[Ze]=Ae&32767,Ze=(Ze<<5^Re[Ae])&32767,++Ae;We-=ot-1}else He<=143?He=He+48:Ce=ht(Ee,Ce,1),Ce=It(Ee,Ce,ge[He]),Ge[Ze]=Ae&32767,++Ae}Ce=It(Ee,Ce,0)-1}return Ee.l=(Ce+7)/8|0,Ee.l}return function(Ee,Ce){return Ee.length<8?se(Ee,Ce):we(Ee,Ce)}})();function wt(W){var ae=Wn(50+Math.floor(W.length*1.1)),Z=Ot(W,ae);return ae.slice(0,Z)}var tr=oe?new Uint16Array(32768):_t(32768),$t=oe?new Uint16Array(32768):_t(32768),Bt=oe?new Uint16Array(128):_t(128),_r=1,xi=1;function mt(W,ae){var Z=ze(W,ae)+257;ae+=5;var te=ze(W,ae)+1;ae+=5;var re=Ke(W,ae)+4;ae+=4;for(var se=0,we=oe?new Uint8Array(19):_t(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,Ce=oe?new Uint8Array(8):_t(8),Ae=oe?new Uint8Array(8):_t(8),Ge=we.length,We=0;We<re;++We)we[q[We]]=se=Ue(W,ae),Ee<se&&(Ee=se),Ce[se]++,ae+=3;var Ze=0;for(Ce[0]=0,We=1;We<=Ee;++We)Ae[We]=Ze=Ze+Ce[We-1]<<1;for(We=0;We<Ge;++We)(Ze=we[We])!=0&&(Re[We]=Ae[Ze]++);var He=0;for(We=0;We<Ge;++We)if(He=we[We],He!=0){Ze=ge[Re[We]]>>8-He;for(var Xe=(1<<7-He)-1;Xe>=0;--Xe)Bt[Ze|Xe<<He]=He&7|We<<3}var ot=[];for(Ee=1;ot.length<Z+te;)switch(Ze=Bt[Fe(W,ae)],ae+=Ze&7,Ze>>>=3){case 16:for(se=3+Ye(W,ae),ae+=2,Ze=ot[ot.length-1];se-- >0;)ot.push(Ze);break;case 17:for(se=3+Ue(W,ae),ae+=3;se-- >0;)ot.push(0);break;case 18:for(se=11+Fe(W,ae),ae+=7;se-- >0;)ot.push(0);break;default:ot.push(Ze),Ee<Ze&&(Ee=Ze);break}var mr=ot.slice(0,Z),gr=ot.slice(Z);for(We=Z;We<286;++We)mr[We]=0;for(We=te;We<30;++We)gr[We]=0;return _r=xr(mr,tr,286),xi=xr(gr,$t,30),ae}function va(W,ae){if(W[0]==3&&!(W[1]&3))return[Zc(ae),2];for(var Z=0,te=0,re=M4(ae||1<<18),se=0,we=re.length>>>0,Re=0,Ee=0;(te&1)==0;){if(te=Ue(W,Z),Z+=3,te>>>1)te>>1==1?(Re=9,Ee=5):(Z=mt(W,Z),Re=_r,Ee=xi);else{Z&7&&(Z+=8-(Z&7));var Ce=W[Z>>>3]|W[(Z>>>3)+1]<<8;if(Z+=32,Ce>0)for(!ae&&we<se+Ce&&(re=Br(re,se+Ce),we=re.length);Ce-- >0;)re[se++]=W[Z>>>3],Z+=8;continue}for(;;){!ae&&we<se+32767&&(re=Br(re,se+32767),we=re.length);var Ae=Je(W,Z,Re),Ge=te>>>1==1?qt[Ae]:tr[Ae];if(Z+=Ge&15,Ge>>>=4,(Ge>>>8&255)===0)re[se++]=Ge;else{if(Ge==256)break;Ge-=257;var We=Ge<8?0:Ge-4>>2;We>5&&(We=0);var Ze=se+he[Ge];We>0&&(Ze+=Je(W,Z,We),Z+=We),Ae=Je(W,Z,Ee),Ge=te>>>1==1?Er[Ae]:$t[Ae],Z+=Ge&15,Ge>>>=4;var He=Ge<4?0:Ge-2>>1,Xe=ye[Ge];for(He>0&&(Xe+=Je(W,Z,He),Z+=He),!ae&&we<Ze&&(re=Br(re,Ze+100),we=re.length);se<Ze;)re[se]=re[se-Xe],++se}}}return ae?[re,Z+7>>>3]:[re.slice(0,se),Z+7>>>3]}function yo(W,ae){var Z=W.slice(W.l||0),te=va(Z,ae);return W.l+=te[1],te[0]}function nl(W,ae){if(W)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function ya(W,ae){var Z=W;Ii(Z,0);var te=[],re=[],se={FileIndex:te,FullPaths:re};N(se,{root:ae.root});for(var we=Z.length-4;(Z[we]!=80||Z[we+1]!=75||Z[we+2]!=5||Z[we+3]!=6)&&we>=0;)--we;Z.l=we+4,Z.l+=4;var Re=Z.read_shift(2);Z.l+=6;var Ee=Z.read_shift(4);for(Z.l=Ee,we=0;we<Re;++we){Z.l+=20;var Ce=Z.read_shift(4),Ae=Z.read_shift(4),Ge=Z.read_shift(2),We=Z.read_shift(2),Ze=Z.read_shift(2);Z.l+=8;var He=Z.read_shift(4),Xe=o(Z.slice(Z.l+Ge,Z.l+Ge+We));Z.l+=Ge+We+Ze;var ot=Z.l;Z.l=He+4,xo(Z,Ce,Ae,se,Xe),Z.l=ot}return se}function xo(W,ae,Z,te,re){W.l+=2;var se=W.read_shift(2),we=W.read_shift(2),Re=s(W);if(se&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=W.read_shift(4),Ce=W.read_shift(4),Ae=W.read_shift(4),Ge=W.read_shift(2),We=W.read_shift(2),Ze="",He=0;He<Ge;++He)Ze+=String.fromCharCode(W[W.l++]);if(We){var Xe=o(W.slice(W.l,W.l+We));(Xe[21589]||{}).mt&&(Re=Xe[21589].mt),((re||{})[21589]||{}).mt&&(Re=re[21589].mt)}W.l+=We;var ot=W.slice(W.l,W.l+Ce);switch(we){case 8:ot=ee(W,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var mr=!1;se&8&&(Ee=W.read_shift(4),Ee==134695760&&(Ee=W.read_shift(4),mr=!0),Ce=W.read_shift(4),Ae=W.read_shift(4)),Ce!=ae&&nl(mr,"Bad compressed size: "+ae+" != "+Ce),Ae!=Z&&nl(mr,"Bad uncompressed size: "+Z+" != "+Ae),$a(te,Ze,ot,{unsafe:!0,mt:Re})}function Xr(W,ae){var Z=ae||{},te=[],re=[],se=Wn(1),we=Z.compression?8:0,Re=0,Ee=0,Ce=0,Ae=0,Ge=0,We=W.FullPaths[0],Ze=We,He=W.FileIndex[0],Xe=[],ot=0;for(Ee=1;Ee<W.FullPaths.length;++Ee)if(Ze=W.FullPaths[Ee].slice(We.length),He=W.FileIndex[Ee],!(!He.size||!He.content||Ze=="Sh33tJ5")){var mr=Ae,gr=Wn(Ze.length);for(Ce=0;Ce<Ze.length;++Ce)gr.write_shift(1,Ze.charCodeAt(Ce)&127);gr=gr.slice(0,gr.l),Xe[Ge]=ane.buf(He.content,0);var Tr=He.content;we==8&&(Tr=X(Tr)),se=Wn(30),se.write_shift(4,67324752),se.write_shift(2,20),se.write_shift(2,Re),se.write_shift(2,we),He.mt?a(se,He.mt):se.write_shift(4,0),se.write_shift(-4,Xe[Ge]),se.write_shift(4,Tr.length),se.write_shift(4,He.content.length),se.write_shift(2,gr.length),se.write_shift(2,0),Ae+=se.length,te.push(se),Ae+=gr.length,te.push(gr),Ae+=Tr.length,te.push(Tr),se=Wn(46),se.write_shift(4,33639248),se.write_shift(2,0),se.write_shift(2,20),se.write_shift(2,Re),se.write_shift(2,we),se.write_shift(4,0),se.write_shift(-4,Xe[Ge]),se.write_shift(4,Tr.length),se.write_shift(4,He.content.length),se.write_shift(2,gr.length),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(4,0),se.write_shift(4,mr),ot+=se.l,re.push(se),ot+=gr.length,re.push(gr),++Ge}return se=Wn(22),se.write_shift(4,101010256),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,Ge),se.write_shift(2,Ge),se.write_shift(4,ot),se.write_shift(4,Ae),se.write_shift(2,0),Oc([Oc(te),Oc(re),se])}var ri={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function za(W,ae){if(W.ctype)return W.ctype;var Z=W.name||"",te=Z.match(/\.([^\.]+)$/);return te&&ri[te[1]]||ae&&(te=(Z=ae).match(/[\.\\]([^\.\\])+$/),te&&ri[te[1]])?ri[te[1]]:"application/octet-stream"}function xa(W){for(var ae=O4(W),Z=[],te=0;te<ae.length;te+=76)Z.push(ae.slice(te,te+76));return Z.join(`\r
`)+`\r
`}function xu(W){var ae=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Ae=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],te=ae.split(`\r
`),re=0;re<te.length;++re){var se=te[re];if(se.length==0){Z.push("");continue}for(var we=0;we<se.length;){var Re=76,Ee=se.slice(we,we+Re);Ee.charAt(Re-1)=="="?Re--:Ee.charAt(Re-2)=="="?Re-=2:Ee.charAt(Re-3)=="="&&(Re-=3),Ee=se.slice(we,we+Re),we+=Re,we<se.length&&(Ee+="="),Z.push(Ee)}}return Z.join(`\r
`)}function _o(W){for(var ae=[],Z=0;Z<W.length;++Z){for(var te=W[Z];Z<=W.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+W[++Z];ae.push(te)}for(var re=0;re<ae.length;++re)ae[re]=ae[re].replace(/[=][0-9A-Fa-f]{2}/g,function(se){return String.fromCharCode(parseInt(se.slice(1),16))});return Xs(ae.join(`\r
`))}function _a(W,ae,Z){for(var te="",re="",se="",we,Re=0;Re<10;++Re){var Ee=ae[Re];if(!Ee||Ee.match(/^\s*$/))break;var Ce=Ee.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":te=Ce[2].trim();break;case"content-type":se=Ce[2].trim();break;case"content-transfer-encoding":re=Ce[2].trim();break}}switch(++Re,re.toLowerCase()){case"base64":we=Xs(us(ae.slice(Re).join("")));break;case"quoted-printable":we=_o(ae.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+re)}var Ae=$a(W,te.slice(Z.length),we,{unsafe:!0});se&&(Ae.ctype=se)}function ba(W,ae){if(ie(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=ae&&ae.root||"",te=(er&&Buffer.isBuffer(W)?W.toString("binary"):ie(W)).split(`\r
`),re=0,se="";for(re=0;re<te.length;++re)if(se=te[re],!!/^Content-Location:/i.test(se)&&(se=se.slice(se.indexOf("file")),Z||(Z=se.slice(0,se.lastIndexOf("/")+1)),se.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),se.slice(0,Z.length)!=Z););var we=(te[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Re="--"+(we[1]||""),Ee=[],Ce=[],Ae={FileIndex:Ee,FullPaths:Ce};N(Ae);var Ge,We=0;for(re=0;re<te.length;++re){var Ze=te[re];Ze!==Re&&Ze!==Re+"--"||(We++&&_a(Ae,te.slice(Ge,re),Z),Ge=re)}return Ae}function _u(W,ae){var Z=ae||{},te=Z.boundary||"SheetJS";te="------="+te;for(var re=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],se=W.FullPaths[0],we=se,Re=W.FileIndex[0],Ee=1;Ee<W.FullPaths.length;++Ee)if(we=W.FullPaths[Ee].slice(se.length),Re=W.FileIndex[Ee],!(!Re.size||!Re.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ot){return"_x"+ot.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ot){return"_u"+ot.charCodeAt(0).toString(16)+"_"});for(var Ce=Re.content,Ae=er&&Buffer.isBuffer(Ce)?Ce.toString("binary"):ie(Ce),Ge=0,We=Math.min(1024,Ae.length),Ze=0,He=0;He<=We;++He)(Ze=Ae.charCodeAt(He))>=32&&Ze<128&&++Ge;var Xe=Ge>=We*4/5;re.push(te),re.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+we),re.push("Content-Transfer-Encoding: "+(Xe?"quoted-printable":"base64")),re.push("Content-Type: "+za(Re,we)),re.push(""),re.push(Xe?xu(Ae):xa(Ae))}return re.push(te+`--\r
`),re.join(`\r
`)}function _i(W){var ae={};return N(ae,W),ae}function $a(W,ae,Z,te){var re=te&&te.unsafe;re||N(W);var se=!re&&sr.find(W,ae);if(!se){var we=W.FullPaths[0];ae.slice(0,we.length)==we?we=ae:(we.slice(-1)!="/"&&(we+="/"),we=(we+ae).replace("//","/")),se={name:i(ae),type:2},W.FileIndex.push(se),W.FullPaths.push(we),re||sr.utils.cfb_gc(W)}return se.content=Z,se.size=Z?Z.length:0,te&&(te.CLSID&&(se.clsid=te.CLSID),te.mt&&(se.mt=te.mt),te.ct&&(se.ct=te.ct)),se}function Di(W,ae){N(W);var Z=sr.find(W,ae);if(Z){for(var te=0;te<W.FileIndex.length;++te)if(W.FileIndex[te]==Z)return W.FileIndex.splice(te,1),W.FullPaths.splice(te,1),!0}return!1}function Zi(W,ae,Z){N(W);var te=sr.find(W,ae);if(te){for(var re=0;re<W.FileIndex.length;++re)if(W.FileIndex[re]==te)return W.FileIndex[re].name=i(Z),W.FullPaths[re]=Z,!0}return!1}function Pn(W){R(W,!0)}return t.find=B,t.read=P,t.parse=d,t.write=xe,t.writeFile=ce,t.utils={cfb_new:_i,cfb_add:$a,cfb_del:Di,cfb_mov:Zi,cfb_gc:Pn,ReadShift:Sp,CheckField:S9,prep_blob:Ii,bconcat:Oc,use_zlib:V,_deflateRaw:wt,_inflateRaw:yo,consts:ue},t})();function sne(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ko(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function tC(e){for(var t=[],r=Ko(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var sx=new Date(1899,11,30,0,0,0);function ha(e,t){var r=e.getTime(),n=sx.getTime()+(e.getTimezoneOffset()-sx.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var a9=new Date,one=sx.getTime()+(a9.getTimezoneOffset()-sx.getTimezoneOffset())*6e4,z4=a9.getTimezoneOffset();function L1(e){var t=new Date;return t.setTime(e*24*60*60*1e3+one),t.getTimezoneOffset()!==z4&&t.setTime(t.getTime()+(t.getTimezoneOffset()-z4)*6e4),t}function lne(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var $4=new Date("2017-02-19T19:06:09.000Z"),s9=isNaN($4.getFullYear())?new Date("2/19/17"):$4,cne=s9.getFullYear()==2017;function pi(e,t){var r=new Date(e);if(cne)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(s9.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function vf(e,t){if(er&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return hp(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return hp(qU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return hp(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return hp(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Pi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Pi(e[r]));return t}function mn(e,t){for(var r="";r.length<t;)r+=e;return r}function ao(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var une=["january","february","march","april","may","june","july","august","september","october","november","december"];function dh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&une.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var fne=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function o9(e){return e?e.content&&e.type?vf(e.content,!0):e.data?up(e.data):e.asNodeBuffer&&er?up(e.asNodeBuffer().toString("binary")):e.asBinary?up(e.asBinary()):e._data&&e._data.getContent?up(vf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function l9(e){if(!e)return null;if(e.data)return P4(e.data);if(e.asNodeBuffer&&er)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?P4(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function dne(e){return e&&e.name.slice(-4)===".bin"?l9(e):o9(e)}function Is(e,t){for(var r=e.FullPaths||Ko(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function rC(e,t){var r=Is(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Un(e,t,r){if(!r)return dne(rC(e,t));if(!t)return null;try{return Un(e,t)}catch{return null}}function ns(e,t,r){if(!r)return o9(rC(e,t));if(!t)return null;try{return ns(e,t)}catch{return null}}function hne(e,t,r){return l9(rC(e,t))}function H4(e){for(var t=e.FullPaths||Ko(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function pne(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return er?n=Mf(r):n=Ore(r),sr.utils.cfb_add(e,t,n)}sr.utils.cfb_add(e,t,r)}else e.file(t,r)}function c9(e,t){switch(t.type){case"base64":return sr.read(e,{type:"base64"});case"binary":return sr.read(e,{type:"binary"});case"buffer":case"array":return sr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function dp(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var u9=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,mne=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,G4=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,gne=/<[^>]*>/g,Ji=u9.match(G4)?G4:gne,vne=/<\w*:/,yne=/<(\/?)\w+:/;function At(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var s=e.match(mne),o=0,c="",u=0,d="",h="",m=1;if(s)for(u=0;u!=s.length;++u){for(h=s[u],a=0;a!=h.length&&h.charCodeAt(a)!==61;++a);for(d=h.slice(0,a).trim();h.charCodeAt(a+1)==32;)++a;for(m=(i=h.charCodeAt(a+1))==34||i==39?1:0,c=h.slice(a+1+m,h.length-m),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=c,n[d.toLowerCase()]=c;else{var y=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[y]&&d.slice(o-3,o)=="ext")continue;n[y]=c,n[y.toLowerCase()]=c}}return n}function Zo(e){return e.replace(yne,"<$1")}var f9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xne=tC(f9),lr=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(o,c){return f9[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,c){return String.fromCharCode(parseInt(c,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}})(),_ne=/[&<>'"]/g,bne=/[\u0000-\u001f]/g;function nC(e){var t=e+"";return t.replace(_ne,function(r){return xne[r]}).replace(/\n/g,"<br/>").replace(bne,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var q4=(function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}})();function tn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function oE(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function K4(e){var t=Zc(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function W4(e){return Mf(e,"binary").toString("utf8")}var Dv="foo bar baz",$r=er&&(W4(Dv)==oE(Dv)&&W4||K4(Dv)==oE(Dv)&&K4)||oE,hp=er?function(e){return Mf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Qp=(function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),d9=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}})(),wne=(function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Ene=/<\/?(?:vt:)?variant>/g,Tne=/<(?:vt:)([^>]*)>([\s\S]*)</;function Y4(e,t){var r=At(e),n=e.match(wne(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(Ene,"").match(Tne);s&&i.push({v:$r(s[2]),t:s[1]})}),i}var Ane=/(^\s|\s$|\n)/;function Sne(e){return Ko(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Cne(e,t,r){return"<"+e+(r!=null?Sne(r):"")+(t!=null?(t.match(Ane)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function iC(e){if(er&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return $r(Df(Z2(e)));throw new Error("Bad input format: expected Buffer or string")}var em=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Nne={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Ine=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function kne(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function Pne(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var J4=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},X4=er?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Mf(t)})):J4(e)}:J4,Z4=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Sl(e,i)));return n.join("").replace(da,"")},aC=er?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(da,""):Z4(e,t,r)}:Z4,Q4=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},h9=er?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):Q4(e,t,r)}:Q4,eM=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(Md(e,i)));return n.join("")},Mm=er?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):eM(t,r,n)}:eM,p9=function(e,t){var r=ts(e,t);return r>0?Mm(e,t+4,t+4+r-1):""},m9=p9,g9=function(e,t){var r=ts(e,t);return r>0?Mm(e,t+4,t+4+r-1):""},v9=g9,y9=function(e,t){var r=2*ts(e,t);return r>0?Mm(e,t+4,t+4+r-1):""},x9=y9,_9=function(t,r){var n=ts(t,r);return n>0?aC(t,r+4,r+4+n):""},b9=_9,w9=function(e,t){var r=ts(e,t);return r>0?Mm(e,t+4,t+4+r):""},E9=w9,T9=function(e,t){return kne(e,t)},ox=T9,A9=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};er&&(m9=function(t,r){if(!Buffer.isBuffer(t))return p9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},v9=function(t,r){if(!Buffer.isBuffer(t))return g9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},x9=function(t,r){if(!Buffer.isBuffer(t))return y9(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},b9=function(t,r){if(!Buffer.isBuffer(t))return _9(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},E9=function(t,r){if(!Buffer.isBuffer(t))return w9(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ox=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):T9(t,r)},A9=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Md=function(e,t){return e[t]},Sl=function(e,t){return e[t+1]*256+e[t]},Rne=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ts=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ju=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},One=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sp(e,t){var r="",n,i,a=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,er&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Sl(this,u)),u+=2;e*=2;break;case"utf8":r=Mm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=aC(this,this.l,this.l+e);break;case"wstr":return Sp.call(this,e,"dbcs");case"lpstr-ansi":r=m9(this,this.l),e=4+ts(this,this.l);break;case"lpstr-cp":r=v9(this,this.l),e=4+ts(this,this.l);break;case"lpwstr":r=x9(this,this.l),e=4+2*ts(this,this.l);break;case"lpp4":e=4+ts(this,this.l),r=b9(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ts(this,this.l),r=E9(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Md(this,this.l+e++))!==0;)a.push(Mv(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=Sl(this,this.l+e))!==0;)a.push(Mv(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Md(this,u),this.l=u+1,o=Sp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Mv(Sl(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=Md(this,u),this.l=u+1,o=Sp.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(Mv(Md(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=Md(this,this.l),this.l++,n;case 2:return n=(t==="i"?Rne:Sl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Ju:One)(this,this.l),this.l+=4,n):(i=ts(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=ox(this,this.l):i=ox([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=h9(this,this.l,e);break}}return this.l+=e,r}var Mne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Dne=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Fne=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Lne(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)Fne(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Mne(this,t,this.l);break;case 8:if(n=8,r==="f"){Pne(this,t,this.l);break}case 16:break;case-4:n=4,Dne(this,t,this.l);break}return this.l+=n,this}function S9(e,t){var r=h9(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ii(e,t){e.l=t,e.read_shift=Sp,e.chk=S9,e.write_shift=Lne}function Yi(e,t){e.l+=t}function Wn(e){var t=Zc(e);return Ii(t,0),t}function ql(e,t,r){if(e){var n,i,a;Ii(e,e.l||0);for(var s=e.length,o=0,c=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var u=hx[o]||hx[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;c=e.l+a;var d=u.f&&u.f(e,a,r);if(e.l=c,t(d,u,o))return}}}function RA(){var e=[],t=er?256:2048,r=function(u){var d=Wn(u);return Ii(d,0),d},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},s=function(){return i(),Oc(e)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function Cp(e,t,r){var n=Pi(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function tM(e,t,r){var n=Pi(e);return n.s=Cp(n.s,t.s,r),n.e=Cp(n.e,t.s,r),n}function Np(e,t){if(e.cRel&&e.c<0)for(e=Pi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Pi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Pt(e);return!e.cRel&&e.cRel!=null&&(r=Bne(r)),!e.rRel&&e.rRel!=null&&(r=jne(r)),r}function lE(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Jn(e.s.c)+":"+(e.e.cRel?"":"$")+Jn(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ri(e.s.r)+":"+(e.e.rRel?"":"$")+Ri(e.e.r):Np(e.s,t.biff)+":"+Np(e.e,t.biff)}function sC(e){return parseInt(Une(e),10)-1}function Ri(e){return""+(e+1)}function jne(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Une(e){return e.replace(/\$(\d+)$/,"$1")}function oC(e){for(var t=Vne(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Jn(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Bne(e){return e.replace(/^([A-Z])/,"$$$1")}function Vne(e){return e.replace(/^\$([A-Z])/,"$1")}function zne(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ua(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Pt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Oh(e){var t=e.indexOf(":");return t==-1?{s:ua(e),e:ua(e)}:{s:ua(e.slice(0,t)),e:ua(e.slice(t+1))}}function or(e,t){return typeof t>"u"||typeof t=="number"?or(e.s,e.e):(typeof e!="string"&&(e=Pt(e)),typeof t!="string"&&(t=Pt(t)),e==t?e:e+":"+t)}function yn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function rM(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ms(e.z,r?ha(t):t)}catch{}try{return e.w=Ms((e.XF||{}).numFmtId||(r?14:0),r?ha(t):t)}catch{return""+t}}function Ml(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?jf[e.v]||e.v:t==null?rM(e,e.v):rM(e,t))}function du(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function C9(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?ua(n.origin):n.origin;s=c.r,o=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=yn(a["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[h].length;++m)if(!(typeof t[h][m]>"u")){var y={v:t[h][m]},x=s+h,b=o+m;if(u.s.r>x&&(u.s.r=x),u.s.c>b&&(u.s.c=b),u.e.r<x&&(u.e.r=x),u.e.c<b&&(u.e.c=b),t[h][m]&&typeof t[h][m]=="object"&&!Array.isArray(t[h][m])&&!(t[h][m]instanceof Date))y=t[h][m];else if(Array.isArray(y.v)&&(y.f=t[h][m][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||jt[14],n.cellDates?(y.t="d",y.w=Ms(y.z,ha(y.v))):(y.t="n",y.v=ha(y.v),y.w=Ms(y.z,y.v))):y.t="s";if(i)a[x]||(a[x]=[]),a[x][b]&&a[x][b].z&&(y.z=a[x][b].z),a[x][b]=y;else{var E=Pt({c:b,r:x});a[E]&&a[E].z&&(y.z=a[E].z),a[E]=y}}}return u.s.c<1e7&&(a["!ref"]=or(u)),a}function Mh(e,t){return C9(null,e,t)}function $ne(e){return e.read_shift(4,"i")}function Ki(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Hne(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function lC(e,t){var r=e.l,n=e.read_shift(1),i=Ki(e),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=e.read_shift(4),c=0;c!=o;++c)a.push(Hne(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Gne=lC;function Bs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ff(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var qne=Ki;function cC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Kne=Ki,OA=cC;function uC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?ox([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ju(t,0)>>2;return r?i/100:i}function N9(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Lf=N9;function $i(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Wne(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=sf[i];u&&(t.rgb=rm(u));break;case 2:t.rgb=rm([s,o,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function Yne(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function I9(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Jne(e){return I9(e,1)}function Xne(e){return I9(e,2)}var fC=2,Na=3,Fv=11,nM=12,lx=19,Lv=64,Zne=65,Qne=71,eie=4108,tie=4126,ui=80,k9=81,rie=[ui,k9],nie={1:{n:"CodePage",t:fC},2:{n:"Category",t:ui},3:{n:"PresentationFormat",t:ui},4:{n:"ByteCount",t:Na},5:{n:"LineCount",t:Na},6:{n:"ParagraphCount",t:Na},7:{n:"SlideCount",t:Na},8:{n:"NoteCount",t:Na},9:{n:"HiddenCount",t:Na},10:{n:"MultimediaClipCount",t:Na},11:{n:"ScaleCrop",t:Fv},12:{n:"HeadingPairs",t:eie},13:{n:"TitlesOfParts",t:tie},14:{n:"Manager",t:ui},15:{n:"Company",t:ui},16:{n:"LinksUpToDate",t:Fv},17:{n:"CharacterCount",t:Na},19:{n:"SharedDoc",t:Fv},22:{n:"HyperlinksChanged",t:Fv},23:{n:"AppVersion",t:Na,p:"version"},24:{n:"DigSig",t:Zne},26:{n:"ContentType",t:ui},27:{n:"ContentStatus",t:ui},28:{n:"Language",t:ui},29:{n:"Version",t:ui},255:{},2147483648:{n:"Locale",t:lx},2147483651:{n:"Behavior",t:lx},1919054434:{}},iie={1:{n:"CodePage",t:fC},2:{n:"Title",t:ui},3:{n:"Subject",t:ui},4:{n:"Author",t:ui},5:{n:"Keywords",t:ui},6:{n:"Comments",t:ui},7:{n:"Template",t:ui},8:{n:"LastAuthor",t:ui},9:{n:"RevNumber",t:ui},10:{n:"EditTime",t:Lv},11:{n:"LastPrinted",t:Lv},12:{n:"CreatedDate",t:Lv},13:{n:"ModifiedDate",t:Lv},14:{n:"PageCount",t:Na},15:{n:"WordCount",t:Na},16:{n:"CharCount",t:Na},17:{n:"Thumbnail",t:Qne},18:{n:"Application",t:ui},19:{n:"DocSecurity",t:Na},255:{},2147483648:{n:"Locale",t:lx},2147483651:{n:"Behavior",t:lx},1919054434:{}},iM={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},aie=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function sie(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var oie=sie([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),sf=Pi(oie),jf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},P9={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},aM={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function lie(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cie(e){var t=lie();if(!e||!e.match)return t;var r={};if((e.match(Ji)||[]).forEach(function(n){var i=At(n);switch(i[0].replace(vne,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[aM[i.ContentType]]!==void 0&&t[aM[i.ContentType]].push(i.PartName);break}}),t.xmlns!==Nne.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var $d={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function MA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ip(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ji)||[]).forEach(function(i){var a=At(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:dp(a.Target,t);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}var uie="application/vnd.oasis.opendocument.spreadsheet";function fie(e,t){for(var r=iC(e),n,i;n=em.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=At(n[0],!1),i.path=="/"&&i.type!==uie)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var kp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],die=(function(){for(var e=new Array(kp.length),t=0;t<kp.length;++t){var r=kp[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e})();function R9(e){var t={};e=$r(e);for(var r=0;r<kp.length;++r){var n=kp[r],i=e.match(die[r]);i!=null&&i.length>0&&(t[n[1]]=lr(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=pi(t[n[1]]))}return t}var hie=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function O9(e,t,r,n){var i=[];if(typeof e=="string")i=Y4(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(d){return{v:d}}));var s=typeof t=="string"?Y4(t,n).map(function(d){return d.v}):t,o=0,c=0;if(s.length>0)for(var u=0;u!==i.length;u+=2){switch(c=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=c,r.SheetNames=s.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=c,r.DefinedNames=s.slice(o,o+c);break;case"Charts":case"Diagramme":r.Chartsheets=c,r.ChartNames=s.slice(o,o+c);break}o+=c}}function pie(e,t,r){var n={};return t||(t={}),e=$r(e),hie.forEach(function(i){var a=(e.match(Qp(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=lr(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var s=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&O9(n.HeadingPairs,n.TitlesOfParts,t,r),t}var mie=/<[^>]+>[^<]*/g;function gie(e,t){var r={},n="",i=e.match(mie);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=At(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=lr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var c=s.split(">"),u=c[0].slice(4),d=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=lr(d);break;case"bool":r[n]=tn(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=pi(d);break;case"cy":case"error":r[n]=lr(d);break;default:if(u.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,u,c)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var vie={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},cE;function yie(e,t,r){cE||(cE=tC(vie)),t=cE[t]||t,e[t]=r}function dC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function M9(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function D9(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function F9(e,t,r){return t===31?D9(e):M9(e,t,r)}function DA(e,t,r){return F9(e,t,r===!1?0:4)}function xie(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return F9(e,t,0)}function _ie(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(da,""),e.l-i&2&&(e.l+=2)}return r}function bie(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(da,"");return r}function wie(e){var t=e.l,r=cx(e,k9);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=cx(e,Na);return[r,n]}function Eie(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(wie(e));return r}function sM(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),s=e.read_shift(4);n[a]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(da,"").replace(fp,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function L9(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Tie(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function cx(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==nM&&n!==t&&rie.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===nM?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return M9(e,n,4).replace(da,"");case 31:return D9(e);case 64:return dC(e);case 65:return L9(e);case 71:return Tie(e);case 80:return DA(e,n,!a.raw).replace(da,"");case 81:return xie(e,n).replace(da,"");case 4108:return Eie(e);case 4126:case 4127:return n==4127?_ie(e):bie(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function oM(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,c=-1,u={};for(s=0;s!=i;++s){var d=e.read_shift(4),h=e.read_shift(4);a[s]=[d,h+r]}a.sort(function(F,k){return F[1]-k[1]});var m={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var y=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,y=!1);break;case 80:e.l<=a[s][1]&&(e.l=a[s][1],y=!1);break;case 4108:e.l<=a[s][1]&&(e.l=a[s][1],y=!1);break}if((!t||s==0)&&e.l<=a[s][1]&&(y=!1,e.l=a[s][1]),y)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var x=t[a[s][0]];if(m[x.n]=cx(e,x.t,{raw:!0}),x.p==="version"&&(m[x.n]=String(m[x.n]>>16)+"."+("0000"+String(m[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(m[x.n]){case 0:m[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ro(o=m[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[x.n])}}else if(a[s][0]===1){if(o=m.CodePage=cx(e,fC),ro(o),c!==-1){var b=e.l;e.l=a[c][1],u=sM(e,o),e.l=b}}else if(a[s][0]===0){if(o===0){c=s,e.l=a[s+1][1];continue}u=sM(e,o)}else{var E=u[a[s][0]],S;switch(e[e.l]){case 65:e.l+=4,S=L9(e);break;case 30:e.l+=4,S=DA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,S=DA(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,S=e.read_shift(4,"i");break;case 19:e.l+=4,S=e.read_shift(4);break;case 5:e.l+=4,S=e.read_shift(8,"f");break;case 11:e.l+=4,S=Sn(e,4);break;case 64:e.l+=4,S=pi(dC(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[E]=S}}return e.l=r+n,m}function lM(e,t,r){var n=e.content;if(!n)return{};Ii(n,0);var i,a,s,o,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==sr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),c=n.read_shift(4));var h=oM(n,t),m={SystemIdentifier:u};for(var y in h)m[y]=h[y];if(m.FMTID=a,i===1)return m;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var x;try{x=oM(n,null)}catch{}for(y in x)m[y]=x[y];return m.FMTID=[a,s],m}function Nc(e,t){return e.read_shift(t),null}function Aie(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Sn(e,t){return e.read_shift(t)===1}function Bn(e){return e.read_shift(2,"u")}function j9(e,t){return Aie(e,t,Bn)}function Sie(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Dm(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function Cie(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,c={};i&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var u=a==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,u);return i&&(e.l+=4*s),n&&(e.l+=o),c.t=d,i||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function yf(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Fm(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):yf(e,n,r)}function Uf(e,t,r){if(r.biff>5)return Fm(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Nie(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Iie(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(da,"");return n&&(e.l+=24),i}function kie(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(a>>1,"utf16le").replace(da,"");return r+s}function Pie(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Iie(e);case"0303000000000000c000000000000046":return kie(e);default:throw new Error("Unsupported Moniker "+r)}}function jv(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(da,""):"";return r}function Rie(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,s,o,c,u="",d,h;i&16&&(a=jv(e,r-e.l)),i&128&&(s=jv(e,r-e.l)),(i&257)===257&&(o=jv(e,r-e.l)),(i&257)===1&&(c=Pie(e,r-e.l)),i&8&&(u=jv(e,r-e.l)),i&32&&(d=e.read_shift(16)),i&64&&(h=dC(e)),e.l=r;var m=s||o||c||"";m&&u&&(m+="#"+u),m||(m="#"+u),i&2&&m.charAt(0)=="/"&&m.charAt(1)!="/"&&(m="file://"+m);var y={Target:m};return d&&(y.guid=d),h&&(y.time=h),a&&(y.Tooltip=a),y}function U9(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function B9(e,t){var r=U9(e);return r[3]=0,r}function Qo(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Oie(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Mie(e,t,r){return t===0?"":Uf(e,t,r)}function Die(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function V9(e){var t=e.read_shift(2),r=uC(e);return[t,r]}function Fie(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=Dm(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function j1(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function z9(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var Lie=z9;function $9(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function jie(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Uie(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Li(e){e.l+=2,e.l+=e.read_shift(2)}var Bie={0:Li,4:Li,5:Li,6:Li,7:Uie,8:Li,9:Li,10:Li,11:Li,12:Li,13:jie,14:Li,15:Li,16:Li,17:Li,18:Li,19:Li,20:Li,21:$9};function Vie(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(Bie[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Uv(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function zie(e,t){return t===0||e.read_shift(2),1200}function $ie(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=Uf(e,0,r);return e.read_shift(t+n-e.l),i}function Hie(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Gie(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Dm(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function qie(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<r;++s)a.push(Cie(e));return a.Count=n,a.Unique=i,a}function Kie(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Wie(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Yie(e){var t=Oie(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Jie(e){return e.read_shift(2),e.read_shift(4)}function cM(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function Xie(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),c=e.read_shift(2),u=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:c,TabRatio:u}}function Zie(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Qie(){}function eae(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Dm(e,0,r),n}function tae(e){var t=Qo(e);return t.isst=e.read_shift(4),t}function rae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=Qo(e);r.biff==2&&e.l++;var a=Fm(e,n-e.l,r);return i.val=a,i}function nae(e,t,r){var n=e.read_shift(2),i=Uf(e,0,r);return[n,i]}var iae=Uf;function uM(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),c=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:s,c}}}function aae(e){var t=e.read_shift(2),r=e.read_shift(2),n=V9(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function sae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(V9(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function oae(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function lae(e,t,r,n){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),c=e.read_shift(2);return i.patternType=aie[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=c&127,i.icvBack=c>>7&127,i.fsxButton=c>>14&1),i}function cae(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=lae(e,t,n.fStyle,r),n}function uae(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function fM(e,t,r){var n=Qo(e);(r.biff==2||t==9)&&++e.l;var i=Sie(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function fae(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Qo(e),i=$i(e);return n.val=i,n}var dM=Mie;function dae(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=yf(e,a),o=[];n>e.l;)o.push(Fm(e));return[a,i,s,o]}function hM(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=Fie(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var hae=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function pM(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),c=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),c=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var u=yf(e,s,r);i&32&&(u=hae[u.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var h=n==e.l||o===0||!(d>0)?[]:Wle(e,d,r,o);return{chKey:a,Name:u,itab:c,rgce:h}}function H9(e,t,r){if(r.biff<8)return pae(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(Die(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function pae(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Dm(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function mae(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=yf(e,n,r),s=yf(e,i,r);return[a,s]}function gae(e,t,r){var n=z9(e);e.l++;var i=e.read_shift(1);return t-=8,[Yle(e,t,r),i,n]}function mM(e,t,r){var n=Lie(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,qle(e,t,r)]}function vae(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function yae(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=Uf(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},o,s,a]}}function xae(e,t,r){return yae(e,t,r)}function _ae(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(j1(e));return r}function bae(e,t,r){if(r&&r.biff<8)return Eae(e,t,r);var n=$9(e),i=Vie(e,t-22,n[1]);return{cmo:n,ft:i}}var wae={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function Eae(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((wae[n]||Yi)(e,t,r)),{cmo:[i,n,a],ft:s}}function Tae(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:s=Nie(e,6,r);var o=e.read_shift(2);e.read_shift(2),Bn(e,2);var c=e.read_shift(2);e.l+=c;for(var u=1;u<e.lens.length-1;++u){if(e.l-n!=e.lens[u])throw new Error("TxO: bad continue record");var d=e[e.l],h=yf(e,e.lens[u+1]-e.lens[u]-1);if(i+=h,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function Aae(e,t){var r=j1(e);e.l+=16;var n=Rie(e,t-24);return[r,n]}function Sae(e,t){e.read_shift(2);var r=j1(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(da,""),[r,n]}function Cae(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=iM[r]||r,r=e.read_shift(2),t[1]=iM[r]||r,t}function Nae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(B9(e));return r}function Iae(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(B9(e));return r}function kae(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function G9(e,t,r){if(!r.cellStyles)return Yi(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function Pae(e,t){var r={};return t<32||(e.l+=16,r.header=$i(e),r.footer=$i(e),e.l+=2),r}function Rae(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}var Oae=Qo,Mae=j9,Dae=Fm;function Fae(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function Lae(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Qo(e);++e.l;var i=Uf(e,t-7,r);return n.t="str",n.val=i,n}function jae(e){var t=Qo(e);++e.l;var r=$i(e);return t.t="n",t.val=r,t}function Uae(e){var t=Qo(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Bae(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Vae(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function zae(e,t,r){var n=e.l+t,i=Qo(e),a=e.read_shift(2),s=yf(e,a,r);return e.l=n,i.t="str",i.val=s,i}var $ae=[2,3,48,49,131,139,140,245],gM=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=tC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],d=Zc(1);switch(c.type){case"base64":d=Xs(us(o));break;case"binary":d=Xs(o);break;case"buffer":case"array":d=o;break}Ii(d,0);var h=d.read_shift(1),m=!!(h&136),y=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:y=!0,m=!0;break;case 49:y=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var b=0,E=521;h==2&&(b=d.read_shift(2)),d.l+=3,h!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),h!=2&&(E=d.read_shift(2));var S=d.read_shift(2),F=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(F=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var k=[],M={},D=Math.min(d.length,h==2?521:E-10-(y?264:0)),P=x?32:11;d.l<D&&d[d.l]!=13;)switch(M={},M.name=Xp.utils.decode(F,d.slice(d.l,d.l+P)).replace(/[\u0000\r\n].*$/g,""),d.l+=P,M.type=String.fromCharCode(d.read_shift(1)),h!=2&&!x&&(M.offset=d.read_shift(4)),M.len=d.read_shift(1),h==2&&(M.offset=d.read_shift(2)),M.dec=d.read_shift(1),M.name.length&&k.push(M),h!=2&&(d.l+=x?13:14),M.type){case"B":(!y||M.len!=8)&&c.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(d[d.l]!==13&&(d.l=E-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=E;var N=0,I=0;for(u[0]=[],I=0;I!=k.length;++I)u[0][I]=k[I].name;for(;b-- >0;){if(d[d.l]===42){d.l+=S;continue}for(++d.l,u[++N]=[],I=0,I=0;I!=k.length;++I){var R=d.slice(d.l,d.l+k[I].len);d.l+=k[I].len,Ii(R,0);var U=Xp.utils.decode(F,R);switch(k[I].type){case"C":U.trim().length&&(u[N][I]=U.replace(/\s+$/,""));break;case"D":U.length===8?u[N][I]=new Date(+U.slice(0,4),+U.slice(4,6)-1,+U.slice(6,8)):u[N][I]=U;break;case"F":u[N][I]=parseFloat(U.trim());break;case"+":case"I":u[N][I]=x?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(U.trim().toUpperCase()){case"Y":case"T":u[N][I]=!0;break;case"N":case"F":u[N][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+U+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[N][I]="##MEMO##"+(x?parseInt(U.trim(),10):R.read_shift(4));break;case"N":U=U.replace(/\u0000/g,"").trim(),U&&U!="."&&(u[N][I]=+U||0);break;case"@":u[N][I]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":u[N][I]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":u[N][I]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][I]=-R.read_shift(-8,"f");break;case"B":if(y&&k[I].len==8){u[N][I]=R.read_shift(8,"f");break}case"G":case"P":R.l+=k[I].len;break;case"0":if(k[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[I].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=k,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Mh(r(o,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function i(o,c){try{return du(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&ro(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=RA(),h=VA(o,{header:1,raw:!0,cellDates:!0}),m=h[0],y=h.slice(1),x=o["!cols"]||[],b=0,E=0,S=0,F=1;for(b=0;b<m.length;++b){if(((x[b]||{}).DBF||{}).name){m[b]=x[b].DBF.name,++S;continue}if(m[b]!=null){if(++S,typeof m[b]=="number"&&(m[b]=m[b].toString(10)),typeof m[b]!="string")throw new Error("DBF Invalid column name "+m[b]+" |"+typeof m[b]+"|");if(m.indexOf(m[b])!==b){for(E=0;E<1024;++E)if(m.indexOf(m[b]+"_"+E)==-1){m[b]+="_"+E;break}}}}var k=yn(o["!ref"]),M=[],D=[],P=[];for(b=0;b<=k.e.c-k.s.c;++b){var N="",I="",R=0,U=[];for(E=0;E<y.length;++E)y[E][b]!=null&&U.push(y[E][b]);if(U.length==0||m[b]==null){M[b]="?";continue}for(E=0;E<U.length;++E){switch(typeof U[E]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=U[E]instanceof Date?"D":"C";break;default:I="C"}R=Math.max(R,String(U[E]).length),N=N&&N!=I?"C":I}R>250&&(R=250),I=((x[b]||{}).DBF||{}).type,I=="C"&&x[b].DBF.len>R&&(R=x[b].DBF.len),N=="B"&&I=="N"&&(N="N",P[b]=x[b].DBF.dec,R=x[b].DBF.len),D[b]=N=="C"||I=="N"?R:a[N]||0,F+=D[b],M[b]=N}var B=d.next(32);for(B.write_shift(4,318902576),B.write_shift(4,y.length),B.write_shift(2,296+32*S),B.write_shift(2,F),b=0;b<4;++b)B.write_shift(4,0);for(B.write_shift(4,0|(+t[HU]||3)<<8),b=0,E=0;b<m.length;++b)if(m[b]!=null){var L=d.next(32),H=(m[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,H,"sbcs"),L.write_shift(1,M[b]=="?"?"C":M[b],"sbcs"),L.write_shift(4,E),L.write_shift(1,D[b]||a[M[b]]||0),L.write_shift(1,P[b]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),E+=D[b]||a[M[b]]||0}var fe=d.next(264);for(fe.write_shift(4,13),b=0;b<65;++b)fe.write_shift(4,0);for(b=0;b<y.length;++b){var me=d.next(F);for(me.write_shift(1,0),E=0;E<m.length;++E)if(m[E]!=null)switch(M[E]){case"L":me.write_shift(1,y[b][E]==null?63:y[b][E]?84:70);break;case"B":me.write_shift(8,y[b][E]||0,"f");break;case"N":var ne="0";for(typeof y[b][E]=="number"&&(ne=y[b][E].toFixed(P[E]||0)),S=0;S<D[E]-ne.length;++S)me.write_shift(1,32);me.write_shift(1,ne,"sbcs");break;case"D":y[b][E]?(me.write_shift(4,("0000"+y[b][E].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(y[b][E].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+y[b][E].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(y[b][E]!=null?y[b][E]:"").slice(0,D[E]);for(me.write_shift(1,ue,"sbcs"),S=0;S<D[E]-ue.length;++S)me.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),Hae=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ko(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,y){var x=e[y];return typeof x=="number"?R4(x):x},n=function(m,y,x){var b=y.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return b==59?m:R4(b)};e["|"]=254;function i(m,y){switch(y.type){case"base64":return a(us(m),y);case"binary":return a(m,y);case"buffer":return a(er&&Buffer.isBuffer(m)?m.toString("binary"):Df(m),y);case"array":return a(vf(m),y)}throw new Error("Unrecognized type "+y.type)}function a(m,y){var x=m.split(/[\n\r]+/),b=-1,E=-1,S=0,F=0,k=[],M=[],D=null,P={},N=[],I=[],R=[],U=0,B;for(+y.codepage>=0&&ro(+y.codepage);S!==x.length;++S){U=0;var L=x[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),H=L.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),fe=H[0],me;if(L.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":H[1].charAt(0)=="P"&&M.push(L.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,ue=!1,ce=!1,ie=!1,xe=-1,J=-1;for(F=1;F<H.length;++F)switch(H[F].charAt(0)){case"A":break;case"X":E=parseInt(H[F].slice(1))-1,ue=!0;break;case"Y":for(b=parseInt(H[F].slice(1))-1,ue||(E=0),B=k.length;B<=b;++B)k[B]=[];break;case"K":me=H[F].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(ao(me))?isNaN(dh(me).getDate())||(me=pi(me)):(me=ao(me),D!==null&&Rh(D)&&(me=L1(me))),ne=!0;break;case"E":ie=!0;var V=Qd(H[F].slice(1),{r:b,c:E});k[b][E]=[k[b][E],V];break;case"S":ce=!0,k[b][E]=[k[b][E],"S5S"];break;case"G":break;case"R":xe=parseInt(H[F].slice(1))-1;break;case"C":J=parseInt(H[F].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+L)}if(ne&&(k[b][E]&&k[b][E].length==2?k[b][E][0]=me:k[b][E]=me,D=null),ce){if(ie)throw new Error("SYLK shared formula cannot have own formula");var ee=xe>-1&&k[xe][J];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");k[b][E][1]=tB(ee[1],{r:b-xe,c:E-J})}break;case"F":var X=0;for(F=1;F<H.length;++F)switch(H[F].charAt(0)){case"X":E=parseInt(H[F].slice(1))-1,++X;break;case"Y":for(b=parseInt(H[F].slice(1))-1,B=k.length;B<=b;++B)k[B]=[];break;case"M":U=parseInt(H[F].slice(1))/20;break;case"F":break;case"G":break;case"P":D=M[parseInt(H[F].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=H[F].slice(1).split(" "),B=parseInt(R[0],10);B<=parseInt(R[1],10);++B)U=parseInt(R[2],10),I[B-1]=U===0?{hidden:!0}:{wch:U},hh(I[B-1]);break;case"C":E=parseInt(H[F].slice(1))-1,I[E]||(I[E]={});break;case"R":b=parseInt(H[F].slice(1))-1,N[b]||(N[b]={}),U>0?(N[b].hpt=U,N[b].hpx=nm(U)):U===0&&(N[b].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+L)}X<1&&(D=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+L)}}return N.length>0&&(P["!rows"]=N),I.length>0&&(P["!cols"]=I),y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),[k,P]}function s(m,y){var x=i(m,y),b=x[0],E=x[1],S=Mh(b,y);return Ko(E).forEach(function(F){S[F]=E[F]}),S}function o(m,y){return du(s(m,y),y)}function c(m,y,x,b){var E="C;Y"+(x+1)+";X"+(b+1)+";K";switch(m.t){case"n":E+=m.v||0,m.f&&!m.F&&(E+=";E"+koe(m.f,{r:x,c:b}));break;case"b":E+=m.v?"TRUE":"FALSE";break;case"e":E+=m.w||m.v;break;case"d":E+='"'+(m.w||m.v)+'"';break;case"s":E+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function u(m,y){y.forEach(function(x,b){var E="F;W"+(b+1)+" "+(b+1)+" ";x.hidden?E+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=fx(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=dx(x.wpx)),typeof x.wch=="number"&&(E+=Math.round(x.wch))),E.charAt(E.length-1)!=" "&&m.push(E)})}function d(m,y){y.forEach(function(x,b){var E="F;";x.hidden?E+="M0;":x.hpt?E+="M"+20*x.hpt+";":x.hpx&&(E+="M"+20*Z9(x.hpx)+";"),E.length>2&&m.push(E+"R"+(b+1))})}function h(m,y){var x=["ID;PWXL;N;E"],b=[],E=yn(m["!ref"]),S,F=Array.isArray(m),k=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&u(x,m["!cols"]),m["!rows"]&&d(x,m["!rows"]),x.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var M=E.s.r;M<=E.e.r;++M)for(var D=E.s.c;D<=E.e.c;++D){var P=Pt({r:M,c:D});S=F?(m[M]||[])[D]:m[P],!(!S||S.v==null&&(!S.f||S.F))&&b.push(c(S,m,M,D))}return x.join(k)+k+b.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:s,from_sheet:h}})(),Gae=(function(){function e(a,s){switch(s.type){case"base64":return t(us(a),s);case"binary":return t(a,s);case"buffer":return t(er&&Buffer.isBuffer(a)?a.toString("binary"):Df(a),s);case"array":return t(vf(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),c=-1,u=-1,d=0,h=[];d!==o.length;++d){if(o[d].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var m=o[d].trim().split(","),y=m[0],x=m[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+y){case-1:if(b==="BOT"){h[++c]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?h[c][u]=!0:b==="FALSE"?h[c][u]=!1:isNaN(ao(x))?isNaN(dh(x).getDate())?h[c][u]=x:h[c][u]=pi(x):h[c][u]=ao(x),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),h[c][u++]=b!==""?b:null;break}if(b==="EOD")break}}return s&&s.sheetRows&&(h=h.slice(0,s.sheetRows)),h}function r(a,s){return Mh(e(a,s),s)}function n(a,s){return du(r(a,s),s)}var i=(function(){var a=function(c,u,d,h,m){c.push(u),c.push(d+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,d,h){c.push(u+","+d),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],d=yn(c["!ref"]),h,m=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,d.e.r-d.s.r+1,""),a(u,"TUPLES",0,d.e.c-d.s.c+1,""),a(u,"DATA",0,0,"");for(var y=d.s.r;y<=d.e.r;++y){s(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var b=Pt({r:y,c:x});if(h=m?(c[y]||[])[x]:c[b],!h){s(u,1,0,"");continue}switch(h.t){case"n":var E=h.w;!E&&h.v!=null&&(E=h.v),E==null?h.f&&!h.F?s(u,1,0,"="+h.f):s(u,1,0,""):s(u,0,E,"V");break;case"b":s(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Ms(h.z||jt[14],ha(pi(h.v)))),s(u,0,h.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var S=`\r
`,F=u.join(S);return F}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),qae=(function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var y=h.split(`
`),x=-1,b=-1,E=0,S=[];E!==y.length;++E){var F=y[E].trim().split(":");if(F[0]==="cell"){var k=ua(F[1]);if(S.length<=k.r)for(x=S.length;x<=k.r;++x)S[x]||(S[x]=[]);switch(x=k.r,b=k.c,F[2]){case"t":S[x][b]=e(F[3]);break;case"v":S[x][b]=+F[3];break;case"vtf":var M=F[F.length-1];case"vtc":F[3]==="nl"?S[x][b]=!!+F[4]:S[x][b]=+F[4],F[2]=="vtf"&&(S[x][b]=[S[x][b],M])}}}return m&&m.sheetRows&&(S=S.slice(0,m.sheetRows)),S}function n(h,m){return Mh(r(h,m),m)}function i(h,m){return du(n(h,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var m=[],y=[],x,b="",E=Oh(h["!ref"]),S=Array.isArray(h),F=E.s.r;F<=E.e.r;++F)for(var k=E.s.c;k<=E.e.c;++k)if(b=Pt({r:F,c:k}),x=S?(h[F]||[])[k]:h[b],!(!x||x.v==null||x.t==="z")){switch(y=["cell",b,"t"],x.t){case"s":case"str":y.push(t(x.v));break;case"n":x.f?(y[2]="vtf",y[3]="n",y[4]=x.v,y[5]=t(x.f)):(y[2]="v",y[3]=x.v);break;case"b":y[2]="vt"+(x.f?"f":"c"),y[3]="nl",y[4]=x.v?"1":"0",y[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var M=ha(pi(x.v));y[2]="vtc",y[3]="nd",y[4]=""+M,y[5]=x.w||Ms(x.z||jt[14],M);break;case"e":continue}m.push(y.join(":"))}return m.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(h){return[a,s,o,s,u(h),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),tm=(function(){function e(d,h,m,y,x){x.raw?h[m][y]=d:d===""||(d==="TRUE"?h[m][y]=!0:d==="FALSE"?h[m][y]=!1:isNaN(ao(d))?isNaN(dh(d).getDate())?h[m][y]=d:h[m][y]=pi(d):h[m][y]=ao(d))}function t(d,h){var m=h||{},y=[];if(!d||d.length===0)return y;for(var x=d.split(/[\r\n]/),b=x.length-1;b>=0&&x[b].length===0;)--b;for(var E=10,S=0,F=0;F<=b;++F)S=x[F].indexOf(" "),S==-1?S=x[F].length:S++,E=Math.max(E,S);for(F=0;F<=b;++F){y[F]=[];var k=0;for(e(x[F].slice(0,E).trim(),y,F,k,m),k=1;k<=(x[F].length-E)/10+1;++k)e(x[F].slice(E+(k-1)*10,E+k*10).trim(),y,F,k,m)}return m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var h={},m=!1,y=0,x=0;y<d.length;++y)(x=d.charCodeAt(y))==34?m=!m:!m&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&x.push([h[y],y]);if(!x.length){h=n;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&x.push([h[y],y])}return x.sort(function(b,E){return b[0]-E[0]||n[b[1]]-n[E[1]]}),r[x.pop()[1]]||44}function a(d,h){var m=h||{},y="",x=m.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(y=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(y=d.charAt(4),d=d.slice(6)):y=i(d.slice(0,1024)):m&&m.FS?y=m.FS:y=i(d.slice(0,1024));var E=0,S=0,F=0,k=0,M=0,D=y.charCodeAt(0),P=!1,N=0,I=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var R=m.dateNF!=null?nne(m.dateNF):null;function U(){var B=d.slice(k,M),L={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)L.t="z";else if(m.raw)L.t="s",L.v=B;else if(B.trim().length===0)L.t="s",L.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(L.t="s",L.v=B.slice(2,-1).replace(/""/g,'"')):Roe(B)?(L.t="n",L.f=B.slice(1)):(L.t="s",L.v=B);else if(B=="TRUE")L.t="b",L.v=!0;else if(B=="FALSE")L.t="b",L.v=!1;else if(!isNaN(F=ao(B)))L.t="n",m.cellText!==!1&&(L.w=B),L.v=F;else if(!isNaN(dh(B).getDate())||R&&B.match(R)){L.z=m.dateNF||jt[14];var H=0;R&&B.match(R)&&(B=ine(B,m.dateNF,B.match(R)||[]),H=1),m.cellDates?(L.t="d",L.v=pi(B,H)):(L.t="n",L.v=ha(pi(B,H))),m.cellText!==!1&&(L.w=Ms(L.z,L.v instanceof Date?ha(L.v):L.v)),m.cellNF||delete L.z}else L.t="s",L.v=B;if(L.t=="z"||(m.dense?(x[E]||(x[E]=[]),x[E][S]=L):x[Pt({c:S,r:E})]=L),k=M+1,I=d.charCodeAt(k),b.e.c<S&&(b.e.c=S),b.e.r<E&&(b.e.r=E),N==D)++S;else if(S=0,++E,m.sheetRows&&m.sheetRows<=E)return!0}e:for(;M<d.length;++M)switch(N=d.charCodeAt(M)){case 34:I===34&&(P=!P);break;case D:case 10:case 13:if(!P&&U())break e;break}return M-k>0&&U(),x["!ref"]=or(b),x}function s(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?a(d,h):Mh(t(d,h),h)}function o(d,h){var m="",y=h.type=="string"?[0,0,0,0]:_C(d,h);switch(h.type){case"base64":m=us(d);break;case"binary":m=d;break;case"buffer":h.codepage==65001?m=d.toString("utf8"):h.codepage&&typeof Xp<"u"||(m=er&&Buffer.isBuffer(d)?d.toString("binary"):Df(d));break;case"array":m=vf(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+h.type)}return y[0]==239&&y[1]==187&&y[2]==191?m=$r(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=$r(m):h.type=="binary"&&typeof Xp<"u",m.slice(0,19)=="socialcalc:version:"?qae.to_sheet(h.type=="string"?m:$r(m),h):s(m,h)}function c(d,h){return du(o(d,h),h)}function u(d){for(var h=[],m=yn(d["!ref"]),y,x=Array.isArray(d),b=m.s.r;b<=m.e.r;++b){for(var E=[],S=m.s.c;S<=m.e.c;++S){var F=Pt({r:b,c:S});if(y=x?(d[b]||[])[S]:d[F],!y||y.v==null){E.push("          ");continue}for(var k=(y.w||(Ml(y),y.w)||"").slice(0,10);k.length<10;)k+=" ";E.push(k+(S===0?" ":""))}h.push(E.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}})();function Kae(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=Hae.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return tm.to_workbook(e,t)}}var Pp=(function(){function e(V,ee,X){if(V){Ii(V,V.l||0);for(var q=X.Enum||xe;V.l<V.length;){var he=V.read_shift(2),ye=q[he]||q[65535],Ie=V.read_shift(2),oe=V.l+Ie,ge=ye.f&&ye.f(V,Ie,X);if(V.l=oe,ee(ge,ye,he))return}}}function t(V,ee){switch(ee.type){case"base64":return r(Xs(us(V)),ee);case"binary":return r(Xs(V),ee);case"buffer":case"array":return r(V,ee)}throw"Unsupported type "+ee.type}function r(V,ee){if(!V)return V;var X=ee||{},q=X.dense?[]:{},he="Sheet1",ye="",Ie=0,oe={},ge=[],De=[],K={s:{r:0,c:0},e:{r:0,c:0}},Ye=X.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)X.Enum=xe,e(V,function(Fe,Je,et){switch(et){case 0:X.vers=Fe,Fe>=4096&&(X.qpro=!0);break;case 6:K=Fe;break;case 204:Fe&&(ye=Fe);break;case 222:ye=Fe;break;case 15:case 51:X.qpro||(Fe[1].v=Fe[1].v.slice(1));case 13:case 14:case 16:et==14&&(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=X.dateNF||jt[14],X.cellDates&&(Fe[1].t="d",Fe[1].v=L1(Fe[1].v))),X.qpro&&Fe[3]>Ie&&(q["!ref"]=or(K),oe[he]=q,ge.push(he),q=X.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ie=Fe[3],he=ye||"Sheet"+(Ie+1),ye="");var ht=X.dense?(q[Fe[0].r]||[])[Fe[0].c]:q[Pt(Fe[0])];if(ht){ht.t=Fe[1].t,ht.v=Fe[1].v,Fe[1].z!=null&&(ht.z=Fe[1].z),Fe[1].f!=null&&(ht.f=Fe[1].f);break}X.dense?(q[Fe[0].r]||(q[Fe[0].r]=[]),q[Fe[0].r][Fe[0].c]=Fe[1]):q[Pt(Fe[0])]=Fe[1];break}},X);else if(V[2]==26||V[2]==14)X.Enum=J,V[2]==14&&(X.qpro=!0,V.l=0),e(V,function(Fe,Je,et){switch(et){case 204:he=Fe;break;case 22:Fe[1].v=Fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>Ie&&(q["!ref"]=or(K),oe[he]=q,ge.push(he),q=X.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ie=Fe[3],he="Sheet"+(Ie+1)),Ye>0&&Fe[0].r>=Ye)break;X.dense?(q[Fe[0].r]||(q[Fe[0].r]=[]),q[Fe[0].r][Fe[0].c]=Fe[1]):q[Pt(Fe[0])]=Fe[1],K.e.c<Fe[0].c&&(K.e.c=Fe[0].c),K.e.r<Fe[0].r&&(K.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(De[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:De[Fe[0]]=Fe[1],Fe[0]==Ie&&(he=Fe[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(q["!ref"]=or(K),oe[ye||he]=q,ge.push(ye||he),!De.length)return{SheetNames:ge,Sheets:oe};for(var Ue={},Ke=[],ze=0;ze<De.length;++ze)oe[ge[ze]]?(Ke.push(De[ze]||ge[ze]),Ue[De[ze]]=oe[De[ze]]||oe[ge[ze]]):(Ke.push(De[ze]),Ue[De[ze]]={"!ref":"A1"});return{SheetNames:Ke,Sheets:Ue}}function n(V,ee){var X=ee||{};if(+X.codepage>=0&&ro(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var q=RA(),he=yn(V["!ref"]),ye=Array.isArray(V),Ie=[];Js(q,0,a(1030)),Js(q,6,c(he));for(var oe=Math.min(he.e.r,8191),ge=he.s.r;ge<=oe;++ge)for(var De=Ri(ge),K=he.s.c;K<=he.e.c;++K){ge===he.s.r&&(Ie[K]=Jn(K));var Ye=Ie[K]+De,Ue=ye?(V[ge]||[])[K]:V[Ye];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")(Ue.v|0)==Ue.v&&Ue.v>=-32768&&Ue.v<=32767?Js(q,13,y(ge,K,Ue.v)):Js(q,14,b(ge,K,Ue.v));else{var Ke=Ml(Ue);Js(q,15,h(ge,K,Ke.slice(0,239)))}}return Js(q,1),q.end()}function i(V,ee){var X=ee||{};if(+X.codepage>=0&&ro(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var q=RA();Js(q,0,s(V));for(var he=0,ye=0;he<V.SheetNames.length;++he)(V.Sheets[V.SheetNames[he]]||{})["!ref"]&&Js(q,27,ie(V.SheetNames[he],ye++));var Ie=0;for(he=0;he<V.SheetNames.length;++he){var oe=V.Sheets[V.SheetNames[he]];if(!(!oe||!oe["!ref"])){for(var ge=yn(oe["!ref"]),De=Array.isArray(oe),K=[],Ye=Math.min(ge.e.r,8191),Ue=ge.s.r;Ue<=Ye;++Ue)for(var Ke=Ri(Ue),ze=ge.s.c;ze<=ge.e.c;++ze){Ue===ge.s.r&&(K[ze]=Jn(ze));var Fe=K[ze]+Ke,Je=De?(oe[Ue]||[])[ze]:oe[Fe];if(!(!Je||Je.t=="z"))if(Je.t=="n")Js(q,23,U(Ue,ze,Ie,Je.v));else{var et=Ml(Je);Js(q,22,N(Ue,ze,Ie,et.slice(0,239)))}}++Ie}}return Js(q,1),q.end()}function a(V){var ee=Wn(2);return ee.write_shift(2,V),ee}function s(V){var ee=Wn(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var X=0,q=0,he=0,ye=0;ye<V.SheetNames.length;++ye){var Ie=V.SheetNames[ye],oe=V.Sheets[Ie];if(!(!oe||!oe["!ref"])){++he;var ge=Oh(oe["!ref"]);X<ge.e.r&&(X=ge.e.r),q<ge.e.c&&(q=ge.e.c)}}return X>8191&&(X=8191),ee.write_shift(2,X),ee.write_shift(1,he),ee.write_shift(1,q),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function o(V,ee,X){var q={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&X.qpro?(q.s.c=V.read_shift(1),V.l++,q.s.r=V.read_shift(2),q.e.c=V.read_shift(1),V.l++,q.e.r=V.read_shift(2),q):(q.s.c=V.read_shift(2),q.s.r=V.read_shift(2),ee==12&&X.qpro&&(V.l+=2),q.e.c=V.read_shift(2),q.e.r=V.read_shift(2),ee==12&&X.qpro&&(V.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(V){var ee=Wn(8);return ee.write_shift(2,V.s.c),ee.write_shift(2,V.s.r),ee.write_shift(2,V.e.c),ee.write_shift(2,V.e.r),ee}function u(V,ee,X){var q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(q[0].c=V.read_shift(1),q[3]=V.read_shift(1),q[0].r=V.read_shift(2),V.l+=2):(q[2]=V.read_shift(1),q[0].c=V.read_shift(2),q[0].r=V.read_shift(2)),q}function d(V,ee,X){var q=V.l+ee,he=u(V,ee,X);if(he[1].t="s",X.vers==20768){V.l++;var ye=V.read_shift(1);return he[1].v=V.read_shift(ye,"utf8"),he}return X.qpro&&V.l++,he[1].v=V.read_shift(q-V.l,"cstr"),he}function h(V,ee,X){var q=Wn(7+X.length);q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(1,39);for(var he=0;he<q.length;++he){var ye=X.charCodeAt(he);q.write_shift(1,ye>=128?95:ye)}return q.write_shift(1,0),q}function m(V,ee,X){var q=u(V,ee,X);return q[1].v=V.read_shift(2,"i"),q}function y(V,ee,X){var q=Wn(7);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(2,X,"i"),q}function x(V,ee,X){var q=u(V,ee,X);return q[1].v=V.read_shift(8,"f"),q}function b(V,ee,X){var q=Wn(13);return q.write_shift(1,255),q.write_shift(2,ee),q.write_shift(2,V),q.write_shift(8,X,"f"),q}function E(V,ee,X){var q=V.l+ee,he=u(V,ee,X);if(he[1].v=V.read_shift(8,"f"),X.qpro)V.l=q;else{var ye=V.read_shift(2);M(V.slice(V.l,V.l+ye),he),V.l+=ye}return he}function S(V,ee,X){var q=ee&32768;return ee&=-32769,ee=(q?V:0)+(ee>=8192?ee-16384:ee),(q?"":"$")+(X?Jn(ee):Ri(ee))}var F={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(V,ee){Ii(V,0);for(var X=[],q=0,he="",ye="",Ie="",oe="";V.l<V.length;){var ge=V[V.l++];switch(ge){case 0:X.push(V.read_shift(8,"f"));break;case 1:ye=S(ee[0].c,V.read_shift(2),!0),he=S(ee[0].r,V.read_shift(2),!1),X.push(ye+he);break;case 2:{var De=S(ee[0].c,V.read_shift(2),!0),K=S(ee[0].r,V.read_shift(2),!1);ye=S(ee[0].c,V.read_shift(2),!0),he=S(ee[0].r,V.read_shift(2),!1),X.push(De+K+":"+ye+he)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(V.read_shift(2));break;case 6:{for(var Ye="";ge=V[V.l++];)Ye+=String.fromCharCode(ge);X.push('"'+Ye.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:oe=X.pop(),Ie=X.pop(),X.push(["AND","OR"][ge-20]+"("+Ie+","+oe+")");break;default:if(ge<32&&k[ge])oe=X.pop(),Ie=X.pop(),X.push(Ie+k[ge]+oe);else if(F[ge]){if(q=F[ge][1],q==69&&(q=V[V.l++]),q>X.length){console.error("WK1 bad formula parse 0x"+ge.toString(16)+":|"+X.join("|")+"|");return}var Ue=X.slice(-q);X.length-=q,X.push(F[ge][0]+"("+Ue.join(",")+")")}else return ge<=7?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=24?console.error("WK1 unsupported op "+ge.toString(16)):ge<=30?console.error("WK1 invalid opcode "+ge.toString(16)):ge<=115?console.error("WK1 unsupported function opcode "+ge.toString(16)):console.error("WK1 unrecognized opcode "+ge.toString(16))}}X.length==1?ee[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function D(V){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=V.read_shift(2),ee[3]=V[V.l++],ee[0].c=V[V.l++],ee}function P(V,ee){var X=D(V);return X[1].t="s",X[1].v=V.read_shift(ee-4,"cstr"),X}function N(V,ee,X,q){var he=Wn(6+q.length);he.write_shift(2,V),he.write_shift(1,X),he.write_shift(1,ee),he.write_shift(1,39);for(var ye=0;ye<q.length;++ye){var Ie=q.charCodeAt(ye);he.write_shift(1,Ie>=128?95:Ie)}return he.write_shift(1,0),he}function I(V,ee){var X=D(V);X[1].v=V.read_shift(2);var q=X[1].v>>1;if(X[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return X[1].v=q,X}function R(V,ee){var X=D(V),q=V.read_shift(4),he=V.read_shift(4),ye=V.read_shift(2);if(ye==65535)return q===0&&he===3221225472?(X[1].t="e",X[1].v=15):q===0&&he===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Ie=ye&32768;return ye=(ye&32767)-16446,X[1].v=(1-Ie*2)*(he*Math.pow(2,ye+32)+q*Math.pow(2,ye)),X}function U(V,ee,X,q){var he=Wn(14);if(he.write_shift(2,V),he.write_shift(1,X),he.write_shift(1,ee),q==0)return he.write_shift(4,0),he.write_shift(4,0),he.write_shift(2,65535),he;var ye=0,Ie=0,oe=0,ge=0;return q<0&&(ye=1,q=-q),Ie=Math.log2(q)|0,q/=Math.pow(2,Ie-31),ge=q>>>0,(ge&2147483648)==0&&(q/=2,++Ie,ge=q>>>0),q-=ge,ge|=2147483648,ge>>>=0,q*=Math.pow(2,32),oe=q>>>0,he.write_shift(4,oe),he.write_shift(4,ge),Ie+=16383+(ye?32768:0),he.write_shift(2,Ie),he}function B(V,ee){var X=R(V);return V.l+=ee-14,X}function L(V,ee){var X=D(V),q=V.read_shift(4);return X[1].v=q>>6,X}function H(V,ee){var X=D(V),q=V.read_shift(8,"f");return X[1].v=q,X}function fe(V,ee){var X=H(V);return V.l+=ee-10,X}function me(V,ee){return V[V.l+ee-1]==0?V.read_shift(ee,"cstr"):""}function ne(V,ee){var X=V[V.l++];X>ee-1&&(X=ee-1);for(var q="";q.length<X;)q+=String.fromCharCode(V[V.l++]);return q}function ue(V,ee,X){if(!(!X.qpro||ee<21)){var q=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var he=V.read_shift(ee-21,"cstr");return[q,he]}}function ce(V,ee){for(var X={},q=V.l+ee;V.l<q;){var he=V.read_shift(2);if(he==14e3){for(X[he]=[0,""],X[he][0]=V.read_shift(2);V[V.l];)X[he][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return X}function ie(V,ee){var X=Wn(5+V.length);X.write_shift(2,14e3),X.write_shift(2,ee);for(var q=0;q<V.length;++q){var he=V.charCodeAt(q);X[X.l++]=he>127?95:he}return X[X.l++]=0,X}var xe={0:{n:"BOF",f:Bn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:H},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}})();function Wae(e){var t={},r=e.match(Ji),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=At(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=J2[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var Yae=(function(){var e=Qp("t"),t=Qp("rPr");function r(a){var s=a.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:lr(s[1])},c=a.match(t);return c&&(o.s=Wae(c[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),Jae=(function(){var t=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var c=i.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(a.push("<"+c+">"),s.push("</"+c+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),Xae=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Zae=/<(?:\w+:)?r>/,Qae=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function hC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=lr($r(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=$r(e),r&&(n.h=nC(n.t))):e.match(Zae)&&(n.r=$r(e),n.t=lr($r((e.replace(Qae,"").match(Xae)||[]).join("").replace(Ji,""))),r&&(n.h=Jae(Yae(n.r)))),n):{t:""}}var ese=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,tse=/<(?:\w+:)?(?:si|sstItem)>/g,rse=/<\/(?:\w+:)?(?:si|sstItem)>/;function nse(e,t){var r=[],n="";if(!e)return r;var i=e.match(ese);if(i){n=i[2].replace(tse,"").split(rse);for(var a=0;a!=n.length;++a){var s=hC(n[a].trim(),t);s!=null&&(r[r.length]=s)}i=At(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}function ise(e){return[e.read_shift(4),e.read_shift(4)]}function ase(e,t){var r=[],n=!1;return ql(e,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function q9(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function kl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function sse(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=kl(e,4),t.U=kl(e,4),t.W=kl(e,4),t}function ose(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function lse(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ose(e));return t}function cse(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function use(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=kl(e,4),t.U=kl(e,4),t.W=kl(e,4),t}function fse(e){var t=use(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function K9(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function W9(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function dse(e){var t=kl(e);switch(t.Minor){case 2:return[t.Minor,hse(e)];case 3:return[t.Minor,pse()];case 4:return[t.Minor,mse(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hse(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=K9(e,r),i=W9(e,e.length-e.l);return{t:"Std",h:n,v:i}}function pse(){throw new Error("File is password-protected: ECMA-376 Extensible")}function mse(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ji,function(a){var s=At(a);switch(Zo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function gse(e,t){var r={},n=r.EncryptionVersionInfo=kl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=K9(e,i),t-=i,r.EncryptionVerifier=W9(e,t),r}function vse(e){var t={},r=t.EncryptionVersionInfo=kl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function yse(e){var t=0,r,n=q9(e),i=n.length+1,a,s,o,c,u;for(r=Zc(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=(t&16384)===0?0:1,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var Y9=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=t[s.length-1],c=104,u=s.length-1;u>=0;--u)for(var d=s[u],h=0;h!=7;++h)d&64&&(o^=r[c]),d*=2,--c;return o};return function(s){for(var o=q9(s),c=a(o),u=o.length,d=Zc(16),h=0;h!=16;++h)d[h]=0;var m,y,x;for((u&1)===1&&(m=c>>8,d[u]=i(e[0],m),--u,m=c&255,y=o[o.length-1],d[u]=i(y,m));u>0;)--u,m=c>>8,d[u]=i(o[u],m),--u,m=c&255,d[u]=i(o[u],m);for(u=15,x=15-o.length;x>0;)m=c>>8,d[u]=i(e[x],m),--u,--x,m=c&255,d[u]=i(o[u],m),--u,--x;return d}})(),xse=function(e,t,r,n,i){i||(i=t),n||(n=Y9(e));var a,s;for(a=0;a!=t.length;++a)s=t[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},_se=function(e){var t=0,r=Y9(e);return function(n){var i=xse("",n,t,r);return t=i[1],i[0]}};function bse(e,t,r,n){var i={key:Bn(e),verificationBytes:Bn(e)};return r.password&&(i.verifier=yse(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=_se(r.password)),i}function wse(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=vse(e):n.Data=gse(e,t),n}function Ese(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?wse(e,t-2,n):bse(e,r.biff>=8?t:t-2,r,n),n}var Tse=(function(){function e(i,a){switch(a.type){case"base64":return t(us(i),a);case"binary":return t(i,a);case"buffer":return t(er&&Buffer.isBuffer(i)?i.toString("binary"):Df(i),a);case"array":return t(vf(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(o)&&(o[h]=[]);for(var m=/\\\w+\b/g,y=0,x,b=-1;x=m.exec(d);){switch(x[0]){case"\\cell":var E=d.slice(y,m.lastIndex-x[0].length);if(E[0]==" "&&(E=E.slice(1)),++b,E.length){var S={v:E,t:"s"};Array.isArray(o)?o[h][b]=S:o[Pt({r:h,c:b})]=S}break}y=m.lastIndex}b>u.e.c&&(u.e.c=b)}),o["!ref"]=or(u),o}function r(i,a){return du(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=yn(i["!ref"]),o,c=Array.isArray(i),u=s.s.r;u<=s.e.r;++u){a.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)a.push("\\cellx"+(d+1));for(a.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var h=Pt({r:u,c:d});o=c?(i[u]||[])[d]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Ml(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}})();function Ase(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function rm(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Sse(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),s=i-a;if(s===0)return[0,0,t];var o=0,c=0,u=i+a;switch(c=s/(u>1?2-u:u),i){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,c,u/2]}function Cse(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*t,c;if(r!==0)switch(o|0){case 0:case 6:c=i*o,s[0]+=i,s[1]+=c;break;case 1:c=i*(2-o),s[0]+=c,s[1]+=i;break;case 2:c=i*(o-2),s[1]+=i,s[2]+=c;break;case 3:c=i*(4-o),s[1]+=c,s[2]+=i;break;case 4:c=i*(o-4),s[2]+=i,s[0]+=c;break;case 5:c=i*(6-o),s[2]+=c,s[0]+=i;break}for(var u=0;u!=3;++u)s[u]=Math.round(s[u]*255);return s}function ux(e,t){if(t===0)return e;var r=Sse(Ase(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),rm(Cse(r))}var J9=6,Nse=15,Ise=1,la=J9;function fx(e){return Math.floor((e+Math.round(128/la)/256)*la)}function dx(e){return Math.floor((e-5)/la*100+.5)/100}function FA(e){return Math.round((e*la+5)/la*256)/256}function uE(e){return FA(dx(fx(e)))}function pC(e){var t=Math.abs(e-uE(e)),r=la;if(t>.005)for(la=Ise;la<Nse;++la)Math.abs(e-uE(e))<=t&&(t=Math.abs(e-uE(e)),r=la);la=r}function hh(e){e.width?(e.wpx=fx(e.width),e.wch=dx(e.wpx),e.MDW=la):e.wpx?(e.wch=dx(e.wpx),e.width=FA(e.wch),e.MDW=la):typeof e.wch=="number"&&(e.width=FA(e.wch),e.wpx=fx(e.width),e.MDW=la),e.customWidth&&delete e.customWidth}var kse=96,X9=kse;function Z9(e){return e*96/X9}function nm(e){return e*X9/96}var Pse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Rse(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Ji)||[]).forEach(function(s){var o=At(s);switch(Zo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=tn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=tn(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function Ose(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Ji)||[]).forEach(function(s){var o=At(s);switch(Zo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function Mse(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Ji)||[]).forEach(function(s){var o=At(s);switch(Zo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=$r(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?tn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?tn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?tn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?tn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?tn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?tn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?tn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=J2[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=tn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var c=sf[i.color.index];i.color.index==81&&(c=sf[1]),c||(c=sf[1]),i.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=ux(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Dse(e,t,r){t.NumberFmt=[];for(var n=Ko(jt),i=0;i<n.length;++i)t.NumberFmt[n[i]]=jt[n[i]];var a=e[0].match(Ji);if(a)for(i=0;i<a.length;++i){var s=At(a[i]);switch(Zo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=lr($r(s.formatCode)),c=parseInt(s.numFmtId,10);if(t.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=o}af(o,c)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Bv=["numFmtId","fillId","fontId","borderId","xfId"],Vv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Fse(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Ji)||[]).forEach(function(a){var s=At(a),o=0;switch(Zo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Bv.length;++o)n[Bv[o]]&&(n[Bv[o]]=parseInt(n[Bv[o]],10));for(o=0;o<Vv.length;++o)n[Vv[o]]&&(n[Vv[o]]=tn(n[Vv[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};s.vertical&&(c.vertical=s.vertical),s.horizontal&&(c.horizontal=s.horizontal),s.textRotation!=null&&(c.textRotation=s.textRotation),s.indent&&(c.indent=s.indent),s.wrapText&&(c.wrapText=tn(s.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var Lse=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(t))&&Dse(h,d,u),(h=o.match(i))&&Mse(h,d,c,u),(h=o.match(n))&&Ose(h,d,c,u),(h=o.match(a))&&Rse(h,d,c,u),(h=o.match(r))&&Fse(h,d,u),d}})();function jse(e,t){var r=e.read_shift(2),n=Ki(e);return[r,n]}function Use(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=Yne(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Wne(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ki(e),n}var Bse=Yi;function Vse(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}var zse=Yi;function $se(e,t,r){var n={};n.NumberFmt=[];for(var i in jt)n.NumberFmt[i]=jt[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return ql(e,function(c,u,d){switch(d){case 44:n.NumberFmt[c[0]]=c[1],af(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=ux(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(d),s=!0;break;case 38:a.pop(),s=!1;break;default:if(u.T>0)a.push(d);else if(u.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Hse=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Gse(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ji)||[]).forEach(function(i){var a=At(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[Hse.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function qse(){}function Kse(){}var Wse=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Yse=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Jse=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Xse(e,t,r){t.themeElements={};var n;[["clrScheme",Wse,Gse],["fontScheme",Yse,qse],["fmtScheme",Jse,Kse]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var Zse=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Q9(e,t){(!e||e.length===0)&&(e=Qse());var r,n={};if(!(r=e.match(Zse)))throw new Error("themeElements not found in theme");return Xse(r[0],n,t),n.raw=e,n}function Qse(e,t){var r=[u9];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eoe(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var s;try{s=c9(a,{type:"array"})}catch{return}var o=ns(s,"theme/theme/theme1.xml",!0);if(o)return Q9(o,r)}}function toe(e){return e.read_shift(4)}function roe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=noe(e,4);break;case 2:t.xclrValue=U9(e);break;case 3:t.xclrValue=toe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function noe(e,t){return Yi(e,t)}function ioe(e,t){return Yi(e,t)}function aoe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=roe(e);break;case 6:n[1]=ioe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function soe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(aoe(e,r-e.l));return{ixfe:n,ext:a}}function ooe(e,t){t.forEach(function(r){r[0]})}function loe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ki(e)}}function coe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function uoe(e){return e.l+=4,e.read_shift(4)!=0}function foe(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return ql(e,function(c,u,d){switch(d){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:a.push(d),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!u.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function doe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,s;return e.replace(Ji,function(o){var c=At(o);switch(Zo(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==c.name&&(s=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):a==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+c.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),n}function hoe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ji)||[]).forEach(function(n){var i=At(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function poe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Pt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function moe(e,t,r){var n=[];return ql(e,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function goe(e,t,r,n){if(!e)return e;var i=n||{},a=!1;ql(e,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!c.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function voe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function vM(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(s){var o=ua(s.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[s.ref],!a){a={t:"z"},i?e[o.r][o.c]=a:e[s.ref]=a;var c=yn(e["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=or(c);u!==e["!ref"]&&(e["!ref"]=u)}a.c||(a.c=[]);var d={a:s.author,t:s.t,r:s.r,T:r};s.h&&(d.h=s.h);for(var h=a.c.length-1;h>=0;--h){if(!r&&a.c[h].T)return;r&&!a.c[h].T&&a.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(d.a==n[h].id){d.a=n[h].name||d.a;break}}a.c.push(d)})}function yoe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=At(o[0]),u={author:c.authorId&&r[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},d=ua(c.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var h=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),m=!!h&&!!h[1]&&hC(h[1])||{r:"",t:"",h:""};u.r=m.r,m.r=="<t></t>"&&(m.t=m.h=""),u.t=(m.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(u.h=m.h),n.push(u)}}}}),n}function xoe(e,t){var r=[],n=!1,i={},a=0;return e.replace(Ji,function(o,c){var u=At(o);switch(Zo(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=c+o.length;break;case"</text>":i.t=e.slice(a,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function _oe(e,t){var r=[],n=!1;return e.replace(Ji,function(a){var s=At(a);switch(Zo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function boe(e){var t={};t.iauthor=e.read_shift(4);var r=Lf(e);return t.rfx=r.s,t.ref=Pt(r.s),e.l+=16,t}var woe=Ki;function Eoe(e,t){var r=[],n=[],i={},a=!1;return ql(e,function(o,c,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}var Toe="application/vnd.ms-office.vbaProject";function Aoe(e){var t=sr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");sr.utils.cfb_add(t,i,e.FileIndex[n].content)}}),sr.write(t)}function Soe(){return{"!type":"dialog"}}function Coe(){return{"!type":"dialog"}}function Noe(){return{"!type":"macro"}}function Ioe(){return{"!type":"macro"}}var Qd=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return o?d+=t.c:--d,c?u+=t.r:--u,i+(o?"":"$")+Jn(d)+(c?"":"$")+Ri(u)}return function(i,a){return t=a,i.replace(e,r)}})(),eB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,koe=(function(){return function(t,r){return t.replace(eB,function(n,i,a,s,o,c){var u=oC(s)-(a?0:r.c),d=sC(c)-(o?0:r.r),h=d==0?"":o?d+1:"["+d+"]",m=u==0?"":a?u+1:"["+u+"]";return i+"R"+h+"C"+m})}})();function tB(e,t){return e.replace(eB,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Jn(oC(a)+t.c))+(s=="$"?s+o:Ri(sC(o)+t.r))})}function Poe(e,t,r){var n=Oh(t),i=n.s,a=ua(r),s={r:a.r-i.r,c:a.c-i.c};return tB(e,s)}function Roe(e){return e.length!=1}function yM(e){return e.replace(/_xlfn\./g,"")}function Ln(e){e.l+=1}function Qc(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function rB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return nB(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=Qc(e),o=Qc(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function nB(e){var t=Qc(e),r=Qc(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Ooe(e,t,r){if(r.biff<8)return nB(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=Qc(e),s=Qc(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function iB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Moe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=Qc(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Moe(e){var t=Qc(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Doe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Foe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Loe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function Loe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function joe(e,t,r){var n=(e[e.l++]&96)>>5,i=rB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Uoe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=rB(e,a,r);return[n,i,s]}function Boe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Voe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function zoe(e,t,r){var n=(e[e.l++]&96)>>5,i=Ooe(e,t-1,r);return[n,i]}function $oe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function xM(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Hoe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function Goe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function qoe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Koe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Woe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function aB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Yoe(e){return e.read_shift(2),aB(e)}function Joe(e){return e.read_shift(2),aB(e)}function Xoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=iB(e,0,r);return[n,i]}function Zoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=Foe(e,0,r);return[n,i]}function Qoe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=iB(e,0,r);return[n,i,a]}function ele(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[tce[i],lB[i],n]}function tle(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:rle(e);return[i,(a[0]===0?lB:ece)[a[1]]]}function rle(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nle(e,t,r){e.l+=r&&r.biff==2?3:4}function ile(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function ale(e){return e.l++,jf[e.read_shift(1)]}function sle(e){return e.l++,e.read_shift(2)}function ole(e){return e.l++,e.read_shift(1)!==0}function lle(e){return e.l++,$i(e)}function cle(e,t,r){return e.l++,Dm(e,t-1,r)}function ule(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Sn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=jf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=$i(e);break;case 2:r[1]=Uf(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fle(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Lf:j1)(e));return i}function dle(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=ule(e,r.biff);return s}function hle(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function ple(e,t,r){if(r.biff==5)return mle(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function mle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function gle(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function vle(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function yle(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function xle(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var _le=Yi,ble=Yi,wle=Yi;function Lm(e,t,r){return e.l+=2,[Doe(e)]}function mC(e){return e.l+=6,[]}var Ele=Lm,Tle=mC,Ale=mC,Sle=Lm;function sB(e){return e.l+=2,[Bn(e),e.read_shift(2)&1]}var Cle=Lm,Nle=sB,Ile=mC,kle=Lm,Ple=Lm,Rle=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Ole(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=Rle[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function Mle(e){return e.l+=2,[e.read_shift(4)]}function Dle(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Fle(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Lle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function jle(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Ule(e){return e.l+=4,[0,0]}var _M={1:{n:"PtgExp",f:ile},2:{n:"PtgTbl",f:wle},3:{n:"PtgAdd",f:Ln},4:{n:"PtgSub",f:Ln},5:{n:"PtgMul",f:Ln},6:{n:"PtgDiv",f:Ln},7:{n:"PtgPower",f:Ln},8:{n:"PtgConcat",f:Ln},9:{n:"PtgLt",f:Ln},10:{n:"PtgLe",f:Ln},11:{n:"PtgEq",f:Ln},12:{n:"PtgGe",f:Ln},13:{n:"PtgGt",f:Ln},14:{n:"PtgNe",f:Ln},15:{n:"PtgIsect",f:Ln},16:{n:"PtgUnion",f:Ln},17:{n:"PtgRange",f:Ln},18:{n:"PtgUplus",f:Ln},19:{n:"PtgUminus",f:Ln},20:{n:"PtgPercent",f:Ln},21:{n:"PtgParen",f:Ln},22:{n:"PtgMissArg",f:Ln},23:{n:"PtgStr",f:cle},26:{n:"PtgSheet",f:Dle},27:{n:"PtgEndSheet",f:Fle},28:{n:"PtgErr",f:ale},29:{n:"PtgBool",f:ole},30:{n:"PtgInt",f:sle},31:{n:"PtgNum",f:lle},32:{n:"PtgArray",f:$oe},33:{n:"PtgFunc",f:ele},34:{n:"PtgFuncVar",f:tle},35:{n:"PtgName",f:hle},36:{n:"PtgRef",f:Xoe},37:{n:"PtgArea",f:joe},38:{n:"PtgMemArea",f:gle},39:{n:"PtgMemErr",f:_le},40:{n:"PtgMemNoMem",f:ble},41:{n:"PtgMemFunc",f:vle},42:{n:"PtgRefErr",f:yle},43:{n:"PtgAreaErr",f:Boe},44:{n:"PtgRefN",f:Zoe},45:{n:"PtgAreaN",f:zoe},46:{n:"PtgMemAreaN",f:Lle},47:{n:"PtgMemNoMemN",f:jle},57:{n:"PtgNameX",f:ple},58:{n:"PtgRef3d",f:Qoe},59:{n:"PtgArea3d",f:Uoe},60:{n:"PtgRefErr3d",f:xle},61:{n:"PtgAreaErr3d",f:Voe},255:{}},Ble={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Vle={1:{n:"PtgElfLel",f:sB},2:{n:"PtgElfRw",f:kle},3:{n:"PtgElfCol",f:Ele},6:{n:"PtgElfRwV",f:Ple},7:{n:"PtgElfColV",f:Sle},10:{n:"PtgElfRadical",f:Cle},11:{n:"PtgElfRadicalS",f:Ile},13:{n:"PtgElfColS",f:Tle},15:{n:"PtgElfColSV",f:Ale},16:{n:"PtgElfRadicalLel",f:Nle},25:{n:"PtgList",f:Ole},29:{n:"PtgSxName",f:Mle},255:{}},zle={0:{n:"PtgAttrNoop",f:Ule},1:{n:"PtgAttrSemi",f:Woe},2:{n:"PtgAttrIf",f:qoe},4:{n:"PtgAttrChoose",f:Hoe},8:{n:"PtgAttrGoto",f:Goe},16:{n:"PtgAttrSum",f:nle},32:{n:"PtgAttrBaxcel",f:xM},33:{n:"PtgAttrBaxcel",f:xM},64:{n:"PtgAttrSpace",f:Yoe},65:{n:"PtgAttrSpaceSemi",f:Joe},128:{n:"PtgAttrIfError",f:Koe},255:{}};function jm(e,t,r,n){if(n.biff<8)return Yi(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=dle(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=fle(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(Yi(e,t)),a}function Um(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=_M[a]||_M[Ble[a]],(a===24||a===25)&&(i=(a===24?Vle:zle)[e[e.l+1]]),!i||!i.f?Yi(e,t):s.push([i.n,i.f(e,t,r)]);return s}function $le(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];s?s[0]===2?i.push('"'+s[1].replace(/"/g,'""')+'"'):i.push(s[1]):i.push("")}t.push(i.join(","))}return t.join(";")}var Hle={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Gle(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function oB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function bM(e,t,r){var n=oB(e,t,r);return n=="#REF"?n:Gle(n,r)}function Bi(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],c,u,d,h=0,m=0,y,x="";if(!e[0]||!e[0][0])return"";for(var b=-1,E="",S=0,F=e[0].length;S<F;++S){var k=e[0][S];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),b>=0){switch(e[0][b][1][0]){case 0:E=mn(" ",e[0][b][1][1]);break;case 1:E=mn("\r",e[0][b][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}u=u+E,b=-1}o.push(u+Hle[k[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Cp(k[1][1],s,i),o.push(Np(d,a));break;case"PtgRefN":d=r?Cp(k[1][1],r,i):k[1][1],o.push(Np(d,a));break;case"PtgRef3d":h=k[1][1],d=Cp(k[1][2],s,i),x=bM(n,h,i),o.push(x+"!"+Np(d,a));break;case"PtgFunc":case"PtgFuncVar":var M=k[1][0],D=k[1][1];M||(M=0),M&=127;var P=M==0?[]:o.slice(-M);o.length-=M,D==="User"&&(D=P.shift()),o.push(D+"("+P.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":y=tM(k[1][1],r?{s:r}:s,i),o.push(lE(y,i));break;case"PtgArea":y=tM(k[1][1],s,i),o.push(lE(y,i));break;case"PtgArea3d":h=k[1][1],y=k[1][2],x=bM(n,h,i),o.push(x+"!"+lE(y,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=k[1][2];var N=(n.names||[])[m-1]||(n[0]||[])[m],I=N?N.Name:"SH33TJSNAME"+String(m);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var R=k[1][1];m=k[1][2];var U;if(i.biff<=5)R<0&&(R=-R),n[R]&&(U=n[R][m]);else{var B="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][m]&&n[R][m].itab>0&&(B=n.SheetNames[n[R][m].itab-1]+"!"):B=n.SheetNames[m-1]+"!"),n[R]&&n[R][m])B+=n[R][m].Name;else if(n[0]&&n[0][m])B+=n[0][m].Name;else{var L=(oB(n,R,i)||"").split(";;");L[m-1]?B=L[m-1]:B+="SH33TJSERRX"}o.push(B);break}U||(U={Name:"SH33TJSERRY"}),o.push(U.Name);break;case"PtgParen":var H="(",fe=")";if(b>=0){switch(E="",e[0][b][1][0]){case 2:H=mn(" ",e[0][b][1][1])+H;break;case 3:H=mn("\r",e[0][b][1][1])+H;break;case 4:fe=mn(" ",e[0][b][1][1])+fe;break;case 5:fe=mn("\r",e[0][b][1][1])+fe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}o.push(H+o.pop()+fe);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:k[1][1],r:k[1][0]};var me={c:r.c,r:r.r};if(n.sharedf[Pt(d)]){var ne=n.sharedf[Pt(d)];o.push(Bi(ne,s,me,n,i))}else{var ue=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(Bi(u[1],s,me,n,i)),ue=!0;break}ue||o.push(k[1])}break;case"PtgArray":o.push("{"+$le(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ce.indexOf(e[0][S][0])==-1){k=e[0][b];var ie=!0;switch(k[1][0]){case 4:ie=!1;case 0:E=mn(" ",k[1][1]);break;case 5:ie=!1;case 1:E=mn("\r",k[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((ie?E:"")+o.pop()+(ie?"":E)),b=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function qle(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Yi(e,t-2)];var o=Um(e,s,r);return t!==s+i&&(a=jm(e,t-s-i,o,r)),e.l=n,[o,a]}function Kle(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],Yi(e,t-2)];var o=Um(e,s,r);return t!==s+i&&(a=jm(e,t-s-i,o,r)),e.l=n,[o,a]}function Wle(e,t,r,n){var i=e.l+t,a=Um(e,n,r),s;return i!==e.l&&(s=jm(e,i-e.l,a,r)),[a,s]}function Yle(e,t,r){var n=e.l+t,i,a=e.read_shift(2),s=Um(e,a,r);return a==65535?[[],Yi(e,t-2)]:(t!==a+2&&(i=jm(e,n-a-2,s,r)),[s,i])}function Jle(e){var t;if(Sl(e,e.l+6)!==65535)return[$i(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function fE(e,t,r){var n=e.l+t,i=Qo(e);r.biff==2&&++e.l;var a=Jle(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Kle(e,n-e.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function U1(e,t,r){var n=e.read_shift(4),i=Um(e,n,r),a=e.read_shift(4),s=a>0?jm(e,a,i,r):null;return[i,s]}var Xle=U1,B1=U1,Zle=U1,Qle=U1,ece={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tce={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wM(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function dE(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Rp={},eh={};function Op(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function cB(e,t,r,n,i,a){try{n.cellNF&&(e.z=jt[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=pi(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(jt[t]==null&&af(rne[t]||"General",t),e.t==="e")e.w=e.w||jf[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zp(e.v);else if(e.t==="d"){var s=ha(e.v);(s|0)===s?e.w=s.toString(10):e.w=Zp(s)}else{if(e.v===void 0)return"";e.w=gf(e.v,eh)}else e.t==="d"?e.w=Ms(t,ha(e.v),eh):e.w=Ms(t,e.v,eh)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ux(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ux(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function rce(e,t){var r=yn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=or(r))}var nce=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ice=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ace=/<(?:\w:)?hyperlink [^>]*>/mg,sce=/"(\w*:\w*)"/,oce=/<(?:\w:)?col\b[^>]*[\/]?>/g,lce=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,cce=/<(?:\w:)?pageMargins[^>]*\/>/g,uB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,uce=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fce=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function dce(e,t,r,n,i,a,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",h=e.match(ice);h?(u=e.slice(0,h.index),d=e.slice(h.index+h[0].length)):u=d=e;var m=u.match(uB);m?gC(m[0],o,i,r):(m=u.match(uce))&&hce(m[0],m[1]||"",o,i,r);var y=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(y>0){var x=u.slice(y,y+50).match(sce);x&&rce(o,x[1])}var b=u.match(fce);b&&b[1]&&xce(b[1],i);var E=[];if(t.cellStyles){var S=u.match(oce);S&&gce(E,S)}h&&_ce(h[1],o,t,c,a,s);var F=d.match(lce);F&&(o["!autofilter"]=vce(F[0]));var k=[],M=d.match(nce);if(M)for(y=0;y!=M.length;++y)k[y]=yn(M[y].slice(M[y].indexOf('"')+1));var D=d.match(ace);D&&pce(o,D,n);var P=d.match(cce);if(P&&(o["!margins"]=mce(At(P[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=or(c)),t.sheetRows>0&&o["!ref"]){var N=yn(o["!ref"]);t.sheetRows<=+N.e.r&&(N.e.r=t.sheetRows-1,N.e.r>c.e.r&&(N.e.r=c.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>c.e.c&&(N.e.c=c.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),o["!fullref"]=o["!ref"],o["!ref"]=or(N))}return E.length>0&&(o["!cols"]=E),k.length>0&&(o["!merges"]=k),o}function gC(e,t,r,n){var i=At(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=lr($r(i.codeName)))}function hce(e,t,r,n,i){gC(e.slice(0,e.indexOf(">")),r,n,i)}function pce(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=At($r(t[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+lr(a.location))):(a.Target="#"+lr(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=yn(a.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var d=Pt({c:u,r:c});n?(e[c]||(e[c]=[]),e[c][u]||(e[c][u]={t:"z",v:void 0}),e[c][u].l=a):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=a)}}}function mce(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function gce(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=At(t[n],!0);i.hidden&&(i.hidden=tn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,pC(i.width)),hh(i);a<=s;)e[a++]=Pi(i)}}function vce(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var yce=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function xce(e,t){t.Views||(t.Views=[{}]),(e.match(yce)||[]).forEach(function(r,n){var i=At(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),tn(i.rightToLeft)&&(t.Views[n].RTL=!0)})}var _ce=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=Qp("v"),s=Qp("f");return function(c,u,d,h,m,y){for(var x=0,b="",E=[],S=[],F=0,k=0,M=0,D="",P,N,I=0,R=0,U,B,L=0,H=0,fe=Array.isArray(y.CellXf),me,ne=[],ue=[],ce=Array.isArray(u),ie=[],xe={},J=!1,V=!!d.sheetStubs,ee=c.split(t),X=0,q=ee.length;X!=q;++X){b=ee[X].trim();var he=b.length;if(he!==0){var ye=0;e:for(x=0;x<he;++x)switch(b[x]){case">":if(b[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(N=At(b.slice(ye,x),!0),I=N.r!=null?parseInt(N.r,10):I+1,R=-1,d.sheetRows&&d.sheetRows<I)continue;xe={},J=!1,N.ht&&(J=!0,xe.hpt=parseFloat(N.ht),xe.hpx=nm(xe.hpt)),N.hidden=="1"&&(J=!0,xe.hidden=!0),N.outlineLevel!=null&&(J=!0,xe.level=+N.outlineLevel),J&&(ie[I-1]=xe)}break;case"<":ye=x;break}if(ye>=x)break;if(N=At(b.slice(ye,x),!0),I=N.r!=null?parseInt(N.r,10):I+1,R=-1,!(d.sheetRows&&d.sheetRows<I)){h.s.r>I-1&&(h.s.r=I-1),h.e.r<I-1&&(h.e.r=I-1),d&&d.cellStyles&&(xe={},J=!1,N.ht&&(J=!0,xe.hpt=parseFloat(N.ht),xe.hpx=nm(xe.hpt)),N.hidden=="1"&&(J=!0,xe.hidden=!0),N.outlineLevel!=null&&(J=!0,xe.level=+N.outlineLevel),J&&(ie[I-1]=xe)),E=b.slice(x).split(e);for(var Ie=0;Ie!=E.length&&E[Ie].trim().charAt(0)=="<";++Ie);for(E=E.slice(Ie),x=0;x!=E.length;++x)if(b=E[x].trim(),b.length!==0){if(S=b.match(r),F=x,k=0,M=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,S!=null&&S.length===2){for(F=0,D=S[1],k=0;k!=D.length&&!((M=D.charCodeAt(k)-64)<1||M>26);++k)F=26*F+M;--F,R=F}else++R;for(k=0;k!=b.length&&b.charCodeAt(k)!==62;++k);if(++k,N=At(b.slice(0,k),!0),N.r||(N.r=Pt({r:I-1,c:R})),D=b.slice(k),P={t:""},(S=D.match(a))!=null&&S[1]!==""&&(P.v=lr(S[1])),d.cellFormula){if((S=D.match(s))!=null&&S[1]!==""){if(P.f=lr($r(S[1])).replace(/\r\n/g,`
`),d.xlfn||(P.f=yM(P.f)),S[0].indexOf('t="array"')>-1)P.F=(D.match(i)||[])[1],P.F.indexOf(":")>-1&&ne.push([yn(P.F),P.F]);else if(S[0].indexOf('t="shared"')>-1){B=At(S[0]);var oe=lr($r(S[1]));d.xlfn||(oe=yM(oe)),ue[parseInt(B.si,10)]=[B,oe,N.r]}}else(S=D.match(/<f[^>]*\/>/))&&(B=At(S[0]),ue[B.si]&&(P.f=Poe(ue[B.si][1],ue[B.si][2],N.r)));var ge=ua(N.r);for(k=0;k<ne.length;++k)ge.r>=ne[k][0].s.r&&ge.r<=ne[k][0].e.r&&ge.c>=ne[k][0].s.c&&ge.c<=ne[k][0].e.c&&(P.F=ne[k][1])}if(N.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(V)P.t="z";else continue;else P.t=N.t||"n";switch(h.s.c>R&&(h.s.c=R),h.e.c<R&&(h.e.c=R),P.t){case"n":if(P.v==""||P.v==null){if(!V)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!V)continue;P.t="z"}else U=Rp[parseInt(P.v,10)],P.v=U.t,P.r=U.r,d.cellHTML&&(P.h=U.h);break;case"str":P.t="s",P.v=P.v!=null?$r(P.v):"",d.cellHTML&&(P.h=nC(P.v));break;case"inlineStr":S=D.match(n),P.t="s",S!=null&&(U=hC(S[1]))?(P.v=U.t,d.cellHTML&&(P.h=U.h)):P.v="";break;case"b":P.v=tn(P.v);break;case"d":d.cellDates?P.v=pi(P.v,1):(P.v=ha(pi(P.v,1)),P.t="n");break;case"e":(!d||d.cellText!==!1)&&(P.w=P.v),P.v=P9[P.v];break}if(L=H=0,me=null,fe&&N.s!==void 0&&(me=y.CellXf[N.s],me!=null&&(me.numFmtId!=null&&(L=me.numFmtId),d.cellStyles&&me.fillId!=null&&(H=me.fillId))),cB(P,L,H,d,m,y),d.cellDates&&fe&&P.t=="n"&&Rh(jt[L])&&(P.t="d",P.v=L1(P.v)),N.cm&&d.xlmeta){var De=(d.xlmeta.Cell||[])[+N.cm-1];De&&De.type=="XLDAPR"&&(P.D=!0)}if(ce){var K=ua(N.r);u[K.r]||(u[K.r]=[]),u[K.r][K.c]=P}else u[N.r]=P}}}}ie.length>0&&(u["!rows"]=ie)}})();function bce(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}var wce=Lf;function Ece(){}function Tce(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=qne(e),r}function Ace(e){var t=Bs(e);return[t]}function Sce(e){var t=Ff(e);return[t]}function Cce(e){var t=Bs(e),r=e.read_shift(1);return[t,r,"b"]}function Nce(e){var t=Ff(e),r=e.read_shift(1);return[t,r,"b"]}function Ice(e){var t=Bs(e),r=e.read_shift(1);return[t,r,"e"]}function kce(e){var t=Ff(e),r=e.read_shift(1);return[t,r,"e"]}function Pce(e){var t=Bs(e),r=e.read_shift(4);return[t,r,"s"]}function Rce(e){var t=Ff(e),r=e.read_shift(4);return[t,r,"s"]}function Oce(e){var t=Bs(e),r=$i(e);return[t,r,"n"]}function fB(e){var t=Ff(e),r=$i(e);return[t,r,"n"]}function Mce(e){var t=Bs(e),r=uC(e);return[t,r,"n"]}function Dce(e){var t=Ff(e),r=uC(e);return[t,r,"n"]}function Fce(e){var t=Bs(e),r=lC(e);return[t,r,"is"]}function Lce(e){var t=Bs(e),r=Ki(e);return[t,r,"str"]}function jce(e){var t=Ff(e),r=Ki(e);return[t,r,"str"]}function Uce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=B1(e,n-e.l,r);s[3]=Bi(o,null,i,r.supbooks,r)}else e.l=n;return s}function Bce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=B1(e,n-e.l,r);s[3]=Bi(o,null,i,r.supbooks,r)}else e.l=n;return s}function Vce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=$i(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=B1(e,n-e.l,r);s[3]=Bi(o,null,i,r.supbooks,r)}else e.l=n;return s}function zce(e,t,r){var n=e.l+t,i=Bs(e);i.r=r["!row"];var a=Ki(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=B1(e,n-e.l,r);s[3]=Bi(o,null,i,r.supbooks,r)}else e.l=n;return s}var $ce=Lf;function Hce(e,t){var r=e.l+t,n=Lf(e),i=cC(e),a=Ki(e),s=Ki(e),o=Ki(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:o};return s&&(c.Tooltip=s),c}function Gce(){}function qce(e,t,r){var n=e.l+t,i=N9(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=Xle(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Kce(e,t,r){var n=e.l+t,i=Lf(e),a=[i];if(r.cellFormula){var s=Qle(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}var Wce=["left","right","top","bottom","header","footer"];function Yce(e){var t={};return Wce.forEach(function(r){t[r]=$i(e)}),t}function Jce(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Xce(){}function Zce(){}function Qce(e,t,r,n,i,a,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var c=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,m=!1,y,x,b,E,S,F,k,M,D,P=[];o.biff=12,o["!row"]=0;var N=0,I=!1,R=[],U={},B=o.supbooks||i.supbooks||[[]];if(B.sharedf=U,B.arrayf=R,B.SheetNames=i.SheetNames||i.Sheets.map(function(ce){return ce.name}),!o.supbooks&&(o.supbooks=B,i.Names))for(var L=0;L<i.Names.length;++L)B[0][L+1]=i.Names[L];var H=[],fe=[],me=!1;hx[16]={n:"BrtShortReal",f:fB};var ne;if(ql(e,function(ie,xe,J){if(!m)switch(J){case 148:u=ie;break;case 0:y=ie,o.sheetRows&&o.sheetRows<=y.r&&(m=!0),M=Ri(E=y.r),o["!row"]=y.r,(ie.hidden||ie.hpt||ie.level!=null)&&(ie.hpt&&(ie.hpx=nm(ie.hpt)),fe[ie.r]=ie);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:ie[2]},ie[2]){case"n":x.v=ie[1];break;case"s":k=Rp[ie[1]],x.v=k.t,x.r=k.r;break;case"b":x.v=!!ie[1];break;case"e":x.v=ie[1],o.cellText!==!1&&(x.w=jf[x.v]);break;case"str":x.t="s",x.v=ie[1];break;case"is":x.t="s",x.v=ie[1].t;break}if((b=s.CellXf[ie[0].iStyleRef])&&cB(x,b.numFmtId,null,o,a,s),S=ie[0].c==-1?S+1:ie[0].c,o.dense?(c[E]||(c[E]=[]),c[E][S]=x):c[Jn(S)+M]=x,o.cellFormula){for(I=!1,N=0;N<R.length;++N){var V=R[N];y.r>=V[0].s.r&&y.r<=V[0].e.r&&S>=V[0].s.c&&S<=V[0].e.c&&(x.F=or(V[0]),I=!0)}!I&&ie.length>3&&(x.f=ie[3])}if(d.s.r>y.r&&(d.s.r=y.r),d.s.c>S&&(d.s.c=S),d.e.r<y.r&&(d.e.r=y.r),d.e.c<S&&(d.e.c=S),o.cellDates&&b&&x.t=="n"&&Rh(jt[b.numFmtId])){var ee=Xu(x.v);ee&&(x.t="d",x.v=new Date(ee.y,ee.m-1,ee.d,ee.H,ee.M,ee.S,ee.u))}ne&&(ne.type=="XLDAPR"&&(x.D=!0),ne=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;x={t:"z",v:void 0},S=ie[0].c==-1?S+1:ie[0].c,o.dense?(c[E]||(c[E]=[]),c[E][S]=x):c[Jn(S)+M]=x,d.s.r>y.r&&(d.s.r=y.r),d.s.c>S&&(d.s.c=S),d.e.r<y.r&&(d.e.r=y.r),d.e.c<S&&(d.e.c=S),ne&&(ne.type=="XLDAPR"&&(x.D=!0),ne=void 0);break;case 176:P.push(ie);break;case 49:ne=((o.xlmeta||{}).Cell||[])[ie-1];break;case 494:var X=n["!id"][ie.relId];for(X?(ie.Target=X.Target,ie.loc&&(ie.Target+="#"+ie.loc),ie.Rel=X):ie.relId==""&&(ie.Target="#"+ie.loc),E=ie.rfx.s.r;E<=ie.rfx.e.r;++E)for(S=ie.rfx.s.c;S<=ie.rfx.e.c;++S)o.dense?(c[E]||(c[E]=[]),c[E][S]||(c[E][S]={t:"z",v:void 0}),c[E][S].l=ie):(F=Pt({c:S,r:E}),c[F]||(c[F]={t:"z",v:void 0}),c[F].l=ie);break;case 426:if(!o.cellFormula)break;R.push(ie),D=o.dense?c[E][S]:c[Jn(S)+M],D.f=Bi(ie[1],d,{r:y.r,c:S},B,o),D.F=or(ie[0]);break;case 427:if(!o.cellFormula)break;U[Pt(ie[0].s)]=ie[1],D=o.dense?c[E][S]:c[Jn(S)+M],D.f=Bi(ie[1],d,{r:y.r,c:S},B,o);break;case 60:if(!o.cellStyles)break;for(;ie.e>=ie.s;)H[ie.e--]={width:ie.w/256,hidden:!!(ie.flags&1),level:ie.level},me||(me=!0,pC(ie.w/256)),hh(H[ie.e+1]);break;case 161:c["!autofilter"]={ref:or(ie)};break;case 476:c["!margins"]=ie;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ie.name&&(i.Sheets[r].CodeName=ie.name),(ie.above||ie.left)&&(c["!outline"]={above:ie.above,left:ie.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ie.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!xe.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=or(u||d)),o.sheetRows&&c["!ref"]){var ue=yn(c["!ref"]);o.sheetRows<=+ue.e.r&&(ue.e.r=o.sheetRows-1,ue.e.r>d.e.r&&(ue.e.r=d.e.r),ue.e.r<ue.s.r&&(ue.s.r=ue.e.r),ue.e.c>d.e.c&&(ue.e.c=d.e.c),ue.e.c<ue.s.c&&(ue.s.c=ue.e.c),c["!fullref"]=c["!ref"],c["!ref"]=or(ue))}return P.length>0&&(c["!merges"]=P),H.length>0&&(c["!cols"]=H),fe.length>0&&(c["!rows"]=fe),c}function eue(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var i=lr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function tue(e,t,r,n,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,c=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var m=eue(h);d.s.r=d.s.c=0,d.e.c=o,u=Jn(o),m[0].forEach(function(y,x){s[u+Ri(x)]={t:"n",v:y,z:m[1]},c=x}),d.e.r<c&&(d.e.r=c),++o}),o>0&&(s["!ref"]=or(d)),s}function rue(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(uB);return o&&gC(o[0],a,i,r),(s=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function nue(e,t){e.l+=10;var r=Ki(e);return{name:r}}function iue(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ql(e,function(c,u,d){switch(d){case 550:a["!rel"]=c;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),c.name&&(i.Sheets[r].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var dB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],aue=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],sue=[],oue=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function EM(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=tn(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function TM(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=tn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function hB(e){TM(e.WBProps,dB),TM(e.CalcPr,oue),EM(e.WBView,aue),EM(e.Sheets,sue),eh.date1904=tn(e.WBProps.date1904)}var lue="][*?/\\".split("");function cue(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return lue.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var uue=/<\w+:workbook/;function fue(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(e.replace(Ji,function(c,u){var d=At(c);switch(Zo(d[0])){case"<?xml":break;case"<workbook":c.match(uue)&&(i="xmlns"+c.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":dB.forEach(function(h){if(d[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=tn(d[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(d[h[0]],10);break;default:r.WBProps[h[0]]=d[h[0]]}}),d.codeName&&(r.WBProps.CodeName=$r(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=lr($r(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=$r(d.name),d.comment&&(a.Comment=d.comment),d.localSheetId&&(a.Sheet=+d.localSheetId),tn(d.hidden||"0")&&(a.Hidden=!0),s=u+c.length;break;case"</definedName>":a.Ref=lr($r(e.slice(s,u))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return c}),Ine.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return hB(r),r}function due(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=OA(e),r.name=Ki(e),r}function hue(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Ki(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function pue(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function mue(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=Kne(e),s=Zle(e,0,r),o=cC(e);e.l=n;var c={Name:a,Ptg:s};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function gue(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],hx[16]={n:"BrtFRTArchID$",f:pue},ql(e,function(c,u,d){switch(d){case 156:s.SheetNames.push(c.name),r.Sheets.push(c);break;case 153:r.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=Bi(c.Ptg,null,null,s,t),delete t.SID,delete c.Ptg,a.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([d,c]):s[0]=[d,c],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(c),s.XTI=s.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),hB(r),r.Names=a,r.supbooks=s,r}function vue(e,t,r){return t.slice(-4)===".bin"?gue(e,r):fue(e,r)}function yue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Qce(e,n,r,i,a,s,o):dce(e,n,r,i,a,s,o)}function xue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?iue(e,n,r,i,a):rue(e,n,r,i,a)}function _ue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Noe():Ioe()}function bue(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Soe():Coe()}function wue(e,t,r,n){return t.slice(-4)===".bin"?$se(e,r,n):Lse(e,r,n)}function Eue(e,t,r){return Q9(e,r)}function Tue(e,t,r){return t.slice(-4)===".bin"?ase(e,r):nse(e,r)}function Aue(e,t,r){return t.slice(-4)===".bin"?Eoe(e,r):yoe(e,r)}function Sue(e,t,r){return t.slice(-4)===".bin"?moe(e):hoe(e)}function Cue(e,t,r,n){return r.slice(-4)===".bin"?goe(e,t,r,n):void 0}function Nue(e,t,r){return t.slice(-4)===".bin"?foe(e,t,r):doe(e,t,r)}var pB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,mB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ys(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(pB),a,s,o,c;if(i)for(c=0;c!=i.length;++c)a=i[c].match(mB),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function Iue(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(pB),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(mB),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var Mp;function kue(e,t){var r=Mp[e]||lr(e);return r==="General"?gf(t):Ms(r,t)}function Pue(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=tn(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=pi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[lr(t)]=i}function Rue(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||jf[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zp(e.v):e.w=gf(e.v):e.w=kue(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=Mp[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Rh(n)){var i=Xu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function Oue(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Pse[n.Pattern]||n.Pattern)}e[t.ID]=t}function Mue(e,t,r,n,i,a,s,o,c,u){var d="General",h=n.StyleID,m={};u=u||{};var y=[],x=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&s&&(h=s.StyleID);a[h]!==void 0&&(a[h].nf&&(d=a[h].nf),a[h].Interior&&y.push(a[h].Interior),!!a[h].Parent);)h=a[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=tn(e);break;case"String":n.t="s",n.r=q4(lr(e)),n.v=e.indexOf("<")>-1?lr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(pi(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=lr(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=P9[e],u.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=q4(t||e));break}if(Rue(n,d,u),u.cellFormula!==!1)if(n.Formula){var b=lr(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=Qd(b,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Qd("RC:RC",i):n.ArrayRange&&(n.F=Qd(n.ArrayRange,i),c.push([yn(n.F),n.F]))}else for(x=0;x<c.length;++x)i.r>=c[x][0].s.r&&i.r<=c[x][0].e.r&&i.c>=c[x][0].s.c&&i.c<=c[x][0].e.c&&(n.F=c[x][1]);u.cellStyles&&(y.forEach(function(E){!m.patternType&&E.patternType&&(m.patternType=E.patternType)}),n.s=m),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Due(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function hE(e,t){var r=t||{};n9();var n=up(iC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=$r(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Pi(r);return s.type="string",tm.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Je){i.indexOf("<"+Je)>=0&&(a=!0)}),a)return Hue(n,r);Mp={"General Number":"General","General Date":jt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":jt[15],"Short Date":jt[14],"Long Time":jt[19],"Medium Time":jt[18],"Short Time":jt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:jt[2],Standard:jt[4],Percent:jt[10],Scientific:jt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,d={},h=[],m=r.dense?[]:{},y="",x={},b={},E=Ys('<Data ss:Type="String">'),S=0,F=0,k=0,M={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},P={},N="",I=0,R=[],U={},B={},L=0,H=[],fe=[],me={},ne=[],ue,ce=!1,ie=[],xe=[],J={},V=0,ee=0,X={Sheets:[],WBProps:{date1904:!1}},q={};em.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var he="";o=em.exec(n);)switch(o[3]=(he=o[3]).toLowerCase()){case"data":if(he=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Mue(n.slice(S,o.index),N,E,c[c.length-1][0]=="comment"?me:x,{c:F,r:k},D,ne[F],b,ie,r):(N="",E=Ys(o[0]),S=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(fe.length>0&&(x.c=fe),(!r.sheetRows||r.sheetRows>k)&&x.v!==void 0&&(r.dense?(m[k]||(m[k]=[]),m[k][F]=x):m[Jn(F)+Ri(k)]=x),x.HRef&&(x.l={Target:lr(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(V=F+(parseInt(x.MergeAcross,10)|0),ee=k+(parseInt(x.MergeDown,10)|0),R.push({s:{c:F,r:k},e:{c:V,r:ee}})),!r.sheetStubs)x.MergeAcross?F=V+1:++F;else if(x.MergeAcross||x.MergeDown){for(var ye=F;ye<=V;++ye)for(var Ie=k;Ie<=ee;++Ie)(ye>F||Ie>k)&&(r.dense?(m[Ie]||(m[Ie]=[]),m[Ie][ye]={t:"z"}):m[Jn(ye)+Ri(Ie)]={t:"z"});F=V+1}else++F;else x=Iue(o[0]),x.Index&&(F=+x.Index-1),F<M.s.c&&(M.s.c=F),F>M.e.c&&(M.e.c=F),o[0].slice(-2)==="/>"&&++F,fe=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<M.s.r&&(M.s.r=k),k>M.e.r&&(M.e.r=k),o[0].slice(-2)==="/>"&&(b=Ys(o[0]),b.Index&&(k=+b.Index-1)),F=0,++k):(b=Ys(o[0]),b.Index&&(k=+b.Index-1),J={},(b.AutoFitHeight=="0"||b.Height)&&(J.hpx=parseInt(b.Height,10),J.hpt=Z9(J.hpx),xe[k]=J),b.Hidden=="1"&&(J.hidden=!0,xe[k]=J));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));h.push(y),M.s.r<=M.e.r&&M.s.c<=M.e.c&&(m["!ref"]=or(M),r.sheetRows&&r.sheetRows<=M.e.r&&(m["!fullref"]=m["!ref"],M.e.r=r.sheetRows-1,m["!ref"]=or(M))),R.length&&(m["!merges"]=R),ne.length>0&&(m["!cols"]=ne),xe.length>0&&(m["!rows"]=xe),d[y]=m}else M={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=F=0,c.push([o[3],!1]),u=Ys(o[0]),y=lr(u.Name),m=r.dense?[]:{},R=[],ie=[],xe=[],q={name:y,Hidden:0},X.Sheets.push(q);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),ne=[],ce=!1}break;case"style":o[1]==="/"?Oue(D,P,r):P=Ys(o[0]);break;case"numberformat":P.nf=lr(Ys(o[0]).Format||"General"),Mp[P.nf]&&(P.nf=Mp[P.nf]);for(var oe=0;oe!=392&&jt[oe]!=P.nf;++oe);if(oe==392){for(oe=57;oe!=392;++oe)if(jt[oe]==null){af(P.nf,oe);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(ue=Ys(o[0]),ue.Hidden&&(ue.hidden=!0,delete ue.Hidden),ue.Width&&(ue.wpx=parseInt(ue.Width,10)),!ce&&ue.wpx>10){ce=!0,la=J9;for(var ge=0;ge<ne.length;++ge)ne[ge]&&hh(ne[ge])}ce&&hh(ue),ne[ue.Index-1||ne.length]=ue;for(var De=0;De<+ue.Span;++De)ne[ne.length]=Pi(ue);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var K=At(o[0]),Ye={Name:K.Name,Ref:Qd(K.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(Ye.Sheet=X.Sheets.length-1),X.Names.push(Ye);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?N+=n.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=Ys(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?yie(U,he,n.slice(L,o.index)):L=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Due(me),fe.push(me)}else c.push([o[3],!1]),u=Ys(o[0]),me={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ue=Ys(o[0]);m["!autofilter"]={ref:Qd(Ue.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return kM(n,r);var Ke=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ke=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ke=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ke=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Ke=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(L,o.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2;break}else L=o.index+o[0].length;break;case"header":m["!margins"]||Op(m["!margins"]={},"xlml"),isNaN(+At(o[0]).Margin)||(m["!margins"].header=+At(o[0]).Margin);break;case"footer":m["!margins"]||Op(m["!margins"]={},"xlml"),isNaN(+At(o[0]).Margin)||(m["!margins"].footer=+At(o[0]).Margin);break;case"pagemargins":var ze=At(o[0]);m["!margins"]||Op(m["!margins"]={},"xlml"),isNaN(+ze.Top)||(m["!margins"].top=+ze.Top),isNaN(+ze.Left)||(m["!margins"].left=+ze.Left),isNaN(+ze.Right)||(m["!margins"].right=+ze.Right),isNaN(+ze.Bottom)||(m["!margins"].bottom=+ze.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":m["!outline"]||(m["!outline"]={}),m["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ke=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ke=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ke=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ke=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ke=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ke=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ke=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ke=!1}break;case"smarttags":break;default:Ke=!1;break}if(Ke||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Pue(B,he,H,n.slice(L,o.index)):(H=o,L=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var Fe={};return!r.bookSheets&&!r.bookProps&&(Fe.Sheets=d),Fe.SheetNames=h,Fe.Workbook=X,Fe.SSF=Pi(jt),Fe.Props=U,Fe.Custprops=B,Fe}function LA(e,t){switch(xC(t=t||{}),t.type||"base64"){case"base64":return hE(us(e),t);case"binary":case"buffer":case"file":return hE(e,t);case"array":return hE(Df(e),t)}}function Fue(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Jne(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Xne(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Lue=[60,1084,2066,2165,2175];function jue(e,t,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var c=Sl(r,r.l),u=jA[c],d=0;u!=null&&Lue.indexOf(c)>-1;)a=Sl(r,r.l+2),d=r.l+4,c==2066?d+=4:(c==2165||c==2175)&&(d+=12),o=r.slice(d,r.l+4+a),s.push(o),r.l+=4+a,u=jA[c=Sl(r,r.l)];var h=Oc(s);Ii(h,0);var m=0;h.lens=[];for(var y=0;y<s.length;++y)h.lens.push(m),m+=s[y].length;if(h.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+n;return t.f(h,h.length,i)}function Ro(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=jt[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||jf[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zp(e.v):e.w=gf(e.v):e.w=Ms(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Rh(jt[n]||String(n))){var i=Xu(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function zv(e,t,r){return{v:e,ixfe:t,t:r}}function Uue(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},s={},o=null,c=[],u="",d={},h,m="",y,x,b,E,S={},F=[],k,M,D=[],P=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},R=function(wt){return wt<8?sf[wt]:wt<64&&P[wt-8]||sf[wt]},U=function(wt,tr,$t){var Bt=tr.XF.data;if(!(!Bt||!Bt.patternType||!$t||!$t.cellStyles)){tr.s={},tr.s.patternType=Bt.patternType;var _r;(_r=rm(R(Bt.icvFore)))&&(tr.s.fgColor={rgb:_r}),(_r=rm(R(Bt.icvBack)))&&(tr.s.bgColor={rgb:_r})}},B=function(wt,tr,$t){if(!(J>1)&&!($t.sheetRows&&wt.r>=$t.sheetRows)){if($t.cellStyles&&tr.XF&&tr.XF.data&&U(wt,tr,$t),delete tr.ixfe,delete tr.XF,h=wt,m=Pt(wt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),wt.r<s.s.r&&(s.s.r=wt.r),wt.c<s.s.c&&(s.s.c=wt.c),wt.r+1>s.e.r&&(s.e.r=wt.r+1),wt.c+1>s.e.c&&(s.e.c=wt.c+1),$t.cellFormula&&tr.f){for(var Bt=0;Bt<F.length;++Bt)if(!(F[Bt][0].s.c>wt.c||F[Bt][0].s.r>wt.r)&&!(F[Bt][0].e.c<wt.c||F[Bt][0].e.r<wt.r)){tr.F=or(F[Bt][0]),(F[Bt][0].s.c!=wt.c||F[Bt][0].s.r!=wt.r)&&delete tr.f,tr.f&&(tr.f=""+Bi(F[Bt][1],s,wt,ie,L));break}}$t.dense?(i[wt.r]||(i[wt.r]=[]),i[wt.r][wt.c]=tr):i[m]=tr}},L={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:F,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(L.password=t.password);var H,fe=[],me=[],ne=[],ue=[],ce=!1,ie=[];ie.SheetNames=L.snames,ie.sharedf=L.sharedf,ie.arrayf=L.arrayf,ie.names=[],ie.XTI=[];var xe=0,J=0,V=0,ee=[],X=[],q;L.codepage=1200,ro(1200);for(var he=!1;e.l<e.length-1;){var ye=e.l,Ie=e.read_shift(2);if(Ie===0&&xe===10)break;var oe=e.l===e.length?0:e.read_shift(2),ge=jA[Ie];if(ge&&ge.f){if(t.bookSheets&&xe===133&&Ie!==133)break;if(xe=Ie,ge.r===2||ge.r==12){var De=e.read_shift(2);if(oe-=2,!L.enc&&De!==Ie&&((De&255)<<8|De>>8)!==Ie)throw new Error("rt mismatch: "+De+"!="+Ie);ge.r==12&&(e.l+=10,oe-=10)}var K={};if(Ie===10?K=ge.f(e,oe,L):K=jue(Ie,ge,e,oe,L),J==0&&[9,521,1033,2057].indexOf(xe)===-1)continue;switch(Ie){case 34:r.opts.Date1904=N.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(L.enc||(e.l=0),L.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=K;break;case 66:var Ye=Number(K);switch(Ye){case 21010:Ye=1200;break;case 32768:Ye=1e4;break;case 32769:Ye=1252;break}ro(L.codepage=Ye),he=!0;break;case 317:L.rrtabid=K;break;case 25:L.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:L.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(i["!type"]="dialog"),K.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),K.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(K);break;case 430:ie.push([K]),ie[ie.length-1].XTI=[];break;case 35:case 547:ie[ie.length-1].push(K);break;case 24:case 536:q={Name:K.Name,Ref:Bi(K.rgce,s,null,ie,L)},K.itab>0&&(q.Sheet=K.itab-1),ie.names.push(q),ie[0]||(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(X[K.itab-1]={ref:or(K.rgce[0][0][1][2])});break;case 22:L.ExternCount=K;break;case 23:ie.length==0&&(ie[0]=[],ie[0].XTI=[]),ie[ie.length-1].XTI=ie[ie.length-1].XTI.concat(K),ie.XTI=ie.XTI.concat(K);break;case 2196:if(L.biff<8)break;q!=null&&(q.Comment=K[1]);break;case 18:i["!protect"]=K;break;case 19:K!==0&&L.WTF&&console.error("Password verifier: "+K);break;case 133:a[K.pos]=K,L.snames.push(K.name);break;case 10:{if(--J)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=or(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ue=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=or(s),s.e.r=Ue}s.e.r++,s.e.c++}fe.length>0&&(i["!merges"]=fe),me.length>0&&(i["!objects"]=me),ne.length>0&&(i["!cols"]=ne),ue.length>0&&(i["!rows"]=ue),N.Sheets.push(I)}u===""?d=i:n[u]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[Ie]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),L.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(L.biff=5,he=!0,ro(L.codepage=28591)),L.biff==8&&K.BIFFVer==0&&K.dt==16&&(L.biff=2),J++)break;if(i=t.dense?[]:{},L.biff<8&&!he&&(he=!0,ro(L.codepage=t.codepage||1252)),L.biff<5||K.BIFFVer==0&&K.dt==4096){u===""&&(u="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Ke={pos:e.l-oe,name:u};a[Ke.pos]=Ke,L.snames.push(u)}else u=(a[ye]||{name:""}).name;K.dt==32&&(i["!type"]="chart"),K.dt==64&&(i["!type"]="macro"),fe=[],me=[],L.arrayf=F=[],ne=[],ue=[],ce=!1,I={Hidden:(a[ye]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[K.r]||[])[K.c]:i[Pt({c:K.c,r:K.r})])&&++K.c,k={ixfe:K.ixfe,XF:D[K.ixfe]||{},v:K.val,t:"n"},V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 5:case 517:k={ixfe:K.ixfe,XF:D[K.ixfe],v:K.val,t:K.t},V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 638:k={ixfe:K.ixfe,XF:D[K.ixfe],v:K.rknum,t:"n"},V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 189:for(var ze=K.c;ze<=K.C;++ze){var Fe=K.rkrec[ze-K.c][0];k={ixfe:Fe,XF:D[Fe],v:K.rkrec[ze-K.c][1],t:"n"},V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:ze,r:K.r},k,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){o=K;break}if(k=zv(K.val,K.cell.ixfe,K.tt),k.XF=D[k.ixfe],t.cellFormula){var Je=K.formula;if(Je&&Je[0]&&Je[0][0]&&Je[0][0][0]=="PtgExp"){var et=Je[0][0][1][0],ht=Je[0][0][1][1],It=Pt({r:et,c:ht});S[It]?k.f=""+Bi(K.formula,s,K.cell,ie,L):k.F=((t.dense?(i[et]||[])[ht]:i[It])||{}).F}else k.f=""+Bi(K.formula,s,K.cell,ie,L)}V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B(K.cell,k,t),o=K}break;case 7:case 519:if(o)o.val=K,k=zv(K,o.cell.ixfe,"s"),k.XF=D[k.ixfe],t.cellFormula&&(k.f=""+Bi(o.formula,s,o.cell,ie,L)),V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B(o.cell,k,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{F.push(K);var Gr=Pt(K[0].s);if(y=t.dense?(i[K[0].s.r]||[])[K[0].s.c]:i[Gr],t.cellFormula&&y){if(!o||!Gr||!y)break;y.f=""+Bi(K[1],s,K[0],ie,L),y.F=or(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(m){if(!o)break;S[Pt(o.cell)]=K[0],y=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[Pt(o.cell)],(y||{}).f=""+Bi(K[0],s,h,ie,L)}}break;case 253:k=zv(c[K.isst].t,K.ixfe,"s"),c[K.isst].h&&(k.h=c[K.isst].h),k.XF=D[k.ixfe],V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:K.ixfe,XF:D[K.ixfe],t:"z"},V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t));break;case 190:if(t.sheetStubs)for(var Br=K.c;Br<=K.C;++Br){var _t=K.ixfe[Br-K.c];k={ixfe:_t,XF:D[_t],t:"z"},V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:Br,r:K.r},k,t)}break;case 214:case 516:case 4:k=zv(K.val,K.ixfe,"s"),k.XF=D[k.ixfe],V>0&&(k.z=ee[k.ixfe>>8&63]),Ro(k,t,r.opts.Date1904),B({c:K.c,r:K.r},k,t);break;case 0:case 512:J===1&&(s=K);break;case 252:c=K;break;case 1054:if(L.biff==4){ee[V++]=K[1];for(var xr=0;xr<V+163&&jt[xr]!=K[1];++xr);xr>=163&&af(K[1],V+163)}else af(K[1],K[0]);break;case 30:{ee[V++]=K;for(var qt=0;qt<V+163&&jt[qt]!=K;++qt);qt>=163&&af(K,V+163)}break;case 229:fe=fe.concat(K);break;case 93:me[K.cmo[0]]=L.lastobj=K;break;case 438:L.lastobj.TxO=K;break;case 127:L.lastobj.ImData=K;break;case 440:for(E=K[0].s.r;E<=K[0].e.r;++E)for(b=K[0].s.c;b<=K[0].e.c;++b)y=t.dense?(i[E]||[])[b]:i[Pt({c:b,r:E})],y&&(y.l=K[1]);break;case 2048:for(E=K[0].s.r;E<=K[0].e.r;++E)for(b=K[0].s.c;b<=K[0].e.c;++b)y=t.dense?(i[E]||[])[b]:i[Pt({c:b,r:E})],y&&y.l&&(y.l.Tooltip=K[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;y=t.dense?(i[K[0].r]||[])[K[0].c]:i[Pt(K[0])];var Er=me[K[2]];y||(t.dense?(i[K[0].r]||(i[K[0].r]=[]),y=i[K[0].r][K[0].c]={t:"z"}):y=i[Pt(K[0])]={t:"z"},s.e.r=Math.max(s.e.r,K[0].r),s.s.r=Math.min(s.s.r,K[0].r),s.e.c=Math.max(s.e.c,K[0].c),s.s.c=Math.min(s.s.c,K[0].c)),y.c||(y.c=[]),x={a:K[1],t:Er.TxO.t},y.c.push(x)}break;case 2173:ooe(D[K.ixfe],K.ext);break;case 125:{if(!L.cellStyles)break;for(;K.e>=K.s;)ne[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},ce||(ce=!0,pC(K.w/256)),hh(ne[K.e+1])}break;case 520:{var ft={};K.level!=null&&(ue[K.r]=ft,ft.level=K.level),K.hidden&&(ue[K.r]=ft,ft.hidden=!0),K.hpt&&(ue[K.r]=ft,ft.hpt=K.hpt,ft.hpx=nm(K.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Op(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ie]]=K;break;case 161:i["!margins"]||Op(i["!margins"]={}),i["!margins"].header=K.header,i["!margins"].footer=K.footer;break;case 574:K.RTL&&(N.Views[0].RTL=!0);break;case 146:P=K;break;case 2198:H=K;break;case 140:M=K;break;case 442:u?I.CodeName=K||I.name:N.WBProps.CodeName=K||"ThisWorkbook";break}}else ge||console.error("Missing Info for XLS Record 0x"+Ie.toString(16)),e.l+=oe}return r.SheetNames=Ko(a).sort(function(Ot,wt){return Number(Ot)-Number(wt)}).map(function(Ot){return a[Ot].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&X.forEach(function(Ot,wt){r.Sheets[r.SheetNames[wt]]["!autofilter"]=Ot}),r.Strings=c,r.SSF=Pi(jt),L.enc&&(r.Encryption=L.enc),H&&(r.Themes=H),r.Metadata={},M!==void 0&&(r.Metadata.Country=M),ie.names.length>0&&(N.Names=ie.names),r.Workbook=N,r}var AM={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Bue(e,t,r){var n=sr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=lM(n,nie,AM.DSI);for(var a in i)t[a]=i[a]}catch(u){if(r.WTF)throw u}var s=sr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=lM(s,iie,AM.SI);for(var c in o)t[c]==null&&(t[c]=o[c])}catch(u){if(r.WTF)throw u}t.HeadingPairs&&t.TitlesOfParts&&(O9(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function gB(e,t){t||(t={}),xC(t),GU(),t.codepage&&X2(t.codepage);var r,n;if(e.FullPaths){if(sr.find(e,"/encryption"))throw new Error("File is password-protected");r=sr.find(e,"!CompObj"),n=sr.find(e,"/Workbook")||sr.find(e,"/Book")}else{switch(t.type){case"base64":e=Xs(us(e));break;case"binary":e=Xs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ii(e,0),n={content:e}}var i,a;if(r&&Fue(r),t.bookProps&&!t.bookSheets)i={};else{var s=er?"buffer":"array";if(n&&n.content)i=Uue(n.content,t);else if((a=sr.find(e,"PerfectOffice_MAIN"))&&a.content)i=Pp.to_workbook(a.content,(t.type=s,t));else if((a=sr.find(e,"NativeContent_MAIN"))&&a.content)i=Pp.to_workbook(a.content,(t.type=s,t));else throw(a=sr.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&sr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Aoe(e))}var o={};return e.FullPaths&&Bue(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var hx={0:{f:bce},1:{f:Ace},2:{f:Mce},3:{f:Ice},4:{f:Cce},5:{f:Oce},6:{f:Lce},7:{f:Pce},8:{f:zce},9:{f:Vce},10:{f:Uce},11:{f:Bce},12:{f:Sce},13:{f:Dce},14:{f:kce},15:{f:Nce},16:{f:fB},17:{f:jce},18:{f:Rce},19:{f:lC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:mue},40:{},42:{},43:{f:Use},44:{f:jse},45:{f:Bse},46:{f:zse},47:{f:Vse},48:{},49:{f:$ne},50:{},51:{f:coe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:G9},62:{f:Fce},63:{f:poe},64:{f:Xce},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Yi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Jce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Tce},148:{f:wce,p:16},151:{f:Gce},152:{},153:{f:hue},154:{},155:{},156:{f:due},157:{},158:{},159:{T:1,f:ise},160:{T:-1},161:{T:1,f:Lf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$ce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:loe},336:{T:-1},337:{f:uoe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:OA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:H9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qce},427:{f:Kce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Yce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Ece},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Hce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:OA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:woe},633:{T:1},634:{T:-1},635:{T:1,f:boe},636:{T:-1},637:{f:Gne},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nue},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Zce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},jA={6:{f:fE},10:{f:Nc},12:{f:Bn},13:{f:Bn},14:{f:Sn},15:{f:Sn},16:{f:$i},17:{f:Sn},18:{f:Sn},19:{f:Bn},20:{f:dM},21:{f:dM},23:{f:H9},24:{f:pM},25:{f:Sn},26:{},27:{},28:{f:xae},29:{},34:{f:Sn},35:{f:hM},38:{f:$i},39:{f:$i},40:{f:$i},41:{f:$i},42:{f:Sn},43:{f:Sn},47:{f:Ese},49:{f:eae},51:{f:Bn},60:{},61:{f:Xie},64:{f:Sn},65:{f:Qie},66:{f:Bn},77:{},80:{},81:{},82:{},85:{f:Bn},89:{},90:{},91:{},92:{f:$ie},93:{f:bae},94:{},95:{f:Sn},96:{},97:{},99:{f:Sn},125:{f:G9},128:{f:uae},129:{f:Hie},130:{f:Bn},131:{f:Sn},132:{f:Sn},133:{f:Gie},134:{},140:{f:Cae},141:{f:Bn},144:{},146:{f:Iae},151:{},152:{},153:{},154:{},155:{},156:{f:Bn},157:{},158:{},160:{f:Mae},161:{f:Pae},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:sae},190:{f:oae},193:{f:Nc},197:{},198:{},199:{},200:{},201:{},202:{f:Sn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Bn},220:{},221:{f:Sn},222:{},224:{f:cae},225:{f:zie},226:{f:Nc},227:{},229:{f:_ae},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:qie},253:{f:tae},255:{f:Kie},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:j9},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Sn},353:{f:Nc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:dae},431:{f:Sn},432:{},433:{},434:{},437:{},438:{f:Tae},439:{f:Sn},440:{f:Aae},441:{},442:{f:Fm},443:{},444:{f:Bn},445:{},446:{},448:{f:Nc},449:{f:Jie,r:2},450:{f:Nc},512:{f:uM},513:{f:Oae},515:{f:fae},516:{f:rae},517:{f:fM},519:{f:Dae},520:{f:Wie},523:{},545:{f:mM},549:{f:cM},566:{},574:{f:Zie},638:{f:aae},659:{},1048:{},1054:{f:nae},1084:{},1212:{f:gae},2048:{f:Sae},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Uv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Nc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:kae,r:12},2173:{f:soe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Sn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:mae,r:12},2197:{},2198:{f:eoe,r:12},2199:{},2200:{},2201:{},2202:{f:vae,r:12},2203:{f:Nc},2204:{},2205:{},2206:{},2207:{},2211:{f:Yie},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Bn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Rae},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Nae},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:uM},1:{},2:{f:Uae},3:{f:jae},4:{f:Lae},5:{f:fM},7:{f:Bae},8:{},9:{f:Uv},11:{},22:{f:Bn},30:{f:iae},31:{},32:{},33:{f:mM},36:{},37:{f:cM},50:{f:Vae},62:{},52:{},67:{},68:{f:Bn},69:{},86:{},126:{},127:{f:Fae},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:zae},223:{},234:{},354:{},421:{},518:{f:fE},521:{f:Uv},536:{f:pM},547:{f:hM},561:{},579:{},1030:{f:fE},1033:{f:Uv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Js(e,t,r,n){var i=t;if(!isNaN(i)){var a=(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&A9(r)&&e.push(r)}}function SM(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,c=fne(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,h=0,m=0,y={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(s=0;s<c.length;++s){var b=c[s].trim(),E=b.slice(0,3).toLowerCase();if(E=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(E!="<td"&&E!="<th")){var S=b.split(/<\/t[dh]>/i);for(o=0;o<S.length;++o){var F=S[o].trim();if(F.match(/<t[dh]/i)){for(var k=F,M=0;k.charAt(0)=="<"&&(M=k.indexOf(">"))>-1;)k=k.slice(M+1);for(var D=0;D<x.length;++D){var P=x[D];P.s.c==d&&P.s.r<u&&u<=P.e.r&&(d=P.e.c+1,D=-1)}var N=At(F.slice(0,F.indexOf(">")));m=N.colspan?+N.colspan:1,((h=+N.rowspan)>1||m>1)&&x.push({s:{r:u,c:d},e:{r:u+(h||1)-1,c:d+m-1}});var I=N.t||N["data-t"]||"";if(!k.length){d+=m;continue}if(k=d9(k),y.s.r>u&&(y.s.r=u),y.e.r<u&&(y.e.r=u),y.s.c>d&&(y.s.c=d),y.e.c<d&&(y.e.c=d),!k.length){d+=m;continue}var R={t:"s",v:k};r.raw||!k.trim().length||I=="s"||(k==="TRUE"?R={t:"b",v:!0}:k==="FALSE"?R={t:"b",v:!1}:isNaN(ao(k))?isNaN(dh(k).getDate())||(R={t:"d",v:pi(k)},r.cellDates||(R={t:"n",v:ha(R.v)}),R.z=r.dateNF||jt[14]):R={t:"n",v:ao(k)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=R):n[Pt({r:u,c:d})]=R,d+=m}}}}return n["!ref"]=or(y),x.length&&(n["!merges"]=x),n}function Vue(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>s)&&!(i[u].e.r<r||i[u].e.c<s)){if(i[u].s.r<r||i[u].s.c<s){o=-1;break}o=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Pt({r,c:s}),h=n.dense?(e[r]||[])[s]:e[d],m=h&&h.v!=null&&(h.h||nC(h.w||(Ml(h),h.w)||""))||"",y={};o>1&&(y.rowspan=o),c>1&&(y.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(y["data-t"]=h&&h.t||"z",h.v!=null&&(y["data-v"]=h.v),h.z!=null&&(y["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),y.id=(n.id||"sjs")+"-"+d,a.push(Cne("td",m,y))}}var x="<tr>";return x+a.join("")+"</tr>"}var zue='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',$ue="</body></html>";function Hue(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return du(SM(r[0],t),t);var n=bC();return r.forEach(function(i,a){wC(n,SM(i,t),"Sheet"+(a+1))}),n}function Gue(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function que(e,t){var r=t||{},n=r.header!=null?r.header:zue,i=r.footer!=null?r.footer:$ue,a=[n],s=Oh(e["!ref"]);r.dense=Array.isArray(e),a.push(Gue(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(Vue(e,s,o,r));return a.push("</table>"+i),a.join("")}function vB(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?ua(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var d=Oh(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var h=[],m=0,y=e["!rows"]||(e["!rows"]=[]),x=0,b=0,E=0,S=0,F=0,k=0;for(e["!cols"]||(e["!cols"]=[]);x<o.length&&b<c;++x){var M=o[x];if(CM(M)){if(n.display)continue;y[b]={hidden:!0}}var D=M.children;for(E=S=0;E<D.length;++E){var P=D[E];if(!(n.display&&CM(P))){var N=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):d9(P.innerHTML),I=P.getAttribute("data-z")||P.getAttribute("z");for(m=0;m<h.length;++m){var R=h[m];R.s.c==S+a&&R.s.r<b+i&&b+i<=R.e.r&&(S=R.e.c+1-a,m=-1)}k=+P.getAttribute("colspan")||1,((F=+P.getAttribute("rowspan")||1)>1||k>1)&&h.push({s:{r:b+i,c:S+a},e:{r:b+i+(F||1)-1,c:S+a+(k||1)-1}});var U={t:"s",v:N},B=P.getAttribute("data-t")||P.getAttribute("t")||"";N!=null&&(N.length==0?U.t=B||"z":n.raw||N.trim().length==0||B=="s"||(N==="TRUE"?U={t:"b",v:!0}:N==="FALSE"?U={t:"b",v:!1}:isNaN(ao(N))?isNaN(dh(N).getDate())||(U={t:"d",v:pi(N)},n.cellDates||(U={t:"n",v:ha(U.v)}),U.z=n.dateNF||jt[14]):U={t:"n",v:ao(N)})),U.z===void 0&&I!=null&&(U.z=I);var L="",H=P.getElementsByTagName("A");if(H&&H.length)for(var fe=0;fe<H.length&&!(H[fe].hasAttribute("href")&&(L=H[fe].getAttribute("href"),L.charAt(0)!="#"));++fe);L&&L.charAt(0)!="#"&&(U.l={Target:L}),n.dense?(e[b+i]||(e[b+i]=[]),e[b+i][S+a]=U):e[Pt({c:S+a,r:b+i})]=U,u.e.c<S+a&&(u.e.c=S+a),S+=k}}++b}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,b-1+i),e["!ref"]=or(u),b>=c&&(e["!fullref"]=or((u.e.r=o.length-x+b-1+i,u))),e}function yB(e,t){var r=t||{},n=r.dense?[]:{};return vB(n,e,t)}function Kue(e,t){return du(yB(e,t),t)}function CM(e){var t="",r=Wue(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Wue(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Yue(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=lr(t.replace(/<[^>]*>/g,""));return[r]}var NM={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function xB(e,t){var r=t||{},n=iC(e),i=[],a,s,o={name:""},c="",u=0,d,h,m={},y=[],x=r.dense?[]:{},b,E,S={value:""},F="",k=0,M=[],D=-1,P=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,R={},U=[],B={},L=0,H=0,fe=[],me=1,ne=1,ue=[],ce={Names:[]},ie={},xe=["",""],J=[],V={},ee="",X=0,q=!1,he=!1,ye=0;for(em.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=em.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?x["!ref"]=or(N):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=N.e.r&&(x["!fullref"]=x["!ref"],N.e.r=r.sheetRows-1,x["!ref"]=or(N)),U.length&&(x["!merges"]=U),fe.length&&(x["!rows"]=fe),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),y.push(d.name),m[d.name]=x,he=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=At(b[0],!1),D=P=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,x=r.dense?[]:{},U=[],fe=[],he=!0);break;case"table-row-group":b[1]==="/"?--I:++I;break;case"table-row":case"":if(b[1]==="/"){D+=me,me=1;break}if(h=At(b[0],!1),h.?D=h.-1:D==-1&&(D=0),me=+h["number-rows-repeated"]||1,me<10)for(ye=0;ye<me;++ye)I>0&&(fe[D+ye]={level:I});P=-1;break;case"covered-table-cell":b[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(x[D]||(x[D]=[]),x[D][P]={t:"z"}):x[Pt({r:D,c:P})]={t:"z"}),F="",M=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++P,S=At(b[0],!1),ne=parseInt(S["number-columns-repeated"]||"1",10),E={t:"z",v:null},S.formula&&r.cellFormula!=!1&&(E.f=wM(lr(S.formula))),(S.||S["value-type"])=="string"&&(E.t="s",E.v=lr(S["string-value"]||""),r.dense?(x[D]||(x[D]=[]),x[D][P]=E):x[Pt({r:D,c:P})]=E),P+=ne-1;else if(b[1]!=="/"){++P,F="",k=0,M=[],ne=1;var Ie=me?D+me-1:D;if(P>N.e.c&&(N.e.c=P),P<N.s.c&&(N.s.c=P),D<N.s.r&&(N.s.r=D),Ie>N.e.r&&(N.e.r=Ie),S=At(b[0],!1),J=[],V={},E={t:S.||S["value-type"],v:null},r.cellFormula)if(S.formula&&(S.formula=lr(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(L=parseInt(S["number-matrix-rows-spanned"],10)||0,H=parseInt(S["number-matrix-columns-spanned"],10)||0,B={s:{r:D,c:P},e:{r:D+L-1,c:P+H-1}},E.F=or(B),ue.push([B,E.F])),S.formula)E.f=wM(S.formula);else for(ye=0;ye<ue.length;++ye)D>=ue[ye][0].s.r&&D<=ue[ye][0].e.r&&P>=ue[ye][0].s.c&&P<=ue[ye][0].e.c&&(E.F=ue[ye][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(L=parseInt(S["number-rows-spanned"],10)||0,H=parseInt(S["number-columns-spanned"],10)||0,B={s:{r:D,c:P},e:{r:D+L-1,c:P+H-1}},U.push(B)),S["number-columns-repeated"]&&(ne=parseInt(S["number-columns-repeated"],10)),E.t){case"boolean":E.t="b",E.v=tn(S["boolean-value"]);break;case"float":E.t="n",E.v=parseFloat(S.value);break;case"percentage":E.t="n",E.v=parseFloat(S.value);break;case"currency":E.t="n",E.v=parseFloat(S.value);break;case"date":E.t="d",E.v=pi(S["date-value"]),r.cellDates||(E.t="n",E.v=ha(E.v)),E.z="m/d/yy";break;case"time":E.t="n",E.v=lne(S["time-value"])/86400,r.cellDates&&(E.t="d",E.v=L1(E.v)),E.z="HH:MM:SS";break;case"number":E.t="n",E.v=parseFloat(S.);break;default:if(E.t==="string"||E.t==="text"||!E.t)E.t="s",S["string-value"]!=null&&(F=lr(S["string-value"]),M=[]);else throw new Error("Unsupported value type "+E.t)}}else{if(q=!1,E.t==="s"&&(E.v=F||"",M.length&&(E.R=M),q=k==0),ie.Target&&(E.l=ie),J.length>0&&(E.c=J,J=[]),F&&r.cellText!==!1&&(E.w=F),q&&(E.t="z",delete E.v),(!q||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=D))for(var oe=0;oe<me;++oe){if(ne=parseInt(S["number-columns-repeated"]||"1",10),r.dense)for(x[D+oe]||(x[D+oe]=[]),x[D+oe][P]=oe==0?E:Pi(E);--ne>0;)x[D+oe][P+ne]=Pi(E);else for(x[Pt({r:D+oe,c:P})]=E;--ne>0;)x[Pt({r:D+oe,c:P+ne})]=Pi(E);N.e.c<=P&&(N.e.c=P)}ne=parseInt(S["number-columns-repeated"]||"1",10),P+=ne-1,ne=0,E={},F="",M=[]}ie={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a;V.t=F,M.length&&(V.R=M),V.a=ee,J.push(V)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);ee="",X=0,F="",k=0,M=[];break;case"creator":b[1]==="/"?ee=n.slice(X,b.index):X=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);F="",k=0,M=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(R[o.name]=c,(a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(c="",o=At(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=At(b[0],!1),c+=NM[b[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=At(b[0],!1),c+=NM[b[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(u,b.index);break}else u=b.index+b[0].length;break;case"named-range":s=At(b[0],!1),xe=dE(s["cell-range-address"]);var ge={Name:s.name,Ref:xe[0]+"!"+xe[1]};he&&(ge.Sheet=y.length),ce.Names.push(ge);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!S||!S["string-value"])){var De=Yue(n.slice(k,b.index));F=(F.length>0?F+`
`:"")+De[0]}else At(b[0],!1),k=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{xe=dE(At(b[0])["target-range-address"]),m[xe[0]]["!autofilter"]={ref:xe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(ie=At(b[0],!1),!ie.href)break;ie.Target=lr(ie.href),delete ie.href,ie.Target.charAt(0)=="#"&&ie.Target.indexOf(".")>-1?(xe=dE(ie.Target.slice(1)),ie.Target="#"+xe[0]+"!"+xe[1]):ie.Target.match(/^\.\.[\\\/]/)&&(ie.Target=ie.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var K={Sheets:m,SheetNames:y,Workbook:ce};return r.bookSheets&&delete K.Sheets,K}function IM(e,t){t=t||{},Is(e,"META-INF/manifest.xml")&&fie(Un(e,"META-INF/manifest.xml"),t);var r=ns(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=xB($r(r),t);return Is(e,"meta.xml")&&(n.Props=R9(Un(e,"meta.xml"))),n}function kM(e,t){return xB(e,t)}function vC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function UA(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):$r(Df(e))}function BA(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function PM(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function Jue(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function im(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Xn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Hi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=im(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=im(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function yC(e,t){return e?.map(function(r){return t(r.data)})||[]}function Xue(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=im(e,n),a=Hi(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:Xn(a[1][0].data),messages:[]};a[2].forEach(function(o){var c=Hi(o.data),u=Xn(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(s.merge=Xn(a[3][0].data)>>>0>0),r.push(s)}return r}function Zue(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=im(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[BA(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var d=BA(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Que(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Zue(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return BA(t)}function efe(e,t,r,n){var i=vC(e),a=i.getUint32(4,!0),s=(n>1?12:8)+PM(a&(n>1?3470:398))*4,o=-1,c=-1,u=NaN,d=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=PM(a&(n>1?12288:4096))*4,a&16&&(c=i.getUint32(s,!0),s+=4),a&32&&(u=i.getFloat64(s,!0),s+=8),a&64&&(d.setTime(d.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:t[c]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(c>-1)h={t:"s",v:t[c]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function tfe(e,t,r){var n=vC(e),i=n.getUint32(8,!0),a=12,s=-1,o=-1,c=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(c=Jue(e,a),a+=16),i&2&&(u=n.getFloat64(a,!0),a+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[o]};break;case 5:h={t:"d",v:d};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(s>-1)h={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return h}function rfe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return efe(e,t,r,e[0]);case 5:return tfe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function $c(e){var t=Hi(e);return im(t[1][0].data)}function RM(e,t){var r=Hi(t.data),n=Xn(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=Hi(s.data),c=Xn(o[1][0].data)>>>0;switch(n){case 1:a[c]=UA(o[3][0].data);break;case 8:{var u=e[$c(o[9][0].data)][0],d=Hi(u.data),h=e[$c(d[1][0].data)][0],m=Xn(h.meta[1][0].data);if(m!=2001)throw new Error("2000 unexpected reference to ".concat(m));var y=Hi(h.data);a[c]=y[3].map(function(x){return UA(x.data)}).join("")}break}}),a}function nfe(e,t){var r,n,i,a,s,o,c,u,d,h,m,y,x,b,E=Hi(e),S=Xn(E[1][0].data)>>>0,F=Xn(E[2][0].data)>>>0,k=((n=(r=E[8])==null?void 0:r[0])==null?void 0:n.data)&&Xn(E[8][0].data)>0||!1,M,D;if((a=(i=E[7])==null?void 0:i[0])!=null&&a.data&&t!=0)M=(o=(s=E[7])==null?void 0:s[0])==null?void 0:o.data,D=(u=(c=E[6])==null?void 0:c[0])==null?void 0:u.data;else if((h=(d=E[4])==null?void 0:d[0])!=null&&h.data&&t!=1)M=(y=(m=E[4])==null?void 0:m[0])==null?void 0:y.data,D=(b=(x=E[3])==null?void 0:x[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=k?4:1,N=vC(M),I=[],R=0;R<M.length/2;++R){var U=N.getUint16(R*2,!0);U<65535&&I.push([R,U])}if(I.length!=F)throw"Expected ".concat(F," cells, found ").concat(I.length);var B=[];for(R=0;R<I.length-1;++R)B[I[R][0]]=D.subarray(I[R][1]*P,I[R+1][1]*P);return I.length>=1&&(B[I[I.length-1][0]]=D.subarray(I[I.length-1][1]*P)),{R:S,cells:B}}function ife(e,t){var r,n=Hi(t.data),i=(r=n?.[7])!=null&&r[0]?Xn(n[7][0].data)>>>0>0?1:0:-1,a=yC(n[5],function(s){return nfe(s,i)});return{nrows:Xn(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(c,u){if(s[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));s[o.R][u]=c}),s},[])}}function afe(e,t,r){var n,i=Hi(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Xn(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Xn(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=or(a);var s=Hi(i[4][0].data),o=RM(e,e[$c(s[4][0].data)][0]),c=(n=s[17])!=null&&n[0]?RM(e,e[$c(s[17][0].data)][0]):[],u=Hi(s[3][0].data),d=0;u[1].forEach(function(h){var m=Hi(h.data),y=e[$c(m[2][0].data)][0],x=Xn(y.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var b=ife(e,y);b.data.forEach(function(E,S){E.forEach(function(F,k){var M=Pt({r:d+S,c:k}),D=rfe(F,o,c);D&&(r[M]=D)})}),d+=b.nrows})}function sfe(e,t){var r=Hi(t.data),n={"!ref":"A1"},i=e[$c(r[2][0].data)],a=Xn(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return afe(e,i[0],n),n}function ofe(e,t){var r,n=Hi(t.data),i={name:(r=n[1])!=null&&r[0]?UA(n[1][0].data):"",sheets:[]},a=yC(n[2],$c);return a.forEach(function(s){e[s].forEach(function(o){var c=Xn(o.meta[1][0].data);c==6e3&&i.sheets.push(sfe(e,o))})}),i}function lfe(e,t){var r=bC(),n=Hi(t.data),i=yC(n[1],$c);if(i.forEach(function(a){e[a].forEach(function(s){var o=Xn(s.meta[1][0].data);if(o==2){var c=ofe(e,s);c.sheets.forEach(function(u,d){wC(r,u,d==0?c.name:c.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function pE(e){var t,r,n,i,a={},s=[];if(e.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Que(c.content)}catch(h){return console.log("?? "+c.content.length+" "+(h.message||h))}var d;try{d=Xue(u)}catch(h){return console.log("## "+(h.message||h))}d.forEach(function(h){a[h.id]=h.messages,s.push(h.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(t=a?.[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Xn(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(c){a[c].forEach(function(u){var d=Xn(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return lfe(a,o)}function cfe(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function xC(e){cfe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function ufe(e){return $d.WS.indexOf(e)>-1?"sheet":e==$d.CS?"chart":e==$d.DS?"dialog":e==$d.MS?"macro":e&&e.length?e:"sheet"}function ffe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,ufe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function dfe(e,t,r,n,i,a,s,o,c,u,d,h){try{a[n]=Ip(ns(e,r,!0),t);var m=Un(e,t),y;switch(o){case"sheet":y=yue(m,t,i,c,a[n],u,d,h);break;case"chart":if(y=xue(m,t,i,c,a[n],u,d,h),!y||!y["!drawel"])break;var x=dp(y["!drawel"].Target,t),b=MA(x),E=voe(ns(e,x,!0),Ip(ns(e,b,!0),x)),S=dp(E,x),F=MA(S);y=tue(ns(e,S,!0),S,c,Ip(ns(e,F,!0),S),u,y);break;case"macro":y=_ue(m,t,i,c,a[n],u,d,h);break;case"dialog":y=bue(m,t,i,c,a[n],u,d,h);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=y;var k=[];a&&a[n]&&Ko(a[n]).forEach(function(M){var D="";if(a[n][M].Type==$d.CMNT){D=dp(a[n][M].Target,t);var P=Aue(Un(e,D,!0),D,c);if(!P||!P.length)return;vM(y,P,!1)}a[n][M].Type==$d.TCMNT&&(D=dp(a[n][M].Target,t),k=k.concat(xoe(Un(e,D,!0),c)))}),k&&k.length&&vM(y,k,!0,c.people||[])}catch(M){if(c.WTF)throw M}}function Es(e){return e.charAt(0)=="/"?e.slice(1):e}function hfe(e,t){if(n9(),t=t||{},xC(t),Is(e,"META-INF/manifest.xml")||Is(e,"objectdata.xml"))return IM(e,t);if(Is(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof pE<"u"){if(e.FileIndex)return pE(e);var r=sr.utils.cfb_new();return H4(e).forEach(function(fe){pne(r,fe,hne(e,fe))}),pE(r)}throw new Error("Unsupported NUMBERS file")}if(!Is(e,"[Content_Types].xml"))throw Is(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Is(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=H4(e),i=cie(ns(e,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Un(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Un(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var c={},u={};if(!t.bookSheets&&!t.bookProps){if(Rp=[],i.sst)try{Rp=Tue(Un(e,Es(i.sst)),i.sst,t)}catch(fe){if(t.WTF)throw fe}t.cellStyles&&i.themes.length&&(c=Eue(ns(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(u=wue(Un(e,Es(i.style)),i.style,c,t))}i.links.map(function(fe){try{var me=Ip(ns(e,MA(Es(fe))),fe);return Cue(Un(e,Es(fe)),me,fe,t)}catch{}});var d=vue(Un(e,Es(i.workbooks[0])),i.workbooks[0],t),h={},m="";i.coreprops.length&&(m=Un(e,Es(i.coreprops[0]),!0),m&&(h=R9(m)),i.extprops.length!==0&&(m=Un(e,Es(i.extprops[0]),!0),m&&pie(m,h,t)));var y={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(m=ns(e,Es(i.custprops[0]),!0),m&&(y=gie(m,t)));var x={};if((t.bookSheets||t.bookProps)&&(d.Sheets?s=d.Sheets.map(function(me){return me.name}):h.Worksheets&&h.SheetNames.length>0&&(s=h.SheetNames),t.bookProps&&(x.Props=h,x.Custprops=y),t.bookSheets&&typeof s<"u"&&(x.SheetNames=s),t.bookSheets?x.SheetNames:t.bookProps))return x;s={};var b={};t.bookDeps&&i.calcchain&&(b=Sue(Un(e,Es(i.calcchain)),i.calcchain));var E=0,S={},F,k;{var M=d.Sheets;h.Worksheets=M.length,h.SheetNames=[];for(var D=0;D!=M.length;++D)h.SheetNames[D]=M[D].name}var P=a?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");Is(e,I)||(I="xl/_rels/workbook."+P+".rels");var R=Ip(ns(e,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=Nue(Un(e,Es(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=_oe(Un(e,Es(i.people[0])),t)),R&&(R=ffe(R,d.Sheets));var U=Un(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(E=0;E!=h.Worksheets;++E){var B="sheet";if(R&&R[E]?(F="xl/"+R[E][1].replace(/[\/]?xl\//,""),Is(e,F)||(F=R[E][1]),Is(e,F)||(F=I.replace(/_rels\/.*$/,"")+R[E][1]),B=R[E][2]):(F="xl/worksheets/sheet"+(E+1-U)+"."+P,F=F.replace(/sheet0\./,"sheet.")),k=F.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(E!=t.sheets)continue e;break;case"string":if(h.SheetNames[E].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var L=!1,H=0;H!=t.sheets.length;++H)typeof t.sheets[H]=="number"&&t.sheets[H]==E&&(L=1),typeof t.sheets[H]=="string"&&t.sheets[H].toLowerCase()==h.SheetNames[E].toLowerCase()&&(L=1);if(!L)continue e}}dfe(e,F,k,h.SheetNames[E],E,S,s,B,t,d,c,u)}return x={Directory:i,Workbook:d,Props:h,Custprops:y,Deps:b,Sheets:s,SheetNames:h.SheetNames,Strings:Rp,Styles:u,Themes:c,SSF:Pi(jt)},t&&t.bookFiles&&(e.files?(x.keys=n,x.files=e.files):(x.keys=[],x.files={},e.FullPaths.forEach(function(fe,me){fe=fe.replace(/^Root Entry[\/]/,""),x.keys.push(fe),x.files[fe]=e.FileIndex[me]}))),t&&t.bookVBA&&(i.vba.length>0?x.vbaraw=Un(e,Es(i.vba[0]),!0):i.defaults&&i.defaults.bin===Toe&&(x.vbaraw=Un(e,"xl/vbaProject.bin",!0))),x}function pfe(e,t){var r=t||{},n="Workbook",i=sr.find(e,n);try{if(n="/!DataSpaces/Version",i=sr.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(sse(i.content),n="/!DataSpaces/DataSpaceMap",i=sr.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=lse(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=sr.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=cse(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=sr.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);fse(i.content)}catch{}if(n="/EncryptionInfo",i=sr.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=dse(i.content);if(n="/EncryptedPackage",i=sr.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function _C(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=us(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function mfe(e,t){return sr.find(e,"EncryptedPackage")?pfe(e,t):gB(e,t)}function gfe(e,t){var r,n=e,i=t||{};return i.type||(i.type=er&&Buffer.isBuffer(e)?"buffer":"base64"),r=c9(n,i),hfe(r,i)}function _B(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return LA(e.slice(r),t);default:break e}return tm.to_workbook(e,t)}function vfe(e,t){var r="",n=_C(e,t);switch(t.type){case"base64":r=us(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=vf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=$r(r)),t.type="binary",_B(r,t)}function yfe(e,t){var r=e;return t.type=="base64"&&(r=us(r)),r=Xp.utils.decode(1200,r.slice(2),"str"),t.type="binary",_B(r,t)}function xfe(e){return e.match(/[^\x00-\x7F]/)?hp(e):e}function mE(e,t,r,n){return n?(r.type="string",tm.to_workbook(e,r)):tm.to_workbook(t,r)}function px(e,t){GU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return px(new Uint8Array(e),(r=Pi(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),eh={},r.dateNF&&(eh.dateNF=r.dateNF),r.type||(r.type=er&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=er?"buffer":"binary",n=sne(e),typeof Uint8Array<"u"&&!er&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=xfe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Pi(r),r.type="array",px(Z2(n),r)}switch((i=_C(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return mfe(sr.read(n,r),r);break;case 9:if(i[1]<=8)return gB(n,r);break;case 60:return LA(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Kae(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Gae.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?gfe(n,r):mE(e,n,r,a);case 239:return i[3]===60?LA(n,r):mE(e,n,r,a);case 255:if(i[1]===254)return yfe(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Pp.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Pp.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return gM.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Tse.to_workbook(n,r);break;case 10:case 13:case 32:return vfe(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return $ae.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?gM.to_workbook(n,r):mE(e,n,r,a)}function _fe(e,t,r,n,i,a,s,o){var c=Ri(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||e[r])for(var y=t.s.c;y<=t.e.c;++y){var x=s?e[r][y]:e[n[y]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;a[y]!=null&&(m[a[y]]=u);continue}var b=x.v;switch(x.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(a[y]!=null){if(b==null)if(x.t=="e"&&b===null)m[a[y]]=null;else if(u!==void 0)m[a[y]]=u;else if(d&&b===null)m[a[y]]=null;else continue;else m[a[y]]=d&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?b:Ml(x,b,o);b!=null&&(h=!1)}}return{row:m,isempty:h}}function VA(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=yn(d);break;case"number":c=yn(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(i=0);var h=Ri(c.s.r),m=[],y=[],x=0,b=0,E=Array.isArray(e),S=c.s.r,F=0,k={};E&&!e[S]&&(e[S]=[]);var M=u.skipHidden&&e["!cols"]||[],D=u.skipHidden&&e["!rows"]||[];for(F=c.s.c;F<=c.e.c;++F)if(!(M[F]||{}).hidden)switch(m[F]=Jn(F),r=E?e[S][F]:e[m[F]+h],n){case 1:a[F]=F-c.s.c;break;case 2:a[F]=m[F];break;case 3:a[F]=u.header[F-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Ml(r,null,u),b=k[s]||0,!b)k[s]=1;else{do o=s+"_"+b++;while(k[o]);k[s]=b,k[o]=1}a[F]=o}for(S=c.s.r+i;S<=c.e.r;++S)if(!(D[S]||{}).hidden){var P=_fe(e,c,S,m,n,a,E,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(y[x++]=P.row)}return y.length=x,y}var OM=/"/g;function bfe(e,t,r,n,i,a,s,o){for(var c=!0,u=[],d="",h=Ri(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var y=o.dense?(e[r]||[])[m]:e[n[m]+h];if(y==null)d="";else if(y.v!=null){c=!1,d=""+(o.rawNumbers&&y.t=="n"?y.v:Ml(y,null,o));for(var x=0,b=0;x!==d.length;++x)if((b=d.charCodeAt(x))===i||b===a||b===34||o.forceQuotes){d='"'+d.replace(OM,'""')+'"';break}d=="ID"&&(d='"ID"')}else y.f!=null&&!y.F?(c=!1,d="="+y.f,d.indexOf(",")>=0&&(d='"'+d.replace(OM,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&c?null:u.join(s)}function bB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=yn(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),d="",h=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(m[x]||{}).hidden||(h[x]=Jn(x));for(var b=0,E=i.s.r;E<=i.e.r;++E)(y[E]||{}).hidden||(d=bfe(e,i,E,h,s,c,a,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((b++?o:"")+d)));return delete n.dense,r.join("")}function wfe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=bB(e,t);return r}function Efe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=yn(e["!ref"]),a="",s=[],o,c=[],u=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=Jn(o);for(var d=i.s.r;d<=i.e.r;++d)for(a=Ri(d),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=u?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function wB(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?ua(n.origin):n.origin;s=c.r,o=c.c}var u,d={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var h=yn(a["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),s==-1&&(s=h.e.r+1,d.e.r=s+t.length-1+i)}else s==-1&&(s=0,d.e.r=t.length-1+i);var m=n.header||[],y=0;t.forEach(function(b,E){Ko(b).forEach(function(S){(y=m.indexOf(S))==-1&&(m[y=m.length]=S);var F=b[S],k="z",M="",D=Pt({c:o+y,r:s+E+i});u=am(a,D),F&&typeof F=="object"&&!(F instanceof Date)?a[D]=F:(typeof F=="number"?k="n":typeof F=="boolean"?k="b":typeof F=="string"?k="s":F instanceof Date?(k="d",n.cellDates||(k="n",F=ha(F)),M=n.dateNF||jt[14]):F===null&&n.nullError&&(k="e",F=0),u?(u.t=k,u.v=F,delete u.w,delete u.R,M&&(u.z=M)):a[D]=u={t:k,v:F},M&&(u.z=M))})}),d.e.c=Math.max(d.e.c,o+m.length-1);var x=Ri(s);if(i)for(y=0;y<m.length;++y)a[Jn(y+o)+x]={t:"s",v:m[y]};return a["!ref"]=or(d),a}function Tfe(e,t){return wB(null,e,t)}function am(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ua(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?am(e,Pt(t)):am(e,Pt({r:t,c:r||0}))}function Afe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function bC(){return{SheetNames:[],Sheets:{}}}function wC(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(cue(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Sfe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Afe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Cfe(e,t){return e.z=t,e}function EB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Nfe(e,t,r){return EB(e,"#"+t,r)}function Ife(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function kfe(e,t,r,n){for(var i=typeof t!="string"?t:yn(t),a=typeof t=="string"?t:or(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var c=am(e,s,o);c.t="n",c.F=a,delete c.v,s==i.s.r&&o==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var pp={encode_col:Jn,encode_row:Ri,encode_cell:Pt,encode_range:or,decode_col:oC,decode_row:sC,split_cell:zne,decode_cell:ua,decode_range:Oh,format_cell:Ml,sheet_add_aoa:C9,sheet_add_json:wB,sheet_add_dom:vB,aoa_to_sheet:Mh,json_to_sheet:Tfe,table_to_sheet:yB,table_to_book:Kue,sheet_to_csv:bB,sheet_to_txt:wfe,sheet_to_json:VA,sheet_to_html:que,sheet_to_formulae:Efe,sheet_to_row_object_array:VA,sheet_get_cell:am,book_new:bC,book_append_sheet:wC,book_set_sheet_visibility:Sfe,cell_set_number_format:Cfe,cell_set_hyperlink:EB,cell_set_internal_link:Nfe,cell_add_comment:Ife,sheet_set_array_formula:kfe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const TB=e=>String(e).toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Pfe=e=>{if(e==null)return 0;if(typeof e=="number")return e;const t=String(e).trim();if(!t)return 0;const r=t.replace(/[R$\s.]/g,"").replace(",","."),n=parseFloat(r);return isNaN(n)?0:n},MM=e=>{if(!e)return 0;if(typeof e=="number")return e;const t=String(e).replace(/[%]/g,"").replace(",",".");return parseFloat(t)||0},Rfe=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=px(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o];if(!c["!ref"]){t([]);return}const u=pp.decode_range(c["!ref"]),d=[],h=[],m=u.s.r;for(let y=u.s.c;y<=u.e.c;++y){const x=pp.encode_cell({c:y,r:m}),b=c[x];if(b&&b.v){const E=String(b.v);h.push({index:y,name:E,normalized:TB(E)})}}for(let y=m+1;y<=u.e.r;++y){const x={};let b;if(h.forEach(L=>{const H=pp.encode_cell({c:L.index,r:y}),fe=c[H];fe&&(x[L.normalized]=fe.v,!b&&(L.normalized.includes("endereco")||L.normalized.includes("logradouro")||L.normalized.includes("localizacao")||L.normalized.includes("comercial")||L.normalized==="rua"||L.normalized==="mapa"||L.normalized==="link")&&fe.l&&fe.l.Target&&(b=fe.l.Target))}),Object.keys(x).length===0)continue;const E=x.endereco||x["endereco comercial"]||x.logradouro||x.localizacao||x["endereco completo"]||x.rua||x.end||"";let{address:S,link:F,lat:k,lng:M}=rx(E),D=b||F;const P=x.link||x.mapa||x["google maps"]||x.url||x.maps||x.coordenadas||x.geolocalizacao;let N;h.forEach(L=>{if(["link","mapa","google maps","url","maps","coordenadas","geolocalizacao"].includes(L.normalized)){const H=pp.encode_cell({c:L.index,r:y}),fe=c[H];fe&&fe.l&&fe.l.Target&&(N=fe.l.Target)}});const I=N||P;if(I){const L=rx(I);L.link&&(D=L.link),L.lat&&(k=L.lat),L.lng&&(M=L.lng)}const R=x["razao social"]||x.cliente||x["nome fantasia"]||x.empresa||x.nome||x["nome cliente"]||x.parceiro||x.loja||"",U=x["nome do proprietario"]||x.proprietario||x.dono||x["contato principal"]||x.responsavel||x.socio||"",B=String(x.contato||x.telefone||x.celular||x.whatsapp||x.tel||x.fone||"");(R||S||E)&&d.push({companyName:R,ownerName:U,phone:B,address:S,googleMapsLink:D,latitude:k,longitude:M})}t(d)}catch(a){console.error("Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)}),AB=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=i=>{try{const a=i.target?.result,s=px(a,{type:"binary"}),o=s.SheetNames[0],c=s.Sheets[o],u=[];pp.sheet_to_json(c,{defval:""}).forEach(h=>{const m={};Object.keys(h).forEach(D=>{m[TB(D)]=h[D]});const y=m.departamento||m.categoria||"Geral",x=String(m["cod.prod / sku"]||m["cod.prod"]||m.sku||m["numero do sku"]||""),b=m["nome do produto"]||m.descricao||m.nome||m.produto||"",E=m.marca||m.fabricante||"Genrico",S=Pfe(m["preco de venda"]||m.preco||0),F=String(m["cod.fabrica"]||m["cod fabrica"]||m["codigo fabrica"]||""),k=MM(m.margem||0),M=MM(m.desconto||m.discount||0);(x||b)&&u.push({category:y,sku:x,brand:E,factoryCode:F,name:b,price:S,margin:k,discount:M})}),t(u)}catch(a){console.error("Product Excel Parsing Error:",a),r(a)}},n.onerror=i=>r(i),n.readAsBinaryString(e)});var Ofe={};let Mfe,Dfe;function Ffe(){return{geminiUrl:Mfe,vertexUrl:Dfe}}function Lfe(e,t,r,n){var i,a;if(!e?.baseUrl){const s=Ffe();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:r:(a=s.geminiUrl)!==null&&a!==void 0?a:n}return e.baseUrl}class Kl{}function rt(e,t){const r=/\{([^}]+)\}/g;return e.replace(r,(n,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(e,t,r){for(let a=0;a<t.length-1;a++){const s=t[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in e))if(Array.isArray(r))e[o]=Array.from({length:r.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[o])){const c=e[o];if(Array.isArray(r))for(let u=0;u<c.length;u++){const d=c[u];w(d,t.slice(a+1),r[u])}else for(const u of c)w(u,t.slice(a+1),r)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in e||(e[o]=[{}]);const c=e[o];w(c[0],t.slice(a+1),r);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const n=t[t.length-1],i=e[n];if(i!==void 0){if(!r||typeof r=="object"&&Object.keys(r).length===0||r===i)return;if(typeof i=="object"&&typeof r=="object"&&i!==null&&r!==null)Object.assign(i,r);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else n==="_self"&&typeof r=="object"&&r!==null&&!Array.isArray(r)?Object.assign(e,r):e[n]=r}function _(e,t,r=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return r;const i=t[n];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const s=e[a];return Array.isArray(s)?s.map(o=>_(o,t.slice(n+1),r)):r}else return r}else e=e[i]}return e}catch(n){if(n instanceof TypeError)return r;throw n}}function jfe(e,t){for(const[r,n]of Object.entries(t)){const i=r.split("."),a=n.split("."),s=new Set;let o=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){o=c;break}if(o!==-1&&a.length>o)for(let c=o;c<a.length;c++){const u=a[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}zA(e,i,a,0,s)}}function zA(e,t,r,n,i){if(n>=t.length||typeof e!="object"||e===null)return;const a=t[n];if(a.endsWith("[]")){const s=a.slice(0,-2),o=e;if(s in o&&Array.isArray(o[s]))for(const c of o[s])zA(c,t,r,n+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,o=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of o)c[u]=s[u];for(const[u,d]of Object.entries(c)){const h=[];for(const m of r.slice(n))m==="*"?h.push(u):h.push(m);w(s,h,d)}for(const u of o)delete s[u]}}else{const s=e;a in s&&zA(s[a],t,r,n+1,i)}}function EC(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Ufe(e){const t={},r=_(e,["operationName"]);r!=null&&w(t,["operationName"],r);const n=_(e,["resourceName"]);return n!=null&&w(t,["_url","resourceName"],n),t}function Bfe(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response","generateVideoResponse"]);return s!=null&&w(t,["response"],zfe(s)),t}function Vfe(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],$fe(s)),t}function zfe(e){const t={},r=_(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Hfe(s))),w(t,["generatedVideos"],a)}const n=_(e,["raiMediaFilteredCount"]);n!=null&&w(t,["raiMediaFilteredCount"],n);const i=_(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function $fe(e){const t={},r=_(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Gfe(s))),w(t,["generatedVideos"],a)}const n=_(e,["raiMediaFilteredCount"]);n!=null&&w(t,["raiMediaFilteredCount"],n);const i=_(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function Hfe(e){const t={},r=_(e,["video"]);return r!=null&&w(t,["video"],Xfe(r)),t}function Gfe(e){const t={},r=_(e,["_self"]);return r!=null&&w(t,["video"],Zfe(r)),t}function qfe(e){const t={},r=_(e,["operationName"]);return r!=null&&w(t,["_url","operationName"],r),t}function Kfe(e){const t={},r=_(e,["operationName"]);return r!=null&&w(t,["_url","operationName"],r),t}function Wfe(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],Yfe(s)),t}function Yfe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["parent"]);n!=null&&w(t,["parent"],n);const i=_(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function SB(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],Jfe(s)),t}function Jfe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["parent"]);n!=null&&w(t,["parent"],n);const i=_(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function Xfe(e){const t={},r=_(e,["uri"]);r!=null&&w(t,["uri"],r);const n=_(e,["encodedVideo"]);n!=null&&w(t,["videoBytes"],EC(n));const i=_(e,["encoding"]);return i!=null&&w(t,["mimeType"],i),t}function Zfe(e){const t={},r=_(e,["gcsUri"]);r!=null&&w(t,["uri"],r);const n=_(e,["bytesBase64Encoded"]);n!=null&&w(t,["videoBytes"],EC(n));const i=_(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}var DM;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(DM||(DM={}));var FM;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(FM||(FM={}));var LM;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(LM||(LM={}));var Uc;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Uc||(Uc={}));var jM;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jM||(jM={}));var UM;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(UM||(UM={}));var BM;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(BM||(BM={}));var VM;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(VM||(VM={}));var zM;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(zM||(zM={}));var $M;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})($M||($M={}));var HM;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(HM||(HM={}));var GM;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(GM||(GM={}));var qM;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(qM||(qM={}));var KM;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(KM||(KM={}));var WM;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(WM||(WM={}));var YM;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(YM||(YM={}));var JM;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(JM||(JM={}));var XM;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(XM||(XM={}));var ZM;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ZM||(ZM={}));var QM;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(QM||(QM={}));var eD;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eD||(eD={}));var mx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(mx||(mx={}));var tD;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tD||(tD={}));var rD;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rD||(rD={}));var nD;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nD||(nD={}));var $A;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($A||($A={}));var iD;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(iD||(iD={}));var aD;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(aD||(aD={}));var HA;(function(e){e.COLLECTION="COLLECTION"})(HA||(HA={}));var sD;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(sD||(sD={}));var oD;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(oD||(oD={}));var lD;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(lD||(lD={}));var cD;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(cD||(cD={}));var uD;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(uD||(uD={}));var fD;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fD||(fD={}));var dD;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dD||(dD={}));var hD;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hD||(hD={}));var pD;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(pD||(pD={}));var mD;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(mD||(mD={}));var gD;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(gD||(gD={}));var vD;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(vD||(vD={}));var yD;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(yD||(yD={}));var xD;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(xD||(xD={}));var _D;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(_D||(_D={}));var bD;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(bD||(bD={}));var wD;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(wD||(wD={}));var ED;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ED||(ED={}));var TD;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(TD||(TD={}));var AD;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(AD||(AD={}));var SD;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(SD||(SD={}));var CD;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(CD||(CD={}));var ND;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ND||(ND={}));var ID;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ID||(ID={}));var kD;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kD||(kD={}));var PD;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(PD||(PD={}));var RD;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(RD||(RD={}));var Hd;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Hd||(Hd={}));class GA{constructor(t){const r={};for(const n of t.headers.entries())r[n[0]]=n[1];this.headers=r,this.responseInternal=t}json(){return this.responseInternal.json()}}class $0{get text(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const h=[];for(const m of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[y,x]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(x!==null||x!==void 0)&&h.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;d=!0,u+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const h of(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&c!==void 0?c:[]){for(const[m,y]of Object.entries(h))m!=="inlineData"&&(y!==null||y!==void 0)&&d.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,r,n,i,a,s,o,c;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if(u?.length!==0)return u}get executableCode(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,r,n,i,a,s,o,c,u;if(((i=(n=(r=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.content)===null||n===void 0?void 0:n.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if(d?.length!==0)return(u=d?.[0])===null||u===void 0?void 0:u.output}}class OD{}class MD{}class Qfe{}class ede{}class tde{}class rde{}class DD{}class FD{}class LD{}class nde{}class gx{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new gx;let i;const a=t;return r?i=Vfe(a):i=Bfe(a),Object.assign(n,i),n}}class jD{}class UD{}class BD{}class VD{}class ide{}class ade{}class sde{}class TC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new TC,a=Wfe(t);return Object.assign(n,a),n}}class ode{}class lde{}class cde{}class ude{}class zD{}class fde{get text(){var t,r,n;let i="",a=!1;const s=[];for(const o of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[c,u]of Object.entries(o))c!=="text"&&c!=="thought"&&u!==null&&s.push(c);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,r,n;let i="";const a=[];for(const s of(n=(r=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||r===void 0?void 0:r.parts)!==null&&n!==void 0?n:[]){for(const[o,c]of Object.entries(s))o!=="inlineData"&&c!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class dde{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class AC{_fromAPIResponse({apiResponse:t,_isVertexAI:r}){const n=new AC,a=SB(t);return Object.assign(n,a),n}}function dr(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const r=t.split("/",2);return`publishers/${r[0]}/models/${r[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function CB(e,t){const r=dr(e,t);return r?r.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}`:r.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${r}`:r:""}function NB(e){return Array.isArray(e)?e.map(t=>vx(t)):[vx(e)]}function vx(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function IB(e){const t=vx(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kB(e){const t=vx(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $D(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function PB(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>$D(t)):[$D(e)]}function qA(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function HD(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function GD(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Gi(e){if(e==null)throw new Error("ContentUnion is required");return qA(e)?e:{role:"user",parts:PB(e)}}function SC(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(r=>{const n=Gi(r);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(e.isVertexAI()){const r=Gi(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]}return Array.isArray(t)?t.map(r=>Gi(r)):[Gi(t)]}function Os(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(HD(e)||GD(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Gi(e)]}const t=[],r=[],n=qA(e[0]);for(const i of e){const a=qA(i);if(a!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(HD(i)||GD(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return n||t.push({role:"user",parts:PB(r)}),t}function hde(e,t){e.includes("null")&&(t.nullable=!0);const r=e.filter(n=>n!=="null");if(r.length===1)t.type=Object.values(Uc).includes(r[0].toUpperCase())?r[0].toUpperCase():Uc.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const n of r)t.anyOf.push({type:Object.values(Uc).includes(n.toUpperCase())?n.toUpperCase():Uc.TYPE_UNSPECIFIED})}}function th(e){const t={},r=["items"],n=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&hde(e.type,t);for(const[s,o]of Object.entries(e))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;t.type=Object.values(Uc).includes(o.toUpperCase())?o.toUpperCase():Uc.TYPE_UNSPECIFIED}else if(r.includes(s))t[s]=th(o);else if(n.includes(s)){const c=[];for(const u of o){if(u.type=="null"){t.nullable=!0;continue}c.push(th(u))}t[s]=c}else if(i.includes(s)){const c={};for(const[u,d]of Object.entries(o))c[u]=th(d);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=o}return t}function CC(e){return th(e)}function NC(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function IC(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Dh(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=th(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=th(t.response));return e}function Fh(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function pde(e,t,r,n=1){const i=!t.startsWith(`${r}/`)&&t.split("/").length===n;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${r}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${r}/${t}`:t:i?`${r}/${t}`:t}function Wl(e,t){if(typeof t!="string")throw new Error("name must be a string");return pde(e,t,"cachedContents")}function RB(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function hu(e){return EC(e)}function mde(e){return e!=null&&typeof e=="object"&&"name"in e}function gde(e){return e!=null&&typeof e=="object"&&"video"in e}function vde(e){return e!=null&&typeof e=="object"&&"uri"in e}function OB(e){var t;let r;if(mde(e)&&(r=e.name),!(vde(e)&&(r=e.uri,r===void 0))&&!(gde(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const i=r.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${r}`);r=i[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function MB(e,t){let r;return e.isVertexAI()?r=t?"publishers/google/models":"models":r=t?"models":"tunedModels",r}function DB(e){for(const t of["models","tunedModels","publisherModels"])if(yde(e,t))return e[t];return[]}function yde(e,t){return e!==null&&typeof e=="object"&&t in e}function xde(e,t={}){const r=e,n={name:r.name,description:r.description,parametersJsonSchema:r.inputSchema};return r.outputSchema&&(n.responseJsonSchema=r.outputSchema),t.behavior&&(n.behavior=t.behavior),{functionDeclarations:[n]}}function _de(e,t={}){const r=[],n=new Set;for(const i of e){const a=i.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const s=xde(i,t);s.functionDeclarations&&r.push(...s.functionDeclarations)}return{functionDeclarations:r}}function FB(e,t){let r;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))r={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))r={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))r={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");r={inlinedRequests:t}}else r=t;const n=[r.gcsUri,r.bigqueryUri].filter(Boolean).length,i=[r.inlinedRequests,r.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||n!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(n>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return r}function bde(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function LB(e){if(typeof e!="object"||e===null)return{};const t=e,r=t.inlinedResponses;if(typeof r!="object"||r===null)return e;const i=r.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Lh(e,t){const r=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(r))return r.split("/").pop();throw new Error(`Invalid batch job name: ${r}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(r))return r.split("/").pop();if(/^\d+$/.test(r))return r;throw new Error(`Invalid batch job name: ${r}.`)}function jB(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function wde(e){const t={},r=_(e,["responsesFile"]);r!=null&&w(t,["fileName"],r);const n=_(e,["inlinedResponses","inlinedResponses"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>rhe(s))),w(t,["inlinedResponses"],a)}const i=_(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["inlinedEmbedContentResponses"],a)}return t}function Ede(e){const t={},r=_(e,["predictionsFormat"]);r!=null&&w(t,["format"],r);const n=_(e,["gcsDestination","outputUriPrefix"]);n!=null&&w(t,["gcsUri"],n);const i=_(e,["bigqueryDestination","outputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function Tde(e){const t={},r=_(e,["format"]);r!=null&&w(t,["predictionsFormat"],r);const n=_(e,["gcsUri"]);n!=null&&w(t,["gcsDestination","outputUriPrefix"],n);const i=_(e,["bigqueryUri"]);if(i!=null&&w(t,["bigqueryDestination","outputUri"],i),_(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(_(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ay(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata","displayName"]);n!=null&&w(t,["displayName"],n);const i=_(e,["metadata","state"]);i!=null&&w(t,["state"],jB(i));const a=_(e,["metadata","createTime"]);a!=null&&w(t,["createTime"],a);const s=_(e,["metadata","endTime"]);s!=null&&w(t,["endTime"],s);const o=_(e,["metadata","updateTime"]);o!=null&&w(t,["updateTime"],o);const c=_(e,["metadata","model"]);c!=null&&w(t,["model"],c);const u=_(e,["metadata","output"]);return u!=null&&w(t,["dest"],wde(LB(u))),t}function KA(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["displayName"]);n!=null&&w(t,["displayName"],n);const i=_(e,["state"]);i!=null&&w(t,["state"],jB(i));const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["createTime"]);s!=null&&w(t,["createTime"],s);const o=_(e,["startTime"]);o!=null&&w(t,["startTime"],o);const c=_(e,["endTime"]);c!=null&&w(t,["endTime"],c);const u=_(e,["updateTime"]);u!=null&&w(t,["updateTime"],u);const d=_(e,["model"]);d!=null&&w(t,["model"],d);const h=_(e,["inputConfig"]);h!=null&&w(t,["src"],Ade(h));const m=_(e,["outputConfig"]);m!=null&&w(t,["dest"],Ede(LB(m)));const y=_(e,["completionStats"]);return y!=null&&w(t,["completionStats"],y),t}function Ade(e){const t={},r=_(e,["instancesFormat"]);r!=null&&w(t,["format"],r);const n=_(e,["gcsSource","uris"]);n!=null&&w(t,["gcsUri"],n);const i=_(e,["bigquerySource","inputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function Sde(e,t){const r={};if(_(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(_(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=_(t,["fileName"]);n!=null&&w(r,["fileName"],n);const i=_(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>the(e,s))),w(r,["requests","requests"],a)}return r}function Cde(e){const t={},r=_(e,["format"]);r!=null&&w(t,["instancesFormat"],r);const n=_(e,["gcsUri"]);n!=null&&w(t,["gcsSource","uris"],n);const i=_(e,["bigqueryUri"]);if(i!=null&&w(t,["bigquerySource","inputUri"],i),_(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(_(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Nde(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function Ide(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Lh(e,n)),r}function kde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Lh(e,n)),r}function Pde(e){const t={},r=_(e,["content"]);r!=null&&w(t,["content"],r);const n=_(e,["citationMetadata"]);n!=null&&w(t,["citationMetadata"],Rde(n));const i=_(e,["tokenCount"]);i!=null&&w(t,["tokenCount"],i);const a=_(e,["finishReason"]);a!=null&&w(t,["finishReason"],a);const s=_(e,["avgLogprobs"]);s!=null&&w(t,["avgLogprobs"],s);const o=_(e,["groundingMetadata"]);o!=null&&w(t,["groundingMetadata"],o);const c=_(e,["index"]);c!=null&&w(t,["index"],c);const u=_(e,["logprobsResult"]);u!=null&&w(t,["logprobsResult"],u);const d=_(e,["safetyRatings"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y)),w(t,["safetyRatings"],m)}const h=_(e,["urlContextMetadata"]);return h!=null&&w(t,["urlContextMetadata"],h),t}function Rde(e){const t={},r=_(e,["citationSources"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),w(t,["citations"],n)}return t}function UB(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>che(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function Ode(e,t){const r={},n=_(e,["displayName"]);if(t!==void 0&&n!=null&&w(t,["batch","displayName"],n),_(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return r}function Mde(e,t){const r={},n=_(e,["displayName"]);t!==void 0&&n!=null&&w(t,["displayName"],n);const i=_(e,["dest"]);return t!==void 0&&i!=null&&w(t,["outputConfig"],Tde(bde(i))),r}function qD(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["_url","model"],dr(e,n));const i=_(t,["src"]);i!=null&&w(r,["batch","inputConfig"],Sde(e,FB(e,i)));const a=_(t,["config"]);return a!=null&&Ode(a,r),r}function Dde(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["model"],dr(e,n));const i=_(t,["src"]);i!=null&&w(r,["inputConfig"],Cde(FB(e,i)));const a=_(t,["config"]);return a!=null&&Mde(a,r),r}function Fde(e,t){const r={},n=_(e,["displayName"]);return t!==void 0&&n!=null&&w(t,["batch","displayName"],n),r}function Lde(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["_url","model"],dr(e,n));const i=_(t,["src"]);i!=null&&w(r,["batch","inputConfig"],Hde(e,i));const a=_(t,["config"]);return a!=null&&Fde(a,r),r}function jde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Lh(e,n)),r}function Ude(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Lh(e,n)),r}function Bde(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);return a!=null&&w(t,["error"],a),t}function Vde(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);return a!=null&&w(t,["error"],a),t}function zde(e,t){const r={},n=_(t,["contents"]);if(n!=null){let a=SC(e,n);Array.isArray(a)&&(a=a.map(s=>s)),w(r,["requests[]","request","content"],a)}const i=_(t,["config"]);return i!=null&&(w(r,["_self"],$de(i,r)),jfe(r,{"requests[].*":"requests[].request.*"})),r}function $de(e,t){const r={},n=_(e,["taskType"]);t!==void 0&&n!=null&&w(t,["requests[]","taskType"],n);const i=_(e,["title"]);t!==void 0&&i!=null&&w(t,["requests[]","title"],i);const a=_(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&w(t,["requests[]","outputDimensionality"],a),_(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function Hde(e,t){const r={},n=_(t,["fileName"]);n!=null&&w(r,["file_name"],n);const i=_(t,["inlinedRequests"]);return i!=null&&w(r,["requests"],zde(e,i)),r}function Gde(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function qde(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Kde(e){const t={},r=_(e,["allowedFunctionNames"]);r!=null&&w(t,["allowedFunctionNames"],r);const n=_(e,["mode"]);if(n!=null&&w(t,["mode"],n),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Wde(e,t,r){const n={},i=_(t,["systemInstruction"]);r!==void 0&&i!=null&&w(r,["systemInstruction"],UB(Gi(i)));const a=_(t,["temperature"]);a!=null&&w(n,["temperature"],a);const s=_(t,["topP"]);s!=null&&w(n,["topP"],s);const o=_(t,["topK"]);o!=null&&w(n,["topK"],o);const c=_(t,["candidateCount"]);c!=null&&w(n,["candidateCount"],c);const u=_(t,["maxOutputTokens"]);u!=null&&w(n,["maxOutputTokens"],u);const d=_(t,["stopSequences"]);d!=null&&w(n,["stopSequences"],d);const h=_(t,["responseLogprobs"]);h!=null&&w(n,["responseLogprobs"],h);const m=_(t,["logprobs"]);m!=null&&w(n,["logprobs"],m);const y=_(t,["presencePenalty"]);y!=null&&w(n,["presencePenalty"],y);const x=_(t,["frequencyPenalty"]);x!=null&&w(n,["frequencyPenalty"],x);const b=_(t,["seed"]);b!=null&&w(n,["seed"],b);const E=_(t,["responseMimeType"]);E!=null&&w(n,["responseMimeType"],E);const S=_(t,["responseSchema"]);S!=null&&w(n,["responseSchema"],CC(S));const F=_(t,["responseJsonSchema"]);if(F!=null&&w(n,["responseJsonSchema"],F),_(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=_(t,["safetySettings"]);if(r!==void 0&&k!=null){let H=k;Array.isArray(H)&&(H=H.map(fe=>uhe(fe))),w(r,["safetySettings"],H)}const M=_(t,["tools"]);if(r!==void 0&&M!=null){let H=Fh(M);Array.isArray(H)&&(H=H.map(fe=>dhe(Dh(fe)))),w(r,["tools"],H)}const D=_(t,["toolConfig"]);if(r!==void 0&&D!=null&&w(r,["toolConfig"],fhe(D)),_(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=_(t,["cachedContent"]);r!==void 0&&P!=null&&w(r,["cachedContent"],Wl(e,P));const N=_(t,["responseModalities"]);N!=null&&w(n,["responseModalities"],N);const I=_(t,["mediaResolution"]);I!=null&&w(n,["mediaResolution"],I);const R=_(t,["speechConfig"]);if(R!=null&&w(n,["speechConfig"],NC(R)),_(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=_(t,["thinkingConfig"]);U!=null&&w(n,["thinkingConfig"],U);const B=_(t,["imageConfig"]);B!=null&&w(n,["imageConfig"],ehe(B));const L=_(t,["enableEnhancedCivicAnswers"]);if(L!=null&&w(n,["enableEnhancedCivicAnswers"],L),_(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return n}function Yde(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(u=>Pde(u))),w(t,["candidates"],c)}const i=_(e,["modelVersion"]);i!=null&&w(t,["modelVersion"],i);const a=_(e,["promptFeedback"]);a!=null&&w(t,["promptFeedback"],a);const s=_(e,["responseId"]);s!=null&&w(t,["responseId"],s);const o=_(e,["usageMetadata"]);return o!=null&&w(t,["usageMetadata"],o),t}function Jde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Lh(e,n)),r}function Xde(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Lh(e,n)),r}function Zde(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function Qde(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function ehe(e){const t={},r=_(e,["aspectRatio"]);r!=null&&w(t,["aspectRatio"],r);const n=_(e,["imageSize"]);if(n!=null&&w(t,["imageSize"],n),_(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(_(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function the(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["request","model"],dr(e,n));const i=_(t,["contents"]);if(i!=null){let o=Os(i);Array.isArray(o)&&(o=o.map(c=>UB(c))),w(r,["request","contents"],o)}const a=_(t,["metadata"]);a!=null&&w(r,["metadata"],a);const s=_(t,["config"]);return s!=null&&w(r,["request","generationConfig"],Wde(e,s,_(r,["request"],{}))),r}function rhe(e){const t={},r=_(e,["response"]);r!=null&&w(t,["response"],Yde(r));const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["error"]);return i!=null&&w(t,["error"],i),t}function nhe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);if(t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),_(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return r}function ihe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);t!==void 0&&i!=null&&w(t,["_query","pageToken"],i);const a=_(e,["filter"]);return t!==void 0&&a!=null&&w(t,["_query","filter"],a),r}function ahe(e){const t={},r=_(e,["config"]);return r!=null&&nhe(r,t),t}function she(e){const t={},r=_(e,["config"]);return r!=null&&ihe(r,t),t}function ohe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Ay(s))),w(t,["batchJobs"],a)}return t}function lhe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>KA(s))),w(t,["batchJobs"],a)}return t}function che(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],Gde(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],qde(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],Nde(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const h=_(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function uhe(e){const t={},r=_(e,["category"]);if(r!=null&&w(t,["category"],r),_(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=_(e,["threshold"]);return n!=null&&w(t,["threshold"],n),t}function fhe(e){const t={},r=_(e,["retrievalConfig"]);r!=null&&w(t,["retrievalConfig"],r);const n=_(e,["functionCallingConfig"]);return n!=null&&w(t,["functionCallingConfig"],Kde(n)),t}function dhe(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],Zde(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],Qde(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}var Dl;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Dl||(Dl={}));class Bf{constructor(t,r,n,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=r,this.init(t,n,i)}init(t,r,n){var i,a;this.nameInternal=t,this.pageInternal=r[this.nameInternal]||[],this.sdkHttpResponseInternal=r?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!n||Object.keys(n).length===0?s={config:{}}:typeof n=="object"?s=Object.assign({},n):s=n,s.config&&(s.config.pageToken=r.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class hhe extends Kl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Bf(Dl.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.create=async r=>(this.apiClient.isVertexAI()&&(r.config=this.formatDestination(r.src,r.config)),this.createInternal(r)),this.createEmbeddings=async r=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(r)}}createInlinedGenerateContentRequest(t){const r=qD(this.apiClient,t),n=r._url,i=rt("{model}:batchGenerateContent",n),o=r.batch.inputConfig.requests,c=o.requests,u=[];for(const d of c){const h=Object.assign({},d);if(h.systemInstruction){const m=h.systemInstruction;delete h.systemInstruction;const y=h.request;y.systemInstruction=m,h.request=y}u.push(h)}return o.requests=u,delete r.config,delete r._url,delete r._query,{path:i,body:r}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,r){const n=r?Object.assign({},r):{},i=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${i}`),n.dest===void 0){const a=this.getGcsUri(t),s=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?n.dest=`${a.slice(0,-6)}/dest`:n.dest=`${a}_dest_${i}`;else if(s)n.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return n}async createInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Dde(this.apiClient,t);return o=rt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>KA(d))}else{const u=qD(this.apiClient,t);return o=rt("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>Ay(d))}}async createEmbeddingsInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lde(this.apiClient,t);return a=rt("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>Ay(c))}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Xde(this.apiClient,t);return o=rt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>KA(d))}else{const u=Jde(this.apiClient,t);return o=rt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>Ay(d))}}async cancel(t){var r,n,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const c=kde(this.apiClient,t);s=rt("batchPredictionJobs/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}else{const c=Ide(this.apiClient,t);s=rt("batches/{name}:cancel",c._url),o=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=she(t);return o=rt("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=lhe(d),m=new zD;return Object.assign(m,h),m})}else{const u=ahe(t);return o=rt("batches",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=ohe(d),m=new zD;return Object.assign(m,h),m})}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ude(this.apiClient,t);return o=rt("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>Vde(d))}else{const u=jde(this.apiClient,t);return o=rt("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>Bde(d))}}}function phe(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function KD(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Lhe(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function mhe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const a=_(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const s=_(e,["contents"]);if(t!==void 0&&s!=null){let d=Os(s);Array.isArray(d)&&(d=d.map(h=>KD(h))),w(t,["contents"],d)}const o=_(e,["systemInstruction"]);t!==void 0&&o!=null&&w(t,["systemInstruction"],KD(Gi(o)));const c=_(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>Uhe(h))),w(t,["tools"],d)}const u=_(e,["toolConfig"]);if(t!==void 0&&u!=null&&w(t,["toolConfig"],jhe(u)),_(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function ghe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const a=_(e,["displayName"]);t!==void 0&&a!=null&&w(t,["displayName"],a);const s=_(e,["contents"]);if(t!==void 0&&s!=null){let h=Os(s);Array.isArray(h)&&(h=h.map(m=>m)),w(t,["contents"],h)}const o=_(e,["systemInstruction"]);t!==void 0&&o!=null&&w(t,["systemInstruction"],Gi(o));const c=_(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Bhe(m))),w(t,["tools"],h)}const u=_(e,["toolConfig"]);t!==void 0&&u!=null&&w(t,["toolConfig"],u);const d=_(e,["kmsKeyName"]);return t!==void 0&&d!=null&&w(t,["encryption_spec","kmsKeyName"],d),r}function vhe(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["model"],CB(e,n));const i=_(t,["config"]);return i!=null&&mhe(i,r),r}function yhe(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["model"],CB(e,n));const i=_(t,["config"]);return i!=null&&ghe(i,r),r}function xhe(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Wl(e,n)),r}function _he(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Wl(e,n)),r}function bhe(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function whe(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Ehe(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function The(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Ahe(e){const t={},r=_(e,["allowedFunctionNames"]);r!=null&&w(t,["allowedFunctionNames"],r);const n=_(e,["mode"]);if(n!=null&&w(t,["mode"],n),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function She(e){const t={},r=_(e,["description"]);r!=null&&w(t,["description"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["parameters"]);i!=null&&w(t,["parameters"],i);const a=_(e,["parametersJsonSchema"]);a!=null&&w(t,["parametersJsonSchema"],a);const s=_(e,["response"]);s!=null&&w(t,["response"],s);const o=_(e,["responseJsonSchema"]);if(o!=null&&w(t,["responseJsonSchema"],o),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Che(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Wl(e,n)),r}function Nhe(e,t){const r={},n=_(t,["name"]);return n!=null&&w(r,["_url","name"],Wl(e,n)),r}function Ihe(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function khe(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function Phe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Rhe(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Ohe(e){const t={},r=_(e,["config"]);return r!=null&&Phe(r,t),t}function Mhe(e){const t={},r=_(e,["config"]);return r!=null&&Rhe(r,t),t}function Dhe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["cachedContents"],a)}return t}function Fhe(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["cachedContents"],a)}return t}function Lhe(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],Ehe(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],The(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],phe(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const h=_(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function jhe(e){const t={},r=_(e,["retrievalConfig"]);r!=null&&w(t,["retrievalConfig"],r);const n=_(e,["functionCallingConfig"]);return n!=null&&w(t,["functionCallingConfig"],Ahe(n)),t}function Uhe(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],Ihe(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],khe(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function Bhe(e){const t={},r=_(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const n=_(e,["computerUse"]);if(n!=null&&w(t,["computerUse"],n),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=_(e,["codeExecution"]);i!=null&&w(t,["codeExecution"],i);const a=_(e,["enterpriseWebSearch"]);a!=null&&w(t,["enterpriseWebSearch"],a);const s=_(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>She(m))),w(t,["functionDeclarations"],h)}const o=_(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],o);const c=_(e,["googleSearch"]);c!=null&&w(t,["googleSearch"],c);const u=_(e,["googleSearchRetrieval"]);u!=null&&w(t,["googleSearchRetrieval"],u);const d=_(e,["urlContext"]);return d!=null&&w(t,["urlContext"],d),t}function Vhe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),r}function zhe(e,t){const r={},n=_(e,["ttl"]);t!==void 0&&n!=null&&w(t,["ttl"],n);const i=_(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),r}function $he(e,t){const r={},n=_(t,["name"]);n!=null&&w(r,["_url","name"],Wl(e,n));const i=_(t,["config"]);return i!=null&&Vhe(i,r),r}function Hhe(e,t){const r={},n=_(t,["name"]);n!=null&&w(r,["_url","name"],Wl(e,n));const i=_(t,["config"]);return i!=null&&zhe(i,r),r}class Ghe extends Kl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Bf(Dl.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(r),r)}async create(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=yhe(this.apiClient,t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=vhe(this.apiClient,t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Nhe(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=Che(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=_he(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=whe(d),m=new BD;return Object.assign(m,h),m})}else{const u=xhe(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=bhe(d),m=new BD;return Object.assign(m,h),m})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Hhe(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=$he(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Mhe(t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Fhe(d),m=new VD;return Object.assign(m,h),m})}else{const u=Ohe(t);return o=rt("cachedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Dhe(d),m=new VD;return Object.assign(m,h),m})}}}function yx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function WD(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ct(e){return this instanceof Ct?(this.v=e,this):new Ct(e)}function so(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,h)}}function o(y,x){n[y]&&(i[y]=function(b){return new Promise(function(E,S){a.push([y,b,E,S])>1||c(y,b)})},x&&(i[y]=x(i[y])))}function c(y,x){try{u(n[y](x))}catch(b){m(a[0][3],b)}}function u(y){y.value instanceof Ct?Promise.resolve(y.value.v).then(d,h):m(a[0][2],y)}function d(y){c("next",y)}function h(y){c("throw",y)}function m(y,x){y(x),a.shift(),a.length&&c(a[0][0],a[0][1])}}function oo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof WD=="function"?WD(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(s){return new Promise(function(o,c){s=e[a](s),i(o,c,s.done,s.value)})}}function i(a,s,o,c){Promise.resolve(c).then(function(u){a({value:u,done:o})},s)}}function qhe(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const r=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return r===void 0?!1:BB(r)}function BB(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Khe(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function YD(e){if(e===void 0||e.length===0)return[];const t=[],r=e.length;let n=0;for(;n<r;)if(e[n].role==="user")t.push(e[n]),n++;else{const i=[];let a=!0;for(;n<r&&e[n].role==="model";)i.push(e[n]),a&&!BB(e[n])&&(a=!1),n++;a?t.push(...i):t.pop()}return t}class Whe{constructor(t,r){this.modelsModule=t,this.apiClient=r}create(t){return new Yhe(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Yhe{constructor(t,r,n,i={},a=[]){this.apiClient=t,this.modelsModule=r,this.model=n,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Khe(a)}async sendMessage(t){var r;await this.sendPromise;const n=Gi(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});return this.sendPromise=(async()=>{var a,s,o;const c=await i,u=(s=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,d=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let m=[];d!=null&&(m=(o=d.slice(h))!==null&&o!==void 0?o:[]);const y=u?[u]:[];this.recordHistory(n,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var r;await this.sendPromise;const n=Gi(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(r=t.config)!==null&&r!==void 0?r:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,n)}getHistory(t=!1){const r=t?YD(this.history):this.history;return structuredClone(r)}processStreamResponse(t,r){return so(this,arguments,function*(){var i,a,s,o,c,u;const d=[];try{for(var h=!0,m=oo(t),y;y=yield Ct(m.next()),i=y.done,!i;h=!0){o=y.value,h=!1;const x=o;if(qhe(x)){const b=(u=(c=x.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield Ct(x)}}catch(x){a={error:x}}finally{try{!h&&!i&&(s=m.return)&&(yield Ct(s.call(m)))}finally{if(a)throw a.error}}this.recordHistory(r,d)})}recordHistory(t,r,n){let i=[];r.length>0&&r.every(a=>a.role!==void 0)?i=r:i.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...YD(n)):this.history.push(t),this.history.push(...i)}}class sm extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,sm.prototype)}}function Jhe(e){const t={},r=_(e,["file"]);return r!=null&&w(t,["file"],r),t}function Xhe(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function Zhe(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","file"],OB(r)),t}function Qhe(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}function e0e(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","file"],OB(r)),t}function t0e(e){const t={},r=_(e,["uris"]);return r!=null&&w(t,["uris"],r),t}function r0e(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function n0e(e){const t={},r=_(e,["config"]);return r!=null&&r0e(r,t),t}function i0e(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["files"],a)}return t}function a0e(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["files"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(t,["files"],i)}return t}class s0e extends Kl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Bf(Dl.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(r),r)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(r=>r)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=n0e(t);return a=rt("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=i0e(c),d=new ode;return Object.assign(d,u),d})}}async createInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jhe(t);return a=rt("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Xhe(c),d=new lde;return Object.assign(d,u),d})}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=e0e(t);return a=rt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Zhe(t);return a=rt("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Qhe(c),d=new cde;return Object.assign(d,u),d})}}async registerFilesInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=t0e(t);return a=rt("files:register",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=a0e(c),d=new ude;return Object.assign(d,u),d})}}}function Sy(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function o0e(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>E0e(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function l0e(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function c0e(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function u0e(e){const t={},r=_(e,["description"]);r!=null&&w(t,["description"],r);const n=_(e,["name"]);n!=null&&w(t,["name"],n);const i=_(e,["parameters"]);i!=null&&w(t,["parameters"],i);const a=_(e,["parametersJsonSchema"]);a!=null&&w(t,["parametersJsonSchema"],a);const s=_(e,["response"]);s!=null&&w(t,["response"],s);const o=_(e,["responseJsonSchema"]);if(o!=null&&w(t,["responseJsonSchema"],o),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function f0e(e){const t={},r=_(e,["modelSelectionConfig"]);r!=null&&w(t,["modelConfig"],r);const n=_(e,["responseJsonSchema"]);n!=null&&w(t,["responseJsonSchema"],n);const i=_(e,["audioTimestamp"]);i!=null&&w(t,["audioTimestamp"],i);const a=_(e,["candidateCount"]);a!=null&&w(t,["candidateCount"],a);const s=_(e,["enableAffectiveDialog"]);s!=null&&w(t,["enableAffectiveDialog"],s);const o=_(e,["frequencyPenalty"]);o!=null&&w(t,["frequencyPenalty"],o);const c=_(e,["logprobs"]);c!=null&&w(t,["logprobs"],c);const u=_(e,["maxOutputTokens"]);u!=null&&w(t,["maxOutputTokens"],u);const d=_(e,["mediaResolution"]);d!=null&&w(t,["mediaResolution"],d);const h=_(e,["presencePenalty"]);h!=null&&w(t,["presencePenalty"],h);const m=_(e,["responseLogprobs"]);m!=null&&w(t,["responseLogprobs"],m);const y=_(e,["responseMimeType"]);y!=null&&w(t,["responseMimeType"],y);const x=_(e,["responseModalities"]);x!=null&&w(t,["responseModalities"],x);const b=_(e,["responseSchema"]);b!=null&&w(t,["responseSchema"],b);const E=_(e,["routingConfig"]);E!=null&&w(t,["routingConfig"],E);const S=_(e,["seed"]);S!=null&&w(t,["seed"],S);const F=_(e,["speechConfig"]);F!=null&&w(t,["speechConfig"],F);const k=_(e,["stopSequences"]);k!=null&&w(t,["stopSequences"],k);const M=_(e,["temperature"]);M!=null&&w(t,["temperature"],M);const D=_(e,["thinkingConfig"]);D!=null&&w(t,["thinkingConfig"],D);const P=_(e,["topK"]);P!=null&&w(t,["topK"],P);const N=_(e,["topP"]);if(N!=null&&w(t,["topP"],N),_(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function d0e(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function h0e(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function p0e(e,t){const r={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],n);const i=_(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=_(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=_(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=_(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=_(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=_(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const h=_(e,["speechConfig"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","speechConfig"],IC(h));const m=_(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=_(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=_(e,["systemInstruction"]);t!==void 0&&x!=null&&w(t,["setup","systemInstruction"],o0e(Gi(x)));const b=_(e,["tools"]);if(t!==void 0&&b!=null){let P=Fh(b);Array.isArray(P)&&(P=P.map(N=>A0e(Dh(N)))),w(t,["setup","tools"],P)}const E=_(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],T0e(E));const S=_(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&w(t,["setup","inputAudioTranscription"],S);const F=_(e,["outputAudioTranscription"]);t!==void 0&&F!=null&&w(t,["setup","outputAudioTranscription"],F);const k=_(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const M=_(e,["contextWindowCompression"]);t!==void 0&&M!=null&&w(t,["setup","contextWindowCompression"],M);const D=_(e,["proactivity"]);if(t!==void 0&&D!=null&&w(t,["setup","proactivity"],D),_(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function m0e(e,t){const r={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],f0e(n));const i=_(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=_(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=_(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=_(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=_(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=_(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const h=_(e,["speechConfig"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","speechConfig"],IC(h));const m=_(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=_(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=_(e,["systemInstruction"]);t!==void 0&&x!=null&&w(t,["setup","systemInstruction"],Gi(x));const b=_(e,["tools"]);if(t!==void 0&&b!=null){let N=Fh(b);Array.isArray(N)&&(N=N.map(I=>S0e(Dh(I)))),w(t,["setup","tools"],N)}const E=_(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],E);const S=_(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&w(t,["setup","inputAudioTranscription"],S);const F=_(e,["outputAudioTranscription"]);t!==void 0&&F!=null&&w(t,["setup","outputAudioTranscription"],F);const k=_(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const M=_(e,["contextWindowCompression"]);t!==void 0&&M!=null&&w(t,["setup","contextWindowCompression"],M);const D=_(e,["proactivity"]);t!==void 0&&D!=null&&w(t,["setup","proactivity"],D);const P=_(e,["explicitVadSignal"]);return t!==void 0&&P!=null&&w(t,["setup","explicitVadSignal"],P),r}function g0e(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["setup","model"],dr(e,n));const i=_(t,["config"]);return i!=null&&w(r,["config"],p0e(i,r)),r}function v0e(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["setup","model"],dr(e,n));const i=_(t,["config"]);return i!=null&&w(r,["config"],m0e(i,r)),r}function y0e(e){const t={},r=_(e,["musicGenerationConfig"]);return r!=null&&w(t,["musicGenerationConfig"],r),t}function x0e(e){const t={},r=_(e,["weightedPrompts"]);if(r!=null){let n=r;Array.isArray(n)&&(n=n.map(i=>i)),w(t,["weightedPrompts"],n)}return t}function _0e(e){const t={},r=_(e,["media"]);if(r!=null){let u=NB(r);Array.isArray(u)&&(u=u.map(d=>Sy(d))),w(t,["mediaChunks"],u)}const n=_(e,["audio"]);n!=null&&w(t,["audio"],Sy(kB(n)));const i=_(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const a=_(e,["video"]);a!=null&&w(t,["video"],Sy(IB(a)));const s=_(e,["text"]);s!=null&&w(t,["text"],s);const o=_(e,["activityStart"]);o!=null&&w(t,["activityStart"],o);const c=_(e,["activityEnd"]);return c!=null&&w(t,["activityEnd"],c),t}function b0e(e){const t={},r=_(e,["media"]);if(r!=null){let u=NB(r);Array.isArray(u)&&(u=u.map(d=>d)),w(t,["mediaChunks"],u)}const n=_(e,["audio"]);n!=null&&w(t,["audio"],kB(n));const i=_(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const a=_(e,["video"]);a!=null&&w(t,["video"],IB(a));const s=_(e,["text"]);s!=null&&w(t,["text"],s);const o=_(e,["activityStart"]);o!=null&&w(t,["activityStart"],o);const c=_(e,["activityEnd"]);return c!=null&&w(t,["activityEnd"],c),t}function w0e(e){const t={},r=_(e,["setupComplete"]);r!=null&&w(t,["setupComplete"],r);const n=_(e,["serverContent"]);n!=null&&w(t,["serverContent"],n);const i=_(e,["toolCall"]);i!=null&&w(t,["toolCall"],i);const a=_(e,["toolCallCancellation"]);a!=null&&w(t,["toolCallCancellation"],a);const s=_(e,["usageMetadata"]);s!=null&&w(t,["usageMetadata"],C0e(s));const o=_(e,["goAway"]);o!=null&&w(t,["goAway"],o);const c=_(e,["sessionResumptionUpdate"]);c!=null&&w(t,["sessionResumptionUpdate"],c);const u=_(e,["voiceActivityDetectionSignal"]);u!=null&&w(t,["voiceActivityDetectionSignal"],u);const d=_(e,["voiceActivity"]);return d!=null&&w(t,["voiceActivity"],N0e(d)),t}function E0e(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],l0e(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],c0e(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],Sy(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const h=_(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function T0e(e){const t={},r=_(e,["handle"]);if(r!=null&&w(t,["handle"],r),_(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function A0e(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],d0e(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],h0e(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function S0e(e){const t={},r=_(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const n=_(e,["computerUse"]);if(n!=null&&w(t,["computerUse"],n),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=_(e,["codeExecution"]);i!=null&&w(t,["codeExecution"],i);const a=_(e,["enterpriseWebSearch"]);a!=null&&w(t,["enterpriseWebSearch"],a);const s=_(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>u0e(m))),w(t,["functionDeclarations"],h)}const o=_(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],o);const c=_(e,["googleSearch"]);c!=null&&w(t,["googleSearch"],c);const u=_(e,["googleSearchRetrieval"]);u!=null&&w(t,["googleSearchRetrieval"],u);const d=_(e,["urlContext"]);return d!=null&&w(t,["urlContext"],d),t}function C0e(e){const t={},r=_(e,["promptTokenCount"]);r!=null&&w(t,["promptTokenCount"],r);const n=_(e,["cachedContentTokenCount"]);n!=null&&w(t,["cachedContentTokenCount"],n);const i=_(e,["candidatesTokenCount"]);i!=null&&w(t,["responseTokenCount"],i);const a=_(e,["toolUsePromptTokenCount"]);a!=null&&w(t,["toolUsePromptTokenCount"],a);const s=_(e,["thoughtsTokenCount"]);s!=null&&w(t,["thoughtsTokenCount"],s);const o=_(e,["totalTokenCount"]);o!=null&&w(t,["totalTokenCount"],o);const c=_(e,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["promptTokensDetails"],y)}const u=_(e,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["cacheTokensDetails"],y)}const d=_(e,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["responseTokensDetails"],y)}const h=_(e,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),w(t,["toolUsePromptTokensDetails"],y)}const m=_(e,["trafficType"]);return m!=null&&w(t,["trafficType"],m),t}function N0e(e){const t={},r=_(e,["type"]);return r!=null&&w(t,["voiceActivityType"],r),t}function I0e(e,t){const r={},n=_(e,["data"]);if(n!=null&&w(r,["data"],n),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function k0e(e,t){const r={},n=_(e,["content"]);n!=null&&w(r,["content"],n);const i=_(e,["citationMetadata"]);i!=null&&w(r,["citationMetadata"],P0e(i));const a=_(e,["tokenCount"]);a!=null&&w(r,["tokenCount"],a);const s=_(e,["finishReason"]);s!=null&&w(r,["finishReason"],s);const o=_(e,["avgLogprobs"]);o!=null&&w(r,["avgLogprobs"],o);const c=_(e,["groundingMetadata"]);c!=null&&w(r,["groundingMetadata"],c);const u=_(e,["index"]);u!=null&&w(r,["index"],u);const d=_(e,["logprobsResult"]);d!=null&&w(r,["logprobsResult"],d);const h=_(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),w(r,["safetyRatings"],y)}const m=_(e,["urlContextMetadata"]);return m!=null&&w(r,["urlContextMetadata"],m),r}function P0e(e,t){const r={},n=_(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(r,["citations"],i)}return r}function R0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["contents"]);if(a!=null){let s=Os(a);Array.isArray(s)&&(s=s.map(o=>o)),w(n,["contents"],s)}return n}function O0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(r,["tokensInfo"],a)}return r}function M0e(e,t){const r={},n=_(e,["values"]);n!=null&&w(r,["values"],n);const i=_(e,["statistics"]);return i!=null&&w(r,["statistics"],D0e(i)),r}function D0e(e,t){const r={},n=_(e,["truncated"]);n!=null&&w(r,["truncated"],n);const i=_(e,["token_count"]);return i!=null&&w(r,["tokenCount"],i),r}function V1(e,t){const r={},n=_(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Hpe(s))),w(r,["parts"],a)}const i=_(e,["role"]);return i!=null&&w(r,["role"],i),r}function F0e(e,t){const r={},n=_(e,["controlType"]);n!=null&&w(r,["controlType"],n);const i=_(e,["enableControlImageComputation"]);return i!=null&&w(r,["computeControl"],i),r}function L0e(e,t){const r={};if(_(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(_(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(_(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return r}function j0e(e,t,r){const n={},i=_(e,["systemInstruction"]);t!==void 0&&i!=null&&w(t,["systemInstruction"],Gi(i));const a=_(e,["tools"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>HB(c))),w(t,["tools"],o)}const s=_(e,["generationConfig"]);return t!==void 0&&s!=null&&w(t,["generationConfig"],Ipe(s)),n}function U0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>V1(c))),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&L0e(s),n}function B0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&j0e(s,n),n}function V0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["totalTokens"]);i!=null&&w(r,["totalTokens"],i);const a=_(e,["cachedContentTokenCount"]);return a!=null&&w(r,["cachedContentTokenCount"],a),r}function z0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["totalTokens"]);return i!=null&&w(r,["totalTokens"],i),r}function $0e(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],dr(e,i)),n}function H0e(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],dr(e,i)),n}function G0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function q0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function K0e(e,t,r){const n={},i=_(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=_(e,["negativePrompt"]);t!==void 0&&a!=null&&w(t,["parameters","negativePrompt"],a);const s=_(e,["numberOfImages"]);t!==void 0&&s!=null&&w(t,["parameters","sampleCount"],s);const o=_(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const c=_(e,["guidanceScale"]);t!==void 0&&c!=null&&w(t,["parameters","guidanceScale"],c);const u=_(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const d=_(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const h=_(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const m=_(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&w(t,["parameters","includeSafetyAttributes"],m);const y=_(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const x=_(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const b=_(e,["outputMimeType"]);t!==void 0&&b!=null&&w(t,["parameters","outputOptions","mimeType"],b);const E=_(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const S=_(e,["addWatermark"]);t!==void 0&&S!=null&&w(t,["parameters","addWatermark"],S);const F=_(e,["labels"]);t!==void 0&&F!=null&&w(t,["labels"],F);const k=_(e,["editMode"]);t!==void 0&&k!=null&&w(t,["parameters","editMode"],k);const M=_(e,["baseSteps"]);return t!==void 0&&M!=null&&w(t,["parameters","editConfig","baseSteps"],M),n}function W0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>Jpe(u))),w(n,["instances[0]","referenceImages"],c)}const o=_(t,["config"]);return o!=null&&K0e(o,n),n}function Y0e(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>z1(s))),w(r,["generatedImages"],a)}return r}function J0e(e,t,r){const n={},i=_(e,["taskType"]);t!==void 0&&i!=null&&w(t,["requests[]","taskType"],i);const a=_(e,["title"]);t!==void 0&&a!=null&&w(t,["requests[]","title"],a);const s=_(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&w(t,["requests[]","outputDimensionality"],s),_(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(_(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function X0e(e,t,r){const n={},i=_(e,["taskType"]);t!==void 0&&i!=null&&w(t,["instances[]","task_type"],i);const a=_(e,["title"]);t!==void 0&&a!=null&&w(t,["instances[]","title"],a);const s=_(e,["outputDimensionality"]);t!==void 0&&s!=null&&w(t,["parameters","outputDimensionality"],s);const o=_(e,["mimeType"]);t!==void 0&&o!=null&&w(t,["instances[]","mimeType"],o);const c=_(e,["autoTruncate"]);return t!==void 0&&c!=null&&w(t,["parameters","autoTruncate"],c),n}function Z0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["contents"]);if(a!=null){let c=SC(e,a);Array.isArray(c)&&(c=c.map(u=>u)),w(n,["requests[]","content"],c)}const s=_(t,["config"]);s!=null&&J0e(s,n);const o=_(t,["model"]);return o!==void 0&&w(n,["requests[]","model"],dr(e,o)),n}function Q0e(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["contents"]);if(a!=null){let o=SC(e,a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["instances[]","content"],o)}const s=_(t,["config"]);return s!=null&&X0e(s,n),n}function epe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),w(r,["embeddings"],s)}const a=_(e,["metadata"]);return a!=null&&w(r,["metadata"],a),r}function tpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>M0e(o))),w(r,["embeddings"],s)}const a=_(e,["metadata"]);return a!=null&&w(r,["metadata"],a),r}function rpe(e,t){const r={},n=_(e,["endpoint"]);n!=null&&w(r,["name"],n);const i=_(e,["deployedModelId"]);return i!=null&&w(r,["deployedModelId"],i),r}function npe(e,t){const r={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["fileUri"]);n!=null&&w(r,["fileUri"],n);const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function ipe(e,t){const r={},n=_(e,["id"]);n!=null&&w(r,["id"],n);const i=_(e,["args"]);i!=null&&w(r,["args"],i);const a=_(e,["name"]);if(a!=null&&w(r,["name"],a),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return r}function ape(e,t){const r={},n=_(e,["allowedFunctionNames"]);n!=null&&w(r,["allowedFunctionNames"],n);const i=_(e,["mode"]);if(i!=null&&w(r,["mode"],i),_(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return r}function spe(e,t){const r={},n=_(e,["description"]);n!=null&&w(r,["description"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["parameters"]);a!=null&&w(r,["parameters"],a);const s=_(e,["parametersJsonSchema"]);s!=null&&w(r,["parametersJsonSchema"],s);const o=_(e,["response"]);o!=null&&w(r,["response"],o);const c=_(e,["responseJsonSchema"]);if(c!=null&&w(r,["responseJsonSchema"],c),_(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return r}function ope(e,t,r,n){const i={},a=_(t,["systemInstruction"]);r!==void 0&&a!=null&&w(r,["systemInstruction"],V1(Gi(a)));const s=_(t,["temperature"]);s!=null&&w(i,["temperature"],s);const o=_(t,["topP"]);o!=null&&w(i,["topP"],o);const c=_(t,["topK"]);c!=null&&w(i,["topK"],c);const u=_(t,["candidateCount"]);u!=null&&w(i,["candidateCount"],u);const d=_(t,["maxOutputTokens"]);d!=null&&w(i,["maxOutputTokens"],d);const h=_(t,["stopSequences"]);h!=null&&w(i,["stopSequences"],h);const m=_(t,["responseLogprobs"]);m!=null&&w(i,["responseLogprobs"],m);const y=_(t,["logprobs"]);y!=null&&w(i,["logprobs"],y);const x=_(t,["presencePenalty"]);x!=null&&w(i,["presencePenalty"],x);const b=_(t,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const E=_(t,["seed"]);E!=null&&w(i,["seed"],E);const S=_(t,["responseMimeType"]);S!=null&&w(i,["responseMimeType"],S);const F=_(t,["responseSchema"]);F!=null&&w(i,["responseSchema"],CC(F));const k=_(t,["responseJsonSchema"]);if(k!=null&&w(i,["responseJsonSchema"],k),_(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(_(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=_(t,["safetySettings"]);if(r!==void 0&&M!=null){let fe=M;Array.isArray(fe)&&(fe=fe.map(me=>Xpe(me))),w(r,["safetySettings"],fe)}const D=_(t,["tools"]);if(r!==void 0&&D!=null){let fe=Fh(D);Array.isArray(fe)&&(fe=fe.map(me=>ime(Dh(me)))),w(r,["tools"],fe)}const P=_(t,["toolConfig"]);if(r!==void 0&&P!=null&&w(r,["toolConfig"],nme(P)),_(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=_(t,["cachedContent"]);r!==void 0&&N!=null&&w(r,["cachedContent"],Wl(e,N));const I=_(t,["responseModalities"]);I!=null&&w(i,["responseModalities"],I);const R=_(t,["mediaResolution"]);R!=null&&w(i,["mediaResolution"],R);const U=_(t,["speechConfig"]);if(U!=null&&w(i,["speechConfig"],NC(U)),_(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=_(t,["thinkingConfig"]);B!=null&&w(i,["thinkingConfig"],B);const L=_(t,["imageConfig"]);L!=null&&w(i,["imageConfig"],Mpe(L));const H=_(t,["enableEnhancedCivicAnswers"]);if(H!=null&&w(i,["enableEnhancedCivicAnswers"],H),_(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function lpe(e,t,r,n){const i={},a=_(t,["systemInstruction"]);r!==void 0&&a!=null&&w(r,["systemInstruction"],Gi(a));const s=_(t,["temperature"]);s!=null&&w(i,["temperature"],s);const o=_(t,["topP"]);o!=null&&w(i,["topP"],o);const c=_(t,["topK"]);c!=null&&w(i,["topK"],c);const u=_(t,["candidateCount"]);u!=null&&w(i,["candidateCount"],u);const d=_(t,["maxOutputTokens"]);d!=null&&w(i,["maxOutputTokens"],d);const h=_(t,["stopSequences"]);h!=null&&w(i,["stopSequences"],h);const m=_(t,["responseLogprobs"]);m!=null&&w(i,["responseLogprobs"],m);const y=_(t,["logprobs"]);y!=null&&w(i,["logprobs"],y);const x=_(t,["presencePenalty"]);x!=null&&w(i,["presencePenalty"],x);const b=_(t,["frequencyPenalty"]);b!=null&&w(i,["frequencyPenalty"],b);const E=_(t,["seed"]);E!=null&&w(i,["seed"],E);const S=_(t,["responseMimeType"]);S!=null&&w(i,["responseMimeType"],S);const F=_(t,["responseSchema"]);F!=null&&w(i,["responseSchema"],CC(F));const k=_(t,["responseJsonSchema"]);k!=null&&w(i,["responseJsonSchema"],k);const M=_(t,["routingConfig"]);M!=null&&w(i,["routingConfig"],M);const D=_(t,["modelSelectionConfig"]);D!=null&&w(i,["modelConfig"],D);const P=_(t,["safetySettings"]);if(r!==void 0&&P!=null){let ce=P;Array.isArray(ce)&&(ce=ce.map(ie=>ie)),w(r,["safetySettings"],ce)}const N=_(t,["tools"]);if(r!==void 0&&N!=null){let ce=Fh(N);Array.isArray(ce)&&(ce=ce.map(ie=>HB(Dh(ie)))),w(r,["tools"],ce)}const I=_(t,["toolConfig"]);r!==void 0&&I!=null&&w(r,["toolConfig"],I);const R=_(t,["labels"]);r!==void 0&&R!=null&&w(r,["labels"],R);const U=_(t,["cachedContent"]);r!==void 0&&U!=null&&w(r,["cachedContent"],Wl(e,U));const B=_(t,["responseModalities"]);B!=null&&w(i,["responseModalities"],B);const L=_(t,["mediaResolution"]);L!=null&&w(i,["mediaResolution"],L);const H=_(t,["speechConfig"]);H!=null&&w(i,["speechConfig"],NC(H));const fe=_(t,["audioTimestamp"]);fe!=null&&w(i,["audioTimestamp"],fe);const me=_(t,["thinkingConfig"]);me!=null&&w(i,["thinkingConfig"],me);const ne=_(t,["imageConfig"]);if(ne!=null&&w(i,["imageConfig"],Dpe(ne)),_(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ue=_(t,["modelArmorConfig"]);return r!==void 0&&ue!=null&&w(r,["modelArmorConfig"],ue),i}function JD(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>V1(c))),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&w(n,["generationConfig"],ope(e,s,n)),n}function XD(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["contents"]);if(a!=null){let o=Os(a);Array.isArray(o)&&(o=o.map(c=>c)),w(n,["contents"],o)}const s=_(t,["config"]);return s!=null&&w(n,["generationConfig"],lpe(e,s,n)),n}function ZD(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>k0e(d))),w(r,["candidates"],u)}const a=_(e,["modelVersion"]);a!=null&&w(r,["modelVersion"],a);const s=_(e,["promptFeedback"]);s!=null&&w(r,["promptFeedback"],s);const o=_(e,["responseId"]);o!=null&&w(r,["responseId"],o);const c=_(e,["usageMetadata"]);return c!=null&&w(r,["usageMetadata"],c),r}function QD(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>h)),w(r,["candidates"],d)}const a=_(e,["createTime"]);a!=null&&w(r,["createTime"],a);const s=_(e,["modelVersion"]);s!=null&&w(r,["modelVersion"],s);const o=_(e,["promptFeedback"]);o!=null&&w(r,["promptFeedback"],o);const c=_(e,["responseId"]);c!=null&&w(r,["responseId"],c);const u=_(e,["usageMetadata"]);return u!=null&&w(r,["usageMetadata"],u),r}function cpe(e,t,r){const n={};if(_(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=_(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=_(e,["aspectRatio"]);t!==void 0&&a!=null&&w(t,["parameters","aspectRatio"],a);const s=_(e,["guidanceScale"]);if(t!==void 0&&s!=null&&w(t,["parameters","guidanceScale"],s),_(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=_(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&w(t,["parameters","safetySetting"],o);const c=_(e,["personGeneration"]);t!==void 0&&c!=null&&w(t,["parameters","personGeneration"],c);const u=_(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&w(t,["parameters","includeSafetyAttributes"],u);const d=_(e,["includeRaiReason"]);t!==void 0&&d!=null&&w(t,["parameters","includeRaiReason"],d);const h=_(e,["language"]);t!==void 0&&h!=null&&w(t,["parameters","language"],h);const m=_(e,["outputMimeType"]);t!==void 0&&m!=null&&w(t,["parameters","outputOptions","mimeType"],m);const y=_(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&w(t,["parameters","outputOptions","compressionQuality"],y),_(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=_(e,["imageSize"]);if(t!==void 0&&x!=null&&w(t,["parameters","sampleImageSize"],x),_(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function upe(e,t,r){const n={},i=_(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=_(e,["negativePrompt"]);t!==void 0&&a!=null&&w(t,["parameters","negativePrompt"],a);const s=_(e,["numberOfImages"]);t!==void 0&&s!=null&&w(t,["parameters","sampleCount"],s);const o=_(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const c=_(e,["guidanceScale"]);t!==void 0&&c!=null&&w(t,["parameters","guidanceScale"],c);const u=_(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const d=_(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const h=_(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const m=_(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&w(t,["parameters","includeSafetyAttributes"],m);const y=_(e,["includeRaiReason"]);t!==void 0&&y!=null&&w(t,["parameters","includeRaiReason"],y);const x=_(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const b=_(e,["outputMimeType"]);t!==void 0&&b!=null&&w(t,["parameters","outputOptions","mimeType"],b);const E=_(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const S=_(e,["addWatermark"]);t!==void 0&&S!=null&&w(t,["parameters","addWatermark"],S);const F=_(e,["labels"]);t!==void 0&&F!=null&&w(t,["labels"],F);const k=_(e,["imageSize"]);t!==void 0&&k!=null&&w(t,["parameters","sampleImageSize"],k);const M=_(e,["enhancePrompt"]);return t!==void 0&&M!=null&&w(t,["parameters","enhancePrompt"],M),n}function fpe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["config"]);return s!=null&&cpe(s,n),n}function dpe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["config"]);return s!=null&&upe(s,n),n}function hpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Ape(o))),w(r,["generatedImages"],s)}const a=_(e,["positivePromptSafetyAttributes"]);return a!=null&&w(r,["positivePromptSafetyAttributes"],zB(a)),r}function ppe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>z1(o))),w(r,["generatedImages"],s)}const a=_(e,["positivePromptSafetyAttributes"]);return a!=null&&w(r,["positivePromptSafetyAttributes"],$B(a)),r}function mpe(e,t,r){const n={},i=_(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i),_(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(_(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=_(e,["durationSeconds"]);if(t!==void 0&&a!=null&&w(t,["parameters","durationSeconds"],a),_(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=_(e,["aspectRatio"]);t!==void 0&&s!=null&&w(t,["parameters","aspectRatio"],s);const o=_(e,["resolution"]);t!==void 0&&o!=null&&w(t,["parameters","resolution"],o);const c=_(e,["personGeneration"]);if(t!==void 0&&c!=null&&w(t,["parameters","personGeneration"],c),_(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=_(e,["negativePrompt"]);t!==void 0&&u!=null&&w(t,["parameters","negativePrompt"],u);const d=_(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&w(t,["parameters","enhancePrompt"],d),_(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=_(e,["lastFrame"]);t!==void 0&&h!=null&&w(t,["instances[0]","lastFrame"],$1(h));const m=_(e,["referenceImages"]);if(t!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(x=>vme(x))),w(t,["instances[0]","referenceImages"],y)}if(_(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(_(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function gpe(e,t,r){const n={},i=_(e,["numberOfVideos"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=_(e,["outputGcsUri"]);t!==void 0&&a!=null&&w(t,["parameters","storageUri"],a);const s=_(e,["fps"]);t!==void 0&&s!=null&&w(t,["parameters","fps"],s);const o=_(e,["durationSeconds"]);t!==void 0&&o!=null&&w(t,["parameters","durationSeconds"],o);const c=_(e,["seed"]);t!==void 0&&c!=null&&w(t,["parameters","seed"],c);const u=_(e,["aspectRatio"]);t!==void 0&&u!=null&&w(t,["parameters","aspectRatio"],u);const d=_(e,["resolution"]);t!==void 0&&d!=null&&w(t,["parameters","resolution"],d);const h=_(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const m=_(e,["pubsubTopic"]);t!==void 0&&m!=null&&w(t,["parameters","pubsubTopic"],m);const y=_(e,["negativePrompt"]);t!==void 0&&y!=null&&w(t,["parameters","negativePrompt"],y);const x=_(e,["enhancePrompt"]);t!==void 0&&x!=null&&w(t,["parameters","enhancePrompt"],x);const b=_(e,["generateAudio"]);t!==void 0&&b!=null&&w(t,["parameters","generateAudio"],b);const E=_(e,["lastFrame"]);t!==void 0&&E!=null&&w(t,["instances[0]","lastFrame"],go(E));const S=_(e,["referenceImages"]);if(t!==void 0&&S!=null){let M=S;Array.isArray(M)&&(M=M.map(D=>yme(D))),w(t,["instances[0]","referenceImages"],M)}const F=_(e,["mask"]);t!==void 0&&F!=null&&w(t,["instances[0]","mask"],gme(F));const k=_(e,["compressionQuality"]);return t!==void 0&&k!=null&&w(t,["parameters","compressionQuality"],k),n}function vpe(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["metadata"]);i!=null&&w(r,["metadata"],i);const a=_(e,["done"]);a!=null&&w(r,["done"],a);const s=_(e,["error"]);s!=null&&w(r,["error"],s);const o=_(e,["response","generateVideoResponse"]);return o!=null&&w(r,["response"],bpe(o)),r}function ype(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["metadata"]);i!=null&&w(r,["metadata"],i);const a=_(e,["done"]);a!=null&&w(r,["done"],a);const s=_(e,["error"]);s!=null&&w(r,["error"],s);const o=_(e,["response"]);return o!=null&&w(r,["response"],wpe(o)),r}function xpe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["image"]);s!=null&&w(n,["instances[0]","image"],$1(s));const o=_(t,["video"]);o!=null&&w(n,["instances[0]","video"],GB(o));const c=_(t,["source"]);c!=null&&Epe(c,n);const u=_(t,["config"]);return u!=null&&mpe(u,n),n}function _pe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["prompt"]);a!=null&&w(n,["instances[0]","prompt"],a);const s=_(t,["image"]);s!=null&&w(n,["instances[0]","image"],go(s));const o=_(t,["video"]);o!=null&&w(n,["instances[0]","video"],qB(o));const c=_(t,["source"]);c!=null&&Tpe(c,n);const u=_(t,["config"]);return u!=null&&gpe(u,n),n}function bpe(e,t){const r={},n=_(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Cpe(o))),w(r,["generatedVideos"],s)}const i=_(e,["raiMediaFilteredCount"]);i!=null&&w(r,["raiMediaFilteredCount"],i);const a=_(e,["raiMediaFilteredReasons"]);return a!=null&&w(r,["raiMediaFilteredReasons"],a),r}function wpe(e,t){const r={},n=_(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Npe(o))),w(r,["generatedVideos"],s)}const i=_(e,["raiMediaFilteredCount"]);i!=null&&w(r,["raiMediaFilteredCount"],i);const a=_(e,["raiMediaFilteredReasons"]);return a!=null&&w(r,["raiMediaFilteredReasons"],a),r}function Epe(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],$1(a));const s=_(e,["video"]);return t!==void 0&&s!=null&&w(t,["instances[0]","video"],GB(s)),n}function Tpe(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],go(a));const s=_(e,["video"]);return t!==void 0&&s!=null&&w(t,["instances[0]","video"],qB(s)),n}function Ape(e,t){const r={},n=_(e,["_self"]);n!=null&&w(r,["image"],Fpe(n));const i=_(e,["raiFilteredReason"]);i!=null&&w(r,["raiFilteredReason"],i);const a=_(e,["_self"]);return a!=null&&w(r,["safetyAttributes"],zB(a)),r}function z1(e,t){const r={},n=_(e,["_self"]);n!=null&&w(r,["image"],VB(n));const i=_(e,["raiFilteredReason"]);i!=null&&w(r,["raiFilteredReason"],i);const a=_(e,["_self"]);a!=null&&w(r,["safetyAttributes"],$B(a));const s=_(e,["prompt"]);return s!=null&&w(r,["enhancedPrompt"],s),r}function Spe(e,t){const r={},n=_(e,["_self"]);n!=null&&w(r,["mask"],VB(n));const i=_(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(r,["labels"],a)}return r}function Cpe(e,t){const r={},n=_(e,["video"]);return n!=null&&w(r,["video"],pme(n)),r}function Npe(e,t){const r={},n=_(e,["_self"]);return n!=null&&w(r,["video"],mme(n)),r}function Ipe(e,t){const r={},n=_(e,["modelSelectionConfig"]);n!=null&&w(r,["modelConfig"],n);const i=_(e,["responseJsonSchema"]);i!=null&&w(r,["responseJsonSchema"],i);const a=_(e,["audioTimestamp"]);a!=null&&w(r,["audioTimestamp"],a);const s=_(e,["candidateCount"]);s!=null&&w(r,["candidateCount"],s);const o=_(e,["enableAffectiveDialog"]);o!=null&&w(r,["enableAffectiveDialog"],o);const c=_(e,["frequencyPenalty"]);c!=null&&w(r,["frequencyPenalty"],c);const u=_(e,["logprobs"]);u!=null&&w(r,["logprobs"],u);const d=_(e,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=_(e,["mediaResolution"]);h!=null&&w(r,["mediaResolution"],h);const m=_(e,["presencePenalty"]);m!=null&&w(r,["presencePenalty"],m);const y=_(e,["responseLogprobs"]);y!=null&&w(r,["responseLogprobs"],y);const x=_(e,["responseMimeType"]);x!=null&&w(r,["responseMimeType"],x);const b=_(e,["responseModalities"]);b!=null&&w(r,["responseModalities"],b);const E=_(e,["responseSchema"]);E!=null&&w(r,["responseSchema"],E);const S=_(e,["routingConfig"]);S!=null&&w(r,["routingConfig"],S);const F=_(e,["seed"]);F!=null&&w(r,["seed"],F);const k=_(e,["speechConfig"]);k!=null&&w(r,["speechConfig"],k);const M=_(e,["stopSequences"]);M!=null&&w(r,["stopSequences"],M);const D=_(e,["temperature"]);D!=null&&w(r,["temperature"],D);const P=_(e,["thinkingConfig"]);P!=null&&w(r,["thinkingConfig"],P);const N=_(e,["topK"]);N!=null&&w(r,["topK"],N);const I=_(e,["topP"]);if(I!=null&&w(r,["topP"],I),_(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function kpe(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],dr(e,i)),n}function Ppe(e,t,r){const n={},i=_(t,["model"]);return i!=null&&w(n,["_url","name"],dr(e,i)),n}function Rpe(e,t){const r={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=_(e,["enableWidget"]);return n!=null&&w(r,["enableWidget"],n),r}function Ope(e,t){const r={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=_(e,["timeRangeFilter"]);return n!=null&&w(r,["timeRangeFilter"],n),r}function Mpe(e,t){const r={},n=_(e,["aspectRatio"]);n!=null&&w(r,["aspectRatio"],n);const i=_(e,["imageSize"]);if(i!=null&&w(r,["imageSize"],i),_(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(_(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(_(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return r}function Dpe(e,t){const r={},n=_(e,["aspectRatio"]);n!=null&&w(r,["aspectRatio"],n);const i=_(e,["imageSize"]);i!=null&&w(r,["imageSize"],i);const a=_(e,["personGeneration"]);a!=null&&w(r,["personGeneration"],a);const s=_(e,["outputMimeType"]);s!=null&&w(r,["imageOutputOptions","mimeType"],s);const o=_(e,["outputCompressionQuality"]);return o!=null&&w(r,["imageOutputOptions","compressionQuality"],o),r}function Fpe(e,t){const r={},n=_(e,["bytesBase64Encoded"]);n!=null&&w(r,["imageBytes"],hu(n));const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function VB(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["gcsUri"],n);const i=_(e,["bytesBase64Encoded"]);i!=null&&w(r,["imageBytes"],hu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function $1(e,t){const r={};if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=_(e,["imageBytes"]);n!=null&&w(r,["bytesBase64Encoded"],hu(n));const i=_(e,["mimeType"]);return i!=null&&w(r,["mimeType"],i),r}function go(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["gcsUri"],n);const i=_(e,["imageBytes"]);i!=null&&w(r,["bytesBase64Encoded"],hu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function Lpe(e,t,r,n){const i={},a=_(t,["pageSize"]);r!==void 0&&a!=null&&w(r,["_query","pageSize"],a);const s=_(t,["pageToken"]);r!==void 0&&s!=null&&w(r,["_query","pageToken"],s);const o=_(t,["filter"]);r!==void 0&&o!=null&&w(r,["_query","filter"],o);const c=_(t,["queryBase"]);return r!==void 0&&c!=null&&w(r,["_url","models_url"],MB(e,c)),i}function jpe(e,t,r,n){const i={},a=_(t,["pageSize"]);r!==void 0&&a!=null&&w(r,["_query","pageSize"],a);const s=_(t,["pageToken"]);r!==void 0&&s!=null&&w(r,["_query","pageToken"],s);const o=_(t,["filter"]);r!==void 0&&o!=null&&w(r,["_query","filter"],o);const c=_(t,["queryBase"]);return r!==void 0&&c!=null&&w(r,["_url","models_url"],MB(e,c)),i}function Upe(e,t,r){const n={},i=_(t,["config"]);return i!=null&&Lpe(e,i,n),n}function Bpe(e,t,r){const n={},i=_(t,["config"]);return i!=null&&jpe(e,i,n),n}function Vpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["_self"]);if(a!=null){let s=DB(a);Array.isArray(s)&&(s=s.map(o=>WA(o))),w(r,["models"],s)}return r}function zpe(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["_self"]);if(a!=null){let s=DB(a);Array.isArray(s)&&(s=s.map(o=>YA(o))),w(r,["models"],s)}return r}function $pe(e,t){const r={},n=_(e,["maskMode"]);n!=null&&w(r,["maskMode"],n);const i=_(e,["segmentationClasses"]);i!=null&&w(r,["maskClasses"],i);const a=_(e,["maskDilation"]);return a!=null&&w(r,["dilation"],a),r}function WA(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["displayName"]);i!=null&&w(r,["displayName"],i);const a=_(e,["description"]);a!=null&&w(r,["description"],a);const s=_(e,["version"]);s!=null&&w(r,["version"],s);const o=_(e,["_self"]);o!=null&&w(r,["tunedModelInfo"],ame(o));const c=_(e,["inputTokenLimit"]);c!=null&&w(r,["inputTokenLimit"],c);const u=_(e,["outputTokenLimit"]);u!=null&&w(r,["outputTokenLimit"],u);const d=_(e,["supportedGenerationMethods"]);d!=null&&w(r,["supportedActions"],d);const h=_(e,["temperature"]);h!=null&&w(r,["temperature"],h);const m=_(e,["maxTemperature"]);m!=null&&w(r,["maxTemperature"],m);const y=_(e,["topP"]);y!=null&&w(r,["topP"],y);const x=_(e,["topK"]);x!=null&&w(r,["topK"],x);const b=_(e,["thinking"]);return b!=null&&w(r,["thinking"],b),r}function YA(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["name"],n);const i=_(e,["displayName"]);i!=null&&w(r,["displayName"],i);const a=_(e,["description"]);a!=null&&w(r,["description"],a);const s=_(e,["versionId"]);s!=null&&w(r,["version"],s);const o=_(e,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>rpe(y))),w(r,["endpoints"],m)}const c=_(e,["labels"]);c!=null&&w(r,["labels"],c);const u=_(e,["_self"]);u!=null&&w(r,["tunedModelInfo"],sme(u));const d=_(e,["defaultCheckpointId"]);d!=null&&w(r,["defaultCheckpointId"],d);const h=_(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>y)),w(r,["checkpoints"],m)}return r}function Hpe(e,t){const r={},n=_(e,["mediaResolution"]);n!=null&&w(r,["mediaResolution"],n);const i=_(e,["codeExecutionResult"]);i!=null&&w(r,["codeExecutionResult"],i);const a=_(e,["executableCode"]);a!=null&&w(r,["executableCode"],a);const s=_(e,["fileData"]);s!=null&&w(r,["fileData"],npe(s));const o=_(e,["functionCall"]);o!=null&&w(r,["functionCall"],ipe(o));const c=_(e,["functionResponse"]);c!=null&&w(r,["functionResponse"],c);const u=_(e,["inlineData"]);u!=null&&w(r,["inlineData"],I0e(u));const d=_(e,["text"]);d!=null&&w(r,["text"],d);const h=_(e,["thought"]);h!=null&&w(r,["thought"],h);const m=_(e,["thoughtSignature"]);m!=null&&w(r,["thoughtSignature"],m);const y=_(e,["videoMetadata"]);return y!=null&&w(r,["videoMetadata"],y),r}function Gpe(e,t){const r={},n=_(e,["productImage"]);return n!=null&&w(r,["image"],go(n)),r}function qpe(e,t,r){const n={},i=_(e,["numberOfImages"]);t!==void 0&&i!=null&&w(t,["parameters","sampleCount"],i);const a=_(e,["baseSteps"]);t!==void 0&&a!=null&&w(t,["parameters","baseSteps"],a);const s=_(e,["outputGcsUri"]);t!==void 0&&s!=null&&w(t,["parameters","storageUri"],s);const o=_(e,["seed"]);t!==void 0&&o!=null&&w(t,["parameters","seed"],o);const c=_(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&w(t,["parameters","safetySetting"],c);const u=_(e,["personGeneration"]);t!==void 0&&u!=null&&w(t,["parameters","personGeneration"],u);const d=_(e,["addWatermark"]);t!==void 0&&d!=null&&w(t,["parameters","addWatermark"],d);const h=_(e,["outputMimeType"]);t!==void 0&&h!=null&&w(t,["parameters","outputOptions","mimeType"],h);const m=_(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&w(t,["parameters","outputOptions","compressionQuality"],m);const y=_(e,["enhancePrompt"]);t!==void 0&&y!=null&&w(t,["parameters","enhancePrompt"],y);const x=_(e,["labels"]);return t!==void 0&&x!=null&&w(t,["labels"],x),n}function Kpe(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["source"]);a!=null&&Ype(a,n);const s=_(t,["config"]);return s!=null&&qpe(s,n),n}function Wpe(e,t){const r={},n=_(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>z1(a))),w(r,["generatedImages"],i)}return r}function Ype(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["personImage"]);t!==void 0&&a!=null&&w(t,["instances[0]","personImage","image"],go(a));const s=_(e,["productImages"]);if(t!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>Gpe(c))),w(t,["instances[0]","productImages"],o)}return n}function Jpe(e,t){const r={},n=_(e,["referenceImage"]);n!=null&&w(r,["referenceImage"],go(n));const i=_(e,["referenceId"]);i!=null&&w(r,["referenceId"],i);const a=_(e,["referenceType"]);a!=null&&w(r,["referenceType"],a);const s=_(e,["maskImageConfig"]);s!=null&&w(r,["maskImageConfig"],$pe(s));const o=_(e,["controlImageConfig"]);o!=null&&w(r,["controlImageConfig"],F0e(o));const c=_(e,["styleImageConfig"]);c!=null&&w(r,["styleImageConfig"],c);const u=_(e,["subjectImageConfig"]);return u!=null&&w(r,["subjectImageConfig"],u),r}function zB(e,t){const r={},n=_(e,["safetyAttributes","categories"]);n!=null&&w(r,["categories"],n);const i=_(e,["safetyAttributes","scores"]);i!=null&&w(r,["scores"],i);const a=_(e,["contentType"]);return a!=null&&w(r,["contentType"],a),r}function $B(e,t){const r={},n=_(e,["safetyAttributes","categories"]);n!=null&&w(r,["categories"],n);const i=_(e,["safetyAttributes","scores"]);i!=null&&w(r,["scores"],i);const a=_(e,["contentType"]);return a!=null&&w(r,["contentType"],a),r}function Xpe(e,t){const r={},n=_(e,["category"]);if(n!=null&&w(r,["category"],n),_(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=_(e,["threshold"]);return i!=null&&w(r,["threshold"],i),r}function Zpe(e,t){const r={},n=_(e,["image"]);return n!=null&&w(r,["image"],go(n)),r}function Qpe(e,t,r){const n={},i=_(e,["mode"]);t!==void 0&&i!=null&&w(t,["parameters","mode"],i);const a=_(e,["maxPredictions"]);t!==void 0&&a!=null&&w(t,["parameters","maxPredictions"],a);const s=_(e,["confidenceThreshold"]);t!==void 0&&s!=null&&w(t,["parameters","confidenceThreshold"],s);const o=_(e,["maskDilation"]);t!==void 0&&o!=null&&w(t,["parameters","maskDilation"],o);const c=_(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&w(t,["parameters","binaryColorThreshold"],c);const u=_(e,["labels"]);return t!==void 0&&u!=null&&w(t,["labels"],u),n}function eme(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["source"]);a!=null&&rme(a,n);const s=_(t,["config"]);return s!=null&&Qpe(s,n),n}function tme(e,t){const r={},n=_(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Spe(a))),w(r,["generatedMasks"],i)}return r}function rme(e,t,r){const n={},i=_(e,["prompt"]);t!==void 0&&i!=null&&w(t,["instances[0]","prompt"],i);const a=_(e,["image"]);t!==void 0&&a!=null&&w(t,["instances[0]","image"],go(a));const s=_(e,["scribbleImage"]);return t!==void 0&&s!=null&&w(t,["instances[0]","scribble"],Zpe(s)),n}function nme(e,t){const r={},n=_(e,["retrievalConfig"]);n!=null&&w(r,["retrievalConfig"],n);const i=_(e,["functionCallingConfig"]);return i!=null&&w(r,["functionCallingConfig"],ape(i)),r}function ime(e,t){const r={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=_(e,["computerUse"]);n!=null&&w(r,["computerUse"],n);const i=_(e,["fileSearch"]);i!=null&&w(r,["fileSearch"],i);const a=_(e,["codeExecution"]);if(a!=null&&w(r,["codeExecution"],a),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=_(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>m)),w(r,["functionDeclarations"],h)}const o=_(e,["googleMaps"]);o!=null&&w(r,["googleMaps"],Rpe(o));const c=_(e,["googleSearch"]);c!=null&&w(r,["googleSearch"],Ope(c));const u=_(e,["googleSearchRetrieval"]);u!=null&&w(r,["googleSearchRetrieval"],u);const d=_(e,["urlContext"]);return d!=null&&w(r,["urlContext"],d),r}function HB(e,t){const r={},n=_(e,["retrieval"]);n!=null&&w(r,["retrieval"],n);const i=_(e,["computerUse"]);if(i!=null&&w(r,["computerUse"],i),_(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=_(e,["codeExecution"]);a!=null&&w(r,["codeExecution"],a);const s=_(e,["enterpriseWebSearch"]);s!=null&&w(r,["enterpriseWebSearch"],s);const o=_(e,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(y=>spe(y))),w(r,["functionDeclarations"],m)}const c=_(e,["googleMaps"]);c!=null&&w(r,["googleMaps"],c);const u=_(e,["googleSearch"]);u!=null&&w(r,["googleSearch"],u);const d=_(e,["googleSearchRetrieval"]);d!=null&&w(r,["googleSearchRetrieval"],d);const h=_(e,["urlContext"]);return h!=null&&w(r,["urlContext"],h),r}function ame(e,t){const r={},n=_(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["createTime"]);i!=null&&w(r,["createTime"],i);const a=_(e,["updateTime"]);return a!=null&&w(r,["updateTime"],a),r}function sme(e,t){const r={},n=_(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["createTime"]);i!=null&&w(r,["createTime"],i);const a=_(e,["updateTime"]);return a!=null&&w(r,["updateTime"],a),r}function ome(e,t,r){const n={},i=_(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=_(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);const s=_(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&w(t,["defaultCheckpointId"],s),n}function lme(e,t,r){const n={},i=_(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=_(e,["description"]);t!==void 0&&a!=null&&w(t,["description"],a);const s=_(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&w(t,["defaultCheckpointId"],s),n}function cme(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","name"],dr(e,i));const a=_(t,["config"]);return a!=null&&ome(a,n),n}function ume(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["config"]);return a!=null&&lme(a,n),n}function fme(e,t,r){const n={},i=_(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const a=_(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&w(t,["parameters","safetySetting"],a);const s=_(e,["personGeneration"]);t!==void 0&&s!=null&&w(t,["parameters","personGeneration"],s);const o=_(e,["includeRaiReason"]);t!==void 0&&o!=null&&w(t,["parameters","includeRaiReason"],o);const c=_(e,["outputMimeType"]);t!==void 0&&c!=null&&w(t,["parameters","outputOptions","mimeType"],c);const u=_(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&w(t,["parameters","outputOptions","compressionQuality"],u);const d=_(e,["enhanceInputImage"]);t!==void 0&&d!=null&&w(t,["parameters","upscaleConfig","enhanceInputImage"],d);const h=_(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&w(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=_(e,["labels"]);t!==void 0&&m!=null&&w(t,["labels"],m);const y=_(e,["numberOfImages"]);t!==void 0&&y!=null&&w(t,["parameters","sampleCount"],y);const x=_(e,["mode"]);return t!==void 0&&x!=null&&w(t,["parameters","mode"],x),n}function dme(e,t,r){const n={},i=_(t,["model"]);i!=null&&w(n,["_url","model"],dr(e,i));const a=_(t,["image"]);a!=null&&w(n,["instances[0]","image"],go(a));const s=_(t,["upscaleFactor"]);s!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=_(t,["config"]);return o!=null&&fme(o,n),n}function hme(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>z1(s))),w(r,["generatedImages"],a)}return r}function pme(e,t){const r={},n=_(e,["uri"]);n!=null&&w(r,["uri"],n);const i=_(e,["encodedVideo"]);i!=null&&w(r,["videoBytes"],hu(i));const a=_(e,["encoding"]);return a!=null&&w(r,["mimeType"],a),r}function mme(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["uri"],n);const i=_(e,["bytesBase64Encoded"]);i!=null&&w(r,["videoBytes"],hu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function gme(e,t){const r={},n=_(e,["image"]);n!=null&&w(r,["_self"],go(n));const i=_(e,["maskMode"]);return i!=null&&w(r,["maskMode"],i),r}function vme(e,t){const r={},n=_(e,["image"]);n!=null&&w(r,["image"],$1(n));const i=_(e,["referenceType"]);return i!=null&&w(r,["referenceType"],i),r}function yme(e,t){const r={},n=_(e,["image"]);n!=null&&w(r,["image"],go(n));const i=_(e,["referenceType"]);return i!=null&&w(r,["referenceType"],i),r}function GB(e,t){const r={},n=_(e,["uri"]);n!=null&&w(r,["uri"],n);const i=_(e,["videoBytes"]);i!=null&&w(r,["encodedVideo"],hu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["encoding"],a),r}function qB(e,t){const r={},n=_(e,["uri"]);n!=null&&w(r,["gcsUri"],n);const i=_(e,["videoBytes"]);i!=null&&w(r,["bytesBase64Encoded"],hu(i));const a=_(e,["mimeType"]);return a!=null&&w(r,["mimeType"],a),r}function xme(e,t){const r={},n=_(e,["displayName"]);return t!==void 0&&n!=null&&w(t,["displayName"],n),r}function _me(e){const t={},r=_(e,["config"]);return r!=null&&xme(r,t),t}function bme(e,t){const r={},n=_(e,["force"]);return t!==void 0&&n!=null&&w(t,["_query","force"],n),r}function wme(e){const t={},r=_(e,["name"]);r!=null&&w(t,["_url","name"],r);const n=_(e,["config"]);return n!=null&&bme(n,t),t}function Eme(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Tme(e,t){const r={},n=_(e,["customMetadata"]);if(t!==void 0&&n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["customMetadata"],a)}const i=_(e,["chunkingConfig"]);return t!==void 0&&i!=null&&w(t,["chunkingConfig"],i),r}function Ame(e){const t={},r=_(e,["name"]);r!=null&&w(t,["name"],r);const n=_(e,["metadata"]);n!=null&&w(t,["metadata"],n);const i=_(e,["done"]);i!=null&&w(t,["done"],i);const a=_(e,["error"]);a!=null&&w(t,["error"],a);const s=_(e,["response"]);return s!=null&&w(t,["response"],Cme(s)),t}function Sme(e){const t={},r=_(e,["fileSearchStoreName"]);r!=null&&w(t,["_url","file_search_store_name"],r);const n=_(e,["fileName"]);n!=null&&w(t,["fileName"],n);const i=_(e,["config"]);return i!=null&&Tme(i,t),t}function Cme(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["parent"]);n!=null&&w(t,["parent"],n);const i=_(e,["documentName"]);return i!=null&&w(t,["documentName"],i),t}function Nme(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Ime(e){const t={},r=_(e,["config"]);return r!=null&&Nme(r,t),t}function kme(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["fileSearchStores"],a)}return t}function KB(e,t){const r={},n=_(e,["mimeType"]);t!==void 0&&n!=null&&w(t,["mimeType"],n);const i=_(e,["displayName"]);t!==void 0&&i!=null&&w(t,["displayName"],i);const a=_(e,["customMetadata"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(c=>c)),w(t,["customMetadata"],o)}const s=_(e,["chunkingConfig"]);return t!==void 0&&s!=null&&w(t,["chunkingConfig"],s),r}function Pme(e){const t={},r=_(e,["fileSearchStoreName"]);r!=null&&w(t,["_url","file_search_store_name"],r);const n=_(e,["config"]);return n!=null&&KB(n,t),t}function Rme(e){const t={},r=_(e,["sdkHttpResponse"]);return r!=null&&w(t,["sdkHttpResponse"],r),t}const Ome="Content-Type",Mme="X-Server-Timeout",Dme="User-Agent",JA="x-goog-api-client",Fme="1.40.0",Lme=`google-genai-sdk/${Fme}`,jme="v1beta1",Ume="v1beta";class Bme{constructor(t){var r,n,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(r=t.httpOptions)===null||r===void 0?void 0:r.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:jme}else{if(!this.clientOptions.apiKey)throw new sm({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Ume,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&n.push(t.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),r=new URL(t);return r.protocol=r.protocol=="http:"?"ws":"wss",r.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,r,n){const i=[this.getRequestUrlInternal(r)];return n&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,r){return!(r.baseUrl&&r.baseUrlResourceScope===HA.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);if(t.queryParams)for(const[s,o]of Object.entries(t.queryParams))i.searchParams.append(s,String(o));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,r){const n=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(r))typeof a=="object"?n[i]=Object.assign(Object.assign({},n[i]),a):a!==void 0&&(n[i]=a);return n}async requestStream(t){let r=this.clientOptions.httpOptions;t.httpOptions&&(r=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const n=this.shouldPrependVertexProjectPath(t,r),i=this.constructUrl(t.path,r,n);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,r,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,r,n,i){if(r&&r.timeout||i){const a=new AbortController,s=a.signal;if(r.timeout&&r?.timeout>0){const o=setTimeout(()=>a.abort(),r.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=s}return r&&r.extraBody!==null&&Vme(t,r.extraBody),t.headers=await this.getHeadersInternal(r,n),t}async unaryApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await e3(i),new GA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,r,n){return this.apiCall(t.toString(),Object.assign(Object.assign({},r),{method:n})).then(async i=>(await e3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return so(this,arguments,function*(){var n;const i=(n=t?.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const o="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Ct(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=a.decode(d,{stream:!0});try{const x=JSON.parse(h);if("error"in x){const b=JSON.parse(JSON.stringify(x.error)),E=b.status,S=b.code,F=`got status: ${E}. ${JSON.stringify(x)}`;if(S>=400&&S<600)throw new sm({message:F,status:S})}}catch(x){if(x.name==="ApiError")throw x}s+=h;let m=-1,y=0;for(;;){m=-1,y=0;for(const E of c){const S=s.indexOf(E);S!==-1&&(m===-1||S<m)&&(m=S,y=E.length)}if(m===-1)break;const x=s.substring(0,m);s=s.substring(m+y);const b=x.trim();if(b.startsWith(o)){const E=b.substring(o.length).trim();try{const S=new Response(E,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield Ct(new GA(S))}catch(S){throw new Error(`exception parsing stream chunk ${E}. ${S}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,r){return fetch(t,r).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const t={},r=Lme+" "+this.clientOptions.userAgentExtra;return t[Dme]=r,t[JA]=r,t[Ome]="application/json",t}async getHeadersInternal(t,r){const n=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))n.append(i,a);t.timeout&&t.timeout>0&&n.append(Mme,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,r),n}getFileName(t){var r;let n="";return typeof t=="string"&&(n=t.replace(/[/\\]+$/,""),n=(r=n.split(/[/\\]/).pop())!==null&&r!==void 0?r:""),n}async uploadFile(t,r){var n;const i={};r!=null&&(i.mimeType=r.mimeType,i.name=r.name,i.displayName=r.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(t);i.sizeBytes=String(s.size);const o=(n=r?.mimeType)!==null&&n!==void 0?n:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const c={file:i},u=this.getFileName(t),d=rt("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,r?.httpOptions);return a.upload(t,h,this)}async uploadFileToFileSearchStore(t,r,n){var i;const a=this.clientOptions.uploader,s=await a.stat(r),o=String(s.size),c=(i=n?.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(r),h={};n!=null&&KB(n,h);const m=await this.fetchUploadUrl(u,o,c,d,h,n?.httpOptions);return a.uploadToFileSearchStore(r,m,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,r,n,i,a,s){var o;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r}`,"X-Goog-Upload-Header-Content-Type":`${n}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:c});if(!u||!u?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(o=u?.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function e3(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const r=e.status;let n;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?n=await e.json():n={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(n);throw r>=400&&r<600?new sm({message:i,status:r}):new Error(i)}}function Vme(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let r={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))r=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(a,s){const o=Object.assign({},a);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=s[c],d=o[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?o[c]=n(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),o[c]=u)}return o}const i=n(r,t);e.body=JSON.stringify(i)}const zme="mcp_used/unknown";let $me=!1;function WB(e){for(const t of e)if(Hme(t)||typeof t=="object"&&"inputSchema"in t)return!0;return $me}function YB(e){var t;const r=(t=e[JA])!==null&&t!==void 0?t:"";e[JA]=(r+` ${zme}`).trimStart()}function Hme(e){return e!==null&&typeof e=="object"&&e instanceof kC}function Gme(e){return so(this,arguments,function*(r,n=100){let i,a=0;for(;a<n;){const s=yield Ct(r.listTools({cursor:i}));for(const o of s.tools)yield yield Ct(o),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class kC{constructor(t=[],r){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=r}static create(t,r){return new kC(t,r)}async initialize(){var t,r,n,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const d of this.mcpClients)try{for(var o=!0,c=(r=void 0,oo(Gme(d))),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const h=i;s.push(h);const m=h.name;if(a[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);a[m]=d}}catch(h){r={error:h}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),_de(this.mcpTools,this.config)}async callTool(t){await this.initialize();const r=[];for(const n of t)if(n.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[n.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:n.name,arguments:n.args},void 0,a);r.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return r}}async function qme(e,t,r){const n=new dde;let i;r.data instanceof Blob?i=JSON.parse(await r.data.text()):i=JSON.parse(r.data),Object.assign(n,i),t(n)}class Kme{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n}async connect(t){var r,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Jme(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const d=new Promise(k=>{u=k}),h=t.callbacks,m=function(){u({})},y=this.apiClient,x={onopen:m,onmessage:k=>{qme(y,h.onmessage,k)},onerror:(r=h?.onerror)!==null&&r!==void 0?r:function(k){},onclose:(n=h?.onclose)!==null&&n!==void 0?n:function(k){}},b=this.webSocketFactory.create(c,Yme(s),x);b.connect(),await d;const F={setup:{model:dr(this.apiClient,t.model)}};return b.send(JSON.stringify(F)),new Wme(b,this.apiClient)}}class Wme{constructor(t,r){this.conn=t,this.apiClient=r}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const r=x0e(t);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const r=y0e(t);this.conn.send(JSON.stringify(r))}sendPlaybackControl(t){const r={playbackControl:t};this.conn.send(JSON.stringify(r))}play(){this.sendPlaybackControl(Hd.PLAY)}pause(){this.sendPlaybackControl(Hd.PAUSE)}stop(){this.sendPlaybackControl(Hd.STOP)}resetContext(){this.sendPlaybackControl(Hd.RESET_CONTEXT)}close(){this.conn.close()}}function Yme(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function Jme(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const Xme="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Zme(e,t,r){const n=new fde;let i;r.data instanceof Blob?i=await r.data.text():r.data instanceof ArrayBuffer?i=new TextDecoder().decode(r.data):i=r.data;const a=JSON.parse(i);if(e.isVertexAI()){const s=w0e(a);Object.assign(n,s)}else Object.assign(n,a);t(n)}class Qme{constructor(t,r,n){this.apiClient=t,this.auth=r,this.webSocketFactory=n,this.music=new Kme(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var r,n,i,a,s,o;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&WB(t.config.tools)&&YB(h);const m=nge(h);if(this.apiClient.isVertexAI()){const R=this.apiClient.getProject(),U=this.apiClient.getLocation(),B=this.apiClient.getApiKey(),L=!!R&&!!U||!!B;this.apiClient.getCustomBaseUrl()&&!L?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,d))}else{const R=this.apiClient.getApiKey();let U="BidiGenerateContent",B="key";R?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",B="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${U}?${B}=${R}`}let y=()=>{};const x=new Promise(R=>{y=R}),b=t.callbacks,E=function(){var R;(R=b?.onopen)===null||R===void 0||R.call(b),y({})},S=this.apiClient,F={onopen:E,onmessage:R=>{Zme(S,b.onmessage,R)},onerror:(r=b?.onerror)!==null&&r!==void 0?r:function(R){},onclose:(n=b?.onclose)!==null&&n!==void 0?n:function(R){}},k=this.webSocketFactory.create(d,rge(m),F);k.connect(),await x;let M=dr(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const R=this.apiClient.getProject(),U=this.apiClient.getLocation();R&&U&&(M=`projects/${R}/locations/${U}/`+M)}let D={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[mx.AUDIO]}:t.config.responseModalities=[mx.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(o=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],N=[];for(const R of P)if(this.isCallableTool(R)){const U=R;N.push(await U.tool())}else N.push(R);N.length>0&&(t.config.tools=N);const I={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?D=v0e(this.apiClient,I):D=g0e(this.apiClient,I),delete D.config,k.send(JSON.stringify(D)),new tge(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const ege={turnComplete:!0};class tge{constructor(t,r){this.conn=t,this.apiClient=r}tLiveClientContent(t,r){if(r.turns!==null&&r.turns!==void 0){let n=[];try{n=Os(r.turns),t.isVertexAI()||(n=n.map(i=>V1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof r.turns}'`)}return{clientContent:{turns:n,turnComplete:r.turnComplete}}}return{clientContent:{turnComplete:r.turnComplete}}}tLiveClienttToolResponse(t,r){let n=[];if(r.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(r.functionResponses)?n=r.functionResponses:n=[r.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(Xme)}return{toolResponse:{functionResponses:n}}}sendClientContent(t){t=Object.assign(Object.assign({},ege),t);const r=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(r))}sendRealtimeInput(t){let r={};this.apiClient.isVertexAI()?r={realtimeInput:b0e(t)}:r={realtimeInput:_0e(t)},this.conn.send(JSON.stringify(r))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const r=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(r))}close(){this.conn.close()}}function rge(e){const t={};return e.forEach((r,n)=>{t[n]=r}),t}function nge(e){const t=new Headers;for(const[r,n]of Object.entries(e))t.append(r,n);return t}const t3=10;function r3(e){var t,r,n;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(r=e?.tools)!==null&&r!==void 0?r:[])if(rh(s)){i=!0;break}if(!i)return!0;const a=(n=e?.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function rh(e){return"callTool"in e&&typeof e.callTool=="function"}function ige(e){var t,r,n;return(n=(r=(t=e.config)===null||t===void 0?void 0:t.tools)===null||r===void 0?void 0:r.some(i=>rh(i)))!==null&&n!==void 0?n:!1}function n3(e){var t;const r=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((n,i)=>{if(rh(n))return;const a=n;a.functionDeclarations&&a.functionDeclarations.length>0&&r.push(i)}),r}function i3(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class age extends Kl{constructor(t){super(),this.apiClient=t,this.generateContent=async r=>{var n,i,a,s,o;const c=await this.processParamsMaybeAddMcpUsage(r);if(this.maybeMoveToResponseJsonSchem(r),!ige(r)||r3(r.config))return await this.generateContentInternal(c);const u=n3(r);if(u.length>0){const b=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,h;const m=Os(c.contents),y=(a=(i=(n=c.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:t3;let x=0;for(;x<y&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,E=[];for(const S of(o=(s=r.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(rh(S)){const k=await S.callTool(d.functionCalls);E.push(...k)}x++,h={role:"user",parts:E},c.contents=Os(c.contents),c.contents.push(b),c.contents.push(h),i3(c.config)&&(m.push(b),m.push(h))}return i3(c.config)&&(d.automaticFunctionCallingHistory=m),d},this.generateContentStream=async r=>{var n,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(r),r3(r.config)){const h=await this.processParamsMaybeAddMcpUsage(r);return await this.generateContentStreamInternal(h)}const c=n3(r);if(c.length>0){const h=c.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(n=r?.config)===null||n===void 0?void 0:n.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,d=(o=(s=r?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(r)},this.generateImages=async r=>await this.generateImagesInternal(r).then(n=>{var i;let a;const s=[];if(n?.generatedImages)for(const c of n.generatedImages)c&&c?.safetyAttributes&&((i=c?.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c?.safetyAttributes:s.push(c);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async r=>{var n;const s={config:Object.assign(Object.assign({},{queryBase:!0}),r?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((n=s.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Bf(Dl.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async r=>{const n={model:r.model,prompt:r.prompt,referenceImages:[],config:r.config};return r.referenceImages&&r.referenceImages&&(n.referenceImages=r.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async r=>{let n={numberOfImages:1,mode:"upscale"};r.config&&(n=Object.assign(Object.assign({},n),r.config));const i={model:r.model,image:r.image,upscaleFactor:r.upscaleFactor,config:n};return await this.upscaleImageInternal(i)},this.generateVideos=async r=>{var n,i,a,s,o,c;if((r.prompt||r.image||r.video)&&r.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((n=r.video)===null||n===void 0)&&n.uri&&(!((i=r.video)===null||i===void 0)&&i.videoBytes)?r.video={uri:r.video.uri,mimeType:r.video.mimeType}:!((s=(a=r.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((c=(o=r.source)===null||o===void 0?void 0:o.video)===null||c===void 0)&&c.videoBytes)&&(r.source.video={uri:r.source.video.uri,mimeType:r.source.video.mimeType})),await this.generateVideosInternal(r)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var r,n,i;const a=(r=t.config)===null||r===void 0?void 0:r.tools;if(!a)return t;const s=await Promise.all(a.map(async c=>rh(c)?await c.tool():c)),o={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(o.config.tools=s,t.config&&t.config.tools&&WB(t.config.tools)){const c=(i=(n=t.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),YB(u),o.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(t){var r,n,i;const a=new Map;for(const s of(n=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&n!==void 0?n:[])if(rh(s)){const o=s,c=await o.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,o)}}return a}async processAfcStream(t){var r,n,i;const a=(i=(n=(r=t.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&i!==void 0?i:t3;let s=!1,o=0;const c=await this.initAfcToolsMap(t);return(function(u,d,h){return so(this,arguments,function*(){for(var m,y,x,b,E,S;o<a;){s&&(o++,s=!1);const D=yield Ct(u.processParamsMaybeAddMcpUsage(h)),P=yield Ct(u.generateContentStreamInternal(D)),N=[],I=[];try{for(var F=!0,k=(y=void 0,oo(P)),M;M=yield Ct(k.next()),m=M.done,!m;F=!0){b=M.value,F=!1;const R=b;if(yield yield Ct(R),R.candidates&&(!((E=R.candidates[0])===null||E===void 0)&&E.content)){I.push(R.candidates[0].content);for(const U of(S=R.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(o<a&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(U.functionCall.name)){const B=yield Ct(d.get(U.functionCall.name).callTool([U.functionCall]));N.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(R){y={error:R}}finally{try{!F&&!m&&(x=k.return)&&(yield Ct(x.call(k)))}finally{if(y)throw y.error}}if(N.length>0){s=!0;const R=new $0;R.candidates=[{content:{role:"user",parts:N}}],yield yield Ct(R);const U=[];U.push(...I),U.push({role:"user",parts:N});const B=Os(h.contents).concat(U);h.contents=B}else break}})})(this,c,t)}async generateContentInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=XD(this.apiClient,t);return o=rt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=QD(d),m=new $0;return Object.assign(m,h),m})}else{const u=JD(this.apiClient,t);return o=rt("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=ZD(d),m=new $0;return Object.assign(m,h),m})}}async generateContentStreamInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=XD(this.apiClient,t);return o=rt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}),s.then(function(h){return so(this,arguments,function*(){var m,y,x,b;try{for(var E=!0,S=oo(h),F;F=yield Ct(S.next()),m=F.done,!m;E=!0){b=F.value,E=!1;const k=b,M=QD(yield Ct(k.json()),t);M.sdkHttpResponse={headers:k.headers};const D=new $0;Object.assign(D,M),yield yield Ct(D)}}catch(k){y={error:k}}finally{try{!E&&!m&&(x=S.return)&&(yield Ct(x.call(S)))}finally{if(y)throw y.error}}})})}else{const u=JD(this.apiClient,t);return o=rt("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(h){return so(this,arguments,function*(){var m,y,x,b;try{for(var E=!0,S=oo(h),F;F=yield Ct(S.next()),m=F.done,!m;E=!0){b=F.value,E=!1;const k=b,M=ZD(yield Ct(k.json()),t);M.sdkHttpResponse={headers:k.headers};const D=new $0;Object.assign(D,M),yield yield Ct(D)}}catch(k){y={error:k}}finally{try{!E&&!m&&(x=S.return)&&(yield Ct(x.call(S)))}finally{if(y)throw y.error}}})})}}async embedContent(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Q0e(this.apiClient,t);return o=rt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=tpe(d),m=new OD;return Object.assign(m,h),m})}else{const u=Z0e(this.apiClient,t);return o=rt("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=epe(d),m=new OD;return Object.assign(m,h),m})}}async generateImagesInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=dpe(this.apiClient,t);return o=rt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=ppe(d),m=new MD;return Object.assign(m,h),m})}else{const u=fpe(this.apiClient,t);return o=rt("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=hpe(d),m=new MD;return Object.assign(m,h),m})}}async editImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=W0e(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Y0e(c),d=new Qfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=dme(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=hme(c),d=new ede;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Kpe(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Wpe(c),d=new tde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=eme(this.apiClient,t);return a=rt("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=tme(c),d=new rde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ppe(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>YA(d))}else{const u=kpe(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>WA(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Bpe(this.apiClient,t);return o=rt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=zpe(d),m=new DD;return Object.assign(m,h),m})}else{const u=Upe(this.apiClient,t);return o=rt("{models_url}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Vpe(d),m=new DD;return Object.assign(m,h),m})}}async update(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=ume(this.apiClient,t);return o=rt("{model}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>YA(d))}else{const u=cme(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>WA(d))}}async delete(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=H0e(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=q0e(d),m=new FD;return Object.assign(m,h),m})}else{const u=$0e(this.apiClient,t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=G0e(d),m=new FD;return Object.assign(m,h),m})}}async countTokens(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=B0e(this.apiClient,t);return o=rt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=z0e(d),m=new LD;return Object.assign(m,h),m})}else{const u=U0e(this.apiClient,t);return o=rt("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=V0e(d),m=new LD;return Object.assign(m,h),m})}}async computeTokens(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=R0e(this.apiClient,t);return a=rt("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=O0e(c),d=new nde;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=_pe(this.apiClient,t);return o=rt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s.then(d=>{const h=ype(d),m=new gx;return Object.assign(m,h),m})}else{const u=xpe(this.apiClient,t);return o=rt("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s.then(d=>{const h=vpe(d),m=new gx;return Object.assign(m,h),m})}}}class sge extends Kl{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const r=t.operation,n=t.config;if(r.name===void 0||r.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=r.name.split("/operations/")[0];let a;n&&"httpOptions"in n&&(a=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:r.name,resourceName:i,config:{httpOptions:a}});return r._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:r.name,config:n});return r._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Kfe(t);return o=rt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json()),s}else{const u=qfe(t);return o=rt("{operationName}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Ufe(t);return a=rt("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}function oge(e){const t={},r=_(e,["data"]);if(r!=null&&w(t,["data"],r),_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function lge(e){const t={},r=_(e,["parts"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>vge(a))),w(t,["parts"],i)}const n=_(e,["role"]);return n!=null&&w(t,["role"],n),t}function cge(e,t,r){const n={},i=_(t,["expireTime"]);r!==void 0&&i!=null&&w(r,["expireTime"],i);const a=_(t,["newSessionExpireTime"]);r!==void 0&&a!=null&&w(r,["newSessionExpireTime"],a);const s=_(t,["uses"]);r!==void 0&&s!=null&&w(r,["uses"],s);const o=_(t,["liveConnectConstraints"]);r!==void 0&&o!=null&&w(r,["bidiGenerateContentSetup"],gge(e,o));const c=_(t,["lockAdditionalFields"]);return r!==void 0&&c!=null&&w(r,["fieldMask"],c),n}function uge(e,t){const r={},n=_(t,["config"]);return n!=null&&w(r,["config"],cge(e,n,r)),r}function fge(e){const t={};if(_(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=_(e,["fileUri"]);r!=null&&w(t,["fileUri"],r);const n=_(e,["mimeType"]);return n!=null&&w(t,["mimeType"],n),t}function dge(e){const t={},r=_(e,["id"]);r!=null&&w(t,["id"],r);const n=_(e,["args"]);n!=null&&w(t,["args"],n);const i=_(e,["name"]);if(i!=null&&w(t,["name"],i),_(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(_(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hge(e){const t={};if(_(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=_(e,["enableWidget"]);return r!=null&&w(t,["enableWidget"],r),t}function pge(e){const t={};if(_(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(_(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=_(e,["timeRangeFilter"]);return r!=null&&w(t,["timeRangeFilter"],r),t}function mge(e,t){const r={},n=_(e,["generationConfig"]);t!==void 0&&n!=null&&w(t,["setup","generationConfig"],n);const i=_(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const a=_(e,["temperature"]);t!==void 0&&a!=null&&w(t,["setup","generationConfig","temperature"],a);const s=_(e,["topP"]);t!==void 0&&s!=null&&w(t,["setup","generationConfig","topP"],s);const o=_(e,["topK"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","topK"],o);const c=_(e,["maxOutputTokens"]);t!==void 0&&c!=null&&w(t,["setup","generationConfig","maxOutputTokens"],c);const u=_(e,["mediaResolution"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","mediaResolution"],u);const d=_(e,["seed"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","seed"],d);const h=_(e,["speechConfig"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","speechConfig"],IC(h));const m=_(e,["thinkingConfig"]);t!==void 0&&m!=null&&w(t,["setup","generationConfig","thinkingConfig"],m);const y=_(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=_(e,["systemInstruction"]);t!==void 0&&x!=null&&w(t,["setup","systemInstruction"],lge(Gi(x)));const b=_(e,["tools"]);if(t!==void 0&&b!=null){let P=Fh(b);Array.isArray(P)&&(P=P.map(N=>xge(Dh(N)))),w(t,["setup","tools"],P)}const E=_(e,["sessionResumption"]);t!==void 0&&E!=null&&w(t,["setup","sessionResumption"],yge(E));const S=_(e,["inputAudioTranscription"]);t!==void 0&&S!=null&&w(t,["setup","inputAudioTranscription"],S);const F=_(e,["outputAudioTranscription"]);t!==void 0&&F!=null&&w(t,["setup","outputAudioTranscription"],F);const k=_(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&w(t,["setup","realtimeInputConfig"],k);const M=_(e,["contextWindowCompression"]);t!==void 0&&M!=null&&w(t,["setup","contextWindowCompression"],M);const D=_(e,["proactivity"]);if(t!==void 0&&D!=null&&w(t,["setup","proactivity"],D),_(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return r}function gge(e,t){const r={},n=_(t,["model"]);n!=null&&w(r,["setup","model"],dr(e,n));const i=_(t,["config"]);return i!=null&&w(r,["config"],mge(i,r)),r}function vge(e){const t={},r=_(e,["mediaResolution"]);r!=null&&w(t,["mediaResolution"],r);const n=_(e,["codeExecutionResult"]);n!=null&&w(t,["codeExecutionResult"],n);const i=_(e,["executableCode"]);i!=null&&w(t,["executableCode"],i);const a=_(e,["fileData"]);a!=null&&w(t,["fileData"],fge(a));const s=_(e,["functionCall"]);s!=null&&w(t,["functionCall"],dge(s));const o=_(e,["functionResponse"]);o!=null&&w(t,["functionResponse"],o);const c=_(e,["inlineData"]);c!=null&&w(t,["inlineData"],oge(c));const u=_(e,["text"]);u!=null&&w(t,["text"],u);const d=_(e,["thought"]);d!=null&&w(t,["thought"],d);const h=_(e,["thoughtSignature"]);h!=null&&w(t,["thoughtSignature"],h);const m=_(e,["videoMetadata"]);return m!=null&&w(t,["videoMetadata"],m),t}function yge(e){const t={},r=_(e,["handle"]);if(r!=null&&w(t,["handle"],r),_(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function xge(e){const t={};if(_(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=_(e,["computerUse"]);r!=null&&w(t,["computerUse"],r);const n=_(e,["fileSearch"]);n!=null&&w(t,["fileSearch"],n);const i=_(e,["codeExecution"]);if(i!=null&&w(t,["codeExecution"],i),_(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=_(e,["functionDeclarations"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}const s=_(e,["googleMaps"]);s!=null&&w(t,["googleMaps"],hge(s));const o=_(e,["googleSearch"]);o!=null&&w(t,["googleSearch"],pge(o));const c=_(e,["googleSearchRetrieval"]);c!=null&&w(t,["googleSearchRetrieval"],c);const u=_(e,["urlContext"]);return u!=null&&w(t,["urlContext"],u),t}function _ge(e){const t=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const i=Object.keys(n).map(a=>`${r}.${a}`);t.push(...i)}else t.push(r)}return t.join(",")}function bge(e,t){let r=null;const n=e.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,r=a):delete e.bidiGenerateContentSetup}else n!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(r){const a=_ge(r);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)a?e.fieldMask=a:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const c=[];a&&c.push(a),o.length>0&&c.push(...o),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class wge extends Kl{constructor(t){super(),this.apiClient=t}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=uge(this.apiClient,t);a=rt("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const c=bge(o,t.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}function Ege(e,t){const r={},n=_(e,["force"]);return t!==void 0&&n!=null&&w(t,["_query","force"],n),r}function Tge(e){const t={},r=_(e,["name"]);r!=null&&w(t,["_url","name"],r);const n=_(e,["config"]);return n!=null&&Ege(n,t),t}function Age(e){const t={},r=_(e,["name"]);return r!=null&&w(t,["_url","name"],r),t}function Sge(e,t){const r={},n=_(e,["pageSize"]);t!==void 0&&n!=null&&w(t,["_query","pageSize"],n);const i=_(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),r}function Cge(e){const t={},r=_(e,["parent"]);r!=null&&w(t,["_url","parent"],r);const n=_(e,["config"]);return n!=null&&Sge(n,t),t}function Nge(e){const t={},r=_(e,["sdkHttpResponse"]);r!=null&&w(t,["sdkHttpResponse"],r);const n=_(e,["nextPageToken"]);n!=null&&w(t,["nextPageToken"],n);const i=_(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),w(t,["documents"],a)}return t}class Ige extends Kl{constructor(t){super(),this.apiClient=t,this.list=async r=>new Bf(Dl.PAGED_ITEM_DOCUMENTS,n=>this.listInternal({parent:r.parent,config:n.config}),await this.listInternal(r),r)}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Age(t);return a=rt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Tge(t);i=rt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cge(t);return a=rt("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Nge(c),d=new ide;return Object.assign(d,u),d})}}}class kge extends Kl{constructor(t,r=new Ige(t)){super(),this.apiClient=t,this.documents=r,this.list=async(n={})=>new Bf(Dl.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(n),n)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_me(t);return a=rt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Eme(t);return a=rt("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var r,n;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=wme(t);i=rt("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal})}}async listInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ime(t);return a=rt("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=kme(c),d=new ade;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Pme(t);return a=rt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Rme(c),d=new sde;return Object.assign(d,u),d})}}async importFile(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Sme(t);return a=rt("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Ame(c),d=new TC;return Object.assign(d,u),d})}}}let JB=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return JB=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};const Pge=()=>JB();function XA(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const ZA=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Ds extends Error{}class pa extends Ds{constructor(t,r,n,i){super(`${pa.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.error=r}static makeMessage(t,r,n){const i=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new H1({message:n,cause:ZA(r)});const a=r;return t===400?new ZB(t,a,n,i):t===401?new QB(t,a,n,i):t===403?new eV(t,a,n,i):t===404?new tV(t,a,n,i):t===409?new rV(t,a,n,i):t===422?new nV(t,a,n,i):t===429?new iV(t,a,n,i):t>=500?new aV(t,a,n,i):new pa(t,a,n,i)}}class QA extends pa{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class H1 extends pa{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class XB extends H1{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ZB extends pa{}class QB extends pa{}class eV extends pa{}class tV extends pa{}class rV extends pa{}class nV extends pa{}class iV extends pa{}class aV extends pa{}const Rge=/^[a-z][a-z0-9+.-]*:/i,Oge=e=>Rge.test(e);let eS=e=>(eS=Array.isArray,eS(e));const Mge=eS;let Dge=Mge;const a3=Dge;function Fge(e){if(!e)return!0;for(const t in e)return!1;return!0}function Lge(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const jge=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ds(`${e} must be an integer`);if(t<0)throw new Ds(`${e} must be a positive integer`);return t},Uge=e=>{try{return JSON.parse(e)}catch{return}};const Bge=e=>new Promise(t=>setTimeout(t,e));const Dd="0.0.1";function Vge(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const zge=()=>{var e,t,r,n,i;const a=Vge();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dd,"X-Stainless-OS":o3(Deno.build.os),"X-Stainless-Arch":s3(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dd,"X-Stainless-OS":o3((r=globalThis.process.platform)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Arch":s3((n=globalThis.process.arch)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=$ge();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Dd,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function $ge(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,a=n[2]||0,s=n[3]||0;return{browser:t,version:`${i}.${a}.${s}`}}}return null}const s3=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",o3=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let $v;const Hge=()=>$v??($v=zge());function Gge(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function sV(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function qge(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return sV({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}function oV(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r?.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Kge(e){var t,r;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((r=(t=e[Symbol.asyncIterator]()).return)===null||r===void 0?void 0:r.call(t));return}const n=e.getReader(),i=n.cancel();n.releaseLock(),await i}const Wge=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const lV=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function gE(e,t,r){return lV(),new File(e,t??"unknown_file",r)}function Yge(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Jge=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";const cV=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Xge=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&cV(e),Zge=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Qge(e,t,r){if(lV(),e=await e,Xge(e))return e instanceof File?e:gE([await e.arrayBuffer()],e.name);if(Zge(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),gE(await tS(i),t,r)}const n=await tS(e);if(t||(t=Yge(e)),!r?.type){const i=n.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(r=Object.assign(Object.assign({},r),{type:i}))}return gE(n,t,r)}async function tS(e){var t,r,n,i,a;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(cV(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(Jge(e))try{for(var o=!0,c=oo(e),u;u=await c.next(),t=u.done,!t;o=!0){i=u.value,o=!1;const d=i;s.push(...await tS(d))}}catch(d){r={error:d}}finally{try{!o&&!t&&(n=c.return)&&await n.call(c)}finally{if(r)throw r.error}}else{const d=(a=e?.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${eve(e)}`)}return s}function eve(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class uV{constructor(t){this._client=t}}uV._key=[];function fV(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const l3=Object.freeze(Object.create(null)),tve=(e=fV)=>(function(r,...n){if(r.length===1)return r[0];let i=!1;const a=[],s=r.reduce((d,h,m)=>{var y,x,b;/[?#]/.test(h)&&(i=!0);const E=n[m];let S=(i?encodeURIComponent:e)(""+E);return m!==n.length&&(E==null||typeof E=="object"&&E.toString===((b=Object.getPrototypeOf((x=Object.getPrototypeOf((y=E.hasOwnProperty)!==null&&y!==void 0?y:l3))!==null&&x!==void 0?x:l3))===null||b===void 0?void 0:b.toString))&&(S=E+"",a.push({start:d.length+h.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),d+h+(m===n.length?"":S)},""),o=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(o))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,h)=>d.start-h.start),a.length>0){let d=0;const h=a.reduce((m,y)=>{const x=" ".repeat(y.start-d),b="^".repeat(y.length);return d=y.start+y.length,m+x+b},"");throw new Ds(`Path parameters result in path with invalid segments:
${a.map(m=>m.error).join(`
`)}
${s}
${h}`)}return s}),Hv=tve(fV);class dV extends uV{create(t,r){var n;const{api_version:i=this._client.apiVersion}=t,a=yx(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Ds("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Ds("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Hv`/${i}/interactions`,Object.assign(Object.assign({body:a},r),{stream:(n=t.stream)!==null&&n!==void 0?n:!1}))}delete(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.delete(Hv`/${i}/interactions/${t}`,n)}cancel(t,r={},n){const{api_version:i=this._client.apiVersion}=r??{};return this._client.post(Hv`/${i}/interactions/${t}/cancel`,n)}get(t,r={},n){var i;const a=r??{},{api_version:s=this._client.apiVersion}=a,o=yx(a,["api_version"]);return this._client.get(Hv`/${s}/interactions/${t}`,Object.assign(Object.assign({query:o},n),{stream:(i=r?.stream)!==null&&i!==void 0?i:!1}))}}dV._key=Object.freeze(["interactions"]);class hV extends dV{}function rve(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let Gv;function PC(e){let t;return(Gv??(t=new globalThis.TextEncoder,Gv=t.encode.bind(t)))(e)}let qv;function c3(e){let t;return(qv??(t=new globalThis.TextDecoder,qv=t.decode.bind(t)))(e)}class G1{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?PC(t):t;this.buffer=rve([this.buffer,r]);const n=[];let i;for(;(i=nve(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){n.push(c3(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=c3(this.buffer.subarray(0,a));n.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode(`
`):[]}}G1.NEWLINE_CHARS=new Set([`
`,"\r"]);G1.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function nve(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function ive(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const xx={off:0,error:200,warn:300,info:400,debug:500},u3=(e,t,r)=>{if(e){if(Lge(xx,e))return e;sa(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(xx))}`)}};function mp(){}function Kv(e,t,r){return!t||xx[e]>xx[r]?mp:t[e].bind(t)}const ave={error:mp,warn:mp,info:mp,debug:mp};let f3=new WeakMap;function sa(e){var t;const r=e.logger,n=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!r)return ave;const i=f3.get(r);if(i&&i[0]===n)return i[1];const a={error:Kv("error",r,n),warn:Kv("warn",r,n),info:Kv("info",r,n),debug:Kv("debug",r,n)};return f3.set(r,[n,a]),a}const Gu=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class Gd{constructor(t,r,n){this.iterator=t,this.controller=r,this.client=n}static fromSSEResponse(t,r,n){let i=!1;const a=n?sa(n):console;function s(){return so(this,arguments,function*(){var c,u,d,h;if(i)throw new Ds("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var y=!0,x=oo(sve(t,r)),b;b=yield Ct(x.next()),c=b.done,!c;y=!0){h=b.value,y=!1;const E=h;if(!m)if(E.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield Ct(JSON.parse(E.data))}catch(S){throw a.error("Could not parse message into JSON:",E.data),a.error("From chunk:",E.raw),S}}}catch(E){u={error:E}}finally{try{!y&&!c&&(d=x.return)&&(yield Ct(d.call(x)))}finally{if(u)throw u.error}}m=!0}catch(E){if(XA(E))return yield Ct(void 0);throw E}finally{m||r.abort()}})}return new Gd(s,r,n)}static fromReadableStream(t,r,n){let i=!1;function a(){return so(this,arguments,function*(){var c,u,d,h;const m=new G1,y=oV(t);try{for(var x=!0,b=oo(y),E;E=yield Ct(b.next()),c=E.done,!c;x=!0){h=E.value,x=!1;const S=h;for(const F of m.decode(S))yield yield Ct(F)}}catch(S){u={error:S}}finally{try{!x&&!c&&(d=b.return)&&(yield Ct(d.call(b)))}finally{if(u)throw u.error}}for(const S of m.flush())yield yield Ct(S)})}function s(){return so(this,arguments,function*(){var c,u,d,h;if(i)throw new Ds("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var y=!0,x=oo(a()),b;b=yield Ct(x.next()),c=b.done,!c;y=!0){h=b.value,y=!1;const E=h;m||E&&(yield yield Ct(JSON.parse(E)))}}catch(E){u={error:E}}finally{try{!y&&!c&&(d=x.return)&&(yield Ct(d.call(x)))}finally{if(u)throw u.error}}m=!0}catch(E){if(XA(E))return yield Ct(void 0);throw E}finally{m||r.abort()}})}return new Gd(s,r,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=n.next();t.push(s),r.push(s)}return a.shift()}});return[new Gd(()=>i(t),this.controller,this.client),new Gd(()=>i(r),this.controller,this.client)]}toReadableStream(){const t=this;let r;return sV({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:a}=await r.next();if(a)return n.close();const s=PC(JSON.stringify(i)+`
`);n.enqueue(s)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)===null||n===void 0?void 0:n.call(r))}})}}function sve(e,t){return so(this,arguments,function*(){var n,i,a,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ds("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ds("Attempted to iterate over a response with no body");const o=new lve,c=new G1,u=oV(e.body);try{for(var d=!0,h=oo(ove(u)),m;m=yield Ct(h.next()),n=m.done,!n;d=!0){s=m.value,d=!1;const y=s;for(const x of c.decode(y)){const b=o.decode(x);b&&(yield yield Ct(b))}}}catch(y){i={error:y}}finally{try{!d&&!n&&(a=h.return)&&(yield Ct(a.call(h)))}finally{if(i)throw i.error}}for(const y of c.flush()){const x=o.decode(y);x&&(yield yield Ct(x))}})}function ove(e){return so(this,arguments,function*(){var r,n,i,a;let s=new Uint8Array;try{for(var o=!0,c=oo(e),u;u=yield Ct(c.next()),r=u.done,!r;o=!0){a=u.value,o=!1;const d=a;if(d==null)continue;const h=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?PC(d):d;let m=new Uint8Array(s.length+h.length);m.set(s),m.set(h,s.length),s=m;let y;for(;(y=ive(s))!==-1;)yield yield Ct(s.slice(0,y)),s=s.slice(y)}}catch(d){n={error:d}}finally{try{!o&&!r&&(i=c.return)&&(yield Ct(i.call(c)))}finally{if(n)throw n.error}}s.length>0&&(yield yield Ct(s))})}class lve{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=cve(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function cve(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function uve(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:a}=t,s=await(async()=>{var o;if(t.options.stream)return sa(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):Gd.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const c=r.headers.get("content-type"),u=(o=c?.split(";")[0])===null||o===void 0?void 0:o.trim();return u?.includes("application/json")||u?.endsWith("+json")?r.headers.get("content-length")==="0"?void 0:await r.json():await r.text()})();return sa(e).debug(`[${n}] response parsed`,Gu({retryOfRequestLogID:i,url:r.url,status:r.status,body:s,durationMs:Date.now()-a})),s}class RC extends Promise{constructor(t,r,n=uve){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,this.client=t}_thenUnwrap(t){return new RC(this.client,this.responsePromise,async(r,n)=>t(await this.parseResponse(r,n),n))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const pV=Symbol("brand.privateNullableHeaders");function*fve(e){if(!e)return;if(pV in e){const{values:n,nulls:i}=e;yield*n.entries();for(const a of i)yield[a,null];return}let t=!1,r;e instanceof Headers?r=e.entries():a3(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=a3(n[1])?n[1]:[n[1]];let s=!1;for(const o of a)o!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,o])}}const H0=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[a,s]of fve(n)){const o=a.toLowerCase();i.has(o)||(t.delete(a),i.add(o)),s===null?(t.delete(a),r.add(o)):(t.append(a,s),r.delete(o))}}return{[pV]:!0,values:t,nulls:r}};const vE=e=>{var t,r,n,i,a,s;if(typeof globalThis.process<"u")return(n=(r=(t=Ofe)===null||t===void 0?void 0:t[e])===null||r===void 0?void 0:r.trim())!==null&&n!==void 0?n:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||s===void 0?void 0:s.trim()};var mV;class q1{constructor(t){var r,n,i,a,s,o,c,{baseURL:u=vE("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(r=vE("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:h="v1beta"}=t,m=yx(t,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:h},m),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(n=y.timeout)!==null&&n!==void 0?n:q1.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(s=(a=u3(y.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:u3(vE("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=y.fetchOptions,this.maxRetries=(o=y.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(c=y.fetch)!==null&&c!==void 0?c:Gge(),this.encoder=Wge,this._options=y,this.apiKey=d,this.apiVersion=h,this.clientAdapter=y.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const r=H0([t.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return H0([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return H0([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Ds(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Dd}`}defaultIdempotencyKey(){return`stainless-node-retry-${Pge()}`}makeStatusError(t,r,n,i){return pa.generate(t,r,n,i)}buildURL(t,r,n){const i=!this.baseURLOverridden()&&n||this.baseURL,a=Oge(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return Fge(s)||(r=Object.assign(Object.assign({},s),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(a.search=this.stringifyQuery(r)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const r=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>Object.assign({method:t,path:r},i)))}request(t,r=null){return new RC(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var i,a,s;const o=await t,c=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=c),await this.prepareOptions(o);const{req:u,url:d,timeout:h}=await this.buildRequest(o,{retryCount:c-r});await this.prepareRequest(u,{url:d,options:o});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=n===void 0?"":`, retryOf: ${n}`,x=Date.now();if(sa(this).debug(`[${m}] sending request`,Gu({retryOfRequestLogID:n,method:o.method,url:d,options:o,headers:u.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new QA;const b=new AbortController,E=await this.fetchWithTimeout(d,u,h,b).catch(ZA),S=Date.now();if(E instanceof globalThis.Error){const k=`retrying, ${r} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new QA;const M=XA(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(r)return sa(this).info(`[${m}] connection ${M?"timed out":"failed"} - ${k}`),sa(this).debug(`[${m}] connection ${M?"timed out":"failed"} (${k})`,Gu({retryOfRequestLogID:n,url:d,durationMs:S-x,message:E.message})),this.retryRequest(o,r,n??m);throw sa(this).info(`[${m}] connection ${M?"timed out":"failed"} - error; no more retries left`),sa(this).debug(`[${m}] connection ${M?"timed out":"failed"} (error; no more retries left)`,Gu({retryOfRequestLogID:n,url:d,durationMs:S-x,message:E.message})),M?new XB:new H1({cause:E})}const F=`[${m}${y}] ${u.method} ${d} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${S-x}ms`;if(!E.ok){const k=await this.shouldRetry(E);if(r&&k){const R=`retrying, ${r} attempts remaining`;return await Kge(E.body),sa(this).info(`${F} - ${R}`),sa(this).debug(`[${m}] response error (${R})`,Gu({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,durationMs:S-x})),this.retryRequest(o,r,n??m,E.headers)}const M=k?"error; no more retries left":"error; not retryable";sa(this).info(`${F} - ${M}`);const D=await E.text().catch(R=>ZA(R).message),P=Uge(D),N=P?void 0:D;throw sa(this).debug(`[${m}] response error (${M})`,Gu({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,message:N,durationMs:Date.now()-x})),this.makeStatusError(E.status,P,N,E.headers)}return sa(this).info(F),sa(this).debug(`[${m}] response start`,Gu({retryOfRequestLogID:n,url:E.url,status:E.status,headers:E.headers,durationMs:S-x})),{response:E,options:o,controller:b,requestLogID:m,retryOfRequestLogID:n,startTime:x}}async fetchWithTimeout(t,r,n,i){const a=r||{},{signal:s,method:o}=a,c=yx(a,["signal","method"]),u=i.abort.bind(i);s&&s.addEventListener("abort",u,{once:!0});const d=setTimeout(u,n),h=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),c);o&&(m.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(d)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){var a;let s;const o=i?.get("retry-after-ms");if(o){const u=parseFloat(o);Number.isNaN(u)||(s=u)}const c=i?.get("retry-after");if(c&&!s){const u=parseFloat(c);Number.isNaN(u)?s=Date.parse(c)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,u)}return await Bge(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const a=r-t,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(t,{retryCount:r=0}={}){var n,i,a;const s=Object.assign({},t),{method:o,path:c,query:u,defaultBaseURL:d}=s,h=this.buildURL(c,u,d);"timeout"in s&&jge("timeout",s.timeout),s.timeout=(n=s.timeout)!==null&&n!==void 0?n:this.timeout;const{bodyHeaders:m,body:y}=this.buildBody({options:s}),x=await this.buildHeaders({options:t,method:o,bodyHeaders:m,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:x},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:h,timeout:s.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let a={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let o=H0([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Hge()),this._options.defaultHeaders,n,t.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=H0([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:qge(t)}:this.encoder({body:t,headers:n})}}q1.DEFAULT_TIMEOUT=6e4;class mi extends q1{constructor(){super(...arguments),this.interactions=new hV(this)}}mV=mi;mi.GeminiNextGenAPIClient=mV;mi.GeminiNextGenAPIClientError=Ds;mi.APIError=pa;mi.APIConnectionError=H1;mi.APIConnectionTimeoutError=XB;mi.APIUserAbortError=QA;mi.NotFoundError=tV;mi.ConflictError=rV;mi.RateLimitError=iV;mi.BadRequestError=ZB;mi.AuthenticationError=QB;mi.InternalServerError=aV;mi.PermissionDeniedError=eV;mi.UnprocessableEntityError=nV;mi.toFile=Qge;mi.Interactions=hV;function dve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function hve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function pve(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function mve(e,t){const r={},n=_(e,["sdkHttpResponse"]);return n!=null&&w(r,["sdkHttpResponse"],n),r}function gve(e,t,r){const n={};if(_(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=_(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&w(t,["displayName"],i),_(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=_(e,["epochCount"]);t!==void 0&&a!=null&&w(t,["tuningTask","hyperparameters","epochCount"],a);const s=_(e,["learningRateMultiplier"]);if(s!=null&&w(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),_(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(_(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(_(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(_(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(_(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const o=_(e,["batchSize"]);t!==void 0&&o!=null&&w(t,["tuningTask","hyperparameters","batchSize"],o);const c=_(e,["learningRate"]);if(t!==void 0&&c!=null&&w(t,["tuningTask","hyperparameters","learningRate"],c),_(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(_(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(_(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(_(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(_(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(_(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return n}function vve(e,t,r){const n={};let i=_(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const D=_(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec"],yE(D))}else if(i==="PREFERENCE_TUNING"){const D=_(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec"],yE(D))}else if(i==="DISTILLATION"){const D=_(e,["validationDataset"]);t!==void 0&&D!=null&&w(t,["distillationSpec"],yE(D))}const a=_(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&w(t,["tunedModelDisplayName"],a);const s=_(e,["description"]);t!==void 0&&s!=null&&w(t,["description"],s);let o=_(r,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const D=_(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","epochCount"],D)}else if(o==="PREFERENCE_TUNING"){const D=_(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],D)}else if(o==="DISTILLATION"){const D=_(e,["epochCount"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","epochCount"],D)}let c=_(r,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const D=_(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],D)}else if(c==="PREFERENCE_TUNING"){const D=_(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],D)}else if(c==="DISTILLATION"){const D=_(e,["learningRateMultiplier"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","learningRateMultiplier"],D)}let u=_(r,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const D=_(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","exportLastCheckpointOnly"],D)}else if(u==="PREFERENCE_TUNING"){const D=_(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],D)}else if(u==="DISTILLATION"){const D=_(e,["exportLastCheckpointOnly"]);t!==void 0&&D!=null&&w(t,["distillationSpec","exportLastCheckpointOnly"],D)}let d=_(r,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const D=_(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","adapterSize"],D)}else if(d==="PREFERENCE_TUNING"){const D=_(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],D)}else if(d==="DISTILLATION"){const D=_(e,["adapterSize"]);t!==void 0&&D!=null&&w(t,["distillationSpec","hyperParameters","adapterSize"],D)}let h=_(r,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const D=_(e,["tuningMode"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","tuningMode"],D)}const m=_(e,["customBaseModel"]);t!==void 0&&m!=null&&w(t,["customBaseModel"],m);let y=_(r,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const D=_(e,["batchSize"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","batchSize"],D)}let x=_(r,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const D=_(e,["learningRate"]);t!==void 0&&D!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRate"],D)}const b=_(e,["labels"]);t!==void 0&&b!=null&&w(t,["labels"],b);const E=_(e,["beta"]);t!==void 0&&E!=null&&w(t,["preferenceOptimizationSpec","hyperParameters","beta"],E);const S=_(e,["baseTeacherModel"]);t!==void 0&&S!=null&&w(t,["distillationSpec","baseTeacherModel"],S);const F=_(e,["tunedTeacherModelSource"]);t!==void 0&&F!=null&&w(t,["distillationSpec","tunedTeacherModelSource"],F);const k=_(e,["sftLossWeightMultiplier"]);t!==void 0&&k!=null&&w(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const M=_(e,["outputUri"]);return t!==void 0&&M!=null&&w(t,["outputUri"],M),n}function yve(e,t){const r={},n=_(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["preTunedModel"]);i!=null&&w(r,["preTunedModel"],i);const a=_(e,["trainingDataset"]);a!=null&&Ive(a);const s=_(e,["config"]);return s!=null&&gve(s,r),r}function xve(e,t){const r={},n=_(e,["baseModel"]);n!=null&&w(r,["baseModel"],n);const i=_(e,["preTunedModel"]);i!=null&&w(r,["preTunedModel"],i);const a=_(e,["trainingDataset"]);a!=null&&kve(a,r,t);const s=_(e,["config"]);return s!=null&&vve(s,r,t),r}function _ve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function bve(e,t){const r={},n=_(e,["name"]);return n!=null&&w(r,["_url","name"],n),r}function wve(e,t,r){const n={},i=_(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const a=_(e,["pageToken"]);t!==void 0&&a!=null&&w(t,["_query","pageToken"],a);const s=_(e,["filter"]);return t!==void 0&&s!=null&&w(t,["_query","filter"],s),n}function Eve(e,t,r){const n={},i=_(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const a=_(e,["pageToken"]);t!==void 0&&a!=null&&w(t,["_query","pageToken"],a);const s=_(e,["filter"]);return t!==void 0&&s!=null&&w(t,["_query","filter"],s),n}function Tve(e,t){const r={},n=_(e,["config"]);return n!=null&&wve(n,r),r}function Ave(e,t){const r={},n=_(e,["config"]);return n!=null&&Eve(n,r),r}function Sve(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>gV(o))),w(r,["tuningJobs"],s)}return r}function Cve(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["nextPageToken"]);i!=null&&w(r,["nextPageToken"],i);const a=_(e,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>rS(o))),w(r,["tuningJobs"],s)}return r}function Nve(e,t){const r={},n=_(e,["name"]);n!=null&&w(r,["model"],n);const i=_(e,["name"]);return i!=null&&w(r,["endpoint"],i),r}function Ive(e,t){const r={};if(_(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(_(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=_(e,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a)),w(r,["examples","examples"],i)}return r}function kve(e,t,r){const n={};let i=_(r,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=_(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=_(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=_(e,["gcsUri"]);t!==void 0&&s!=null&&w(t,["distillationSpec","promptDatasetUri"],s)}let a=_(r,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=_(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=_(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(a==="DISTILLATION"){const s=_(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&w(t,["distillationSpec","promptDatasetUri"],s)}if(_(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function gV(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["state"]);a!=null&&w(r,["state"],RB(a));const s=_(e,["createTime"]);s!=null&&w(r,["createTime"],s);const o=_(e,["tuningTask","startTime"]);o!=null&&w(r,["startTime"],o);const c=_(e,["tuningTask","completeTime"]);c!=null&&w(r,["endTime"],c);const u=_(e,["updateTime"]);u!=null&&w(r,["updateTime"],u);const d=_(e,["description"]);d!=null&&w(r,["description"],d);const h=_(e,["baseModel"]);h!=null&&w(r,["baseModel"],h);const m=_(e,["_self"]);return m!=null&&w(r,["tunedModel"],Nve(m)),r}function rS(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["state"]);a!=null&&w(r,["state"],RB(a));const s=_(e,["createTime"]);s!=null&&w(r,["createTime"],s);const o=_(e,["startTime"]);o!=null&&w(r,["startTime"],o);const c=_(e,["endTime"]);c!=null&&w(r,["endTime"],c);const u=_(e,["updateTime"]);u!=null&&w(r,["updateTime"],u);const d=_(e,["error"]);d!=null&&w(r,["error"],d);const h=_(e,["description"]);h!=null&&w(r,["description"],h);const m=_(e,["baseModel"]);m!=null&&w(r,["baseModel"],m);const y=_(e,["tunedModel"]);y!=null&&w(r,["tunedModel"],y);const x=_(e,["preTunedModel"]);x!=null&&w(r,["preTunedModel"],x);const b=_(e,["supervisedTuningSpec"]);b!=null&&w(r,["supervisedTuningSpec"],b);const E=_(e,["preferenceOptimizationSpec"]);E!=null&&w(r,["preferenceOptimizationSpec"],E);const S=_(e,["distillationSpec"]);S!=null&&w(r,["distillationSpec"],S);const F=_(e,["tuningDataStats"]);F!=null&&w(r,["tuningDataStats"],F);const k=_(e,["encryptionSpec"]);k!=null&&w(r,["encryptionSpec"],k);const M=_(e,["partnerModelTuningSpec"]);M!=null&&w(r,["partnerModelTuningSpec"],M);const D=_(e,["customBaseModel"]);D!=null&&w(r,["customBaseModel"],D);const P=_(e,["experiment"]);P!=null&&w(r,["experiment"],P);const N=_(e,["labels"]);N!=null&&w(r,["labels"],N);const I=_(e,["outputUri"]);I!=null&&w(r,["outputUri"],I);const R=_(e,["pipelineJob"]);R!=null&&w(r,["pipelineJob"],R);const U=_(e,["serviceAccount"]);U!=null&&w(r,["serviceAccount"],U);const B=_(e,["tunedModelDisplayName"]);B!=null&&w(r,["tunedModelDisplayName"],B);const L=_(e,["veoTuningSpec"]);return L!=null&&w(r,["veoTuningSpec"],L),r}function Pve(e,t){const r={},n=_(e,["sdkHttpResponse"]);n!=null&&w(r,["sdkHttpResponse"],n);const i=_(e,["name"]);i!=null&&w(r,["name"],i);const a=_(e,["metadata"]);a!=null&&w(r,["metadata"],a);const s=_(e,["done"]);s!=null&&w(r,["done"],s);const o=_(e,["error"]);return o!=null&&w(r,["error"],o),r}function yE(e,t){const r={},n=_(e,["gcsUri"]);n!=null&&w(r,["validationDatasetUri"],n);const i=_(e,["vertexDatasetResource"]);return i!=null&&w(r,["validationDatasetUri"],i),r}class Rve extends Kl{constructor(t){super(),this.apiClient=t,this.list=async(r={})=>new Bf(Dl.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(r),r),this.get=async r=>await this.getInternal(r),this.tune=async r=>{var n;if(this.apiClient.isVertexAI())if(r.baseModel.startsWith("projects/")){const i={tunedModelName:r.baseModel};!((n=r.config)===null||n===void 0)&&n.preTunedModelCheckpointId&&(i.checkpointId=r.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},r),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},r);return await this.tuneInternal(i)}else{const i=Object.assign({},r),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:$A.JOB_STATE_QUEUED}}}}async getInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=bve(t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>rS(d))}else{const u=_ve(t);return o=rt("{name}",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>gV(d))}}async listInternal(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=Ave(t);return o=rt("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Cve(d),m=new jD;return Object.assign(m,h),m})}else{const u=Tve(t);return o=rt("tunedModels",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=Sve(d),m=new jD;return Object.assign(m,h),m})}}async cancel(t){var r,n,i,a;let s,o="",c={};if(this.apiClient.isVertexAI()){const u=hve(t);return o=rt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=mve(d),m=new UD;return Object.assign(m,h),m})}else{const u=dve(t);return o=rt("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),s.then(d=>{const h=pve(d),m=new UD;return Object.assign(m,h),m})}}async tuneInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=xve(t,t);return a=rt("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>rS(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var r,n;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yve(t);return a=rt("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(n=t.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Pve(c))}}}class Ove{async download(t,r){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Mve=1024*1024*8,Dve=3,Fve=1e3,Lve=2,_x="x-goog-upload-status";async function jve(e,t,r){var n;const i=await vV(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[_x])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Uve(e,t,r){var n;const i=await vV(e,t,r),a=await i?.json();if(((n=i?.headers)===null||n===void 0?void 0:n[_x])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=SB(a),o=new AC;return Object.assign(o,s),o}async function vV(e,t,r){var n,i;let a=0,s=0,o=new GA(new Response),c="upload";for(a=e.size;s<a;){const u=Math.min(Mve,a-s),d=e.slice(s,s+u);s+u>=a&&(c+=", finalize");let h=0,m=Fve;for(;h<Dve&&(o=await r.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((n=o?.headers)===null||n===void 0)&&n[_x]));)h++,await Vve(m),m=m*Lve;if(s+=u,((i=o?.headers)===null||i===void 0?void 0:i[_x])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Bve(e){return{size:e.size,type:e.type}}function Vve(e){return new Promise(t=>setTimeout(t,e))}class zve{async upload(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jve(t,r,n)}async uploadToFileSearchStore(t,r,n){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Uve(t,r,n)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Bve(t)}}class $ve{create(t,r,n){return new Hve(t,r,n)}}class Hve{constructor(t,r,n){this.url=t,this.headers=r,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const d3="x-goog-api-key";class Gve{constructor(t){this.apiKey=t}async addAuthHeaders(t,r){if(t.get(d3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(d3,this.apiKey)}}}const qve="gl-node/";class yV{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new mi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=r.interactions,this._interactions}constructor(t){var r;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(r=t.vertexai)!==null&&r!==void 0?r:!1,this.apiKey=t.apiKey;const n=Lfe(t.httpOptions,t.vertexai,void 0,void 0);n&&(t.httpOptions?t.httpOptions.baseUrl=n:t.httpOptions={baseUrl:n}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new Gve(this.apiKey);this.apiClient=new Bme({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:qve+"web",uploader:new zve,downloader:new Ove}),this.models=new age(this.apiClient),this.live=new Qme(this.apiClient,i,new $ve),this.batches=new hhe(this.apiClient),this.chats=new Whe(this.models,this.apiClient),this.caches=new Ghe(this.apiClient),this.files=new s0e(this.apiClient),this.operations=new sge(this.apiClient),this.authTokens=new wge(this.apiClient),this.tunings=new Rve(this.apiClient),this.fileSearchStores=new kge(this.apiClient)}}const xV=async(e,t)=>{if(!e||!t)return console.warn("Geocoding aborted: Missing address or API key"),null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(e)}&key=${t}`,a=await(await fetch(n)).json();if(a.status==="OK"&&a.results&&a.results.length>0){const s=a.results[0],o=s.geometry.location;return{lat:o.lat,lng:o.lng,formattedAddress:s.formatted_address,locationType:s.geometry.location_type,addressComponents:s.address_components}}else return console.warn(`Geocoding failed for address "${e}":`,a.status,a.error_message),null}catch(r){return console.error(`Geocoding fetch error for address "${e}":`,r),null}},G0=async(e,t,r)=>{if(!e||!t||!r)return null;try{const n=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=${r}`,a=await(await fetch(n)).json();return a.status==="OK"&&a.plus_code&&(a.plus_code.compound_code||a.plus_code.global_code)||null}catch(n){return console.error("Reverse geocoding error:",n),null}},nS=()=>localStorage.getItem("cnpja_api_key")||"b62178c8-c43b-4e46-a68f-5b1b054c11d6-30fbc130-a06a-4023-bac8-c6dbaefa8326",_V="https://api.cnpja.com",K1=async e=>{const t=e.replace(/[^\d]/g,"");if(t.length!==14)throw new Error("CNPJ deve ter 14 dgitos.");try{const r=await fetch(`${_V}/office/${t}?geocoding=true`,{headers:{Authorization:nS()}});if(!r.ok)throw r.status===404?new Error("CNPJ no encontrado."):r.status===401?new Error("Chave de API CNPJa invlida ou expirada."):new Error("Erro ao consultar CNPJa.");const n=await r.json(),i=n.address.street||"",a=n.address.number||"",s=n.address.district||"",o=n.address.city||"",c=n.address.state||"",u=n.address.type||"";return{cnpj:n.taxId,razao_social:n.company.name,nome_fantasia:n.alias||n.company.name,logradouro:u?`${u} ${i}`:i,numero:a,complemento:n.address.details,bairro:s,cep:n.address.zip,municipio:o,uf:c,ddd_telefone_1:n.phones?.[0]?`(${n.phones[0].area}) ${n.phones[0].number}`:void 0,cnae_fiscal:(n.mainActivity||n.main_activity)?.code?`${(n.mainActivity||n.main_activity).code} - ${(n.mainActivity||n.main_activity).text}`:(n.mainActivity||n.main_activity)?.text,cnae_descricao:(n.mainActivity||n.main_activity)?.text,cnaes_secundarios:(n.sideActivities||n.side_activities||n.secondary_activities)?.map(d=>({codigo:d.code,texto:d.text})),situacao_cadastral:n.registration?.status?.description||n.registration?.status,latitude:n.address.coordinates?.latitude||n.latitude,longitude:n.address.coordinates?.longitude||n.longitude}}catch(r){return console.error("Erro na consulta CNPJa Comercial:",r),Wve(t)}},Kve=async e=>{if(nS()==="SUA_CHAVE_AQUI")return console.warn("Chave de API CNPJa no configurada."),[];try{const r=new URLSearchParams({q:e.filtros,...e.uf&&{state:e.uf},limit:"10"}),n=await fetch(`${_V}/office?${r}`,{headers:{Authorization:nS()}});return n.ok?(await n.json()).items||[]:[]}catch(r){return console.error("Erro na pesquisa por endereo:",r),[]}},Wve=async e=>{try{const t=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${e}`);if(!t.ok)return null;const r=await t.json();return{cnpj:r.cnpj,razao_social:r.razao_social,nome_fantasia:r.nome_fantasia,logradouro:r.logradouro,numero:r.numero,complemento:r.complemento,bairro:r.bairro,cep:r.cep,municipio:r.municipio,uf:r.uf,ddd_telefone_1:r.ddd_telefone_1,cnae_fiscal:r.cnae_fiscal?`${r.cnae_fiscal} - ${r.cnae_fiscal_descricao}`:r.cnae_fiscal_descricao,cnae_descricao:r.cnae_fiscal_descricao,cnaes_secundarios:r.cnaes_secundarios?.map(n=>({codigo:n.codigo,texto:n.descricao}))}}catch{return null}};class Yve{value;next;constructor(t){this.value=t}}class Jve{#e;#t;#r;constructor(){this.clear()}enqueue(t){const r=new Yve(t);this.#e?(this.#t.next=r,this.#t=r):(this.#e=r,this.#t=r),this.#r++}dequeue(){const t=this.#e;if(t)return this.#e=this.#e.next,this.#r--,this.#e||(this.#t=void 0),t.value}peek(){if(this.#e)return this.#e.value}clear(){this.#e=void 0,this.#t=void 0,this.#r=0}get size(){return this.#r}*[Symbol.iterator](){let t=this.#e;for(;t;)yield t.value,t=t.next}*drain(){for(;this.#e;)yield this.dequeue()}}function bV(e){let t=!1;if(typeof e=="object"&&({concurrency:e,rejectOnClear:t=!1}=e),h3(e),typeof t!="boolean")throw new TypeError("Expected `rejectOnClear` to be a boolean");const r=new Jve;let n=0;const i=()=>{n<e&&r.size>0&&(n++,r.dequeue().run())},a=()=>{n--,i()},s=async(u,d,h)=>{const m=(async()=>u(...h))();d(m);try{await m}catch{}a()},o=(u,d,h,m)=>{const y={reject:h};new Promise(x=>{y.run=x,r.enqueue(y)}).then(s.bind(void 0,u,d,m)),n<e&&i()},c=(u,...d)=>new Promise((h,m)=>{o(u,h,m,d)});return Object.defineProperties(c,{activeCount:{get:()=>n},pendingCount:{get:()=>r.size},clearQueue:{value(){if(!t){r.clear();return}const u=AbortSignal.abort().reason;for(;r.size>0;)r.dequeue().reject(u)}},concurrency:{get:()=>e,set(u){h3(u),e=u,queueMicrotask(()=>{for(;n<e&&r.size>0;)i()})}},map:{async value(u,d){const h=Array.from(u,(m,y)=>this(d,m,y));return Promise.all(h)}}}),c}function h3(e){if(!((Number.isInteger(e)||e===Number.POSITIVE_INFINITY)&&e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up")}var wV={};const iS=e=>new Promise(t=>setTimeout(t,e)),Xve=e=>{const t=e.replace(/\D/g,"");if(t.length<5)return"Indefinido";const r=parseInt(t.substring(0,1)),n=parseInt(t.substring(0,2));return r===0||r===1||r===2||r===3?"Sudeste":r===8||r===9?"Sul":r===4||r===5?"Nordeste":r===6?n>=60&&n<=65?"Nordeste":"Norte":r===7?n===77||n===76?"Norte":"Centro-Oeste":"Indefinido"},EV=e=>{const t=["MA","PI","CE","RN","PB","PE","AL","SE","BA"],r=["AC","AP","AM","PA","RO","RR","TO"],n=["GO","MT","MS","DF"],i=["ES","MG","RJ","SP"],a=["PR","SC","RS"],s=e.toUpperCase().trim();return t.includes(s)?"Nordeste":r.includes(s)?"Norte":n.includes(s)?"Centro-Oeste":i.includes(s)?"Sudeste":a.includes(s)?"Sul":"Indefinido"},Zve=e=>{let t="Desconhecido",r="BR",n="Indefinido";if(Array.isArray(e)){const i=e.find(s=>s.types.includes("administrative_area_level_1"));i&&(r=i.short_name);const a=e.find(s=>s.types.includes("administrative_area_level_2")||s.types.includes("locality"));a&&(t=a.long_name),n=EV(r)}return{city:t,state:r,region:n}},Qve=async(e,t,r,n,i,a)=>{const s=new yV({apiKey:r||wV.API_KEY}),o=bV(3),c=e.length;let u=0;const d=i.map(x=>`"${x}"`).join(" | "),h=async(x,b)=>{if(!x)return u++,a&&a(u,c),null;const E=`${t}-${Date.now()}-${b}`;let S=null;if(x.cnpj&&x.cnpj.replace(/\D/g,"").length===14)try{S=await K1(x.cnpj)}catch(ne){console.warn(`CNPJ enrichment failed for ${x.cnpj}`,ne)}let F=x.address||"";!F&&(x.street||x.city)&&(F=[x.street,x.number,x.district,x.city,x.state,x.zip,x.country].filter(Boolean).join(", ")),S?.logradouro&&(F=`${S.logradouro}, ${S.numero}${S.complemento?` - ${S.complemento}`:""}, ${S.bairro}, ${S.municipio} - ${S.uf}`);const k=zU(F),M=S?.nome_fantasia||S?.razao_social||x.companyName||"Empresa Desconhecida",D=x.ownerName||"",P=S?.ddd_telefone_1||x.phone||"",N=k.match(/\d{5}[-]?\d{3}/),I=S?.cep||(N?N[0]:"");if(!k&&M==="Empresa Desconhecida")return u++,a&&a(u,c),null;const R=`
      Atue como especialista em logstica e anlise de dados.
      
      TAREFA: 
      1. Pesquise no Google Maps a empresa "${M}" localizada EXATAMENTE em "${k}".
      2. Se no encontrar exatamente nesse local, procure nos arredores imediatos.
      3. Obtenha a localizao exata (latitude/longitude), o endereo formatado oficial, telefone oficial, website e o link do Maps.
      4. Classifique a empresa em uma destas opes: ${d} | "Outros".

      IMPORTANTE: Use o endereo "${k}" como ncora principal para a busca.
      ${S?`DADO ADICIONAL: O CNPJ da empresa  ${S.cnpj}.`:""}
      ${x.city?`DADO LOCALIDADE: Cidade: ${x.city}${x.state?`, Estado: ${x.state}`:""}`:""}

      Retorne APENAS um objeto JSON vlido com os dados encontrados:
      {
        "category": "Categoria Selecionada",
        "region": "Norte" | "Nordeste" | "Centro-Oeste" | "Sudeste" | "Sul" | "Indefinido",
        "state": "UF (Sigla)",
        "city": "Nome da Cidade",
        "lat": number,
        "lng": number,
        "cleanAddress": "Endereo completo oficial encontrado",
        "phone": "Telefone encontrado ou null",
        "website": "Website encontrado ou null"
      }
    `;let U=0;const B=5;let L=null,H=!1,fe={},me="";for(;!H&&U<=B;)try{const ne=await s.models.generateContent({model:"gemini-2.0-flash",contents:R,config:{tools:[{googleMaps:{}}]}});let ue=ne.text||"{}";ue=ue.replace(/```json/g,"").replace(/```/g,"").trim();try{fe=JSON.parse(ue)}catch{const xe=ue.match(/\{[\s\S]*\}/);if(xe)try{fe=JSON.parse(xe[0])}catch{}}const ce=ne.candidates?.[0]?.groundingMetadata?.groundingChunks;if(ce&&Array.isArray(ce)){const ie=ce.find(xe=>xe.maps?.uri);ie&&(me=ie.maps.uri)}H=!0}catch(ne){const ue=ne.status===429||ne.code===429||ne.message&&(ne.message.includes("quota")||ne.message.includes("429")),ce=ne.status===503||ne.code===503;if((ue||ce)&&U<B){U++;const ie=2e3*Math.pow(2,U);console.warn(`Retry ${U}/${B} for client ${b}`),await iS(ie)}else{console.error(`Failed to process client with AI ${b} (continuing to manual geocode)`,ne);break}}try{let ne=S?.latitude||x.latitude||(typeof fe.lat=="number"?fe.lat:0),ue=S?.longitude||x.longitude||(typeof fe.lng=="number"?fe.lng:0),ce=S?.logradouro?`${S.logradouro}, ${S.numero}, ${S.municipio} - ${S.uf}`:fe.cleanAddress||k,ie=S?.municipio||fe.city||"Desconhecido",xe=S?.uf||fe.state||"BR",J=(S?.uf?EV(S.uf):null)||fe.region||"Indefinido";const V=ne!==0&&ue!==0;if(!V||ie==="Desconhecido"||xe==="BR"){const he=F||ce;if(he&&he.length>5&&n)try{const ye=await xV(he,n);if(ye){if(V||(ne=ye.lat,ue=ye.lng),ye.addressComponents){const Ie=Zve(ye.addressComponents);ie=Ie.city,xe=Ie.state,J=Ie.region}(!J||J==="Indefinido")&&I&&(J=Xve(I)),ye.formattedAddress&&(ce=ye.formattedAddress)}}catch(ye){console.warn(`Geocoding failed for ${M}`,ye)}}const X=he=>Array.isArray(he)?he:typeof he=="string"?[he]:["Outros"];let q=P;fe.phone&&(q=q?`${q} | Maps: ${fe.phone}`:fe.phone),fe.website&&(q=q?`${q} | Site: ${fe.website}`:`Site: ${fe.website}`),L={id:E,salespersonId:t,companyName:M,ownerName:D,contact:q,originalAddress:F,cleanAddress:ce,cnpj:S?.cnpj||x.cnpj,mainCnae:S?.cnae_fiscal,secondaryCnaes:S?.cnaes_secundarios?.map(he=>`${he.codigo} - ${he.texto}`),category:X(fe.category),region:J,state:xe,city:ie,lat:ne,lng:ue,whatsapp:x.whatsapp||fe.phone||"",plusCode:fe.plusCode||"",googleMapsUri:x.googleMapsLink||me}}catch(ne){console.error("Critical error in client finalization",ne),L={id:E,salespersonId:t,companyName:M,ownerName:D,contact:P,originalAddress:F,cleanAddress:F,category:["Outros"],region:"Indefinido",state:"BR",city:"Erro Critico",lat:x.latitude||0,lng:x.longitude||0,whatsapp:x.whatsapp||"",googleMapsUri:x.googleMapsLink}}return u++,a&&a(u,c),await iS(500),L},m=e.map((x,b)=>o(()=>h(x,b)));return(await Promise.all(m)).filter(x=>x!==null)},eye=async(e,t,r)=>{const n=new yV({apiKey:t||wV.API_KEY}),i=10,a=e.length;let s=0;const o=[...e];for(let c=0;c<a;c+=i){const u=e.slice(c,c+i),h=`
      Atue como um especialista em categorizao de produtos de varejo.
      Analise a lista de produtos abaixo e atribua uma Categoria Curta e Padronizada para cada um (Ex: Eltrica, Hidrulica, Ferramentas, Pintura, Automotivo, Utilidades, etc).
      Se a marca for muito especfica (ex: TIGRE, TRAMONTINA), voc pode usar a marca como subcategoria se fizer sentido, mas prefira a categoria funcional.
      
      Lista de Produtos:
      ${u.map(m=>`- ID: ${m.sku} | Nome: ${m.name} | Marca: ${m.brand}`).join(`
`)}
      
      Retorne APENAS um JSON no formato de lista:
      [
        { "sku": "ID do produto", "category": "Categoria Sugerida" }
      ]
    `;try{let y=(await n.models.generateContent({model:"gemini-2.5-flash",contents:h})).text||"[]";y=y.replace(/```json/g,"").replace(/```/g,"").trim();let x=[];try{x=JSON.parse(y)}catch{console.error("Failed to parse AI response",y);const E=y.match(/\[.*\]/s);if(E)try{x=JSON.parse(E[0])}catch{}}Array.isArray(x)&&x.forEach(b=>{const E=o.findIndex(S=>String(S.sku)===String(b.sku));E!==-1&&(o[E]={...o[E],category:b.category})})}catch(m){console.error("Batch classification failed",m)}s+=u.length,r&&r(s,a),await iS(1e3)}return o},tye=()=>{};var p3={};const TV=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},rye=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},AV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let m=(o&15)<<2|u>>6,y=u&63;c||(y=64,s||(m=64)),n.push(r[d],r[h],r[m],r[y])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(TV(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rye(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const h=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||h==null)throw new nye;const m=a<<2|o>>4;if(n.push(m),u!==64){const y=o<<4&240|u>>2;if(n.push(y),h!==64){const x=u<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iye=function(e){const t=TV(e);return AV.encodeByteArray(t,!0)},bx=function(e){return iye(e).replace(/\./g,"")},aye=function(e){try{return AV.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function sye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const oye=()=>sye().__FIREBASE_DEFAULTS__,lye=()=>{if(typeof process>"u"||typeof p3>"u")return;const e=p3.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cye=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&aye(e[1]);return t&&JSON.parse(t)},OC=()=>{try{return tye()||oye()||lye()||cye()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},uye=e=>OC()?.emulatorHosts?.[e],fye=e=>{const t=uye(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},SV=()=>OC()?.config;class dye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}function Bm(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CV(e){return(await fetch(e,{credentials:"include"})).ok}function hye(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[bx(JSON.stringify(r)),bx(JSON.stringify(s)),""].join(".")}const Dp={};function pye(){const e={prod:[],emulator:[]};for(const t of Object.keys(Dp))Dp[t]?e.emulator.push(t):e.prod.push(t);return e}function mye(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let m3=!1;function gye(e,t){if(typeof window>"u"||typeof document>"u"||!Bm(window.location.host)||Dp[e]===t||Dp[e]||m3)return;Dp[e]=t;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",a=pye().prod.length>0;function s(){const m=document.getElementById(n);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{m3=!0,s()},m}function d(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=mye(n),y=r("text"),x=document.getElementById(y)||document.createElement("span"),b=r("learnmore"),E=document.getElementById(b)||document.createElement("a"),S=r("preprendIcon"),F=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const k=m.element;o(k),d(E,b);const M=u();c(F,S),k.append(F,x,E,M),document.body.appendChild(k)}a?(x.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function vye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yye(){const e=OC()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xye(){return!yye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _ye(){try{return typeof indexedDB=="object"}catch{return!1}}function bye(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(r){t(r)}})}const wye="FirebaseError";class Vf extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=wye,Object.setPrototypeOf(this,Vf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,NV.prototype.create)}}class NV{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?Eye(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Vf(i,o,n)}}function Eye(e,t){return e.replace(Tye,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const Tye=/\{\$([^}]+)}/g;function wx(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(g3(a)&&g3(s)){if(!wx(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function g3(e){return e!==null&&typeof e=="object"}function La(e){return e&&e._delegate?e._delegate:e}class ph{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qu="[DEFAULT]";let Aye=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new dye;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t?.identifier),n=t?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Cye(t))try{this.getOrInitializeService({instanceIdentifier:qu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=qu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qu){return this.instances.has(t)}getOptions(t=qu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Sye(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=qu){return this.component?this.component.multipleInstances?t:qu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Sye(e){return e===qu?void 0:e}function Cye(e){return e.instantiationMode==="EAGER"}class Nye{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Aye(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}var ar;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ar||(ar={}));const Iye={debug:ar.DEBUG,verbose:ar.VERBOSE,info:ar.INFO,warn:ar.WARN,error:ar.ERROR,silent:ar.SILENT},kye=ar.INFO,Pye={[ar.DEBUG]:"log",[ar.VERBOSE]:"log",[ar.INFO]:"info",[ar.WARN]:"warn",[ar.ERROR]:"error"},Rye=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Pye[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class IV{constructor(t){this.name=t,this._logLevel=kye,this._logHandler=Rye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ar))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Iye[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ar.DEBUG,...t),this._logHandler(this,ar.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ar.VERBOSE,...t),this._logHandler(this,ar.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ar.INFO,...t),this._logHandler(this,ar.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ar.WARN,...t),this._logHandler(this,ar.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ar.ERROR,...t),this._logHandler(this,ar.ERROR,...t)}}const Oye=(e,t)=>t.some(r=>e instanceof r);let v3,y3;function Mye(){return v3||(v3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dye(){return y3||(y3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kV=new WeakMap,aS=new WeakMap,PV=new WeakMap,xE=new WeakMap,MC=new WeakMap;function Fye(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Hc(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&kV.set(r,e)}).catch(()=>{}),MC.set(t,e),t}function Lye(e){if(aS.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});aS.set(e,t)}let sS={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return aS.get(e);if(t==="objectStoreNames")return e.objectStoreNames||PV.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hc(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jye(e){sS=e(sS)}function Uye(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(_E(this),t,...r);return PV.set(n,t.sort?t.sort():[t]),Hc(n)}:Dye().includes(e)?function(...t){return e.apply(_E(this),t),Hc(kV.get(this))}:function(...t){return Hc(e.apply(_E(this),t))}}function Bye(e){return typeof e=="function"?Uye(e):(e instanceof IDBTransaction&&Lye(e),Oye(e,Mye())?new Proxy(e,sS):e)}function Hc(e){if(e instanceof IDBRequest)return Fye(e);if(xE.has(e))return xE.get(e);const t=Bye(e);return t!==e&&(xE.set(e,t),MC.set(t,e)),t}const _E=e=>MC.get(e);function Vye(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Hc(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Hc(s.result),c.oldVersion,c.newVersion,Hc(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const zye=["get","getKey","getAll","getAllKeys","count"],$ye=["put","add","delete","clear"],bE=new Map;function x3(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(bE.get(t))return bE.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=$ye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||zye.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&c.done]))[0]};return bE.set(t,a),a}jye(e=>({...e,get:(t,r,n)=>x3(t,r)||e.get(t,r,n),has:(t,r)=>!!x3(t,r)||e.has(t,r)}));class Hye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Gye(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Gye(e){return e.getComponent()?.type==="VERSION"}const oS="@firebase/app",_3="0.14.8";const Fl=new IV("@firebase/app"),qye="@firebase/app-compat",Kye="@firebase/analytics-compat",Wye="@firebase/analytics",Yye="@firebase/app-check-compat",Jye="@firebase/app-check",Xye="@firebase/auth",Zye="@firebase/auth-compat",Qye="@firebase/database",exe="@firebase/data-connect",txe="@firebase/database-compat",rxe="@firebase/functions",nxe="@firebase/functions-compat",ixe="@firebase/installations",axe="@firebase/installations-compat",sxe="@firebase/messaging",oxe="@firebase/messaging-compat",lxe="@firebase/performance",cxe="@firebase/performance-compat",uxe="@firebase/remote-config",fxe="@firebase/remote-config-compat",dxe="@firebase/storage",hxe="@firebase/storage-compat",pxe="@firebase/firestore",mxe="@firebase/ai",gxe="@firebase/firestore-compat",vxe="firebase",yxe="12.9.0";const lS="[DEFAULT]",xxe={[oS]:"fire-core",[qye]:"fire-core-compat",[Wye]:"fire-analytics",[Kye]:"fire-analytics-compat",[Jye]:"fire-app-check",[Yye]:"fire-app-check-compat",[Xye]:"fire-auth",[Zye]:"fire-auth-compat",[Qye]:"fire-rtdb",[exe]:"fire-data-connect",[txe]:"fire-rtdb-compat",[rxe]:"fire-fn",[nxe]:"fire-fn-compat",[ixe]:"fire-iid",[axe]:"fire-iid-compat",[sxe]:"fire-fcm",[oxe]:"fire-fcm-compat",[lxe]:"fire-perf",[cxe]:"fire-perf-compat",[uxe]:"fire-rc",[fxe]:"fire-rc-compat",[dxe]:"fire-gcs",[hxe]:"fire-gcs-compat",[pxe]:"fire-fst",[gxe]:"fire-fst-compat",[mxe]:"fire-vertex","fire-js":"fire-js",[vxe]:"fire-js-all"};const om=new Map,_xe=new Map,cS=new Map;function b3(e,t){try{e.container.addComponent(t)}catch(r){Fl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function lm(e){const t=e.name;if(cS.has(t))return Fl.debug(`There were multiple attempts to register component ${t}.`),!1;cS.set(t,e);for(const r of om.values())b3(r,e);for(const r of _xe.values())b3(r,e);return!0}function RV(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function OV(e){return e==null?!1:e.settings!==void 0}const bxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gc=new NV("app","Firebase",bxe);class wxe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ph("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gc.create("app-deleted",{appName:this._name})}}const MV=yxe;function DV(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:lS,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw Gc.create("bad-app-name",{appName:String(i)});if(r||(r=SV()),!r)throw Gc.create("no-options");const a=om.get(i);if(a){if(wx(r,a.options)&&wx(n,a.config))return a;throw Gc.create("duplicate-app",{appName:i})}const s=new Nye(i);for(const c of cS.values())s.addComponent(c);const o=new wxe(r,n,s);return om.set(i,o),o}function FV(e=lS){const t=om.get(e);if(!t&&e===lS&&SV())return DV();if(!t)throw Gc.create("no-app",{appName:e});return t}function Exe(){return Array.from(om.values())}function qc(e,t,r){let n=xxe[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fl.warn(s.join(" "));return}lm(new ph(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const Txe="firebase-heartbeat-database",Axe=1,cm="firebase-heartbeat-store";let wE=null;function LV(){return wE||(wE=Vye(Txe,Axe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(cm)}catch(r){console.warn(r)}}}}).catch(e=>{throw Gc.create("idb-open",{originalErrorMessage:e.message})})),wE}async function Sxe(e){try{const r=(await LV()).transaction(cm),n=await r.objectStore(cm).get(jV(e));return await r.done,n}catch(t){if(t instanceof Vf)Fl.warn(t.message);else{const r=Gc.create("idb-get",{originalErrorMessage:t?.message});Fl.warn(r.message)}}}async function w3(e,t){try{const n=(await LV()).transaction(cm,"readwrite");await n.objectStore(cm).put(t,jV(e)),await n.done}catch(r){if(r instanceof Vf)Fl.warn(r.message);else{const n=Gc.create("idb-set",{originalErrorMessage:r?.message});Fl.warn(n.message)}}}function jV(e){return`${e.name}!${e.options.appId}`}const Cxe=1024,Nxe=30;class Ixe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Pxe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=E3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Nxe){const i=Rxe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Fl.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=E3(),{heartbeatsToSend:r,unsentEntries:n}=kxe(this._heartbeatsCache.heartbeats),i=bx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Fl.warn(t),""}}}function E3(){return new Date().toISOString().substring(0,10)}function kxe(e,t=Cxe){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),T3(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),T3(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Pxe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _ye()?bye().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Sxe(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return w3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return w3(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function T3(e){return bx(JSON.stringify({version:2,heartbeats:e})).length}function Rxe(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}function Oxe(e){lm(new ph("platform-logger",t=>new Hye(t),"PRIVATE")),lm(new ph("heartbeat",t=>new Ixe(t),"PRIVATE")),qc(oS,_3,e),qc(oS,_3,"esm2020"),qc("fire-js","")}Oxe("");var Mxe="firebase",Dxe="12.9.0";qc(Mxe,Dxe,"app");var A3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kc,UV;(function(){var e;function t(N,I){function R(){}R.prototype=I.prototype,N.F=I.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(U,B,L){for(var H=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)H[fe-2]=arguments[fe];return I.prototype[B].apply(U,H)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,I,R){R||(R=0);const U=Array(16);if(typeof I=="string")for(var B=0;B<16;++B)U[B]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(B=0;B<16;++B)U[B]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=N.g[0],R=N.g[1],B=N.g[2];let L=N.g[3],H;H=I+(L^R&(B^L))+U[0]+3614090360&4294967295,I=R+(H<<7&4294967295|H>>>25),H=L+(B^I&(R^B))+U[1]+3905402710&4294967295,L=I+(H<<12&4294967295|H>>>20),H=B+(R^L&(I^R))+U[2]+606105819&4294967295,B=L+(H<<17&4294967295|H>>>15),H=R+(I^B&(L^I))+U[3]+3250441966&4294967295,R=B+(H<<22&4294967295|H>>>10),H=I+(L^R&(B^L))+U[4]+4118548399&4294967295,I=R+(H<<7&4294967295|H>>>25),H=L+(B^I&(R^B))+U[5]+1200080426&4294967295,L=I+(H<<12&4294967295|H>>>20),H=B+(R^L&(I^R))+U[6]+2821735955&4294967295,B=L+(H<<17&4294967295|H>>>15),H=R+(I^B&(L^I))+U[7]+4249261313&4294967295,R=B+(H<<22&4294967295|H>>>10),H=I+(L^R&(B^L))+U[8]+1770035416&4294967295,I=R+(H<<7&4294967295|H>>>25),H=L+(B^I&(R^B))+U[9]+2336552879&4294967295,L=I+(H<<12&4294967295|H>>>20),H=B+(R^L&(I^R))+U[10]+4294925233&4294967295,B=L+(H<<17&4294967295|H>>>15),H=R+(I^B&(L^I))+U[11]+2304563134&4294967295,R=B+(H<<22&4294967295|H>>>10),H=I+(L^R&(B^L))+U[12]+1804603682&4294967295,I=R+(H<<7&4294967295|H>>>25),H=L+(B^I&(R^B))+U[13]+4254626195&4294967295,L=I+(H<<12&4294967295|H>>>20),H=B+(R^L&(I^R))+U[14]+2792965006&4294967295,B=L+(H<<17&4294967295|H>>>15),H=R+(I^B&(L^I))+U[15]+1236535329&4294967295,R=B+(H<<22&4294967295|H>>>10),H=I+(B^L&(R^B))+U[1]+4129170786&4294967295,I=R+(H<<5&4294967295|H>>>27),H=L+(R^B&(I^R))+U[6]+3225465664&4294967295,L=I+(H<<9&4294967295|H>>>23),H=B+(I^R&(L^I))+U[11]+643717713&4294967295,B=L+(H<<14&4294967295|H>>>18),H=R+(L^I&(B^L))+U[0]+3921069994&4294967295,R=B+(H<<20&4294967295|H>>>12),H=I+(B^L&(R^B))+U[5]+3593408605&4294967295,I=R+(H<<5&4294967295|H>>>27),H=L+(R^B&(I^R))+U[10]+38016083&4294967295,L=I+(H<<9&4294967295|H>>>23),H=B+(I^R&(L^I))+U[15]+3634488961&4294967295,B=L+(H<<14&4294967295|H>>>18),H=R+(L^I&(B^L))+U[4]+3889429448&4294967295,R=B+(H<<20&4294967295|H>>>12),H=I+(B^L&(R^B))+U[9]+568446438&4294967295,I=R+(H<<5&4294967295|H>>>27),H=L+(R^B&(I^R))+U[14]+3275163606&4294967295,L=I+(H<<9&4294967295|H>>>23),H=B+(I^R&(L^I))+U[3]+4107603335&4294967295,B=L+(H<<14&4294967295|H>>>18),H=R+(L^I&(B^L))+U[8]+1163531501&4294967295,R=B+(H<<20&4294967295|H>>>12),H=I+(B^L&(R^B))+U[13]+2850285829&4294967295,I=R+(H<<5&4294967295|H>>>27),H=L+(R^B&(I^R))+U[2]+4243563512&4294967295,L=I+(H<<9&4294967295|H>>>23),H=B+(I^R&(L^I))+U[7]+1735328473&4294967295,B=L+(H<<14&4294967295|H>>>18),H=R+(L^I&(B^L))+U[12]+2368359562&4294967295,R=B+(H<<20&4294967295|H>>>12),H=I+(R^B^L)+U[5]+4294588738&4294967295,I=R+(H<<4&4294967295|H>>>28),H=L+(I^R^B)+U[8]+2272392833&4294967295,L=I+(H<<11&4294967295|H>>>21),H=B+(L^I^R)+U[11]+1839030562&4294967295,B=L+(H<<16&4294967295|H>>>16),H=R+(B^L^I)+U[14]+4259657740&4294967295,R=B+(H<<23&4294967295|H>>>9),H=I+(R^B^L)+U[1]+2763975236&4294967295,I=R+(H<<4&4294967295|H>>>28),H=L+(I^R^B)+U[4]+1272893353&4294967295,L=I+(H<<11&4294967295|H>>>21),H=B+(L^I^R)+U[7]+4139469664&4294967295,B=L+(H<<16&4294967295|H>>>16),H=R+(B^L^I)+U[10]+3200236656&4294967295,R=B+(H<<23&4294967295|H>>>9),H=I+(R^B^L)+U[13]+681279174&4294967295,I=R+(H<<4&4294967295|H>>>28),H=L+(I^R^B)+U[0]+3936430074&4294967295,L=I+(H<<11&4294967295|H>>>21),H=B+(L^I^R)+U[3]+3572445317&4294967295,B=L+(H<<16&4294967295|H>>>16),H=R+(B^L^I)+U[6]+76029189&4294967295,R=B+(H<<23&4294967295|H>>>9),H=I+(R^B^L)+U[9]+3654602809&4294967295,I=R+(H<<4&4294967295|H>>>28),H=L+(I^R^B)+U[12]+3873151461&4294967295,L=I+(H<<11&4294967295|H>>>21),H=B+(L^I^R)+U[15]+530742520&4294967295,B=L+(H<<16&4294967295|H>>>16),H=R+(B^L^I)+U[2]+3299628645&4294967295,R=B+(H<<23&4294967295|H>>>9),H=I+(B^(R|~L))+U[0]+4096336452&4294967295,I=R+(H<<6&4294967295|H>>>26),H=L+(R^(I|~B))+U[7]+1126891415&4294967295,L=I+(H<<10&4294967295|H>>>22),H=B+(I^(L|~R))+U[14]+2878612391&4294967295,B=L+(H<<15&4294967295|H>>>17),H=R+(L^(B|~I))+U[5]+4237533241&4294967295,R=B+(H<<21&4294967295|H>>>11),H=I+(B^(R|~L))+U[12]+1700485571&4294967295,I=R+(H<<6&4294967295|H>>>26),H=L+(R^(I|~B))+U[3]+2399980690&4294967295,L=I+(H<<10&4294967295|H>>>22),H=B+(I^(L|~R))+U[10]+4293915773&4294967295,B=L+(H<<15&4294967295|H>>>17),H=R+(L^(B|~I))+U[1]+2240044497&4294967295,R=B+(H<<21&4294967295|H>>>11),H=I+(B^(R|~L))+U[8]+1873313359&4294967295,I=R+(H<<6&4294967295|H>>>26),H=L+(R^(I|~B))+U[15]+4264355552&4294967295,L=I+(H<<10&4294967295|H>>>22),H=B+(I^(L|~R))+U[6]+2734768916&4294967295,B=L+(H<<15&4294967295|H>>>17),H=R+(L^(B|~I))+U[13]+1309151649&4294967295,R=B+(H<<21&4294967295|H>>>11),H=I+(B^(R|~L))+U[4]+4149444226&4294967295,I=R+(H<<6&4294967295|H>>>26),H=L+(R^(I|~B))+U[11]+3174756917&4294967295,L=I+(H<<10&4294967295|H>>>22),H=B+(I^(L|~R))+U[2]+718787259&4294967295,B=L+(H<<15&4294967295|H>>>17),H=R+(L^(B|~I))+U[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(B+(H<<21&4294967295|H>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+L&4294967295}n.prototype.v=function(N,I){I===void 0&&(I=N.length);const R=I-this.blockSize,U=this.C;let B=this.h,L=0;for(;L<I;){if(B==0)for(;L<=R;)i(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<I;)if(U[B++]=N.charCodeAt(L++),B==this.blockSize){i(this,U),B=0;break}}else for(;L<I;)if(U[B++]=N[L++],B==this.blockSize){i(this,U),B=0;break}}this.h=B,this.o+=I},n.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,R=0;R<4;++R)for(let U=0;U<32;U+=8)N[I++]=this.g[R]>>>U&255;return N};function a(N,I){var R=o;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=I(N)}function s(N,I){this.h=I;const R=[];let U=!0;for(let B=N.length-1;B>=0;B--){const L=N[B]|0;U&&L==I||(R[B]=L,U=!1)}this.g=R}var o={};function c(N){return-128<=N&&N<128?a(N,function(I){return new s([I|0],I<0?-1:0)}):new s([N|0],N<0?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return h;if(N<0)return E(u(-N));const I=[];let R=1;for(let U=0;N>=R;U++)I[U]=N/R|0,R*=4294967296;return new s(I,0)}function d(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return E(d(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(I,8));let U=h;for(let L=0;L<N.length;L+=8){var B=Math.min(8,N.length-L);const H=parseInt(N.substring(L,L+B),I);B<8?(B=u(Math.pow(I,B)),U=U.j(B).add(u(H))):(U=U.j(R),U=U.add(u(H)))}return U}var h=c(0),m=c(1),y=c(16777216);e=s.prototype,e.m=function(){if(b(this))return-E(this).m();let N=0,I=1;for(let R=0;R<this.g.length;R++){const U=this.i(R);N+=(U>=0?U:4294967296+U)*I,I*=4294967296}return N},e.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(b(this))return"-"+E(this).toString(N);const I=u(Math.pow(N,6));var R=this;let U="";for(;;){const B=M(R,I).g;R=S(R,B.j(I));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=B,x(R))return L+U;for(;L.length<6;)L="0"+L;U=L+U}},e.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function b(N){return N.h==-1}e.l=function(N){return N=S(this,N),b(N)?-1:x(N)?0:1};function E(N){const I=N.g.length,R=[];for(let U=0;U<I;U++)R[U]=~N.g[U];return new s(R,~N.h).add(m)}e.abs=function(){return b(this)?E(this):this},e.add=function(N){const I=Math.max(this.g.length,N.g.length),R=[];let U=0;for(let B=0;B<=I;B++){let L=U+(this.i(B)&65535)+(N.i(B)&65535),H=(L>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);U=H>>>16,L&=65535,H&=65535,R[B]=H<<16|L}return new s(R,R[R.length-1]&-2147483648?-1:0)};function S(N,I){return N.add(E(I))}e.j=function(N){if(x(this)||x(N))return h;if(b(this))return b(N)?E(this).j(E(N)):E(E(this).j(N));if(b(N))return E(this.j(E(N)));if(this.l(y)<0&&N.l(y)<0)return u(this.m()*N.m());const I=this.g.length+N.g.length,R=[];for(var U=0;U<2*I;U++)R[U]=0;for(U=0;U<this.g.length;U++)for(let B=0;B<N.g.length;B++){const L=this.i(U)>>>16,H=this.i(U)&65535,fe=N.i(B)>>>16,me=N.i(B)&65535;R[2*U+2*B]+=H*me,F(R,2*U+2*B),R[2*U+2*B+1]+=L*me,F(R,2*U+2*B+1),R[2*U+2*B+1]+=H*fe,F(R,2*U+2*B+1),R[2*U+2*B+2]+=L*fe,F(R,2*U+2*B+2)}for(N=0;N<I;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=I;N<2*I;N++)R[N]=0;return new s(R,0)};function F(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function k(N,I){this.g=N,this.h=I}function M(N,I){if(x(I))throw Error("division by zero");if(x(N))return new k(h,h);if(b(N))return I=M(E(N),I),new k(E(I.g),E(I.h));if(b(I))return I=M(N,E(I)),new k(E(I.g),I.h);if(N.g.length>30){if(b(N)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var R=m,U=I;U.l(N)<=0;)R=D(R),U=D(U);var B=P(R,1),L=P(U,1);for(U=P(U,2),R=P(R,2);!x(U);){var H=L.add(U);H.l(N)<=0&&(B=B.add(R),L=H),U=P(U,1),R=P(R,1)}return I=S(N,B.j(I)),new k(B,I)}for(B=h;N.l(I)>=0;){for(R=Math.max(1,Math.floor(N.m()/I.m())),U=Math.ceil(Math.log(R)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),L=u(R),H=L.j(I);b(H)||H.l(N)>0;)R-=U,L=u(R),H=L.j(I);x(L)&&(L=m),B=B.add(L),N=S(N,H)}return new k(B,N)}e.B=function(N){return M(this,N).h},e.and=function(N){const I=Math.max(this.g.length,N.g.length),R=[];for(let U=0;U<I;U++)R[U]=this.i(U)&N.i(U);return new s(R,this.h&N.h)},e.or=function(N){const I=Math.max(this.g.length,N.g.length),R=[];for(let U=0;U<I;U++)R[U]=this.i(U)|N.i(U);return new s(R,this.h|N.h)},e.xor=function(N){const I=Math.max(this.g.length,N.g.length),R=[];for(let U=0;U<I;U++)R[U]=this.i(U)^N.i(U);return new s(R,this.h^N.h)};function D(N){const I=N.g.length+1,R=[];for(let U=0;U<I;U++)R[U]=N.i(U)<<1|N.i(U-1)>>>31;return new s(R,N.h)}function P(N,I){const R=I>>5;I%=32;const U=N.g.length-R,B=[];for(let L=0;L<U;L++)B[L]=I>0?N.i(L+R)>>>I|N.i(L+R+1)<<32-I:N.i(L+R);return new s(B,N.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,UV=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Kc=s}).apply(typeof A3<"u"?A3:typeof self<"u"?self:typeof window<"u"?window:{});var Wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BV,gp,VV,Cy,uS,zV,$V,HV;(function(){var e,t=Object.defineProperty;function r(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wv=="object"&&Wv];for(var j=0;j<T.length;++j){var G=T[j];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function i(T,j){if(j)e:{var G=n;T=T.split(".");for(var Q=0;Q<T.length-1;Q++){var _e=T[Q];if(!(_e in G))break e;G=G[_e]}T=T[T.length-1],Q=G[T],j=j(Q),j!=Q&&j!=null&&t(G,T,{configurable:!0,writable:!0,value:j})}}i("Symbol.dispose",function(T){return T||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(T){return T||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(T){return T||function(j){var G=[],Q;for(Q in j)Object.prototype.hasOwnProperty.call(j,Q)&&G.push([Q,j[Q]]);return G}});var a=a||{},s=this||self;function o(T){var j=typeof T;return j=="object"&&T!=null||j=="function"}function c(T,j,G){return T.call.apply(T.bind,arguments)}function u(T,j,G){return u=c,u.apply(null,arguments)}function d(T,j){var G=Array.prototype.slice.call(arguments,1);return function(){var Q=G.slice();return Q.push.apply(Q,arguments),T.apply(this,Q)}}function h(T,j){function G(){}G.prototype=j.prototype,T.Z=j.prototype,T.prototype=new G,T.prototype.constructor=T,T.Ob=function(Q,_e,ke){for(var Qe=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)Qe[Ft-2]=arguments[Ft];return j.prototype[_e].apply(Q,Qe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?T=>T&&AsyncContext.Snapshot.wrap(T):T=>T;function y(T){const j=T.length;if(j>0){const G=Array(j);for(let Q=0;Q<j;Q++)G[Q]=T[Q];return G}return[]}function x(T,j){for(let Q=1;Q<arguments.length;Q++){const _e=arguments[Q];var G=typeof _e;if(G=G!="object"?G:_e?Array.isArray(_e)?"array":G:"null",G=="array"||G=="object"&&typeof _e.length=="number"){G=T.length||0;const ke=_e.length||0;T.length=G+ke;for(let Qe=0;Qe<ke;Qe++)T[G+Qe]=_e[Qe]}else T.push(_e)}}class b{constructor(j,G){this.i=j,this.j=G,this.h=0,this.g=null}get(){let j;return this.h>0?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function E(T){s.setTimeout(()=>{throw T},0)}function S(){var T=N;let j=null;return T.g&&(j=T.g,T.g=T.g.next,T.g||(T.h=null),j.next=null),j}class F{constructor(){this.h=this.g=null}add(j,G){const Q=k.get();Q.set(j,G),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var k=new b(()=>new M,T=>T.reset());class M{constructor(){this.next=this.g=this.h=null}set(j,G){this.h=j,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let D,P=!1,N=new F,I=()=>{const T=Promise.resolve(void 0);D=()=>{T.then(R)}};function R(){for(var T;T=S();){try{T.h.call(T.g)}catch(G){E(G)}var j=k;j.j(T),j.h<100&&(j.h++,T.next=j.g,j.g=T)}P=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(T,j){this.type=T,this.g=this.target=j,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var T=!1,j=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const G=()=>{};s.addEventListener("test",G,j),s.removeEventListener("test",G,j)}catch{}return T})();function H(T){return/^[\s\xa0]*$/.test(T)}function fe(T,j){B.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T&&this.init(T,j)}h(fe,B),fe.prototype.init=function(T,j){const G=this.type=T.type,Q=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;this.target=T.target||T.srcElement,this.g=j,j=T.relatedTarget,j||(G=="mouseover"?j=T.fromElement:G=="mouseout"&&(j=T.toElement)),this.relatedTarget=j,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=T.pointerType,this.state=T.state,this.i=T,T.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),ne=0;function ue(T,j,G,Q,_e){this.listener=T,this.proxy=null,this.src=j,this.type=G,this.capture=!!Q,this.ha=_e,this.key=++ne,this.da=this.fa=!1}function ce(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function ie(T,j,G){for(const Q in T)j.call(G,T[Q],Q,T)}function xe(T,j){for(const G in T)j.call(void 0,T[G],G,T)}function J(T){const j={};for(const G in T)j[G]=T[G];return j}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(T,j){let G,Q;for(let _e=1;_e<arguments.length;_e++){Q=arguments[_e];for(G in Q)T[G]=Q[G];for(let ke=0;ke<V.length;ke++)G=V[ke],Object.prototype.hasOwnProperty.call(Q,G)&&(T[G]=Q[G])}}function X(T){this.src=T,this.g={},this.h=0}X.prototype.add=function(T,j,G,Q,_e){const ke=T.toString();T=this.g[ke],T||(T=this.g[ke]=[],this.h++);const Qe=he(T,j,Q,_e);return Qe>-1?(j=T[Qe],G||(j.fa=!1)):(j=new ue(j,this.src,ke,!!Q,_e),j.fa=G,T.push(j)),j};function q(T,j){const G=j.type;if(G in T.g){var Q=T.g[G],_e=Array.prototype.indexOf.call(Q,j,void 0),ke;(ke=_e>=0)&&Array.prototype.splice.call(Q,_e,1),ke&&(ce(j),T.g[G].length==0&&(delete T.g[G],T.h--))}}function he(T,j,G,Q){for(let _e=0;_e<T.length;++_e){const ke=T[_e];if(!ke.da&&ke.listener==j&&ke.capture==!!G&&ke.ha==Q)return _e}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),Ie={};function oe(T,j,G,Q,_e){if(Array.isArray(j)){for(let ke=0;ke<j.length;ke++)oe(T,j[ke],G,Q,_e);return null}return G=Je(G),T&&T[me]?T.J(j,G,o(Q)?!!Q.capture:!1,_e):ge(T,j,G,!1,Q,_e)}function ge(T,j,G,Q,_e,ke){if(!j)throw Error("Invalid event type");const Qe=o(_e)?!!_e.capture:!!_e;let Ft=ze(T);if(Ft||(T[ye]=Ft=new X(T)),G=Ft.add(j,G,Q,Qe,ke),G.proxy)return G;if(Q=De(),G.proxy=Q,Q.src=T,Q.listener=G,T.addEventListener)L||(_e=Qe),_e===void 0&&(_e=!1),T.addEventListener(j.toString(),Q,_e);else if(T.attachEvent)T.attachEvent(Ue(j.toString()),Q);else if(T.addListener&&T.removeListener)T.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return G}function De(){function T(G){return j.call(T.src,T.listener,G)}const j=Ke;return T}function K(T,j,G,Q,_e){if(Array.isArray(j))for(var ke=0;ke<j.length;ke++)K(T,j[ke],G,Q,_e);else Q=o(Q)?!!Q.capture:!!Q,G=Je(G),T&&T[me]?(T=T.i,ke=String(j).toString(),ke in T.g&&(j=T.g[ke],G=he(j,G,Q,_e),G>-1&&(ce(j[G]),Array.prototype.splice.call(j,G,1),j.length==0&&(delete T.g[ke],T.h--)))):T&&(T=ze(T))&&(j=T.g[j.toString()],T=-1,j&&(T=he(j,G,Q,_e)),(G=T>-1?j[T]:null)&&Ye(G))}function Ye(T){if(typeof T!="number"&&T&&!T.da){var j=T.src;if(j&&j[me])q(j.i,T);else{var G=T.type,Q=T.proxy;j.removeEventListener?j.removeEventListener(G,Q,T.capture):j.detachEvent?j.detachEvent(Ue(G),Q):j.addListener&&j.removeListener&&j.removeListener(Q),(G=ze(j))?(q(G,T),G.h==0&&(G.src=null,j[ye]=null)):ce(T)}}}function Ue(T){return T in Ie?Ie[T]:Ie[T]="on"+T}function Ke(T,j){if(T.da)T=!0;else{j=new fe(j,this);const G=T.listener,Q=T.ha||T.src;T.fa&&Ye(T),T=G.call(Q,j)}return T}function ze(T){return T=T[ye],T instanceof X?T:null}var Fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(T){return typeof T=="function"?T:(T[Fe]||(T[Fe]=function(j){return T.handleEvent(j)}),T[Fe])}function et(){U.call(this),this.i=new X(this),this.M=this,this.G=null}h(et,U),et.prototype[me]=!0,et.prototype.removeEventListener=function(T,j,G,Q){K(this,T,j,G,Q)};function ht(T,j){var G,Q=T.G;if(Q)for(G=[];Q;Q=Q.G)G.push(Q);if(T=T.M,Q=j.type||j,typeof j=="string")j=new B(j,T);else if(j instanceof B)j.target=j.target||T;else{var _e=j;j=new B(Q,T),ee(j,_e)}_e=!0;let ke,Qe;if(G)for(Qe=G.length-1;Qe>=0;Qe--)ke=j.g=G[Qe],_e=It(ke,Q,!0,j)&&_e;if(ke=j.g=T,_e=It(ke,Q,!0,j)&&_e,_e=It(ke,Q,!1,j)&&_e,G)for(Qe=0;Qe<G.length;Qe++)ke=j.g=G[Qe],_e=It(ke,Q,!1,j)&&_e}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var T=this.i;for(const j in T.g){const G=T.g[j];for(let Q=0;Q<G.length;Q++)ce(G[Q]);delete T.g[j],T.h--}}this.G=null},et.prototype.J=function(T,j,G,Q){return this.i.add(String(T),j,!1,G,Q)},et.prototype.K=function(T,j,G,Q){return this.i.add(String(T),j,!0,G,Q)};function It(T,j,G,Q){if(j=T.i.g[String(j)],!j)return!0;j=j.concat();let _e=!0;for(let ke=0;ke<j.length;++ke){const Qe=j[ke];if(Qe&&!Qe.da&&Qe.capture==G){const Ft=Qe.listener,En=Qe.ha||Qe.src;Qe.fa&&q(T.i,Qe),_e=Ft.call(En,Q)!==!1&&_e}}return _e&&!Q.defaultPrevented}function Gr(T,j){if(typeof T!="function")if(T&&typeof T.handleEvent=="function")T=u(T.handleEvent,T);else throw Error("Invalid listener argument");return Number(j)>2147483647?-1:s.setTimeout(T,j||0)}function Br(T){T.g=Gr(()=>{T.g=null,T.i&&(T.i=!1,Br(T))},T.l);const j=T.h;T.h=null,T.m.apply(null,j)}class _t extends U{constructor(j,G){super(),this.m=j,this.l=G,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(T){U.call(this),this.h=T,this.g={}}h(xr,U);var qt=[];function Er(T){ie(T.g,function(j,G){this.g.hasOwnProperty(G)&&Ye(j)},T),T.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Er(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=s.JSON.stringify,Ot=s.JSON.parse,wt=class{stringify(T){return s.JSON.stringify(T,void 0)}parse(T){return s.JSON.parse(T,void 0)}};function tr(){}function $t(){}var Bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _r(){B.call(this,"d")}h(_r,B);function xi(){B.call(this,"c")}h(xi,B);var mt={},va=null;function yo(){return va=va||new et}mt.Ia="serverreachability";function nl(T){B.call(this,mt.Ia,T)}h(nl,B);function ya(T){const j=yo();ht(j,new nl(j))}mt.STAT_EVENT="statevent";function xo(T,j){B.call(this,mt.STAT_EVENT,T),this.stat=j}h(xo,B);function Xr(T){const j=yo();ht(j,new xo(j,T))}mt.Ja="timingevent";function ri(T,j){B.call(this,mt.Ja,T),this.size=j}h(ri,B);function za(T,j){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){T()},j)}function xa(){this.g=!0}xa.prototype.ua=function(){this.g=!1};function xu(T,j,G,Q,_e,ke){T.info(function(){if(T.g)if(ke){var Qe="",Ft=ke.split("&");for(let vr=0;vr<Ft.length;vr++){var En=Ft[vr].split("=");if(En.length>1){const Zr=En[0];En=En[1];const ps=Zr.split("_");Qe=ps.length>=2&&ps[1]=="type"?Qe+(Zr+"="+En+"&"):Qe+(Zr+"=redacted&")}}}else Qe=null;else Qe=ke;return"XMLHTTP REQ ("+Q+") [attempt "+_e+"]: "+j+`
`+G+`
`+Qe})}function _o(T,j,G,Q,_e,ke,Qe){T.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+_e+"]: "+j+`
`+G+`
`+ke+" "+Qe})}function _a(T,j,G,Q){T.info(function(){return"XMLHTTP TEXT ("+j+"): "+_u(T,G)+(Q?" "+Q:"")})}function ba(T,j){T.info(function(){return"TIMEOUT: "+j})}xa.prototype.info=function(){};function _u(T,j){if(!T.g)return j;if(!j)return null;try{const ke=JSON.parse(j);if(ke){for(T=0;T<ke.length;T++)if(Array.isArray(ke[T])){var G=ke[T];if(!(G.length<2)){var Q=G[1];if(Array.isArray(Q)&&!(Q.length<1)){var _e=Q[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(let Qe=1;Qe<Q.length;Qe++)Q[Qe]=""}}}}return ft(ke)}catch{return j}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$a={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Di;function Zi(){}h(Zi,tr),Zi.prototype.g=function(){return new XMLHttpRequest},Di=new Zi;function Pn(T){return encodeURIComponent(String(T))}function W(T){var j=1;T=T.split(":");const G=[];for(;j>0&&T.length;)G.push(T.shift()),j--;return T.length&&G.push(T.join(":")),G}function ae(T,j,G,Q){this.j=T,this.i=j,this.l=G,this.S=Q||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Z}function Z(){this.i=null,this.g="",this.h=!1}var te={},re={};function se(T,j,G){T.M=1,T.A=le(ln(j)),T.u=G,T.R=!0,we(T,null)}function we(T,j){T.F=Date.now(),Ae(T),T.B=ln(T.A);var G=T.B,Q=T.S;Array.isArray(Q)||(Q=[String(Q)]),ai(G.i,"t",Q),T.C=0,G=T.j.L,T.h=new Z,T.g=Tg(T.j,G?j:null,!T.u),T.P>0&&(T.O=new _t(u(T.Y,T,T.g),T.P)),j=T.V,G=T.g,Q=T.ba;var _e="readystatechange";Array.isArray(_e)||(_e&&(qt[0]=_e.toString()),_e=qt);for(let ke=0;ke<_e.length;ke++){const Qe=oe(G,_e[ke],Q||j.handleEvent,!1,j.h||j);if(!Qe)break;j.g[Qe.key]=Qe}j=T.J?J(T.J):{},T.u?(T.v||(T.v="POST"),j["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.B,T.v,T.u,j)):(T.v="GET",T.g.ea(T.B,T.v,null,j)),ya(),xu(T.i,T.v,T.B,T.l,T.S,T.u)}ae.prototype.ba=function(T){T=T.target;const j=this.O;j&&$s(T)==3?j.j():this.Y(T)},ae.prototype.Y=function(T){try{if(T==this.g)e:{const Ft=$s(this.g),En=this.g.ya(),vr=this.g.ca();if(!(Ft<3)&&(Ft!=3||this.g&&(this.h.h||this.g.la()||bi(this.g)))){this.K||Ft!=4||En==7||(En==8||vr<=0?ya(3):ya(2)),We(this);var j=this.g.ca();this.X=j;var G=Re(this);if(this.o=j==200,_o(this.i,this.v,this.B,this.l,this.S,Ft,j),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,_e=this.g;if((Q=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Q)){var ke=Q;break t}}ke=null}if(T=ke)_a(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,T);else{this.o=!1,this.m=3,Xr(12),He(this),Ze(this);break e}}if(this.R){T=!0;let Zr;for(;!this.K&&this.C<G.length;)if(Zr=Ce(this,G),Zr==re){Ft==4&&(this.m=4,Xr(14),T=!1),_a(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==te){this.m=4,Xr(15),_a(this.i,this.l,G,"[Invalid Chunk]"),T=!1;break}else _a(this.i,this.l,Zr,null),Xe(this,Zr);if(Ee(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||G.length!=0||this.h.h||(this.m=1,Xr(16),T=!1),this.o=this.o&&T,!T)_a(this.i,this.l,G,"[Invalid Chunked Response]"),He(this),Ze(this);else if(G.length>0&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.aa&&!Qe.P&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),i0(Qe),Qe.P=!0,Xr(11))}}else _a(this.i,this.l,G,null),Xe(this,G);Ft==4&&He(this),this.o&&!this.K&&(Ft==4?_g(this.j,this):(this.o=!1,Ae(this)))}else al(this.g),j==400&&G.indexOf("Unknown SID")>0?(this.m=3,Xr(12)):(this.m=0,Xr(13)),He(this),Ze(this)}}}catch{}};function Re(T){if(!Ee(T))return T.g.la();const j=bi(T.g);if(j==="")return"";let G="";const Q=j.length,_e=$s(T.g)==4;if(!T.h.i){if(typeof TextDecoder>"u")return He(T),Ze(T),"";T.h.i=new s.TextDecoder}for(let ke=0;ke<Q;ke++)T.h.h=!0,G+=T.h.i.decode(j[ke],{stream:!(_e&&ke==Q-1)});return j.length=0,T.h.g+=G,T.C=0,T.h.g}function Ee(T){return T.g?T.v=="GET"&&T.M!=2&&T.j.Aa:!1}function Ce(T,j){var G=T.C,Q=j.indexOf(`
`,G);return Q==-1?re:(G=Number(j.substring(G,Q)),isNaN(G)?te:(Q+=1,Q+G>j.length?re:(j=j.slice(Q,Q+G),T.C=Q+G,j)))}ae.prototype.cancel=function(){this.K=!0,He(this)};function Ae(T){T.T=Date.now()+T.H,Ge(T,T.H)}function Ge(T,j){if(T.D!=null)throw Error("WatchDog timer not null");T.D=za(u(T.aa,T),j)}function We(T){T.D&&(s.clearTimeout(T.D),T.D=null)}ae.prototype.aa=function(){this.D=null;const T=Date.now();T-this.T>=0?(ba(this.i,this.B),this.M!=2&&(ya(),Xr(17)),He(this),this.m=2,Ze(this)):Ge(this,this.T-T)};function Ze(T){T.j.I==0||T.K||_g(T.j,T)}function He(T){We(T);var j=T.O;j&&typeof j.dispose=="function"&&j.dispose(),T.O=null,Er(T.V),T.g&&(j=T.g,T.g=null,j.abort(),j.dispose())}function Xe(T,j){try{var G=T.j;if(G.I!=0&&(G.g==T||ni(G.h,T))){if(!T.L&&ni(G.h,T)&&G.I==3){try{var Q=G.Ba.g.parse(j)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var _e=Q;if(_e[0]==0){e:if(!G.v){if(G.g)if(G.g.F+3e3<T.F)Zf(G),ic(G);else break e;Su(G),Xr(18)}}else G.xa=_e[1],0<G.xa-G.K&&_e[2]<37500&&G.F&&G.A==0&&!G.C&&(G.C=za(u(G.Va,G),6e3));Tr(G.h)<=1&&G.ta&&(G.ta=void 0)}else So(G,11)}else if((T.L||G.g==T)&&Zf(G),!H(j))for(_e=G.Ba.g.parse(j),j=0;j<_e.length;j++){let vr=_e[j];const Zr=vr[0];if(!(Zr<=G.K))if(G.K=Zr,vr=vr[1],G.I==2)if(vr[0]=="c"){G.M=vr[1],G.ba=vr[2];const ps=vr[3];ps!=null&&(G.ka=ps,G.j.info("VER="+G.ka));const Co=vr[4];Co!=null&&(G.za=Co,G.j.info("SVER="+G.za));const Hs=vr[5];Hs!=null&&typeof Hs=="number"&&Hs>0&&(Q=1.5*Hs,G.O=Q,G.j.info("backChannelRequestTimeoutMs_="+Q)),Q=G;const Gs=T.g;if(Gs){const Cu=Gs.g?Gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cu){var ke=Q.h;ke.g||Cu.indexOf("spdy")==-1&&Cu.indexOf("quic")==-1&&Cu.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Ha(ke,ke.h),ke.h=null))}if(Q.G){const Qf=Gs.g?Gs.g.getResponseHeader("X-HTTP-Session-Id"):null;Qf&&(Q.wa=Qf,nr(Q.J,Q.G,Qf))}}G.I=3,G.l&&G.l.ra(),G.aa&&(G.T=Date.now()-T.F,G.j.info("Handshake RTT: "+G.T+"ms")),Q=G;var Qe=T;if(Q.na=Eg(Q,Q.L?Q.ba:null,Q.W),Qe.L){Ga(Q.h,Qe);var Ft=Qe,En=Q.O;En&&(Ft.H=En),Ft.D&&(We(Ft),Ae(Ft)),Q.g=Qe}else yg(Q);G.i.length>0&&Ao(G)}else vr[0]!="stop"&&vr[0]!="close"||So(G,7);else G.I==3&&(vr[0]=="stop"||vr[0]=="close"?vr[0]=="stop"?So(G,7):r0(G):vr[0]!="noop"&&G.l&&G.l.qa(vr),G.A=0)}}ya(4)}catch{}}var ot=class{constructor(T,j){this.g=T,this.map=j}};function mr(T){this.l=T||10,s.PerformanceNavigationTiming?(T=s.performance.getEntriesByType("navigation"),T=T.length>0&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gr(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function Tr(T){return T.h?1:T.g?T.g.size:0}function ni(T,j){return T.h?T.h==j:T.g?T.g.has(j):!1}function Ha(T,j){T.g?T.g.add(j):T.h=j}function Ga(T,j){T.h&&T.h==j?T.h=null:T.g&&T.g.has(j)&&T.g.delete(j)}mr.prototype.cancel=function(){if(this.i=Qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function Qi(T){if(T.h!=null)return T.i.concat(T.h.G);if(T.g!=null&&T.g.size!==0){let j=T.i;for(const G of T.g.values())j=j.concat(G.G);return j}return y(T.i)}var bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ii(T,j){if(T){T=T.split("&");for(let G=0;G<T.length;G++){const Q=T[G].indexOf("=");let _e,ke=null;Q>=0?(_e=T[G].substring(0,Q),ke=T[G].substring(Q+1)):_e=T[G],j(_e,ke?decodeURIComponent(ke.replace(/\+/g," ")):"")}}}function ea(T){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let j;T instanceof ea?(this.l=T.l,cn(this,T.j),this.o=T.o,this.g=T.g,Pr(this,T.u),this.h=T.h,rr(this,ta(T.i)),this.m=T.m):T&&(j=String(T).match(bo))?(this.l=!1,cn(this,j[1]||"",!0),this.o=Oe(j[2]||""),this.g=Oe(j[3]||"",!0),Pr(this,j[4]),this.h=Oe(j[5]||"",!0),rr(this,j[6]||"",!0),this.m=Oe(j[7]||"")):(this.l=!1,this.i=new Vt(null,this.l))}ea.prototype.toString=function(){const T=[];var j=this.j;j&&T.push(qe(j,gt,!0),":");var G=this.g;return(G||j=="file")&&(T.push("//"),(j=this.o)&&T.push(qe(j,gt,!0),"@"),T.push(Pn(G).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.u,G!=null&&T.push(":",String(G))),(G=this.h)&&(this.g&&G.charAt(0)!="/"&&T.push("/"),T.push(qe(G,G.charAt(0)=="/"?Et:Dt,!0))),(G=this.i.toString())&&T.push("?",G),(G=this.m)&&T.push("#",qe(G,Mt)),T.join("")},ea.prototype.resolve=function(T){const j=ln(this);let G=!!T.j;G?cn(j,T.j):G=!!T.o,G?j.o=T.o:G=!!T.g,G?j.g=T.g:G=T.u!=null;var Q=T.h;if(G)Pr(j,T.u);else if(G=!!T.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var _e=j.h.lastIndexOf("/");_e!=-1&&(Q=j.h.slice(0,_e+1)+Q)}if(_e=Q,_e==".."||_e==".")Q="";else if(_e.indexOf("./")!=-1||_e.indexOf("/.")!=-1){Q=_e.lastIndexOf("/",0)==0,_e=_e.split("/");const ke=[];for(let Qe=0;Qe<_e.length;){const Ft=_e[Qe++];Ft=="."?Q&&Qe==_e.length&&ke.push(""):Ft==".."?((ke.length>1||ke.length==1&&ke[0]!="")&&ke.pop(),Q&&Qe==_e.length&&ke.push("")):(ke.push(Ft),Q=!0)}Q=ke.join("/")}else Q=_e}return G?j.h=Q:G=T.i.toString()!=="",G?rr(j,ta(T.i)):G=!!T.m,G&&(j.m=T.m),j};function ln(T){return new ea(T)}function cn(T,j,G){T.j=G?Oe(j,!0):j,T.j&&(T.j=T.j.replace(/:$/,""))}function Pr(T,j){if(j){if(j=Number(j),isNaN(j)||j<0)throw Error("Bad port number "+j);T.u=j}else T.u=null}function rr(T,j,G){j instanceof Vt?(T.i=j,qa(T.i,T.l)):(G||(j=qe(j,pt)),T.i=new Vt(j,T.l))}function nr(T,j,G){T.i.set(j,G)}function le(T){return nr(T,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),T}function Oe(T,j){return T?j?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function qe(T,j,G){return typeof T=="string"?(T=encodeURI(T).replace(j,tt),G&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function tt(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var gt=/[#\/\?@]/g,Dt=/[#\?:]/g,Et=/[#\?]/g,pt=/[#\?@]/g,Mt=/#/g;function Vt(T,j){this.h=this.g=null,this.i=T||null,this.j=!!j}function St(T){T.g||(T.g=new Map,T.h=0,T.i&&ii(T.i,function(j,G){T.add(decodeURIComponent(j.replace(/\+/g," ")),G)}))}e=Vt.prototype,e.add=function(T,j){St(this),this.i=null,T=Ar(this,T);let G=this.g.get(T);return G||this.g.set(T,G=[]),G.push(j),this.h+=1,this};function Xt(T,j){St(T),j=Ar(T,j),T.g.has(j)&&(T.i=null,T.h-=T.g.get(j).length,T.g.delete(j))}function Rn(T,j){return St(T),j=Ar(T,j),T.g.has(j)}e.forEach=function(T,j){St(this),this.g.forEach(function(G,Q){G.forEach(function(_e){T.call(j,_e,Q,this)},this)},this)};function Zt(T,j){St(T);let G=[];if(typeof j=="string")Rn(T,j)&&(G=G.concat(T.g.get(Ar(T,j))));else for(T=Array.from(T.g.values()),j=0;j<T.length;j++)G=G.concat(T[j]);return G}e.set=function(T,j){return St(this),this.i=null,T=Ar(this,T),Rn(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[j]),this.h+=1,this},e.get=function(T,j){return T?(T=Zt(this,T),T.length>0?String(T[0]):j):j};function ai(T,j,G){Xt(T,j),G.length>0&&(T.i=null,T.g.set(Ar(T,j),y(G)),T.h+=G.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],j=Array.from(this.g.keys());for(let Q=0;Q<j.length;Q++){var G=j[Q];const _e=Pn(G);G=Zt(this,G);for(let ke=0;ke<G.length;ke++){let Qe=_e;G[ke]!==""&&(Qe+="="+Pn(G[ke])),T.push(Qe)}}return this.i=T.join("&")};function ta(T){const j=new Vt;return j.i=T.i,T.g&&(j.g=new Map(T.g),j.h=T.h),j}function Ar(T,j){return j=String(j),T.j&&(j=j.toLowerCase()),j}function qa(T,j){j&&!T.j&&(St(T),T.i=null,T.g.forEach(function(G,Q){const _e=Q.toLowerCase();Q!=_e&&(Xt(this,Q),ai(this,_e,G))},T)),T.j=j}function wa(T,j){const G=new xa;if(s.Image){const Q=new Image;Q.onload=d(si,G,"TestLoadImage: loaded",!0,j,Q),Q.onerror=d(si,G,"TestLoadImage: error",!1,j,Q),Q.onabort=d(si,G,"TestLoadImage: abort",!1,j,Q),Q.ontimeout=d(si,G,"TestLoadImage: timeout",!1,j,Q),s.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=T}else j(!1)}function un(T,j){const G=new xa,Q=new AbortController,_e=setTimeout(()=>{Q.abort(),si(G,"TestPingServer: timeout",!1,j)},1e4);fetch(T,{signal:Q.signal}).then(ke=>{clearTimeout(_e),ke.ok?si(G,"TestPingServer: ok",!0,j):si(G,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(_e),si(G,"TestPingServer: error",!1,j)})}function si(T,j,G,Q,_e){try{_e&&(_e.onload=null,_e.onerror=null,_e.onabort=null,_e.ontimeout=null),Q(G)}catch{}}function ds(){this.g=new wt}function wo(T){this.i=T.Sb||null,this.h=T.ab||!1}h(wo,tr),wo.prototype.g=function(){return new bu(this.i,this.h)};function bu(T,j){et.call(this),this.H=T,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(bu,et),e=bu.prototype,e.open=function(T,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=T,this.D=j,this.readyState=1,zs(this)},e.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const j={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};T&&(j.body=T),(this.H||s).fetch(new Request(this.D,j)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=0},e.Pa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yf(this)}else T.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yf(T){T.j.read().then(T.Ma.bind(T)).catch(T.ga.bind(T))}e.Ma=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var j=T.value?T.value:new Uint8Array(0);(j=this.B.decode(j,{stream:!T.done}))&&(this.response=this.responseText+=j)}T.done?rc(this):zs(this),this.readyState==3&&Yf(this)}},e.Oa=function(T){this.g&&(this.response=this.responseText=T,rc(this))},e.Na=function(T){this.g&&(this.response=T,rc(this))},e.ga=function(){this.g&&rc(this)};function rc(T){T.readyState=4,T.l=null,T.j=null,T.B=null,zs(T)}e.setRequestHeader=function(T,j){this.A.append(T,j)},e.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],j=this.h.entries();for(var G=j.next();!G.done;)G=G.value,T.push(G[0]+": "+G[1]),G=j.next();return T.join(`\r
`)};function zs(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function hs(T){let j="";return ie(T,function(G,Q){j+=Q,j+=":",j+=G,j+=`\r
`}),j}function wu(T,j,G){e:{for(Q in G){var Q=!1;break e}Q=!0}Q||(G=hs(G),typeof T=="string"?G!=null&&Pn(G):nr(T,j,G))}function Rr(T){et.call(this),this.headers=new Map,this.L=T||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Rr,et);var Eo=/^https?$/i,e0=["POST","PUT"];e=Rr.prototype,e.Fa=function(T){this.H=T},e.ea=function(T,j,G,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);j=j?j.toUpperCase():"GET",this.D=T,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Di.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(j,String(T),!0),this.B=!1}catch(ke){Eu(this,ke);return}if(T=G||"",G=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var _e in Q)G.set(_e,Q[_e]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const ke of Q.keys())G.set(ke,Q.get(ke));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(G.keys()).find(ke=>ke.toLowerCase()=="content-type"),_e=s.FormData&&T instanceof s.FormData,!(Array.prototype.indexOf.call(e0,j,void 0)>=0)||Q||_e||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Qe]of G)this.g.setRequestHeader(ke,Qe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(T),this.v=!1}catch(ke){Eu(this,ke)}};function Eu(T,j){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=j,T.o=5,t0(T),il(T)}function t0(T){T.A||(T.A=!0,ht(T,"complete"),ht(T,"error"))}e.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=T||7,ht(this,"complete"),ht(this,"abort"),il(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),Rr.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Tu(this):this.Xa())},e.Xa=function(){Tu(this)};function Tu(T){if(T.h&&typeof a<"u"){if(T.v&&$s(T)==4)setTimeout(T.Ca.bind(T),0);else if(ht(T,"readystatechange"),$s(T)==4){T.h=!1;try{const ke=T.ca();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var G;if(!(G=j)){var Q;if(Q=ke===0){let Qe=String(T.D).match(bo)[1]||null;!Qe&&s.self&&s.self.location&&(Qe=s.self.location.protocol.slice(0,-1)),Q=!Eo.test(Qe?Qe.toLowerCase():"")}G=Q}if(G)ht(T,"complete"),ht(T,"success");else{T.o=6;try{var _e=$s(T)>2?T.g.statusText:""}catch{_e=""}T.l=_e+" ["+T.ca()+"]",t0(T)}}finally{il(T)}}}}function il(T,j){if(T.g){T.m&&(clearTimeout(T.m),T.m=null);const G=T.g;T.g=null,j||ht(T,"ready");try{G.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function $s(T){return T.g?T.g.readyState:0}e.ca=function(){try{return $s(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(T){if(this.g){var j=this.g.responseText;return T&&j.indexOf(T)==0&&(j=j.substring(T.length)),Ot(j)}};function bi(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.F){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function al(T){const j={};T=(T.g&&$s(T)>=2&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<T.length;Q++){if(H(T[Q]))continue;var G=W(T[Q]);const _e=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const ke=j[_e]||[];j[_e]=ke,ke.push(G)}xe(j,function(Q){return Q.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(T,j,G){return G&&G.internalChannelParams&&G.internalChannelParams[T]||j}function nc(T){this.za=0,this.i=[],this.j=new xa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=To("failFast",!1,T),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=To("baseRetryDelayMs",5e3,T),this.Za=To("retryDelaySeedMs",1e4,T),this.Ta=To("forwardChannelMaxRetries",2,T),this.va=To("forwardChannelRequestTimeoutMs",2e4,T),this.ma=T&&T.xmlHttpFactory||void 0,this.Ua=T&&T.Rb||void 0,this.Aa=T&&T.useFetchStreams||!1,this.O=void 0,this.L=T&&T.supportsCrossDomainXhr||!1,this.M="",this.h=new mr(T&&T.concurrentRequestLimit),this.Ba=new ds,this.S=T&&T.fastHandshake||!1,this.R=T&&T.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=T&&T.Pb||!1,T&&T.ua&&this.j.ua(),T&&T.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&T&&T.detectBufferingProxy||!1,this.ia=void 0,T&&T.longPollingTimeout&&T.longPollingTimeout>0&&(this.ia=T.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=nc.prototype,e.ka=8,e.I=1,e.connect=function(T,j,G,Q){Xr(0),this.W=T,this.H=j||{},G&&Q!==void 0&&(this.H.OSID=G,this.H.OAID=Q),this.F=this.X,this.J=Eg(this,null,this.W),Ao(this)};function r0(T){if(Jf(T),T.I==3){var j=T.V++,G=ln(T.J);if(nr(G,"SID",T.M),nr(G,"RID",j),nr(G,"TYPE","terminate"),Au(T,G),j=new ae(T,T.j,j),j.M=2,j.A=le(ln(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(j.A.toString(),"")}catch{}!G&&s.Image&&(new Image().src=j.A,G=!0),G||(j.g=Tg(j.j,null),j.g.ea(j.A)),j.F=Date.now(),Ae(j)}wg(T)}function ic(T){T.g&&(i0(T),T.g.cancel(),T.g=null)}function Jf(T){ic(T),T.v&&(s.clearTimeout(T.v),T.v=null),Zf(T),T.h.cancel(),T.m&&(typeof T.m=="number"&&s.clearTimeout(T.m),T.m=null)}function Ao(T){if(!gr(T.h)&&!T.m){T.m=!0;var j=T.Ea;D||I(),P||(D(),P=!0),N.add(j,T),T.D=0}}function Xf(T,j){return Tr(T.h)>=T.h.j-(T.m?1:0)?!1:T.m?(T.i=j.G.concat(T.i),!0):T.I==1||T.I==2||T.D>=(T.Sa?0:T.Ta)?!1:(T.m=za(u(T.Ea,T,j),bg(T,T.D)),T.D++,!0)}e.Ea=function(T){if(this.m)if(this.m=null,this.I==1){if(!T){this.V=Math.floor(Math.random()*1e5),T=this.V++;const _e=new ae(this,this.j,T);let ke=this.o;if(this.U&&(ke?(ke=J(ke),ee(ke,this.U)):ke=this.U),this.u!==null||this.R||(_e.J=ke,ke=null),this.S)e:{for(var j=0,G=0;G<this.i.length;G++){t:{var Q=this.i[G];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(j+=Q,j>4096){j=G;break e}if(j===4096||G===this.i.length-1){j=G+1;break e}}j=1e3}else j=1e3;j=vg(this,_e,j),G=ln(this.J),nr(G,"RID",T),nr(G,"CVER",22),this.G&&nr(G,"X-HTTP-Session-Id",this.G),Au(this,G),ke&&(this.R?j="headers="+Pn(hs(ke))+"&"+j:this.u&&wu(G,this.u,ke)),Ha(this.h,_e),this.Ra&&nr(G,"TYPE","init"),this.S?(nr(G,"$req",j),nr(G,"SID","null"),_e.U=!0,se(_e,G,null)):se(_e,G,j),this.I=2}}else this.I==3&&(T?n0(this,T):this.i.length==0||gr(this.h)||n0(this))};function n0(T,j){var G;j?G=j.l:G=T.V++;const Q=ln(T.J);nr(Q,"SID",T.M),nr(Q,"RID",G),nr(Q,"AID",T.K),Au(T,Q),T.u&&T.o&&wu(Q,T.u,T.o),G=new ae(T,T.j,G,T.D+1),T.u===null&&(G.J=T.o),j&&(T.i=j.G.concat(T.i)),j=vg(T,G,1e3),G.H=Math.round(T.va*.5)+Math.round(T.va*.5*Math.random()),Ha(T.h,G),se(G,Q,j)}function Au(T,j){T.H&&ie(T.H,function(G,Q){nr(j,Q,G)}),T.l&&ie({},function(G,Q){nr(j,Q,G)})}function vg(T,j,G){G=Math.min(T.i.length,G);const Q=T.l?u(T.l.Ka,T.l,T):null;e:{var _e=T.i;let Ft=-1;for(;;){const En=["count="+G];Ft==-1?G>0?(Ft=_e[0].g,En.push("ofs="+Ft)):Ft=0:En.push("ofs="+Ft);let vr=!0;for(let Zr=0;Zr<G;Zr++){var ke=_e[Zr].g;const ps=_e[Zr].map;if(ke-=Ft,ke<0)Ft=Math.max(0,_e[Zr].g-100),vr=!1;else try{ke="req"+ke+"_"||"";try{var Qe=ps instanceof Map?ps:Object.entries(ps);for(const[Co,Hs]of Qe){let Gs=Hs;o(Hs)&&(Gs=ft(Hs)),En.push(ke+Co+"="+encodeURIComponent(Gs))}}catch(Co){throw En.push(ke+"type="+encodeURIComponent("_badmap")),Co}}catch{Q&&Q(ps)}}if(vr){Qe=En.join("&");break e}}Qe=void 0}return T=T.i.splice(0,G),j.G=T,Qe}function yg(T){if(!T.g&&!T.v){T.Y=1;var j=T.Da;D||I(),P||(D(),P=!0),N.add(j,T),T.A=0}}function Su(T){return T.g||T.v||T.A>=3?!1:(T.Y++,T.v=za(u(T.Da,T),bg(T,T.A)),T.A++,!0)}e.Da=function(){if(this.v=null,xg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var T=4*this.T;this.j.info("BP detection timer enabled: "+T),this.B=za(u(this.Wa,this),T)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xr(10),ic(this),xg(this))};function i0(T){T.B!=null&&(s.clearTimeout(T.B),T.B=null)}function xg(T){T.g=new ae(T,T.j,"rpc",T.Y),T.u===null&&(T.g.J=T.o),T.g.P=0;var j=ln(T.na);nr(j,"RID","rpc"),nr(j,"SID",T.M),nr(j,"AID",T.K),nr(j,"CI",T.F?"0":"1"),!T.F&&T.ia&&nr(j,"TO",T.ia),nr(j,"TYPE","xmlhttp"),Au(T,j),T.u&&T.o&&wu(j,T.u,T.o),T.O&&(T.g.H=T.O);var G=T.g;T=T.ba,G.M=1,G.A=le(ln(j)),G.u=null,G.R=!0,we(G,T)}e.Va=function(){this.C!=null&&(this.C=null,ic(this),Su(this),Xr(19))};function Zf(T){T.C!=null&&(s.clearTimeout(T.C),T.C=null)}function _g(T,j){var G=null;if(T.g==j){Zf(T),i0(T),T.g=null;var Q=2}else if(ni(T.h,j))G=j.G,Ga(T.h,j),Q=1;else return;if(T.I!=0){if(j.o)if(Q==1){G=j.u?j.u.length:0,j=Date.now()-j.F;var _e=T.D;Q=yo(),ht(Q,new ri(Q,G)),Ao(T)}else yg(T);else if(_e=j.m,_e==3||_e==0&&j.X>0||!(Q==1&&Xf(T,j)||Q==2&&Su(T)))switch(G&&G.length>0&&(j=T.h,j.i=j.i.concat(G)),_e){case 1:So(T,5);break;case 4:So(T,10);break;case 3:So(T,6);break;default:So(T,2)}}}function bg(T,j){let G=T.Qa+Math.floor(Math.random()*T.Za);return T.isActive()||(G*=2),G*j}function So(T,j){if(T.j.info("Error code "+j),j==2){var G=u(T.bb,T),Q=T.Ua;const _e=!Q;Q=new ea(Q||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||cn(Q,"https"),le(Q),_e?wa(Q.toString(),G):un(Q.toString(),G)}else Xr(2);T.I=0,T.l&&T.l.pa(j),wg(T),Jf(T)}e.bb=function(T){T?(this.j.info("Successfully pinged google.com"),Xr(2)):(this.j.info("Failed to ping google.com"),Xr(1))};function wg(T){if(T.I=0,T.ja=[],T.l){const j=Qi(T.h);(j.length!=0||T.i.length!=0)&&(x(T.ja,j),x(T.ja,T.i),T.h.i.length=0,y(T.i),T.i.length=0),T.l.oa()}}function Eg(T,j,G){var Q=G instanceof ea?ln(G):new ea(G);if(Q.g!="")j&&(Q.g=j+"."+Q.g),Pr(Q,Q.u);else{var _e=s.location;Q=_e.protocol,j=j?j+"."+_e.hostname:_e.hostname,_e=+_e.port;const ke=new ea(null);Q&&cn(ke,Q),j&&(ke.g=j),_e&&Pr(ke,_e),G&&(ke.h=G),Q=ke}return G=T.G,j=T.wa,G&&j&&nr(Q,G,j),nr(Q,"VER",T.ka),Au(T,Q),Q}function Tg(T,j,G){if(j&&!T.L)throw Error("Can't create secondary domain capable XhrIo object.");return j=T.Aa&&!T.ma?new Rr(new wo({ab:G})):new Rr(T.ma),j.Fa(T.L),j}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ag(){}e=Ag.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function ac(){}ac.prototype.g=function(T,j){return new ra(T,j)};function ra(T,j){et.call(this),this.g=new nc(j),this.l=T,this.h=j&&j.messageUrlParams||null,T=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(T?T["X-WebChannel-Content-Type"]=j.messageContentType:T={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.sa&&(T?T["X-WebChannel-Client-Profile"]=j.sa:T={"X-WebChannel-Client-Profile":j.sa}),this.g.U=T,(T=j&&j.Qb)&&!H(T)&&(this.g.u=T),this.A=j&&j.supportsCrossDomainXhr||!1,this.v=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!H(j)&&(this.g.G=j,T=this.h,T!==null&&j in T&&(T=this.h,j in T&&delete T[j])),this.j=new sl(this)}h(ra,et),ra.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ra.prototype.close=function(){r0(this.g)},ra.prototype.o=function(T){var j=this.g;if(typeof T=="string"){var G={};G.__data__=T,T=G}else this.v&&(G={},G.__data__=ft(T),T=G);j.i.push(new ot(j.Ya++,T)),j.I==3&&Ao(j)},ra.prototype.N=function(){this.g.l=null,delete this.j,r0(this.g),delete this.g,ra.Z.N.call(this)};function Sg(T){_r.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var j=T.__sm__;if(j){e:{for(const G in j){T=G;break e}T=void 0}(this.i=T)&&(T=this.i,j=j!==null&&T in j?j[T]:void 0),this.data=j}else this.data=T}h(Sg,_r);function Cg(){xi.call(this),this.status=1}h(Cg,xi);function sl(T){this.g=T}h(sl,Ag),sl.prototype.ra=function(){ht(this.g,"a")},sl.prototype.qa=function(T){ht(this.g,new Sg(T))},sl.prototype.pa=function(T){ht(this.g,new Cg)},sl.prototype.oa=function(){ht(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,ra.prototype.send=ra.prototype.o,ra.prototype.open=ra.prototype.m,ra.prototype.close=ra.prototype.close,HV=function(){return new ac},$V=function(){return yo()},zV=mt,uS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Cy=_i,$a.COMPLETE="complete",VV=$a,$t.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",et.prototype.listen=et.prototype.J,gp=$t,Rr.prototype.listenOnce=Rr.prototype.K,Rr.prototype.getLastError=Rr.prototype.Ha,Rr.prototype.getLastErrorCode=Rr.prototype.ya,Rr.prototype.getStatus=Rr.prototype.ca,Rr.prototype.getResponseJson=Rr.prototype.La,Rr.prototype.getResponseText=Rr.prototype.la,Rr.prototype.send=Rr.prototype.ea,Rr.prototype.setWithCredentials=Rr.prototype.Fa,BV=Rr}).apply(typeof Wv<"u"?Wv:typeof self<"u"?self:typeof window<"u"?window:{});class Ia{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ia.UNAUTHENTICATED=new Ia(null),Ia.GOOGLE_CREDENTIALS=new Ia("google-credentials-uid"),Ia.FIRST_PARTY=new Ia("first-party-uid"),Ia.MOCK_USER=new Ia("mock-user");let jh="12.9.0";function Fxe(e){jh=e}const xf=new IV("@firebase/firestore");function Fd(){return xf.logLevel}function st(e,...t){if(xf.logLevel<=ar.DEBUG){const r=t.map(DC);xf.debug(`Firestore (${jh}): ${e}`,...r)}}function Ll(e,...t){if(xf.logLevel<=ar.ERROR){const r=t.map(DC);xf.error(`Firestore (${jh}): ${e}`,...r)}}function mh(e,...t){if(xf.logLevel<=ar.WARN){const r=t.map(DC);xf.warn(`Firestore (${jh}): ${e}`,...r)}}function DC(e){if(typeof e=="string")return e;try{return(function(r){return JSON.stringify(r)})(e)}catch{return e}}function Tt(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,GV(e,n,r)}function GV(e,t,r){let n=`FIRESTORE (${jh}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ll(n),new Error(n)}function wr(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||GV(t,i,n)}function Rt(e,t){return e}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends Vf{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wc{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class Lxe{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jxe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(Ia.UNAUTHENTICATED)))}shutdown(){}}class Uxe{constructor(t){this.t=t,this.currentUser=Ia.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){wr(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Wc;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wc,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;t.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wc)}}),0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wr(typeof n.accessToken=="string",31837,{l:n}),new Lxe(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return wr(t===null||typeof t=="string",2055,{h:t}),new Ia(t)}}class Bxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Ia.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Vxe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Bxe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(Ia.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zxe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,OV(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){wr(this.o===void 0,3512);const n=a=>{a.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,st("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable((()=>n(a)))};const i=a=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S3(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(wr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new S3(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $xe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}class FC{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=$xe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function Yt(e,t){return e<t?-1:e>t?1:0}function fS(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return EE(i)===EE(a)?Yt(i,a):EE(i)?1:-1}return Yt(e.length,t.length)}const Hxe=55296,Gxe=57343;function EE(e){const t=e.charCodeAt(0);return t>=Hxe&&t<=Gxe}function gh(e,t,r){return e.length===t.length&&e.every(((n,i)=>r(n,t[i])))}const C3="__name__";class Lo{constructor(t,r,n){r===void 0?r=0:r>t.length&&Tt(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Tt(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Lo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Lo?t.forEach((n=>{r.push(n)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Lo.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return Yt(t.length,r.length)}static compareSegments(t,r){const n=Lo.isNumericId(t),i=Lo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Lo.extractNumericId(t).compare(Lo.extractNumericId(r)):fS(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kc.fromString(t.substring(4,t.length-2))}}class zr extends Lo{construct(t,r,n){return new zr(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new nt(je.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new zr(r)}static emptyPath(){return new zr([])}}const qxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends Lo{construct(t,r,n){return new ki(t,r,n)}static isValidIdentifier(t){return qxe.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C3}static keyField(){return new ki([C3])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new nt(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new nt(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new nt(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new nt(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ki(r)}static emptyPath(){return new ki([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(zr.fromString(t))}static fromName(t){return new yt(zr.fromString(t).popFirst(5))}static empty(){return new yt(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return zr.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new zr(t.slice()))}}function qV(e,t,r){if(!r)throw new nt(je.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Kxe(e,t,r,n){if(t===!0&&n===!0)throw new nt(je.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function N3(e){if(!yt.isDocumentKey(e))throw new nt(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function I3(e){if(yt.isDocumentKey(e))throw new nt(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function KV(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function W1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function zo(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nt(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=W1(e);throw new nt(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function zn(e,t){const r={typeString:e};return t&&(r.value=t),r}function Vm(e,t){if(!KV(e))throw new nt(je.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new nt(je.INVALID_ARGUMENT,r);return!0}const k3=-62135596800,P3=1e6;class Jr{static now(){return Jr.fromMillis(Date.now())}static fromDate(t){return Jr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*P3);return new Jr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new nt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new nt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<k3)throw new nt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P3}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Vm(t,Jr._jsonSchema))return new Jr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-k3;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jr._jsonSchemaVersion="firestore/timestamp/1.0",Jr._jsonSchema={type:zn("string",Jr._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new Jr(0,0))}static max(){return new Nt(new Jr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const um=-1;function Wxe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(n===1e9?new Jr(r+1,0):new Jr(r,n));return new eu(i,yt.empty(),t)}function Yxe(e){return new eu(e.readTime,e.key,um)}class eu{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new eu(Nt.min(),yt.empty(),um)}static max(){return new eu(Nt.max(),yt.empty(),um)}}function Jxe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=yt.comparator(e.documentKey,t.documentKey),r!==0?r:Yt(e.largestBatchId,t.largestBatchId))}const Xxe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zxe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Uh(e){if(e.code!==je.FAILED_PRECONDITION||e.message!==Xxe)throw e;st("LocalStore","Unexpectedly lost primary lease")}class $e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new $e(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((t,r)=>{this.next(t,r)}))}wrapUserFunction(t){try{const r=t();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction((()=>t(r))):$e.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction((()=>t(r))):$e.reject(r)}static resolve(t){return new $e(((r,n)=>{r(t)}))}static reject(t){return new $e(((r,n)=>{n(t)}))}static waitFor(t){return new $e(((r,n)=>{let i=0,a=0,s=!1;t.forEach((o=>{++i,o.next((()=>{++a,s&&a===i&&r()}),(c=>n(c)))})),s=!0,a===i&&r()}))}static or(t){let r=$e.resolve(!1);for(const n of t)r=r.next((i=>i?$e.resolve(i):n()));return r}static forEach(t,r){const n=[];return t.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(t,r){return new $e(((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const u=c;r(t[u]).next((d=>{s[u]=d,++o,o===a&&n(s)}),(d=>i(d)))}}))}static doWhile(t,r){return new $e(((n,i)=>{const a=()=>{t()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Qxe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Bh(e){return e.name==="IndexedDbTransactionError"}class Y1{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Y1.ce=-1;const LC=-1;function J1(e){return e==null}function Ex(e){return e===0&&1/e==-1/0}function e1e(e){return typeof e=="number"&&Number.isInteger(e)&&!Ex(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const WV="";function t1e(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=R3(t)),t=r1e(e.get(r),t);return R3(t)}function r1e(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case WV:r+="";break;default:r+=a}}return r}function R3(e){return e+WV+""}function O3(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function pu(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function YV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class an{constructor(t,r){this.comparator=t,this.root=r||Ni.EMPTY}insert(t,r){return new an(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(t){return new an(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((r,n)=>(t(r,n),!1)))}toString(){const t=[];return this.inorderTraversal(((r,n)=>(t.push(`${r}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yv(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yv(this.root,t,this.comparator,!0)}}class Yv{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ni{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Ni.RED,this.left=i??Ni.EMPTY,this.right=a??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Ni(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Ni.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Ni(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(t){this.comparator=t,this.data=new an(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((r,n)=>(t(r),!1)))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new M3(this.data.getIterator())}getIteratorFrom(t){return new M3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach((n=>{r=r.add(n)})),r}isEqual(t){if(!(t instanceof Zn)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((r=>{t.push(r)})),t}toString(){const t=[];return this.forEach((r=>t.push(r))),"SortedSet("+t.toString()+")"}copy(t){const r=new Zn(this.comparator);return r.data=t,r}}class M3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ss{constructor(t){this.fields=t,t.sort(ki.comparator)}static empty(){return new ss([])}unionWith(t){let r=new Zn(ki.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new ss(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return gh(this.fields,t.fields,((r,n)=>r.isEqual(n)))}}class JV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new JV("Invalid base64 string: "+a):a}})(t);return new Mi(r)}static fromUint8Array(t){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(t);return new Mi(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const n1e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(e){if(wr(!!e,39018),typeof e=="string"){let t=0;const r=n1e.exec(e);if(wr(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Cn(e.seconds),nanos:Cn(e.nanos)}}function Cn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ru(e){return typeof e=="string"?Mi.fromBase64String(e):Mi.fromUint8Array(e)}const XV="server_timestamp",ZV="__type__",QV="__previous_value__",ez="__local_write_time__";function jC(e){return(e?.mapValue?.fields||{})[ZV]?.stringValue===XV}function X1(e){const t=e.mapValue.fields[QV];return jC(t)?X1(t):t}function fm(e){const t=tu(e.mapValue.fields[ez].timestampValue);return new Jr(t.seconds,t.nanos)}class i1e{constructor(t,r,n,i,a,s,o,c,u,d,h){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d,this.apiKey=h}}const Tx="(default)";class dm{constructor(t,r){this.projectId=t,this.database=r||Tx}static empty(){return new dm("","")}get isDefaultDatabase(){return this.database===Tx}isEqual(t){return t instanceof dm&&t.projectId===this.projectId&&t.database===this.database}}function a1e(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nt(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dm(e.options.projectId,t)}const tz="__type__",s1e="__max__",Jv={mapValue:{}},rz="__vector__",Ax="value";function nu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jC(e)?4:l1e(e)?9007199254740991:o1e(e)?10:11:Tt(28295,{value:e})}function Wo(e,t){if(e===t)return!0;const r=nu(e);if(r!==nu(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fm(e).isEqual(fm(t));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=tu(i.timestampValue),o=tu(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(i,a){return ru(i.bytesValue).isEqual(ru(a.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(i,a){return Cn(i.geoPointValue.latitude)===Cn(a.geoPointValue.latitude)&&Cn(i.geoPointValue.longitude)===Cn(a.geoPointValue.longitude)})(e,t);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Cn(i.integerValue)===Cn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Cn(i.doubleValue),o=Cn(a.doubleValue);return s===o?Ex(s)===Ex(o):isNaN(s)&&isNaN(o)}return!1})(e,t);case 9:return gh(e.arrayValue.values||[],t.arrayValue.values||[],Wo);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(O3(s)!==O3(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!Wo(s[c],o[c])))return!1;return!0})(e,t);default:return Tt(52216,{left:e})}}function hm(e,t){return(e.values||[]).find((r=>Wo(r,t)))!==void 0}function vh(e,t){if(e===t)return 0;const r=nu(e),n=nu(t);if(r!==n)return Yt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Yt(e.booleanValue,t.booleanValue);case 2:return(function(a,s){const o=Cn(a.integerValue||a.doubleValue),c=Cn(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(e,t);case 3:return D3(e.timestampValue,t.timestampValue);case 4:return D3(fm(e),fm(t));case 5:return fS(e.stringValue,t.stringValue);case 6:return(function(a,s){const o=ru(a),c=ru(s);return o.compareTo(c)})(e.bytesValue,t.bytesValue);case 7:return(function(a,s){const o=a.split("/"),c=s.split("/");for(let u=0;u<o.length&&u<c.length;u++){const d=Yt(o[u],c[u]);if(d!==0)return d}return Yt(o.length,c.length)})(e.referenceValue,t.referenceValue);case 8:return(function(a,s){const o=Yt(Cn(a.latitude),Cn(s.latitude));return o!==0?o:Yt(Cn(a.longitude),Cn(s.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return F3(e.arrayValue,t.arrayValue);case 10:return(function(a,s){const o=a.fields||{},c=s.fields||{},u=o[Ax]?.arrayValue,d=c[Ax]?.arrayValue,h=Yt(u?.values?.length||0,d?.values?.length||0);return h!==0?h:F3(u,d)})(e.mapValue,t.mapValue);case 11:return(function(a,s){if(a===Jv.mapValue&&s===Jv.mapValue)return 0;if(a===Jv.mapValue)return 1;if(s===Jv.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=fS(c[h],d[h]);if(m!==0)return m;const y=vh(o[c[h]],u[d[h]]);if(y!==0)return y}return Yt(c.length,d.length)})(e.mapValue,t.mapValue);default:throw Tt(23264,{he:r})}}function D3(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Yt(e,t);const r=tu(e),n=tu(t),i=Yt(r.seconds,n.seconds);return i!==0?i:Yt(r.nanos,n.nanos)}function F3(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=vh(r[i],n[i]);if(a)return a}return Yt(r.length,n.length)}function yh(e){return dS(e)}function dS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(r){const n=tu(r);return`time(${n.seconds},${n.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(r){return ru(r).toBase64()})(e.bytesValue):"referenceValue"in e?(function(r){return yt.fromName(r).toString()})(e.referenceValue):"geoPointValue"in e?(function(r){return`geo(${r.latitude},${r.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=dS(a);return n+"]"})(e.arrayValue):"mapValue"in e?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${dS(r.fields[s])}`;return i+"}"})(e.mapValue):Tt(61005,{value:e})}function Ny(e){switch(nu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=X1(e);return t?16+Ny(t):16;case 5:return 2*e.stringValue.length;case 6:return ru(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Ny(a)),0)})(e.arrayValue);case 10:case 11:return(function(n){let i=0;return pu(n.fields,((a,s)=>{i+=a.length+Ny(s)})),i})(e.mapValue);default:throw Tt(13486,{value:e})}}function L3(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function hS(e){return!!e&&"integerValue"in e}function UC(e){return!!e&&"arrayValue"in e}function j3(e){return!!e&&"nullValue"in e}function U3(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Iy(e){return!!e&&"mapValue"in e}function o1e(e){return(e?.mapValue?.fields||{})[tz]?.stringValue===rz}function Fp(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return pu(e.mapValue.fields,((r,n)=>t.mapValue.fields[r]=Fp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Fp(e.arrayValue.values[r]);return t}return{...e}}function l1e(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===s1e}class Ra{constructor(t){this.value=t}static empty(){return new Ra({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Iy(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fp(r)}setAll(t){let r=ki.emptyPath(),n={},i=[];t.forEach(((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Fp(s):i.push(o.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Iy(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Wo(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){pu(r,((i,a)=>t[i]=a));for(const i of n)delete t[i]}clone(){return new Ra(Fp(this.value))}}function nz(e){const t=[];return pu(e.fields,((r,n)=>{const i=new ki([r]);if(Iy(n)){const a=nz(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)})),new ss(t)}class Vi{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Vi(t,0,Nt.min(),Nt.min(),Nt.min(),Ra.empty(),0)}static newFoundDocument(t,r,n,i){return new Vi(t,1,r,Nt.min(),n,i,0)}static newNoDocument(t,r){return new Vi(t,2,r,Nt.min(),Nt.min(),Ra.empty(),0)}static newUnknownDocument(t,r){return new Vi(t,3,r,Nt.min(),Nt.min(),Ra.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ra.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Vi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Vi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sx{constructor(t,r){this.position=t,this.inclusive=r}}function B3(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=yt.comparator(yt.fromName(s.referenceValue),r.key):n=vh(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function V3(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Wo(e.position[r],t.position[r]))return!1;return!0}class pm{constructor(t,r="asc"){this.field=t,this.dir=r}}function c1e(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class iz{}class Vn extends iz{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new f1e(t,r,n):r==="array-contains"?new p1e(t,n):r==="in"?new m1e(t,n):r==="not-in"?new g1e(t,n):r==="array-contains-any"?new v1e(t,n):new Vn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new d1e(t,n):new h1e(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(vh(r,this.value)):r!==null&&nu(this.value)===nu(r)&&this.matchesComparison(vh(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fo extends iz{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new fo(t,r)}matches(t){return az(this)?this.filters.find((r=>!r.matches(t)))===void 0:this.filters.find((r=>r.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,r)=>t.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function az(e){return e.op==="and"}function sz(e){return u1e(e)&&az(e)}function u1e(e){for(const t of e.filters)if(t instanceof fo)return!1;return!0}function pS(e){if(e instanceof Vn)return e.field.canonicalString()+e.op.toString()+yh(e.value);if(sz(e))return e.filters.map((t=>pS(t))).join(",");{const t=e.filters.map((r=>pS(r))).join(",");return`${e.op}(${t})`}}function oz(e,t){return e instanceof Vn?(function(n,i){return i instanceof Vn&&n.op===i.op&&n.field.isEqual(i.field)&&Wo(n.value,i.value)})(e,t):e instanceof fo?(function(n,i){return i instanceof fo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,o)=>a&&oz(s,i.filters[o])),!0):!1})(e,t):void Tt(19439)}function lz(e){return e instanceof Vn?(function(r){return`${r.field.canonicalString()} ${r.op} ${yh(r.value)}`})(e):e instanceof fo?(function(r){return r.op.toString()+" {"+r.getFilters().map(lz).join(" ,")+"}"})(e):"Filter"}class f1e extends Vn{constructor(t,r,n){super(t,r,n),this.key=yt.fromName(n.referenceValue)}matches(t){const r=yt.comparator(t.key,this.key);return this.matchesComparison(r)}}class d1e extends Vn{constructor(t,r){super(t,"in",r),this.keys=cz("in",r)}matches(t){return this.keys.some((r=>r.isEqual(t.key)))}}class h1e extends Vn{constructor(t,r){super(t,"not-in",r),this.keys=cz("not-in",r)}matches(t){return!this.keys.some((r=>r.isEqual(t.key)))}}function cz(e,t){return(t.arrayValue?.values||[]).map((r=>yt.fromName(r.referenceValue)))}class p1e extends Vn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return UC(r)&&hm(r.arrayValue,this.value)}}class m1e extends Vn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&hm(this.value.arrayValue,r)}}class g1e extends Vn{constructor(t,r){super(t,"not-in",r)}matches(t){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!hm(this.value.arrayValue,r)}}class v1e extends Vn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!UC(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>hm(this.value.arrayValue,n)))}}class y1e{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function z3(e,t=null,r=[],n=[],i=null,a=null,s=null){return new y1e(e,t,r,n,i,a,s)}function BC(e){const t=Rt(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map((n=>pS(n))).join(","),r+="|ob:",r+=t.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),J1(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((n=>yh(n))).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((n=>yh(n))).join(",")),t.Te=r}return t.Te}function VC(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!c1e(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!oz(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!V3(e.startAt,t.startAt)&&V3(e.endAt,t.endAt)}function mS(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Vh{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function x1e(e,t,r,n,i,a,s,o){return new Vh(e,t,r,n,i,a,s,o)}function Z1(e){return new Vh(e)}function $3(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _1e(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function uz(e){return e.collectionGroup!==null}function Lp(e){const t=Rt(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Zn(ki.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(t).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new pm(a,n))})),r.has(ki.keyField().canonicalString())||t.Ie.push(new pm(ki.keyField(),n))}return t.Ie}function $o(e){const t=Rt(e);return t.Ee||(t.Ee=b1e(t,Lp(e))),t.Ee}function b1e(e,t){if(e.limitType==="F")return z3(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new pm(i.field,a)}));const r=e.endAt?new Sx(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Sx(e.startAt.position,e.startAt.inclusive):null;return z3(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function gS(e,t){const r=e.filters.concat([t]);return new Vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function w1e(e,t){const r=e.explicitOrderBy.concat([t]);return new Vh(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function vS(e,t,r){return new Vh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Q1(e,t){return VC($o(e),$o(t))&&e.limitType===t.limitType}function fz(e){return`${BC($o(e))}|lt:${e.limitType}`}function Ld(e){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>lz(i))).join(", ")}]`),J1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>yh(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>yh(i))).join(",")),`Target(${n})`})($o(e))}; limitType=${e.limitType})`}function e_(e,t){return t.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):yt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(e,t)&&(function(n,i){for(const a of Lp(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(e,t)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(e,t)&&(function(n,i){return!(n.startAt&&!(function(s,o,c){const u=B3(s,o,c);return s.inclusive?u<=0:u<0})(n.startAt,Lp(n),i)||n.endAt&&!(function(s,o,c){const u=B3(s,o,c);return s.inclusive?u>=0:u>0})(n.endAt,Lp(n),i))})(e,t)}function E1e(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dz(e){return(t,r)=>{let n=!1;for(const i of Lp(e)){const a=T1e(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function T1e(e,t,r){const n=e.field.isKeyField()?yt.comparator(t.key,r.key):(function(a,s,o){const c=s.data.field(a),u=o.data.field(a);return c!==null&&u!==null?vh(c,u):Tt(42886)})(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Tt(19790,{direction:e.dir})}}class zf{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){pu(this.inner,((r,n)=>{for(const[i,a]of n)t(i,a)}))}isEmpty(){return YV(this.inner)}size(){return this.innerSize}}const A1e=new an(yt.comparator);function jl(){return A1e}const hz=new an(yt.comparator);function vp(...e){let t=hz;for(const r of e)t=t.insert(r.key,r);return t}function pz(e){let t=hz;return e.forEach(((r,n)=>t=t.insert(r,n.overlayedDocument))),t}function Zu(){return jp()}function mz(){return jp()}function jp(){return new zf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const S1e=new an(yt.comparator),C1e=new Zn(yt.comparator);function Jt(...e){let t=C1e;for(const r of e)t=t.add(r);return t}const N1e=new Zn(Yt);function I1e(){return N1e}function zC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ex(t)?"-0":t}}function gz(e){return{integerValue:""+e}}function k1e(e,t){return e1e(t)?gz(t):zC(e,t)}class t_{constructor(){this._=void 0}}function P1e(e,t,r){return e instanceof Cx?(function(i,a){const s={fields:{[ZV]:{stringValue:XV},[ez]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&jC(a)&&(a=X1(a)),a&&(s.fields[QV]=a),{mapValue:s}})(r,t):e instanceof mm?yz(e,t):e instanceof gm?xz(e,t):(function(i,a){const s=vz(i,a),o=H3(s)+H3(i.Ae);return hS(s)&&hS(i.Ae)?gz(o):zC(i.serializer,o)})(e,t)}function R1e(e,t,r){return e instanceof mm?yz(e,t):e instanceof gm?xz(e,t):r}function vz(e,t){return e instanceof Nx?(function(n){return hS(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(t)?t:{integerValue:0}:null}class Cx extends t_{}class mm extends t_{constructor(t){super(),this.elements=t}}function yz(e,t){const r=_z(t);for(const n of e.elements)r.some((i=>Wo(i,n)))||r.push(n);return{arrayValue:{values:r}}}class gm extends t_{constructor(t){super(),this.elements=t}}function xz(e,t){let r=_z(t);for(const n of e.elements)r=r.filter((i=>!Wo(i,n)));return{arrayValue:{values:r}}}class Nx extends t_{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function H3(e){return Cn(e.integerValue||e.doubleValue)}function _z(e){return UC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function O1e(e,t){return e.field.isEqual(t.field)&&(function(n,i){return n instanceof mm&&i instanceof mm||n instanceof gm&&i instanceof gm?gh(n.elements,i.elements,Wo):n instanceof Nx&&i instanceof Nx?Wo(n.Ae,i.Ae):n instanceof Cx&&i instanceof Cx})(e.transform,t.transform)}class M1e{constructor(t,r){this.version=t,this.transformResults=r}}class lo{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new lo}static exists(t){return new lo(void 0,t)}static updateTime(t){return new lo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ky(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class r_{}function bz(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Ez(e.key,lo.none()):new zm(e.key,e.data,lo.none());{const r=e.data,n=Ra.empty();let i=new Zn(ki.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new mu(e.key,n,new ss(i.toArray()),lo.none())}}function D1e(e,t,r){e instanceof zm?(function(i,a,s){const o=i.value.clone(),c=q3(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(e,t,r):e instanceof mu?(function(i,a,s){if(!ky(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=q3(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(wz(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(e,t,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,t,r)}function Up(e,t,r,n){return e instanceof zm?(function(a,s,o,c){if(!ky(a.precondition,s))return o;const u=a.value.clone(),d=K3(a.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(e,t,r,n):e instanceof mu?(function(a,s,o,c){if(!ky(a.precondition,s))return o;const u=K3(a.fieldTransforms,c,s),d=s.data;return d.setAll(wz(a)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((h=>h.field)))})(e,t,r,n):(function(a,s,o){return ky(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(e,t,r)}function F1e(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=vz(n.transform,i||null);a!=null&&(r===null&&(r=Ra.empty()),r.set(n.field,a))}return r||null}function G3(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&gh(n,i,((a,s)=>O1e(a,s)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class zm extends r_{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mu extends r_{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wz(e){const t=new Map;return e.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}})),t}function q3(e,t,r){const n=new Map;wr(e.length===r.length,32656,{Ve:r.length,de:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,R1e(s,o,r[i]))}return n}function K3(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,P1e(a,s,t))}return n}class Ez extends r_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L1e extends r_{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j1e{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&D1e(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Up(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Up(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=mz();return this.mutations.forEach((i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=bz(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Nt.min())})),n}keys(){return this.mutations.reduce(((t,r)=>t.add(r.key)),Jt())}isEqual(t){return this.batchId===t.batchId&&gh(this.mutations,t.mutations,((r,n)=>G3(r,n)))&&gh(this.baseMutations,t.baseMutations,((r,n)=>G3(r,n)))}}class $C{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){wr(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=(function(){return S1e})();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new $C(t,r,n,i)}}class U1e{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class B1e{constructor(t,r){this.count=t,this.unchangedNames=r}}var jn,ir;function V1e(e){switch(e){case je.OK:return Tt(64938);case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function Tz(e){if(e===void 0)return Ll("GRPC error has no .code"),je.UNKNOWN;switch(e){case jn.OK:return je.OK;case jn.CANCELLED:return je.CANCELLED;case jn.UNKNOWN:return je.UNKNOWN;case jn.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case jn.INTERNAL:return je.INTERNAL;case jn.UNAVAILABLE:return je.UNAVAILABLE;case jn.UNAUTHENTICATED:return je.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case jn.NOT_FOUND:return je.NOT_FOUND;case jn.ALREADY_EXISTS:return je.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return je.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case jn.ABORTED:return je.ABORTED;case jn.OUT_OF_RANGE:return je.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return je.UNIMPLEMENTED;case jn.DATA_LOSS:return je.DATA_LOSS;default:return Tt(39323,{code:e})}}(ir=jn||(jn={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";function z1e(){return new TextEncoder}const $1e=new Kc([4294967295,4294967295],0);function W3(e){const t=z1e().encode(e),r=new UV;return r.update(t),new Uint8Array(r.digest())}function Y3(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Kc([r,n],0),new Kc([i,a],0)]}class HC{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new yp(`Invalid padding: ${r}`);if(n<0)throw new yp(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new yp(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new yp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Kc.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(Kc.fromNumber(n)));return i.compare($1e)===1&&(i=new Kc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=W3(t),[n,i]=Y3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new HC(a,i,r);return n.forEach((o=>s.insert(o))),s}insert(t){if(this.ge===0)return;const r=W3(t),[n,i]=Y3(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.be(s)}}be(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class yp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class n_{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,$m.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new n_(Nt.min(),i,new an(Yt),jl(),Jt())}}class $m{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new $m(n,r,Jt(),Jt(),Jt())}}class Py{constructor(t,r,n,i){this.Se=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Az{constructor(t,r){this.targetId=t,this.Ce=r}}class Sz{constructor(t,r,n=Mi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class J3{constructor(){this.ve=0,this.Fe=X3(),this.Me=Mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Jt(),r=Jt(),n=Jt();return this.Fe.forEach(((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Tt(38017,{changeType:a})}})),new $m(this.Me,this.xe,t,r,n)}Ke(){this.Oe=!1,this.Fe=X3()}qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class H1e{constructor(t){this.Ge=t,this.ze=new Map,this.je=jl(),this.He=Xv(),this.Je=Xv(),this.Ze=new an(Yt)}Xe(t){for(const r of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,(r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(t.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(mS(a))if(n===0){const s=new yt(a.path);this.et(r,s,Vi.newNoDocument(s,Nt.min()))}else wr(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),c=o?this.ct(o,t,s):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,u)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=ru(n).toUint8Array()}catch(c){if(c instanceof JV)return mh("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new HC(s,i,a)}catch(c){return mh(c instanceof yp?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)})),i}Tt(t){const r=new Map;this.ze.forEach(((a,s)=>{const o=this.ot(s);if(o){if(a.current&&mS(o.target)){const c=new yt(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Vi.newNoDocument(c,t))}a.Be&&(r.set(s,a.ke()),a.Ke())}}));let n=Jt();this.Je.forEach(((a,s)=>{let o=!0;s.forEachWhile((c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(t)));const i=new n_(t,r,this.Ze,this.je,n);return this.je=jl(),this.He=Xv(),this.Je=Xv(),this.Ze=new an(Yt),i}Ye(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(t)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.qe(r,1):i.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(t)),this.Je=this.Je.insert(r,this.Rt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let r=this.ze.get(t);return r||(r=new J3,this.ze.set(t,r)),r}Rt(t){let r=this.Je.get(t);return r||(r=new Zn(Yt),this.Je=this.Je.insert(t,r)),r}It(t){let r=this.He.get(t);return r||(r=new Zn(Yt),this.He=this.He.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||st("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new J3),this.Ge.getRemoteKeysForTarget(t).forEach((r=>{this.et(t,r,null)}))}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function Xv(){return new an(yt.comparator)}function X3(){return new an(yt.comparator)}const G1e={asc:"ASCENDING",desc:"DESCENDING"},q1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K1e={and:"AND",or:"OR"};class W1e{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function yS(e,t){return e.useProto3Json||J1(t)?t:{value:t}}function Ix(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cz(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Y1e(e,t){return Ix(e,t.toTimestamp())}function Ho(e){return wr(!!e,49232),Nt.fromTimestamp((function(r){const n=tu(r);return new Jr(n.seconds,n.nanos)})(e))}function GC(e,t){return xS(e,t).canonicalString()}function xS(e,t){const r=(function(i){return new zr(["projects",i.projectId,"databases",i.database])})(e).child("documents");return t===void 0?r:r.child(t)}function Nz(e){const t=zr.fromString(e);return wr(Oz(t),10190,{key:t.toString()}),t}function _S(e,t){return GC(e.databaseId,t.path)}function TE(e,t){const r=Nz(t);if(r.get(1)!==e.databaseId.projectId)throw new nt(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new nt(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new yt(kz(r))}function Iz(e,t){return GC(e.databaseId,t)}function J1e(e){const t=Nz(e);return t.length===4?zr.emptyPath():kz(t)}function bS(e){return new zr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function kz(e){return wr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Z3(e,t,r){return{name:_S(e,t),fields:r.value.mapValue.fields}}function X1e(e,t){let r;if("targetChange"in t){t.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Tt(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=(function(u,d){return u.useProto3Json?(wr(d===void 0||typeof d=="string",58123),Mi.fromBase64String(d||"")):(wr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mi.fromUint8Array(d||new Uint8Array))})(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&(function(u){const d=u.code===void 0?je.UNKNOWN:Tz(u.code);return new nt(d,u.message||"")})(s);r=new Sz(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=TE(e,n.document.name),a=Ho(n.document.updateTime),s=n.document.createTime?Ho(n.document.createTime):Nt.min(),o=new Ra({mapValue:{fields:n.document.fields}}),c=Vi.newFoundDocument(i,a,s,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Py(u,d,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=TE(e,n.document),a=n.readTime?Ho(n.readTime):Nt.min(),s=Vi.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Py([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=TE(e,n.document),a=n.removedTargetIds||[];r=new Py([],a,i,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new B1e(i,a),o=n.targetId;r=new Az(o,s)}}return r}function Z1e(e,t){let r;if(t instanceof zm)r={update:Z3(e,t.key,t.value)};else if(t instanceof Ez)r={delete:_S(e,t.key)};else if(t instanceof mu)r={update:Z3(e,t.key,t.data),updateMask:o_e(t.fieldMask)};else{if(!(t instanceof L1e))return Tt(16599,{dt:t.type});r={verify:_S(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map((n=>(function(a,s){const o=s.transform;if(o instanceof Cx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof mm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof gm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Nx)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Tt(20930,{transform:s.transform})})(0,n)))),t.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Y1e(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Tt(27497)})(e,t.precondition)),r}function Q1e(e,t){return e&&e.length>0?(wr(t!==void 0,14353),e.map((r=>(function(i,a){let s=i.updateTime?Ho(i.updateTime):Ho(a);return s.isEqual(Nt.min())&&(s=Ho(a)),new M1e(s,i.transformResults||[])})(r,t)))):[]}function e_e(e,t){return{documents:[Iz(e,t.path)]}}function t_e(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Iz(e,i);const a=(function(u){if(u.length!==0)return Rz(fo.create(u,"and"))})(t.filters);a&&(r.structuredQuery.where=a);const s=(function(u){if(u.length!==0)return u.map((d=>(function(m){return{field:jd(m.field),direction:i_e(m.dir)}})(d)))})(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=yS(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:r,parent:i}}function r_e(e){let t=J1e(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){wr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let a=[];r.where&&(a=(function(h){const m=Pz(h);return m instanceof fo&&sz(m)?m.getFilters():[m]})(r.where));let s=[];r.orderBy&&(s=(function(h){return h.map((m=>(function(x){return new pm(Ud(x.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(m)))})(r.orderBy));let o=null;r.limit&&(o=(function(h){let m;return m=typeof h=="object"?h.value:h,J1(m)?null:m})(r.limit));let c=null;r.startAt&&(c=(function(h){const m=!!h.before,y=h.values||[];return new Sx(y,m)})(r.startAt));let u=null;return r.endAt&&(u=(function(h){const m=!h.before,y=h.values||[];return new Sx(y,m)})(r.endAt)),x1e(t,i,s,a,o,"F",c,u)}function n_e(e,t){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:i})}})(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Pz(e){return e.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ud(r.unaryFilter.field);return Vn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ud(r.unaryFilter.field);return Vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ud(r.unaryFilter.field);return Vn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ud(r.unaryFilter.field);return Vn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(e):e.fieldFilter!==void 0?(function(r){return Vn.create(Ud(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(r){return fo.create(r.compositeFilter.filters.map((n=>Pz(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(r.compositeFilter.op))})(e):Tt(30097,{filter:e})}function i_e(e){return G1e[e]}function a_e(e){return q1e[e]}function s_e(e){return K1e[e]}function jd(e){return{fieldPath:e.canonicalString()}}function Ud(e){return ki.fromServerFormat(e.fieldPath)}function Rz(e){return e instanceof Vn?(function(r){if(r.op==="=="){if(U3(r.value))return{unaryFilter:{field:jd(r.field),op:"IS_NAN"}};if(j3(r.value))return{unaryFilter:{field:jd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(U3(r.value))return{unaryFilter:{field:jd(r.field),op:"IS_NOT_NAN"}};if(j3(r.value))return{unaryFilter:{field:jd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jd(r.field),op:a_e(r.op),value:r.value}}})(e):e instanceof fo?(function(r){const n=r.getFilters().map((i=>Rz(i)));return n.length===1?n[0]:{compositeFilter:{op:s_e(r.op),filters:n}}})(e):Tt(54877,{filter:e})}function o_e(e){const t=[];return e.fields.forEach((r=>t.push(r.canonicalString()))),{fieldPaths:t}}function Oz(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function Mz(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}class Bc{constructor(t,r,n,i,a=Nt.min(),s=Nt.min(),o=Mi.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(t){return new Bc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class l_e{constructor(t){this.yt=t}}function c_e(e){const t=r_e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?vS(t,t.limit,"L"):t}class u_e{constructor(){this.Sn=new f_e}addToCollectionParentIndex(t,r){return this.Sn.add(r),$e.resolve()}getCollectionParents(t,r){return $e.resolve(this.Sn.getEntries(r))}addFieldIndex(t,r){return $e.resolve()}deleteFieldIndex(t,r){return $e.resolve()}deleteAllFieldIndexes(t){return $e.resolve()}createTargetIndexes(t,r){return $e.resolve()}getDocumentsMatchingTarget(t,r){return $e.resolve(null)}getIndexType(t,r){return $e.resolve(0)}getFieldIndexes(t,r){return $e.resolve([])}getNextCollectionGroupToUpdate(t){return $e.resolve(null)}getMinOffset(t,r){return $e.resolve(eu.min())}getMinOffsetFromCollectionGroup(t,r){return $e.resolve(eu.min())}updateCollectionGroup(t,r,n){return $e.resolve()}updateIndexEntries(t,r){return $e.resolve()}}class f_e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new Zn(zr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Zn(zr.comparator)).toArray()}}const Q3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dz=41943040;class ka{static withCacheSize(t){return new ka(t,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}ka.DEFAULT_COLLECTION_PERCENTILE=10,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ka.DEFAULT=new ka(Dz,ka.DEFAULT_COLLECTION_PERCENTILE,ka.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ka.DISABLED=new ka(-1,0,0);class xh{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new xh(0)}static ar(){return new xh(-1)}}const e6="LruGarbageCollector",Fz=1048576;function t6([e,t],[r,n]){const i=Yt(e,r);return i===0?Yt(t,n):i}class d_e{constructor(t){this.Pr=t,this.buffer=new Zn(t6),this.Tr=0}Ir(){return++this.Tr}Er(t){const r=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();t6(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class h_e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(e6,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Bh(r)?st(e6,"Ignoring IndexedDB error during garbage collection: ",r):await Uh(r)}await this.Ar(3e5)}))}}class p_e{constructor(t,r){this.Vr=t,this.params=r}calculateTargetCount(t,r){return this.Vr.dr(t).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(t,r){if(r===0)return $e.resolve(Y1.ce);const n=new d_e(r);return this.Vr.forEachTarget(t,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(t,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(t,r,n){return this.Vr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Vr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(Q3)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q3):this.gr(t,r)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,r){let n,i,a,s,o,c,u;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(t,i)))).next((h=>(n=h,o=Date.now(),this.removeTargets(t,n,r)))).next((h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((h=>(u=Date.now(),Fd()<=ar.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:h}))))}}function m_e(e,t){return new p_e(e,t)}class g_e{constructor(){this.changes=new zf((t=>t.toString()),((t,r)=>t.isEqual(r))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Vi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class v_e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}class y_e{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,r)))).next((i=>(n!==null&&Up(n.mutation,i,ss.empty(),Jr.now()),i)))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.getLocalViewOfDocuments(t,n,Jt()).next((()=>n))))}getLocalViewOfDocuments(t,r,n=Jt()){const i=Zu();return this.populateOverlays(t,i,r).next((()=>this.computeViews(t,r,i,n).next((a=>{let s=vp();return a.forEach(((o,c)=>{s=s.insert(o,c.overlayedDocument)})),s}))))}getOverlayedDocuments(t,r){const n=Zu();return this.populateOverlays(t,n,r).next((()=>this.computeViews(t,r,n,Jt())))}populateOverlays(t,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(t,i).next((a=>{a.forEach(((s,o)=>{r.set(s,o)}))}))}computeViews(t,r,n,i){let a=jl();const s=jp(),o=(function(){return jp()})();return r.forEach(((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof mu)?a=a.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),Up(d.mutation,u,d.mutation.getFieldMask(),Jr.now())):s.set(u.key,ss.empty())})),this.recalculateAndSaveOverlays(t,a).next((c=>(c.forEach(((u,d)=>s.set(u,d))),r.forEach(((u,d)=>o.set(u,new v_e(d,s.get(u)??null)))),o)))}recalculateAndSaveOverlays(t,r){const n=jp();let i=new an(((s,o)=>s-o)),a=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next((s=>{for(const o of s)o.keys().forEach((c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||ss.empty();d=o.applyToLocalView(u,d),n.set(c,d);const h=(i.get(o.batchId)||Jt()).add(c);i=i.insert(o.batchId,h)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,d=c.value,h=mz();d.forEach((m=>{if(!a.has(m)){const y=bz(r.get(m),n.get(m));y!==null&&h.set(m,y),a=a.add(m)}})),s.push(this.documentOverlayCache.saveOverlays(t,u,h))}return $e.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,r,n,i){return _1e(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):uz(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):$e.resolve(Zu());let o=um,c=a;return s.next((u=>$e.forEach(u,((d,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),a.get(d)?$e.resolve():this.remoteDocumentCache.getEntry(t,d).next((m=>{c=c.insert(d,m)}))))).next((()=>this.populateOverlays(t,u,a))).next((()=>this.computeViews(t,c,u,Jt()))).next((d=>({batchId:o,changes:pz(d)})))))}))}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new yt(r)).next((n=>{let i=vp();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=vp();return this.indexManager.getCollectionParents(t,a).next((o=>$e.forEach(o,(c=>{const u=(function(h,m){return new Vh(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next((d=>{d.forEach(((h,m)=>{s=s.insert(h,m)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i)))).next((s=>{a.forEach(((c,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Vi.newInvalidDocument(d)))}));let o=vp();return s.forEach(((c,u)=>{const d=a.get(c);d!==void 0&&Up(d.mutation,u,ss.empty(),Jr.now()),e_(r,u)&&(o=o.insert(c,u))})),o}))}}class x_e{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,r){return $e.resolve(this.Nr.get(r))}saveBundleMetadata(t,r){return this.Nr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Ho(i.createTime)}})(r)),$e.resolve()}getNamedQuery(t,r){return $e.resolve(this.Br.get(r))}saveNamedQuery(t,r){return this.Br.set(r.name,(function(i){return{name:i.name,query:c_e(i.bundledQuery),readTime:Ho(i.readTime)}})(r)),$e.resolve()}}class __e{constructor(){this.overlays=new an(yt.comparator),this.Lr=new Map}getOverlay(t,r){return $e.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Zu();return $e.forEach(r,(i=>this.getOverlay(t,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(t,r,n){return n.forEach(((i,a)=>{this.bt(t,r,a)})),$e.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(n)),$e.resolve()}getOverlaysForCollection(t,r,n){const i=Zu(),a=r.length+1,s=new yt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return $e.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new an(((u,d)=>u-d));const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=Zu(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Zu(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=i)););return $e.resolve(o)}bt(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new U1e(r,n));let a=this.Lr.get(r);a===void 0&&(a=Jt(),this.Lr.set(r,a)),this.Lr.set(r,a.add(n.key))}}class b_e{constructor(){this.sessionToken=Mi.EMPTY_BYTE_STRING}getSessionToken(t){return $e.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,$e.resolve()}}class qC{constructor(){this.kr=new Zn(fi.Kr),this.qr=new Zn(fi.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,r){const n=new fi(t,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(t,r){t.forEach((n=>this.addReference(n,r)))}removeReference(t,r){this.Wr(new fi(t,r))}Qr(t,r){t.forEach((n=>this.removeReference(n,r)))}Gr(t){const r=new yt(new zr([])),n=new fi(r,t),i=new fi(r,t+1),a=[];return this.qr.forEachInRange([n,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const r=new yt(new zr([])),n=new fi(r,t),i=new fi(r,t+1);let a=Jt();return this.qr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(t){const r=new fi(t,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class fi{constructor(t,r){this.key=t,this.Hr=r}static Kr(t,r){return yt.comparator(t.key,r.key)||Yt(t.Hr,r.Hr)}static Ur(t,r){return Yt(t.Hr,r.Hr)||yt.comparator(t.key,r.key)}}class w_e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Zn(fi.Kr)}checkEmpty(t){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new j1e(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new fi(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return $e.resolve(s)}lookupMutationBatch(t,r){return $e.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return $e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?LC:this.Yn-1)}getAllMutationBatches(t){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new fi(r,0),i=new fi(r,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([n,i],(s=>{const o=this.Zr(s.Hr);a.push(o)})),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Zn(Yt);return r.forEach((i=>{const a=new fi(i,0),s=new fi(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(o=>{n=n.add(o.Hr)}))})),$e.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;yt.isDocumentKey(a)||(a=a.child(""));const s=new fi(new yt(a),0);let o=new Zn(Yt);return this.Jr.forEachWhile((c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Hr)),!0)}),s),$e.resolve(this.Yr(o))}Yr(t){const r=[];return t.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(t,r){wr(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return $e.forEach(r.mutations,(i=>{const a=new fi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.Jr=n}))}nr(t){}containsKey(t,r){const n=new fi(r,0),i=this.Jr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,$e.resolve()}ei(t,r){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const r=this.Xr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class E_e{constructor(t){this.ti=t,this.docs=(function(){return new an(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():Vi.newInvalidDocument(r))}getEntries(t,r){let n=jl();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Vi.newInvalidDocument(i))})),$e.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=jl();const s=r.path,o=new yt(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Jxe(Yxe(d),n)<=0||(i.has(d.key)||e_(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return $e.resolve(a)}getAllFromCollectionGroup(t,r,n,i){Tt(9500)}ni(t,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(t){return new T_e(this)}getSize(t){return $e.resolve(this.size)}}class T_e extends g_e{constructor(t){super(),this.Mr=t}applyChanges(t){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Mr.addEntry(t,i)):this.Mr.removeEntry(n)})),$e.waitFor(r)}getFromCache(t,r){return this.Mr.getEntry(t,r)}getAllFromCache(t,r){return this.Mr.getEntries(t,r)}}class A_e{constructor(t){this.persistence=t,this.ri=new zf((r=>BC(r)),VC),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.ii=0,this.si=new qC,this.targetCount=0,this.oi=xh._r()}forEachTarget(t,r){return this.ri.forEach(((n,i)=>r(i))),$e.resolve()}getLastRemoteSnapshotVersion(t){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $e.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),$e.resolve()}lr(t){this.ri.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.oi=new xh(r),this.highestTargetId=r),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,r){return this.lr(r),this.targetCount+=1,$e.resolve()}updateTargetData(t,r){return this.lr(r),$e.resolve()}removeTargetData(t,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.ri.forEach(((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),$e.waitFor(a).next((()=>i))}getTargetCount(t){return $e.resolve(this.targetCount)}getTargetData(t,r){const n=this.ri.get(r)||null;return $e.resolve(n)}addMatchingKeys(t,r,n){return this.si.$r(r,n),$e.resolve()}removeMatchingKeys(t,r,n){this.si.Qr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(t,s))})),$e.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.si.Gr(r),$e.resolve()}getMatchingKeysForTargetId(t,r){const n=this.si.jr(r);return $e.resolve(n)}containsKey(t,r){return $e.resolve(this.si.containsKey(r))}}class Lz{constructor(t,r){this._i={},this.overlays={},this.ai=new Y1(0),this.ui=!1,this.ui=!0,this.ci=new b_e,this.referenceDelegate=t(this),this.li=new A_e(this),this.indexManager=new u_e,this.remoteDocumentCache=(function(i){return new E_e(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new l_e(r),this.Pi=new x_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new __e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this._i[t.toKey()];return n||(n=new w_e(r,this.referenceDelegate),this._i[t.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,r,n){st("MemoryPersistence","Starting transaction:",t);const i=new S_e(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(t,r){return $e.or(Object.values(this._i).map((n=>()=>n.containsKey(t,r))))}}class S_e extends Zxe{constructor(t){super(),this.currentSequenceNumber=t}}class KC{constructor(t){this.persistence=t,this.Ri=new qC,this.Ai=null}static Vi(t){return new KC(t)}get di(){if(this.Ai)return this.Ai;throw Tt(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),$e.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),$e.resolve()}removeTarget(t,r){this.Ri.Gr(r.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>n.removeTargetData(t,r)))}Ti(){this.Ai=new Set}Ii(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.di,(n=>{const i=yt.fromPath(n);return this.mi(t,i).next((a=>{a||r.removeEntry(i,Nt.min())}))})).next((()=>(this.Ai=null,r.apply(t))))}updateLimboDocument(t,r){return this.mi(t,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(t){return 0}mi(t,r){return $e.or([()=>$e.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ei(t,r)])}}class kx{constructor(t,r){this.persistence=t,this.fi=new zf((n=>t1e(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=m_e(this,r)}static Vi(t,r){return new kx(t,r)}Ti(){}Ii(t){return $e.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>r.next((i=>n+i))))}pr(t){let r=0;return this.mr(t,(n=>{r++})).next((()=>r))}mr(t,r){return $e.forEach(this.fi,((n,i)=>this.wr(t,n,i).next((a=>a?$e.resolve():r(i)))))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(t,(s=>this.wr(t,s,r).next((o=>{o||(n++,a.removeEntry(s,Nt.min()))})))).next((()=>a.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,r){return this.fi.set(r,t.currentSequenceNumber),$e.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),$e.resolve()}removeReference(t,r,n){return this.fi.set(n,t.currentSequenceNumber),$e.resolve()}updateLimboDocument(t,r){return this.fi.set(r,t.currentSequenceNumber),$e.resolve()}hi(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Ny(t.data.value)),r}wr(t,r,n){return $e.or([()=>this.persistence.Ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.fi.get(r);return $e.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class WC{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Ts=n,this.Is=i}static Es(t,r){let n=Jt(),i=Jt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new WC(t,r.fromCache,n,i)}}class C_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class N_e{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return xye()?8:Qxe(vye())>0?6:4})()}initialize(t,r){this.fs=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.gs(t,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(t,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new C_e;return this.ys(t,r,s).next((o=>{if(a.result=o,this.As)return this.ws(t,r,s,o.size)}))})).next((()=>a.result))}ws(t,r,n,i){return n.documentReadCount<this.Vs?(Fd()<=ar.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ld(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$e.resolve()):(Fd()<=ar.DEBUG&&st("QueryEngine","Query:",Ld(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(Fd()<=ar.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ld(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$o(r))):$e.resolve())}gs(t,r){if($3(r))return $e.resolve(null);let n=$o(r);return this.indexManager.getIndexType(t,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=vS(r,null,"F"),n=$o(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next((a=>{const s=Jt(...a);return this.fs.getDocuments(t,s).next((o=>this.indexManager.getMinOffset(t,n).next((c=>{const u=this.bs(r,o);return this.Ss(r,u,s,c.readTime)?this.gs(t,vS(r,null,"F")):this.Ds(t,u,r,c)}))))})))))}ps(t,r,n,i){return $3(r)||i.isEqual(Nt.min())?$e.resolve(null):this.fs.getDocuments(t,n).next((a=>{const s=this.bs(r,a);return this.Ss(r,s,n,i)?$e.resolve(null):(Fd()<=ar.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ld(r)),this.Ds(t,s,r,Wxe(i,um)).next((o=>o)))}))}bs(t,r){let n=new Zn(dz(t));return r.forEach(((i,a)=>{e_(t,a)&&(n=n.add(a))})),n}Ss(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(t,r,n){return Fd()<=ar.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ld(r)),this.fs.getDocumentsMatchingQuery(t,r,eu.min(),n)}Ds(t,r,n,i){return this.fs.getDocumentsMatchingQuery(t,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const YC="LocalStore",I_e=3e8;class k_e{constructor(t,r,n,i){this.persistence=t,this.Cs=r,this.serializer=i,this.vs=new an(Yt),this.Fs=new zf((a=>BC(a)),VC),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(n)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new y_e(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>t.collect(r,this.vs)))}}function P_e(e,t,r,n){return new k_e(e,t,r,n)}async function jz(e,t){const r=Rt(e);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Os(t),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],o=[];let c=Jt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next((u=>({Ns:u,removedBatchIds:s,addedBatchIds:o})))}))}))}function R_e(e,t){const r=Rt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=t.batch.keys(),a=r.xs.newChangeBuffer({trackRemovals:!0});return(function(o,c,u,d){const h=u.batch,m=h.keys();let y=$e.resolve();return m.forEach((x=>{y=y.next((()=>d.getEntry(c,x))).next((b=>{const E=u.docVersions.get(x);wr(E!==null,48541),b.version.compareTo(E)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))}))})),y.next((()=>o.mutationQueue.removeMutationBatch(c,h)))})(r,n,t,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let c=Jt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c})(t)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function Uz(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>t.li.getLastRemoteSnapshotVersion(r)))}function O_e(e,t){const r=Rt(e),n=t.snapshotVersion;let i=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;const o=[];t.targetChanges.forEach(((d,h)=>{const m=i.get(h);if(!m)return;o.push(r.li.removeMatchingKeys(a,d.removedDocuments,h).next((()=>r.li.addMatchingKeys(a,d.addedDocuments,h))));let y=m.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(h)!==null?y=y.withResumeToken(Mi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(h,y),(function(b,E,S){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=I_e?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(m,y,d)&&o.push(r.li.updateTargetData(a,y))}));let c=jl(),u=Jt();if(t.documentUpdates.forEach((d=>{t.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,d))})),o.push(M_e(a,s,t.documentUpdates).next((d=>{c=d.Bs,u=d.Ls}))),!n.isEqual(Nt.min())){const d=r.li.getLastRemoteSnapshotVersion(a).next((h=>r.li.setTargetsMetadata(a,a.currentSequenceNumber,n)));o.push(d)}return $e.waitFor(o).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,u))).next((()=>c))})).then((a=>(r.vs=i,a)))}function M_e(e,t,r){let n=Jt(),i=Jt();return r.forEach((a=>n=n.add(a))),t.getEntries(e,n).next((a=>{let s=jl();return r.forEach(((o,c)=>{const u=a.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Nt.min())?(t.removeEntry(o,c.readTime),s=s.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(c),s=s.insert(o,c)):st(YC,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function D_e(e,t){const r=Rt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=LC),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function F_e(e,t){const r=Rt(e);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.li.getTargetData(n,t).next((a=>a?(i=a,$e.resolve(i)):r.li.allocateTargetId(n).next((s=>(i=new Bc(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(t,n.targetId)),n}))}async function wS(e,t,r){const n=Rt(e),i=n.vs.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Bh(s))throw s;st(YC,`Failed to update sequence numbers for target ${t}: ${s}`)}n.vs=n.vs.remove(t),n.Fs.delete(i.target)}function r6(e,t,r){const n=Rt(e);let i=Nt.min(),a=Jt();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,u,d){const h=Rt(c),m=h.Fs.get(d);return m!==void 0?$e.resolve(h.vs.get(m)):h.li.getTargetData(u,d)})(n,s,$o(t)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,o.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(s,t,r?i:Nt.min(),r?a:Jt()))).next((o=>(L_e(n,E1e(t),o),{documents:o,ks:a})))))}function L_e(e,t,r){let n=e.Ms.get(t)||Nt.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),e.Ms.set(t,n)}class n6{constructor(){this.activeTargetIds=I1e()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class j_e{constructor(){this.vo=new n6,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,r,n){this.Fo[t]=r}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new n6,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class U_e{Mo(t){}shutdown(){}}const i6="ConnectivityMonitor";class a6{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(i6,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(i6,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zv=null;function ES(){return Zv===null?Zv=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zv++,"0x"+Zv.toString(16)}const AE="RestConnection",B_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class V_e{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+t.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===Tx?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(t,r,n,i,a){const s=ES(),o=this.Qo(t,r.toUriEncodedString());st(AE,`Sending RPC '${t}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:u}=new URL(o),d=Bm(u);return this.zo(t,o,c,n,d).then((h=>(st(AE,`Received RPC '${t}' ${s}: `,h),h)),(h=>{throw mh(AE,`RPC '${t}' ${s} failed with error: `,h,"url: ",o,"request:",n),h}))}jo(t,r,n,i,a,s){return this.Wo(t,r,n,i,a)}Go(t,r,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jh})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>t[a]=i)),n&&n.headers.forEach(((i,a)=>t[a]=i))}Qo(t,r){const n=B_e[t];let i=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class z_e{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const ji="WebChannelConnection",q0=(e,t,r)=>{e.listen(t,(n=>{try{r(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class nh extends V_e{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!nh.c_){const t=$V();q0(t,zV.STAT_EVENT,(r=>{r.stat===uS.PROXY?st(ji,"STAT_EVENT: detected buffering proxy"):r.stat===uS.NOPROXY&&st(ji,"STAT_EVENT: detected no buffering proxy")})),nh.c_=!0}}zo(t,r,n,i,a){const s=ES();return new Promise(((o,c)=>{const u=new BV;u.setWithCredentials(!0),u.listenOnce(VV.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Cy.NO_ERROR:const h=u.getResponseJson();st(ji,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(h)),o(h);break;case Cy.TIMEOUT:st(ji,`RPC '${t}' ${s} timed out`),c(new nt(je.DEADLINE_EXCEEDED,"Request time out"));break;case Cy.HTTP_ERROR:const m=u.getStatus();if(st(ji,`RPC '${t}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const b=(function(S){const F=S.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(F)>=0?F:je.UNKNOWN})(x.status);c(new nt(b,x.message))}else c(new nt(je.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new nt(je.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{st(ji,`RPC '${t}' ${s} completed.`)}}));const d=JSON.stringify(i);st(ji,`RPC '${t}' ${s} sending request:`,i),u.send(r,"POST",d,n,15)}))}T_(t,r,n){const i=ES(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const u=a.join("");st(ji,`Creating RPC '${t}' stream ${i}: ${u}`,o);const d=s.createWebChannel(u,o);this.I_(d);let h=!1,m=!1;const y=new z_e({Ho:x=>{m?st(ji,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(h||(st(ji,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),st(ji,`RPC '${t}' stream ${i} sending:`,x),d.send(x))},Jo:()=>d.close()});return q0(d,gp.EventType.OPEN,(()=>{m||(st(ji,`RPC '${t}' stream ${i} transport opened.`),y.i_())})),q0(d,gp.EventType.CLOSE,(()=>{m||(m=!0,st(ji,`RPC '${t}' stream ${i} transport closed`),y.o_(),this.E_(d))})),q0(d,gp.EventType.ERROR,(x=>{m||(m=!0,mh(ji,`RPC '${t}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new nt(je.UNAVAILABLE,"The operation could not be completed")))})),q0(d,gp.EventType.MESSAGE,(x=>{if(!m){const b=x.data[0];wr(!!b,16349);const E=b,S=E?.error||E[0]?.error;if(S){st(ji,`RPC '${t}' stream ${i} received error:`,S);const F=S.status;let k=(function(P){const N=jn[P];if(N!==void 0)return Tz(N)})(F),M=S.message;F==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&mh(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),k===void 0&&(k=je.INTERNAL,M="Unknown error status: "+F+" with message "+S.message),m=!0,y.o_(new nt(k,M)),d.close()}else st(ji,`RPC '${t}' stream ${i} received:`,b),y.__(b)}})),nh.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((r=>r===t))}Go(t,r,n){super.Go(t,r,n),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return HV()}}function $_e(e){return new nh(e)}function SE(){return typeof document<"u"?document:null}function i_(e){return new W1e(e,!0)}nh.c_=!1;class Bz{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Ci=t,this.timerId=r,this.R_=n,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&st("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const s6="PersistentStream";class Vz{constructor(t,r,n,i,a,s,o,c){this.Ci=t,this.b_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bz(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===je.RESOURCE_EXHAUSTED?(Ll(r.toString()),Ll("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(r)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{t((()=>{const i=new nt(je.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(t,r){const n=this.Q_(this.D_);this.stream=this.j_(t,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(s6,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return r=>{this.Ci.enqueueAndForget((()=>this.D_===t?r():(st(s6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H_e extends Vz{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=X1e(this.serializer,t),n=(function(a){if(!("targetChange"in a))return Nt.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Nt.min():s.readTime?Ho(s.readTime):Nt.min()})(t);return this.listener.J_(r,n)}Z_(t){const r={};r.database=bS(this.serializer),r.addTarget=(function(a,s){let o;const c=s.target;if(o=mS(c)?{documents:e_e(a,c)}:{query:t_e(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Cz(a,s.resumeToken);const u=yS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(Nt.min())>0){o.readTime=Ix(a,s.snapshotVersion.toTimestamp());const u=yS(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,t);const n=n_e(this.serializer,t);n&&(r.labels=n),this.K_(r)}X_(t){const r={};r.database=bS(this.serializer),r.removeTarget=t,this.K_(r)}}class G_e extends Vz{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}H_(t){return wr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,wr(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){wr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=Q1e(t.writeResults,t.commitTime),n=Ho(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=bS(this.serializer),this.K_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map((n=>Z1e(this.serializer,n)))};this.K_(r)}}class q_e{}class K_e extends q_e{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new nt(je.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(t,xS(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new nt(je.UNKNOWN,a.toString())}))}jo(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.jo(t,xS(r,n),i,s,o,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new nt(je.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function W_e(e,t,r,n){return new K_e(e,t,r,n)}class Y_e{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ll(r),this.aa=!1):st("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const _f="RemoteStore";class J_e{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{n.enqueueAndForget((async()=>{$f(this)&&(st(_f,"Restarting streams for network reachability change."),await(async function(c){const u=Rt(c);u.Ea.add(4),await Hm(u),u.Va.set("Unknown"),u.Ea.delete(4),await a_(u)})(this))}))})),this.Va=new Y_e(n,i)}}async function a_(e){if($f(e))for(const t of e.Ra)await t(!0)}async function Hm(e){for(const t of e.Ra)await t(!1)}function zz(e,t){const r=Rt(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),QC(r)?ZC(r):zh(r).O_()&&XC(r,t))}function JC(e,t){const r=Rt(e),n=zh(r);r.Ia.delete(t),n.O_()&&$z(r,t),r.Ia.size===0&&(n.O_()?n.L_():$f(r)&&r.Va.set("Unknown"))}function XC(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}zh(e).Z_(t)}function $z(e,t){e.da.$e(t),zh(e).X_(t)}function ZC(e){e.da=new H1e({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),zh(e).start(),e.Va.ua()}function QC(e){return $f(e)&&!zh(e).x_()&&e.Ia.size>0}function $f(e){return Rt(e).Ea.size===0}function Hz(e){e.da=void 0}async function X_e(e){e.Va.set("Online")}async function Z_e(e){e.Ia.forEach(((t,r)=>{XC(e,t)}))}async function Q_e(e,t){Hz(e),QC(e)?(e.Va.ha(t),ZC(e)):e.Va.set("Unknown")}async function ebe(e,t,r){if(e.Va.set("Online"),t instanceof Sz&&t.state===2&&t.cause)try{await(async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))})(e,t)}catch(n){st(_f,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Px(e,n)}else if(t instanceof Py?e.da.Xe(t):t instanceof Az?e.da.st(t):e.da.tt(t),!r.isEqual(Nt.min()))try{const n=await Uz(e.localStore);r.compareTo(n)>=0&&await(function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach(((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ia.get(u);d&&a.Ia.set(u,d.withResumeToken(c.resumeToken,s))}})),o.targetMismatches.forEach(((c,u)=>{const d=a.Ia.get(c);if(!d)return;a.Ia.set(c,d.withResumeToken(Mi.EMPTY_BYTE_STRING,d.snapshotVersion)),$z(a,c);const h=new Bc(d.target,c,u,d.sequenceNumber);XC(a,h)})),a.remoteSyncer.applyRemoteEvent(o)})(e,r)}catch(n){st(_f,"Failed to raise snapshot:",n),await Px(e,n)}}async function Px(e,t,r){if(!Bh(t))throw t;e.Ea.add(1),await Hm(e),e.Va.set("Offline"),r||(r=()=>Uz(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{st(_f,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await a_(e)}))}function Gz(e,t){return t().catch((r=>Px(e,r,t)))}async function s_(e){const t=Rt(e),r=iu(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:LC;for(;tbe(t);)try{const i=await D_e(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,rbe(t,i)}catch(i){await Px(t,i)}qz(t)&&Kz(t)}function tbe(e){return $f(e)&&e.Ta.length<10}function rbe(e,t){e.Ta.push(t);const r=iu(e);r.O_()&&r.Y_&&r.ea(t.mutations)}function qz(e){return $f(e)&&!iu(e).x_()&&e.Ta.length>0}function Kz(e){iu(e).start()}async function nbe(e){iu(e).ra()}async function ibe(e){const t=iu(e);for(const r of e.Ta)t.ea(r.mutations)}async function abe(e,t,r){const n=e.Ta.shift(),i=$C.from(n,t,r);await Gz(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await s_(e)}async function sbe(e,t){t&&iu(e).Y_&&await(async function(n,i){if((function(s){return V1e(s)&&s!==je.ABORTED})(i.code)){const a=n.Ta.shift();iu(n).B_(),await Gz(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await s_(n)}})(e,t),qz(e)&&Kz(e)}async function o6(e,t){const r=Rt(e);r.asyncQueue.verifyOperationInProgress(),st(_f,"RemoteStore received new credentials");const n=$f(r);r.Ea.add(3),await Hm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await a_(r)}async function obe(e,t){const r=Rt(e);t?(r.Ea.delete(2),await a_(r)):t||(r.Ea.add(2),await Hm(r),r.Va.set("Unknown"))}function zh(e){return e.ma||(e.ma=(function(r,n,i){const a=Rt(r);return a.sa(),new H_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:X_e.bind(null,e),Yo:Z_e.bind(null,e),t_:Q_e.bind(null,e),J_:ebe.bind(null,e)}),e.Ra.push((async t=>{t?(e.ma.B_(),QC(e)?ZC(e):e.Va.set("Unknown")):(await e.ma.stop(),Hz(e))}))),e.ma}function iu(e){return e.fa||(e.fa=(function(r,n,i){const a=Rt(r);return a.sa(),new G_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nbe.bind(null,e),t_:sbe.bind(null,e),ta:ibe.bind(null,e),na:abe.bind(null,e)}),e.Ra.push((async t=>{t?(e.fa.B_(),await s_(e)):(await e.fa.stop(),e.Ta.length>0&&(st(_f,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class eN{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Wc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new eN(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tN(e,t){if(Ll("AsyncQueue",`${t}: ${e}`),Bh(e))return new nt(je.UNAVAILABLE,`${t}: ${e}`);throw e}class ih{static emptySet(t){return new ih(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||yt.comparator(r.key,n.key):(r,n)=>yt.comparator(r.key,n.key),this.keyedMap=vp(),this.sortedSet=new an(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((r,n)=>(t(r),!1)))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ih)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach((r=>{t.push(r.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new ih;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}class l6{constructor(){this.ga=new an(yt.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):Tt(63341,{Vt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal(((r,n)=>{t.push(n)})),t}}class _h{constructor(t,r,n,i,a,s,o,c,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach((o=>{s.push({type:0,doc:o})})),new _h(t,r,ih.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Q1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}class lbe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class cbe{constructor(){this.queries=c6(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Rt(r),a=i.queries;i.queries=c6(),a.forEach(((s,o)=>{for(const c of o.ba)c.onError(n)}))})(this,new nt(je.ABORTED,"Firestore shutting down"))}}function c6(){return new zf((e=>fz(e)),Q1)}async function Wz(e,t){const r=Rt(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.Sa()&&t.Da()&&(n=2):(a=new lbe,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=tN(s,`Initialization of query '${Ld(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.ba.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&rN(r)}async function Yz(e,t){const r=Rt(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function ube(e,t){const r=Rt(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(n=!0);s.wa=i}}n&&rN(r)}function fbe(e,t,r){const n=Rt(e),i=n.queries.get(t);if(i)for(const a of i.ba)a.onError(r);n.queries.delete(t)}function rN(e){e.Ca.forEach((t=>{t.next()}))}var TS,u6;(u6=TS||(TS={})).Ma="default",u6.Cache="cache";class Jz{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new _h(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=_h.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==TS.Cache}}class Xz{constructor(t){this.key=t}}class Zz{constructor(t){this.key=t}}class dbe{constructor(t,r){this.query=t,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Jt(),this.mutatedKeys=Jt(),this.eu=dz(t),this.tu=new ih(this.eu)}get nu(){return this.Za}ru(t,r){const n=r?r.iu:new l6,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((d,h)=>{const m=i.get(d),y=e_(this.query,h)?h:null,x=!!m&&this.mutatedKeys.has(m.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;m&&y?m.data.isEqual(y.data)?x!==b&&(n.track({type:3,doc:y}),E=!0):this.su(m,y)||(n.track({type:2,doc:y}),E=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(o=!0)):!m&&y?(n.track({type:0,doc:y}),E=!0):m&&!y&&(n.track({type:1,doc:m}),E=!0,(c||u)&&(o=!0)),E&&(y?(s=s.add(y),a=b?a.add(d):a.delete(d)):(s=s.delete(d),a=a.delete(d)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),a=a.delete(d.key),n.track({type:1,doc:d})}return{tu:s,iu:n,Ss:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort(((d,h)=>(function(y,x){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:E})}};return b(y)-b(x)})(d.type,h.type)||this.eu(d.doc,h.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Xa;return this.Xa=c,s.length!==0||u?{snapshot:new _h(this.query,t.tu,a,s,t.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l6,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),t.modifiedDocuments.forEach((r=>{})),t.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Jt(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return t.forEach((n=>{this.Ya.has(n)||r.push(new Zz(n))})),this.Ya.forEach((n=>{t.has(n)||r.push(new Xz(n))})),r}cu(t){this.Za=t.ks,this.Ya=Jt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return _h.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const nN="SyncEngine";class hbe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class pbe{constructor(t){this.key=t,this.hu=!1}}class mbe{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new zf((o=>fz(o)),Q1),this.Iu=new Map,this.Eu=new Set,this.Ru=new an(yt.comparator),this.Au=new Map,this.Vu=new qC,this.du={},this.mu=new Map,this.fu=xh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gbe(e,t,r=!0){const n=i7(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Qz(n,t,r,!0),i}async function vbe(e,t){const r=i7(e);await Qz(r,t,!0,!1)}async function Qz(e,t,r,n){const i=await F_e(e.localStore,$o(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await ybe(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&zz(e.remoteStore,i),o}async function ybe(e,t,r,n,i){e.pu=(h,m,y)=>(async function(b,E,S,F){let k=E.view.ru(S);k.Ss&&(k=await r6(b.localStore,E.query,!1).then((({documents:N})=>E.view.ru(N,k))));const M=F&&F.targetChanges.get(E.targetId),D=F&&F.targetMismatches.get(E.targetId)!=null,P=E.view.applyChanges(k,b.isPrimaryClient,M,D);return d6(b,E.targetId,P.au),P.snapshot})(e,h,m,y);const a=await r6(e.localStore,t,!0),s=new dbe(t,a.ks),o=s.ru(a.documents),c=$m.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,c);d6(e,r,u.au);const d=new hbe(t,r,s);return e.Tu.set(t,d),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),u.snapshot}async function xbe(e,t,r){const n=Rt(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!Q1(s,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await wS(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&JC(n.remoteStore,i.targetId),AS(n,i.targetId)})).catch(Uh)):(AS(n,i.targetId),await wS(n.localStore,i.targetId,!0))}async function _be(e,t){const r=Rt(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),JC(r.remoteStore,n.targetId))}async function bbe(e,t,r){const n=Nbe(e);try{const i=await(function(s,o){const c=Rt(s),u=Jr.now(),d=o.reduce(((y,x)=>y.add(x.key)),Jt());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=jl(),b=Jt();return c.xs.getEntries(y,d).next((E=>{x=E,x.forEach(((S,F)=>{F.isValidDocument()||(b=b.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,x))).next((E=>{h=E;const S=[];for(const F of o){const k=F1e(F,h.get(F.key).overlayedDocument);k!=null&&S.push(new mu(F.key,k,nz(k.value.mapValue),lo.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,S,o)})).next((E=>{m=E;const S=E.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(y,E.batchId,S)}))})).then((()=>({batchId:m.batchId,changes:pz(h)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),(function(s,o,c){let u=s.du[s.currentUser.toKey()];u||(u=new an(Yt)),u=u.insert(o,c),s.du[s.currentUser.toKey()]=u})(n,i.batchId,r),await Gm(n,i.changes),await s_(n.remoteStore)}catch(i){const a=tN(i,"Failed to persist write");r.reject(a)}}async function e7(e,t){const r=Rt(e);try{const n=await O_e(r.localStore,t);t.targetChanges.forEach(((i,a)=>{const s=r.Au.get(a);s&&(wr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?wr(s.hu,14607):i.removedDocuments.size>0&&(wr(s.hu,42227),s.hu=!1))})),await Gm(r,n,t)}catch(n){await Uh(n)}}function f6(e,t,r){const n=Rt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)})),(function(s,o){const c=Rt(s);c.onlineState=o;let u=!1;c.queries.forEach(((d,h)=>{for(const m of h.ba)m.va(o)&&(u=!0)})),u&&rN(c)})(n.eventManager,t),i.length&&n.Pu.J_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function wbe(e,t,r){const n=Rt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new an(yt.comparator);s=s.insert(a,Vi.newNoDocument(a,Nt.min()));const o=Jt().add(a),c=new n_(Nt.min(),new Map,new an(Yt),s,o);await e7(n,c),n.Ru=n.Ru.remove(a),n.Au.delete(t),iN(n)}else await wS(n.localStore,t,!1).then((()=>AS(n,t,r))).catch(Uh)}async function Ebe(e,t){const r=Rt(e),n=t.batch.batchId;try{const i=await R_e(r.localStore,t);r7(r,n,null),t7(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Gm(r,i)}catch(i){await Uh(i)}}async function Tbe(e,t,r){const n=Rt(e);try{const i=await(function(s,o){const c=Rt(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return c.mutationQueue.lookupMutationBatch(u,o).next((h=>(wr(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h)))).next((()=>c.mutationQueue.performConsistencyCheck(u))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>c.localDocuments.getDocuments(u,d)))}))})(n.localStore,t);r7(n,t,r),t7(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Gm(n,i)}catch(i){await Uh(i)}}function t7(e,t){(e.mu.get(t)||[]).forEach((r=>{r.resolve()})),e.mu.delete(t)}function r7(e,t,r){const n=Rt(e);let i=n.du[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.du[n.currentUser.toKey()]=i}}function AS(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach((n=>{e.Vu.containsKey(n)||n7(e,n)}))}function n7(e,t){e.Eu.delete(t.path.canonicalString());const r=e.Ru.get(t);r!==null&&(JC(e.remoteStore,r),e.Ru=e.Ru.remove(t),e.Au.delete(r),iN(e))}function d6(e,t,r){for(const n of r)n instanceof Xz?(e.Vu.addReference(n.key,t),Abe(e,n)):n instanceof Zz?(st(nN,"Document no longer in limbo: "+n.key),e.Vu.removeReference(n.key,t),e.Vu.containsKey(n.key)||n7(e,n.key)):Tt(19791,{wu:n})}function Abe(e,t){const r=t.key,n=r.path.canonicalString();e.Ru.get(r)||e.Eu.has(n)||(st(nN,"New document in limbo: "+r),e.Eu.add(n),iN(e))}function iN(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new yt(zr.fromString(t)),n=e.fu.next();e.Au.set(n,new pbe(r)),e.Ru=e.Ru.insert(r,n),zz(e.remoteStore,new Bc($o(Z1(r.path)),n,"TargetPurposeLimboResolution",Y1.ce))}}async function Gm(e,t,r){const n=Rt(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,c)=>{s.push(n.pu(c,t,r).then((u=>{if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);const d=WC.Es(c.targetId,u);a.push(d)}})))})),await Promise.all(s),n.Pu.J_(i),await(async function(c,u){const d=Rt(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>$e.forEach(u,(m=>$e.forEach(m.Ts,(y=>d.persistence.referenceDelegate.addReference(h,m.targetId,y))).next((()=>$e.forEach(m.Is,(y=>d.persistence.referenceDelegate.removeReference(h,m.targetId,y)))))))))}catch(h){if(!Bh(h))throw h;st(YC,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const y=d.vs.get(m),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);d.vs=d.vs.insert(m,b)}}})(n.localStore,a))}async function Sbe(e,t){const r=Rt(e);if(!r.currentUser.isEqual(t)){st(nN,"User change. New user:",t.toKey());const n=await jz(r.localStore,t);r.currentUser=t,(function(a,s){a.mu.forEach((o=>{o.forEach((c=>{c.reject(new nt(je.CANCELLED,s))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Gm(r,n.Ns)}}function Cbe(e,t){const r=Rt(e),n=r.Au.get(t);if(n&&n.hu)return Jt().add(n.key);{let i=Jt();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function i7(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=e7.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cbe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wbe.bind(null,t),t.Pu.J_=ube.bind(null,t.eventManager),t.Pu.yu=fbe.bind(null,t.eventManager),t}function Nbe(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ebe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tbe.bind(null,t),t}class Rx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=i_(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return P_e(this.persistence,new N_e,t.initialUser,this.serializer)}Cu(t){return new Lz(KC.Vi,this.serializer)}Du(t){return new j_e}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rx.provider={build:()=>new Rx};class Ibe extends Rx{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){wr(this.persistence.referenceDelegate instanceof kx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new h_e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?ka.withCacheSize(this.cacheSizeBytes):ka.DEFAULT;return new Lz((n=>kx.Vi(n,r)),this.serializer)}}class SS{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>f6(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sbe.bind(null,this.syncEngine),await obe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cbe})()}createDatastore(t){const r=i_(t.databaseInfo.databaseId),n=$_e(t.databaseInfo);return W_e(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return(function(n,i,a,s,o){return new J_e(n,i,a,s,o)})(this.localStore,this.datastore,t.asyncQueue,(r=>f6(this.syncEngine,r,0)),(function(){return a6.v()?new a6:new U_e})())}createSyncEngine(t,r){return(function(i,a,s,o,c,u,d){const h=new mbe(i,a,s,o,c,u);return d&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Rt(r);st(_f,"RemoteStore shutting down."),n.Ea.add(5),await Hm(n),n.Aa.shutdown(),n.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}SS.provider={build:()=>new SS};class a7{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ll("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout((()=>{this.muted||t(r)}),0)}}const au="FirestoreClient";class kbe{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=i,this.user=Ia.UNAUTHENTICATED,this.clientId=FC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{st(au,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(st(au,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=tN(r,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function CE(e,t){e.asyncQueue.verifyOperationInProgress(),st(au,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener((async i=>{n.isEqual(i)||(await jz(t.localStore,i),n=i)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function h6(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Pbe(e);st(au,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener((n=>o6(t.remoteStore,n))),e.setAppCheckTokenChangeListener(((n,i)=>o6(t.remoteStore,i))),e._onlineComponents=t}async function Pbe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){st(au,"Using user provided OfflineComponentProvider");try{await CE(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!(function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;mh("Error using user provided cache. Falling back to memory cache: "+r),await CE(e,new Rx)}}else st(au,"Using default OfflineComponentProvider"),await CE(e,new Ibe(void 0));return e._offlineComponents}async function s7(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(st(au,"Using user provided OnlineComponentProvider"),await h6(e,e._uninitializedComponentsProvider._online)):(st(au,"Using default OnlineComponentProvider"),await h6(e,new SS))),e._onlineComponents}function Rbe(e){return s7(e).then((t=>t.syncEngine))}async function CS(e){const t=await s7(e),r=t.eventManager;return r.onListen=gbe.bind(null,t.syncEngine),r.onUnlisten=xbe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=vbe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=_be.bind(null,t.syncEngine),r}function Obe(e,t,r,n){const i=new a7(n),a=new Jz(t,i,r);return e.asyncQueue.enqueueAndForget((async()=>Wz(await CS(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>Yz(await CS(e),a)))}}function Mbe(e,t,r={}){const n=new Wc;return e.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,c,u){const d=new a7({next:m=>{d.Nu(),s.enqueueAndForget((()=>Yz(a,h)));const y=m.docs.has(o);!y&&m.fromCache?u.reject(new nt(je.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new nt(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new Jz(Z1(o.path),d,{includeMetadataChanges:!0,Ka:!0});return Wz(a,h)})(await CS(e),e.asyncQueue,t,r,n))),n.promise}function Dbe(e,t){const r=new Wc;return e.asyncQueue.enqueueAndForget((async()=>bbe(await Rbe(e),t,r))),r.promise}function o7(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Fbe="ComponentProvider",p6=new Map;function Lbe(e,t,r,n,i){return new i1e(e,t,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,o7(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}const jbe="firestore.googleapis.com",m6=!0;class g6{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jbe,this.ssl=m6}else this.host=t.host,this.ssl=t.ssl??m6;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Dz;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Fz)throw new nt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Kxe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o7(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new nt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new nt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new nt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class aN{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g6(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new jxe;switch(n.type){case"firstParty":return new Vxe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new nt(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=p6.get(r);n&&(st(Fbe,"Removing Datastore"),p6.delete(r),n.terminate())})(this),Promise.resolve()}}class Hf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Hf(this.firestore,t,this._query)}}class vn{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vn(this.firestore,t,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Vm(r,vn._jsonSchema))return new vn(t,n||null,new yt(zr.fromString(r.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:zn("string",vn._jsonSchemaVersion),referencePath:zn("string")};class Yc extends Hf{constructor(t,r,n){super(t,r,Z1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vn(this.firestore,null,new yt(t))}withConverter(t){return new Yc(this.firestore,t,this._path)}}function l7(e,t,...r){if(e=La(e),qV("collection","path",t),e instanceof aN){const n=zr.fromString(t,...r);return I3(n),new Yc(e,null,n)}{if(!(e instanceof vn||e instanceof Yc))throw new nt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zr.fromString(t,...r));return I3(n),new Yc(e.firestore,null,n)}}function o_(e,t,...r){if(e=La(e),arguments.length===1&&(t=FC.newId()),qV("doc","path",t),e instanceof aN){const n=zr.fromString(t,...r);return N3(n),new vn(e,null,new yt(n))}{if(!(e instanceof vn||e instanceof Yc))throw new nt(je.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(zr.fromString(t,...r));return N3(n),new vn(e.firestore,e instanceof Yc?e.converter:null,new yt(n))}}const v6="AsyncQueue";class y6{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bz(this,"async_queue_retry"),this._c=()=>{const n=SE();n&&st(v6,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=SE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=SE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Wc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Bh(t))throw t;st(v6,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,Ll("INTERNAL UNHANDLED ERROR: ",x6(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=eN.createAndSchedule(this,t,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Tt(47125,{Pc:x6(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function x6(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class bf extends aN{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new y6,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new y6(t),this._firestoreClient=void 0,await t}}}function Ube(e,t,r){r||(r=Tx);const n=RV(e,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),a=n.getOptions(r);if(wx(a,t))return i;throw new nt(je.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new nt(je.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Fz)throw new nt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&Bm(t.host)&&CV(t.host),n.initialize({options:t,instanceIdentifier:r})}function sN(e){if(e._terminated)throw new nt(je.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Bbe(e),e._firestoreClient}function Bbe(e){const t=e._freezeSettings(),r=Lbe(e._databaseId,e._app?.options.appId||"",e._persistenceKey,e._app?.options.apiKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new kbe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(e._componentsProvider))}class Ps{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ps(Mi.fromBase64String(t))}catch(r){throw new nt(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ps(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ps._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Vm(t,Ps._jsonSchema))return Ps.fromBase64String(t.bytes)}}Ps._jsonSchemaVersion="firestore/bytes/1.0",Ps._jsonSchema={type:zn("string",Ps._jsonSchemaVersion),bytes:zn("string")};class oN{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new nt(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lN{constructor(t){this._methodName=t}}class Go{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new nt(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new nt(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Go._jsonSchemaVersion}}static fromJSON(t){if(Vm(t,Go._jsonSchema))return new Go(t.latitude,t.longitude)}}Go._jsonSchemaVersion="firestore/geoPoint/1.0",Go._jsonSchema={type:zn("string",Go._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};class co{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,t._values)}toJSON(){return{type:co._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Vm(t,co._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new co(t.vectorValues);throw new nt(je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:zn("string",co._jsonSchemaVersion),vectorValues:zn("object")};const Vbe=/^__.*__$/;class zbe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new mu(t,this.data,this.fieldMask,r,this.fieldTransforms):new zm(t,this.data,r,this.fieldTransforms)}}class c7{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new mu(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function u7(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{dataSource:e})}}class cN{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new cN({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(t),n}childContextForFieldPath(t){const r=this.path?.child(t),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Ox(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((r=>t.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>t.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(u7(this.dataSource)&&Vbe.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class $be{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||i_(t)}createContext(t,r,n,i=!1){return new cN({dataSource:t,methodName:r,targetDoc:n,path:ki.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l_(e){const t=e._freezeSettings(),r=i_(e._databaseId);return new $be(e._databaseId,!!t.ignoreUndefinedProperties,r)}function f7(e,t,r,n,i,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,r,i);uN("Data must be an object, but it was:",s,n);const o=d7(n,s);let c,u;if(a.merge)c=new ss(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const m=bh(t,h,r);if(!s.contains(m))throw new nt(je.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);m7(d,m)||d.push(m)}c=new ss(d),u=s.fieldTransforms.filter((h=>c.covers(h.field)))}else c=null,u=s.fieldTransforms;return new zbe(new Ra(o),c,u)}class c_ extends lN{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof c_}}function Hbe(e,t,r,n){const i=e.createContext(1,t,r);uN("Data must be an object, but it was:",i,n);const a=[],s=Ra.empty();pu(n,((c,u)=>{const d=p7(t,c,r);u=La(u);const h=i.childContextForFieldPath(d);if(u instanceof c_)a.push(d);else{const m=qm(u,h);m!=null&&(a.push(d),s.set(d,m))}}));const o=new ss(a);return new c7(s,o,i.fieldTransforms)}function Gbe(e,t,r,n,i,a){const s=e.createContext(1,t,r),o=[bh(t,n,r)],c=[i];if(a.length%2!=0)throw new nt(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)o.push(bh(t,a[m])),c.push(a[m+1]);const u=[],d=Ra.empty();for(let m=o.length-1;m>=0;--m)if(!m7(u,o[m])){const y=o[m];let x=c[m];x=La(x);const b=s.childContextForFieldPath(y);if(x instanceof c_)u.push(y);else{const E=qm(x,b);E!=null&&(u.push(y),d.set(y,E))}}const h=new ss(u);return new c7(d,h,s.fieldTransforms)}function qbe(e,t,r,n=!1){return qm(r,e.createContext(n?4:3,t))}function qm(e,t){if(h7(e=La(e)))return uN("Unsupported field value:",t,e),d7(e,t);if(e instanceof lN)return(function(n,i){if(!u7(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const o of n){let c=qm(o,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(e,t)}return(function(n,i){if((n=La(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return k1e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Jr.fromDate(n);return{timestampValue:Ix(i.serializer,a)}}if(n instanceof Jr){const a=new Jr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ix(i.serializer,a)}}if(n instanceof Go)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ps)return{bytesValue:Cz(i.serializer,n._byteString)};if(n instanceof vn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:GC(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof co)return(function(s,o){const c=s instanceof co?s.toArray():s;return{mapValue:{fields:{[tz]:{stringValue:rz},[Ax]:{arrayValue:{values:c.map((d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return zC(o.serializer,d)}))}}}}}})(n,i);if(Mz(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${W1(n)}`)})(e,t)}function d7(e,t){const r={};return YV(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pu(e,((n,i)=>{const a=qm(i,t.childContextForField(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function h7(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Jr||e instanceof Go||e instanceof Ps||e instanceof vn||e instanceof lN||e instanceof co||Mz(e))}function uN(e,t,r){if(!h7(r)||!KV(r)){const n=W1(r);throw n==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+n)}}function bh(e,t,r){if((t=La(t))instanceof oN)return t._internalPath;if(typeof t=="string")return p7(e,t);throw Ox("Field path arguments must be of type string or ",e,!1,void 0,r)}const Kbe=new RegExp("[~\\*/\\[\\]]");function p7(e,t,r){if(t.search(Kbe)>=0)throw Ox(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new oN(...t.split("."))._internalPath}catch{throw Ox(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Ox(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new nt(je.INVALID_ARGUMENT,o+e+c)}function m7(e,t){return e.some((r=>r.isEqual(t)))}class Wbe{convertValue(t,r="none"){switch(nu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Cn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(ru(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return pu(t,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(t){const r=t.fields?.[Ax].arrayValue?.values?.map((n=>Cn(n.doubleValue)));return new co(r)}convertGeoPoint(t){return new Go(Cn(t.latitude),Cn(t.longitude))}convertArray(t,r){return(t.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(t,r){switch(r){case"previous":const n=X1(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(fm(t));default:return null}}convertTimestamp(t){const r=tu(t);return new Jr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=zr.fromString(t);wr(Oz(n),9688,{name:t});const i=new dm(n.get(1),n.get(3)),a=new yt(n.popFirst(5));return i.isEqual(r)||Ll(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}class g7 extends Wbe{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ps(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new vn(this.firestore,null,r)}}const _6="@firebase/firestore",b6="4.11.0";function w6(e){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(e,["next","error","complete"])}class v7{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ybe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const r=this._document.data.field(bh("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Ybe extends v7{data(){return super.data()}}function Jbe(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new nt(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fN{}class y7 extends fN{}function Xbe(e,t,...r){let n=[];t instanceof fN&&n.push(t),n=n.concat(r),(function(a){const s=a.filter((c=>c instanceof hN)).length,o=a.filter((c=>c instanceof dN)).length;if(s>1||s>0&&o>0)throw new nt(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)e=i._apply(e);return e}class dN extends y7{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new dN(t,r,n)}_apply(t){const r=this._parse(t);return x7(t._query,r),new Hf(t.firestore,t.converter,gS(t._query,r))}_parse(t){const r=l_(t.firestore);return(function(a,s,o,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new nt(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){T6(h,d);const x=[];for(const b of h)x.push(E6(c,a,b));m={arrayValue:{values:x}}}else m=E6(c,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||T6(h,d),m=qbe(o,s,h,d==="in"||d==="not-in");return Vn.create(u,d,m)})(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}class hN extends fN{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new hN(t,r)}_parse(t){const r=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:fo.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:((function(i,a){let s=i;const o=a.getFlattenedFilters();for(const c of o)x7(s,c),s=gS(s,c)})(t._query,r),new Hf(t.firestore,t.converter,gS(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pN extends y7{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new pN(t,r)}_apply(t){const r=(function(i,a,s){if(i.startAt!==null)throw new nt(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new nt(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pm(a,s)})(t._query,this._field,this._direction);return new Hf(t.firestore,t.converter,w1e(t._query,r))}}function Zbe(e,t="asc"){const r=t,n=bh("orderBy",e);return pN._create(n,r)}function E6(e,t,r){if(typeof(r=La(r))=="string"){if(r==="")throw new nt(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uz(t)&&r.indexOf("/")!==-1)throw new nt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(zr.fromString(r));if(!yt.isDocumentKey(n))throw new nt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return L3(e,new yt(n))}if(r instanceof vn)return L3(e,r._key);throw new nt(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${W1(r)}.`)}function T6(e,t){if(!Array.isArray(e)||e.length===0)throw new nt(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function x7(e,t){const r=(function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null})(e.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(r!==null)throw r===t.op?new nt(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function _7(e,t,r){let n;return n=e?e.toFirestore(t):t,n}class xp{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class of extends v7{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ry(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(bh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=of._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}of._jsonSchemaVersion="firestore/documentSnapshot/1.0",of._jsonSchema={type:zn("string",of._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class Ry extends of{data(t={}){return super.data(t)}}class ah{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new xp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((n=>{t.call(r,new Ry(this._firestore,this._userDataWriter,n.key,n,new xp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new nt(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((o=>{const c=new Ry(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>a||o.type!==3)).map((o=>{const c=new Ry(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:Qbe(o.type),doc:c,oldIndex:u,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ah._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=FC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Qbe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}ah._jsonSchemaVersion="firestore/querySnapshot/1.0",ah._jsonSchema={type:zn("string",ah._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};function ewe(e){e=zo(e,vn);const t=zo(e.firestore,bf),r=sN(t);return Mbe(r,e._key).then((n=>b7(t,e,n)))}function twe(e,t,r){e=zo(e,vn);const n=zo(e.firestore,bf),i=_7(e.converter,t),a=l_(n);return mN(n,[f7(a,"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,lo.none())])}function rwe(e,t,r,...n){e=zo(e,vn);const i=zo(e.firestore,bf),a=l_(i);let s;return s=typeof(t=La(t))=="string"||t instanceof oN?Gbe(a,"updateDoc",e._key,t,r,n):Hbe(a,"updateDoc",e._key,t),mN(i,[s.toMutation(e._key,lo.exists(!0))])}function nwe(e,t){const r=zo(e.firestore,bf),n=o_(e),i=_7(e.converter,t),a=l_(e.firestore);return mN(r,[f7(a,"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,lo.exists(!1))]).then((()=>n))}function iwe(e,...t){e=La(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||w6(t[n])||(r=t[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(w6(t[n])){const u=t[n];t[n]=u.next?.bind(u),t[n+1]=u.error?.bind(u),t[n+2]=u.complete?.bind(u)}let a,s,o;if(e instanceof vn)s=zo(e.firestore,bf),o=Z1(e._key.path),a={next:u=>{t[n]&&t[n](b7(s,e,u))},error:t[n+1],complete:t[n+2]};else{const u=zo(e,Hf);s=zo(u.firestore,bf),o=u._query;const d=new g7(s);a={next:h=>{t[n]&&t[n](new ah(s,d,u,h))},error:t[n+1],complete:t[n+2]},Jbe(e._query)}const c=sN(s);return Obe(c,o,i,a)}function mN(e,t){const r=sN(e);return Dbe(r,t)}function b7(e,t,r){const n=r.docs.get(t._key),i=new g7(e);return new of(e,i,t._key,n,new xp(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){Fxe(MV),lm(new ph("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new bf(new Uxe(n.getProvider("auth-internal")),new zxe(s,n.getProvider("app-check-internal")),a1e(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),qc(_6,b6,t),qc(_6,b6,"esm2020")})();const w7="firebasestorage.googleapis.com",E7="storageBucket",awe=120*1e3,swe=600*1e3;class bn extends Vf{constructor(t,r,n=0){super(NE(t),`Firebase Storage: ${r} (${NE(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return NE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xn;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xn||(xn={}));function NE(e){return"storage/"+e}function gN(){const e="An unknown error occurred, please check the error payload for server response.";return new bn(xn.UNKNOWN,e)}function owe(e){return new bn(xn.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function lwe(e){return new bn(xn.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cwe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bn(xn.UNAUTHENTICATED,e)}function uwe(){return new bn(xn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fwe(e){return new bn(xn.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function dwe(){return new bn(xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hwe(){return new bn(xn.CANCELED,"User canceled the upload/download.")}function pwe(e){return new bn(xn.INVALID_URL,"Invalid URL '"+e+"'.")}function mwe(e){return new bn(xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function gwe(){return new bn(xn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+E7+"' property when initializing the app?")}function vwe(){return new bn(xn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ywe(){return new bn(xn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xwe(e){return new bn(xn.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function NS(e){return new bn(xn.INVALID_ARGUMENT,e)}function T7(){return new bn(xn.APP_DELETED,"The Firebase app was deleted.")}function _we(e){return new bn(xn.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bp(e,t){return new bn(xn.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function K0(e){throw new bn(xn.INTERNAL_ERROR,"Internal error: "+e)}class os{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=os.makeFromUrl(t,r)}catch{return new os(t,"")}if(n.path==="")return n;throw mwe(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(M){M.path_=decodeURIComponent(M.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${i}/o${m}`,"i"),x={bucket:1,path:3},b=r===w7?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",S=new RegExp(`^https?://${b}/${i}/${E}`,"i"),k=[{regex:o,indices:c,postModify:a},{regex:y,indices:x,postModify:u},{regex:S,indices:{bucket:1,path:2},postModify:u}];for(let M=0;M<k.length;M++){const D=k[M],P=D.regex.exec(t);if(P){const N=P[D.indices.bucket];let I=P[D.indices.path];I||(I=""),n=new os(N,I),D.postModify(n);break}}if(n==null)throw pwe(t);return n}}class bwe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function wwe(e,t,r){let n=1,i=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...E){u||(u=!0,t.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,e(y,c())},E)}function m(){a&&clearTimeout(a)}function y(E,...S){if(u){m();return}if(E){m(),d.call(null,E,...S);return}if(c()||s){m(),d.call(null,E,...S);return}n<64&&(n*=2);let k;o===1?(o=2,k=0):k=(n+Math.random())*1e3,h(k)}let x=!1;function b(E){x||(x=!0,m(),!u&&(i!==null?(E||(o=2),clearTimeout(i),h(0)):E||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,b(!0)},r),b}function Ewe(e){e(!1)}function Twe(e){return e!==void 0}function Awe(e){return typeof e=="object"&&!Array.isArray(e)}function vN(e){return typeof e=="string"||e instanceof String}function A6(e){return yN()&&e instanceof Blob}function yN(){return typeof Blob<"u"}function S6(e,t,r,n){if(n<t)throw NS(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw NS(`Invalid value for '${e}'. Expected ${r} or less.`)}function xN(e,t,r){let n=t;return r==null&&(n=`https://${t}`),`${r}://${n}/v0${e}`}function A7(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var lf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(lf||(lf={}));function Swe(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||i||a}class Cwe{constructor(t,r,n,i,a,s,o,c,u,d,h,m=!0,y=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new Qv(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===lf.NO_ERROR,c=a.getStatus();if(!o||Swe(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===lf.ABORT;n(!1,new Qv(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new Qv(u,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());Twe(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=gN();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(i.canceled){const c=this.appDelete_?T7():hwe();s(c)}else{const c=dwe();s(c)}};this.canceled_?r(!1,new Qv(!1,null,!0)):this.backoffId_=wwe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Ewe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qv{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function Nwe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Iwe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function kwe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Pwe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Rwe(e,t,r,n,i,a,s=!0,o=!1){const c=A7(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return kwe(d,t),Nwe(d,r),Iwe(d,a),Pwe(d,n),new Cwe(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}function Owe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Mwe(...e){const t=Owe();if(t!==void 0){const r=new t;for(let n=0;n<e.length;n++)r.append(e[n]);return r.getBlob()}else{if(yN())return new Blob(e);throw new bn(xn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Dwe(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.mozSlice?e.mozSlice(t,r):e.slice?e.slice(t,r):null}function Fwe(e){if(typeof atob>"u")throw xwe("base-64");return atob(e)}const jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class IE{constructor(t,r){this.data=t,this.contentType=r||null}}function Lwe(e,t){switch(e){case jo.RAW:return new IE(S7(t));case jo.BASE64:case jo.BASE64URL:return new IE(C7(e,t));case jo.DATA_URL:return new IE(Uwe(t),Bwe(t))}throw gN()}function S7(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<e.length-1&&(e.charCodeAt(r+1)&64512)===56320))t.push(239,191,189);else{const a=n,s=e.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function jwe(e){let t;try{t=decodeURIComponent(e)}catch{throw Bp(jo.DATA_URL,"Malformed data URL.")}return S7(t)}function C7(e,t){switch(e){case jo.BASE64:{const i=t.indexOf("-")!==-1,a=t.indexOf("_")!==-1;if(i||a)throw Bp(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case jo.BASE64URL:{const i=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(i||a)throw Bp(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Fwe(t)}catch(i){throw i.message.includes("polyfill")?i:Bp(e,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class N7{constructor(t){this.base64=!1,this.contentType=null;const r=t.match(/^data:([^,]+)?,/);if(r===null)throw Bp(jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Vwe(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}}function Uwe(e){const t=new N7(e);return t.base64?C7(jo.BASE64,t.rest):jwe(t.rest)}function Bwe(e){return new N7(e).contentType}function Vwe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Mc{constructor(t,r){let n=0,i="";A6(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(r?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(r?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,r){if(A6(this.data_)){const n=this.data_,i=Dwe(n,t,r);return i===null?null:new Mc(i)}else{const n=new Uint8Array(this.data_.buffer,t,r-t);return new Mc(n,!0)}}static getBlob(...t){if(yN()){const r=t.map(n=>n instanceof Mc?n.data_:n);return new Mc(Mwe.apply(null,r))}else{const r=t.map(s=>vN(s)?Lwe(jo.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new Mc(i,!0)}}uploadData(){return this.data_}}function I7(e){let t;try{t=JSON.parse(e)}catch{return null}return Awe(t)?t:null}function zwe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function $we(e,t){const r=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?r:e+"/"+r}function k7(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function Hwe(e,t){return t}class ia{constructor(t,r,n,i){this.server=t,this.local=r||t,this.writable=!!n,this.xform=i||Hwe}}let ey=null;function Gwe(e){return!vN(e)||e.length<2?e:k7(e)}function P7(){if(ey)return ey;const e=[];e.push(new ia("bucket")),e.push(new ia("generation")),e.push(new ia("metageneration")),e.push(new ia("name","fullPath",!0));function t(a,s){return Gwe(s)}const r=new ia("name");r.xform=t,e.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new ia("size");return i.xform=n,e.push(i),e.push(new ia("timeCreated")),e.push(new ia("updated")),e.push(new ia("md5Hash",null,!0)),e.push(new ia("cacheControl",null,!0)),e.push(new ia("contentDisposition",null,!0)),e.push(new ia("contentEncoding",null,!0)),e.push(new ia("contentLanguage",null,!0)),e.push(new ia("contentType",null,!0)),e.push(new ia("metadata","customMetadata",!0)),ey=e,ey}function qwe(e,t){function r(){const n=e.bucket,i=e.fullPath,a=new os(n,i);return t._makeStorageReference(a)}Object.defineProperty(e,"ref",{get:r})}function Kwe(e,t,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,t[s.server])}return qwe(n,e),n}function R7(e,t,r){const n=I7(t);return n===null?null:Kwe(e,n,r)}function Wwe(e,t,r,n){const i=I7(t);if(i===null||!vN(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(u=>{const d=e.bucket,h=e.fullPath,m="/b/"+s(d)+"/o/"+s(h),y=xN(m,r,n),x=A7({alt:"media",token:u});return y+x})[0]}function Ywe(e,t){const r={},n=t.length;for(let i=0;i<n;i++){const a=t[i];a.writable&&(r[a.server]=e[a.local])}return JSON.stringify(r)}class O7{constructor(t,r,n,i){this.url=t,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function M7(e){if(!e)throw gN()}function Jwe(e,t){function r(n,i){const a=R7(e,i,t);return M7(a!==null),a}return r}function Xwe(e,t){function r(n,i){const a=R7(e,i,t);return M7(a!==null),Wwe(a,i,e.host,e._protocol)}return r}function D7(e){function t(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=uwe():i=cwe():r.getStatus()===402?i=lwe(e.bucket):r.getStatus()===403?i=fwe(e.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return t}function Zwe(e){const t=D7(e);function r(n,i){let a=t(n,i);return n.getStatus()===404&&(a=owe(e.path)),a.serverResponse=i.serverResponse,a}return r}function Qwe(e,t,r){const n=t.fullServerUrl(),i=xN(n,e.host,e._protocol),a="GET",s=e.maxOperationRetryTime,o=new O7(i,a,Xwe(e,r),s);return o.errorHandler=Zwe(t),o}function eEe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function tEe(e,t,r){const n=Object.assign({},r);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=eEe(null,t)),n}function rEe(e,t,r,n,i){const a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let k="";for(let M=0;M<2;M++)k=k+Math.random().toString().slice(2);return k}const c=o();s["Content-Type"]="multipart/related; boundary="+c;const u=tEe(t,n,i),d=Ywe(u,r),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=Mc.getBlob(h,n,m);if(y===null)throw vwe();const x={name:u.fullPath},b=xN(a,e.host,e._protocol),E="POST",S=e.maxUploadRetryTime,F=new O7(b,E,Jwe(e,r),S);return F.urlParams=x,F.headers=s,F.body=y.uploadData(),F.errorHandler=D7(t),F}class nEe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,r,n,i,a){if(this.sent_)throw K0("cannot .send() more than once");if(Bm(t)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,t,!0),a!==void 0)for(const s in a)a.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,a[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw K0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw K0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw K0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw K0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class iEe extends nEe{initXhr(){this.xhr_.responseType="text"}}function F7(){return new iEe}class wf{constructor(t,r){this._service=t,r instanceof os?this._location=r:this._location=os.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new wf(t,r)}get root(){const t=new os(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return k7(this._location.path)}get storage(){return this._service}get parent(){const t=zwe(this._location.path);if(t===null)return null;const r=new os(this._location.bucket,t);return new wf(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw _we(t)}}function aEe(e,t,r){e._throwIfRoot("uploadBytes");const n=rEe(e.storage,e._location,P7(),new Mc(t,!0),r);return e.storage.makeRequestWithTokens(n,F7).then(i=>({metadata:i,ref:e}))}function sEe(e){e._throwIfRoot("getDownloadURL");const t=Qwe(e.storage,e._location,P7());return e.storage.makeRequestWithTokens(t,F7).then(r=>{if(r===null)throw ywe();return r})}function oEe(e,t){const r=$we(e._location.path,t),n=new os(e._location.bucket,r);return new wf(e.storage,n)}function lEe(e){return/^[A-Za-z]+:\/\//.test(e)}function cEe(e,t){return new wf(e,t)}function L7(e,t){if(e instanceof _N){const r=e;if(r._bucket==null)throw gwe();const n=new wf(r,r._bucket);return t!=null?L7(n,t):n}else return t!==void 0?oEe(e,t):e}function uEe(e,t){if(t&&lEe(t)){if(e instanceof _N)return cEe(e,t);throw NS("To use ref(service, url), the first argument must be a Storage instance.")}else return L7(e,t)}function C6(e,t){const r=t?.[E7];return r==null?null:os.makeFromBucketSpec(r,e)}function fEe(e,t,r,n={}){e.host=`${t}:${r}`;const i=Bm(t);i&&(CV(`https://${e.host}/b`),gye("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(e._overrideAuthToken=typeof a=="string"?a:hye(a,e.app.options.projectId))}class _N{constructor(t,r,n,i,a,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=w7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=awe,this._maxUploadRetryTime=swe,this._requests=new Set,i!=null?this._bucket=os.makeFromBucketSpec(i,this._host):this._bucket=C6(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=os.makeFromBucketSpec(this._url,t):this._bucket=C6(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){S6("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){S6("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(OV(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new wf(this,t)}_makeRequest(t,r,n,i,a=!0){if(this._deleted)return new bwe(T7());{const s=Rwe(t,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const N6="@firebase/storage",I6="0.14.0";const j7="storage";function dEe(e,t,r){return e=La(e),aEe(e,t,r)}function hEe(e){return e=La(e),sEe(e)}function pEe(e,t){return e=La(e),uEe(e,t)}function mEe(e=FV(),t){e=La(e);const n=RV(e,j7).getImmediate({identifier:t}),i=fye("storage");return i&&gEe(n,...i),n}function gEe(e,t,r,n={}){fEe(e,t,r,n)}function vEe(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new _N(r,n,i,t,MV)}function yEe(){lm(new ph(j7,vEe,"PUBLIC").setMultipleInstances(!0)),qc(N6,I6,""),qc(N6,I6,"esm2020")}yEe();const U7=()=>{const e=localStorage.getItem("firebase_config");if(e)return JSON.parse(e);const t={apiKey:"AIzaSyAenb2sXL1h-y9uChCwjaZoU4I_rHzBd2w",authDomain:"gen-lang-client-0586123917.firebaseapp.com",projectId:"gen-lang-client-0586123917",storageBucket:"gen-lang-client-0586123917.firebasestorage.app",messagingSenderId:"66816750674",appId:"1:66816750674:web:a2ec5f3735ae90f821db8b"};return console.log("[FIREBASE] Environment Config Check:"),console.log("- API Key:",t.apiKey?`FOUND (${t.apiKey.substring(0,5)}...)`:"MISSING "),console.log("- Project ID:",t.projectId?`FOUND (${t.projectId})`:"MISSING "),t},xEe=e=>{localStorage.setItem("firebase_config",JSON.stringify(e))},_Ee=()=>{localStorage.removeItem("firebase_config")};let ty,ho,Oy;const bN=async e=>{try{const t=e||U7();return t?(Exe().length>0?ty=FV():ty=DV(t),ho=Ube(ty,{}),Oy=mEe(ty),!0):!1}catch(t){return console.error("Error initializing Firebase:",t),!1}},bEe=async e=>{if(!ho){console.error(" Firebase not initialized. Cannot send message.");return}try{const t=l7(ho,"chats");await nwe(t,Dc(e)),console.log(" Message sent to cloud")}catch(t){console.error("Error sending message:",t)}},wEe=e=>{if(!ho)return()=>{};const t=l7(ho,"chats"),r=Xbe(t,Zbe("timestamp","asc"));return iwe(r,n=>{const i=[];n.forEach(a=>{i.push({id:a.id,...a.data()})}),e(i)})},EEe=async e=>{if(ho)try{const t=o_(ho,"chats",e);await rwe(t,{read:!0})}catch(t){console.error("Error marking message as read:",t)}},Dc=e=>{if(e==null)return null;if(Array.isArray(e))return e.map(Dc);if(typeof e!="object")return e;const t={};for(const r in e){const n=e[r];n===void 0?t[r]=null:n!==null&&typeof n=="object"?t[r]=Dc(n):t[r]=n}return t},IS=async(e,t,r,n,i=[])=>{if(ho)try{const a={clients:Dc(e),products:Dc(t),categories:Dc(r),users:Dc(n),uploadedFiles:Dc(i),lastUpdated:new Date().toISOString(),updatedBy:"App Sync"};await twe(o_(ho,"rota-vendas","master-data"),a),console.log(" Data saved to cloud successfully")}catch(a){throw console.error("Error saving to cloud:",a),a}},TEe=async()=>{if(!ho)return null;try{const e=o_(ho,"rota-vendas","master-data"),t=await ewe(e);return t.exists()?t.data():null}catch(e){return console.error("Error loading from cloud:",e),null}},kE=async(e,t)=>{if(!Oy&&(!await bN()||!Oy))return null;try{const r=pEe(Oy,t),n=await dEe(r,e),i=await hEe(n.ref);return console.log(` File uploaded to ${t}:`,i),i}catch(r){return console.error("Error uploading file to storage:",r),null}};var wh=X8(),PE,k6;function AEe(){return k6||(k6=1,PE=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}),PE}var SEe=AEe();const kS=js(SEe);function CEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function NEe(e){var t=CEe(e,"string");return typeof t=="symbol"?t:String(t)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function Ef(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}const El={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},IEe="https://maps.googleapis.com/maps/api/js";class vm{static async load(t,r){var n;const i=t.libraries?t.libraries.split(","):[],a=this.serializeParams(t);this.listeners.push(r),(n=window.google)!=null&&(n=n.maps)!=null&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=El.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=a,this.initImportLibrary(t)),this.serializedApiParams&&this.serializedApiParams!==a&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const s=["maps",...i];await Promise.all(s.map(o=>google.maps.importLibrary(o)))}static serializeParams(t){return[t.v,t.key,t.language,t.region,t.authReferrerPolicy,t.solutionChannel].join("/")}static initImportLibrary(t){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let r=null;const n=()=>r||(r=new Promise((i,a)=>{var s;const o=document.createElement("script"),c=new URLSearchParams;for(const[u,d]of Object.entries(t)){const h=u.replace(/[A-Z]/g,m=>"_"+m[0].toLowerCase());c.set(h,d)}c.set("loading","async"),c.set("callback","__googleMapsCallback__"),o.async=!0,o.src=IEe+"?"+c.toString(),o.nonce=((s=document.querySelector("script[nonce]"))==null?void 0:s.nonce)||"",o.onerror=()=>{this.loadingStatus=El.FAILED,this.notifyLoadingStatusListeners(),a(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=El.LOADED,this.notifyLoadingStatusListeners(),i()},window.gm_authFailure=()=>{this.loadingStatus=El.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=El.LOADING,this.notifyLoadingStatusListeners(),document.head.append(o)}),r);google.maps.importLibrary=i=>n().then(()=>google.maps.importLibrary(i))}static notifyLoadingStatusListeners(){for(const t of this.listeners)t(this.loadingStatus)}}vm.loadingStatus=El.NOT_LOADED;vm.serializedApiParams=void 0;vm.listeners=[];const kEe=["onLoad","apiKey","version","libraries"],PEe=["children"],REe="GMP_visgl_rgmlibrary_v1_default",Km=Ir.createContext(null);function OEe(){const[e,t]=O.useState({});return{mapInstances:e,addMapInstance:(a,s="default")=>{t(o=>Pl({},o,{[s]:a}))},removeMapInstance:(a="default")=>{t(s=>Ef(s,[a].map(NEe)))},clearMapInstances:()=>{t({})}}}function MEe(e){const{onLoad:t,apiKey:r,version:n,libraries:i=[]}=e,a=Ef(e,kEe),[s,o]=O.useState(vm.loadingStatus),[c,u]=O.useReducer((y,x)=>Pl({},y,{[x.name]:x.value}),{}),d=O.useMemo(()=>i?.join(","),[i]),h=O.useMemo(()=>JSON.stringify(Pl({apiKey:r,version:n},a)),[r,n,a]),m=O.useCallback(async y=>{var x;if(c[y])return c[y];if(!((x=google)!=null&&(x=x.maps)!=null&&x.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const b=await window.google.maps.importLibrary(y);return u({name:y,value:b}),b},[c]);return O.useEffect(()=>{(async()=>{try{const y=Pl({key:r},a);n&&(y.v=n),d?.length>0&&(y.libraries=d),y.solutionChannel===void 0?y.solutionChannel=REe:y.solutionChannel===""&&delete y.solutionChannel,await vm.load(y,x=>o(x));for(const x of["core","maps",...i])await m(x);t&&t()}catch(y){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",y)}})()},[r,d,h]),{status:s,loadedLibraries:c,importLibrary:m}}const DEe=e=>{const{children:t}=e,r=Ef(e,PEe),{mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s}=OEe(),{status:o,loadedLibraries:c,importLibrary:u}=MEe(r),d=O.useMemo(()=>({mapInstances:n,addMapInstance:i,removeMapInstance:a,clearMapInstances:s,status:o,loadedLibraries:c,importLibrary:u}),[n,i,a,s,o,c,u]);return Ir.createElement(Km.Provider,{value:d},t)};function FEe(e,t){for(const r of BEe){const n=t[r],i=B7[r];O.useEffect(()=>{if(!e||!n)return;const a=google.maps.event.addListener(e,i,s=>{n(LEe(i,e,s))});return()=>a.remove()},[e,i,n])}}function LEe(e,t,r){const n={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(jEe.includes(e)){const a=n,s=t.getCenter(),o=t.getZoom(),c=t.getHeading()||0,u=t.getTilt()||0,d=t.getBounds();return(!s||!d||!Number.isFinite(o))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),a.detail={center:s?.toJSON()||{lat:0,lng:0},zoom:o||0,heading:c,tilt:u,bounds:d?.toJSON()||{north:90,east:180,south:-90,west:-180}},a}else if(UEe.includes(e)){var i;if(!r)throw new Error("[createEvent] mouse events must provide a srcEvent");const a=n;return a.domEvent=r.domEvent,a.stoppable=!0,a.stop=()=>r.stop(),a.detail={latLng:((i=r.latLng)==null?void 0:i.toJSON())||null,placeId:r.placeId},a}return n}const B7={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},jEe=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],UEe=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],BEe=Object.keys(B7);function V7(e,t){const r=O.useRef(void 0);(!r.current||!kS(t,r.current))&&(r.current=t),O.useEffect(e,r.current)}const VEe=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function zEe(e,t){const r={},n=Object.keys(t);for(const i of n)VEe.has(i)&&(r[i]=t[i]);V7(()=>{e&&e.setOptions(r)},[r])}function z7(){var e;return((e=O.useContext(Km))==null?void 0:e.status)||El.NOT_LOADED}function $Ee(e,t){const{viewport:r,viewState:n}=t,i=!!r;return O.useLayoutEffect(()=>{if(!e||!n)return;const{latitude:a,longitude:s,bearing:o,pitch:c,zoom:u}=n;e.moveCamera({center:{lat:a,lng:s},heading:o,tilt:c,zoom:u+1})},[e,n]),i}function HEe(e){return!e||typeof e!="object"||!("lat"in e&&"lng"in e)?!1:Number.isFinite(e.lat)&&Number.isFinite(e.lng)}function $7(e){return HEe(e)?e:e.toJSON()}function GEe(e,t,r){const n=r.center?$7(r.center):null;let i=null,a=null;n&&Number.isFinite(n.lat)&&Number.isFinite(n.lng)&&(i=n.lat,a=n.lng);const s=Number.isFinite(r.zoom)?r.zoom:null,o=Number.isFinite(r.heading)?r.heading:null,c=Number.isFinite(r.tilt)?r.tilt:null;O.useLayoutEffect(()=>{if(!e)return;const u={};let d=!1;i!==null&&a!==null&&(t.current.center.lat!==i||t.current.center.lng!==a)&&(u.center={lat:i,lng:a},d=!0),s!==null&&t.current.zoom!==s&&(u.zoom=s,d=!0),o!==null&&t.current.heading!==o&&(u.heading=o,d=!0),c!==null&&t.current.tilt!==c&&(u.tilt=c,d=!0),d&&e.moveCamera(u)})}const qEe=()=>{const e={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return Ir.createElement("div",{style:e},Ir.createElement("h2",null,"Error: AuthFailure"),Ir.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",Ir.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function KEe(){const[e,t]=O.useState(null),r=O.useCallback(n=>t(n),[t]);return[e,r]}function H7(){return z7()===El.LOADED}function WEe(){const[,e]=O.useReducer(t=>t+1,0);return e}function YEe(e,t){const r=e.getCenter(),n=e.getZoom(),i=e.getHeading()||0,a=e.getTilt()||0,s=e.getBounds();(!r||!s||!Number.isFinite(n))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:r?.toJSON()||{lat:0,lng:0},zoom:n||0,heading:i,tilt:a})}function JEe(e){const t=WEe(),r=O.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return O.useEffect(()=>{if(!e)return;const n=google.maps.event.addListener(e,"bounds_changed",()=>{YEe(e,r),t()});return()=>n.remove()},[e,t]),r}const XEe=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],ZEe=["padding"];class My{static has(t){return this.entries[t]&&this.entries[t].length>0}static pop(t){return this.entries[t]&&this.entries[t].pop()||null}static push(t,r){this.entries[t]||(this.entries[t]=[]),this.entries[t].push(r)}}My.entries={};function QEe(e,t){const r=H7(),[n,i]=O.useState(null),[a,s]=KEe(),o=JEe(n),{id:c,defaultBounds:u,defaultCenter:d,defaultZoom:h,defaultHeading:m,defaultTilt:y,reuseMaps:x}=e,b=Ef(e,XEe),E=e.zoom!==void 0||e.defaultZoom!==void 0,S=e.center!==void 0||e.defaultCenter!==void 0;!u&&(!E||!S)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!b.center&&d&&(b.center=d),!b.zoom&&Number.isFinite(h)&&(b.zoom=h),!b.heading&&Number.isFinite(m)&&(b.heading=m),!b.tilt&&Number.isFinite(y)&&(b.tilt=y);for(const k of Object.keys(b))b[k]===void 0&&delete b[k];const F=O.useRef();return O.useEffect(()=>{if(!a||!r)return;const{addMapInstance:k,removeMapInstance:M}=t,D=e.mapId,P=D||"default";let N,I;if(x&&My.has(P)?(I=My.pop(P),N=I.getDiv(),a.appendChild(N),I.setOptions(b),setTimeout(()=>I.setCenter(I.getCenter()),0)):(N=document.createElement("div"),N.style.height="100%",a.appendChild(N),I=new google.maps.Map(N,b)),i(I),k(I,c),u){const{padding:R}=u,U=Ef(u,ZEe);I.fitBounds(U,R)}else(!E||!S)&&I.fitBounds({east:180,west:-180,south:-90,north:90});if(F.current){const{mapId:R,cameraState:U}=F.current;R!==D&&I.setOptions(U)}return()=>{F.current={mapId:D,cameraState:o.current},N.remove(),x?My.push(P,I):google.maps.event.clearInstanceListeners(I),i(null),M(c)}},[a,r,c,e.mapId]),[n,s,o]}const G7=Ir.createContext(null),q7=e=>{const{children:t,id:r,className:n,style:i}=e,a=O.useContext(Km),s=z7();if(!a)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[o,c,u]=QEe(e,a);GEe(o,u,e),FEe(o,e),zEe(o,e);const d=$Ee(o,e),h=!!e.controlled;O.useEffect(()=>{if(o)return d&&o.setOptions({disableDefaultUI:!0}),(d||h)&&o.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{o.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[o,d,h,e.gestureHandling,e.keyboardShortcuts]);const m=e.center?$7(e.center):null;let y=null,x=null;m&&Number.isFinite(m.lat)&&Number.isFinite(m.lng)&&(y=m.lat,x=m.lng);const b=O.useMemo(()=>{var F,k,M,D,P;return{center:{lat:(F=y)!=null?F:0,lng:(k=x)!=null?k:0},zoom:(M=e.zoom)!=null?M:0,heading:(D=e.heading)!=null?D:0,tilt:(P=e.tilt)!=null?P:0}},[y,x,e.zoom,e.heading,e.tilt]);O.useLayoutEffect(()=>{if(!o||!h)return;o.moveCamera(b);const F=o.addListener("bounds_changed",()=>{o.moveCamera(b)});return()=>F.remove()},[o,h,b]);const E=O.useMemo(()=>Pl({width:"100%",height:"100%",position:"relative",zIndex:d?-1:0},i),[i,d]),S=O.useMemo(()=>({map:o}),[o]);return s===El.AUTH_FAILURE?Ir.createElement("div",{style:Pl({position:"relative"},n?{}:E),className:n},Ir.createElement(qEe,null)):Ir.createElement("div",Pl({ref:c,"data-testid":"map",style:n?void 0:E,className:n},r?{id:r}:{}),o?Ir.createElement(G7.Provider,{value:S},t):null)};q7.deckGLViewProps=!0;const P6=new Set;function eTe(...e){const t=JSON.stringify(e);P6.has(t)||(P6.add(t),console.error(...e))}const $h=(e=null)=>{const t=O.useContext(Km),{map:r}=O.useContext(G7)||{};if(t===null)return eTe("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:n}=t;return e!==null?n[e]||null:r||n.default||null};function K7(e){const t=H7(),r=O.useContext(Km);return O.useEffect(()=>{!t||!r||r.importLibrary(e)},[t,r,e]),r?.loadedLibraries[e]||null}function W7(e,t,r){if(t!=null&&typeof t!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const n=e.style;if(r==null){if(t==null)return;for(const i in t)t.hasOwnProperty(i)&&R6(n,i,t[i]);return}for(const i in r)r.hasOwnProperty(i)&&(t==null||!t.hasOwnProperty(i))&&(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");if(t!=null)for(const i in t){const a=t[i];t.hasOwnProperty(i)&&r[i]!==a&&R6(n,i,a)}}function R6(e,t,r){const n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r=="number"&&r!==0&&!rTe(t)?e[t]=r+"px":t==="float"?e.cssFloat=r:e[t]=(""+r).trim()}const tTe=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function rTe(e){return tTe.has(e)}function qd(e,t,r){O.useEffect(()=>{if(!e||!t||!r)return;const n=google.maps.event.addListener(e,t,r);return()=>n.remove()},[e,t,r])}function W0(e,t,r){O.useEffect(()=>{e&&(e[t]=r)},[e,t,r])}const nTe=Ir.createContext(null);function iTe(e){const[t,r]=O.useState(null),[n,i]=O.useState(null),a=O.useRef(null),s=$h(),o=K7("marker"),{children:c,className:u,style:d,onClick:h,onDrag:m,onDragStart:y,onDragEnd:x,collisionBehavior:b,clickable:E,draggable:S,position:F,title:k,zIndex:M}=e,D=O.Children.count(c);return O.useEffect(()=>{if(!s||!o)return;const P=new o.AdvancedMarkerElement;P.map=s,r(P);let N=null;return D>0&&(N=document.createElement("div"),P.content=N,i(N)),()=>{var I;P.map=null,(I=N)==null||I.remove(),r(null),i(null)}},[s,o,D]),O.useEffect(()=>{!t||!t.content||(t.content.className=u||"")},[t,u]),W0(n,"className",u??""),O.useEffect(()=>{n&&(W7(n,d||null,a.current),a.current=d||null)},[n,u,d]),W0(t,"position",F),W0(t,"title",k??""),W0(t,"zIndex",M),W0(t,"collisionBehavior",b),O.useEffect(()=>{t&&(S!==void 0?t.gmpDraggable=S:m||y||x?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,S,m,x,y]),O.useEffect(()=>{t&&(E!==void 0?t.gmpClickable=E:h?t.gmpClickable=!0:t.gmpClickable=!1)},[t,E,h]),qd(t,"click",h),qd(t,"drag",m),qd(t,"dragstart",y),qd(t,"dragend",x),[t,n]}O.forwardRef((e,t)=>{const{children:r}=e,[n,i]=iTe(e),a=O.useMemo(()=>n?{marker:n}:null,[n]);return O.useImperativeHandle(t,()=>n,[n]),i?Ir.createElement(nTe.Provider,{value:a},wh.createPortal(r,i)):null});const aTe=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],sTe=e=>{const{children:t,headerContent:r,style:n,className:i,pixelOffset:a,anchor:s,shouldFocus:o,onClose:c,onCloseClick:u}=e,d=Ef(e,aTe),h=K7("maps"),[m,y]=O.useState(null),x=O.useRef(null),b=O.useRef(null);O.useEffect(()=>{if(!h)return;x.current=document.createElement("div"),b.current=document.createElement("div");const F=d;a&&(F.pixelOffset=new google.maps.Size(a[0],a[1])),r&&(F.headerContent=typeof r=="string"?r:b.current);const k=new google.maps.InfoWindow(d);return k.setContent(x.current),y(k),()=>{var M,D;k.setContent(null),(M=x.current)==null||M.remove(),(D=b.current)==null||D.remove(),x.current=null,b.current=null,y(null)}},[h]);const E=O.useRef(null);O.useEffect(()=>{!m||!x.current||(W7(x.current,n||null,E.current),E.current=n||null,i!==x.current.className&&(x.current.className=i||""))},[m,i,n]),V7(()=>{if(!m)return;const F=d;a?F.pixelOffset=new google.maps.Size(a[0],a[1]):F.pixelOffset=null,r?F.headerContent=typeof r=="string"?r:b.current:F.headerContent=null,m.setOptions(d)},[d,a,r]),qd(m,"close",c),qd(m,"closeclick",u);const S=$h();return O.useEffect(()=>{if(!S||!m||s===null)return;const F=!!s,k={map:S};return s&&(k.anchor=s),o!==void 0&&(k.shouldFocus=o),m.open(k),()=>{F&&m.set("anchor",null),m.close()}},[m,s,S,o]),Ir.createElement(Ir.Fragment,null,x.current&&wh.createPortal(t,x.current),b.current!==null&&wh.createPortal(r,b.current))},oTe=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function lTe(e){const[t,r]=O.useState(null),n=$h(),{onClick:i,onDrag:a,onDragStart:s,onDragEnd:o,onMouseOver:c,onMouseOut:u}=e,d=Ef(e,oTe),{position:h,draggable:m}=d;return O.useEffect(()=>{if(!n){n===void 0&&console.error("<Marker> has to be inside a Map component.");return}const y=new google.maps.Marker(d);return y.setMap(n),r(y),()=>{y.setMap(null),r(null)}},[n]),O.useEffect(()=>{if(!t)return;const y=t,x=google.maps.event;return i&&x.addListener(y,"click",i),a&&x.addListener(y,"drag",a),s&&x.addListener(y,"dragstart",s),o&&x.addListener(y,"dragend",o),c&&x.addListener(y,"mouseover",c),u&&x.addListener(y,"mouseout",u),t.setDraggable(!!m),()=>{x.clearInstanceListeners(y)}},[t,m,i,a,s,o,c,u]),O.useEffect(()=>{t&&d&&t.setOptions(d)},[t,d]),O.useEffect(()=>{m||!h||!t||t.setPosition(h)},[m,h,t]),t}O.forwardRef((e,t)=>{const r=lTe(e);return O.useImperativeHandle(t,()=>r,[r]),Ir.createElement(Ir.Fragment,null)});const O6=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],RE=1,Y0=8;class wN{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(i!==RE)throw new Error(`Got v${i} data when expected v${RE}.`);const a=O6[n&15];if(!a)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new wN(o,s,a,t)}constructor(t,r=64,n=Float64Array,i){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const a=O6.indexOf(this.ArrayType),s=t*2*this.ArrayType.BYTES_PER_ELEMENT,o=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-o%8)%8;if(a<0)throw new Error(`Unexpected typed array class: ${n}.`);i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,Y0,t),this.coords=new this.ArrayType(this.data,Y0+o+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Y0+s+o+c),this.ids=new this.IndexArrayType(this.data,Y0,t),this.coords=new this.ArrayType(this.data,Y0+o+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(RE<<4)+a]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t)}add(t,r){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=t,this.coords[this._pos++]=r,n}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return PS(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,r,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:a,coords:s,nodeSize:o}=this,c=[0,a.length-1,0],u=[];for(;c.length;){const d=c.pop()||0,h=c.pop()||0,m=c.pop()||0;if(h-m<=o){for(let E=m;E<=h;E++){const S=s[2*E],F=s[2*E+1];S>=t&&S<=n&&F>=r&&F<=i&&u.push(a[E])}continue}const y=m+h>>1,x=s[2*y],b=s[2*y+1];x>=t&&x<=n&&b>=r&&b<=i&&u.push(a[y]),(d===0?t<=x:r<=b)&&(c.push(m),c.push(y-1),c.push(1-d)),(d===0?n>=x:i>=b)&&(c.push(y+1),c.push(h),c.push(1-d))}return u}within(t,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:a,nodeSize:s}=this,o=[0,i.length-1,0],c=[],u=n*n;for(;o.length;){const d=o.pop()||0,h=o.pop()||0,m=o.pop()||0;if(h-m<=s){for(let E=m;E<=h;E++)M6(a[2*E],a[2*E+1],t,r)<=u&&c.push(i[E]);continue}const y=m+h>>1,x=a[2*y],b=a[2*y+1];M6(x,b,t,r)<=u&&c.push(i[y]),(d===0?t-n<=x:r-n<=b)&&(o.push(m),o.push(y-1),o.push(1-d)),(d===0?t+n>=x:r+n>=b)&&(o.push(y+1),o.push(h),o.push(1-d))}return c}}function PS(e,t,r,n,i,a){if(i-n<=r)return;const s=n+i>>1;Y7(e,t,s,n,i,a),PS(e,t,r,n,s-1,1-a),PS(e,t,r,s+1,i,1-a)}function Y7(e,t,r,n,i,a){for(;i>n;){if(i-n>600){const u=i-n+1,d=r-n+1,h=Math.log(u),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),x=Math.max(n,Math.floor(r-d*m/u+y)),b=Math.min(i,Math.floor(r+(u-d)*m/u+y));Y7(e,t,r,x,b,a)}const s=t[2*r+a];let o=n,c=i;for(J0(e,t,n,r),t[2*i+a]>s&&J0(e,t,n,i);o<c;){for(J0(e,t,o,c),o++,c--;t[2*o+a]<s;)o++;for(;t[2*c+a]>s;)c--}t[2*n+a]===s?J0(e,t,n,c):(c++,J0(e,t,c,i)),c<=r&&(n=c+1),r<=c&&(i=c-1)}}function J0(e,t,r,n){OE(e,r,n),OE(t,2*r,2*n),OE(t,2*r+1,2*n+1)}function OE(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function M6(e,t,r,n){const i=e-r,a=t-n;return i*i+a*a}const cTe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},D6=Math.fround||(e=>(t=>(e[0]=+t,e[0])))(new Float32Array(1)),$u=2,kc=3,ME=4,Ic=5,J7=6;class uTe{constructor(t){this.options=Object.assign(Object.create(cTe),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){const{log:r,minZoom:n,maxZoom:i}=this.options;r&&console.time("total time");const a=`prepare ${t.length} points`;r&&console.time(a),this.points=t;const s=[];for(let c=0;c<t.length;c++){const u=t[c];if(!u.geometry)continue;const[d,h]=u.geometry.coordinates,m=D6(ry(d)),y=D6(ny(h));s.push(m,y,1/0,c,-1,1),this.options.reduce&&s.push(0)}let o=this.trees[i+1]=this._createTree(s);r&&console.timeEnd(a);for(let c=i;c>=n;c--){const u=+Date.now();o=this.trees[c]=this._createTree(this._cluster(o,c)),r&&console.log("z%d: %d clusters in %dms",c,o.numItems,+Date.now()-u)}return r&&console.timeEnd("total time"),this}getClusters(t,r){let n=((t[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,t[1]));let a=t[2]===180?180:((t[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,a=180;else if(n>a){const h=this.getClusters([n,i,180,s],r),m=this.getClusters([-180,i,a,s],r);return h.concat(m)}const o=this.trees[this._limitZoom(r)],c=o.range(ry(n),ny(s),ry(a),ny(i)),u=o.data,d=[];for(const h of c){const m=this.stride*h;d.push(u[m+Ic]>1?F6(u,m,this.clusterProps):this.points[u[m+kc]])}return d}getChildren(t){const r=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",a=this.trees[n];if(!a)throw new Error(i);const s=a.data;if(r*this.stride>=s.length)throw new Error(i);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=s[r*this.stride],u=s[r*this.stride+1],d=a.within(c,u,o),h=[];for(const m of d){const y=m*this.stride;s[y+ME]===t&&h.push(s[y+Ic]>1?F6(s,y,this.clusterProps):this.points[s[y+kc]])}if(h.length===0)throw new Error(i);return h}getLeaves(t,r,n){r=r||10,n=n||0;const i=[];return this._appendLeaves(i,t,r,n,0),i}getTile(t,r,n){const i=this.trees[this._limitZoom(t)],a=Math.pow(2,t),{extent:s,radius:o}=this.options,c=o/s,u=(n-c)/a,d=(n+1+c)/a,h={features:[]};return this._addTileFeatures(i.range((r-c)/a,u,(r+1+c)/a,d),i.data,r,n,a,h),r===0&&this._addTileFeatures(i.range(1-c/a,u,1,d),i.data,a,n,a,h),r===a-1&&this._addTileFeatures(i.range(0,u,c/a,d),i.data,-1,n,a,h),h.features.length?h:null}getClusterExpansionZoom(t){let r=this._getOriginZoom(t)-1;for(;r<=this.options.maxZoom;){const n=this.getChildren(t);if(r++,n.length!==1)break;t=n[0].properties.cluster_id}return r}_appendLeaves(t,r,n,i,a){const s=this.getChildren(r);for(const o of s){const c=o.properties;if(c&&c.cluster?a+c.point_count<=i?a+=c.point_count:a=this._appendLeaves(t,c.cluster_id,n,i,a):a<i?a++:t.push(o),t.length===n)break}return a}_createTree(t){const r=new wN(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<t.length;n+=this.stride)r.add(t[n],t[n+1]);return r.finish(),r.data=t,r}_addTileFeatures(t,r,n,i,a,s){for(const o of t){const c=o*this.stride,u=r[c+Ic]>1;let d,h,m;if(u)d=X7(r,c,this.clusterProps),h=r[c],m=r[c+1];else{const b=this.points[r[c+kc]];d=b.properties;const[E,S]=b.geometry.coordinates;h=ry(E),m=ny(S)}const y={type:1,geometry:[[Math.round(this.options.extent*(h*a-n)),Math.round(this.options.extent*(m*a-i))]],tags:d};let x;u||this.options.generateId?x=r[c+kc]:x=this.points[r[c+kc]].id,x!==void 0&&(y.id=x),s.features.push(y)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,r){const{radius:n,extent:i,reduce:a,minPoints:s}=this.options,o=n/(i*Math.pow(2,r)),c=t.data,u=[],d=this.stride;for(let h=0;h<c.length;h+=d){if(c[h+$u]<=r)continue;c[h+$u]=r;const m=c[h],y=c[h+1],x=t.within(c[h],c[h+1],o),b=c[h+Ic];let E=b;for(const S of x){const F=S*d;c[F+$u]>r&&(E+=c[F+Ic])}if(E>b&&E>=s){let S=m*b,F=y*b,k,M=-1;const D=((h/d|0)<<5)+(r+1)+this.points.length;for(const P of x){const N=P*d;if(c[N+$u]<=r)continue;c[N+$u]=r;const I=c[N+Ic];S+=c[N]*I,F+=c[N+1]*I,c[N+ME]=D,a&&(k||(k=this._map(c,h,!0),M=this.clusterProps.length,this.clusterProps.push(k)),a(k,this._map(c,N)))}c[h+ME]=D,u.push(S/E,F/E,1/0,D,-1,E),a&&u.push(M)}else{for(let S=0;S<d;S++)u.push(c[h+S]);if(E>1)for(const S of x){const F=S*d;if(!(c[F+$u]<=r)){c[F+$u]=r;for(let k=0;k<d;k++)u.push(c[F+k])}}}}return u}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,r,n){if(t[r+Ic]>1){const s=this.clusterProps[t[r+J7]];return n?Object.assign({},s):s}const i=this.points[t[r+kc]].properties,a=this.options.map(i);return n&&a===i?Object.assign({},a):a}}function F6(e,t,r){return{type:"Feature",id:e[t+kc],properties:X7(e,t,r),geometry:{type:"Point",coordinates:[fTe(e[t]),dTe(e[t+1])]}}}function X7(e,t,r){const n=e[t+Ic],i=n>=1e4?`${Math.round(n/1e3)}k`:n>=1e3?`${Math.round(n/100)/10}k`:n,a=e[t+J7],s=a===-1?{}:Object.assign({},r[a]);return Object.assign(s,{cluster:!0,cluster_id:e[t+kc],point_count:n,point_count_abbreviated:i})}function ry(e){return e/360+.5}function ny(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function fTe(e){return(e-.5)*360}function dTe(e){const t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function hTe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}class rs{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,r){this.isAdvancedMarker(t)?t.map=r:t.setMap(r)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class RS{constructor({markers:t,position:r}){this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(this.markers.length===0&&!this._position)return;const t=new google.maps.LatLngBounds(this._position,this._position);for(const r of this.markers)t.extend(rs.getPosition(r));return t}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>rs.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(rs.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class pTe{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return mTe(t)}}const mTe=e=>e.map(r=>new RS({position:rs.getPosition(r),markers:[r]}));class gTe extends pTe{constructor(t){var{maxZoom:r,radius:n=60}=t,i=hTe(t,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new uTe(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(t){let r=!1;const n={zoom:t.map.getZoom()};if(!kS(t.markers,this.markers)){r=!0,this.markers=[...t.markers];const i=this.markers.map(a=>{const s=rs.getPosition(a);return{type:"Feature",geometry:{type:"Point",coordinates:[s.lng(),s.lat()]},properties:{marker:a}}});this.superCluster.load(i)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!kS(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:r}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[t,r]},properties:n}){if(n.cluster)return new RS({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(a=>a.properties.marker),position:{lat:r,lng:t}});const i=n.marker;return new RS({markers:[i],position:rs.getPosition(i)})}}class vTe{constructor(t,r){this.markers={sum:t.length};const n=r.map(a=>a.count),i=n.reduce((a,s)=>a+s,0);this.clusters={count:r.length,markers:{mean:i/r.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class yTe{render({count:t,position:r},n,i){const s=`<svg fill="${t>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${t}</text>
</svg>`,o=`Cluster of ${t} markers`,c=Number(google.maps.Marker.MAX_ZINDEX)+t;if(rs.isAdvancedMarkerAvailable(i)){const h=new DOMParser().parseFromString(s,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");const m={map:i,position:r,zIndex:c,title:o,content:h};return new google.maps.marker.AdvancedMarkerElement(m)}const u={position:r,zIndex:c,title:o,icon:{url:`data:image/svg+xml;base64,${btoa(s)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}function xTe(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}class EN{constructor(){xTe(EN,google.maps.OverlayView)}}var Vp;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Vp||(Vp={}));const _Te=(e,t,r)=>{r.fitBounds(t.bounds)};class bTe extends EN{constructor({map:t,markers:r=[],algorithmOptions:n={},algorithm:i=new gTe(n),renderer:a=new yTe,onClusterClick:s=_Te}){super(),this.markers=[...r],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=s,t&&this.setMap(t)}addMarker(t,r){this.markers.includes(t)||(this.markers.push(t),r||this.render())}addMarkers(t,r){t.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(t,r){const n=this.markers.indexOf(t);return n===-1?!1:(rs.setMap(t,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(t,r){let n=!1;return t.forEach(i=>{n=this.removeMarker(i,!0)||n}),n&&!r&&this.render(),n}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Vp.CLUSTERING_BEGIN,this);const{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(n||n==null){const i=new Set;for(const s of r)s.markers.length==1&&i.add(s.markers[0]);const a=[];for(const s of this.clusters)s.marker!=null&&(s.markers.length==1?i.has(s.marker)||rs.setMap(s.marker,null):a.push(s.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>a.forEach(s=>rs.setMap(s,null)))}google.maps.event.trigger(this,Vp.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>rs.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){const t=new vTe(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,t,r),n.markers.forEach(i=>rs.setMap(i,null)),this.onClusterClick&&n.marker.addListener("click",i=>{google.maps.event.trigger(this,Vp.CLUSTER_CLICK,n),this.onClusterClick(i,n,r)})),rs.setMap(n.marker,r)})}}const wTe=({clients:e})=>{const t=$h(),r=O.useRef(0);return O.useEffect(()=>{if(!t||!window.google||e.length===0)return;if(Math.abs(e.length-r.current)>0){const i=new google.maps.LatLngBounds;let a=!1;if(e.forEach(s=>{s.lat&&s.lng&&(i.extend({lat:s.lat,lng:s.lng}),a=!0)}),a){t.fitBounds(i);const s=google.maps.event.addListenerOnce(t,"idle",()=>{t.getZoom()>16&&t.setZoom(16)});return r.current=e.length,()=>google.maps.event.removeListener(s)}}},[t,e]),null},ETe=()=>{const e=$h();return e?g.jsxs("div",{className:"absolute bottom-[75px] right-4 flex flex-row gap-2 z-10",children:[g.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)+1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Aproximar (Zoom In)","aria-label":"Aproximar zoom",children:g.jsx(U2,{className:"w-5 h-5"})}),g.jsx("button",{onClick:()=>e.setZoom((e.getZoom()||0)-1),className:"bg-white p-2.5 rounded-xl border border-outline-variant shadow-elevation-2 text-on-surface hover:bg-primary-container hover:text-primary transition-all active:scale-95 focus:outline-none",title:"Afastar (Zoom Out)","aria-label":"Afastar zoom",children:g.jsx(hX,{className:"w-5 h-5"})})]}):null},TTe=e=>{switch(e){case"Norte":return{bg:"#10B981",border:"#047857",glyph:"#fff"};case"Nordeste":return{bg:"#F97316",border:"#C2410C",glyph:"#fff"};case"Centro-Oeste":return{bg:"#EAB308",border:"#A16207",glyph:"#fff"};case"Sudeste":return{bg:"#3B82F6",border:"#1D4ED8",glyph:"#fff"};case"Sul":return{bg:"#8B5CF6",border:"#5B21B6",glyph:"#fff"};default:return{bg:"#6B7280",border:"#374151",glyph:"#fff"}}},L6=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);const r=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-r.length)+r},ATe=`
<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/>
  <path d="M3 6h18"/>
  <path d="M16 10a4 4 0 0 1-8 0"/>
</svg>
`,STe=({clients:e,onClientSelect:t,productFilterActive:r,users:n,isClusteringEnabled:i})=>{const a=$h(),s=O.useRef(null),o=O.useRef([]),c=O.useMemo(()=>{const d=document.createElement("div");return d.innerHTML=ATe,d.style.display="flex",d.style.alignItems="center",d.style.justifyContent="center",d},[]),u=O.useMemo(()=>{const d=new Map;return n&&n.forEach(h=>{let m={bg:"#6B7280",border:"#374151",glyph:"#fff"};h.color?m={bg:h.color,border:"black",glyph:"#fff"}:m={bg:L6(h.id+h.name),border:"black",glyph:"#fff"},d.set(h.id,m)}),d},[n]);return O.useEffect(()=>{if(!a||!google.maps.marker)return;s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(x=>{x.map=null,google.maps.event.clearInstanceListeners(x)}),o.current=[],i?s.current=new bTe({map:a,markers:[]}):s.current=null;let d=!0,h=0;const m=200,y=()=>{if(!d||!google.maps.marker)return;const x=e.slice(h,h+m);if(x.length===0)return;const b=x.filter(E=>{const S=Number(E.lat),F=Number(E.lng);return!isNaN(S)&&!isNaN(F)&&S!==0&&F!==0}).map(E=>{let S={bg:"#6B7280",border:"#374151",glyph:"#fff"};if(r)S={bg:"#F43F5E",border:"#BE123C",glyph:"#fff"};else{const P=u.get(E.salespersonId);P?S=P:E.ownerName?S={bg:L6(E.ownerName),border:"black",glyph:"#fff"}:S=TTe(E.region)}let F=null;r&&(F=c.cloneNode(!0),F.style.color=S.glyph);const k={background:S.bg,borderColor:S.border,glyphColor:S.glyph,scale:1};F&&(k.glyph=F);const M=new google.maps.marker.PinElement(k),D=new google.maps.marker.AdvancedMarkerElement({position:{lat:E.lat,lng:E.lng},content:M.element,map:i?null:a,title:E.companyName});return D.addListener("click",()=>{t(E.id)}),D});d&&(i&&s.current&&s.current.addMarkers(b),o.current.push(...b)),h+=m,h<e.length&&requestAnimationFrame(y)};return y(),()=>{d=!1,s.current&&(s.current.clearMarkers(),s.current.setMap(null)),o.current.forEach(x=>{x.map=null})}},[a,e,r,t,c,u,i]),g.jsx(wTe,{clients:e})},CTe=({clients:e,apiKey:t,onInvalidKey:r,productFilterActive:n,highlightProductTerm:i,activeProductCategory:a,users:s,filterContent:o})=>{const c={lat:-14.235,lng:-51.9253},[u,d]=O.useState(null),[h,m]=O.useState(!1),[y,x]=O.useState(!1),[b,E]=O.useState(!0),S=e.find(M=>M.id===u);O.useEffect(()=>(t&&m(!1),window.gm_authFailure=()=>{console.error("Google Maps Auth Failure detected via gm_authFailure."),m(!0)},()=>{window.gm_authFailure=()=>{};const M=document.getElementsByTagName("script");for(let D=M.length-1;D>=0;D--){const P=M[D];P.src&&P.src.includes("maps.googleapis.com/maps/api/js")&&P.parentNode?.removeChild(P)}}),[t]);const F=()=>{x(!y)};if(!t)return g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-blue-200 p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4",children:g.jsx(Jd,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Configurar API Key"}),g.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-md",children:[g.jsx(Jd,{className:"w-4 h-4"})," Selecionar API Key"]})]});if(h)return g.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center bg-gray-50 rounded-xl border border-red-200 p-8 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4",children:g.jsx(qi,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erro de Autenticao do Mapa"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-xs",children:'A chave de API atual  invlida para o Google Maps. Certifique-se de que a API "Maps JavaScript" est habilitada no console do Google Cloud.'}),g.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors shadow-md",children:[g.jsx(Jd,{className:"w-4 h-4"})," Trocar API Key"]})]});const k=y?"fixed inset-0 z-50 bg-white h-screen w-screen":"h-full w-full rounded-lg overflow-hidden shadow-sm border border-gray-200 relative z-0";return g.jsx("div",{className:k,children:g.jsx(DEe,{apiKey:t,libraries:["marker"],onLoad:()=>console.log("Maps API loaded"),children:g.jsxs(q7,{defaultCenter:c,defaultZoom:4,mapId:"DEMO_MAP_ID",style:{width:"100%",height:"100%"},gestureHandling:"greedy",disableDefaultUI:!0,reuseMaps:!0,children:[g.jsx(STe,{clients:e,onClientSelect:d,productFilterActive:n,users:s,isClusteringEnabled:b}),g.jsx(ETe,{}),y&&o&&g.jsxs("div",{className:"absolute top-0 left-0 right-0 z-30 bg-white/95 backdrop-blur-sm shadow-md border-b border-gray-200",children:[o,g.jsxs("div",{className:"flex justify-end gap-2 px-3 py-1.5 border-t border-gray-100 bg-gray-50/80",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-1.5 px-3 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(Al,{className:"w-3 h-3"}),"Solto"]})}),g.jsxs("button",{onClick:F,className:"bg-white p-1.5 px-3 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold",title:"Sair da Tela Cheia",children:[g.jsx(r4,{className:"w-4 h-4"}),"Sair"]})]})]}),!y&&g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(Al,{className:"w-3 h-3"}),"Solto"]})}),g.jsx("button",{onClick:F,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Tela Cheia",children:g.jsx(oX,{className:"w-5 h-5"})})]}),y&&!o&&g.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[g.jsx("button",{onClick:()=>E(!b),className:`p-2 rounded-lg border text-gray-600 transition-colors shadow-sm focus:outline-none flex items-center gap-2 text-xs font-bold ${b?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-200 hover:bg-gray-50"}`,title:b?"Desativar Agrupamento":"Ativar Agrupamento",children:b?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex -space-x-1",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/50"})]}),"Agrupado"]}):g.jsxs(g.Fragment,{children:[g.jsx(Al,{className:"w-3 h-3"}),"Solto"]})}),g.jsx("button",{onClick:F,className:"bg-white p-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-blue-600 transition-colors shadow-sm focus:outline-none",title:"Sair da Tela Cheia",children:g.jsx(r4,{className:"w-5 h-5"})})]}),S&&g.jsx(sTe,{position:{lat:S.lat,lng:S.lng},onCloseClick:()=>d(null),headerContent:g.jsxs("div",{className:"font-bold text-gray-800 text-sm flex items-center gap-2 pr-4",children:[g.jsx(Gp,{className:"w-4 h-4 text-blue-600"}),S.companyName]}),children:g.jsx("div",{className:"min-w-[240px] max-w-[320px] p-1",children:g.jsxs("div",{className:"space-y-2 text-xs text-gray-600 mt-1",children:[g.jsxs("div",{className:"flex items-center gap-1 text-[10px] uppercase font-bold text-gray-400",children:[g.jsx(Hp,{className:"w-3 h-3"}),S.city," - ",S.state," (",S.region,")"]}),g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(Oa,{className:"w-3 h-3 text-gray-400"}),g.jsx("span",{className:"font-medium text-gray-700",children:S.ownerName||"No informado"})]}),g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(sU,{className:"w-3 h-3 text-gray-400"}),g.jsx("span",{className:"font-medium text-gray-700",children:S.contact||"Sem contato"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1 mb-1 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded border border-gray-100 w-fit",children:[g.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[g.jsx("span",{className:"font-bold text-gray-800",children:S.purchasedProducts?.length||0})," Prod."]}),g.jsx("div",{className:"h-3 w-px bg-gray-300"}),g.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[g.jsx("span",{className:"font-bold text-gray-800",children:new Set(S.purchasedProducts?.map(M=>M.sku)||[]).size})," SKUs"]})]}),g.jsxs("p",{className:"flex items-start gap-2",children:[g.jsx(Al,{className:"w-3 h-3 mt-0.5 text-gray-400 flex-shrink-0"}),g.jsx("span",{className:"leading-tight",children:S.cleanAddress})]}),S.purchasedProducts&&S.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[g.jsxs("p",{className:"text-[10px] uppercase font-bold text-blue-600 mb-1.5 flex items-center gap-1",children:[g.jsx(to,{className:"w-3.5 h-3.5"}),"Produtos Adquiridos"]}),g.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1.5 pr-2 custom-scrollbar",children:S.purchasedProducts.map((M,D)=>{const P=i?.toLowerCase()||"",N=P&&((M.name||"").toLowerCase().includes(P)||(M.sku||"").toLowerCase().includes(P)||(M.brand||"").toLowerCase().includes(P)||(M.factoryCode||"").toLowerCase().includes(P));return g.jsxs("div",{className:`${N?"bg-amber-50 border-amber-200 ring-1 ring-amber-100":"bg-gray-50 border-gray-100"} p-2 rounded-lg border flex flex-col gap-0.5 transition-all shadow-sm`,children:[g.jsxs("div",{className:"flex justify-between items-start gap-2",children:[g.jsx("span",{className:`text-[10px] font-black leading-tight ${N?"text-amber-900":"text-gray-800"} line-clamp-2`,title:M.name,children:M.name}),g.jsx("span",{className:"text-[10px] font-black text-blue-700 whitespace-nowrap",children:M.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsxs("div",{className:"flex items-center gap-2 text-[9px] text-gray-500 font-bold uppercase tracking-tighter mt-0.5",children:[g.jsxs("span",{className:"flex items-center gap-0.5 bg-gray-200/50 px-1 rounded",children:["SKU: ",M.sku]}),g.jsx("span",{className:"text-gray-300",children:""}),g.jsx("span",{className:"truncate",children:M.brand||"Sem Marca"})]})]},D)})})]}),g.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center",children:[g.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-gray-100 text-gray-600",children:[g.jsx(B2,{className:"w-3 h-3 mr-1"}),S.category.join(", ")]}),S.mainCnae&&g.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 ml-1 truncate max-w-[120px]",title:S.mainCnae,children:S.mainCnae}),g.jsx("a",{href:S.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${S.lat},${S.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Rota"})]})]})})})]})})})},NTe=({client:e,isOpen:t,onClose:r,onSave:n,users:i=[],uploadedFiles:a=[],onCNPJAuthError:s})=>{const[o,c]=O.useState(()=>({...e,cnpj:e.cnpj||"",category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})),[u,d]=O.useState(!1),[h,m]=O.useState("idle");if(Ir.useEffect(()=>{c({...e,category:Array.isArray(e.category)?e.category:typeof e.category=="string"?[e.category]:["Outros"]})},[e]),!t)return null;const y=i.find(D=>D.id===e.salespersonId),x=y?.name||"No atribudo",b=y?.role==="sales_internal"?"Interno":y?.role==="sales_external"||y?.role==="salesperson"?"Externo":y?.role?"Equipe":"",E=y?.salesCategory||"",S=a.find(D=>D.id===e.sourceFileId),F=D=>{D.preventDefault(),n(o),r()},k=async()=>{const D=o.cnpj?.replace(/\D/g,"");if(!D||D.length!==14){alert("Por favor, informe um CNPJ vlido com 14 dgitos para atualizar.");return}d(!0),m("idle");try{const P=await K1(D);if(P){const N=P.logradouro&&P.numero;c(I=>({...I,companyName:P.nome_fantasia||P.razao_social||I.companyName,originalAddress:N?`${P.logradouro}, ${P.numero}${P.complemento?` - ${P.complemento}`:""}, ${P.bairro}, ${P.municipio} - ${P.uf}`:I.originalAddress,cleanAddress:N?`${P.logradouro}, ${P.numero}, ${P.municipio} - ${P.uf}`:I.cleanAddress,city:P.municipio||I.city,state:P.uf||I.state,district:P.bairro||I.district,region:P.uf?Wp(P.uf):I.region,lat:P.latitude||I.lat,lng:P.longitude||I.lng,contact:P.ddd_telefone_1||I.contact,mainCnae:P.cnae_fiscal||I.mainCnae,secondaryCnaes:P.cnaes_secundarios?.map(R=>`${R.codigo} - ${R.texto}`)||I.secondaryCnaes})),m("success"),setTimeout(()=>m("idle"),3e3)}else m("error"),alert("CNPJ no encontrado na base de dados.")}catch(P){console.error(P),m("error"),P.message&&(P.message.includes("401")||P.message.toLowerCase().includes("chave de api cnpja invlida"))?s?s():alert("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):alert("Erro ao consultar CNPJ. Verifique sua chave de API.")}finally{d(!1)}},M=D=>{const{name:P,value:N}=D.target;c(I=>{const R={[P]:N};return P==="state"&&(R.region=Wp(N)),{...I,...R}})};return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[28px] shadow-elevation-3 overflow-hidden animate-scale-in flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Gp,{className:"w-5 h-5 text-primary"}),g.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Editando"})]}),g.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Dados do Cliente"}),g.jsx("p",{className:"text-xs text-on-surface-variant mt-1 font-mono",children:e.id})]}),g.jsx("button",{onClick:r,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar modal",children:g.jsx(Fa,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"mx-6 mb-2 flex flex-wrap items-center gap-3 px-4 py-2.5 bg-purple-50 border border-purple-200 rounded-xl",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Oa,{className:"w-4 h-4 text-purple-600"}),g.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Vendedor Responsvel:"}),g.jsx("span",{className:"text-sm font-semibold text-purple-900",children:x})]}),b&&g.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full ${b==="Interno"?"bg-blue-100 text-blue-700":b==="Externo"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:b}),E&&E!=="N/A"&&g.jsxs("span",{className:"text-[10px] font-medium uppercase tracking-wider px-2 py-0.5 rounded-full bg-purple-100 text-purple-700",children:[g.jsx(as,{className:"w-3 h-3 inline mr-1"}),E]}),S&&g.jsxs("div",{className:"flex items-center gap-1.5 ml-auto",children:[g.jsx(Ey,{className:"w-3.5 h-3.5 text-gray-500"}),g.jsxs("span",{className:"text-[10px] text-gray-600 font-medium",children:["Origem: ",g.jsx("span",{className:"font-bold",children:S.fileName})]})]})]}),g.jsxs("form",{onSubmit:F,className:"px-6 py-4 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Razo Social"}),g.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Razo Social",placeholder:"Razo Social"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Proprietrio"}),g.jsx("input",{type:"text",name:"ownerName",value:o.ownerName,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",required:!0,title:"Responsvel / Proprietrio",placeholder:"Responsvel / Proprietrio"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Telefone Comercial"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"contact",value:o.contact,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Telefone Comercial",placeholder:"(00) 0000-0000"}),g.jsx(sU,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"WhatsApp"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",name:"whatsapp",value:o.whatsapp||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 pl-10 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"WhatsApp",placeholder:"(00) 00000-0000"}),g.jsx(Hp,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-on-surface-variant"})]})]}),g.jsxs("div",{className:"md:col-span-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 mb-2 block",children:"Segmento(s)"}),g.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Kp.filter(D=>D!=="Todos").map(D=>{const P=o.category.includes(D);return g.jsx("button",{type:"button",onClick:()=>{c(N=>{const I=N.category||[];return I.includes(D)?I.length===1?N:{...N,category:I.filter(R=>R!==D)}:{...N,category:[...I,D]}})},className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${P?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,title:`Selecionar/desselecionar segmento: ${D}`,children:D},D)})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Regio"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{name:"region",value:o.region,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all appearance-none",title:"Regio",children:[g.jsx("option",{value:"Indefinido",children:"Indefinido"}),uh.map(D=>g.jsx("option",{value:D,children:D},D))]}),g.jsx(Hp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Bairro"}),g.jsx("input",{type:"text",name:"district",value:o.district||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Bairro",placeholder:"Bairro"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Cidade"}),g.jsx("input",{type:"text",name:"city",value:o.city,onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",title:"Municpio / Cidade",placeholder:"Cidade"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Estado (UF)"}),g.jsx("input",{type:"text",name:"state",value:o.state,onChange:M,maxLength:2,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all uppercase",title:"Estado (UF)",placeholder:"UF"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"CEP"}),g.jsx("input",{type:"text",name:"zip",value:o.zip||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-all",placeholder:"00000-000",title:"CEP / Cdigo Postal"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1 font-bold",children:"Pas"}),g.jsx("input",{type:"text",value:"Brasil",readOnly:!0,title:"Pas (Padro: Brasil)",className:"w-full bg-surface-container-highest/50 border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface-variant outline-none"})]})]})]}),g.jsxs("div",{className:"space-y-1 pt-2",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"Endereo Completo"}),g.jsx("div",{className:"flex gap-2",children:g.jsx("input",{type:"text",name:"cleanAddress",value:o.cleanAddress,onChange:M,className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",title:"Endereo Limpo"})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs font-medium text-on-surface-variant ml-1",children:"CNPJ"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"text",name:"cnpj",value:o.cnpj||"",onChange:M,className:`flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all ${h==="success"?"border-green-500":""}`,placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"}),g.jsxs("button",{type:"button",onClick:k,disabled:u,className:`px-4 flex items-center gap-2 rounded-xl text-xs font-bold transition-all shadow-sm ${h==="success"?"bg-green-100 text-green-700":"bg-primary text-white hover:bg-primary/90"}`,title:"Atualizar todos os dados a partir deste CNPJ",children:[u?g.jsx(zc,{className:"w-4 h-4 animate-spin"}):g.jsx(Vo,{className:"w-4 h-4"}),h==="success"?"Dados Atualizados!":"Atualizar Dados"]})]})]}),g.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[g.jsx(as,{className:"w-4 h-4 text-primary"}),g.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),g.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:o.mainCnae||(o.cnpj?"Aguardando consulta...":"No informado")})]}),o.secondaryCnaes&&o.secondaryCnaes.length>0?g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),g.jsx("ul",{className:"space-y-1.5",children:o.secondaryCnaes.map((D,P)=>g.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),D]},P))})]}):o.cnpj&&g.jsx("p",{className:"text-[10px] text-on-surface-variant italic",children:"Nenhuma atividade secundria registrada."})]})]}),g.jsxs("div",{className:"space-y-1 pt-2",children:[g.jsxs("label",{className:"text-xs font-medium text-on-surface-variant ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",g.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),g.jsx("input",{type:"text",name:"plusCode",value:o.plusCode||"",onChange:M,className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-all",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso nos pinos."})]})]}),g.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[g.jsx("button",{type:"button",onClick:r,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),g.jsxs("button",{type:"submit",onClick:F,className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 text-sm",children:[g.jsx(Om,{className:"w-4 h-4"})," Salvar Alteraes"]})]})]})})},ITe=({isOpen:e,onClose:t,onAdd:r,salespersonId:n,ownerName:i,users:a=[],isFirebaseConnected:s=!1,onCNPJAuthError:o})=>{const[c,u]=O.useState(n),[d,h]=O.useState({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),[m,y]=O.useState(!1),[x,b]=O.useState(""),[E,S]=O.useState(!1);if(O.useEffect(()=>{e&&(h({companyName:"",cnpj:"",ownerName:"",contact:"",whatsapp:"",category:["Outros"],region:"Nordeste",state:"CE",city:"Fortaleza",district:"",originalAddress:"",cleanAddress:"",plusCode:"",zip:"",country:"Brasil",lat:0,lng:0,mainCnae:"",secondaryCnaes:[]}),u(n),b(""),navigator.geolocation&&navigator.geolocation.getCurrentPosition(async P=>{},P=>{console.warn("Location access denied or error:",P)}))},[e]),!e)return null;const F=(P,N)=>{h(I=>{const R={[P]:N};return P==="state"&&(R.region=Wp(N)),{...I,...R}}),x&&b("")},k=P=>{h(N=>{const I=N.category;return I.includes(P)?I.length===1?N:{...N,category:I.filter(R=>R!==P)}:{...N,category:[...I,P]}})},M=async()=>{if(!d.cnpj||d.cnpj.replace(/\D/g,"").length!==14){b("Por favor, informe um CNPJ vlido com 14 dgitos.");return}y(!0),b("");try{const P=await K1(d.cnpj);if(P){const N=P.logradouro&&P.numero;h(I=>({...I,companyName:P.nome_fantasia||P.razao_social,originalAddress:N?`${P.logradouro}, ${P.numero}${P.complemento?` - ${P.complemento}`:""}, ${P.bairro}`:I.originalAddress,city:P.municipio||I.city,state:P.uf||I.state,district:P.bairro||I.district,region:P.uf?Wp(P.uf):I.region,contact:P.ddd_telefone_1||I.contact,whatsapp:P.ddd_telefone_1||I.whatsapp,lat:P.latitude||0,lng:P.longitude||0,cleanAddress:N?`${P.logradouro}, ${P.numero}, ${P.municipio} - ${P.uf}`:I.cleanAddress,mainCnae:P.cnae_fiscal||I.mainCnae,secondaryCnaes:P.cnaes_secundarios?.map(R=>`${R.codigo} - ${R.texto}`)||I.secondaryCnaes}))}}catch(P){P.message&&(P.message.includes("401")||P.message.toLowerCase().includes("chave de api cnpja invlida"))?o?o():b("Chave de API CNPJa invlida ou expirada. Configure-a nas opes do sistema."):b(P.message||"Erro ao consultar CNPJ. Verifique a chave da API.")}finally{y(!1)}},D=P=>{if(P.preventDefault(),!d.companyName||!d.originalAddress||!d.city||!d.state||!d.contact){b("Por favor, preencha todos os campos obrigatrios (*).");return}S(!0);const N=`${d.originalAddress}, ${d.city} - ${d.state}`;r({companyName:d.companyName,ownerName:d.ownerName||"No Informado",contact:d.contact,whatsapp:d.whatsapp,category:d.category,region:d.region,state:d.state,city:d.city,originalAddress:N,cleanAddress:d.cleanAddress||N,plusCode:d.plusCode,salespersonId:c,googleMapsUri:"",lat:d.lat,lng:d.lng,mainCnae:d.mainCnae,secondaryCnaes:d.secondaryCnaes,zip:d.zip,country:"Brasil"}),S(!1),t()};return g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-3 w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[g.jsxs("div",{className:"p-6 pb-2 flex justify-between items-start shrink-0",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx(Gp,{className:"w-5 h-5 text-primary"}),g.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wider",children:"Novo Cliente"})]}),g.jsx("h2",{className:"text-2xl font-normal text-on-surface",children:"Adicionar Cliente"})]}),g.jsx("button",{onClick:t,className:"p-2 text-on-surface-variant hover:bg-surface-variant/30 rounded-full transition-colors",title:"Fechar",children:g.jsx(Fa,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"px-6 py-4 overflow-y-auto custom-scrollbar flex-1",children:g.jsxs("form",{id:"add-client-form",onSubmit:D,className:"space-y-6",children:[g.jsxs("div",{className:"bg-surface-container-low p-4 rounded-2xl border border-outline-variant",children:[g.jsx("label",{className:"block text-xs font-semibold text-primary mb-2 ml-1 uppercase tracking-wider",children:"Consulta Rpida por CNPJ (Comercial)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"relative flex-1",children:g.jsx("input",{type:"text",value:d.cnpj,onChange:P=>F("cnpj",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary outline-none transition-colors",placeholder:"00.000.000/0000-00",title:"CNPJ do Cliente"})}),g.jsxs("button",{type:"button",onClick:M,disabled:m,className:`px-4 py-2 rounded-xl transition-colors flex items-center gap-2 disabled:opacity-50 ${d.lat!==0?"bg-green-100 text-green-700":"bg-primary text-on-primary hover:bg-primary/90"}`,children:[m?g.jsx(zc,{className:"w-4 h-4 animate-spin"}):g.jsx(Vo,{className:"w-4 h-4"}),g.jsx("span",{className:"hidden sm:inline",children:d.lat!==0?"Dados Atualizados":"Atualizar Dados"})]})]}),d.cnpj.replace(/\D/g,"").length===14&&g.jsxs("div",{className:"bg-surface-container-highest/50 p-4 rounded-2xl border border-outline-variant space-y-4 mb-6",children:[g.jsxs("div",{className:"flex items-center gap-2 pb-1 border-b border-outline-variant/30",children:[g.jsx(as,{className:"w-4 h-4 text-primary"}),g.jsx("h3",{className:"text-[10px] font-bold text-primary uppercase tracking-widest",children:"Atividade Econmica (CNAE)"})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Principal"}),g.jsx("p",{className:"text-sm text-on-surface flex items-start gap-2",children:d.mainCnae||(m?"Buscando...":"Aguardando consulta comercial...")})]}),d.secondaryCnaes&&d.secondaryCnaes.length>0&&g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-on-surface-variant uppercase tracking-widest block mb-1",children:"Secundrias"}),g.jsx("ul",{className:"space-y-1.5",children:d.secondaryCnaes.map((P,N)=>g.jsxs("li",{className:"text-xs text-on-surface-variant flex items-start gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-outline-variant mt-1.5 shrink-0"}),P]},N))})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Razo Social *"}),g.jsx("input",{type:"text",required:!0,value:d.companyName,onChange:P=>F("companyName",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do estabelecimento"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Proprietrio"}),g.jsx("input",{type:"text",value:d.ownerName,onChange:P=>F("ownerName",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Nome do responsvel"})]}),a.length>0&&g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:[g.jsx(Oa,{className:"w-3 h-3 inline mr-1"}),"Vendedor Responsvel"]}),g.jsx("select",{value:c,onChange:P=>u(P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Vendedor Responsvel",children:a.filter(P=>P.role==="salesperson"||P.role==="sales_external"||P.role==="sales_internal").map(P=>g.jsxs("option",{value:P.id,children:[P.name,P.salesCategory?` (${P.salesCategory})`:""]},P.id))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Contato *"}),g.jsx("input",{type:"text",required:!0,value:d.contact,onChange:P=>F("contact",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"(00) 00000-0000",title:"Contato"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Segmento(s)"}),g.jsx("div",{className:"flex flex-wrap gap-2 p-3 border border-outline-variant rounded-xl bg-surface-container-low max-h-32 overflow-y-auto custom-scrollbar",children:Kp.filter(P=>P!=="Todos").map(P=>{const N=d.category.includes(P);return g.jsx("button",{type:"button",onClick:()=>k(P),className:`px-3 py-1 text-xs font-medium rounded-lg transition-all border ${N?"bg-secondary-container text-on-secondary-container border-secondary-container":"bg-surface text-on-surface-variant border-outline-variant hover:border-outline"}`,children:P},P)})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Regio"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{value:d.region,onChange:P=>F("region",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"Regio",children:uh.map(P=>g.jsx("option",{value:P,children:P},P))}),g.jsx(Hp,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Bairro *"}),g.jsx("input",{type:"text",required:!0,value:d.district||"",onChange:P=>F("district",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Aldeota",title:"Bairro"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Municpio *"}),g.jsx("input",{type:"text",required:!0,value:d.city,onChange:P=>F("city",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Fortaleza"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"UF *"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{required:!0,value:d.state,onChange:P=>F("state",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none",title:"UF",children:["AC","AL","AP","AM","BA","CE","DF","ES","GO","MA","MT","MS","MG","PA","PB","PR","PE","PI","RJ","RN","RS","RO","RR","SC","SP","SE","TO"].map(P=>g.jsx("option",{value:P,children:P},P))}),g.jsx(Al,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant pointer-events-none"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Endereo Completo *"}),g.jsx("textarea",{rows:2,required:!0,value:d.originalAddress,onChange:P=>F("originalAddress",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors resize-none",placeholder:"Rua, Nmero, Bairro, CEP...",title:"Endereo Completo"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"* Importante para localizarmos no mapa."})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1 flex items-center gap-1",children:["Plus Code (Google Maps)",g.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 rounded-full",children:"Localizao Exata"})]}),g.jsx("input",{type:"text",value:d.plusCode,onChange:P=>F("plusCode",P.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: C6PH+9J Fortaleza, CE",title:"Google Plus Code"}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 ml-1",children:"Use para locais sem endereo formal ou para maior preciso."})]}),g.jsx("div",{className:"bg-secondary-container/50 p-4 rounded-xl border border-secondary-container",children:g.jsxs("p",{className:"text-xs text-on-secondary-container flex gap-2",children:[g.jsx(Al,{className:"w-4 h-4 shrink-0"}),g.jsx("span",{children:"Ao salvar, o sistema tentar localizar automaticamente as coordenadas deste cliente para exibir no mapa e na lista."})]})}),x&&g.jsxs("div",{className:"bg-error-container text-on-error-container p-4 rounded-xl text-sm flex items-center gap-3",children:[g.jsx(qi,{className:"w-5 h-5"}),x]})]})}),g.jsxs("div",{className:"p-6 pt-2 flex justify-end gap-2 shrink-0",children:[g.jsx("button",{type:"button",onClick:t,className:"px-6 py-2.5 text-primary font-medium hover:bg-primary-container/30 rounded-full transition-colors text-sm",children:"Cancelar"}),g.jsx("button",{type:"submit",disabled:E,form:"add-client-form",className:"px-6 py-2.5 bg-primary text-on-primary font-medium rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-elevation-1 hover:shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:E?"Salvando...":g.jsxs(g.Fragment,{children:[g.jsx(Om,{className:"w-4 h-4"}),"Salvar"]})})]})]})})},kTe=({isOpen:e,onClose:t,client:r,products:n,onSave:i,productCategories:a})=>{const[s,o]=O.useState(""),[c,u]=O.useState("Todos"),[d,h]=O.useState([]),[m,y]=O.useState(!1);Ir.useEffect(()=>{r&&r.purchasedProducts?h(r.purchasedProducts.map(S=>S.sku)):h([])},[r]);const x=O.useMemo(()=>n.filter(S=>{const F=(S.name||"").toLowerCase().includes(s.toLowerCase())||(S.sku||"").toLowerCase().includes(s.toLowerCase())||(S.brand||"").toLowerCase().includes(s.toLowerCase()),k=c==="Todos"||S.category===c,M=d.includes(S.sku);return F&&k&&(!m||M)}),[n,s,c,m,d]),b=S=>{h(F=>F.includes(S)?F.filter(k=>k!==S):[...F,S])},E=()=>{if(!r)return;const S=n.filter(F=>d.includes(F.sku));i(r.id,S),t()};return!e||!r?null:g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col overflow-hidden animate-scale-in",children:[g.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(to,{className:"w-5 h-5 text-blue-600"}),"Atribuir Produtos"]}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Cliente: ",g.jsx("span",{className:"font-semibold text-gray-700",children:r.companyName})]})]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:"Fechar modal",children:g.jsx(Fa,{className:"w-5 h-5 text-gray-500"})})]}),g.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row gap-3 bg-white z-10",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"text",placeholder:"Buscar por nome, SKU, marca...",value:s,onChange:S=>o(S.target.value),className:"w-full pl-9 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"})]}),g.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",title:"Filtrar por Departamento",children:[g.jsx("option",{value:"Todos",children:"Todos os Departamentos"}),a.map(S=>g.jsx("option",{value:S,children:S},S))]})]}),g.jsxs("div",{className:"p-4 bg-gray-50 flex items-center justify-center gap-3 border-b border-gray-100",children:[g.jsx("button",{onClick:()=>y(!1),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${m?"bg-white text-gray-600 border border-gray-200 hover:border-blue-300":"bg-blue-600 text-white shadow-sm"}
            `,children:"Ver Todos os Produtos"}),g.jsxs("button",{onClick:()=>y(!0),className:`
              flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all whitespace-nowrap
              ${m?"bg-green-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-200 hover:border-green-300"}
            `,children:[g.jsx(to,{className:"w-3 h-3"}),"Produtos Comprados"]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-2 bg-gray-50/50",children:x.length===0?g.jsx("div",{className:"flex flex-col items-center justify-center h-40 text-gray-400",children:g.jsx("p",{children:"Nenhum produto encontrado."})}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(S=>{const F=d.includes(S.sku);return g.jsx("div",{onClick:()=>b(S.sku),className:`
                      relative p-3 rounded-xl border cursor-pointer transition-all duration-200 group
                      ${F?"bg-blue-50 border-blue-500 shadow-sm":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                    `,children:g.jsxs("div",{className:"flex justify-between items-start gap-2",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:`text-sm font-medium truncate ${F?"text-blue-800":"text-gray-800"}`,children:S.name}),g.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase truncate",children:S.brand}),g.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",S.sku]}),g.jsx("p",{className:"text-xs font-bold text-gray-700 mt-1",children:S.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),g.jsx("div",{className:`
                        w-5 h-5 rounded-full border flex items-center justify-center transition-colors
                        ${F?"bg-blue-500 border-blue-500":"border-gray-300 group-hover:border-blue-400"}
                      `,children:F&&g.jsx(nf,{className:"w-3.5 h-3.5 text-white"})})]})},S.sku)})})}),g.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white flex justify-between items-center",children:[g.jsxs("div",{className:"text-sm text-gray-600",children:[g.jsx("span",{className:"font-bold text-blue-600",children:d.length})," produtos selecionados"]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancelar"}),g.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-md transition-transform active:scale-95",children:[g.jsx(Om,{className:"w-4 h-4"}),"Salvar Atribuio"]})]})]})]})})},PTe=({clients:e,onUpdateClient:t,onAddClient:r,currentUserRole:n,currentUserId:i,currentUserName:a,products:s=[],productCategories:o=[],users:c=[],uploadedFiles:u=[],onGeneratePlusCodes:d,onCNPJAuthError:h,filterOnlyWithPurchases:m=!1,setFilterOnlyWithPurchases:y,resetFilters:x})=>{const[b,E]=O.useState(""),[S,F]=O.useState("Todos"),[k,M]=O.useState("Todos"),[D,P]=O.useState(null),[N,I]=O.useState(!1),[R,U]=O.useState(!1),[B,L]=O.useState(!1),[H,fe]=O.useState(null),me=O.useMemo(()=>e.filter(V=>{const ee=(V.companyName||"").toLowerCase().includes(b.toLowerCase())||(V.ownerName||"").toLowerCase().includes(b.toLowerCase()),X=S==="Todos"||V.region===S,q=k==="Todos"||Array.isArray(V.category)&&V.category.some(he=>he.trim()===k.trim());return ee&&X&&q}),[e,b,S,k]),ne=()=>{const V=["ID","Razo Social","Proprietrio","Contato","Endereo","Cidade","UF","Regio","Segmento","CNAE","Produtos Comprados","Link Maps"],ee=me.map(oe=>[oe.id,oe.companyName,oe.ownerName,oe.contact,oe.cleanAddress,oe.city,oe.state,oe.region,oe.category.join("; "),oe.mainCnae||"",oe.purchasedProducts?oe.purchasedProducts.map(ge=>ge.sku).join("; "):"",oe.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${oe.lat},${oe.lng}`]),X=oe=>{if(oe==null)return"";const ge=String(oe);return ge.includes('"')||ge.includes(",")||ge.includes(`
`)?`"${ge.replace(/"/g,'""')}"`:ge},q=[V.join(","),...ee.map(oe=>oe.map(X).join(","))].join(`
`),he=new Blob([`\uFEFF${q}`],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(he),Ie=document.createElement("a");Ie.setAttribute("href",ye),Ie.setAttribute("download",`clientes_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie)},ue=V=>{P(V),I(!0)},ce=V=>{fe(V),L(!0)},ie=(V,ee)=>{const X=e.find(q=>q.id===V);if(X){const q={...X,purchasedProducts:ee};t(q)}},xe=({client:V,style:ee})=>g.jsx("div",{style:ee,className:"p-1",children:g.jsxs("div",{className:"h-full bg-surface-container-low border border-outline-variant/30 rounded-lg p-3 hover:shadow-elevation-2 transition-shadow group relative overflow-hidden flex flex-col",children:[g.jsx("div",{className:"absolute top-0 right-0 p-0",children:g.jsx("span",{className:`px-3 py-1 rounded-bl-lg text-[10px] font-bold uppercase tracking-wider
                        ${V.region==="Nordeste"?"bg-orange-100 text-orange-800":V.region==="Sudeste"?"bg-blue-100 text-blue-800":V.region==="Sul"?"bg-purple-100 text-purple-800":V.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
                      `,children:V.region})}),g.jsxs("div",{className:"flex items-start gap-4 pr-12 mb-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-container text-on-primary-container flex items-center justify-center font-bold text-lg shrink-0",children:V.companyName.charAt(0).toUpperCase()}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsx("h3",{className:"font-bold text-on-surface truncate pr-2",title:V.companyName,children:V.companyName}),g.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-0.5",children:[g.jsxs("div",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[g.jsx(B2,{className:"w-3 h-3"}),g.jsx("span",{className:"truncate",children:V.category.join(", ")})]}),V.mainCnae&&g.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[9px] font-medium bg-purple-50 text-purple-700 border border-purple-100 truncate max-w-[150px]",title:V.mainCnae,children:[g.jsx(as,{className:"w-2.5 h-2.5 mr-1"}),V.mainCnae]})]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-[10px] font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-md border border-gray-100 w-fit",children:[g.jsxs("span",{className:"flex items-center gap-1",title:"Total de itens comprados",children:[" ",g.jsx("span",{className:"font-bold text-gray-800",children:V.purchasedProducts.length})," Prod."]}),g.jsx("div",{className:"h-3 w-px bg-gray-300"}),g.jsxs("span",{className:"flex items-center gap-1",title:"Quantidade de SKUs nicos",children:[" ",g.jsx("span",{className:"font-bold text-gray-800",children:new Set(V.purchasedProducts.map(X=>X.sku)).size})," SKUs"]})]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[V.purchasedProducts.slice(0,2).map((X,q)=>g.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:X.name,children:X.sku},q)),V.purchasedProducts.length>2&&g.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",V.purchasedProducts.length-2]})]})]})]}),g.jsxs("div",{className:"space-y-2 flex-grow",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-on-surface-variant",children:[g.jsx(Gp,{className:"w-4 h-4 shrink-0"}),g.jsx("span",{className:"truncate",children:V.ownerName})]}),g.jsxs("div",{className:"flex items-start gap-2 text-sm text-on-surface-variant group/link",children:[g.jsx(Al,{className:"w-4 h-4 shrink-0 mt-0.5"}),g.jsx("span",{className:"line-clamp-2",children:V.cleanAddress})]})]}),g.jsxs("div",{className:"mt-4 pt-3 border-t border-outline-variant/30 flex items-center justify-between",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ce(V),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Atribuir Produtos",children:g.jsx(to,{className:"w-4 h-4"})}),g.jsx("a",{title:`Abrir localizao de ${V.companyName} no Google Maps`,href:V.googleMapsUri||`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(V.companyName+" "+V.cleanAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",onClick:X=>X.stopPropagation(),children:g.jsx(_A,{className:"w-4 h-4"})})]}),g.jsxs("button",{onClick:()=>ue(V),className:"flex items-center gap-1.5 text-xs font-bold text-primary hover:text-primary/80 transition-colors px-3 py-1.5 rounded-lg active:bg-surface-container-highest",title:`Editar cliente ${V.companyName}`,children:[g.jsx(yX,{className:"w-3 h-3"})," Editar"]})]})]})}),J=({client:V})=>g.jsxs("div",{className:"p-4 border-b border-gray-100 last:border-0 bg-white",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-gray-900",children:V.companyName}),g.jsx("p",{className:"text-xs text-gray-500",children:V.category.join(", ")}),V.mainCnae&&g.jsxs("p",{className:"text-[10px] text-purple-600 font-medium flex items-center gap-1 mt-0.5",children:[g.jsx(as,{className:"w-3 h-3"})," ",V.mainCnae]}),V.purchasedProducts&&V.purchasedProducts.length>0&&g.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[V.purchasedProducts.slice(0,3).map((ee,X)=>g.jsx("span",{className:"text-[9px] px-1 rounded bg-green-50 text-green-700 border border-green-200 truncate max-w-[100px]",title:ee.name,children:ee.sku},X)),V.purchasedProducts.length>3&&g.jsxs("span",{className:"text-[9px] px-1 rounded bg-gray-100 text-gray-500 border border-gray-200",children:["+",V.purchasedProducts.length-3]})]})]}),g.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase
              ${V.region==="Nordeste"?"bg-orange-100 text-orange-800":V.region==="Sudeste"?"bg-blue-100 text-blue-800":V.region==="Sul"?"bg-purple-100 text-purple-800":V.region==="Norte"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
           `,children:V.region})]}),g.jsxs("div",{className:"space-y-1 mb-3",children:[g.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(Gp,{className:"w-4 h-4 text-gray-400"})," ",V.ownerName]}),g.jsxs("p",{className:"flex items-center gap-2 text-sm text-gray-600",children:[g.jsx(Al,{className:"w-4 h-4 text-gray-400"})," ",g.jsx("span",{className:"truncate",children:V.cleanAddress})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>ue(V),className:"flex-1 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg text-center",title:`Editar cliente ${V.companyName}`,children:"Editar"}),g.jsxs("button",{onClick:()=>ce(V),className:"flex-1 py-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg text-center flex items-center justify-center gap-1",title:"Atribuir Produtos",children:[g.jsx(to,{className:"w-4 h-4"})," Produtos"]}),g.jsx("a",{href:V.googleMapsUri||`https://www.google.com/maps/dir/?api=1&destination=${V.lat},${V.lng}`,target:"_blank",className:"flex-none p-2 text-gray-600 bg-gray-100 rounded-lg flex items-center justify-center",title:"Ver rota no Google Maps",children:g.jsx(_A,{className:"w-5 h-5"})})]})]});return g.jsxs("div",{className:"flex flex-col h-full bg-white relative",children:[g.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-200 flex flex-col md:flex-row gap-3 items-center justify-between bg-white z-10 sticky top-0 md:relative shadow-sm md:shadow-none",children:[g.jsxs("div",{className:"relative w-full md:max-w-xs group",children:[g.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5 group-focus-within:text-primary transition-colors"}),g.jsx("input",{type:"text",placeholder:"Razo Social ou Proprietrio...",className:"w-full pl-10 pr-4 py-1.5 bg-surface-container-highest border-none rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-on-surface-variant/50",value:b,onChange:V=>E(V.target.value),title:"Buscar por razo social ou proprietrio"})]}),g.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:[g.jsxs("select",{value:S,onChange:V=>F(V.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Regio",children:[g.jsx("option",{value:"Todos",children:"Todas Regies"}),uh.map(V=>g.jsx("option",{value:V,children:V},V))]}),g.jsxs("select",{value:k,onChange:V=>M(V.target.value),className:"px-2 py-1.5 bg-surface-container-highest border-none rounded-lg text-xs font-medium text-on-surface-variant focus:ring-2 focus:ring-primary/20 outline-none cursor-pointer whitespace-nowrap",title:"Filtrar por Categoria",children:[g.jsx("option",{value:"Todos",children:"Todos Segmentos"}),Kp.filter(V=>V!=="Todos").map(V=>g.jsx("option",{value:V,children:V},V))]}),g.jsxs("div",{className:"md:ml-auto flex items-center gap-2 pl-2 border-l border-gray-200",children:[n&&Vd(n)&&r&&g.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-700 transition-all shadow-md shadow-blue-200 hover:shadow-lg active:scale-95 whitespace-nowrap",children:[g.jsx(U2,{className:"w-4 h-4"})," Novo"]}),g.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-outline-variant/30 text-on-surface hover:bg-surface-container-highest rounded-lg text-xs font-bold transition-colors shadow-sm whitespace-nowrap",children:[g.jsx(BJ,{className:"w-4 h-4"})," Exportar"]}),d&&n&&AA(n)&&g.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-3 py-1.5 bg-tertiary text-white text-xs font-bold rounded-lg hover:bg-tertiary/90 transition-all shadow-md shadow-tertiary/20 active:scale-95 whitespace-nowrap",title:"Gerar Plus Codes para clientes sem localizao exata",children:[g.jsx(Al,{className:"w-4 h-4"})," Plus Code"]})]})]})]}),g.jsxs("div",{className:"px-3 py-1.5 bg-gray-50 border-b border-gray-200 text-xs text-gray-500",children:["Exibindo ",me.length," de ",e.length," clientes"]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-2 custom-scrollbar bg-gray-50",children:[g.jsx("div",{className:"md:hidden flex flex-col gap-0 bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:me.map(V=>g.jsx(J,{client:V},V.id))}),g.jsx("div",{className:"hidden md:grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2",children:me.map(V=>g.jsx(xe,{client:V,style:{}},V.id))}),me.length===0&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[g.jsx(j2,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium",children:"Nenhum cliente encontrado"}),g.jsx("p",{className:"text-sm",children:"Tente ajustar seus filtros de busca"})]})]}),D&&N&&g.jsx(NTe,{isOpen:N,onClose:()=>I(!1),client:D,onSave:t,users:c,uploadedFiles:u,onCNPJAuthError:h}),R&&i&&g.jsx(ITe,{isOpen:R,onClose:()=>U(!1),onAdd:r||(()=>{}),salespersonId:i,ownerName:a||"",users:c,onCNPJAuthError:h}),g.jsx(kTe,{isOpen:B,onClose:()=>L(!1),client:H,products:s,productCategories:o,onSave:ie})]})},RTe="modulepreload",OTe=function(e){return"/Rota-de-Vendas/"+e},j6={},Mx=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};var s=u;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=u(r.map(d=>{if(d=OTe(d),d in j6)return;j6[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":RTe,h||(y.as="script"),y.crossOrigin="",y.href=d,c&&y.setAttribute("nonce",c),document.head.appendChild(y),h)return new Promise((x,b)=>{y.addEventListener("load",x),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var OS=function(){return OS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},OS.apply(this,arguments)},MS,MTe=function(e){var t;e?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof e=="string"?document.getElementById(e):e):(t=document.querySelector(".grecaptcha-badge"))&&t.parentNode&&document.body.removeChild(t.parentNode)},DTe=function(e,t){MTe(t),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+e);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},FTe=function(e){var t=e.render,r=e.onLoadCallbackName,n=e.language,i=e.onLoad,a=e.useRecaptchaNet,s=e.useEnterprise,o=e.scriptProps,c=o===void 0?{}:o,u=c.nonce,d=u===void 0?"":u,h=c.defer,m=h!==void 0&&h,y=c.async,x=y!==void 0&&y,b=c.id,E=b===void 0?"":b,S=c.appendTo,F=E||"google-recaptcha-v3";if((function(D){return!!document.querySelector("#"+D)})(F))i();else{var k=(function(D){return"https://www."+(D.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(D.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:s,useRecaptchaNet:a}),M=document.createElement("script");M.id=F,M.src=k+"?render="+t+(t==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),d&&(M.nonce=d),M.defer=!!m,M.async=!!x,M.onload=i,(S==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(M)}},U6=function(e){console.warn(e)};(function(e){e.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(MS||(MS={}));var TN=O.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});TN.Consumer;function B6(e){var t=e.reCaptchaKey,r=e.useEnterprise,n=r!==void 0&&r,i=e.useRecaptchaNet,a=i!==void 0&&i,s=e.scriptProps,o=e.language,c=e.container,u=e.children,d=O.useState(null),h=d[0],m=d[1],y=O.useRef(t),x=JSON.stringify(s),b=JSON.stringify(c?.parameters);O.useEffect((function(){if(t){var F=s?.id||"google-recaptcha-v3",k=s?.onLoadCallbackName||"onRecaptchaLoadCallback";return window[k]=function(){var M=n?window.grecaptcha.enterprise:window.grecaptcha,D=OS({badge:"inline",size:"invisible",sitekey:t},c?.parameters||{});y.current=M.render(c?.element,D)},FTe({render:c?.element?"explicit":t,onLoadCallbackName:k,useEnterprise:n,useRecaptchaNet:a,scriptProps:s,language:o,onLoad:function(){if(window&&window.grecaptcha){var M=n?window.grecaptcha.enterprise:window.grecaptcha;M.ready((function(){m(M)}))}else U6("<GoogleRecaptchaProvider /> "+MS.SCRIPT_NOT_AVAILABLE)}}),function(){DTe(F,c?.element)}}U6("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,a,x,b,o,t,c?.element]);var E=O.useCallback((function(F){if(!h||!h.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return h.execute(y.current,{action:F})}),[h,y]),S=O.useMemo((function(){return{executeRecaptcha:h?E:void 0,container:c?.element}}),[E,h,c?.element]);return Ir.createElement(TN.Provider,{value:S},u)}var LTe=function(){return O.useContext(TN)};function Z7(e,t){return e(t={exports:{}},t.exports),t.exports;}var gi=typeof Symbol=="function"&&Symbol.for,DS=gi?Symbol.for("react.element"):60103,FS=gi?Symbol.for("react.portal"):60106,Dy=gi?Symbol.for("react.fragment"):60107,Fy=gi?Symbol.for("react.strict_mode"):60108,Ly=gi?Symbol.for("react.profiler"):60114,jy=gi?Symbol.for("react.provider"):60109,Uy=gi?Symbol.for("react.context"):60110,LS=gi?Symbol.for("react.async_mode"):60111,Dx=gi?Symbol.for("react.concurrent_mode"):60111,By=gi?Symbol.for("react.forward_ref"):60112,Vy=gi?Symbol.for("react.suspense"):60113,jTe=gi?Symbol.for("react.suspense_list"):60120,zy=gi?Symbol.for("react.memo"):60115,$y=gi?Symbol.for("react.lazy"):60116,UTe=gi?Symbol.for("react.block"):60121,BTe=gi?Symbol.for("react.fundamental"):60117,VTe=gi?Symbol.for("react.responder"):60118,zTe=gi?Symbol.for("react.scope"):60119;function es(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DS:switch(e=e.type){case LS:case Dx:case Dy:case Ly:case Fy:case Vy:return e;default:switch(e=e&&e.$$typeof){case Uy:case By:case $y:case zy:case jy:return e;default:return t}}case FS:return t}}}function V6(e){return es(e)===Dx}var $Te={AsyncMode:LS,ConcurrentMode:Dx,ContextConsumer:Uy,ContextProvider:jy,Element:DS,ForwardRef:By,Fragment:Dy,Lazy:$y,Memo:zy,Portal:FS,Profiler:Ly,StrictMode:Fy,Suspense:Vy,isAsyncMode:function(e){return V6(e)||es(e)===LS},isConcurrentMode:V6,isContextConsumer:function(e){return es(e)===Uy},isContextProvider:function(e){return es(e)===jy},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DS},isForwardRef:function(e){return es(e)===By},isFragment:function(e){return es(e)===Dy},isLazy:function(e){return es(e)===$y},isMemo:function(e){return es(e)===zy},isPortal:function(e){return es(e)===FS},isProfiler:function(e){return es(e)===Ly},isStrictMode:function(e){return es(e)===Fy},isSuspense:function(e){return es(e)===Vy},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===Dy||e===Dx||e===Ly||e===Fy||e===Vy||e===jTe||typeof e=="object"&&e!==null&&(e.$$typeof===$y||e.$$typeof===zy||e.$$typeof===jy||e.$$typeof===Uy||e.$$typeof===By||e.$$typeof===BTe||e.$$typeof===VTe||e.$$typeof===zTe||e.$$typeof===UTe)},typeOf:es},Fr=Z7((function(e,t){})),z6=(Fr.AsyncMode,Fr.ConcurrentMode,Fr.ContextConsumer,Fr.ContextProvider,Fr.Element,Fr.ForwardRef,Fr.Fragment,Fr.Lazy,Fr.Memo,Fr.Portal,Fr.Profiler,Fr.StrictMode,Fr.Suspense,Fr.isAsyncMode,Fr.isConcurrentMode,Fr.isContextConsumer,Fr.isContextProvider,Fr.isElement,Fr.isForwardRef,Fr.isFragment,Fr.isLazy,Fr.isMemo,Fr.isPortal,Fr.isProfiler,Fr.isStrictMode,Fr.isSuspense,Fr.isValidElementType,Fr.typeOf,Z7((function(e){e.exports=$Te}))),HTe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$6={};$6[z6.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$6[z6.Memo]=HTe;const GTe=({users:e,onLogin:t})=>{const[r,n]=O.useState("login"),[i,a]=O.useState(""),[s,o]=O.useState(""),[c,u]=O.useState(""),[d,h]=O.useState(!1),{executeRecaptcha:m}=LTe(),[y,x]=O.useState(!1),b=async k=>{if(k.preventDefault(),u(""),console.log("[CAPTCHA] Key configured:","MISSING"),console.log("[CAPTCHA] executeRecaptcha available:",!!m),!m){console.error("[CAPTCHA] executeRecaptcha not available - Provider may not be loaded"),u(" Sistema de segurana no carregado. Recarregue a pgina.");return}x(!0);try{console.log("[CAPTCHA] Executing reCAPTCHA verification...");const M=await m("login");if(console.log("[CAPTCHA] Token received:",M?"Success ":"Failed "),console.log("[CAPTCHA] Token length:",M?.length||0),!M)throw new Error("reCAPTCHA token is empty");console.log("[AUTH] CAPTCHA passed, validating credentials...");let D=e;if(!D||D.length===0){console.log("[AUTH] Prop users is empty, loading INITIAL_USERS as fallback");const{INITIAL_USERS:N}=await Mx(async()=>{const{INITIAL_USERS:I}=await Promise.resolve().then(()=>O1);return{INITIAL_USERS:I}},void 0);D=lp(N)}let P=D.find(N=>N.username.toLowerCase()===i.toLowerCase());if(!P&&i.toLowerCase()==="admin"){console.log("[AUTH] Admin not found in cloud users, using hardcoded fallback");const{INITIAL_USERS:N}=await Mx(async()=>{const{INITIAL_USERS:I}=await Promise.resolve().then(()=>O1);return{INITIAL_USERS:I}},void 0);P=N.find(I=>I.username==="admin")}P&&P.password===s?(console.log("[AUTH] Login successful "),t(P)):(console.warn("[AUTH] Invalid credentials"),u(" Credenciais invlidas. Verifique usurio e senha."))}catch(M){console.error("[CAPTCHA] Error details:",{message:M?.message,name:M?.name,stack:M?.stack,error:M}),M?.message?.includes("Invalid site key")?u(" Erro de configurao: Chave reCAPTCHA invlida. Contate o administrador."):M?.message?.includes("network")?u(" Erro de rede. Verifique sua conexo e tente novamente."):u(` Falha na verificao de segurana: ${M?.message||"Erro desconhecido"}. Tente novamente.`)}finally{x(!1)}},E=()=>{u("")},S=k=>{E(),n(k)},F=["Admin Dev","Admin Geral","Gerente Geral","Gerente de Vendas","Supervisor de Vendas"];return g.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 bg-[url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center",children:[g.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),g.jsxs("div",{className:"bg-white relative z-10 w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transition-all duration-300",children:[g.jsxs("div",{className:"bg-slate-800 p-8 text-center border-b border-slate-700 relative",children:[r!=="login"&&g.jsx("button",{onClick:()=>S("login"),className:"absolute left-4 top-8 text-white/50 hover:text-white transition-colors",title:"Voltar",children:g.jsx(vA,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mb-4 shadow-lg shadow-blue-900/50",children:g.jsx(EA,{className:"w-7 h-7 text-white"})}),g.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Portal Corporativo"}),g.jsx("p",{className:"text-slate-400 text-sm",children:"Gesto de Rotas & Vendas"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[r==="login"&&g.jsxs("form",{onSubmit:b,className:"space-y-6 pt-2 animate-fade-in",children:[g.jsx("div",{className:"text-center pb-2",children:g.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Acesse sua conta para continuar"})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Usurio"}),g.jsxs("div",{className:"relative",children:[g.jsx(Oa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"text",value:i,onChange:k=>a(k.target.value),placeholder:"Digite seu usurio",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1",children:"Senha"}),g.jsxs("div",{className:"relative",children:[g.jsx(bA,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),g.jsx("input",{type:"password",value:s,onChange:k=>o(k.target.value),placeholder:"",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),c&&g.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm bg-red-50 p-3 rounded border border-red-100",children:[g.jsx(qi,{className:"w-4 h-4 flex-shrink-0"}),c]}),g.jsx("button",{type:"submit",disabled:y,className:"w-full bg-slate-800 hover:bg-slate-900 disabled:bg-slate-400 disabled:cursor-wait text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2 shadow-md",children:y?g.jsxs(g.Fragment,{children:[g.jsx(TA,{className:"w-4 h-4 animate-pulse"}),"Verificando segurana..."]}):g.jsxs(g.Fragment,{children:["Entrar ",g.jsx(uJ,{className:"w-4 h-4"})]})}),g.jsx("div",{className:"flex justify-center pt-2",children:g.jsx("button",{type:"button",onClick:()=>S("forgot_pass"),className:"text-xs text-blue-600 hover:text-blue-800 font-bold bg-blue-50 hover:bg-blue-100 px-6 py-2 rounded-full transition-all active:scale-95 shadow-sm border border-blue-100",children:"Esqueci a Senha"})})]}),r==="forgot_pass"&&g.jsxs("div",{className:"animate-fade-in space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"bg-orange-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-sm border border-orange-100",children:g.jsx(bA,{className:"w-10 h-10 text-orange-600"})}),g.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Recuperao de Acesso"}),g.jsx("p",{className:"text-gray-600 mt-4 leading-relaxed",children:"Solicite uma nova senha ao administrador do sistema."})]}),g.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-6",children:[g.jsxs("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[g.jsx(EA,{className:"w-4 h-4"})," Perfis Autorizados"]}),g.jsx("ul",{className:"space-y-3",children:F.map((k,M)=>g.jsxs("li",{className:"flex items-center gap-3 text-sm text-slate-700 font-medium",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),k]},M))})]}),g.jsxs("button",{onClick:()=>S("login"),className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[g.jsx(vA,{className:"w-4 h-4"})," Voltar ao Login"]})]})]})]})]})},Q7=({startDate:e,endDate:t,onRangeChange:r,label:n="Perodo"})=>{const[i,a]=O.useState(!1),[s,o]=O.useState(new Date),c=O.useRef(null);O.useEffect(()=>{const k=M=>{c.current&&!c.current.contains(M.target)&&a(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const u=k=>k.toISOString().split("T")[0],d=k=>{const M=u(k);!e||e&&t?r(M,""):M<e?r(M,e):r(e,M)},h=k=>{k.stopPropagation(),r("","")},m=()=>{const k=s.getFullYear(),M=s.getMonth(),D=new Date(k,M,1),P=new Date(k,M+1,0),N=new Date(D);N.setDate(N.getDate()-D.getDay());const I=new Date(P);I.setDate(I.getDate()+(6-P.getDay()));const R=[];let U=new Date(N);for(;U<=I;)R.push(new Date(U)),U.setDate(U.getDate()+1);return R},y=k=>{const M=u(k);return M===e||M===t},x=k=>{if(!e||!t)return!1;const M=u(k);return M>e&&M<t},b=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],E=k=>{const M=new Date(s);M.setMonth(M.getMonth()+k),o(M)},S=()=>{const k=new Date;o(k),r(u(k),u(k))},F=()=>e?t?`${e.split("-").reverse().join("/")} - ${t.split("-").reverse().join("/")}`:`${e.split("-").reverse().join("/")} - ...`:"Selecionar data";return g.jsxs("div",{className:"relative inline-block",ref:c,children:[g.jsxs("button",{type:"button",onClick:()=>a(!i),className:`flex items-center gap-2 h-8 px-3 rounded-md border transition-all duration-200 outline-none
          ${i?"bg-primary-container border-primary text-on-primary-container shadow-sm":e?"bg-secondary-container border-outline text-on-secondary-container":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[g.jsx($p,{className:`w-3.5 h-3.5 ${e?"text-primary":"text-gray-400"}`}),g.jsx("span",{className:"text-[11px] font-bold uppercase tracking-tight mr-1",children:n}),g.jsx("span",{className:"text-[11px] font-medium",children:F()}),e&&g.jsx(Fa,{className:"w-3 h-3 ml-1 hover:text-error transition-colors",onClick:h})]}),i&&g.jsxs("div",{className:"absolute top-full left-0 mt-2 z-[9999] bg-white border border-outline-variant rounded-2xl shadow-elevation-3 p-4 min-w-[280px] sm:min-w-[320px] animate-in fade-in slide-in-from-top-2 duration-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-sm font-bold text-on-surface ml-2",children:[b[s.getMonth()]," de ",s.getFullYear()]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>E(-1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Ms anterior",children:g.jsx(EJ,{className:"w-5 h-5 text-on-surface-variant"})}),g.jsx("button",{onClick:()=>E(1),className:"p-2 hover:bg-surface-container-highest rounded-full transition-colors","aria-label":"Prximo ms",children:g.jsx(Q8,{className:"w-5 h-5 text-on-surface-variant"})})]})]}),g.jsxs("div",{className:"grid grid-cols-7 gap-y-1 mb-4",children:[["D","S","T","Q","Q","S","S"].map((k,M)=>g.jsx("div",{className:"text-center text-[11px] font-bold text-on-surface-variant h-8 flex items-center justify-center",children:k},M)),m().map((k,M)=>{const D=y(k),P=x(k),N=u(k)===u(new Date),I=k.getMonth()===s.getMonth();return g.jsx("div",{className:`relative flex items-center justify-center h-10 w-full cursor-pointer
                    ${P?"bg-primary-container":""}
                    ${D&&e&&t&&u(k)===e?"rounded-l-full":""}
                    ${D&&e&&t&&u(k)===t?"rounded-r-full":""}
                    ${D&&(!e||!t||e===t)?"rounded-full":""}
                  `,onClick:()=>d(k),children:g.jsx("div",{className:`
                    w-8 h-8 flex items-center justify-center text-[12px] font-medium transition-all duration-200
                    ${D?"bg-primary text-on-primary rounded-full shadow-sm z-10":N?"border border-primary text-primary rounded-full":I?"text-on-surface":"text-gray-300"}
                    ${!D&&!P&&I?"hover:bg-surface-variant rounded-full":""}
                  `,children:k.getDate()})},M)})]}),g.jsxs("div",{className:"flex items-center justify-between border-t border-outline-variant pt-3 px-2",children:[g.jsx("button",{onClick:S,className:"text-xs font-bold text-primary hover:bg-primary/5 px-3 py-1.5 rounded-full transition-colors",children:"Hoje"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:h,className:"text-xs font-bold text-error hover:bg-error/5 px-3 py-1.5 rounded-full transition-colors",children:"Limpar"}),g.jsx("button",{onClick:()=>a(!1),className:"text-xs font-bold text-primary bg-primary/10 hover:bg-primary/20 px-4 py-1.5 rounded-full transition-colors",children:"Concluir"})]})]})]})]})},qTe=(e,t=200,r=200,n=.7)=>new Promise((i,a)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=o=>{const c=new Image;c.src=o.target?.result,c.onload=()=>{const u=document.createElement("canvas");let d=c.width,h=c.height;d>h?d>t&&(h=Math.round(h*=t/d),d=t):h>r&&(d=Math.round(d*=r/h),h=r),u.width=d,u.height=h;const m=u.getContext("2d");if(!m){a(new Error("Could not get canvas context"));return}m.drawImage(c,0,0,d,h);const y=u.toDataURL("image/jpeg",n);i(y)},c.onerror=u=>a(u)},s.onerror=o=>a(o)}),KTe=({currentUser:e,users:t,onAddUser:r,onUpdateUser:n,onDeleteUser:i,onCleanupDuplicates:a,totalClients:s})=>{const[o,c]=O.useState(null),[u,d]=O.useState(""),[h,m]=O.useState(""),[y,x]=O.useState(""),b=GX(e.role),E=b.includes("sales_external")?"sales_external":b[0],[S,F]=O.useState(E),[k,M]=O.useState("Externo"),[D,P]=O.useState("#3B82F6"),[N,I]=O.useState(void 0),R=O.useRef(null),[U,B]=O.useState("Todos"),L=()=>{c(null),d(""),m(""),x(""),F(E),M("Externo"),P("#3B82F6"),I(void 0),R.current&&(R.current.value="")},H=ce=>{if(!nE(e.role,ce.role)){alert("Voc no tem permisso para editar este usurio (Nvel Hierrquico Superior ou Igual).");return}c(ce.id),d(ce.name),m(ce.username),x(ce.password||""),F(HX(ce.role)),M(ce.salesCategory||"N/A"),P(ce.color||"#3B82F6"),I(ce.photoURL),window.scrollTo({top:0,behavior:"smooth"})},fe=async ce=>{const ie=ce.target.files?.[0];if(ie){if(!["image/jpeg","image/png"].includes(ie.type)){alert("Apenas imagens JPEG ou PNG so permitidas.");return}if(ie.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB.");return}try{const xe=await qTe(ie);I(xe)}catch(xe){console.error("Erro ao processar imagem:",xe),alert("Erro ao processar a imagem. Tente novamente.")}}},me=ce=>{if(ce.preventDefault(),!u||!h||!y)return;const ie=Pa[S]>=4,xe={id:o||Date.now().toString(),name:u,username:h,role:S,password:y,salesCategory:ie?k:"N/A",color:ie?D:void 0,photoURL:N};o?n(xe):r(xe),L()},ne=t.filter(ce=>U==="Todos"||U==="N/A"&&Pa[ce.role]<=2?!0:ce.salesCategory===U),ue=["Todos","Externo","Interno","Mercado Livre"];return g.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8 animate-fade-in pb-20",children:[g.jsxs("div",{className:`bg-white rounded-[28px] shadow-elevation-1 p-6 transition-all border ${o?"border-primary ring-2 ring-primary/20":"border-transparent"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("h2",{className:`text-xl font-normal flex items-center gap-2 ${o?"text-primary":"text-on-surface"}`,children:[o?g.jsx(rE,{className:"w-5 h-5"}):g.jsx(i4,{className:"w-5 h-5 text-primary"}),o?"Editar Usurio":"Cadastrar Novo Usurio"]}),o&&g.jsxs("button",{onClick:L,className:"text-sm text-on-surface-variant hover:text-on-surface flex items-center gap-1",children:[g.jsx(Fa,{className:"w-4 h-4"})," Cancelar Edio"]})]}),g.jsxs("form",{onSubmit:me,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-3 flex justify-center mb-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:`w-24 h-24 rounded-full overflow-hidden border-2 flex items-center justify-center bg-surface-container-highest ${N?"border-primary":"border-dashed border-outline-variant"}`,children:N?g.jsx("img",{src:N,alt:"Profile",className:"w-full h-full object-cover"}):g.jsx(Oa,{className:"w-10 h-10 text-on-surface-variant/50"})}),g.jsxs("label",{htmlFor:"photo-upload",className:"absolute bottom-0 right-0 p-1.5 bg-primary text-on-primary rounded-full shadow-md cursor-pointer hover:bg-primary/90 transition-colors",title:"Alterar foto",children:[g.jsx(yJ,{className:"w-4 h-4"}),g.jsx("input",{id:"photo-upload",type:"file",accept:"image/jpeg, image/png",onChange:fe,className:"hidden",ref:R})]}),N&&g.jsx("button",{type:"button",onClick:()=>{I(void 0),R.current&&(R.current.value="")},className:"absolute -top-1 -right-1 p-1 bg-error text-white rounded-full shadow-md hover:bg-error/90 transition-colors",title:"Remover foto",children:g.jsx(Fa,{className:"w-3 h-3"})})]}),g.jsxs("div",{className:"ml-4 flex flex-col justify-center",children:[g.jsx("span",{className:"text-sm font-medium text-on-surface",children:"Foto de Perfil"}),g.jsx("span",{className:"text-xs text-on-surface-variant",children:"JPG ou PNG at 2MB."})]})]}),g.jsxs("div",{className:"lg:col-span-2",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Nome Completo"}),g.jsx("input",{type:"text",value:u,onChange:ce=>d(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: Carlos Oliveira"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Usurio de Login"}),g.jsx("input",{type:"text",value:h,onChange:ce=>m(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Ex: vendedor_carlos"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Senha"}),g.jsx("input",{type:"text",value:y,onChange:ce=>x(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors",placeholder:"Senha de acesso"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Perfil de Acesso"}),g.jsx("select",{value:S,onChange:ce=>F(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:b.map(ce=>g.jsx("option",{value:ce,children:lU[ce]||ce},ce))}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-1 pl-1",children:"* Voc s pode criar nveis abaixo do seu."})]}),Pa[S]>=4&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Categoria de Venda"}),g.jsxs("select",{value:k,onChange:ce=>M(ce.target.value),className:"w-full bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2.5 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none appearance-none cursor-pointer",children:[g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]}),g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-xs font-medium text-on-surface-variant mb-1 ml-1",children:"Cor do Vendedor (Mapa)"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"color",value:D,onChange:ce=>P(ce.target.value),className:"h-10 w-16 p-0 border-0 rounded overflow-hidden cursor-pointer",title:"Escolher cor"}),g.jsx("input",{type:"text",value:D,onChange:ce=>P(ce.target.value),className:"flex-1 bg-surface-container-highest border-b border-outline-variant rounded-t-lg px-4 py-2 text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors uppercase",placeholder:"#000000",maxLength:7})]})]})]}),g.jsx("div",{className:"lg:col-span-3 pt-2 flex justify-end",children:g.jsxs("button",{type:"submit",disabled:!u||!h||!y,className:`px-6 py-2.5 rounded-full font-medium transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2 ${o?"bg-primary-container text-on-primary-container hover:bg-primary-container/80":"bg-primary text-on-primary hover:bg-primary/90"} disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none`,children:[o?g.jsx(Om,{className:"w-4 h-4"}):g.jsx(i4,{className:"w-4 h-4"}),o?"Salvar Alteraes":"Criar Acesso"]})})]})]}),g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 overflow-hidden",children:[g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 space-y-4",children:[g.jsxs("h2",{className:"text-xl font-normal flex items-center gap-2 text-on-surface",children:[g.jsx(Oa,{className:"w-5 h-5 text-primary"}),"Usurios Cadastrados (",ne.length,")"]}),g.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-4 flex items-start justify-between",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(qi,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Manuteno do Sistema"}),g.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total de clientes no sistema: ",g.jsx("strong",{children:s}),s>143&&g.jsx("span",{className:"text-red-600",children:"  Possveis duplicatas detectadas"})]})]})]}),g.jsxs("button",{onClick:a,className:"px-4 py-2 bg-yellow-600 text-white rounded-full text-sm font-medium hover:bg-yellow-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[g.jsx(qi,{className:"w-4 h-4"}),"Limpar Duplicatas"]})]}),g.jsx("div",{className:"flex bg-surface-container-highest p-1 rounded-full",children:ue.map(ce=>g.jsx("button",{onClick:()=>B(ce),className:`px-4 py-1.5 text-xs font-medium rounded-full transition-all ${U===ce?"bg-white text-on-surface shadow-sm":"text-on-surface-variant hover:text-on-surface"}`,children:ce},ce))})]}),g.jsx("div",{className:"hidden md:block overflow-x-auto",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-4 font-medium",children:"Nome"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Usurio"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Funo"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Categoria"}),g.jsx("th",{className:"px-6 py-4 font-medium",children:"Cor"}),g.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Aes"})]})}),g.jsxs("tbody",{className:"divide-y divide-outline-variant/30",children:[ne.map(ce=>g.jsxs("tr",{className:`hover:bg-surface-container-highest/30 transition-colors ${o===ce.id?"bg-primary-container/30":""}`,children:[g.jsx("td",{className:"px-6 py-4 font-medium text-on-surface",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30",children:ce.photoURL?g.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):g.jsx(Oa,{className:"w-4 h-4 text-primary"})}),ce.name]})}),g.jsx("td",{className:"px-6 py-4 text-on-surface-variant",children:ce.username}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Pa[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:a4(ce.role)})}),g.jsx("td",{className:"px-6 py-4",children:Pa[ce.role]>=4?g.jsxs("span",{className:"flex items-center gap-1 text-xs text-on-surface-variant",children:[g.jsx(as,{className:"w-3.5 h-3.5"}),ce.salesCategory||"N/A"]}):g.jsx("span",{className:"text-outline-variant",children:"-"})}),g.jsx("td",{className:"px-6 py-4",children:Pa[ce.role]>=4&&ce.color?g.jsx("div",{className:"flex items-center gap-2",title:ce.color,children:g.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:ce.color}})}):g.jsx("span",{className:"text-outline-variant",children:"-"})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("div",{className:"flex items-center justify-end gap-2",children:nE(e.role,ce.role)?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>H(ce),className:"p-2 text-primary hover:bg-primary-container/30 rounded-full transition-colors",title:"Editar",children:g.jsx(rE,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>i(ce.id),className:"p-2 text-error hover:bg-error-container/30 rounded-full transition-colors",title:"Remover",children:g.jsx(hf,{className:"w-4 h-4"})})]}):g.jsx("div",{className:"flex items-center gap-2 opacity-30 cursor-not-allowed",children:g.jsx("span",{className:"text-xs italic",children:"Sem permisso"})})})})]},ce.id)),ne.length===0&&g.jsx("tr",{children:g.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-on-surface-variant",children:"Nenhum usurio encontrado para este filtro."})})]})]})}),g.jsxs("div",{className:"md:hidden space-y-4 p-4",children:[ne.map(ce=>g.jsxs("div",{className:`bg-surface-container-highest/30 rounded-xl p-4 border border-outline-variant/30 ${o===ce.id?"bg-primary-container/30 border-primary/30":""}`,children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center overflow-hidden border border-outline-variant/30 flex-shrink-0",children:ce.photoURL?g.jsx("img",{src:ce.photoURL,alt:ce.name,className:"w-full h-full object-cover"}):g.jsx(Oa,{className:"w-5 h-5 text-primary"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-on-surface",children:ce.name}),g.jsxs("p",{className:"text-xs text-on-surface-variant",children:["@",ce.username]})]})]}),g.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border ${Pa[ce.role]<=2?"bg-tertiary-container text-on-tertiary-container border-tertiary-container":"bg-secondary-container text-on-secondary-container border-secondary-container"}`,children:a4(ce.role)})]}),g.jsxs("div",{className:"space-y-2 text-sm text-on-surface-variant mb-4",children:[g.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[g.jsx("span",{children:"Categoria:"}),g.jsx("span",{className:"font-medium text-on-surface",children:ce.salesCategory||"-"})]}),g.jsxs("div",{className:"flex justify-between border-b border-outline-variant/20 pb-1",children:[g.jsx("span",{children:"Senha:"}),g.jsx("span",{className:"font-mono",children:ce.password||"***"})]})]}),g.jsx("div",{className:"flex justify-end gap-2 pt-2",children:nE(e.role,ce.role)&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>H(ce),className:"px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-primary/20 transition-colors",children:[g.jsx(rE,{className:"w-3.5 h-3.5"})," Editar"]}),g.jsxs("button",{onClick:()=>i(ce.id),className:"px-3 py-1.5 bg-error/10 text-error rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-error/20 transition-colors",children:[g.jsx(hf,{className:"w-3.5 h-3.5"})," Remover"]})]})})]},ce.id)),ne.length===0&&g.jsx("p",{className:"text-center text-on-surface-variant py-8 text-sm",children:"Nenhum usurio encontrado."})]})]})]})},WTe=({categories:e,onAddCategory:t,onDeleteCategory:r})=>{const[n,i]=O.useState(""),a=s=>{s.preventDefault(),n.trim()&&(t(n.trim()),i(""))};return g.jsx("div",{className:"p-6 max-w-4xl mx-auto space-y-6 animate-fade-in pb-20",children:g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 border border-transparent",children:[g.jsxs("h2",{className:"text-xl font-normal text-on-surface mb-2 flex items-center gap-2",children:[g.jsx(aU,{className:"w-5 h-5 text-primary"}),"Gerenciar Categorias de Produtos"]}),g.jsx("p",{className:"text-sm text-on-surface-variant mb-6",children:"Defina as categorias que a Inteligncia Artificial utilizar para classificar os novos clientes importados."}),g.jsxs("form",{onSubmit:a,className:"flex gap-3 mb-8",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(B2,{className:"absolute left-3 top-3 h-5 w-5 text-on-surface-variant"}),g.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors placeholder:text-on-surface-variant/50",placeholder:"Nova Categoria (ex: Auto Eltrica)"})]}),g.jsxs("button",{type:"submit",disabled:!n.trim(),className:"bg-primary text-on-primary font-medium px-6 py-2.5 rounded-full hover:bg-primary/90 disabled:bg-on-surface/12 disabled:text-on-surface/38 disabled:cursor-not-allowed transition-all shadow-elevation-1 hover:shadow-elevation-2 flex items-center gap-2",children:[g.jsx(U2,{className:"w-4 h-4"})," Adicionar"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.map(s=>g.jsxs("div",{className:"flex items-center justify-between p-3 pl-4 bg-surface-container-highest/50 rounded-xl border border-outline-variant/50 group hover:border-primary/50 transition-colors",children:[g.jsxs("span",{className:"font-medium text-on-surface flex items-center gap-2",children:[g.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),s]}),g.jsx("button",{onClick:()=>r(s),className:"text-on-surface-variant hover:text-error p-2 rounded-full hover:bg-error-container/30 transition-all opacity-0 group-hover:opacity-100",title:"Remover Categoria",children:g.jsx(hf,{className:"w-4 h-4"})})]},s)),e.length===0&&g.jsx("div",{className:"col-span-full py-12 text-center text-on-surface-variant bg-surface-container-low rounded-[16px] border border-dashed border-outline-variant/50",children:"Nenhuma categoria definida. Adicione categorias acima."})]})]})})},YTe=({products:e,onUploadProducts:t,onClearProducts:r,onSaveProducts:n,apiKey:i})=>{const[a,s]=O.useState(!1),[o,c]=O.useState(""),[u,d]=O.useState(!1),[h,m]=O.useState({current:0,total:0}),[y,x]=O.useState([]),[b,E]=O.useState(null),[S,F]=O.useState(!1);O.useEffect(()=>{x(e),F(!1)},[e]);const k=async L=>{const H=L.target.files?.[0];if(H){s(!0);try{let fe=[];const me=H.name.toLowerCase();if(me.endsWith(".csv"))fe=await $U(H);else if(me.endsWith(".xlsx")||me.endsWith(".xls"))fe=await AB(H);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");t(fe),L.target.value=""}catch(fe){console.error("Error parsing products:",fe),alert("Erro ao processar arquivo de produtos. Verifique o formato.")}finally{s(!1)}}},M=()=>{n&&(n(y),F(!1),alert("Alteraes salvas com sucesso!"))},D=async()=>{if(!i){alert("Configure sua API Key do Google Gemini nas configuraes de Admin.");return}if(y.length===0){alert("Nenhum produto para categorizar.");return}if(window.confirm(`Deseja usar a IA para categorizar ${y.length} produtos?

Isso pode consumir crditos da API e levar alguns minutos.`)){d(!0),m({current:0,total:y.length});try{const L=await eye(y,i,(H,fe)=>{m({current:H,total:fe})});x(L),F(!0),alert(` ${L.length} produtos foram categorizados pela IA!`)}catch(L){console.error("AI Categorization failed",L),alert(`Erro ao categorizar produtos: ${L.message||"Erro desconhecido"}`)}finally{d(!1),m({current:0,total:0})}}},P=(L,H,fe)=>{const me=[...y];me[L]={...me[L],[H]:fe},x(me),F(!0)},N=L=>{let H="asc";b&&b.key===L&&b.direction==="asc"&&(H="desc"),E({key:L,direction:H})},I=L=>b?[...L].sort((H,fe)=>{let me=H[b.key],ne=fe[b.key];return b.key==="price"||b.key==="discount"?(me=Number(me||0),ne=Number(ne||0)):(me=String(me||"").toLowerCase(),ne=String(ne||"").toLowerCase()),me<ne?b.direction==="asc"?-1:1:me>ne?b.direction==="asc"?1:-1:0}):L,R=y.map((L,H)=>({...L,originalIndex:H})).filter(L=>(L.name||"").toLowerCase().includes(o.toLowerCase())||(L.sku||"").toLowerCase().includes(o.toLowerCase())||(L.brand||"").toLowerCase().includes(o.toLowerCase())||(L.category||"").toLowerCase().includes(o.toLowerCase())||(L.factoryCode||"").toLowerCase().includes(o.toLowerCase())),U=I(R),B=({column:L})=>b?.key!==L?g.jsx("div",{className:"w-4 h-4 ml-1 inline-block opacity-0 group-hover:opacity-30",children:""}):b.direction==="asc"?g.jsx(pJ,{className:"w-3 h-3 ml-1 inline-block text-primary"}):g.jsx(oJ,{className:"w-3 h-3 ml-1 inline-block text-primary"});return g.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6 animate-fade-in h-full flex flex-col pb-20",children:[g.jsxs("div",{className:"bg-white rounded-[28px] shadow-elevation-1 p-6 flex flex-col h-full overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 shrink-0",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-normal text-on-surface flex items-center gap-2",children:[g.jsx(io,{className:"w-5 h-5 text-primary"}),"Catlogo de Produtos"]}),g.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Gerencie preos, descontos e categorias."})]}),g.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[S&&g.jsxs("button",{onClick:M,className:"px-6 py-2 bg-tertiary-container text-on-tertiary-container hover:bg-tertiary-container/80 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-1 animate-pulse",children:[g.jsx(Om,{className:"w-4 h-4"})," Salvar Alteraes"]}),e.length>0&&g.jsxs("button",{onClick:D,disabled:u,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 rounded-full text-sm font-medium flex items-center gap-2 transition-all shadow-elevation-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?g.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):g.jsx(n4,{className:"w-4 h-4"}),u?"Processando...":"IA Classificar"]}),e.length>0&&g.jsxs("button",{onClick:r,className:"px-6 py-2 border border-error/50 text-error hover:bg-error-container/30 rounded-full text-sm font-medium flex items-center gap-2 transition-colors",children:[g.jsx(hf,{className:"w-4 h-4"})," Limpar"]}),g.jsxs("label",{className:`px-6 py-2 bg-primary text-on-primary rounded-full hover:bg-primary/90 text-sm font-medium flex items-center gap-2 cursor-pointer transition-all shadow-elevation-1 hover:shadow-elevation-2 ${a?"opacity-50 pointer-events-none":""}`,children:[a?g.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-on-primary border-t-transparent rounded-full"}):g.jsx(UX,{className:"w-4 h-4"}),a?"Processando...":"Importar CSV",g.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:k})]})]})]}),e.length===0?g.jsxs("div",{className:"border border-dashed border-outline-variant rounded-[16px] p-12 text-center bg-surface-container-low flex-1 flex flex-col items-center justify-center",children:[g.jsx("div",{className:"w-16 h-16 bg-surface-container-highest rounded-full flex items-center justify-center mb-4",children:g.jsx(wy,{className:"w-8 h-8 text-outline"})}),g.jsx("p",{className:"text-on-surface font-medium",children:"Nenhum produto cadastrado."}),g.jsx("p",{className:"text-sm text-on-surface-variant mt-1",children:"Carregue um arquivo CSV para comear."})]}):g.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[g.jsxs("div",{className:"mb-4 relative flex-shrink-0",children:[g.jsx(Vo,{className:"absolute left-3 top-2.5 w-4 h-4 text-on-surface-variant"}),g.jsx("input",{type:"text",value:o,onChange:L=>c(L.target.value),placeholder:"Filtrar por SKU, Marca, Departamento, Nome...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-highest border-b border-outline-variant rounded-t-lg text-on-surface focus:border-primary focus:bg-surface-container-highest outline-none transition-colors text-sm"})]}),g.jsx("div",{className:"hidden md:block flex-1 overflow-auto border border-outline-variant/30 rounded-xl shadow-inner scrollbar-thin scrollbar-thumb-outline-variant scrollbar-track-surface-container-low",children:g.jsxs("table",{className:"w-full text-sm text-left",children:[g.jsx("thead",{className:"text-xs text-on-surface-variant uppercase bg-surface-container-highest/80 sticky top-0 z-10 backdrop-blur-sm",children:g.jsxs("tr",{children:[g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-24",onClick:()=>N("sku"),children:["SKU ",g.jsx(B,{column:"sku"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("brand"),children:["Marca ",g.jsx(B,{column:"brand"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none min-w-[200px]",onClick:()=>N("name"),children:["Produto ",g.jsx(B,{column:"name"})]}),g.jsxs("th",{className:"px-4 py-3 cursor-pointer hover:bg-surface-container-highest group select-none w-40",onClick:()=>N("category"),children:["Departamento ",g.jsx(B,{column:"category"})]}),g.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-32",onClick:()=>N("price"),children:["Preo (R$) ",g.jsx(B,{column:"price"})]}),g.jsxs("th",{className:"px-4 py-3 text-right cursor-pointer hover:bg-surface-container-highest group select-none w-28",onClick:()=>N("discount"),children:["Desc. (%) ",g.jsx(B,{column:"discount"})]})]})}),g.jsx("tbody",{className:"divide-y divide-outline-variant/30 bg-surface",children:U.map(L=>g.jsxs("tr",{className:"hover:bg-surface-container-highest/30 transition-colors group",children:[g.jsx("td",{className:"px-4 py-2 font-mono text-on-surface-variant text-xs",children:L.sku}),g.jsx("td",{className:"px-4 py-2 font-bold text-primary text-xs uppercase",children:L.brand}),g.jsx("td",{className:"px-4 py-2 font-medium text-on-surface text-xs truncate max-w-xs",title:L.name,children:L.name}),g.jsx("td",{className:"px-2 py-2",children:g.jsx("input",{type:"text",className:"w-full text-xs text-on-surface border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:L.category,onChange:H=>P(L.originalIndex,"category",H.target.value),title:"Editar Categoria",placeholder:"Categoria"})}),g.jsx("td",{className:"px-2 py-2 text-right",children:g.jsx("input",{type:"number",step:"0.01",className:"w-full text-xs text-right font-bold text-primary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-primary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:L.price,onChange:H=>P(L.originalIndex,"price",parseFloat(H.target.value)||0),title:"Editar Preo",placeholder:"0,00"})}),g.jsx("td",{className:"px-2 py-2 text-right",children:g.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",className:"w-full text-xs text-right text-tertiary border-transparent bg-transparent hover:bg-surface-container-highest/50 focus:bg-surface-container-highest focus:border-tertiary focus:ring-0 border-b focus:border-b-2 rounded-t transition-all px-2 py-1 outline-none",value:L.discount||0,onChange:H=>P(L.originalIndex,"discount",parseFloat(H.target.value)||0),title:"Editar Desconto",placeholder:"0.0"})})]},`${L.sku}-${L.originalIndex}`))})]})}),g.jsxs("div",{className:"md:hidden space-y-4 pb-4",children:[U.map(L=>g.jsxs("div",{className:"bg-surface-container-highest/30 p-4 rounded-xl border border-outline-variant/30 space-y-3",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-xs font-mono text-on-surface-variant mb-1",children:L.sku}),g.jsx("h3",{className:"font-bold text-sm text-on-surface line-clamp-2 leading-tight",children:L.name}),g.jsx("p",{className:"text-xs text-primary mt-1 font-medium",children:L.brand})]}),g.jsx("div",{className:"text-right",children:g.jsx("span",{className:"text-[10px] bg-surface-container-high px-2 py-1 rounded text-on-surface-variant font-mono block mb-1",children:L.factoryCode})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-outline-variant/20",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Departamento"}),g.jsx("input",{type:"text",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-primary outline-none",value:L.category,onChange:H=>P(L.originalIndex,"category",H.target.value),title:"Editar Departamento",placeholder:"Departamento"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Desconto (%)"}),g.jsx("input",{type:"number",className:"w-full text-xs bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-1.5 focus:border-tertiary outline-none text-tertiary font-bold",value:L.discount||0,onChange:H=>P(L.originalIndex,"discount",parseFloat(H.target.value)||0),title:"Editar Desconto",placeholder:"0"})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] uppercase text-on-surface-variant font-bold",children:"Preo de Venda (R$)"}),g.jsx("input",{type:"number",className:"w-full text-sm bg-surface-container-highest/50 border-b border-outline-variant rounded-t px-2 py-2 focus:border-primary outline-none text-primary font-bold",value:L.price,onChange:H=>P(L.originalIndex,"price",parseFloat(H.target.value)||0),title:"Editar Preo",placeholder:"0,00"})]})]},`${L.sku}-${L.originalIndex}`)),U.length===0&&g.jsx("p",{className:"text-center text-on-surface-variant text-sm py-4",children:"Nenhum produto encontrado."})]}),g.jsxs("div",{className:"mt-4 text-xs text-on-surface-variant flex justify-between px-2",children:[g.jsxs("span",{children:["Total de Produtos: ",g.jsx("strong",{children:y.length})]}),g.jsxs("span",{children:["Exibindo: ",g.jsx("strong",{children:U.length})]})]})]})]}),u&&g.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-surface rounded-[24px] shadow-elevation-5 p-6 max-w-md w-full animate-scale-in",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-bold text-on-surface flex items-center gap-2",children:[g.jsx(n4,{className:"w-5 h-5 text-purple-500"}),"Categorizando com IA"]}),g.jsx("button",{onClick:()=>{window.confirm("Deseja realmente cancelar a categorizao?")&&d(!1)},className:"text-on-surface-variant hover:text-on-surface",title:"Cancelar categorizao IA",children:g.jsx(Fa,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between text-sm text-on-surface-variant",children:[g.jsx("span",{children:"Processando produtos..."}),g.jsxs("span",{className:"font-mono font-bold text-primary",children:[h.current," / ",h.total]})]}),g.jsx("div",{className:"h-2 bg-surface-container-highest rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${h.current/h.total*100}%`}})}),g.jsx("p",{className:"text-xs text-on-surface-variant",children:"A IA est analisando cada produto e atribuindo categorias automaticamente."})]})]})})]})},JTe=({isOpen:e,onClose:t,onSaveToCloud:r,onClearDatabase:n,isFirebaseConnected:i=!1})=>{const[a,s]=O.useState({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),[o,c]=O.useState("idle"),[u,d]=O.useState("");O.useEffect(()=>{if(e){const x=U7();x&&(s(x),c("success"),d("Configurao salva encontrada."))}},[e]);const h=x=>{s({...a,[x.target.name]:x.target.value}),c("idle"),d("")},m=async()=>{if(c("testing"),d("Testando conexo..."),!a.apiKey||!a.projectId){c("error"),d("Campos obrigatrios faltando.");return}try{await bN(a)?(xEe(a),c("success"),d("Conexo bem sucedida! Configurao salva."),setTimeout(()=>{window.location.reload()},1500)):(c("error"),d("Falha ao conectar. Verifique as credenciais."))}catch(x){c("error"),d("Erro: "+x.message)}},y=()=>{confirm("Remover configurao de nuvem? O app voltar a operar apenas localmente.")&&(_Ee(),s({apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}),c("idle"),d("Configurao removida."),setTimeout(()=>{window.location.reload()},1e3))};return e?g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] flex flex-col overflow-hidden transform transition-all animate-scale-in border border-white/20",children:[g.jsxs("div",{className:"bg-slate-800 p-6 flex justify-between items-center text-white shrink-0 relative",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-purple-600 rounded-2xl shadow-lg ring-4 ring-purple-500/20",children:g.jsx(yA,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-bold tracking-tight",children:"Cloud Sync"}),g.jsx("p",{className:"text-slate-400 text-[10px] font-medium uppercase tracking-wider",children:"Infraestrutura Firebase"})]})]}),g.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(Fa,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4 mb-2",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(iU,{className:"w-4 h-4 text-blue-600"})}),g.jsxs("p",{className:"text-[11px] text-blue-800 leading-relaxed font-medium",children:["Insira as credenciais do seu projeto Firebase. Voc as encontra no Console ",">"," Configuraes ",">"," Seus aplicativos."]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-3",children:g.jsx("div",{className:"space-y-3",children:["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].map(x=>g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500/30 group-focus-within:bg-purple-500 transition-colors"})}),g.jsx("input",{type:"text",name:x,placeholder:x,value:a[x],onChange:h,className:"w-full bg-gray-50 border border-gray-100 rounded-xl pl-8 pr-4 py-3 text-xs text-gray-700 placeholder:text-gray-400 focus:ring-4 focus:ring-purple-500/10 focus:border-purple-500 outline-none transition-all font-mono"})]},x))})}),u&&g.jsxs("div",{className:`text-[10px] font-bold uppercase tracking-widest p-4 rounded-xl flex items-center gap-3 border shadow-sm ${o==="error"?"bg-red-50 border-red-100 text-red-600":o==="success"?"bg-green-50 border-green-100 text-green-600":"bg-gray-50 border-gray-100 text-gray-500"}`,children:[o==="testing"&&g.jsx(zc,{className:"w-4 h-4 animate-spin"}),o==="success"&&g.jsx(ch,{className:"w-4 h-4"}),u]}),i&&r&&n&&g.jsxs("div",{className:"pt-2",children:[g.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Operaes de Dados"}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-white hover:bg-blue-50 text-blue-600 text-xs font-bold rounded-xl border border-blue-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(yA,{className:"w-4 h-4"}),"Backup"]}),g.jsxs("button",{onClick:n,className:"flex-1 py-3 bg-white hover:bg-red-50 text-red-600 text-xs font-bold rounded-xl border border-red-100 shadow-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(hf,{className:"w-4 h-4"}),"Limpar"]})]})]})]}),g.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-100 flex flex-wrap justify-end gap-3 shrink-0",children:[o==="success"&&g.jsxs("button",{onClick:y,className:"px-4 py-2 text-red-500 text-[10px] font-bold uppercase tracking-widest hover:bg-red-50 rounded-xl transition-all mr-auto flex items-center gap-2 border border-red-100",children:[g.jsx(hf,{className:"w-4 h-4"})," Desconectar"]}),g.jsx("button",{onClick:t,className:"px-5 py-2.5 text-gray-500 hover:text-gray-800 font-bold text-[10px] uppercase tracking-widest transition-colors",children:"Cancelar"}),g.jsx("button",{onClick:m,disabled:o==="testing",className:"px-6 py-2.5 bg-purple-600 hover:bg-purple-700 text-white font-bold text-[10px] uppercase tracking-widest rounded-xl shadow-lg shadow-purple-500/20 transition-all flex items-center gap-2 disabled:opacity-50 active:scale-95",children:o==="testing"?g.jsxs(g.Fragment,{children:[g.jsx(zc,{className:"w-3.5 h-3.5 animate-spin"})," Verificando..."]}):"Salvar e Conectar"})]})]})}):null},XTe=({onAccept:e,onDecline:t})=>{const[r,n]=O.useState(!1);O.useEffect(()=>{if(!localStorage.getItem("vendas_ai_cookie_consent")){const o=setTimeout(()=>n(!0),1500);return()=>clearTimeout(o)}},[]);const i=()=>{localStorage.setItem("vendas_ai_cookie_consent","accepted"),n(!1),e()},a=()=>{localStorage.setItem("vendas_ai_cookie_consent","declined"),n(!1),t()};return r?g.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[100] p-4 animate-slide-up",children:g.jsxs("div",{className:"max-w-4xl mx-auto bg-white/95 backdrop-blur-md border border-blue-100 shadow-2xl rounded-3xl p-6 flex flex-col md:flex-row items-center justify-between gap-6 ring-1 ring-blue-500/10",children:[g.jsxs("div",{className:"flex items-start gap-5",children:[g.jsx("div",{className:"bg-blue-600/10 p-4 rounded-2xl text-blue-600 shrink-0 ring-1 ring-blue-500/20",children:g.jsx(MJ,{className:"w-7 h-7"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-1.5 tracking-tight",children:"Privacidade e Performance"}),g.jsx("p",{className:"text-sm text-gray-600 leading-relaxed font-medium",children:"Utilizamos armazenamento local para garantir que seu sistema carregue instantaneamente (cache offline). Isso permite agilidade mxima e operao em reas com sinal oscilante."})]})]}),g.jsxs("div",{className:"flex items-center gap-3 shrink-0 w-full md:w-auto",children:[g.jsx("button",{onClick:a,className:"flex-1 md:flex-none px-6 py-3 text-xs font-bold text-gray-400 uppercase tracking-widest hover:text-gray-700 transition-all rounded-xl",children:"Pular"}),g.jsxs("button",{onClick:i,className:"flex-1 md:flex-none px-8 py-3 text-xs font-bold text-white bg-blue-600 hover:bg-blue-700 rounded-xl shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2 active:scale-95",children:[g.jsx(ch,{className:"w-4 h-4"}),"Ativar Cache Rpido"]})]})]})}):null},ZTe=({users:e,uploadedFiles:t,onUploadClients:r,onUploadProducts:n,onUploadPurchases:i,onDeleteFile:a,onReassignSalesperson:s,procState:o={isActive:!1,status:"completed",errorMessage:"",current:0,total:0}})=>{const[c,u]=O.useState("clients"),[d,h]=O.useState(""),[m,y]=O.useState([]),x=M=>{if(M.target.files&&M.target.files.length>0){const D=Array.from(M.target.files).map(P=>({file:P,targetUserId:d||""}));y(P=>[...P,...D]),M.target.value=""}},b=M=>{y(D=>D.filter((P,N)=>N!==M))},E=(M,D)=>{y(P=>{const N=[...P];return N[M].targetUserId=D,N})},S=async()=>{const M=m.filter(D=>D.targetUserId);if(M.length===0){alert("Por favor, atribua um vendedor para todos os arquivos antes de processar.");return}for(const D of M)await r(D.file,D.targetUserId,!0);y([])},F=M=>{const D=M.target.files?.[0];D&&(n(D),M.target.value="")},k=t.filter(M=>M.type===c);return g.jsxs("div",{className:"p-6 max-w-7xl mx-auto h-full overflow-y-auto bg-surface-container-low",children:[g.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl font-bold text-on-surface mb-1 flex items-center gap-2",children:[g.jsx(Ap,{className:"w-8 h-8 text-primary"}),"Gerenciamento de Arquivos"]}),g.jsx("p",{className:"text-on-surface-variant text-sm",children:"Gerencie as planilhas importadas e carregue novos dados."})]})}),g.jsxs("div",{className:"flex border-b border-outline-variant mb-6",children:[g.jsxs("button",{onClick:()=>u("clients"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="clients"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(qp,{className:"w-4 h-4"}),"Carteiras de Clientes",c==="clients"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),g.jsxs("button",{onClick:()=>u("products"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="products"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(io,{className:"w-4 h-4"}),"Catlogo de Produtos",c==="products"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]}),g.jsxs("button",{onClick:()=>u("purchases"),className:`pb-3 px-6 font-medium text-sm transition-colors relative flex items-center gap-2 ${c==="purchases"?"text-primary":"text-on-surface-variant hover:text-on-surface"}`,children:[g.jsx(Ey,{className:"w-4 h-4"}),"Atualizar Compras (Razo Social)",c==="purchases"&&g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-primary rounded-t-full"})]})]}),o?.isActive&&g.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center gap-3 shadow-elevation-1 border ${o.status==="error"?"bg-error-container text-on-error-container border-error":"bg-primary-container text-on-primary-container border-primary"}`,children:[o.status==="processing"||o.status==="reading"?g.jsx(zc,{className:"w-5 h-5 animate-spin"}):o.status==="completed"?g.jsx(nf,{className:"w-5 h-5"}):g.jsx(qi,{className:"w-5 h-5"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm",children:o.status==="reading"?"Lendo arquivo...":o.status==="processing"?"Processando dados...":o.status==="completed"?"Importao Concluda!":"Erro na Importao"}),o.errorMessage&&g.jsx("p",{className:"text-xs mt-1 opacity-80",children:o.errorMessage})]})]}),g.jsxs("div",{className:"grid lg:grid-cols-12 gap-6",children:[g.jsx("div",{className:"lg:col-span-4",children:g.jsxs("div",{className:"bg-surface rounded-[20px] shadow-elevation-1 p-6 sticky top-6 border border-outline-variant/30",children:[g.jsxs("h3",{className:"font-bold text-lg text-on-surface mb-4 flex items-center gap-2",children:[g.jsx(QTe,{className:"w-5 h-5 text-primary"}),"Nova Importao"]}),c==="clients"?g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Responsvel"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:M=>h(M.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(M=>Vd(M.role)).map(M=>g.jsx("option",{value:M.id,children:M.name},M.id))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:g.jsx(H6,{className:"w-4 h-4"})})]})]}),m.length>0&&g.jsxs("div",{className:"bg-surface-container-high rounded-xl p-4 border border-primary/20 space-y-3",children:[g.jsxs("h4",{className:"text-sm font-bold text-primary flex items-center justify-between",children:[g.jsxs("span",{children:["Arquivos na Fila (",m.length,")"]}),g.jsx("button",{onClick:()=>y([]),className:"text-xs font-normal text-on-surface-variant hover:text-error",children:"Limpar tudo"})]}),g.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:m.map((M,D)=>g.jsxs("div",{className:"bg-surface p-2 rounded-lg border border-outline-variant text-xs flex items-center gap-2",children:[g.jsx(wy,{className:"w-4 h-4 text-primary shrink-0"}),g.jsx("span",{className:"truncate flex-1 font-medium",title:M.file.name,children:M.file.name}),g.jsxs("select",{value:M.targetUserId,onChange:P=>E(D,P.target.value),className:`bg-transparent border rounded px-1 py-0.5 outline-none w-24 ${M.targetUserId?"border-outline-variant text-on-surface":"border-error text-error"}`,children:[g.jsx("option",{value:"",disabled:!0,children:"Vendedor..."}),e.filter(P=>Vd(P.role)).map(P=>g.jsx("option",{value:P.id,children:P.name},P.id))]}),g.jsx("button",{onClick:()=>b(D),className:"text-on-surface-variant hover:text-error p-1",children:g.jsx(Fa,{className:"w-3 h-3"})})]},D))}),g.jsx("button",{onClick:S,disabled:o?.isActive||m.some(M=>!M.targetUserId),className:"w-full py-2 bg-primary text-on-primary rounded-lg text-sm font-bold shadow-sm hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:o?.isActive?g.jsxs(g.Fragment,{children:[g.jsx(zc,{className:"w-3 h-3 animate-spin"}),"Processando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(nf,{className:"w-3 h-3"}),"Processar ",m.length," Arquivos"]})})]}),g.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-primary/50 bg-primary-container/20 hover:bg-primary-container/40 hover:border-primary":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-primary/10 text-primary group-hover:bg-primary group-hover:text-on-primary":"bg-surface-variant text-on-surface-variant"}`,children:g.jsx(Ap,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Clique para selecionar arquivos (Multi-upload)"})]}),g.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",multiple:!0,onChange:x,disabled:o?.isActive&&o.status==="processing"})]})]}):c==="purchases"?g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl text-xs text-blue-800 mb-2 flex gap-3 border border-blue-100 italic",children:[g.jsx(qi,{className:"w-5 h-5 shrink-0 text-blue-500"}),g.jsx("p",{children:"Este upload identifica o cliente pela **Razo Social** e substitui todo o histrico de compras dele pelos produtos deste arquivo."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-bold text-on-surface-variant uppercase tracking-wider mb-2",children:"Vendedor Destino"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{className:"w-full bg-surface-container border border-outline rounded-lg p-3 pr-10 text-sm text-on-surface focus:ring-2 focus:ring-primary focus:border-primary outline-none transition-all appearance-none cursor-pointer",value:d,onChange:M=>h(M.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"Selecione um vendedor..."}),e.filter(M=>Vd(M.role)).map(M=>g.jsx("option",{value:M.id,children:M.name},M.id))]}),g.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-on-surface-variant",children:g.jsx(H6,{className:"w-4 h-4"})})]})]}),g.jsxs("label",{className:`group flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden ${d?"border-blue-300 bg-blue-50/30 hover:bg-blue-50/50 hover:border-blue-500":"border-outline-variant bg-surface-container/50 opacity-60 cursor-not-allowed"}`,children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[g.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-3 transition-colors ${d?"bg-blue-100 text-blue-600 group-hover:bg-blue-600 group-hover:text-white":"bg-surface-variant text-on-surface-variant"}`,children:g.jsx(Ap,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface text-center px-4",children:"Carregar Planilha de Compras"})]}),g.jsx("input",{type:"file",accept:".csv",className:"hidden",onChange:M=>{const D=M.target.files?.[0];D&&d&&(i(D,d),M.target.value="")},disabled:o?.isActive&&o.status==="processing"})]}),g.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-on-surface-variant italic",children:[g.jsx(Ey,{className:"w-3 h-3"}),g.jsx("span",{children:"Colunas Esperadas: Razo Social, SKU, Nome do Produto"})]})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-secondary-container p-4 rounded-xl text-xs text-on-secondary-container mb-4 flex gap-3",children:[g.jsx(io,{className:"w-5 h-5 shrink-0"}),g.jsx("p",{children:"Importe o catlogo completo de produtos para atualizar preos e estoque."})]}),g.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-tertiary/50 bg-tertiary-container/20 rounded-xl cursor-pointer hover:bg-tertiary-container/40 hover:border-tertiary transition-all",children:[g.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-tertiary/10 text-tertiary flex items-center justify-center mb-3",children:g.jsx(io,{className:"w-6 h-6"})}),g.jsx("p",{className:"text-sm font-medium text-on-surface",children:"Carregar Catlogo"})]}),g.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",className:"hidden",onChange:F,disabled:o?.isActive&&o.status==="processing"})]})]})]})}),g.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[g.jsx("div",{className:"flex items-center justify-between mb-2",children:g.jsxs("h3",{className:"font-bold text-on-surface flex items-center gap-2",children:[g.jsx(wy,{className:"w-5 h-5 text-primary"}),"Arquivos Carregados",g.jsx("span",{className:"bg-primary-container text-on-primary-container text-xs px-2 py-0.5 rounded-full font-bold ml-1",children:k.length})]})}),k.length===0?g.jsxs("div",{className:"bg-surface rounded-xl border-2 border-dashed border-outline-variant p-12 text-center flex flex-col items-center",children:[g.jsx("div",{className:"w-20 h-20 bg-surface-container-high rounded-full flex items-center justify-center mb-4",children:g.jsx(Ey,{className:"w-10 h-10 text-outline"})}),g.jsx("h4",{className:"text-lg font-medium text-on-surface mb-1",children:"Nenhum arquivo encontrado"}),g.jsx("p",{className:"text-on-surface-variant text-sm max-w-md",children:"Utilize a rea ao lado para importar sua primeira planilha de dados."})]}):g.jsx("div",{className:"space-y-3",children:k.map(M=>g.jsxs("div",{className:"bg-surface rounded-xl p-4 shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-shadow duration-200 flex flex-col sm:flex-row sm:items-center gap-4 group",children:[g.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[g.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${M.status==="error"?"bg-error-container text-error":M.status==="processing"?"bg-surface-container-high text-primary animate-pulse":"bg-surface-container-high text-primary"}`,children:M.status==="processing"?g.jsx(zc,{className:"w-5 h-5 animate-spin"}):M.status==="error"?g.jsx(qi,{className:"w-5 h-5"}):g.jsx(wy,{className:"w-5 h-5"})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("h4",{className:"font-semibold text-on-surface text-sm truncate pr-2",title:M.fileName,children:M.fileName}),g.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-xs text-on-surface-variant",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx($p,{className:"w-3 h-3"}),new Date(M.uploadDate).toLocaleDateString(),g.jsx("span",{className:"opacity-60 ml-1",children:new Date(M.uploadDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(nf,{className:"w-3 h-3"}),M.itemCount," registros"]})]}),M.status==="error"&&g.jsx("p",{className:"text-xs text-error mt-1 font-medium bg-error-container/30 px-2 py-0.5 rounded inline-block",children:M.errorMessage||"Erro desconhecido"})]})]}),c==="clients"&&g.jsxs("div",{className:"flex items-center gap-3 sm:border-l sm:border-r border-outline-variant/30 sm:px-4 sm:w-56 shrink-0",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-container-high flex items-center justify-center text-xs font-bold text-primary shrink-0",children:e.find(P=>P.id===M.salespersonId)?.name?.charAt(0)||"?"}),g.jsxs("div",{className:"min-w-0 flex-1",children:[g.jsxs("select",{value:M.salespersonId,onChange:D=>s?.(M.id,D.target.value),className:"w-full text-xs font-medium bg-transparent border border-outline-variant/50 rounded-md px-2 py-1 text-on-surface hover:bg-surface-container-highest focus:ring-2 focus:ring-primary focus:border-primary outline-none cursor-pointer",disabled:M.status==="processing",children:[g.jsx("option",{value:"",className:"bg-surface text-on-surface",children:"None"}),e.filter(D=>Vd(D.role)).map(D=>g.jsx("option",{value:D.id,className:"bg-surface text-on-surface",children:D.name},D.id))]}),g.jsx("p",{className:"text-[10px] text-on-surface-variant mt-0.5",children:"Responsvel"})]})]}),g.jsx("div",{className:"flex items-center justify-end gap-2 sm:w-auto w-full border-t sm:border-t-0 border-outline-variant/30 pt-3 sm:pt-0 mt-1 sm:mt-0",children:M.status==="processing"?g.jsx("span",{className:"text-xs font-medium text-primary bg-primary-container px-3 py-1 rounded-full",children:"Processando"}):g.jsxs("button",{onClick:()=>a(M.id),className:"flex items-center gap-2 text-on-surface-variant hover:text-error hover:bg-error-container/20 px-3 py-2 rounded-lg transition-colors text-xs font-medium w-full sm:w-auto justify-center",title:"Excluir arquivo e dados associados",children:[g.jsx(hf,{className:"w-4 h-4"}),g.jsx("span",{className:"sm:hidden",children:"Excluir Arquivo"})]})})]},M.id))})]})]})]})};function H6(e){return g.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),g.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}function QTe(e){return g.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"}),g.jsx("circle",{cx:"12",cy:"10",r:"5"}),g.jsx("path",{d:"M12 15V3"}),g.jsx("path",{d:"m9 6 3-3 3 3"})]})}const eAe=({isOpen:e,onClose:t,onConfirm:r,suggestedKey:n})=>{const[i,a]=Ir.useState(!1),[s,o]=Ir.useState(""),[c,u]=Ir.useState(!1);if(!e)return null;const d=()=>{navigator.clipboard.writeText(n)},h=m=>m?m.length<=10?"":`${m.slice(0,6)}${m.slice(-4)}`:"";return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[g.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(Fa,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:g.jsx(Jd,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"Ativar Mapa"}),g.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure seu acesso ao Google Maps"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(qi,{className:"w-5 h-5 text-blue-600"})}),g.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:i?"Insira sua prpria Chave de API do Google Maps abaixo para ativar as funcionalidades.":"Detectamos que seu mapa est aguardando ativao. Use a chave padro do sistema."})]}),i?g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Configurao Manual"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"text",value:s,onChange:m=>o(m.target.value),placeholder:"Comea com AIza...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-4 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),g.jsx(gX,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"})]})]}):g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave Recomendada"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("div",{className:"flex-1 bg-gray-50 border border-gray-100 rounded-xl px-4 py-3.5 font-mono text-sm text-gray-700 flex items-center justify-between shadow-inner",children:[g.jsx("span",{className:"truncate",children:c?n:h(n)}),g.jsx("button",{onClick:()=>u(!c),className:"text-gray-400 hover:text-gray-600 p-1 transition-colors",title:c?"Esconder":"Mostrar",children:c?g.jsx(rU,{className:"w-4 h-4"}):g.jsx(nU,{className:"w-4 h-4"})})]}),g.jsx("button",{onClick:d,className:"bg-gray-50 hover:bg-gray-100 text-blue-600 p-3.5 rounded-xl transition-all border border-gray-100 shadow-sm active:scale-95",title:"Copiar chave",children:g.jsx(FJ,{className:"w-5 h-5"})})]})]}),g.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[g.jsxs("button",{onClick:()=>r(i?s:n),disabled:i&&!s.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[g.jsx(ch,{className:"w-5 h-5"}),i?"Ativar Manualmente":"Carregar Mapa Agora"]}),g.jsx("button",{onClick:()=>{a(!i),o(""),u(!1)},className:"w-full py-2 text-xs text-gray-400 hover:text-blue-600 font-bold uppercase tracking-widest transition-all",children:i?"Voltar para recomendada":"Usar outra chave (Manual)"})]})]})]})})},tAe=({isOpen:e,onClose:t,onConfirm:r})=>{const[n,i]=Ir.useState(""),[a,s]=Ir.useState(!1);return Ir.useEffect(()=>{if(e){const o=localStorage.getItem("cnpja_api_key")||"";i(o)}},[e]),e?g.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsxs("div",{className:"bg-blue-600 p-8 text-center relative",children:[g.jsx("button",{onClick:t,className:"absolute right-6 top-6 text-white/50 hover:text-white transition-colors",title:"Fechar",children:g.jsx(Fa,{className:"w-6 h-6"})}),g.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mb-4 backdrop-blur-md ring-4 ring-blue-500/30 shadow-inner",children:g.jsx(Jd,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:"API Comercial CNPJa"}),g.jsx("p",{className:"text-blue-100 text-sm mt-2 font-medium",children:"Configure sua chave de consulta comercial"})]}),g.jsxs("div",{className:"p-8 space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-4 flex items-start gap-4",children:[g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm shrink-0",children:g.jsx(qi,{className:"w-5 h-5 text-blue-600"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm text-blue-800 leading-relaxed font-medium",children:"A chave atual expirou ou est invlida. Insira sua nova Chave de API Comercial para restaurar a busca e atualizao de dados."}),g.jsxs("a",{href:"https://cnpja.com/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 font-bold flex items-center gap-1 underline",children:["Obter nova chave no site da CNPJa ",g.jsx(_A,{className:"w-3 h-3"})]})]})]}),g.jsxs("div",{className:"animate-fade-in",children:[g.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-3 ml-1",children:"Chave de API"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:a?"text":"password",value:n,onChange:o=>i(o.target.value),placeholder:"Insira sua chave aqui...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl pl-12 pr-12 py-4 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",autoFocus:!0}),g.jsx(Jd,{className:"absolute left-4 top-4.5 w-4 h-4 text-gray-400"}),g.jsx("button",{onClick:()=>s(!a),className:"absolute right-4 top-4.5 text-gray-400 hover:text-gray-600 p-1 transition-colors",title:a?"Esconder":"Mostrar",children:a?g.jsx(rU,{className:"w-4 h-4"}):g.jsx(nU,{className:"w-4 h-4"})})]})]}),g.jsxs("div",{className:"pt-2 flex flex-col gap-3",children:[g.jsxs("button",{onClick:()=>r(n),disabled:!n.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-200 disabled:text-gray-500 text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20 active:scale-[0.98]",children:[g.jsx(ch,{className:"w-5 h-5"}),"Salvar Configurao"]}),g.jsx("p",{className:"text-[10px] text-center text-gray-400",children:"A chave ser salva apenas neste navegador."})]})]})]})}):null},rAe=({progress:e,message:t})=>{const[r,n]=O.useState(0);O.useEffect(()=>{if(r<e){const a=setTimeout(()=>n(s=>Math.min(s+1,e)),20);return()=>clearTimeout(a)}},[e,r]);const i=()=>e<30?g.jsx(EA,{className:"w-8 h-8 text-blue-400 animate-pulse"}):e<60?g.jsx(xA,{className:"w-8 h-8 text-purple-400 animate-bounce"}):e<90?g.jsx(io,{className:"w-8 h-8 text-orange-400 animate-pulse"}):g.jsx(eU,{className:"w-8 h-8 text-green-400"});return g.jsxs("div",{className:"fixed inset-0 z-[999] bg-slate-900 flex flex-col items-center justify-center p-6 text-white font-sans",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop')] opacity-10 bg-cover bg-center"}),g.jsxs("div",{className:"relative z-10 w-full max-w-sm text-center",children:[g.jsx("div",{className:"mb-8 flex justify-center",children:g.jsx("div",{className:"p-4 bg-white/5 rounded-3xl backdrop-blur-md border border-white/10 shadow-2xl",children:i()})}),g.jsx("h2",{className:"text-2xl font-bold mb-2 tracking-tight",children:"Preparando seu Ambiente"}),g.jsx("p",{className:"text-slate-400 text-sm mb-10 h-5",children:t}),g.jsxs("div",{className:"relative pt-1",children:[g.jsxs("div",{className:"flex mb-4 items-center justify-between",children:[g.jsx("div",{children:g.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-200 bg-blue-900/30 border border-blue-500/20",children:r===100?"Concludo":"Sincronizando"})}),g.jsx("div",{className:"text-right",children:g.jsxs("span",{className:"text-sm font-bold inline-block text-blue-400",children:[r,"%"]})})]}),g.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded-full bg-slate-800 border border-white/5 shadow-inner",children:g.jsx("div",{style:{width:`${r}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gradient-to-r from-blue-600 to-purple-600 transition-all duration-300 ease-out"})}),g.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 uppercase font-bold tracking-widest px-1",children:[g.jsx("span",{children:"Incio"}),g.jsx("span",{children:"Autenticado"}),g.jsx("span",{children:"Pronto"})]})]})]}),g.jsx("div",{className:"absolute bottom-10 text-slate-600 text-[10px] uppercase tracking-[0.2em] font-medium",children:"Sincronizando com gen-lang-client-0586123917"})]})};function e$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=e$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function hr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=e$(e))&&(n&&(n+=" "),n+=t);return n}var nAe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AN(e){if(typeof e!="string")return!1;var t=nAe;return t.includes(e)}var iAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aAe=new Set(iAe);function t$(e){return typeof e!="string"?!1:aAe.has(e)}function r$(e){return typeof e=="string"&&e.startsWith("data-")}function ja(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t$(r)||r$(r))&&(t[r]=e[r]);return t}function Tf(e){if(e==null)return null;if(O.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ja(t)}return typeof e=="object"&&!Array.isArray(e)?ja(e):null}function ma(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t$(r)||r$(r)||AN(r))&&(t[r]=e[r]);return t}function sAe(e){return e==null?null:O.isValidElement(e)?ma(e.props):typeof e=="object"&&!Array.isArray(e)?ma(e):null}var oAe=["children","width","height","viewBox","className","style","title","desc"];function jS(){return jS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jS.apply(null,arguments)}function lAe(e,t){if(e==null)return{};var r,n,i=cAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SN=O.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=lAe(e,oAe),h=a||{width:n,height:i,x:0,y:0},m=hr("recharts-surface",s);return O.createElement("svg",jS({},ma(d),{className:m,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),O.createElement("title",null,c),O.createElement("desc",null,u),r)}),uAe=["children","className"];function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},US.apply(null,arguments)}function fAe(e,t){if(e==null)return{};var r,n,i=dAe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nn=O.forwardRef((e,t)=>{var{children:r,className:n}=e,i=fAe(e,uAe),a=hr("recharts-layer",n);return O.createElement("g",US({className:a},ma(i),{ref:t}),r)}),n$=O.createContext(null),hAe=()=>O.useContext(n$);function Vr(e){return function(){return e}}const i$=Math.cos,Fx=Math.sin,vo=Math.sqrt,Lx=Math.PI,u_=2*Lx,BS=Math.PI,VS=2*BS,Ku=1e-6,pAe=VS-Ku;function a$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mAe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return a$;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class gAe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?a$:mAe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,h=o-r,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Ku)if(!(Math.abs(h*c-u*d)>Ku)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-s,x=i-o,b=c*c+u*u,E=y*y+x*x,S=Math.sqrt(b),F=Math.sqrt(m),k=a*Math.tan((BS-Math.acos((b+m-E)/(2*S*F)))/2),M=k/F,D=k/S;Math.abs(M-1)>Ku&&this._append`L${t+M*d},${r+M*h}`,this._append`A${a},${a},0,0,${+(h*y>d*x)},${this._x1=t+D*c},${this._y1=r+D*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,h=1^s,m=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ku||Math.abs(this._y1-d)>Ku)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%VS+VS),m>pAe?this._append`A${n},${n},0,1,${h},${t-o},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:m>Ku&&this._append`A${n},${n},0,${+(m>=BS)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function CN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new gAe(t)}function NN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s$(e){this._context=e}s$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function f_(e){return new s$(e)}function o$(e){return e[0]}function l$(e){return e[1]}function c$(e,t){var r=Vr(!0),n=null,i=f_,a=null,s=CN(o);e=typeof e=="function"?e:e===void 0?o$:Vr(e),t=typeof t=="function"?t:t===void 0?l$:Vr(t);function o(c){var u,d=(c=NN(c)).length,h,m=!1,y;for(n==null&&(a=i(y=s())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(h,u,c),+t(h,u,c));if(y)return a=null,y+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Vr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Vr(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Vr(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function iy(e,t,r){var n=null,i=Vr(!0),a=null,s=f_,o=null,c=CN(u);e=typeof e=="function"?e:e===void 0?o$:Vr(+e),t=typeof t=="function"?t:Vr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?l$:Vr(+r);function u(h){var m,y,x,b=(h=NN(h)).length,E,S=!1,F,k=new Array(b),M=new Array(b);for(a==null&&(o=s(F=c())),m=0;m<=b;++m){if(!(m<b&&i(E=h[m],m,h))===S)if(S=!S)y=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=y;--x)o.point(k[x],M[x]);o.lineEnd(),o.areaEnd()}S&&(k[m]=+e(E,m,h),M[m]=+t(E,m,h),o.point(n?+n(E,m,h):k[m],r?+r(E,m,h):M[m]))}if(F)return o=null,F+""||null}function d(){return c$().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Vr(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Vr(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Vr(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Vr(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Vr(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Vr(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Vr(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),u):a},u}class u${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function vAe(e){return new u$(e,!0)}function yAe(e){return new u$(e,!1)}const IN={draw(e,t){const r=vo(t/Lx);e.moveTo(r,0),e.arc(0,0,r,0,u_)}},xAe={draw(e,t){const r=vo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},f$=vo(1/3),_Ae=f$*2,bAe={draw(e,t){const r=vo(t/_Ae),n=r*f$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},wAe={draw(e,t){const r=vo(t),n=-r/2;e.rect(n,n,r,r)}},EAe=.8908130915292852,d$=Fx(Lx/10)/Fx(7*Lx/10),TAe=Fx(u_/10)*d$,AAe=-i$(u_/10)*d$,SAe={draw(e,t){const r=vo(t*EAe),n=TAe*r,i=AAe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=u_*a/5,o=i$(s),c=Fx(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},DE=vo(3),CAe={draw(e,t){const r=-vo(t/(DE*3));e.moveTo(0,r*2),e.lineTo(-DE*r,-r),e.lineTo(DE*r,-r),e.closePath()}},Ts=-.5,As=vo(3)/2,zS=1/vo(12),NAe=(zS/2+1)*3,IAe={draw(e,t){const r=vo(t/NAe),n=r/2,i=r*zS,a=n,s=r*zS+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(Ts*n-As*i,As*n+Ts*i),e.lineTo(Ts*a-As*s,As*a+Ts*s),e.lineTo(Ts*o-As*c,As*o+Ts*c),e.lineTo(Ts*n+As*i,Ts*i-As*n),e.lineTo(Ts*a+As*s,Ts*s-As*a),e.lineTo(Ts*o+As*c,Ts*c-As*o),e.closePath()}};function kAe(e,t){let r=null,n=CN(i);e=typeof e=="function"?e:Vr(e||IN),t=typeof t=="function"?t:Vr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Vr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Vr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function jx(){}function Ux(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function h$(e){this._context=e}h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ux(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ux(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PAe(e){return new h$(e)}function p$(e){this._context=e}p$.prototype={areaStart:jx,areaEnd:jx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ux(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RAe(e){return new p$(e)}function m$(e){this._context=e}m$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ux(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OAe(e){return new m$(e)}function g$(e){this._context=e}g$.prototype={areaStart:jx,areaEnd:jx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function MAe(e){return new g$(e)}function G6(e){return e<0?-1:1}function q6(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(G6(a)+G6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function K6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function FE(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function Bx(e){this._context=e}Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FE(this,this._t0,K6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,FE(this,K6(this,r=q6(this,e,t)),r);break;default:FE(this,this._t0,r=q6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function v$(e){this._context=new y$(e)}(v$.prototype=Object.create(Bx.prototype)).point=function(e,t){Bx.prototype.point.call(this,t,e)};function y$(e){this._context=e}y$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function DAe(e){return new Bx(e)}function FAe(e){return new v$(e)}function x$(e){this._context=e}x$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=W6(e),i=W6(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function W6(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function LAe(e){return new x$(e)}function d_(e,t){this._context=e,this._t=t}d_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jAe(e){return new d_(e,.5)}function UAe(e){return new d_(e,0)}function BAe(e){return new d_(e,1)}function Af(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function $S(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function VAe(e,t){return e[t]}function zAe(e){const t=[];return t.key=e,t}function $Ae(){var e=Vr([]),t=$S,r=Af,n=VAe;function i(a){var s=Array.from(e.apply(this,arguments),zAe),o,c=s.length,u=-1,d;for(const h of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(h,s[o].key,u,a)]).data=h;for(o=0,d=NN(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Vr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Vr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?$S:typeof a=="function"?a:Vr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Af,i):r},i}function HAe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Af(e,t)}}function GAe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Af(e,t)}}function qAe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],h=d[n][1]||0,m=d[n-1][1]||0,y=(h-m)/2,x=0;x<o;++x){var b=e[t[x]],E=b[n][1]||0,S=b[n-1][1]||0;y+=E-S}c+=h,u+=y*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Af(e,t)}}var LE={},jE={},Y6;function KAe(){return Y6||(Y6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(jE)),jE}var UE={},J6;function _$(){return J6||(J6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(UE)),UE}var BE={},X6;function kN(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(BE)),BE}var VE={},zE={},Z6;function WAe(){return Z6||(Z6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(zE)),zE}var Q6;function PN(){return Q6||(Q6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WAe(),r=kN();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];u?h==="\\"&&o+1<s?(o++,c+=i[o]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(c),c=""):c+=h:h==="["?(d=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,o++}return c&&a.push(c),a}e.toPath=n})(VE)),VE}var eF;function RN(){return eF||(eF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KAe(),r=_$(),n=kN(),i=PN();function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=a})(LE)),LE}var $E,tF;function YAe(){return tF||(tF=1,$E=RN().get),$E}var JAe=YAe();const Sf=js(JAe);var XAe=4;function Vc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:XAe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function pn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Vc(o)+a:i+a},"")}var hi=e=>e===0?0:e>0?1:-1,po=e=>typeof e=="number"&&e!=+e,Cf=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,it=e=>(typeof e=="number"||e instanceof Number)&&!po(e),Yo=e=>it(e)||typeof e=="string",ZAe=0,ym=e=>{var t=++ZAe;return"".concat(e||"").concat(t)},Wi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!it(t)&&typeof t!="string")return n;var a;if(Cf(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return po(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},b$=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Yr(e,t,r){return it(e)&&it(t)?Vc(e+r*(t-e)):t}function w$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Sf(n,t))===r)}var _n=e=>e===null||typeof e>"u",Wm=e=>_n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Ma(e){return e!=null}function Gf(){}var QAe=["type","size","sizeType"];function HS(){return HS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HS.apply(null,arguments)}function rF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(r),!0).forEach(function(n){eSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eSe(e,t,r){return(t=tSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tSe(e){var t=rSe(e,"string");return typeof t=="symbol"?t:t+""}function rSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nSe(e,t){if(e==null)return{};var r,n,i=iSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var E$={symbolCircle:IN,symbolCross:xAe,symbolDiamond:bAe,symbolSquare:wAe,symbolStar:SAe,symbolTriangle:CAe,symbolWye:IAe},aSe=Math.PI/180,sSe=e=>{var t="symbol".concat(Wm(e));return E$[t]||IN},oSe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*aSe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lSe=(e,t)=>{E$["symbol".concat(Wm(e))]=t},ON=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=nSe(e,QAe),a=nF(nF({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var m=sSe(s),y=kAe().type(m).size(oSe(r,n,s)),x=y();if(x!==null)return x},{className:c,cx:u,cy:d}=a,h=ma(a);return it(u)&&it(d)&&it(r)?O.createElement("path",HS({},h,{className:hr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};ON.registerSymbol=lSe;var T$=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,MN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(O.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{AN(i)&&(n[i]=(a=>r[i](r,a)))}),n},cSe=(e,t,r)=>n=>(e(t,r,n),null),Ym=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];AN(i)&&typeof a=="function"&&(n||(n={}),n[i]=cSe(a,t,r))}),n};function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){fSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fSe(e,t,r){return(t=dSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dSe(e){var t=hSe(e,"string");return typeof t=="symbol"?t:t+""}function hSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qn(e,t){var r=uSe({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vx.apply(null,arguments)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){mSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mSe(e,t,r){return(t=gSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gSe(e){var t=vSe(e,"string");return typeof t=="symbol"?t:t+""}function vSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ns=32,ySe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function xSe(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Ns/2,a=Ns/6,s=Ns/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return O.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ns,y2:i,className:"recharts-legend-icon"})}if(c==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ns,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return O.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ns/8,"h").concat(Ns,"v").concat(Ns*3/4,"h").concat(-Ns,"z"),className:"recharts-legend-icon"});if(O.isValidElement(t.legendIcon)){var d=pSe({},t);return delete d.legendIcon,O.cloneElement(t.legendIcon,d)}return O.createElement(ON,{fill:o,cx:i,cy:i,size:Ns,sizeType:"diameter",type:c})}function _Se(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ns,height:Ns},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,h)=>{var m=d.formatter||i,y=hr({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?a:d.color,b=m?m(d.value,d,h):d.value;return O.createElement("li",Vx({className:y,style:c,key:"legend-item-".concat(h)},Ym(e,d,h)),O.createElement(SN,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},O.createElement(xSe,{data:d,iconType:s,inactiveColor:a})),O.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}var bSe=e=>{var t=qn(e,ySe),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:a},O.createElement(_Se,Vx({},t,{payload:r})))},HE={},GE={},sF;function wSe(){return sF||(sF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(GE)),GE}var qE={},oF;function ESe(){return oF||(oF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(qE)),qE}var KE={},lF;function A$(){return lF||(lF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(KE)),KE}var WE={},YE={},JE={},cF;function TSe(){return cF||(cF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(JE)),JE}var uF;function DN(){return uF||(uF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TSe();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(YE)),YE}var XE={},fF;function ASe(){return fF||(fF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(XE)),XE}var dF;function SSe(){return dF||(dF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DN(),r=ASe();function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(WE)),WE}var ZE={},QE={},hF;function CSe(){return hF||(hF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RN();function r(n){return function(i){return t.get(i,n)}}e.property=r})(QE)),QE}var eT={},tT={},rT={},nT={},pF;function S$(){return pF||(pF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(nT)),nT}var iT={},mF;function C$(){return mF||(mF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(iT)),iT}var aT={},gF;function N$(){return gF||(gF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(aT)),aT}var vF;function NSe(){return vF||(vF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S$(),r=C$(),n=N$();function i(d,h,m){return typeof m!="function"?i(d,h,()=>{}):a(d,h,function y(x,b,E,S,F,k){const M=m(x,b,E,S,F,k);return M!==void 0?!!M:a(x,b,y,k)},new Map)}function a(d,h,m,y){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,m,y);case"function":return Object.keys(h).length>0?a(d,{...h},m,y):n.isEqualsSameValueZero(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:n.isEqualsSameValueZero(d,h)}}function s(d,h,m,y){if(h==null)return!0;if(Array.isArray(h))return c(d,h,m,y);if(h instanceof Map)return o(d,h,m,y);if(h instanceof Set)return u(d,h,m,y);const x=Object.keys(h);if(d==null||r.isPrimitive(d))return x.length===0;if(x.length===0)return!0;if(y?.has(h))return y.get(h)===d;y?.set(h,d);try{for(let b=0;b<x.length;b++){const E=x[b];if(!r.isPrimitive(d)&&!(E in d)||h[E]===void 0&&d[E]!==void 0||h[E]===null&&d[E]!==null||!m(d[E],h[E],E,d,h,y))return!1}return!0}finally{y?.delete(h)}}function o(d,h,m,y){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,b]of h.entries()){const E=d.get(x);if(m(E,b,x,d,h,y)===!1)return!1}return!0}function c(d,h,m,y){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let b=0;b<h.length;b++){const E=h[b];let S=!1;for(let F=0;F<d.length;F++){if(x.has(F))continue;const k=d[F];let M=!1;if(m(k,E,b,d,h,y)&&(M=!0),M){x.add(F),S=!0;break}}if(!S)return!1}return!0}function u(d,h,m,y){return h.size===0?!0:d instanceof Set?c([...d],[...h],m,y):!1}e.isMatchWith=i,e.isSetMatch=u})(rT)),rT}var yF;function I$(){return yF||(yF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NSe();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(tT)),tT}var sT={},oT={},lT={},xF;function ISe(){return xF||(xF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(lT)),lT}var cT={},_F;function FN(){return _F||(_F=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(cT)),cT}var uT={},bF;function k$(){return bF||(bF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",m="[object ArrayBuffer]",y="[object Object]",x="[object Error]",b="[object DataView]",E="[object Uint8Array]",S="[object Uint8ClampedArray]",F="[object Uint16Array]",k="[object Uint32Array]",M="[object BigUint64Array]",D="[object Int8Array]",P="[object Int16Array]",N="[object Int32Array]",I="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=M,e.booleanTag=i,e.dataViewTag=b,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=R,e.float64ArrayTag=U,e.functionTag=h,e.int16ArrayTag=P,e.int32ArrayTag=N,e.int8ArrayTag=D,e.mapTag=c,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=F,e.uint32ArrayTag=k,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=S})(uT)),uT}var fT={},wF;function kSe(){return wF||(wF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(fT)),fT}var EF;function P$(){return EF||(EF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ISe(),r=FN(),n=k$(),i=C$(),a=kSe();function s(d,h){return o(d,void 0,d,new Map,h)}function o(d,h,m,y=new Map,x=void 0){const b=x?.(d,h,m,y);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(y.has(d))return y.get(d);if(Array.isArray(d)){const E=new Array(d.length);y.set(d,E);for(let S=0;S<d.length;S++)E[S]=o(d[S],S,m,y,x);return Object.hasOwn(d,"index")&&(E.index=d.index),Object.hasOwn(d,"input")&&(E.input=d.input),E}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const E=new RegExp(d.source,d.flags);return E.lastIndex=d.lastIndex,E}if(d instanceof Map){const E=new Map;y.set(d,E);for(const[S,F]of d)E.set(S,o(F,S,m,y,x));return E}if(d instanceof Set){const E=new Set;y.set(d,E);for(const S of d)E.add(o(S,void 0,m,y,x));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const E=new(Object.getPrototypeOf(d)).constructor(d.length);y.set(d,E);for(let S=0;S<d.length;S++)E[S]=o(d[S],S,m,y,x);return E}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const E=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return y.set(d,E),c(E,d,m,y,x),E}if(typeof File<"u"&&d instanceof File){const E=new File([d],d.name,{type:d.type});return y.set(d,E),c(E,d,m,y,x),E}if(typeof Blob<"u"&&d instanceof Blob){const E=new Blob([d],{type:d.type});return y.set(d,E),c(E,d,m,y,x),E}if(d instanceof Error){const E=new d.constructor;return y.set(d,E),E.message=d.message,E.name=d.name,E.stack=d.stack,E.cause=d.cause,c(E,d,m,y,x),E}if(d instanceof Boolean){const E=new Boolean(d.valueOf());return y.set(d,E),c(E,d,m,y,x),E}if(d instanceof Number){const E=new Number(d.valueOf());return y.set(d,E),c(E,d,m,y,x),E}if(d instanceof String){const E=new String(d.valueOf());return y.set(d,E),c(E,d,m,y,x),E}if(typeof d=="object"&&u(d)){const E=Object.create(Object.getPrototypeOf(d));return y.set(d,E),c(E,d,m,y,x),E}return d}function c(d,h,m=d,y,x){const b=[...Object.keys(h),...t.getSymbols(h)];for(let E=0;E<b.length;E++){const S=b[E],F=Object.getOwnPropertyDescriptor(d,S);(F==null||F.writable)&&(d[S]=o(h[S],S,m,y,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(oT)),oT}var TF;function PSe(){return TF||(TF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P$();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(sT)),sT}var AF;function RSe(){return AF||(AF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I$(),r=PSe();function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(eT)),eT}var dT={},hT={},pT={},SF;function OSe(){return SF||(SF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P$(),r=FN(),n=k$();function i(a,s){return t.cloneDeepWith(a,(o,c,u,d)=>{const h=s?.(o,c,u,d);if(h!==void 0)return h;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const m={};return d.set(a,m),t.copyProperties(m,a,u,d),m}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new a.constructor(a?.valueOf());return t.copyProperties(m,a),m}case n.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}e.cloneDeepWith=i})(pT)),pT}var CF;function MSe(){return CF||(CF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OSe();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(hT)),hT}var mT={},gT={},NF;function R$(){return NF||(NF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(gT)),gT}var vT={},IF;function DSe(){return IF||(IF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(vT)),vT}var kF;function FSe(){return kF||(kF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_$(),r=R$(),n=DSe(),i=PN();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=a})(mT)),mT}var PF;function LSe(){return PF||(PF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I$(),r=kN(),n=MSe(),i=RN(),a=FSe();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(dT)),dT}var RF;function jSe(){return RF||(RF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A$(),r=CSe(),n=RSe(),i=LSe();function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(ZE)),ZE}var OF;function USe(){return OF||(OF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wSe(),r=ESe(),n=A$(),i=SSe(),a=jSe();function s(o,c=n.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),r.ary(a.iteratee(c),1)):[]}e.uniqBy=s})(HE)),HE}var yT,MF;function BSe(){return MF||(MF=1,yT=USe().uniqBy),yT}var VSe=BSe();const DF=js(VSe);function O$(e,t,r){return t===!0?DF(e,r):typeof t=="function"?DF(e,t):e}var xT={exports:{}},_T={},bT={exports:{}},wT={};var FF;function zSe(){if(FF)return wT;FF=1;var e=kh();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function o(h,m){var y=m(),x=n({inst:{value:y,getSnapshot:m}}),b=x[0].inst,E=x[1];return a(function(){b.value=y,b.getSnapshot=m,c(b)&&E({inst:b})},[h,y,m]),i(function(){return c(b)&&E({inst:b}),h(function(){c(b)&&E({inst:b})})},[h]),s(y),y}function c(h){var m=h.getSnapshot;h=h.value;try{var y=m();return!r(h,y)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return wT.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,wT}var LF;function $Se(){return LF||(LF=1,bT.exports=zSe()),bT.exports}var jF;function HSe(){if(jF)return _T;jF=1;var e=kh(),t=$Se();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=t.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return _T.useSyncExternalStoreWithSelector=function(u,d,h,m,y){var x=a(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function S(P){if(!F){if(F=!0,k=P,P=m(P),y!==void 0&&b.hasValue){var N=b.value;if(y(N,P))return M=N}return M=P}if(N=M,n(k,P))return N;var I=m(P);return y!==void 0&&y(N,I)?(k=P,N):(k=P,M=I)}var F=!1,k,M,D=h===void 0?null:h;return[function(){return S(d())},D===null?void 0:function(){return S(D())}]},[d,h,m,y]);var E=i(u,x[0],x[1]);return s(function(){b.hasValue=!0,b.value=E},[E]),c(E),E},_T}var UF;function GSe(){return UF||(UF=1,xT.exports=HSe()),xT.exports}var qSe=GSe(),LN=O.createContext(null),KSe=e=>e,Hr=()=>{var e=O.useContext(LN);return e?e.store.dispatch:KSe},Hy=()=>{},WSe=()=>Hy,YSe=(e,t)=>e===t;function ut(e){var t=O.useContext(LN),r=O.useMemo(()=>t?n=>{if(n!=null)return e(n)}:Hy,[t,e]);return qSe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:WSe,t?t.store.getState:Hy,t?t.store.getState:Hy,r,YSe)}function JSe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function XSe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ZSe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var BF=e=>Array.isArray(e)?e:[e];function QSe(e){const t=Array.isArray(e[0])?e[0]:e;return ZSe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function e2e(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var t2e=class{constructor(e){this.value=e}deref(){return this.value}},r2e=typeof WeakRef<"u"?WeakRef:t2e,n2e=0,VF=1;function ay(){return{s:n2e,v:void 0,o:null,p:null}}function M$(e,t={}){let r=ay();const{resultEqualityCheck:n}=t;let i,a=0;function s(){let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const b=x.get(y);b===void 0?(o=ay(),x.set(y,o)):o=b}else{let x=o.p;x===null&&(o.p=x=new Map);const b=x.get(y);b===void 0?(o=ay(),x.set(y,o)):o=b}}const u=o;let d;if(o.s===VF)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=i?.deref?.()??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new r2e(d):d}return u.s=VF,u.v=d,d}return s.clearCache=()=>{r=ay(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function i2e(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),JSe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:y=M$,argsMemoizeOptions:x=[]}=d,b=BF(m),E=BF(x),S=QSe(i),F=h(function(){return a++,u.apply(null,arguments)},...b),k=y(function(){s++;const D=e2e(S,arguments);return o=F.apply(null,D),o},...E);return Object.assign(k,{resultFunc:u,memoizedResultFunc:F,dependencies:S,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var be=i2e(M$),a2e=Object.assign((e,t=be)=>{XSe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>a2e}),ET={},TT={},AT={},zF;function s2e(){return zF||(zF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(AT)),AT}var ST={},CT={},$F;function D$(){return $F||($F=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(CT)),CT}var HF;function o2e(){return HF||(HF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D$(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(ST)),ST}var GF;function l2e(){return GF||(GF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s2e(),r=o2e(),n=PN();function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const u=(y,x)=>{let b=y;for(let E=0;E<x.length&&b!=null;++E)b=b[x[E]];return b},d=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:u(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?u(x,y):typeof x=="object"?x[y]:x,h=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return a.map(y=>({original:y,criteria:h.map(x=>d(x,y))})).slice().sort((y,x)=>{for(let b=0;b<h.length;b++){const E=t.compareValues(y.criteria[b],x.criteria[b],o[b]);if(E!==0)return E}return 0}).map(y=>y.original)}e.orderBy=i})(TT)),TT}var NT={},qF;function c2e(){return qF||(qF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(NT)),NT}var IT={},KF;function F$(){return KF||(KF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R$(),r=DN(),n=S$(),i=N$();function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.isEqualsSameValueZero(c[o],s):!1}e.isIterateeCall=a})(IT)),IT}var WF;function u2e(){return WF||(WF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l2e(),r=c2e(),n=F$();function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(ET)),ET}var kT,YF;function f2e(){return YF||(YF=1,kT=u2e().sortBy),kT}var d2e=f2e();const h_=js(d2e);var L$=e=>e.legend.settings,h2e=e=>e.legend.size,p2e=e=>e.legend.payload,m2e=be([p2e,L$],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?h_(n,r):n});function g2e(){return ut(m2e)}var sy=1;function j$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=O.useState({height:0,left:0,top:0,width:0}),n=O.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>sy||Math.abs(s.left-t.left)>sy||Math.abs(s.top-t.top)>sy||Math.abs(s.width-t.width)>sy)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Si(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var v2e=typeof Symbol=="function"&&Symbol.observable||"@@observable",JF=v2e,PT=()=>Math.random().toString(36).substring(7).split("").join("."),y2e={INIT:`@@redux/INIT${PT()}`,REPLACE:`@@redux/REPLACE${PT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${PT()}`},zx=y2e;function jN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function U$(e,t,r){if(typeof e!="function")throw new Error(Si(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Si(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Si(1));return r(U$)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((E,S)=>{s.set(S,E)}))}function d(){if(c)throw new Error(Si(3));return i}function h(E){if(typeof E!="function")throw new Error(Si(4));if(c)throw new Error(Si(5));let S=!0;u();const F=o++;return s.set(F,E),function(){if(S){if(c)throw new Error(Si(6));S=!1,u(),s.delete(F),a=null}}}function m(E){if(!jN(E))throw new Error(Si(7));if(typeof E.type>"u")throw new Error(Si(8));if(typeof E.type!="string")throw new Error(Si(17));if(c)throw new Error(Si(9));try{c=!0,i=n(i,E)}finally{c=!1}return(a=s).forEach(F=>{F()}),E}function y(E){if(typeof E!="function")throw new Error(Si(10));n=E,m({type:zx.REPLACE})}function x(){const E=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Si(11));function F(){const M=S;M.next&&M.next(d())}return F(),{unsubscribe:E(F)}},[JF](){return this}}}return m({type:zx.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:y,[JF]:x}}function x2e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:zx.INIT})>"u")throw new Error(Si(12));if(typeof r(void 0,{type:zx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Si(13))})}function B$(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{x2e(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],m=r[h],y=s[h],x=m(y,o);if(typeof x>"u")throw o&&o.type,new Error(Si(14));u[h]=x,c=c||x!==y}return c=c||n.length!==Object.keys(s).length,c?u:s}}function $x(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function _2e(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(Si(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=$x(...o)(i.dispatch),{...i,dispatch:a}}}function V$(e){return jN(e)&&"type"in e&&typeof e.type=="string"}var z$=Symbol.for("immer-nothing"),XF=Symbol.for("immer-draftable"),ga=Symbol.for("immer-state");function Zs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ls=Object,Eh=ls.getPrototypeOf,Hx="constructor",p_="prototype",GS="configurable",Gx="enumerable",Gy="writable",xm="value",Ul=e=>!!e&&!!e[ga];function mo(e){return e?$$(e)||g_(e)||!!e[XF]||!!e[Hx]?.[XF]||v_(e)||y_(e):!1}var b2e=ls[p_][Hx].toString(),ZF=new WeakMap;function $$(e){if(!e||!UN(e))return!1;const t=Eh(e);if(t===null||t===ls[p_])return!0;const r=ls.hasOwnProperty.call(t,Hx)&&t[Hx];if(r===Object)return!0;if(!Bd(r))return!1;let n=ZF.get(r);return n===void 0&&(n=Function.toString.call(r),ZF.set(r,n)),n===b2e}function m_(e,t,r=!0){Jm(e)===0?(r?Reflect.ownKeys(e):ls.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Jm(e){const t=e[ga];return t?t.type_:g_(e)?1:v_(e)?2:y_(e)?3:0}var QF=(e,t,r=Jm(e))=>r===2?e.has(t):ls[p_].hasOwnProperty.call(e,t),qS=(e,t,r=Jm(e))=>r===2?e.get(t):e[t],qx=(e,t,r,n=Jm(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function w2e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var g_=Array.isArray,v_=e=>e instanceof Map,y_=e=>e instanceof Set,UN=e=>typeof e=="object",Bd=e=>typeof e=="function",RT=e=>typeof e=="boolean";function E2e(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var wl=e=>e.copy_||e.base_,BN=e=>e.modified_?e.copy_:e.base_;function KS(e,t){if(v_(e))return new Map(e);if(y_(e))return new Set(e);if(g_(e))return Array[p_].slice.call(e);const r=$$(e);if(t===!0||t==="class_only"&&!r){const n=ls.getOwnPropertyDescriptors(e);delete n[ga];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[Gy]===!1&&(o[Gy]=!0,o[GS]=!0),(o.get||o.set)&&(n[s]={[GS]:!0,[Gy]:!0,[Gx]:o[Gx],[xm]:e[s]})}return ls.create(Eh(e),n)}else{const n=Eh(e);if(n!==null&&r)return{...e};const i=ls.create(n);return ls.assign(i,e)}}function VN(e,t=!1){return x_(e)||Ul(e)||!mo(e)||(Jm(e)>1&&ls.defineProperties(e,{set:oy,add:oy,clear:oy,delete:oy}),ls.freeze(e),t&&m_(e,(r,n)=>{VN(n,!0)},!1)),e}function T2e(){Zs(2)}var oy={[xm]:T2e};function x_(e){return e===null||!UN(e)?!0:ls.isFrozen(e)}var Kx="MapSet",WS="Patches",eL="ArrayMethods",H$={};function Nf(e){const t=H$[e];return t||Zs(0,e),t}var tL=e=>!!H$[e],_m,G$=()=>_m,A2e=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tL(Kx)?Nf(Kx):void 0,arrayMethodsPlugin_:tL(eL)?Nf(eL):void 0});function rL(e,t){t&&(e.patchPlugin_=Nf(WS),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function YS(e){JS(e),e.drafts_.forEach(S2e),e.drafts_=null}function JS(e){e===_m&&(_m=e.parent_)}var nL=e=>_m=A2e(_m,e);function S2e(e){const t=e[ga];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ga].modified_&&(YS(t),Zs(4)),mo(e)&&(e=aL(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[ga].base_,e,t)}else e=aL(t,r);return C2e(t,e,!0),YS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==z$?e:void 0}function aL(e,t){if(x_(t))return t;const r=t[ga];if(!r)return Wx(t,e.handledSet_,e);if(!__(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);W$(r,e)}return r.copy_}function C2e(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&VN(t,r)}function q$(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var __=(e,t)=>e.scope_===t,N2e=[];function K$(e,t,r,n){const i=wl(e),a=e.type_;if(n!==void 0&&qS(i,n,a)===t){qx(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;m_(i,(c,u)=>{if(Ul(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const s=e.draftLocations_.get(t)??N2e;for(const o of s)qx(i,o,r,a)}function I2e(e,t,r){e.callbacks_.push(function(i){const a=t;if(!a||!__(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=BN(a);K$(e,a.draft_??a,s,r),W$(a,i)})}function W$(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}q$(e)}}function k2e(e,t,r){const{scope_:n}=e;if(Ul(r)){const i=r[ga];__(i,n)&&i.callbacks_.push(function(){qy(e);const s=BN(i);K$(e,r,s,t)})}else mo(r)&&e.callbacks_.push(function(){const a=wl(e);e.type_===3?a.has(r)&&Wx(r,n.handledSet_,n):qS(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Wx(qS(e.copy_,t,e.type_),n.handledSet_,n)})}function Wx(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ul(e)||t.has(e)||!mo(e)||x_(e)||(t.add(e),m_(e,(n,i)=>{if(Ul(i)){const a=i[ga];if(__(a,r)){const s=BN(a);qx(e,n,s,e.type_),q$(a)}}else mo(i)&&Wx(i,t,r)})),e}function P2e(e,t){const r=g_(e),n={type_:r?1:0,scope_:t?t.scope_:G$(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Yx;r&&(i=[n],a=bm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var Yx={get(e,t){if(t===ga)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=wl(e);if(!QF(i,t,e.type_))return R2e(e,i,t);const a=i[t];if(e.finalized_||!mo(a)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&E2e(t))return a;if(a===OT(e.base_,t)){qy(e);const s=e.type_===1?+t:t,o=ZS(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in wl(e)},ownKeys(e){return Reflect.ownKeys(wl(e))},set(e,t,r){const n=Y$(wl(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=OT(wl(e),t),a=i?.[ga];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(w2e(r,i)&&(r!==void 0||QF(e.base_,t,e.type_)))return!0;qy(e),XS(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),k2e(e,t,r)),!0},deleteProperty(e,t){return qy(e),OT(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),XS(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Gy]:!0,[GS]:e.type_!==1||t!=="length",[Gx]:n[Gx],[xm]:r[t]}},defineProperty(){Zs(11)},getPrototypeOf(e){return Eh(e.base_)},setPrototypeOf(){Zs(12)}},bm={};for(let e in Yx){let t=Yx[e];bm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}bm.deleteProperty=function(e,t){return bm.set.call(this,e,t,void 0)};bm.set=function(e,t,r){return Yx.set.call(this,e[0],t,r,e[0])};function OT(e,t){const r=e[ga];return(r?wl(r):e)[t]}function R2e(e,t,r){const n=Y$(t,r);return n?xm in n?n[xm]:n.get?.call(e.draft_):void 0}function Y$(e,t){if(!(t in e))return;let r=Eh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Eh(r)}}function XS(e){e.modified_||(e.modified_=!0,e.parent_&&XS(e.parent_))}function qy(e){e.copy_||(e.assigned_=new Map,e.copy_=KS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var O2e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Bd(r)&&!Bd(n)){const s=n;n=r;const o=this;return function(u=s,...d){return o.produce(u,h=>n.call(this,h,...d))}}Bd(n)||Zs(6),i!==void 0&&!Bd(i)&&Zs(7);let a;if(mo(r)){const s=nL(this),o=ZS(s,r,void 0);let c=!0;try{a=n(o),c=!1}finally{c?YS(s):JS(s)}return rL(s,i),iL(a,s)}else if(!r||!UN(r)){if(a=n(r),a===void 0&&(a=r),a===z$&&(a=void 0),this.autoFreeze_&&VN(a,!0),i){const s=[],o=[];Nf(WS).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Zs(1,r)},this.produceWithPatches=(r,n)=>{if(Bd(r))return(o,...c)=>this.produceWithPatches(o,u=>r(u,...c));let i,a;return[this.produce(r,n,(o,c)=>{i=o,a=c}),i,a]},RT(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),RT(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),RT(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){mo(t)||Zs(8),Ul(t)&&(t=uo(t));const r=nL(this),n=ZS(r,t,void 0);return n[ga].isManual_=!0,JS(r),n}finishDraft(t,r){const n=t&&t[ga];(!n||!n.isManual_)&&Zs(9);const{scope_:i}=n;return rL(i,r),iL(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Nf(WS).applyPatches_;return Ul(t)?i(t,r):this.produce(t,a=>i(a,r))}};function ZS(e,t,r,n){const[i,a]=v_(t)?Nf(Kx).proxyMap_(t,r):y_(t)?Nf(Kx).proxySet_(t,r):P2e(t,r);return(r?.scope_??G$()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?I2e(r,a,n):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function uo(e){return Ul(e)||Zs(10,e),J$(e)}function J$(e){if(!mo(e)||x_(e))return e;const t=e[ga];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=KS(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=KS(e,!0);return m_(r,(i,a)=>{qx(r,i,J$(a))},n),t&&(t.finalized_=!1),r}var M2e=new O2e,X$=M2e.produce;function Z$(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var D2e=Z$(),F2e=Z$,L2e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$x:$x.apply(null,arguments)};function Fs(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(cs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>V$(n)&&n.type===e,r}var Q$=class _p extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,_p.prototype)}static get[Symbol.species](){return _p}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new _p(...t[0].concat(this)):new _p(...t.concat(this))}};function sL(e){return mo(e)?X$(e,()=>{}):e}function ly(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function j2e(e){return typeof e=="boolean"}var U2e=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Q$;return r&&(j2e(r)?s.push(D2e):s.push(F2e(r.extraArgument))),s},eH="RTK_autoBatch",en=()=>e=>({payload:e,meta:{[eH]:!0}}),oL=e=>t=>{setTimeout(t,e)},tH=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oL(10):e.type==="callback"?e.queueNotification:oL(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),m=n.subscribe(h);return o.add(d),()=>{m(),o.delete(d)}},dispatch(d){try{return i=!d?.meta?.[eH],a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},B2e=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Q$(e);return n&&i.push(tH(typeof n=="object"?n:void 0)),i};function V2e(e){const t=U2e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(jN(r))o=B$(r);else throw new Error(cs(1));let c;typeof n=="function"?c=n(t):c=t();let u=$x;i&&(u=L2e({trace:!1,...typeof i=="object"&&i}));const d=_2e(...c),h=B2e(d);let m=typeof s=="function"?s(h):h();const y=u(...m);return U$(o,a,y)}function rH(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(cs(28));if(o in t)throw new Error(cs(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function z2e(e){return typeof e=="function"}function $2e(e,t){let[r,n,i]=rH(t),a;if(z2e(e))a=()=>sL(e());else{const o=sL(e);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(Ul(d)){const y=h(d,c);return y===void 0?d:y}else{if(mo(d))return X$(d,m=>h(m,c));{const m=h(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},o)}return s.getInitialState=a,s}var H2e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",G2e=(e=21)=>{let t="",r=e;for(;r--;)t+=H2e[Math.random()*64|0];return t},q2e=Symbol.for("rtk-slice-createasyncthunk");function K2e(e,t){return`${e}/${t}`}function W2e({creators:e}={}){const t=e?.asyncThunk?.[q2e];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(cs(11));const s=(typeof n.reducers=="function"?n.reducers(J2e()):n.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,M){const D=typeof k=="string"?k:k.type;if(!D)throw new Error(cs(12));if(D in c.sliceCaseReducersByType)throw new Error(cs(13));return c.sliceCaseReducersByType[D]=M,u},addMatcher(k,M){return c.sliceMatchers.push({matcher:k,reducer:M}),u},exposeAction(k,M){return c.actionCreators[k]=M,u},exposeCaseReducer(k,M){return c.sliceCaseReducersByName[k]=M,u}};o.forEach(k=>{const M=s[k],D={reducerName:k,type:K2e(i,k),createNotation:typeof n.reducers=="function"};Z2e(M)?eCe(D,M,u,t):X2e(D,M,u)});function d(){const[k={},M=[],D=void 0]=typeof n.extraReducers=="function"?rH(n.extraReducers):[n.extraReducers],P={...k,...c.sliceCaseReducersByType};return $2e(n.initialState,N=>{for(let I in P)N.addCase(I,P[I]);for(let I of c.sliceMatchers)N.addMatcher(I.matcher,I.reducer);for(let I of M)N.addMatcher(I.matcher,I.reducer);D&&N.addDefaultCase(D)})}const h=k=>k,m=new Map,y=new WeakMap;let x;function b(k,M){return x||(x=d()),x(k,M)}function E(){return x||(x=d()),x.getInitialState()}function S(k,M=!1){function D(N){let I=N[k];return typeof I>"u"&&M&&(I=ly(y,D,E)),I}function P(N=h){const I=ly(m,M,()=>new WeakMap);return ly(I,N,()=>{const R={};for(const[U,B]of Object.entries(n.selectors??{}))R[U]=Y2e(B,N,()=>ly(y,N,E),M);return R})}return{reducerPath:k,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const F={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...S(a),injectInto(k,{reducerPath:M,...D}={}){const P=M??a;return k.inject({reducerPath:P,reducer:b},D),{...F,...S(P,!0)}}};return F}}function Y2e(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Ba=W2e();function J2e(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function X2e({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!Q2e(n))throw new Error(cs(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Fs(e,s):Fs(e))}function Z2e(e){return e._reducerDefinitionType==="asyncThunk"}function Q2e(e){return e._reducerDefinitionType==="reducerWithPrepare"}function eCe({type:e,reducerName:t},r,n,i){if(!i)throw new Error(cs(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,h=i(e,a,d);n.exposeAction(t,h),s&&n.addCase(h.fulfilled,s),o&&n.addCase(h.pending,o),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:s||cy,pending:o||cy,rejected:c||cy,settled:u||cy})}function cy(){}var tCe="task",nH="listener",iH="completed",zN="cancelled",rCe=`task-${zN}`,nCe=`task-${iH}`,QS=`${nH}-${zN}`,iCe=`${nH}-${iH}`,b_=class{constructor(e){this.code=e,this.message=`${tCe} ${zN} (reason: ${e})`}name="TaskAbortError";message},$N=(e,t)=>{if(typeof e!="function")throw new TypeError(cs(32))},Jx=()=>{},aH=(e,t=Jx)=>(e.catch(t),e),sH=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cf=e=>{if(e.aborted)throw new b_(e.reason)};function oH(e,t){let r=Jx;return new Promise((n,i)=>{const a=()=>i(new b_(e.reason));if(e.aborted){a();return}r=sH(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Jx})}var aCe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof b_?"cancelled":"rejected",error:r}}finally{t?.()}},Xx=e=>t=>aH(oH(e,t).then(r=>(cf(e),r))),lH=e=>{const t=Xx(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:sh}=Object,lL={},w_="listenerMiddleware",sCe=(e,t)=>{const r=n=>sH(e,()=>n.abort(e.reason));return(n,i)=>{$N(n);const a=new AbortController;r(a);const s=aCe(async()=>{cf(e),cf(a.signal);const o=await n({pause:Xx(a.signal),delay:lH(a.signal),signal:a.signal});return cf(a.signal),o},()=>a.abort(nCe));return i?.autoJoin&&t.push(s.catch(Jx)),{result:Xx(e)(s),cancel(){a.abort(rCe)}}}},oCe=(e,t)=>{const r=async(n,i)=>{cf(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await oH(t,Promise.race(o));return cf(t),c}finally{a()}};return(n,i)=>aH(r(n,i))},cH=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Fs(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(cs(21));return $N(a),{predicate:i,type:t,effect:a}},uH=sh(e=>{const{type:t,predicate:r,effect:n}=cH(e);return{id:G2e(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cs(22))}}},{withTypes:()=>uH}),cL=(e,t)=>{const{type:r,effect:n,predicate:i}=cH(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},e2=e=>{e.pending.forEach(t=>{t.abort(QS)})},lCe=(e,t)=>()=>{for(const r of t.keys())e2(r);e.clear()},uL=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},fH=sh(Fs(`${w_}/add`),{withTypes:()=>fH}),cCe=Fs(`${w_}/removeAll`),dH=sh(Fs(`${w_}/remove`),{withTypes:()=>dH}),uCe=(...e)=>{console.error(`${w_}/error`,...e)},Xm=(e={})=>{const t=new Map,r=new Map,n=y=>{const x=r.get(y)??0;r.set(y,x+1)},i=y=>{const x=r.get(y)??1;x===1?r.delete(y):r.set(y,x-1)},{extra:a,onError:s=uCe}=e;$N(s);const o=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),x=>{y.unsubscribe(),x?.cancelActive&&e2(y)}),c=y=>{const x=cL(t,y)??uH(y);return o(x)};sh(c,{withTypes:()=>c});const u=y=>{const x=cL(t,y);return x&&(x.unsubscribe(),y.cancelActive&&e2(x)),!!x};sh(u,{withTypes:()=>u});const d=async(y,x,b,E)=>{const S=new AbortController,F=oCe(c,S.signal),k=[];try{y.pending.add(S),n(y),await Promise.resolve(y.effect(x,sh({},b,{getOriginalState:E,condition:(M,D)=>F(M,D).then(Boolean),take:F,delay:lH(S.signal),pause:Xx(S.signal),extra:a,signal:S.signal,fork:sCe(S.signal,k),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((M,D,P)=>{M!==S&&(M.abort(QS),P.delete(M))})},cancel:()=>{S.abort(QS),y.pending.delete(S)},throwIfCancelled:()=>{cf(S.signal)}})))}catch(M){M instanceof b_||uL(s,M,{raisedBy:"effect"})}finally{await Promise.all(k),S.abort(iCe),i(y),y.pending.delete(S)}},h=lCe(t,r);return{middleware:y=>x=>b=>{if(!V$(b))return x(b);if(fH.match(b))return c(b.payload);if(cCe.match(b)){h();return}if(dH.match(b))return u(b.payload);let E=y.getState();const S=()=>{if(E===lL)throw new Error(cs(23));return E};let F;try{if(F=x(b),t.size>0){const k=y.getState(),M=Array.from(t.values());for(const D of M){let P=!1;try{P=D.predicate(b,k,E)}catch(N){P=!1,uL(s,N,{raisedBy:"predicate"})}P&&d(D,b,y,S)}}}finally{E=lL}return F},startListening:c,stopListening:u,clearListeners:h}};function cs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fCe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hH=Ba({name:"chartLayout",initialState:fCe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dCe,setLayout:hCe,setChartSize:pCe,setScale:mCe}=hH.actions,gCe=hH.reducer;function pH(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function zt(e){return Number.isFinite(e)}function Jo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){vCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vCe(e,t,r){return(t=yCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yCe(e){var t=xCe(e,"string");return typeof t=="symbol"?t:t+""}function xCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t,r){return _n(e)||_n(t)?r:Yo(t)?Sf(e,t,r):typeof t=="function"?t(e):r}var _Ce=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&it(e[a]))return Kd(Kd({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&it(e[s]))return Kd(Kd({},e),{},{[s]:e[s]+(i||0)})}return e},el=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mH=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},gH=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:m,axisType:y}=e;if(!s)return null;var x=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(b=y==="angleAxis"&&a&&a.length>=2?hi(a[0]-a[1])*2*b:b,h||m){var E=(h||m||[]).map((S,F)=>{var k=n?n.indexOf(S):S,M=s.map(k);return zt(M)?{coordinate:M+b,value:S,offset:b,index:F}:null}).filter(Ma);return E}return c&&u?u.map((S,F)=>{var k=s.map(S);return zt(k)?{coordinate:k+b,value:S,index:F,offset:b}:null}).filter(Ma):s.ticks&&d!=null?s.ticks(d).map((S,F)=>{var k=s.map(S);return zt(k)?{coordinate:k+b,value:S,index:F,offset:b}:null}).filter(Ma):s.domain().map((S,F)=>{var k=s.map(S);return zt(k)?{coordinate:k+b,value:n?n[S]:S,index:F,offset:b}:null}).filter(Ma)},bCe=(e,t)=>{if(!t||t.length!==2||!it(t[0])||!it(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!it(e[0])||e[0]<r)&&(i[0]=r),(!it(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},wCe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var c=e[o],u=c?.[i];if(u!=null){var d=u[1],h=u[0],m=po(d)?h:d;m>=0?(u[0]=a,a+=m,u[1]=a):(u[0]=s,s+=m,u[1]=s)}}}},ECe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],c=o?.[i];if(c!=null){var u=po(c[1])?c[0]:c[1];u>=0?(c[0]=a,a+=u,c[1]=a):(c[0]=0,c[1]=0)}}}},TCe={sign:wCe,expand:HAe,none:Af,silhouette:GAe,wiggle:qAe,positive:ECe},ACe=(e,t,r)=>{var n,i=(n=TCe[r])!==null&&n!==void 0?n:Af,a=$Ae().keys(t).value((o,c)=>Number(Lr(o,c,0))).order($S).offset(i),s=a(e);return s.forEach((o,c)=>{o.forEach((u,d)=>{var h=Lr(e[d],t[c],0);Array.isArray(h)&&h.length===2&&it(h[0])&&it(h[1])&&(u[0]=h[0],u[1]=h[1])})}),s};function vH(e){return e==null?void 0:String(e)}function dL(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_n(i[t.dataKey])){var o=w$(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var c=Lr(i,_n(s)?t.dataKey:s),u=t.scale.map(c);return it(u)?u:null}var hL=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Lr(a,t.dataKey,t.scale.domain()[s]);if(_n(o))return null;var c=t.scale.map(o);return it(c)?c-i/2+n:null},SCe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},CCe=e=>{var t=e.flat(2).filter(it);return[Math.min(...t),Math.max(...t)]},NCe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ICe=(e,t,r)=>{if(e!=null)return NCe(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((c,u)=>{var d=pH(u,t,r),h=CCe(d);return!zt(h[0])||!zt(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},pL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Th=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=h_(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c?.coordinate||0)-(u?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function gL(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Kd(Kd({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Hh(e,t){if(e)return String(e);if(typeof t=="string")return t}var kCe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},PCe=(e,t)=>t==="centric"?e.angle:e.radius,Yl=e=>e.layout.width,Jl=e=>e.layout.height,RCe=e=>e.layout.scale,yH=e=>e.layout.margin,E_=be(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),T_=be(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xH="data-recharts-item-index",_H="data-recharts-item-id",Zm=60;function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(n){OCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OCe(e,t,r){return(t=MCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MCe(e){var t=DCe(e,"string");return typeof t=="symbol"?t:t+""}function DCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FCe=e=>e.brush.height;function LCe(e){var t=T_(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Zm;return r+i}return r},0)}function jCe(e){var t=T_(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Zm;return r+i}return r},0)}function UCe(e){var t=E_(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function BCe(e){var t=E_(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Qn=be([Yl,Jl,yH,FCe,LCe,jCe,UCe,BCe,L$,h2e],(e,t,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},h={top:(r.top||0)+s,bottom:(r.bottom||0)+o},m=uy(uy({},h),d),y=m.bottom;m.bottom+=n,m=_Ce(m,c,u);var x=e-m.left-m.right,b=t-m.top-m.bottom;return uy(uy({brushBottom:y},m),{},{width:Math.max(x,0),height:Math.max(b,0)})}),VCe=be(Qn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),HN=be(Yl,Jl,(e,t)=>({x:0,y:0,width:e,height:t})),zCe=O.createContext(null),Xi=()=>O.useContext(zCe)!=null,A_=e=>e.brush,S_=be([A_,Qn,yH],(e,t,r)=>({height:e.height,x:it(e.x)?e.x:t.left,y:it(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:it(e.width)?e.width:t.width})),MT={},DT={},FT={},yL;function $Ce(){return yL||(yL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},h=()=>{u&&d(),b()};let m=null;const y=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},n)},x=()=>{m!==null&&(clearTimeout(m),m=null)},b=()=>{x(),s=void 0,o=null},E=()=>{d()},S=function(...F){if(i?.aborted)return;s=this,o=F;const k=m==null;y(),c&&k&&d()};return S.schedule=y,S.cancel=b,S.flush=E,i?.addEventListener("abort",b,{once:!0}),S}e.debounce=t})(FT)),FT}var xL;function HCe(){return xL||(xL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$Ce();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,h=null;const m=t.debounce(function(...b){d=n.apply(this,b),h=null},i,{edges:u}),y=function(...b){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=n.apply(this,b),h=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,b),d)},x=()=>(m.flush(),d);return y.cancel=m.cancel,y.flush=x,y}e.debounce=r})(DT)),DT}var _L;function GCe(){return _L||(_L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HCe();function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(MT)),MT}var LT,bL;function qCe(){return bL||(bL=1,LT=GCe().throttle),LT}var KCe=qCe();const WCe=js(KCe);var Zx=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},Uo={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},bH=(e,t,r)=>{var{width:n=Uo.width,height:i=Uo.height,aspect:a,maxHeight:s}=r,o=Cf(n)?e:Number(n),c=Cf(i)?t:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},YCe={width:0,height:0,overflow:"visible"},JCe={width:0,overflowX:"visible"},XCe={height:0,overflowY:"visible"},ZCe={},QCe=e=>{var{width:t,height:r}=e,n=Cf(t),i=Cf(r);return n&&i?YCe:n?JCe:i?XCe:ZCe};function eNe(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=Uo.width,a=Uo.height):i===void 0?i=n&&n>0?void 0:Uo.width:a===void 0&&(a=n&&n>0?void 0:Uo.height),{width:i,height:a}}function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t2.apply(null,arguments)}function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(n){tNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tNe(e,t,r){return(t=rNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rNe(e){var t=nNe(e,"string");return typeof t=="symbol"?t:t+""}function nNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wH=O.createContext(Uo.initialDimension);function iNe(e){return Jo(e.width)&&Jo(e.height)}function EH(e){var{children:t,width:r,height:n}=e,i=O.useMemo(()=>({width:r,height:n}),[r,n]);return iNe(i)?O.createElement(wH.Provider,{value:i},t):null}var GN=()=>O.useContext(wH),aNe=O.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Uo.initialDimension,width:i,height:a,minWidth:s=Uo.minWidth,minHeight:o,maxHeight:c,children:u,debounce:d=Uo.debounce,id:h,className:m,onResize:y,style:x={}}=e,b=O.useRef(null),E=O.useRef();E.current=y,O.useImperativeHandle(t,()=>b.current);var[S,F]=O.useState({containerWidth:n.width,containerHeight:n.height}),k=O.useCallback((I,R)=>{F(U=>{var B=Math.round(I),L=Math.round(R);return U.containerWidth===B&&U.containerHeight===L?U:{containerWidth:B,containerHeight:L}})},[]);O.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Gf;var I=L=>{var H,fe=L[0];if(fe!=null){var{width:me,height:ne}=fe.contentRect;k(me,ne),(H=E.current)===null||H===void 0||H.call(E,me,ne)}};d>0&&(I=WCe(I,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),{width:U,height:B}=b.current.getBoundingClientRect();return k(U,B),R.observe(b.current),()=>{R.disconnect()}},[k,d]);var{containerWidth:M,containerHeight:D}=S;Zx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:N}=bH(M,D,{width:i,height:a,aspect:r,maxHeight:c});return Zx(P!=null&&P>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,N,i,a,s,o,r),O.createElement("div",{id:h?"".concat(h):void 0,className:hr("recharts-responsive-container",m),style:EL(EL({},x),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:b},O.createElement("div",{style:QCe({width:i,height:a})},O.createElement(EH,{width:P,height:N},u)))}),X0=O.forwardRef((e,t)=>{var r=GN();if(Jo(r.width)&&Jo(r.height))return e.children;var{width:n,height:i}=eNe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=bH(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return it(a)&&it(s)?O.createElement(EH,{width:a,height:s},e.children):O.createElement(aNe,t2({},e,{width:n,height:i,ref:t}))});function qN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var C_=()=>{var e,t=Xi(),r=ut(VCe),n=ut(S_),i=(e=ut(A_))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},sNe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TH=()=>{var e;return(e=ut(Qn))!==null&&e!==void 0?e:sNe},KN=()=>ut(Yl),WN=()=>ut(Jl),oNe=()=>ut(e=>e.layout.margin),cr=e=>e.layout.layoutType,qf=()=>ut(cr),YN=()=>{var e=qf();if(e==="horizontal"||e==="vertical")return e},AH=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},lNe=()=>{var e=qf();return e!==void 0},Qm=e=>{var t=Hr(),r=Xi(),{width:n,height:i}=e,a=GN(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),O.useEffect(()=>{!r&&Jo(s)&&Jo(o)&&t(pCe({width:s,height:o}))},[t,r,s,o]),null},SH=Symbol.for("immer-nothing"),TL=Symbol.for("immer-draftable"),fs=Symbol.for("immer-state");function Qs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wm=Object.getPrototypeOf;function Ah(e){return!!e&&!!e[fs]}function If(e){return e?CH(e)||Array.isArray(e)||!!e[TL]||!!e.constructor?.[TL]||eg(e)||I_(e):!1}var cNe=Object.prototype.constructor.toString(),AL=new WeakMap;function CH(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=AL.get(r);return n===void 0&&(n=Function.toString.call(r),AL.set(r,n)),n===cNe}function Qx(e,t,r=!0){N_(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function N_(e){const t=e[fs];return t?t.type_:Array.isArray(e)?1:eg(e)?2:I_(e)?3:0}function r2(e,t){return N_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NH(e,t,r){const n=N_(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function uNe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function eg(e){return e instanceof Map}function I_(e){return e instanceof Set}function Wu(e){return e.copy_||e.base_}function n2(e,t){if(eg(e))return new Map(e);if(I_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=CH(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[fs];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(wm(e),n)}else{const n=wm(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function JN(e,t=!1){return k_(e)||Ah(e)||!If(e)||(N_(e)>1&&Object.defineProperties(e,{set:fy,add:fy,clear:fy,delete:fy}),Object.freeze(e),t&&Object.values(e).forEach(r=>JN(r,!0))),e}function fNe(){Qs(2)}var fy={value:fNe};function k_(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var dNe={};function kf(e){const t=dNe[e];return t||Qs(0,e),t}var Em;function IH(){return Em}function hNe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SL(e,t){t&&(kf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function i2(e){a2(e),e.drafts_.forEach(pNe),e.drafts_=null}function a2(e){e===Em&&(Em=e.parent_)}function CL(e){return Em=hNe(Em,e)}function pNe(e){const t=e[fs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NL(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[fs].modified_&&(i2(t),Qs(4)),If(e)&&(e=e1(t,e),t.parent_||t1(t,e)),t.patches_&&kf("Patches").generateReplacementPatches_(r[fs].base_,e,t.patches_,t.inversePatches_)):e=e1(t,r,[]),i2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SH?e:void 0}function e1(e,t,r){if(k_(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[fs];if(!i)return Qx(t,(a,s)=>IL(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return t1(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Qx(s,(c,u)=>IL(e,i,a,c,u,r,o),n),t1(e,a,!1),r&&e.patches_&&kf("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function IL(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=k_(i);if(!(o&&!s)){if(Ah(i)){const c=a&&t&&t.type_!==3&&!r2(t.assigned_,n)?a.concat(n):void 0,u=e1(e,i,c);if(NH(r,n,u),Ah(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(If(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;e1(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(eg(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&t1(e,i)}}}function t1(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&JN(t,r)}function mNe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:IH(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=XN;r&&(i=[n],a=Tm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var XN={get(e,t){if(t===fs)return e;const r=Wu(e);if(!r2(r,t))return gNe(e,r,t);const n=r[t];return e.finalized_||!If(n)?n:n===jT(e.base_,t)?(UT(e),e.copy_[t]=o2(n,e)):n},has(e,t){return t in Wu(e)},ownKeys(e){return Reflect.ownKeys(Wu(e))},set(e,t,r){const n=kH(Wu(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=jT(Wu(e),t),a=i?.[fs];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(uNe(r,i)&&(r!==void 0||r2(e.base_,t)))return!0;UT(e),s2(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jT(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,UT(e),s2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Qs(11)},getPrototypeOf(e){return wm(e.base_)},setPrototypeOf(){Qs(12)}},Tm={};Qx(XN,(e,t)=>{Tm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tm.deleteProperty=function(e,t){return Tm.set.call(this,e,t,void 0)};Tm.set=function(e,t,r){return XN.set.call(this,e[0],t,r,e[0])};function jT(e,t){const r=e[fs];return(r?Wu(r):e)[t]}function gNe(e,t,r){const n=kH(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function kH(e,t){if(!(t in e))return;let r=wm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=wm(r)}}function s2(e){e.modified_||(e.modified_=!0,e.parent_&&s2(e.parent_))}function UT(e){e.copy_||(e.copy_=n2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vNe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Qs(6),n!==void 0&&typeof n!="function"&&Qs(7);let i;if(If(t)){const a=CL(this),s=o2(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?i2(a):a2(a)}return SL(a,n),NL(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===SH&&(i=void 0),this.autoFreeze_&&JN(i,!0),n){const a=[],s=[];kf("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Qs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){If(e)||Qs(8),Ah(e)&&(e=yNe(e));const t=CL(this),r=o2(e,void 0);return r[fs].isManual_=!0,a2(t),r}finishDraft(e,t){const r=e&&e[fs];(!r||!r.isManual_)&&Qs(9);const{scope_:n}=r;return SL(n,t),NL(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=kf("Patches").applyPatches_;return Ah(e)?n(e,t):this.produce(e,i=>n(i,t))}};function o2(e,t){const r=eg(e)?kf("MapSet").proxyMap_(e,t):I_(e)?kf("MapSet").proxySet_(e,t):mNe(e,t);return(t?t.scope_:IH()).drafts_.push(r),r}function yNe(e){return Ah(e)||Qs(10,e),PH(e)}function PH(e){if(!If(e)||k_(e))return e;const t=e[fs];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=n2(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=n2(e,!0);return Qx(r,(i,a)=>{NH(r,i,PH(a))},n),t&&(t.finalized_=!1),r}var xNe=new vNe;xNe.produce;var _Ne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RH=Ba({name:"legend",initialState:_Ne,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:en()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=uo(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:en()},removeLegendPayload:{reducer(e,t){var r=uo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:en()}}}),{setLegendSize:kL,setLegendSettings:bNe,addLegendPayload:OH,replaceLegendPayload:MH,removeLegendPayload:DH}=RH.actions,wNe=RH.reducer,ENe=["contextPayload"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l2.apply(null,arguments)}function PL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PL(Object(r),!0).forEach(function(n){TNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TNe(e,t,r){return(t=ANe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ANe(e){var t=SNe(e,"string");return typeof t=="symbol"?t:t+""}function SNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CNe(e,t){if(e==null)return{};var r,n,i=NNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function INe(e){return e.value}function kNe(e){var{contextPayload:t}=e,r=CNe(e,ENe),n=O$(t,e.payloadUniqBy,INe),i=Sh(Sh({},r),{},{payload:n});return O.isValidElement(e.content)?O.cloneElement(e.content,i):typeof e.content=="function"?O.createElement(e.content,i):O.createElement(bSe,i)}function PNe(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Sh(Sh({},u),d)}function RNe(e){var t=Hr();return O.useEffect(()=>{t(bNe(e))},[t,e]),null}function ONe(e){var t=Hr();return O.useEffect(()=>(t(kL(e)),()=>{t(kL({width:0,height:0}))}),[t,e]),null}function MNe(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var DNe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function FH(e){var t=qn(e,DNe),r=g2e(),n=hAe(),i=oNe(),{width:a,height:s,wrapperStyle:o,portal:c}=t,[u,d]=j$([r]),h=KN(),m=WN();if(h==null||m==null)return null;var y=h-(i?.left||0)-(i?.right||0),x=MNe(t.layout,s,a,y),b=c?o:Sh(Sh({position:"absolute",width:x?.width||a||"auto",height:x?.height||s||"auto"},PNe(o,t,i,h,m,u)),o),E=c??n;if(E==null||r==null)return null;var S=O.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},O.createElement(RNe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&O.createElement(ONe,{width:u.width,height:u.height}),O.createElement(kNe,l2({},t,x,{margin:i,chartWidth:h,chartHeight:m,contextPayload:r})));return wh.createPortal(S,E)}FH.displayName="Legend";function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c2.apply(null,arguments)}function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){FNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FNe(e,t,r){return(t=LNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LNe(e){var t=jNe(e,"string");return typeof t=="symbol"?t:t+""}function jNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UNe(e){return Array.isArray(e)&&Yo(e[0])&&Yo(e[1])?e.join(" ~ "):e}var kd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},BNe=e=>{var{separator:t=kd.separator,contentStyle:r,itemStyle:n,labelStyle:i=kd.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:m=kd.accessibilityLayer}=e,y=()=>{if(a&&a.length){var D={padding:0,margin:0},P=(o?h_(a,o):a).map((N,I)=>{if(N.type==="none")return null;var R=N.formatter||s||UNe,{value:U,name:B}=N,L=U,H=B;if(R){var fe=R(U,B,N,I,a);if(Array.isArray(fe))[L,H]=fe;else if(fe!=null)L=fe;else return null}var me=Z0(Z0({},kd.itemStyle),{},{color:N.color||kd.itemStyle.color},n);return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:me},Yo(H)?O.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Yo(H)?O.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,O.createElement("span",{className:"recharts-tooltip-item-value"},L),O.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:D},P)}return null},x=Z0(Z0({},kd.contentStyle),r),b=Z0({margin:0},i),E=!_n(d),S=E?d:"",F=hr("recharts-default-tooltip",c),k=hr("recharts-tooltip-label",u);E&&h&&a!==void 0&&a!==null&&(S=h(d,a));var M=m?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",c2({className:F,style:x},M),O.createElement("p",{className:k,style:b},O.isValidElement(S)?S:"".concat(S)),y())},Q0="recharts-tooltip-wrapper",VNe={visibility:"hidden"};function zNe(e){var{coordinate:t,translateX:r,translateY:n}=e;return hr(Q0,{["".concat(Q0,"-right")]:it(r)&&t&&it(t.x)&&r>=t.x,["".concat(Q0,"-left")]:it(r)&&t&&it(t.x)&&r<t.x,["".concat(Q0,"-bottom")]:it(n)&&t&&it(t.y)&&n>=t.y,["".concat(Q0,"-top")]:it(n)&&t&&it(t.y)&&n<t.y})}function OL(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&it(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),h=r[n]+i;if(t[n])return s[n]?d:h;var m=c[n];if(m==null)return 0;if(s[n]){var y=d,x=m;return y<x?Math.max(h,m):Math.max(d,m)}if(u==null)return 0;var b=h+o,E=m+u;return b>E?Math.max(d,m):Math.max(h,m)}function $Ne(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function HNe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,d,h,m;return o.height>0&&o.width>0&&r?(h=OL({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=OL({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=$Ne({translateX:h,translateY:m,useTranslate3d:c})):d=VNe,{cssProperties:d,cssClasses:zNe({translateX:h,translateY:m,coordinate:r})}}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){u2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u2(e,t,r){return(t=GNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GNe(e){var t=qNe(e,"string");return typeof t=="symbol"?t:t+""}function qNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class KNe extends O.PureComponent{constructor(){super(...arguments),u2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),u2(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:m,viewBox:y,wrapperStyle:x,lastBoundingBox:b,innerRef:E,hasPortalFromProps:S}=this.props,F=typeof u=="number"?u:u.x,k=typeof u=="number"?u:u.y,{cssClasses:M,cssProperties:D}=HNe({allowEscapeViewBox:r,coordinate:s,offsetLeft:F,offsetTop:k,position:d,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:m,viewBox:y}),P=S?{}:dy(dy({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=dy(dy({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return O.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:N,ref:E},a)}}var LH=()=>{var e;return(e=ut(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(null,arguments)}function DL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(r),!0).forEach(function(n){WNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WNe(e,t,r){return(t=YNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YNe(e){var t=JNe(e,"string");return typeof t=="symbol"?t:t+""}function JNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LL={curveBasisClosed:RAe,curveBasisOpen:OAe,curveBasis:PAe,curveBumpX:vAe,curveBumpY:yAe,curveLinearClosed:MAe,curveLinear:f_,curveMonotoneX:DAe,curveMonotoneY:FAe,curveNatural:LAe,curveStep:jAe,curveStepAfter:BAe,curveStepBefore:UAe},r1=e=>zt(e.x)&&zt(e.y),jL=e=>e.base!=null&&r1(e.base)&&r1(e),ep=e=>e.x,tp=e=>e.y,XNe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Wm(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=LL["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return LL[r]||f_},UL={connectNulls:!1,type:"linear"},ZNe=e=>{var{type:t=UL.type,points:r=[],baseLine:n,layout:i,connectNulls:a=UL.connectNulls}=e,s=XNe(t,i),o=a?r.filter(r1):r;if(Array.isArray(n)){var c,u=r.map((x,b)=>FL(FL({},x),{},{base:n[b]}));i==="vertical"?c=iy().y(tp).x1(ep).x0(x=>x.base.x):c=iy().x(ep).y1(tp).y0(x=>x.base.y);var d=c.defined(jL).curve(s),h=a?u.filter(jL):u;return d(h)}var m;i==="vertical"&&it(n)?m=iy().y(tp).x1(ep).x0(n):it(n)?m=iy().x(ep).y1(tp).y0(n):m=c$().x(ep).y(tp);var y=m.defined(r1).curve(s);return y(o)},oh=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=qf();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?ZNe(s):n;return O.createElement("path",f2({},ja(e),MN(e),{className:hr("recharts-curve",t),d:o===null?void 0:o,ref:i}))},QNe=["x","y","top","left","width","height","className"];function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d2.apply(null,arguments)}function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){tIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tIe(e,t,r){return(t=rIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rIe(e){var t=nIe(e,"string");return typeof t=="symbol"?t:t+""}function nIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iIe(e,t){if(e==null)return{};var r,n,i=aIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sIe=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),oIe=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=iIe(e,QNe),u=eIe({x:t,y:r,top:n,left:i,width:a,height:s},c);return!it(t)||!it(r)||!it(a)||!it(s)||!it(n)||!it(i)?null:O.createElement("path",d2({},ma(u),{className:hr("recharts-cross",o),d:sIe(t,r,a,s,n,i)}))};function lIe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function VL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(r),!0).forEach(function(n){cIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cIe(e,t,r){return(t=uIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uIe(e){var t=fIe(e,"string");return typeof t=="symbol"?t:t+""}function fIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dIe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),jH=(e,t,r)=>e.map(n=>"".concat(dIe(n)," ").concat(t,"ms ").concat(r)).join(","),hIe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Am=(e,t)=>Object.keys(t).reduce((r,n)=>zL(zL({},r),{},{[n]:e(n,t[n])}),{});function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){pIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pIe(e,t,r){return(t=mIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mIe(e){var t=gIe(e,"string");return typeof t=="symbol"?t:t+""}function gIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n1=(e,t,r)=>e+(t-e)*r,h2=e=>{var{from:t,to:r}=e;return t!==r},UH=(e,t,r)=>{var n=Am((i,a)=>{if(h2(a)){var[s,o]=e(a.from,a.to,a.velocity);return Yn(Yn({},a),{},{from:s,velocity:o})}return a},t);return r<1?Am((i,a)=>h2(a)&&n[i]!=null?Yn(Yn({},a),{},{velocity:n1(a.velocity,n[i].velocity,r),from:n1(a.from,n[i].from,r)}):a,t):UH(e,n,r-1)};function vIe(e,t,r,n,i,a){var s,o=n.reduce((m,y)=>Yn(Yn({},m),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),c=()=>Am((m,y)=>y.from,o),u=()=>!Object.values(o).filter(h2).length,d=null,h=m=>{s||(s=m);var y=m-s,x=y/r.dt;o=UH(r,o,x),i(Yn(Yn(Yn({},e),t),c())),s=m,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var m;(m=d)===null||m===void 0||m()})}function yIe(e,t,r,n,i,a,s){var o=null,c=i.reduce((h,m)=>{var y=e[m],x=t[m];return y==null||x==null?h:Yn(Yn({},h),{},{[m]:[y,x]})},{}),u,d=h=>{u||(u=h);var m=(h-u)/n,y=Am((b,E)=>n1(...E,r(m)),c);if(a(Yn(Yn(Yn({},e),t),y)),m<1)o=s.setTimeout(d);else{var x=Am((b,E)=>n1(...E,r(1)),c);a(Yn(Yn(Yn({},e),t),x))}};return()=>(o=s.setTimeout(d),()=>{var h;(h=o)===null||h===void 0||h()})}const xIe=(e,t,r,n,i,a)=>{var s=hIe(e,t);return r==null?()=>(i(Yn(Yn({},e),t)),()=>{}):r.isStepper===!0?vIe(e,t,r,s,i,a):yIe(e,t,r,n,s,i,a)};var i1=1e-4,BH=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],VH=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),HL=(e,t)=>r=>{var n=BH(e,t);return VH(n,r)},_Ie=(e,t)=>r=>{var n=BH(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return VH(i,r)},bIe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},wIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=bIe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},EIe=(e,t,r,n)=>{var i=HL(e,r),a=HL(t,n),s=_Ie(e,r),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,m=0;m<8;++m){var y=i(h)-d,x=s(h);if(Math.abs(y-d)<i1||x<i1)return a(h);h=o(h-y/x)}return a(h)};return c.isStepper=!1,c},GL=function(){return EIe(...wIe(...arguments))},TIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,h=c+(u-d)*i/1e3,m=c*i/1e3+s;return Math.abs(m-o)<i1&&Math.abs(h)<i1?[o,0]:[m,h]};return a.isStepper=!0,a.dt=i,a},AIe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GL(e);case"spring":return TIe();default:if(e.split("(")[0]==="cubic-bezier")return GL(e)}return typeof e=="function"?e:null};function SIe(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class CIe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function NIe(){return SIe(new CIe)}var IIe=O.createContext(NIe);function kIe(e,t){var r=O.useContext(IIe);return O.useMemo(()=>t??r(e),[e,t,r])}var PIe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),tg={isSsr:PIe()},RIe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qL={t:0},BT={t:1};function rg(e){var t=qn(e,RIe),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=r==="auto"?!tg.isSsr:r,h=kIe(t.animationId,t.animationManager),[m,y]=O.useState(d?qL:BT),x=O.useRef(null);return O.useEffect(()=>{d||y(BT)},[d]),O.useEffect(()=>{if(!d||!n)return Gf;var b=xIe(qL,BT,AIe(a),i,y,h.getTimeoutController()),E=()=>{x.current=b()};return h.start([c,s,E,i,o]),()=>{h.stop(),x.current&&x.current(),o()}},[d,n,i,a,s,c,o,h]),u(m.t)}function ng(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=O.useRef(ym(t)),n=O.useRef(e);return n.current!==e&&(r.current=ym(t),n.current=e),r.current}var OIe=["radius"],MIe=["radius"],KL,WL,YL,JL,XL,ZL,QL,e5,t5,r5;function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){DIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DIe(e,t,r){return(t=FIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FIe(e){var t=LIe(e,"string");return typeof t=="symbol"?t:t+""}function LIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(null,arguments)}function a5(e,t){if(e==null)return{};var r,n,i=jIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s5=(e,t,r,n,i)=>{var a=Vc(r),s=Vc(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,h;if(o>0&&Array.isArray(i)){for(var m=[0,0,0,0],y=0,x=4;y<x;y++){var b,E=(b=i[y])!==null&&b!==void 0?b:0;m[y]=E>o?o:E}h=pn(KL||(KL=Oo(["M",",",""])),e,t+c*m[0]),m[0]>0&&(h+=pn(WL||(WL=Oo(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),h+=pn(YL||(YL=Oo(["L ",",",""])),e+r-u*m[1],t),m[1]>0&&(h+=pn(JL||(JL=Oo(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+r,t+c*m[1])),h+=pn(XL||(XL=Oo(["L ",",",""])),e+r,t+n-c*m[2]),m[2]>0&&(h+=pn(ZL||(ZL=Oo(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+r-u*m[2],t+n)),h+=pn(QL||(QL=Oo(["L ",",",""])),e+u*m[3],t+n),m[3]>0&&(h+=pn(e5||(e5=Oo(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+n-c*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);h=pn(t5||(t5=Oo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*S,S,S,d,e+u*S,t,e+r-u*S,t,S,S,d,e+r,t+c*S,e+r,t+n-c*S,S,S,d,e+r-u*S,t+n,e+u*S,t+n,S,S,d,e,t+n-c*S)}else h=pn(r5||(r5=Oo(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return h},o5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zH=e=>{var t=qn(e,o5),r=O.useRef(null),[n,i]=O.useState(-1);O.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ue=r.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:b}=t,E=O.useRef(o),S=O.useRef(c),F=O.useRef(a),k=O.useRef(s),M=O.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),D=ng(M,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var P=hr("recharts-rectangle",d);if(!b){var N=ma(t),{radius:I}=N,R=a5(N,OIe);return O.createElement("path",a1({},R,{x:Vc(a),y:Vc(s),width:Vc(o),height:Vc(c),radius:typeof u=="number"?u:void 0,className:P,d:s5(a,s,o,c,u)}))}var U=E.current,B=S.current,L=F.current,H=k.current,fe="0px ".concat(n===-1?1:n,"px"),me="".concat(n,"px 0px"),ne=jH(["strokeDasharray"],m,typeof h=="string"?h:o5.animationEasing);return O.createElement(rg,{animationId:D,key:D,canBegin:n>0,duration:m,easing:h,isActive:b,begin:y},ue=>{var ce=Yr(U,o,ue),ie=Yr(B,c,ue),xe=Yr(L,a,ue),J=Yr(H,s,ue);r.current&&(E.current=ce,S.current=ie,F.current=xe,k.current=J);var V;x?ue>0?V={transition:ne,strokeDasharray:me}:V={strokeDasharray:fe}:V={strokeDasharray:me};var ee=ma(t),{radius:X}=ee,q=a5(ee,MIe);return O.createElement("path",a1({},q,{radius:typeof u=="number"?u:void 0,className:P,d:s5(xe,J,ce,ie,u),ref:r,style:i5(i5({},V),t.style)}))})};function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){UIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UIe(e,t,r){return(t=BIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BIe(e){var t=VIe(e,"string");return typeof t=="symbol"?t:t+""}function VIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s1=Math.PI/180,zIe=e=>e*180/Math.PI,$n=(e,t,r,n)=>({x:e+Math.cos(-s1*n)*r,y:t+Math.sin(-s1*n)*r}),$H=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$Ie=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},HIe=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=$Ie({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:zIe(c),angleInRadian:c}},GIe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},qIe=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},KIe=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=HIe({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=GIe(t),d=a,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?c5(c5({},t),{},{radius:i,angle:qIe(d,t)}):null};function HH(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=$n(t,r,n,i),o=$n(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var u5,f5,d5,h5,p5,m5,g5;function p2(){return p2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p2.apply(null,arguments)}function Qu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var WIe=(e,t)=>{var r=hi(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hy=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/s1,h=c?i:i+a*d,m=$n(t,r,u,h),y=$n(t,r,n,h),x=c?i-a*d:i,b=$n(t,r,u*Math.cos(d*s1),x);return{center:m,circleTangency:y,lineTangency:b,theta:d}},GH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=WIe(a,s),c=a+o,u=$n(t,r,i,a),d=$n(t,r,i,c),h=pn(u5||(u5=Qu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>c),d.x,d.y);if(n>0){var m=$n(t,r,n,a),y=$n(t,r,n,c);h+=pn(f5||(f5=Qu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,n,n,+(Math.abs(o)>180),+(a<=c),m.x,m.y)}else h+=pn(d5||(d5=Qu(["L ",","," Z"])),t,r);return h},YIe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=hi(u-c),{circleTangency:h,lineTangency:m,theta:y}=hy({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:E}=hy({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),S=o?Math.abs(c-u):Math.abs(c-u)-y-E;if(S<0)return s?pn(h5||(h5=Qu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):GH({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var F=pn(p5||(p5=Qu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(d<0),h.x,h.y,i,i,+(S>180),+(d<0),x.x,x.y,a,a,+(d<0),b.x,b.y);if(n>0){var{circleTangency:k,lineTangency:M,theta:D}=hy({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:P,lineTangency:N,theta:I}=hy({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),R=o?Math.abs(c-u):Math.abs(c-u)-D-I;if(R<0&&a===0)return"".concat(F,"L").concat(t,",").concat(r,"Z");F+=pn(m5||(m5=Qu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,a,a,+(d<0),P.x,P.y,n,n,+(R>180),+(d>0),k.x,k.y,a,a,+(d<0),M.x,M.y)}else F+=pn(g5||(g5=Qu(["L",",","Z"])),t,r);return F},JIe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qH=e=>{var t=qn(e,JIe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(a<i||u===d)return null;var m=hr("recharts-sector",h),y=a-i,x=Wi(s,y,0,!0),b;return x>0&&Math.abs(u-d)<360?b=YIe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,y/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):b=GH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),O.createElement("path",p2({},ma(t),{className:m,d:b}))};function XIe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(T$(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,c=$n(n,i,a,o),u=$n(n,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return HH(t)}}var VT={},zT={},$T={},v5;function ZIe(){return v5||(v5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D$();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})($T)),$T}var y5;function QIe(){return y5||(y5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZIe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(zT)),zT}var x5;function eke(){return x5||(x5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F$(),r=QIe();function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=n})(VT)),VT}var HT,_5;function tke(){return _5||(_5=1,HT=eke().range),HT}var rke=tke();const KH=js(rke);function Jc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nke(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZN(e){let t,r,n;e.length!==2?(t=Jc,r=(o,c)=>Jc(e(o),c),n=(o,c)=>e(o)-c):(t=e===Jc||e===nke?e:ike,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(o[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function s(o,c,u=0,d=o.length){const h=i(o,c,u,d-1);return h>u&&n(o[h-1],c)>-n(o[h],c)?h-1:h}return{left:i,center:s,right:a}}function ike(){return 0}function WH(e){return e===null?NaN:+e}function*ake(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const ske=ZN(Jc),ig=ske.right;ZN(WH).center;class b5 extends Map{constructor(t,r=cke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(w5(this,t))}has(t){return super.has(w5(this,t))}set(t,r){return super.set(oke(this,t),r)}delete(t){return super.delete(lke(this,t))}}function w5({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oke({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lke({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function cke(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uke(e=Jc){if(e===Jc)return YH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function YH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fke=Math.sqrt(50),dke=Math.sqrt(10),hke=Math.sqrt(2);function o1(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=fke?10:a>=dke?5:a>=hke?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?o1(e,t,r*2):[o,c,u]}function m2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?o1(t,e,r):o1(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function g2(e,t,r){return t=+t,e=+e,r=+r,o1(e,t,r)[2]}function v2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?g2(t,e,r):g2(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function E5(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function T5(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JH(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?YH:uke(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),y=Math.max(r,Math.floor(t-u*h/c+m)),x=Math.min(n,Math.floor(t+(c-u)*h/c+m));JH(e,t,y,x,i)}const a=e[t];let s=r,o=n;for(rp(e,r,t),i(e[n],a)>0&&rp(e,r,n);s<o;){for(rp(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?rp(e,r,o):(++o,rp(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function rp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pke(e,t,r){if(e=Float64Array.from(ake(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return T5(e);if(t>=1)return E5(e);var n,i=(n-1)*t,a=Math.floor(i),s=E5(JH(e,a).subarray(0,a+1)),o=T5(e.subarray(a+1));return s+(o-s)*(i-a)}}function mke(e,t,r=WH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function gke(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Vs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y2=Symbol("implicit");function QN(){var e=new b5,t=[],r=[],n=y2;function i(a){let s=e.get(a);if(s===void 0){if(n!==y2)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new b5;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return QN(t,r).unknown(n)},Vs.apply(i,arguments),i}function eI(){var e=QN().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,y=i<n,x=y?i:n,b=y?n:i;a=(b-x)/Math.max(1,m-c+u*2),o&&(a=Math.floor(a)),x+=(b-x-a*(m-c))*d,s=a*(1-c),o&&(x=Math.round(x),s=Math.round(s));var E=gke(m).map(function(S){return x+a*S});return r(y?E.reverse():E)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,o=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(m){return arguments.length?(o=!!m,h()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return eI(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Vs.apply(h(),arguments)}function XH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XH(t())},e}function vke(){return XH(eI.apply(null,arguments).paddingInner(1))}function tI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ZH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ag(){}var Sm=.7,l1=1/Sm,lh="\\s*([+-]?\\d+)\\s*",Cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yke=/^#([0-9a-f]{3,8})$/,xke=new RegExp(`^rgb\\(${lh},${lh},${lh}\\)$`),_ke=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),bke=new RegExp(`^rgba\\(${lh},${lh},${lh},${Cm}\\)$`),wke=new RegExp(`^rgba\\(${qo},${qo},${qo},${Cm}\\)$`),Eke=new RegExp(`^hsl\\(${Cm},${qo},${qo}\\)$`),Tke=new RegExp(`^hsla\\(${Cm},${qo},${qo},${Cm}\\)$`),A5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tI(ag,Nm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:S5,formatHex:S5,formatHex8:Ake,formatHsl:Ske,formatRgb:C5,toString:C5});function S5(){return this.rgb().formatHex()}function Ake(){return this.rgb().formatHex8()}function Ske(){return QH(this).formatHsl()}function C5(){return this.rgb().formatRgb()}function Nm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yke.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?N5(t):r===3?new Da(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?py(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?py(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xke.exec(e))?new Da(t[1],t[2],t[3],1):(t=_ke.exec(e))?new Da(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bke.exec(e))?py(t[1],t[2],t[3],t[4]):(t=wke.exec(e))?py(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Eke.exec(e))?P5(t[1],t[2]/100,t[3]/100,1):(t=Tke.exec(e))?P5(t[1],t[2]/100,t[3]/100,t[4]):A5.hasOwnProperty(e)?N5(A5[e]):e==="transparent"?new Da(NaN,NaN,NaN,0):null}function N5(e){return new Da(e>>16&255,e>>8&255,e&255,1)}function py(e,t,r,n){return n<=0&&(e=t=r=NaN),new Da(e,t,r,n)}function Cke(e){return e instanceof ag||(e=Nm(e)),e?(e=e.rgb(),new Da(e.r,e.g,e.b,e.opacity)):new Da}function x2(e,t,r,n){return arguments.length===1?Cke(e):new Da(e,t,r,n??1)}function Da(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tI(Da,x2,ZH(ag,{brighter(e){return e=e==null?l1:Math.pow(l1,e),new Da(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sm:Math.pow(Sm,e),new Da(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Da(uf(this.r),uf(this.g),uf(this.b),c1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I5,formatHex:I5,formatHex8:Nke,formatRgb:k5,toString:k5}));function I5(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}`}function Nke(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}${ef((isNaN(this.opacity)?1:this.opacity)*255)}`}function k5(){const e=c1(this.opacity);return`${e===1?"rgb(":"rgba("}${uf(this.r)}, ${uf(this.g)}, ${uf(this.b)}${e===1?")":`, ${e})`}`}function c1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ef(e){return e=uf(e),(e<16?"0":"")+e.toString(16)}function P5(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new eo(e,t,r,n)}function QH(e){if(e instanceof eo)return new eo(e.h,e.s,e.l,e.opacity);if(e instanceof ag||(e=Nm(e)),!e)return new eo;if(e instanceof eo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new eo(s,o,c,e.opacity)}function Ike(e,t,r,n){return arguments.length===1?QH(e):new eo(e,t,r,n??1)}function eo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tI(eo,Ike,ZH(ag,{brighter(e){return e=e==null?l1:Math.pow(l1,e),new eo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sm:Math.pow(Sm,e),new eo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Da(GT(e>=240?e-240:e+120,i,n),GT(e,i,n),GT(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new eo(R5(this.h),my(this.s),my(this.l),c1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=c1(this.opacity);return`${e===1?"hsl(":"hsla("}${R5(this.h)}, ${my(this.s)*100}%, ${my(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R5(e){return e=(e||0)%360,e<0?e+360:e}function my(e){return Math.max(0,Math.min(1,e||0))}function GT(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rI=e=>()=>e;function kke(e,t){return function(r){return e+r*t}}function Pke(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Rke(e){return(e=+e)==1?eG:function(t,r){return r-t?Pke(t,r,e):rI(isNaN(t)?r:t)}}function eG(e,t){var r=t-e;return r?kke(e,r):rI(isNaN(e)?t:e)}const O5=(function e(t){var r=Rke(t);function n(i,a){var s=r((i=x2(i)).r,(a=x2(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=eG(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n})(1);function Oke(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Mke(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dke(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Gh(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Fke(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function u1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Lke(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Gh(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var _2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qT=new RegExp(_2.source,"g");function jke(e){return function(){return e}}function Uke(e){return function(t){return e(t)+""}}function Bke(e,t){var r=_2.lastIndex=qT.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=_2.exec(e))&&(i=qT.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:u1(n,i)})),r=qT.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?Uke(c[0].x):jke(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)o[(h=c[d]).i]=h.x(u);return o.join("")})}function Gh(e,t){var r=typeof t,n;return t==null||r==="boolean"?rI(t):(r==="number"?u1:r==="string"?(n=Nm(t))?(t=n,O5):Bke:t instanceof Nm?O5:t instanceof Date?Fke:Mke(t)?Oke:Array.isArray(t)?Dke:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Lke:u1)(e,t)}function nI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vke(e,t){t===void 0&&(t=e,e=Gh);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function zke(e){return function(){return e}}function f1(e){return+e}var M5=[0,1];function fa(e){return e}function b2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zke(isNaN(t)?NaN:.5)}function $ke(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Hke(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=b2(i,n),a=r(s,a)):(n=b2(n,i),a=r(a,s)),function(o){return a(n(o))}}function Gke(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=b2(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=ig(e,o,1,n)-1;return a[c](i[c](o))}}function sg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function P_(){var e=M5,t=M5,r=Gh,n,i,a,s=fa,o,c,u;function d(){var m=Math.min(e.length,t.length);return s!==fa&&(s=$ke(e[0],e[m-1])),o=m>2?Gke:Hke,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=o(e.map(n),t,r)))(n(s(m)))}return h.invert=function(m){return s(i((u||(u=o(t,e.map(n),u1)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,f1),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),r=nI,d()},h.clamp=function(m){return arguments.length?(s=m?!0:fa,d()):s!==fa},h.interpolate=function(m){return arguments.length?(r=m,d()):r},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,y){return n=m,i=y,d()}}function iI(){return P_()(fa,fa)}function qke(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function d1(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ch(e){return e=d1(Math.abs(e)),e?e[1]:NaN}function Kke(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Wke(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Yke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Im(e){if(!(t=Yke.exec(e)))throw new Error("invalid format: "+e);var t;return new aI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Im.prototype=aI.prototype;function aI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jke(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var h1;function Xke(e,t){var r=d1(e,t);if(!r)return h1=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(h1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+d1(e,Math.max(0,t+a-1))[0]}function D5(e,t){var r=d1(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const F5={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qke,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>D5(e*100,t),r:D5,s:Xke,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function L5(e){return e}var j5=Array.prototype.map,U5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zke(e){var t=e.grouping===void 0||e.thousands===void 0?L5:Kke(j5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?L5:Wke(j5.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h,m){h=Im(h);var y=h.fill,x=h.align,b=h.sign,E=h.symbol,S=h.zero,F=h.width,k=h.comma,M=h.precision,D=h.trim,P=h.type;P==="n"?(k=!0,P="g"):F5[P]||(M===void 0&&(M=12),D=!0,P="g"),(S||y==="0"&&x==="=")&&(S=!0,y="0",x="=");var N=(m&&m.prefix!==void 0?m.prefix:"")+(E==="$"?r:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),I=(E==="$"?n:/[%p]/.test(P)?s:"")+(m&&m.suffix!==void 0?m.suffix:""),R=F5[P],U=/[defgprs%]/.test(P);M=M===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function B(L){var H=N,fe=I,me,ne,ue;if(P==="c")fe=R(L)+fe,L="";else{L=+L;var ce=L<0||1/L<0;if(L=isNaN(L)?c:R(Math.abs(L),M),D&&(L=Jke(L)),ce&&+L==0&&b!=="+"&&(ce=!1),H=(ce?b==="("?b:o:b==="-"||b==="("?"":b)+H,fe=(P==="s"&&!isNaN(L)&&h1!==void 0?U5[8+h1/3]:"")+fe+(ce&&b==="("?")":""),U){for(me=-1,ne=L.length;++me<ne;)if(ue=L.charCodeAt(me),48>ue||ue>57){fe=(ue===46?i+L.slice(me+1):L.slice(me))+fe,L=L.slice(0,me);break}}}k&&!S&&(L=t(L,1/0));var ie=H.length+L.length+fe.length,xe=ie<F?new Array(F-ie+1).join(y):"";switch(k&&S&&(L=t(xe+L,xe.length?F-fe.length:1/0),xe=""),x){case"<":L=H+L+fe+xe;break;case"=":L=H+xe+L+fe;break;case"^":L=xe.slice(0,ie=xe.length>>1)+H+L+fe+xe.slice(ie);break;default:L=xe+H+L+fe;break}return a(L)}return B.toString=function(){return h+""},B}function d(h,m){var y=Math.max(-8,Math.min(8,Math.floor(Ch(m)/3)))*3,x=Math.pow(10,-y),b=u((h=Im(h),h.type="f",h),{suffix:U5[8+y/3]});return function(E){return b(x*E)}}return{format:u,formatPrefix:d}}var gy,sI,tG;Qke({thousands:",",grouping:[3],currency:["$",""]});function Qke(e){return gy=Zke(e),sI=gy.format,tG=gy.formatPrefix,gy}function ePe(e){return Math.max(0,-Ch(Math.abs(e)))}function tPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ch(t)/3)))*3-Ch(Math.abs(e)))}function rPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ch(t)-Ch(e))+1}function rG(e,t,r,n){var i=v2(e,t,r),a;switch(n=Im(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=tPe(i,s))&&(n.precision=a),tG(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=rPe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=ePe(i))&&(n.precision=a-(n.type==="%")*2);break}}return sI(n)}function gu(e){var t=e.domain;return e.ticks=function(r){var n=t();return m2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return rG(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=g2(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function nG(){var e=iI();return e.copy=function(){return sg(e,nG())},Vs.apply(e,arguments),gu(e)}function iG(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,f1),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return iG(e).unknown(t)},e=arguments.length?Array.from(e,f1):[0,1],gu(r)}function aG(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function B5(e){return Math.log(e)}function V5(e){return Math.exp(e)}function nPe(e){return-Math.log(-e)}function iPe(e){return-Math.exp(-e)}function aPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sPe(e){return e===10?aPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function z5(e){return(t,r)=>-e(-t,r)}function oI(e){const t=e(B5,V5),r=t.domain;let n=10,i,a;function s(){return i=oPe(n),a=sPe(n),r()[0]<0?(i=z5(i),a=z5(a),e(nPe,iPe)):e(B5,V5),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=i(u),y=i(d),x,b;const E=o==null?10:+o;let S=[];if(!(n%1)&&y-m<E){if(m=Math.floor(m),y=Math.ceil(y),u>0){for(;m<=y;++m)for(x=1;x<n;++x)if(b=m<0?x/a(-m):x*a(m),!(b<u)){if(b>d)break;S.push(b)}}else for(;m<=y;++m)for(x=n-1;x>=1;--x)if(b=m>0?x/a(-m):x*a(m),!(b<u)){if(b>d)break;S.push(b)}S.length*2<E&&(S=m2(u,d,E))}else S=m2(m,y,Math.min(y-m,E)).map(a);return h?S.reverse():S},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Im(c)).precision==null&&(c.trim=!0),c=sI(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(aG(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function sG(){const e=oI(P_()).domain([1,10]);return e.copy=()=>sg(e,sG()).base(e.base()),Vs.apply(e,arguments),e}function $5(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function H5(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lI(e){var t=1,r=e($5(t),H5(t));return r.constant=function(n){return arguments.length?e($5(t=+n),H5(t)):t},gu(r)}function oG(){var e=lI(P_());return e.copy=function(){return sg(e,oG()).constant(e.constant())},Vs.apply(e,arguments)}function G5(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cPe(e){return e<0?-e*e:e*e}function cI(e){var t=e(fa,fa),r=1;function n(){return r===1?e(fa,fa):r===.5?e(lPe,cPe):e(G5(r),G5(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},gu(t)}function uI(){var e=cI(P_());return e.copy=function(){return sg(e,uI()).exponent(e.exponent())},Vs.apply(e,arguments),e}function uPe(){return uI.apply(null,arguments).exponent(.5)}function q5(e){return Math.sign(e)*e*e}function fPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lG(){var e=iI(),t=[0,1],r=!1,n;function i(a){var s=fPe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(q5(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,f1)).map(q5)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lG(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Vs.apply(i,arguments),gu(i)}function cG(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=mke(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[ig(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Jc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return cG().domain(e).range(t).unknown(n)},Vs.apply(a,arguments)}function uG(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[ig(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return uG().domain([e,t]).range(i).unknown(a)},Vs.apply(gu(s),arguments)}function fG(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[ig(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fG().domain(e).range(t).unknown(r)},Vs.apply(i,arguments)}const KT=new Date,WT=new Date;function ei(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>ei(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(KT.setTime(+a),WT.setTime(+s),e(KT),e(WT),Math.floor(r(KT,WT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const p1=ei(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);p1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ei(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):p1);p1.range;const Cl=1e3,Rs=Cl*60,Nl=Rs*60,Bl=Nl*24,fI=Bl*7,K5=Bl*30,YT=Bl*365,tf=ei(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getUTCSeconds());tf.range;const dI=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cl)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());dI.range;const hI=ei(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());hI.range;const pI=ei(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cl-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Nl)},(e,t)=>(t-e)/Nl,e=>e.getHours());pI.range;const mI=ei(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Nl)},(e,t)=>(t-e)/Nl,e=>e.getUTCHours());mI.range;const og=ei(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/Bl,e=>e.getDate()-1);og.range;const R_=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>e.getUTCDate()-1);R_.range;const dG=ei(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>Math.floor(e/Bl));dG.range;function Kf(e){return ei(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/fI)}const O_=Kf(0),m1=Kf(1),dPe=Kf(2),hPe=Kf(3),Nh=Kf(4),pPe=Kf(5),mPe=Kf(6);O_.range;m1.range;dPe.range;hPe.range;Nh.range;pPe.range;mPe.range;function Wf(e){return ei(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fI)}const M_=Wf(0),g1=Wf(1),gPe=Wf(2),vPe=Wf(3),Ih=Wf(4),yPe=Wf(5),xPe=Wf(6);M_.range;g1.range;gPe.range;vPe.range;Ih.range;yPe.range;xPe.range;const gI=ei(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gI.range;const vI=ei(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vI.range;const Vl=ei(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vl.range;const zl=ei(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ei(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zl.range;function hG(e,t,r,n,i,a){const s=[[tf,1,Cl],[tf,5,5*Cl],[tf,15,15*Cl],[tf,30,30*Cl],[a,1,Rs],[a,5,5*Rs],[a,15,15*Rs],[a,30,30*Rs],[i,1,Nl],[i,3,3*Nl],[i,6,6*Nl],[i,12,12*Nl],[n,1,Bl],[n,2,2*Bl],[r,1,fI],[t,1,K5],[t,3,3*K5],[e,1,YT]];function o(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const y=h&&typeof h.range=="function"?h:c(u,d,h),x=y?y.range(u,+d+1):[];return m?x.reverse():x}function c(u,d,h){const m=Math.abs(d-u)/h,y=ZN(([,,E])=>E).right(s,m);if(y===s.length)return e.every(v2(u/YT,d/YT,h));if(y===0)return p1.every(Math.max(v2(u,d,h),1));const[x,b]=s[m/s[y-1][2]<s[y][2]/m?y-1:y];return x.every(b)}return[o,c]}const[_Pe,bPe]=hG(zl,vI,M_,dG,mI,hI),[wPe,EPe]=hG(Vl,gI,O_,og,pI,dI);function JT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function XT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function np(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TPe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=ip(i),d=ap(i),h=ip(a),m=ap(a),y=ip(s),x=ap(s),b=ip(o),E=ap(o),S=ip(c),F=ap(c),k={a:ue,A:ce,b:ie,B:xe,c:null,d:Q5,e:Q5,f:KPe,g:nRe,G:aRe,H:HPe,I:GPe,j:qPe,L:pG,m:WPe,M:YPe,p:J,q:V,Q:rj,s:nj,S:JPe,u:XPe,U:ZPe,V:QPe,w:eRe,W:tRe,x:null,X:null,y:rRe,Y:iRe,Z:sRe,"%":tj},M={a:ee,A:X,b:q,B:he,c:null,d:ej,e:ej,f:uRe,g:_Re,G:wRe,H:oRe,I:lRe,j:cRe,L:gG,m:fRe,M:dRe,p:ye,q:Ie,Q:rj,s:nj,S:hRe,u:pRe,U:mRe,V:gRe,w:vRe,W:yRe,x:null,X:null,y:xRe,Y:bRe,Z:ERe,"%":tj},D={a:U,A:B,b:L,B:H,c:fe,d:X5,e:X5,f:BPe,g:J5,G:Y5,H:Z5,I:Z5,j:FPe,L:UPe,m:DPe,M:LPe,p:R,q:MPe,Q:zPe,s:$Pe,S:jPe,u:IPe,U:kPe,V:PPe,w:NPe,W:RPe,x:me,X:ne,y:J5,Y:Y5,Z:OPe,"%":VPe};k.x=P(r,k),k.X=P(n,k),k.c=P(t,k),M.x=P(r,M),M.X=P(n,M),M.c=P(t,M);function P(oe,ge){return function(De){var K=[],Ye=-1,Ue=0,Ke=oe.length,ze,Fe,Je;for(De instanceof Date||(De=new Date(+De));++Ye<Ke;)oe.charCodeAt(Ye)===37&&(K.push(oe.slice(Ue,Ye)),(Fe=W5[ze=oe.charAt(++Ye)])!=null?ze=oe.charAt(++Ye):Fe=ze==="e"?" ":"0",(Je=ge[ze])&&(ze=Je(De,Fe)),K.push(ze),Ue=Ye+1);return K.push(oe.slice(Ue,Ye)),K.join("")}}function N(oe,ge){return function(De){var K=np(1900,void 0,1),Ye=I(K,oe,De+="",0),Ue,Ke;if(Ye!=De.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(ge&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ue=XT(np(K.y,0,1)),Ke=Ue.getUTCDay(),Ue=Ke>4||Ke===0?g1.ceil(Ue):g1(Ue),Ue=R_.offset(Ue,(K.V-1)*7),K.y=Ue.getUTCFullYear(),K.m=Ue.getUTCMonth(),K.d=Ue.getUTCDate()+(K.w+6)%7):(Ue=JT(np(K.y,0,1)),Ke=Ue.getDay(),Ue=Ke>4||Ke===0?m1.ceil(Ue):m1(Ue),Ue=og.offset(Ue,(K.V-1)*7),K.y=Ue.getFullYear(),K.m=Ue.getMonth(),K.d=Ue.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Ke="Z"in K?XT(np(K.y,0,1)).getUTCDay():JT(np(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Ke+5)%7:K.w+K.U*7-(Ke+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,XT(K)):JT(K)}}function I(oe,ge,De,K){for(var Ye=0,Ue=ge.length,Ke=De.length,ze,Fe;Ye<Ue;){if(K>=Ke)return-1;if(ze=ge.charCodeAt(Ye++),ze===37){if(ze=ge.charAt(Ye++),Fe=D[ze in W5?ge.charAt(Ye++):ze],!Fe||(K=Fe(oe,De,K))<0)return-1}else if(ze!=De.charCodeAt(K++))return-1}return K}function R(oe,ge,De){var K=u.exec(ge.slice(De));return K?(oe.p=d.get(K[0].toLowerCase()),De+K[0].length):-1}function U(oe,ge,De){var K=y.exec(ge.slice(De));return K?(oe.w=x.get(K[0].toLowerCase()),De+K[0].length):-1}function B(oe,ge,De){var K=h.exec(ge.slice(De));return K?(oe.w=m.get(K[0].toLowerCase()),De+K[0].length):-1}function L(oe,ge,De){var K=S.exec(ge.slice(De));return K?(oe.m=F.get(K[0].toLowerCase()),De+K[0].length):-1}function H(oe,ge,De){var K=b.exec(ge.slice(De));return K?(oe.m=E.get(K[0].toLowerCase()),De+K[0].length):-1}function fe(oe,ge,De){return I(oe,t,ge,De)}function me(oe,ge,De){return I(oe,r,ge,De)}function ne(oe,ge,De){return I(oe,n,ge,De)}function ue(oe){return s[oe.getDay()]}function ce(oe){return a[oe.getDay()]}function ie(oe){return c[oe.getMonth()]}function xe(oe){return o[oe.getMonth()]}function J(oe){return i[+(oe.getHours()>=12)]}function V(oe){return 1+~~(oe.getMonth()/3)}function ee(oe){return s[oe.getUTCDay()]}function X(oe){return a[oe.getUTCDay()]}function q(oe){return c[oe.getUTCMonth()]}function he(oe){return o[oe.getUTCMonth()]}function ye(oe){return i[+(oe.getUTCHours()>=12)]}function Ie(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ge=P(oe+="",k);return ge.toString=function(){return oe},ge},parse:function(oe){var ge=N(oe+="",!1);return ge.toString=function(){return oe},ge},utcFormat:function(oe){var ge=P(oe+="",M);return ge.toString=function(){return oe},ge},utcParse:function(oe){var ge=N(oe+="",!0);return ge.toString=function(){return oe},ge}}}var W5={"-":"",_:" ",0:"0"},vi=/^\s*\d+/,APe=/^%/,SPe=/[\\^$*+?|[\]().{}]/g;function pr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function CPe(e){return e.replace(SPe,"\\$&")}function ip(e){return new RegExp("^(?:"+e.map(CPe).join("|")+")","i")}function ap(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function NPe(e,t,r){var n=vi.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function IPe(e,t,r){var n=vi.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function kPe(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function PPe(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function RPe(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Y5(e,t,r){var n=vi.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J5(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function OPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function MPe(e,t,r){var n=vi.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function DPe(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function X5(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function FPe(e,t,r){var n=vi.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Z5(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function LPe(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function jPe(e,t,r){var n=vi.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UPe(e,t,r){var n=vi.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function BPe(e,t,r){var n=vi.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function VPe(e,t,r){var n=APe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zPe(e,t,r){var n=vi.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $Pe(e,t,r){var n=vi.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Q5(e,t){return pr(e.getDate(),t,2)}function HPe(e,t){return pr(e.getHours(),t,2)}function GPe(e,t){return pr(e.getHours()%12||12,t,2)}function qPe(e,t){return pr(1+og.count(Vl(e),e),t,3)}function pG(e,t){return pr(e.getMilliseconds(),t,3)}function KPe(e,t){return pG(e,t)+"000"}function WPe(e,t){return pr(e.getMonth()+1,t,2)}function YPe(e,t){return pr(e.getMinutes(),t,2)}function JPe(e,t){return pr(e.getSeconds(),t,2)}function XPe(e){var t=e.getDay();return t===0?7:t}function ZPe(e,t){return pr(O_.count(Vl(e)-1,e),t,2)}function mG(e){var t=e.getDay();return t>=4||t===0?Nh(e):Nh.ceil(e)}function QPe(e,t){return e=mG(e),pr(Nh.count(Vl(e),e)+(Vl(e).getDay()===4),t,2)}function eRe(e){return e.getDay()}function tRe(e,t){return pr(m1.count(Vl(e)-1,e),t,2)}function rRe(e,t){return pr(e.getFullYear()%100,t,2)}function nRe(e,t){return e=mG(e),pr(e.getFullYear()%100,t,2)}function iRe(e,t){return pr(e.getFullYear()%1e4,t,4)}function aRe(e,t){var r=e.getDay();return e=r>=4||r===0?Nh(e):Nh.ceil(e),pr(e.getFullYear()%1e4,t,4)}function sRe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pr(t/60|0,"0",2)+pr(t%60,"0",2)}function ej(e,t){return pr(e.getUTCDate(),t,2)}function oRe(e,t){return pr(e.getUTCHours(),t,2)}function lRe(e,t){return pr(e.getUTCHours()%12||12,t,2)}function cRe(e,t){return pr(1+R_.count(zl(e),e),t,3)}function gG(e,t){return pr(e.getUTCMilliseconds(),t,3)}function uRe(e,t){return gG(e,t)+"000"}function fRe(e,t){return pr(e.getUTCMonth()+1,t,2)}function dRe(e,t){return pr(e.getUTCMinutes(),t,2)}function hRe(e,t){return pr(e.getUTCSeconds(),t,2)}function pRe(e){var t=e.getUTCDay();return t===0?7:t}function mRe(e,t){return pr(M_.count(zl(e)-1,e),t,2)}function vG(e){var t=e.getUTCDay();return t>=4||t===0?Ih(e):Ih.ceil(e)}function gRe(e,t){return e=vG(e),pr(Ih.count(zl(e),e)+(zl(e).getUTCDay()===4),t,2)}function vRe(e){return e.getUTCDay()}function yRe(e,t){return pr(g1.count(zl(e)-1,e),t,2)}function xRe(e,t){return pr(e.getUTCFullYear()%100,t,2)}function _Re(e,t){return e=vG(e),pr(e.getUTCFullYear()%100,t,2)}function bRe(e,t){return pr(e.getUTCFullYear()%1e4,t,4)}function wRe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ih(e):Ih.ceil(e),pr(e.getUTCFullYear()%1e4,t,4)}function ERe(){return"+0000"}function tj(){return"%"}function rj(e){return+e}function nj(e){return Math.floor(+e/1e3)}var Pd,yG,xG;TRe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TRe(e){return Pd=TPe(e),yG=Pd.format,Pd.parse,xG=Pd.utcFormat,Pd.utcParse,Pd}function ARe(e){return new Date(e)}function SRe(e){return e instanceof Date?+e:+new Date(+e)}function yI(e,t,r,n,i,a,s,o,c,u){var d=iI(),h=d.invert,m=d.domain,y=u(".%L"),x=u(":%S"),b=u("%I:%M"),E=u("%I %p"),S=u("%a %d"),F=u("%b %d"),k=u("%B"),M=u("%Y");function D(P){return(c(P)<P?y:o(P)<P?x:s(P)<P?b:a(P)<P?E:n(P)<P?i(P)<P?S:F:r(P)<P?k:M)(P)}return d.invert=function(P){return new Date(h(P))},d.domain=function(P){return arguments.length?m(Array.from(P,SRe)):m().map(ARe)},d.ticks=function(P){var N=m();return e(N[0],N[N.length-1],P??10)},d.tickFormat=function(P,N){return N==null?D:u(N)},d.nice=function(P){var N=m();return(!P||typeof P.range!="function")&&(P=t(N[0],N[N.length-1],P??10)),P?m(aG(N,P)):d},d.copy=function(){return sg(d,yI(e,t,r,n,i,a,s,o,c,u))},d}function CRe(){return Vs.apply(yI(wPe,EPe,Vl,gI,O_,og,pI,dI,tf,yG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NRe(){return Vs.apply(yI(_Pe,bPe,zl,vI,M_,R_,mI,hI,tf,xG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D_(){var e=0,t=1,r,n,i,a,s=fa,o=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(m){var y,x;return arguments.length?([y,x]=m,s=h(y,x),u):[s(0),s(1)]}}return u.range=d(Gh),u.rangeRound=d(nI),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),u}}function vu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _G(){var e=gu(D_()(fa));return e.copy=function(){return vu(e,_G())},Xl.apply(e,arguments)}function bG(){var e=oI(D_()).domain([1,10]);return e.copy=function(){return vu(e,bG()).base(e.base())},Xl.apply(e,arguments)}function wG(){var e=lI(D_());return e.copy=function(){return vu(e,wG()).constant(e.constant())},Xl.apply(e,arguments)}function xI(){var e=cI(D_());return e.copy=function(){return vu(e,xI()).exponent(e.exponent())},Xl.apply(e,arguments)}function IRe(){return xI.apply(null,arguments).exponent(.5)}function EG(){var e=[],t=fa;function r(n){if(n!=null&&!isNaN(n=+n))return t((ig(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Jc),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>pke(e,a/n))},r.copy=function(){return EG(t).domain(e)},Xl.apply(r,arguments)}function F_(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=fa,d,h=!1,m;function y(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-a)*(n*b<n*a?o:c),u(h?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,y):[e,t,r]},y.clamp=function(b){return arguments.length?(h=!!b,y):h},y.interpolator=function(b){return arguments.length?(u=b,y):u};function x(b){return function(E){var S,F,k;return arguments.length?([S,F,k]=E,u=Vke(b,[S,F,k]),y):[u(0),u(.5),u(1)]}}return y.range=x(Gh),y.rangeRound=x(nI),y.unknown=function(b){return arguments.length?(m=b,y):m},function(b){return d=b,i=b(e),a=b(t),s=b(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,y}}function TG(){var e=gu(F_()(fa));return e.copy=function(){return vu(e,TG())},Xl.apply(e,arguments)}function AG(){var e=oI(F_()).domain([.1,1,10]);return e.copy=function(){return vu(e,AG()).base(e.base())},Xl.apply(e,arguments)}function SG(){var e=lI(F_());return e.copy=function(){return vu(e,SG()).constant(e.constant())},Xl.apply(e,arguments)}function _I(){var e=cI(F_());return e.copy=function(){return vu(e,_I()).exponent(e.exponent())},Xl.apply(e,arguments)}function kRe(){return _I.apply(null,arguments).exponent(.5)}const bp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eI,scaleDiverging:TG,scaleDivergingLog:AG,scaleDivergingPow:_I,scaleDivergingSqrt:kRe,scaleDivergingSymlog:SG,scaleIdentity:iG,scaleImplicit:y2,scaleLinear:nG,scaleLog:sG,scaleOrdinal:QN,scalePoint:vke,scalePow:uI,scaleQuantile:cG,scaleQuantize:uG,scaleRadial:lG,scaleSequential:_G,scaleSequentialLog:bG,scaleSequentialPow:xI,scaleSequentialQuantile:EG,scaleSequentialSqrt:IRe,scaleSequentialSymlog:wG,scaleSqrt:uPe,scaleSymlog:oG,scaleThreshold:fG,scaleTime:CRe,scaleUtc:NRe,tickFormat:rG},Symbol.toStringTag,{value:"Module"}));var Zl=e=>e.chartData,L_=be([Zl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),CG=(e,t,r,n)=>n?L_(e):Zl(e),NG=(e,t,r)=>r?L_(e):Zl(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(zt(t)&&zt(r))return!0}return!1}function ij(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function IG(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(zt(r))i=r;else if(typeof r=="function")return;if(zt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if($l(s))return s}}function PRe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($l(n))return ij(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(it(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t?.[0]))}catch{}else if(typeof i=="string"&&pL.test(i)){var c=pL.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t?.[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(it(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[1]))}catch{}else if(typeof a=="string"&&mL.test(a)){var d=mL.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var h=+d[1];o=t[1]+h}}else o=t?.[1];var m=[s,o];if($l(m))return t==null?m:ij(m,t,r)}}}var qh=1e9,RRe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wI,rn=!0,Ls="[DecimalError] ",ff=Ls+"Invalid argument: ",bI=Ls+"Exponent out of range: ",Kh=Math.floor,Yu=Math.pow,ORe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,is,di=1e7,Wr=7,kG=9007199254740991,v1=Kh(kG/Wr),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Wr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(e){return Rl(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var t=this,r=t.constructor;return Ur(Rl(t,new r(e),0,1),r.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return Gn(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(is))throw Error(Ls+"NaN");if(r.s<1)throw Error(Ls+(r.s?"NaN":"-Infinity"));return r.eq(is)?new n(0):(rn=!1,t=Rl(km(r,a),km(e,a),a),rn=!0,Ur(t,i))};lt.minus=lt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OG(t,e):PG(t,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Ls+"NaN");return r.s?(rn=!1,t=Rl(r,e,0,1).times(e),rn=!0,r.minus(t)):Ur(new n(r),i)};lt.naturalExponential=lt.exp=function(){return RG(this)};lt.naturalLogarithm=lt.ln=function(){return km(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PG(t,e):OG(t,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ff+e);if(t=Gn(i)+1,n=i.d.length-1,r=n*Wr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};lt.squareRoot=lt.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Ls+"NaN")}for(e=Gn(o),rn=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Bo(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Kh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Rl(o,a,s+2)).times(.5),Bo(a.d).slice(0,s)===(t=Bo(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Ur(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return rn=!0,Ur(n,r)};lt.times=lt.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,h=d.constructor,m=d.d,y=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=m.length,u=y.length,c<u&&(a=m,m=y,y=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+y[n]*m[i-n-1]+t,a[i--]=o%di|0,t=o/di|0;a[i]=(a[i]+t)%di|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,rn?Ur(e,h.precision):e};lt.toDecimalPlaces=lt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xo(e,0,qh),t===void 0?t=n.rounding:Xo(t,0,8),Ur(r,e+Gn(r)+1,t))};lt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Pf(n,!0):(Xo(e,0,qh),t===void 0?t=i.rounding:Xo(t,0,8),n=Ur(new i(n),e+1,t),r=Pf(n,!0,e+1)),r};lt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Pf(i):(Xo(e,0,qh),t===void 0?t=a.rounding:Xo(t,0,8),n=Ur(new a(i),e+Gn(i)+1,t),r=Pf(n.abs(),!1,e+Gn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var e=this,t=e.constructor;return Ur(new t(e),Gn(e)+1,t.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(is);if(o=new c(o),!o.s){if(e.s<1)throw Error(Ls+"Infinity");return o}if(o.eq(is))return o;if(n=c.precision,e.eq(is))return Ur(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=kG){for(i=new c(is),t=Math.ceil(n/Wr+4),rn=!1;r%2&&(i=i.times(o),sj(i.d,t)),r=Kh(r/2),r!==0;)o=o.times(o),sj(o.d,t);return rn=!0,e.s<0?new c(is).div(i):Ur(i,n)}}else if(a<0)throw Error(Ls+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,rn=!1,i=e.times(km(o,n+u)),rn=!0,i=RG(i),i.s=a,i};lt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Gn(i),n=Pf(i,r<=a.toExpNeg||r>=a.toExpPos)):(Xo(e,1,qh),t===void 0?t=a.rounding:Xo(t,0,8),i=Ur(new a(i),e,t),r=Gn(i),n=Pf(i,e<=r||r<=a.toExpNeg,e)),n};lt.toSignificantDigits=lt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xo(e,1,qh),t===void 0?t=n.rounding:Xo(t,0,8)),Ur(new n(r),e,t)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gn(e),r=e.constructor;return Pf(e,t<=r.toExpNeg||t>=r.toExpPos)};function PG(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rn?Ur(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(h/Wr),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/di|0,c[a]%=di;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,rn?Ur(t,h):t}function Xo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ff+e)}function Bo(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Wr-n.length,r&&(a+=Pc(r)),a+=n;s=e[t],n=s+"",r=Wr-n.length,r&&(a+=Pc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Rl=(function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%di|0,s=a/di|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*di+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,h,m,y,x,b,E,S,F,k,M,D,P,N,I,R=n.constructor,U=n.s==i.s?1:-1,B=n.d,L=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Ls+"Division by zero");for(c=n.e-i.e,N=L.length,D=B.length,y=new R(U),x=y.d=[],u=0;L[u]==(B[u]||0);)++u;if(L[u]>(B[u]||0)&&--c,a==null?F=a=R.precision:s?F=a+(Gn(n)-Gn(i))+1:F=a,F<0)return new R(0);if(F=F/Wr+2|0,u=0,N==1)for(d=0,L=L[0],F++;(u<D||d)&&F--;u++)k=d*di+(B[u]||0),x[u]=k/L|0,d=k%L|0;else{for(d=di/(L[0]+1)|0,d>1&&(L=e(L,d),B=e(B,d),N=L.length,D=B.length),M=N,b=B.slice(0,N),E=b.length;E<N;)b[E++]=0;I=L.slice(),I.unshift(0),P=L[0],L[1]>=di/2&&++P;do d=0,o=t(L,b,N,E),o<0?(S=b[0],N!=E&&(S=S*di+(b[1]||0)),d=S/P|0,d>1?(d>=di&&(d=di-1),h=e(L,d),m=h.length,E=b.length,o=t(h,b,m,E),o==1&&(d--,r(h,N<m?I:L,m))):(d==0&&(o=d=1),h=L.slice()),m=h.length,m<E&&h.unshift(0),r(b,h,E),o==-1&&(E=b.length,o=t(L,b,N,E),o<1&&(d++,r(b,N<E?I:L,E))),E=b.length):o===0&&(d++,b=[0]),x[u++]=d,o&&b[0]?b[E++]=B[M]||0:(b=[B[M]],E=1);while((M++<D||b[0]!==void 0)&&F--)}return x[0]||x.shift(),y.e=c,Ur(y,s?a+Gn(y)+1:a)}})();function RG(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,h=d.precision;if(Gn(e)>16)throw Error(bI+Gn(e));if(!e.s)return new d(is);for(rn=!1,o=h,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Yu(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(is),d.precision=o;;){if(i=Ur(i.times(e),o),r=r.times(++c),s=a.plus(Rl(i,r,o)),Bo(s.d).slice(0,o)===Bo(a.d).slice(0,o)){for(;u--;)a=Ur(a.times(a),o);return d.precision=h,t==null?(rn=!0,Ur(a,h)):a}a=s}}function Gn(e){for(var t=e.e*Wr,r=e.d[0];r>=10;r/=10)t++;return t}function ZT(e,t,r){if(t>e.LN10.sd())throw rn=!0,r&&(e.precision=r),Error(Ls+"LN10 precision limit exceeded");return Ur(new e(e.LN10),t)}function Pc(e){for(var t="";e--;)t+="0";return t}function km(e,t){var r,n,i,a,s,o,c,u,d,h=1,m=10,y=e,x=y.d,b=y.constructor,E=b.precision;if(y.s<1)throw Error(Ls+(y.s?"NaN":"-Infinity"));if(y.eq(is))return new b(0);if(t==null?(rn=!1,u=E):u=t,y.eq(10))return t==null&&(rn=!0),ZT(b,u);if(u+=m,b.precision=u,r=Bo(x),n=r.charAt(0),a=Gn(y),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Bo(y.d),n=r.charAt(0),h++;a=Gn(y),n>1?(y=new b("0."+r),a++):y=new b(n+"."+r.slice(1))}else return c=ZT(b,u+2,E).times(a+""),y=km(new b(n+"."+r.slice(1)),u-m).plus(c),b.precision=E,t==null?(rn=!0,Ur(y,E)):y;for(o=s=y=Rl(y.minus(is),y.plus(is),u),d=Ur(y.times(y),u),i=3;;){if(s=Ur(s.times(d),u),c=o.plus(Rl(s,new b(i),u)),Bo(c.d).slice(0,u)===Bo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(ZT(b,u+2,E).times(a+""))),o=Rl(o,new b(h),u),b.precision=E,t==null?(rn=!0,Ur(o,E)):o;o=c,i+=2}}function aj(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Kh(r/Wr),e.d=[],n=(r+1)%Wr,r<0&&(n+=Wr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Wr;n<i;)e.d.push(+t.slice(n,n+=Wr));t=t.slice(n),n=Wr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),rn&&(e.e>v1||e.e<-v1))throw Error(bI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ur(e,t,r){var n,i,a,s,o,c,u,d,h=e.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Wr,i=t,u=h[d=0];else{if(d=Math.ceil((n+1)/Wr),a=h.length,d>=a)return e;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=Wr,i=n-Wr+s}if(r!==void 0&&(a=Yu(10,s-i-1),o=u/a%10|0,c=t<0||h[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Yu(10,s-i):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(a=Gn(e),h.length=1,t=t-a-1,h[0]=Yu(10,(Wr-t%Wr)%Wr),e.e=Kh(-t/Wr)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=Yu(10,Wr-n),h[d]=i>0?(u/Yu(10,s-i)%Yu(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==di&&(h[0]=1,++e.e);break}else{if(h[d]+=a,h[d]!=di)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(rn&&(e.e>v1||e.e<-v1))throw Error(bI+Gn(e));return e}function OG(e,t){var r,n,i,a,s,o,c,u,d,h,m=e.constructor,y=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),rn?Ur(t,y):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=h.length):(r=h,n=u,o=c.length),i=Math.max(Math.ceil(y/Wr),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),o=c.length,i=h.length-o;i>0;--i)c[o++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=di-1;--c[a],c[i]+=di}c[i]-=h[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rn?Ur(t,y):t):new m(0)}function Pf(e,t,r){var n,i=Gn(e),a=Bo(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Pc(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Pc(-i-1)+a,r&&(n=r-s)>0&&(a+=Pc(n))):i>=s?(a+=Pc(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Pc(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Pc(n))),e.s<0?"-"+a:a}function sj(e,t){if(e.length>t)return e.length=t,!0}function MG(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ff+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return aj(s,a.toString())}else if(typeof a!="string")throw Error(ff+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,ORe.test(a))aj(s,a);else throw Error(ff+a)}if(i.prototype=lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MG,i.config=i.set=MRe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function MRe(e){if(!e||typeof e!="object")throw Error(Ls+"Object expected");var t,r,n,i=["precision",1,qh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Kh(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ff+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ff+r+": "+n);return this}var wI=MG(RRe);is=new wI(1);const Nr=wI;function DG(e){var t;return e===0?t=1:t=Math.floor(new Nr(e).abs().log(10).toNumber())+1,t}function FG(e,t,r){for(var n=new Nr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var LG=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},jG=(e,t,r)=>{if(e.lte(0))return new Nr(0);var n=DG(e.toNumber()),i=new Nr(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Nr(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?new Nr(c.toNumber()):new Nr(Math.ceil(c.toNumber()))},DRe=(e,t,r)=>{var n=new Nr(1),i=new Nr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Nr(10).pow(DG(e)-1),i=new Nr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Nr(Math.floor(e)))}else e===0?i=new Nr(Math.floor((t-1)/2)):r||(i=new Nr(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],c=0;c<t;c++)o.push(i.add(new Nr(c-s).mul(n)).toNumber());return o},UG=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Nr(0),tickMin:new Nr(0),tickMax:new Nr(0)};var s=jG(new Nr(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new Nr(0):(o=new Nr(t).add(r).div(2),o=o.sub(new Nr(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Nr(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?UG(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new Nr(c).mul(s)),tickMax:o.add(new Nr(u).mul(s))})},FRe=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=LG([r,n]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return r>n?u.reverse():u}if(o===c)return DRe(o,i,a);var{step:d,tickMin:h,tickMax:m}=UG(o,c,s,a,0),y=FG(h,m.add(new Nr(.1).mul(d)),d);return r>n?y.reverse():y},LRe=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=LG([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var c=Math.max(r,2),u=jG(new Nr(o).sub(s).div(c-1),a,0),d=[...FG(new Nr(s),new Nr(o),u),o];return a===!1&&(d=d.map(h=>Math.round(h))),n>i?d.reverse():d},BG=e=>e.rootProps.maxBarSize,jRe=e=>e.rootProps.barGap,VG=e=>e.rootProps.barCategoryGap,URe=e=>e.rootProps.barSize,lg=e=>e.rootProps.stackOffset,zG=e=>e.rootProps.reverseStackOrder,EI=e=>e.options.chartName,TI=e=>e.rootProps.syncId,$G=e=>e.rootProps.syncMethod,AI=e=>e.options.eventEmitter,BRe=e=>e.rootProps.baseValue,Hn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Hu={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Mo={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},j_=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function U_(e,t,r){if(r!=="auto")return r;if(e!=null)return el(e,t)?"category":"number"}function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){VRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VRe(e,t,r){return(t=zRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zRe(e){var t=$Re(e,"string");return typeof t=="symbol"?t:t+""}function $Re(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lj={allowDataOverflow:Hu.allowDataOverflow,allowDecimals:Hu.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hu.angleAxisId,includeHidden:!1,name:void 0,reversed:Hu.reversed,scale:Hu.scale,tick:Hu.tick,tickCount:void 0,ticks:void 0,type:Hu.type,unit:void 0},cj={allowDataOverflow:Mo.allowDataOverflow,allowDecimals:Mo.allowDecimals,allowDuplicatedCategory:Mo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mo.radiusAxisId,includeHidden:Mo.includeHidden,name:void 0,reversed:Mo.reversed,scale:Mo.scale,tick:Mo.tick,tickCount:Mo.tickCount,ticks:void 0,type:Mo.type,unit:void 0},HRe=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},SI=be([HRe,AH],(e,t)=>{var r;if(e!=null)return e;var n=(r=U_(t,"angleAxis",lj.type))!==null&&r!==void 0?r:"category";return y1(y1({},lj),{},{type:n})}),GRe=(e,t)=>e.polarAxis.radiusAxis[t],CI=be([GRe,AH],(e,t)=>{var r;if(e!=null)return e;var n=(r=U_(t,"radiusAxis",cj.type))!==null&&r!==void 0?r:"category";return y1(y1({},cj),{},{type:n})}),B_=e=>e.polarOptions,NI=be([Yl,Jl,Qn],$H),HG=be([B_,NI],(e,t)=>{if(e!=null)return Wi(e.innerRadius,t,0)}),GG=be([B_,NI],(e,t)=>{if(e!=null)return Wi(e.outerRadius,t,t*.8)}),qRe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},qG=be([B_],qRe);be([SI,qG],j_);var KG=be([NI,HG,GG],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});be([CI,KG],j_);var WG=be([cr,B_,HG,GG,Yl,Jl],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:Wi(s,i,i/2),cy:Wi(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),on=(e,t)=>t,cg=(e,t,r)=>r;function V_(e){return e?.id}function YG(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=V_(o);u.forEach((h,m)=>{var y=a==null||i?m:String(Lr(h,a,null)),x=Lr(h,o.dataKey,0),b;s.has(y)?b=s.get(y):b={},Object.assign(b,{[d]:x}),s.set(y,b)})}}),Array.from(s.values())}function z_(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var $_=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function H_(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function KRe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var yi=e=>{var t=cr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Wh=e=>e.tooltip.settings.axisId;function WRe(e){if(e in bp)return bp[e]();var t="scale".concat(Wm(e));if(t in bp)return bp[t]()}function uj(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var o=e(a);if(o!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var c=e.bandwidth();switch(s.position){case"middle":o+=c/2;break;case"end":o+=c;break}}return o}}}}function fj(e,t,r){if(typeof e=="function")return uj(e.copy().domain(t).range(r));if(e!=null){var n=WRe(e);if(n!=null)return n.domain(t).range(r),uj(n)}}var JG=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!$l(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];zt(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){YRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YRe(e,t,r){return(t=JRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JRe(e){var t=XRe(e,"string");return typeof t=="symbol"?t:t+""}function XRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w2=[0,"auto"],li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},XG=(e,t)=>e.cartesianAxis.xAxis[t],Ql=(e,t)=>{var r=XG(e,t);return r??li},ci={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:w2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Zm},ZG=(e,t)=>e.cartesianAxis.yAxis[t],ec=(e,t)=>{var r=ZG(e,t);return r??ci},ZRe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},II=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??ZRe},wn=(e,t,r)=>{switch(t){case"xAxis":return Ql(e,r);case"yAxis":return ec(e,r);case"zAxis":return II(e,r);case"angleAxis":return SI(e,r);case"radiusAxis":return CI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QRe=(e,t,r)=>{switch(t){case"xAxis":return Ql(e,r);case"yAxis":return ec(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Yh=(e,t,r)=>{switch(t){case"xAxis":return Ql(e,r);case"yAxis":return ec(e,r);case"angleAxis":return SI(e,r);case"radiusAxis":return CI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QG=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function kI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var G_=e=>e.graphicalItems.cartesianItems,eOe=be([on,cg],kI),PI=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),ug=be([G_,wn,eOe],PI,{memoizeOptions:{resultEqualityCheck:H_}}),eq=be([ug],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(z_)),tq=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),tOe=be([ug],tq),RI=e=>e.map(t=>t.data).filter(Boolean).flat(1),rOe=be([ug],RI,{memoizeOptions:{resultEqualityCheck:H_}}),OI=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},MI=be([rOe,CG],OI),DI=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Lr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Lr(i,n)}))):e.map(n=>({value:n})),q_=be([MI,wn,ug],DI);function rq(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ky(e){if(Yo(e)||e instanceof Date){var t=Number(e);if(zt(t))return t}}function hj(e){if(Array.isArray(e)){var t=[Ky(e[0]),Ky(e[1])];return $l(t)?t:void 0}var r=Ky(e);if(r!=null)return[r,r]}function Hl(e){return e.map(Ky).filter(Ma)}function nOe(e,t,r){return!r||typeof t!="number"||po(t)?[]:r.length?Hl(r.flatMap(n=>{var i=Lr(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!zt(a)||!zt(s)))return[t-a,t+s]})):[]}var ti=e=>{var t=yi(e),r=Wh(e);return Yh(e,t,r)},fg=be([ti],e=>e?.dataKey),iOe=be([eq,CG,ti],YG),nq=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var c=s[o.stackId];return c==null&&(c=[]),c.push(o),s[o.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,u=n?[...c].reverse():c,d=u.map(V_);return[o,{stackedData:ACe(e,d,r),graphicalItems:u}]}))},_1=be([iOe,eq,lg,zG],nq),iq=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=ICe(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},aOe=be([wn],e=>e.allowDataOverflow),FI=e=>{var t;if(e==null||!("domain"in e))return w2;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Hl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:w2},LI=be([wn],FI),jI=be([LI,aOe],IG),sOe=be([_1,Zl,on,jI],iq,{memoizeOptions:{resultEqualityCheck:$_}}),K_=e=>e.errorBars,oOe=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>rq(r,n)),b1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},UI=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,d,h=(u=n[c.id])===null||u===void 0?void 0:u.filter(S=>rq(i,S)),m=Lr(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),y=nOe(o,m,h);if(y.length>=2){var x=Math.min(...y),b=Math.max(...y);(a==null||x<a)&&(a=x),(s==null||b>s)&&(s=b)}var E=hj(m);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),s=s==null?E[1]:Math.max(s,E[1]))})}),t?.dataKey!=null&&e.forEach(o=>{var c=hj(Lr(o,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),zt(a)&&zt(s))return[a,s]},lOe=be([MI,wn,tOe,K_,on],UI,{memoizeOptions:{resultEqualityCheck:$_}});function cOe(e){var{value:t}=e;if(Yo(t)||t instanceof Date)return t}var uOe=(e,t,r)=>{var n=e.map(cOe).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&b$(n))?KH(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},aq=e=>e.referenceElements.dots,Jh=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),fOe=be([aq,on,cg],Jh),sq=e=>e.referenceElements.areas,dOe=be([sq,on,cg],Jh),oq=e=>e.referenceElements.lines,hOe=be([oq,on,cg],Jh),lq=(e,t)=>{if(e!=null){var r=Hl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},pOe=be(fOe,on,lq),cq=(e,t)=>{if(e!=null){var r=Hl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},mOe=be([dOe,on],cq);function gOe(e){var t;if(e.x!=null)return Hl([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Hl(r)}function vOe(e){var t;if(e.y!=null)return Hl([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Hl(r)}var uq=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?gOe(n):vOe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},yOe=be([hOe,on],uq),xOe=be(pOe,yOe,mOe,(e,t,r)=>b1(e,r,t)),BI=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?b1(n,a,i):b1(a,i);return PRe(t,u,e.allowDataOverflow)},_Oe=be([wn,LI,jI,sOe,lOe,xOe,cr,on],BI,{memoizeOptions:{resultEqualityCheck:$_}}),bOe=[0,1],VI=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=el(t,a);if(u&&o==null){var d;return KH(0,(d=r?.length)!==null&&d!==void 0?d:0)}return c==="category"?uOe(n,e,u):i==="expand"?bOe:s}},zI=be([wn,cr,MI,q_,lg,on,_Oe],VI);function wOe(e){return e in bp}var fq=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Wm(n));return wOe(a)?a:"point"}}},yu=be([wn,QG,EI],fq);function $I(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?fj(e.scale,r,n):fj(t,r,n)}var HI=(e,t,r)=>{var n=FI(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$l(e))return FRe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return LRe(e,t.tickCount,t.allowDecimals)}},GI=be([zI,Yh,yu],HI),qI=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&$l(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=(i=r[0])!==null&&i!==void 0?i:0,c=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(c,u)]}return t},EOe=be([wn,zI,GI,on],qI),TOe=be(q_,wn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Hl(e.map(h=>h.value))).sort((h,m)=>h-m),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],u=n[o+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/s}}),dq=be(TOe,cr,VG,Qn,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!zt(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Wi(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),AOe=(e,t,r)=>{var n=Ql(e,t);return n==null||typeof n.padding!="string"?0:dq(e,"xAxis",t,r,n.padding)},SOe=(e,t,r)=>{var n=ec(e,t);return n==null||typeof n.padding!="string"?0:dq(e,"yAxis",t,r,n.padding)},COe=be(Ql,AOe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),NOe=be(ec,SOe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),IOe=be([Qn,COe,S_,A_,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),kOe=be([Qn,cr,NOe,S_,A_,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),dg=(e,t,r,n)=>{var i;switch(t){case"xAxis":return IOe(e,r,n);case"yAxis":return kOe(e,r,n);case"zAxis":return(i=II(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return qG(e);case"radiusAxis":return KG(e,r);default:return}},hq=be([wn,dg],j_),POe=be([yu,EOe],JG),W_=be([wn,yu,POe,hq],$I);be([ug,K_,on],oOe);function pq(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Y_=(e,t)=>t,J_=(e,t,r)=>r,ROe=be(E_,Y_,J_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(pq)),OOe=be(T_,Y_,J_,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(pq)),mq=(e,t)=>({width:e.width,height:t.height}),MOe=(e,t)=>{var r=typeof t.width=="number"?t.width:Zm;return{width:r,height:e.height}},gq=be(Qn,Ql,mq),DOe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},FOe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},LOe=be(Jl,Qn,ROe,Y_,J_,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=mq(t,o);s==null&&(s=DOe(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),jOe=be(Yl,Qn,OOe,Y_,J_,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=MOe(t,o);s==null&&(s=FOe(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),UOe=(e,t)=>{var r=Ql(e,t);if(r!=null)return LOe(e,r.orientation,r.mirror)},BOe=be([Qn,Ql,UOe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),VOe=(e,t)=>{var r=ec(e,t);if(r!=null)return jOe(e,r.orientation,r.mirror)},zOe=be([Qn,ec,VOe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r?.[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),vq=be(Qn,ec,(e,t)=>{var r=typeof t.width=="number"?t.width:Zm;return{width:r,height:e.height}}),pj=(e,t,r)=>{switch(t){case"xAxis":return gq(e,r).width;case"yAxis":return vq(e,r).height;default:return}},yq=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=el(e,n),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&b$(c))return c}},KI=be([cr,q_,wn,on],yq),xq=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=el(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},WI=be([cr,q_,Yh,on],xq),mj=be([cr,QRe,yu,W_,KI,WI,dg,GI,on],(e,t,r,n,i,a,s,o,c)=>{if(t!=null){var u=el(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),$Oe=(e,t,r,n,i,a,s,o,c)=>{if(!(t==null||n==null)){var u=el(e,c),{type:d,ticks:h,tickCount:m}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/y:0;x=c==="angleAxis"&&a!=null&&a.length>=2?hi(a[0]-a[1])*2*x:x;var b=h||i;return b?b.map((E,S)=>{var F=s?s.indexOf(E):E,k=n.map(F);return zt(k)?{index:S,coordinate:k+x,value:E,offset:x}:null}).filter(Ma):u&&o?o.map((E,S)=>{var F=n.map(E);return zt(F)?{coordinate:F+x,value:E,index:S,offset:x}:null}).filter(Ma):n.ticks?n.ticks(m).map((E,S)=>{var F=n.map(E);return zt(F)?{coordinate:F+x,value:E,index:S,offset:x}:null}).filter(Ma):n.domain().map((E,S)=>{var F=n.map(E);return zt(F)?{coordinate:F+x,value:s?s[E]:E,index:S,offset:x}:null}).filter(Ma)}},_q=be([cr,Yh,yu,W_,GI,dg,KI,WI,on],$Oe),HOe=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=el(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&n?.length>=2?hi(n[0]-n[1])*2*u:u,o&&a?a.map((d,h)=>{var m=r.map(d);return zt(m)?{coordinate:m+u,value:d,index:h,offset:u}:null}).filter(Ma):r.ticks?r.ticks(c).map((d,h)=>{var m=r.map(d);return zt(m)?{coordinate:m+u,value:d,index:h,offset:u}:null}).filter(Ma):r.domain().map((d,h)=>{var m=r.map(d);return zt(m)?{coordinate:m+u,value:i?i[d]:d,index:h,offset:u}:null}).filter(Ma)}},su=be([cr,Yh,W_,dg,KI,WI,on],HOe),ou=be(wn,W_,(e,t)=>{if(!(e==null||t==null))return x1(x1({},e),{},{scale:t})}),GOe=be([wn,yu,zI,hq],$I);be((e,t,r)=>II(e,r),GOe,(e,t)=>{if(!(e==null||t==null))return x1(x1({},e),{},{scale:t})});var qOe=be([cr,E_,T_],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bq=e=>e.options.defaultTooltipEventType,wq=e=>e.options.validateTooltipEventTypes;function Eq(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function YI(e,t){var r=bq(e),n=wq(e);return Eq(t,r,n)}function KOe(e){return ut(t=>YI(t,e))}var Tq=(e,t)=>{var r,n=Number(t);if(!(po(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},WOe=e=>e.tooltip.settings,Fc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},YOe={itemInteraction:{click:Fc,hover:Fc},axisInteraction:{click:Fc,hover:Fc},keyboardInteraction:Fc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Aq=Ba({name:"tooltip",initialState:YOe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:en()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=uo(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:en()},removeTooltipEntrySettings:{reducer(e,t){var r=uo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:en()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:JOe,replaceTooltipEntrySettings:XOe,removeTooltipEntrySettings:ZOe,setTooltipSettingsState:QOe,setActiveMouseOverItemIndex:Sq,mouseLeaveItem:e4e,mouseLeaveChart:Cq,setActiveClickItemIndex:t4e,setMouseOverAxisIndex:Nq,setMouseClickAxisIndex:r4e,setSyncInteraction:E2,setKeyboardInteraction:T2}=Aq.actions,n4e=Aq.reducer;function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){i4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i4e(e,t,r){return(t=a4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a4e(e){var t=s4e(e,"string");return typeof t=="symbol"?t:t+""}function s4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o4e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function l4e(e){return e.index!=null}var Iq=(e,t,r,n)=>{if(t==null)return Fc;var i=o4e(e,t,r);if(i==null)return Fc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(l4e(i)){if(a)return vy(vy({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vy(vy({},Fc),{},{coordinate:i.coordinate})};function c4e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function u4e(e,t){var r=c4e(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function f4e(e,t,r){if(r==null||t==null)return!0;var n=Lr(e,t);return n==null||!$l(r)?!0:u4e(n,r)}var JI=(e,t,r,n)=>{var i=e?.index;if(i==null)return null;var a=Number(i);if(!zt(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(s,Math.min(a,o)),u=t[c];return u==null||f4e(u,r,n)?String(c):null},kq=(e,t,r,n,i,a,s)=>{if(a!=null){var o=s[0],c=o?.getPosition(a);if(c!=null)return c;var u=i?.[Number(a)];if(u)return r==="horizontal"?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},Pq=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Rq=e=>e.options.tooltipPayloadSearcher,Xh=e=>e.tooltip;function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){d4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d4e(e,t,r){return(t=h4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h4e(e){var t=p4e(e,"string");return typeof t=="symbol"?t:t+""}function p4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m4e(e,t){return e??t}var Oq=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return e.reduce((m,y)=>{var x,{dataDefinedOnItem:b,settings:E}=y,S=m4e(b,o),F=Array.isArray(S)?pH(S,u,d):S,k=(x=E?.dataKey)!==null&&x!==void 0?x:n,M=E?.nameKey,D;if(n&&Array.isArray(F)&&!Array.isArray(F[0])&&s==="axis"?D=w$(F,n,i):D=a(F,t,c,M),Array.isArray(D))D.forEach(N=>{var I=yj(yj({},E),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});m.push(gL({tooltipEntrySettings:I,dataKey:N.dataKey,payload:N.payload,value:Lr(N.payload,N.dataKey),name:N.name}))});else{var P;m.push(gL({tooltipEntrySettings:E,dataKey:k,payload:D,value:Lr(D,k),name:(P=Lr(D,M))!==null&&P!==void 0?P:E?.name}))}return m},h)}},XI=be([ti,QG,EI],fq),g4e=be([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),v4e=be([yi,Wh],kI),Zh=be([g4e,ti,v4e],PI,{memoizeOptions:{resultEqualityCheck:H_}}),y4e=be([Zh],e=>e.filter(z_)),x4e=be([Zh],RI,{memoizeOptions:{resultEqualityCheck:H_}}),Qh=be([x4e,Zl],OI),_4e=be([y4e,Zl,ti],YG),ZI=be([Qh,ti,Zh],DI),Mq=be([ti],FI),b4e=be([ti],e=>e.allowDataOverflow),Dq=be([Mq,b4e],IG),w4e=be([Zh],e=>e.filter(z_)),E4e=be([_4e,w4e,lg,zG],nq),T4e=be([E4e,Zl,yi,Dq],iq),A4e=be([Zh],tq),S4e=be([Qh,ti,A4e,K_,yi],UI,{memoizeOptions:{resultEqualityCheck:$_}}),C4e=be([aq,yi,Wh],Jh),N4e=be([C4e,yi],lq),I4e=be([sq,yi,Wh],Jh),k4e=be([I4e,yi],cq),P4e=be([oq,yi,Wh],Jh),R4e=be([P4e,yi],uq),O4e=be([N4e,R4e,k4e],b1),M4e=be([ti,Mq,Dq,T4e,S4e,O4e,cr,yi],BI),hg=be([ti,cr,Qh,ZI,lg,yi,M4e],VI),D4e=be([hg,ti,XI],HI),F4e=be([ti,hg,D4e,yi],qI),Fq=e=>{var t=yi(e),r=Wh(e),n=!1;return dg(e,t,r,n)},Lq=be([ti,Fq],j_),jq=be([ti,XI,F4e,Lq],$I),L4e=be([cr,ZI,ti,yi],yq),j4e=be([cr,ZI,ti,yi],xq),U4e=(e,t,r,n,i,a,s,o)=>{if(t){var{type:c}=t,u=el(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=o==="angleAxis"&&i!=null&&i?.length>=2?hi(i[0]-i[1])*2*h:h,u&&s?s.map((m,y)=>{var x=n.map(m);return zt(x)?{coordinate:x+h,value:m,index:y,offset:h}:null}).filter(Ma):n.domain().map((m,y)=>{var x=n.map(m);return zt(x)?{coordinate:x+h,value:a?a[m]:m,index:y,offset:h}:null}).filter(Ma)}}},tc=be([cr,ti,XI,jq,Fq,L4e,j4e,yi],U4e),QI=be([bq,wq,WOe],(e,t,r)=>Eq(r.shared,e,t)),Uq=e=>e.tooltip.settings.trigger,ek=e=>e.tooltip.settings.defaultIndex,pg=be([Xh,QI,Uq,ek],Iq),lu=be([pg,Qh,fg,hg],JI),Bq=be([tc,lu],Tq),tk=be([pg],e=>{if(e)return e.dataKey}),B4e=be([pg],e=>{if(e)return e.graphicalItemId}),Vq=be([Xh,QI,Uq,ek],Pq),V4e=be([Yl,Jl,cr,Qn,tc,ek,Vq],kq),z4e=be([pg,V4e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),$4e=be([pg],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),H4e=be([Vq,lu,Zl,fg,Bq,Rq,QI],Oq),G4e=be([H4e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){q4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q4e(e,t,r){return(t=K4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4e(e){var t=W4e(e,"string");return typeof t=="symbol"?t:t+""}function W4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y4e=()=>ut(ti),J4e=()=>{var e=Y4e(),t=ut(tc),r=ut(jq);return Th(!e||!r?void 0:_j(_j({},e),{},{scale:r}),t)};function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){X4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X4e(e,t,r){return(t=Z4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4e(e){var t=Q4e(e,"string");return typeof t=="symbol"?t:t+""}function Q4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eMe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},tMe=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Rd(Rd(Rd({},n),$n(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return Rd(Rd(Rd({},n),$n(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function rMe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var zq=(e,t,r,n,i)=>{var a,s=(a=t?.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var c,u,d,h,m,y=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,x=(d=r[o])===null||d===void 0?void 0:d.coordinate,b=o>=s-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(m=r[o+1])===null||m===void 0?void 0:m.coordinate,E=void 0;if(!(y==null||x==null||b==null))if(hi(x-y)!==hi(b-x)){var S=[];if(hi(b-x)===hi(i[1]-i[0])){E=b;var F=x+i[1]-i[0];S[0]=Math.min(F,(F+y)/2),S[1]=Math.max(F,(F+y)/2)}else{E=y;var k=b+i[1]-i[0];S[0]=Math.min(x,(k+x)/2),S[1]=Math.max(x,(k+x)/2)}var M=[Math.min(x,(E+x)/2),Math.max(x,(E+x)/2)];if(e>M[0]&&e<=M[1]||e>=S[0]&&e<=S[1]){var D;return(D=r[o])===null||D===void 0?void 0:D.index}}else{var P=Math.min(y,b),N=Math.max(y,b);if(e>(P+x)/2&&e<=(N+x)/2){var I;return(I=r[o])===null||I===void 0?void 0:I.index}}}else if(t)for(var R=0;R<s;R++){var U=t[R];if(U!=null){var B=t[R+1],L=t[R-1];if(R===0&&B!=null&&e<=(U.coordinate+B.coordinate)/2||R===s-1&&L!=null&&e>(U.coordinate+L.coordinate)/2||R>0&&R<s-1&&L!=null&&B!=null&&e>(U.coordinate+L.coordinate)/2&&e<=(U.coordinate+B.coordinate)/2)return U.index}}return-1},$q=()=>ut(EI),rk=(e,t)=>t,Hq=(e,t,r)=>r,nk=(e,t,r,n)=>n,nMe=be(tc,e=>h_(e,t=>t.coordinate)),ik=be([Xh,rk,Hq,nk],Iq),ak=be([ik,Qh,fg,hg],JI),iMe=(e,t,r)=>{if(t!=null){var n=Xh(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Gq=be([Xh,rk,Hq,nk],Pq),w1=be([Yl,Jl,cr,Qn,tc,nk,Gq],kq),aMe=be([ik,w1],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),qq=be([tc,ak],Tq),sMe=be([Gq,ak,Zl,fg,qq,Rq,rk],Oq),oMe=be([ik,ak],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),lMe=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&rMe(e,s)){var o=kCe(e,t),c=zq(o,a,i,r,n),u=eMe(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},cMe=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=KIe(e,r);if(o){var c=PCe(o,t),u=zq(c,s,a,n,i),d=tMe(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},uMe=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?lMe(e,t,n,i,a,s,o):cMe(e,t,r,n,i,a,s)},fMe=be(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),dMe=be(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Hn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:KRe}});function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){hMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hMe(e,t,r){return(t=pMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e){var t=mMe(e,"string");return typeof t=="symbol"?t:t+""}function mMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gMe={},vMe={zIndexMap:Object.values(Hn).reduce((e,t)=>Ej(Ej({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),gMe)},yMe=new Set(Object.values(Hn));function xMe(e){return yMe.has(e)}var Kq=Ba({name:"zIndex",initialState:vMe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:en()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!xMe(r)&&delete e.zIndexMap[r])},prepare:en()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:en()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:en()}}}),{registerZIndexPortal:_Me,unregisterZIndexPortal:bMe,registerZIndexPortalElement:wMe,unregisterZIndexPortalElement:EMe}=Kq.actions,TMe=Kq.reducer;function Va(e){var{zIndex:t,children:r}=e,n=lNe(),i=n&&t!==void 0&&t!==0,a=Xi(),s=Hr();O.useLayoutEffect(()=>i?(s(_Me({zIndex:t})),()=>{s(bMe({zIndex:t}))}):Gf,[s,t,i]);var o=ut(c=>fMe(c,t,a));return i?o?wh.createPortal(r,o):null:r}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A2.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){AMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AMe(e,t,r){return(t=SMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SMe(e){var t=CMe(e,"string");return typeof t=="symbol"?t:t+""}function CMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NMe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return O.isValidElement(t)?O.cloneElement(t,n):O.createElement(r,n)}function IMe(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,m=n,y=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var x,b,E;if(d==="ScatterChart")x=h,b=oIe,E=Hn.cursorLine;else if(d==="BarChart")x=lIe(o,h,a,s),b=zH,E=Hn.cursorRectangle;else if(o==="radial"&&T$(h)){var{cx:S,cy:F,radius:k,startAngle:M,endAngle:D}=HH(h);x={cx:S,cy:F,startAngle:M,endAngle:D,innerRadius:k,outerRadius:k},b=qH,E=Hn.cursorLine}else x={points:XIe(o,h,a)},b=oh,E=Hn.cursorLine;var P=typeof c=="object"&&"className"in c?c.className:void 0,N=yy(yy(yy(yy({stroke:"#ccc",pointerEvents:"none"},a),x),Tf(c)),{},{payload:m,payloadIndex:y,className:hr("recharts-tooltip-cursor",P)});return O.createElement(Va,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},O.createElement(NMe,{cursor:c,cursorComp:b,cursorProps:N}))}function kMe(e){var t=J4e(),r=TH(),n=qf(),i=$q();return t==null||r==null||n==null||i==null?null:O.createElement(IMe,A2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var Wq=O.createContext(null),PMe=()=>O.useContext(Wq),QT={exports:{}},Aj;function RMe(){return Aj||(Aj=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,h||c,m),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,y=h.length,x=new Array(y);m<y;m++)x[m]=h[m].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,m,y,x){var b=r?r+u:u;if(!this._events[b])return!1;var E=this._events[b],S=arguments.length,F,k;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,m),!0;case 5:return E.fn.call(E.context,d,h,m,y),!0;case 6:return E.fn.call(E.context,d,h,m,y,x),!0}for(k=1,F=new Array(S-1);k<S;k++)F[k-1]=arguments[k];E.fn.apply(E.context,F)}else{var M=E.length,D;for(k=0;k<M;k++)switch(E[k].once&&this.removeListener(u,E[k].fn,void 0,!0),S){case 1:E[k].fn.call(E[k].context);break;case 2:E[k].fn.call(E[k].context,d);break;case 3:E[k].fn.call(E[k].context,d,h);break;case 4:E[k].fn.call(E[k].context,d,h,m);break;default:if(!F)for(D=1,F=new Array(S-1);D<S;D++)F[D-1]=arguments[D];E[k].fn.apply(E[k].context,F)}}return!0},o.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,m){var y=r?r+u:u;if(!this._events[y])return this;if(!d)return s(this,y),this;var x=this._events[y];if(x.fn)x.fn===d&&(!m||x.once)&&(!h||x.context===h)&&s(this,y);else{for(var b=0,E=[],S=x.length;b<S;b++)(x[b].fn!==d||m&&!x[b].once||h&&x[b].context!==h)&&E.push(x[b]);E.length?this._events[y]=E.length===1?E[0]:E:s(this,y)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(QT)),QT.exports}var OMe=RMe();const MMe=js(OMe);var Pm=new MMe,S2="recharts.syncEvent.tooltip",Sj="recharts.syncEvent.brush",sk=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!po(r))return e[r]}},DMe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Yq=Ba({name:"options",initialState:DMe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),FMe=Yq.reducer,{createEventEmitter:LMe}=Yq.actions;function jMe(e){return e.tooltip.syncInteraction}var UMe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Jq=Ba({name:"chartData",initialState:UMe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Cj,setDataStartEndIndexes:BMe,setComputedData:H8e}=Jq.actions,VMe=Jq.reducer,zMe=["x","y"];function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){$Me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Me(e,t,r){return(t=HMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HMe(e){var t=GMe(e,"string");return typeof t=="symbol"?t:t+""}function GMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qMe(e,t){if(e==null)return{};var r,n,i=KMe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WMe(){var e=ut(TI),t=ut(AI),r=Hr(),n=ut($G),i=ut(tc),a=qf(),s=C_(),o=ut(c=>c.rootProps.className);O.useEffect(()=>{if(e==null)return Gf;var c=(u,d,h)=>{if(t!==h&&e===u){if(n==="index"){var m;if(s&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var y=d.payload.coordinate,{x,y:b}=y,E=qMe(y,zMe),{x:S,y:F,width:k,height:M}=d.payload.sourceViewBox,D=Od(Od({},E),{},{x:s.x+(k?(x-S)/k:0)*s.width,y:s.y+(M?(b-F)/M:0)*s.height});r(Od(Od({},d),{},{payload:Od(Od({},d.payload),{},{coordinate:D})}))}else r(d);return}if(i!=null){var P;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=n(i,N);P=i[I]}else n==="value"&&(P=i.find(ne=>String(ne.value)===d.payload.label));var{coordinate:R}=d.payload;if(P==null||d.payload.active===!1||R==null||s==null){r(E2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:B}=R,L=Math.min(U,s.x+s.width),H=Math.min(B,s.y+s.height),fe={x:a==="horizontal"?P.coordinate:L,y:a==="horizontal"?H:P.coordinate},me=E2({active:d.payload.active,coordinate:fe,dataKey:d.payload.dataKey,index:String(P.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(me)}}};return Pm.on(S2,c),()=>{Pm.off(S2,c)}},[o,r,t,e,n,i,a,s])}function YMe(){var e=ut(TI),t=ut(AI),r=Hr();O.useEffect(()=>{if(e==null)return Gf;var n=(i,a,s)=>{t!==s&&e===i&&r(BMe(a))};return Pm.on(Sj,n),()=>{Pm.off(Sj,n)}},[r,t,e])}function JMe(){var e=Hr();O.useEffect(()=>{e(LMe())},[e]),WMe(),YMe()}function XMe(e,t,r,n,i,a){var s=ut(y=>iMe(y,e,t)),o=ut(AI),c=ut(TI),u=ut($G),d=ut(jMe),h=d?.active,m=C_();O.useEffect(()=>{if(!h&&c!=null&&o!=null){var y=E2({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});Pm.emit(S2,c,y,o)}},[h,r,s,i,n,o,c,u,a,m])}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){ZMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZMe(e,t,r){return(t=QMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QMe(e){var t=eDe(e,"string");return typeof t=="symbol"?t:t+""}function eDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tDe(e){return e.dataKey}function rDe(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(BNe,t)}var Pj=[],nDe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sp(e){var t,r,n=qn(e,nDe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:m,position:y,reverseDirection:x,useTranslate3d:b,wrapperStyle:E,cursor:S,shared:F,trigger:k,defaultIndex:M,portal:D,axisId:P}=n,N=Hr(),I=typeof M=="number"?String(M):M;O.useEffect(()=>{N(QOe({shared:F,trigger:k,axisId:P,active:i,defaultIndex:I}))},[N,F,k,P,i,I]);var R=C_(),U=LH(),B=KOe(F),{activeIndex:L,isActive:H}=(t=ut(ye=>oMe(ye,B,k,I)))!==null&&t!==void 0?t:{},fe=ut(ye=>sMe(ye,B,k,I)),me=ut(ye=>qq(ye,B,k,I)),ne=ut(ye=>aMe(ye,B,k,I)),ue=fe,ce=PMe(),ie=(r=i??H)!==null&&r!==void 0?r:!1,[xe,J]=j$([ue,ie]),V=B==="axis"?me:void 0;XMe(B,k,ne,V,L,ie);var ee=D??ce;if(ee==null||R==null||B==null)return null;var X=ue??Pj;ie||(X=Pj),u&&X.length&&(X=O$(X.filter(ye=>ye.value!=null&&(ye.hide!==!0||n.includeHidden)),m,tDe));var q=X.length>0,he=O.createElement(KNe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:ie,coordinate:ne,hasPayload:q,offset:h,position:y,reverseDirection:x,useTranslate3d:b,viewBox:R,wrapperStyle:E,lastBoundingBox:xe,innerRef:J,hasPortalFromProps:!!D},rDe(c,kj(kj({},n),{},{payload:X,label:V,active:ie,activeIndex:L,coordinate:ne,accessibilityLayer:U})));return O.createElement(O.Fragment,null,wh.createPortal(he,ee),ie&&O.createElement(kMe,{cursor:S,tooltipEventType:B,coordinate:ne,payload:X,index:L}))}var mg=e=>null;mg.displayName="Cell";function iDe(e,t,r){return(t=aDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aDe(e){var t=sDe(e,"string");return typeof t=="symbol"?t:t+""}function sDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oDe{constructor(t){iDe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){cDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cDe(e,t,r){return(t=uDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uDe(e){var t=fDe(e,"string");return typeof t=="symbol"?t:t+""}function fDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dDe={cacheSize:2e3,enableCache:!0},Xq=lDe({},dDe),Oj=new oDe(Xq.cacheSize),hDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mj="recharts_measurement_span";function pDe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var Dj=(e,t)=>{try{var r=document.getElementById(Mj);r||(r=document.createElement("span"),r.setAttribute("id",Mj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,hDe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},zp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tg.isSsr)return{width:0,height:0};if(!Xq.enableCache)return Dj(t,r);var n=pDe(t,r),i=Oj.get(n);if(i)return i;var a=Dj(t,r);return Oj.set(n,a),a},Zq;function mDe(e,t,r){return(t=gDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=vDe(e,"string");return typeof t=="symbol"?t:t+""}function vDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_De={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bDe=["cm","mm","pt","pc","in","Q","px"];function wDe(e){return bDe.includes(e)}var Wd="NaN";function EDe(e,t){return e*_De[t]}class Ci{static parse(t){var r,[,n,i]=(r=xDe.exec(t))!==null&&r!==void 0?r:[];return n==null?Ci.NaN:new Ci(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,po(t)&&(this.unit=""),r!==""&&!yDe.test(r)&&(this.num=NaN,this.unit=""),wDe(r)&&(this.num=EDe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return po(this.num)}}Zq=Ci;mDe(Ci,"NaN",new Zq(NaN,""));function Qq(e){if(e==null||e.includes(Wd))return Wd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Fj.exec(t))!==null&&r!==void 0?r:[],s=Ci.parse(n??""),o=Ci.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Wd;t=t.replace(Fj,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,m]=(u=Lj.exec(t))!==null&&u!==void 0?u:[],y=Ci.parse(d??""),x=Ci.parse(m??""),b=h==="+"?y.add(x):y.subtract(x);if(b.isNaN())return Wd;t=t.replace(Lj,b.toString())}return t}var jj=/\(([^()]*)\)/;function TDe(e){for(var t=e,r;(r=jj.exec(t))!=null;){var[,n]=r;t=t.replace(jj,Qq(n))}return t}function ADe(e){var t=e.replace(/\s+/g,"");return t=TDe(t),t=Qq(t),t}function SDe(e){try{return ADe(e)}catch{return Wd}}function eA(e){var t=SDe(e.slice(5,-1));return t===Wd?"":t}var CDe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],NDe=["dx","dy","angle","className","breakAll"];function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C2.apply(null,arguments)}function Uj(e,t){if(e==null)return{};var r,n,i=IDe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eK=/[ \f\n\r\t\v\u2028\u2029]+/,tK=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];_n(t)||(r?i=t.toString().split(""):i=t.toString().split(eK));var a=i.map(o=>({word:o,width:zp(o,n).width})),s=r?0:zp("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function kDe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var rK=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(t==null||n||c.width+o+r<Number(t)))c.words.push(s),c.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),nK=e=>e.reduce((t,r)=>t.width>r.width?t:r),PDe="",Bj=(e,t,r,n,i,a,s,o)=>{var c=e.slice(0,t),u=tK({breakAll:r,style:n,children:c+PDe});if(!u)return[!1,[]];var d=rK(u.wordsWithComputedWidth,a,s,o),h=d.length>i||nK(d).width>Number(a);return[h,d]},RDe=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=it(a),d=String(s),h=rK(t,n,r,i);if(!u||i)return h;var m=h.length>a||nK(h).width>Number(n);if(!m)return h;for(var y=0,x=d.length-1,b=0,E;y<=x&&b<=d.length-1;){var S=Math.floor((y+x)/2),F=S-1,[k,M]=Bj(d,F,c,o,a,n,r,i),[D]=Bj(d,S,c,o,a,n,r,i);if(!k&&!D&&(y=S+1),k&&D&&(x=S-1),!k&&D){E=M;break}b++}return E||h},Vj=e=>{var t=_n(e)?[]:e.toString().split(eK);return[{words:t,width:void 0}]},ODe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!tg.isSsr){var o,c,u=tK({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;o=d,c=h}else return Vj(n);return RDe({breakAll:a,children:n,maxLines:s,style:i},o,c,t,!!r)}return Vj(n)},iK="#808080",MDe={angle:0,breakAll:!1,capHeight:"0.71em",fill:iK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},X_=O.forwardRef((e,t)=>{var r=qn(e,MDe),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=Uj(r,CDe),m=O.useMemo(()=>ODe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:y,dy:x,angle:b,className:E,breakAll:S}=h,F=Uj(h,NDe);if(!Yo(n)||!Yo(i)||m.length===0)return null;var k=Number(n)+(it(y)?y:0),M=Number(i)+(it(x)?x:0);if(!zt(k)||!zt(M))return null;var D;switch(d){case"start":D=eA("calc(".concat(s,")"));break;case"middle":D=eA("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:D=eA("calc(".concat(m.length-1," * -").concat(a,")"));break}var P=[],N=m[0];if(c&&N!=null){var I=N.width,{width:R}=h;P.push("scale(".concat(it(R)&&it(I)?R/I:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(k,", ").concat(M,")")),P.length&&(F.transform=P.join(" ")),O.createElement("text",C2({},ma(F),{ref:t,x:k,y:M,className:hr("recharts-text",E),textAnchor:u,fill:o.includes("url")?iK:o}),m.map((U,B)=>{var L=U.words.join(S?"":" ");return O.createElement("tspan",{x:k,dy:B===0?D:a,key:"".concat(L,"-").concat(B)},L)}))});X_.displayName="Text";function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){DDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DDe(e,t,r){return(t=FDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FDe(e){var t=LDe(e,"string");return typeof t=="symbol"?t:t+""}function LDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jDe=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:s,height:o,upperWidth:c,lowerWidth:u}=qN(t),d=a,h=a+(c-u)/2,m=(d+h)/2,y=(c+u)/2,x=d+c/2,b=o>=0?1:-1,E=b*n,S=b>0?"end":"start",F=b>0?"start":"end",k=c>=0?1:-1,M=k*n,D=k>0?"end":"start",P=k>0?"start":"end",N=i;if(r==="top"){var I={x:d+c/2,y:s-E,horizontalAnchor:"middle",verticalAnchor:S};return N&&(I.height=Math.max(s-N.y,0),I.width=c),I}if(r==="bottom"){var R={x:h+u/2,y:s+o+E,horizontalAnchor:"middle",verticalAnchor:F};return N&&(R.height=Math.max(N.y+N.height-(s+o),0),R.width=u),R}if(r==="left"){var U={x:m-M,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return N&&(U.width=Math.max(U.x-N.x,0),U.height=o),U}if(r==="right"){var B={x:m+y+M,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return N&&(B.width=Math.max(N.x+N.width-B.x,0),B.height=o),B}var L=N?{width:y,height:o}:{};return r==="insideLeft"?Do({x:m+M,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},L):r==="insideRight"?Do({x:m+y-M,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"},L):r==="insideTop"?Do({x:d+c/2,y:s+E,horizontalAnchor:"middle",verticalAnchor:F},L):r==="insideBottom"?Do({x:h+u/2,y:s+o-E,horizontalAnchor:"middle",verticalAnchor:S},L):r==="insideTopLeft"?Do({x:d+M,y:s+E,horizontalAnchor:P,verticalAnchor:F},L):r==="insideTopRight"?Do({x:d+c-M,y:s+E,horizontalAnchor:D,verticalAnchor:F},L):r==="insideBottomLeft"?Do({x:h+M,y:s+o-E,horizontalAnchor:P,verticalAnchor:S},L):r==="insideBottomRight"?Do({x:h+u-M,y:s+o-E,horizontalAnchor:D,verticalAnchor:S},L):r&&typeof r=="object"&&(it(r.x)||Cf(r.x))&&(it(r.y)||Cf(r.y))?Do({x:a+Wi(r.x,y),y:s+Wi(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},L):Do({x,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},UDe=["labelRef"],BDe=["content"];function $j(e,t){if(e==null)return{};var r,n,i=VDe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){zDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zDe(e,t,r){return(t=$De(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $De(e){var t=HDe(e,"string");return typeof t=="symbol"?t:t+""}function HDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(null,arguments)}var aK=O.createContext(null),GDe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,c=O.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return O.createElement(aK.Provider,{value:c},o)},sK=()=>{var e=O.useContext(aK),t=C_();return e||(t?qN(t):void 0)},qDe=O.createContext(null),KDe=()=>{var e=O.useContext(qDe),t=ut(WG);return e||t},WDe=e=>{var{value:t,formatter:r}=e,n=_n(e.children)?t:e.children;return typeof r=="function"?r(n):n},ok=e=>e!=null&&typeof e=="function",YDe=(e,t)=>{var r=hi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},JDe=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:m,clockWise:y}=i,x=(u+d)/2,b=YDe(h,m),E=b>=0?1:-1,S,F;switch(t){case"insideStart":S=h+E*a,F=y;break;case"insideEnd":S=m-E*a,F=!y;break;case"end":S=m+E*a,F=y;break;default:throw new Error("Unsupported position ".concat(t))}F=b<=0?F:!F;var k=$n(o,c,x,S),M=$n(o,c,x,S+(F?1:-1)*359),D="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(F?0:1,`,
    `).concat(M.x,",").concat(M.y),P=_n(e.id)?ym("recharts-radial-line-"):e.id;return O.createElement("text",Tl({},n,{dominantBaseline:"central",className:hr("recharts-radial-bar-label",s)}),O.createElement("defs",null,O.createElement("path",{id:P,d:D})),O.createElement("textPath",{xlinkHref:"#".concat(P)},r))},XDe=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:h}=$n(n,i,s+t,u);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+s)/2,{x:y,y:x}=$n(n,i,m,u);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Wy=e=>e!=null&&"cx"in e&&it(e.cx),ZDe={angle:0,offset:5,zIndex:Hn.label,position:"middle",textBreakAll:!1};function QDe(e){if(!Wy(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Rc(e){var t=qn(e,ZDe),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:c="",textBreakAll:u,labelRef:d}=t,h=KDe(),m=sK(),y=i==="center"?m:h??m,x,b,E;r==null?x=y:Wy(r)?x=r:x=qN(r);var S=QDe(x);if(!x||_n(a)&&_n(s)&&!O.isValidElement(o)&&typeof o!="function")return null;var F=wp(wp({},t),{},{viewBox:x});if(O.isValidElement(o)){var{labelRef:k}=F,M=$j(F,UDe);return O.cloneElement(o,M)}if(typeof o=="function"){var{content:D}=F,P=$j(F,BDe);if(b=O.createElement(o,P),O.isValidElement(b))return b}else b=WDe(t);var N=ma(t);if(Wy(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return JDe(t,i,b,N,x);E=XDe(x,t.offset,t.position)}else{if(!S)return null;var I=jDe({viewBox:S,position:i,offset:t.offset,parentViewBox:Wy(n)?void 0:n});E=wp(wp({x:I.x,y:I.y,textAnchor:I.horizontalAnchor,verticalAnchor:I.verticalAnchor},I.width!==void 0?{width:I.width}:{}),I.height!==void 0?{height:I.height}:{})}return O.createElement(Va,{zIndex:t.zIndex},O.createElement(X_,Tl({ref:d,className:hr("recharts-label",c)},N,E,{textAnchor:kDe(N.textAnchor)?N.textAnchor:E.textAnchor,breakAll:u}),b))}Rc.displayName="Label";var e3e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?O.createElement(Rc,Tl({key:"label-implicit"},n)):Yo(e)?O.createElement(Rc,Tl({key:"label-implicit",value:e},n)):O.isValidElement(e)?e.type===Rc?O.cloneElement(e,wp({key:"label-implicit"},n)):O.createElement(Rc,Tl({key:"label-implicit",content:e},n)):ok(e)?O.createElement(Rc,Tl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?O.createElement(Rc,Tl({},e,{key:"label-implicit"},n)):null};function t3e(e){var{label:t,labelRef:r}=e,n=sK();return e3e(t,n,r)||null}var tA={},rA={},Gj;function r3e(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(rA)),rA}var nA={},qj;function n3e(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(nA)),nA}var Kj;function i3e(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r3e(),r=n3e(),n=DN();function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(tA)),tA}var iA,Wj;function a3e(){return Wj||(Wj=1,iA=i3e().last),iA}var s3e=a3e();const o3e=js(s3e);var l3e=["valueAccessor"],c3e=["dataKey","clockWise","id","textBreakAll","zIndex"];function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(null,arguments)}function Yj(e,t){if(e==null)return{};var r,n,i=u3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f3e=e=>Array.isArray(e.value)?o3e(e.value):e.value,oK=O.createContext(void 0),lK=oK.Provider,cK=O.createContext(void 0),d3e=cK.Provider;function h3e(){return O.useContext(oK)}function p3e(){return O.useContext(cK)}function Yy(e){var{valueAccessor:t=f3e}=e,r=Yj(e,l3e),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=Yj(r,c3e),u=h3e(),d=p3e(),h=u||d;return!h||!h.length?null:O.createElement(Va,{zIndex:o??Hn.label},O.createElement(Nn,{className:"recharts-label-list"},h.map((m,y)=>{var x,b=_n(n)?t(m,y):Lr(m.payload,n),E=_n(a)?{}:{id:"".concat(a,"-").concat(y)};return O.createElement(Rc,E1({key:"label-".concat(y)},ma(m),c,E,{fill:(x=r.fill)!==null&&x!==void 0?x:m.fill,parentViewBox:m.parentViewBox,value:b,textBreakAll:s,viewBox:m.viewBox,index:y,zIndex:0}))})))}Yy.displayName="LabelList";function lk(e){var{label:t}=e;return t?t===!0?O.createElement(Yy,{key:"labelList-implicit"}):O.isValidElement(t)||ok(t)?O.createElement(Yy,{key:"labelList-implicit",content:t}):typeof t=="object"?O.createElement(Yy,E1({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function N2(){return N2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N2.apply(null,arguments)}var uK=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=hr("recharts-dot",i);return it(t)&&it(r)&&it(n)?O.createElement("circle",N2({},ja(e),MN(e),{className:a,cx:t,cy:r,r:n})):null},fK=e=>e.graphicalItems.polarItems,m3e=be([on,cg],kI),Z_=be([fK,wn,m3e],PI),g3e=be([Z_],RI),Q_=be([g3e,L_],OI),v3e=be([Q_,wn,Z_],DI);be([Q_,wn,Z_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Lr(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Lr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Jj=()=>{},y3e=be([Q_,wn,Z_,K_,on],UI),x3e=be([wn,LI,jI,Jj,y3e,Jj,cr,on],BI),dK=be([wn,cr,Q_,v3e,lg,on,x3e],VI),_3e=be([dK,Yh,yu],HI),b3e=be([wn,dK,_3e,on],qI);be([yu,b3e],JG);var w3e={radiusAxis:{},angleAxis:{}},hK=Ba({name:"polarAxis",initialState:w3e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:G8e,removeRadiusAxis:q8e,addAngleAxis:K8e,removeAngleAxis:W8e}=hK.actions,E3e=hK.reducer;function pK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){T3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T3e(e,t,r){return(t=A3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3e(e){var t=S3e(e,"string");return typeof t=="symbol"?t:t+""}function S3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C3e=(e,t)=>t,ck=be([fK,C3e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),N3e=[],uk=(e,t,r)=>r?.length===0?N3e:r,mK=be([L_,ck,uk],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>Zj(Zj({},t.presentationProps),a.props))),i!=null)return i}}),I3e=be([mK,ck,uk],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Lr(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Hh(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),k3e=be([mK,ck,uk,Qn],(e,t,r,n)=>{if(!(t==null||e==null))return P6e({offset:n,pieSettings:t,displayedData:e,cells:r})}),aA={exports:{}},br={};var Qj;function P3e(){if(Qj)return br;Qj=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,o=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,x=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,F=e?Symbol.for("react.scope"):60119;function k(D){if(typeof D=="object"&&D!==null){var P=D.$$typeof;switch(P){case t:switch(D=D.type,D){case c:case u:case n:case a:case i:case h:return D;default:switch(D=D&&D.$$typeof,D){case o:case d:case x:case y:case s:return D;default:return P}}case r:return P}}}function M(D){return k(D)===u}return br.AsyncMode=c,br.ConcurrentMode=u,br.ContextConsumer=o,br.ContextProvider=s,br.Element=t,br.ForwardRef=d,br.Fragment=n,br.Lazy=x,br.Memo=y,br.Portal=r,br.Profiler=a,br.StrictMode=i,br.Suspense=h,br.isAsyncMode=function(D){return M(D)||k(D)===c},br.isConcurrentMode=M,br.isContextConsumer=function(D){return k(D)===o},br.isContextProvider=function(D){return k(D)===s},br.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},br.isForwardRef=function(D){return k(D)===d},br.isFragment=function(D){return k(D)===n},br.isLazy=function(D){return k(D)===x},br.isMemo=function(D){return k(D)===y},br.isPortal=function(D){return k(D)===r},br.isProfiler=function(D){return k(D)===a},br.isStrictMode=function(D){return k(D)===i},br.isSuspense=function(D){return k(D)===h},br.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===u||D===a||D===i||D===h||D===m||typeof D=="object"&&D!==null&&(D.$$typeof===x||D.$$typeof===y||D.$$typeof===s||D.$$typeof===o||D.$$typeof===d||D.$$typeof===E||D.$$typeof===S||D.$$typeof===F||D.$$typeof===b)},br.typeOf=k,br}var e8;function R3e(){return e8||(e8=1,aA.exports=P3e()),aA.exports}var O3e=R3e(),t8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",r8=null,sA=null,gK=e=>{if(e===r8&&Array.isArray(sA))return sA;var t=[];return O.Children.forEach(e,r=>{_n(r)||(O3e.isFragment(r)?t=t.concat(gK(r.props.children)):t.push(r))}),sA=t,r8=e,t};function fk(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>t8(i)):n=[t8(t)],gK(e).forEach(i=>{var a=Sf(i,"type.displayName")||Sf(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var vK=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,oA={},n8;function M3e(){return n8||(n8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(oA)),oA}var lA,i8;function D3e(){return i8||(i8=1,lA=M3e().isPlainObject),lA}var F3e=D3e();const L3e=js(F3e);var a8,s8,o8,l8,c8;function u8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(r),!0).forEach(function(n){j3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j3e(e,t,r){return(t=U3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U3e(e){var t=B3e(e,"string");return typeof t=="symbol"?t:t+""}function B3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(null,arguments)}function op(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d8=(e,t,r,n,i)=>{var a=r-n,s;return s=pn(a8||(a8=op(["M ",",",""])),e,t),s+=pn(s8||(s8=op(["L ",",",""])),e+r,t),s+=pn(o8||(o8=op(["L ",",",""])),e+r-a/2,t+i),s+=pn(l8||(l8=op(["L ",",",""])),e+r-a/2-n,t+i),s+=pn(c8||(c8=op(["L ",","," Z"])),e,t),s},V3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z3e=e=>{var t=qn(e,V3e),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,m=O.useRef(null),[y,x]=O.useState(-1),b=O.useRef(i),E=O.useRef(a),S=O.useRef(s),F=O.useRef(r),k=O.useRef(n),M=ng(e,"trapezoid-");if(O.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var fe=m.current.getTotalLength();fe&&x(fe)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var D=hr("recharts-trapezoid",o);if(!h)return O.createElement("g",null,O.createElement("path",T1({},ma(t),{className:D,d:d8(r,n,i,a,s)})));var P=b.current,N=E.current,I=S.current,R=F.current,U=k.current,B="0px ".concat(y===-1?1:y,"px"),L="".concat(y,"px 0px"),H=jH(["strokeDasharray"],u,c);return O.createElement(rg,{animationId:M,key:M,canBegin:y>0,duration:u,easing:c,isActive:h,begin:d},fe=>{var me=Yr(P,i,fe),ne=Yr(N,a,fe),ue=Yr(I,s,fe),ce=Yr(R,r,fe),ie=Yr(U,n,fe);m.current&&(b.current=me,E.current=ne,S.current=ue,F.current=ce,k.current=ie);var xe=fe>0?{transition:H,strokeDasharray:L}:{strokeDasharray:B};return O.createElement("path",T1({},ma(t),{className:D,d:d8(ce,ie,me,ne,ue),ref:m,style:f8(f8({},xe),t.style)}))})},$3e=["option","shapeType","activeClassName"];function H3e(e,t){if(e==null)return{};var r,n,i=G3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(n){q3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q3e(e,t,r){return(t=K3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K3e(e){var t=W3e(e,"string");return typeof t=="symbol"?t:t+""}function W3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y3e(e,t){return A1(A1({},t),e)}function J3e(e,t){return e==="symbols"}function p8(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return O.createElement(zH,r);case"trapezoid":return O.createElement(z3e,r);case"sector":return O.createElement(qH,r);case"symbols":if(J3e(t))return O.createElement(ON,r);break;case"curve":return O.createElement(oh,r);default:return null}}function X3e(e){return O.isValidElement(e)?e.props:e}function yK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=H3e(e,$3e),a;if(O.isValidElement(t))a=O.cloneElement(t,A1(A1({},i),X3e(t)));else if(typeof t=="function")a=t(i,i.index);else if(L3e(t)&&typeof t!="boolean"){var s=Y3e(t,i);a=O.createElement(p8,{shapeType:r,elementProps:s})}else{var o=i;a=O.createElement(p8,{shapeType:r,elementProps:o})}return i.isActive?O.createElement(Nn,{className:n},a):a}var dk=(e,t,r)=>{var n=Hr();return(i,a)=>s=>{e?.(i,a,s),n(Sq({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},hk=e=>{var t=Hr();return(r,n)=>i=>{e?.(r,n,i),t(e4e())}},pk=(e,t,r)=>{var n=Hr();return(i,a)=>s=>{e?.(i,a,s),n(t4e({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function mk(e){var{tooltipEntrySettings:t}=e,r=Hr(),n=Xi(),i=O.useRef(null);return O.useLayoutEffect(()=>{n||(i.current===null?r(JOe(t)):i.current!==t&&r(XOe({prev:i.current,next:t})),i.current=t)},[t,r,n]),O.useLayoutEffect(()=>()=>{i.current&&(r(ZOe(i.current)),i.current=null)},[r]),null}function xK(e){var{legendPayload:t}=e,r=Hr(),n=Xi(),i=O.useRef(null);return O.useLayoutEffect(()=>{n||(i.current===null?r(OH(t)):i.current!==t&&r(MH({prev:i.current,next:t})),i.current=t)},[r,n,t]),O.useLayoutEffect(()=>()=>{i.current&&(r(DH(i.current)),i.current=null)},[r]),null}function Z3e(e){var{legendPayload:t}=e,r=Hr(),n=ut(cr),i=O.useRef(null);return O.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(OH(t)):i.current!==t&&r(MH({prev:i.current,next:t})),i.current=t)},[r,n,t]),O.useLayoutEffect(()=>()=>{i.current&&(r(DH(i.current)),i.current=null)},[r]),null}var cA,Q3e=()=>{var[e]=O.useState(()=>ym("uid-"));return e},e6e=(cA=HY.useId)!==null&&cA!==void 0?cA:Q3e;function t6e(e,t){var r=e6e();return t||(e?"".concat(e,"-").concat(r):r)}var r6e=O.createContext(void 0),gk=e=>{var{id:t,type:r,children:n}=e,i=t6e("recharts-".concat(r),t);return O.createElement(r6e.Provider,{value:i},n(i))},n6e={cartesianItems:[],polarItems:[]},_K=Ba({name:"graphicalItems",initialState:n6e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:en()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=uo(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:en()},removeCartesianGraphicalItem:{reducer(e,t){var r=uo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:en()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:en()},removePolarGraphicalItem:{reducer(e,t){var r=uo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:en()}}}),{addCartesianGraphicalItem:i6e,replaceCartesianGraphicalItem:a6e,removeCartesianGraphicalItem:s6e,addPolarGraphicalItem:o6e,removePolarGraphicalItem:l6e}=_K.actions,c6e=_K.reducer,u6e=e=>{var t=Hr(),r=O.useRef(null);return O.useLayoutEffect(()=>{r.current===null?t(i6e(e)):r.current!==e&&t(a6e({prev:r.current,next:e})),r.current=e},[t,e]),O.useLayoutEffect(()=>()=>{r.current&&(t(s6e(r.current)),r.current=null)},[t]),null},bK=O.memo(u6e);function f6e(e){var t=Hr();return O.useLayoutEffect(()=>(t(o6e(e)),()=>{t(l6e(e))}),[t,e]),null}var d6e=["key"],h6e=["onMouseEnter","onClick","onMouseLeave"],p6e=["id"],m6e=["id"];function m8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m8(Object(r),!0).forEach(function(n){g6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g6e(e,t,r){return(t=v6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v6e(e){var t=y6e(e,"string");return typeof t=="symbol"?t:t+""}function y6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cu(){return cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cu.apply(null,arguments)}function eb(e,t){if(e==null)return{};var r,n,i=x6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _6e(e){var t=O.useMemo(()=>fk(e.children,mg),[e.children]),r=ut(n=>I3e(n,e.id,t));return r==null?null:O.createElement(Z3e,{legendPayload:r})}var b6e=O.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:n.map(m=>m.tooltipPayload),getPosition:m=>{var y;return(y=n[Number(m)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Hh(o,t),hide:c,type:u,color:s,unit:"",graphicalItemId:d}};return O.createElement(mk,{tooltipEntrySettings:h})}),w6e=(e,t)=>e>t?"start":e<t?"end":"middle",E6e=(e,t,r)=>Wi(typeof t=="function"?t(e):t,r,r*.8),T6e=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=$H(a,s),c=i+Wi(e.cx,a,a/2),u=n+Wi(e.cy,s,s/2),d=Wi(e.innerRadius,o,0),h=E6e(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:m}},A6e=(e,t)=>{var r=hi(t-e),n=Math.min(Math.abs(t-e),360);return r*n},S6e=(e,t)=>{if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return e(t);var r=hr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=eb(t,d6e);return O.createElement(oh,cu({},i,{type:"linear",className:r}))},C6e=(e,t,r)=>{if(O.isValidElement(e))return O.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),O.isValidElement(n)))return n;var i=hr("recharts-pie-label-text",pK(e));return O.createElement(X_,cu({},t,{alignmentBaseline:"middle",className:i}),n)};function N6e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=ja(r),c=Tf(i),u=Tf(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=t.map((m,y)=>{var x=(m.startAngle+m.endAngle)/2,b=$n(m.cx,m.cy,m.outerRadius+d,x),E=gn(gn(gn(gn({},o),m),{},{stroke:"none"},c),{},{index:y,textAnchor:w6e(b.x,m.cx)},b),S=gn(gn(gn(gn({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:y,points:[$n(m.cx,m.cy,m.outerRadius,x),b],key:"line"});return O.createElement(Va,{zIndex:Hn.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(y)},O.createElement(Nn,null,a&&S6e(a,S),C6e(i,E,Lr(m,s))))});return O.createElement(Nn,{className:"recharts-pie-labels"},h)}function I6e(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?O.createElement(lk,{label:i}):O.createElement(N6e,{sectors:t,props:r,showLabels:n})}function k6e(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=ut(lu),c=ut(tk),u=ut(B4e),{onMouseEnter:d,onClick:h,onMouseLeave:m}=i,y=eb(i,h6e),x=dk(d,i.dataKey,s),b=hk(m),E=pk(h,i.dataKey,s);return t==null||t.length===0?null:O.createElement(O.Fragment,null,t.map((S,F)=>{if(S?.startAngle===0&&S?.endAngle===0&&t.length!==1)return null;var k=u==null||u===s,M=String(F)===o&&(c==null||i.dataKey===c)&&k,D=o?n:null,P=r&&M?r:D,N=gn(gn({},S),{},{stroke:S.stroke,tabIndex:-1,[xH]:F,[_H]:s});return O.createElement(Nn,cu({key:"sector-".concat(S?.startAngle,"-").concat(S?.endAngle,"-").concat(S.midAngle,"-").concat(F),tabIndex:-1,className:"recharts-pie-sector"},Ym(y,S,F),{onMouseEnter:x(S,F),onMouseLeave:b(S,F),onClick:E(S,F)}),O.createElement(yK,cu({option:a??P,index:F,shapeType:"sector",isActive:M},N)))}))}function P6e(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,m=Math.abs(r.minAngle),y=A6e(o,c),x=Math.abs(y),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,E=n.filter(P=>Lr(P,u,0)!==0).length,S=(x>=360?E:E-1)*b,F=x-E*m-S,k=n.reduce((P,N)=>{var I=Lr(N,u,0);return P+(it(I)?I:0)},0),M;if(k>0){var D;M=n.map((P,N)=>{var I=Lr(P,u,0),R=Lr(P,d,N),U=T6e(r,a,P),B=(it(I)?I:0)/k,L,H=gn(gn({},P),i&&i[N]&&i[N].props);N?L=D.endAngle+hi(y)*b*(I!==0?1:0):L=o;var fe=L+hi(y)*((I!==0?m:0)+B*F),me=(L+fe)/2,ne=(U.innerRadius+U.outerRadius)/2,ue=[{name:R,value:I,payload:H,dataKey:u,type:h,graphicalItemId:r.id}],ce=$n(U.cx,U.cy,ne,me);return D=gn(gn(gn(gn({},r.presentationProps),{},{percent:B,cornerRadius:typeof s=="string"?parseFloat(s):s,name:R,tooltipPayload:ue,midAngle:me,middleRadius:ne,tooltipPosition:ce},H),U),{},{value:I,dataKey:u,startAngle:L,endAngle:fe,payload:H,paddingAngle:hi(y)*b}),D})}return M}function R6e(e){var{showLabels:t,sectors:r,children:n}=e,i=O.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return O.createElement(d3e,{value:t?i:void 0},n)}function O6e(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:m}=t,y=ng(t,"recharts-pie-"),x=r.current,[b,E]=O.useState(!1),S=O.useCallback(()=>{typeof m=="function"&&m(),E(!1)},[m]),F=O.useCallback(()=>{typeof h=="function"&&h(),E(!0)},[h]);return O.createElement(R6e,{showLabels:!b,sectors:i},O.createElement(rg,{animationId:y,begin:s,duration:o,isActive:a,easing:c,onAnimationStart:F,onAnimationEnd:S,key:y},k=>{var M,D=[],P=i&&i[0],N=(M=P?.startAngle)!==null&&M!==void 0?M:0;return i?.forEach((I,R)=>{var U=x&&x[R],B=R>0?Sf(I,"paddingAngle",0):0;if(U){var L=Yr(U.endAngle-U.startAngle,I.endAngle-I.startAngle,k),H=gn(gn({},I),{},{startAngle:N+B,endAngle:N+L+B});D.push(H),N=H.endAngle}else{var{endAngle:fe,startAngle:me}=I,ne=Yr(0,fe-me,k),ue=gn(gn({},I),{},{startAngle:N+B,endAngle:N+ne+B});D.push(ue),N=ue.endAngle}}),r.current=D,O.createElement(Nn,null,O.createElement(k6e,{sectors:D,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),O.createElement(I6e,{showLabels:!b,sectors:i,props:t}),t.children)}var M6e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Hn.area};function D6e(e){var{id:t}=e,r=eb(e,p6e),{hide:n,className:i,rootTabIndex:a}=e,s=O.useMemo(()=>fk(e.children,mg),[e.children]),o=ut(d=>k3e(d,t,s)),c=O.useRef(null),u=hr("recharts-pie",i);return n||o==null?(c.current=null,O.createElement(Nn,{tabIndex:a,className:u})):O.createElement(Va,{zIndex:e.zIndex},O.createElement(b6e,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),O.createElement(Nn,{tabIndex:a,className:u},O.createElement(O6e,{props:gn(gn({},r),{},{sectors:o}),previousSectorsRef:c,id:t})))}function wK(e){var t=qn(e,M6e),{id:r}=t,n=eb(t,m6e),i=ja(n);return O.createElement(gk,{id:r,type:"pie"},a=>O.createElement(O.Fragment,null,O.createElement(f6e,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),O.createElement(_6e,cu({},n,{id:a})),O.createElement(D6e,cu({},n,{id:a}))))}wK.displayName="Pie";var F6e=["points"];function g8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(r),!0).forEach(function(n){L6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L6e(e,t,r){return(t=j6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j6e(e){var t=U6e(e,"string");return typeof t=="symbol"?t:t+""}function U6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(null,arguments)}function B6e(e,t){if(e==null)return{};var r,n,i=V6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function z6e(e){var{option:t,dotProps:r,className:n}=e;if(O.isValidElement(t))return O.cloneElement(t,r);if(typeof t=="function")return t(r);var i=hr(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=B6e(a,F6e);return O.createElement(uK,S1({},o,{className:i}))}function $6e(e,t){return e==null?!1:t?!0:e.length===1}function H6e(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:u=Hn.scatter}=e;if(!$6e(t,r))return null;var d=vK(r),h=sAe(r),m=t.map((x,b)=>{var E,S,F=uA(uA(uA({r:3},s),h),{},{index:b,cx:(E=x.x)!==null&&E!==void 0?E:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:a,value:x.value,payload:x.payload,points:t});return O.createElement(z6e,{key:"dot-".concat(b),option:r,dotProps:F,className:i})}),y={};return o&&c!=null&&(y.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),O.createElement(Va,{zIndex:u},O.createElement(Nn,S1({className:n},y),m))}function v8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(r),!0).forEach(function(n){G6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G6e(e,t,r){return(t=q6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q6e(e){var t=K6e(e,"string");return typeof t=="symbol"?t:t+""}function K6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EK=0,W6e={xAxis:{},yAxis:{},zAxis:{}},TK=Ba({name:"cartesianAxis",initialState:W6e,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:en()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:en()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:en()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:en()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:en()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:en()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:en()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:en()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:en()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=y8(y8({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:Y6e,replaceXAxis:J6e,removeXAxis:X6e,addYAxis:Z6e,replaceYAxis:Q6e,removeYAxis:eFe,addZAxis:Y8e,replaceZAxis:J8e,removeZAxis:X8e,updateYAxisWidth:tFe}=TK.actions,rFe=TK.reducer,nFe=be([Qn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),iFe=be([nFe,Yl,Jl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),vk=()=>ut(iFe),aFe=()=>ut(G4e);function x8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(r),!0).forEach(function(n){sFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sFe(e,t,r){return(t=oFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oFe(e){var t=lFe(e,"string");return typeof t=="symbol"?t:t+""}function lFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cFe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=fA(fA(fA({},o),Tf(i)),MN(i)),u;return O.isValidElement(i)?u=O.cloneElement(i,c):typeof i=="function"?u=i(c):u=O.createElement(uK,c),O.createElement(Nn,{className:"recharts-active-dot",clipPath:s},u)};function _8(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Hn.activeDot}=e,o=ut(lu),c=aFe();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return _n(u)?null:O.createElement(Va,{zIndex:s},O.createElement(cFe,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var b8=(e,t,r)=>{var n=r??e;if(!_n(n))return Wi(n,t,0)},uFe=(e,t,r)=>{var n={},i=e.filter(z_),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>{var h=u[d.stackId];return h==null&&(h=[]),h.push(d),u[d.stackId]=h,u},n),o=Object.entries(s).map(u=>{var d,[h,m]=u,y=m.map(b=>b.dataKey),x=b8(t,r,(d=m[0])===null||d===void 0?void 0:d.barSize);return{stackId:h,dataKeys:y,barSize:x}}),c=a.map(u=>{var d=[u.dataKey].filter(m=>m!=null),h=b8(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...o,...c]};function w8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(r),!0).forEach(function(n){fFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fFe(e,t,r){return(t=dFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dFe(e){var t=hFe(e,"string");return typeof t=="symbol"?t:t+""}function hFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pFe(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var o=Wi(e,r,0,!0),c,u=[];if(zt((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,h=r/s,m=n.reduce((F,k)=>F+(k.barSize||0),0);m+=(s-1)*o,m>=r&&(m-=(s-1)*o,o=0),m>=r&&h>0&&(d=!0,h*=.9,m=s*h);var y=(r-m)/2>>0,x={offset:y-o,size:0};c=n.reduce((F,k)=>{var M,D={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:x.offset+x.size+o,size:d?h:(M=k.barSize)!==null&&M!==void 0?M:0}},P=[...F,D];return x=D.position,P},u)}else{var b=Wi(t,r,0,!0);r-2*b-(s-1)*o<=0&&(o=0);var E=(r-2*b-(s-1)*o)/s;E>1&&(E>>=0);var S=zt(i)?Math.min(E,i):E;c=n.reduce((F,k,M)=>[...F,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:b+(E+o)*M+(E-S)/2,size:S}}],u)}return c}}var mFe=(e,t,r,n,i,a,s)=>{var o=_n(s)?t:s,c=pFe(r,n,i!==a?i:a,e,o);return i!==a&&c!=null&&(c=c.map(u=>xy(xy({},u),{},{position:xy(xy({},u.position),{},{offset:u.position.offset-i/2})}))),c},gFe=(e,t)=>{var r=V_(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},vFe=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function yFe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&zt(e.zIndex)?e.zIndex:t}var AK=e=>{var{chartData:t}=e,r=Hr(),n=Xi();return O.useEffect(()=>n?()=>{}:(r(Cj(t)),()=>{r(Cj(void 0))}),[t,r,n]),null},E8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SK=Ba({name:"brush",initialState:E8,reducers:{setBrushSettings(e,t){return t.payload==null?E8:t.payload}}}),{setBrushSettings:Z8e}=SK.actions,xFe=SK.reducer;function _Fe(e){return(e%180+180)%180}var bFe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_Fe(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},wFe={dots:[],areas:[],lines:[]},CK=Ba({name:"referenceElements",initialState:wFe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=uo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=uo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=uo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Q8e,removeDot:eUe,addArea:tUe,removeArea:rUe,addLine:nUe,removeLine:iUe}=CK.actions,EFe=CK.reducer,TFe=O.createContext(void 0),AFe=e=>{var{children:t}=e,[r]=O.useState("".concat(ym("recharts"),"-clip")),n=vk();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return O.createElement(TFe.Provider,{value:r},O.createElement("defs",null,O.createElement("clipPath",{id:r},O.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function NK(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function SFe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return bFe(n,r)}function CFe(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Rm(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function NFe(e,t){return NK(e,t+1)}function IFe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,h=function(){var x=n?.[c];if(x===void 0)return{v:NK(n,u)};var b=c,E,S=()=>(E===void 0&&(E=r(x,b)),E),F=x.coordinate,k=c===0||Rm(e,F,S,d,o);k||(c=0,d=s,u+=1),k&&(d=F+e*(S()/2+i),c+=u)},m;u<=a.length;)if(m=h(),m)return m.v;return[]}function kFe(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:c}=t,u=1;u<=s;u++){for(var d=(s-1)%u,h=o,m=!0,y=function(){var M=n[b];if(M==null)return 0;var D=b,P,N=()=>(P===void 0&&(P=r(M,D)),P),I=M.coordinate,R=b===d||Rm(e,I,N,h,c);if(!R)return m=!1,1;R&&(h=I+e*(N()/2+i))},x,b=d;b<s&&(x=y(),!(x!==0&&x===1));b+=u);if(m){for(var E=[],S=d;S<s;S+=u){var F=n[S];F!=null&&E.push(F)}return E}}return[]}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){PFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PFe(e,t,r){return(t=RFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RFe(e){var t=OFe(e,"string");return typeof t=="symbol"?t:t+""}function OFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MFe(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(m){var y=a[m];if(y==null)return 1;var x=y,b,E=()=>(b===void 0&&(b=r(y,m)),b);if(m===s-1){var S=e*(x.coordinate+e*E()/2-c);a[m]=x=Ui(Ui({},x),{},{tickCoord:S>0?x.coordinate-S*e:x.coordinate})}else a[m]=x=Ui(Ui({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var F=Rm(e,x.tickCoord,E,o,c);F&&(c=x.tickCoord-e*(E()/2+i),a[m]=Ui(Ui({},x),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function DFe(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=n[o-1];if(d!=null){var h=r(d,o-1),m=e*(d.coordinate+e*h/2-u);if(s[o-1]=d=Ui(Ui({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var y=Rm(e,d.tickCoord,()=>h,c,u);y&&(u=d.tickCoord-e*(h/2+i),s[o-1]=Ui(Ui({},d),{},{isShow:!0}))}}}for(var x=a?o-1:o,b=function(F){var k=s[F];if(k==null)return 1;var M=k,D,P=()=>(D===void 0&&(D=r(k,F)),D);if(F===0){var N=e*(M.coordinate-e*P()/2-c);s[F]=M=Ui(Ui({},M),{},{tickCoord:N<0?M.coordinate-N*e:M.coordinate})}else s[F]=M=Ui(Ui({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var I=Rm(e,M.tickCoord,P,c,u);I&&(c=M.tickCoord+e*(P()/2+i),s[F]=Ui(Ui({},M),{},{isShow:!0}))}},E=0;E<x;E++)b(E);return s}function yk(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!n)return[];if(it(c)||tg.isSsr){var m;return(m=NFe(i,it(c)?c:0))!==null&&m!==void 0?m:[]}var y=[],x=o==="top"||o==="bottom"?"width":"height",b=d&&x==="width"?zp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},E=(D,P)=>{var N=typeof u=="function"?u(D.value,P):D.value;return x==="width"?SFe(zp(N,{fontSize:t,letterSpacing:r}),b,h):zp(N,{fontSize:t,letterSpacing:r})[x]},S=i[0],F=i[1],k=i.length>=2&&S!=null&&F!=null?hi(F.coordinate-S.coordinate):1,M=CFe(a,k,x);return c==="equidistantPreserveStart"?IFe(k,M,E,i,s):c==="equidistantPreserveEnd"?kFe(k,M,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=DFe(k,M,E,i,s,c==="preserveStartEnd"):y=MFe(k,M,E,i,s),y.filter(D=>D.isShow))}var FFe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},LFe=["axisLine","width","height","className","hide","ticks","axisType"];function jFe(e,t){if(e==null)return{};var r,n,i=UFe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){BFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BFe(e,t,r){return(t=VFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VFe(e){var t=zFe(e,"string");return typeof t=="symbol"?t:t+""}function zFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ol={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Hn.axis};function $Fe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=hn(hn(hn({},c),ja(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=hn(hn({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=hn(hn({},u),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+i})}return O.createElement("line",Rf({},u,{className:hr("recharts-cartesian-axis-line",Sf(o,"className"))}))}function HFe(e,t,r,n,i,a,s,o,c){var u,d,h,m,y,x,b=o?-1:1,E=e.tickSize||s,S=it(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,m=r+ +!o*i,h=m-b*E,x=h-b*c,y=S;break;case"left":h=m=e.coordinate,d=t+ +!o*n,u=d-b*E,y=u-b*c,x=S;break;case"right":h=m=e.coordinate,d=t+ +o*n,u=d+b*E,y=u+b*c,x=S;break;default:u=d=e.coordinate,m=r+ +o*i,h=m+b*E,x=h+b*c,y=S;break}return{line:{x1:u,y1:h,x2:d,y2:m},tick:{x:y,y:x}}}function GFe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function qFe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function KFe(e){var{option:t,tickProps:r,value:n}=e,i,a=hr(r.className,"recharts-cartesian-axis-tick-value");if(O.isValidElement(t))i=O.cloneElement(t,hn(hn({},r),{},{className:a}));else if(typeof t=="function")i=t(hn(hn({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=hr(s,pK(t))),i=O.createElement(X_,Rf({},r,{className:s}),n)}return i}var WFe=O.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:h,x:m,y,width:x,height:b,tickSize:E,tickMargin:S,fontSize:F,letterSpacing:k,getTicksConfig:M,events:D,axisType:P}=e,N=yk(hn(hn({},M),{},{ticks:r}),F,k),I=GFe(d,h),R=qFe(d,h),U=ja(M),B=Tf(n),L={};typeof i=="object"&&(L=i);var H=hn(hn({},U),{},{fill:"none"},L),fe=N.map(ue=>hn({entry:ue},HFe(ue,m,y,x,b,d,E,h,S))),me=fe.map(ue=>{var{entry:ce,line:ie}=ue;return O.createElement(Nn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},i&&O.createElement("line",Rf({},H,ie,{className:hr("recharts-cartesian-axis-tick-line",Sf(i,"className"))})))}),ne=fe.map((ue,ce)=>{var ie,xe,{entry:J,tick:V}=ue,ee=hn(hn(hn(hn({verticalAnchor:R},U),{},{textAnchor:I,stroke:"none",fill:a},V),{},{index:ce,payload:J,visibleTicksCount:N.length,tickFormatter:s,padding:c},u),{},{angle:(ie=(xe=u?.angle)!==null&&xe!==void 0?xe:U.angle)!==null&&ie!==void 0?ie:0}),X=hn(hn({},ee),B);return O.createElement(Nn,Rf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Ym(D,J,ce)),n&&O.createElement(KFe,{option:n,tickProps:X,value:"".concat(typeof s=="function"?s(J.value,ce):J.value).concat(o||"")}))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},ne.length>0&&O.createElement(Va,{zIndex:Hn.label},O.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},ne)),me.length>0&&O.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},me))}),YFe=O.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=e,u=jFe(e,LFe),[d,h]=O.useState(""),[m,y]=O.useState(""),x=O.useRef(null);O.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return FFe({ticks:x.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=O.useCallback(E=>{if(E){var S=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var F=S[0];if(F){var k=window.getComputedStyle(F),M=k.fontSize,D=k.letterSpacing;(M!==d||D!==m)&&(h(M),y(D))}}},[d,m]);return s||n!=null&&n<=0||i!=null&&i<=0?null:O.createElement(Va,{zIndex:e.zIndex},O.createElement(Nn,{className:hr("recharts-cartesian-axis",a)},O.createElement($Fe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ja(e)}),O.createElement(WFe,{ref:b,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),O.createElement(GDe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},O.createElement(t3e,{label:e.label,labelRef:e.labelRef}),e.children)))}),xk=O.forwardRef((e,t)=>{var r=qn(e,Ol);return O.createElement(YFe,Rf({},r,{ref:t}))});xk.displayName="CartesianAxis";var JFe=["x1","y1","x2","y2","key"],XFe=["offset"],ZFe=["xAxisId","yAxisId"],QFe=["xAxisId","yAxisId"];function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){eLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eLe(e,t,r){return(t=tLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tLe(e){var t=rLe(e,"string");return typeof t=="symbol"?t:t+""}function rLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}function C1(e,t){if(e==null)return{};var r,n,i=nLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iLe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return O.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function IK(e){var{option:t,lineItemProps:r}=e,n;if(O.isValidElement(t))n=O.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=r,d=C1(r,JFe),h=(i=ja(d))!==null&&i!==void 0?i:{},{offset:m}=h,y=C1(h,XFe);n=O.createElement("line",rf({},y,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return n}function aLe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=C1(e,ZFe),c=i.map((u,d)=>{var h=zi(zi({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return O.createElement(IK,{key:"line-".concat(d),option:n,lineItemProps:h})});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function sLe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=C1(e,QFe),c=i.map((u,d)=>{var h=zi(zi({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return O.createElement(IK,{option:n,lineItemProps:h,key:"line-".concat(d)})});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function oLe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var y=u[m+1],x=y==null,b=x?i+s-h:y-h;if(b<=0)return null;var E=m%t.length;return O.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:b,width:a,stroke:"none",fill:t[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function lLe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var y=u[m+1],x=y==null,b=x?i+s-h:y-h;if(b<=0)return null;var E=m%r.length;return O.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:b,height:o,stroke:"none",fill:r[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var cLe=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return mH(yk(zi(zi(zi({},Ol),r),{},{ticks:gH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},uLe=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return mH(yk(zi(zi(zi({},Ol),r),{},{ticks:gH(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},fLe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Hn.grid};function Jy(e){var t=KN(),r=WN(),n=TH(),i=zi(zi({},qn(e,fLe)),{},{x:it(e.x)?e.x:n.left,y:it(e.y)?e.y:n.top,width:it(e.width)?e.width:n.width,height:it(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:m,verticalValues:y}=i,x=Xi(),b=ut(R=>mj(R,"xAxis",a,x)),E=ut(R=>mj(R,"yAxis",s,x));if(!Jo(u)||!Jo(d)||!it(o)||!it(c))return null;var S=i.verticalCoordinatesGenerator||cLe,F=i.horizontalCoordinatesGenerator||uLe,{horizontalPoints:k,verticalPoints:M}=i;if((!k||!k.length)&&typeof F=="function"){var D=m&&m.length,P=F({yAxis:E?zi(zi({},E),{},{ticks:D?m:E.ticks}):void 0,width:t??u,height:r??d,offset:n},D?!0:h);Zx(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}if((!M||!M.length)&&typeof S=="function"){var N=y&&y.length,I=S({xAxis:b?zi(zi({},b),{},{ticks:N?y:b.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:h);Zx(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(M=I)}return O.createElement(Va,{zIndex:i.zIndex},O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(iLe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),O.createElement(oLe,rf({},i,{horizontalPoints:k})),O.createElement(lLe,rf({},i,{verticalPoints:M})),O.createElement(aLe,rf({},i,{offset:n,horizontalPoints:k,xAxis:b,yAxis:E})),O.createElement(sLe,rf({},i,{offset:n,verticalPoints:M,xAxis:b,yAxis:E}))))}Jy.displayName="CartesianGrid";var dLe={},kK=Ba({name:"errorBars",initialState:dLe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:aUe,replaceErrorBar:sUe,removeErrorBar:oUe}=kK.actions,hLe=kK.reducer,pLe=["children"];function mLe(e,t){if(e==null)return{};var r,n,i=gLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vLe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},yLe=O.createContext(vLe);function xLe(e){var{children:t}=e,r=mLe(e,pLe);return O.createElement(yLe.Provider,{value:r},t)}function _k(e,t){var r,n,i=ut(u=>Ql(u,e)),a=ut(u=>ec(u,t)),s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:li.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:ci.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function PK(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=vk(),{needClipX:a,needClipY:s,needClip:o}=_k(t,r);if(!o||!i)return null;var{x:c,y:u,width:d,height:h}=i;return O.createElement("clipPath",{id:"clipPath-".concat(n)},O.createElement("rect",{x:a?c:c-d/2,y:s?u:u-h/2,width:a?d:d*2,height:s?h:h*2}))}function _Le(e){var t=Tf(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var dA={exports:{}},hA={};var C8;function bLe(){if(C8)return hA;C8=1;var e=kh();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,s=e.useMemo,o=e.useDebugValue;return hA.useSyncExternalStoreWithSelector=function(c,u,d,h,m){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function E(D){if(!S){if(S=!0,F=D,D=h(D),m!==void 0&&x.hasValue){var P=x.value;if(m(P,D))return k=P}return k=D}if(P=k,r(F,D))return P;var N=h(D);return m!==void 0&&m(P,N)?(F=D,P):(F=D,k=N)}var S=!1,F,k,M=d===void 0?null:d;return[function(){return E(u())},M===null?void 0:function(){return E(M())}]},[u,d,h,m]);var b=n(c,y[0],y[1]);return a(function(){x.hasValue=!0,x.value=b},[b]),o(b),b},hA}var N8;function wLe(){return N8||(N8=1,dA.exports=bLe()),dA.exports}wLe();function ELe(e){e()}function TLe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ELe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var I8={notify(){},get:()=>[]};function ALe(e,t){let r,n=I8,i=0,a=!1;function s(b){d();const E=n.subscribe(b);let S=!1;return()=>{S||(S=!0,E(),h())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=TLe())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=I8)}function m(){a||(a=!0,d())}function y(){a&&(a=!1,h())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>n};return x}var SLe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CLe=SLe(),NLe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ILe=NLe(),kLe=()=>CLe||ILe?O.useLayoutEffect:O.useEffect,PLe=kLe();function k8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function RLe(e,t){if(k8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!k8(e[r[i]],t[r[i]]))return!1;return!0}var OLe=Symbol.for("react-redux-context"),MLe=typeof globalThis<"u"?globalThis:{};function DLe(){if(!O.createContext)return{};const e=MLe[OLe]??=new Map;let t=e.get(O.createContext);return t||(t=O.createContext(null),e.set(O.createContext,t)),t}var FLe=DLe();function LLe(e){const{children:t,context:r,serverState:n,store:i}=e,a=O.useMemo(()=>{const c=ALe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=O.useMemo(()=>i.getState(),[i]);PLe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||FLe;return O.createElement(o.Provider,{value:a},t)}var jLe=LLe,ULe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function BLe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function tb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(ULe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!RLe(e[n],t[n]))return!1}else if(!BLe(e[n],t[n]))return!1;return!0}function tl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:EK}function rl(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:EK}var RK=(e,t,r)=>ou(e,"xAxis",tl(e,t),r),OK=(e,t,r)=>su(e,"xAxis",tl(e,t),r),MK=(e,t,r)=>ou(e,"yAxis",rl(e,t),r),DK=(e,t,r)=>su(e,"yAxis",rl(e,t),r),VLe=be([cr,RK,MK,OK,DK],(e,t,r,n,i)=>el(e,"xAxis")?Th(t,n,!1):Th(r,i,!1)),zLe=(e,t)=>t,FK=be([G_,zLe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),LK=e=>{var t=cr(e),r=el(t,"xAxis");return r?"yAxis":"xAxis"},$Le=(e,t)=>{var r=LK(e);return r==="yAxis"?rl(e,t):tl(e,t)},HLe=(e,t,r)=>_1(e,LK(e),$Le(e,t),r),GLe=be([FK,HLe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=V_(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a?.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),qLe=be([cr,RK,MK,OK,DK,GLe,NG,VLe,FK,BRe],(e,t,r,n,i,a,s,o,c,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:y}=c,x;if(y&&y.length>0?x=y:x=d?.slice(h,m+1),x!=null)return f5e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:a,displayedData:x,chartBaseValue:u,bandSize:o})}}),KLe=["id"],WLe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}function jK(e,t){if(e==null)return{};var r,n,i=YLe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YLe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function P8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(r),!0).forEach(function(n){JLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JLe(e,t,r){return(t=XLe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XLe(e){var t=ZLe(e,"string");return typeof t=="symbol"?t:t+""}function ZLe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1(e,t){return e&&e!=="none"?e:t}var QLe=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:N1(n,i),value:Hh(r,t),payload:e}]},e5e=O.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:r,getPosition:Gf,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Hh(s,t),hide:o,type:u,color:N1(n,a),unit:c,graphicalItemId:d}};return O.createElement(mk,{tooltipEntrySettings:h})});function t5e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=ja(n);return O.createElement(H6e,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function r5e(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Yd(Yd({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return O.createElement(lK,{value:t?i:void 0},r)}function R8(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:c,connectNulls:u,isRange:d}=a,{id:h}=a,m=jK(a,KLe),y=ja(m),x=ma(m);return O.createElement(O.Fragment,null,t?.length>1&&O.createElement(Nn,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},O.createElement(oh,df({},x,{id:h,points:t,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&O.createElement(oh,df({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&O.createElement(oh,df({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),O.createElement(t5e,{points:t,props:m,clipPathId:i}))}function n5e(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,c=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!zt(o)||!zt(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(h=>h.x||0));return it(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),it(d)?O.createElement("rect",{x:0,y:o<c?o:o-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function i5e(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,c=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!zt(o)||!zt(c))return null;var u=n*Math.abs(o-c),d=Math.max(...a.map(h=>h.y||0));return it(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),it(d)?O.createElement("rect",{x:o<c?o:o-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function a5e(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?O.createElement(n5e,{alpha:t,points:n,baseLine:i,strokeWidth:a}):O.createElement(i5e,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function s5e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:m,onAnimationEnd:y}=n,x=O.useMemo(()=>({points:s,baseLine:o}),[s,o]),b=ng(x,"recharts-area-"),E=YN(),[S,F]=O.useState(!1),k=!S,M=O.useCallback(()=>{typeof y=="function"&&y(),F(!1)},[y]),D=O.useCallback(()=>{typeof m=="function"&&m(),F(!0)},[m]);if(E==null)return null;var P=i.current,N=a.current;return O.createElement(r5e,{showLabels:k,points:s},n.children,O.createElement(rg,{animationId:b,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:M,onAnimationStart:D,key:b},I=>{if(P){var R=P.length/s.length,U=I===1?s:s.map((L,H)=>{var fe=Math.floor(H*R);if(P[fe]){var me=P[fe];return Yd(Yd({},L),{},{x:Yr(me.x,L.x,I),y:Yr(me.y,L.y,I)})}return L}),B;return it(o)?B=Yr(N,o,I):_n(o)||po(o)?B=Yr(N,0,I):B=o.map((L,H)=>{var fe=Math.floor(H*R);if(Array.isArray(N)&&N[fe]){var me=N[fe];return Yd(Yd({},L),{},{x:Yr(me.x,L.x,I),y:Yr(me.y,L.y,I)})}return L}),I>0&&(i.current=U,a.current=B),O.createElement(R8,{points:U,baseLine:B,needClip:t,clipPathId:r,props:n})}return I>0&&(i.current=s,a.current=o),O.createElement(Nn,null,c&&O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(r)},O.createElement(a5e,{alpha:I,points:s,baseLine:o,layout:E,strokeWidth:n.strokeWidth}))),O.createElement(Nn,{clipPath:"url(#animationClipPath-".concat(r,")")},O.createElement(R8,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),O.createElement(lk,{label:n.label}))}function o5e(e){var{needClip:t,clipPathId:r,props:n}=e,i=O.useRef(null),a=O.useRef();return O.createElement(s5e,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class l5e extends O.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:c,yAxisId:u,width:d,height:h,id:m,baseLine:y,zIndex:x}=this.props;if(t)return null;var b=hr("recharts-area",i),E=m,{r:S,strokeWidth:F}=_Le(r),k=vK(r),M=S*2+F,D=o?"url(#clipPath-".concat(k?"":"dots-").concat(E,")"):void 0;return O.createElement(Va,{zIndex:x},O.createElement(Nn,{className:b},o&&O.createElement("defs",null,O.createElement(PK,{clipPathId:E,xAxisId:c,yAxisId:u}),!k&&O.createElement("clipPath",{id:"clipPath-dots-".concat(E)},O.createElement("rect",{x:s-M/2,y:a-M/2,width:d+M,height:h+M}))),O.createElement(o5e,{needClip:o,clipPathId:E,props:this.props})),O.createElement(_8,{points:n,mainColor:N1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(y)&&O.createElement(_8,{points:y,mainColor:N1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var UK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Hn.area};function c5e(e){var t,r=qn(e,UK),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:m,legendType:y,stroke:x,xAxisId:b,yAxisId:E}=r,S=jK(r,WLe),F=qf(),k=$q(),{needClip:M}=_k(b,E),D=Xi(),{points:P,isRange:N,baseLine:I}=(t=ut(fe=>qLe(fe,e.id,D)))!==null&&t!==void 0?t:{},R=vk();if(F!=="horizontal"&&F!=="vertical"||R==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:U,width:B,x:L,y:H}=R;return!P||!P.length?null:O.createElement(l5e,df({},S,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:I,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:U,hide:h,layout:F,isAnimationActive:m==="auto"?!tg.isSsr:m,isRange:N,legendType:y,needClip:M,points:P,stroke:x,width:B,left:L,top:H,xAxisId:b,yAxisId:E}))}var u5e=(e,t,r,n,i)=>{var a=r??t;if(it(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function f5e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:m,bandSize:y}=e,x=i&&i.length,b=u5e(a,s,r,o,c),E=a==="horizontal",S=!1,F=u.map((M,D)=>{var P,N,I,R;if(x)R=i[d+D];else{var U=Lr(M,n);Array.isArray(U)?(R=U,S=!0):R=[b,U]}var B=(P=(N=R)===null||N===void 0?void 0:N[1])!==null&&P!==void 0?P:null,L=B==null||x&&!t&&Lr(M,n)==null;if(E){var H;return{x:dL({axis:o,ticks:h,bandSize:y,entry:M,index:D}),y:L?null:(H=c.scale.map(B))!==null&&H!==void 0?H:null,value:R,payload:M}}return{x:L?null:(I=o.scale.map(B))!==null&&I!==void 0?I:null,y:dL({axis:c,ticks:m,bandSize:y,entry:M,index:D}),value:R,payload:M}}),k;return x||S?k=F.map(M=>{var D,P=Array.isArray(M.value)?M.value[0]:null;if(E){var N;return{x:M.x,y:P!=null&&M.y!=null&&(N=c.scale.map(P))!==null&&N!==void 0?N:null,payload:M.payload}}return{x:P!=null&&(D=o.scale.map(P))!==null&&D!==void 0?D:null,y:M.y,payload:M.payload}}):k=E?c.scale.map(b):o.scale.map(b),{points:F,baseLine:k??0,isRange:S}}function d5e(e){var t=qn(e,UK),r=Xi();return O.createElement(gk,{id:t.id,type:"area"},n=>O.createElement(O.Fragment,null,O.createElement(xK,{legendPayload:QLe(t)}),O.createElement(e5e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),O.createElement(bK,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:vH(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),O.createElement(c5e,df({},t,{id:n}))))}var BK=O.memo(d5e,tb);BK.displayName="Area";var h5e="Invariant failed";function p5e(e,t){throw new Error(h5e)}function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(null,arguments)}function I1(e){return O.createElement(yK,I2({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var m5e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(it(t))return t;var a=it(n)||_n(n);return a?t(n,i):(a||p5e(),r)}},g5e=(e,t,r)=>r,v5e=(e,t)=>t,gg=be([G_,v5e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),y5e=be([gg],e=>e?.maxBarSize),x5e=(e,t,r,n)=>n,_5e=be([cr,G_,tl,rl,g5e],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),b5e=(e,t,r)=>{var n=cr(e),i=tl(e,t),a=rl(e,t);if(!(i==null||a==null))return n==="horizontal"?_1(e,"yAxis",a,r):_1(e,"xAxis",i,r)},w5e=(e,t)=>{var r=cr(e),n=tl(e,t),i=rl(e,t);if(!(n==null||i==null))return r==="horizontal"?pj(e,"xAxis",n):pj(e,"yAxis",i)},E5e=be([_5e,URe,w5e],uFe),T5e=(e,t,r)=>{var n,i,a=gg(e,t);if(a==null)return 0;var s=tl(e,t),o=rl(e,t);if(s==null||o==null)return 0;var c=cr(e),u=BG(e),{maxBarSize:d}=a,h=_n(d)?u:d,m,y;return c==="horizontal"?(m=ou(e,"xAxis",s,r),y=su(e,"xAxis",s,r)):(m=ou(e,"yAxis",o,r),y=su(e,"yAxis",o,r)),(n=(i=Th(m,y,!0))!==null&&i!==void 0?i:h)!==null&&n!==void 0?n:0},VK=(e,t,r)=>{var n=cr(e),i=tl(e,t),a=rl(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=ou(e,"xAxis",i,r),o=su(e,"xAxis",i,r)):(s=ou(e,"yAxis",a,r),o=su(e,"yAxis",a,r)),Th(s,o)}},A5e=be([E5e,BG,jRe,VG,T5e,VK,y5e],mFe),S5e=(e,t,r)=>{var n=tl(e,t);if(n!=null)return ou(e,"xAxis",n,r)},C5e=(e,t,r)=>{var n=rl(e,t);if(n!=null)return ou(e,"yAxis",n,r)},N5e=(e,t,r)=>{var n=tl(e,t);if(n!=null)return su(e,"xAxis",n,r)},I5e=(e,t,r)=>{var n=rl(e,t);if(n!=null)return su(e,"yAxis",n,r)},k5e=be([A5e,gg],vFe),P5e=be([b5e,gg],gFe),R5e=be([Qn,HN,S5e,C5e,N5e,I5e,k5e,cr,NG,VK,P5e,gg,x5e],(e,t,r,n,i,a,s,o,c,u,d,h,m)=>{var{chartData:y,dataStartIndex:x,dataEndIndex:b}=c;if(!(h==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:E}=h,S;if(E!=null&&E.length>0?S=E:S=y?.slice(x,b+1),S!=null)return sje({layout:o,barSettings:h,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:S,offset:e,cells:m,dataStartIndex:x})}}),O5e=["index"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(null,arguments)}function M5e(e,t){if(e==null)return{};var r,n,i=D5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function D5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zK=O.createContext(void 0),F5e=e=>{var t=O.useContext(zK);if(t!=null)return t.stackId;if(e!=null)return vH(e)},L5e=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),j5e=e=>{var t=O.useContext(zK);if(t!=null){var{stackId:r}=t;return"url(#".concat(L5e(r,e),")")}},$K=e=>{var{index:t}=e,r=M5e(e,O5e),n=j5e(t);return O.createElement(Nn,k2({className:"recharts-bar-stack-layer",clipPath:n},r))},U5e=["onMouseEnter","onMouseLeave","onClick"],B5e=["value","background","tooltipPosition"],V5e=["id"],z5e=["onMouseEnter","onClick","onMouseLeave"];function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(null,arguments)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){$5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $5e(e,t,r){return(t=H5e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H5e(e){var t=G5e(e,"string");return typeof t=="symbol"?t:t+""}function G5e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k1(e,t){if(e==null)return{};var r,n,i=q5e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q5e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var K5e=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Hh(r,t),payload:e}]},W5e=O.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:Gf,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Hh(a,t),hide:s,type:c,color:i,unit:o,graphicalItemId:u}};return O.createElement(mk,{tooltipEntrySettings:d})});function Y5e(e){var t=ut(lu),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=a,u=k1(a,U5e),d=dk(s,n,a.id),h=hk(o),m=pk(c,n,a.id);if(!i||r==null)return null;var y=Tf(i);return O.createElement(Va,{zIndex:yFe(i,Hn.barBackground)},r.map((x,b)=>{var{value:E,background:S,tooltipPosition:F}=x,k=k1(x,B5e);if(!S)return null;var M=d(x,b),D=h(x,b),P=m(x,b),N=ca(ca(ca(ca(ca({option:i,isActive:String(b)===t},k),{},{fill:"#eee"},S),y),Ym(u,x,b)),{},{onMouseEnter:M,onMouseLeave:D,onClick:P,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return O.createElement(I1,Gl({key:"background-bar-".concat(b)},N))}))}function J5e(e){var{showLabels:t,children:r,rects:n}=e,i=n?.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return ca(ca({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return O.createElement(lK,{value:t?i:void 0},r)}function X5e(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=ut(lu),c=ut(tk),u=r&&String(a)===o&&(c==null||s===c),d=u?r:t;return u?O.createElement(Va,{zIndex:Hn.activeBar},O.createElement($K,{index:a},O.createElement(I1,Gl({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s})))):O.createElement(I1,Gl({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function Z5e(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return O.createElement(I1,Gl({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Q5e(e){var t,{data:r,props:n}=e,i=(t=ja(n))!==null&&t!==void 0?t:{},{id:a}=i,s=k1(i,V5e),{shape:o,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:h,onMouseLeave:m}=n,y=k1(n,z5e),x=dk(d,c,a),b=hk(m),E=pk(h,c,a);return r?O.createElement(O.Fragment,null,r.map((S,F)=>O.createElement($K,Gl({index:F,key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(F),className:"recharts-bar-rectangle"},Ym(y,S,F),{onMouseEnter:x(S,F),onMouseLeave:b(S,F),onClick:E(S,F)}),u?O.createElement(X5e,{shape:o,activeBar:u,baseProps:s,entry:S,index:F,dataKey:c}):O.createElement(Z5e,{shape:o,baseProps:s,entry:S,index:F,dataKey:c})))):null}function eje(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=r.current,m=ng(t,"recharts-bar-"),[y,x]=O.useState(!1),b=!y,E=O.useCallback(()=>{typeof u=="function"&&u(),x(!1)},[u]),S=O.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return O.createElement(J5e,{showLabels:b,rects:n},O.createElement(rg,{animationId:m,begin:s,duration:o,isActive:a,easing:c,onAnimationEnd:E,onAnimationStart:S,key:m},F=>{var k=F===1?n:n?.map((M,D)=>{var P=h&&h[D];if(P)return ca(ca({},M),{},{x:Yr(P.x,M.x,F),y:Yr(P.y,M.y,F),width:Yr(P.width,M.width,F),height:Yr(P.height,M.height,F)});if(i==="horizontal"){var N=Yr(0,M.height,F),I=Yr(M.stackedBarStart,M.y,F);return ca(ca({},M),{},{y:I,height:N})}var R=Yr(0,M.width,F),U=Yr(M.stackedBarStart,M.x,F);return ca(ca({},M),{},{width:R,x:U})});return F>0&&(r.current=k??null),k==null?null:O.createElement(Nn,null,O.createElement(Q5e,{props:t,data:k}))}),O.createElement(lk,{label:t.label}),t.children)}function tje(e){var t=O.useRef(null);return O.createElement(eje,{previousRectanglesRef:t,props:e})}var HK=0,rje=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Lr(e,t)}};class nje extends O.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var d=hr("recharts-bar",i),h=u;return O.createElement(Nn,{className:d,id:u},o&&O.createElement("defs",null,O.createElement(PK,{clipPathId:h,xAxisId:a,yAxisId:s})),O.createElement(Nn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(h,")"):void 0},O.createElement(Y5e,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),O.createElement(tje,this.props)))}}var ije={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:HK,xAxisId:0,yAxisId:0,zIndex:Hn.bar};function aje(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=_k(t,r),m=qf(),y=Xi(),x=fk(e.children,mg),b=ut(F=>R5e(F,e.id,y,x));if(m!=="vertical"&&m!=="horizontal")return null;var E,S=b?.[0];return S==null||S.height==null||S.width==null?E=0:E=m==="vertical"?S.height/2:S.width/2,O.createElement(xLe,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:rje,errorBarOffset:E},O.createElement(nje,Gl({},e,{layout:m,needClip:h,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function sje(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:m,cells:y,parentViewBox:x,dataStartIndex:b}=e,E=t==="horizontal"?o:s,S=d?E.scale.domain():null,F=SCe({numericAxis:E}),k=E.scale.map(F);return h.map((M,D)=>{var P,N,I,R,U,B;if(d){var L=d[D+b];if(L==null)return null;P=bCe(L,S)}else P=Lr(M,r),Array.isArray(P)||(P=[F,P]);var H=m5e(n,HK)(P[1],D);if(t==="horizontal"){var fe,me=o.scale.map(P[0]),ne=o.scale.map(P[1]);if(me==null||ne==null)return null;N=hL({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:M,index:D}),I=(fe=ne??me)!==null&&fe!==void 0?fe:void 0,R=i.size;var ue=me-ne;if(U=po(ue)?0:ue,B={x:N,y:m.top,width:R,height:m.height},Math.abs(H)>0&&Math.abs(U)<Math.abs(H)){var ce=hi(U||H)*(Math.abs(H)-Math.abs(U));I-=ce,U+=ce}}else{var ie=s.scale.map(P[0]),xe=s.scale.map(P[1]);if(ie==null||xe==null)return null;if(N=ie,I=hL({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:M,index:D}),R=xe-ie,U=i.size,B={x:m.left,y:I,width:m.width,height:U},Math.abs(H)>0&&Math.abs(R)<Math.abs(H)){var J=hi(R||H)*(Math.abs(H)-Math.abs(R));R+=J}}if(N==null||I==null||R==null||U==null)return null;var V=ca(ca({},M),{},{stackedBarStart:k,x:N,y:I,width:R,height:U,value:d?P:P[1],payload:M,background:B,tooltipPosition:{x:N+R/2,y:I+U/2},parentViewBox:x},y&&y[D]&&y[D].props);return V}).filter(Boolean)}function oje(e){var t=qn(e,ije),r=F5e(t.stackId),n=Xi();return O.createElement(gk,{id:t.id,type:"bar"},i=>O.createElement(O.Fragment,null,O.createElement(xK,{legendPayload:K5e(t)}),O.createElement(W5e,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),O.createElement(bK,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),O.createElement(Va,{zIndex:t.zIndex},O.createElement(aje,Gl({},t,{id:i})))))}var Xy=O.memo(oje,tb);Xy.displayName="Bar";var lje=["domain","range"],cje=["domain","range"];function M8(e,t){if(e==null)return{};var r,n,i=uje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function D8(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function GK(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=M8(e,lje),{domain:a,range:s}=t,o=M8(t,cje);return!D8(r,a)||!D8(n,s)?!1:tb(i,o)}var fje=["type"],dje=["dangerouslySetInnerHTML","ticks","scale"],hje=["id","scale"];function P2(){return P2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P2.apply(null,arguments)}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){pje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pje(e,t,r){return(t=mje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mje(e){var t=gje(e,"string");return typeof t=="symbol"?t:t+""}function gje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R2(e,t){if(e==null)return{};var r,n,i=vje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yje(e){var t=Hr(),r=O.useRef(null),n=YN(),{type:i}=e,a=R2(e,fje),s=U_(n,"xAxis",i),o=O.useMemo(()=>{if(s!=null)return L8(L8({},a),{},{type:s})},[a,s]);return O.useLayoutEffect(()=>{o!=null&&(r.current===null?t(Y6e(o)):r.current!==o&&t(J6e({prev:r.current,next:o})),r.current=o)},[o,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(X6e(r.current)),r.current=null)},[t]),null}var xje=e=>{var{xAxisId:t,className:r}=e,n=ut(HN),i=Xi(),a="xAxis",s=ut(S=>_q(S,a,t,i)),o=ut(S=>gq(S,t)),c=ut(S=>BOe(S,t)),u=ut(S=>XG(S,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:m}=e,y=R2(e,dje),{id:x,scale:b}=u,E=R2(u,hje);return O.createElement(xk,P2({},y,E,{x:c.x,y:c.y,width:o.width,height:o.height,className:hr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},_je={allowDataOverflow:li.allowDataOverflow,allowDecimals:li.allowDecimals,allowDuplicatedCategory:li.allowDuplicatedCategory,angle:li.angle,axisLine:Ol.axisLine,height:li.height,hide:!1,includeHidden:li.includeHidden,interval:li.interval,label:!1,minTickGap:li.minTickGap,mirror:li.mirror,orientation:li.orientation,padding:li.padding,reversed:li.reversed,scale:li.scale,tick:li.tick,tickCount:li.tickCount,tickLine:Ol.tickLine,tickSize:Ol.tickSize,type:li.type,xAxisId:0},bje=e=>{var t=qn(e,_je);return O.createElement(O.Fragment,null,O.createElement(yje,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),O.createElement(xje,t))},Ep=O.memo(bje,GK);Ep.displayName="XAxis";var wje=["type"],Eje=["dangerouslySetInnerHTML","ticks","scale"],Tje=["id","scale"];function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O2.apply(null,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){Aje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aje(e,t,r){return(t=Sje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sje(e){var t=Cje(e,"string");return typeof t=="symbol"?t:t+""}function Cje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M2(e,t){if(e==null)return{};var r,n,i=Nje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ije(e){var t=Hr(),r=O.useRef(null),n=YN(),{type:i}=e,a=M2(e,wje),s=U_(n,"yAxis",i),o=O.useMemo(()=>{if(s!=null)return U8(U8({},a),{},{type:s})},[s,a]);return O.useLayoutEffect(()=>{o!=null&&(r.current===null?t(Z6e(o)):r.current!==o&&t(Q6e({prev:r.current,next:o})),r.current=o)},[o,t]),O.useLayoutEffect(()=>()=>{r.current&&(t(eFe(r.current)),r.current=null)},[t]),null}function kje(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=O.useRef(null),s=O.useRef(null),o=ut(HN),c=Xi(),u=Hr(),d="yAxis",h=ut(P=>vq(P,t)),m=ut(P=>zOe(P,t)),y=ut(P=>_q(P,d,t,c)),x=ut(P=>ZG(P,t));if(O.useLayoutEffect(()=>{if(!(n!=="auto"||!h||ok(i)||O.isValidElement(i)||x==null)){var P=a.current;if(P){var N=P.getCalculatedWidth();Math.round(h.width)!==Math.round(N)&&u(tFe({id:t,width:N}))}}},[y,h,u,i,t,n,x]),h==null||m==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:E,scale:S}=e,F=M2(e,Eje),{id:k,scale:M}=x,D=M2(x,Tje);return O.createElement(xk,O2({},F,D,{ref:a,labelRef:s,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:hr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:y,axisType:d}))}var Pje={allowDataOverflow:ci.allowDataOverflow,allowDecimals:ci.allowDecimals,allowDuplicatedCategory:ci.allowDuplicatedCategory,angle:ci.angle,axisLine:Ol.axisLine,hide:!1,includeHidden:ci.includeHidden,interval:ci.interval,label:!1,minTickGap:ci.minTickGap,mirror:ci.mirror,orientation:ci.orientation,padding:ci.padding,reversed:ci.reversed,scale:ci.scale,tick:ci.tick,tickCount:ci.tickCount,tickLine:Ol.tickLine,tickSize:Ol.tickSize,type:ci.type,width:ci.width,yAxisId:0},Rje=e=>{var t=qn(e,Pje);return O.createElement(O.Fragment,null,O.createElement(Ije,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),O.createElement(kje,t))},Tp=O.memo(Rje,GK);Tp.displayName="YAxis";var Oje=(e,t)=>t,bk=be([Oje,cr,WG,yi,Lq,tc,nMe,Qn],uMe),wk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},qK=Fs("mouseClick"),KK=Xm();KK.startListening({actionCreator:qK,effect:(e,t)=>{var r=e.payload,n=bk(t.getState(),wk(r));n?.activeIndex!=null&&t.dispatch(r4e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var D2=Fs("mouseMove"),WK=Xm(),_y=null;WK.startListening({actionCreator:D2,effect:(e,t)=>{var r=e.payload;_y!==null&&cancelAnimationFrame(_y);var n=wk(r);_y=requestAnimationFrame(()=>{var i=t.getState(),a=YI(i,i.tooltip.settings.shared);if(a==="axis"){var s=bk(i,n);s?.activeIndex!=null?t.dispatch(Nq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(Cq())}_y=null})}});function Mje(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var B8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},YK=Ba({name:"rootProps",initialState:B8,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:B8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Dje=YK.reducer,{updateOptions:Fje}=YK.actions,Lje=null,jje={updatePolarOptions:(e,t)=>t.payload},JK=Ba({name:"polarOptions",initialState:Lje,reducers:jje}),{updatePolarOptions:Uje}=JK.actions,Bje=JK.reducer,XK=Fs("keyDown"),ZK=Fs("focus"),Ek=Xm();Ek.startListening({actionCreator:XK,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=JI(i,Qh(r),fg(r),hg(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=tc(r);if(a==="Enter"){var u=w1(r,"axis","hover",String(i.index));t.dispatch(T2({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=qOe(r),h=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,y=o+m*h;if(!(c==null||y>=c.length||y<0)){var x=w1(r,"axis","hover",String(y));t.dispatch(T2({active:!0,activeIndex:y.toString(),activeCoordinate:x}))}}}}}});Ek.startListening({actionCreator:ZK,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=w1(r,"axis","hover",String(a));t.dispatch(T2({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Cs=Fs("externalEvent"),QK=Xm(),pA=new Map;QK.startListening({actionCreator:Cs,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=pA.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:z4e(o),activeDataKey:tk(o),activeIndex:lu(o),activeLabel:Bq(o),activeTooltipIndex:lu(o),isTooltipActive:$4e(o)};r(c,n)}finally{pA.delete(i)}});pA.set(i,s)}}});var Vje=be([Xh],e=>e.tooltipItemPayloads),zje=be([Vje,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),eW=Fs("touchMove"),tW=Xm();tW.startListening({actionCreator:eW,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=YI(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=bk(n,wk({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&t.dispatch(Nq({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(xH),h=(o=u.getAttribute(_H))!==null&&o!==void 0?o:void 0,m=Zh(n).find(b=>b.id===h);if(d==null||m==null||h==null)return;var{dataKey:y}=m,x=zje(n,d,h);t.dispatch(Sq({activeDataKey:y,activeIndex:d,activeCoordinate:x,activeGraphicalItemId:h}))}}}});var $je=B$({brush:xFe,cartesianAxis:rFe,chartData:VMe,errorBars:hLe,graphicalItems:c6e,layout:gCe,legend:wNe,options:FMe,polarAxis:E3e,polarOptions:Bje,referenceElements:EFe,rootProps:Dje,tooltip:n4e,zIndex:TMe}),Hje=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return V2e({reducer:$je,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([KK.middleware,WK.middleware,Ek.middleware,QK.middleware,tW.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(tH({type:"raf"}))},devTools:{serialize:{replacer:Mje},name:"recharts-".concat(r)}})};function rW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Xi(),a=O.useRef(null);if(i)return r;a.current==null&&(a.current=Hje(t,n));var s=LN;return O.createElement(jLe,{context:s,store:a.current},r)}function Gje(e){var{layout:t,margin:r}=e,n=Hr(),i=Xi();return O.useEffect(()=>{i||(n(hCe(t)),n(dCe(r)))},[n,i,t,r]),null}var nW=O.memo(Gje,tb);function iW(e){var t=Hr();return O.useEffect(()=>{t(Fje(e))},[t,e]),null}function V8(e){var{zIndex:t,isPanorama:r}=e,n=O.useRef(null),i=Hr();return O.useLayoutEffect(()=>(n.current&&i(wMe({zIndex:t,element:n.current,isPanorama:r})),()=>{i(EMe({zIndex:t,isPanorama:r}))}),[i,t,r]),O.createElement("g",{tabIndex:-1,ref:n})}function z8(e){var{children:t,isPanorama:r}=e,n=ut(dMe);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return O.createElement(O.Fragment,null,i.map(s=>O.createElement(V8,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>O.createElement(V8,{key:s,zIndex:s,isPanorama:r})))}var qje=["children"];function Kje(e,t){if(e==null)return{};var r,n,i=Wje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(null,arguments)}var Yje={width:"100%",height:"100%",display:"block"},Jje=O.forwardRef((e,t)=>{var r=KN(),n=WN(),i=LH();if(!Jo(r)||!Jo(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),O.createElement(SN,P1({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:Yje,ref:t}),a)}),Xje=e=>{var{children:t}=e,r=ut(S_);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return O.createElement(SN,{width:n,height:i,x:s,y:a},t)},$8=O.forwardRef((e,t)=>{var{children:r}=e,n=Kje(e,qje),i=Xi();return i?O.createElement(Xje,null,O.createElement(z8,{isPanorama:!0},r)):O.createElement(Jje,P1({ref:t},n),O.createElement(z8,{isPanorama:!1},r))});function Zje(){var e=Hr(),[t,r]=O.useState(null),n=ut(RCe);return O.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;zt(a)&&a!==n&&e(mCe(a))}},[t,e,n]),r}function H8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H8(Object(r),!0).forEach(function(n){e8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e8e(e,t,r){return(t=t8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8e(e){var t=r8e(e,"string");return typeof t=="symbol"?t:t+""}function r8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(null,arguments)}var n8e=()=>(JMe(),null);function R1(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var i8e=O.forwardRef((e,t)=>{var r,n,i=O.useRef(null),[a,s]=O.useState({containerWidth:R1((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:R1((n=e.style)===null||n===void 0?void 0:n.height)}),o=O.useCallback((u,d)=>{s(h=>{var m=Math.round(u),y=Math.round(d);return h.containerWidth===m&&h.containerHeight===y?h:{containerWidth:m,containerHeight:y}})},[]),c=O.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();o(d,h);var m=x=>{var b=x[0];if(b!=null){var{width:E,height:S}=b.contentRect;o(E,S)}},y=new ResizeObserver(m);y.observe(u),i.current=y}},[t,o]);return O.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[o]),O.createElement(O.Fragment,null,O.createElement(Qm,{width:a.containerWidth,height:a.containerHeight}),O.createElement("div",Xc({ref:c},e)))}),a8e=O.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=O.useState({containerWidth:R1(r),containerHeight:R1(n)}),s=O.useCallback((c,u)=>{a(d=>{var h=Math.round(c),m=Math.round(u);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),o=O.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return O.createElement(O.Fragment,null,O.createElement(Qm,{width:i.containerWidth,height:i.containerHeight}),O.createElement("div",Xc({ref:o},e)))}),s8e=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return O.createElement(O.Fragment,null,O.createElement(Qm,{width:r,height:n}),O.createElement("div",Xc({ref:t},e)))}),o8e=O.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?O.createElement(a8e,Xc({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?O.createElement(s8e,Xc({},e,{width:r,height:n,ref:t})):O.createElement(O.Fragment,null,O.createElement(Qm,{width:r,height:n}),O.createElement("div",Xc({ref:t},e)))});function l8e(e){return e?i8e:o8e}var c8e=O.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:m,onTouchEnd:y,onTouchMove:x,onTouchStart:b,style:E,width:S,responsive:F,dispatchTouchEvents:k=!0}=e,M=O.useRef(null),D=Hr(),[P,N]=O.useState(null),[I,R]=O.useState(null),U=Zje(),B=GN(),L=B?.width>0?B.width:S,H=B?.height>0?B.height:i,fe=O.useCallback(oe=>{U(oe),typeof t=="function"&&t(oe),N(oe),R(oe),oe!=null&&(M.current=oe)},[U,t,N,R]),me=O.useCallback(oe=>{D(qK(oe)),D(Cs({handler:a,reactEvent:oe}))},[D,a]),ne=O.useCallback(oe=>{D(D2(oe)),D(Cs({handler:u,reactEvent:oe}))},[D,u]),ue=O.useCallback(oe=>{D(Cq()),D(Cs({handler:d,reactEvent:oe}))},[D,d]),ce=O.useCallback(oe=>{D(D2(oe)),D(Cs({handler:h,reactEvent:oe}))},[D,h]),ie=O.useCallback(()=>{D(ZK())},[D]),xe=O.useCallback(oe=>{D(XK(oe.key))},[D]),J=O.useCallback(oe=>{D(Cs({handler:s,reactEvent:oe}))},[D,s]),V=O.useCallback(oe=>{D(Cs({handler:o,reactEvent:oe}))},[D,o]),ee=O.useCallback(oe=>{D(Cs({handler:c,reactEvent:oe}))},[D,c]),X=O.useCallback(oe=>{D(Cs({handler:m,reactEvent:oe}))},[D,m]),q=O.useCallback(oe=>{D(Cs({handler:b,reactEvent:oe}))},[D,b]),he=O.useCallback(oe=>{k&&D(eW(oe)),D(Cs({handler:x,reactEvent:oe}))},[D,k,x]),ye=O.useCallback(oe=>{D(Cs({handler:y,reactEvent:oe}))},[D,y]),Ie=l8e(F);return O.createElement(Wq.Provider,{value:P},O.createElement(n$.Provider,{value:I},O.createElement(Ie,{width:L??E?.width,height:H??E?.height,className:hr("recharts-wrapper",n),style:Qje({position:"relative",cursor:"default",width:L,height:H},E),onClick:me,onContextMenu:J,onDoubleClick:V,onFocus:ie,onKeyDown:xe,onMouseDown:ee,onMouseEnter:ne,onMouseLeave:ue,onMouseMove:ce,onMouseUp:X,onTouchEnd:ye,onTouchMove:he,onTouchStart:q,ref:fe},O.createElement(n8e,null),r)))}),u8e=["width","height","responsive","children","className","style","compact","title","desc"];function f8e(e,t){if(e==null)return{};var r,n,i=d8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aW=O.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=e,h=f8e(e,u8e),m=ja(h);return c?O.createElement(O.Fragment,null,O.createElement(Qm,{width:r,height:n}),O.createElement($8,{otherAttributes:m,title:u,desc:d},a)):O.createElement(c8e,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},O.createElement($8,{otherAttributes:m,title:u,desc:d,ref:t},O.createElement(AFe,null,a)))});function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F2.apply(null,arguments)}var h8e={top:5,right:5,bottom:5,left:5},p8e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:h8e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},sW=O.forwardRef(function(t,r){var n,i=qn(t.categoricalChartProps,p8e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return O.createElement(rW,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},O.createElement(AK,{chartData:u.data}),O.createElement(nW,{layout:i.layout,margin:i.margin}),O.createElement(iW,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),O.createElement(aW,F2({},i,{ref:r})))}),m8e=["axis","item"],mA=O.forwardRef((e,t)=>O.createElement(sW,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:m8e,tooltipPayloadSearcher:sk,categoricalChartProps:e,ref:t}));function g8e(e){var t=Hr();return O.useEffect(()=>{t(Uje(e))},[t,e]),null}var v8e=["layout"];function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L2.apply(null,arguments)}function y8e(e,t){if(e==null)return{};var r,n,i=x8e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x8e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _8e={top:5,right:5,bottom:5,left:5},oW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_8e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},b8e=O.forwardRef(function(t,r){var n,i=qn(t.categoricalChartProps,oW),{layout:a}=i,s=y8e(i,v8e),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,h={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return O.createElement(rW,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},O.createElement(AK,{chartData:i.data}),O.createElement(nW,{layout:a,margin:i.margin}),O.createElement(iW,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),O.createElement(g8e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),O.createElement(aW,L2({},s,{ref:r})))});function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(n){w8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w8e(e,t,r){return(t=E8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8e(e){var t=T8e(e,"string");return typeof t=="symbol"?t:t+""}function T8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A8e=["item"],S8e=q8(q8({},oW),{},{layout:"centric",startAngle:0,endAngle:360}),C8e=O.forwardRef((e,t)=>{var r=qn(e,S8e);return O.createElement(b8e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:A8e,tooltipPayloadSearcher:sk,categoricalChartProps:r,ref:t})}),N8e=["axis"],I8e=O.forwardRef((e,t)=>O.createElement(sW,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:N8e,tooltipPayloadSearcher:sk,categoricalChartProps:e,ref:t}));const K8=["#0061A4","#006A60","#6B5778","#BA1A1A","#535F70","#56605B","#49454F","#000000"],by=({title:e,value:t,icon:r,trend:n,color:i})=>g.jsxs("div",{className:"bg-surface p-6 rounded-3xl shadow-elevation-1 border border-outline-variant/30 hover:shadow-elevation-2 transition-all group overflow-hidden relative",children:[g.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${i} opacity-[0.03] -mr-16 -mt-16 rounded-full group-hover:scale-110 transition-transform`}),g.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-on-surface-variant uppercase tracking-[0.15em] mb-1 opacity-60",children:e}),g.jsx("p",{className:"text-2xl font-black text-on-surface tracking-tight",children:t})]}),g.jsx("div",{className:`p-3 rounded-2xl ${i}/10 ${i.replace("bg-","text-")}`,children:g.jsx(r,{size:24})})]}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 relative z-10",children:[g.jsxs("span",{className:`flex items-center text-xs font-black px-2 py-0.5 rounded-full ${n>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n>=0?g.jsx(dJ,{size:12}):g.jsx(aJ,{size:12}),Math.abs(n),"%"]}),g.jsx("span",{className:"text-[10px] text-on-surface-variant opacity-40 font-bold uppercase tracking-wider",children:"vs ms anterior"})]})]}),k8e=({clients:e,products:t,users:r,onClose:n,searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:h,filterCategory:m,setFilterCategory:y,filterSalespersonId:x,setFilterSalespersonId:b,filterSalesCategory:E,setFilterSalesCategory:S,filterCnae:F,setFilterCnae:k,filterProductCategory:M,setFilterProductCategory:D,productCategories:P,filterOnlyWithPurchases:N,setFilterOnlyWithPurchases:I,resetFilters:R,startDate:U,setStartDate:B,endDate:L,setEndDate:H,availableStates:fe,availableCities:me,availableCnaes:ne,categories:ue,currentUser:ce,isAdminUser:ie,canViewAllData:xe})=>{const[J]=O.useState(new Date),[V,ee]=O.useState("desc"),X=O.useMemo(()=>{const q={},he={},ye={},Ie={},oe={};let ge=0,De=0;return e.forEach(K=>{const Ye=(K.purchasedProducts||[]).filter(Je=>{const et=Je.purchaseDate||"";return!(U&&et<U||L&&et>L)}),Ue=Ye.reduce((Je,et)=>Je+(et.totalValue||et.price*(et.quantity||1)),0);ge+=Ue,De+=Ye.length;const Ke=K.region||"Outras";ye[Ke]=(ye[Ke]||0)+Ue;const Fe=r.find(Je=>Je.id===K.salespersonId)?.name||"No Atribudo";oe[Fe]||(oe[Fe]={name:Fe,revenue:0}),oe[Fe].revenue+=Ue,Ye.forEach(Je=>{const et=Je.totalValue||Je.price*(Je.quantity||1);q[Je.sku]||(q[Je.sku]={name:Je.name,revenue:0,count:0}),q[Je.sku].revenue+=et,q[Je.sku].count+=Je.quantity||1;const ht=Je.category||"Outros";if(he[ht]=(he[ht]||0)+et,Je.purchaseDate){const It=Je.purchaseDate.split("T")[0];Ie[It]=(Ie[It]||0)+et}})}),{totalRevenue:ge,totalSalesCount:De,totalClients:e.length,totalProducts:t.length,topProductsData:Object.values(q).sort((K,Ye)=>V==="desc"?Ye.count-K.count:K.count-Ye.count).slice(0,5),sellerPerformanceData:Object.values(oe).sort((K,Ye)=>Ye.revenue-K.revenue).slice(0,6),categoryDistributionData:(()=>{const K=Object.entries(he).sort(([,Ke],[,ze])=>ze-Ke);if(K.length<=8)return K.map(([Ke,ze])=>({name:Ke,value:ze}));const Ye=K.slice(0,7),Ue=K.slice(7).reduce((Ke,[,ze])=>Ke+ze,0);return[...Ye.map(([Ke,ze])=>({name:Ke,value:ze})),{name:"Outros",value:Ue}]})(),regionalSalesData:Object.entries(ye).map(([K,Ye])=>({name:K,value:Ye})),salesTrendData:Object.entries(Ie).map(([K,Ye])=>({date:K,value:Ye})).sort((K,Ye)=>K.date.localeCompare(Ye.date))}},[e,t,V,r,U,L]);return g.jsxs("div",{className:"flex flex-col h-full bg-background overflow-hidden animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex flex-col border-b border-outline-variant bg-surface/80 backdrop-blur-md sticky top-0 z-20 shadow-sm",children:[g.jsxs("div",{className:"flex flex-wrap items-center justify-between px-8 py-4 gap-4",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"p-2.5 bg-primary/10 text-primary rounded-2xl shadow-inner",children:g.jsx(t4,{size:24})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-xl font-black text-on-surface tracking-tight flex items-center gap-2",children:["Dashboard Pro",g.jsx("span",{className:"hidden sm:inline-block text-[9px] bg-primary text-on-primary px-2 py-0.5 rounded-full font-bold uppercase tracking-[0.1em] shadow-sm",children:"Inteligncia"})]}),g.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-on-surface-variant/50 text-[10px] font-medium",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(EX,{size:10,className:"animate-spin-slow"})," Live Update"]}),g.jsx("span",{children:""}),g.jsx("span",{children:J.toLocaleTimeString()})]})]})]}),g.jsxs("div",{className:"flex items-center flex-1 max-w-4xl gap-3",children:[g.jsxs("div",{className:"relative group flex-1",children:[g.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-on-surface-variant group-focus-within:text-primary transition-colors"}),g.jsx("input",{type:"text",value:i,onChange:q=>a(q.target.value),placeholder:"Buscar cliente ou empresa...",className:"w-full pl-10 pr-4 py-2 bg-surface-container-low border border-outline-variant/30 rounded-xl text-xs outline-none focus:ring-2 focus:ring-primary/10 focus:border-primary transition-all shadow-sm"})]}),g.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl border transition-all ${U||L?"bg-primary/5 border-primary/20":"bg-surface-container-low border-outline-variant/30"}`,children:[g.jsx($p,{className:"w-3.5 h-3.5 text-primary"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("input",{type:"date",value:U,onChange:q=>B(q.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Inicial"}),g.jsx("span",{className:"text-outline-variant/30",children:"-"}),g.jsx("input",{type:"date",value:L,onChange:q=>H(q.target.value),className:"text-[10px] bg-transparent border-none outline-none text-on-surface font-bold w-24",title:"Data Final"})]})]})]}),g.jsx("button",{onClick:n,className:"p-2.5 hover:bg-surface-container-highest rounded-2xl transition-all active:scale-95 group border border-transparent hover:border-outline-variant shadow-sm",title:"Fechar Dashboard",children:g.jsx(Fa,{className:"w-5 h-5 text-on-surface-variant group-hover:text-primary"})})]}),g.jsxs("div",{className:"px-8 pb-4 flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 bg-secondary-container/20 px-2.5 py-1 rounded-lg border border-secondary-container/30 mr-2",children:[g.jsx(j2,{className:"w-3 h-3 text-secondary"}),g.jsx("span",{className:"text-[10px] font-bold text-secondary uppercase tracking-tight",children:"Refinar"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl border transition-all ${xe?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("div",{className:"relative",children:[g.jsx(Oa,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 pointer-events-none ${xe?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:xe?x:ce?.id||"",onChange:q=>xe&&b(q.target.value),disabled:!xe,className:`text-xs rounded-lg pl-7 pr-2 py-1 font-bold appearance-none bg-transparent outline-none ${xe?"text-purple-900 cursor-pointer":"text-gray-600 cursor-not-allowed"}`,title:"Filtrar por Vendedor",children:[xe&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),xe?r.filter(q=>q.role==="salesperson"||q.role==="sales_external"||q.role==="sales_internal").map(q=>g.jsx("option",{value:q.id,children:q.name},q.id)):g.jsx("option",{value:ce?.id,children:ce?.name})]})]}),xe&&g.jsxs("div",{className:"border-l border-purple-200 pl-2 ml-1 relative",children:[g.jsx(as,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:E,onChange:q=>S(q.target.value),className:"text-[11px] bg-transparent text-purple-900 rounded-lg pl-6 pr-1 py-1 font-bold outline-none appearance-none cursor-pointer",title:"Filtrar por Equipe",children:[g.jsx("option",{value:"Todos",children:"Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"M.Livre"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:[g.jsxs("select",{value:s,onChange:q=>{o(q.target.value),u("Todos"),h("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",title:"Filtrar por Regio",children:[g.jsx("option",{value:"Todas",children:"Regies"}),uh.map(q=>g.jsx("option",{value:q,children:q},q))]}),g.jsxs("select",{value:c,onChange:q=>{u(q.target.value),h("Todas")},className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer border-r border-outline-variant/30",disabled:fe.length===0,title:"Filtrar por Estado",children:[g.jsx("option",{value:"Todos",children:"UF"}),fe.map(q=>g.jsx("option",{value:q,children:q},q))]}),g.jsxs("select",{value:d,onChange:q=>h(q.target.value),className:"text-xs bg-transparent px-2 py-1 font-bold outline-none cursor-pointer min-w-[80px]",disabled:c==="Todos"||me.length===0,title:"Filtrar por Cidade",children:[g.jsx("option",{value:"Todas",children:"Cidades"}),me.map(q=>g.jsx("option",{value:q,children:q},q))]})]}),g.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:g.jsxs("div",{className:"relative",children:[g.jsx(as,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),g.jsxs("select",{value:F,onChange:q=>k(q.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[120px]",title:"Filtrar por CNAE",children:[g.jsx("option",{value:"Todos",children:"CNAEs"}),ne.map(q=>g.jsx("option",{value:q,children:q.length>20?q.substring(0,20)+"...":q},q))]})]})}),g.jsx("div",{className:"flex items-center gap-1 bg-surface-container-low border border-outline-variant p-1 rounded-xl shadow-sm",children:g.jsxs("div",{className:"relative",children:[g.jsx(io,{className:"w-3.5 h-3.5 text-on-surface-variant/50 absolute left-2 top-1/2 -translate-y-1/2 pointer-events-none"}),g.jsxs("select",{value:M,onChange:q=>D(q.target.value),className:"text-xs bg-transparent pl-7 pr-3 py-1 font-bold outline-none cursor-pointer max-w-[180px]",title:"Filtrar por Marcas / Categorias de Produtos",children:[g.jsx("option",{value:"Todos",children:"Todas Marcas / Cat."}),P.map(q=>g.jsx("option",{value:q,children:q},q))]})]})}),g.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[g.jsxs("button",{onClick:()=>I?.(!N),className:`text-[10px] font-black px-4 py-2 rounded-full transition-all flex items-center gap-1.5 shadow-sm active:scale-95 ${N?"bg-green-600 text-white ring-2 ring-green-200":"bg-surface-container-low border border-outline-variant text-on-surface hover:bg-surface-container-high"}`,title:"Mostrar apenas clientes com histrico de compras",children:[g.jsx(to,{className:`w-3 h-3 ${N?"text-white":"text-green-600"}`}),"SOMENTE COM COMPRAS"]}),g.jsx("button",{onClick:()=>R?.(),className:"text-[10px] font-black px-4 py-2 rounded-full bg-white border border-outline-variant text-on-surface hover:bg-surface-container-high transition-all shadow-sm active:scale-95 flex items-center gap-1.5",title:"Limpar todos os filtros",children:"MOSTRAR TODOS"})]})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-10 bg-surface-container-lowest/30 custom-scrollbar",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsx(by,{title:"Faturamento Total",value:`R$ ${X.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,icon:tU,trend:12.5,color:"bg-primary"}),g.jsx(by,{title:"Carteira Filtrada",value:X.totalClients,icon:qp,trend:5.2,color:"bg-secondary"}),g.jsx(by,{title:"Mix de Produtos",value:X.totalProducts,icon:io,trend:-2.4,color:"bg-tertiary"}),g.jsx(by,{title:"Vendas Registradas",value:X.totalSalesCount,icon:t4,trend:8.1,color:"bg-primary"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsx("div",{className:"flex justify-between items-center mb-8",children:g.jsxs("div",{children:[g.jsxs("h3",{className:"text-xl font-black text-on-surface flex items-center gap-2 uppercase tracking-tighter",children:[g.jsx(oU,{className:"text-primary"}),"Comportamento de Vendas"]}),g.jsx("p",{className:"text-sm text-on-surface-variant opacity-60",children:"Volume de receita por perodo"})]})}),g.jsx("div",{className:"h-80 w-full",children:g.jsx(X0,{width:"100%",height:"100%",children:g.jsxs(I8e,{data:X.salesTrendData,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#0061A4",stopOpacity:.1}),g.jsx("stop",{offset:"95%",stopColor:"#0061A4",stopOpacity:0})]})}),g.jsx(Jy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),g.jsx(Ep,{dataKey:"date",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),g.jsx(Tp,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(sp,{contentStyle:{backgroundColor:"#fff",borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},formatter:q=>[`R$ ${q.toLocaleString("pt-BR")}`,"Venda"]}),g.jsx(BK,{type:"monotone",dataKey:"value",stroke:"#0061A4",strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsx("h3",{className:"text-xl font-black text-on-surface mb-8 uppercase tracking-tighter",children:"Mix por Categoria"}),g.jsxs("div",{className:"h-80 w-full relative",children:[g.jsx(X0,{width:"100%",height:"100%",children:g.jsxs(C8e,{children:[g.jsx(wK,{data:X.categoryDistributionData,innerRadius:70,outerRadius:95,paddingAngle:4,dataKey:"value",stroke:"none",animationDuration:1200,children:X.categoryDistributionData.map((q,he)=>g.jsx(mg,{fill:K8[he%K8.length]},`cell-${he}`))}),g.jsx(sp,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none"},formatter:q=>[`R$ ${q.toLocaleString("pt-BR")}`,"Total"]}),g.jsx(FH,{verticalAlign:"bottom",layout:"horizontal",align:"center",iconType:"circle",wrapperStyle:{paddingTop:"20px",fontSize:"10px",height:"auto"}})]})}),g.jsxs("div",{className:"absolute inset-x-0 top-[35%] flex flex-col items-center justify-center pointer-events-none",children:[g.jsx("span",{className:"text-[10px] text-on-surface-variant uppercase font-bold tracking-widest opacity-40",children:"Liderana"}),g.jsx("span",{className:"text-sm font-black text-primary px-4 text-center line-clamp-2 leading-tight",children:X.categoryDistributionData[0]?.name||"..."})]})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-secondary/10 rounded-xl text-secondary",children:g.jsx(io,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:V==="desc"?"Produtos Mais Vendidos":"Produtos Menos Vendidos"}),g.jsxs("div",{className:"flex gap-1 ml-auto bg-surface-container-high p-1 rounded-lg",children:[g.jsx("button",{onClick:()=>ee("desc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${V==="desc"?"bg-primary text-on-primary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"TOP"}),g.jsx("button",{onClick:()=>ee("asc"),className:`text-[10px] font-bold px-2 py-1 rounded-md transition-all ${V==="asc"?"bg-tertiary text-on-tertiary shadow-sm":"text-on-surface-variant hover:bg-surface-container-highest"}`,children:"BOTTOM"})]})]}),g.jsx("div",{className:"h-80",children:g.jsx(X0,{width:"100%",height:"100%",children:g.jsxs(mA,{data:X.topProductsData,layout:"vertical",margin:{left:20},children:[g.jsx(Jy,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"#F0F0F0"}),g.jsx(Ep,{type:"number",hide:!0}),g.jsx(Tp,{dataKey:"name",type:"category",stroke:"#8E9199",fontSize:10,width:120,axisLine:!1,tickLine:!1}),g.jsx(sp,{cursor:{fill:"rgba(0,0,0,0.03)"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:q=>[q,"Qtd Vendida"]}),g.jsx(Xy,{dataKey:"count",fill:V==="desc"?"#535F70":"#BA1A1A",radius:[0,8,8,0],barSize:24,animationDuration:1e3})]})})})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:g.jsx(Hp,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Desempenho Regional"})]}),g.jsx("div",{className:"h-80",children:g.jsx(X0,{width:"100%",height:"100%",children:g.jsxs(mA,{data:X.regionalSalesData,children:[g.jsx(Jy,{strokeDasharray:"3 3",vertical:!1,stroke:"#F0F0F0"}),g.jsx(Ep,{dataKey:"name",stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1}),g.jsx(Tp,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(sp,{contentStyle:{borderRadius:"12px"}}),g.jsx(Xy,{dataKey:"value",fill:"#6B5778",radius:[8,8,0,0],barSize:40,animationDuration:1500})]})})})]})]}),g.jsxs("div",{className:"bg-surface p-8 rounded-3xl shadow-elevation-1 border border-outline-variant/30",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[g.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary",children:g.jsx(as,{size:20})}),g.jsx("h3",{className:"text-xl font-black text-on-surface uppercase tracking-tighter",children:"Equipe de Vendas (Ranking PRO)"})]}),g.jsx("div",{className:"h-80",children:g.jsx(X0,{width:"100%",height:"100%",children:g.jsxs(mA,{data:X.sellerPerformanceData,margin:{bottom:20},children:[g.jsx(Ep,{dataKey:"name",stroke:"#8E9199",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0,axisLine:!1,tickLine:!1}),g.jsx(Tp,{stroke:"#8E9199",fontSize:11,axisLine:!1,tickLine:!1,tickFormatter:q=>`R$ ${q/1e3}k`}),g.jsx(sp,{contentStyle:{borderRadius:"16px"}}),g.jsx(Xy,{dataKey:"revenue",fill:"#D7E3F7",radius:[12,12,0,0],activeBar:{fill:"#0061A4"},animationDuration:2e3})]})})})]})]})]})},P8e=[{id:"admin_dev",name:"Admin DEV",username:"admin",email:"admin@vendas.ai",role:"admin_dev",password:"123",salesCategory:"N/A",color:"#6B7280"},{id:"1",name:"Joo Silva (Vendedor A)",username:"vendedor_a",email:"joao.silva@vendas.ai",role:"sales_external",password:"123",salesCategory:"Externo",color:"#EF4444"},{id:"2",name:"Maria Santos (Vendedor B)",username:"vendedor_b",email:"maria.santos@vendas.ai",role:"sales_internal",password:"123",salesCategory:"Interno",color:"#3B82F6"}],lW=()=>{const[e,t]=O.useState([]),[r,n]=O.useState(null);return{users:e,setUsers:t,currentUser:r,login:u=>{n(u)},logout:()=>{n(null)},addUser:u=>{t([...e,u])},updateUser:u=>{t(e.map(d=>d.id===u.id?u:d))},deleteUser:u=>{t(e.filter(d=>d.id!==u))}}},O1=Object.freeze(Object.defineProperty({__proto__:null,INITIAL_USERS:P8e,useAuth:lW},Symbol.toStringTag,{value:"Module"})),gA=()=>{try{const e=localStorage.getItem("vendas_ai_clients");if(e)return JSON.parse(e).map(r=>({...r,category:Array.isArray(r.category)?r.category:typeof r.category=="string"?[r.category]:["Outros"],region:Wp(r.state)}))}catch(e){console.error("Failed to load clients",e)}return[]},W8=()=>{try{const e=localStorage.getItem("vendas_ai_products");return e?JSON.parse(e):[]}catch{return[]}},Y8=()=>{try{const e=localStorage.getItem("vendas_ai_categories");return e?JSON.parse(e):Kp.filter(t=>t!=="Todos")}catch{return Kp.filter(t=>t!=="Todos")}},J8=()=>{try{const e=localStorage.getItem("vendas_ai_files");return e?JSON.parse(e):[]}catch{return[]}},R8e=(e,t)=>{const[r,n]=O.useState([]),[i,a]=O.useState(W8),[s,o]=O.useState(Y8),[c,u]=O.useState(J8),[d,h]=O.useState(!1),[m,y]=O.useState(!1),[x,b]=O.useState(0),[E,S]=O.useState("Iniciando sistema...");return O.useEffect(()=>{(async()=>{S("Conectando ao Firebase..."),b(10);const k=await bN();if(h(k),b(25),k){S("Buscando dados na nuvem..."),b(40);try{const D=await TEe();if(b(60),D&&(D.clients?.length>0||D.products?.length>0||D.users?.length>0)){console.log("Cloud data found (Populated). Using Cloud as Source of Truth."),D.clients&&n(D.clients),D.products&&a(D.products),D.categories&&o(D.categories),D.users&&t&&t(lp(D.users)),D.uploadedFiles&&u(D.uploadedFiles),S("Finalizando sincronizao..."),b(100),setTimeout(()=>y(!0),500);return}else{console.log("Cloud is empty. Checking localStorage for migration...");const P=localStorage.getItem("vendas_ai_users");let N=P?JSON.parse(P):null;if(!N||N.length===0){const{INITIAL_USERS:I}=await Mx(async()=>{const{INITIAL_USERS:R}=await Promise.resolve().then(()=>O1);return{INITIAL_USERS:R}},void 0);N=I}N=lp(N),t&&t(N),n(gA()),console.log("Saving initial data to cloud (background attempt)..."),IS(gA(),W8(),Y8(),N,J8()).catch(I=>console.warn("Initial cloud save failed (expected in some offline cases), will retry later",I)),S("Configurao concluda!"),b(100),setTimeout(()=>y(!0),500);return}}catch(D){console.error("Cloud load error, falling back to local:",D)}}console.log("Loading data from LocalStorage..."),n(gA());const M=localStorage.getItem("vendas_ai_users");if(M&&t)t(lp(JSON.parse(M)));else if(t){const{INITIAL_USERS:D}=await Mx(async()=>{const{INITIAL_USERS:P}=await Promise.resolve().then(()=>O1);return{INITIAL_USERS:P}},void 0);t(lp(D))}S("Carregado localmente"),b(100),setTimeout(()=>y(!0),500)})()},[]),O.useEffect(()=>{if(d&&m&&(r.length>0||e.length>0||c.length>0)){const F=setTimeout(()=>{IS(r,i,s,e,c).catch(k=>console.error("Auto-save failed",k))},2e3);return()=>clearTimeout(F)}},[r,i,s,e,c,d,m]),O.useEffect(()=>{localStorage.setItem("vendas_ai_clients",JSON.stringify(r))},[r]),O.useEffect(()=>{localStorage.setItem("vendas_ai_categories",JSON.stringify(s))},[s]),O.useEffect(()=>{localStorage.setItem("vendas_ai_products",JSON.stringify(i))},[i]),O.useEffect(()=>{localStorage.setItem("vendas_ai_files",JSON.stringify(c))},[c]),O.useEffect(()=>{localStorage.setItem("vendas_ai_users",JSON.stringify(e))},[e]),{masterClientList:r,setMasterClientList:n,products:i,setProducts:a,categories:s,setCategories:o,uploadedFiles:c,setUploadedFiles:u,isFirebaseConnected:d,isDataLoaded:m,loadingProgress:x,loadingMessage:E}},O8e=(e,t,r,n)=>{const[i,a]=O.useState(""),[s,o]=O.useState("Todas"),[c,u]=O.useState("Todos"),[d,h]=O.useState("Todas"),[m,y]=O.useState("Todos"),[x,b]=O.useState("Todos"),[E,S]=O.useState("Todos"),[F,k]=O.useState("Todos"),[M,D]=O.useState(!1),[P,N]=O.useState(""),[I,R]=O.useState(""),[U,B]=O.useState("Todos"),[L,H]=O.useState("Todos"),[fe,me]=O.useState(""),[ne,ue]=O.useState(!1),ce=O.useMemo(()=>{if(!r)return[];let q=[];return SA(r.role)?x!=="Todos"?q=e.filter(he=>he.salespersonId===x):q=e:q=e.filter(he=>he.salespersonId===r.id),q},[r,e,x]),ie=O.useMemo(()=>ce.filter(q=>{const he=s==="Todas"||q.region===s,ye=c==="Todos"||q.state===c,Ie=d==="Todas"||q.city===d,oe=m==="Todos"||Array.isArray(q.category)&&q.category.includes(m);let ge=!0;if(r&&SA(r.role)&&E!=="Todos"){const Fe=t.find(Je=>Je.id===q.salespersonId);(!Fe||Fe.salesCategory!==E)&&(ge=!1)}const De=(i||"").toLowerCase(),K=i===""||(q.companyName||"").toLowerCase().includes(De)||q.ownerName&&(q.ownerName||"").toLowerCase().includes(De);let Ye=!0;const Ue=(fe||"").toLowerCase(),Ke=F==="Todos"||q.mainCnae&&q.mainCnae.includes(F)||q.secondaryCnaes&&q.secondaryCnaes.some(Fe=>Fe.includes(F));if(U!=="Todos"||L!=="Todos"||Ue!=="")if(!q.purchasedProducts||q.purchasedProducts.length===0)Ye=!1;else{const Fe=U==="Todos"||q.purchasedProducts.some(It=>(It.category||"")===U),Je=L==="Todos"||q.purchasedProducts.some(It=>(It.sku||"")===L),et=Ue===""||q.purchasedProducts.some(It=>(It.name||"").toLowerCase().includes(Ue)||(It.sku||"").toLowerCase().includes(Ue)||(It.brand||"").toLowerCase().includes(Ue)||(It.category||"").toLowerCase().includes(Ue)||(It.factoryCode||"").toLowerCase().includes(Ue)||(It.price||0).toString().includes(Ue)),ht=!P||!I||q.purchasedProducts.some(It=>{if(!It.purchaseDate)return!1;const Gr=new Date(It.purchaseDate),Br=new Date(P),_t=new Date(I);return Br.setHours(0,0,0,0),_t.setHours(23,59,59,999),Gr>=Br&&Gr<=_t});Ye=Fe&&Je&&et&&ht}const ze=!M||q.purchasedProducts&&q.purchasedProducts.length>0;return he&&ye&&Ie&&oe&&K&&Ye&&ge&&ze&&Ke}),[ce,s,c,d,m,F,i,U,L,fe,E,M,t,r,P,I]),xe=O.useMemo(()=>{let q=ce;s!=="Todas"&&(q=q.filter(ye=>ye.region===s));const he=new Set(q.map(ye=>ye.state).filter(Boolean));return Array.from(he).sort()},[ce,s]),J=O.useMemo(()=>{let q=ce;if(s!=="Todas"&&(q=q.filter(ye=>ye.region===s)),c!=="Todos")q=q.filter(ye=>ye.state===c);else return[];const he=new Set(q.map(ye=>ye.city).filter(Boolean));return Array.from(he).sort()},[ce,s,c]),V=O.useMemo(()=>{const q=new Set(n.map(he=>he.category));return Array.from(q).sort()},[n]),ee=O.useMemo(()=>{const q=new Set;return ce.forEach(he=>{he.mainCnae&&q.add(he.mainCnae),he.secondaryCnaes&&he.secondaryCnaes.forEach(ye=>q.add(ye))}),Array.from(q).sort()},[ce]);return{searchQuery:i,setSearchQuery:a,filterRegion:s,setFilterRegion:o,filterState:c,setFilterState:u,filterCity:d,setFilterCity:h,filterCategory:m,setFilterCategory:y,filterSalespersonId:x,setFilterSalespersonId:b,filterSalesCategory:E,setFilterSalesCategory:S,filterCnae:F,setFilterCnae:k,filterProductCategory:U,setFilterProductCategory:B,filterProductSku:L,setFilterProductSku:H,searchProductQuery:fe,setSearchProductQuery:me,showProductSuggestions:ne,setShowProductSuggestions:ue,filterOnlyWithPurchases:M,setFilterOnlyWithPurchases:D,startDate:P,setStartDate:N,endDate:I,setEndDate:R,filteredClients:ie,visibleClients:ce,availableStates:xe,availableCities:J,availableCnaes:ee,productCategories:V,resetFilters:()=>{a(""),o("Todas"),u("Todos"),h("Todas"),b("Todos"),S("Todos"),k("Todos"),B("Todos"),H("Todos"),me(""),D(!1),N(""),R("")}}},M8e=({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:a="info",confirmLabel:s="Confirmar",cancelLabel:o="Cancelar",icon:c})=>{if(!e)return null;const u=()=>{if(c)return g.jsx(c,{className:"w-8 h-8"});switch(a){case"success":return g.jsx(eU,{className:"w-8 h-8 text-green-600"});case"error":return g.jsx(qi,{className:"w-8 h-8 text-red-600"});case"warning":return g.jsx(qi,{className:"w-8 h-8 text-amber-600"});case"confirm":return g.jsx(IJ,{className:"w-8 h-8 text-blue-600"});default:return g.jsx(iU,{className:"w-8 h-8 text-blue-600"})}},h=(()=>{switch(a){case"success":return{bg:"bg-green-50",border:"border-green-100",text:"text-green-800"};case"error":return{bg:"bg-red-50",border:"border-red-100",text:"text-red-800"};case"warning":return{bg:"bg-amber-50",border:"border-amber-100",text:"text-amber-800"};case"confirm":return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"};default:return{bg:"bg-blue-50",border:"border-blue-100",text:"text-blue-800"}}})(),m=()=>Array.isArray(i)?g.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:i.map((y,x)=>g.jsxs("li",{className:"flex items-start gap-2",children:[g.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-blue-500 shrink-0"}),y]},x))}):g.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:i});return g.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-fade-in",children:g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-white",children:[g.jsx("div",{className:"bg-blue-600 h-2 w-full"}),g.jsxs("div",{className:"p-8",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:`w-16 h-16 ${h.bg} rounded-2xl flex items-center justify-center ring-4 ring-white shadow-sm`,children:u()})}),g.jsx("div",{className:"text-center mb-6",children:g.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:n})}),g.jsx("div",{className:`${h.bg} ${h.border} border rounded-2xl p-5 mb-8`,children:m()}),g.jsxs("div",{className:"flex gap-3",children:[(r||a==="confirm")&&g.jsx("button",{onClick:t,className:"flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-800 hover:bg-gray-100 transition-all active:scale-95",children:o}),g.jsx("button",{onClick:()=>{r&&r(),t()},className:`flex-1 py-3.5 px-4 rounded-xl text-sm font-bold text-white transition-all shadow-md active:scale-95 flex items-center justify-center gap-2
                                ${a==="error"?"bg-red-600 hover:bg-red-700":a==="success"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:s})]})]})]})})},D8e=({clients:e,users:t,startDate:r,endDate:n,onRangeChange:i})=>{const a=O.useMemo(()=>{const u=[];return e.forEach(d=>{d.purchasedProducts&&d.purchasedProducts.forEach(h=>{const m=h.purchaseDate;r&&m<r||n&&m>n||u.push({...h,clientName:d.companyName,clientId:d.id})})}),u.sort((d,h)=>(h.purchaseDate||"").localeCompare(d.purchaseDate||""))},[e,r,n]),s=O.useMemo(()=>{const u=a.reduce((m,y)=>m+(y.totalValue||y.price*(y.quantity||1)),0),d=new Set(a.map(m=>m.clientId)).size,h=a.reduce((m,y)=>m+(y.quantity||1),0);return{totalValue:u,uniqueClients:d,totalItems:h}},[a]),o=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),c=u=>{try{return u.split("-").reverse().join("/")}catch{return u}};return g.jsxs("div",{className:"flex flex-col h-full bg-gray-50 p-4 overflow-hidden",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[g.jsx(oU,{className:"text-primary w-6 h-6"}),"Histrico Mgico de Vendas"]}),g.jsx("p",{className:"text-sm text-gray-500",children:"Analise compras por anos, meses, semanas e dias"})]}),g.jsxs("div",{className:"bg-white p-2 rounded-xl shadow-sm border border-gray-100 flex items-center gap-3",children:[g.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase ml-2",children:"Filtrar Perodo:"}),g.jsx(Q7,{startDate:r,endDate:n,onRangeChange:i})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-full flex items-center justify-center text-green-600",children:g.jsx(tU,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Volume Total"}),g.jsx("p",{className:"text-xl font-bold text-gray-800",children:o(s.totalValue)})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600",children:g.jsx(to,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Total de Itens"}),g.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.totalItems," un."]})]})]}),g.jsxs("div",{className:"bg-white rounded-2xl p-5 shadow-sm border border-gray-100 flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-full flex items-center justify-center text-purple-600",children:g.jsx(Oa,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase",children:"Clientes Atendidos"}),g.jsxs("p",{className:"text-xl font-bold text-gray-800",children:[s.uniqueClients," empresas"]})]})]})]}),g.jsx("div",{className:"flex-1 bg-white rounded-2xl shadow-sm border border-gray-100 flex flex-col overflow-hidden",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Data"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Cliente"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"SKU / Produto"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase",children:"Qtd"}),g.jsx("th",{className:"px-6 py-4 text-xs font-bold text-gray-400 uppercase text-right",children:"Valor Total"})]})}),g.jsx("tbody",{className:"divide-y divide-gray-50",children:a.length>0?a.map((u,d)=>g.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx($p,{className:"w-4 h-4 text-gray-300"}),g.jsx("span",{className:"text-sm font-medium text-gray-700",children:c(u.purchaseDate)})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("p",{className:"text-sm font-bold text-gray-800 truncate max-w-[200px]",title:u.clientName,children:u.clientName})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-xs font-bold text-primary",children:u.sku}),g.jsx("span",{className:"text-xs text-gray-500 truncate max-w-[250px]",title:u.name,children:u.name})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.quantity||1})}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsx("span",{className:"text-sm font-bold text-gray-900",children:o(u.totalValue||u.price*(u.quantity||1))})})]},d)):g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"py-20 text-center",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx($p,{className:"w-12 h-12 text-gray-200 mb-2"}),g.jsx("p",{className:"text-gray-400 font-medium",children:"Nenhuma venda encontrada para o perodo"}),g.jsx("p",{className:"text-xs text-gray-400",children:"Tente expandir o filtro de datas"})]})})})})]})})})]})},F8e=({currentUser:e,allUsers:t,conversations:r,messages:n,activeUserId:i,onSelectUser:a,onSendMessage:s,onClose:o})=>{const[c,u]=O.useState(""),[d,h]=O.useState(""),[m,y]=O.useState("conversations"),x=O.useRef(null),b=t.find(P=>P.id===i),E=(e.role==="admin_dev"||e.role==="admin")&&i,S=n.filter(P=>i?e.role==="admin_dev"||e.role==="admin"?P.senderId===i||P.receiverId===i:P.senderId===e.id&&P.receiverId===i||P.senderId===i&&P.receiverId===e.id:!1),F=t.filter(P=>P.id!==e.id&&(P.name.toLowerCase().includes(d.toLowerCase())||P.username.toLowerCase().includes(d.toLowerCase())));O.useEffect(()=>{x.current?.scrollIntoView({behavior:"smooth"})},[S]);const k=()=>{c.trim()&&i&&(s(i,c.trim()),u(""))},M=P=>P.charAt(0).toUpperCase(),D=P=>new Date(P).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return g.jsxs("div",{className:"flex flex-col h-full bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:[g.jsxs("div",{className:"p-4 bg-slate-800 text-white flex items-center justify-between shadow-md",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[i?g.jsx("button",{onClick:()=>a(""),className:"hover:bg-slate-700 p-1 rounded-full transition-colors md:hidden",title:"Voltar para lista de conversas",children:g.jsx(vA,{className:"w-5 h-5"})}):g.jsx(wA,{className:"w-6 h-6 text-blue-400"}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-bold text-sm",children:i?b?.name:"Mensagens Internas"}),g.jsx("p",{className:"text-[10px] text-slate-300",children:i?b?.role:"Conectado como "+e.name})]})]}),o&&g.jsx("button",{onClick:o,className:"text-slate-400 hover:text-white transition-colors",title:"Fechar chat",children:g.jsx(PJ,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsxs("div",{className:`w-full md:w-80 border-r border-slate-100 flex flex-col ${i?"hidden md:flex":"flex"}`,children:[g.jsxs("div",{className:"p-3 bg-slate-50 border-b border-slate-200",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Vo,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),g.jsx("input",{type:"text",value:d,onChange:P=>h(P.target.value),placeholder:"Buscar colega...",className:"w-full pl-9 pr-3 py-2 bg-white border border-slate-200 rounded-full text-xs focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),g.jsxs("div",{className:"flex mt-3 bg-slate-200 p-1 rounded-lg",children:[g.jsx("button",{onClick:()=>y("conversations"),className:`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all ${m==="conversations"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Conversas"}),g.jsxs("button",{onClick:()=>y("users"),className:`flex-1 py-1.5 text-[10px] font-bold rounded-md transition-all ${m==="users"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:["Contatos (",t.length-1,")"]})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto bg-white custom-scrollbar",children:m==="conversations"?r.length>0?r.map(P=>{const N=t.find(I=>I.id===P.userId);return N?g.jsxs("button",{onClick:()=>a(P.userId),className:`w-full p-4 flex items-center gap-3 border-b border-slate-50 transition-colors hover:bg-slate-50 ${i===P.userId?"bg-blue-50/50":""}`,children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white text-xs shadow-sm ${N.role.includes("admin")?"bg-tertiary":"bg-secondary"}`,children:N.photoURL?g.jsx("img",{src:N.photoURL,alt:"",className:"w-full h-full object-cover rounded-full"}):g.jsx("span",{children:M(N.name)})}),g.jsxs("div",{className:"flex-1 text-left min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-baseline mb-0.5",children:[g.jsx("h4",{className:"font-bold text-xs text-slate-800 truncate",children:N.name}),P.lastMessage&&g.jsx("span",{className:"text-[9px] text-slate-400",children:D(P.lastMessage.timestamp)})]}),g.jsxs("p",{className:"text-[10px] text-slate-500 truncate flex items-center gap-1",children:[P.lastMessage?.senderId===e.id&&g.jsx(ch,{className:"w-3 h-3"}),P.lastMessage?.text||"Sem mensagens..."]})]}),P.unreadCount>0&&g.jsx("div",{className:"bg-blue-600 text-white text-[9px] font-black h-5 w-5 rounded-full flex items-center justify-center shadow-md animate-pulse",children:P.unreadCount})]},P.userId):null}):g.jsxs("div",{className:"p-8 text-center",children:[g.jsx(wA,{className:"w-8 h-8 text-slate-300 mx-auto mb-3"}),g.jsx("p",{className:"text-xs text-slate-400",children:"Nenhuma conversa ativa."}),g.jsx("button",{onClick:()=>y("users"),className:"mt-2 text-xs font-bold text-blue-500",children:"Ver contatos"})]}):F.map(P=>g.jsxs("button",{onClick:()=>a(P.id),className:`w-full p-4 flex items-center gap-3 border-b border-slate-50 transition-colors hover:bg-slate-50 ${i===P.id?"bg-blue-50/50":""}`,children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white text-xs shadow-sm ${P.role.includes("admin")?"bg-tertiary":"bg-secondary"}`,children:P.photoURL?g.jsx("img",{src:P.photoURL,alt:"",className:"w-full h-full object-cover rounded-full"}):g.jsx("span",{children:M(P.name)})}),g.jsxs("div",{className:"flex-1 text-left",children:[g.jsx("h4",{className:"font-bold text-xs text-slate-800",children:P.name}),g.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-medium",children:P.role.replace("_"," ")})]})]},P.id))})]}),g.jsx("div",{className:`flex-1 flex flex-col bg-slate-50 ${i?"flex":"hidden md:flex"}`,children:i?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar",children:[S.map((P,N)=>{const I=P.senderId===e.id,R=P.senderId===e.id&&P.receiverId===i||P.senderId===i&&P.receiverId===e.id;return g.jsx("div",{className:`flex ${I?"justify-end":"justify-start"} animate-fade-in`,children:g.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 shadow-sm ${I?"bg-blue-600 text-white rounded-tr-none":E&&!R?"bg-slate-200 text-slate-700 border-dashed border-slate-400":"bg-white text-slate-800 rounded-tl-none border border-slate-100"}`,children:[E&&!I&&g.jsxs("p",{className:"text-[9px] font-black uppercase mb-1 opacity-60",children:[t.find(U=>U.id===P.senderId)?.name||"Outro","  ",t.find(U=>U.id===P.receiverId)?.name||"Outro"]}),g.jsx("p",{className:"text-sm whitespace-pre-wrap",children:P.text}),g.jsxs("div",{className:`flex items-center gap-1 mt-1 justify-end ${I?"text-blue-100":"text-slate-400"}`,children:[g.jsx("span",{className:"text-[9px]",children:D(P.timestamp)}),I&&(P.read?g.jsx(_J,{className:"w-3 h-3"}):g.jsx(ch,{className:"w-3 h-3"}))]})]})},P.id||N)}),g.jsx("div",{ref:x})]}),g.jsx("div",{className:"p-4 bg-white border-t border-slate-200",children:g.jsxs("form",{onSubmit:P=>{P.preventDefault(),k()},className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",value:c,onChange:P=>u(P.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-2 bg-slate-50 border border-slate-200 rounded-full text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"p-2.5 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 disabled:bg-slate-300 disabled:shadow-none transition-all active:scale-95",title:"Enviar mensagem",children:g.jsx(CX,{className:"w-5 h-5"})})]})})]}):g.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center text-slate-400",children:[g.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6 border border-slate-200",children:g.jsx(qp,{className:"w-10 h-10 text-slate-300"})}),g.jsx("h3",{className:"text-lg font-bold text-slate-600 mb-2",children:"Seu Central de Comunicao"}),g.jsx("p",{className:"text-sm max-w-xs leading-relaxed",children:"Selecione um colega de equipe na lista ao lado para iniciar uma conversa em tempo real."})]})})]})]})},L8e=(e,t)=>{const[r,n]=O.useState([]),[i,a]=O.useState([]),[s,o]=O.useState(null);O.useEffect(()=>{if(!e)return;const d=wEe(h=>{const m=e.role==="admin_dev"||e.role==="admin",y=h.filter(x=>m||x.senderId===e.id||x.receiverId===e.id);n(y)});return()=>d()},[e]),O.useEffect(()=>{if(!e)return;const d=new Map;e.role==="admin_dev"||e.role,t.forEach(h=>{h.id!==e.id&&d.set(h.id,{userId:h.id,unreadCount:0})}),r.forEach(h=>{const m=h.senderId===e.id?h.receiverId:(h.receiverId===e.id,h.senderId),y=d.get(m);y&&((!y.lastMessage||h.timestamp>y.lastMessage.timestamp)&&(y.lastMessage=h),!h.read&&h.receiverId===e.id&&y.unreadCount++)}),a(Array.from(d.values()).sort((h,m)=>{const y=h.lastMessage?.timestamp||"";return(m.lastMessage?.timestamp||"").localeCompare(y)}))},[r,e,t]);const c=O.useCallback(async(d,h)=>{if(!e)return;const m={senderId:e.id,receiverId:d,text:h,timestamp:new Date().toISOString(),read:!1};await bEe(m)},[e]),u=O.useCallback(async d=>{if(!e)return;const h=r.filter(m=>m.senderId===d&&m.receiverId===e.id&&!m.read);for(const m of h)await EEe(m.id)},[e,r]);return{messages:r,conversations:i,activeConversationId:s,setActiveConversationId:o,sendMessage:c,markAsRead:u,totalUnread:i.reduce((d,h)=>d+h.unreadCount,0)}},j8e=()=>{const{users:e,setUsers:t,currentUser:r,login:n,logout:i,addUser:a,updateUser:s,deleteUser:o}=lW(),{masterClientList:c,setMasterClientList:u,products:d,setProducts:h,categories:m,setCategories:y,uploadedFiles:x,setUploadedFiles:b,isFirebaseConnected:E,isDataLoaded:S,loadingProgress:F,loadingMessage:k}=R8e(e,t),{searchQuery:M,setSearchQuery:D,filterRegion:P,setFilterRegion:N,filterState:I,setFilterState:R,filterCity:U,setFilterCity:B,filterCategory:L,setFilterCategory:H,filterSalespersonId:fe,setFilterSalespersonId:me,filterSalesCategory:ne,setFilterSalesCategory:ue,filterCnae:ce,setFilterCnae:ie,filterProductCategory:xe,setFilterProductCategory:J,filterProductSku:V,setFilterProductSku:ee,searchProductQuery:X,setSearchProductQuery:q,showProductSuggestions:he,setShowProductSuggestions:ye,filteredClients:Ie,visibleClients:oe,availableStates:ge,availableCities:De,availableCnaes:K,productCategories:Ye,filterOnlyWithPurchases:Ue,setFilterOnlyWithPurchases:Ke,startDate:ze,setStartDate:Fe,endDate:Je,setEndDate:et,resetFilters:ht}=O8e(c,e,r,d),{messages:It,conversations:Gr,activeConversationId:Br,setActiveConversationId:_t,sendMessage:xr,markAsRead:qt,totalUnread:Er}=L8e(r,e),[ft,Ot]=O.useState({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"processing"}),[wt,tr]=O.useState(()=>{const le="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Gemini API Key Source:","FOUND","(first 10 chars):",le?.substring(0,10)+"..."),le}),[$t,Bt]=O.useState(()=>{const le="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw";return console.log("[APP] Maps API Key Source:","FOUND","(first 10 chars):",le?.substring(0,10)+"..."),le}),[_r,xi]=O.useState(0),[mt,va]=O.useState("map"),[yo,nl]=O.useState(!1),[ya,xo]=O.useState(!1),[Xr,ri]=O.useState(!1),[za,xa]=O.useState(void 0),[xu,_o]=O.useState(!1),[_a,ba]=O.useState(!1),_u="AIzaSyBXCBO0Kx9-2HvTzjcsHzoGmHZnIKXXvcw",[_i,$a]=O.useState({isOpen:!1,title:"",message:"",type:"info"}),Di=(le,Oe,qe="info")=>{$a({isOpen:!0,title:le,message:Oe,type:qe,confirmLabel:"Entendi"})},Zi=(le,Oe,qe,tt)=>{$a({isOpen:!0,title:le,message:Oe,type:"confirm",onConfirm:qe,confirmLabel:tt?.confirm||"Confirmar",cancelLabel:tt?.cancel||"Cancelar"})},Pn=O.useRef(!1),W=le=>{ft.isActive&&ft.status==="processing"?Zi("Parar Envio?",["Gostaria de parar de enviar o arquivo?","O progresso atual ser perdido."],()=>{Pn.current=!0,va(le)},{confirm:"Parar Envio",cancel:"Continuar"}):va(le)},[ae,Z]=O.useState(""),[te,re]=O.useState(!1),se=()=>{Zi("Remover Clientes Duplicados?",["Esta ao ir identificar clientes com mesmo nome e endereo.","Manteremos apenas 1 registro de cada e atualizaremos a contagem total."],()=>{const le=new Map,Oe=[];let qe=0;if(c.forEach(tt=>{const gt=`${tt.companyName||""}-${tt.cleanAddress||""}`.toLowerCase().trim();le.has(gt)?qe++:(le.set(gt,tt),Oe.push(tt))}),qe===0){Di("Sucesso","Nenhum cliente duplicado encontrado!","success");return}u(Oe),Di("Limpeza Concluda!",[`${qe} clientes duplicados removidos.`,`Total anterior: ${c.length}`,`Total atual: ${Oe.length}`],"success")})},we=async()=>{if(c.length===0){Di("Aviso","Nenhum cliente na base para atualizar.","warning");return}Zi("Iniciar Atualizao em Massa?",["Este processo utilizar sua API CNPJa para:"," Buscar CNPJs faltantes via Razo Social"," Atualizar CNAEs (Atividade Econmica)"," Telefones, Endereos e Georreferenciamento",`Total de clientes: ${c.length}`],async()=>{Ot({isActive:!0,current:0,total:c.length,status:"processing",fileName:"Enriquecimento de Base (CNPJa Comercial)",ownerName:r?.name||"Sistema"});const le=bV(3);let Oe=0,qe=0;const tt=c.map((gt,Dt)=>le(async()=>{try{let Et=gt.cnpj?.replace(/\D/g,"");if(!Et||Et.length!==14){const pt=await Kve({filtros:gt.companyName,uf:gt.state});pt&&pt.length>0&&(Et=pt[0].taxId)}if(Et&&Et.length===14){const pt=await K1(Et);if(pt){const Mt=pt.logradouro&&pt.numero;u(Vt=>Vt.map(St=>St.id===gt.id?{...St,cnpj:pt.cnpj,companyName:pt.nome_fantasia||pt.razao_social||St.companyName,contact:pt.ddd_telefone_1||St.contact,cleanAddress:Mt?`${pt.logradouro}, ${pt.numero}, ${pt.municipio} - ${pt.uf}`:St.cleanAddress,originalAddress:Mt?`${pt.logradouro}, ${pt.numero}${pt.complemento?` - ${pt.complemento}`:""}, ${pt.bairro}, ${pt.municipio} - ${pt.uf}`:St.originalAddress,mainCnae:pt.cnae_fiscal||St.mainCnae,secondaryCnaes:pt.cnaes_secundarios?.map(Xt=>`${Xt.codigo} - ${Xt.texto}`)||St.secondaryCnaes||[],lat:pt.latitude||St.lat,lng:pt.longitude||St.lng,googleMapsUri:pt.latitude?`https://www.google.com/maps?q=${pt.latitude},${pt.longitude}`:St.googleMapsUri}:St)),Oe++}}}catch(Et){console.error(`Erro ao atualizar cliente ${gt.companyName}:`,Et),qe++,Et.message&&(Et.message.includes("401")||Et.message.toLowerCase().includes("chave de api cnpja invlida"))&&(Pn.current=!0,Ot(pt=>({...pt,status:"error",errorMessage:"Autenticao CNPJa falhou. Chave invlida ou expirada."})),ba(!0))}finally{Ot(Et=>({...Et,current:Dt+1}))}}));await Promise.all(tt),Ot(gt=>({...gt,status:"completed"})),Di("Atualizao Concluda!",[`Sucesso: ${Oe} clientes`,`Erros/No localizados: ${qe+(c.length-Oe-qe)}`,"Sua base de dados agora est enriquecida!"],"success"),setTimeout(()=>{Ot(gt=>({...gt,isActive:!1}))},3e3)})},Re=le=>{m.includes(le)||y([...m,le])},Ee=le=>{y(m.filter(Oe=>Oe!==le))},Ce=le=>{h(Oe=>{const qe=[...Oe,...le];return mr(c,qe),qe})},Ae=le=>{h(le)},Ge=()=>{h([]),u(le=>le.map(Oe=>({...Oe,purchasedProducts:[]})))},We=()=>{Zi("Limpar TODOS os Clientes?",[" ATENO: Esta ao remover TODOS os clientes do sistema."," Limpeza da listagem de arquivos e reset de contadores."," Vendedores, produtos e categorias NO sero afetados."],()=>{u([]),b(le=>le.filter(Oe=>Oe.type!=="clients")),Di("Sucesso","Base de clientes limpa com sucesso!","success")})},Ze=async le=>{for(const Oe of le){const qe=Oe?.trim();if(qe)try{const tt=await xV(qe,$t||"");if(tt)return tt}catch(tt){console.warn(`Geocoding failed for ${qe}:`,tt)}}return null},He=async()=>{const le=c.filter(Oe=>!Oe.plusCode&&Oe.lat&&Oe.lng&&Oe.lat!==0);if(le.length===0){Di("Aviso","Todos os clientes com coordenadas j possuem Plus Code!","info");return}Zi("Gerar Plus Codes?",[`Deseja gerar Plus Codes para ${le.length} clientes?`,"Isso utilizar a cota da API de Geocoding do Google."],async()=>{Ot({isActive:!0,current:0,total:le.length,status:"processing",fileName:"Gerao de Plus Codes",ownerName:r?.name||"Sistema"});let Oe=0;const qe=[...c];for(let tt=0;tt<le.length&&!Pn.current;tt++){const gt=le[tt];try{const Dt=await G0(gt.lat,gt.lng,$t||"");if(Dt){const Et=qe.findIndex(pt=>pt.id===gt.id);Et!==-1&&(qe[Et]={...qe[Et],plusCode:Dt},Oe++)}}catch(Dt){console.error(`Error generating Plus Code for ${gt.companyName}:`,Dt)}Ot(Dt=>({...Dt,current:tt+1}))}u(qe),Ot(tt=>({...tt,status:"completed",isActive:!0})),Pn.current=!1,Di("Sucesso",`Processo concludo! ${Oe} Plus Codes gerados.`,"success")})},Xe=async le=>{const Oe=c.find(Mt=>Mt.id===le.id);let qe={...le};const tt=Oe&&Oe.cleanAddress!==le.cleanAddress,gt=Oe&&Oe.plusCode!==le.plusCode,Dt=Oe&&(Oe.lat!==le.lat||Oe.lng!==le.lng),Et=le.lat===0||le.lng===0;if(!(Dt&&!Et)&&(tt||gt||Et)){const Mt=[le.cleanAddress,le.district,le.city,le.state,le.zip,le.region,le.country||"Brasil"].filter(Boolean).join(", "),Vt=await Ze([le.plusCode,Mt,le.cleanAddress,le.originalAddress]);if(Vt&&(qe.lat=Vt.lat,qe.lng=Vt.lng,Vt.formattedAddress&&(qe.cleanAddress=Vt.formattedAddress),!qe.plusCode)){const St=await G0(qe.lat,qe.lng,$t||"");St&&(qe.plusCode=St)}}else if(!qe.plusCode&&qe.lat&&qe.lng){const Mt=await G0(qe.lat,qe.lng,$t||"");Mt&&(qe.plusCode=Mt)}u(Mt=>Mt.map(Vt=>Vt.id===qe.id?qe:Vt))},ot=async le=>{let Oe={...le,id:le.id||crypto.randomUUID(),lat:le.lat||0,lng:le.lng||0};if(!Oe.lat||!Oe.lng||Oe.lat===0){const qe=await Ze([Oe.plusCode,Oe.cleanAddress,Oe.originalAddress]);if(qe){if(Oe.lat=qe.lat,Oe.lng=qe.lng,qe.formattedAddress&&(Oe.cleanAddress=qe.formattedAddress),console.log(`[APP] Geocoding for manual client successful: ${Oe.lat}, ${Oe.lng}`),!Oe.plusCode){const tt=await G0(Oe.lat,Oe.lng,$t||"");tt&&(Oe.plusCode=tt)}}else console.warn(`[APP] Geocoding for manual client FAILED: ${Oe.companyName}`)}else if(!Oe.plusCode&&Oe.lat&&Oe.lng){const qe=await G0(Oe.lat,Oe.lng,$t||"");qe&&(Oe.plusCode=qe)}u(qe=>[...qe,Oe]),setTimeout(()=>{const qe=document.querySelector(".overflow-y-auto");qe&&(qe.scrollTop=qe.scrollHeight)},100)},mr=(le,Oe)=>{if(Oe.length===0)return;const qe=le.map(tt=>{if(tt.purchasedProducts&&tt.purchasedProducts.length>0)return tt;let gt=Oe.filter(Mt=>(tt.category||[]).some(Vt=>(Mt.category||"").toLowerCase().includes((Vt||"").toLowerCase())||(Vt||"").toLowerCase().includes((Mt.category||"").toLowerCase())));gt.length===0&&(gt=Oe);const Dt=Math.floor(Math.random()*5)+1,pt=[...gt].sort(()=>.5-Math.random()).slice(0,Dt);return{...tt,purchasedProducts:pt.map(Mt=>({...Mt,purchaseDate:new Date().toISOString()}))}});u(qe)},gr=async()=>{_o(!0)},Tr=le=>{le&&le.trim()&&(Bt(le.trim()),localStorage.setItem("google_maps_api_key",le.trim()),xi(Oe=>Oe+1),_o(!1))},ni=le=>{if(n(le),ht(),W("map"),re(!1),AA(le.role)){const Oe=e.find(qe=>Vd(qe.role));Oe&&Z(Oe.id)}},Ha=le=>{localStorage.setItem("cnpja_api_key",le),ba(!1),Di("Sucesso","Chave CNPJa atualizada! Tente realizar a consulta novamente.","success")},Ga=()=>{if(ft.isActive&&ft.status==="processing")if(window.confirm("Gostaria de Parar de Enviar o Arquivo?"))Pn.current=!0;else return;i(),ht()},Qi=async(le,Oe,qe=!1)=>{const tt=e.find(Et=>Et.id===Oe),gt=tt?tt.name:"Desconhecido";if(c.length>0&&!qe&&!window.confirm(`O sistema j possui dados de clientes carregados.

Deseja ADICIONAR os novos dados  lista existente?
Clique em OK para continuar ou Cancelar para abortar.

Dica: Para substituir tudo, cancele e use o boto 'Limpar Base de Clientes' na aba de Admin.`))return;const Dt=crypto.randomUUID();Ot({isActive:!0,total:0,current:0,fileName:le.name,ownerName:gt,status:"reading"}),Pn.current=!1;try{let Et=[];const pt=le.name.toLowerCase();if(console.log(`Processing file: ${le.name}, Lower: ${pt}`),pt.endsWith(".csv"))console.log("Selected Parser: CSV"),Et=await Nre(le);else if(pt.endsWith(".xlsx")||pt.endsWith(".xls"))console.log("Selected Parser: Excel"),Et=await Rfe(le);else throw new Error("Formato no suportado. Use .csv, .xlsx ou .xls");if(console.log("Parsed Items Count:",Et.length),Et.length>0&&console.log("Sample Parsed Item:",Et[0]),Et.length===0)throw new Error("Arquivo vazio.");const Mt={id:Dt,fileName:le.name,uploadDate:new Date().toISOString(),salespersonId:Oe,salespersonName:gt,type:"clients",itemCount:Et.length,status:"processing"};try{const Xt=new Date().getTime(),Rn=`uploads/clients/${Oe}/${Xt}_${le.name}`,Zt=await kE(le,Rn);Zt&&(Mt.storageUrl=Zt,console.log(`[APP] CSV file uploaded to Storage: ${Zt}`))}catch(Xt){console.error("[APP] Failed to upload file to Storage:",Xt)}b(Xt=>[Mt,...Xt]),Ot(Xt=>({...Xt,total:Et.length,status:"processing"}));const St=(await Qve(Et,Oe,wt,$t,m,(Xt,Rn)=>{if(Pn.current)throw new Error("CANCELLED_BY_USER");Ot(Zt=>({...Zt,current:Xt,total:Rn}))})).map(Xt=>({...Xt,sourceFileId:Dt}));u(Xt=>{const Rn=[...Xt];return St.forEach(Zt=>{const ai=Zt.cnpj?.replace(/\D/g,""),ta=Rn.findIndex(Ar=>{const qa=Ar.cnpj?.replace(/\D/g,"");return ai&&qa&&ai.length===14&&qa.length===14?ai===qa:Ar.companyName.toLowerCase().trim()===Zt.companyName.toLowerCase().trim()&&Ar.city.toLowerCase().trim()===Zt.city.toLowerCase().trim()});if(ta!==-1){const Ar=Rn[ta];Rn[ta]={...Ar,...Zt,ownerName:Zt.ownerName||Ar.ownerName,contact:Zt.contact||Ar.contact,whatsapp:Zt.whatsapp||Ar.whatsapp,cnpj:Zt.cnpj||Ar.cnpj,mainCnae:Zt.mainCnae||Ar.mainCnae,secondaryCnaes:Zt.secondaryCnaes&&Zt.secondaryCnaes.length>0?Zt.secondaryCnaes:Ar.secondaryCnaes,lat:Zt.lat!==0?Zt.lat:Ar.lat,lng:Zt.lng!==0?Zt.lng:Ar.lng,googleMapsUri:Zt.googleMapsUri||Ar.googleMapsUri,plusCode:Zt.plusCode||Ar.plusCode}}else Rn.push(Zt)}),Rn}),Ot(Xt=>({...Xt,status:"completed"})),b(Xt=>Xt.map(Rn=>Rn.id===Dt?{...Rn,status:"completed"}:Rn)),setTimeout(()=>{Ot(Xt=>Xt.status==="completed"?{...Xt,isActive:!1}:Xt)},5e3)}catch(Et){console.error(Et);const pt=Et.message==="CANCELLED_BY_USER",Mt=pt?"Cancelado pelo usurio.":Et.message||"Erro desconhecido",Vt=pt;Ot(St=>({...St,status:"error",errorMessage:Mt,isActive:!Vt})),b(St=>St.map(Xt=>Xt.id===Dt?{...Xt,status:"error",errorMessage:Mt}:Xt))}},bo=le=>{const Oe=x.find(qe=>qe.id===le);Oe&&window.confirm(`Tem certeza que deseja excluir o arquivo "${Oe.fileName}"?

Isso remover todos os ${Oe.itemCount} registros associados.`)&&(Oe.type==="clients"?u(qe=>qe.filter(tt=>tt.sourceFileId!==le)):Oe.type==="products"&&h(qe=>qe.filter(tt=>tt.sourceFileId!==le)),b(qe=>qe.filter(tt=>tt.id!==le)))},ii=(le,Oe)=>{const tt=e.find(gt=>gt.id===Oe)?.name||"None";b(gt=>gt.map(Dt=>Dt.id===le?{...Dt,salespersonId:Oe,salespersonName:tt}:Dt)),u(gt=>gt.map(Dt=>Dt.sourceFileId===le?{...Dt,salespersonId:Oe}:Dt)),Oe?(W("map"),me(Oe),alert(`Arquivo e ${Ie.filter(gt=>gt.sourceFileId===le).length} clientes reatribudos para: ${tt}

Mapa filtrado automaticamente.`)):(me("Todos"),alert("Arquivo desmarcado. Clientes ficaram sem vendedor at que outro seja atribudo."))},ea=async(le,Oe)=>{const qe=crypto.randomUUID();Ot({isActive:!0,total:0,current:0,fileName:le.name,ownerName:"Sistema",status:"reading"});try{const tt=await Ire(le);if(tt.length===0)throw new Error("Arquivo vazio ou sem registros vlidos.");const gt=tt.reduce((Mt,Vt)=>{const St=Vt.cnpj?Vt.cnpj:(Vt.companyName||"").toLowerCase().trim();return Mt[St]||(Mt[St]=[]),Mt[St].push(Vt),Mt},{}),Dt=Object.keys(gt);Ot(Mt=>({...Mt,total:Dt.length,status:"processing"}));let Et=0;u(Mt=>{const Vt=[...Mt];return Dt.forEach((St,Xt)=>{Ot(ta=>({...ta,current:Xt+1}));const Zt=gt[St][0];let ai=-1;if(Zt.cnpj&&(ai=Vt.findIndex(ta=>(ta.cnpj||"").replace(/[.\-\/]/g,"")===Zt.cnpj)),ai===-1){const ta=(Zt.companyName||"").toLowerCase().trim();ai=Vt.findIndex(Ar=>(Ar.companyName||"").toLowerCase().trim()===ta)}if(ai!==-1){Et++;const Ar=gt[St].map(un=>{const si=d.find(ds=>un.sku&&ds.sku===un.sku||ds.name&&un.name&&(ds.name||"").toLowerCase().trim()===(un.name||"").toLowerCase().trim());return si?{...si,purchaseDate:un.purchaseDate,quantity:un.quantity,totalValue:un.totalValue}:{sku:un.sku||"N/A",name:un.name||"Produto Desconhecido",brand:"Desconhecido",category:"Manual",price:un.price||0,factoryCode:"",purchaseDate:un.purchaseDate,quantity:un.quantity,totalValue:un.totalValue}}),qa=Vt[ai].purchasedProducts||[],wa=Ar.filter(un=>!qa.some(si=>si.sku===un.sku&&si.purchaseDate===un.purchaseDate));wa.length>0&&(Vt[ai]={...Vt[ai],purchasedProducts:[...qa,...wa]})}}),Vt});const pt={id:qe,fileName:le.name,uploadDate:new Date().toISOString(),salespersonId:Oe,salespersonName:e.find(Mt=>Mt.id===Oe)?.name||"Vendedor",type:"purchases",itemCount:tt.length,status:"completed"};try{const Vt=`uploads/purchases/${new Date().getTime()}_${le.name}`;await kE(le,Vt).then(St=>{St&&(pt.storageUrl=St)})}catch(Mt){console.error("[APP] Failed to upload purchase file to Storage:",Mt)}b(Mt=>[pt,...Mt]),Ot({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(` Atualizao de Compras concluda!

${Et} clientes identificados e com histrico renovado.`)}catch(tt){console.error(tt),Ot(gt=>({...gt,status:"error",errorMessage:tt.message})),b(gt=>[...gt,{id:qe,fileName:le.name,uploadDate:new Date().toISOString(),salespersonId:Oe,salespersonName:e.find(Dt=>Dt.id===Oe)?.name||"Vendedor",type:"purchases",itemCount:0,status:"error",errorMessage:tt.message}])}},ln=async le=>{const Oe=crypto.randomUUID();Ot({isActive:!0,total:0,current:0,fileName:le.name,ownerName:"Sistema",status:"reading"});try{let qe=[];const tt=le.name.toLowerCase();if(tt.endsWith(".csv"))qe=await $U(le);else if(tt.endsWith(".xlsx")||tt.endsWith(".xls"))qe=await AB(le);else throw new Error("Formato no suportado.");if(qe.length===0)throw new Error("Arquivo vazio.");qe=qe.map(Dt=>({...Dt,sourceFileId:Oe}));const gt={id:Oe,fileName:le.name,uploadDate:new Date().toISOString(),salespersonId:"system",salespersonName:"Catlogo Geral",type:"products",itemCount:qe.length,status:"completed"};try{const Et=`uploads/products/${new Date().getTime()}_${le.name}`,pt=await kE(le,Et);pt&&(gt.storageUrl=pt)}catch(Dt){console.error("[APP] Failed to upload product file to Storage:",Dt)}b(Dt=>[gt,...Dt]),Ce(qe),Ot({isActive:!1,total:0,current:0,fileName:"",ownerName:"",status:"completed"}),alert(`${qe.length} produtos importados com sucesso.`)}catch(qe){console.error(qe),Ot(tt=>({...tt,status:"error",errorMessage:qe.message})),b(tt=>tt.map(gt=>gt.id===Oe?{...gt,status:"error",errorMessage:qe.message}:gt))}},cn="6LcyKmUsAAAAAC-uUPRRD2ZMZRJu_dBPUH5Gp4gm";if(console.log("[APP] reCAPTCHA Key Source:","FALLBACK"),console.log("[APP] reCAPTCHA Key (first 10 chars):",cn.substring(0,10)+"..."),console.log("[APP] Environment:","production"),!r)return g.jsx(B6,{reCaptchaKey:cn,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:g.jsx(GTe,{users:e,onLogin:ni})});const Pr=AA(r.role),rr=SA(r.role),nr=xe!=="Todos"||V!=="Todos"||X!=="";return S?g.jsxs(B6,{reCaptchaKey:cn,language:"pt-BR",scriptProps:{async:!0,defer:!0,appendTo:"body"},children:[g.jsxs("div",{className:"flex h-screen bg-gray-50 font-sans text-gray-800 overflow-hidden relative",children:[te&&g.jsx("div",{className:"absolute inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm transition-opacity",onClick:()=>re(!1),role:"button",tabIndex:0,"aria-label":"Fechar menu",onKeyDown:le=>le.key==="Escape"&&re(!1)}),g.jsxs("aside",{className:`
          w-72 bg-surface-container-low text-on-surface shadow-elevation-2 z-30 
          fixed md:relative h-full transition-transform duration-300 ease-in-out
          ${te?"translate-x-0":"-translate-x-full md:translate-x-0"}
          flex flex-col border-r border-outline-variant/30
        `,children:[g.jsxs("div",{className:"p-6 border-b border-outline-variant/30 flex items-center justify-between",children:[g.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[g.jsx(tE,{className:"w-6 h-6"}),"Rota de Vendas"]}),g.jsx("button",{onClick:()=>re(!1),className:"md:hidden text-on-surface-variant hover:text-primary",title:"Fechar menu lateral",children:g.jsx(Fa,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"px-6 py-2",children:g.jsx("p",{className:"text-xs font-medium text-on-surface-variant/80 uppercase tracking-wider",children:Pr?"Painel Administrativo":"Portal do Vendedor"})}),g.jsxs("div",{className:"p-4 flex-1 overflow-y-auto custom-scrollbar",children:[g.jsxs("div",{className:"bg-surface-container-highest rounded-2xl p-4 mb-6 border border-outline-variant/30 shadow-sm relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-primary/10 to-transparent rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),g.jsx("p",{className:"text-xs text-on-surface-variant uppercase font-bold tracking-wider mb-2 relative z-10",children:"Logado como"}),g.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[g.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-md overflow-hidden ${Pr?"bg-tertiary":"bg-secondary"}`,children:r.photoURL?g.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):g.jsx("span",{children:r.name.charAt(0)})}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"font-bold text-sm text-on-surface truncate",children:r.name}),g.jsx("p",{className:"text-xs text-on-surface-variant truncate opacity-80",children:r.email})]})]})]}),g.jsxs("nav",{className:"space-y-1 mb-8",children:[g.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Visualizao"}),g.jsxs("button",{onClick:()=>{va("map"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="map"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(aX,{className:`w-5 h-5 ${mt==="map"?"fill-current":""}`}),"Mapa da Carteira"]}),Pr&&g.jsxs("button",{onClick:()=>{W("dashboard"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="dashboard"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(tE,{className:`w-5 h-5 ${mt==="dashboard"?"fill-current":""}`}),"Dashboard Admin"]}),g.jsxs("button",{onClick:()=>{va("table"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="table"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(MX,{className:`w-5 h-5 ${mt==="table"?"fill-current":""}`}),"Listagem de Dados"]}),g.jsx("button",{onClick:()=>{va("history"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="history"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:"Histrico de Vendas"}),g.jsxs("button",{onClick:()=>{va("chat"),re(!1),Br&&qt(Br)},className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="chat"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(wA,{className:`w-5 h-5 ${mt==="chat"?"fill-current":""}`}),"Mensagens Internas"]}),Er>0&&mt!=="chat"&&g.jsx("div",{className:"bg-error text-white text-[10px] font-black h-5 w-5 rounded-full flex items-center justify-center animate-pulse shadow-sm",children:Er})]})]}),Pr&&g.jsxs("nav",{className:"space-y-1 mb-8",children:[g.jsx("p",{className:"px-3 text-xs font-bold text-on-surface-variant/60 uppercase mb-3 tracking-wider",children:"Administrao"}),g.jsxs("button",{onClick:()=>{W("admin_users"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="admin_users"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(qp,{className:`w-5 h-5 ${mt==="admin_users"?"fill-current":""}`}),"Gerenciar Usurios"]}),g.jsxs("button",{onClick:()=>{W("admin_categories"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="admin_categories"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(aU,{className:`w-5 h-5 ${mt==="admin_categories"?"fill-current":""}`}),"Categorias"]}),g.jsxs("button",{onClick:()=>{W("admin_products"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="admin_products"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(io,{className:`w-5 h-5 ${mt==="admin_products"?"fill-current":""}`}),"Produtos"]}),g.jsxs("button",{onClick:()=>{W("admin_files"),re(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 ${mt==="admin_files"?"bg-secondary-container text-on-secondary-container shadow-sm font-bold":"text-on-surface-variant hover:bg-surface-container-highest active:scale-95"}`,children:[g.jsx(Ap,{className:`w-5 h-5 ${mt==="admin_files"?"fill-current":""}`}),"Arquivos"]}),r?.role==="admin_dev"&&g.jsxs("button",{onClick:()=>{ri(!0),re(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-full transition-all duration-200 text-on-surface-variant hover:bg-surface-container-highest active:scale-95",children:[g.jsx(yA,{className:"w-5 h-5"}),"Backup & Cloud"]})]})]}),g.jsxs("div",{className:"p-4 border-t border-outline-variant/30 bg-surface-container-low",children:[g.jsxs("button",{onClick:Ga,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-bold text-error bg-error-container hover:bg-error-container/80 rounded-full transition-colors shadow-sm",title:"Encerrar sesso e sair do sistema",children:[g.jsx(rX,{className:"w-4 h-4 box-content"})," Sair do Sistema"]}),g.jsx("div",{className:"text-center mt-4",children:g.jsx("p",{className:"text-[10px] text-on-surface-variant opacity-60",children:"Verso 3.5.0 (MD3)"})})]})]}),g.jsxs("header",{className:"md:hidden fixed top-0 left-0 right-0 h-16 bg-surface-container-low shadow-sm z-10 flex items-center justify-between px-4 border-b border-outline-variant/30",children:[g.jsx("button",{onClick:()=>re(!0),className:"p-2 text-on-surface hover:bg-surface-container-highest rounded-full transition-colors",title:"Abrir menu",children:g.jsx(cX,{className:"w-6 h-6"})}),g.jsxs("span",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[g.jsx(tE,{className:"w-5 h-5"})," Rota de Vendas"]}),g.jsx("div",{className:"w-10"})," "]}),g.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden bg-surface transition-all duration-300 md:pt-0 pt-16",children:[!Pr&&mt==="table"&&g.jsx("button",{onClick:()=>nl(!0),className:"md:hidden fixed bottom-6 right-6 w-14 h-14 bg-primary text-on-primary rounded-2xl shadow-elevation-2 flex items-center justify-center z-50 animate-bounce-in",title:"Adicionar Novo Cliente",children:g.jsx(qp,{className:"w-6 h-6"})}),g.jsx(JTe,{isOpen:Xr,onClose:()=>ri(!1),onSaveToCloud:()=>{IS(c,d,m,e),alert(" Dados salvos na nuvem com sucesso!")},onClearDatabase:We,isFirebaseConnected:E}),g.jsx(eAe,{isOpen:xu,onClose:()=>_o(!1),onConfirm:Tr,suggestedKey:_u}),g.jsx(tAe,{isOpen:_a,onClose:()=>ba(!1),onConfirm:Ha}),g.jsx(XTe,{onAccept:()=>{console.log("Cookie consent accepted. Storage enabled.")},onDecline:()=>{console.warn("Cookie consent declined. Storage should be minimized.")}}),g.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 px-6 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[g.jsx("span",{children:"Portal"}),g.jsx(Q8,{className:"w-4 h-4"}),g.jsx("span",{className:"font-semibold text-blue-600",children:mt==="map"?"Mapa da Carteira":mt==="table"?"Listagem de Clientes":mt==="dashboard"?"Dashboard Administrativo":mt==="admin_categories"?"Categorias de Clientes":mt==="admin_products"?"Catlogo de Produtos":mt==="chat"?"Mensagens Internas":"Gesto de Usurios"})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs text-gray-400",children:Pr?"Clientes Visualizados":"Meus Clientes"}),g.jsx("p",{className:"text-lg font-bold leading-none",children:oe.length})]}),Pr&&g.jsxs("div",{className:"text-right border-l pl-6 border-gray-200",children:[g.jsx("p",{className:"text-xs text-gray-400",children:"Total Sistema"}),g.jsx("p",{className:"text-lg font-bold leading-none text-purple-600",children:c.length})]})]})]}),mt==="admin_users"&&Pr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(KTe,{currentUser:r,users:e,onAddUser:a,onUpdateUser:s,onDeleteUser:o,onCleanupDuplicates:se,totalClients:c.length})}):mt==="admin_categories"&&Pr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(WTe,{categories:m,onAddCategory:Re,onDeleteCategory:Ee})}):mt==="admin_products"&&Pr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(YTe,{products:d,onUploadProducts:Ce,onClearProducts:Ge,onSaveProducts:Ae,apiKey:wt})}):mt==="admin_files"&&Pr?g.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.jsx(ZTe,{users:e,uploadedFiles:x,onUploadClients:(le,Oe)=>Qi(le,Oe),onUploadProducts:ln,onUploadPurchases:ea,onDeleteFile:bo,onReassignSalesperson:ii,procState:ft})}):mt==="chat"&&r?g.jsx("div",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:g.jsx(F8e,{currentUser:r,allUsers:e,conversations:Gr,messages:It,activeUserId:Br,onSelectUser:le=>{_t(le),le&&qt(le)},onSendMessage:xr})}):mt==="dashboard"&&Pr?g.jsx("div",{className:"flex-1 overflow-hidden bg-surface",children:g.jsx(k8e,{clients:Ie,products:d,users:e,onClose:()=>va("map"),searchQuery:M,setSearchQuery:D,filterRegion:P,setFilterRegion:N,filterState:I,setFilterState:R,filterCity:U,setFilterCity:B,filterCategory:L,setFilterCategory:H,filterSalespersonId:fe,setFilterSalespersonId:me,filterSalesCategory:ne,setFilterSalesCategory:ue,filterCnae:ce,setFilterCnae:ie,filterProductCategory:xe,setFilterProductCategory:J,productCategories:Ye,startDate:ze,setStartDate:Fe,endDate:Je,setEndDate:et,availableStates:ge,availableCities:De,availableCnaes:K,categories:m,currentUser:r,isAdminUser:Pr,canViewAllData:rr})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-gray-100 px-3 py-2.5 border-b border-gray-200 flex flex-col gap-2",children:[g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[g.jsx(j2,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"Filtros:"})]}),g.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${rr?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${rr?"text-purple-600":"text-gray-500"}`,title:Pr?"Perfil Administrador":rr?"Perfil Gestor":"Perfil Vendedor",children:[rr?g.jsx(TA,{className:"w-3 h-3"}):g.jsx(Oa,{className:"w-3 h-3"}),Pr?"Admin":rr?"Gesto":"Vendedor"]}),g.jsxs("div",{className:"relative",children:[g.jsx(Oa,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${rr?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:rr?fe:r?.id||"",onChange:le=>rr&&me(le.target.value),disabled:!rr,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${rr?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:rr?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[rr&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),rr?e.filter(le=>le.role==="salesperson"||le.role==="sales_external"||le.role==="sales_internal").map(le=>g.jsx("option",{value:le.id,children:le.name},le.id)):g.jsx("option",{value:r?.id,children:r?.name})]})]}),rr&&g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(as,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:ne,onChange:le=>ue(le.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[g.jsx("option",{value:"Todos",children:"Todas Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),g.jsxs("select",{value:P,onChange:le=>{N(le.target.value),R("Todos"),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio geogrfica",children:[g.jsx("option",{value:"Todas",children:"Todas Regies"}),uh.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("select",{value:I,onChange:le=>{R(le.target.value),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ge.length===0,title:"Filtrar por estado (UF)",children:[g.jsxs("option",{value:"Todos",children:["Todos Estados ",P!=="Todas"?`(${P})`:""]}),ge.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("select",{value:U,onChange:le=>B(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5 min-w-[100px]",disabled:I==="Todos"||De.length===0,title:"Filtrar por cidade",children:[g.jsx("option",{value:"Todas",children:"Todas Cidades"}),De.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(to,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:L,onChange:le=>H(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[g.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),m.map(le=>g.jsx("option",{value:le,children:le},le))]})]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(as,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:ce,onChange:le=>ie(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[g.jsx("option",{value:"Todos",children:"Todos CNAEs"}),K.map(le=>g.jsx("option",{value:le,children:le.length>40?le.substring(0,40)+"...":le},le))]})]}),g.jsx(Q7,{startDate:ze,endDate:Je,onRangeChange:(le,Oe)=>{Fe(le),et(Oe)},label:"Perodo"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[g.jsx(io,{className:"w-4 h-4"}),"Vendas:"]}),g.jsxs("select",{value:xe,onChange:le=>J(le.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${xe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[g.jsx("option",{value:"Todos",children:"Todas Marcas / Categorias"}),Ye.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(to,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${V!=="Todos"?"text-green-600":"text-gray-400"}`}),g.jsxs("select",{value:V,onChange:le=>ee(le.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${V!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por produto especfico",children:[g.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(le=>xe==="Todos"||le.category===xe).sort((le,Oe)=>(le.name||"").localeCompare(Oe.name||"")).map(le=>g.jsxs("option",{value:le.sku,children:[le.name.substring(0,30),"... (",le.sku,")"]},le.sku))]})]}),g.jsxs("div",{className:"relative group/search",children:[g.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),g.jsx("input",{type:"text",value:X,onChange:le=>{q(le.target.value),ye(!0)},onFocus:()=>ye(!0),placeholder:"SKU, Marca, Cdigo ou Descrio...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-56 transition-colors ${X?"bg-green-50 border-green-300":"border-gray-300"}`,title:"Buscar produtos por SKU, Marca, Cdigo ou Descrio"}),he&&X.length>=2&&g.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto custom-scrollbar",children:(()=>{const le=d.filter(Oe=>{const qe=X.toLowerCase();return(Oe.name||"").toLowerCase().includes(qe)||(Oe.sku||"").toLowerCase().includes(qe)||(Oe.brand||"").toLowerCase().includes(qe)}).slice(0,8);return le.length===0?g.jsxs("div",{className:"p-3 text-xs text-gray-500 italic flex items-center gap-2",children:[g.jsx(qi,{className:"w-3 h-3 text-gray-400"}),"No Foi Encontrado"]}):le.map(Oe=>g.jsxs("button",{onClick:()=>{q(Oe.sku),ye(!1)},className:"w-full text-left px-3 py-2 text-xs hover:bg-green-50 flex flex-col border-b border-gray-50 last:border-0",children:[g.jsx("span",{className:"font-bold text-gray-800",children:Oe.name}),g.jsxs("span",{className:"text-[10px] text-gray-500 uppercase",children:[Oe.sku,"  ",Oe.brand]})]},Oe.sku))})()}),!he&&X&&Ie.length===0&&g.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 flex items-center gap-1.5 text-[10px] font-bold text-rose-500 animate-fade-in bg-rose-50 px-2 py-1 rounded border border-rose-100 italic",children:[g.jsx(qi,{className:"w-3 h-3"}),"No Foi Encontrado"]})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>Ke(!0),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${Ue?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-300 text-gray-600 hover:border-green-400 hover:text-green-700"}`,children:"Somente com Compras"}),g.jsx("button",{onClick:()=>Ke(!1),className:`text-[10px] uppercase tracking-wider font-bold px-3 py-1.5 rounded-lg border transition-all ${Ue?"bg-white border-gray-300 text-gray-600 hover:border-blue-400 hover:text-blue-700":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Mostrar Todos"}),Pr&&g.jsxs("button",{onClick:we,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[g.jsx(xA,{className:"w-3 h-3"})," Atualizar Base (CNPJa)"]})]}),nr&&g.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[g.jsx(nf,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]}),!nr&&g.jsx("span",{className:"ml-auto text-xs text-gray-400",children:d.length===0?"Nenhum produto cadastrado no admin.":`${d.length} produtos no catlogo.`})]}),g.jsx("div",{className:"flex justify-end",children:g.jsxs("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 px-2 py-0.5 rounded-lg",children:[Ie.length," resultados encontrados"]})})]}),g.jsx("div",{className:"flex-1 overflow-hidden p-1.5 bg-gray-100",children:oe.length===0&&!ft.isActive?g.jsx("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-xl border border-dashed border-gray-300",children:Pr?g.jsxs(g.Fragment,{children:[g.jsx(Ap,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Nenhum dado cadastrado."}),g.jsx("p",{className:"text-sm mt-1",children:"Selecione um vendedor ao lado e carregue a planilha de clientes."})]}):g.jsxs(g.Fragment,{children:[g.jsx(bA,{className:"w-12 h-12 mb-2 opacity-20"}),g.jsx("p",{className:"text-lg font-medium text-gray-500",children:"Carteira Vazia"}),g.jsx("p",{className:"text-sm mt-1 max-w-md text-center",children:"Seus clientes ainda no foram carregados pelo administrador. Solicite o cadastro da sua rota."})]})}):g.jsx("div",{className:"h-full bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative",children:mt==="map"?g.jsx(CTe,{clients:Ie,apiKey:$t,onInvalidKey:gr,productFilterActive:nr,highlightProductTerm:X,activeProductCategory:xe,users:e,filterContent:g.jsxs("div",{className:"bg-gray-100/95 backdrop-blur-sm px-3 py-2 flex flex-col gap-1.5",children:[g.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx("input",{type:"text",value:M,onChange:le=>D(le.target.value),placeholder:"Buscar cliente ou empresa...",className:"pl-9 pr-3 py-1.5 text-sm border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 w-48 border outline-none",title:"Buscar cliente ou empresa"})]}),g.jsx("div",{className:"h-5 w-px bg-gray-300 mx-0.5 hidden sm:block"}),g.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-lg border transition-colors ${rr?"bg-purple-50 border-purple-100":"bg-gray-50 border-gray-200"}`,children:[g.jsxs("span",{className:`text-[10px] font-bold uppercase tracking-wider flex items-center gap-1 ${rr?"text-purple-600":"text-gray-500"}`,children:[rr?g.jsx(TA,{className:"w-3 h-3"}):g.jsx(Oa,{className:"w-3 h-3"}),Pr?"Admin":rr?"Gesto":"Vendedor"]}),g.jsxs("div",{className:"relative",children:[g.jsx(Oa,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${rr?"text-purple-400":"text-gray-400"}`}),g.jsxs("select",{value:rr?fe:r?.id||"",onChange:le=>rr&&me(le.target.value),disabled:!rr,className:`text-xs rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium appearance-none ${rr?"border-purple-300 bg-white text-purple-900 cursor-pointer":"border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}`,title:rr?"Filtrar por vendedor":"Visualizao restrita aos seus clientes",children:[rr&&g.jsx("option",{value:"Todos",children:"Todos Vendedores"}),rr?e.filter(le=>le.role==="salesperson"||le.role==="sales_external"||le.role==="sales_internal").map(le=>g.jsx("option",{value:le.id,children:le.name},le.id)):g.jsx("option",{value:r?.id,children:r?.name})]})]}),rr&&g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(as,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-purple-400 pointer-events-none"}),g.jsxs("select",{value:ne,onChange:le=>ue(le.target.value),className:"text-xs border-purple-300 bg-white text-purple-900 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500 pl-7 pr-2 py-1 font-medium",title:"Filtrar por equipe de vendas",children:[g.jsx("option",{value:"Todos",children:"Todas Equipes"}),g.jsx("option",{value:"Externo",children:"Externo"}),g.jsx("option",{value:"Interno",children:"Interno"}),g.jsx("option",{value:"Mercado Livre",children:"Mercado Livre"})]})]})]}),g.jsxs("select",{value:P,onChange:le=>{N(le.target.value),R("Todos"),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",title:"Filtrar por regio",children:[g.jsx("option",{value:"Todas",children:"Todas Regies"}),uh.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("select",{value:I,onChange:le=>{R(le.target.value),B("Todas")},className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:ge.length===0,title:"Filtrar por estado",children:[g.jsx("option",{value:"Todos",children:"Todos Estados"}),ge.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("select",{value:U,onChange:le=>B(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 px-2 py-1.5",disabled:I==="Todos"||De.length===0,title:"Filtrar por cidade",children:[g.jsx("option",{value:"Todas",children:"Todas Cidades"}),De.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(to,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:L,onChange:le=>H(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5",title:"Filtrar por categoria de cliente",children:[g.jsx("option",{value:"Todos",children:"Todas Cat. Clientes"}),m.map(le=>g.jsx("option",{value:le,children:le},le))]})]}),g.jsxs("div",{className:"flex items-center gap-1 relative",children:[g.jsx(as,{className:"w-3.5 h-3.5 text-gray-400 absolute left-2 pointer-events-none"}),g.jsxs("select",{value:ce,onChange:le=>ie(le.target.value),className:"text-xs border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 pl-7 pr-2 py-1.5 max-w-[200px]",title:"Filtrar por CNAE (Atividade Econmica)",children:[g.jsx("option",{value:"Todos",children:"Todos CNAEs"}),K.map(le=>g.jsx("option",{value:le,children:le.length>40?le.substring(0,40)+"...":le},le))]})]}),Pr&&g.jsxs("button",{onClick:we,className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:shadow-lg transition-all text-[10px] font-bold uppercase tracking-wider ml-2",title:"Enriquecer toda a base com dados da Receita Federal via CNPJa Comercial",children:[g.jsx(xA,{className:"w-3.5 h-3.5"})," Atualizar Base (CNPJa)"]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 items-center bg-white border border-gray-200 px-2 py-1.5 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-center gap-2 px-2 text-sm font-semibold text-green-700",children:[g.jsx(io,{className:"w-4 h-4"}),"Vendas:"]}),g.jsxs("select",{value:xe,onChange:le=>J(le.target.value),className:`text-xs rounded-lg px-2 py-1.5 border transition-colors ${xe!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por marca ou categoria de produto",children:[g.jsx("option",{value:"Todos",children:"Todos Deptos / Marcas"}),Ye.map(le=>g.jsx("option",{value:le,children:le},le))]}),g.jsxs("div",{className:"relative animate-fade-in",children:[g.jsx(to,{className:`absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 pointer-events-none ${V!=="Todos"?"text-green-600":"text-gray-400"}`}),g.jsxs("select",{value:V,onChange:le=>ee(le.target.value),className:`text-xs rounded-lg pl-7 pr-2 py-1.5 border appearance-none transition-colors max-w-[180px] truncate ${V!=="Todos"?"bg-green-50 border-green-300 text-green-800 font-bold":"border-gray-300 text-gray-600"}`,title:"Filtrar por SKU do produto",children:[g.jsx("option",{value:"Todos",children:"Todos Produtos"}),d.filter(le=>xe==="Todos"||le.category===xe).sort((le,Oe)=>(le.name||"").localeCompare(Oe.name||"")).map(le=>g.jsxs("option",{value:le.sku,children:[le.name.substring(0,30),"... (",le.sku,")"]},le.sku))]})]}),g.jsxs("div",{className:"relative",children:[g.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-400"}),g.jsx("input",{type:"text",value:X,onChange:le=>q(le.target.value),placeholder:"Depto, Marca, SKU ou Produto...",className:`pl-7 pr-3 py-1.5 text-xs border rounded-lg focus:ring-green-500 focus:border-green-500 outline-none w-52 transition-colors ${X?"bg-green-50 border-green-300":"border-gray-300"}`})]}),g.jsxs("div",{className:"flex gap-1 ml-1",children:[g.jsx("button",{onClick:()=>Ke(!0),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${Ue?"bg-green-600 border-green-600 text-white shadow-sm":"bg-white border-gray-200 text-gray-500 hover:border-green-400 hover:text-green-600"}`,children:"Com Compras"}),g.jsx("button",{onClick:()=>Ke(!1),className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1.5 rounded-lg border transition-all ${Ue?"bg-white border-gray-200 text-gray-500 hover:border-blue-400 hover:text-blue-600":"bg-blue-600 border-blue-600 text-white shadow-sm"}`,children:"Todos"})]}),nr&&g.jsxs("span",{className:"ml-auto text-xs font-medium text-green-600 animate-pulse flex items-center gap-1",children:[g.jsx(nf,{className:"w-3 h-3"}),"Exibindo onde foi vendido"]})]})]})},`${wt}-${_r}`):mt==="table"?g.jsx(PTe,{clients:Ie,onUpdateClient:Xe,onAddClient:ot,currentUserRole:r?.role,currentUserId:r?.id,currentUserName:r?.name,products:d,productCategories:Ye,filterOnlyWithPurchases:Ue,setFilterOnlyWithPurchases:Ke,resetFilters:ht,users:e,uploadedFiles:x,onGeneratePlusCodes:He,onCNPJAuthError:()=>ba(!0)}):mt==="history"?g.jsx(D8e,{clients:Ie,users:e,startDate:ze,endDate:Je,onRangeChange:(le,Oe)=>{Fe(le),et(Oe)}}):null})})]}),ft.isActive&&g.jsxs("div",{className:"absolute bottom-6 right-6 z-50 w-80 bg-white rounded-lg shadow-2xl border border-gray-200 overflow-hidden animate-slide-up",children:[g.jsx("div",{className:`h-1.5 w-full ${ft.status==="error"?"bg-red-200":"bg-blue-100"}`,children:g.jsx("div",{className:`h-full transition-all duration-300 ${ft.status==="completed"?"bg-green-500 w-full":ft.status==="error"?"bg-red-500 w-full":"bg-blue-600"}`,style:{width:ft.total>0?`${ft.current/ft.total*100}%`:"0%"}})}),g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsxs("h4",{className:"text-sm font-bold text-gray-800 flex items-center gap-2",children:[ft.status==="completed"&&g.jsx(nf,{className:"w-4 h-4 text-green-500"}),ft.status==="processing"&&g.jsx(zc,{className:"w-4 h-4 text-blue-500 animate-spin"}),ft.status==="error"&&g.jsx(qi,{className:"w-4 h-4 text-red-500"}),ft.status==="reading"?"Lendo Arquivo...":ft.status==="processing"?"Processando Planilha":ft.status==="completed"?"Processamento Concludo":"Erro no Processamento"]}),g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ft.fileName," ",g.jsx("span",{className:"mx-1",children:""})," ",ft.ownerName]})]}),g.jsx("button",{onClick:()=>{ft.isActive&&ft.status==="processing"?window.confirm("Gostaria de Parar de Enviar o Arquivo?")&&(Pn.current=!0,Ot(le=>({...le,isActive:!1,status:"error",errorMessage:"Cancelado pelo usurio."}))):Ot(le=>({...le,isActive:!1}))},className:"text-gray-400 hover:text-gray-600",title:"Fechar Notificao",children:g.jsx(Fa,{className:"w-4 h-4"})})]}),ft.status==="processing"&&g.jsxs("div",{className:"mt-3",children:[g.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[g.jsx("span",{children:"Progresso (IA + Maps)"}),g.jsxs("span",{className:"font-mono",children:[ft.current," / ",ft.total]})]}),g.jsx("p",{className:"text-[10px] text-gray-400",children:"Voc pode continuar usando o sistema."})]}),ft.status==="error"&&g.jsx("p",{className:"mt-2 text-xs text-red-600 bg-red-50 p-2 rounded border border-red-100",children:ft.errorMessage})]})]})]})]}),g.jsx(M8e,{isOpen:_i.isOpen,onClose:()=>$a(le=>({...le,isOpen:!1})),onConfirm:_i.onConfirm,title:_i.title,message:_i.message,type:_i.type,confirmLabel:_i.confirmLabel,cancelLabel:_i.cancelLabel})]}):g.jsx(rAe,{progress:F,message:k})};class U8e extends Ir.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-6 font-sans",children:g.jsxs("div",{className:"max-w-xl w-full bg-white rounded-xl shadow-lg p-8 border border-red-200",children:[g.jsxs("div",{className:"flex items-center gap-4 text-red-600 mb-6",children:[g.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:g.jsx(qi,{className:"w-8 h-8"})}),g.jsx("h1",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."})]}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Ocorreu um erro inesperado ao processar os dados."}),g.jsx("div",{className:"bg-gray-900 text-gray-200 p-4 rounded-lg overflow-x-auto text-sm font-mono mb-6",children:this.state.error?.toString()}),g.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Recarregar Pgina"})]})}):this.props.children}}const cW=document.getElementById("root");if(!cW)throw new Error("Could not find root element to mount to");const B8e=XY.createRoot(cW);B8e.render(g.jsx(Ir.StrictMode,{children:g.jsx(U8e,{children:g.jsx(j8e,{})})}));
